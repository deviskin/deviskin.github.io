var AJe=Object.defineProperty,IJe=Object.defineProperties,PJe=Object.getOwnPropertyDescriptors,joe=Object.getOwnPropertySymbols,OJe=Object.prototype.hasOwnProperty,RJe=Object.prototype.propertyIsEnumerable,$oe=(qo,De,Ct)=>De in qo?AJe(qo,De,{enumerable:!0,configurable:!0,writable:!0,value:Ct}):qo[De]=Ct,$o=(qo,De)=>{for(var Ct in De||(De={}))OJe.call(De,Ct)&&$oe(qo,Ct,De[Ct]);if(joe)for(var Ct of joe(De))RJe.call(De,Ct)&&$oe(qo,Ct,De[Ct]);return qo},Bx=(qo,De)=>IJe(qo,PJe(De));(self.webpackChunkscheduler13night=self.webpackChunkscheduler13night||[]).push([[179],{723:(qo,De,Ct)=>{"use strict";var Be={};function le(l){return"function"==typeof l}function be(l){const o=l(c=>{Error.call(c),c.stack=(new Error).stack});return o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o}Ct.r(Be),Ct.d(Be,{Adder:()=>js,Delaunay:()=>uO,FormatSpecifier:()=>b2,InternMap:()=>S1,InternSet:()=>pp,Node:()=>Np,Voronoi:()=>cZ,ZoomTransform:()=>Nu,active:()=>xIe,arc:()=>eF,area:()=>iF,areaRadial:()=>MJ,ascending:()=>us,autoType:()=>uPe,axisBottom:()=>uEe,axisLeft:()=>hEe,axisRight:()=>cEe,axisTop:()=>lEe,bin:()=>aq,bisect:()=>dp,bisectCenter:()=>fDe,bisectLeft:()=>dDe,bisectRight:()=>$$,bisector:()=>wS,blob:()=>BPe,brush:()=>RIe,brushSelection:()=>IIe,brushX:()=>PIe,brushY:()=>OIe,buffer:()=>zPe,chord:()=>LIe,chordDirected:()=>BIe,chordTranspose:()=>NIe,cluster:()=>iRe,color:()=>Ec,contourDensity:()=>u3e,contours:()=>NY,count:()=>SS,create:()=>cBe,creator:()=>RS,cross:()=>_De,csv:()=>GPe,csvFormat:()=>J3e,csvFormatBody:()=>ePe,csvFormatRow:()=>nPe,csvFormatRows:()=>tPe,csvFormatValue:()=>iPe,csvParse:()=>pZ,csvParseRows:()=>Q3e,cubehelix:()=>Ic,cumsum:()=>yDe,curveBasis:()=>Db,curveBasisClosed:()=>UBe,curveBasisOpen:()=>HBe,curveBumpX:()=>sF,curveBumpY:()=>EJ,curveBundle:()=>GBe,curveCardinal:()=>WBe,curveCardinalClosed:()=>jBe,curveCardinalOpen:()=>$Be,curveCatmullRom:()=>qBe,curveCatmullRomClosed:()=>YBe,curveCatmullRomOpen:()=>ZBe,curveLinear:()=>wT,curveLinearClosed:()=>XBe,curveMonotoneX:()=>KBe,curveMonotoneY:()=>QBe,curveNatural:()=>fF,curveStep:()=>JBe,curveStepAfter:()=>e5e,curveStepBefore:()=>pF,descending:()=>bDe,deviation:()=>Y$,difference:()=>XDe,disjoint:()=>KDe,dispatch:()=>m0,drag:()=>uZ,dragDisable:()=>FS,dragEnable:()=>LS,dsv:()=>HPe,dsvFormat:()=>g2,easeBack:()=>wZ,easeBackIn:()=>OPe,easeBackInOut:()=>wZ,easeBackOut:()=>RPe,easeBounce:()=>Z1,easeBounceIn:()=>IPe,easeBounceInOut:()=>PPe,easeBounceOut:()=>Z1,easeCircle:()=>CZ,easeCircleIn:()=>xPe,easeCircleInOut:()=>CZ,easeCircleOut:()=>CPe,easeCubic:()=>g4,easeCubicIn:()=>gIe,easeCubicInOut:()=>g4,easeCubicOut:()=>mIe,easeElastic:()=>SZ,easeElasticIn:()=>FPe,easeElasticInOut:()=>LPe,easeElasticOut:()=>SZ,easeExp:()=>xZ,easeExpIn:()=>yPe,easeExpInOut:()=>xZ,easeExpOut:()=>bPe,easeLinear:()=>dPe,easePoly:()=>vZ,easePolyIn:()=>gPe,easePolyInOut:()=>vZ,easePolyOut:()=>mPe,easeQuad:()=>mZ,easeQuadIn:()=>fPe,easeQuadInOut:()=>mZ,easeQuadOut:()=>pPe,easeSin:()=>bZ,easeSinIn:()=>vPe,easeSinInOut:()=>bZ,easeSinOut:()=>_Pe,every:()=>WDe,extent:()=>fp,fcumsum:()=>CDe,filter:()=>$De,flatGroup:()=>wDe,flatRollup:()=>SDe,forceCenter:()=>KPe,forceCollide:()=>m4e,forceLink:()=>_4e,forceManyBody:()=>D4e,forceRadial:()=>E4e,forceSimulation:()=>M4e,forceX:()=>k4e,forceY:()=>A4e,format:()=>C2,formatDefaultLocale:()=>NZ,formatLocale:()=>LZ,formatPrefix:()=>CO,formatSpecifier:()=>z0,fsum:()=>xDe,geoAlbers:()=>KX,geoAlbersUsa:()=>FOe,geoArea:()=>z4e,geoAzimuthalEqualArea:()=>LOe,geoAzimuthalEqualAreaRaw:()=>aR,geoAzimuthalEquidistant:()=>NOe,geoAzimuthalEquidistantRaw:()=>lR,geoBounds:()=>W4e,geoCentroid:()=>X4e,geoCircle:()=>K4e,geoClipAntimeridian:()=>zO,geoClipCircle:()=>yX,geoClipExtent:()=>rOe,geoClipRectangle:()=>G2,geoConicConformal:()=>VOe,geoConicConformalRaw:()=>eK,geoConicEqualArea:()=>tT,geoConicEqualAreaRaw:()=>XX,geoConicEquidistant:()=>UOe,geoConicEquidistantRaw:()=>tK,geoContains:()=>hOe,geoDistance:()=>$2,geoEqualEarth:()=>GOe,geoEqualEarthRaw:()=>cR,geoEquirectangular:()=>zOe,geoEquirectangularRaw:()=>ub,geoGnomonic:()=>WOe,geoGnomonicRaw:()=>uR,geoGraticule:()=>kX,geoGraticule10:()=>dOe,geoIdentity:()=>jOe,geoInterpolate:()=>fOe,geoLength:()=>bX,geoMercator:()=>BOe,geoMercatorRaw:()=>cb,geoNaturalEarth1:()=>$Oe,geoNaturalEarth1Raw:()=>hR,geoOrthographic:()=>qOe,geoOrthographicRaw:()=>dR,geoPath:()=>TOe,geoProjection:()=>Lu,geoProjectionMutator:()=>sR,geoRotation:()=>hX,geoStereographic:()=>YOe,geoStereographicRaw:()=>fR,geoStream:()=>Rc,geoTransform:()=>MOe,geoTransverseMercator:()=>ZOe,geoTransverseMercatorRaw:()=>pR,gray:()=>ZIe,greatest:()=>VDe,greatestIndex:()=>zDe,group:()=>Q$,groupSort:()=>DDe,groups:()=>J$,hcl:()=>e2,hierarchy:()=>gR,histogram:()=>aq,hsl:()=>BS,html:()=>ZPe,image:()=>jPe,index:()=>TDe,indexes:()=>MDe,interpolate:()=>Ld,interpolateArray:()=>rAe,interpolateBasis:()=>Vq,interpolateBasisClosed:()=>zq,interpolateBlues:()=>WNe,interpolateBrBG:()=>wNe,interpolateBuGn:()=>PNe,interpolateBuPu:()=>ONe,interpolateCividis:()=>XNe,interpolateCool:()=>JNe,interpolateCubehelix:()=>iFe,interpolateCubehelixDefault:()=>KNe,interpolateCubehelixLong:()=>uT,interpolateDate:()=>$q,interpolateDiscrete:()=>qRe,interpolateGnBu:()=>RNe,interpolateGreens:()=>jNe,interpolateGreys:()=>$Ne,interpolateHcl:()=>tFe,interpolateHclLong:()=>nFe,interpolateHsl:()=>QRe,interpolateHslLong:()=>JRe,interpolateHue:()=>YRe,interpolateInferno:()=>aBe,interpolateLab:()=>eFe,interpolateMagma:()=>oBe,interpolateNumber:()=>$l,interpolateNumberArray:()=>i4,interpolateObject:()=>qq,interpolateOrRd:()=>FNe,interpolateOranges:()=>ZNe,interpolatePRGn:()=>SNe,interpolatePiYG:()=>TNe,interpolatePlasma:()=>lBe,interpolatePuBu:()=>NNe,interpolatePuBuGn:()=>LNe,interpolatePuOr:()=>MNe,interpolatePuRd:()=>BNe,interpolatePurples:()=>qNe,interpolateRainbow:()=>eBe,interpolateRdBu:()=>DNe,interpolateRdGy:()=>ENe,interpolateRdPu:()=>VNe,interpolateRdYlBu:()=>kNe,interpolateRdYlGn:()=>ANe,interpolateReds:()=>YNe,interpolateRgb:()=>R1,interpolateRgbBasis:()=>Gq,interpolateRgbBasisClosed:()=>iAe,interpolateRound:()=>cT,interpolateSinebow:()=>iBe,interpolateSpectral:()=>INe,interpolateString:()=>o4,interpolateTransformCss:()=>rY,interpolateTransformSvg:()=>sY,interpolateTurbo:()=>rBe,interpolateViridis:()=>sBe,interpolateWarm:()=>QNe,interpolateYlGn:()=>UNe,interpolateYlGnBu:()=>zNe,interpolateYlOrBr:()=>HNe,interpolateYlOrRd:()=>GNe,interpolateZoom:()=>bK,interrupt:()=>_p,intersection:()=>QDe,interval:()=>_5e,isoFormat:()=>p5e,isoParse:()=>v5e,json:()=>qPe,lab:()=>JS,lch:()=>XIe,least:()=>BDe,leastIndex:()=>hq,line:()=>Nc,lineRadial:()=>TJ,link:()=>ST,linkHorizontal:()=>kBe,linkRadial:()=>IBe,linkVertical:()=>ABe,local:()=>yJ,map:()=>qDe,matcher:()=>qP,max:()=>MS,maxIndex:()=>cq,mean:()=>IDe,median:()=>PDe,merge:()=>WP,min:()=>DS,minIndex:()=>uq,mode:()=>RDe,namespace:()=>A1,namespaces:()=>ZP,nice:()=>oq,now:()=>V1,pack:()=>ARe,packEnclose:()=>iK,packSiblings:()=>ERe,pairs:()=>FDe,partition:()=>IRe,path:()=>bp,permute:()=>rq,pie:()=>SBe,piecewise:()=>SK,pointRadial:()=>Mb,pointer:()=>ol,pointers:()=>hBe,polygonArea:()=>sFe,polygonCentroid:()=>oFe,polygonContains:()=>uFe,polygonHull:()=>cFe,polygonLength:()=>hFe,precisionFixed:()=>BZ,precisionPrefix:()=>VZ,precisionRound:()=>zZ,quadtree:()=>_2,quantile:()=>E1,quantileSorted:()=>lq,quantize:()=>rFe,quickselect:()=>GP,radialArea:()=>MJ,radialLine:()=>TJ,randomBates:()=>gFe,randomBernoulli:()=>_Fe,randomBeta:()=>EK,randomBinomial:()=>kK,randomCauchy:()=>bFe,randomExponential:()=>mFe,randomGamma:()=>wR,randomGeometric:()=>DK,randomInt:()=>fFe,randomIrwinHall:()=>MK,randomLcg:()=>TFe,randomLogNormal:()=>pFe,randomLogistic:()=>xFe,randomNormal:()=>CR,randomPareto:()=>vFe,randomPoisson:()=>CFe,randomUniform:()=>dFe,randomWeibull:()=>yFe,range:()=>sl,rank:()=>NDe,reduce:()=>YDe,reverse:()=>ZDe,rgb:()=>Ih,ribbon:()=>E4,ribbonArrow:()=>qIe,rollup:()=>tq,rollups:()=>nq,scaleBand:()=>MR,scaleDiverging:()=>GQ,scaleDivergingLog:()=>WQ,scaleDivergingPow:()=>QR,scaleDivergingSqrt:()=>dNe,scaleDivergingSymlog:()=>jQ,scaleIdentity:()=>RK,scaleImplicit:()=>SR,scaleLinear:()=>Z0,scaleLog:()=>VK,scaleOrdinal:()=>TR,scalePoint:()=>MFe,scalePow:()=>PR,scaleQuantile:()=>$K,scaleQuantize:()=>qK,scaleRadial:()=>jK,scaleSequential:()=>VQ,scaleSequentialLog:()=>zQ,scaleSequentialPow:()=>KR,scaleSequentialQuantile:()=>HQ,scaleSequentialSqrt:()=>hNe,scaleSequentialSymlog:()=>UQ,scaleSqrt:()=>BFe,scaleSymlog:()=>HK,scaleThreshold:()=>YK,scaleTime:()=>cNe,scaleUtc:()=>uNe,scan:()=>UDe,schemeAccent:()=>pNe,schemeBlues:()=>fJ,schemeBrBG:()=>$Q,schemeBuGn:()=>tJ,schemeBuPu:()=>nJ,schemeCategory10:()=>fNe,schemeDark2:()=>gNe,schemeGnBu:()=>iJ,schemeGreens:()=>pJ,schemeGreys:()=>gJ,schemeOrRd:()=>rJ,schemeOranges:()=>_J,schemePRGn:()=>qQ,schemePaired:()=>mNe,schemePastel1:()=>vNe,schemePastel2:()=>_Ne,schemePiYG:()=>YQ,schemePuBu:()=>oJ,schemePuBuGn:()=>sJ,schemePuOr:()=>ZQ,schemePuRd:()=>aJ,schemePurples:()=>mJ,schemeRdBu:()=>XQ,schemeRdGy:()=>KQ,schemeRdPu:()=>lJ,schemeRdYlBu:()=>QQ,schemeRdYlGn:()=>JQ,schemeReds:()=>vJ,schemeSet1:()=>yNe,schemeSet2:()=>bNe,schemeSet3:()=>xNe,schemeSpectral:()=>eJ,schemeTableau10:()=>CNe,schemeYlGn:()=>uJ,schemeYlGnBu:()=>cJ,schemeYlOrBr:()=>hJ,schemeYlOrRd:()=>dJ,select:()=>Es,selectAll:()=>dBe,selection:()=>v0,selector:()=>PS,selectorAll:()=>$P,shuffle:()=>dq,shuffler:()=>fq,some:()=>jDe,sort:()=>NP,stack:()=>i5e,stackOffsetDiverging:()=>s5e,stackOffsetExpand:()=>r5e,stackOffsetNone:()=>ev,stackOffsetSilhouette:()=>o5e,stackOffsetWiggle:()=>a5e,stackOrderAppearance:()=>ree,stackOrderAscending:()=>see,stackOrderDescending:()=>c5e,stackOrderInsideOut:()=>u5e,stackOrderNone:()=>tv,stackOrderReverse:()=>h5e,stratify:()=>FRe,style:()=>gp,subset:()=>eEe,sum:()=>HDe,superset:()=>mq,svg:()=>XPe,symbol:()=>zBe,symbolAsterisk:()=>kJ,symbolCircle:()=>TT,symbolCross:()=>AJ,symbolDiamond:()=>PJ,symbolDiamond2:()=>OJ,symbolPlus:()=>RJ,symbolSquare:()=>FJ,symbolSquare2:()=>LJ,symbolStar:()=>BJ,symbolTriangle:()=>VJ,symbolTriangle2:()=>zJ,symbolWye:()=>UJ,symbolX:()=>HJ,symbols:()=>GJ,symbolsFill:()=>GJ,symbolsStroke:()=>VBe,text:()=>v2,thresholdFreedmanDiaconis:()=>kDe,thresholdScott:()=>ADe,thresholdSturges:()=>HP,tickFormat:()=>OK,tickIncrement:()=>M1,tickStep:()=>g0,ticks:()=>p0,timeDay:()=>_b,timeDays:()=>HFe,timeFormat:()=>YR,timeFormatDefaultLocale:()=>BQ,timeFormatLocale:()=>CQ,timeFriday:()=>rQ,timeFridays:()=>qFe,timeHour:()=>VR,timeHours:()=>UFe,timeInterval:()=>Ys,timeMillisecond:()=>NR,timeMilliseconds:()=>XK,timeMinute:()=>BR,timeMinutes:()=>zFe,timeMonday:()=>yb,timeMondays:()=>GFe,timeMonth:()=>zR,timeMonths:()=>ZFe,timeParse:()=>NQ,timeSaturday:()=>sQ,timeSaturdays:()=>YFe,timeSecond:()=>Yd,timeSeconds:()=>QK,timeSunday:()=>X0,timeSundays:()=>oQ,timeThursday:()=>Up,timeThursdays:()=>$Fe,timeTickInterval:()=>xQ,timeTicks:()=>bQ,timeTuesday:()=>nQ,timeTuesdays:()=>WFe,timeWednesday:()=>iQ,timeWednesdays:()=>jFe,timeWeek:()=>X0,timeWeeks:()=>oQ,timeYear:()=>Zd,timeYears:()=>XFe,timeout:()=>l4,timer:()=>WS,timerFlush:()=>Kq,transition:()=>lY,transpose:()=>pq,tree:()=>HRe,treemap:()=>GRe,treemapBinary:()=>WRe,treemapDice:()=>mb,treemapResquarify:()=>$Re,treemapSlice:()=>lT,treemapSliceDice:()=>jRe,treemapSquarify:()=>_K,tsv:()=>WPe,tsvFormat:()=>sPe,tsvFormatBody:()=>oPe,tsvFormatRow:()=>lPe,tsvFormatRows:()=>aPe,tsvFormatValue:()=>cPe,tsvParse:()=>gZ,tsvParseRows:()=>rPe,union:()=>tEe,utcDay:()=>bb,utcDays:()=>JFe,utcFormat:()=>pT,utcFriday:()=>fQ,utcFridays:()=>rLe,utcHour:()=>GR,utcHours:()=>QFe,utcMillisecond:()=>NR,utcMilliseconds:()=>XK,utcMinute:()=>HR,utcMinutes:()=>KFe,utcMonday:()=>xb,utcMondays:()=>eLe,utcMonth:()=>WR,utcMonths:()=>oLe,utcParse:()=>ZR,utcSaturday:()=>pQ,utcSaturdays:()=>sLe,utcSecond:()=>Yd,utcSeconds:()=>QK,utcSunday:()=>K0,utcSundays:()=>gQ,utcThursday:()=>Gp,utcThursdays:()=>iLe,utcTickInterval:()=>yQ,utcTicks:()=>_Q,utcTuesday:()=>hQ,utcTuesdays:()=>tLe,utcWednesday:()=>dQ,utcWednesdays:()=>nLe,utcWeek:()=>K0,utcWeeks:()=>gQ,utcYear:()=>Xd,utcYears:()=>aLe,variance:()=>q$,window:()=>XP,xml:()=>YPe,zip:()=>gq,zoom:()=>T5e,zoomIdentity:()=>PT,zoomTransform:()=>lee});const ne=be(l=>function(o){l(this),this.message=o?`${o.length} errors occurred during unsubscription:\n${o.map((c,u)=>`${u+1}) ${c.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=o});function me(l,a){if(l){const o=l.indexOf(a);0<=o&&l.splice(o,1)}}class Pe{constructor(a){this.initialTeardown=a,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let a;if(!this.closed){this.closed=!0;const{_parentage:o}=this;if(o)if(this._parentage=null,Array.isArray(o))for(const h of o)h.remove(this);else o.remove(this);const{initialTeardown:c}=this;if(le(c))try{c()}catch(h){a=h instanceof ne?h.errors:[h]}const{_teardowns:u}=this;if(u){this._teardowns=null;for(const h of u)try{Le(h)}catch(d){a=null!=a?a:[],d instanceof ne?a=[...a,...d.errors]:a.push(d)}}if(a)throw new ne(a)}}add(a){var o;if(a&&a!==this)if(this.closed)Le(a);else{if(a instanceof Pe){if(a.closed||a._hasParent(this))return;a._addParent(this)}(this._teardowns=null!==(o=this._teardowns)&&void 0!==o?o:[]).push(a)}}_hasParent(a){const{_parentage:o}=this;return o===a||Array.isArray(o)&&o.includes(a)}_addParent(a){const{_parentage:o}=this;this._parentage=Array.isArray(o)?(o.push(a),o):o?[o,a]:a}_removeParent(a){const{_parentage:o}=this;o===a?this._parentage=null:Array.isArray(o)&&me(o,a)}remove(a){const{_teardowns:o}=this;o&&me(o,a),a instanceof Pe&&a._removeParent(this)}}Pe.EMPTY=(()=>{const l=new Pe;return l.closed=!0,l})();const Ne=Pe.EMPTY;function Re(l){return l instanceof Pe||l&&"closed"in l&&le(l.remove)&&le(l.add)&&le(l.unsubscribe)}function Le(l){le(l)?l():l.unsubscribe()}const oe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ce={setTimeout(...l){const{delegate:a}=Ce;return((null==a?void 0:a.setTimeout)||setTimeout)(...l)},clearTimeout(l){const{delegate:a}=Ce;return((null==a?void 0:a.clearTimeout)||clearTimeout)(l)},delegate:void 0};function Te(l){Ce.setTimeout(()=>{const{onUnhandledError:a}=oe;if(!a)throw l;a(l)})}function se(){}const fe=_t("C",void 0,void 0);function _t(l,a,o){return{kind:l,value:a,error:o}}let We=null;function Ot(l){if(oe.useDeprecatedSynchronousErrorHandling){const a=!We;if(a&&(We={errorThrown:!1,error:null}),l(),a){const{errorThrown:o,error:c}=We;if(We=null,o)throw c}}else l()}class qt extends Pe{constructor(a){super(),this.isStopped=!1,a?(this.destination=a,Re(a)&&a.add(this)):this.destination=mt}static create(a,o,c){return new ht(a,o,c)}next(a){this.isStopped?Ee(function ze(l){return _t("N",l,void 0)}(a),this):this._next(a)}error(a){this.isStopped?Ee(function _e(l){return _t("E",void 0,l)}(a),this):(this.isStopped=!0,this._error(a))}complete(){this.isStopped?Ee(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(a){this.destination.next(a)}_error(a){try{this.destination.error(a)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class ht extends qt{constructor(a,o,c){let u;if(super(),le(a))u=a;else if(a){let h;({next:u,error:o,complete:c}=a),this&&oe.useDeprecatedNextContext?(h=Object.create(a),h.unsubscribe=()=>this.unsubscribe()):h=a,u=null==u?void 0:u.bind(h),o=null==o?void 0:o.bind(h),c=null==c?void 0:c.bind(h)}this.destination={next:u?jt(u):se,error:jt(null!=o?o:Bn),complete:c?jt(c):se}}}function jt(l,a){return(...o)=>{try{l(...o)}catch(c){oe.useDeprecatedSynchronousErrorHandling?function St(l){oe.useDeprecatedSynchronousErrorHandling&&We&&(We.errorThrown=!0,We.error=l)}(c):Te(c)}}}function Bn(l){throw l}function Ee(l,a){const{onStoppedNotification:o}=oe;o&&Ce.setTimeout(()=>o(l,a))}const mt={closed:!0,next:se,error:Bn,complete:se},X="function"==typeof Symbol&&Symbol.observable||"@@observable";function yt(l){return l}let dn=(()=>{class l{constructor(o){o&&(this._subscribe=o)}lift(o){const c=new l;return c.source=this,c.operator=o,c}subscribe(o,c,u){const h=function st(l){return l&&l instanceof qt||function Wn(l){return l&&le(l.next)&&le(l.error)&&le(l.complete)}(l)&&Re(l)}(o)?o:new ht(o,c,u);return Ot(()=>{const{operator:d,source:f}=this;h.add(d?d.call(h,f):f?this._subscribe(h):this._trySubscribe(h))}),h}_trySubscribe(o){try{return this._subscribe(o)}catch(c){o.error(c)}}forEach(o,c){return new(c=Gt(c))((u,h)=>{const d=new ht({next:f=>{try{o(f)}catch(p){h(p),d.unsubscribe()}},error:h,complete:u});this.subscribe(d)})}_subscribe(o){var c;return null===(c=this.source)||void 0===c?void 0:c.subscribe(o)}[X](){return this}pipe(...o){return function Vt(l){return 0===l.length?yt:1===l.length?l[0]:function(o){return l.reduce((c,u)=>u(c),o)}}(o)(this)}toPromise(o){return new(o=Gt(o))((c,u)=>{let h;this.subscribe(d=>h=d,d=>u(d),()=>c(h))})}}return l.create=a=>new l(a),l})();function Gt(l){var a;return null!==(a=null!=l?l:oe.Promise)&&void 0!==a?a:Promise}const tt=be(l=>function(){l(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pt=(()=>{class l extends dn{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(o){const c=new un(this,this);return c.operator=o,c}_throwIfClosed(){if(this.closed)throw new tt}next(o){Ot(()=>{if(this._throwIfClosed(),!this.isStopped){const c=this.observers.slice();for(const u of c)u.next(o)}})}error(o){Ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=o;const{observers:c}=this;for(;c.length;)c.shift().error(o)}})}complete(){Ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:o}=this;for(;o.length;)o.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var o;return(null===(o=this.observers)||void 0===o?void 0:o.length)>0}_trySubscribe(o){return this._throwIfClosed(),super._trySubscribe(o)}_subscribe(o){return this._throwIfClosed(),this._checkFinalizedStatuses(o),this._innerSubscribe(o)}_innerSubscribe(o){const{hasError:c,isStopped:u,observers:h}=this;return c||u?Ne:(h.push(o),new Pe(()=>me(h,o)))}_checkFinalizedStatuses(o){const{hasError:c,thrownError:u,isStopped:h}=this;c?o.error(u):h&&o.complete()}asObservable(){const o=new dn;return o.source=this,o}}return l.create=(a,o)=>new un(a,o),l})();class un extends pt{constructor(a,o){super(),this.destination=a,this.source=o}next(a){var o,c;null===(c=null===(o=this.destination)||void 0===o?void 0:o.next)||void 0===c||c.call(o,a)}error(a){var o,c;null===(c=null===(o=this.destination)||void 0===o?void 0:o.error)||void 0===c||c.call(o,a)}complete(){var a,o;null===(o=null===(a=this.destination)||void 0===a?void 0:a.complete)||void 0===o||o.call(a)}_subscribe(a){var o,c;return null!==(c=null===(o=this.source)||void 0===o?void 0:o.subscribe(a))&&void 0!==c?c:Ne}}function Qt(l){return le(null==l?void 0:l.lift)}function ci(l){return a=>{if(Qt(a))return a.lift(function(o){try{return l(o,this)}catch(c){this.error(c)}});throw new TypeError("Unable to lift unknown Observable type")}}class Ti extends qt{constructor(a,o,c,u,h){super(a),this.onFinalize=h,this._next=o?function(d){try{o(d)}catch(f){a.error(f)}}:super._next,this._error=u?function(d){try{u(d)}catch(f){a.error(f)}finally{this.unsubscribe()}}:super._error,this._complete=c?function(){try{c()}catch(d){a.error(d)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var a;const{closed:o}=this;super.unsubscribe(),!o&&(null===(a=this.onFinalize)||void 0===a||a.call(this))}}function an(l,a){return ci((o,c)=>{let u=0;o.subscribe(new Ti(c,h=>{c.next(l.call(a,h,u++))}))})}function ns(l,a,o,c){var d,u=arguments.length,h=u<3?a:null===c?c=Object.getOwnPropertyDescriptor(a,o):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(l,a,o,c);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(h=(u<3?d(h):u>3?d(a,o,h):d(a,o))||h);return u>3&&h&&Object.defineProperty(a,o,h),h}function Ht(l){return this instanceof Ht?(this.v=l,this):new Ht(l)}function Rn(l,a,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,c=o.apply(l,a||[]),h=[];return u={},d("next"),d("throw"),d("return"),u[Symbol.asyncIterator]=function(){return this},u;function d(_){c[_]&&(u[_]=function(y){return new Promise(function(b,C){h.push([_,y,b,C])>1||f(_,y)})})}function f(_,y){try{!function p(_){_.value instanceof Ht?Promise.resolve(_.value.v).then(g,m):v(h[0][2],_)}(c[_](y))}catch(b){v(h[0][3],b)}}function g(_){f("next",_)}function m(_){f("throw",_)}function v(_,y){_(y),h.shift(),h.length&&f(h[0][0],h[0][1])}}function Ri(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,a=l[Symbol.asyncIterator];return a?a.call(l):(l=function Dt(l){var a="function"==typeof Symbol&&Symbol.iterator,o=a&&l[a],c=0;if(o)return o.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&c>=l.length&&(l=void 0),{value:l&&l[c++],done:!l}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o);function c(h){o[h]=l[h]&&function(d){return new Promise(function(f,p){!function u(h,d,f,p){Promise.resolve(p).then(function(g){h({value:g,done:f})},d)}(f,p,(d=l[h](d)).done,d.value)})}}}const Of=l=>l&&"number"==typeof l.length&&"function"!=typeof l;function Pl(l){return le(null==l?void 0:l.then)}function C_(l){return le(l[X])}function Vx(l){return Symbol.asyncIterator&&le(null==l?void 0:l[Symbol.asyncIterator])}function zx(l){return new TypeError(`You provided ${null!==l&&"object"==typeof l?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const w_=function gE(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ld(l){return le(null==l?void 0:l[w_])}function Rf(l){return Rn(this,arguments,function*(){const o=l.getReader();try{for(;;){const{value:c,done:u}=yield Ht(o.read());if(u)return yield Ht(void 0);yield yield Ht(c)}}finally{o.releaseLock()}})}function c8(l){return le(null==l?void 0:l.getReader)}function rc(l){if(l instanceof dn)return l;if(null!=l){if(C_(l))return function qoe(l){return new dn(a=>{const o=l[X]();if(le(o.subscribe))return o.subscribe(a);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(l);if(Of(l))return function Yoe(l){return new dn(a=>{for(let o=0;o<l.length&&!a.closed;o++)a.next(l[o]);a.complete()})}(l);if(Pl(l))return function Zoe(l){return new dn(a=>{l.then(o=>{a.closed||(a.next(o),a.complete())},o=>a.error(o)).then(null,Te)})}(l);if(Vx(l))return u8(l);if(ld(l))return function Xoe(l){return new dn(a=>{for(const o of l)if(a.next(o),a.closed)return;a.complete()})}(l);if(c8(l))return function Koe(l){return u8(Rf(l))}(l)}throw zx(l)}function u8(l){return new dn(a=>{(function Qoe(l,a){var o,c,u,h;return function ct(l,a,o,c){return new(o||(o=Promise))(function(h,d){function f(m){try{g(c.next(m))}catch(v){d(v)}}function p(m){try{g(c.throw(m))}catch(v){d(v)}}function g(m){m.done?h(m.value):function u(h){return h instanceof o?h:new o(function(d){d(h)})}(m.value).then(f,p)}g((c=c.apply(l,a||[])).next())})}(this,void 0,void 0,function*(){try{for(o=Ri(l);!(c=yield o.next()).done;)if(a.next(c.value),a.closed)return}catch(d){u={error:d}}finally{try{c&&!c.done&&(h=o.return)&&(yield h.call(o))}finally{if(u)throw u.error}}a.complete()})})(l,a).catch(o=>a.error(o))})}function oh(l,a,o,c=0,u=!1){const h=a.schedule(function(){o(),u?l.add(this.schedule(null,c)):this.unsubscribe()},c);if(l.add(h),!u)return h}function Bs(l,a,o=1/0){return le(a)?Bs((c,u)=>an((h,d)=>a(c,h,u,d))(rc(l(c,u))),o):("number"==typeof a&&(o=a),ci((c,u)=>function Joe(l,a,o,c,u,h,d,f){const p=[];let g=0,m=0,v=!1;const _=()=>{v&&!p.length&&!g&&a.complete()},y=C=>g<c?b(C):p.push(C),b=C=>{h&&a.next(C),g++;let x=!1;rc(o(C,m++)).subscribe(new Ti(a,w=>{null==u||u(w),h?y(w):a.next(w)},()=>{x=!0},void 0,()=>{if(x)try{for(g--;p.length&&g<c;){const w=p.shift();d?oh(a,d,()=>b(w)):b(w)}_()}catch(w){a.error(w)}}))};return l.subscribe(new Ti(a,y,()=>{v=!0,_()})),()=>{null==f||f()}}(c,u,l,o)))}function S_(l=1/0){return Bs(yt,l)}const ah=new dn(l=>l.complete());function mE(l){return l[l.length-1]}function h8(l){return le(mE(l))?l.pop():void 0}function T_(l){return function tae(l){return l&&le(l.schedule)}(mE(l))?l.pop():void 0}function d8(l,a=0){return ci((o,c)=>{o.subscribe(new Ti(c,u=>oh(c,l,()=>c.next(u),a),()=>oh(c,l,()=>c.complete(),a),u=>oh(c,l,()=>c.error(u),a)))})}function f8(l,a=0){return ci((o,c)=>{c.add(l.schedule(()=>o.subscribe(c),a))})}function p8(l,a){if(!l)throw new Error("Iterable cannot be null");return new dn(o=>{oh(o,a,()=>{const c=l[Symbol.asyncIterator]();oh(o,a,()=>{c.next().then(u=>{u.done?o.complete():o.next(u.value)})},0,!0)})})}function Js(l,a){return a?function lae(l,a){if(null!=l){if(C_(l))return function iae(l,a){return rc(l).pipe(f8(a),d8(a))}(l,a);if(Of(l))return function sae(l,a){return new dn(o=>{let c=0;return a.schedule(function(){c===l.length?o.complete():(o.next(l[c++]),o.closed||this.schedule())})})}(l,a);if(Pl(l))return function rae(l,a){return rc(l).pipe(f8(a),d8(a))}(l,a);if(Vx(l))return p8(l,a);if(ld(l))return function oae(l,a){return new dn(o=>{let c;return oh(o,a,()=>{c=l[w_](),oh(o,a,()=>{let u,h;try{({value:u,done:h}=c.next())}catch(d){return void o.error(d)}h?o.complete():o.next(u)},0,!0)}),()=>le(null==c?void 0:c.return)&&c.return()})}(l,a);if(c8(l))return function aae(l,a){return p8(Rf(l),a)}(l,a)}throw zx(l)}(l,a):rc(l)}function Pg(l){return l<=0?()=>ah:ci((a,o)=>{let c=0;a.subscribe(new Ti(o,u=>{++c<=l&&(o.next(u),l<=c&&o.complete())}))})}function vE(l,a,...o){return!0===a?(l(),null):!1===a?null:a(...o).pipe(Pg(1)).subscribe(()=>l())}function Cr(l){for(let a in l)if(l[a]===Cr)return a;throw Error("Could not find renamed property on target object.")}function _E(l,a){for(const o in a)a.hasOwnProperty(o)&&!l.hasOwnProperty(o)&&(l[o]=a[o])}function dr(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(dr).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const a=l.toString();if(null==a)return""+a;const o=a.indexOf("\n");return-1===o?a:a.substring(0,o)}function yE(l,a){return null==l||""===l?null===a?"":a:null==a||""===a?l:l+" "+a}const hae=Cr({__forward_ref__:Cr});function Mr(l){return l.__forward_ref__=Mr,l.toString=function(){return dr(this())},l}function ui(l){return g8(l)?l():l}function g8(l){return"function"==typeof l&&l.hasOwnProperty(hae)&&l.__forward_ref__===Mr}class Ui extends Error{constructor(a,o){super(function bE(l,a){return`NG0${Math.abs(l)}${a?": "+a:""}`}(a,o)),this.code=a}}function ti(l){return"string"==typeof l?l:null==l?"":String(l)}function Yo(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():ti(l)}function Ux(l,a){const o=a?` in ${a}`:"";throw new Ui(-201,`No provider for ${Yo(l)} found${o}`)}function ja(l,a){null==l&&function Ir(l,a,o,c){throw new Error(`ASSERTION ERROR: ${l}`+(null==c?"":` [Expected=> ${o} ${c} ${a} <=Actual]`))}(a,l,null,"!=")}function Ze(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function _n(l){return{providers:l.providers||[],imports:l.imports||[]}}function xE(l){return m8(l,Hx)||m8(l,_8)}function m8(l,a){return l.hasOwnProperty(a)?l[a]:null}function v8(l){return l&&(l.hasOwnProperty(CE)||l.hasOwnProperty(_ae))?l[CE]:null}const Hx=Cr({\u0275prov:Cr}),CE=Cr({\u0275inj:Cr}),_8=Cr({ngInjectableDef:Cr}),_ae=Cr({ngInjectorDef:Cr});var si=(()=>((si=si||{})[si.Default=0]="Default",si[si.Host=1]="Host",si[si.Self=2]="Self",si[si.SkipSelf=4]="SkipSelf",si[si.Optional=8]="Optional",si))();let wE;function cd(l){const a=wE;return wE=l,a}function y8(l,a,o){const c=xE(l);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&si.Optional?null:void 0!==a?a:void Ux(dr(l),"Injector")}function ud(l){return{toString:l}.toString()}var sc=(()=>((sc=sc||{})[sc.OnPush=0]="OnPush",sc[sc.Default=1]="Default",sc))(),oc=(()=>{return(l=oc||(oc={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",oc;var l})();const bae="undefined"!=typeof globalThis&&globalThis,xae="undefined"!=typeof window&&window,Cae="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_r=bae||"undefined"!=typeof global&&global||xae||Cae,Og={},wr=[],Gx=Cr({\u0275cmp:Cr}),SE=Cr({\u0275dir:Cr}),TE=Cr({\u0275pipe:Cr}),b8=Cr({\u0275mod:Cr}),ch=Cr({\u0275fac:Cr}),M_=Cr({__NG_ELEMENT_ID__:Cr});let wae=0;function nt(l){return ud(()=>{const o={},c={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===sc.OnPush,directiveDefs:null,pipeDefs:null,selectors:l.selectors||wr,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||oc.Emulated,id:"c",styles:l.styles||wr,_:null,setInput:null,schemas:l.schemas||null,tView:null},u=l.directives,h=l.features,d=l.pipes;return c.id+=wae++,c.inputs=S8(l.inputs,o),c.outputs=S8(l.outputs),h&&h.forEach(f=>f(c)),c.directiveDefs=u?()=>("function"==typeof u?u():u).map(x8):null,c.pipeDefs=d?()=>("function"==typeof d?d():d).map(C8):null,c})}function ME(l,a,o){const c=l.\u0275cmp;c.directiveDefs=()=>a.map(x8),c.pipeDefs=()=>o.map(C8)}function x8(l){return wo(l)||function hd(l){return l[SE]||null}(l)}function C8(l){return function Ff(l){return l[TE]||null}(l)}const w8={};function Cn(l){return ud(()=>{const a={type:l.type,bootstrap:l.bootstrap||wr,declarations:l.declarations||wr,imports:l.imports||wr,exports:l.exports||wr,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(w8[l.id]=l.type),a})}function S8(l,a){if(null==l)return Og;const o={};for(const c in l)if(l.hasOwnProperty(c)){let u=l[c],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=c,a&&(a[u]=h)}return o}const gt=nt;function Ta(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,onDestroy:l.type.prototype.ngOnDestroy||null}}function wo(l){return l[Gx]||null}function Ol(l,a){const o=l[b8]||null;if(!o&&!0===a)throw new Error(`Type ${dr(l)} does not have '\u0275mod' property.`);return o}function eu(l){return Array.isArray(l)&&"object"==typeof l[1]}function lc(l){return Array.isArray(l)&&!0===l[1]}function kE(l){return 0!=(8&l.flags)}function qx(l){return 2==(2&l.flags)}function Yx(l){return 1==(1&l.flags)}function cc(l){return null!==l.template}function Eae(l){return 0!=(512&l[2])}function Vf(l,a){return l.hasOwnProperty(ch)?l[ch]:null}class Iae{constructor(a,o,c){this.previousValue=a,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function Vs(){return M8}function M8(l){return l.type.prototype.ngOnChanges&&(l.setInput=Oae),Pae}function Pae(){const l=E8(this),a=null==l?void 0:l.current;if(a){const o=l.previous;if(o===Og)l.previous=a;else for(let c in a)o[c]=a[c];l.current=null,this.ngOnChanges(a)}}function Oae(l,a,o,c){const u=E8(l)||function Rae(l,a){return l[D8]=a}(l,{previous:Og,current:null}),h=u.current||(u.current={}),d=u.previous,f=this.declaredInputs[o],p=d[f];h[f]=new Iae(p&&p.currentValue,a,d===Og),l[c]=a}Vs.ngInherit=!0;const D8="__ngSimpleChanges__";function E8(l){return l[D8]||null}let RE;function rs(l){return!!l.listen}const k8={createRenderer:(l,a)=>function FE(){return void 0!==RE?RE:"undefined"!=typeof document?document:void 0}()};function Cs(l){for(;Array.isArray(l);)l=l[0];return l}function Zx(l,a){return Cs(a[l])}function Ll(l,a){return Cs(a[l.index])}function LE(l,a){return l.data[a]}function Bg(l,a){return l[a]}function qa(l,a){const o=a[l];return eu(o)?o:o[0]}function A8(l){return 4==(4&l[2])}function NE(l){return 128==(128&l[2])}function dd(l,a){return null==a?null:l[a]}function I8(l){l[18]=0}function BE(l,a){l[5]+=a;let o=l,c=l[3];for(;null!==c&&(1===a&&1===o[5]||-1===a&&0===o[5]);)c[5]+=a,o=c,c=c[3]}const Yn={lFrame:V8(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function P8(){return Yn.bindingsEnabled}function It(){return Yn.lFrame.lView}function Hi(){return Yn.lFrame.tView}function dt(l){return Yn.lFrame.contextLView=l,l[8]}function zs(){let l=O8();for(;null!==l&&64===l.type;)l=l.parent;return l}function O8(){return Yn.lFrame.currentTNode}function tu(l,a){const o=Yn.lFrame;o.currentTNode=l,o.isParent=a}function VE(){return Yn.lFrame.isParent}function zE(){Yn.lFrame.isParent=!1}function Xx(){return Yn.isInCheckNoChangesMode}function Kx(l){Yn.isInCheckNoChangesMode=l}function Zo(){const l=Yn.lFrame;let a=l.bindingRootIndex;return-1===a&&(a=l.bindingRootIndex=l.tView.bindingStartIndex),a}function uh(){return Yn.lFrame.bindingIndex}function Vg(){return Yn.lFrame.bindingIndex++}function hh(l){const a=Yn.lFrame,o=a.bindingIndex;return a.bindingIndex=a.bindingIndex+l,o}function Kae(l,a){const o=Yn.lFrame;o.bindingIndex=o.bindingRootIndex=l,UE(a)}function UE(l){Yn.lFrame.currentDirectiveIndex=l}function L8(){return Yn.lFrame.currentQueryIndex}function GE(l){Yn.lFrame.currentQueryIndex=l}function Jae(l){const a=l[1];return 2===a.type?a.declTNode:1===a.type?l[6]:null}function N8(l,a,o){if(o&si.SkipSelf){let u=a,h=l;for(;!(u=u.parent,null!==u||o&si.Host||(u=Jae(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;a=u,l=h}const c=Yn.lFrame=B8();return c.currentTNode=a,c.lView=l,!0}function Qx(l){const a=B8(),o=l[1];Yn.lFrame=a,a.currentTNode=o.firstChild,a.lView=l,a.tView=o,a.contextLView=l,a.bindingIndex=o.bindingStartIndex,a.inI18n=!1}function B8(){const l=Yn.lFrame,a=null===l?null:l.child;return null===a?V8(l):a}function V8(l){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=a),a}function z8(){const l=Yn.lFrame;return Yn.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const U8=z8;function Jx(){const l=z8();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Xo(){return Yn.lFrame.selectedIndex}function fd(l){Yn.lFrame.selectedIndex=l}function ss(){const l=Yn.lFrame;return LE(l.tView,l.selectedIndex)}function zg(){Yn.lFrame.currentNamespace="svg"}function eC(l,a){for(let o=a.directiveStart,c=a.directiveEnd;o<c;o++){const h=l.data[o].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:f,ngAfterViewInit:p,ngAfterViewChecked:g,ngOnDestroy:m}=h;d&&(l.contentHooks||(l.contentHooks=[])).push(-o,d),f&&((l.contentHooks||(l.contentHooks=[])).push(o,f),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(o,f)),p&&(l.viewHooks||(l.viewHooks=[])).push(-o,p),g&&((l.viewHooks||(l.viewHooks=[])).push(o,g),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(o,g)),null!=m&&(l.destroyHooks||(l.destroyHooks=[])).push(o,m)}}function tC(l,a,o){G8(l,a,3,o)}function nC(l,a,o,c){(3&l[2])===o&&G8(l,a,o,c)}function WE(l,a){let o=l[2];(3&o)===a&&(o&=2047,o+=1,l[2]=o)}function G8(l,a,o,c){const h=null!=c?c:-1,d=a.length-1;let f=0;for(let p=void 0!==c?65535&l[18]:0;p<d;p++)if("number"==typeof a[p+1]){if(f=a[p],null!=c&&f>=c)break}else a[p]<0&&(l[18]+=65536),(f<h||-1==h)&&(ole(l,o,a,p),l[18]=(4294901760&l[18])+p+2),p++}function ole(l,a,o,c){const u=o[c]<0,h=o[c+1],f=l[u?-o[c]:o[c]];if(u){if(l[2]>>11<l[18]>>16&&(3&l[2])===a){l[2]+=2048;try{h.call(f)}finally{}}}else try{h.call(f)}finally{}}class I_{constructor(a,o,c){this.factory=a,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function iC(l,a,o){const c=rs(l);let u=0;for(;u<o.length;){const h=o[u];if("number"==typeof h){if(0!==h)break;u++;const d=o[u++],f=o[u++],p=o[u++];c?l.setAttribute(a,f,p,d):a.setAttributeNS(d,f,p)}else{const d=h,f=o[++u];$E(d)?c&&l.setProperty(a,d,f):c?l.setAttribute(a,d,f):a.setAttribute(d,f),u++}}return u}function W8(l){return 3===l||4===l||6===l}function $E(l){return 64===l.charCodeAt(0)}function rC(l,a){if(null!==a&&0!==a.length)if(null===l||0===l.length)l=a.slice();else{let o=-1;for(let c=0;c<a.length;c++){const u=a[c];"number"==typeof u?o=u:0===o||j8(l,o,u,null,-1===o||2===o?a[++c]:null)}}return l}function j8(l,a,o,c,u){let h=0,d=l.length;if(-1===a)d=-1;else for(;h<l.length;){const f=l[h++];if("number"==typeof f){if(f===a){d=-1;break}if(f>a){d=h-1;break}}}for(;h<l.length;){const f=l[h];if("number"==typeof f)break;if(f===o){if(null===c)return void(null!==u&&(l[h+1]=u));if(c===l[h+1])return void(l[h+2]=u)}h++,null!==c&&h++,null!==u&&h++}-1!==d&&(l.splice(d,0,a),h=d+1),l.splice(h++,0,o),null!==c&&l.splice(h++,0,c),null!==u&&l.splice(h++,0,u)}function $8(l){return-1!==l}function Ug(l){return 32767&l}function Hg(l,a){let o=function hle(l){return l>>16}(l),c=a;for(;o>0;)c=c[15],o--;return c}let qE=!0;function sC(l){const a=qE;return qE=l,a}let dle=0;function O_(l,a){const o=ZE(l,a);if(-1!==o)return o;const c=a[1];c.firstCreatePass&&(l.injectorIndex=a.length,YE(c.data,l),YE(a,null),YE(c.blueprint,null));const u=oC(l,a),h=l.injectorIndex;if($8(u)){const d=Ug(u),f=Hg(u,a),p=f[1].data;for(let g=0;g<8;g++)a[h+g]=f[d+g]|p[d+g]}return a[h+8]=u,h}function YE(l,a){l.push(0,0,0,0,0,0,0,0,a)}function ZE(l,a){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===a[l.injectorIndex+8]?-1:l.injectorIndex}function oC(l,a){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let o=0,c=null,u=a;for(;null!==u;){const h=u[1],d=h.type;if(c=2===d?h.declTNode:1===d?u[6]:null,null===c)return-1;if(o++,u=u[15],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return-1}function aC(l,a,o){!function fle(l,a,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(M_)&&(c=o[M_]),null==c&&(c=o[M_]=dle++);const u=255&c;a.data[l+(u>>5)]|=1<<u}(l,a,o)}function Z8(l,a,o){if(o&si.Optional)return l;Ux(a,"NodeInjector")}function X8(l,a,o,c){if(o&si.Optional&&void 0===c&&(c=null),0==(o&(si.Self|si.Host))){const u=l[9],h=cd(void 0);try{return u?u.get(a,c,o&si.Optional):y8(a,c,o&si.Optional)}finally{cd(h)}}return Z8(c,a,o)}function K8(l,a,o,c=si.Default,u){if(null!==l){const h=function vle(l){if("string"==typeof l)return l.charCodeAt(0)||0;const a=l.hasOwnProperty(M_)?l[M_]:void 0;return"number"==typeof a?a>=0?255&a:gle:a}(o);if("function"==typeof h){if(!N8(a,l,c))return c&si.Host?Z8(u,o,c):X8(a,o,c,u);try{const d=h(c);if(null!=d||c&si.Optional)return d;Ux(o)}finally{U8()}}else if("number"==typeof h){let d=null,f=ZE(l,a),p=-1,g=c&si.Host?a[16][6]:null;for((-1===f||c&si.SkipSelf)&&(p=-1===f?oC(l,a):a[f+8],-1!==p&&e6(c,!1)?(d=a[1],f=Ug(p),a=Hg(p,a)):f=-1);-1!==f;){const m=a[1];if(J8(h,f,m.data)){const v=mle(f,a,o,d,c,g);if(v!==Q8)return v}p=a[f+8],-1!==p&&e6(c,a[1].data[f+8]===g)&&J8(h,f,a)?(d=m,f=Ug(p),a=Hg(p,a)):f=-1}}}return X8(a,o,c,u)}const Q8={};function gle(){return new Gg(zs(),It())}function mle(l,a,o,c,u,h){const d=a[1],f=d.data[l+8],m=lC(f,d,o,null==c?qx(f)&&qE:c!=d&&0!=(3&f.type),u&si.Host&&h===f);return null!==m?R_(a,d,m,f):Q8}function lC(l,a,o,c,u){const h=l.providerIndexes,d=a.data,f=1048575&h,p=l.directiveStart,m=h>>20,_=u?f+m:l.directiveEnd;for(let y=c?f:f+m;y<_;y++){const b=d[y];if(y<p&&o===b||y>=p&&b.type===o)return y}if(u){const y=d[p];if(y&&cc(y)&&y.type===o)return p}return null}function R_(l,a,o,c){let u=l[o];const h=a.data;if(function ale(l){return l instanceof I_}(u)){const d=u;d.resolving&&function dae(l,a){const o=a?`. Dependency path: ${a.join(" > ")} > ${l}`:"";throw new Ui(-200,`Circular dependency in DI detected for ${l}${o}`)}(Yo(h[o]));const f=sC(d.canSeeViewProviders);d.resolving=!0;const p=d.injectImpl?cd(d.injectImpl):null;N8(l,c,si.Default);try{u=l[o]=d.factory(void 0,h,l,c),a.firstCreatePass&&o>=c.directiveStart&&function sle(l,a,o){const{ngOnChanges:c,ngOnInit:u,ngDoCheck:h}=a.type.prototype;if(c){const d=M8(a);(o.preOrderHooks||(o.preOrderHooks=[])).push(l,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l,d)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-l,u),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l,h))}(o,h[o],a)}finally{null!==p&&cd(p),sC(f),d.resolving=!1,U8()}}return u}function J8(l,a,o){return!!(o[a+(l>>5)]&1<<l)}function e6(l,a){return!(l&si.Self||l&si.Host&&a)}class Gg{constructor(a,o){this._tNode=a,this._lView=o}get(a,o,c){return K8(this._tNode,this._lView,a,c,o)}}function $r(l){return ud(()=>{const a=l.prototype.constructor,o=a[ch]||XE(a),c=Object.prototype;let u=Object.getPrototypeOf(l.prototype).constructor;for(;u&&u!==c;){const h=u[ch]||XE(u);if(h&&h!==o)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function XE(l){return g8(l)?()=>{const a=XE(ui(l));return a&&a()}:Vf(l)}function Wg(l){return function ple(l,a){if("class"===a)return l.classes;if("style"===a)return l.styles;const o=l.attrs;if(o){const c=o.length;let u=0;for(;u<c;){const h=o[u];if(W8(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<c&&"string"==typeof o[u];)u++;else{if(h===a)return o[u+1];u+=2}}}return null}(zs(),l)}const $g="__parameters__";function Yg(l,a,o){return ud(()=>{const c=function KE(l){return function(...o){if(l){const c=l(...o);for(const u in c)this[u]=c[u]}}}(a);function u(...h){if(this instanceof u)return c.apply(this,h),this;const d=new u(...h);return f.annotation=d,f;function f(p,g,m){const v=p.hasOwnProperty($g)?p[$g]:Object.defineProperty(p,$g,{value:[]})[$g];for(;v.length<=m;)v.push(null);return(v[m]=v[m]||[]).push(d),p}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=l,u.annotationCls=u,u})}class Un{constructor(a,o){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ze({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const yle=new Un("AnalyzeForEntryComponents"),cC=Function;function Nl(l,a){void 0===a&&(a=l);for(let o=0;o<l.length;o++){let c=l[o];Array.isArray(c)?(a===l&&(a=l.slice(0,o)),Nl(c,a)):a!==l&&a.push(c)}return a}function nu(l,a){l.forEach(o=>Array.isArray(o)?nu(o,a):a(o))}function n6(l,a,o){a>=l.length?l.push(o):l.splice(a,0,o)}function uC(l,a){return a>=l.length-1?l.pop():l.splice(a,1)[0]}function N_(l,a){const o=[];for(let c=0;c<l;c++)o.push(a);return o}function Ya(l,a,o){let c=Zg(l,a);return c>=0?l[1|c]=o:(c=~c,function Cle(l,a,o,c){let u=l.length;if(u==a)l.push(o,c);else if(1===u)l.push(c,l[0]),l[0]=o;else{for(u--,l.push(l[u-1],l[u]);u>a;)l[u]=l[u-2],u--;l[a]=o,l[a+1]=c}}(l,c,a,o)),c}function QE(l,a){const o=Zg(l,a);if(o>=0)return l[1|o]}function Zg(l,a){return function s6(l,a,o){let c=0,u=l.length>>o;for(;u!==c;){const h=c+(u-c>>1),d=l[h<<o];if(a===d)return h<<o;d>a?u=h:c=h+1}return~(u<<o)}(l,a,1)}const B_={},ek="__NG_DI_FLAG__",dC="ngTempTokenPath",kle=/\n/gm,a6="__source",Ile=Cr({provide:String,useValue:Cr});let V_;function l6(l){const a=V_;return V_=l,a}function Ple(l,a=si.Default){if(void 0===V_)throw new Ui(203,"");return null===V_?y8(l,void 0,a):V_.get(l,a&si.Optional?null:void 0,a)}function Fe(l,a=si.Default){return(function yae(){return wE}()||Ple)(ui(l),a)}function tk(l){const a=[];for(let o=0;o<l.length;o++){const c=ui(l[o]);if(Array.isArray(c)){if(0===c.length)throw new Ui(900,"");let u,h=si.Default;for(let d=0;d<c.length;d++){const f=c[d],p=Ole(f);"number"==typeof p?-1===p?u=f.token:h|=p:u=f}a.push(Fe(u,h))}else a.push(Fe(c))}return a}function z_(l,a){return l[ek]=a,l.prototype[ek]=a,l}function Ole(l){return l[ek]}const U_=z_(Yg("Inject",l=>({token:l})),-1),Za=z_(Yg("Optional"),8),dh=z_(Yg("SkipSelf"),4);function gd(l){return l instanceof class v6{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?l.changingThisBreaksApplicationSecurity:l}const D6="__ngContext__";function To(l,a){l[D6]=a}function hk(l){const a=function $_(l){return l[D6]||null}(l);return a?Array.isArray(a)?a:a.lView:null}function fk(l){return l.ngOriginalError}function Tce(l,...a){l.error(...a)}class Qg{constructor(){this._console=console}handleError(a){const o=this._findOriginalError(a),c=function Sce(l){return l&&l.ngErrorLogger||Tce}(a);c(this._console,"ERROR",a),o&&c(this._console,"ORIGINAL ERROR",o)}_findOriginalError(a){let o=a&&fk(a);for(;o&&fk(o);)o=fk(o);return o||null}}const P6=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_r))();function _C(l){return l.ownerDocument.defaultView}function q_(l){return l.ownerDocument}function O6(l){return l.ownerDocument.body}function ru(l){return l instanceof Function?l():l}var Xa=(()=>((Xa=Xa||{})[Xa.Important=1]="Important",Xa[Xa.DashCase=2]="DashCase",Xa))();function gk(l,a){return undefined(l,a)}function Y_(l){const a=l[3];return lc(a)?a[3]:a}function mk(l){return B6(l[13])}function vk(l){return B6(l[4])}function B6(l){for(;null!==l&&!lc(l);)l=l[4];return l}function em(l,a,o,c,u){if(null!=c){let h,d=!1;lc(c)?h=c:eu(c)&&(d=!0,c=c[0]);const f=Cs(c);0===l&&null!==o?null==u?W6(a,o,f):zf(a,o,f,u||null,!0):1===l&&null!==o?zf(a,o,f,u||null,!0):2===l?function K6(l,a,o){const c=yC(l,a);c&&function jce(l,a,o,c){rs(l)?l.removeChild(a,o,c):a.removeChild(o)}(l,c,a,o)}(a,f,d):3===l&&a.destroyNode(f),null!=h&&function Yce(l,a,o,c,u){const h=o[7];h!==Cs(o)&&em(a,l,c,h,u);for(let f=10;f<o.length;f++){const p=o[f];Z_(p[1],p,l,a,c,h)}}(a,l,h,o,u)}}function yk(l,a,o){if(rs(l))return l.createElement(a,o);{const c=null!==o?function Bae(l){const a=l.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(o):null;return null===c?l.createElement(a):l.createElementNS(c,a)}}function z6(l,a){const o=l[9],c=o.indexOf(a),u=a[3];1024&a[2]&&(a[2]&=-1025,BE(u,-1)),o.splice(c,1)}function bk(l,a){if(l.length<=10)return;const o=10+a,c=l[o];if(c){const u=c[17];null!==u&&u!==l&&z6(u,c),a>0&&(l[o-1][4]=c[4]);const h=uC(l,10+a);!function Nce(l,a){Z_(l,a,a[11],2,null,null),a[0]=null,a[6]=null}(c[1],c);const d=h[19];null!==d&&d.detachView(h[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function U6(l,a){if(!(256&a[2])){const o=a[11];rs(o)&&o.destroyNode&&Z_(l,a,o,3,null,null),function zce(l){let a=l[13];if(!a)return xk(l[1],l);for(;a;){let o=null;if(eu(a))o=a[13];else{const c=a[10];c&&(o=c)}if(!o){for(;a&&!a[4]&&a!==l;)eu(a)&&xk(a[1],a),a=a[3];null===a&&(a=l),eu(a)&&xk(a[1],a),o=a&&a[4]}a=o}}(a)}}function xk(l,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function Wce(l,a){let o;if(null!=l&&null!=(o=l.destroyHooks))for(let c=0;c<o.length;c+=2){const u=a[o[c]];if(!(u instanceof I_)){const h=o[c+1];if(Array.isArray(h))for(let d=0;d<h.length;d+=2){const f=u[h[d]],p=h[d+1];try{p.call(f)}finally{}}else try{h.call(u)}finally{}}}}(l,a),function Gce(l,a){const o=l.cleanup,c=a[7];let u=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const d=o[h+1],f="function"==typeof d?d(a):Cs(a[d]),p=c[u=o[h+2]],g=o[h+3];"boolean"==typeof g?f.removeEventListener(o[h],p,g):g>=0?c[u=g]():c[u=-g].unsubscribe(),h+=2}else{const d=c[u=o[h+1]];o[h].call(d)}if(null!==c){for(let h=u+1;h<c.length;h++)c[h]();a[7]=null}}(l,a),1===a[1].type&&rs(a[11])&&a[11].destroy();const o=a[17];if(null!==o&&lc(a[3])){o!==a[3]&&z6(o,a);const c=a[19];null!==c&&c.detachView(l)}}}function H6(l,a,o){return function G6(l,a,o){let c=a;for(;null!==c&&40&c.type;)c=(a=c).parent;if(null===c)return o[0];if(2&c.flags){const u=l.data[c.directiveStart].encapsulation;if(u===oc.None||u===oc.Emulated)return null}return Ll(c,o)}(l,a.parent,o)}function zf(l,a,o,c,u){rs(l)?l.insertBefore(a,o,c,u):a.insertBefore(o,c,u)}function W6(l,a,o){rs(l)?l.appendChild(a,o):a.appendChild(o)}function j6(l,a,o,c,u){null!==c?zf(l,a,o,c,u):W6(l,a,o)}function yC(l,a){return rs(l)?l.parentNode(a):a.parentNode}function $6(l,a,o){return Y6(l,a,o)}let Y6=function q6(l,a,o){return 40&l.type?Ll(l,o):null};function bC(l,a,o,c){const u=H6(l,c,a),h=a[11],f=$6(c.parent||a[6],c,a);if(null!=u)if(Array.isArray(o))for(let p=0;p<o.length;p++)j6(h,u,o[p],f,!1);else j6(h,u,o,f,!1)}function xC(l,a){if(null!==a){const o=a.type;if(3&o)return Ll(a,l);if(4&o)return wk(-1,l[a.index]);if(8&o){const c=a.child;if(null!==c)return xC(l,c);{const u=l[a.index];return lc(u)?wk(-1,u):Cs(u)}}if(32&o)return gk(a,l)()||Cs(l[a.index]);{const c=X6(l,a);return null!==c?Array.isArray(c)?c[0]:xC(Y_(l[16]),c):xC(l,a.next)}}return null}function X6(l,a){return null!==a?l[16][6].projection[a.projection]:null}function wk(l,a){const o=10+l+1;if(o<a.length){const c=a[o],u=c[1].firstChild;if(null!==u)return xC(c,u)}return a[7]}function Sk(l,a,o,c,u,h,d){for(;null!=o;){const f=c[o.index],p=o.type;if(d&&0===a&&(f&&To(Cs(f),c),o.flags|=4),64!=(64&o.flags))if(8&p)Sk(l,a,o.child,c,u,h,!1),em(a,l,u,f,h);else if(32&p){const g=gk(o,c);let m;for(;m=g();)em(a,l,u,m,h);em(a,l,u,f,h)}else 16&p?Q6(l,a,c,o,u,h):em(a,l,u,f,h);o=d?o.projectionNext:o.next}}function Z_(l,a,o,c,u,h){Sk(o,c,l.firstChild,a,u,h,!1)}function Q6(l,a,o,c,u,h){const d=o[16],p=d[6].projection[c.projection];if(Array.isArray(p))for(let g=0;g<p.length;g++)em(a,l,u,p[g],h);else Sk(l,a,p,d[3],u,h,!0)}function J6(l,a,o){rs(l)?l.setAttribute(a,"style",o):a.style.cssText=o}function Tk(l,a,o){rs(l)?""===o?l.removeAttribute(a,"class"):l.setAttribute(a,"class",o):a.className=o}function eV(l,a,o){let c=l.length;for(;;){const u=l.indexOf(a,o);if(-1===u)return u;if(0===u||l.charCodeAt(u-1)<=32){const h=a.length;if(u+h===c||l.charCodeAt(u+h)<=32)return u}o=u+1}}const tV="ng-template";function Xce(l,a,o){let c=0;for(;c<l.length;){let u=l[c++];if(o&&"class"===u){if(u=l[c],-1!==eV(u.toLowerCase(),a,0))return!0}else if(1===u){for(;c<l.length&&"string"==typeof(u=l[c++]);)if(u.toLowerCase()===a)return!0;return!1}}return!1}function nV(l){return 4===l.type&&l.value!==tV}function Kce(l,a,o){return a===(4!==l.type||o?l.value:tV)}function Qce(l,a,o){let c=4;const u=l.attrs||[],h=function tue(l){for(let a=0;a<l.length;a++)if(W8(l[a]))return a;return l.length}(u);let d=!1;for(let f=0;f<a.length;f++){const p=a[f];if("number"!=typeof p){if(!d)if(4&c){if(c=2|1&c,""!==p&&!Kce(l,p,o)||""===p&&1===a.length){if(uc(c))return!1;d=!0}}else{const g=8&c?p:a[++f];if(8&c&&null!==l.attrs){if(!Xce(l.attrs,g,o)){if(uc(c))return!1;d=!0}continue}const v=Jce(8&c?"class":p,u,nV(l),o);if(-1===v){if(uc(c))return!1;d=!0;continue}if(""!==g){let _;_=v>h?"":u[v+1].toLowerCase();const y=8&c?_:null;if(y&&-1!==eV(y,g,0)||2&c&&g!==_){if(uc(c))return!1;d=!0}}}}else{if(!d&&!uc(c)&&!uc(p))return!1;if(d&&uc(p))continue;d=!1,c=p|1&c}}return uc(c)||d}function uc(l){return 0==(1&l)}function Jce(l,a,o,c){if(null===a)return-1;let u=0;if(c||!o){let h=!1;for(;u<a.length;){const d=a[u];if(d===l)return u;if(3===d||6===d)h=!0;else{if(1===d||2===d){let f=a[++u];for(;"string"==typeof f;)f=a[++u];continue}if(4===d)break;if(0===d){u+=4;continue}}u+=h?1:2}return-1}return function nue(l,a){let o=l.indexOf(4);if(o>-1)for(o++;o<l.length;){const c=l[o];if("number"==typeof c)return-1;if(c===a)return o;o++}return-1}(a,l)}function iV(l,a,o=!1){for(let c=0;c<a.length;c++)if(Qce(l,a[c],o))return!0;return!1}function iue(l,a){e:for(let o=0;o<a.length;o++){const c=a[o];if(l.length===c.length){for(let u=0;u<l.length;u++)if(l[u]!==c[u])continue e;return!0}}return!1}function rV(l,a){return l?":not("+a.trim()+")":a}function rue(l){let a=l[0],o=1,c=2,u="",h=!1;for(;o<l.length;){let d=l[o];if("string"==typeof d)if(2&c){const f=l[++o];u+="["+d+(f.length>0?'="'+f+'"':"")+"]"}else 8&c?u+="."+d:4&c&&(u+=" "+d);else""!==u&&!uc(d)&&(a+=rV(h,u),u=""),c=d,h=h||!uc(c);o++}return""!==u&&(a+=rV(h,u)),a}const ni={};function z(l){sV(Hi(),It(),Xo()+l,Xx())}function sV(l,a,o,c){if(!c)if(3==(3&a[2])){const h=l.preOrderCheckHooks;null!==h&&tC(a,h,o)}else{const h=l.preOrderHooks;null!==h&&nC(a,h,0,o)}fd(o)}function CC(l,a){return l<<17|a<<2}function hc(l){return l>>17&32767}function Mk(l){return 2|l}function fh(l){return(131068&l)>>2}function Dk(l,a){return-131069&l|a<<2}function Ek(l){return 1|l}function mV(l,a){const o=l.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const u=o[c],h=o[c+1];if(-1!==h){const d=l.data[h];GE(u),d.contentQueries(2,a[h],h)}}}function X_(l,a,o,c,u,h,d,f,p,g){const m=a.blueprint.slice();return m[0]=u,m[2]=140|c,I8(m),m[3]=m[15]=l,m[8]=o,m[10]=d||l&&l[10],m[11]=f||l&&l[11],m[12]=p||l&&l[12]||null,m[9]=g||l&&l[9]||null,m[6]=h,m[16]=2==a.type?l[16]:m,m}function tm(l,a,o,c,u){let h=l.data[a];if(null===h)h=function Nk(l,a,o,c,u){const h=O8(),d=VE(),p=l.data[a]=function Cue(l,a,o,c,u,h){return{type:o,index:c,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?h:h&&h.parent,o,a,c,u);return null===l.firstChild&&(l.firstChild=p),null!==h&&(d?null==h.child&&null!==p.parent&&(h.child=p):null===h.next&&(h.next=p)),p}(l,a,o,c,u),function Xae(){return Yn.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=c,h.attrs=u;const d=function A_(){const l=Yn.lFrame,a=l.currentTNode;return l.isParent?a:a.parent}();h.injectorIndex=null===d?-1:d.injectorIndex}return tu(h,!0),h}function nm(l,a,o,c){if(0===o)return-1;const u=a.length;for(let h=0;h<o;h++)a.push(c),l.blueprint.push(c),l.data.push(null);return u}function K_(l,a,o){Qx(a);try{const c=l.viewQuery;null!==c&&$k(1,c,o);const u=l.template;null!==u&&vV(l,a,u,1,o),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&mV(l,a),l.staticViewQueries&&$k(2,l.viewQuery,o);const h=l.components;null!==h&&function yue(l,a){for(let o=0;o<a.length;o++)zue(l,a[o])}(a,h)}catch(c){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),c}finally{a[2]&=-5,Jx()}}function im(l,a,o,c){const u=a[2];if(256==(256&u))return;Qx(a);const h=Xx();try{I8(a),function R8(l){return Yn.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==o&&vV(l,a,o,2,c);const d=3==(3&u);if(!h)if(d){const g=l.preOrderCheckHooks;null!==g&&tC(a,g,null)}else{const g=l.preOrderHooks;null!==g&&nC(a,g,0,null),WE(a,0)}if(function Bue(l){for(let a=mk(l);null!==a;a=vk(a)){if(!a[2])continue;const o=a[9];for(let c=0;c<o.length;c++){const u=o[c],h=u[3];0==(1024&u[2])&&BE(h,1),u[2]|=1024}}}(a),function Nue(l){for(let a=mk(l);null!==a;a=vk(a))for(let o=10;o<a.length;o++){const c=a[o],u=c[1];NE(c)&&im(u,c,u.template,c[8])}}(a),null!==l.contentQueries&&mV(l,a),!h)if(d){const g=l.contentCheckHooks;null!==g&&tC(a,g)}else{const g=l.contentHooks;null!==g&&nC(a,g,1),WE(a,1)}!function vue(l,a){const o=l.hostBindingOpCodes;if(null!==o)try{for(let c=0;c<o.length;c++){const u=o[c];if(u<0)fd(~u);else{const h=u,d=o[++c],f=o[++c];Kae(d,h),f(2,a[h])}}}finally{fd(-1)}}(l,a);const f=l.components;null!==f&&function _ue(l,a){for(let o=0;o<a.length;o++)Vue(l,a[o])}(a,f);const p=l.viewQuery;if(null!==p&&$k(2,p,c),!h)if(d){const g=l.viewCheckHooks;null!==g&&tC(a,g)}else{const g=l.viewHooks;null!==g&&nC(a,g,2),WE(a,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),h||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,BE(a[3],-1))}finally{Jx()}}function bue(l,a,o,c){const u=a[10],h=!Xx(),d=A8(a);try{h&&!d&&u.begin&&u.begin(),d&&K_(l,a,c),im(l,a,o,c)}finally{h&&!d&&u.end&&u.end()}}function vV(l,a,o,c,u){const h=Xo(),d=2&c;try{fd(-1),d&&a.length>20&&sV(l,a,20,Xx()),o(c,u)}finally{fd(h)}}function _V(l,a,o){if(kE(a)){const u=a.directiveEnd;for(let h=a.directiveStart;h<u;h++){const d=l.data[h];d.contentQueries&&d.contentQueries(1,o[h],h)}}}function Bk(l,a,o){!P8()||(function kue(l,a,o,c){const u=o.directiveStart,h=o.directiveEnd;l.firstCreatePass||O_(o,a),To(c,a);const d=o.initialInputs;for(let f=u;f<h;f++){const p=l.data[f],g=cc(p);g&&Rue(a,o,p);const m=R_(a,l,f,o);To(m,a),null!==d&&Fue(0,f-u,m,p,0,d),g&&(qa(o.index,a)[8]=m)}}(l,a,o,Ll(o,a)),128==(128&o.flags)&&function Aue(l,a,o){const c=o.directiveStart,u=o.directiveEnd,d=o.index,f=function Qae(){return Yn.lFrame.currentDirectiveIndex}();try{fd(d);for(let p=c;p<u;p++){const g=l.data[p],m=a[p];UE(p),(null!==g.hostBindings||0!==g.hostVars||null!==g.hostAttrs)&&MV(g,m)}}finally{fd(-1),UE(f)}}(l,a,o))}function Vk(l,a,o=Ll){const c=a.localNames;if(null!==c){let u=a.index+1;for(let h=0;h<c.length;h+=2){const d=c[h+1],f=-1===d?o(a,l):l[d];l[u++]=f}}}function yV(l){const a=l.tView;return null===a||a.incompleteFirstPass?l.tView=TC(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):a}function TC(l,a,o,c,u,h,d,f,p,g){const m=20+c,v=m+u,_=function xue(l,a){const o=[];for(let c=0;c<a;c++)o.push(c<l?null:ni);return o}(m,v),y="function"==typeof g?g():g;return _[1]={type:l,blueprint:_,template:o,queries:null,viewQuery:f,declTNode:a,data:_.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:p,consts:y,incompleteFirstPass:!1}}function CV(l,a,o,c){const u=PV(a);null===o?u.push(c):(u.push(o),l.firstCreatePass&&OV(l).push(c,u.length-1))}function wV(l,a,o){for(let c in l)if(l.hasOwnProperty(c)){const u=l[c];(o=null===o?{}:o).hasOwnProperty(c)?o[c].push(a,u):o[c]=[a,u]}return o}function Ka(l,a,o,c,u,h,d,f){const p=Ll(a,o);let m,g=a.inputs;!f&&null!=g&&(m=g[c])?(LV(l,o,m,c,u),qx(a)&&function Tue(l,a){const o=qa(a,l);16&o[2]||(o[2]|=64)}(o,a.index)):3&a.type&&(c=function Sue(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(c),u=null!=d?d(u,a.value||"",c):u,rs(h)?h.setProperty(p,c,u):$E(c)||(p.setProperty?p.setProperty(c,u):p[c]=u))}function zk(l,a,o,c){let u=!1;if(P8()){const h=function Iue(l,a,o){const c=l.directiveRegistry;let u=null;if(c)for(let h=0;h<c.length;h++){const d=c[h];iV(o,d.selectors,!1)&&(u||(u=[]),aC(O_(o,a),l,d.type),cc(d)?(DV(l,o),u.unshift(d)):u.push(d))}return u}(l,a,o),d=null===c?null:{"":-1};if(null!==h){u=!0,EV(o,l.data.length,h.length);for(let m=0;m<h.length;m++){const v=h[m];v.providersResolver&&v.providersResolver(v)}let f=!1,p=!1,g=nm(l,a,h.length,null);for(let m=0;m<h.length;m++){const v=h[m];o.mergedAttrs=rC(o.mergedAttrs,v.hostAttrs),kV(l,o,a,g,v),Oue(g,v,d),null!==v.contentQueries&&(o.flags|=8),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(o.flags|=128);const _=v.type.prototype;!f&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o.index),f=!0),!p&&(_.ngOnChanges||_.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o.index),p=!0),g++}!function wue(l,a){const c=a.directiveEnd,u=l.data,h=a.attrs,d=[];let f=null,p=null;for(let g=a.directiveStart;g<c;g++){const m=u[g],v=m.inputs,_=null===h||nV(a)?null:Lue(v,h);d.push(_),f=wV(v,g,f),p=wV(m.outputs,g,p)}null!==f&&(f.hasOwnProperty("class")&&(a.flags|=16),f.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=d,a.inputs=f,a.outputs=p}(l,o)}d&&function Pue(l,a,o){if(a){const c=l.localNames=[];for(let u=0;u<a.length;u+=2){const h=o[a[u+1]];if(null==h)throw new Ui(-301,`Export of name '${a[u+1]}' not found!`);c.push(a[u],h)}}}(o,c,d)}return o.mergedAttrs=rC(o.mergedAttrs,o.attrs),u}function TV(l,a,o,c,u,h){const d=h.hostBindings;if(d){let f=l.hostBindingOpCodes;null===f&&(f=l.hostBindingOpCodes=[]);const p=~a.index;(function Eue(l){let a=l.length;for(;a>0;){const o=l[--a];if("number"==typeof o&&o<0)return o}return 0})(f)!=p&&f.push(p),f.push(c,u,d)}}function MV(l,a){null!==l.hostBindings&&l.hostBindings(1,a)}function DV(l,a){a.flags|=2,(l.components||(l.components=[])).push(a.index)}function Oue(l,a,o){if(o){if(a.exportAs)for(let c=0;c<a.exportAs.length;c++)o[a.exportAs[c]]=l;cc(a)&&(o[""]=l)}}function EV(l,a,o){l.flags|=1,l.directiveStart=a,l.directiveEnd=a+o,l.providerIndexes=a}function kV(l,a,o,c,u){l.data[c]=u;const h=u.factory||(u.factory=Vf(u.type)),d=new I_(h,cc(u),null);l.blueprint[c]=d,o[c]=d,TV(l,a,0,c,nm(l,o,u.hostVars,ni),u)}function Rue(l,a,o){const c=Ll(a,l),u=yV(o),h=l[10],d=MC(l,X_(l,u,null,o.onPush?64:16,c,a,h,h.createRenderer(c,o),null,null));l[a.index]=d}function su(l,a,o,c,u,h){const d=Ll(l,a);!function Uk(l,a,o,c,u,h,d){if(null==h)rs(l)?l.removeAttribute(a,u,o):a.removeAttribute(u);else{const f=null==d?ti(h):d(h,c||"",u);rs(l)?l.setAttribute(a,u,f,o):o?a.setAttributeNS(o,u,f):a.setAttribute(u,f)}}(a[11],d,h,l.value,o,c,u)}function Fue(l,a,o,c,u,h){const d=h[a];if(null!==d){const f=c.setInput;for(let p=0;p<d.length;){const g=d[p++],m=d[p++],v=d[p++];null!==f?c.setInput(o,v,g,m):o[m]=v}}}function Lue(l,a){let o=null,c=0;for(;c<a.length;){const u=a[c];if(0!==u)if(5!==u){if("number"==typeof u)break;l.hasOwnProperty(u)&&(null===o&&(o=[]),o.push(u,l[u],a[c+1])),c+=2}else c+=2;else c+=4}return o}function AV(l,a,o,c){return new Array(l,!0,!1,a,null,0,c,o,null,null)}function Vue(l,a){const o=qa(a,l);if(NE(o)){const c=o[1];80&o[2]?im(c,o,c.template,o[8]):o[5]>0&&Hk(o)}}function Hk(l){for(let c=mk(l);null!==c;c=vk(c))for(let u=10;u<c.length;u++){const h=c[u];if(1024&h[2]){const d=h[1];im(d,h,d.template,h[8])}else h[5]>0&&Hk(h)}const o=l[1].components;if(null!==o)for(let c=0;c<o.length;c++){const u=qa(o[c],l);NE(u)&&u[5]>0&&Hk(u)}}function zue(l,a){const o=qa(a,l),c=o[1];(function Uue(l,a){for(let o=a.length;o<l.blueprint.length;o++)a.push(l.blueprint[o])})(c,o),K_(c,o,o[8])}function MC(l,a){return l[13]?l[14][4]=a:l[13]=a,l[14]=a,a}function Gk(l){for(;l;){l[2]|=64;const a=Y_(l);if(Eae(l)&&!a)return l;l=a}return null}function jk(l,a,o){const c=a[10];c.begin&&c.begin();try{im(l,a,l.template,o)}catch(u){throw FV(a,u),u}finally{c.end&&c.end()}}function IV(l){!function Wk(l){for(let a=0;a<l.components.length;a++){const o=l.components[a],c=hk(o),u=c[1];bue(u,c,u.template,o)}}(l[8])}function $k(l,a,o){GE(0),a(l,o)}const jue=(()=>Promise.resolve(null))();function PV(l){return l[7]||(l[7]=[])}function OV(l){return l.cleanup||(l.cleanup=[])}function FV(l,a){const o=l[9],c=o?o.get(Qg,null):null;c&&c.handleError(a)}function LV(l,a,o,c,u){for(let h=0;h<o.length;){const d=o[h++],f=o[h++],p=a[d],g=l.data[d];null!==g.setInput?g.setInput(p,u,c,f):p[f]=u}}function ph(l,a,o){const c=Zx(a,l);!function V6(l,a,o){rs(l)?l.setValue(a,o):a.textContent=o}(l[11],c,o)}function DC(l,a,o){let c=o?l.styles:null,u=o?l.classes:null,h=0;if(null!==a)for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?h=f:1==h?u=yE(u,f):2==h&&(c=yE(c,f+": "+a[++d]+";"))}o?l.styles=c:l.stylesWithoutHost=c,o?l.classes=u:l.classesWithoutHost=u}const qk=new Un("INJECTOR",-1);class NV{get(a,o=B_){if(o===B_){const c=new Error(`NullInjectorError: No provider for ${dr(a)}!`);throw c.name="NullInjectorError",c}return o}}const Yk=new Un("Set Injector scope."),Q_={},Yue={};let Zk;function BV(){return void 0===Zk&&(Zk=new NV),Zk}function VV(l,a=null,o=null,c){const u=zV(l,a,o,c);return u._resolveInjectorDefTypes(),u}function zV(l,a=null,o=null,c){return new Zue(l,o,a||BV(),c)}class Zue{constructor(a,o,c,u=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&nu(o,f=>this.processProvider(f,a,o)),nu([a],f=>this.processInjectorType(f,[],h)),this.records.set(qk,rm(void 0,this));const d=this.records.get(Yk);this.scope=null!=d?d.value:null,this.source=u||("object"==typeof a?null:dr(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,o=B_,c=si.Default){this.assertNotDestroyed();const u=l6(this),h=cd(void 0);try{if(!(c&si.SkipSelf)){let f=this.records.get(a);if(void 0===f){const p=function ihe(l){return"function"==typeof l||"object"==typeof l&&l instanceof Un}(a)&&xE(a);f=p&&this.injectableDefInScope(p)?rm(Xk(a),Q_):null,this.records.set(a,f)}if(null!=f)return this.hydrate(a,f)}return(c&si.Self?BV():this.parent).get(a,o=c&si.Optional&&o===B_?null:o)}catch(d){if("NullInjectorError"===d.name){if((d[dC]=d[dC]||[]).unshift(dr(a)),u)throw d;return function Rle(l,a,o,c){const u=l[dC];throw a[a6]&&u.unshift(a[a6]),l.message=function Fle(l,a,o,c=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.substr(2):l;let u=dr(a);if(Array.isArray(a))u=a.map(dr).join(" -> ");else if("object"==typeof a){let h=[];for(let d in a)if(a.hasOwnProperty(d)){let f=a[d];h.push(d+":"+("string"==typeof f?JSON.stringify(f):dr(f)))}u=`{${h.join(", ")}}`}return`${o}${c?"("+c+")":""}[${u}]: ${l.replace(kle,"\n  ")}`}("\n"+l.message,u,o,c),l.ngTokenPath=u,l[dC]=null,l}(d,a,"R3InjectorError",this.source)}throw d}finally{cd(h),l6(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((c,u)=>a.push(dr(u))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ui(205,"")}processInjectorType(a,o,c){if(!(a=ui(a)))return!1;let u=v8(a);const h=null==u&&a.ngModule||void 0,d=void 0===h?a:h,f=-1!==c.indexOf(d);if(void 0!==h&&(u=v8(h)),null==u)return!1;if(null!=u.imports&&!f){let m;c.push(d);try{nu(u.imports,v=>{this.processInjectorType(v,o,c)&&(void 0===m&&(m=[]),m.push(v))})}finally{}if(void 0!==m)for(let v=0;v<m.length;v++){const{ngModule:_,providers:y}=m[v];nu(y,b=>this.processProvider(b,_,y||wr))}}this.injectorDefTypes.add(d);const p=Vf(d)||(()=>new d);this.records.set(d,rm(p,Q_));const g=u.providers;if(null!=g&&!f){const m=a;nu(g,v=>this.processProvider(v,m,g))}return void 0!==h&&void 0!==a.providers}processProvider(a,o,c){let u=sm(a=ui(a))?a:ui(a&&a.provide);const h=function Kue(l,a,o){return HV(l)?rm(void 0,l.useValue):rm(UV(l),Q_)}(a);if(sm(a)||!0!==a.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=rm(void 0,Q_,!0),d.factory=()=>tk(d.multi),this.records.set(u,d)),u=a,d.multi.push(a)}this.records.set(u,h)}hydrate(a,o){return o.value===Q_&&(o.value=Yue,o.value=o.factory()),"object"==typeof o.value&&o.value&&function nhe(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(a){if(!a.providedIn)return!1;const o=ui(a.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Xk(l){const a=xE(l),o=null!==a?a.factory:Vf(l);if(null!==o)return o;if(l instanceof Un)throw new Ui(204,"");if(l instanceof Function)return function Xue(l){const a=l.length;if(a>0)throw N_(a,"?"),new Ui(204,"");const o=function mae(l){const a=l&&(l[Hx]||l[_8]);if(a){const o=function vae(l){if(l.hasOwnProperty("name"))return l.name;const a=(""+l).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),a}return null}(l);return null!==o?()=>o.factory(l):()=>new l}(l);throw new Ui(204,"")}function UV(l,a,o){let c;if(sm(l)){const u=ui(l);return Vf(u)||Xk(u)}if(HV(l))c=()=>ui(l.useValue);else if(function Jue(l){return!(!l||!l.useFactory)}(l))c=()=>l.useFactory(...tk(l.deps||[]));else if(function Que(l){return!(!l||!l.useExisting)}(l))c=()=>Fe(ui(l.useExisting));else{const u=ui(l&&(l.useClass||l.provide));if(!function the(l){return!!l.deps}(l))return Vf(u)||Xk(u);c=()=>new u(...tk(l.deps))}return c}function rm(l,a,o=!1){return{factory:l,value:a,multi:o?[]:void 0}}function HV(l){return null!==l&&"object"==typeof l&&Ile in l}function sm(l){return"function"==typeof l}let rr=(()=>{class l{static create(o,c){var u;if(Array.isArray(o))return VV({name:""},c,o,"");{const h=null!==(u=o.name)&&void 0!==u?u:"";return VV({name:h},o.parent,o.providers,h)}}}return l.THROW_IF_NOT_FOUND=B_,l.NULL=new NV,l.\u0275prov=Ze({token:l,providedIn:"any",factory:()=>Fe(qk)}),l.__NG_ELEMENT_ID__=-1,l})();function hhe(l,a){eC(hk(l)[1],zs())}function pn(l){let a=function ez(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),o=!0;const c=[l];for(;a;){let u;if(cc(l))u=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ui(903,"");u=a.\u0275dir}if(u){if(o){c.push(u);const d=l;d.inputs=Jk(l.inputs),d.declaredInputs=Jk(l.declaredInputs),d.outputs=Jk(l.outputs);const f=u.hostBindings;f&&ghe(l,f);const p=u.viewQuery,g=u.contentQueries;if(p&&fhe(l,p),g&&phe(l,g),_E(l.inputs,u.inputs),_E(l.declaredInputs,u.declaredInputs),_E(l.outputs,u.outputs),cc(u)&&u.data.animation){const m=l.data;m.animation=(m.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let d=0;d<h.length;d++){const f=h[d];f&&f.ngInherit&&f(l),f===pn&&(o=!1)}}a=Object.getPrototypeOf(a)}!function dhe(l){let a=0,o=null;for(let c=l.length-1;c>=0;c--){const u=l[c];u.hostVars=a+=u.hostVars,u.hostAttrs=rC(u.hostAttrs,o=rC(o,u.hostAttrs))}}(c)}function Jk(l){return l===Og?{}:l===wr?[]:l}function fhe(l,a){const o=l.viewQuery;l.viewQuery=o?(c,u)=>{a(c,u),o(c,u)}:a}function phe(l,a){const o=l.contentQueries;l.contentQueries=o?(c,u,h)=>{a(c,u,h),o(c,u,h)}:a}function ghe(l,a){const o=l.hostBindings;l.hostBindings=o?(c,u)=>{a(c,u),o(c,u)}:a}let EC=null;function om(){if(!EC){const l=_r.Symbol;if(l&&l.iterator)EC=l.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<a.length;++o){const c=a[o];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(EC=c)}}}return EC}function J_(l){return!!eA(l)&&(Array.isArray(l)||!(l instanceof Map)&&om()in l)}function eA(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function ou(l,a,o){return l[a]=o}function ey(l,a){return l[a]}function Mo(l,a,o){return!Object.is(l[a],o)&&(l[a]=o,!0)}function Uf(l,a,o,c){const u=Mo(l,a,o);return Mo(l,a+1,c)||u}function kC(l,a,o,c,u){const h=Uf(l,a,o,c);return Mo(l,a+2,u)||h}function Bl(l,a,o,c,u,h){const d=Uf(l,a,o,c);return Uf(l,a+2,u,h)||d}function Je(l,a,o,c){const u=It();return Mo(u,Vg(),a)&&(Hi(),su(ss(),u,l,a,o,c)),Je}function lm(l,a,o,c){return Mo(l,Vg(),o)?a+ti(o)+c:ni}function Q(l,a,o,c,u,h,d,f){const p=It(),g=Hi(),m=l+20,v=g.firstCreatePass?function Che(l,a,o,c,u,h,d,f,p){const g=a.consts,m=tm(a,l,4,d||null,dd(g,f));zk(a,o,m,dd(g,p)),eC(a,m);const v=m.tViews=TC(2,m,c,u,h,a.directiveRegistry,a.pipeRegistry,null,a.schemas,g);return null!==a.queries&&(a.queries.template(a,m),v.queries=a.queries.embeddedTView(m)),m}(m,g,p,a,o,c,u,h,d):g.data[m];tu(v,!1);const _=p[11].createComment("");bC(g,p,_,v),To(_,p),MC(p,p[m]=AV(_,p,_,v)),Yx(v)&&Bk(g,p,v),null!=d&&Vk(p,v,f)}function to(l){return Bg(function Zae(){return Yn.lFrame.contextLView}(),20+l)}function N(l,a=si.Default){const o=It();return null===o?Fe(l,a):K8(zs(),o,ui(l),a)}function sA(){throw new Error("invalid")}function U(l,a,o){const c=It();return Mo(c,Vg(),a)&&Ka(Hi(),ss(),c,l,a,c[11],o,!1),U}function oA(l,a,o,c,u){const d=u?"class":"style";LV(l,o,a.inputs[d],d,c)}function A(l,a,o,c){const u=It(),h=Hi(),d=20+l,f=u[11],p=u[d]=yk(f,a,function rle(){return Yn.lFrame.currentNamespace}()),g=h.firstCreatePass?function Ghe(l,a,o,c,u,h,d){const f=a.consts,g=tm(a,l,2,u,dd(f,h));return zk(a,o,g,dd(f,d)),null!==g.attrs&&DC(g,g.attrs,!1),null!==g.mergedAttrs&&DC(g,g.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,g),g}(d,h,u,0,a,o,c):h.data[d];tu(g,!0);const m=g.mergedAttrs;null!==m&&iC(f,p,m);const v=g.classes;null!==v&&Tk(f,p,v);const _=g.styles;null!==_&&J6(f,p,_),64!=(64&g.flags)&&bC(h,u,p,g),0===function Wae(){return Yn.lFrame.elementDepthCount}()&&To(p,u),function jae(){Yn.lFrame.elementDepthCount++}(),Yx(g)&&(Bk(h,u,g),_V(h,g,u)),null!==c&&Vk(u,g)}function I(){let l=zs();VE()?zE():(l=l.parent,tu(l,!1));const a=l;!function $ae(){Yn.lFrame.elementDepthCount--}();const o=Hi();o.firstCreatePass&&(eC(o,l),kE(l)&&o.queries.elementEnd(l)),null!=a.classesWithoutHost&&function cle(l){return 0!=(16&l.flags)}(a)&&oA(o,a,It(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function ule(l){return 0!=(32&l.flags)}(a)&&oA(o,a,It(),a.stylesWithoutHost,!1)}function ye(l,a,o,c){A(l,a,o,c),I()}function fr(l,a,o){const c=It(),u=Hi(),h=l+20,d=u.firstCreatePass?function Whe(l,a,o,c,u){const h=a.consts,d=dd(h,c),f=tm(a,l,8,"ng-container",d);return null!==d&&DC(f,d,!0),zk(a,o,f,dd(h,u)),null!==a.queries&&a.queries.elementStart(a,f),f}(h,u,c,a,o):u.data[h];tu(d,!0);const f=c[h]=c[11].createComment("");bC(u,c,f,d),To(f,c),Yx(d)&&(Bk(u,c,d),_V(u,d,c)),null!=o&&Vk(c,d)}function pr(){let l=zs();const a=Hi();VE()?zE():(l=l.parent,tu(l,!1)),a.firstCreatePass&&(eC(a,l),kE(l)&&a.queries.elementEnd(l))}function Qo(l,a,o){fr(l,a,o),pr()}function Bt(){return It()}function ty(l){return!!l&&"function"==typeof l.then}function bz(l){return!!l&&"function"==typeof l.subscribe}const aA=bz;function pe(l,a,o,c){const u=It(),h=Hi(),d=zs();return function xz(l,a,o,c,u,h,d,f){const p=Yx(c),m=l.firstCreatePass&&OV(l),v=a[8],_=PV(a);let y=!0;if(3&c.type||f){const x=Ll(c,a),w=f?f(x):x,S=_.length,M=f?T=>f(Cs(T[c.index])):c.index;if(rs(o)){let T=null;if(!f&&p&&(T=function jhe(l,a,o,c){const u=l.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const d=u[h];if(d===o&&u[h+1]===c){const f=a[7],p=u[h+2];return f.length>p?f[p]:null}"string"==typeof d&&(h+=2)}return null}(l,a,u,c.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=h,T.__ngLastListenerFn__=h,y=!1;else{h=cA(c,a,v,h,!1);const E=o.listen(w,u,h);_.push(h,E),m&&m.push(u,M,S,S+1)}}else h=cA(c,a,v,h,!0),w.addEventListener(u,h,d),_.push(h),m&&m.push(u,M,S,d)}else h=cA(c,a,v,h,!1);const b=c.outputs;let C;if(y&&null!==b&&(C=b[u])){const x=C.length;if(x)for(let w=0;w<x;w+=2){const k=a[C[w]][C[w+1]].subscribe(h),R=_.length;_.push(h,k),m&&m.push(u,c.index,R,-(R+1))}}}(h,u,u[11],d,l,a,!!o,c),pe}function Cz(l,a,o,c){try{return!1!==o(c)}catch(u){return FV(l,u),!1}}function cA(l,a,o,c,u){return function h(d){if(d===Function)return c;const f=2&l.flags?qa(l.index,a):a;0==(32&a[2])&&Gk(f);let p=Cz(a,0,c,d),g=h.__ngNextListenerFn__;for(;g;)p=Cz(a,0,g,d)&&p,g=g.__ngNextListenerFn__;return u&&!1===p&&(d.preventDefault(),d.returnValue=!1),p}}function J(l=1){return function ele(l){return(Yn.lFrame.contextLView=function tle(l,a){for(;l>0;)a=a[15],l--;return a}(l,Yn.lFrame.contextLView))[8]}(l)}function $he(l,a){let o=null;const c=function eue(l){const a=l.attrs;if(null!=a){const o=a.indexOf(5);if(0==(1&o))return a[o+1]}return null}(l);for(let u=0;u<a.length;u++){const h=a[u];if("*"!==h){if(null===c?iV(l,h,!0):iue(c,h))return u}else o=u}return o}function Xt(l){const a=It()[16][6];if(!a.projection){const c=a.projection=N_(l?l.length:1,null),u=c.slice();let h=a.child;for(;null!==h;){const d=l?$he(h,l):0;null!==d&&(u[d]?u[d].projectionNext=h:c[d]=h,u[d]=h),h=h.next}}}function lt(l,a=0,o){const c=It(),u=Hi(),h=tm(u,20+l,16,null,o||null);null===h.projection&&(h.projection=a),zE(),64!=(64&h.flags)&&function qce(l,a,o){Q6(a[11],0,a,o,H6(l,o,a),$6(o.parent||a[6],o,a))}(u,c,h)}function uA(l,a,o){return vm(l,"",a,"",o),uA}function vm(l,a,o,c,u){const h=It(),d=lm(h,a,o,c);return d!==ni&&Ka(Hi(),ss(),h,l,d,h[11],u,!1),vm}function Iz(l,a,o,c,u){const h=l[o+1],d=null===a;let f=c?hc(h):fh(h),p=!1;for(;0!==f&&(!1===p||d);){const m=l[f+1];Zhe(l[f],a)&&(p=!0,l[f+1]=c?Ek(m):Mk(m)),f=c?hc(m):fh(m)}p&&(l[o+1]=c?Mk(h):Ek(h))}function Zhe(l,a){return null===l||null==a||(Array.isArray(l)?l[1]:l)===a||!(!Array.isArray(l)||"string"!=typeof a)&&Zg(l,a)>=0}const Hs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pz(l){return l.substring(Hs.key,Hs.keyEnd)}function Oz(l,a){const o=Hs.textEnd;return o===a?-1:(a=Hs.keyEnd=function Jhe(l,a,o){for(;a<o&&l.charCodeAt(a)>32;)a++;return a}(l,Hs.key=a,o),_m(l,a,o))}function _m(l,a,o){for(;a<o&&l.charCodeAt(a)<=32;)a++;return a}function Et(l,a){return function fc(l,a,o,c){const u=It(),h=Hi(),d=hh(2);h.firstUpdatePass&&Vz(h,l,d,c),a!==ni&&Mo(u,d,a)&&Uz(h,h.data[Xo()],u,u[11],l,u[d+1]=function cde(l,a){return null==l||("string"==typeof a?l+=a:"object"==typeof l&&(l=dr(gd(l)))),l}(a,o),c,d)}(l,a,null,!0),Et}function hA(l){!function pc(l,a,o,c){const u=Hi(),h=hh(2);u.firstUpdatePass&&Vz(u,null,h,c);const d=It();if(o!==ni&&Mo(d,h,o)){const f=u.data[Xo()];if(Gz(f,c)&&!Bz(u,h)){let p=c?f.classesWithoutHost:f.stylesWithoutHost;null!==p&&(o=yE(p,o||"")),oA(u,f,d,o,c)}else!function lde(l,a,o,c,u,h,d,f){u===ni&&(u=wr);let p=0,g=0,m=0<u.length?u[0]:null,v=0<h.length?h[0]:null;for(;null!==m||null!==v;){const _=p<u.length?u[p+1]:void 0,y=g<h.length?h[g+1]:void 0;let C,b=null;m===v?(p+=2,g+=2,_!==y&&(b=v,C=y)):null===v||null!==m&&m<v?(p+=2,b=m):(g+=2,b=v,C=y),null!==b&&Uz(l,a,o,c,b,C,d,f),m=p<u.length?u[p]:null,v=g<h.length?h[g]:null}}(u,f,d,d[11],d[h+1],d[h+1]=function ade(l,a,o){if(null==o||""===o)return wr;const c=[],u=gd(o);if(Array.isArray(u))for(let h=0;h<u.length;h++)l(c,u[h],!0);else if("object"==typeof u)for(const h in u)u.hasOwnProperty(h)&&l(c,h,u[h]);else"string"==typeof u&&a(c,u);return c}(l,a,o),c,h)}}(Ya,lu,l,!0)}function lu(l,a){for(let o=function Khe(l){return function Fz(l){Hs.key=0,Hs.keyEnd=0,Hs.value=0,Hs.valueEnd=0,Hs.textEnd=l.length}(l),Oz(l,_m(l,0,Hs.textEnd))}(a);o>=0;o=Oz(a,o))Ya(l,Pz(a),!0)}function Bz(l,a){return a>=l.expandoStartIndex}function Vz(l,a,o,c){const u=l.data;if(null===u[o+1]){const h=u[Xo()],d=Bz(l,o);Gz(h,c)&&null===a&&!d&&(a=!1),a=function ide(l,a,o,c){const u=function HE(l){const a=Yn.lFrame.currentDirectiveIndex;return-1===a?null:l[a]}(l);let h=c?a.residualClasses:a.residualStyles;if(null===u)0===(c?a.classBindings:a.styleBindings)&&(o=ny(o=dA(null,l,a,o,c),a.attrs,c),h=null);else{const d=a.directiveStylingLast;if(-1===d||l[d]!==u)if(o=dA(u,l,a,o,c),null===h){let p=function rde(l,a,o){const c=o?a.classBindings:a.styleBindings;if(0!==fh(c))return l[hc(c)]}(l,a,c);void 0!==p&&Array.isArray(p)&&(p=dA(null,l,a,p[1],c),p=ny(p,a.attrs,c),function sde(l,a,o,c){l[hc(o?a.classBindings:a.styleBindings)]=c}(l,a,c,p))}else h=function ode(l,a,o){let c;const u=a.directiveEnd;for(let h=1+a.directiveStylingLast;h<u;h++)c=ny(c,l[h].hostAttrs,o);return ny(c,a.attrs,o)}(l,a,c)}return void 0!==h&&(c?a.residualClasses=h:a.residualStyles=h),o}(u,h,a,c),function qhe(l,a,o,c,u,h){let d=h?a.classBindings:a.styleBindings,f=hc(d),p=fh(d);l[c]=o;let m,g=!1;if(Array.isArray(o)){const v=o;m=v[1],(null===m||Zg(v,m)>0)&&(g=!0)}else m=o;if(u)if(0!==p){const _=hc(l[f+1]);l[c+1]=CC(_,f),0!==_&&(l[_+1]=Dk(l[_+1],c)),l[f+1]=function aue(l,a){return 131071&l|a<<17}(l[f+1],c)}else l[c+1]=CC(f,0),0!==f&&(l[f+1]=Dk(l[f+1],c)),f=c;else l[c+1]=CC(p,0),0===f?f=c:l[p+1]=Dk(l[p+1],c),p=c;g&&(l[c+1]=Mk(l[c+1])),Iz(l,m,c,!0),Iz(l,m,c,!1),function Yhe(l,a,o,c,u){const h=u?l.residualClasses:l.residualStyles;null!=h&&"string"==typeof a&&Zg(h,a)>=0&&(o[c+1]=Ek(o[c+1]))}(a,m,l,c,h),d=CC(f,p),h?a.classBindings=d:a.styleBindings=d}(u,h,a,o,d,c)}}function dA(l,a,o,c,u){let h=null;const d=o.directiveEnd;let f=o.directiveStylingLast;for(-1===f?f=o.directiveStart:f++;f<d&&(h=a[f],c=ny(c,h.hostAttrs,u),h!==l);)f++;return null!==l&&(o.directiveStylingLast=f),c}function ny(l,a,o){const c=o?1:2;let u=-1;if(null!==a)for(let h=0;h<a.length;h++){const d=a[h];"number"==typeof d?u=d:u===c&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Ya(l,d,!!o||a[++h]))}return void 0===l?null:l}function Uz(l,a,o,c,u,h,d,f){if(!(3&a.type))return;const p=l.data,g=p[f+1];PC(function lV(l){return 1==(1&l)}(g)?Hz(p,a,o,u,fh(g),d):void 0)||(PC(h)||function aV(l){return 2==(2&l)}(g)&&(h=Hz(p,null,o,u,f,d)),function Zce(l,a,o,c,u){const h=rs(l);if(a)u?h?l.addClass(o,c):o.classList.add(c):h?l.removeClass(o,c):o.classList.remove(c);else{let d=-1===c.indexOf("-")?void 0:Xa.DashCase;if(null==u)h?l.removeStyle(o,c,d):o.style.removeProperty(c);else{const f="string"==typeof u&&u.endsWith("!important");f&&(u=u.slice(0,-10),d|=Xa.Important),h?l.setStyle(o,c,u,d):o.style.setProperty(c,u,f?"important":"")}}}(c,d,Zx(Xo(),o),u,h))}function Hz(l,a,o,c,u,h){const d=null===a;let f;for(;u>0;){const p=l[u],g=Array.isArray(p),m=g?p[1]:p,v=null===m;let _=o[u+1];_===ni&&(_=v?wr:void 0);let y=v?QE(_,c):m===c?_:void 0;if(g&&!PC(y)&&(y=QE(p,c)),PC(y)&&(f=y,d))return f;const b=l[u+1];u=d?hc(b):fh(b)}if(null!==a){let p=h?a.residualClasses:a.residualStyles;null!=p&&(f=QE(p,c))}return f}function PC(l){return void 0!==l}function Gz(l,a){return 0!=(l.flags&(a?16:32))}function we(l,a=""){const o=It(),c=Hi(),u=l+20,h=c.firstCreatePass?tm(c,u,1,a,null):c.data[u],d=o[u]=function _k(l,a){return rs(l)?l.createText(a):l.createTextNode(a)}(o[11],a);bC(c,o,d,h),tu(h,!1)}function Sn(l){return Ai("",l,""),Sn}function Ai(l,a,o){const c=It(),u=lm(c,l,a,o);return u!==ni&&ph(c,Xo(),u),Ai}function iy(l,a,o,c,u){const h=It(),d=function cm(l,a,o,c,u,h){const f=Uf(l,uh(),o,u);return hh(2),f?a+ti(o)+c+ti(u)+h:ni}(h,l,a,o,c,u);return d!==ni&&ph(h,Xo(),d),iy}function ry(l,a,o,c,u,h,d){const f=It(),p=function um(l,a,o,c,u,h,d,f){const g=kC(l,uh(),o,u,d);return hh(3),g?a+ti(o)+c+ti(u)+h+ti(d)+f:ni}(f,l,a,o,c,u,h,d);return p!==ni&&ph(f,Xo(),p),ry}function cu(l,a,o){const c=It();return Mo(c,Vg(),a)&&Ka(Hi(),ss(),c,l,a,c[11],o,!0),cu}const Hf=void 0;var kde=["en",[["a","p"],["AM","PM"],Hf],[["AM","PM"],Hf,Hf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hf,"{1} 'at' {0}",Hf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ede(l){const o=Math.floor(Math.abs(l)),c=l.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let ym={};function oU(l){return l in ym||(ym[l]=_r.ng&&_r.ng.common&&_r.ng.common.locales&&_r.ng.common.locales[l]),ym[l]}var sn=(()=>((sn=sn||{})[sn.LocaleId=0]="LocaleId",sn[sn.DayPeriodsFormat=1]="DayPeriodsFormat",sn[sn.DayPeriodsStandalone=2]="DayPeriodsStandalone",sn[sn.DaysFormat=3]="DaysFormat",sn[sn.DaysStandalone=4]="DaysStandalone",sn[sn.MonthsFormat=5]="MonthsFormat",sn[sn.MonthsStandalone=6]="MonthsStandalone",sn[sn.Eras=7]="Eras",sn[sn.FirstDayOfWeek=8]="FirstDayOfWeek",sn[sn.WeekendRange=9]="WeekendRange",sn[sn.DateFormat=10]="DateFormat",sn[sn.TimeFormat=11]="TimeFormat",sn[sn.DateTimeFormat=12]="DateTimeFormat",sn[sn.NumberSymbols=13]="NumberSymbols",sn[sn.NumberFormats=14]="NumberFormats",sn[sn.CurrencyCode=15]="CurrencyCode",sn[sn.CurrencySymbol=16]="CurrencySymbol",sn[sn.CurrencyName=17]="CurrencyName",sn[sn.Currencies=18]="Currencies",sn[sn.Directionality=19]="Directionality",sn[sn.PluralCase=20]="PluralCase",sn[sn.ExtraData=21]="ExtraData",sn))();const RC="en-US";let aU=RC;function gA(l,a,o,c,u){if(l=ui(l),Array.isArray(l))for(let h=0;h<l.length;h++)gA(l[h],a,o,c,u);else{const h=Hi(),d=It();let f=sm(l)?l:ui(l.provide),p=UV(l);const g=zs(),m=1048575&g.providerIndexes,v=g.directiveStart,_=g.providerIndexes>>20;if(sm(l)||!l.multi){const y=new I_(p,u,N),b=vA(f,a,u?m:m+_,v);-1===b?(aC(O_(g,d),h,f),mA(h,l,a.length),a.push(f),g.directiveStart++,g.directiveEnd++,u&&(g.providerIndexes+=1048576),o.push(y),d.push(y)):(o[b]=y,d[b]=y)}else{const y=vA(f,a,m+_,v),b=vA(f,a,m,m+_),C=y>=0&&o[y],x=b>=0&&o[b];if(u&&!x||!u&&!C){aC(O_(g,d),h,f);const w=function kfe(l,a,o,c,u){const h=new I_(l,o,N);return h.multi=[],h.index=a,h.componentProviders=0,IU(h,u,c&&!o),h}(u?Efe:Dfe,o.length,u,c,p);!u&&x&&(o[b].providerFactory=w),mA(h,l,a.length,0),a.push(f),g.directiveStart++,g.directiveEnd++,u&&(g.providerIndexes+=1048576),o.push(w),d.push(w)}else mA(h,l,y>-1?y:b,IU(o[u?b:y],p,!u&&c));!u&&c&&x&&o[b].componentProviders++}}}function mA(l,a,o,c){const u=sm(a),h=function ehe(l){return!!l.useClass}(a);if(u||h){const p=(h?ui(a.useClass):a).prototype.ngOnDestroy;if(p){const g=l.destroyHooks||(l.destroyHooks=[]);if(!u&&a.multi){const m=g.indexOf(o);-1===m?g.push(o,[c,p]):g[m+1].push(c,p)}else g.push(o,p)}}}function IU(l,a,o){return o&&l.componentProviders++,l.multi.push(a)-1}function vA(l,a,o,c){for(let u=o;u<c;u++)if(a[u]===l)return u;return-1}function Dfe(l,a,o,c){return _A(this.multi,[])}function Efe(l,a,o,c){const u=this.multi;let h;if(this.providerFactory){const d=this.providerFactory.componentProviders,f=R_(o,o[1],this.providerFactory.index,c);h=f.slice(0,d),_A(u,h);for(let p=d;p<f.length;p++)h.push(f[p])}else h=[],_A(u,h);return h}function _A(l,a){for(let o=0;o<l.length;o++)a.push((0,l[o])());return a}function on(l,a=[]){return o=>{o.providersResolver=(c,u)=>function Mfe(l,a,o){const c=Hi();if(c.firstCreatePass){const u=cc(l);gA(o,c.data,c.blueprint,u,!0),gA(a,c.data,c.blueprint,u,!1)}}(c,u?u(l):l,a)}}class PU{}class Pfe{resolveComponentFactory(a){throw function Ife(l){const a=Error(`No component factory found for ${dr(l)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=l,a}(a)}}let gh=(()=>{class l{}return l.NULL=new Pfe,l})();function Ofe(){return xm(zs(),It())}function xm(l,a){return new gn(Ll(l,a))}let gn=(()=>{class l{constructor(o){this.nativeElement=o}}return l.__NG_ELEMENT_ID__=Ofe,l})();function Rfe(l){return l instanceof gn?l.nativeElement:l}class Cm{}let oi=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function Lfe(){const l=It(),o=qa(zs().index,l);return function Ffe(l){return l[11]}(eu(o)?o:l)}(),l})(),Nfe=(()=>{class l{}return l.\u0275prov=Ze({token:l,providedIn:"root",factory:()=>null}),l})();class cy{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Bfe=new cy("13.2.0"),yA={};function VC(l,a,o,c,u=!1){for(;null!==o;){const h=a[o.index];if(null!==h&&c.push(Cs(h)),lc(h))for(let f=10;f<h.length;f++){const p=h[f],g=p[1].firstChild;null!==g&&VC(p[1],p,g,c)}const d=o.type;if(8&d)VC(l,a,o.child,c);else if(32&d){const f=gk(o,a);let p;for(;p=f();)c.push(p)}else if(16&d){const f=X6(a,o);if(Array.isArray(f))c.push(...f);else{const p=Y_(a[16]);VC(p[1],p,f,c,!0)}}o=u?o.projectionNext:o.next}return c}class uy{constructor(a,o){this._lView=a,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,o=a[1];return VC(o,a,o.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(lc(a)){const o=a[8],c=o?o.indexOf(this):-1;c>-1&&(bk(a,c),uC(o,c))}this._attachedToViewContainer=!1}U6(this._lView[1],this._lView)}onDestroy(a){CV(this._lView[1],this._lView,null,a)}markForCheck(){Gk(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){jk(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Gue(l,a,o){Kx(!0);try{jk(l,a,o)}finally{Kx(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ui(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vce(l,a){Z_(l,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ui(902,"");this._appRef=a}}class Vfe extends uy{constructor(a){super(a),this._view=a}detectChanges(){IV(this._view)}checkNoChanges(){!function Wue(l){Kx(!0);try{IV(l)}finally{Kx(!1)}}(this._view)}get context(){return null}}class RU extends gh{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const o=wo(a);return new bA(o,this.ngModule)}}function FU(l){const a=[];for(let o in l)l.hasOwnProperty(o)&&a.push({propName:l[o],templateName:o});return a}const Ufe=new Un("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>P6});class bA extends PU{constructor(a,o){super(),this.componentDef=a,this.ngModule=o,this.componentType=a.type,this.selector=function sue(l){return l.map(rue).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return FU(this.componentDef.inputs)}get outputs(){return FU(this.componentDef.outputs)}create(a,o,c,u){const h=(u=u||this.ngModule)?function Hfe(l,a){return{get:(o,c,u)=>{const h=l.get(o,yA,u);return h!==yA||c===yA?h:a.get(o,c,u)}}}(a,u.injector):a,d=h.get(Cm,k8),f=h.get(Nfe,null),p=d.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=c?function xV(l,a,o){if(rs(l))return l.selectRootElement(a,o===oc.ShadowDom);let c="string"==typeof a?l.querySelector(a):a;return c.textContent="",c}(p,c,this.componentDef.encapsulation):yk(d.createRenderer(null,this.componentDef),g,function zfe(l){const a=l.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(g)),v=this.componentDef.onPush?576:528,_=function JV(l,a){return{components:[],scheduler:l||P6,clean:jue,playerHandler:a||null,flags:0}}(),y=TC(0,null,null,1,0,null,null,null,null,null),b=X_(null,y,_,v,null,null,d,p,f,h);let C,x;Qx(b);try{const w=function KV(l,a,o,c,u,h){const d=o[1];o[20]=l;const p=tm(d,20,2,"#host",null),g=p.mergedAttrs=a.hostAttrs;null!==g&&(DC(p,g,!0),null!==l&&(iC(u,l,g),null!==p.classes&&Tk(u,l,p.classes),null!==p.styles&&J6(u,l,p.styles)));const m=c.createRenderer(l,a),v=X_(o,yV(a),null,a.onPush?64:16,o[20],p,c,m,h||null,null);return d.firstCreatePass&&(aC(O_(p,o),d,a.type),DV(d,p),EV(p,o.length,1)),MC(o,v),o[20]=v}(m,this.componentDef,b,d,p);if(m)if(c)iC(p,m,["ng-version",Bfe.full]);else{const{attrs:S,classes:M}=function oue(l){const a=[],o=[];let c=1,u=2;for(;c<l.length;){let h=l[c];if("string"==typeof h)2===u?""!==h&&a.push(h,l[++c]):8===u&&o.push(h);else{if(!uc(u))break;u=h}c++}return{attrs:a,classes:o}}(this.componentDef.selectors[0]);S&&iC(p,m,S),M&&M.length>0&&Tk(p,m,M.join(" "))}if(x=LE(y,20),void 0!==o){const S=x.projection=[];for(let M=0;M<this.ngContentSelectors.length;M++){const T=o[M];S.push(null!=T?Array.from(T):null)}}C=function QV(l,a,o,c,u){const h=o[1],d=function Due(l,a,o){const c=zs();l.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),kV(l,c,a,nm(l,a,1,null),o));const u=R_(a,l,c.directiveStart,c);To(u,a);const h=Ll(c,a);return h&&To(h,a),u}(h,o,a);if(c.components.push(d),l[8]=d,u&&u.forEach(p=>p(d,a)),a.contentQueries){const p=zs();a.contentQueries(1,d,p.directiveStart)}const f=zs();return!h.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(fd(f.index),TV(o[1],f,0,f.directiveStart,f.directiveEnd,a),MV(a,d)),d}(w,this.componentDef,b,_,[hhe]),K_(y,b,null)}finally{Jx()}return new Wfe(this.componentType,C,xm(x,b),b,x)}}class Wfe extends class Afe{}{constructor(a,o,c,u,h){super(),this.location=c,this._rootLView=u,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Vfe(u),this.componentType=a}get injector(){return new Gg(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class mh{}class LU{}const wm=new Map;class VU extends mh{constructor(a,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new RU(this);const c=Ol(a);this._bootstrapComponents=ru(c.bootstrap),this._r3Injector=zV(a,o,[{provide:mh,useValue:this},{provide:gh,useValue:this.componentFactoryResolver}],dr(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,o=rr.THROW_IF_NOT_FOUND,c=si.Default){return a===rr||a===mh||a===qk?this:this._r3Injector.get(a,o,c)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class xA extends LU{constructor(a){super(),this.moduleType=a,null!==Ol(a)&&function $fe(l){const a=new Set;!function o(c){const u=Ol(c,!0),h=u.id;null!==h&&(function NU(l,a,o){if(a&&a!==o)throw new Error(`Duplicate module registered for ${l} - ${dr(a)} vs ${dr(a.name)}`)}(h,wm.get(h),c),wm.set(h,c));const d=ru(u.imports);for(const f of d)a.has(f)||(a.add(f),o(f))}(l)}(a)}create(a){return new VU(this.moduleType,a)}}function _d(l,a,o){const c=Zo()+l,u=It();return u[c]===ni?ou(u,c,o?a.call(o):a()):ey(u,c)}function Ss(l,a,o,c){return HU(It(),Zo(),l,a,o,c)}function gc(l,a,o,c,u){return function GU(l,a,o,c,u,h,d){const f=a+o;return Uf(l,f,u,h)?ou(l,f+2,d?c.call(d,u,h):c(u,h)):hy(l,f+2)}(It(),Zo(),l,a,o,c,u)}function zU(l,a,o,c,u,h){return function WU(l,a,o,c,u,h,d,f){const p=a+o;return kC(l,p,u,h,d)?ou(l,p+3,f?c.call(f,u,h,d):c(u,h,d)):hy(l,p+3)}(It(),Zo(),l,a,o,c,u,h)}function zC(l,a,o,c,u,h,d){return function jU(l,a,o,c,u,h,d,f,p){const g=a+o;return Bl(l,g,u,h,d,f)?ou(l,g+4,p?c.call(p,u,h,d,f):c(u,h,d,f)):hy(l,g+4)}(It(),Zo(),l,a,o,c,u,h,d)}function hy(l,a){const o=l[a];return o===ni?void 0:o}function HU(l,a,o,c,u,h){const d=a+o;return Mo(l,d,u)?ou(l,d+1,h?c.call(h,u):c(u)):hy(l,d+1)}function dy(l,a){const o=Hi();let c;const u=l+20;o.firstCreatePass?(c=function Kfe(l,a){if(a)for(let o=a.length-1;o>=0;o--){const c=a[o];if(l===c.name)return c}}(a,o.pipeRegistry),o.data[u]=c,c.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(u,c.onDestroy)):c=o.data[u];const h=c.factory||(c.factory=Vf(c.type)),d=cd(N);try{const f=sC(!1),p=h();return sC(f),function whe(l,a,o,c){o>=l.data.length&&(l.data[o]=null,l.blueprint[o]=null),a[o]=c}(o,It(),u,p),p}finally{cd(d)}}function fy(l,a,o){const c=l+20,u=It(),h=Bg(u,c);return function py(l,a){return l[1].data[a].pure}(u,c)?HU(u,Zo(),a,h.transform,o,h):h.transform(o)}function CA(l){return a=>{setTimeout(l,void 0,a)}}const Rt=class npe extends pt{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,o,c){var u,h,d;let f=a,p=o||(()=>null),g=c;if(a&&"object"==typeof a){const v=a;f=null===(u=v.next)||void 0===u?void 0:u.bind(v),p=null===(h=v.error)||void 0===h?void 0:h.bind(v),g=null===(d=v.complete)||void 0===d?void 0:d.bind(v)}this.__isAsync&&(p=CA(p),f&&(f=CA(f)),g&&(g=CA(g)));const m=super.subscribe({next:f,error:p,complete:g});return a instanceof Pe&&a.add(m),m}};function ipe(){return this._results[om()]()}class wA{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=om(),c=wA.prototype;c[o]||(c[o]=ipe)}get changes(){return this._changes||(this._changes=new Rt)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,o){return this._results.reduce(a,o)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,o){const c=this;c.dirty=!1;const u=Nl(a);(this._changesDetected=!function ble(l,a,o){if(l.length!==a.length)return!1;for(let c=0;c<l.length;c++){let u=l[c],h=a[c];if(o&&(u=o(u),h=o(h)),h!==u)return!1}return!0}(c._results,u,o))&&(c._results=u,c.length=u.length,c.last=u[this.length-1],c.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let qr=(()=>{class l{}return l.__NG_ELEMENT_ID__=ope,l})();const rpe=qr,spe=class extends rpe{constructor(a,o,c){super(),this._declarationLView=a,this._declarationTContainer=o,this.elementRef=c}createEmbeddedView(a){const o=this._declarationTContainer.tViews,c=X_(this._declarationLView,o,a,16,null,o.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(c[19]=h.createEmbeddedView(o)),K_(o,c,a),new uy(c)}};function ope(){return UC(zs(),It())}function UC(l,a){return 4&l.type?new spe(a,l,xm(l,a)):null}let vi=(()=>{class l{}return l.__NG_ELEMENT_ID__=ape,l})();function ape(){return ZU(zs(),It())}const lpe=vi,qU=class extends lpe{constructor(a,o,c){super(),this._lContainer=a,this._hostTNode=o,this._hostLView=c}get element(){return xm(this._hostTNode,this._hostLView)}get injector(){return new Gg(this._hostTNode,this._hostLView)}get parentInjector(){const a=oC(this._hostTNode,this._hostLView);if($8(a)){const o=Hg(a,this._hostLView),c=Ug(a);return new Gg(o[1].data[c+8],o)}return new Gg(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const o=YU(this._lContainer);return null!==o&&o[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,o,c){const u=a.createEmbeddedView(o||{});return this.insert(u,c),u}createComponent(a,o,c,u,h){const d=a&&!function L_(l){return"function"==typeof l}(a);let f;if(d)f=o;else{const v=o||{};f=v.index,c=v.injector,u=v.projectableNodes,h=v.ngModuleRef}const p=d?a:new bA(wo(a)),g=c||this.parentInjector;if(!h&&null==p.ngModule&&g){const v=g.get(mh,null);v&&(h=v)}const m=p.create(g,u,void 0,h);return this.insert(m.hostView,f),m}insert(a,o){const c=a._lView,u=c[1];if(function Gae(l){return lc(l[3])}(c)){const m=this.indexOf(a);if(-1!==m)this.detach(m);else{const v=c[3],_=new qU(v,v[6],v[3]);_.detach(_.indexOf(a))}}const h=this._adjustIndex(o),d=this._lContainer;!function Uce(l,a,o,c){const u=10+c,h=o.length;c>0&&(o[u-1][4]=a),c<h-10?(a[4]=o[u],n6(o,10+c,a)):(o.push(a),a[4]=null),a[3]=o;const d=a[17];null!==d&&o!==d&&function Hce(l,a){const o=l[9];a[16]!==a[3][3][16]&&(l[2]=!0),null===o?l[9]=[a]:o.push(a)}(d,a);const f=a[19];null!==f&&f.insertView(l),a[2]|=128}(u,c,d,h);const f=wk(h,d),p=c[11],g=yC(p,d[7]);return null!==g&&function Bce(l,a,o,c,u,h){c[0]=u,c[6]=a,Z_(l,c,o,1,u,h)}(u,d[6],p,c,g,f),a.attachToViewContainerRef(),n6(SA(d),h,a),a}move(a,o){return this.insert(a,o)}indexOf(a){const o=YU(this._lContainer);return null!==o?o.indexOf(a):-1}remove(a){const o=this._adjustIndex(a,-1),c=bk(this._lContainer,o);c&&(uC(SA(this._lContainer),o),U6(c[1],c))}detach(a){const o=this._adjustIndex(a,-1),c=bk(this._lContainer,o);return c&&null!=uC(SA(this._lContainer),o)?new uy(c):null}_adjustIndex(a,o=0){return null==a?this.length+o:a}};function YU(l){return l[8]}function SA(l){return l[8]||(l[8]=[])}function ZU(l,a){let o;const c=a[l.index];if(lc(c))o=c;else{let u;if(8&l.type)u=Cs(c);else{const h=a[11];u=h.createComment("");const d=Ll(l,a);zf(h,yC(h,d),u,function $ce(l,a){return rs(l)?l.nextSibling(a):a.nextSibling}(h,d),!1)}a[l.index]=o=AV(c,a,u,l),MC(a,o)}return new qU(o,l,a)}class TA{constructor(a){this.queryList=a,this.matches=null}clone(){return new TA(this.queryList)}setDirty(){this.queryList.setDirty()}}class MA{constructor(a=[]){this.queries=a}createEmbeddedView(a){const o=a.queries;if(null!==o){const c=null!==a.contentQueries?a.contentQueries[0]:o.length,u=[];for(let h=0;h<c;h++){const d=o.getByIndex(h);u.push(this.queries[d.indexInDeclarationView].clone())}return new MA(u)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let o=0;o<this.queries.length;o++)null!==eH(a,o).matches&&this.queries[o].setDirty()}}class XU{constructor(a,o,c=null){this.predicate=a,this.flags=o,this.read=c}}class DA{constructor(a=[]){this.queries=a}elementStart(a,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(a,o)}elementEnd(a){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(a)}embeddedTView(a){let o=null;for(let c=0;c<this.length;c++){const u=null!==o?o.length:0,h=this.getByIndex(c).embeddedTView(a,u);h&&(h.indexInDeclarationView=c,null!==o?o.push(h):o=[h])}return null!==o?new DA(o):null}template(a,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(a,o)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class EA{constructor(a,o=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(a,o){this.isApplyingToNode(o)&&this.matchTNode(a,o)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,o){this.elementStart(a,o)}embeddedTView(a,o){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,o),new EA(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=a.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(a,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let u=0;u<c.length;u++){const h=c[u];this.matchTNodeWithReadOption(a,o,hpe(o,h)),this.matchTNodeWithReadOption(a,o,lC(o,a,h,!1,!1))}else c===qr?4&o.type&&this.matchTNodeWithReadOption(a,o,-1):this.matchTNodeWithReadOption(a,o,lC(o,a,c,!1,!1))}matchTNodeWithReadOption(a,o,c){if(null!==c){const u=this.metadata.read;if(null!==u)if(u===gn||u===vi||u===qr&&4&o.type)this.addMatch(o.index,-2);else{const h=lC(o,a,u,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,c)}}addMatch(a,o){null===this.matches?this.matches=[a,o]:this.matches.push(a,o)}}function hpe(l,a){const o=l.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===a)return o[c+1];return null}function fpe(l,a,o,c){return-1===o?function dpe(l,a){return 11&l.type?xm(l,a):4&l.type?UC(l,a):null}(a,l):-2===o?function ppe(l,a,o){return o===gn?xm(a,l):o===qr?UC(a,l):o===vi?ZU(a,l):void 0}(l,a,c):R_(l,l[1],o,a)}function KU(l,a,o,c){const u=a[19].queries[c];if(null===u.matches){const h=l.data,d=o.matches,f=[];for(let p=0;p<d.length;p+=2){const g=d[p];f.push(g<0?null:fpe(a,h[g],d[p+1],o.metadata.read))}u.matches=f}return u.matches}function kA(l,a,o,c){const u=l.queries.getByIndex(o),h=u.matches;if(null!==h){const d=KU(l,a,u,o);for(let f=0;f<h.length;f+=2){const p=h[f];if(p>0)c.push(d[f/2]);else{const g=h[f+1],m=a[-p];for(let v=10;v<m.length;v++){const _=m[v];_[17]===_[3]&&kA(_[1],_,g,c)}if(null!==m[9]){const v=m[9];for(let _=0;_<v.length;_++){const y=v[_];kA(y[1],y,g,c)}}}}}return c}function kt(l){const a=It(),o=Hi(),c=L8();GE(c+1);const u=eH(o,c);if(l.dirty&&A8(a)===(2==(2&u.metadata.flags))){if(null===u.matches)l.reset([]);else{const h=u.crossesNgTemplate?kA(o,a,c,[]):KU(o,a,u,c);l.reset(h,Rfe),l.notifyOnChanges()}return!0}return!1}function An(l,a,o){const c=Hi();c.firstCreatePass&&(JU(c,new XU(l,a,o),-1),2==(2&a)&&(c.staticViewQueries=!0)),QU(c,It(),a)}function Hn(l,a,o,c){const u=Hi();if(u.firstCreatePass){const h=zs();JU(u,new XU(a,o,c),h.index),function mpe(l,a){const o=l.contentQueries||(l.contentQueries=[]);a!==(o.length?o[o.length-1]:-1)&&o.push(l.queries.length-1,a)}(u,l),2==(2&o)&&(u.staticContentQueries=!0)}QU(u,It(),o)}function At(){return function gpe(l,a){return l[19].queries[a].queryList}(It(),L8())}function QU(l,a,o){const c=new wA(4==(4&o));CV(l,a,c,c.destroy),null===a[19]&&(a[19]=new MA),a[19].queries.push(new TA(c))}function JU(l,a,o){null===l.queries&&(l.queries=new DA),l.queries.track(new EA(a,o))}function eH(l,a){return l.queries.getByIndex(a)}function Eo(l,a){return UC(l,a)}function WC(...l){}const jC=new Un("Application Initializer");let Tm=(()=>{class l{constructor(o){this.appInits=o,this.resolve=WC,this.reject=WC,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(ty(h))o.push(h);else if(aA(h)){const d=new Promise((f,p)=>{h.subscribe({complete:f,error:p})});o.push(d)}}Promise.all(o).then(()=>{c()}).catch(u=>{this.reject(u)}),0===o.length&&c(),this.initialized=!0}}return l.\u0275fac=function(o){return new(o||l)(Fe(jC,8))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();const my=new Un("AppId"),Rpe={provide:my,useFactory:function Ope(){return`${FA()}${FA()}${FA()}`},deps:[]};function FA(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vH=new Un("Platform Initializer"),Br=new Un("Platform ID"),_H=new Un("appBootstrapListener");let yH=(()=>{class l{log(o){console.log(o)}warn(o){console.warn(o)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();const uu=new Un("LocaleId"),bH=new Un("DefaultCurrencyCode");class Fpe{constructor(a,o){this.ngModuleFactory=a,this.componentFactories=o}}let $C=(()=>{class l{compileModuleSync(o){return new xA(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),h=ru(Ol(o).declarations).reduce((d,f)=>{const p=wo(f);return p&&d.push(new bA(p)),d},[]);return new Fpe(c,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();const Npe=(()=>Promise.resolve(0))();function LA(l){"undefined"==typeof Zone?Npe.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class sr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rt(!1),this.onMicrotaskEmpty=new Rt(!1),this.onStable=new Rt(!1),this.onError=new Rt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!c&&o,u.shouldCoalesceRunChangeDetection=c,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Bpe(){let l=_r.requestAnimationFrame,a=_r.cancelAnimationFrame;if("undefined"!=typeof Zone&&l&&a){const o=l[Zone.__symbol__("OriginalDelegate")];o&&(l=o);const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Upe(l){const a=()=>{!function zpe(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(_r,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,BA(l),l.isCheckStableRunning=!0,NA(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),BA(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,u,h,d,f)=>{try{return xH(l),o.invokeTask(u,h,d,f)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||l.shouldCoalesceRunChangeDetection)&&a(),CH(l)}},onInvoke:(o,c,u,h,d,f,p)=>{try{return xH(l),o.invoke(u,h,d,f,p)}finally{l.shouldCoalesceRunChangeDetection&&a(),CH(l)}},onHasTask:(o,c,u,h)=>{o.hasTask(u,h),c===u&&("microTask"==h.change?(l._hasPendingMicrotasks=h.microTask,BA(l),NA(l)):"macroTask"==h.change&&(l.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,c,u,h)=>(o.handleError(u,h),l.runOutsideAngular(()=>l.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(sr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,o,c){return this._inner.run(a,o,c)}runTask(a,o,c,u){const h=this._inner,d=h.scheduleEventTask("NgZoneEvent: "+u,a,Vpe,WC,WC);try{return h.runTask(d,o,c)}finally{h.cancelTask(d)}}runGuarded(a,o,c){return this._inner.runGuarded(a,o,c)}runOutsideAngular(a){return this._outer.run(a)}}const Vpe={};function NA(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function BA(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function xH(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function CH(l){l._nesting--,NA(l)}class Hpe{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rt,this.onMicrotaskEmpty=new Rt,this.onStable=new Rt,this.onError=new Rt}run(a,o,c){return a.apply(o,c)}runGuarded(a,o,c){return a.apply(o,c)}runOutsideAngular(a){return a()}runTask(a,o,c,u){return a.apply(o,c)}}let VA=(()=>{class l{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sr.assertNotInAngularZone(),LA(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())LA(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,u){let h=-1;c&&c>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==h),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:u})}whenStable(o,c,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,c,u){return[]}}return l.\u0275fac=function(o){return new(o||l)(Fe(sr))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),wH=(()=>{class l{constructor(){this._applications=new Map,zA.addToWindow(this)}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return zA.findTestabilityInTree(this,o,c)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class Gpe{addToWindow(a){}findTestabilityInTree(a,o,c){return null}}let mc,zA=new Gpe;const SH=new Un("AllowMultipleToken");class TH{constructor(a,o){this.name=a,this.token=o}}function MH(l,a,o=[]){const c=`Platform: ${a}`,u=new Un(c);return(h=[])=>{let d=DH();if(!d||d.injector.get(SH,!1))if(l)l(o.concat(h).concat({provide:u,useValue:!0}));else{const f=o.concat(h).concat({provide:u,useValue:!0},{provide:Yk,useValue:"platform"});!function qpe(l){if(mc&&!mc.destroyed&&!mc.injector.get(SH,!1))throw new Ui(400,"");mc=l.get(EH);const a=l.get(vH,null);a&&a.forEach(o=>o())}(rr.create({providers:f,name:c}))}return function Ype(l){const a=DH();if(!a)throw new Ui(401,"");return a}()}}function DH(){return mc&&!mc.destroyed?mc:null}let EH=(()=>{class l{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const f=function Zpe(l,a){let o;return o="noop"===l?new Hpe:("zone.js"===l?void 0:l)||new sr({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),o}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),p=[{provide:sr,useValue:f}];return f.run(()=>{const g=rr.create({providers:p,parent:this.injector,name:o.moduleType.name}),m=o.create(g),v=m.injector.get(Qg,null);if(!v)throw new Ui(402,"");return f.runOutsideAngular(()=>{const _=f.onError.subscribe({next:y=>{v.handleError(y)}});m.onDestroy(()=>{UA(this._modules,m),_.unsubscribe()})}),function Xpe(l,a,o){try{const c=o();return ty(c)?c.catch(u=>{throw a.runOutsideAngular(()=>l.handleError(u)),u}):c}catch(c){throw a.runOutsideAngular(()=>l.handleError(c)),c}}(v,f,()=>{const _=m.injector.get(Tm);return _.runInitializers(),_.donePromise.then(()=>(function Fde(l){ja(l,"Expected localeId to be defined"),"string"==typeof l&&(aU=l.toLowerCase().replace(/_/g,"-"))}(m.injector.get(uu,RC)||RC),this._moduleDoBootstrap(m),m))})})}bootstrapModule(o,c=[]){const u=kH({},c);return function jpe(l,a,o){const c=new xA(o);return Promise.resolve(c)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(o){const c=o.injector.get(vy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>c.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new Ui(403,"");o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ui(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(o){return new(o||l)(Fe(rr))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();function kH(l,a){return Array.isArray(a)?a.reduce(kH,l):Object.assign(Object.assign({},l),a)}let vy=(()=>{class l{constructor(o,c,u,h,d){this._zone=o,this._injector=c,this._exceptionHandler=u,this._componentFactoryResolver=h,this._initStatus=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new dn(g=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{g.next(this._stable),g.complete()})}),p=new dn(g=>{let m;this._zone.runOutsideAngular(()=>{m=this._zone.onStable.subscribe(()=>{sr.assertNotInAngularZone(),LA(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,g.next(!0))})})});const v=this._zone.onUnstable.subscribe(()=>{sr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{g.next(!1)}))});return()=>{m.unsubscribe(),v.unsubscribe()}});this.isStable=function cae(...l){const a=T_(l),o=function nae(l,a){return"number"==typeof mE(l)?l.pop():a}(l,1/0),c=l;return c.length?1===c.length?rc(c[0]):S_(o)(Js(c,a)):ah}(f,p.pipe(function uae(l={}){const{connector:a=(()=>new pt),resetOnError:o=!0,resetOnComplete:c=!0,resetOnRefCountZero:u=!0}=l;return h=>{let d=null,f=null,p=null,g=0,m=!1,v=!1;const _=()=>{null==f||f.unsubscribe(),f=null},y=()=>{_(),d=p=null,m=v=!1},b=()=>{const C=d;y(),null==C||C.unsubscribe()};return ci((C,x)=>{g++,!v&&!m&&_();const w=p=null!=p?p:a();x.add(()=>{g--,0===g&&!v&&!m&&(f=vE(b,u))}),w.subscribe(x),d||(d=new ht({next:S=>w.next(S),error:S=>{v=!0,_(),f=vE(y,o,S),w.error(S)},complete:()=>{m=!0,_(),f=vE(y,c),w.complete()}}),Js(C).subscribe(d))})(h)}}()))}bootstrap(o,c){if(!this._initStatus.done)throw new Ui(405,"");let u;u=o instanceof PU?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(u.componentType);const h=function $pe(l){return l.isBoundToModule}(u)?void 0:this._injector.get(mh),f=u.create(rr.NULL,[],c||u.selector,h),p=f.location.nativeElement,g=f.injector.get(VA,null),m=g&&f.injector.get(wH);return g&&m&&m.registerApplication(p,g),f.onDestroy(()=>{this.detachView(f.hostView),UA(this.components,f),m&&m.unregisterApplication(p)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Ui(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;UA(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(_H,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return l.\u0275fac=function(o){return new(o||l)(Fe(sr),Fe(rr),Fe(Qg),Fe(gh),Fe(Tm))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();function UA(l,a){const o=l.indexOf(a);o>-1&&l.splice(o,1)}let IH=!0,Da=(()=>{class l{}return l.__NG_ELEMENT_ID__=Jpe,l})();function Jpe(l){return function ege(l,a,o){if(qx(l)&&!o){const c=qa(l.index,a);return new uy(c,c)}return 47&l.type?new uy(a[16],a):null}(zs(),It(),16==(16&l))}class BH{constructor(){}supports(a){return J_(a)}create(a){return new oge(a)}}const sge=(l,a)=>a;class oge{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||sge}forEachItem(a){let o;for(o=this._itHead;null!==o;o=o._next)a(o)}forEachOperation(a){let o=this._itHead,c=this._removalsHead,u=0,h=null;for(;o||c;){const d=!c||o&&o.currentIndex<zH(c,u,h)?o:c,f=zH(d,u,h),p=d.currentIndex;if(d===c)u--,c=c._nextRemoved;else if(o=o._next,null==d.previousIndex)u++;else{h||(h=[]);const g=f-u,m=p-u;if(g!=m){for(let _=0;_<g;_++){const y=_<h.length?h[_]:h[_]=0,b=y+_;m<=b&&b<g&&(h[_]=y+1)}h[d.previousIndex]=m-g}}f!==p&&a(d,f,p)}}forEachPreviousItem(a){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)a(o)}forEachAddedItem(a){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)a(o)}forEachMovedItem(a){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)a(o)}forEachRemovedItem(a){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)a(o)}forEachIdentityChange(a){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)a(o)}diff(a){if(null==a&&(a=[]),!J_(a))throw new Ui(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u,h,d,o=this._itHead,c=!1;if(Array.isArray(a)){this.length=a.length;for(let f=0;f<this.length;f++)h=a[f],d=this._trackByFn(f,h),null!==o&&Object.is(o.trackById,d)?(c&&(o=this._verifyReinsertion(o,h,d,f)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,d,f),c=!0),o=o._next}else u=0,function xhe(l,a){if(Array.isArray(l))for(let o=0;o<l.length;o++)a(l[o]);else{const o=l[om()]();let c;for(;!(c=o.next()).done;)a(c.value)}}(a,f=>{d=this._trackByFn(u,f),null!==o&&Object.is(o.trackById,d)?(c&&(o=this._verifyReinsertion(o,f,d,u)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,d,u),c=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,o,c,u){let h;return null===a?h=this._itTail:(h=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(a.item,o)||this._addIdentityChange(a,o),this._reinsertAfter(a,h,u)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(c,u))?(Object.is(a.item,o)||this._addIdentityChange(a,o),this._moveAfter(a,h,u)):a=this._addAfter(new age(o,c),h,u),a}_verifyReinsertion(a,o,c,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?a=this._reinsertAfter(h,a._prev,u):a.currentIndex!=u&&(a.currentIndex=u,this._addToMoves(a,u)),a}_truncate(a){for(;null!==a;){const o=a._next;this._addToRemovals(this._unlink(a)),a=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const u=a._prevRemoved,h=a._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(a,o,c),this._addToMoves(a,c),a}_moveAfter(a,o,c){return this._unlink(a),this._insertAfter(a,o,c),this._addToMoves(a,c),a}_addAfter(a,o,c){return this._insertAfter(a,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,o,c){const u=null===o?this._itHead:o._next;return a._next=u,a._prev=o,null===u?this._itTail=a:u._prev=a,null===o?this._itHead=a:o._next=a,null===this._linkedRecords&&(this._linkedRecords=new VH),this._linkedRecords.put(a),a.currentIndex=c,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const o=a._prev,c=a._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,a}_addToMoves(a,o){return a.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VH),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,o){return a.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class age{constructor(a,o){this.item=a,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lge{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,a))return c;return null}remove(a){const o=a._prevDup,c=a._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class VH{constructor(){this.map=new Map}put(a){const o=a.trackById;let c=this.map.get(o);c||(c=new lge,this.map.set(o,c)),c.add(a)}get(a,o){const u=this.map.get(a);return u?u.get(a,o):null}remove(a){const o=a.trackById;return this.map.get(o).remove(a)&&this.map.delete(o),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zH(l,a,o){const c=l.previousIndex;if(null===c)return c;let u=0;return o&&c<o.length&&(u=o[c]),c+a+u}class UH{constructor(){}supports(a){return a instanceof Map||eA(a)}create(){return new cge}}class cge{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let o;for(o=this._mapHead;null!==o;o=o._next)a(o)}forEachPreviousItem(a){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)a(o)}forEachChangedItem(a){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)a(o)}forEachAddedItem(a){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)a(o)}forEachRemovedItem(a){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)a(o)}diff(a){if(a){if(!(a instanceof Map||eA(a)))throw new Ui(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(a,(c,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,c);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,o){if(a){const c=a._prev;return o._next=a,o._prev=c,a._prev=o,c&&(c._next=o),a===this._mapHead&&(this._mapHead=o),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(a,o){if(this._records.has(a)){const u=this._records.get(a);this._maybeAddToChanges(u,o);const h=u._prev,d=u._next;return h&&(h._next=d),d&&(d._prev=h),u._next=null,u._prev=null,u}const c=new uge(a);return this._records.set(a,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,o){Object.is(o,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=o,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,o){a instanceof Map?a.forEach(o):Object.keys(a).forEach(c=>o(a[c],c))}}class uge{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HH(){return new Wf([new BH])}let Wf=(()=>{class l{constructor(o){this.factories=o}static create(o,c){if(null!=c){const u=c.factories.slice();o=o.concat(u)}return new l(o)}static extend(o){return{provide:l,useFactory:c=>l.create(o,c||HH()),deps:[[l,new dh,new Za]]}}find(o){const c=this.factories.find(u=>u.supports(o));if(null!=c)return c;throw new Ui(901,"")}}return l.\u0275prov=Ze({token:l,providedIn:"root",factory:HH}),l})();function GH(){return new Mm([new UH])}let Mm=(()=>{class l{constructor(o){this.factories=o}static create(o,c){if(c){const u=c.factories.slice();o=o.concat(u)}return new l(o)}static extend(o){return{provide:l,useFactory:c=>l.create(o,c||GH()),deps:[[l,new dh,new Za]]}}find(o){const c=this.factories.find(h=>h.supports(o));if(c)return c;throw new Ui(901,"")}}return l.\u0275prov=Ze({token:l,providedIn:"root",factory:GH}),l})();const hge=[new UH],fge=new Wf([new BH]),pge=new Mm(hge),gge=MH(null,"core",[{provide:Br,useValue:"unknown"},{provide:EH,deps:[rr]},{provide:wH,deps:[]},{provide:yH,deps:[]}]),bge=[{provide:vy,useClass:vy,deps:[sr,rr,Qg,gh,Tm]},{provide:Ufe,deps:[sr],useFactory:function xge(l){let a=[];return l.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(o){a.push(o)}}},{provide:Tm,useClass:Tm,deps:[[new Za,jC]]},{provide:$C,useClass:$C,deps:[]},Rpe,{provide:Wf,useFactory:function mge(){return fge},deps:[]},{provide:Mm,useFactory:function vge(){return pge},deps:[]},{provide:uu,useFactory:function _ge(l){return l||function yge(){return"undefined"!=typeof $localize&&$localize.locale||RC}()},deps:[[new U_(uu),new Za,new dh]]},{provide:bH,useValue:"USD"}];let Cge=(()=>{class l{constructor(o){}}return l.\u0275fac=function(o){return new(o||l)(Fe(vy))},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({providers:bge}),l})(),YC=null;function hu(){return YC}const Vr=new Un("DocumentToken");let jf=(()=>{class l{historyGo(o){throw new Error("Not implemented")}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:function(){return function Mge(){return Fe(WH)}()},providedIn:"platform"}),l})();const Dge=new Un("Location Initialized");let WH=(()=>{class l extends jf{constructor(o){super(),this._doc=o,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hu().getBaseHref(this._doc)}onPopState(o){const c=hu().getGlobalEventTarget(this._doc,"window");return c.addEventListener("popstate",o,!1),()=>c.removeEventListener("popstate",o)}onHashChange(o){const c=hu().getGlobalEventTarget(this._doc,"window");return c.addEventListener("hashchange",o,!1),()=>c.removeEventListener("hashchange",o)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(o){this.location.pathname=o}pushState(o,c,u){jH()?this._history.pushState(o,c,u):this.location.hash=u}replaceState(o,c,u){jH()?this._history.replaceState(o,c,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(o=0){this._history.go(o)}getState(){return this._history.state}}return l.\u0275fac=function(o){return new(o||l)(Fe(Vr))},l.\u0275prov=Ze({token:l,factory:function(){return function Ege(){return new WH(Fe(Vr))}()},providedIn:"platform"}),l})();function jH(){return!!window.history.pushState}function $A(l,a){if(0==l.length)return a;if(0==a.length)return l;let o=0;return l.endsWith("/")&&o++,a.startsWith("/")&&o++,2==o?l+a.substring(1):1==o?l+a:l+"/"+a}function $H(l){const a=l.match(/#|\?|$/),o=a&&a.index||l.length;return l.slice(0,o-("/"===l[o-1]?1:0))+l.slice(o)}function vh(l){return l&&"?"!==l[0]?"?"+l:l}let Dm=(()=>{class l{historyGo(o){throw new Error("Not implemented")}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:function(){return function kge(l){const a=Fe(Vr).location;return new qH(Fe(jf),a&&a.origin||"")}()},providedIn:"root"}),l})();const qA=new Un("appBaseHref");let qH=(()=>{class l extends Dm{constructor(o,c){if(super(),this._platformLocation=o,this._removeListenerFns=[],null==c&&(c=this._platformLocation.getBaseHrefFromDOM()),null==c)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=c}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(o){this._removeListenerFns.push(this._platformLocation.onPopState(o),this._platformLocation.onHashChange(o))}getBaseHref(){return this._baseHref}prepareExternalUrl(o){return $A(this._baseHref,o)}path(o=!1){const c=this._platformLocation.pathname+vh(this._platformLocation.search),u=this._platformLocation.hash;return u&&o?`${c}${u}`:c}pushState(o,c,u,h){const d=this.prepareExternalUrl(u+vh(h));this._platformLocation.pushState(o,c,d)}replaceState(o,c,u,h){const d=this.prepareExternalUrl(u+vh(h));this._platformLocation.replaceState(o,c,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(o=0){var c,u;null===(u=(c=this._platformLocation).historyGo)||void 0===u||u.call(c,o)}}return l.\u0275fac=function(o){return new(o||l)(Fe(jf),Fe(qA,8))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),Age=(()=>{class l extends Dm{constructor(o,c){super(),this._platformLocation=o,this._baseHref="",this._removeListenerFns=[],null!=c&&(this._baseHref=c)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(o){this._removeListenerFns.push(this._platformLocation.onPopState(o),this._platformLocation.onHashChange(o))}getBaseHref(){return this._baseHref}path(o=!1){let c=this._platformLocation.hash;return null==c&&(c="#"),c.length>0?c.substring(1):c}prepareExternalUrl(o){const c=$A(this._baseHref,o);return c.length>0?"#"+c:c}pushState(o,c,u,h){let d=this.prepareExternalUrl(u+vh(h));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(o,c,d)}replaceState(o,c,u,h){let d=this.prepareExternalUrl(u+vh(h));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(o,c,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(o=0){var c,u;null===(u=(c=this._platformLocation).historyGo)||void 0===u||u.call(c,o)}}return l.\u0275fac=function(o){return new(o||l)(Fe(jf),Fe(qA,8))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),YA=(()=>{class l{constructor(o,c){this._subject=new Rt,this._urlChangeListeners=[],this._platformStrategy=o;const u=this._platformStrategy.getBaseHref();this._platformLocation=c,this._baseHref=$H(YH(u)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(o=!1){return this.normalize(this._platformStrategy.path(o))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(o,c=""){return this.path()==this.normalize(o+vh(c))}normalize(o){return l.stripTrailingSlash(function Pge(l,a){return l&&a.startsWith(l)?a.substring(l.length):a}(this._baseHref,YH(o)))}prepareExternalUrl(o){return o&&"/"!==o[0]&&(o="/"+o),this._platformStrategy.prepareExternalUrl(o)}go(o,c="",u=null){this._platformStrategy.pushState(u,"",o,c),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+vh(c)),u)}replaceState(o,c="",u=null){this._platformStrategy.replaceState(u,"",o,c),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+vh(c)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(o=0){var c,u;null===(u=(c=this._platformStrategy).historyGo)||void 0===u||u.call(c,o)}onUrlChange(o){this._urlChangeListeners.push(o),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(c=>{this._notifyUrlChangeListeners(c.url,c.state)}))}_notifyUrlChangeListeners(o="",c){this._urlChangeListeners.forEach(u=>u(o,c))}subscribe(o,c,u){return this._subject.subscribe({next:o,error:c,complete:u})}}return l.normalizeQueryParams=vh,l.joinWithSlash=$A,l.stripTrailingSlash=$H,l.\u0275fac=function(o){return new(o||l)(Fe(Dm),Fe(jf))},l.\u0275prov=Ze({token:l,factory:function(){return function Ige(){return new YA(Fe(Dm),Fe(jf))}()},providedIn:"root"}),l})();function YH(l){return l.replace(/\/index.html$/,"")}var Ts=(()=>((Ts=Ts||{})[Ts.Zero=0]="Zero",Ts[Ts.One=1]="One",Ts[Ts.Two=2]="Two",Ts[Ts.Few=3]="Few",Ts[Ts.Many=4]="Many",Ts[Ts.Other=5]="Other",Ts))();const Bge=function sU(l){return function Do(l){const a=function Ide(l){return l.toLowerCase().replace(/_/g,"-")}(l);let o=oU(a);if(o)return o;const c=a.split("-")[0];if(o=oU(c),o)return o;if("en"===c)return kde;throw new Error(`Missing locale data for the locale "${l}".`)}(l)[sn.PluralCase]};class iw{}let fme=(()=>{class l extends iw{constructor(o){super(),this.locale=o}getPluralCategory(o,c){switch(Bge(c||this.locale)(o)){case Ts.Zero:return"zero";case Ts.One:return"one";case Ts.Two:return"two";case Ts.Few:return"few";case Ts.Many:return"many";default:return"other"}}}return l.\u0275fac=function(o){return new(o||l)(Fe(uu))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();function i7(l,a){a=encodeURIComponent(a);for(const o of l.split(";")){const c=o.indexOf("="),[u,h]=-1==c?[o,""]:[o.slice(0,c),o.slice(c+1)];if(u.trim()===a)return decodeURIComponent(h)}return null}let Gi=(()=>{class l{constructor(o,c,u,h){this._iterableDiffers=o,this._keyValueDiffers=c,this._ngEl=u,this._renderer=h,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(o){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof o?o.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(o){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof o?o.split(/\s+/):o,this._rawClass&&(J_(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const o=this._iterableDiffer.diff(this._rawClass);o&&this._applyIterableChanges(o)}else if(this._keyValueDiffer){const o=this._keyValueDiffer.diff(this._rawClass);o&&this._applyKeyValueChanges(o)}}_applyKeyValueChanges(o){o.forEachAddedItem(c=>this._toggleClass(c.key,c.currentValue)),o.forEachChangedItem(c=>this._toggleClass(c.key,c.currentValue)),o.forEachRemovedItem(c=>{c.previousValue&&this._toggleClass(c.key,!1)})}_applyIterableChanges(o){o.forEachAddedItem(c=>{if("string"!=typeof c.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${dr(c.item)}`);this._toggleClass(c.item,!0)}),o.forEachRemovedItem(c=>this._toggleClass(c.item,!1))}_applyClasses(o){o&&(Array.isArray(o)||o instanceof Set?o.forEach(c=>this._toggleClass(c,!0)):Object.keys(o).forEach(c=>this._toggleClass(c,!!o[c])))}_removeClasses(o){o&&(Array.isArray(o)||o instanceof Set?o.forEach(c=>this._toggleClass(c,!1)):Object.keys(o).forEach(c=>this._toggleClass(c,!1)))}_toggleClass(o,c){(o=o.trim())&&o.split(/\s+/g).forEach(u=>{c?this._renderer.addClass(this._ngEl.nativeElement,u):this._renderer.removeClass(this._ngEl.nativeElement,u)})}}return l.\u0275fac=function(o){return new(o||l)(N(Wf),N(Mm),N(gn),N(oi))},l.\u0275dir=gt({type:l,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),l})();class mme{constructor(a,o,c,u){this.$implicit=a,this.ngForOf=o,this.index=c,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let or=(()=>{class l{constructor(o,c,u){this._viewContainer=o,this._template=c,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(o){this._ngForOf=o,this._ngForOfDirty=!0}set ngForTrackBy(o){this._trackByFn=o}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(o){o&&(this._template=o)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const o=this._ngForOf;!this._differ&&o&&(this._differ=this._differs.find(o).create(this.ngForTrackBy))}if(this._differ){const o=this._differ.diff(this._ngForOf);o&&this._applyChanges(o)}}_applyChanges(o){const c=this._viewContainer;o.forEachOperation((u,h,d)=>{if(null==u.previousIndex)c.createEmbeddedView(this._template,new mme(u.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)c.remove(null===h?void 0:h);else if(null!==h){const f=c.get(h);c.move(f,d),r7(f,u)}});for(let u=0,h=c.length;u<h;u++){const f=c.get(u).context;f.index=u,f.count=h,f.ngForOf=this._ngForOf}o.forEachIdentityChange(u=>{r7(c.get(u.currentIndex),u)})}static ngTemplateContextGuard(o,c){return!0}}return l.\u0275fac=function(o){return new(o||l)(N(vi),N(qr),N(Wf))},l.\u0275dir=gt({type:l,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),l})();function r7(l,a){l.context.$implicit=a.item}let Mn=(()=>{class l{constructor(o,c){this._viewContainer=o,this._context=new vme,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=c}set ngIf(o){this._context.$implicit=this._context.ngIf=o,this._updateView()}set ngIfThen(o){s7("ngIfThen",o),this._thenTemplateRef=o,this._thenViewRef=null,this._updateView()}set ngIfElse(o){s7("ngIfElse",o),this._elseTemplateRef=o,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(o,c){return!0}}return l.\u0275fac=function(o){return new(o||l)(N(vi),N(qr))},l.\u0275dir=gt({type:l,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),l})();class vme{constructor(){this.$implicit=null,this.ngIf=null}}function s7(l,a){if(a&&!a.createEmbeddedView)throw new Error(`${l} must be a TemplateRef, but received '${dr(a)}'.`)}let du=(()=>{class l{constructor(o){this._viewContainerRef=o,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(o){if(o.ngTemplateOutlet){const c=this._viewContainerRef;this._viewRef&&c.remove(c.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?c.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&o.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return l.\u0275fac=function(o){return new(o||l)(N(vi))},l.\u0275dir=gt({type:l,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Vs]}),l})();class xme{createSubscription(a,o){return a.subscribe({next:o,error:c=>{throw c}})}dispose(a){a.unsubscribe()}onDestroy(a){a.unsubscribe()}}class Cme{createSubscription(a,o){return a.then(o,c=>{throw c})}dispose(a){}onDestroy(a){}}const wme=new Cme,Sme=new xme;let oI=(()=>{class l{constructor(o){this._ref=o,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(o){return this._obj?o!==this._obj?(this._dispose(),this.transform(o)):this._latestValue:(o&&this._subscribe(o),this._latestValue)}_subscribe(o){this._obj=o,this._strategy=this._selectStrategy(o),this._subscription=this._strategy.createSubscription(o,c=>this._updateLatestValue(o,c))}_selectStrategy(o){if(ty(o))return wme;if(bz(o))return Sme;throw function _c(l,a){return new Ui(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(o,c){o===this._obj&&(this._latestValue=c,this._ref.markForCheck())}}return l.\u0275fac=function(o){return new(o||l)(N(Da,16))},l.\u0275pipe=Ta({name:"async",type:l,pure:!1}),l})(),ai=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({providers:[{provide:iw,useClass:fme}]}),l})();const c7="browser";function Xi(l){return l===c7}let Wme=(()=>{class l{}return l.\u0275prov=Ze({token:l,providedIn:"root",factory:()=>new jme(Fe(Vr),window)}),l})();class jme{constructor(a,o){this.document=a,this.window=o,this.offset=()=>[0,0]}setOffset(a){this.offset=Array.isArray(a)?()=>a:a}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(a){this.supportsScrolling()&&this.window.scrollTo(a[0],a[1])}scrollToAnchor(a){if(!this.supportsScrolling())return;const o=function $me(l,a){const o=l.getElementById(a)||l.getElementsByName(a)[0];if(o)return o;if("function"==typeof l.createTreeWalker&&l.body&&(l.body.createShadowRoot||l.body.attachShadow)){const c=l.createTreeWalker(l.body,NodeFilter.SHOW_ELEMENT);let u=c.currentNode;for(;u;){const h=u.shadowRoot;if(h){const d=h.getElementById(a)||h.querySelector(`[name="${a}"]`);if(d)return d}u=c.nextNode()}}return null}(this.document,a);o&&(this.scrollToElement(o),o.focus())}setHistoryScrollRestoration(a){if(this.supportScrollRestoration()){const o=this.window.history;o&&o.scrollRestoration&&(o.scrollRestoration=a)}}scrollToElement(a){const o=a.getBoundingClientRect(),c=o.left+this.window.pageXOffset,u=o.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(c-h[0],u-h[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const a=u7(this.window.history)||u7(Object.getPrototypeOf(this.window.history));return!(!a||!a.writable&&!a.set)}catch(a){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(a){return!1}}}function u7(l){return Object.getOwnPropertyDescriptor(l,"scrollRestoration")}class h7{}class cI extends class qme extends class Tge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Sge(l){YC||(YC=l)}(new cI)}onAndCancel(a,o,c){return a.addEventListener(o,c,!1),()=>{a.removeEventListener(o,c,!1)}}dispatchEvent(a,o){a.dispatchEvent(o)}remove(a){a.parentNode&&a.parentNode.removeChild(a)}createElement(a,o){return(o=o||this.getDefaultDocument()).createElement(a)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(a){return a.nodeType===Node.ELEMENT_NODE}isShadowRoot(a){return a instanceof DocumentFragment}getGlobalEventTarget(a,o){return"window"===o?window:"document"===o?a:"body"===o?a.body:null}getBaseHref(a){const o=function Yme(){return xy=xy||document.querySelector("base"),xy?xy.getAttribute("href"):null}();return null==o?null:function Zme(l){sw=sw||document.createElement("a"),sw.setAttribute("href",l);const a=sw.pathname;return"/"===a.charAt(0)?a:`/${a}`}(o)}resetBaseElement(){xy=null}getUserAgent(){return window.navigator.userAgent}getCookie(a){return i7(document.cookie,a)}}let sw,xy=null;const d7=new Un("TRANSITION_ID"),Kme=[{provide:jC,useFactory:function Xme(l,a,o){return()=>{o.get(Tm).donePromise.then(()=>{const c=hu(),u=a.querySelectorAll(`style[ng-transition="${l}"]`);for(let h=0;h<u.length;h++)c.remove(u[h])})}},deps:[d7,Vr,rr],multi:!0}];class uI{static init(){!function Wpe(l){zA=l}(new uI)}addToWindow(a){_r.getAngularTestability=(c,u=!0)=>{const h=a.findTestabilityInTree(c,u);if(null==h)throw new Error("Could not find testability for element.");return h},_r.getAllAngularTestabilities=()=>a.getAllTestabilities(),_r.getAllAngularRootElements=()=>a.getAllRootElements(),_r.frameworkStabilizers||(_r.frameworkStabilizers=[]),_r.frameworkStabilizers.push(c=>{const u=_r.getAllAngularTestabilities();let h=u.length,d=!1;const f=function(p){d=d||p,h--,0==h&&c(d)};u.forEach(function(p){p.whenStable(f)})})}findTestabilityInTree(a,o,c){if(null==o)return null;const u=a.getTestability(o);return null!=u?u:c?hu().isShadowRoot(o)?this.findTestabilityInTree(a,o.host,!0):this.findTestabilityInTree(a,o.parentElement,!0):null}}let Qme=(()=>{class l{build(){return new XMLHttpRequest}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();const ow=new Un("EventManagerPlugins");let aw=(()=>{class l{constructor(o,c){this._zone=c,this._eventNameToPlugin=new Map,o.forEach(u=>u.manager=this),this._plugins=o.slice().reverse()}addEventListener(o,c,u){return this._findPluginFor(c).addEventListener(o,c,u)}addGlobalEventListener(o,c,u){return this._findPluginFor(c).addGlobalEventListener(o,c,u)}getZone(){return this._zone}_findPluginFor(o){const c=this._eventNameToPlugin.get(o);if(c)return c;const u=this._plugins;for(let h=0;h<u.length;h++){const d=u[h];if(d.supports(o))return this._eventNameToPlugin.set(o,d),d}throw new Error(`No event manager plugin found for event ${o}`)}}return l.\u0275fac=function(o){return new(o||l)(Fe(ow),Fe(sr))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class f7{constructor(a){this._doc=a}addGlobalEventListener(a,o,c){const u=hu().getGlobalEventTarget(this._doc,a);if(!u)throw new Error(`Unsupported event target ${u} for event ${o}`);return this.addEventListener(u,o,c)}}let p7=(()=>{class l{constructor(){this._stylesSet=new Set}addStyles(o){const c=new Set;o.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),c.add(u))}),this.onStylesAdded(c)}onStylesAdded(o){}getAllStyles(){return Array.from(this._stylesSet)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),Cy=(()=>{class l extends p7{constructor(o){super(),this._doc=o,this._hostNodes=new Map,this._hostNodes.set(o.head,[])}_addStylesToHost(o,c,u){o.forEach(h=>{const d=this._doc.createElement("style");d.textContent=h,u.push(c.appendChild(d))})}addHost(o){const c=[];this._addStylesToHost(this._stylesSet,o,c),this._hostNodes.set(o,c)}removeHost(o){const c=this._hostNodes.get(o);c&&c.forEach(g7),this._hostNodes.delete(o)}onStylesAdded(o){this._hostNodes.forEach((c,u)=>{this._addStylesToHost(o,u,c)})}ngOnDestroy(){this._hostNodes.forEach(o=>o.forEach(g7))}}return l.\u0275fac=function(o){return new(o||l)(Fe(Vr))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();function g7(l){hu().remove(l)}const hI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dI=/%COMP%/g;function lw(l,a,o){for(let c=0;c<a.length;c++){let u=a[c];Array.isArray(u)?lw(l,u,o):(u=u.replace(dI,l),o.push(u))}return o}function _7(l){return a=>{if("__ngUnwrap__"===a)return l;!1===l(a)&&(a.preventDefault(),a.returnValue=!1)}}let cw=(()=>{class l{constructor(o,c,u){this.eventManager=o,this.sharedStylesHost=c,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new fI(o)}createRenderer(o,c){if(!o||!c)return this.defaultRenderer;switch(c.encapsulation){case oc.Emulated:{let u=this.rendererByCompId.get(c.id);return u||(u=new r0e(this.eventManager,this.sharedStylesHost,c,this.appId),this.rendererByCompId.set(c.id,u)),u.applyToHost(o),u}case 1:case oc.ShadowDom:return new s0e(this.eventManager,this.sharedStylesHost,o,c);default:if(!this.rendererByCompId.has(c.id)){const u=lw(c.id,c.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(c.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return l.\u0275fac=function(o){return new(o||l)(Fe(aw),Fe(Cy),Fe(my))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class fI{constructor(a){this.eventManager=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(a,o){return o?document.createElementNS(hI[o],a):document.createElement(a)}createComment(a){return document.createComment(a)}createText(a){return document.createTextNode(a)}appendChild(a,o){a.appendChild(o)}insertBefore(a,o,c){a&&a.insertBefore(o,c)}removeChild(a,o){a&&a.removeChild(o)}selectRootElement(a,o){let c="string"==typeof a?document.querySelector(a):a;if(!c)throw new Error(`The selector "${a}" did not match any elements`);return o||(c.textContent=""),c}parentNode(a){return a.parentNode}nextSibling(a){return a.nextSibling}setAttribute(a,o,c,u){if(u){o=u+":"+o;const h=hI[u];h?a.setAttributeNS(h,o,c):a.setAttribute(o,c)}else a.setAttribute(o,c)}removeAttribute(a,o,c){if(c){const u=hI[c];u?a.removeAttributeNS(u,o):a.removeAttribute(`${c}:${o}`)}else a.removeAttribute(o)}addClass(a,o){a.classList.add(o)}removeClass(a,o){a.classList.remove(o)}setStyle(a,o,c,u){u&(Xa.DashCase|Xa.Important)?a.style.setProperty(o,c,u&Xa.Important?"important":""):a.style[o]=c}removeStyle(a,o,c){c&Xa.DashCase?a.style.removeProperty(o):a.style[o]=""}setProperty(a,o,c){a[o]=c}setValue(a,o){a.nodeValue=o}listen(a,o,c){return"string"==typeof a?this.eventManager.addGlobalEventListener(a,o,_7(c)):this.eventManager.addEventListener(a,o,_7(c))}}class r0e extends fI{constructor(a,o,c,u){super(a),this.component=c;const h=lw(u+"-"+c.id,c.styles,[]);o.addStyles(h),this.contentAttr=function t0e(l){return"_ngcontent-%COMP%".replace(dI,l)}(u+"-"+c.id),this.hostAttr=function n0e(l){return"_nghost-%COMP%".replace(dI,l)}(u+"-"+c.id)}applyToHost(a){super.setAttribute(a,this.hostAttr,"")}createElement(a,o){const c=super.createElement(a,o);return super.setAttribute(c,this.contentAttr,""),c}}class s0e extends fI{constructor(a,o,c,u){super(a),this.sharedStylesHost=o,this.hostEl=c,this.shadowRoot=c.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=lw(u.id,u.styles,[]);for(let d=0;d<h.length;d++){const f=document.createElement("style");f.textContent=h[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(a){return a===this.hostEl?this.shadowRoot:a}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(a,o){return super.appendChild(this.nodeOrShadowRoot(a),o)}insertBefore(a,o,c){return super.insertBefore(this.nodeOrShadowRoot(a),o,c)}removeChild(a,o){return super.removeChild(this.nodeOrShadowRoot(a),o)}parentNode(a){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(a)))}}let o0e=(()=>{class l extends f7{constructor(o){super(o)}supports(o){return!0}addEventListener(o,c,u){return o.addEventListener(c,u,!1),()=>this.removeEventListener(o,c,u)}removeEventListener(o,c,u){return o.removeEventListener(c,u)}}return l.\u0275fac=function(o){return new(o||l)(Fe(Vr))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();const b7=["alt","control","meta","shift"],l0e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},x7={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},c0e={alt:l=>l.altKey,control:l=>l.ctrlKey,meta:l=>l.metaKey,shift:l=>l.shiftKey};let u0e=(()=>{class l extends f7{constructor(o){super(o)}supports(o){return null!=l.parseEventName(o)}addEventListener(o,c,u){const h=l.parseEventName(c),d=l.eventCallback(h.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hu().onAndCancel(o,h.domEventName,d))}static parseEventName(o){const c=o.toLowerCase().split("."),u=c.shift();if(0===c.length||"keydown"!==u&&"keyup"!==u)return null;const h=l._normalizeKey(c.pop());let d="";if(b7.forEach(p=>{const g=c.indexOf(p);g>-1&&(c.splice(g,1),d+=p+".")}),d+=h,0!=c.length||0===h.length)return null;const f={};return f.domEventName=u,f.fullKey=d,f}static getEventFullKey(o){let c="",u=function h0e(l){let a=l.key;if(null==a){if(a=l.keyIdentifier,null==a)return"Unidentified";a.startsWith("U+")&&(a=String.fromCharCode(parseInt(a.substring(2),16)),3===l.location&&x7.hasOwnProperty(a)&&(a=x7[a]))}return l0e[a]||a}(o);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),b7.forEach(h=>{h!=u&&c0e[h](o)&&(c+=h+".")}),c+=u,c}static eventCallback(o,c,u){return h=>{l.getEventFullKey(h)===o&&u.runGuarded(()=>c(h))}}static _normalizeKey(o){return"esc"===o?"escape":o}}return l.\u0275fac=function(o){return new(o||l)(Fe(Vr))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();const g0e=MH(gge,"browser",[{provide:Br,useValue:c7},{provide:vH,useValue:function d0e(){cI.makeCurrent(),uI.init()},multi:!0},{provide:Vr,useFactory:function p0e(){return function Vae(l){RE=l}(document),document},deps:[]}]),m0e=[{provide:Yk,useValue:"root"},{provide:Qg,useFactory:function f0e(){return new Qg},deps:[]},{provide:ow,useClass:o0e,multi:!0,deps:[Vr,sr,Br]},{provide:ow,useClass:u0e,multi:!0,deps:[Vr]},{provide:cw,useClass:cw,deps:[aw,Cy,my]},{provide:Cm,useExisting:cw},{provide:p7,useExisting:Cy},{provide:Cy,useClass:Cy,deps:[Vr]},{provide:VA,useClass:VA,deps:[sr]},{provide:aw,useClass:aw,deps:[ow,sr]},{provide:h7,useClass:Qme,deps:[]}];let C7=(()=>{class l{constructor(o){if(o)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(o){return{ngModule:l,providers:[{provide:my,useValue:o.appId},{provide:d7,useExisting:my},Kme]}}}return l.\u0275fac=function(o){return new(o||l)(Fe(l,12))},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({providers:m0e,imports:[ai,Cge]}),l})();function Xn(...l){return Js(l,T_(l))}"undefined"!=typeof window&&window;class kr extends pt{constructor(a){super(),this._value=a}get value(){return this.getValue()}_subscribe(a){const o=super._subscribe(a);return!o.closed&&a.next(this._value),o}getValue(){const{hasError:a,thrownError:o,_value:c}=this;if(a)throw o;return this._throwIfClosed(),c}next(a){super.next(this._value=a)}}const{isArray:D0e}=Array,{getPrototypeOf:E0e,prototype:k0e,keys:A0e}=Object;function T7(l){if(1===l.length){const a=l[0];if(D0e(a))return{args:a,keys:null};if(function I0e(l){return l&&"object"==typeof l&&E0e(l)===k0e}(a)){const o=A0e(a);return{args:o.map(c=>a[c]),keys:o}}}return{args:l,keys:null}}const{isArray:P0e}=Array;function gI(l){return an(a=>function O0e(l,a){return P0e(a)?l(...a):l(a)}(l,a))}function M7(l,a){return l.reduce((o,c,u)=>(o[c]=a[u],o),{})}function E7(l,a,o){l?oh(o,l,a):a()}const uw=be(l=>function(){l(this),this.name="EmptyError",this.message="no elements in sequence"});function mI(...l){return function F0e(){return S_(1)}()(Js(l,T_(l)))}function k7(l){return new dn(a=>{rc(l()).subscribe(a)})}function A7(){return ci((l,a)=>{let o=null;l._refCount++;const c=new Ti(a,void 0,void 0,void 0,()=>{if(!l||l._refCount<=0||0<--l._refCount)return void(o=null);const u=l._connection,h=o;o=null,u&&(!h||u===h)&&u.unsubscribe(),a.unsubscribe()});l.subscribe(c),c.closed||(o=l.connect())})}class L0e extends dn{constructor(a,o){super(),this.source=a,this.subjectFactory=o,this._subject=null,this._refCount=0,this._connection=null,Qt(a)&&(this.lift=a.lift)}_subscribe(a){return this.getSubject().subscribe(a)}getSubject(){const a=this._subject;return(!a||a.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:a}=this;this._subject=this._connection=null,null==a||a.unsubscribe()}connect(){let a=this._connection;if(!a){a=this._connection=new Pe;const o=this.getSubject();a.add(this.source.subscribe(new Ti(o,void 0,()=>{this._teardown(),o.complete()},c=>{this._teardown(),o.error(c)},()=>this._teardown()))),a.closed&&(this._connection=null,a=Pe.EMPTY)}return a}refCount(){return A7()(this)}}function bd(l,a){return ci((o,c)=>{let u=null,h=0,d=!1;const f=()=>d&&!u&&c.complete();o.subscribe(new Ti(c,p=>{null==u||u.unsubscribe();let g=0;const m=h++;rc(l(p,m)).subscribe(u=new Ti(c,v=>c.next(a?a(p,v,m,g++):v),()=>{u=null,f()}))},()=>{d=!0,f()}))})}function hw(...l){const a=T_(l);return ci((o,c)=>{(a?mI(l,o,a):mI(l,o)).subscribe(c)})}function N0e(l,a,o,c,u){return(h,d)=>{let f=o,p=a,g=0;h.subscribe(new Ti(d,m=>{const v=g++;p=f?l(p,m,v):(f=!0,m),c&&d.next(p)},u&&(()=>{f&&d.next(p),d.complete()})))}}function I7(l,a){return ci(N0e(l,a,arguments.length>=2,!0))}function _s(l,a){return ci((o,c)=>{let u=0;o.subscribe(new Ti(c,h=>l.call(a,h,u++)&&c.next(h)))})}function tr(l){return ci((a,o)=>{let h,c=null,u=!1;c=a.subscribe(new Ti(o,void 0,void 0,d=>{h=rc(l(d,tr(l)(a))),c?(c.unsubscribe(),c=null,h.subscribe(o)):u=!0})),u&&(c.unsubscribe(),c=null,h.subscribe(o))})}function Em(l,a){return le(a)?Bs(l,a,1):Bs(l,1)}function vI(l){return l<=0?()=>ah:ci((a,o)=>{let c=[];a.subscribe(new Ti(o,u=>{c.push(u),l<c.length&&c.shift()},()=>{for(const u of c)o.next(u);o.complete()},void 0,()=>{c=null}))})}function P7(l=B0e){return ci((a,o)=>{let c=!1;a.subscribe(new Ti(o,u=>{c=!0,o.next(u)},()=>c?o.complete():o.error(l())))})}function B0e(){return new uw}function O7(l){return ci((a,o)=>{let c=!1;a.subscribe(new Ti(o,u=>{c=!0,o.next(u)},()=>{c||o.next(l),o.complete()}))})}function $f(l,a){const o=arguments.length>=2;return c=>c.pipe(l?_s((u,h)=>l(u,h,c)):yt,Pg(1),o?O7(a):P7(()=>new uw))}function ea(l,a,o){const c=le(l)||a||o?{next:l,error:a,complete:o}:l;return c?ci((u,h)=>{var d;null===(d=c.subscribe)||void 0===d||d.call(c);let f=!0;u.subscribe(new Ti(h,p=>{var g;null===(g=c.next)||void 0===g||g.call(c,p),h.next(p)},()=>{var p;f=!1,null===(p=c.complete)||void 0===p||p.call(c),h.complete()},p=>{var g;f=!1,null===(g=c.error)||void 0===g||g.call(c,p),h.error(p)},()=>{var p,g;f&&(null===(p=c.unsubscribe)||void 0===p||p.call(c)),null===(g=c.finalize)||void 0===g||g.call(c)}))}):yt}class yh{constructor(a,o){this.id=a,this.url=o}}class _I extends yh{constructor(a,o,c="imperative",u=null){super(a,o),this.navigationTrigger=c,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wy extends yh{constructor(a,o,c){super(a,o),this.urlAfterRedirects=c}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class R7 extends yh{constructor(a,o,c){super(a,o),this.reason=c}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class U0e extends yh{constructor(a,o,c){super(a,o),this.error=c}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class H0e extends yh{constructor(a,o,c,u){super(a,o),this.urlAfterRedirects=c,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G0e extends yh{constructor(a,o,c,u){super(a,o),this.urlAfterRedirects=c,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W0e extends yh{constructor(a,o,c,u,h){super(a,o),this.urlAfterRedirects=c,this.state=u,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class j0e extends yh{constructor(a,o,c,u){super(a,o),this.urlAfterRedirects=c,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $0e extends yh{constructor(a,o,c,u){super(a,o),this.urlAfterRedirects=c,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class F7{constructor(a){this.route=a}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class L7{constructor(a){this.route=a}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class q0e{constructor(a){this.snapshot=a}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y0e{constructor(a){this.snapshot=a}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z0e{constructor(a){this.snapshot=a}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X0e{constructor(a){this.snapshot=a}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class N7{constructor(a,o,c){this.routerEvent=a,this.position=o,this.anchor=c}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Di="primary";class K0e{constructor(a){this.params=a||{}}has(a){return Object.prototype.hasOwnProperty.call(this.params,a)}get(a){if(this.has(a)){const o=this.params[a];return Array.isArray(o)?o[0]:o}return null}getAll(a){if(this.has(a)){const o=this.params[a];return Array.isArray(o)?o:[o]}return[]}get keys(){return Object.keys(this.params)}}function km(l){return new K0e(l)}const B7="ngNavigationCancelingError";function yI(l){const a=Error("NavigationCancelingError: "+l);return a[B7]=!0,a}function J0e(l,a,o){const c=o.path.split("/");if(c.length>l.length||"full"===o.pathMatch&&(a.hasChildren()||c.length<l.length))return null;const u={};for(let h=0;h<c.length;h++){const d=c[h],f=l[h];if(d.startsWith(":"))u[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:l.slice(0,c.length),posParams:u}}function fu(l,a){const o=l?Object.keys(l):void 0,c=a?Object.keys(a):void 0;if(!o||!c||o.length!=c.length)return!1;let u;for(let h=0;h<o.length;h++)if(u=o[h],!V7(l[u],a[u]))return!1;return!0}function V7(l,a){if(Array.isArray(l)&&Array.isArray(a)){if(l.length!==a.length)return!1;const o=[...l].sort(),c=[...a].sort();return o.every((u,h)=>c[h]===u)}return l===a}function z7(l){return Array.prototype.concat.apply([],l)}function U7(l){return l.length>0?l[l.length-1]:null}function fo(l,a){for(const o in l)l.hasOwnProperty(o)&&a(l[o],o)}function pu(l){return aA(l)?l:ty(l)?Js(Promise.resolve(l)):Xn(l)}const nve={exact:function W7(l,a,o){if(!Yf(l.segments,a.segments)||!dw(l.segments,a.segments,o)||l.numberOfChildren!==a.numberOfChildren)return!1;for(const c in a.children)if(!l.children[c]||!W7(l.children[c],a.children[c],o))return!1;return!0},subset:j7},H7={exact:function ive(l,a){return fu(l,a)},subset:function rve(l,a){return Object.keys(a).length<=Object.keys(l).length&&Object.keys(a).every(o=>V7(l[o],a[o]))},ignored:()=>!0};function G7(l,a,o){return nve[o.paths](l.root,a.root,o.matrixParams)&&H7[o.queryParams](l.queryParams,a.queryParams)&&!("exact"===o.fragment&&l.fragment!==a.fragment)}function j7(l,a,o){return $7(l,a,a.segments,o)}function $7(l,a,o,c){if(l.segments.length>o.length){const u=l.segments.slice(0,o.length);return!(!Yf(u,o)||a.hasChildren()||!dw(u,o,c))}if(l.segments.length===o.length){if(!Yf(l.segments,o)||!dw(l.segments,o,c))return!1;for(const u in a.children)if(!l.children[u]||!j7(l.children[u],a.children[u],c))return!1;return!0}{const u=o.slice(0,l.segments.length),h=o.slice(l.segments.length);return!!(Yf(l.segments,u)&&dw(l.segments,u,c)&&l.children[Di])&&$7(l.children[Di],a,h,c)}}function dw(l,a,o){return a.every((c,u)=>H7[o](l[u].parameters,c.parameters))}class qf{constructor(a,o,c){this.root=a,this.queryParams=o,this.fragment=c}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=km(this.queryParams)),this._queryParamMap}toString(){return ave.serialize(this)}}class Fi{constructor(a,o){this.segments=a,this.children=o,this.parent=null,fo(o,(c,u)=>c.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fw(this)}}class Sy{constructor(a,o){this.path=a,this.parameters=o}get parameterMap(){return this._parameterMap||(this._parameterMap=km(this.parameters)),this._parameterMap}toString(){return K7(this)}}function Yf(l,a){return l.length===a.length&&l.every((o,c)=>o.path===a[c].path)}class q7{}class Y7{parse(a){const o=new mve(a);return new qf(o.parseRootSegment(),o.parseQueryParams(),o.parseFragment())}serialize(a){const o=`/${Ty(a.root,!0)}`,c=function uve(l){const a=Object.keys(l).map(o=>{const c=l[o];return Array.isArray(c)?c.map(u=>`${pw(o)}=${pw(u)}`).join("&"):`${pw(o)}=${pw(c)}`}).filter(o=>!!o);return a.length?`?${a.join("&")}`:""}(a.queryParams);return`${o}${c}${"string"==typeof a.fragment?`#${function lve(l){return encodeURI(l)}(a.fragment)}`:""}`}}const ave=new Y7;function fw(l){return l.segments.map(a=>K7(a)).join("/")}function Ty(l,a){if(!l.hasChildren())return fw(l);if(a){const o=l.children[Di]?Ty(l.children[Di],!1):"",c=[];return fo(l.children,(u,h)=>{h!==Di&&c.push(`${h}:${Ty(u,!1)}`)}),c.length>0?`${o}(${c.join("//")})`:o}{const o=function ove(l,a){let o=[];return fo(l.children,(c,u)=>{u===Di&&(o=o.concat(a(c,u)))}),fo(l.children,(c,u)=>{u!==Di&&(o=o.concat(a(c,u)))}),o}(l,(c,u)=>u===Di?[Ty(l.children[Di],!1)]:[`${u}:${Ty(c,!1)}`]);return 1===Object.keys(l.children).length&&null!=l.children[Di]?`${fw(l)}/${o[0]}`:`${fw(l)}/(${o.join("//")})`}}function Z7(l){return encodeURIComponent(l).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pw(l){return Z7(l).replace(/%3B/gi,";")}function bI(l){return Z7(l).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gw(l){return decodeURIComponent(l)}function X7(l){return gw(l.replace(/\+/g,"%20"))}function K7(l){return`${bI(l.path)}${function cve(l){return Object.keys(l).map(a=>`;${bI(a)}=${bI(l[a])}`).join("")}(l.parameters)}`}const hve=/^[^\/()?;=#]+/;function mw(l){const a=l.match(hve);return a?a[0]:""}const dve=/^[^=?&#]+/,pve=/^[^&#]+/;class mve{constructor(a){this.url=a,this.remaining=a}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fi([],{}):new Fi([],this.parseChildren())}parseQueryParams(){const a={};if(this.consumeOptional("?"))do{this.parseQueryParam(a)}while(this.consumeOptional("&"));return a}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const a=[];for(this.peekStartsWith("(")||a.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),a.push(this.parseSegment());let o={};this.peekStartsWith("/(")&&(this.capture("/"),o=this.parseParens(!0));let c={};return this.peekStartsWith("(")&&(c=this.parseParens(!1)),(a.length>0||Object.keys(o).length>0)&&(c[Di]=new Fi(a,o)),c}parseSegment(){const a=mw(this.remaining);if(""===a&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(a),new Sy(gw(a),this.parseMatrixParams())}parseMatrixParams(){const a={};for(;this.consumeOptional(";");)this.parseParam(a);return a}parseParam(a){const o=mw(this.remaining);if(!o)return;this.capture(o);let c="";if(this.consumeOptional("=")){const u=mw(this.remaining);u&&(c=u,this.capture(c))}a[gw(o)]=gw(c)}parseQueryParam(a){const o=function fve(l){const a=l.match(dve);return a?a[0]:""}(this.remaining);if(!o)return;this.capture(o);let c="";if(this.consumeOptional("=")){const d=function gve(l){const a=l.match(pve);return a?a[0]:""}(this.remaining);d&&(c=d,this.capture(c))}const u=X7(o),h=X7(c);if(a.hasOwnProperty(u)){let d=a[u];Array.isArray(d)||(d=[d],a[u]=d),d.push(h)}else a[u]=h}parseParens(a){const o={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const c=mw(this.remaining),u=this.remaining[c.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let h;c.indexOf(":")>-1?(h=c.substr(0,c.indexOf(":")),this.capture(h),this.capture(":")):a&&(h=Di);const d=this.parseChildren();o[h]=1===Object.keys(d).length?d[Di]:new Fi([],d),this.consumeOptional("//")}return o}peekStartsWith(a){return this.remaining.startsWith(a)}consumeOptional(a){return!!this.peekStartsWith(a)&&(this.remaining=this.remaining.substring(a.length),!0)}capture(a){if(!this.consumeOptional(a))throw new Error(`Expected "${a}".`)}}class Q7{constructor(a){this._root=a}get root(){return this._root.value}parent(a){const o=this.pathFromRoot(a);return o.length>1?o[o.length-2]:null}children(a){const o=xI(a,this._root);return o?o.children.map(c=>c.value):[]}firstChild(a){const o=xI(a,this._root);return o&&o.children.length>0?o.children[0].value:null}siblings(a){const o=CI(a,this._root);return o.length<2?[]:o[o.length-2].children.map(u=>u.value).filter(u=>u!==a)}pathFromRoot(a){return CI(a,this._root).map(o=>o.value)}}function xI(l,a){if(l===a.value)return a;for(const o of a.children){const c=xI(l,o);if(c)return c}return null}function CI(l,a){if(l===a.value)return[a];for(const o of a.children){const c=CI(l,o);if(c.length)return c.unshift(a),c}return[]}class bh{constructor(a,o){this.value=a,this.children=o}toString(){return`TreeNode(${this.value})`}}function Am(l){const a={};return l&&l.children.forEach(o=>a[o.value.outlet]=o),a}class J7 extends Q7{constructor(a,o){super(a),this.snapshot=o,wI(this,a)}toString(){return this.snapshot.toString()}}function e9(l,a){const o=function vve(l,a){const d=new vw([],{},{},"",{},Di,a,null,l.root,-1,{});return new n9("",new bh(d,[]))}(l,a),c=new kr([new Sy("",{})]),u=new kr({}),h=new kr({}),d=new kr({}),f=new kr(""),p=new Im(c,u,d,f,h,Di,a,o.root);return p.snapshot=o.root,new J7(new bh(p,[]),o)}class Im{constructor(a,o,c,u,h,d,f,p){this.url=a,this.params=o,this.queryParams=c,this.fragment=u,this.data=h,this.outlet=d,this.component=f,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(an(a=>km(a)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(an(a=>km(a)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function t9(l,a="emptyOnly"){const o=l.pathFromRoot;let c=0;if("always"!==a)for(c=o.length-1;c>=1;){const u=o[c],h=o[c-1];if(u.routeConfig&&""===u.routeConfig.path)c--;else{if(h.component)break;c--}}return function _ve(l){return l.reduce((a,o)=>({params:Object.assign(Object.assign({},a.params),o.params),data:Object.assign(Object.assign({},a.data),o.data),resolve:Object.assign(Object.assign({},a.resolve),o._resolvedData)}),{params:{},data:{},resolve:{}})}(o.slice(c))}class vw{constructor(a,o,c,u,h,d,f,p,g,m,v){this.url=a,this.params=o,this.queryParams=c,this.fragment=u,this.data=h,this.outlet=d,this.component=f,this.routeConfig=p,this._urlSegment=g,this._lastPathIndex=m,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=km(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=km(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(c=>c.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class n9 extends Q7{constructor(a,o){super(o),this.url=a,wI(this,o)}toString(){return i9(this._root)}}function wI(l,a){a.value._routerState=l,a.children.forEach(o=>wI(l,o))}function i9(l){const a=l.children.length>0?` { ${l.children.map(i9).join(", ")} } `:"";return`${l.value}${a}`}function SI(l){if(l.snapshot){const a=l.snapshot,o=l._futureSnapshot;l.snapshot=o,fu(a.queryParams,o.queryParams)||l.queryParams.next(o.queryParams),a.fragment!==o.fragment&&l.fragment.next(o.fragment),fu(a.params,o.params)||l.params.next(o.params),function eve(l,a){if(l.length!==a.length)return!1;for(let o=0;o<l.length;++o)if(!fu(l[o],a[o]))return!1;return!0}(a.url,o.url)||l.url.next(o.url),fu(a.data,o.data)||l.data.next(o.data)}else l.snapshot=l._futureSnapshot,l.data.next(l._futureSnapshot.data)}function TI(l,a){const o=fu(l.params,a.params)&&function sve(l,a){return Yf(l,a)&&l.every((o,c)=>fu(o.parameters,a[c].parameters))}(l.url,a.url);return o&&!(!l.parent!=!a.parent)&&(!l.parent||TI(l.parent,a.parent))}function My(l,a,o){if(o&&l.shouldReuseRoute(a.value,o.value.snapshot)){const c=o.value;c._futureSnapshot=a.value;const u=function bve(l,a,o){return a.children.map(c=>{for(const u of o.children)if(l.shouldReuseRoute(c.value,u.value.snapshot))return My(l,c,u);return My(l,c)})}(l,a,o);return new bh(c,u)}{if(l.shouldAttach(a.value)){const h=l.retrieve(a.value);if(null!==h){const d=h.route;return d.value._futureSnapshot=a.value,d.children=a.children.map(f=>My(l,f)),d}}const c=function xve(l){return new Im(new kr(l.url),new kr(l.params),new kr(l.queryParams),new kr(l.fragment),new kr(l.data),l.outlet,l.component,l)}(a.value),u=a.children.map(h=>My(l,h));return new bh(c,u)}}function _w(l){return"object"==typeof l&&null!=l&&!l.outlets&&!l.segmentPath}function Dy(l){return"object"==typeof l&&null!=l&&l.outlets}function MI(l,a,o,c,u){let h={};return c&&fo(c,(d,f)=>{h[f]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`}),new qf(o.root===l?a:r9(o.root,l,a),h,u)}function r9(l,a,o){const c={};return fo(l.children,(u,h)=>{c[h]=u===a?o:r9(u,a,o)}),new Fi(l.segments,c)}class s9{constructor(a,o,c){if(this.isAbsolute=a,this.numberOfDoubleDots=o,this.commands=c,a&&c.length>0&&_w(c[0]))throw new Error("Root segment cannot have matrix parameters");const u=c.find(Dy);if(u&&u!==U7(c))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class DI{constructor(a,o,c){this.segmentGroup=a,this.processChildren=o,this.index=c}}function o9(l,a,o){if(l||(l=new Fi([],{})),0===l.segments.length&&l.hasChildren())return yw(l,a,o);const c=function Dve(l,a,o){let c=0,u=a;const h={match:!1,pathIndex:0,commandIndex:0};for(;u<l.segments.length;){if(c>=o.length)return h;const d=l.segments[u],f=o[c];if(Dy(f))break;const p=`${f}`,g=c<o.length-1?o[c+1]:null;if(u>0&&void 0===p)break;if(p&&g&&"object"==typeof g&&void 0===g.outlets){if(!l9(p,g,d))return h;c+=2}else{if(!l9(p,{},d))return h;c++}u++}return{match:!0,pathIndex:u,commandIndex:c}}(l,a,o),u=o.slice(c.commandIndex);if(c.match&&c.pathIndex<l.segments.length){const h=new Fi(l.segments.slice(0,c.pathIndex),{});return h.children[Di]=new Fi(l.segments.slice(c.pathIndex),l.children),yw(h,0,u)}return c.match&&0===u.length?new Fi(l.segments,{}):c.match&&!l.hasChildren()?EI(l,a,o):c.match?yw(l,0,u):EI(l,a,o)}function yw(l,a,o){if(0===o.length)return new Fi(l.segments,{});{const c=function Mve(l){return Dy(l[0])?l[0].outlets:{[Di]:l}}(o),u={};return fo(c,(h,d)=>{"string"==typeof h&&(h=[h]),null!==h&&(u[d]=o9(l.children[d],a,h))}),fo(l.children,(h,d)=>{void 0===c[d]&&(u[d]=h)}),new Fi(l.segments,u)}}function EI(l,a,o){const c=l.segments.slice(0,a);let u=0;for(;u<o.length;){const h=o[u];if(Dy(h)){const p=Eve(h.outlets);return new Fi(c,p)}if(0===u&&_w(o[0])){c.push(new Sy(l.segments[a].path,a9(o[0]))),u++;continue}const d=Dy(h)?h.outlets[Di]:`${h}`,f=u<o.length-1?o[u+1]:null;d&&f&&_w(f)?(c.push(new Sy(d,a9(f))),u+=2):(c.push(new Sy(d,{})),u++)}return new Fi(c,{})}function Eve(l){const a={};return fo(l,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(a[c]=EI(new Fi([],{}),0,o))}),a}function a9(l){const a={};return fo(l,(o,c)=>a[c]=`${o}`),a}function l9(l,a,o){return l==o.path&&fu(a,o.parameters)}class Ave{constructor(a,o,c,u){this.routeReuseStrategy=a,this.futureState=o,this.currState=c,this.forwardEvent=u}activate(a){const o=this.futureState._root,c=this.currState?this.currState._root:null;this.deactivateChildRoutes(o,c,a),SI(this.futureState.root),this.activateChildRoutes(o,c,a)}deactivateChildRoutes(a,o,c){const u=Am(o);a.children.forEach(h=>{const d=h.value.outlet;this.deactivateRoutes(h,u[d],c),delete u[d]}),fo(u,(h,d)=>{this.deactivateRouteAndItsChildren(h,c)})}deactivateRoutes(a,o,c){const u=a.value,h=o?o.value:null;if(u===h)if(u.component){const d=c.getContext(u.outlet);d&&this.deactivateChildRoutes(a,o,d.children)}else this.deactivateChildRoutes(a,o,c);else h&&this.deactivateRouteAndItsChildren(o,c)}deactivateRouteAndItsChildren(a,o){a.value.component&&this.routeReuseStrategy.shouldDetach(a.value.snapshot)?this.detachAndStoreRouteSubtree(a,o):this.deactivateRouteAndOutlet(a,o)}detachAndStoreRouteSubtree(a,o){const c=o.getContext(a.value.outlet),u=c&&a.value.component?c.children:o,h=Am(a);for(const d of Object.keys(h))this.deactivateRouteAndItsChildren(h[d],u);if(c&&c.outlet){const d=c.outlet.detach(),f=c.children.onOutletDeactivated();this.routeReuseStrategy.store(a.value.snapshot,{componentRef:d,route:a,contexts:f})}}deactivateRouteAndOutlet(a,o){const c=o.getContext(a.value.outlet),u=c&&a.value.component?c.children:o,h=Am(a);for(const d of Object.keys(h))this.deactivateRouteAndItsChildren(h[d],u);c&&c.outlet&&(c.outlet.deactivate(),c.children.onOutletDeactivated(),c.attachRef=null,c.resolver=null,c.route=null)}activateChildRoutes(a,o,c){const u=Am(o);a.children.forEach(h=>{this.activateRoutes(h,u[h.value.outlet],c),this.forwardEvent(new X0e(h.value.snapshot))}),a.children.length&&this.forwardEvent(new Y0e(a.value.snapshot))}activateRoutes(a,o,c){const u=a.value,h=o?o.value:null;if(SI(u),u===h)if(u.component){const d=c.getOrCreateContext(u.outlet);this.activateChildRoutes(a,o,d.children)}else this.activateChildRoutes(a,o,c);else if(u.component){const d=c.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const f=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),SI(f.route.value),this.activateChildRoutes(a,null,d.children)}else{const f=function Ive(l){for(let a=l.parent;a;a=a.parent){const o=a.routeConfig;if(o&&o._loadedConfig)return o._loadedConfig;if(o&&o.component)return null}return null}(u.snapshot),p=f?f.module.componentFactoryResolver:null;d.attachRef=null,d.route=u,d.resolver=p,d.outlet&&d.outlet.activateWith(u,p),this.activateChildRoutes(a,null,d.children)}}else this.activateChildRoutes(a,null,c)}}class kI{constructor(a,o){this.routes=a,this.module=o}}function xd(l){return"function"==typeof l}function Zf(l){return l instanceof qf}const Ey=Symbol("INITIAL_VALUE");function ky(){return bd(l=>function D7(...l){const a=T_(l),o=h8(l),{args:c,keys:u}=T7(l);if(0===c.length)return Js([],a);const h=new dn(function R0e(l,a,o=yt){return c=>{E7(a,()=>{const{length:u}=l,h=new Array(u);let d=u,f=u;for(let p=0;p<u;p++)E7(a,()=>{const g=Js(l[p],a);let m=!1;g.subscribe(new Ti(c,v=>{h[p]=v,m||(m=!0,f--),f||c.next(o(h.slice()))},()=>{--d||c.complete()}))},c)},c)}}(c,a,u?d=>M7(u,d):yt));return o?h.pipe(gI(o)):h}(l.map(a=>a.pipe(Pg(1),hw(Ey)))).pipe(I7((a,o)=>{let c=!1;return o.reduce((u,h,d)=>u!==Ey?u:(h===Ey&&(c=!0),c||!1!==h&&d!==o.length-1&&!Zf(h)?u:h),a)},Ey),_s(a=>a!==Ey),an(a=>Zf(a)?a:!0===a),Pg(1)))}class Nve{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ay,this.attachRef=null}}class Ay{constructor(){this.contexts=new Map}onChildOutletCreated(a,o){const c=this.getOrCreateContext(a);c.outlet=o,this.contexts.set(a,c)}onChildOutletDestroyed(a){const o=this.getContext(a);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const a=this.contexts;return this.contexts=new Map,a}onOutletReAttached(a){this.contexts=a}getOrCreateContext(a){let o=this.getContext(a);return o||(o=new Nve,this.contexts.set(a,o)),o}getContext(a){return this.contexts.get(a)||null}}let AI=(()=>{class l{constructor(o,c,u,h,d){this.parentContexts=o,this.location=c,this.resolver=u,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new Rt,this.deactivateEvents=new Rt,this.attachEvents=new Rt,this.detachEvents=new Rt,this.name=h||Di,o.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const o=this.parentContexts.getContext(this.name);o&&o.route&&(o.attachRef?this.attach(o.attachRef,o.route):this.activateWith(o.route,o.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const o=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(o.instance),o}attach(o,c){this.activated=o,this._activatedRoute=c,this.location.insert(o.hostView),this.attachEvents.emit(o.instance)}deactivate(){if(this.activated){const o=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(o)}}activateWith(o,c){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=o;const d=(c=c||this.resolver).resolveComponentFactory(o._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,p=new Bve(o,f,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return l.\u0275fac=function(o){return new(o||l)(N(Ay),N(vi),N(gh),Wg("name"),N(Da))},l.\u0275dir=gt({type:l,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),l})();class Bve{constructor(a,o,c){this.route=a,this.childContexts=o,this.parent=c}get(a,o){return a===Im?this.route:a===Ay?this.childContexts:this.parent.get(a,o)}}let c9=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=nt({type:l,selectors:[["ng-component"]],decls:1,vars:0,template:function(o,c){1&o&&ye(0,"router-outlet")},directives:[AI],encapsulation:2}),l})();function u9(l,a=""){for(let o=0;o<l.length;o++){const c=l[o];Vve(c,zve(a,c))}}function Vve(l,a){l.children&&u9(l.children,a)}function zve(l,a){return a?l||a.path?l&&!a.path?`${l}/`:!l&&a.path?a.path:`${l}/${a.path}`:"":l}function II(l){const a=l.children&&l.children.map(II),o=a?Object.assign(Object.assign({},l),{children:a}):Object.assign({},l);return!o.component&&(a||o.loadChildren)&&o.outlet&&o.outlet!==Di&&(o.component=c9),o}function Ul(l){return l.outlet||Di}function h9(l,a){const o=l.filter(c=>Ul(c)===a);return o.push(...l.filter(c=>Ul(c)!==a)),o}const d9={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function bw(l,a,o){var c;if(""===a.path)return"full"===a.pathMatch&&(l.hasChildren()||o.length>0)?Object.assign({},d9):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const h=(a.matcher||J0e)(o,l,a);if(!h)return Object.assign({},d9);const d={};fo(h.posParams,(p,g)=>{d[g]=p.path});const f=h.consumed.length>0?Object.assign(Object.assign({},d),h.consumed[h.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:h.consumed,lastChild:h.consumed.length,parameters:f,positionalParamSegments:null!==(c=h.posParams)&&void 0!==c?c:{}}}function xw(l,a,o,c,u="corrected"){if(o.length>0&&function Gve(l,a,o){return o.some(c=>Cw(l,a,c)&&Ul(c)!==Di)}(l,o,c)){const d=new Fi(a,function Hve(l,a,o,c){const u={};u[Di]=c,c._sourceSegment=l,c._segmentIndexShift=a.length;for(const h of o)if(""===h.path&&Ul(h)!==Di){const d=new Fi([],{});d._sourceSegment=l,d._segmentIndexShift=a.length,u[Ul(h)]=d}return u}(l,a,c,new Fi(o,l.children)));return d._sourceSegment=l,d._segmentIndexShift=a.length,{segmentGroup:d,slicedSegments:[]}}if(0===o.length&&function Wve(l,a,o){return o.some(c=>Cw(l,a,c))}(l,o,c)){const d=new Fi(l.segments,function Uve(l,a,o,c,u,h){const d={};for(const f of c)if(Cw(l,o,f)&&!u[Ul(f)]){const p=new Fi([],{});p._sourceSegment=l,p._segmentIndexShift="legacy"===h?l.segments.length:a.length,d[Ul(f)]=p}return Object.assign(Object.assign({},u),d)}(l,a,o,c,l.children,u));return d._sourceSegment=l,d._segmentIndexShift=a.length,{segmentGroup:d,slicedSegments:o}}const h=new Fi(l.segments,l.children);return h._sourceSegment=l,h._segmentIndexShift=a.length,{segmentGroup:h,slicedSegments:o}}function Cw(l,a,o){return(!(l.hasChildren()||a.length>0)||"full"!==o.pathMatch)&&""===o.path}function f9(l,a,o,c){return!!(Ul(l)===c||c!==Di&&Cw(a,o,l))&&("**"===l.path||bw(a,l,o).matched)}function p9(l,a,o){return 0===a.length&&!l.children[o]}class Iy{constructor(a){this.segmentGroup=a||null}}class g9{constructor(a){this.urlTree=a}}function ww(l){return new dn(a=>a.error(new Iy(l)))}function m9(l){return new dn(a=>a.error(new g9(l)))}function jve(l){return new dn(a=>a.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${l}'`)))}class Yve{constructor(a,o,c,u,h){this.configLoader=o,this.urlSerializer=c,this.urlTree=u,this.config=h,this.allowRedirects=!0,this.ngModule=a.get(mh)}apply(){const a=xw(this.urlTree.root,[],[],this.config).segmentGroup,o=new Fi(a.segments,a.children);return this.expandSegmentGroup(this.ngModule,this.config,o,Di).pipe(an(h=>this.createUrlTree(PI(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(tr(h=>{if(h instanceof g9)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof Iy?this.noMatchError(h):h}))}match(a){return this.expandSegmentGroup(this.ngModule,this.config,a.root,Di).pipe(an(u=>this.createUrlTree(PI(u),a.queryParams,a.fragment))).pipe(tr(u=>{throw u instanceof Iy?this.noMatchError(u):u}))}noMatchError(a){return new Error(`Cannot match any routes. URL Segment: '${a.segmentGroup}'`)}createUrlTree(a,o,c){const u=a.segments.length>0?new Fi([],{[Di]:a}):a;return new qf(u,o,c)}expandSegmentGroup(a,o,c,u){return 0===c.segments.length&&c.hasChildren()?this.expandChildren(a,o,c).pipe(an(h=>new Fi([],h))):this.expandSegment(a,c,o,c.segments,u,!0)}expandChildren(a,o,c){const u=[];for(const h of Object.keys(c.children))"primary"===h?u.unshift(h):u.push(h);return Js(u).pipe(Em(h=>{const d=c.children[h],f=h9(o,h);return this.expandSegmentGroup(a,f,d,h).pipe(an(p=>({segment:p,outlet:h})))}),I7((h,d)=>(h[d.outlet]=d.segment,h),{}),function V0e(l,a){const o=arguments.length>=2;return c=>c.pipe(l?_s((u,h)=>l(u,h,c)):yt,vI(1),o?O7(a):P7(()=>new uw))}())}expandSegment(a,o,c,u,h,d){return Js(c).pipe(Em(f=>this.expandSegmentAgainstRoute(a,o,c,f,u,h,d).pipe(tr(g=>{if(g instanceof Iy)return Xn(null);throw g}))),$f(f=>!!f),tr((f,p)=>{if(f instanceof uw||"EmptyError"===f.name){if(p9(o,u,h))return Xn(new Fi([],{}));throw new Iy(o)}throw f}))}expandSegmentAgainstRoute(a,o,c,u,h,d,f){return f9(u,o,h,d)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(a,o,u,h,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(a,o,c,u,h,d):ww(o):ww(o)}expandSegmentAgainstRouteUsingRedirect(a,o,c,u,h,d){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(a,c,u,d):this.expandRegularSegmentAgainstRouteUsingRedirect(a,o,c,u,h,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(a,o,c,u){const h=this.applyRedirectCommands([],c.redirectTo,{});return c.redirectTo.startsWith("/")?m9(h):this.lineralizeSegments(c,h).pipe(Bs(d=>{const f=new Fi(d,{});return this.expandSegment(a,f,o,d,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(a,o,c,u,h,d){const{matched:f,consumedSegments:p,lastChild:g,positionalParamSegments:m}=bw(o,u,h);if(!f)return ww(o);const v=this.applyRedirectCommands(p,u.redirectTo,m);return u.redirectTo.startsWith("/")?m9(v):this.lineralizeSegments(u,v).pipe(Bs(_=>this.expandSegment(a,o,c,_.concat(h.slice(g)),d,!1)))}matchSegmentAgainstRoute(a,o,c,u,h){if("**"===c.path)return c.loadChildren?(c._loadedConfig?Xn(c._loadedConfig):this.configLoader.load(a.injector,c)).pipe(an(_=>(c._loadedConfig=_,new Fi(u,{})))):Xn(new Fi(u,{}));const{matched:d,consumedSegments:f,lastChild:p}=bw(o,c,u);if(!d)return ww(o);const g=u.slice(p);return this.getChildConfig(a,c,u).pipe(Bs(v=>{const _=v.module,y=v.routes,{segmentGroup:b,slicedSegments:C}=xw(o,f,g,y),x=new Fi(b.segments,b.children);if(0===C.length&&x.hasChildren())return this.expandChildren(_,y,x).pipe(an(T=>new Fi(f,T)));if(0===y.length&&0===C.length)return Xn(new Fi(f,{}));const w=Ul(c)===h;return this.expandSegment(_,x,y,C,w?Di:h,!0).pipe(an(M=>new Fi(f.concat(M.segments),M.children)))}))}getChildConfig(a,o,c){return o.children?Xn(new kI(o.children,a)):o.loadChildren?void 0!==o._loadedConfig?Xn(o._loadedConfig):this.runCanLoadGuards(a.injector,o,c).pipe(Bs(u=>u?this.configLoader.load(a.injector,o).pipe(an(h=>(o._loadedConfig=h,h))):function $ve(l){return new dn(a=>a.error(yI(`Cannot load children because the guard of the route "path: '${l.path}'" returned false`)))}(o))):Xn(new kI([],a))}runCanLoadGuards(a,o,c){const u=o.canLoad;return u&&0!==u.length?Xn(u.map(d=>{const f=a.get(d);let p;if(function Ove(l){return l&&xd(l.canLoad)}(f))p=f.canLoad(o,c);else{if(!xd(f))throw new Error("Invalid CanLoad guard");p=f(o,c)}return pu(p)})).pipe(ky(),ea(d=>{if(!Zf(d))return;const f=yI(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw f.url=d,f}),an(d=>!0===d)):Xn(!0)}lineralizeSegments(a,o){let c=[],u=o.root;for(;;){if(c=c.concat(u.segments),0===u.numberOfChildren)return Xn(c);if(u.numberOfChildren>1||!u.children[Di])return jve(a.redirectTo);u=u.children[Di]}}applyRedirectCommands(a,o,c){return this.applyRedirectCreatreUrlTree(o,this.urlSerializer.parse(o),a,c)}applyRedirectCreatreUrlTree(a,o,c,u){const h=this.createSegmentGroup(a,o.root,c,u);return new qf(h,this.createQueryParams(o.queryParams,this.urlTree.queryParams),o.fragment)}createQueryParams(a,o){const c={};return fo(a,(u,h)=>{if("string"==typeof u&&u.startsWith(":")){const f=u.substring(1);c[h]=o[f]}else c[h]=u}),c}createSegmentGroup(a,o,c,u){const h=this.createSegments(a,o.segments,c,u);let d={};return fo(o.children,(f,p)=>{d[p]=this.createSegmentGroup(a,f,c,u)}),new Fi(h,d)}createSegments(a,o,c,u){return o.map(h=>h.path.startsWith(":")?this.findPosParam(a,h,u):this.findOrReturn(h,c))}findPosParam(a,o,c){const u=c[o.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${a}'. Cannot find '${o.path}'.`);return u}findOrReturn(a,o){let c=0;for(const u of o){if(u.path===a.path)return o.splice(c),u;c++}return a}}function PI(l){const a={};for(const c of Object.keys(l.children)){const h=PI(l.children[c]);(h.segments.length>0||h.hasChildren())&&(a[c]=h)}return function Zve(l){if(1===l.numberOfChildren&&l.children[Di]){const a=l.children[Di];return new Fi(l.segments.concat(a.segments),a.children)}return l}(new Fi(l.segments,a))}class v9{constructor(a){this.path=a,this.route=this.path[this.path.length-1]}}class Sw{constructor(a,o){this.component=a,this.route=o}}function Kve(l,a,o){const c=l._root;return Py(c,a?a._root:null,o,[c.value])}function Tw(l,a,o){const c=function Jve(l){if(!l)return null;for(let a=l.parent;a;a=a.parent){const o=a.routeConfig;if(o&&o._loadedConfig)return o._loadedConfig}return null}(a);return(c?c.module.injector:o).get(l)}function Py(l,a,o,c,u={canDeactivateChecks:[],canActivateChecks:[]}){const h=Am(a);return l.children.forEach(d=>{(function e_e(l,a,o,c,u={canDeactivateChecks:[],canActivateChecks:[]}){const h=l.value,d=a?a.value:null,f=o?o.getContext(l.value.outlet):null;if(d&&h.routeConfig===d.routeConfig){const p=function t_e(l,a,o){if("function"==typeof o)return o(l,a);switch(o){case"pathParamsChange":return!Yf(l.url,a.url);case"pathParamsOrQueryParamsChange":return!Yf(l.url,a.url)||!fu(l.queryParams,a.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!TI(l,a)||!fu(l.queryParams,a.queryParams);default:return!TI(l,a)}}(d,h,h.routeConfig.runGuardsAndResolvers);p?u.canActivateChecks.push(new v9(c)):(h.data=d.data,h._resolvedData=d._resolvedData),Py(l,a,h.component?f?f.children:null:o,c,u),p&&f&&f.outlet&&f.outlet.isActivated&&u.canDeactivateChecks.push(new Sw(f.outlet.component,d))}else d&&Oy(a,f,u),u.canActivateChecks.push(new v9(c)),Py(l,null,h.component?f?f.children:null:o,c,u)})(d,h[d.value.outlet],o,c.concat([d.value]),u),delete h[d.value.outlet]}),fo(h,(d,f)=>Oy(d,o.getContext(f),u)),u}function Oy(l,a,o){const c=Am(l),u=l.value;fo(c,(h,d)=>{Oy(h,u.component?a?a.children.getContext(d):null:a,o)}),o.canDeactivateChecks.push(new Sw(u.component&&a&&a.outlet&&a.outlet.isActivated?a.outlet.component:null,u))}class u_e{}function _9(l){return new dn(a=>a.error(l))}class d_e{constructor(a,o,c,u,h,d){this.rootComponentType=a,this.config=o,this.urlTree=c,this.url=u,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=d}recognize(){const a=xw(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,o=this.processSegmentGroup(this.config,a,Di);if(null===o)return null;const c=new vw([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Di,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new bh(c,o),h=new n9(this.url,u);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(a){const o=a.value,c=t9(o,this.paramsInheritanceStrategy);o.params=Object.freeze(c.params),o.data=Object.freeze(c.data),a.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(a,o,c){return 0===o.segments.length&&o.hasChildren()?this.processChildren(a,o):this.processSegment(a,o,o.segments,c)}processChildren(a,o){const c=[];for(const h of Object.keys(o.children)){const d=o.children[h],f=h9(a,h),p=this.processSegmentGroup(f,d,h);if(null===p)return null;c.push(...p)}const u=y9(c);return function f_e(l){l.sort((a,o)=>a.value.outlet===Di?-1:o.value.outlet===Di?1:a.value.outlet.localeCompare(o.value.outlet))}(u),u}processSegment(a,o,c,u){for(const h of a){const d=this.processSegmentAgainstRoute(h,o,c,u);if(null!==d)return d}return p9(o,c,u)?[]:null}processSegmentAgainstRoute(a,o,c,u){if(a.redirectTo||!f9(a,o,c,u))return null;let h,d=[],f=[];if("**"===a.path){const y=c.length>0?U7(c).parameters:{};h=new vw(c,y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,C9(a),Ul(a),a.component,a,b9(o),x9(o)+c.length,w9(a))}else{const y=bw(o,a,c);if(!y.matched)return null;d=y.consumedSegments,f=c.slice(y.lastChild),h=new vw(d,y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,C9(a),Ul(a),a.component,a,b9(o),x9(o)+d.length,w9(a))}const p=function p_e(l){return l.children?l.children:l.loadChildren?l._loadedConfig.routes:[]}(a),{segmentGroup:g,slicedSegments:m}=xw(o,d,f,p.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution);if(0===m.length&&g.hasChildren()){const y=this.processChildren(p,g);return null===y?null:[new bh(h,y)]}if(0===p.length&&0===m.length)return[new bh(h,[])];const v=Ul(a)===u,_=this.processSegment(p,g,m,v?Di:u);return null===_?null:[new bh(h,_)]}}function g_e(l){const a=l.value.routeConfig;return a&&""===a.path&&void 0===a.redirectTo}function y9(l){const a=[],o=new Set;for(const c of l){if(!g_e(c)){a.push(c);continue}const u=a.find(h=>c.value.routeConfig===h.value.routeConfig);void 0!==u?(u.children.push(...c.children),o.add(u)):a.push(c)}for(const c of o){const u=y9(c.children);a.push(new bh(c.value,u))}return a.filter(c=>!o.has(c))}function b9(l){let a=l;for(;a._sourceSegment;)a=a._sourceSegment;return a}function x9(l){let a=l,o=a._segmentIndexShift?a._segmentIndexShift:0;for(;a._sourceSegment;)a=a._sourceSegment,o+=a._segmentIndexShift?a._segmentIndexShift:0;return o-1}function C9(l){return l.data||{}}function w9(l){return l.resolve||{}}function S9(l){return[...Object.keys(l),...Object.getOwnPropertySymbols(l)]}function OI(l){return bd(a=>{const o=l(a);return o?Js(o).pipe(an(()=>a)):Xn(a)})}class w_e extends class C_e{shouldDetach(a){return!1}store(a,o){}shouldAttach(a){return!1}retrieve(a){return null}shouldReuseRoute(a,o){return a.routeConfig===o.routeConfig}}{}const RI=new Un("ROUTES");class T9{constructor(a,o,c,u){this.injector=a,this.compiler=o,this.onLoadStartListener=c,this.onLoadEndListener=u}load(a,o){if(o._loader$)return o._loader$;this.onLoadStartListener&&this.onLoadStartListener(o);const u=this.loadModuleFactory(o.loadChildren).pipe(an(h=>{this.onLoadEndListener&&this.onLoadEndListener(o);const d=h.create(a);return new kI(z7(d.injector.get(RI,void 0,si.Self|si.Optional)).map(II),d)}),tr(h=>{throw o._loader$=void 0,h}));return o._loader$=new L0e(u,()=>new pt).pipe(A7()),o._loader$}loadModuleFactory(a){return pu(a()).pipe(Bs(o=>o instanceof LU?Xn(o):Js(this.compiler.compileModuleAsync(o))))}}class T_e{shouldProcessUrl(a){return!0}extract(a){return a}merge(a,o){return a}}function M_e(l){throw l}function D_e(l,a,o){return a.parse("/")}function M9(l,a){return Xn(null)}const E_e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},k_e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let as=(()=>{class l{constructor(o,c,u,h,d,f,p){this.rootComponentType=o,this.urlSerializer=c,this.rootContexts=u,this.location=h,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new pt,this.errorHandler=M_e,this.malformedUriErrorHandler=D_e,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:M9,afterPreactivation:M9},this.urlHandlingStrategy=new T_e,this.routeReuseStrategy=new w_e,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(mh),this.console=d.get(yH);const v=d.get(sr);this.isNgZoneEnabled=v instanceof sr&&sr.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function tve(){return new qf(new Fi([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new T9(d,f,_=>this.triggerEvent(new F7(_)),_=>this.triggerEvent(new L7(_))),this.routerState=e9(this.currentUrlTree,this.rootComponentType),this.transitions=new kr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var o;return null===(o=this.location.getState())||void 0===o?void 0:o.\u0275routerPageId}setupNavigations(o){const c=this.events;return o.pipe(_s(u=>0!==u.id),an(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),bd(u=>{let h=!1,d=!1;return Xn(u).pipe(ea(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),bd(f=>{const p=this.browserUrlTree.toString(),g=!this.navigated||f.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||g)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Mw(f.source)&&(this.browserUrlTree=f.extractedUrl),Xn(f).pipe(bd(v=>{const _=this.transitions.getValue();return c.next(new _I(v.id,this.serializeUrl(v.extractedUrl),v.source,v.restoredState)),_!==this.transitions.getValue()?ah:Promise.resolve(v)}),function Xve(l,a,o,c){return bd(u=>function qve(l,a,o,c,u){return new Yve(l,a,o,c,u).apply()}(l,a,o,u.extractedUrl,c).pipe(an(h=>Object.assign(Object.assign({},u),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ea(v=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:v.urlAfterRedirects})}),function m_e(l,a,o,c,u){return Bs(h=>function h_e(l,a,o,c,u="emptyOnly",h="legacy"){try{const d=new d_e(l,a,o,c,u,h).recognize();return null===d?_9(new u_e):Xn(d)}catch(d){return _9(d)}}(l,a,h.urlAfterRedirects,o(h.urlAfterRedirects),c,u).pipe(an(d=>Object.assign(Object.assign({},h),{targetSnapshot:d}))))}(this.rootComponentType,this.config,v=>this.serializeUrl(v),this.paramsInheritanceStrategy,this.relativeLinkResolution),ea(v=>{if("eager"===this.urlUpdateStrategy){if(!v.extras.skipLocationChange){const y=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);this.setBrowserUrl(y,v)}this.browserUrlTree=v.urlAfterRedirects}const _=new H0e(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);c.next(_)}));if(g&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:_,extractedUrl:y,source:b,restoredState:C,extras:x}=f,w=new _I(_,this.serializeUrl(y),b,C);c.next(w);const S=e9(y,this.rootComponentType).snapshot;return Xn(Object.assign(Object.assign({},f),{targetSnapshot:S,urlAfterRedirects:y,extras:Object.assign(Object.assign({},x),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),ah}),OI(f=>{const{targetSnapshot:p,id:g,extractedUrl:m,rawUrl:v,extras:{skipLocationChange:_,replaceUrl:y}}=f;return this.hooks.beforePreactivation(p,{navigationId:g,appliedUrlTree:m,rawUrlTree:v,skipLocationChange:!!_,replaceUrl:!!y})}),ea(f=>{const p=new G0e(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(p)}),an(f=>Object.assign(Object.assign({},f),{guards:Kve(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function n_e(l,a){return Bs(o=>{const{targetSnapshot:c,currentSnapshot:u,guards:{canActivateChecks:h,canDeactivateChecks:d}}=o;return 0===d.length&&0===h.length?Xn(Object.assign(Object.assign({},o),{guardsResult:!0})):function i_e(l,a,o,c){return Js(l).pipe(Bs(u=>function c_e(l,a,o,c,u){const h=a&&a.routeConfig?a.routeConfig.canDeactivate:null;return h&&0!==h.length?Xn(h.map(f=>{const p=Tw(f,a,u);let g;if(function Lve(l){return l&&xd(l.canDeactivate)}(p))g=pu(p.canDeactivate(l,a,o,c));else{if(!xd(p))throw new Error("Invalid CanDeactivate guard");g=pu(p(l,a,o,c))}return g.pipe($f())})).pipe(ky()):Xn(!0)}(u.component,u.route,o,a,c)),$f(u=>!0!==u,!0))}(d,c,u,l).pipe(Bs(f=>f&&function Pve(l){return"boolean"==typeof l}(f)?function r_e(l,a,o,c){return Js(a).pipe(Em(u=>mI(function o_e(l,a){return null!==l&&a&&a(new q0e(l)),Xn(!0)}(u.route.parent,c),function s_e(l,a){return null!==l&&a&&a(new Z0e(l)),Xn(!0)}(u.route,c),function l_e(l,a,o){const c=a[a.length-1],h=a.slice(0,a.length-1).reverse().map(d=>function Qve(l){const a=l.routeConfig?l.routeConfig.canActivateChild:null;return a&&0!==a.length?{node:l,guards:a}:null}(d)).filter(d=>null!==d).map(d=>k7(()=>Xn(d.guards.map(p=>{const g=Tw(p,d.node,o);let m;if(function Fve(l){return l&&xd(l.canActivateChild)}(g))m=pu(g.canActivateChild(c,l));else{if(!xd(g))throw new Error("Invalid CanActivateChild guard");m=pu(g(c,l))}return m.pipe($f())})).pipe(ky())));return Xn(h).pipe(ky())}(l,u.path,o),function a_e(l,a,o){const c=a.routeConfig?a.routeConfig.canActivate:null;if(!c||0===c.length)return Xn(!0);const u=c.map(h=>k7(()=>{const d=Tw(h,a,o);let f;if(function Rve(l){return l&&xd(l.canActivate)}(d))f=pu(d.canActivate(a,l));else{if(!xd(d))throw new Error("Invalid CanActivate guard");f=pu(d(a,l))}return f.pipe($f())}));return Xn(u).pipe(ky())}(l,u.route,o))),$f(u=>!0!==u,!0))}(c,h,l,a):Xn(f)),an(f=>Object.assign(Object.assign({},o),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),ea(f=>{if(Zf(f.guardsResult)){const g=yI(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw g.url=f.guardsResult,g}const p=new W0e(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(p)}),_s(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),OI(f=>{if(f.guards.canActivateChecks.length)return Xn(f).pipe(ea(p=>{const g=new j0e(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(g)}),bd(p=>{let g=!1;return Xn(p).pipe(function v_e(l,a){return Bs(o=>{const{targetSnapshot:c,guards:{canActivateChecks:u}}=o;if(!u.length)return Xn(o);let h=0;return Js(u).pipe(Em(d=>function __e(l,a,o,c){return function y_e(l,a,o,c){const u=S9(l);if(0===u.length)return Xn({});const h={};return Js(u).pipe(Bs(d=>function b_e(l,a,o,c){const u=Tw(l,a,c);return pu(u.resolve?u.resolve(a,o):u(a,o))}(l[d],a,o,c).pipe(ea(f=>{h[d]=f}))),vI(1),Bs(()=>S9(h).length===u.length?Xn(h):ah))}(l._resolve,l,a,c).pipe(an(h=>(l._resolvedData=h,l.data=Object.assign(Object.assign({},l.data),t9(l,o).resolve),null)))}(d.route,c,l,a)),ea(()=>h++),vI(1),Bs(d=>h===u.length?Xn(o):ah))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ea({next:()=>g=!0,complete:()=>{g||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),ea(p=>{const g=new $0e(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(g)}))}),OI(f=>{const{targetSnapshot:p,id:g,extractedUrl:m,rawUrl:v,extras:{skipLocationChange:_,replaceUrl:y}}=f;return this.hooks.afterPreactivation(p,{navigationId:g,appliedUrlTree:m,rawUrlTree:v,skipLocationChange:!!_,replaceUrl:!!y})}),an(f=>{const p=function yve(l,a,o){const c=My(l,a._root,o?o._root:void 0);return new J7(c,a)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:p})}),ea(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((l,a,o)=>an(c=>(new Ave(a,c.targetRouterState,c.currentRouterState,o).activate(l),c)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),ea({next(){h=!0},complete(){h=!0}}),function z0e(l){return ci((a,o)=>{try{a.subscribe(o)}finally{o.add(l)}})}(()=>{var f;h||d||this.cancelNavigationTransition(u,`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===u.id&&(this.currentNavigation=null)}),tr(f=>{if(d=!0,function Q0e(l){return l&&l[B7]}(f)){const p=Zf(f.url);p||(this.navigated=!0,this.restoreHistory(u,!0));const g=new R7(u.id,this.serializeUrl(u.extractedUrl),f.message);c.next(g),p?setTimeout(()=>{const m=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),v={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mw(u.source)};this.scheduleNavigation(m,"imperative",null,v,{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const p=new U0e(u.id,this.serializeUrl(u.extractedUrl),f);c.next(p);try{u.resolve(this.errorHandler(f))}catch(g){u.reject(g)}}return ah}))}))}resetRootComponentType(o){this.rootComponentType=o,this.routerState.root.component=this.rootComponentType}setTransition(o){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),o))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(o=>{const c="popstate"===o.type?"popstate":"hashchange";"popstate"===c&&setTimeout(()=>{var u;const h={replaceUrl:!0},d=(null===(u=o.state)||void 0===u?void 0:u.navigationId)?o.state:null;if(d){const p=Object.assign({},d);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(h.state=p)}const f=this.parseUrl(o.url);this.scheduleNavigation(f,c,d,h)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(o){this.events.next(o)}resetConfig(o){u9(o),this.config=o.map(II),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(o,c={}){const{relativeTo:u,queryParams:h,fragment:d,queryParamsHandling:f,preserveFragment:p}=c,g=u||this.routerState.root,m=p?this.currentUrlTree.fragment:d;let v=null;switch(f){case"merge":v=Object.assign(Object.assign({},this.currentUrlTree.queryParams),h);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=h||null}return null!==v&&(v=this.removeEmptyProps(v)),function Cve(l,a,o,c,u){if(0===o.length)return MI(a.root,a.root,a,c,u);const h=function wve(l){if("string"==typeof l[0]&&1===l.length&&"/"===l[0])return new s9(!0,0,l);let a=0,o=!1;const c=l.reduce((u,h,d)=>{if("object"==typeof h&&null!=h){if(h.outlets){const f={};return fo(h.outlets,(p,g)=>{f[g]="string"==typeof p?p.split("/"):p}),[...u,{outlets:f}]}if(h.segmentPath)return[...u,h.segmentPath]}return"string"!=typeof h?[...u,h]:0===d?(h.split("/").forEach((f,p)=>{0==p&&"."===f||(0==p&&""===f?o=!0:".."===f?a++:""!=f&&u.push(f))}),u):[...u,h]},[]);return new s9(o,a,c)}(o);if(h.toRoot())return MI(a.root,new Fi([],{}),a,c,u);const d=function Sve(l,a,o){if(l.isAbsolute)return new DI(a.root,!0,0);if(-1===o.snapshot._lastPathIndex){const h=o.snapshot._urlSegment;return new DI(h,h===a.root,0)}const c=_w(l.commands[0])?0:1;return function Tve(l,a,o){let c=l,u=a,h=o;for(;h>u;){if(h-=u,c=c.parent,!c)throw new Error("Invalid number of '../'");u=c.segments.length}return new DI(c,!1,u-h)}(o.snapshot._urlSegment,o.snapshot._lastPathIndex+c,l.numberOfDoubleDots)}(h,a,l),f=d.processChildren?yw(d.segmentGroup,d.index,h.commands):o9(d.segmentGroup,d.index,h.commands);return MI(d.segmentGroup,f,a,c,u)}(g,this.currentUrlTree,o,v,null!=m?m:null)}navigateByUrl(o,c={skipLocationChange:!1}){const u=Zf(o)?o:this.parseUrl(o),h=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,c)}navigate(o,c={skipLocationChange:!1}){return function A_e(l){for(let a=0;a<l.length;a++){const o=l[a];if(null==o)throw new Error(`The requested path contains ${o} segment at index ${a}`)}}(o),this.navigateByUrl(this.createUrlTree(o,c),c)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){let c;try{c=this.urlSerializer.parse(o)}catch(u){c=this.malformedUriErrorHandler(u,this.urlSerializer,o)}return c}isActive(o,c){let u;if(u=!0===c?Object.assign({},E_e):!1===c?Object.assign({},k_e):c,Zf(o))return G7(this.currentUrlTree,o,u);const h=this.parseUrl(o);return G7(this.currentUrlTree,h,u)}removeEmptyProps(o){return Object.keys(o).reduce((c,u)=>{const h=o[u];return null!=h&&(c[u]=h),c},{})}processNavigations(){this.navigations.subscribe(o=>{this.navigated=!0,this.lastSuccessfulId=o.id,this.currentPageId=o.targetPageId,this.events.next(new wy(o.id,this.serializeUrl(o.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,o.resolve(!0)},o=>{this.console.warn(`Unhandled Navigation Error: ${o}`)})}scheduleNavigation(o,c,u,h,d){var f,p,g;if(this.disposed)return Promise.resolve(!1);const m=this.transitions.value,v=Mw(c)&&m&&!Mw(m.source),_=m.rawUrl.toString()===o.toString(),y=m.id===(null===(f=this.currentNavigation)||void 0===f?void 0:f.id);if(v&&_&&y)return Promise.resolve(!0);let C,x,w;d?(C=d.resolve,x=d.reject,w=d.promise):w=new Promise((T,E)=>{C=T,x=E});const S=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),M=u&&u.\u0275routerPageId?u.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(g=this.browserPageId)&&void 0!==g?g:0)+1):M=0,this.setTransition({id:S,targetPageId:M,source:c,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:o,extras:h,resolve:C,reject:x,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(T=>Promise.reject(T))}setBrowserUrl(o,c){const u=this.urlSerializer.serialize(o),h=Object.assign(Object.assign({},c.extras.state),this.generateNgRouterState(c.id,c.targetPageId));this.location.isCurrentPathEqualTo(u)||c.extras.replaceUrl?this.location.replaceState(u,"",h):this.location.go(u,"",h)}restoreHistory(o,c=!1){var u,h;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-o.targetPageId;"popstate"!==o.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===d?this.currentUrlTree===(null===(h=this.currentNavigation)||void 0===h?void 0:h.finalUrl)&&0===d&&(this.resetState(o),this.browserUrlTree=o.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(c&&this.resetState(o),this.resetUrlToCurrentUrlTree())}resetState(o){this.routerState=o.currentRouterState,this.currentUrlTree=o.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(o,c){const u=new R7(o.id,this.serializeUrl(o.extractedUrl),c);this.triggerEvent(u),o.resolve(!1)}generateNgRouterState(o,c){return"computed"===this.canceledNavigationResolution?{navigationId:o,\u0275routerPageId:c}:{navigationId:o}}}return l.\u0275fac=function(o){sA()},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();function Mw(l){return"imperative"!==l}class D9{}class E9{preload(a,o){return Xn(null)}}let k9=(()=>{class l{constructor(o,c,u,h){this.router=o,this.injector=u,this.preloadingStrategy=h,this.loader=new T9(u,c,p=>o.triggerEvent(new F7(p)),p=>o.triggerEvent(new L7(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(_s(o=>o instanceof wy),Em(()=>this.preload())).subscribe(()=>{})}preload(){const o=this.injector.get(mh);return this.processRoutes(o,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(o,c){const u=[];for(const h of c)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const d=h._loadedConfig;u.push(this.processRoutes(d.module,d.routes))}else h.loadChildren&&!h.canLoad?u.push(this.preloadConfig(o,h)):h.children&&u.push(this.processRoutes(o,h.children));return Js(u).pipe(S_(),an(h=>{}))}preloadConfig(o,c){return this.preloadingStrategy.preload(c,()=>(c._loadedConfig?Xn(c._loadedConfig):this.loader.load(o.injector,c)).pipe(Bs(h=>(c._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return l.\u0275fac=function(o){return new(o||l)(Fe(as),Fe($C),Fe(rr),Fe(D9))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),NI=(()=>{class l{constructor(o,c,u={}){this.router=o,this.viewportScroller=c,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(o=>{o instanceof _I?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=o.navigationTrigger,this.restoredId=o.restoredState?o.restoredState.navigationId:0):o instanceof wy&&(this.lastId=o.id,this.scheduleScrollEvent(o,this.router.parseUrl(o.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(o=>{o instanceof N7&&(o.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(o.position):o.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(o.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(o,c){this.router.triggerEvent(new N7(o,"popstate"===this.lastSource?this.store[this.restoredId]:null,c))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return l.\u0275fac=function(o){sA()},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();const Xf=new Un("ROUTER_CONFIGURATION"),A9=new Un("ROUTER_FORROOT_GUARD"),R_e=[YA,{provide:q7,useClass:Y7},{provide:as,useFactory:function V_e(l,a,o,c,u,h,d={},f,p){const g=new as(null,l,a,o,c,u,z7(h));return f&&(g.urlHandlingStrategy=f),p&&(g.routeReuseStrategy=p),function z_e(l,a){l.errorHandler&&(a.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(a.malformedUriErrorHandler=l.malformedUriErrorHandler),l.onSameUrlNavigation&&(a.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(a.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.relativeLinkResolution&&(a.relativeLinkResolution=l.relativeLinkResolution),l.urlUpdateStrategy&&(a.urlUpdateStrategy=l.urlUpdateStrategy),l.canceledNavigationResolution&&(a.canceledNavigationResolution=l.canceledNavigationResolution)}(d,g),d.enableTracing&&g.events.subscribe(m=>{var v,_;null===(v=console.group)||void 0===v||v.call(console,`Router Event: ${m.constructor.name}`),console.log(m.toString()),console.log(m),null===(_=console.groupEnd)||void 0===_||_.call(console)}),g},deps:[q7,Ay,YA,rr,$C,RI,Xf,[class S_e{},new Za],[class x_e{},new Za]]},Ay,{provide:Im,useFactory:function U_e(l){return l.routerState.root},deps:[as]},k9,E9,class O_e{preload(a,o){return o().pipe(tr(()=>Xn(null)))}},{provide:Xf,useValue:{enableTracing:!1}}];function F_e(){return new TH("Router",as)}let I9=(()=>{class l{constructor(o,c){}static forRoot(o,c){return{ngModule:l,providers:[R_e,P9(o),{provide:A9,useFactory:B_e,deps:[[as,new Za,new dh]]},{provide:Xf,useValue:c||{}},{provide:Dm,useFactory:N_e,deps:[jf,[new U_(qA),new Za],Xf]},{provide:NI,useFactory:L_e,deps:[as,Wme,Xf]},{provide:D9,useExisting:c&&c.preloadingStrategy?c.preloadingStrategy:E9},{provide:TH,multi:!0,useFactory:F_e},[BI,{provide:jC,multi:!0,useFactory:H_e,deps:[BI]},{provide:O9,useFactory:G_e,deps:[BI]},{provide:_H,multi:!0,useExisting:O9}]]}}static forChild(o){return{ngModule:l,providers:[P9(o)]}}}return l.\u0275fac=function(o){return new(o||l)(Fe(A9,8),Fe(as,8))},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({}),l})();function L_e(l,a,o){return o.scrollOffset&&a.setOffset(o.scrollOffset),new NI(l,a,o)}function N_e(l,a,o={}){return o.useHash?new Age(l,a):new qH(l,a)}function B_e(l){return"guarded"}function P9(l){return[{provide:yle,multi:!0,useValue:l},{provide:RI,multi:!0,useValue:l}]}let BI=(()=>{class l{constructor(o){this.injector=o,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new pt}appInitializer(){return this.injector.get(Dge,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let c=null;const u=new Promise(f=>c=f),h=this.injector.get(as),d=this.injector.get(Xf);return"disabled"===d.initialNavigation?(h.setUpLocationChangeListener(),c(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?Xn(null):(this.initNavigation=!0,c(!0),this.resultOfPreactivationDone),h.initialNavigation()):c(!0),u})}bootstrapListener(o){const c=this.injector.get(Xf),u=this.injector.get(k9),h=this.injector.get(NI),d=this.injector.get(as),f=this.injector.get(vy);o===f.components[0]&&(("enabledNonBlocking"===c.initialNavigation||void 0===c.initialNavigation)&&d.initialNavigation(),u.setUpPreloading(),h.init(),d.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return l.\u0275fac=function(o){return new(o||l)(Fe(rr))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();function H_e(l){return l.appInitializer.bind(l)}function G_e(l){return l.bootstrapListener.bind(l)}const O9=new Un("Router Initializer"),R9="2.0.127",q_e=[{id:"deviskin",name:"Deviskin",nameSortOrder:"Deviskin",link:"http://deviskin.github.io"}];class Kf{constructor(a,o,c,u,h,d){this.id=a,this.name=o,this.routes=c,this.routeEnabled=u,this.applicationEnabled=h,this.applicationHidden=d}static builder(){return new Kf("","",[],!1,!1,!1)}setId(a){return this.id=a,this}setName(a){return this.name=a,this}setRoutes(a){return this.routes=a,this}setRouteEnabled(a){return this.routeEnabled=a,this}setApplicatioinEnabled(a){return this.applicationEnabled=a,this}enable(a=!0){return this.routeEnabled=a,this.applicationEnabled=a,this}hide(a=!0){return this.applicationHidden=a,this}disable(){return this.routeEnabled=!1,this.applicationEnabled=!1,this}}class Wi{constructor(a,o,c,u,h,d=null,f=null){this.link=a,this.name=o,this.shape=c,this.hasBadge=u,this.hasAlert=h,this.onClick=d,this.isActive=f}static builder(){return new Wi("","","",!1,!1)}setIsActive(a){return this.isActive=a,this}setOnClick(a){return this.onClick=a,this}setLink(a){return this.link=a,this}setName(a){return this.name=a,this}setShape(a){return this.shape=a,this}setHasBadge(a){return this.hasBadge=a,this}setHasAlert(a){return this.hasAlert=a,this}runOnClick(){this.onClick&&this.onClick(this)}}class VI extends class Y_e{constructor(){this.version="",this.applicationId="memorial",this.applicationName="Memorial",this.developers=q_e,this.production=!0,this.platform="Web",this.relativeCacheService=!0,this.serviceAPIHost="",this.redirectToServerAfterItIsReadyAdress="",this.portAutoDetection=!0,this.portAutoIncrementValue=0,this.defaultRoute="/compiler",this.coding=!0,this.showOldVersions=!0,this.themeName="blue",this.serverType="rest",this.applications=[],this.addApplication(Kf.builder().setId("about").setName("\u041e \u0441\u0430\u0439\u0442\u0435").setRoutes([Wi.builder().setLink("about").setName("\u041e \u0441\u0430\u0439\u0442\u0435").setShape("home")]).hide()).addApplication(Kf.builder().setId("d3examples").setName("\u041f\u0440\u0438\u043c\u0435\u0440\u044b D3").setRoutes([Wi.builder().setLink("main-test").setName("\u041c\u043e\u043b\u0435\u0431\u0435\u043d").setShape("calendar"),Wi.builder().setLink("memorials-pages-editor").setName("\u0417\u0430\u043f\u0438\u0441\u043a\u0438").setShape("event"),Wi.builder().setLink("d3examples").setName("\u041f\u0440\u0438\u043c\u0435\u0440\u044b D3").setShape("image"),Wi.builder().setLink("dynamic-components-examples").setName("\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0414\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442").setShape("blocks-group"),Wi.builder().setLink("help").setName("\u041f\u043e\u043c\u043e\u0449\u044c").setShape("help"),Wi.builder().setLink("tests").setName("\u0422\u0435\u0441\u0442\u044b").setShape("check-circle")])).addApplication(Kf.builder().setId("d3Dexamples").setName("\u041f\u0440\u0438\u043c\u0435\u0440\u044b 3D").setRoutes([Wi.builder().setLink("d3Dexamples").setName("Three 3D").setShape("scroll")])).addApplication(Kf.builder().setId("books").setName("\u041a\u043d\u0438\u0433\u0438").setRoutes([Wi.builder().setLink("books").setName("\u041a\u043d\u0438\u0433\u0438").setShape("book")])).addApplication(Kf.builder().setId("memorial").setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a").setRoutes([Wi.builder().setLink("memorial").setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a").setShape("note")])).setVersion("BV."+R9),this.afterConstruct()}addApplication(a){if(null!=this.applications.find(o=>o.id==a.id))throw new Error(`\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 "${a.id}" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.`);return this.applications.push(a),this}setVersion(a){return this.version=a,this}setProduction(a){return this.production=a,this}setPlatform(a){return this.platform=a,this}setRelativeCacheService(a){return this.relativeCacheService=a,this}setServiceAPIHost(a){return this.serviceAPIHost=a,this}setRedirectToServerAfterItIsReadyAdress(a){return this.redirectToServerAfterItIsReadyAdress=a,this}setPortAutoDetection(a){return this.portAutoDetection=a,this}setPortAutoIncrementValue(a){return this.portAutoIncrementValue=a,this}setDefaultRoute(a){return this.defaultRoute=a,this}setServerType(a){return this.serverType=a,this}setCoding(a){return this.coding=a,this}setShowOldVersions(a){return this.showOldVersions=a,this}afterConstruct(){}}{afterConstruct(){super.afterConstruct(),this.setVersion("WPR."+R9).setProduction(!0).setServiceAPIHost("").setRedirectToServerAfterItIsReadyAdress("").setPortAutoDetection(!0).setPortAutoIncrementValue(0).setDefaultRoute("/help").setServerType("memory"),this.applications.forEach((a,o,c)=>a.enable("d3examples"!=a.id&&"d3Dexamples"!=a.id))}static builder(){return new VI}}const gu=VI.builder();class Om{constructor(a,o,c,u,h,d){this.type=a,this.time=o,this.sender=c,this.target=u,this.subType=h,this.text=d}static builder(){return new Om("",Date.now(),"","","","")}setType(a){return this.type=a,this}setTime(a){return this.time=a,this}setSender(a){return this.sender=a,this}setTarget(a){return this.target=a,this}setSubType(a){return this.subType=a,this}setText(a){return this.text=a,this}}class zI{constructor(a,o){this.id=a,this.handler=o}static builder(){return new zI(-1,()=>{})}setId(a){return this.id=a,this}setHandler(a){return this.handler=a,this}}class Z_e{constructor(){this.id=1,this.handlers=new Map,this.targetHandlers=new Map,this.messagesToTarget=new Map,this.messagesTimeoutMs=18e4}newId(){return this.id++}putMessage(a){let o=a.target,c=this.messagesToTarget.get(o);return null==c&&(c=[]),c.push(a),c=this.removeOld(c),c?this.messagesToTarget.set(o,c):this.messagesToTarget.delete(o),this}getMessages(a,o=!0){let c=this.messagesToTarget.get(a),u=this.removeOld(c);return null==c&&o&&this.messagesToTarget.delete(a),u}removeAllOld(){let a=[];return this.messagesToTarget.forEach((o,c,u)=>{a.push(c)}),a.forEach(o=>{this.getMessages(o,!1)}),this}removeOld(a){if(void 0===a)return;let o=Date.now(),c=a.findIndex(h=>h.time+this.messagesTimeoutMs>o),u=a;return c>0&&(u=a.splice(0,c)),u}sendMessage(a){this.handlers.forEach((c,u,h)=>{c(a)});let o=this.targetHandlers.get(a.target);o&&o.forEach(c=>{c.handler(a)})}addHandler(a){let o=this.newId();this.handlers.set(o,a);let c=this;return{unsubscribe(){c.removeHandler(o)}}}addTargetHandler(a,o){let c=this.newId(),u=this.targetHandlers.get(a);null==u&&(u=[],this.targetHandlers.set(a,u)),u.push(zI.builder().setId(c).setHandler(o));let h=this;return{unsubscribe(){h.removeTargetHandler(a,c)}}}removeAllTargetHandlers(a){return this.targetHandlers.delete(a),this}removeHandler(a){this.handlers.delete(a)}removeTargetHandler(a,o){let c=this.targetHandlers.get(a);if(c){let u=c.filter((h,d,f)=>h.id!=o);u.length?this.targetHandlers.set(a,u):this.targetHandlers.delete(a)}}}class yr{constructor(a,o,c){this.text=a,this.innerButtonText=o,this.timeout=c,this.buttonText="",this.config=null,this.update()}static of(a,o,c){return new yr(a,o,c)}setConfig(a){this.config=a}update(){return this.buttonText=this.innerButtonText+" ("+this.timeout--+"s)",this.timeout>=0}onButtonClick(){this.remove()}remove(){this.config.removeAlert(this)}}class F9{constructor(a,o,c){this.action=a,this.delayMS=o,this.delayRequest=c,this.requestedAction=!1,this.runTimer=!1,this.onDones=[]}requestAction(a){this.requestedAction=!0,this.runTimer||this.delayRequest(this.delayMS,()=>{this.checkAction()}),a&&this.onDones.push(a)}checkAction(){if(this.requestedAction)this.runTimer||(this.delayRequest(this.delayMS,()=>this.checkAction()),this.runTimer=!0);else{let a=this.onDones;this.onDones=[],this.action?this.action(a):a&&a.forEach(o=>o(!0)),this.runTimer=!1}this.requestedAction=!1}}class Dw{constructor(a,o){this.config=a,this.waitingForSenderId=o,this.enabled=!1,this.checkTimeoutMs=100}static builder(){return new Dw(null,"")}setConfig(a){return this.config=a,this}setWaitingForSenderId(a){return this.waitingForSenderId=a,this.enabled=!this.waitingForSenderId,this}setCheckTimeout(a){return this.checkTimeoutMs=a,this}checkEnabled(){if(this.enabled||!this.config)return!0;let a=this.config.messageBus.getMessages(this.waitingForSenderId);return(null==a?void 0:a.length)?this.config.post(()=>{this.enabled=!0}):this.checkLatter(),this.enabled}checkLatter(){return!(!this.enabled&&this.config)||(this.config.post(()=>this.checkEnabled(),this.checkTimeoutMs),this.enabled)}setEnabled(a){return this.enabled=a,this}}class Ew{constructor(){this.cache=new Map,this.environment=gu,this.themeName=gu.themeName,this.serviceAPIHost=gu.serviceAPIHost,this.redirectToServerAfterItIsReadyAdress=gu.redirectToServerAfterItIsReadyAdress,this.portAutoDetection=gu.portAutoDetection,this.portAutoIncrementValue=gu.portAutoIncrementValue,this.messageBus=new Z_e,this.alerts=[],this.upperMenuEnabled=!0,this.pageLoadedFrom="",this.authId="",this.authIdKey="authId",this.authBody="",this.baseHref="",this.waitingIOOperationCount=0,this.waitingIOOperationValue=0,this.waitingIOOperationValueMax=100,this.outletOnly=!1,this.autoLoginApplication=!0,this.defaultApplication="",this.defaultLoginType="login",this.showType=this.defaultLoginType,this.enableDefaultPersons=!0,this.coding=gu.coding,this.showOldVersions=gu.showOldVersions,"undefined"!=typeof pageLoadedFrom&&this.setPageLoadedFrom(pageLoadedFrom),this.runPortAutoDetection(),this.setupBaseHref()}isShowLogin(){return this.showType==this.defaultLoginType}isShowNormal(){return"normal"==this.showType}setShowNormal(){return this.showType="normal",this}setShowLogin(a=null){return null!=a&&(this.autoLoginApplication=a),this.showType=this.defaultLoginType,this}get version(){return this.environment.version}get developerId(){let a="";return this.environment.developers.forEach(o=>{a=a+(a?"_":"")+o.id}),a}get developerName(){let a="";return this.environment.developers.forEach(o=>{a=a+(a?", ":"")+o.name}),a}get developerNameSortOrder(){let a="";return this.environment.developers.forEach(o=>{a=a+(a?", ":"")+o.nameSortOrder}),a}get developerLink(){return this.environment.developers[0].link}setPageLoadedFrom(a,o=!1){return this.pageLoadedFrom=a,o&&this.runPortAutoDetection(),this.setupBaseHref(),this}setupBaseHref(){let a=this.pageLoadedFrom;a.endsWith("/")&&(a=a.substring(0,a.length-1)),this.baseHref=a}runPortAutoDetection(){this.portAutoDetection&&(this.serviceAPIHost=this.doPortAutoDetection(this.serviceAPIHost?this.serviceAPIHost:this.pageLoadedFrom),this.redirectToServerAfterItIsReadyAdress=this.doPortAutoDetection(this.redirectToServerAfterItIsReadyAdress))}doPortAutoDetection(a){const o=a.lastIndexOf(":");if(o<0)return a;let c="";for(let d=o+1;d<a.length&&"0123456789".indexOf(a.charAt(d))>=0;++d)c+=a.charAt(d);return isNaN(+c)?a:a.substring(0,o)+":"+(+location.port+gu.portAutoIncrementValue)+a.substring(o+1+c.length,a.length)}addAlert(a){a.setConfig(this),this.alerts.push(a)}removeAlert(a){const o=this.alerts.findIndex((c,u,h)=>c===a);o>=0&&this.alerts.splice(o,1)}isPlatformAndroid(){return"Android"===this.environment.platform}isPlatformWeb(){return"Web"===this.environment.platform}isPlatform(a){return this.environment.platform===a}isRelativeCacheService(){return this.environment.relativeCacheService}isRestServerType(){return"rest"===this.environment.serverType}isMemoryServerType(){return"memory"===this.environment.serverType}isServerType(a){return this.environment.serverType===a}isRedTheme(){return"red"===this.themeName}isBlueTheme(){return"blue"===this.themeName}isTheme(a){return this.themeName===a}isWaitingIO(){return this.waitingIOOperationCount>0}incWaitingIO(){return this.waitingIOOperationCount++}decWaitingIO(){return this.waitingIOOperationCount--}clearWaitingIO(){this.waitingIOOperationCount=0}post(a,o=0){setTimeout(()=>{a()},o)}getApplication(){let a=null;return this.environment.applications.forEach(o=>{o.id==this.defaultApplication&&(a=o)}),a}}const L9=class X_e{static isWebGLAvailable(){try{const a=document.createElement("canvas");return!(!window.WebGLRenderingContext||!a.getContext("webgl")&&!a.getContext("experimental-webgl"))}catch(a){return!1}}static isWebGL2Available(){try{const a=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!a.getContext("webgl2"))}catch(a){return!1}}static getWebGLErrorMessage(){return this.getErrorMessage(1)}static getWebGL2ErrorMessage(){return this.getErrorMessage(2)}static getErrorMessage(a){const c={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext};let u='Your $0 does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">$1</a>';const h=document.createElement("div");return h.id="webglmessage",h.style.fontFamily="monospace",h.style.fontSize="13px",h.style.fontWeight="normal",h.style.textAlign="center",h.style.background="#fff",h.style.color="#000",h.style.padding="1.5em",h.style.width="400px",h.style.margin="5em auto 0",u=u.replace("$0",c[a]?"graphics card":"browser"),u=u.replace("$1",{1:"WebGL",2:"WebGL 2"}[a]),h.innerHTML=u,h}};let UI=(()=>{class l{getStorage(o){try{return localStorage.getItem(o)}catch(u){}return""}setStorage(o,c){try{localStorage.setItem(o,c)}catch(u){}}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),kn=(()=>{class l extends Ew{constructor(o){super(),this.localStorageSvc=o,this.loginTypeLSName="login3d",this.login3dValue="3d",this.setDefaultLoginType(this.isLogin3dRequested()),this.showType=this.defaultLoginType}setDefaultLoginType(o){this.defaultLoginType=L9.isWebGLAvailable()&&o?"login3d":"login"}requestLogin3d(o){this.setDefaultLoginType(o),this.localStorageSvc.setStorage(this.loginTypeLSName,L9.isWebGLAvailable()&&o?this.login3dValue:"no")}isLogin3dRequested(){return!this.localStorageSvc.getStorage(this.loginTypeLSName)||this.localStorageSvc.getStorage(this.loginTypeLSName)==this.login3dValue}}return l.\u0275fac=function(o){return new(o||l)(Fe(UI))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class K_e{constructor(a,o){this.fn=a,this.subscriptions=o}unsubscribe(){const a=this.subscriptions.indexOf(this);-1!==a&&this.subscriptions.splice(a,1)}}function N9(l,a){switch(l){case 0:return function(){return a.apply(this,arguments)};case 1:return function(o){return a.apply(this,arguments)};case 2:return function(o,c){return a.apply(this,arguments)};case 3:return function(o,c,u){return a.apply(this,arguments)};case 4:return function(o,c,u,h){return a.apply(this,arguments)};case 5:return function(o,c,u,h,d){return a.apply(this,arguments)};case 6:return function(o,c,u,h,d,f){return a.apply(this,arguments)};case 7:return function(o,c,u,h,d,f,p){return a.apply(this,arguments)};case 8:return function(o,c,u,h,d,f,p,g){return a.apply(this,arguments)};case 9:return function(o,c,u,h,d,f,p,g,m){return a.apply(this,arguments)};case 10:return function(o,c,u,h,d,f,p,g,m,v){return a.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Cd(l){return null!=l&&"object"==typeof l&&!0===l["@@functional/placeholder"]}function mu(l){return function a(o){return 0===arguments.length||Cd(o)?a:l.apply(this,arguments)}}function Rm(l){return function a(o,c){switch(arguments.length){case 0:return a;case 1:return Cd(o)?a:mu(function(u){return l(o,u)});default:return Cd(o)&&Cd(c)?a:Cd(o)?mu(function(u){return l(u,c)}):Cd(c)?mu(function(u){return l(o,u)}):l(o,c)}}}function B9(l,a,o){return function(){for(var c=[],u=0,h=l,d=0;d<a.length||u<arguments.length;){var f;d<a.length&&(!Cd(a[d])||u>=arguments.length)?f=a[d]:(f=arguments[u],u+=1),c[d]=f,Cd(f)||(h-=1),d+=1}return h<=0?o.apply(this,c):N9(h,B9(l,c,o))}}const V9=Rm(function(a,o){return 1===a?mu(o):N9(a,B9(a,[],o))}),Fm=mu(function(a){return null==a}),tye=Number.isInteger||function(a){return a<<0===a};function z9(l){return"[object String]"===Object.prototype.toString.call(l)}const iye=Rm(function(a,o){var c=a<0?o.length+a:a;return z9(o)?o.charAt(c):o[c]}),sye=Rm(function(a,o){return a.map(function(c){for(var d,u=o,h=0;h<c.length;){if(null==u)return;u=tye(d=c[h])?iye(d,u):u[d],h+=1}return u})}),aye=Rm(function(a,o){return sye([a],o)[0]}),cye=V9(2,(l,a)=>void 0!==aye(l,a)),U9=cye({"@@functional/placeholder":!0},window);function H9(l=window){return!Fm(l)}let kw,G9,HI,GI;function W9(l=!0){if(!l||!kw){const a=document&&document.querySelector("[ng-version]");kw=a?""+a.getAttribute("ng-version"):void 0}return kw}function hye(l=!0){var a,o,c;return l&&kw||(G9=null===(c=null===(o=null===(a=window)||void 0===a?void 0:a.angular)||void 0===o?void 0:o.version)||void 0===c?void 0:c.full),G9}function j9(l=!0){var a,o,c;return l&&HI||(HI=(null===(c=null===(o=null===(a=window)||void 0===a?void 0:a.CDS)||void 0===o?void 0:o._react)||void 0===c?void 0:c.version)?window.CDS._react.version:document.querySelector("[data-reactroot], [data-reactid]")?"unknown version":void 0),HI}function $9(l=!0){if(!l||!GI){const a=document.querySelectorAll("*");let o;for(let c=0;c<a.length;c++)if(a[c].__vue__){o=a[c];break}GI=o?"unknown version":void 0}return GI}function Qf(l){return l.replace(/[A-Z]/g,a=>"-"+a.toLowerCase())}function Z9(l){return l.charAt(0).toUpperCase()+l.slice(1)}const K9=new class{constructor(){if(this.supports={js:!0,flexGap:mye()},!document.body.hasAttribute("cds-supports")||"no-js"===document.body.getAttribute("cds-supports")){const l=Qf(Object.keys(this.supports).reduce((a,o)=>`${a} ${this.supports[o]?o:"no-"+o}`,"")).trim();document.body.setAttribute("cds-supports",l)}}};function mye(){const l=document.createElement("div");l.style.display="flex",l.style.flexDirection="column",l.style.rowGap="1px",l.appendChild(document.createElement("div")),l.appendChild(document.createElement("div")),document.body.appendChild(l);const a=1===l.scrollHeight;return l.parentNode.removeChild(l),a}class Ry{static log(...a){$I()&&jI()&&console.log(...a)}static warn(...a){$I()&&jI()&&console.warn(...a)}static error(...a){$I()&&jI()&&console.error(...a)}}function jI(){return!U9(["jasmine"])}function $I(){return!window.CDS.environment.production}function Q9(){H9()&&(window.CDS=window.CDS||{_version:[],_react:{version:void 0},_supports:K9.supports,_isStateProxied:!1,_state:{focusTrapItems:[],i18nRegistry:{},elementRegistry:{},iconRegistry:{},motionRegistry:{}},environment:{production:!1},getDetails:J9,logDetails:vye},function(){var l;const a="5.6.2";window.CDS._version.indexOf(a)<0&&(window.CDS._version.push(a),null===(l=document.querySelector("body"))||void 0===l||l.setAttribute("cds-version",window.CDS._version.join(" "))),window.CDS._version.length>1&&Ry.warn("Running more than one version of Clarity can cause unexpected issues. Please ensure only one version is loaded.")}(),window.CDS._isStateProxied||(window.CDS._isStateProxied=!0,window.CDS._state=new Proxy(window.CDS._state,{set:(l,a,o)=>{const c={key:a,prev:window.CDS._state[a],current:o};return l[a]=o,document.dispatchEvent(new CustomEvent("CDS_STATE_UPDATE",{detail:c})),!0}})))}function J9(){return{versions:window.CDS._version,environment:window.CDS.environment,userAgent:navigator.userAgent,supports:window.CDS._supports,angularVersion:W9(!1),angularJSVersion:hye(!1),reactVersion:j9(!1),vueVersion:$9(!1),state:Bx($o({},window.CDS._state),{iconRegistry:Object.keys(window.CDS._state.iconRegistry),motionRegistry:Object.keys(window.CDS._state.motionRegistry),focusTrapRegistry:Object.keys(window.CDS._state.focusTrapItems.map(l=>l.focusTrapId))})}}function vye(){Ry.log(JSON.stringify(J9(),null,2))}const qI=new class Q_e{constructor(){this.subscriptions=[]}subscribe(a){const o=new K_e(a,this.subscriptions);return this.subscriptions.push(o),o}emit(a){this.subscriptions.forEach(o=>o.fn(a))}toEventObservable(){return this}};qI.listener=document.addEventListener("CDS_STATE_UPDATE",l=>qI.emit(l.detail));class yc{static get state(){return Q9(),window.CDS._state}static getValue(a){return yc.state[a]}static setValue(a,o){yc.state[a]=o}static log(){Ry.log(JSON.stringify(yc.state,null,2))}}yc.stateUpdates=qI.toEventObservable();const _ye=["unknown",{outline:'<circle class="cds-internal-dot-3" cx="31.1" cy="18" r="2.9"/><circle class="cds-internal-dot-2" cx="18" cy="18" r="2.9"/><circle class="cds-internal-dot-1" cx="4.9" cy="18" r="2.9"/>'}];class Ki{static get registry(){return $o({unknown:_ye[1]},yc.state.iconRegistry)}static addIcons(...a){yc.state.iconRegistry=$o($o({},yc.state.iconRegistry),Object.fromEntries(a.filter(([o])=>!Ki.registry[o])))}static addAliases(...a){const o=a.filter(([c])=>Ki.registry[c]).flatMap(([c,u])=>u.map(h=>[h,Ki.registry[c]]));yc.state.iconRegistry=$o($o({},yc.state.iconRegistry),Object.fromEntries(o))}static getIconNameFromShape(a){return a[0]}}const eG=["ellipsis-horizontal",{outline:'<circle cx="31.1" cy="18" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="4.9" cy="18" r="2.9"/>',outlineBadged:'<circle cx="31.1" cy="18" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="4.9" cy="18" r="2.9"/>'}],Qa=["exclamation-circle",{outline:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm0,22A10,10,0,1,1,28,18,10,10,0,0,1,18,28Z"/><path d="M18,20.07a1.3,1.3,0,0,1-1.3-1.3v-6a1.3,1.3,0,1,1,2.6,0v6A1.3,1.3,0,0,1,18,20.07Z"/><circle cx="17.95" cy="23.02" r="1.5"/>',solid:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm-1.49,6a1.49,1.49,0,0,1,3,0v6.89a1.49,1.49,0,1,1-3,0ZM18,25.5a1.72,1.72,0,1,1,1.72-1.72A1.72,1.72,0,0,1,18,25.5Z"/>'}],Ja=["check-circle",{outline:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm0,22A10,10,0,1,1,28,18,10,10,0,0,1,18,28Z"/><path d="M16.34,23.74l-5-5a1,1,0,0,1,1.41-1.41l3.59,3.59,6.78-6.78a1,1,0,0,1,1.41,1.41Z"/>',solid:'<path d="M30,18A12,12,0,1,1,18,6,12,12,0,0,1,30,18Zm-4.77-2.16a1.4,1.4,0,0,0-2-2l-6.77,6.77L13,17.16a1.4,1.4,0,0,0-2,2l5.45,5.45Z"/>'}],Lm=["angle",{outline:'<path d="M29.52,22.52,18,10.6,6.48,22.52a1.7,1.7,0,0,0,2.45,2.36L18,15.49l9.08,9.39a1.7,1.7,0,0,0,2.45-2.36Z"/>'}],yye=["event",{outline:'<path d="M16.17,25.86,10.81,20.5a1,1,0,0,1,1.41-1.41L16.17,23l8.64-8.64a1,1,0,0,1,1.41,1.41Z"/><path d="M32.25,6H29V8h3V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/><rect x="13" y="6" width="10" height="2"/>',outlineAlerted:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M10.81,20.5l5.36,5.36L26.22,15.81a1,1,0,0,0,.23-.41H23.8L16.17,23l-3.94-3.94a1,1,0,0,0-1.41,1.41Z"/><polygon points="21.29 6 13 6 13 8 20.14 8 21.29 6"/><path d="M33.68,15.4H32V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38Z"/>',outlineBadged:'<path d="M10.81,20.5l5.36,5.36L26.22,15.81a1,1,0,0,0-1.41-1.41L16.17,23l-3.94-3.94a1,1,0,0,0-1.41,1.41Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M32,13.22V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,32,13.22Z"/><path d="M22.5,6H13V8h9.78A7.49,7.49,0,0,1,22.5,6Z"/>',solid:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/><path d="M32.25,6h-4V9a2.2,2.2,0,0,1-4.4,0V6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6ZM25.94,16.58l-9.67,9.67L11,20.94A1.36,1.36,0,0,1,12.9,19l3.38,3.38L24,14.66a1.36,1.36,0,1,1,1.93,1.93Z"/>',solidAlerted:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M33.68,15.4H26.3a1.34,1.34,0,0,1-.36,1.18l-9.67,9.67L11,20.94A1.36,1.36,0,0,1,12.9,19l3.38,3.38,7-7h-1A3.68,3.68,0,0,1,19,9.89L21.29,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38Z"/>',solidBadged:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M30,13.5A7.5,7.5,0,0,1,22.5,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,30,13.5Zm-4.06,3.08-9.67,9.67L11,20.94A1.36,1.36,0,0,1,12.9,19l3.38,3.38L24,14.66a1.36,1.36,0,1,1,1.93,1.93Z"/>'}],bye=["calendar",{outline:'<path d="M32.25,6H29V8h3V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6Z"/><rect x="8" y="14" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="20" y="14" width="2" height="2"/><rect x="26" y="14" width="2" height="2"/><rect x="8" y="19" width="2" height="2"/><rect x="14" y="19" width="2" height="2"/><rect x="20" y="19" width="2" height="2"/><rect x="26" y="19" width="2" height="2"/><rect x="8" y="24" width="2" height="2"/><rect" x="14" y="24" width="2" height="2"/><rect x="20" y="24" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/><rect x="13" y="6" width="10" height="2"/>',outlineAlerted:'<path d="M33.68,15.4H32V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38Z"/><rect x="8" y="14" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="8" y="19" width="2" height="2"/><rect x="14" y="19" width="2" height="2"/><rect x="20" y="19" width="2" height="2"/><rect x="26" y="19" width="2" height="2"/><rect x="8" y="24" width="2" height="2"/><rect x="14" y="24" width="2" height="2"/><rect x="20" y="24" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><polygon points="21.29 6 13 6 13 8 20.14 8 21.29 6"/>',outlineBadged:'<path d="M32,13.22V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,32,13.22Z"/><rect x="8" y="14" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="20" y="14" width="2" height="2"/><rect x="26" y="14" width="2" height="2"/><rect x="8" y="19" width="2" height="2"/><rect x="14" y="19" width="2" height="2"/><rect x="20" y="19" width="2" height="2"/><rect x="26" y="19" width="2" height="2"/><rect x="8" y="24" width="2" height="2"/><rect x="14" y="24" width="2" height="2"/><rect x="20" y="24" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M22.5,6H13V8h9.78A7.49,7.49,0,0,1,22.5,6Z"/>',solid:'<path d="M32.25,6h-4V9a2.2,2.2,0,1,1-4.4,0V6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6ZM10,26H8V24h2Zm0-5H8V19h2Zm0-5H8V14h2Zm6,10H14V24h2Zm0-5H14V19h2Zm0-5H14V14h2Zm6,10H20V24h2Zm0-5H20V19h2Zm0-5H20V14h2Zm6,10H26V24h2Zm0-5H26V19h2Zm0-5H26V14h2Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/>',solidAlerted:'<path d="M33.68,15.4H22.23A3.68,3.68,0,0,1,19,9.89L21.29,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38ZM10,26H8V24h2Zm0-5H8V19h2Zm0-5H8V14h2Zm6,10H14V24h2Zm0-5H14V19h2Zm0-5H14V14h2Zm6,10H20V24h2Zm0-5H20V19h2Zm6,5H26V24h2Zm0-5H26V19h2Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/>',solidBadged:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M30,13.5A7.5,7.5,0,0,1,22.5,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,30,13.5ZM10,26H8V24h2Zm0-5H8V19h2Zm0-5H8V14h2Zm6,10H14V24h2Zm0-5H14V19h2Zm0-5H14V14h2Zm6,10H20V24h2Zm0-5H20V19h2Zm0-5H20V14h2Zm6,10H26V24h2Zm0-5H26V19h2Zm0-5H26V14h2Z"/>'}],xye=["eye-hide",{outline:'<path d="M25.19,20.4A6.78,6.78,0,0,0,25.62,18a6.86,6.86,0,0,0-6.86-6.86,6.79,6.79,0,0,0-2.37.43L18,13.23a4.78,4.78,0,0,1,.74-.06A4.87,4.87,0,0,1,23.62,18a4.79,4.79,0,0,1-.06.74Z"/><path d="M34.29,17.53c-3.37-6.23-9.28-10-15.82-10a16.82,16.82,0,0,0-5.24.85L14.84,10a14.78,14.78,0,0,1,3.63-.47c5.63,0,10.75,3.14,13.8,8.43a17.75,17.75,0,0,1-4.37,5.1l1.42,1.42a19.93,19.93,0,0,0,5-6l.26-.48Z"/><path d="M4.87,5.78l4.46,4.46a19.52,19.52,0,0,0-6.69,7.29L2.38,18l.26.48c3.37,6.23,9.28,10,15.82,10a16.93,16.93,0,0,0,7.37-1.69l5,5,1.75-1.5-26-26Zm9.75,9.75,6.65,6.65a4.81,4.81,0,0,1-2.5.72A4.87,4.87,0,0,1,13.9,18,4.81,4.81,0,0,1,14.62,15.53Zm-1.45-1.45a6.85,6.85,0,0,0,9.55,9.55l1.6,1.6a14.91,14.91,0,0,1-5.86,1.2c-5.63,0-10.75-3.14-13.8-8.43a17.29,17.29,0,0,1,6.12-6.3Z"/>',solid:'<path d="M18.37,11.17A6.79,6.79,0,0,0,16,11.6l8.8,8.8A6.78,6.78,0,0,0,25.23,18,6.86,6.86,0,0,0,18.37,11.17Z"/><path d="M34.29,17.53c-3.37-6.23-9.28-10-15.82-10a16.82,16.82,0,0,0-5.24.85L14.84,10a14.78,14.78,0,0,1,3.63-.47c5.63,0,10.75,3.14,13.8,8.43a17.75,17.75,0,0,1-4.37,5.1l1.42,1.42a19.93,19.93,0,0,0,5-6l.26-.48Z"/><path d="M4.87,5.78l4.46,4.46a19.52,19.52,0,0,0-6.69,7.29L2.38,18l.26.48c3.37,6.23,9.28,10,15.82,10a16.93,16.93,0,0,0,7.37-1.69l5,5,1.75-1.5-26-26Zm8.3,8.3a6.85,6.85,0,0,0,9.55,9.55l1.6,1.6a14.91,14.91,0,0,1-5.86,1.2c-5.63,0-10.75-3.14-13.8-8.43a17.29,17.29,0,0,1,6.12-6.3Z"/>'}],Cye=["eye",{outline:'<path d="M33.62,17.53c-3.37-6.23-9.28-10-15.82-10S5.34,11.3,2,17.53L1.72,18l.26.48c3.37,6.23,9.28,10,15.82,10s12.46-3.72,15.82-10l.26-.48ZM17.8,26.43C12.17,26.43,7,23.29,4,18c3-5.29,8.17-8.43,13.8-8.43S28.54,12.72,31.59,18C28.54,23.29,23.42,26.43,17.8,26.43Z"/><path d="M18.09,11.17A6.86,6.86,0,1,0,25,18,6.86,6.86,0,0,0,18.09,11.17Zm0,11.72A4.86,4.86,0,1,1,23,18,4.87,4.87,0,0,1,18.09,22.89Z"/>',solid:'<path d="M33.62,17.53c-3.37-6.23-9.28-10-15.82-10S5.34,11.3,2,17.53L1.72,18l.26.48c3.37,6.23,9.28,10,15.82,10s12.46-3.72,15.82-10l.26-.48ZM17.8,26.43C12.17,26.43,7,23.29,4,18c3-5.29,8.17-8.43,13.8-8.43S28.54,12.72,31.59,18C28.54,23.29,23.42,26.43,17.8,26.43Z"/><circle cx="18.09" cy="18.03" r="6.86"/>'}],Fy=["window-close",{outline:'<path d="M19.41,18l7.29-7.29a1,1,0,0,0-1.41-1.41L18,16.59,10.71,9.29a1,1,0,0,0-1.41,1.41L16.59,18,9.29,25.29a1,1,0,1,0,1.41,1.41L18,19.41l7.29,7.29a1,1,0,0,0,1.41-1.41Z"/>'}],wye=["ellipsis-vertical",{outline:'<circle cx="18" cy="4.9" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="18" cy="31.1" r="2.9"/>',outlineBadged:'<circle cx="18" cy="4.9" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="18" cy="31.1" r="2.9"/>'}],Sye=["view-columns",{outline:'<path d="M31,5H5A2,2,0,0,0,3,7V29a2,2,0,0,0,2,2H31a2,2,0,0,0,2-2V7A2,2,0,0,0,31,5ZM13,29H5V7h8Zm10,0H15V7h8Z"/>'}],Tye=["arrow",{outline:'<path d="M27.66,15.61,18,6,8.34,15.61A1,1,0,1,0,9.75,17L17,9.81V28.94a1,1,0,1,0,2,0V9.81L26.25,17a1,1,0,0,0,1.41-1.42Z"/>'}],Mye=["times",{outline:'<path d="M19.41,18l8.29-8.29a1,1,0,0,0-1.41-1.41L18,16.59,9.71,8.29A1,1,0,0,0,8.29,9.71L16.59,18,8.29,26.29a1,1,0,1,0,1.41,1.41L18,19.41l8.29,8.29a1,1,0,0,0,1.41-1.41Z"/>'}],Dye=["step-forward-2",{outline:'<path d="M7.08,6.52a1.68,1.68,0,0,0,0,2.4L16.51,18,7.12,27.08a1.7,1.7,0,0,0,2.36,2.44h0L21.4,18,9.48,6.47A1.69,1.69,0,0,0,7.08,6.52Z"/><path d="M26.49,5a1.7,1.7,0,0,0-1.7,1.7V29.3a1.7,1.7,0,0,0,3.4,0V6.7A1.7,1.7,0,0,0,26.49,5Z"/>'}],tG=["angle-double",{outline:'<path d="M29,19.41a1,1,0,0,1-.71-.29L18,8.83,7.71,19.12a1,1,0,0,1-1.41-1.41L18,6,29.71,17.71A1,1,0,0,1,29,19.41Z"/><path d="M29,30.41a1,1,0,0,1-.71-.29L18,19.83,7.71,30.12a1,1,0,0,1-1.41-1.41L18,17,29.71,28.71A1,1,0,0,1,29,30.41Z"/>'}],Eye=["filter-grid-circle",{outline:'<path d="M15,25.86l2,1V20.27a1,1,0,0,0-.29-.7L10.23,13H25.79l-6.47,6.57a1,1,0,0,0-.29.7L19,28l2,1V20.68L27.58,14A1.46,1.46,0,0,0,28,13V12a1,1,0,0,0-1-1H9a1,1,0,0,0-1,1v1a1.46,1.46,0,0,0,.42,1L15,20.68Z"/><path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/>',solid:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/><path d="M8,11v1.12a.5.5,0,0,0,.15.35l7.28,7.36a.5.5,0,0,1,.15.35v6.89a.5.5,0,0,0,.28.45l3.95,1.41a.5.5,0,0,0,.72-.45l0-8.39a.54.54,0,0,1,.18-.35l7.12-7.25a.5.5,0,0,0,.15-.35V11Z"/>'}],kye=["filter-grid",{outline:'<path d="M15,25.86l2,1V20.27a1,1,0,0,0-.29-.7L10.23,13H25.79l-6.47,6.57a1,1,0,0,0-.29.7L19,28l2,1V20.68L27.58,14A1.46,1.46,0,0,0,28,13V12a1,1,0,0,0-1-1H9a1,1,0,0,0-1,1v1a1.46,1.46,0,0,0,.42,1L15,20.68Z"/>',solid:'<path d="M8,11v1.12a.5.5,0,0,0,.15.35l7.28,7.36a.5.5,0,0,1,.15.35v6.89a.5.5,0,0,0,.28.45l3.95,1.41a.5.5,0,0,0,.72-.45l0-8.39a.54.54,0,0,1,.18-.35l7.12-7.25a.5.5,0,0,0,.15-.35V11Z"/>'}],nG=["info-circle",{outline:'<circle cx="17.93" cy="11.9" r="1.4"/><path d="M21,23H19V15H16a1,1,0,0,0,0,2h1v6H15a1,1,0,1,0,0,2h6a1,1,0,0,0,0-2Z"/><path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm0,22A10,10,0,1,1,28,18,10,10,0,0,1,18,28Z"/>',solid:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm-2,5.15a2,2,0,1,1,2,2A2,2,0,0,1,15.9,11.15ZM23,24a1,1,0,0,1-1,1H15a1,1,0,1,1,0-2h2V17H16a1,1,0,0,1,0-2h4v8h2A1,1,0,0,1,23,24Z"/>'}],Aye=["exclamation-triangle",{outline:'<path d="M18,21.32a1.3,1.3,0,0,0,1.3-1.3V14a1.3,1.3,0,1,0-2.6,0v6A1.3,1.3,0,0,0,18,21.32Z"/><circle cx="17.95" cy="24.27" r="1.5"/><path d="M30.33,25.54,20.59,7.6a3,3,0,0,0-5.27,0L5.57,25.54A3,3,0,0,0,8.21,30H27.69a3,3,0,0,0,2.64-4.43Zm-1.78,1.94a1,1,0,0,1-.86.49H8.21a1,1,0,0,1-.88-1.48L17.07,8.55a1,1,0,0,1,1.76,0l9.74,17.94A1,1,0,0,1,28.55,27.48Z"/>',solid:'<path d="M30.33,25.54,20.59,7.6a3,3,0,0,0-5.27,0L5.57,25.54A3,3,0,0,0,8.21,30H27.69a3,3,0,0,0,2.64-4.43ZM16.46,12.74a1.49,1.49,0,0,1,3,0v6.89a1.49,1.49,0,1,1-3,0ZM18,26.25a1.72,1.72,0,1,1,1.72-1.72A1.72,1.72,0,0,1,18,26.25Z"/>'}],iG=["error-standard",{outline:'<circle cx="18" cy="26.06" r="1.33"/><path d="M18,22.61a1,1,0,0,1-1-1v-12a1,1,0,1,1,2,0v12A1,1,0,0,1,18,22.61Z"/><path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>',solid:'<path d="M18,2.1a16,16,0,1,0,16,16A16,16,0,0,0,18,2.1ZM16.6,8.8a1.4,1.4,0,0,1,2.8,0v12a1.4,1.4,0,0,1-2.8,0ZM18,28.6a1.8,1.8,0,1,1,1.8-1.8A1.8,1.8,0,0,1,18,28.6Z"/>'}],Iye=["circle",{outline:'<path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>',solid:'<path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34Z"/>'}],Pye=["dot-circle",{outline:'<path d="M18,11a7,7,0,1,1-7,7,7,7,0,0,1,7-7"/><path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>'}],Oye=["success-standard",{outline:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/><path d="M28,12.1a1,1,0,0,0-1.41,0L15.49,23.15l-6-6A1,1,0,0,0,8,18.53L15.49,26,28,13.52A1,1,0,0,0,28,12.1Z"/>',solid:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2ZM28.45,12.63,15.31,25.76,7.55,18a1.4,1.4,0,0,1,2-2l5.78,5.78L26.47,10.65a1.4,1.4,0,1,1,2,2Z"/>'}];class Rye extends Pe{constructor(a,o){super()}schedule(a,o=0){return this}}const Aw={setInterval(...l){const{delegate:a}=Aw;return((null==a?void 0:a.setInterval)||setInterval)(...l)},clearInterval(l){const{delegate:a}=Aw;return((null==a?void 0:a.clearInterval)||clearInterval)(l)},delegate:void 0},YI={now:()=>(YI.delegate||Date).now(),delegate:void 0};class Ly{constructor(a,o=Ly.now){this.schedulerActionCtor=a,this.now=o}schedule(a,o=0,c){return new this.schedulerActionCtor(this,a).schedule(c,o)}}Ly.now=YI.now,new class Lye extends Ly{constructor(a,o=Ly.now){super(a,o),this.actions=[],this._active=!1,this._scheduled=void 0}flush(a){const{actions:o}=this;if(this._active)return void o.push(a);let c;this._active=!0;do{if(c=a.execute(a.state,a.delay))break}while(a=o.shift());if(this._active=!1,c){for(;a=o.shift();)a.unsubscribe();throw c}}}(class Fye extends Rye{constructor(a,o){super(a,o),this.scheduler=a,this.work=o,this.pending=!1}schedule(a,o=0){if(this.closed)return this;this.state=a;const c=this.id,u=this.scheduler;return null!=c&&(this.id=this.recycleAsyncId(u,c,o)),this.pending=!0,this.delay=o,this.id=this.id||this.requestAsyncId(u,this.id,o),this}requestAsyncId(a,o,c=0){return Aw.setInterval(a.flush.bind(a,this),c)}recycleAsyncId(a,o,c=0){if(null!=c&&this.delay===c&&!1===this.pending)return o;Aw.clearInterval(o)}execute(a,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const c=this._execute(a,o);if(c)return c;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(a,o){let u,c=!1;try{this.work(a)}catch(h){c=!0,u=h||new Error("Scheduled action threw falsy error")}if(c)return this.unsubscribe(),u}unsubscribe(){if(!this.closed){const{id:a,scheduler:o}=this,{actions:c}=o;this.work=this.state=this.scheduler=null,this.pending=!1,me(c,this),null!=a&&(this.id=this.recycleAsyncId(o,a,null)),this.delay=null,super.unsubscribe()}}});class XI extends pt{constructor(a=1/0,o=1/0,c=YI){super(),this._bufferSize=a,this._windowTime=o,this._timestampProvider=c,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=o===1/0,this._bufferSize=Math.max(1,a),this._windowTime=Math.max(1,o)}next(a){const{isStopped:o,_buffer:c,_infiniteTimeWindow:u,_timestampProvider:h,_windowTime:d}=this;o||(c.push(a),!u&&c.push(h.now()+d)),this._trimBuffer(),super.next(a)}_subscribe(a){this._throwIfClosed(),this._trimBuffer();const o=this._innerSubscribe(a),{_infiniteTimeWindow:c,_buffer:u}=this,h=u.slice();for(let d=0;d<h.length&&!a.closed;d+=c?1:2)a.next(h[d]);return this._checkFinalizedStatuses(a),o}_trimBuffer(){const{_bufferSize:a,_timestampProvider:o,_buffer:c,_infiniteTimeWindow:u}=this,h=(u?1:2)*a;if(a<1/0&&h<c.length&&c.splice(0,c.length-h),!u){const d=o.now();let f=0;for(let p=1;p<c.length&&c[p]<=d;p+=2)f=p;f&&c.splice(0,f+1)}}}class oG{}const xh="*";function el(l,a){return{type:7,name:l,definitions:a,options:{}}}function po(l,a=null){return{type:4,styles:a,timings:l}}function aG(l,a=null){return{type:2,steps:l,options:a}}function Ci(l){return{type:6,styles:l,offset:null}}function Ds(l,a,o=null){return{type:1,expr:l,animation:a,options:o}}function lG(l){Promise.resolve(null).then(l)}class Nm{constructor(a=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=a+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}onStart(a){this._onStartFns.push(a)}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){lG(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(a){this._position=this.totalTime?a*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(a){const o="start"==a?this._onStartFns:this._onDoneFns;o.forEach(c=>c()),o.length=0}}class cG{constructor(a){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=a;let o=0,c=0,u=0;const h=this.players.length;0==h?lG(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++o==h&&this._onFinish()}),d.onDestroy(()=>{++c==h&&this._onDestroy()}),d.onStart(()=>{++u==h&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this.players.forEach(a=>a.init())}onStart(a){this._onStartFns.push(a)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(a=>a()),this._onStartFns=[])}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(a=>a.play())}pause(){this.players.forEach(a=>a.pause())}restart(){this.players.forEach(a=>a.restart())}finish(){this._onFinish(),this.players.forEach(a=>a.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(a=>a.destroy()),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this.players.forEach(a=>a.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(a){const o=a*this.totalTime;this.players.forEach(c=>{const u=c.totalTime?Math.min(1,o/c.totalTime):1;c.setPosition(u)})}getPosition(){const a=this.players.reduce((o,c)=>null===o||c.totalTime>o.totalTime?c:o,null);return null!=a?a.getPosition():0}beforeDestroy(){this.players.forEach(a=>{a.beforeDestroy&&a.beforeDestroy()})}triggerCallback(a){const o="start"==a?this._onStartFns:this._onDoneFns;o.forEach(c=>c()),o.length=0}}let uG=(()=>{class l{constructor(o,c){this._renderer=o,this._elementRef=c,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(o,c){this._renderer.setProperty(this._elementRef.nativeElement,o,c)}registerOnTouched(o){this.onTouched=o}registerOnChange(o){this.onChange=o}setDisabledState(o){this.setProperty("disabled",o)}}return l.\u0275fac=function(o){return new(o||l)(N(oi),N(gn))},l.\u0275dir=gt({type:l}),l})(),Jf=(()=>{class l extends uG{}return l.\u0275fac=function(){let a;return function(c){return(a||(a=$r(l)))(c||l)}}(),l.\u0275dir=gt({type:l,features:[pn]}),l})();const vu=new Un("NgValueAccessor"),Xye={provide:vu,useExisting:Mr(()=>_u),multi:!0};let _u=(()=>{class l extends Jf{writeValue(o){this.setProperty("checked",o)}}return l.\u0275fac=function(){let a;return function(c){return(a||(a=$r(l)))(c||l)}}(),l.\u0275dir=gt({type:l,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(o,c){1&o&&pe("change",function(h){return c.onChange(h.target.checked)})("blur",function(){return c.onTouched()})},features:[on([Xye]),pn]}),l})();const Kye={provide:vu,useExisting:Mr(()=>Hl),multi:!0},Jye=new Un("CompositionEventMode");let Hl=(()=>{class l extends uG{constructor(o,c,u){super(o,c),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Qye(){const l=hu()?hu().getUserAgent():"";return/android (\d+)/.test(l.toLowerCase())}())}writeValue(o){this.setProperty("value",null==o?"":o)}_handleInput(o){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(o)}_compositionStart(){this._composing=!0}_compositionEnd(o){this._composing=!1,this._compositionMode&&this.onChange(o)}}return l.\u0275fac=function(o){return new(o||l)(N(oi),N(gn),N(Jye,8))},l.\u0275dir=gt({type:l,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,c){1&o&&pe("input",function(h){return c._handleInput(h.target.value)})("blur",function(){return c.onTouched()})("compositionstart",function(){return c._compositionStart()})("compositionend",function(h){return c._compositionEnd(h.target.value)})},features:[on([Kye]),pn]}),l})();const ko=new Un("NgValidators"),Sd=new Un("NgAsyncValidators");function pG(l){return function wd(l){return null==l||0===l.length}(l.value)?{required:!0}:null}function gG(l){return!0===l.value?null:{required:!0}}function Ny(l){return null}function bG(l){return null!=l}function xG(l){const a=ty(l)?Js(l):l;return aA(a),a}function CG(l){let a={};return l.forEach(o=>{a=null!=o?Object.assign(Object.assign({},a),o):a}),0===Object.keys(a).length?null:a}function wG(l,a){return a.map(o=>o(l))}function SG(l){return l.map(a=>function t1e(l){return!l.validate}(a)?a:o=>a.validate(o))}function QI(l){return null!=l?function TG(l){if(!l)return null;const a=l.filter(bG);return 0==a.length?null:function(o){return CG(wG(o,a))}}(SG(l)):null}function JI(l){return null!=l?function MG(l){if(!l)return null;const a=l.filter(bG);return 0==a.length?null:function(o){return function Zye(...l){const a=h8(l),{args:o,keys:c}=T7(l),u=new dn(h=>{const{length:d}=o;if(!d)return void h.complete();const f=new Array(d);let p=d,g=d;for(let m=0;m<d;m++){let v=!1;rc(o[m]).subscribe(new Ti(h,_=>{v||(v=!0,g--),f[m]=_},()=>p--,void 0,()=>{(!p||!v)&&(g||h.next(c?M7(c,f):f),h.complete())}))}});return a?u.pipe(gI(a)):u}(wG(o,a).map(xG)).pipe(an(CG))}}(SG(l)):null}function DG(l,a){return null===l?[a]:Array.isArray(l)?[...l,a]:[l,a]}function e3(l){return l?Array.isArray(l)?l:[l]:[]}function Ow(l,a){return Array.isArray(l)?l.includes(a):l===a}function AG(l,a){const o=e3(a);return e3(l).forEach(u=>{Ow(o,u)||o.push(u)}),o}function IG(l,a){return e3(a).filter(o=>!Ow(l,o))}class PG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(a){this._rawValidators=a||[],this._composedValidatorFn=QI(this._rawValidators)}_setAsyncValidators(a){this._rawAsyncValidators=a||[],this._composedAsyncValidatorFn=JI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(a){this._onDestroyCallbacks.push(a)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(a=>a()),this._onDestroyCallbacks=[]}reset(a){this.control&&this.control.reset(a)}hasError(a,o){return!!this.control&&this.control.hasError(a,o)}getError(a,o){return this.control?this.control.getError(a,o):null}}class ka extends PG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ta extends PG{get formDirective(){return null}get path(){return null}}class OG{constructor(a){this._cd=a}is(a){var o,c,u;return"submitted"===a?!!(null===(o=this._cd)||void 0===o?void 0:o.submitted):!!(null===(u=null===(c=this._cd)||void 0===c?void 0:c.control)||void 0===u?void 0:u[a])}}let Ao=(()=>{class l extends OG{constructor(o){super(o)}}return l.\u0275fac=function(o){return new(o||l)(N(ka,2))},l.\u0275dir=gt({type:l,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,c){2&o&&Et("ng-untouched",c.is("untouched"))("ng-touched",c.is("touched"))("ng-pristine",c.is("pristine"))("ng-dirty",c.is("dirty"))("ng-valid",c.is("valid"))("ng-invalid",c.is("invalid"))("ng-pending",c.is("pending"))},features:[pn]}),l})(),By=(()=>{class l extends OG{constructor(o){super(o)}}return l.\u0275fac=function(o){return new(o||l)(N(ta,10))},l.\u0275dir=gt({type:l,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,c){2&o&&Et("ng-untouched",c.is("untouched"))("ng-touched",c.is("touched"))("ng-pristine",c.is("pristine"))("ng-dirty",c.is("dirty"))("ng-valid",c.is("valid"))("ng-invalid",c.is("invalid"))("ng-pending",c.is("pending"))("ng-submitted",c.is("submitted"))},features:[pn]}),l})();function Vy(l,a){r3(l,a),a.valueAccessor.writeValue(l.value),function c1e(l,a){a.valueAccessor.registerOnChange(o=>{l._pendingValue=o,l._pendingChange=!0,l._pendingDirty=!0,"change"===l.updateOn&&FG(l,a)})}(l,a),function h1e(l,a){const o=(c,u)=>{a.valueAccessor.writeValue(c),u&&a.viewToModelUpdate(c)};l.registerOnChange(o),a._registerOnDestroy(()=>{l._unregisterOnChange(o)})}(l,a),function u1e(l,a){a.valueAccessor.registerOnTouched(()=>{l._pendingTouched=!0,"blur"===l.updateOn&&l._pendingChange&&FG(l,a),"submit"!==l.updateOn&&l.markAsTouched()})}(l,a),function l1e(l,a){if(a.valueAccessor.setDisabledState){const o=c=>{a.valueAccessor.setDisabledState(c)};l.registerOnDisabledChange(o),a._registerOnDestroy(()=>{l._unregisterOnDisabledChange(o)})}}(l,a)}function Nw(l,a){l.forEach(o=>{o.registerOnValidatorChange&&o.registerOnValidatorChange(a)})}function r3(l,a){const o=function EG(l){return l._rawValidators}(l);null!==a.validator?l.setValidators(DG(o,a.validator)):"function"==typeof o&&l.setValidators([o]);const c=function kG(l){return l._rawAsyncValidators}(l);null!==a.asyncValidator?l.setAsyncValidators(DG(c,a.asyncValidator)):"function"==typeof c&&l.setAsyncValidators([c]);const u=()=>l.updateValueAndValidity();Nw(a._rawValidators,u),Nw(a._rawAsyncValidators,u)}function FG(l,a){l._pendingDirty&&l.markAsDirty(),l.setValue(l._pendingValue,{emitModelToViewChange:!1}),a.viewToModelUpdate(l._pendingValue),l._pendingChange=!1}function Vw(l,a){const o=l.indexOf(a);o>-1&&l.splice(o,1)}const zy="VALID",zw="INVALID",Bm="PENDING",Uy="DISABLED";function l3(l){return(Uw(l)?l.validators:l)||null}function BG(l){return Array.isArray(l)?QI(l):l||null}function c3(l,a){return(Uw(a)?a.asyncValidators:l)||null}function VG(l){return Array.isArray(l)?JI(l):l||null}function Uw(l){return null!=l&&!Array.isArray(l)&&"object"==typeof l}const u3=l=>l instanceof Hw;function UG(l){return(l=>l instanceof f3)(l)?l.value:l.getRawValue()}function HG(l,a){const o=u3(l),c=l.controls;if(!(o?Object.keys(c):c).length)throw new Ui(1e3,"");if(!c[a])throw new Ui(1001,"")}function GG(l,a){u3(l),l._forEachChild((c,u)=>{if(void 0===a[u])throw new Ui(1002,"")})}class h3{constructor(a,o){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=a,this._rawAsyncValidators=o,this._composedValidatorFn=BG(this._rawValidators),this._composedAsyncValidatorFn=VG(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(a){this._rawValidators=this._composedValidatorFn=a}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(a){this._rawAsyncValidators=this._composedAsyncValidatorFn=a}get parent(){return this._parent}get valid(){return this.status===zy}get invalid(){return this.status===zw}get pending(){return this.status==Bm}get disabled(){return this.status===Uy}get enabled(){return this.status!==Uy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(a){this._rawValidators=a,this._composedValidatorFn=BG(a)}setAsyncValidators(a){this._rawAsyncValidators=a,this._composedAsyncValidatorFn=VG(a)}addValidators(a){this.setValidators(AG(a,this._rawValidators))}addAsyncValidators(a){this.setAsyncValidators(AG(a,this._rawAsyncValidators))}removeValidators(a){this.setValidators(IG(a,this._rawValidators))}removeAsyncValidators(a){this.setAsyncValidators(IG(a,this._rawAsyncValidators))}hasValidator(a){return Ow(this._rawValidators,a)}hasAsyncValidator(a){return Ow(this._rawAsyncValidators,a)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(a={}){this.touched=!0,this._parent&&!a.onlySelf&&this._parent.markAsTouched(a)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(a=>a.markAllAsTouched())}markAsUntouched(a={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0})}),this._parent&&!a.onlySelf&&this._parent._updateTouched(a)}markAsDirty(a={}){this.pristine=!1,this._parent&&!a.onlySelf&&this._parent.markAsDirty(a)}markAsPristine(a={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(o=>{o.markAsPristine({onlySelf:!0})}),this._parent&&!a.onlySelf&&this._parent._updatePristine(a)}markAsPending(a={}){this.status=Bm,!1!==a.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!a.onlySelf&&this._parent.markAsPending(a)}disable(a={}){const o=this._parentMarkedDirty(a.onlySelf);this.status=Uy,this.errors=null,this._forEachChild(c=>{c.disable(Object.assign(Object.assign({},a),{onlySelf:!0}))}),this._updateValue(),!1!==a.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},a),{skipPristineCheck:o})),this._onDisabledChange.forEach(c=>c(!0))}enable(a={}){const o=this._parentMarkedDirty(a.onlySelf);this.status=zy,this._forEachChild(c=>{c.enable(Object.assign(Object.assign({},a),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},a),{skipPristineCheck:o})),this._onDisabledChange.forEach(c=>c(!1))}_updateAncestors(a){this._parent&&!a.onlySelf&&(this._parent.updateValueAndValidity(a),a.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(a){this._parent=a}updateValueAndValidity(a={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zy||this.status===Bm)&&this._runAsyncValidator(a.emitEvent)),!1!==a.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!a.onlySelf&&this._parent.updateValueAndValidity(a)}_updateTreeValidity(a={emitEvent:!0}){this._forEachChild(o=>o._updateTreeValidity(a)),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uy:zy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(a){if(this.asyncValidator){this.status=Bm,this._hasOwnPendingAsyncValidator=!0;const o=xG(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(c=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(c,{emitEvent:a})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(a,o={}){this.errors=a,this._updateControlsErrors(!1!==o.emitEvent)}get(a){return function g1e(l,a,o){if(null==a||(Array.isArray(a)||(a=a.split(o)),Array.isArray(a)&&0===a.length))return null;let c=l;return a.forEach(u=>{c=u3(c)?c.controls.hasOwnProperty(u)?c.controls[u]:null:(l=>l instanceof v1e)(c)&&c.at(u)||null}),c}(this,a,".")}getError(a,o){const c=o?this.get(o):this;return c&&c.errors?c.errors[a]:null}hasError(a,o){return!!this.getError(a,o)}get root(){let a=this;for(;a._parent;)a=a._parent;return a}_updateControlsErrors(a){this.status=this._calculateStatus(),a&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(a)}_initObservables(){this.valueChanges=new Rt,this.statusChanges=new Rt}_calculateStatus(){return this._allControlsDisabled()?Uy:this.errors?zw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bm)?Bm:this._anyControlsHaveStatus(zw)?zw:zy}_anyControlsHaveStatus(a){return this._anyControls(o=>o.status===a)}_anyControlsDirty(){return this._anyControls(a=>a.dirty)}_anyControlsTouched(){return this._anyControls(a=>a.touched)}_updatePristine(a={}){this.pristine=!this._anyControlsDirty(),this._parent&&!a.onlySelf&&this._parent._updatePristine(a)}_updateTouched(a={}){this.touched=this._anyControlsTouched(),this._parent&&!a.onlySelf&&this._parent._updateTouched(a)}_isBoxedValue(a){return"object"==typeof a&&null!==a&&2===Object.keys(a).length&&"value"in a&&"disabled"in a}_registerOnCollectionChange(a){this._onCollectionChange=a}_setUpdateStrategy(a){Uw(a)&&null!=a.updateOn&&(this._updateOn=a.updateOn)}_parentMarkedDirty(a){return!a&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class f3 extends h3{constructor(a=null,o,c){super(l3(o),c3(c,o)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(a),this._setUpdateStrategy(o),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Uw(o)&&o.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(a)?a.value:a)}setValue(a,o={}){this.value=this._pendingValue=a,this._onChange.length&&!1!==o.emitModelToViewChange&&this._onChange.forEach(c=>c(this.value,!1!==o.emitViewToModelChange)),this.updateValueAndValidity(o)}patchValue(a,o={}){this.setValue(a,o)}reset(a=this.defaultValue,o={}){this._applyFormState(a),this.markAsPristine(o),this.markAsUntouched(o),this.setValue(this.value,o),this._pendingChange=!1}_updateValue(){}_anyControls(a){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(a){this._onChange.push(a)}_unregisterOnChange(a){Vw(this._onChange,a)}registerOnDisabledChange(a){this._onDisabledChange.push(a)}_unregisterOnDisabledChange(a){Vw(this._onDisabledChange,a)}_forEachChild(a){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(a){this._isBoxedValue(a)?(this.value=this._pendingValue=a.value,a.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=a}}class Hw extends h3{constructor(a,o,c){super(l3(o),c3(c,o)),this.controls=a,this._initObservables(),this._setUpdateStrategy(o),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(a,o){return this.controls[a]?this.controls[a]:(this.controls[a]=o,o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange),o)}addControl(a,o,c={}){this.registerControl(a,o),this.updateValueAndValidity({emitEvent:c.emitEvent}),this._onCollectionChange()}removeControl(a,o={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}setControl(a,o,c={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],o&&this.registerControl(a,o),this.updateValueAndValidity({emitEvent:c.emitEvent}),this._onCollectionChange()}contains(a){return this.controls.hasOwnProperty(a)&&this.controls[a].enabled}setValue(a,o={}){GG(this,a),Object.keys(a).forEach(c=>{HG(this,c),this.controls[c].setValue(a[c],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}patchValue(a,o={}){null!=a&&(Object.keys(a).forEach(c=>{this.controls[c]&&this.controls[c].patchValue(a[c],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}reset(a={},o={}){this._forEachChild((c,u)=>{c.reset(a[u],{onlySelf:!0,emitEvent:o.emitEvent})}),this._updatePristine(o),this._updateTouched(o),this.updateValueAndValidity(o)}getRawValue(){return this._reduceChildren({},(a,o,c)=>(a[c]=UG(o),a))}_syncPendingControls(){let a=this._reduceChildren(!1,(o,c)=>!!c._syncPendingControls()||o);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_forEachChild(a){Object.keys(this.controls).forEach(o=>{const c=this.controls[o];c&&a(c,o)})}_setUpControls(){this._forEachChild(a=>{a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(a){for(const o of Object.keys(this.controls)){const c=this.controls[o];if(this.contains(o)&&a(c))return!0}return!1}_reduceValue(){return this._reduceChildren({},(a,o,c)=>((o.enabled||this.disabled)&&(a[c]=o.value),a))}_reduceChildren(a,o){let c=a;return this._forEachChild((u,h)=>{c=o(c,u,h)}),c}_allControlsDisabled(){for(const a of Object.keys(this.controls))if(this.controls[a].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class v1e extends h3{constructor(a,o,c){super(l3(o),c3(c,o)),this.controls=a,this._initObservables(),this._setUpdateStrategy(o),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(a){return this.controls[a]}push(a,o={}){this.controls.push(a),this._registerControl(a),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}insert(a,o,c={}){this.controls.splice(a,0,o),this._registerControl(o),this.updateValueAndValidity({emitEvent:c.emitEvent})}removeAt(a,o={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),this.updateValueAndValidity({emitEvent:o.emitEvent})}setControl(a,o,c={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),o&&(this.controls.splice(a,0,o),this._registerControl(o)),this.updateValueAndValidity({emitEvent:c.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(a,o={}){GG(this,a),a.forEach((c,u)=>{HG(this,u),this.at(u).setValue(c,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}patchValue(a,o={}){null!=a&&(a.forEach((c,u)=>{this.at(u)&&this.at(u).patchValue(c,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}reset(a=[],o={}){this._forEachChild((c,u)=>{c.reset(a[u],{onlySelf:!0,emitEvent:o.emitEvent})}),this._updatePristine(o),this._updateTouched(o),this.updateValueAndValidity(o)}getRawValue(){return this.controls.map(a=>UG(a))}clear(a={}){this.controls.length<1||(this._forEachChild(o=>o._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:a.emitEvent}))}_syncPendingControls(){let a=this.controls.reduce((o,c)=>!!c._syncPendingControls()||o,!1);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_forEachChild(a){this.controls.forEach((o,c)=>{a(o,c)})}_updateValue(){this.value=this.controls.filter(a=>a.enabled||this.disabled).map(a=>a.value)}_anyControls(a){return this.controls.some(o=>o.enabled&&a(o))}_setUpControls(){this._forEachChild(a=>this._registerControl(a))}_allControlsDisabled(){for(const a of this.controls)if(a.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(a){a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)}}const _1e={provide:ta,useExisting:Mr(()=>Td)},Hy=(()=>Promise.resolve(null))();let Td=(()=>{class l extends ta{constructor(o,c){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Rt,this.form=new Hw({},QI(o),JI(c))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(o){Hy.then(()=>{const c=this._findContainer(o.path);o.control=c.registerControl(o.name,o.control),Vy(o.control,o),o.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(o)})}getControl(o){return this.form.get(o.path)}removeControl(o){Hy.then(()=>{const c=this._findContainer(o.path);c&&c.removeControl(o.name),Vw(this._directives,o)})}addFormGroup(o){Hy.then(()=>{const c=this._findContainer(o.path),u=new Hw({});(function LG(l,a){r3(l,a)})(u,o),c.registerControl(o.name,u),u.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(o){Hy.then(()=>{const c=this._findContainer(o.path);c&&c.removeControl(o.name)})}getFormGroup(o){return this.form.get(o.path)}updateModel(o,c){Hy.then(()=>{this.form.get(o.path).setValue(c)})}setValue(o){this.control.setValue(o)}onSubmit(o){return this.submitted=!0,function NG(l,a){l._syncPendingControls(),a.forEach(o=>{const c=o.control;"submit"===c.updateOn&&c._pendingChange&&(o.viewToModelUpdate(c._pendingValue),c._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(o),!1}onReset(){this.resetForm()}resetForm(o){this.form.reset(o),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(o){return o.pop(),o.length?this.form.get(o):this.form}}return l.\u0275fac=function(o){return new(o||l)(N(ko,10),N(Sd,10))},l.\u0275dir=gt({type:l,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(o,c){1&o&&pe("submit",function(h){return c.onSubmit(h)})("reset",function(){return c.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[on([_1e]),pn]}),l})();const b1e={provide:ka,useExisting:Mr(()=>go)},jG=(()=>Promise.resolve(null))();let go=(()=>{class l extends ka{constructor(o,c,u,h){super(),this.control=new f3,this._registered=!1,this.update=new Rt,this._parent=o,this._setValidators(c),this._setAsyncValidators(u),this.valueAccessor=function o3(l,a){if(!a)return null;let o,c,u;return Array.isArray(a),a.forEach(h=>{h.constructor===Hl?o=h:function p1e(l){return Object.getPrototypeOf(l.constructor)===Jf}(h)?c=h:u=h}),u||c||o||null}(0,h)}ngOnChanges(o){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in o&&this._updateDisabled(o),function s3(l,a){if(!l.hasOwnProperty("model"))return!1;const o=l.model;return!!o.isFirstChange()||!Object.is(a,o.currentValue)}(o,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function Fw(l,a){return[...a.path,l]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(o){this.viewModel=o,this.update.emit(o)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vy(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(o){jG.then(()=>{this.control.setValue(o,{emitViewToModelChange:!1})})}_updateDisabled(o){const c=o.isDisabled.currentValue,u=""===c||c&&"false"!==c;jG.then(()=>{u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable()})}}return l.\u0275fac=function(o){return new(o||l)(N(ta,9),N(ko,10),N(Sd,10),N(vu,10))},l.\u0275dir=gt({type:l,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[on([b1e]),pn,Vs]}),l})(),Gy=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275dir=gt({type:l,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),l})();const C1e={provide:vu,useExisting:Mr(()=>Gw),multi:!0};let $G=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({}),l})(),w1e=(()=>{class l{constructor(){this._accessors=[]}add(o,c){this._accessors.push([o,c])}remove(o){for(let c=this._accessors.length-1;c>=0;--c)if(this._accessors[c][1]===o)return void this._accessors.splice(c,1)}select(o){this._accessors.forEach(c=>{this._isSameGroup(c,o)&&c[1]!==o&&c[1].fireUncheck(o.value)})}_isSameGroup(o,c){return!!o[0].control&&o[0]._parent===c._control._parent&&o[1].name===c.name}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:$G}),l})(),Gw=(()=>{class l extends Jf{constructor(o,c,u,h){super(o,c),this._registry=u,this._injector=h,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(ka),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(o){this._state=o===this.value,this.setProperty("checked",this._state)}registerOnChange(o){this._fn=o,this.onChange=()=>{o(this.value),this._registry.select(this)}}fireUncheck(o){this.writeValue(o)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return l.\u0275fac=function(o){return new(o||l)(N(oi),N(gn),N(w1e),N(rr))},l.\u0275dir=gt({type:l,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(o,c){1&o&&pe("change",function(){return c.onChange()})("blur",function(){return c.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[on([C1e]),pn]}),l})(),Vm=(()=>{class l{constructor(){this._validator=Ny}ngOnChanges(o){if(this.inputName in o){const c=this.normalizeInput(o[this.inputName].currentValue);this._enabled=this.enabled(c),this._validator=this._enabled?this.createValidator(c):Ny,this._onChange&&this._onChange()}}validate(o){return this._validator(o)}registerOnValidatorChange(o){this._onChange=o}enabled(o){return null!=o}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275dir=gt({type:l,features:[Vs]}),l})();const N1e={provide:ko,useExisting:Mr(()=>zm),multi:!0},B1e={provide:ko,useExisting:Mr(()=>_3),multi:!0};let zm=(()=>{class l extends Vm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o=>function R1e(l){return null!=l&&!1!==l&&"false"!=`${l}`}(o),this.createValidator=o=>pG}enabled(o){return o}}return l.\u0275fac=function(){let a;return function(c){return(a||(a=$r(l)))(c||l)}}(),l.\u0275dir=gt({type:l,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(o,c){2&o&&Je("required",c._enabled?"":null)},inputs:{required:"required"},features:[on([N1e]),pn]}),l})(),_3=(()=>{class l extends zm{constructor(){super(...arguments),this.createValidator=o=>gG}}return l.\u0275fac=function(){let a;return function(c){return(a||(a=$r(l)))(c||l)}}(),l.\u0275dir=gt({type:l,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(o,c){2&o&&Je("required",c._enabled?"":null)},features:[on([B1e]),pn]}),l})(),G1e=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[$G]]}),l})(),Md=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[G1e]}),l})();const j1e=V9(3,(l,a,o)=>{!function uye(l,a){return a||(a=window&&window.customElements),!a||!!a.get(l)}(l)||function dye(){var l,a;return null===(a=null===(l=null==window?void 0:window.location)||void 0===l?void 0:l.href)||void 0===a?void 0:a.includes("localhost:6006")}()?(o.define(l,function W1e(l){return K9.supports.flexGap?l:class extends l{connectedCallback(){super.connectedCallback(),this.setAttribute("_nfg","")}}}(a)),Q9(),window&&!Object.keys(window.CDS._state.elementRegistry).some(c=>c===l)&&(window.CDS._state.elementRegistry=Bx($o({},window.CDS._state.elementRegistry),{[l]:{}}))):Ry.warn(l+" has already been registered")});let uW=!1,hW=!1;function dW(){var l,a,o;return void 0!==(null===(o=null===(a=null===(l=globalThis)||void 0===l?void 0:l.process)||void 0===a?void 0:a.env)||void 0===o?void 0:o.JEST_WORKER_ID)}function fW(l,a,o){Object.defineProperty(l,o,{configurable:!0,enumerable:!0,get:function(){return this.hasAttribute(a)?this.getAttribute(a):null},set:function(c){null!==c?this.setAttribute(a,c):this.removeAttribute(a)}})}function pW(l,a,o,c,u,h,d){try{var f=l[h](d),p=f.value}catch(g){return void o(g)}f.done?a(p):Promise.resolve(p).then(c,u)}function gW(l){return function(){var a=this,o=arguments;return new Promise(function(c,u){var h=l.apply(a,o);function d(p){pW(h,c,u,d,f,"next",p)}function f(p){pW(h,c,u,d,f,"throw",p)}d(void 0)})}}uW||Element.prototype.hasOwnProperty("role")||dW()||(fW(Element.prototype,"role","role"),uW=!0),hW||Element.prototype.hasOwnProperty("ariaLabel")||dW()||(hW=!0,["ActiveDescendant","Atomic","AutoComplete","Busy","Checked","ColCount","ColIndex","ColSpan","Controls","Current","DescribedBy","Details","Disabled","ErrorMessage","Expanded","FlowTo","HasPopup","Hidden","Invalid","KeyShortcuts","Label","LabelledBy","Level","Live","Modal","MultiLine","MultiSelectable","Orientation","Owns","Placeholder","PosInSet","Pressed","ReadOnly","Relevant","Required","RoleDescription","RowCount","RowIndex","RowSpan","Selected","SetSize","Sort","ValueMax","ValueMin","ValueNow","ValueText"].forEach(l=>fW(Element.prototype,"aria-"+l.toLowerCase(),"aria"+l)));const y3=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,b3=Symbol(),mW=new Map;class vW{constructor(a,o){if(this._$cssResult$=!0,o!==b3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=a}get styleSheet(){let a=mW.get(this.cssText);return y3&&void 0===a&&(mW.set(this.cssText,a=new CSSStyleSheet),a.replaceSync(this.cssText)),a}toString(){return this.cssText}}const _W=(l,...a)=>{const o=1===l.length?l[0]:a.reduce((c,u,h)=>c+(d=>{if(!0===d._$cssResult$)return d.cssText;if("number"==typeof d)return d;throw Error("Value passed to 'css' function must be a 'css' function result: "+d+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(u)+l[h+1],l[0]);return new vW(o,b3)},yW=y3?l=>l:l=>l instanceof CSSStyleSheet?(a=>{let o="";for(const c of a.cssRules)o+=c.cssText;return(l=>new vW("string"==typeof l?l:l+"",b3))(o)})(l):l;var x3;const bW=window.trustedTypes,Z1e=bW?bW.emptyScript:"",xW=window.reactiveElementPolyfillSupport,C3={toAttribute(l,a){switch(a){case Boolean:l=l?Z1e:null;break;case Object:case Array:l=null==l?l:JSON.stringify(l)}return l},fromAttribute(l,a){let o=l;switch(a){case Boolean:o=null!==l;break;case Number:o=null===l?null:Number(l);break;case Object:case Array:try{o=JSON.parse(l)}catch(c){o=null}}return o}},CW=(l,a)=>a!==l&&(a==a||l==l),w3={attribute:!0,type:String,converter:C3,reflect:!1,hasChanged:CW};class Um extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(a){var o;null!==(o=this.l)&&void 0!==o||(this.l=[]),this.l.push(a)}static get observedAttributes(){this.finalize();const a=[];return this.elementProperties.forEach((o,c)=>{const u=this._$Eh(c,o);void 0!==u&&(this._$Eu.set(u,c),a.push(u))}),a}static createProperty(a,o=w3){if(o.state&&(o.attribute=!1),this.finalize(),this.elementProperties.set(a,o),!o.noAccessor&&!this.prototype.hasOwnProperty(a)){const c="symbol"==typeof a?Symbol():"__"+a,u=this.getPropertyDescriptor(a,c,o);void 0!==u&&Object.defineProperty(this.prototype,a,u)}}static getPropertyDescriptor(a,o,c){return{get(){return this[o]},set(u){const h=this[a];this[o]=u,this.requestUpdate(a,h,c)},configurable:!0,enumerable:!0}}static getPropertyOptions(a){return this.elementProperties.get(a)||w3}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const a=Object.getPrototypeOf(this);if(a.finalize(),this.elementProperties=new Map(a.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const o=this.properties,c=[...Object.getOwnPropertyNames(o),...Object.getOwnPropertySymbols(o)];for(const u of c)this.createProperty(u,o[u])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(a){const o=[];if(Array.isArray(a)){const c=new Set(a.flat(1/0).reverse());for(const u of c)o.unshift(yW(u))}else void 0!==a&&o.push(yW(a));return o}static _$Eh(a,o){const c=o.attribute;return!1===c?void 0:"string"==typeof c?c:"string"==typeof a?a.toLowerCase():void 0}o(){var a;this._$Ep=new Promise(o=>this.enableUpdating=o),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(a=this.constructor.l)||void 0===a||a.forEach(o=>o(this))}addController(a){var o,c;(null!==(o=this._$Eg)&&void 0!==o?o:this._$Eg=[]).push(a),void 0!==this.renderRoot&&this.isConnected&&(null===(c=a.hostConnected)||void 0===c||c.call(a))}removeController(a){var o;null===(o=this._$Eg)||void 0===o||o.splice(this._$Eg.indexOf(a)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((a,o)=>{this.hasOwnProperty(o)&&(this._$Et.set(o,this[o]),delete this[o])})}createRenderRoot(){var a;const o=null!==(a=this.shadowRoot)&&void 0!==a?a:this.attachShadow(this.constructor.shadowRootOptions);return((l,a)=>{y3?l.adoptedStyleSheets=a.map(o=>o instanceof CSSStyleSheet?o:o.styleSheet):a.forEach(o=>{const c=document.createElement("style"),u=window.litNonce;void 0!==u&&c.setAttribute("nonce",u),c.textContent=o.cssText,l.appendChild(c)})})(o,this.constructor.elementStyles),o}connectedCallback(){var a;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(a=this._$Eg)||void 0===a||a.forEach(o=>{var c;return null===(c=o.hostConnected)||void 0===c?void 0:c.call(o)})}enableUpdating(a){}disconnectedCallback(){var a;null===(a=this._$Eg)||void 0===a||a.forEach(o=>{var c;return null===(c=o.hostDisconnected)||void 0===c?void 0:c.call(o)})}attributeChangedCallback(a,o,c){this._$AK(a,c)}_$ES(a,o,c=w3){var u,h;const d=this.constructor._$Eh(a,c);if(void 0!==d&&!0===c.reflect){const f=(null!==(h=null===(u=c.converter)||void 0===u?void 0:u.toAttribute)&&void 0!==h?h:C3.toAttribute)(o,c.type);this._$Ei=a,null==f?this.removeAttribute(d):this.setAttribute(d,f),this._$Ei=null}}_$AK(a,o){var c,u,h;const d=this.constructor,f=d._$Eu.get(a);if(void 0!==f&&this._$Ei!==f){const p=d.getPropertyOptions(f),g=p.converter,m=null!==(h=null!==(u=null===(c=g)||void 0===c?void 0:c.fromAttribute)&&void 0!==u?u:"function"==typeof g?g:null)&&void 0!==h?h:C3.fromAttribute;this._$Ei=f,this[f]=m(o,p.type),this._$Ei=null}}requestUpdate(a,o,c){let u=!0;void 0!==a&&(((c=c||this.constructor.getPropertyOptions(a)).hasChanged||CW)(this[a],o)?(this._$AL.has(a)||this._$AL.set(a,o),!0===c.reflect&&this._$Ei!==a&&(void 0===this._$E_&&(this._$E_=new Map),this._$E_.set(a,c))):u=!1),!this.isUpdatePending&&u&&(this._$Ep=this._$EC())}_$EC(){var a=this;return gW(function*(){a.isUpdatePending=!0;try{yield a._$Ep}catch(c){Promise.reject(c)}const o=a.scheduleUpdate();return null!=o&&(yield o),!a.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var a;if(!this.isUpdatePending)return;this._$Et&&(this._$Et.forEach((u,h)=>this[h]=u),this._$Et=void 0);let o=!1;const c=this._$AL;try{o=this.shouldUpdate(c),o?(this.willUpdate(c),null===(a=this._$Eg)||void 0===a||a.forEach(u=>{var h;return null===(h=u.hostUpdate)||void 0===h?void 0:h.call(u)}),this.update(c)):this._$EU()}catch(u){throw o=!1,this._$EU(),u}o&&this._$AE(c)}willUpdate(a){}_$AE(a){var o;null===(o=this._$Eg)||void 0===o||o.forEach(c=>{var u;return null===(u=c.hostUpdated)||void 0===u?void 0:u.call(c)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(a)),this.updated(a)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(a){return!0}update(a){void 0!==this._$E_&&(this._$E_.forEach((o,c)=>this._$ES(c,this[c],o)),this._$E_=void 0),this._$EU()}updated(a){}firstUpdated(a){}}var S3;Um.finalized=!0,Um.elementProperties=new Map,Um.elementStyles=[],Um.shadowRootOptions={mode:"open"},null==xW||xW({ReactiveElement:Um}),(null!==(x3=globalThis.reactiveElementVersions)&&void 0!==x3?x3:globalThis.reactiveElementVersions=[]).push("1.2.1");const Hm=globalThis.trustedTypes,wW=Hm?Hm.createPolicy("lit-html",{createHTML:l=>l}):void 0,Ch=`lit$${(Math.random()+"").slice(9)}$`,T3="?"+Ch,X1e=`<${T3}>`,Gm=document,jy=(l="")=>Gm.createComment(l),$y=l=>null===l||"object"!=typeof l&&"function"!=typeof l,SW=Array.isArray,qy=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,MW=/-->/g,DW=/>/g,ep=/>|[ \x09\n\x0c\r](?:([^\s"'>=/]+)([ \x09\n\x0c\r]*=[ \x09\n\x0c\r]*(?:[^ \x09\n\x0c\r"'`<>=]|("|')|))|$)/g,EW=/'/g,kW=/"/g,AW=/^(?:script|style|textarea)$/i,IW=l=>(a,...o)=>({_$litType$:l,strings:a,values:o}),K1e=IW(1),Q1e=IW(2),Wm=Symbol.for("lit-noChange"),no=Symbol.for("lit-nothing"),PW=new WeakMap,jm=Gm.createTreeWalker(Gm,129,null,!1);class Yy{constructor({strings:a,_$litType$:o},c){let u;this.parts=[];let h=0,d=0;const f=a.length-1,p=this.parts,[g,m]=((l,a)=>{const o=l.length-1,c=[];let u,h=2===a?"<svg>":"",d=qy;for(let p=0;p<o;p++){const g=l[p];let m,v,_=-1,y=0;for(;y<g.length&&(d.lastIndex=y,v=d.exec(g),null!==v);)y=d.lastIndex,d===qy?"!--"===v[1]?d=MW:void 0!==v[1]?d=DW:void 0!==v[2]?(AW.test(v[2])&&(u=RegExp("</"+v[2],"g")),d=ep):void 0!==v[3]&&(d=ep):d===ep?">"===v[0]?(d=null!=u?u:qy,_=-1):void 0===v[1]?_=-2:(_=d.lastIndex-v[2].length,m=v[1],d=void 0===v[3]?ep:'"'===v[3]?kW:EW):d===kW||d===EW?d=ep:d===MW||d===DW?d=qy:(d=ep,u=void 0);const b=d===ep&&l[p+1].startsWith("/>")?" ":"";h+=d===qy?g+X1e:_>=0?(c.push(m),g.slice(0,_)+"$lit$"+g.slice(_)+Ch+b):g+Ch+(-2===_?(c.push(void 0),p):b)}const f=h+(l[o]||"<?>")+(2===a?"</svg>":"");if(!Array.isArray(l)||!l.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==wW?wW.createHTML(f):f,c]})(a,o);if(this.el=Yy.createElement(g,c),jm.currentNode=this.el.content,2===o){const v=this.el.content,_=v.firstChild;_.remove(),v.append(..._.childNodes)}for(;null!==(u=jm.nextNode())&&p.length<f;){if(1===u.nodeType){if(u.hasAttributes()){const v=[];for(const _ of u.getAttributeNames())if(_.endsWith("$lit$")||_.startsWith(Ch)){const y=m[d++];if(v.push(_),void 0!==y){const b=u.getAttribute(y.toLowerCase()+"$lit$").split(Ch),C=/([.?@])?(.*)/.exec(y);p.push({type:1,index:h,name:C[2],strings:b,ctor:"."===C[1]?FW:"?"===C[1]?LW:"@"===C[1]?NW:Zy})}else p.push({type:6,index:h})}for(const _ of v)u.removeAttribute(_)}if(AW.test(u.tagName)){const v=u.textContent.split(Ch),_=v.length-1;if(_>0){u.textContent=Hm?Hm.emptyScript:"";for(let y=0;y<_;y++)u.append(v[y],jy()),jm.nextNode(),p.push({type:2,index:++h});u.append(v[_],jy())}}}else if(8===u.nodeType)if(u.data===T3)p.push({type:2,index:h});else{let v=-1;for(;-1!==(v=u.data.indexOf(Ch,v+1));)p.push({type:7,index:h}),v+=Ch.length-1}h++}}static createElement(a,o){const c=Gm.createElement("template");return c.innerHTML=a,c}}function tp(l,a,o=l,c){var u,h,d,f;if(a===Wm)return a;let p=void 0!==c?null===(u=o._$Cl)||void 0===u?void 0:u[c]:o._$Cu;const g=$y(a)?void 0:a._$litDirective$;return(null==p?void 0:p.constructor)!==g&&(null===(h=null==p?void 0:p._$AO)||void 0===h||h.call(p,!1),void 0===g?p=void 0:(p=new g(l),p._$AT(l,o,c)),void 0!==c?(null!==(d=(f=o)._$Cl)&&void 0!==d?d:f._$Cl=[])[c]=p:o._$Cu=p),void 0!==p&&(a=tp(l,p._$AS(l,a.values),p,c)),a}class RW{constructor(a,o){this.v=[],this._$AN=void 0,this._$AD=a,this._$AM=o}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(a){var o;const{el:{content:c},parts:u}=this._$AD,h=(null!==(o=null==a?void 0:a.creationScope)&&void 0!==o?o:Gm).importNode(c,!0);jm.currentNode=h;let d=jm.nextNode(),f=0,p=0,g=u[0];for(;void 0!==g;){if(f===g.index){let m;2===g.type?m=new $m(d,d.nextSibling,this,a):1===g.type?m=new g.ctor(d,g.name,g.strings,this,a):6===g.type&&(m=new BW(d,this,a)),this.v.push(m),g=u[++p]}f!==(null==g?void 0:g.index)&&(d=jm.nextNode(),f++)}return h}m(a){let o=0;for(const c of this.v)void 0!==c&&(void 0!==c.strings?(c._$AI(a,c,o),o+=c.strings.length-2):c._$AI(a[o])),o++}}class $m{constructor(a,o,c,u){var h;this.type=2,this._$AH=no,this._$AN=void 0,this._$AA=a,this._$AB=o,this._$AM=c,this.options=u,this._$Cg=null===(h=null==u?void 0:u.isConnected)||void 0===h||h}get _$AU(){var a,o;return null!==(o=null===(a=this._$AM)||void 0===a?void 0:a._$AU)&&void 0!==o?o:this._$Cg}get parentNode(){let a=this._$AA.parentNode;const o=this._$AM;return void 0!==o&&11===a.nodeType&&(a=o.parentNode),a}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(a,o=this){a=tp(this,a,o),$y(a)?a===no||null==a||""===a?(this._$AH!==no&&this._$AR(),this._$AH=no):a!==this._$AH&&a!==Wm&&this.$(a):void 0!==a._$litType$?this.T(a):void 0!==a.nodeType?this.S(a):(l=>{var a;return SW(l)||"function"==typeof(null===(a=l)||void 0===a?void 0:a[Symbol.iterator])})(a)?this.A(a):this.$(a)}M(a,o=this._$AB){return this._$AA.parentNode.insertBefore(a,o)}S(a){this._$AH!==a&&(this._$AR(),this._$AH=this.M(a))}$(a){this._$AH!==no&&$y(this._$AH)?this._$AA.nextSibling.data=a:this.S(Gm.createTextNode(a)),this._$AH=a}T(a){var o;const{values:c,_$litType$:u}=a,h="number"==typeof u?this._$AC(a):(void 0===u.el&&(u.el=Yy.createElement(u.h,this.options)),u);if((null===(o=this._$AH)||void 0===o?void 0:o._$AD)===h)this._$AH.m(c);else{const d=new RW(h,this),f=d.p(this.options);d.m(c),this.S(f),this._$AH=d}}_$AC(a){let o=PW.get(a.strings);return void 0===o&&PW.set(a.strings,o=new Yy(a)),o}A(a){SW(this._$AH)||(this._$AH=[],this._$AR());const o=this._$AH;let c,u=0;for(const h of a)u===o.length?o.push(c=new $m(this.M(jy()),this.M(jy()),this,this.options)):c=o[u],c._$AI(h),u++;u<o.length&&(this._$AR(c&&c._$AB.nextSibling,u),o.length=u)}_$AR(a=this._$AA.nextSibling,o){var c;for(null===(c=this._$AP)||void 0===c||c.call(this,!1,!0,o);a&&a!==this._$AB;){const u=a.nextSibling;a.remove(),a=u}}setConnected(a){var o;void 0===this._$AM&&(this._$Cg=a,null===(o=this._$AP)||void 0===o||o.call(this,a))}}class Zy{constructor(a,o,c,u,h){this.type=1,this._$AH=no,this._$AN=void 0,this.element=a,this.name=o,this._$AM=u,this.options=h,c.length>2||""!==c[0]||""!==c[1]?(this._$AH=Array(c.length-1).fill(new String),this.strings=c):this._$AH=no}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(a,o=this,c,u){const h=this.strings;let d=!1;if(void 0===h)a=tp(this,a,o,0),d=!$y(a)||a!==this._$AH&&a!==Wm,d&&(this._$AH=a);else{const f=a;let p,g;for(a=h[0],p=0;p<h.length-1;p++)g=tp(this,f[c+p],o,p),g===Wm&&(g=this._$AH[p]),d||(d=!$y(g)||g!==this._$AH[p]),g===no?a=no:a!==no&&(a+=(null!=g?g:"")+h[p+1]),this._$AH[p]=g}d&&!u&&this.k(a)}k(a){a===no?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=a?a:"")}}class FW extends Zy{constructor(){super(...arguments),this.type=3}k(a){this.element[this.name]=a===no?void 0:a}}const ebe=Hm?Hm.emptyScript:"";class LW extends Zy{constructor(){super(...arguments),this.type=4}k(a){a&&a!==no?this.element.setAttribute(this.name,ebe):this.element.removeAttribute(this.name)}}class NW extends Zy{constructor(a,o,c,u,h){super(a,o,c,u,h),this.type=5}_$AI(a,o=this){var c;if((a=null!==(c=tp(this,a,o,0))&&void 0!==c?c:no)===Wm)return;const u=this._$AH,h=a===no&&u!==no||a.capture!==u.capture||a.once!==u.once||a.passive!==u.passive,d=a!==no&&(u===no||h);h&&this.element.removeEventListener(this.name,this,u),d&&this.element.addEventListener(this.name,this,a),this._$AH=a}handleEvent(a){var o,c;"function"==typeof this._$AH?this._$AH.call(null!==(c=null===(o=this.options)||void 0===o?void 0:o.host)&&void 0!==c?c:this.element,a):this._$AH.handleEvent(a)}}class BW{constructor(a,o,c){this.element=a,this.type=6,this._$AN=void 0,this._$AM=o,this.options=c}get _$AU(){return this._$AM._$AU}_$AI(a){tp(this,a)}}const VW=window.litHtmlPolyfillSupport;var M3,D3;null==VW||VW(Yy,$m),(null!==(S3=globalThis.litHtmlVersions)&&void 0!==S3?S3:globalThis.litHtmlVersions=[]).push("2.1.2");class Xy extends Um{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var a,o;const c=super.createRenderRoot();return null!==(a=(o=this.renderOptions).renderBefore)&&void 0!==a||(o.renderBefore=c.firstChild),c}update(a){const o=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(a),this._$Dt=((l,a,o)=>{var c,u;const h=null!==(c=null==o?void 0:o.renderBefore)&&void 0!==c?c:a;let d=h._$litPart$;if(void 0===d){const f=null!==(u=null==o?void 0:o.renderBefore)&&void 0!==u?u:null;h._$litPart$=d=new $m(a.insertBefore(jy(),f),f,void 0,null!=o?o:{})}return d._$AI(l),d})(o,this.renderRoot,this.renderOptions)}connectedCallback(){var a;super.connectedCallback(),null===(a=this._$Dt)||void 0===a||a.setConnected(!0)}disconnectedCallback(){var a;super.disconnectedCallback(),null===(a=this._$Dt)||void 0===a||a.setConnected(!1)}render(){return Wm}}Xy.finalized=!0,Xy._$litElement$=!0,null===(M3=globalThis.litElementHydrateSupport)||void 0===M3||M3.call(globalThis,{LitElement:Xy});const zW=globalThis.litElementPolyfillSupport;null==zW||zW({LitElement:Xy}),(null!==(D3=globalThis.litElementVersions)&&void 0!==D3?D3:globalThis.litElementVersions=[]).push("3.1.2");const nbe=_W`@charset "UTF-8";:host,:root{--2:var(--cds-global-layout-space-xs, calc((4 / var(--cds-global-base, 20)) * 1rem));--3:var(--cds-global-layout-space-sm, calc((6 / var(--cds-global-base, 20)) * 1rem));--4:var(--cds-global-layout-space-md, calc((12 / var(--cds-global-base, 20)) * 1rem));--5:var(--cds-global-layout-space-lg, calc((24 / var(--cds-global-base, 20)) * 1rem));--6:var(--cds-global-layout-space-xl, calc((48 / var(--cds-global-base, 20)) * 1rem))}[cds-layout~="wrap:none"]{flex-wrap:nowrap!important}[cds-layout*="align:stretch"]{flex-grow:1!important}[cds-layout*="align:shrink"]{flex-shrink:1!important;flex-grow:0!important}[cds-layout~=horizontal],[cds-layout~=vertical]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;align-items:flex-start}[cds-layout~=horizontal]{flex-direction:row;flex-wrap:wrap;justify-items:flex-start;margin:0;min-height:0}[cds-layout~=horizontal]>[cds-layout~=horizontal],[cds-layout~=horizontal]>[cds-layout~=vertical],[cds-layout~=horizontal]>[cds-text]{width:initial!important}[cds-layout~=horizontal][cds-layout*="align:top"]{align-items:flex-start}[cds-layout~=horizontal][cds-layout*="align:left"]{justify-content:flex-start}[cds-layout~=horizontal][cds-layout*="align:right"]{justify-content:flex-end}[cds-layout~=horizontal][cds-layout*="align:vertical-center"]{align-items:center;align-content:center}[cds-layout~=horizontal][cds-layout*="align:horizontal-center"]{justify-content:center}[cds-layout~=horizontal][cds-layout*="align:center"]{align-items:center;align-content:center;justify-content:center}[cds-layout~=horizontal][cds-layout*="order:reverse"]{flex-direction:row-reverse}[cds-layout~=horizontal][cds-layout*="align:horizontal-stretch"]{justify-content:stretch;flex-grow:1}[cds-layout~=horizontal][cds-layout*="align:horizontal-stretch"]>*{flex-grow:1}[cds-layout~=horizontal][cds-layout*="align:stretch"]{align-items:stretch;align-content:stretch;flex-grow:1}[cds-layout~=horizontal][cds-layout*="align:stretch"]>*{flex-grow:1}[cds-layout~=horizontal]>[cds-layout*="align:center"],[cds-layout~=horizontal]>[cds-layout*="align:vertical-center"]{align-self:center}[cds-layout~=horizontal]>[cds-layout*="align:center"],[cds-layout~=horizontal]>[cds-layout*="align:horizontal-center"]{margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal]>[cds-layout*="align:top"]{align-self:flex-start}[cds-layout~=horizontal]>[cds-layout*="align:right"]{margin-left:auto!important}[cds-layout~=horizontal]>[cds-layout*="align:left"]{margin-right:auto!important}[cds-layout~=vertical]{flex-direction:column}[cds-layout~=vertical],[cds-layout~=vertical][cds-layout*="align:top"]{justify-content:flex-start}[cds-layout~=vertical][cds-layout*="align:left"]{align-items:flex-start}[cds-layout~=vertical][cds-layout*="align:right"]{align-items:flex-end}[cds-layout~=vertical][cds-layout*="align:vertical-center"]{justify-content:center}[cds-layout~=vertical][cds-layout*="align:horizontal-center"]{align-items:center}[cds-layout~=vertical][cds-layout*="align:center"]{align-items:center;justify-content:center}[cds-layout~=vertical][cds-layout*="order:reverse"]{flex-direction:column-reverse}[cds-layout~=vertical][cds-layout*="align:horizontal-stretch"]{align-items:stretch}[cds-layout~=vertical][cds-layout*="align:stretch"]{align-items:stretch;justify-content:stretch}[cds-layout~=vertical][cds-layout*="align:stretch"]>*{flex-grow:1}[cds-layout~=vertical]>[cds-layout*="align:center"],[cds-layout~=vertical]>[cds-layout*="align:vertical-center"]{margin-top:auto;margin-bottom:auto}[cds-layout~=vertical]>[cds-layout*="align:center"],[cds-layout~=vertical]>[cds-layout*="align:horizontal-center"]{align-self:center}[cds-layout~=vertical]>[cds-layout*="align:top"]{margin-bottom:auto!important}[cds-layout~=vertical]>[cds-layout*="align:right"]{margin-left:auto}[cds-layout~=vertical]>[cds-layout*="align:left"]{margin-right:auto}[cds-layout~=grid]{display:grid;align-items:start;align-content:start;grid-template-columns:repeat(var(--cds-global-layout-grid-cols,12),1fr);width:100%}[cds-layout~=grid][cds-layout*=rows]{grid-template-rows:repeat(12,auto)}[cds-layout~=grid]>[cds-layout*=row]{align-self:stretch}[cds-layout~=grid][cds-layout*="align:top"]{align-content:start}[cds-layout~=grid][cds-layout*="align:right"]{justify-content:end}[cds-layout~=grid][cds-layout*="align:left"]{justify-content:start}[cds-layout~=grid][cds-layout*="align:horizontal-stretch"]{justify-items:stretch;justify-content:stretch}[cds-layout~=grid][cds-layout*="align:stretch"]{align-items:stretch;align-content:stretch;justify-items:stretch;justify-content:stretch}[cds-layout~=grid][cds-layout*="align:vertical-center"]{align-items:center;align-content:center}[cds-layout~=grid][cds-layout*="align:horizontal-center"]{justify-items:center;justify-content:center}[cds-layout~=grid][cds-layout*="align:center"]{align-items:center;align-content:center;justify-items:center;justify-content:center}[cds-layout~="display:screen-reader-only"]{position:absolute!important;clip:rect(1px,1px,1px,1px);clip-path:inset(50%);padding:0;border:0;height:1px;width:1px;overflow:hidden;white-space:nowrap;top:0;left:0;display:block!important}[cds-layout*="gap:none"]{gap:0}[cds-layout*="gap:xs"]{gap:var(--2)}[cds-layout*="gap:sm"]{gap:var(--3)}[cds-layout*="gap:md"]{gap:var(--4)}[cds-layout*="gap:lg"]{gap:var(--5)}[cds-layout~="p:none"]{padding:0!important}[cds-layout~="p:xs"]{padding:var(--2)!important}[cds-layout~="p:sm"]{padding:var(--3)!important}[cds-layout~="p:md"]{padding:var(--4)!important}[cds-layout~="m:md"]{margin:var(--4)!important}[cds-layout~="p:lg"]{padding:var(--5)!important}[cds-layout~="p-y:xs"]{padding-top:var(--2)!important;padding-bottom:var(--2)!important}[cds-layout~="p-x:sm"]{padding-left:var(--3)!important;padding-right:var(--3)!important}[cds-layout~="p-y:sm"]{padding-top:var(--3)!important;padding-bottom:var(--3)!important}[cds-layout~="p-x:md"]{padding-left:var(--4)!important;padding-right:var(--4)!important}[cds-layout~="p-y:md"]{padding-top:var(--4)!important;padding-bottom:var(--4)!important}[cds-layout~="p-x:lg"]{padding-left:var(--5)!important;padding-right:var(--5)!important}[cds-layout~="p-l:md"]{padding-left:var(--4)!important}[cds-layout~="p-t:lg"]{padding-top:var(--5)!important}[cds-layout~="p-b:lg"]{padding-bottom:var(--5)!important}@media (min-width:992px){[cds-layout*="gap@md:lg"]{gap:var(--5)}[cds-layout~="p@md:lg"]{padding:var(--5)!important}[cds-layout~="m@md:xl"]{margin:var(--6)!important}}[cds-layout~=fill]{width:100%!important}*,:after,:before{box-sizing:border-box}[cds-layout~=horizontal][cds-layout*="align:horizontal-stretch"]>::slotted(*),[cds-layout~=horizontal][cds-layout*="align:stretch"]>::slotted(*),[cds-layout~=vertical][cds-layout*="align:stretch"]>::slotted(*){flex-grow:1}[cds-layout~=vertical] ::slotted([cds-layout*="align:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align:left"]),[cds-layout~=vertical]>[cds-layout*="align:left"]{margin-right:auto}@media (min-width:576px){[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:left"]){margin-right:auto}}@media (min-width:768px){[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:left"]){margin-right:auto}}@media (min-width:992px){[cds-layout~=vertical] ::slotted([cds-layout*="align@md:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@md:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@md:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@md:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align@md:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@md:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@md:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@md:left"]){margin-right:auto}}@media (min-width:1200px){[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:left"]){margin-right:auto}}@media (min-width:1440px){[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:left"]){margin-right:auto}}[cds-layout~=horizontal] ::slotted([cds-layout*="align:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align:left"]){margin-right:auto!important}@media (min-width:576px){[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:left"]){margin-right:auto!important}}@media (min-width:768px){[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:left"]){margin-right:auto!important}}@media (min-width:992px){[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:left"]){margin-right:auto!important}}@media (min-width:1200px){[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:left"]){margin-right:auto!important}}@media (min-width:1440px){[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:left"]){margin-right:auto!important}}[cds-text]{font-family:var(--cds-global-typography-font-family, "Clarity City", "Avenir Next", sans-serif);margin-top:0;margin-bottom:0}[cds-text][cds-layout~=grid]::after,[cds-text][cds-layout~=grid]::before,[cds-text][cds-layout~=horizontal]::after,[cds-text][cds-layout~=horizontal]::before,[cds-text][cds-layout~=vertical]::after,[cds-text][cds-layout~=vertical]::before{display:none}[cds-text*=display],[cds-text*=section],[cds-text*=title]{font-family:var(--cds-global-typography-header-font-family, "Clarity City", "Avenir Next", sans-serif);color:var(--cds-global-typography-color-400,var(--cds-global-color-construction-900,#21333b))}[cds-text*=body],[cds-text*=message],[cds-text*=secondary]{color:var(--cds-global-typography-color-500,var(--cds-global-color-black,#000))}[cds-text*=inline]{width:auto!important;display:inline-block!important}[cds-text*=display]{font-size:var(--cds-global-typography-display-font-size,calc((40 / var(--cds-global-base,20)) * 1rem));font-weight:var(--cds-global-typography-display-font-weight,400);line-height:var(--cds-global-typography-display-line-height,1.1em);letter-spacing:var(--cds-global-typography-display-letter-spacing,-.0125em)}[cds-text*=display]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-display-line-height,1.1em) - 1em)/ 2))*-1) + .037em)}[cds-text*=display]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-display-line-height,1.1em) - 1em)/ 2))*-1) - .044em)}[cds-text*=title]{font-size:var(--cds-global-typography-title-font-size,calc((24 / var(--cds-global-base,20)) * 1rem));font-weight:var(--cds-global-typography-title-font-weight,400);line-height:var(--cds-global-typography-title-line-height,1.16667em);letter-spacing:var(--cds-global-typography-title-letter-spacing,-.008333em)}[cds-text*=title]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-title-line-height,1.16667em) - 1em)/ 2))*-1) + .037em)}[cds-text*=title]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-title-line-height,1.16667em) - 1em)/ 2))*-1) - .044em)}[cds-text*=section]{font-size:var(--cds-global-typography-section-font-size,calc((20 / var(--cds-global-base,20)) * 1rem));font-weight:var(--cds-global-typography-section-font-weight,400);line-height:var(--cds-global-typography-section-line-height,1.2em);letter-spacing:var(--cds-global-typography-section-letter-spacing,-.01em)}[cds-text*=section]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-section-line-height,1.2em) - 1em)/ 2))*-1) + .037em)}[cds-text*=section]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-section-line-height,1.2em) - 1em)/ 2))*-1) - .044em)}[cds-text*=body]{font-weight:var(--cds-global-typography-body-font-weight,400);font-size:var(--cds-global-typography-body-font-size,calc((14 / var(--cds-global-base,20)) * 1rem));letter-spacing:var(--cds-global-typography-body-letter-spacing,-.014286em);line-height:var(--cds-global-typography-body-line-height,1.42857em)}[cds-text*=body]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-body-line-height,1.42857em) - 1em)/ 2))*-1) + .1em)}[cds-text*=body]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-body-line-height,1.42857em) - 1em)/ 2))*-1) - .044em)}[cds-text*=message]{font-size:var(--cds-global-typography-message-font-size,calc((16 / var(--cds-global-base,20)) * 1rem));font-weight:var(--cds-global-typography-message-font-weight,calc((400 / var(--cds-global-base,20)) * 1rem));line-height:var(--cds-global-typography-message-line-height,1.25em);letter-spacing:var(--cds-global-typography-message-letter-spacing,-.0125em)}[cds-text*=message]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-message-line-height,1.25em) - 1em)/ 2))*-1) + .037em)}[cds-text*=message]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-message-line-height,1.25em) - 1em)/ 2))*-1) - .044em)}[cds-text*=secondary]{font-size:var(--cds-global-typography-secondary-font-size,calc((13 / var(--cds-global-base,20)) * 1rem));font-weight:var(--cds-global-typography-secondary-font-weight,400);line-height:var(--cds-global-typography-secondary-line-height,1.23077em);letter-spacing:var(--cds-global-typography-secondary-letter-spacing,-.007692em)}[cds-text*=secondary]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-secondary-line-height,1.23077em) - 1em)/ 2))*-1) + .037em)}[cds-text*=secondary]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-secondary-line-height,1.23077em) - 1em)/ 2))*-1) - .044em)}[cds-text~=link]{color:var(--cds-global-typography-link-color,var(--cds-global-color-blue-800,#00608a))!important;text-decoration:underline!important;line-height:inherit!important;font-size:inherit!important}[cds-text~=link]:hover{color:var(--cds-global-typography-link-color-hover,var(--cds-global-color-blue-900,#004b6b))!important}[cds-text~=link]:visited:not([cds-text~=static]){color:var(--cds-global-typography-link-color-visited,var(--cds-global-color-lavender-600,#3b40ce))!important}[cds-text~=link]:visited:not([cds-text~=static]):hover{color:var(--cds-global-typography-link-color-visited-hover,var(--cds-global-color-lavender-700,#2429c2))!important}[cds-divider]{display:block;height:var(--cds-alias-object-border-width-100,calc((1 / var(--cds-global-base,20)) * 1rem));overflow:hidden;box-shadow:var(--cds-alias-object-border-color,var(--cds-global-color-construction-200,#cbd4d8)) 0 0 0 var(--cds-alias-object-border-width-100,calc((1 / var(--cds-global-base,20)) * 1rem)) inset}[cds-text~=light]{font-weight:var(--cds-global-typography-font-weight-light,300)!important}[cds-text~=left]{text-align:left!important}[cds-text~=right]{text-align:right!important}[cds-text~=center]{text-align:center!important}[cds-text~=lhe]{padding:.05px 0}[cds-text~=lhe]::before{content:"";margin-top:-.124em;display:block;height:0}[cds-text~=lhe]::after{content:"";margin-bottom:-.221em;display:block;height:0}[cds-text*=h2],[cds-text*=h3]{font-family:var(--cds-global-typography-header-font-family, "Clarity City", "Avenir Next", sans-serif);font-size:1.4rem;font-weight:200;color:#333;line-height:1.7143em;letter-spacing:-.017857em}[cds-text*=h2]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((1.7143em - 1em)/ 2))*-1) + .037em)}[cds-text*=h2]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((1.7143em - 1em)/ 2))*-1) - .044em)}[cds-text*=h3]{font-size:1.1rem;line-height:1.0909em;letter-spacing:-.013636em}[cds-text*=h3]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((1.0909em - 1em)/ 2))*-1) + .037em)}[cds-text*=h3]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((1.0909em - 1em)/ 2))*-1) - .044em)}:host{all:initial;display:block;visibility:inherit;font-family:var(--cds-global-typography-font-family, "Clarity City", "Avenir Next", sans-serif);contain:layout;box-sizing:border-box!important;-webkit-appearance:none!important}*,:after,:before{box-sizing:inherit!important}slot{font-family:var(--cds-global-typography-font-family, "Clarity City", "Avenir Next", sans-serif);display:contents!important}::slotted(*){font-family:inherit;box-sizing:inherit}::slotted(*)::placeholder{color:var(--cds-global-typography-color-200,var(--cds-global-color-construction-600,#4f6169))}:host([_is-anchor]),:host([role=button]){cursor:pointer!important}:host([_is-anchor]) ::slotted(*),:host([role=button]) ::slotted(*){cursor:pointer!important}:host([role=button][disabled]){cursor:not-allowed!important}:host([role=button][disabled]) ::slotted(*){cursor:not-allowed!important;pointer-events:none}:host([hidden]),[hidden]{display:none!important}:host([hidden*=false]){display:block!important}:host([_focused]) .input,:host([_focused]) [focusable],:host([tabindex="0"]:focus),:host([tabindex="0"]:focus) [focusable],[tabindex="0"][focusable]:focus{outline:var(--cds-alias-object-interaction-outline,Highlight solid 2px);outline-offset:var(--cds-alias-object-interaction-outline-offset,1px)}@media (-webkit-min-device-pixel-ratio:0){:host([_focused]) .input,:host([_focused]) [focusable],:host([tabindex="0"]:focus),:host([tabindex="0"]:focus) [focusable],[tabindex="0"][focusable]:focus{outline:var(--cds-alias-object-interaction-outline-webkit,5px auto -webkit-focus-ring-color)}}`,UW=Rm(function(a,o){return null!=o&&o.constructor===a||o instanceof a});function $w(l,a){return Object.prototype.hasOwnProperty.call(a,l)}var HW=Object.prototype.toString;const GW=function(){return"[object Arguments]"===HW.call(arguments)?function(a){return"[object Arguments]"===HW.call(a)}:function(a){return $w("callee",a)}}(),sbe=Array.isArray||function(a){return null!=a&&a.length>=0&&"[object Array]"===Object.prototype.toString.call(a)};var abe=mu(function(a){return null!=a&&"function"==typeof a["fantasy-land/empty"]?a["fantasy-land/empty"]():null!=a&&null!=a.constructor&&"function"==typeof a.constructor["fantasy-land/empty"]?a.constructor["fantasy-land/empty"]():null!=a&&"function"==typeof a.empty?a.empty():null!=a&&null!=a.constructor&&"function"==typeof a.constructor.empty?a.constructor.empty():sbe(a)?[]:z9(a)?"":function obe(l){return"[object Object]"===Object.prototype.toString.call(l)}(a)?{}:GW(a)?function(){return arguments}():void 0});const lbe=abe;function WW(l){for(var o,a=[];!(o=l.next()).done;)a.push(o.value);return a}function jW(l,a,o){for(var c=0,u=o.length;c<u;){if(l(a,o[c]))return!0;c+=1}return!1}const E3="function"==typeof Object.is?Object.is:function ube(l,a){return l===a?0!==l||1/l==1/a:l!=l&&a!=a};var hbe=!{toString:null}.propertyIsEnumerable("toString"),$W=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],qW=function(){return arguments.propertyIsEnumerable("length")}(),dbe=function(a,o){for(var c=0;c<a.length;){if(a[c]===o)return!0;c+=1}return!1};const YW=mu("function"!=typeof Object.keys||qW?function(a){if(Object(a)!==a)return[];var o,c,u=[],h=qW&&GW(a);for(o in a)$w(o,a)&&(!h||"length"!==o)&&(u[u.length]=o);if(hbe)for(c=$W.length-1;c>=0;)$w(o=$W[c],a)&&!dbe(u,o)&&(u[u.length]=o),c-=1;return u}:function(a){return Object(a)!==a?[]:Object.keys(a)}),ZW=mu(function(a){return null===a?"Null":void 0===a?"Undefined":Object.prototype.toString.call(a).slice(8,-1)});function XW(l,a,o,c){var u=WW(l);function d(f,p){return k3(f,p,o.slice(),c.slice())}return!jW(function(f,p){return!jW(d,p,f)},WW(a),u)}function k3(l,a,o,c){if(E3(l,a))return!0;var u=ZW(l);if(u!==ZW(a)||null==l||null==a)return!1;if("function"==typeof l["fantasy-land/equals"]||"function"==typeof a["fantasy-land/equals"])return"function"==typeof l["fantasy-land/equals"]&&l["fantasy-land/equals"](a)&&"function"==typeof a["fantasy-land/equals"]&&a["fantasy-land/equals"](l);if("function"==typeof l.equals||"function"==typeof a.equals)return"function"==typeof l.equals&&l.equals(a)&&"function"==typeof a.equals&&a.equals(l);switch(u){case"Arguments":case"Array":case"Object":if("function"==typeof l.constructor&&"Promise"===function cbe(l){var a=String(l).match(/^function (\w*)/);return null==a?"":a[1]}(l.constructor))return l===a;break;case"Boolean":case"Number":case"String":if(typeof l!=typeof a||!E3(l.valueOf(),a.valueOf()))return!1;break;case"Date":if(!E3(l.valueOf(),a.valueOf()))return!1;break;case"Error":return l.name===a.name&&l.message===a.message;case"RegExp":if(l.source!==a.source||l.global!==a.global||l.ignoreCase!==a.ignoreCase||l.multiline!==a.multiline||l.sticky!==a.sticky||l.unicode!==a.unicode)return!1}for(var h=o.length-1;h>=0;){if(o[h]===l)return c[h]===a;h-=1}switch(u){case"Map":return l.size===a.size&&XW(l.entries(),a.entries(),o.concat([l]),c.concat([a]));case"Set":return l.size===a.size&&XW(l.values(),a.values(),o.concat([l]),c.concat([a]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var d=YW(l);if(d.length!==YW(a).length)return!1;var f=o.concat([l]),p=c.concat([a]);for(h=d.length-1;h>=0;){var g=d[h];if(!$w(g,a)||!k3(a[g],l[g],f,p))return!1;h-=1}return!0}const mbe=Rm(function(a,o){return k3(a,o,[],[])}),_be=mu(function(a){return null!=a&&mbe(a,lbe(a))});function A3(l){return Fm(l)||_be(l)}function QW(l,a){return l!==a}function tj(l,...a){return a.forEach(([o,c])=>{l.style[o]=c}),l}function P3(l){return`calc((${l} / var(--cds-global-base)) * 1rem)`}const Dbe=(l,a)=>"method"===a.kind&&a.descriptor&&!("value"in a.descriptor)?Bx($o({},a),{finisher(o){o.createProperty(a.key,l)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:a.key,initializer(){"function"==typeof a.initializer&&(this[a.key]=a.initializer.call(this))},finisher(o){o.createProperty(a.key,l)}};function nj(l){return(a,o)=>void 0!==o?void a.constructor.createProperty(o,l):Dbe(l,a)}function ij(l,a){switch(a&&a.type){case Array:case Object:return $o({reflect:!1},a);case String:return $o({reflect:!0,attribute:Qf(l),converter:{toAttribute:o=>o||null}},a);case Number:return $o({reflect:!0,attribute:Qf(l)},a);case Boolean:return $o({reflect:!0,attribute:Qf(l),converter:{toAttribute:o=>o?"":null,fromAttribute:o=>"false"!==o&&null!==o}},a);case Date:return $o({reflect:!1,converter:{fromAttribute:o=>new Date(o)}},a);default:return $o({},a)}}function Dd(l){return(a,o)=>(function Ebe(l,a,o){const c=l.firstUpdated;l.firstUpdated=function(u){if(o&&o.required&&A3(this[a])){const h=o.requiredMessage||function(d="warning",f,p){const g=p.toLocaleLowerCase();return`${Z9(d)}: ${f} is required to use ${g} component. Set the JS Property or HTML Attribute.\n\n`+(W9()?`Angular: <${g} [${f}]="..."></${g}>\n`:"")+($9()?`Vue: <${g} :${f}="..."></${g}>\n`:"")+(j9()?`React: <${function pye(l){return Z9(function fye(l){return l.split("-").map((a,o)=>o?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():a).join("")}(l))}(g)} ${m=f,m.startsWith("aria")?Qf(m):m}={...} />\n`:"")+`HTML: <${g} ${Qf(f)}="..."></${g}>\nJavaScript: document.querySelector('${g}').${f} = '...';\n\n`;var m}(o.required,a,this.tagName);if("error"===o.required)throw Error(h);Ry.warn(h,this)}c&&c.call(this,u)}}(a,o,l),nj(ij(o,l))(a,o))}const Obe=_W`@keyframes fadeInAndOut{0%,to{opacity:0}75%{opacity:1}}:host{--color:currentColor;display:inline-block;height:var(--cds-global-space-7,calc((16 / var(--cds-global-base,20)) * 1rem));width:var(--cds-global-space-7,calc((16 / var(--cds-global-base,20)) * 1rem));min-height:var(--cds-global-space-7,calc((16 / var(--cds-global-base,20)) * 1rem));min-width:var(--cds-global-space-7,calc((16 / var(--cds-global-base,20)) * 1rem));margin:0;vertical-align:middle;fill:var(--color);color:var(--color);contain:strict;cursor:inherit}svg{display:block}:host([size*=xs]){height:var(--cds-global-space-5,calc((8 / var(--cds-global-base,20)) * 1rem));width:var(--cds-global-space-5,calc((8 / var(--cds-global-base,20)) * 1rem));min-height:var(--cds-global-space-5,calc((8 / var(--cds-global-base,20)) * 1rem));min-width:var(--cds-global-space-5,calc((8 / var(--cds-global-base,20)) * 1rem))}:host([size*=sm]){height:var(--cds-global-space-7,calc((16 / var(--cds-global-base,20)) * 1rem));width:var(--cds-global-space-7,calc((16 / var(--cds-global-base,20)) * 1rem));min-height:var(--cds-global-space-7,calc((16 / var(--cds-global-base,20)) * 1rem));min-width:var(--cds-global-space-7,calc((16 / var(--cds-global-base,20)) * 1rem))}:host([size*=md]){height:var(--cds-global-space-9,calc((24 / var(--cds-global-base,20)) * 1rem));width:var(--cds-global-space-9,calc((24 / var(--cds-global-base,20)) * 1rem));min-height:var(--cds-global-space-9,calc((24 / var(--cds-global-base,20)) * 1rem));min-width:var(--cds-global-space-9,calc((24 / var(--cds-global-base,20)) * 1rem))}:host([size*=lg]){height:var(--cds-global-space-11,calc((36 / var(--cds-global-base,20)) * 1rem));width:var(--cds-global-space-11,calc((36 / var(--cds-global-base,20)) * 1rem));min-height:var(--cds-global-space-11,calc((36 / var(--cds-global-base,20)) * 1rem));min-width:var(--cds-global-space-11,calc((36 / var(--cds-global-base,20)) * 1rem))}:host([size*=xl]){height:var(--cds-global-space-12,calc((48 / var(--cds-global-base,20)) * 1rem));width:var(--cds-global-space-12,calc((48 / var(--cds-global-base,20)) * 1rem));min-height:var(--cds-global-space-12,calc((48 / var(--cds-global-base,20)) * 1rem));min-width:var(--cds-global-space-12,calc((48 / var(--cds-global-base,20)) * 1rem))}:host([size*=xxl]){height:calc(var(--cds-global-space-13,calc((72 / var(--cds-global-base,20)) * 1rem)) - var(--cds-global-space-5,calc((8 / var(--cds-global-base,20)) * 1rem)));width:calc(var(--cds-global-space-13,calc((72 / var(--cds-global-base,20)) * 1rem)) - var(--cds-global-space-5,calc((8 / var(--cds-global-base,20)) * 1rem)));min-height:calc(var(--cds-global-space-13,calc((72 / var(--cds-global-base,20)) * 1rem)) - var(--cds-global-space-5,calc((8 / var(--cds-global-base,20)) * 1rem)));min-width:calc(var(--cds-global-space-13,calc((72 / var(--cds-global-base,20)) * 1rem)) - var(--cds-global-space-5,calc((8 / var(--cds-global-base,20)) * 1rem)))}:host([size*=fit]){height:auto;width:auto;contain:layout}:host([status=success]){--color:var(--cds-alias-status-success, var(--cds-global-color-green-700, #42810e))}:host([status=danger]){--color:var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200))}:host([status=warning]){--color:var(--cds-alias-status-warning-shade, var(--cds-global-color-ochre-600, #ffa600))}:host([status=info]){--color:var(--cds-alias-status-info-shade, var(--cds-global-color-blue-800, #00608a))}:host([inverse]){--color:var(--cds-global-color-construction-200, #cbd4d8)}:host([direction=up]){transform:rotate(0)}:host([direction=down]){transform:rotate(180deg)}:host([direction=right]){transform:rotate(90deg)}:host([direction=left]){transform:rotate(270deg)}:host([flip=horizontal]){transform:scale(-1) rotateX(180deg)}:host([flip=vertical]){transform:scale(-1) rotateY(180deg)}.alert,.badge{fill:var(--badge-color,var(--cds-alias-status-danger,var(--cds-global-color-red-700,#e02200)))}:host([badge=success]){--badge-color:var(--cds-alias-status-success, var(--cds-global-color-green-700, #42810e))}:host([badge=danger]){--badge-color:var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200))}:host([badge*=warning]){--badge-color:var(--cds-alias-status-warning-shade, var(--cds-global-color-ochre-600, #ffa600))}:host([badge=inherit]){--badge-color:currentColor}:host([badge=info]){--badge-color:var(--cds-alias-status-info, var(--cds-global-color-blue-700, #0079ad))}:host([badge=inherit-triangle]){--badge-color:currentColor}:host([badge][inverse]){--badge-color:var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200))}:host([badge=success][inverse]){--badge-color:var(--cds-alias-status-success, var(--cds-global-color-green-700, #42810e))}:host([badge*=warning][inverse]){--badge-color:var(--cds-alias-status-warning-shade, var(--cds-global-color-ochre-600, #ffa600))}:host([badge*=inherit][inverse]){--badge-color:currentColor}:host([badge=info][inverse]){--badge-color:var(--cds-alias-status-info, var(--cds-global-color-blue-700, #0079ad))}.cds-internal-dot-1{animation:fadeInAndOut 1.8s ease-in 0s infinite}.cds-internal-dot-2{animation:fadeInAndOut 1.8s ease-out .422s infinite}.cds-internal-dot-3{animation:fadeInAndOut 1.8s ease-out .675s infinite}@media (prefers-reduced-motion){.cds-internal-dot-1,.cds-internal-dot-2,.cds-internal-dot-3{animation:none}}`;var yu,l;function O3(l){return l.badge&&("inherit-triangle"===l.badge||"warning-triangle"===l.badge)}(l=yu||(yu={})).BadSizeValue="bad-value",l.ValidSizeString="value-is-string",l.ValidNumericString="value-is-numeric",l.NilSizeValue="value-is-nil";class bc extends Xy{constructor(){super(...arguments),this._shape="unknown",this.solid=!1,this.inverse=!1}static get styles(){return[nbe,Obe]}get shape(){return this._shape}set shape(a){if(function wbe(l,a){return!A3(l)&&QW(l,a)}(a,this._shape)){const o=this._shape;this._shape=a,this.requestUpdate("shape",o)}}get size(){return this._size}set size(a){if(function Cbe(l,a){return function bbe(l){return UW(String,l)||Fm(l)}(l)&&QW(l,a)}(a,this._size)){const o=this._size;this._size=a,function Lbe(l,a){const o=function Rbe(l){return Fm(l)||""===l?yu.NilSizeValue:function rj(l){return["xxs","xs","sm","md","lg","xl","xxl"].indexOf(l)>-1}(l)?yu.ValidSizeString:!isNaN(parseInt(l,10))&&l.match(/^[0-9 ]+$/)?yu.ValidNumericString:yu.BadSizeValue}(function Fbe(l){return Fm(l)||""===l?"":function gye(l,a,o=""){const c=l.split(" "),u=""===o?c.filter(h=>h!==a):c.map(h=>h===a?o:h);return u.length>0?u.join(" "):""}(l,"fit")}(a)),c=!Fm(a)&&a.indexOf("fit")>-1;let u="";switch(o){case yu.ValidNumericString:return u=P3(parseInt(a)),void(c?tj(l,["width","auto"],["height","auto"],["min-width",u],["min-height",u]):tj(l,["width",u],["height",u],["min-width",u],["min-height",u]));case yu.ValidSizeString:case yu.NilSizeValue:return void function Mbe(l,...a){a.forEach(o=>{l.style[o]=""})}(l,"width","height","min-width","min-height");default:return}}(this,a),this.requestUpdate("size",o)}}updated(a){if(a.has("innerOffset")&&this.innerOffset>0){const o=P3(-1*this.innerOffset),c=`calc(100% + ${P3(2*this.innerOffset)})`;this.svg.style.width=c,this.svg.style.height=c,this.svg.style.margin=`${o} 0 0 ${o}`}}firstUpdated(a){super.firstUpdated(a);let o="unknown";this.subscription=yc.stateUpdates.subscribe(c=>{"iconRegistry"===c.key&&Ki.registry[this.shape]&&o!==this.shape&&(o=this.shape,this.requestUpdate("shape"))})}disconnectedCallback(){var a;super.disconnectedCallback(),null===(a=this.subscription)||void 0===a||a.unsubscribe()}render(){return function I3(l){return UW(String,l)}(Ki.registry[this.shape])?K1e`<span .innerHTML="${Ki.registry[this.shape]}"></span>`:Q1e`<svg .innerHTML="${function Bbe(l){var a,o,c,u,h;const d=null!==(a=Ki.registry[l.shape])&&void 0!==a?a:Ki.registry.unknown;let f=l.solid&&d.solid?d.solid:d.outline;return l.badge&&!O3(l)&&(f=l.solid?null!==(o=d.solidBadged)&&void 0!==o?o:f:null!==(c=d.outlineBadged)&&void 0!==c?c:f),O3(l)&&(f=l.solid?null!==(u=d.solidAlerted)&&void 0!==u?u:f:null!==(h=d.outlineAlerted)&&void 0!==h?h:f),f}(this)+function Nbe(l){let a="";return l.badge&&O3(l)?a='<path d="M26.85 1.14L21.13 11a1.28 1.28 0 001.1 2h11.45a1.28 1.28 0 001.1-2l-5.72-9.86a1.28 1.28 0 00-2.21 0z" class="alert" />':l.badge&&(a='<circle cx="30" cy="6" r="5" class="badge" />'),a}(this)}" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"></svg>`}}ns([Dd({type:String})],bc.prototype,"shape",null),ns([Dd({type:String})],bc.prototype,"size",null),ns([Dd({type:String})],bc.prototype,"direction",void 0),ns([Dd({type:String})],bc.prototype,"flip",void 0),ns([Dd({type:Boolean})],bc.prototype,"solid",void 0),ns([Dd({type:String})],bc.prototype,"status",void 0),ns([Dd({type:Boolean})],bc.prototype,"inverse",void 0),ns([Dd({type:String})],bc.prototype,"badge",void 0),ns([function kbe(l){return(a,o)=>{const c=ij(o,l);return c&&(c.reflect=!!(null==l?void 0:l.reflect)&&l.reflect,c.reflect&&!(null==l?void 0:l.attribute)&&(c.attribute="_"+Qf(o))),nj(c)(a,o)}}({type:Number})],bc.prototype,"innerOffset",void 0),ns([function Ibe(l,a){return(({finisher:l,descriptor:a})=>(o,c)=>{var u;if(void 0===c){const h=null!==(u=o.originalKey)&&void 0!==u?u:o.key,d=null!=a?{kind:"method",placement:"prototype",key:h,descriptor:a(o.key)}:Bx($o({},o),{key:h});return null!=l&&(d.finisher=function(f){l(f,h)}),d}{const h=o.constructor;void 0!==a&&Object.defineProperty(o,c,a(c)),null==l||l(h,c)}})({descriptor:o=>{const c={get(){var u,h;return null!==(h=null===(u=this.renderRoot)||void 0===u?void 0:u.querySelector(l))&&void 0!==h?h:null},enumerable:!0,configurable:!0};if(a){const u="symbol"==typeof o?Symbol():"__"+o;c.get=function(){var h,d;return void 0===this[u]&&(this[u]=null!==(d=null===(h=this.renderRoot)||void 0===h?void 0:h.querySelector(l))&&void 0!==d?d:null),this[u]}}return c}})}("svg")],bc.prototype,"svg",void 0),function $1e(l,a){H9()&&U9(["customElements"])&&j1e(l,a,window.customElements)}("cds-icon",bc);const Pn=["*"];function exe(l,a){1&l&&ye(0,"label")}const txe=[[["","clrCheckbox",""],["","clrToggle",""]],[["label"]]],nxe=["[clrCheckbox],[clrToggle]","label"];function ixe(l,a){1&l&&ye(0,"label")}function rxe(l,a){1&l&&lt(0,2,["*ngIf","showHelper"])}function sxe(l,a){1&l&&ye(0,"cds-icon",5)}function oxe(l,a){1&l&&ye(0,"cds-icon",6)}function axe(l,a){1&l&&lt(0,3,["*ngIf","showInvalid"])}function lxe(l,a){1&l&&lt(0,4,["*ngIf","showValid"])}const cxe=[[["label"]],[["clr-checkbox-wrapper"],["clr-toggle-wrapper"]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],uxe=["label","clr-checkbox-wrapper,clr-toggle-wrapper","clr-control-helper","clr-control-error","clr-control-success"];function Axe(l,a){1&l&&ye(0,"label")}function Ixe(l,a){1&l&&ye(0,"cds-icon",5)}function Pxe(l,a){1&l&&ye(0,"cds-icon",6)}function Oxe(l,a){1&l&&lt(0,2,["*ngIf","showHelper"])}function Rxe(l,a){1&l&&lt(0,3,["*ngIf","showInvalid"])}function Fxe(l,a){1&l&&lt(0,4,["*ngIf","showValid"])}const Lxe=[[["label"]],[["","clrInput",""]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],Nxe=["label","[clrInput]","clr-control-helper","clr-control-error","clr-control-success"];function Bxe(l,a){1&l&&ye(0,"label")}const Vxe=[[["","clrRadio",""]],[["label"]]],zxe=["[clrRadio]","label"];function Uxe(l,a){1&l&&ye(0,"label")}function Hxe(l,a){1&l&&lt(0,2,["*ngIf","showHelper"])}function Gxe(l,a){1&l&&ye(0,"cds-icon",5)}function Wxe(l,a){1&l&&ye(0,"cds-icon",6)}function jxe(l,a){1&l&&lt(0,3,["*ngIf","showInvalid"])}function $xe(l,a){1&l&&lt(0,4,["*ngIf","showValid"])}const qxe=[[["label"]],[["clr-radio-wrapper"]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],Yxe=["label","clr-radio-wrapper","clr-control-helper","clr-control-error","clr-control-success"];function Zxe(l,a){1&l&&ye(0,"label")}function Xxe(l,a){1&l&&ye(0,"cds-icon",5)}function Kxe(l,a){1&l&&ye(0,"cds-icon",6)}function Qxe(l,a){1&l&&lt(0,2,["*ngIf","showHelper"])}function Jxe(l,a){1&l&&lt(0,3,["*ngIf","showInvalid"])}function eCe(l,a){1&l&&lt(0,4,["*ngIf","showValid"])}const tCe=[[["label"]],[["","clrTextarea",""]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],nCe=["label","[clrTextarea]","clr-control-helper","clr-control-error","clr-control-success"];function qSe(l,a){if(1&l){const o=Bt();A(0,"button",11),pe("click",function(){return dt(o),J(2).close()}),ye(1,"cds-icon",12),I()}2&l&&Je("aria-label",J(2).commonStrings.keys.close)}function YSe(l,a){if(1&l){const o=Bt();A(0,"div",1),A(1,"div",2),pe("@fadeDown.done",function(u){return dt(o),J().fadeDone(u)}),A(2,"div",3),we(3),I(),A(4,"div",4),lt(5),A(6,"div",5),A(7,"div",6),A(8,"div",7),lt(9,1),I(),Q(10,qSe,2,1,"button",8),I(),A(11,"div",9),lt(12,2),I(),lt(13,3),I(),I(),A(14,"div",3),we(15),I(),I(),A(16,"div",10),pe("click",function(){dt(o);const u=J();return u.staticBackdrop||u.close()}),I(),I()}if(2&l){const o=J();z(1),Et("modal-sm","sm"==o.size)("modal-lg","lg"==o.size)("modal-xl","xl"==o.size),U("@fadeDown",o.skipAnimation),Je("aria-hidden",!o._open)("aria-labelledby",o.modalId),z(2),Sn(o.commonStrings.keys.modalContentStart),z(5),uA("id",o.modalId),z(2),U("ngIf",o.closable),z(5),Sn(o.commonStrings.keys.modalContentEnd),z(1),U("@fade",void 0)}}const ZSe=[[["",8,"modal-nav"]],[["",8,"modal-title"]],[["",8,"modal-body"]],[["",8,"modal-footer"]]],XSe=[".modal-nav",".modal-title",".modal-body",".modal-footer"];function f2e(l,a){if(1&l&&(fr(0),we(1),pr()),2&l){const o=J(3);z(1),Sn(o.commonStrings.keys.danger)}}function p2e(l,a){if(1&l&&(A(0,"div",14),Q(1,f2e,2,1,"ng-container",0),I()),2&l){const o=J().$implicit,c=J();z(1),U("ngIf",o.status===c.AccordionStatus.Error)}}function g2e(l,a){if(1&l&&(fr(0),we(1),pr()),2&l){const o=J(2);z(1),Sn(o.commonStrings.keys.danger)}}function m2e(l,a){if(1&l&&(fr(0),we(1),pr()),2&l){const o=J(2);z(1),Sn(o.commonStrings.keys.success)}}function v2e(l,a){if(1&l){const o=Bt();A(0,"div",15),pe("@toggle.done",function(){dt(o);const u=J().$implicit;return J().collapsePanelOnAnimationDone(u)}),A(1,"div",16),lt(2,2),I(),I()}2&l&&U("@toggle",void 0)}function _2e(l,a){if(1&l){const o=Bt();fr(0),Q(1,p2e,2,1,"div",1),A(2,"div",2),A(3,"div",3),A(4,"button",4,5),pe("click",function(){return dt(o),J().togglePanel()}),dy(6,"async"),A(7,"span",6),Q(8,g2e,2,1,"ng-container",0),Q(9,m2e,2,1,"ng-container",0),I(),A(10,"span",7),ye(11,"cds-icon",8),ye(12,"span",9),ye(13,"cds-icon",10),ye(14,"cds-icon",11),I(),lt(15),lt(16,1),I(),I(),A(17,"div",12),Q(18,v2e,3,1,"div",13),I(),I(),pr()}if(2&l){const o=a.$implicit,c=J();let u;z(1),U("ngIf",o.status!==c.AccordionStatus.Inactive),z(1),U("ngClass",c.getPanelStateClasses(o)),z(2),Et("clr-accordion-header-has-description",(null==(u=fy(6,16,c.accordionDescription.changes))?null:u.length)||c.accordionDescription.length),U("id",c.getAccordionHeaderId(o.templateId))("disabled",c.isAccordion&&o.disabled),Je("aria-disabled",!c.isAccordion&&o.disabled)("aria-controls",c.getAccordionContentId(o.templateId))("aria-expanded",o.open),z(4),U("ngIf",o.status===c.AccordionStatus.Error),z(1),U("ngIf",o.status===c.AccordionStatus.Complete),z(8),U("@skipInitialRender",void 0)("id",c.getAccordionContentId(o.templateId)),Je("aria-hidden",!o.open)("aria-labelledby",c.getAccordionHeaderId(o.templateId)),z(1),U("ngIf",o.open)}}const oj=[[["clr-accordion-title"],["clr-step-title"]],[["clr-accordion-description"],["clr-step-description"]],"*"],aj=["clr-accordion-title, clr-step-title","clr-accordion-description, clr-step-description","*"];function D2e(l,a){if(1&l&&(A(0,"span"),we(1),I()),2&l){const o=J();z(1),Sn(o.displayValue)}}let Aa=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275dir=gt({type:l,selectors:[["clr-icon"]]}),l})(),nr=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275dir=gt({type:l,selectors:[["cds-icon"]]}),l})(),ir=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai]]}),l})();var Ii=(()=>(function(l){l[l.START=0]="START",l[l.CENTER=.5]="CENTER",l[l.END=1]="END"}(Ii||(Ii={})),Ii))(),io=(()=>(function(l){l[l.VERTICAL=0]="VERTICAL",l[l.HORIZONTAL=1]="HORIZONTAL"}(io||(io={})),io))(),jn=(()=>(function(l){l.ArrowLeft="ArrowLeft",l.ArrowUp="ArrowUp",l.ArrowRight="ArrowRight",l.ArrowDown="ArrowDown",l.Backspace="Backspace",l.Tab="Tab",l.Enter="Enter",l.Escape="Escape",l.Space="Space",l.Home="Home",l.End="End"}(jn||(jn={})),jn))(),xc=(()=>(function(l){l.ArrowUp="Up",l.ArrowDown="Down",l.ArrowRight="Right",l.ArrowLeft="Left",l.Space="Spacebar",l.Escape="Esc",l.Home="Home",l.End="End",l.Enter="Enter",l.Tab="Tab"}(xc||(xc={})),xc))();function Ky(l){return l===jn.ArrowUp||l===xc.ArrowUp?jn.ArrowUp:l===jn.ArrowDown||l===xc.ArrowDown?jn.ArrowDown:l===jn.ArrowRight||l===xc.ArrowRight?jn.ArrowRight:l===jn.ArrowLeft||l===xc.ArrowLeft?jn.ArrowLeft:l===jn.Space||l===xc.Space?jn.Space:l===jn.Escape||l===xc.Escape?jn.Escape:l}let ar=(()=>{class l{constructor(){this._open=!1,this._openChange=new pt,this._openEventChange=new pt,this._popoverAligned=new pt}get openChange(){return this._openChange.asObservable()}set openEvent(o){this._openEvent=o,this._openEventChange.next(o)}get openEvent(){return this._openEvent}getEventChange(){return this._openEventChange.asObservable()}set open(o){this._open!==(o=!!o)&&(this._open=o,this._openChange.next(o))}get open(){return this._open}get originalEvent(){return this._openEvent}toggleWithEvent(o){(function R3(l){const a=Ky(l.key);(a===jn.ArrowUp||a===jn.ArrowDown||a===jn.ArrowLeft||a===jn.ArrowRight)&&l.preventDefault()})(o),this.openEvent=o,this.open=!this.open}get popoverAligned(){return this._popoverAligned.asObservable()}popoverAlignedEmit(o){this._popoverAligned.next(o)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),t1=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[]]}),l})();var mo=(()=>(function(l){l[l.DEFAULT=0]="DEFAULT",l[l.LOADING=1]="LOADING",l[l.SUCCESS=2]="SUCCESS",l[l.ERROR=3]="ERROR"}(mo||(mo={})),mo))();let R2e=0;const Ws=new Un("UNIQUE_ID"),na={provide:Ws,useFactory:function F2e(){return"clr-id-"+R2e++}};var Ia=(()=>(function(l){l[l.BEFORE=-1]="BEFORE",l[l.AFTER=1]="AFTER"}(Ia||(Ia={})),Ia))();class Pa{}Pa["top-right"]={axis:io.VERTICAL,side:Ia.BEFORE,anchor:Ii.END,content:Ii.END},Pa["top-left"]={axis:io.VERTICAL,side:Ia.BEFORE,anchor:Ii.START,content:Ii.START},Pa["bottom-right"]={axis:io.VERTICAL,side:Ia.AFTER,anchor:Ii.END,content:Ii.END},Pa["bottom-left"]={axis:io.VERTICAL,side:Ia.AFTER,anchor:Ii.START,content:Ii.START},Pa["right-top"]={axis:io.HORIZONTAL,side:Ia.AFTER,anchor:Ii.CENTER,content:Ii.END},Pa["right-bottom"]={axis:io.HORIZONTAL,side:Ia.AFTER,anchor:Ii.START,content:Ii.START},Pa["left-top"]={axis:io.HORIZONTAL,side:Ia.BEFORE,anchor:Ii.CENTER,content:Ii.END},Pa["left-bottom"]={axis:io.HORIZONTAL,side:Ia.BEFORE,anchor:Ii.START,content:Ii.START};const L2e={open:"Open",close:"Close",show:"Show",hide:"Hide",expand:"Expand",collapse:"Collapse",more:"More",select:"Select",selectAll:"Select All",previous:"Previous",next:"Next",current:"Jump to current",info:"Info",success:"Success",warning:"Warning",danger:"Error",rowActions:"Available actions",pickColumns:"Show or hide columns",showColumns:"Show Columns",sortColumn:"Sort Column",firstPage:"First Page",lastPage:"Last Page",nextPage:"Next Page",previousPage:"Previous Page",currentPage:"Current Page",totalPages:"Total Pages",filterItems:"Filter items",minValue:"Min value",maxValue:"Max value",modalContentStart:"Beginning of Modal Content",modalContentEnd:"End of Modal Content",showColumnsMenuDescription:"Show or hide columns menu",allColumnsSelected:"All columns selected",signpostToggle:"Signpost Toggle",signpostClose:"Signpost Close",loading:"Loading",detailPaneStart:"Start of row details",detailPaneEnd:"End of row details",singleSelectionAriaLabel:"Single selection header",singleActionableAriaLabel:"Single actionable header",detailExpandableAriaLabel:"Toggle more row content",datagridFilterAriaLabel:"Filter dialog",datagridFilterDialogAriaLabel:"Toggle column filter",columnSeparatorAriaLabel:"Column resize handle",columnSeparatorDescription:"Use left or right key to resize the column",alertCloseButtonAriaLabel:"Close alert",datepickerToggle:"Toggle datepicker",datepickerPreviousMonth:"Previous month",datepickerCurrentMonth:"Current month",datepickerNextMonth:"Next month",datepickerPreviousDecade:"Previous decade",datepickerNextDecade:"Next decade",datepickerCurrentDecade:"Current decade",datepickerSelectMonthText:"Select month, the current month is {CALENDAR_MONTH}",datepickerSelectYearText:"Select year, the current year is {CALENDAR_YEAR}",stackViewChanged:"Value changed.",verticalNavGroupToggle:"Toggle vertical navigation group",verticalNavToggle:"Toggle vertical navigation",timelineStepNotStarted:"Not started",timelineStepCurrent:"Current",timelineStepSuccess:"Completed",timelineStepError:"Error",timelineStepProcessing:"In progress",comboboxDelete:"Delete selected option",comboboxSearching:'Searching for matches for "{INPUT}"',comboboxSelection:"Selection",comboboxSelected:"Selected",comboboxNoResults:"No results",comboboxOpen:"Show options",dategridExpandableBeginningOf:"Beginning of",dategridExpandableEndOf:"End of",dategridExpandableRowContent:"Expandable row content",dategridExpandableRowsHelperText:"Screen reader table commands may not work for viewing expanded content, please use your screen reader's browse mode to read the content exposed by this button"};let qi=(()=>{class l{constructor(){this._strings=L2e}localize(o){this._strings=Object.assign(Object.assign({},this._strings),o)}get keys(){return this._strings}parse(o,c={}){const u=Object.keys(c);let h=o;return u.length&&u.forEach(d=>{h=h.replace(`{${d}}`,c[d])}),h}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),N2e=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ir,t1]]}),l})(),B2e=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai]]}),l})(),V2e=(()=>{class l{constructor(){Ki.addIcons(eG)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[B2e,N2e]}),l})(),z2e=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=nt({type:l,selectors:[["ng-component"]],decls:0,vars:0,template:function(o,c){},encapsulation:2}),l})(),qw=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({}),l})();class Yw{constructor(a,o,c=0){if(this.injector=o.injector,!this.injector.get(a,null)){const u=this.injector.get(gh),h=this.injector.get(gn);o.createComponent(u.resolveComponentFactory(z2e));const d=u.resolveComponentFactory(a),f=[];f[c]=[h.nativeElement];const p=o.createComponent(d,void 0,void 0,f);o.remove(0),p.instance._dynamic=!0,this.injector=p.injector}}get(a,o){return this.injector.get(a,o)}}let U2e=0,Cc=(()=>{class l{constructor(){this._id="clr-form-control-"+ ++U2e,this._idChange=new kr(this._id)}get id(){return this._id}set id(o){this._id=o,this._idChange.next(o)}get idChange(){return this._idChange.asObservable()}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),Gl=(()=>{class l{constructor(){this._controlChanges=new pt,this._helpers=new pt}get controlChanges(){return this._controlChanges.asObservable()}setControl(o){this._controlChanges.next(o)}get helpersChange(){return this._helpers.asObservable()}setHelpers(o){this._helpers.next(o)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();var Io=(()=>(function(l){l.NONE="NONE",l.VALID="VALID",l.INVALID="INVALID"}(Io||(Io={})),Io))();let xu=(()=>{class l{constructor(o){this.ngControlService=o,this.subscriptions=[],this._statusChanges=new kr(Io.NONE),this.subscriptions.push(this.ngControlService.controlChanges.subscribe(c=>{c&&(this.control=c,this.subscriptions.push(this.control.statusChanges.subscribe(()=>{this.triggerStatusChange()})))}))}get statusChanges(){return this._statusChanges.asObservable()}triggerStatusChange(){if(this.control){const o=Io[this.control.status];this._statusChanges.next(this.control.touched&&["VALID","INVALID"].includes(o)?o:Io.NONE)}}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}}return l.\u0275fac=function(o){return new(o||l)(Fe(Gl))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();var Sh=(()=>(function(l){l.VERTICAL="vertical",l.HORIZONTAL="horizontal",l.COMPACT="compact"}(Sh||(Sh={})),Sh))();let Th=(()=>{class l{constructor(){this.minLabelSize=1,this.maxLabelSize=12,this.layout=Sh.HORIZONTAL,this.layoutValues=Object.keys(Sh).map(o=>Sh[o]),this._labelSize=2}set labelSize(o){this.labelSizeIsValid(o)&&(this._labelSize=o)}get labelSize(){return this._labelSize}isVertical(){return this.layout===Sh.VERTICAL}isHorizontal(){return this.layout===Sh.HORIZONTAL}isCompact(){return this.layout===Sh.COMPACT}get layoutClass(){return`clr-form-${this.layout}`}isValid(o){return this.layoutValues.indexOf(o)>-1}labelSizeIsValid(o){return Number.isInteger(o)&&o>=this.minLabelSize&&o<=this.maxLabelSize}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),Cu=(()=>{class l{constructor(o){this.layoutService=o,this.className=""}controlClass(o=Io.NONE,c=!1,u=""){const h=[this.className,u];switch(o){case Io.VALID:h.push("clr-success");break;case Io.INVALID:h.push("clr-error")}return c&&this.layoutService&&-1===this.className.indexOf("clr-col")&&h.push(`clr-col-md-${this.layoutService.maxLabelSize-this.layoutService.labelSize} clr-col-12`),h.join(" ").trim()}initControlClass(o,c){c&&c.className&&(this.className=c.className,c.className.split(" ").forEach(h=>{h.startsWith("clr-col")&&o.removeClass(c,h)}))}}return l.\u0275fac=function(o){return new(o||l)(Fe(Th,8))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),L3=(()=>{class l{constructor(){this._touched=new pt}get touchedChange(){return this._touched.asObservable()}markAsTouched(){this._touched.next()}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),W2e=0,ip=(()=>{class l{constructor(){this._id="clr-form-container-"+ ++W2e,this._idChange=new kr(this._id)}get id(){return this._id}set id(o){this._id=o,this._idChange.next(o)}get idChange(){return this._idChange.asObservable()}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();let N3=(()=>{class l{constructor(o,c){this.controlIdService=o,this.containerIdService=c,this.controlIdSuffix="abstract"}get id(){return this.containerIdService?`${this.containerIdService.id}-${this.controlIdSuffix}`:this.controlIdService?`${this.controlIdService.id}-${this.controlIdSuffix}`:null}}return l.\u0275fac=function(o){return new(o||l)(N(Cc,8),N(ip,8))},l.\u0275dir=gt({type:l}),l})(),r1=(()=>{class l{constructor(o,c,u,h,d,f){this.vcr=o,this.wrapperType=c,this.ngControl=h,this.subscriptions=[],this.index=0,this.renderer=d,this.el=f;try{this.ngControlService=u.get(Gl),this.ifControlStateService=u.get(xu),this.controlClassService=u.get(Cu),this.markControlService=u.get(L3)}catch(p){}this.controlClassService&&this.controlClassService.initControlClass(d,f.nativeElement),this.markControlService&&this.subscriptions.push(this.markControlService.touchedChange.subscribe(()=>{this.markAsTouched()})),this.ngControlService&&this.subscriptions.push(this.ngControlService.helpersChange.subscribe(p=>{this.setAriaDescribedBy(p)}))}get id(){return this._id}set id(o){this._id=o,this.controlIdService&&(this.controlIdService.id=o)}triggerValidation(){this.ifControlStateService&&(this.ngControl&&!this.ngControl.touched&&this.markAsTouched(),this.ifControlStateService.triggerStatusChange())}markAsTouched(){this.ngControl.control.markAsTouched(),this.ngControl.control.updateValueAndValidity()}getProviderFromContainer(o,c){try{return this._containerInjector.get(o,c)}catch(u){return c}}ngOnInit(){this._containerInjector=new Yw(this.wrapperType,this.vcr,this.index),this.controlIdService=this._containerInjector.get(Cc);try{this.containerIdService=this._containerInjector.get(ip)}catch(o){}this._id?this.controlIdService.id=this._id:this._id=this.controlIdService.id,this.ngControlService&&this.ngControlService.setControl(this.ngControl)}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}setAriaDescribedBy(o){if(o.show){const c=this.getAriaDescribedById(o);if(null!==c)return void this.renderer.setAttribute(this.el.nativeElement,"aria-describedby",c)}this.renderer.removeAttribute(this.el.nativeElement,"aria-describedby")}getAriaDescribedById(o){let c="helper";return o.showInvalid?c="error":o.showValid&&(c="success"),this.containerIdService?this.containerIdService.id.concat("-",c):this.controlIdService?this.controlIdService.id.concat("-",c):null}}return l.\u0275fac=function(o){return new(o||l)(N(vi),N(cC),N(rr),N(ka),N(oi),N(gn))},l.\u0275dir=gt({type:l,hostVars:1,hostBindings:function(o,c){1&o&&pe("blur",function(){return c.triggerValidation()}),2&o&&cu("id",c.id)},inputs:{id:"id"}}),l})(),ls=(()=>{class l{constructor(o,c,u,h,d){this.controlIdService=o,this.layoutService=c,this.ngControlService=u,this.renderer=h,this.el=d,this.subscriptions=[],this.enableGrid=!0}get labelText(){return this.el.nativeElement&&this.el.nativeElement.textContent}ngOnInit(){(this.controlIdService||this.ngControlService)&&this.renderer.addClass(this.el.nativeElement,"clr-control-label"),this.enableGrid&&this.layoutService&&!this.layoutService.isVertical()&&this.el.nativeElement&&this.el.nativeElement.className.indexOf("clr-col")<0&&(this.renderer.addClass(this.el.nativeElement,"clr-col-12"),this.renderer.addClass(this.el.nativeElement,`clr-col-md-${this.layoutService.labelSize}`)),this.controlIdService&&!this.forAttr&&this.subscriptions.push(this.controlIdService.idChange.subscribe(o=>this.forAttr=o))}disableGrid(){this.enableGrid=!1}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}}return l.\u0275fac=function(o){return new(o||l)(N(Cc,8),N(Th,8),N(Gl,8),N(oi),N(gn))},l.\u0275dir=gt({type:l,selectors:[["label"]],hostVars:1,hostBindings:function(o,c){2&o&&Je("for",c.forAttr)},inputs:{forAttr:["for","forAttr"]}}),l})(),j2e=(()=>{class l extends N3{constructor(o,c){super(o,c),this.controlIdService=o,this.containerIdService=c,this.controlIdSuffix="success"}}return l.\u0275fac=function(o){return new(o||l)(N(Cc,8),N(ip,8))},l.\u0275cmp=nt({type:l,selectors:[["clr-control-success"]],hostVars:3,hostBindings:function(o,c){2&o&&(Je("id",c.id),Et("clr-subtext",!0))},features:[pn],ngContentSelectors:Pn,decls:1,vars:0,template:function(o,c){1&o&&(Xt(),lt(0))},encapsulation:2}),l})(),B3=(()=>{class l extends N3{constructor(o,c){super(o,c),this.controlIdService=o,this.containerIdService=c,this.controlIdSuffix="error"}}return l.\u0275fac=function(o){return new(o||l)(N(Cc,8),N(ip,8))},l.\u0275cmp=nt({type:l,selectors:[["clr-control-error"]],hostVars:3,hostBindings:function(o,c){2&o&&(Je("id",c.id),Et("clr-subtext",!0))},features:[pn],ngContentSelectors:Pn,decls:1,vars:0,template:function(o,c){1&o&&(Xt(),lt(0))},encapsulation:2}),l})(),dj=(()=>{class l extends N3{constructor(o,c){super(o,c),this.controlIdService=o,this.containerIdService=c,this.controlIdSuffix="helper"}}return l.\u0275fac=function(o){return new(o||l)(N(Cc,8),N(ip,8))},l.\u0275cmp=nt({type:l,selectors:[["clr-control-helper"]],hostVars:3,hostBindings:function(o,c){2&o&&(Je("id",c.id),Et("clr-subtext",!0))},features:[pn],ngContentSelectors:Pn,decls:1,vars:0,template:function(o,c){1&o&&(Xt(),lt(0))},encapsulation:2}),l})(),s1=(()=>{class l{constructor(o,c,u,h){this.ifControlStateService=o,this.layoutService=c,this.controlClassService=u,this.ngControlService=h,this.subscriptions=[],this._dynamic=!1,this.subscriptions.push(this.ifControlStateService.statusChanges.subscribe(d=>{this.state=d,this.updateHelpers()})),this.subscriptions.push(this.ngControlService.controlChanges.subscribe(d=>{this.control=d}))}get showHelper(){return!!this.controlHelperComponent&&(!!this.controlHelperComponent&&this.state===Io.NONE||!this.controlSuccessComponent&&this.state===Io.VALID||!this.controlErrorComponent&&this.state===Io.INVALID)}get showValid(){return this.state===Io.VALID&&!!this.controlSuccessComponent}get showInvalid(){return this.state===Io.INVALID&&!!this.controlErrorComponent}ngAfterContentInit(){this.updateHelpers()}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}controlClass(){return this.controlClassService.controlClass(this.controlSuccessComponent||this.state!==Io.VALID?this.state:Io.NONE,this.addGrid())}addGrid(){return this.layoutService&&!this.layoutService.isVertical()}updateHelpers(){this.ngControlService&&this.ngControlService.setHelpers({show:this.showInvalid||this.showHelper||this.showValid,showInvalid:this.showInvalid,showHelper:this.showHelper,showValid:this.showValid})}}return l.\u0275fac=function(o){return new(o||l)(N(xu),N(Th,8),N(Cu),N(Gl))},l.\u0275dir=gt({type:l,contentQueries:function(o,c,u){if(1&o&&(Hn(u,ls,5),Hn(u,j2e,5),Hn(u,B3,5),Hn(u,dj,5)),2&o){let h;kt(h=At())&&(c.label=h.first),kt(h=At())&&(c.controlSuccessComponent=h.first),kt(h=At())&&(c.controlErrorComponent=h.first),kt(h=At())&&(c.controlHelperComponent=h.first)}}}),l})(),V3=(()=>{class l{constructor(o,c){this.layoutService=o,this.markControlService=c}set labelSize(o){const c=parseInt(o,10)||2;this.layoutService.labelSize=c}markAsTouched(){this.markControlService.markAsTouched()}onFormSubmit(){this.markAsTouched()}}return l.\u0275fac=function(o){return new(o||l)(N(Th),N(L3))},l.\u0275dir=gt({type:l,selectors:[["","clrForm",""]],contentQueries:function(o,c,u){if(1&o&&Hn(u,ls,5),2&o){let h;kt(h=At())&&(c.labels=h)}},hostVars:6,hostBindings:function(o,c){1&o&&pe("submit",function(){return c.onFormSubmit()}),2&o&&Et("clr-form",!0)("clr-form-horizontal",c.layoutService.isHorizontal())("clr-form-compact",c.layoutService.isCompact())},inputs:{labelSize:["clrLabelSize","labelSize"]},features:[on([Th,L3])]}),l})(),$2e=(()=>{class l{constructor(o){this.layoutService=o}ngOnInit(){this.layout&&this.layoutService.isValid(this.layout)&&(this.layoutService.layout=this.layout)}}return l.\u0275fac=function(o){return new(o||l)(N(Th))},l.\u0275dir=gt({type:l,selectors:[["","clrForm","","clrLayout",""]],inputs:{layout:["clrLayout","layout"]}}),l})(),ro=(()=>{class l{constructor(){Ki.addIcons(Qa,Ja)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ir]]}),l})();const z3=new Un("IS_TOGGLE"),Y2e={provide:z3,useFactory:function q2e(){return new kr(!1)}};let kd=(()=>{class l{constructor(o){this._dynamic=!1,this.toggle=!1,this.subscriptions=[],this.subscriptions.push(o.subscribe(c=>{this.toggle=c}))}ngOnInit(){this.label&&this.label.disableGrid()}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}}return l.\u0275fac=function(o){return new(o||l)(N(z3))},l.\u0275cmp=nt({type:l,selectors:[["clr-checkbox-wrapper"],["clr-toggle-wrapper"]],contentQueries:function(o,c,u){if(1&o&&Hn(u,ls,7),2&o){let h;kt(h=At())&&(c.label=h.first)}},hostVars:4,hostBindings:function(o,c){2&o&&Et("clr-checkbox-wrapper",!c.toggle)("clr-toggle-wrapper",c.toggle)},features:[on([Cc,Y2e])],ngContentSelectors:nxe,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(o,c){1&o&&(Xt(txe),lt(0),lt(1,1),Q(2,exe,1,0,"label",0)),2&o&&(z(2),U("ngIf",!c.label))},directives:[Mn,ls],encapsulation:2}),l})(),Ad=(()=>{class l extends r1{constructor(o,c,u,h,d,f){super(o,kd,c,u,h,d),this.toggle=f}ngOnInit(){super.ngOnInit();const o=this.getProviderFromContainer(z3,null);o&&null!==this.toggle&&o.next(!0)}}return l.\u0275fac=function(o){return new(o||l)(N(vi),N(rr),N(ka,10),N(oi),N(gn),Wg("clrToggle"))},l.\u0275dir=gt({type:l,selectors:[["","clrCheckbox",""],["","clrToggle",""]],features:[pn]}),l})(),Zw=(()=>{class l extends s1{constructor(o,c,u,h){super(h,o,c,u),this.layoutService=o,this.controlClassService=c,this.ngControlService=u,this.ifControlStateService=h,this.inline=!1}set clrInline(o){this.inline="string"==typeof o?"false"!==o:!!o}get clrInline(){return this.inline}ngAfterContentInit(){this.setAriaRoles()}setAriaRoles(){this.role=this.checkboxes.length?"group":null}}return l.\u0275fac=function(o){return new(o||l)(N(Th,8),N(Cu),N(Gl),N(xu))},l.\u0275cmp=nt({type:l,selectors:[["clr-checkbox-container"],["clr-toggle-container"]],contentQueries:function(o,c,u){if(1&o&&Hn(u,Ad,5),2&o){let h;kt(h=At())&&(c.checkboxes=h)}},hostVars:7,hostBindings:function(o,c){2&o&&(Je("role",c.role),Et("clr-form-control",!0)("clr-form-control-disabled",null==c.control?null:c.control.disabled)("clr-row",c.addGrid()))},inputs:{clrInline:"clrInline"},features:[on([xu,Gl,Cu,ip]),pn],ngContentSelectors:uxe,decls:10,vars:9,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-subtext-wrapper"],["class","clr-validate-icon","status","danger","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","status","success","shape","check-circle","aria-hidden","true",4,"ngIf"],["status","danger","shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"],["status","success","shape","check-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(o,c){1&o&&(Xt(cxe),lt(0),Q(1,ixe,1,0,"label",0),A(2,"div",1),lt(3,1),A(4,"div",2),Q(5,rxe,1,0,"ng-content",0),Q(6,sxe,1,0,"cds-icon",3),Q(7,oxe,1,0,"cds-icon",4),Q(8,axe,1,0,"ng-content",0),Q(9,lxe,1,0,"ng-content",0),I(),I()),2&o&&(z(1),U("ngIf",!c.label&&c.addGrid()),z(1),Et("clr-control-inline",c.clrInline),U("ngClass",c.controlClass()),z(3),U("ngIf",c.showHelper),z(1),U("ngIf",c.showInvalid),z(1),U("ngIf",c.showValid),z(1),U("ngIf",c.showInvalid),z(1),U("ngIf",c.showValid))},directives:[Mn,ls,Gi,nr],encapsulation:2}),l})(),Z2e=(()=>{class l{constructor(){Ki.addIcons(Qa,Ja)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ir,ro,qw],ro]}),l})();new Un("IF_ACTIVE_ID");let ia=(()=>{class l{constructor(){this.expandable=0,this._loading=!1,this._expanded=!1,this._expandChange=new pt}get loading(){return this._loading}set loading(o){(o=!!o)!==this._loading&&(this._loading=o)}get expanded(){return this._expanded}set expanded(o){(o=!!o)!==this._expanded&&(this._expanded=o,this._expandChange.next(o))}toggle(){this.expanded=!this._expanded}get expandChange(){return this._expandChange.asObservable()}loadingStateChange(o){this.loading=o===mo.LOADING}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),fj=(()=>{class l{constructor(o,c,u,h,d){this.template=o,this.container=c,this.el=u,this.renderer=h,this.expand=d,this._expanded=!1,this.expandedChange=new Rt(!0),this._subscriptions=[],this._subscriptions.push(d.expandChange.subscribe(()=>{this.updateView(),this.expandedChange.emit(this.expand.expanded)}))}get expanded(){return this._expanded}set expanded(o){"boolean"==typeof o&&(this.expand.expanded=o,this._expanded=o)}updateView(){if(!this.expand.expanded||0===this.container.length)if(this.template)this.expand.expanded?this.container.createEmbeddedView(this.template):this.container.clear();else try{this.renderer.setStyle(this.el.nativeElement,"display",this.expand.expanded?null:"none")}catch(o){}}ngOnInit(){this.expand.expandable++,this.updateView()}ngOnDestroy(){this.expand.expandable--,this._subscriptions.forEach(o=>o.unsubscribe())}}return l.\u0275fac=function(o){return new(o||l)(N(qr,8),N(vi),N(gn),N(oi),N(ia))},l.\u0275dir=gt({type:l,selectors:[["","clrIfExpanded",""]],inputs:{expanded:["clrIfExpanded","expanded"]},outputs:{expandedChange:"clrIfExpandedChange"}}),l})(),Wl=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai]]}),l})(),tTe=(()=>{class l{constructor(){this._previousFocusTraps=[]}get current(){return this._current}set current(o){this._previousFocusTraps.push(this._current),this._current=o}get nbFocusTrappers(){return this._previousFocusTraps.length}activatePreviousTrapper(){this._current=this._previousFocusTraps.pop()}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),Id=(()=>{class l{constructor(o,c,u,h,d){this.el=o,this.injector=c,this.focusTrapsTracker=u,this.renderer=h,this.platformId=d,this.localFocusEscaped=!1,this._config={strict:!0},this.document=this.injector.get(Vr),this.focusTrapsTracker.current=this}set config(o){this._config=Object.assign(this._config,""===o?{}:o)}onFocusIn(o){const c=this.el.nativeElement;this.focusTrapsTracker.current!==this||!Xi(this.platformId)||this.localFocusEscaped||c.contains(o.target)||(o.target===this.topReboundEl&&c.contains(o.relatedTarget)?(this.focusLastFocusable(),this.focusTrapElIfOutside()):o.target===this.bottomReboundEl&&c.contains(o.relatedTarget)?(this.focusFirstFocusable(),this.focusTrapElIfOutside()):this._config.strict?this.el.nativeElement.focus():this.localFocusEscaped=!0)}createFocusableOffScreenEl(){const o=this.document.createElement("span");return this.renderer.setAttribute(o,"tabindex","0"),this.renderer.addClass(o,"offscreen-focus-rebounder"),o}addReboundEls(){if(Xi(this.platformId)){this.topReboundEl=this.createFocusableOffScreenEl(),this.bottomReboundEl=this.createFocusableOffScreenEl();const o=this.el.nativeElement;this.renderer.insertBefore(o.parentElement,this.topReboundEl,o),o.nextSibling?this.renderer.insertBefore(o.parentNode,this.bottomReboundEl,o.nextSibling):this.renderer.appendChild(o.parentNode,this.bottomReboundEl)}}removeReboundEls(){Xi(this.platformId)&&this.topReboundEl&&this.bottomReboundEl&&(this.parentElement.removeChild(this.topReboundEl),this.parentElement.removeChild(this.bottomReboundEl),delete this.topReboundEl,delete this.bottomReboundEl)}setPreviousFocus(){this.previousActiveElement&&this.previousActiveElement.focus&&this.previousActiveElement.focus()}ngOnInit(){Xi(this.platformId)&&(this.renderer.setAttribute(this.el.nativeElement,"tabindex","-1"),this.el.nativeElement.focus())}ngAfterViewInit(){Xi(this.platformId)&&(this.previousActiveElement=this.document.activeElement,this.parentElement=this.el.nativeElement.parentElement),this.addReboundEls()}get potentiallyFocusableEls(){return[...this.el.nativeElement.querySelectorAll('[href]:not([tabindex="-1"]), button:not([disabled]):not([tabindex="-1"]), input:not([disabled]):not([tabindex="-1"]), select:not([disabled]):not([tabindex="-1"]), textarea:not([disabled]):not([tabindex="-1"]), [contenteditable="true"]:not([tabindex="-1"]), [tabindex]:not([tabindex="-1"]) ')]}focusFirstFocusable(){for(let o=0;o<this.potentiallyFocusableEls.length&&(this.firstFocusableEl=this.focusElement(this.potentiallyFocusableEls[o]),!this.firstFocusableEl);o++);}focusLastFocusable(){for(let o=this.potentiallyFocusableEls.length-1;o>=0&&(this.lastFocusableEl=this.focusElement(this.potentiallyFocusableEls[o]),!this.lastFocusableEl);o--);}focusTrapElIfOutside(){this.el.nativeElement.contains(document.activeElement)||this.el.nativeElement.focus()}focusElement(o){return o&&o.focus&&(o.focus(),document.activeElement===o)?o:null}ngOnDestroy(){this.removeReboundEls(),this.setPreviousFocus(),this.focusTrapsTracker.activatePreviousTrapper()}}return l.\u0275fac=function(o){return new(o||l)(N(gn),N(rr),N(tTe),N(oi),N(Br))},l.\u0275dir=gt({type:l,selectors:[["","clrFocusTrap",""]],hostBindings:function(o,c){1&o&&pe("focusin",function(h){return c.onFocusIn(h)},!1,q_)},inputs:{config:["clrFocusTrap","config"]}}),l})(),Xw=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai]]}),l})();function jl(l){return null!==l&&("string"==typeof l?l.length>=0:"boolean"==typeof l&&l)}let _Te=(()=>{class l{constructor(){Ki.addIcons(Qa,Ja,Lm,yye,bye)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,qw,Wl,t1,ir,Xw,ro]]}),l})(),eS=(()=>{class l extends s1{}return l.\u0275fac=function(){let a;return function(c){return(a||(a=$r(l)))(c||l)}}(),l.\u0275cmp=nt({type:l,selectors:[["clr-input-container"]],hostVars:6,hostBindings:function(o,c){2&o&&Et("clr-form-control",!0)("clr-form-control-disabled",null==c.control?null:c.control.disabled)("clr-row",c.addGrid())},features:[on([xu,Gl,Cc,Cu]),pn],ngContentSelectors:Nxe,decls:10,vars:7,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-input-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","status","success","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","status","success","aria-hidden","true",1,"clr-validate-icon"]],template:function(o,c){1&o&&(Xt(Lxe),lt(0),Q(1,Axe,1,0,"label",0),A(2,"div",1),A(3,"div",2),lt(4,1),Q(5,Ixe,1,0,"cds-icon",3),Q(6,Pxe,1,0,"cds-icon",4),I(),Q(7,Oxe,1,0,"ng-content",0),Q(8,Rxe,1,0,"ng-content",0),Q(9,Fxe,1,0,"ng-content",0),I()),2&o&&(z(1),U("ngIf",!c.label&&c.addGrid()),z(1),U("ngClass",c.controlClass()),z(3),U("ngIf",c.showInvalid),z(1),U("ngIf",c.showValid),z(1),U("ngIf",c.showHelper),z(1),U("ngIf",c.showInvalid),z(1),U("ngIf",c.showValid))},directives:[Mn,ls,Gi,nr],encapsulation:2}),l})(),K3=(()=>{class l extends r1{constructor(o,c,u,h,d){super(o,eS,c,u,h,d),this.index=1}}return l.\u0275fac=function(o){return new(o||l)(N(vi),N(rr),N(ka,10),N(oi),N(gn))},l.\u0275dir=gt({type:l,selectors:[["","clrInput",""]],hostVars:2,hostBindings:function(o,c){2&o&&Et("clr-input",!0)},features:[pn]}),l})(),wj=(()=>{class l{constructor(){Ki.addIcons(Qa,Ja)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,Md,ir,ro],ro]}),l})();new Un(void 0);let xTe=(()=>{class l{constructor(){Ki.addIcons(xye,Cye,Qa,Ja)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,Md,ir,ro],ro]}),l})(),Sj=(()=>{class l{constructor(){this._dynamic=!1}ngOnInit(){this.label&&this.label.disableGrid()}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=nt({type:l,selectors:[["clr-radio-wrapper"]],contentQueries:function(o,c,u){if(1&o&&Hn(u,ls,7),2&o){let h;kt(h=At())&&(c.label=h.first)}},hostVars:2,hostBindings:function(o,c){2&o&&Et("clr-radio-wrapper",!0)},features:[on([Cc])],ngContentSelectors:zxe,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(o,c){1&o&&(Xt(Vxe),lt(0),lt(1,1),Q(2,Bxe,1,0,"label",0)),2&o&&(z(2),U("ngIf",!c.label))},directives:[Mn,ls],encapsulation:2}),l})(),Q3=(()=>{class l extends r1{constructor(o,c,u,h,d){super(o,Sj,c,u,h,d)}}return l.\u0275fac=function(o){return new(o||l)(N(vi),N(rr),N(ka,10),N(oi),N(gn))},l.\u0275dir=gt({type:l,selectors:[["","clrRadio",""]],features:[pn]}),l})(),CTe=(()=>{class l extends s1{constructor(o,c,u,h){super(h,o,c,u),this.layoutService=o,this.controlClassService=c,this.ngControlService=u,this.ifControlStateService=h,this.inline=!1}set clrInline(o){this.inline="string"==typeof o?"false"!==o:!!o}get clrInline(){return this.inline}ngAfterContentInit(){this.setAriaRoles()}setAriaRoles(){this.role=this.radios.length?"group":null}}return l.\u0275fac=function(o){return new(o||l)(N(Th,8),N(Cu),N(Gl),N(xu))},l.\u0275cmp=nt({type:l,selectors:[["clr-radio-container"]],contentQueries:function(o,c,u){if(1&o&&Hn(u,Q3,5),2&o){let h;kt(h=At())&&(c.radios=h)}},hostVars:7,hostBindings:function(o,c){2&o&&(Je("role",c.role),Et("clr-form-control",!0)("clr-form-control-disabled",null==c.control?null:c.control.disabled)("clr-row",c.addGrid()))},inputs:{clrInline:"clrInline"},features:[on([Gl,xu,Cu,ip]),pn],ngContentSelectors:Yxe,decls:10,vars:9,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-subtext-wrapper"],["class","clr-validate-icon","status","danger","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","status","success","aria-hidden","true",4,"ngIf"],["status","danger","shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","status","success","aria-hidden","true",1,"clr-validate-icon"]],template:function(o,c){1&o&&(Xt(qxe),lt(0),Q(1,Uxe,1,0,"label",0),A(2,"div",1),lt(3,1),A(4,"div",2),Q(5,Hxe,1,0,"ng-content",0),Q(6,Gxe,1,0,"cds-icon",3),Q(7,Wxe,1,0,"cds-icon",4),Q(8,jxe,1,0,"ng-content",0),Q(9,$xe,1,0,"ng-content",0),I(),I()),2&o&&(z(1),U("ngIf",!c.label&&c.addGrid()),z(1),Et("clr-control-inline",c.clrInline),U("ngClass",c.controlClass()),z(3),U("ngIf",c.showHelper),z(1),U("ngIf",c.showInvalid),z(1),U("ngIf",c.showValid),z(1),U("ngIf",c.showInvalid),z(1),U("ngIf",c.showValid))},directives:[Mn,ls,Gi,nr],encapsulation:2}),l})(),wTe=(()=>{class l{constructor(){Ki.addIcons(Qa,Ja)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ro,qw,ir],ro]}),l})(),STe=(()=>{class l{constructor(){Ki.addIcons(Qa,Ja)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,Md,ir,ro],ro]}),l})(),Tj=(()=>{class l extends s1{}return l.\u0275fac=function(){let a;return function(c){return(a||(a=$r(l)))(c||l)}}(),l.\u0275cmp=nt({type:l,selectors:[["clr-textarea-container"]],hostVars:6,hostBindings:function(o,c){2&o&&Et("clr-form-control",!0)("clr-form-control-disabled",null==c.control?null:c.control.disabled)("clr-row",c.addGrid())},features:[on([xu,Gl,Cc,Cu]),pn],ngContentSelectors:nCe,decls:10,vars:7,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-textarea-wrapper"],["class","clr-validate-icon","status","danger","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","status","success","aria-hidden","true",4,"ngIf"],["status","danger","shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","status","success","aria-hidden","true",1,"clr-validate-icon"]],template:function(o,c){1&o&&(Xt(tCe),lt(0),Q(1,Zxe,1,0,"label",0),A(2,"div",1),A(3,"div",2),lt(4,1),Q(5,Xxe,1,0,"cds-icon",3),Q(6,Kxe,1,0,"cds-icon",4),I(),Q(7,Qxe,1,0,"ng-content",0),Q(8,Jxe,1,0,"ng-content",0),Q(9,eCe,1,0,"ng-content",0),I()),2&o&&(z(1),U("ngIf",!c.label&&c.addGrid()),z(1),U("ngClass",c.controlClass()),z(3),U("ngIf",c.showInvalid),z(1),U("ngIf",c.showValid),z(1),U("ngIf",c.showHelper),z(1),U("ngIf",c.showInvalid),z(1),U("ngIf",c.showValid))},directives:[Mn,ls,Gi,nr],encapsulation:2}),l})(),Mj=(()=>{class l extends r1{constructor(o,c,u,h,d){super(o,Tj,c,u,h,d),this.index=1}}return l.\u0275fac=function(o){return new(o||l)(N(vi),N(rr),N(ka,10),N(oi),N(gn))},l.\u0275dir=gt({type:l,selectors:[["","clrTextarea",""]],hostVars:2,hostBindings:function(o,c){2&o&&Et("clr-textarea",!0)},features:[pn]}),l})(),TTe=(()=>{class l{constructor(){Ki.addIcons(Qa,Ja)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,Md,ir,ro],ro]}),l})(),MTe=(()=>{class l{constructor(){Ki.addIcons(Qa,Ja)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ro,qw,ir],ro]}),l})(),DTe=(()=>{class l{constructor(){Ki.addIcons(Qa,Ja)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,wj,ir]]}),l})();class tS{}function Dj(l){return[na,l,{provide:tS,useExisting:l}]}var ra=(()=>(function(l){l.UP="up",l.DOWN="down",l.LEFT="left",l.RIGHT="right"}(ra||(ra={})),ra))();class kTe extends class ETe{containsItem(a){return this.model===a}select(a){this.model=a}unselect(a){this.containsItem(a)&&(this.model=null)}isEmpty(){return!this.model}pop(){const a=this.model;return this.model=null,a}toString(a){return this.model?a&&this.model[a]?this.model[a]:this.model.toString():""}}{constructor(){super(...arguments),this._focusChanged=new kr(null)}get focusChanged(){return this._focusChanged.asObservable()}select(a){this.model!==a&&(this.model=a,this._focusChanged.next(a))}}let ITe=(()=>{class l{constructor(){this.loading=!1,this._currentInput="",this._inputChanged=new kr(""),this.inputChanged=this._inputChanged.asObservable(),this._selectionChanged=new XI(1)}get currentInput(){return this._currentInput}set currentInput(o){""===o&&!this.multiselectable&&this.setSelectionValue(null),this._currentInput=o,this._inputChanged.next(o)}get selectionChanged(){return this._selectionChanged.asObservable()}select(o){null==o||this.selectionModel.containsItem(o)||(this.selectionModel.select(o),this._selectionChanged.next(this.selectionModel))}toggle(o){null!=o&&(this.selectionModel.containsItem(o)?this.selectionModel.unselect(o):this.selectionModel.select(o),this._selectionChanged.next(this.selectionModel))}unselect(o){null==o||!this.selectionModel.containsItem(o)||(this.selectionModel.unselect(o),this._selectionChanged.next(this.selectionModel))}get multiselectable(){return this.selectionModel instanceof class ATe{containsItem(a){return!!this.model&&this.model.includes(a)}select(a){this.addItem(a)}unselect(a){this.removeItem(a)}isEmpty(){return!(this.model&&this.model.length>0)}pop(){let a;return this.model&&this.model.length>0&&(a=this.model[this.model.length-1],this.removeItem(a)),a}toString(a,o=-1){let c="";return this.model&&(o>-1?this.model[o]&&(c+=a&&this.model[o][a]?this.model[o][a]:this.model[o].toString()):this.model.forEach(u=>{c+=a&&u[a]?u[a]:u.toString(),c+=" "})),c.trim()}addItem(a){this.containsItem(a)||(this.model=this.model||[],this.model.push(a))}removeItem(a){if(null==this.model)return;const o=this.model.indexOf(a);o>-1&&this.model.splice(o,1),0===this.model.length&&(this.model=null)}}}setSelectionValue(o){!this.selectionModel||this.selectionModel.model===o||!this.selectionModel.model&&!o||(this.selectionModel.model=o,this._selectionChanged.next(this.selectionModel))}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();Dj((()=>{class l{constructor(o,c,u,h,d){this.id=o,this.toggleService=u,this.selectionService=h,this.platformId=d,this.pseudoFocus=new kTe,this.optionData=[],this.handleFocusSubscription(),this.renderer=c.createRenderer(null,null)}handleFocusSubscription(){this.toggleService.openChange.subscribe(o=>{o||(this.pseudoFocus.model=null)})}get trigger(){return this._trigger}set trigger(o){this._trigger=o,this.addFocusOnBlurListener(o)}get listbox(){return this._listbox}set listbox(o){this._listbox=o,this.addFocusOnBlurListener(o)}get textInput(){return this._textInput}set textInput(o){this._textInput=o,this.renderer.listen(o,"keydown",c=>!this.handleTextInput(c)),this.addFocusOnBlurListener(o)}moveFocusTo(o){let c=this.optionData.findIndex(u=>u.equals(this.pseudoFocus.model));o===ra.UP?-1===c||0===c?c=this.optionData.length-1:c--:o===ra.DOWN&&(-1===c||c===this.optionData.length-1?c=0:c++),this.pseudoFocus.select(this.optionData[c]),this.pseudoFocus.model&&this.pseudoFocus.model.el&&this.pseudoFocus.model.el.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}openAndMoveTo(o){this.toggleService.open?this.moveFocusTo(o):(this.toggleService.openChange.pipe(Pg(1)).subscribe(c=>{c&&this.moveFocusTo(o)}),this.toggleService.open=!0)}handleTextInput(o){let c=!1;const u=Ky(o.key);if(o)switch(u){case jn.Enter:this.toggleService.open&&this.pseudoFocus.model&&(this.selectionService.multiselectable?this.selectionService.toggle(this.pseudoFocus.model.value):this.selectionService.select(this.pseudoFocus.model.value),c=!0);break;case jn.Space:this.toggleService.open||(this.toggleService.open=!0,c=!0);break;case jn.ArrowUp:this.preventViewportScrolling(o),this.openAndMoveTo(ra.UP),c=!0;break;case jn.ArrowDown:this.preventViewportScrolling(o),this.openAndMoveTo(ra.DOWN),c=!0;break;default:o.key!==jn.Tab&&(!this.selectionService.multiselectable||o.key!==jn.Backspace)&&o.key!==jn.Escape&&!this.toggleService.open&&(this.toggleService.open=!0)}return c}preventViewportScrolling(o){o.preventDefault(),o.stopImmediatePropagation()}focusInput(){this.textInput&&Xi(this.platformId)&&this.textInput.focus()}addFocusOnBlurListener(o){Xi(this.platformId)&&this.renderer.listen(o,"blur",c=>{this.focusOutOfComponent(c)&&(this.toggleService.open=!1,this.componentCdRef&&this.componentCdRef.detectChanges())})}focusOutOfComponent(o){const c=o.relatedTarget||document.activeElement;return!(this.textInput.contains(c)||this.trigger.contains(c)||this.listbox.contains(c))}focusFirstActive(){if(this.optionData.length>0)if(this.selectionService.selectionModel.isEmpty())this.pseudoFocus.select(this.optionData[0]);else{let o;o=this.selectionService.multiselectable?this.selectionService.selectionModel.model[0]:this.selectionService.selectionModel.model;const c=this.optionData.find(u=>u.value===o);this.pseudoFocus.select(c)}}addOptionValues(o){this.optionData=o}}return l.\u0275fac=function(o){return new(o||l)(Fe(Ws),Fe(Cm),Fe(ar),Fe(ITe),Fe(Br))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})()),new Un("POPOVER_HOST_ANCHOR");let iS=(()=>{class l{constructor(o){this.renderer=o,this._unlistenFuncs=[]}get current(){return this._current}reset(o){this._current=o}listenToArrowKeys(o){this._unlistenFuncs.push(this.renderer.listen(o,"keydown.arrowup",()=>!this.move(ra.UP))),this._unlistenFuncs.push(this.renderer.listen(o,"keydown.arrowdown",()=>!this.move(ra.DOWN))),this._unlistenFuncs.push(this.renderer.listen(o,"keydown.arrowleft",()=>!this.move(ra.LEFT))),this._unlistenFuncs.push(this.renderer.listen(o,"keydown.arrowright",()=>!this.move(ra.RIGHT)))}registerContainer(o){this.renderer.setAttribute(o,"tabindex","0"),this.listenToArrowKeys(o),this._unlistenFuncs.push(this.renderer.listen(o,"keydown.space",()=>!this.activateCurrent())),this._unlistenFuncs.push(this.renderer.listen(o,"keydown.enter",()=>!this.activateCurrent()))}moveTo(o){void 0!==o&&(this.current&&this.current.blur(),o.focus(),this._current=o)}move(o){let c=!1;if(this.current){const u=this.current[o];u&&(function sG(l){return!!l&&(l instanceof dn||le(l.lift)&&le(l.subscribe))}(u)?u:Xn(u)).subscribe(d=>{d&&(this.moveTo(d),c=!0)})}return c}activateCurrent(){return!(!this.current||!this.current.activate||(this.current.activate(),0))}detachListeners(){this._unlistenFuncs.forEach(o=>o())}}return l.\u0275fac=function(o){return new(o||l)(Fe(oi))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();new Za,new dh;let c1=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai]]}),l})(),kj=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai]]}),l})(),FTe=(()=>{class l{constructor(){Ki.addIcons(Qa,Ja,Lm,Fy)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,Md,ir,kj,ro,Wl,t1,c1],ro,Wl]}),l})(),Aj=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai],ro,Z2e,FTe,_Te,wj,xTe,wTe,STe,TTe,MTe,DTe]}),l})(),eP=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai]]}),l})(),LTe=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai]]}),l})(),Lj=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai]]}),l})(),Nj=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai]]}),l})();const Bj=new Un("FOCUS_ON_VIEW_INIT"),NTe={provide:Bj,useValue:!0};let iP=(()=>{class l{constructor(o,c,u,h,d){this.el=o,this.platformId=c,this.focusOnViewInit=u,this.renderer=d,this.directFocus=!0,this._isEnabled=this.focusOnViewInit,this.document=h}onFocusout(){this.directFocus||(this.renderer.removeAttribute(this.el.nativeElement,"tabindex"),this.renderer.setStyle(this.el.nativeElement,"outline",null))}set isEnabled(o){this.focusOnViewInit&&"boolean"==typeof o&&(this._isEnabled=o)}ngAfterViewInit(){this.focus()}focus(){!Xi(this.platformId)||!this._isEnabled||this.document&&this.document.activeElement!==this.el.nativeElement&&(this.el.nativeElement.focus(),this.document.activeElement!==this.el.nativeElement&&(this.directFocus=!1,this.renderer.setAttribute(this.el.nativeElement,"tabindex","-1"),this.renderer.setStyle(this.el.nativeElement,"outline","none"),this.el.nativeElement.focus()))}}return l.\u0275fac=function(o){return new(o||l)(N(gn),N(Br),N(Bj),N(Vr),N(oi))},l.\u0275dir=gt({type:l,selectors:[["","clrFocusOnViewInit",""]],hostBindings:function(o,c){1&o&&pe("focusout",function(){return c.onFocusout()})},inputs:{isEnabled:["clrFocusOnViewInit","isEnabled"]}}),l})(),sp=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({providers:[NTe],imports:[[ai]]}),l})(),t0=(()=>{class l{constructor(){this._chocolate=new pt,this.disableChocolateCheck=!1}get chocolate(){return this._chocolate.asObservable()}ngAfterViewChecked(){this.disableChocolateCheck||this._chocolate.next()}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275dir=gt({type:l}),l})(),n0=(()=>{class l{constructor(o,c){this.subscription=c.chocolate.subscribe(()=>{this.latestFlavor!==this.flavor&&(c.disableChocolateCheck=!0,o.detectChanges(),c.disableChocolateCheck=!1)})}ngAfterContentChecked(){this.latestFlavor=this.flavor}ngOnDestroy(){this.subscription.unsubscribe()}}return l.\u0275fac=function(o){return new(o||l)(N(Da),N(t0))},l.\u0275dir=gt({type:l}),l})(),Sc=(()=>{class l{constructor(){this.toggleState=!1,this._state=new kr(this.toggleState),this._enabled=!1}get enabled(){return this._enabled}set enabled(o){this._enabled=o}get stateChange(){return this._state.asObservable()}close(){this.toggleState=!1,this._state.next(this.toggleState),this.button&&(this.button.focus(),this.button=null)}open(o,c){this.cache=o,this.button=c,this.toggleState=!0,this._state.next(this.toggleState)}toggle(o,c){this.isRowOpen(o)||!o?this.close():this.open(o,c)}get state(){return this.cache}isRowOpen(o){return!(!this.toggleState||this.cache!==o)}get isOpen(){return!0===this.toggleState}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),s0=(()=>{class l{constructor(o){this.detailService=o,this.expandableCount=0}register(){this.expandableCount++}unregister(){this.expandableCount--}get hasExpandableRow(){return!this.detailService.enabled&&this.expandableCount>0}}return l.\u0275fac=function(o){return new(o||l)(Fe(Sc))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();var Ro=(()=>(function(l){l[l.WIDTH=0]="WIDTH",l[l.HIDDEN=1]="HIDDEN"}(Ro||(Ro={})),Ro))();Object.keys(Ro).map(l=>Ro[l]).filter(l=>l===parseInt(l,10));let Qj=(()=>{class l{constructor(o){this.expandableRowsCount=o,this.expandableRowsCount&&this.expandableRowsCount.register()}ngOnDestroy(){this.expandableRowsCount&&this.expandableRowsCount.unregister()}}return l.\u0275fac=function(o){return new(o||l)(N(s0,8))},l.\u0275dir=gt({type:l,selectors:[["","clrIfExpanded",""]]}),l})();new Un("COLUMN_STATE");let iMe=(()=>{class l{constructor(){Ki.addIcons(wye,Sye,Fy,Tye,Mye,Dye,tG,Eye,kye)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ir,Aj,Md,eP,Wl,LTe,Nj,Lj,c1,t1,Xw,sp]]}),l})(),oMe=(()=>{class l{constructor(){Ki.addIcons(Lm)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,Md,ir,Nj]]}),l})();new Za,new dh;let dMe=(()=>{class l{constructor(){Ki.addIcons(Lm)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ir,eP]]}),l})(),fMe=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[iMe,oMe,dMe]}),l})();class u${static linkParent(a,o,c){a.forEach(u=>u[c]=o)}static linkVertical(a,o=!0){a.forEach((c,u)=>{u>0&&(c.up=a[u-1]),u<a.length-1&&(c.down=a[u+1])}),o&&a.length>1&&(a[0].up=a[a.length-1],a[a.length-1].down=a[0])}}function h$(l,a,o){return dn.create(c=>{a(c);const u=l.subscribe(c);return()=>{u.unsubscribe(),o&&o(c)}})}let xP=(()=>{class l{constructor(o,c,u,h,d,f){this.id=o,this.renderer=c,this.parent=u,this.toggleService=h,this.focusService=d,this.platformId=f,this._unlistenFuncs=[],this.focusBackOnTrigger=!1,this.resetChildren(),this.moveToFirstItemWhenOpen(),this.parent||this.handleRootFocus()}moveToFirstItemWhenOpen(){this.toggleService.openChange.subscribe(o=>{o&&this.toggleService.originalEvent&&setTimeout(()=>{this.focusService.moveTo(this),this.focusService.move(this.parent?ra.RIGHT:ra.DOWN)})})}handleRootFocus(){this.toggleService.openChange.subscribe(o=>{o||(this.focusService.reset(this),this.focusBackOnTrigger&&this.focus()),this.focusBackOnTrigger=o})}get trigger(){return this._trigger}set trigger(o){this._trigger=o,this.parent?this._unlistenFuncs.push(this.renderer.listen(o,"keydown.arrowright",c=>this.toggleService.toggleWithEvent(c))):(this._unlistenFuncs.push(this.renderer.listen(o,"keydown.arrowup",c=>this.toggleService.toggleWithEvent(c))),this._unlistenFuncs.push(this.renderer.listen(o,"keydown.arrowdown",c=>this.toggleService.toggleWithEvent(c))),this.focusService.listenToArrowKeys(o))}get container(){return this._container}set container(o){this._container=o,this._unlistenFuncs.push(this.renderer.listen(o,"keydown.tab",c=>this.toggleService.toggleWithEvent(c))),this.parent?this._unlistenFuncs.push(this.renderer.listen(o,"keydown.esc",c=>{this.focusService.move(ra.LEFT),c.stopPropagation()})):(this.focusService.registerContainer(o),this._unlistenFuncs.push(this.renderer.listen(o,"keydown.esc",c=>this.toggleService.toggleWithEvent(c))),this._unlistenFuncs.push(this.renderer.listen(o,"blur",c=>{this.children.pipe(Pg(1)).subscribe(h=>h.forEach(d=>d.blur()));const u=c.relatedTarget||document.activeElement;u&&Xi(this.platformId)&&(o.contains(u)||u===this.trigger)||(this.focusBackOnTrigger=!1,this.toggleService.open=!1)})))}focus(){this.trigger&&Xi(this.platformId)&&this.trigger.focus()}blur(){this.trigger&&Xi(this.platformId)&&this.trigger.blur()}activate(){Xi(this.platformId)&&this.trigger.click()}openAndGetChildren(){return h$(this.children,()=>this.toggleService.open=!0)}closeAndGetThis(){return h$(Xn(this),()=>this.toggleService.open=!1)}resetChildren(){this.children=new XI(1),this.parent?this.right=this.openAndGetChildren().pipe(an(o=>o[0])):(this.down=this.openAndGetChildren().pipe(an(o=>o[0])),this.up=this.openAndGetChildren().pipe(an(o=>o[o.length-1])))}addChildren(o){u$.linkVertical(o),this.parent&&u$.linkParent(o,this.closeAndGetThis(),ra.LEFT),this.children.next(o)}ngOnDestroy(){this._unlistenFuncs.forEach(o=>o()),this.focusService.detachListeners()}}return l.\u0275fac=function(o){return new(o||l)(Fe(Ws),Fe(oi),Fe(l,12),Fe(ar),Fe(iS),Fe(Br))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();Dj(xP);new Za,new dh;let SP=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai],Wl,ir]}),l})(),MP=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275dir=gt({type:l,selectors:[["",8,"alert-text"]]}),l})(),v$=(()=>{class l{constructor(){Ki.addIcons(Ja,nG,Qa,Aye,Fy)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ir,SP]]}),l})(),TMe=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[v$]}),l})(),MMe=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ir]]}),l})(),DMe=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ir,SP]]}),l})(),EMe=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai]]}),l})();new Un("TABS_ID");let FMe=(()=>{class l{constructor(){Ki.addIcons(eG)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,Wl,ir,EMe,kj],Wl]}),l})(),NMe=(()=>{class l{constructor(){Ki.addIcons(Lm,tG)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ir,Wl,sp],Wl,ir,sp]}),l})(),BMe=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[MMe,DMe,FMe,NMe]}),l})(),T$=(()=>{class l{constructor(o){this._document=o}stopScrolling(){this._document.body.classList.add("no-scrolling")}resumeScrolling(){this._document.body.classList.contains("no-scrolling")&&this._document.body.classList.remove("no-scrolling")}}return l.\u0275fac=function(o){return new(o||l)(Fe(Vr))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),a0=(()=>{class l{constructor(o,c,u){this._scrollingService=o,this.commonStrings=c,this.modalId=u,this._open=!1,this._openChanged=new Rt(!1),this.closable=!0,this.staticBackdrop=!0,this.skipAnimation="false",this.bypassScrollService=!1,this.stopClose=!1,this.altClose=new Rt(!1)}ngOnChanges(o){!this.bypassScrollService&&o&&o.hasOwnProperty("_open")&&(o._open.currentValue?this._scrollingService.stopScrolling():this._scrollingService.resumeScrolling())}ngOnDestroy(){this._scrollingService.resumeScrolling()}open(){this._open||(this._open=!0,this._openChanged.emit(!0))}close(){this.stopClose?this.altClose.emit(!1):!this.closable||!this._open||(this._open=!1,this.focusTrap.setPreviousFocus())}fadeDone(o){"void"===o.toState&&this._openChanged.emit(!1)}}return l.\u0275fac=function(o){return new(o||l)(N(T$),N(qi),N(Ws))},l.\u0275cmp=nt({type:l,selectors:[["clr-modal"]],viewQuery:function(o,c){if(1&o&&An(Id,5),2&o){let u;kt(u=At())&&(c.focusTrap=u.first)}},hostVars:2,hostBindings:function(o,c){1&o&&pe("keyup.escape",function(){return c.close()},!1,O6),2&o&&Et("open",c._open)},inputs:{_open:["clrModalOpen","_open"],closable:["clrModalClosable","closable"],size:["clrModalSize","size"],staticBackdrop:["clrModalStaticBackdrop","staticBackdrop"],skipAnimation:["clrModalSkipAnimation","skipAnimation"],bypassScrollService:["clrModalOverrideScrollService","bypassScrollService"],stopClose:["clrModalPreventClose","stopClose"]},outputs:{_openChanged:"clrModalOpenChange",altClose:"clrModalAlternateClose"},features:[on([na],[T$]),Vs],ngContentSelectors:XSe,decls:1,vars:1,consts:[["clrFocusTrap","","class","modal",4,"ngIf"],["clrFocusTrap","",1,"modal"],["role","dialog","aria-modal","true",1,"modal-dialog"],[1,"clr-sr-only"],[1,"modal-content-wrapper"],[1,"modal-content"],[1,"modal-header--accessible"],["clrFocusOnViewInit","",1,"modal-title-wrapper",3,"id"],["type","button","class","close",3,"click",4,"ngIf"],[1,"modal-body-wrapper"],["aria-hidden","true",1,"modal-backdrop",3,"click"],["type","button",1,"close",3,"click"],["shape","window-close"]],template:function(o,c){1&o&&(Xt(ZSe),Q(0,YSe,17,14,"div",0)),2&o&&U("ngIf",c._open)},directives:[Mn,Id,iP,nr],styles:["[_nghost-%COMP%]{display:none}.open[_nghost-%COMP%]{display:inline}"],data:{animation:[el("fadeDown",[Ds("* => false",[Ci({opacity:0,transform:"translate(0, -25%)"}),po("0.2s ease-in-out")]),Ds("false => *",[po("0.2s ease-in-out",Ci({opacity:0,transform:"translate(0, -25%)"}))])]),el("fade",[Ds("void => *",[Ci({opacity:0}),po("0.2s ease-in-out",Ci({opacity:.85}))]),Ds("* => void",[po("0.2s ease-in-out",Ci({opacity:0}))])])]}}),l})(),l0=(()=>{class l{constructor(o,c,u){this.renderer=o,this.host=c,this.tabindex="0",this.unlisteners=[],u.runOutsideAngular(()=>{new ResizeObserver(()=>this.addOrRemoveTabIndex()).observe(this.host.nativeElement),this.unlisteners.push(this.renderer.listen(this.host.nativeElement,"mouseup",()=>{this.addOrRemoveTabIndex()}),this.renderer.listen(this.host.nativeElement,"mousedown",()=>{this.removeTabIndex()}))})}ngOnDestroy(){for(;this.unlisteners.length;)this.unlisteners.pop()()}addTabIndex(){this.renderer.setAttribute(this.host.nativeElement,"tabindex",this.tabindex)}removeTabIndex(){this.renderer.removeAttribute(this.host.nativeElement,"tabindex")}addOrRemoveTabIndex(){const o=this.host.nativeElement.parentElement;o.clientHeight<o.scrollHeight?this.addTabIndex():this.removeTabIndex()}}return l.\u0275fac=function(o){return new(o||l)(N(oi),N(gn),N(sr))},l.\u0275dir=gt({type:l,selectors:[["",8,"modal-body"]]}),l})(),M$=(()=>{class l{constructor(){Ki.addIcons(Fy)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ir,Xw,sp],ir,sp]}),l})(),UMe=(()=>{class l{constructor(){Ki.addIcons(Fy,nG)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ir,sp],Wl]}),l})(),jMe=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai],Wl,ir]}),l})(),$Me=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[SP,UMe,jMe]}),l})(),KMe=(()=>{class l{constructor(){Ki.addIcons(iG)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,M$,v$]]}),l})();var Tc=(()=>(function(l){l.Inactive="inactive",l.Error="error",l.Complete="complete"}(Tc||(Tc={})),Tc))();const Mc="0.2s ease-in-out",QMe=[el("skipInitialRender",[Ds(":enter",[])]),el("toggle",[Ds("void => *",[Ci({display:"block",height:0}),po(Mc,Ci({height:"*"}))])])];el("skipInitialRender",[Ds(":enter",[])]),el("toggle",[Ds("void => *",[Ci({display:"block",height:0}),po(Mc,Ci({height:"*"}))]),Ds("* => void",[Ci({display:"block"}),po(Mc,Ci({height:0,display:"none"}))])]);let N$=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=nt({type:l,selectors:[["clr-accordion-description"],["clr-step-description"]],hostVars:2,hostBindings:function(o,c){2&o&&Et("clr-accordion-description",!0)},ngContentSelectors:Pn,decls:1,vars:0,template:function(o,c){1&o&&(Xt(),lt(0))},encapsulation:2,changeDetection:0}),l})();var hp=(()=>(function(l){l.Default="default",l.Multi="multi"}(hp||(hp={})),hp))();let eDe=0;class tDe{constructor(a,o){this.id=a,this.accordionId=o,this.status=Tc.Inactive,this.index=null,this.disabled=!1,this.open=!1,this.templateId=`${this.id}-${this.accordionId}`}}class B${constructor(){this.strategy=hp.Default,this.accordionCount=eDe++,this._panels={}}get panels(){return Object.keys(this._panels).map(a=>this._panels[a])}setStrategy(a){this.strategy=a}updatePanelOrder(a){a.forEach((o,c)=>this._panels[o].index=c),this.removeOldPanels(a)}addPanel(a,o=!1){this._panels[a]=new tDe(a,this.accordionCount),this._panels[a].open=o}togglePanel(a,o){const u=void 0!==o?o:!this._panels[a].open;u&&this.strategy===hp.Default&&this.closeAllPanels(),this._panels[a].open=u}disablePanel(a,o){this._panels[a].disabled=o}closeAllPanels(){this.panels.forEach(a=>this._panels[a.id].open=!1)}removeOldPanels(a){this.panels.filter(o=>void 0===a.find(c=>c===o.id)).forEach(o=>delete this._panels[o.id])}}let y1=(()=>{class l{constructor(){this.accordion=new B$,this._panelsChanges=new kr(this.accordion.panels)}getPanelChanges(o){return this._panelsChanges.pipe(an(c=>c.find(u=>u.id===o)))}setStrategy(o){this.accordion.setStrategy(o)}addPanel(o,c=!1){this.accordion.addPanel(o,c),this.emitUpdatedPanels()}togglePanel(o,c){this.accordion.togglePanel(o,c),this.emitUpdatedPanels()}disablePanel(o,c){this.accordion.disablePanel(o,c),this.emitUpdatedPanels()}updatePanelOrder(o){this.accordion.updatePanelOrder(o),this.emitUpdatedPanels()}emitUpdatedPanels(){this._panelsChanges.next(this.accordion.panels)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),h0=(()=>{class l{constructor(o,c,u,h){this.commonStrings=o,this.accordionService=c,this.ifExpandService=u,this._id=h,this.disabled=!1,this.panelOpen=!1,this.panelOpenChange=new Rt,this.AccordionStatus=Tc,this.isAccordion=!0}get id(){return this._id}set id(o){this._id=o}ngOnInit(){this.panel=this.accordionService.getPanelChanges(this.id).pipe(ea(o=>this.emitPanelChange(o))),this.accordionService.addPanel(this.id,this.panelOpen),this.accordionService.togglePanel(this.id,this.panelOpen),this.accordionService.disablePanel(this.id,this.disabled)}ngOnChanges(o){this.panel&&o.panelOpen&&o.panelOpen.currentValue!==o.panelOpen.previousValue&&this.accordionService.togglePanel(this.id,o.panelOpen.currentValue),this.panel&&o.disabled&&o.disabled.currentValue!==o.disabled.previousValue&&this.accordionService.disablePanel(this.id,o.disabled.currentValue)}togglePanel(){this.accordionService.togglePanel(this.id)}collapsePanelOnAnimationDone(o){o.open||(this.ifExpandService.expanded=!1)}getPanelStateClasses(o){return`clr-accordion-panel-${o.status} ${o.open?"clr-accordion-panel-open":""}`}getAccordionContentId(o){return`clr-accordion-content-${o}'`}getAccordionHeaderId(o){return`clr-accordion-header-${o}`}emitPanelChange(o){o.open!==this.panelOpen&&(this.panelOpenChange.emit(o.open),this.panelOpen=o.open),o.open&&(this.ifExpandService.expanded=!0)}}return l.\u0275fac=function(o){return new(o||l)(N(qi),N(y1),N(ia),N(Ws))},l.\u0275cmp=nt({type:l,selectors:[["clr-accordion-panel"]],contentQueries:function(o,c,u){if(1&o&&Hn(u,N$,4),2&o){let h;kt(h=At())&&(c.accordionDescription=h)}},hostVars:2,hostBindings:function(o,c){2&o&&Et("clr-accordion-panel",!0)},inputs:{disabled:["clrAccordionPanelDisabled","disabled"],panelOpen:["clrAccordionPanelOpen","panelOpen"]},outputs:{panelOpenChange:"clrAccordionPanelOpenChange"},features:[on([ia,na]),Vs],ngContentSelectors:aj,decls:2,vars:3,consts:[[4,"ngIf"],["aria-live","assertive","class","clr-sr-only",4,"ngIf"],["role","group",3,"ngClass"],[1,"clr-accordion-header"],["type","button",1,"clr-accordion-header-button",3,"id","disabled","click"],["headerButton",""],[1,"clr-sr-only"],[1,"clr-accordion-status"],["shape","angle","direction","right",1,"clr-accordion-angle"],[1,"clr-accordion-number"],["status","danger","shape","exclamation-circle",1,"clr-accordion-error-icon"],["status","success","shape","check-circle",1,"clr-accordion-complete-icon"],["role","region",3,"id"],["class","clr-accordion-content",4,"ngIf"],["aria-live","assertive",1,"clr-sr-only"],[1,"clr-accordion-content"],[1,"clr-accordion-inner-content"]],template:function(o,c){1&o&&(Xt(oj),Q(0,_2e,19,18,"ng-container",0),dy(1,"async")),2&o&&U("ngIf",fy(1,1,c.panel))},directives:[Mn,Gi,nr],pipes:[oI],encapsulation:2,data:{animation:QMe},changeDetection:0}),l})(),yS=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=nt({type:l,selectors:[["clr-accordion-title"],["clr-step-title"]],hostVars:2,hostBindings:function(o,c){2&o&&Et("clr-accordion-title",!0)},ngContentSelectors:Pn,decls:1,vars:0,template:function(o,c){1&o&&(Xt(),lt(0))},encapsulation:2,changeDetection:0}),l})(),bS=(()=>{class l{constructor(o){this.accordionService=o,this.multiPanel=!1,this.subscriptions=[]}ngOnInit(){this.setAccordionStrategy()}ngOnChanges(o){o.multiPanel.currentValue!==o.multiPanel.previousValue&&this.setAccordionStrategy()}ngAfterViewInit(){this.subscriptions.push(this.listenForDOMChanges())}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}setAccordionStrategy(){this.accordionService.setStrategy(this.multiPanel?hp.Multi:hp.Default)}listenForDOMChanges(){return this.panels.changes.pipe(hw(this.panels)).subscribe(o=>this.accordionService.updatePanelOrder(o.toArray().map(c=>c.id)))}}return l.\u0275fac=function(o){return new(o||l)(N(y1))},l.\u0275cmp=nt({type:l,selectors:[["clr-accordion"]],contentQueries:function(o,c,u){if(1&o&&Hn(u,h0,5),2&o){let h;kt(h=At())&&(c.panels=h)}},hostVars:2,hostBindings:function(o,c){2&o&&Et("clr-accordion",!0)},inputs:{multiPanel:["clrAccordionMultiPanel","multiPanel"]},features:[on([y1]),Vs],ngContentSelectors:Pn,decls:1,vars:0,template:function(o,c){1&o&&(Xt(),lt(0))},encapsulation:2,changeDetection:0}),l})(),xS=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=nt({type:l,selectors:[["clr-accordion-content"],["clr-step-content"]],ngContentSelectors:Pn,decls:1,vars:0,template:function(o,c){1&o&&(Xt(),lt(0))},encapsulation:2,changeDetection:0}),l})(),b1=(()=>{class l extends t0{}return l.\u0275fac=function(){let a;return function(c){return(a||(a=$r(l)))(c||l)}}(),l.\u0275dir=gt({type:l,selectors:[["clr-accordion"]],features:[pn]}),l})(),CS=(()=>{class l extends n0{constructor(o,c,u){if(!c)throw new Error("clr-accordion-panel should only be used inside of clr-accordion");super(o,c),this.expand=u}get flavor(){return this.expand.expanded}}return l.\u0275fac=function(o){return new(o||l)(N(Da),N(b1,8),N(ia))},l.\u0275dir=gt({type:l,selectors:[["clr-accordion-panel"]],features:[pn]}),l})(),V$=(()=>{class l{constructor(){Ki.addIcons(Lm,Qa,Ja)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ir]]}),l})(),sDe=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ir,V$],V$]}),l})(),FP=(()=>{class l{constructor(){this.externalId="",this.max=100,this._value=0}set id(o){this._ID=o,this.externalId=null}get id(){return this._ID}get value(){return this._value}set value(o){this._value=o}get progressClass(){return!0}get labeledClass(){return this._labeled}set clrLabeled(o){this._labeled=jl(o)}get fadeClass(){return this._fade}set clrFade(o){this._fade=jl(o)}get loopClass(){return this._loop}set clrLoop(o){this._loop=jl(o)}get successClass(){return this._success}set clrSuccess(o){this._success=jl(o)}get dangerClass(){return this._danger}set clrDanger(o){this._danger=jl(o)}get flashClass(){return this._flash}set clrFlash(o){this._flash=jl(o)}get flashDangerClass(){return this._flashDanger}set clrFlashDanger(o){this._flashDanger=jl(o)}displayStringValue(){return this._labeled}get displayValue(){return this.displayval?this.displayval:`${this.value||0}%`}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=nt({type:l,selectors:[["clr-progress-bar"]],hostVars:17,hostBindings:function(o,c){2&o&&(Je("id",c.externalId),Et("progress",c.progressClass)("labeled",c.labeledClass)("progress-fade",c.fadeClass)("loop",c.loopClass)("success",c.successClass)("danger",c.dangerClass)("flash",c.flashClass)("flash-danger",c.flashDangerClass))},inputs:{id:"id",max:["clrMax","max"],displayval:["clrDisplayval","displayval"],value:["clrValue","value"],clrLabeled:"clrLabeled",clrFade:"clrFade",clrLoop:"clrLoop",clrSuccess:"clrSuccess",clrDanger:"clrDanger",clrFlash:"clrFlash",clrFlashDanger:"clrFlashDanger"},decls:2,vars:5,consts:[[3,"id"],[4,"ngIf"]],template:function(o,c){1&o&&(ye(0,"progress",0),Q(1,D2e,2,1,"span",1)),2&o&&(U("id",c.id),Je("max",c.max)("value",c.value)("data-displayval",c.displayValue),z(1),U("ngIf",c.displayStringValue()))},directives:[Mn],encapsulation:2}),l})(),oDe=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai]]}),l})(),lDe=(()=>{class l{constructor(){Ki.addIcons(Iye,Pye,iG,Oye)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[ai,ir,c1],ir,c1]}),l})(),cDe=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[TMe,fMe,ir,M$,eP,Wl,Xw,sp,V2e,Aj,BMe,$Me,KMe,Lj,sDe,c1,oDe,t1,lDe]}),l})(),uDe=(()=>{class l{constructor(o,c){this.router=o,this.config=c,this.bShowNextTime=!0}ngOnInit(){}get version(){return this.config.environment.version}ngAfterViewInit(){}getOnOk(){return()=>this.onOk()}onOk(){this.config.post(()=>{this.router.navigate(["main"])})}get showNextTime(){return this.bShowNextTime}set showNextTime(o){this.bShowNextTime=o}}return l.\u0275fac=function(o){return new(o||l)(N(as),N(kn))},l.\u0275cmp=nt({type:l,selectors:[["app-help"]],decls:12,vars:2,consts:[[1,"ftext","fade-in-3","pad"],[1,"bottom-space"],["type","checkbox","clrCheckbox","","name","nextShowTime","required","","value","nextShow",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-block","top-space",3,"click"],["shape","check"]],template:function(o,c){1&o&&(A(0,"div",0),A(1,"h4"),we(2),I(),A(3,"p"),we(4,"Online-\u0432\u0435\u0440\u0441\u0438\u044f \u041f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 D3 \u0442\u0443\u0442: https://deviskin.github.io"),I(),A(5,"clr-checkbox-wrapper",1),A(6,"input",2),pe("ngModelChange",function(h){return c.showNextTime=h}),I(),A(7,"label"),we(8,"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0441\u043f\u0440\u0430\u0432\u043a\u0443 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0440\u0430\u0437"),I(),I(),A(9,"button",3),pe("click",function(){return c.onOk()}),ye(10,"clr-icon",4),we(11," \u041d\u0430\u0447\u0430\u0442\u044c "),I(),I()),2&o&&(z(2),Ai("\u0421\u043f\u0440\u0430\u0432\u043a\u0430 (",c.version,")."),z(4),U("ngModel",c.showNextTime))},directives:[kd,_3,_u,Ad,Ao,go,ls,Aa],styles:[".pad[_ngcontent-%COMP%]{padding:1em}"]}),l})();function us(l,a){return null==l||null==a?NaN:l<a?-1:l>a?1:l>=a?0:NaN}function wS(l){let a=l,o=l,c=l;function u(f,p,g=0,m=f.length){if(g<m){if(0!==o(p,p))return m;do{const v=g+m>>>1;c(f[v],p)<0?g=v+1:m=v}while(g<m)}return g}return 2!==l.length&&(a=(f,p)=>l(f)-p,o=us,c=(f,p)=>us(l(f),p)),{left:u,center:function d(f,p,g=0,m=f.length){const v=u(f,p,g,m-1);return v>g&&a(f[v-1],p)>-a(f[v],p)?v-1:v},right:function h(f,p,g=0,m=f.length){if(g<m){if(0!==o(p,p))return m;do{const v=g+m>>>1;c(f[v],p)<=0?g=v+1:m=v}while(g<m)}return g}}}function W$(l){return null===l?NaN:+l}const j$=wS(us),$$=j$.right,dDe=j$.left,fDe=wS(W$).center,dp=$$;function SS(l,a){let o=0;if(void 0===a)for(let c of l)null!=c&&(c=+c)>=c&&++o;else{let c=-1;for(let u of l)null!=(u=a(u,++c,l))&&(u=+u)>=u&&++o}return o}function pDe(l){return 0|l.length}function gDe(l){return!(l>0)}function mDe(l){return"object"!=typeof l||"length"in l?l:Array.from(l)}function _De(...l){const a="function"==typeof l[l.length-1]&&function vDe(l){return a=>l(...a)}(l.pop()),o=(l=l.map(mDe)).map(pDe),c=l.length-1,u=new Array(c+1).fill(0),h=[];if(c<0||o.some(gDe))return h;for(;;){h.push(u.map((f,p)=>l[p][f]));let d=c;for(;++u[d]===o[d];){if(0===d)return a?h.map(a):h;u[d--]=0}}}function yDe(l,a){var o=0,c=0;return Float64Array.from(l,void 0===a?u=>o+=+u||0:u=>o+=+a(u,c++,l)||0)}function bDe(l,a){return null==l||null==a?NaN:a<l?-1:a>l?1:a>=l?0:NaN}function q$(l,a){let c,o=0,u=0,h=0;if(void 0===a)for(let d of l)null!=d&&(d=+d)>=d&&(c=d-u,u+=c/++o,h+=c*(d-u));else{let d=-1;for(let f of l)null!=(f=a(f,++d,l))&&(f=+f)>=f&&(c=f-u,u+=c/++o,h+=c*(f-u))}if(o>1)return h/(o-1)}function Y$(l,a){const o=q$(l,a);return o&&Math.sqrt(o)}function fp(l,a){let o,c;if(void 0===a)for(const u of l)null!=u&&(void 0===o?u>=u&&(o=c=u):(o>u&&(o=u),c<u&&(c=u)));else{let u=-1;for(let h of l)null!=(h=a(h,++u,l))&&(void 0===o?h>=h&&(o=c=h):(o>h&&(o=h),c<h&&(c=h)))}return[o,c]}class js{constructor(){this._partials=new Float64Array(32),this._n=0}add(a){const o=this._partials;let c=0;for(let u=0;u<this._n&&u<32;u++){const h=o[u],d=a+h,f=Math.abs(a)<Math.abs(h)?a-(d-h):h-(d-a);f&&(o[c++]=f),a=d}return o[c]=a,this._n=c+1,this}valueOf(){const a=this._partials;let c,u,h,o=this._n,d=0;if(o>0){for(d=a[--o];o>0&&(c=d,u=a[--o],d=c+u,h=u-(d-c),!h););o>0&&(h<0&&a[o-1]<0||h>0&&a[o-1]>0)&&(u=2*h,c=d+u,u==c-d&&(d=c))}return d}}function xDe(l,a){const o=new js;if(void 0===a)for(let c of l)(c=+c)&&o.add(c);else{let c=-1;for(let u of l)(u=+a(u,++c,l))&&o.add(u)}return+o}function CDe(l,a){const o=new js;let c=-1;return Float64Array.from(l,void 0===a?u=>o.add(+u||0):u=>o.add(+a(u,++c,l)||0))}class S1 extends Map{constructor(a,o=K$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:o}}),null!=a)for(const[c,u]of a)this.set(c,u)}get(a){return super.get(LP(this,a))}has(a){return super.has(LP(this,a))}set(a,o){return super.set(Z$(this,a),o)}delete(a){return super.delete(X$(this,a))}}class pp extends Set{constructor(a,o=K$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:o}}),null!=a)for(const c of a)this.add(c)}has(a){return super.has(LP(this,a))}add(a){return super.add(Z$(this,a))}delete(a){return super.delete(X$(this,a))}}function LP({_intern:l,_key:a},o){const c=a(o);return l.has(c)?l.get(c):o}function Z$({_intern:l,_key:a},o){const c=a(o);return l.has(c)?l.get(c):(l.set(c,o),o)}function X$({_intern:l,_key:a},o){const c=a(o);return l.has(c)&&(o=l.get(c),l.delete(c)),o}function K$(l){return null!==l&&"object"==typeof l?l.valueOf():l}function d0(l){return l}function Q$(l,...a){return f0(l,d0,d0,a)}function J$(l,...a){return f0(l,Array.from,d0,a)}function eq(l,a){for(let o=1,c=a.length;o<c;++o)l=l.flatMap(u=>u.pop().map(([h,d])=>[...u,h,d]));return l}function wDe(l,...a){return eq(J$(l,...a),a)}function SDe(l,a,...o){return eq(nq(l,a,...o),o)}function tq(l,a,...o){return f0(l,d0,a,o)}function nq(l,a,...o){return f0(l,Array.from,a,o)}function TDe(l,...a){return f0(l,d0,iq,a)}function MDe(l,...a){return f0(l,Array.from,iq,a)}function iq(l){if(1!==l.length)throw new Error("duplicate key");return l[0]}function f0(l,a,o,c){return function u(h,d){if(d>=c.length)return o(h);const f=new S1,p=c[d++];let g=-1;for(const m of h){const v=p(m,++g,h),_=f.get(v);_?_.push(m):f.set(v,[m])}for(const[m,v]of f)f.set(m,u(v,d));return a(f)}(l,0)}function rq(l,a){return Array.from(a,o=>l[o])}function NP(l,...a){if("function"!=typeof l[Symbol.iterator])throw new TypeError("values is not iterable");l=Array.from(l);let[o]=a;if(o&&2!==o.length||a.length>1){const c=Uint32Array.from(l,(u,h)=>h);return a.length>1?(a=a.map(u=>l.map(u)),c.sort((u,h)=>{for(const d of a){const f=T1(d[u],d[h]);if(f)return f}})):(o=l.map(o),c.sort((u,h)=>T1(o[u],o[h]))),rq(l,c)}return l.sort(BP(o))}function BP(l=us){if(l===us)return T1;if("function"!=typeof l)throw new TypeError("compare is not a function");return(a,o)=>{const c=l(a,o);return c||0===c?c:(0===l(o,o))-(0===l(a,a))}}function T1(l,a){return(null==l||!(l>=l))-(null==a||!(a>=a))||(l<a?-1:l>a?1:0)}function DDe(l,a,o){return(2!==a.length?NP(tq(l,a,o),([c,u],[h,d])=>us(u,d)||us(c,h)):NP(Q$(l,o),([c,u],[h,d])=>a(u,d)||us(c,h))).map(([c])=>c)}var EDe=Array.prototype.slice;function TS(l){return()=>l}var VP=Math.sqrt(50),zP=Math.sqrt(10),UP=Math.sqrt(2);function p0(l,a,o){var c,h,d,f,u=-1;if(o=+o,(l=+l)==(a=+a)&&o>0)return[l];if((c=a<l)&&(h=l,l=a,a=h),0===(f=M1(l,a,o))||!isFinite(f))return[];if(f>0){let p=Math.round(l/f),g=Math.round(a/f);for(p*f<l&&++p,g*f>a&&--g,d=new Array(h=g-p+1);++u<h;)d[u]=(p+u)*f}else{f=-f;let p=Math.round(l*f),g=Math.round(a*f);for(p/f<l&&++p,g/f>a&&--g,d=new Array(h=g-p+1);++u<h;)d[u]=(p+u)/f}return c&&d.reverse(),d}function M1(l,a,o){var c=(a-l)/Math.max(0,o),u=Math.floor(Math.log(c)/Math.LN10),h=c/Math.pow(10,u);return u>=0?(h>=VP?10:h>=zP?5:h>=UP?2:1)*Math.pow(10,u):-Math.pow(10,-u)/(h>=VP?10:h>=zP?5:h>=UP?2:1)}function g0(l,a,o){var c=Math.abs(a-l)/Math.max(0,o),u=Math.pow(10,Math.floor(Math.log(c)/Math.LN10)),h=c/u;return h>=VP?u*=10:h>=zP?u*=5:h>=UP&&(u*=2),a<l?-u:u}function oq(l,a,o){let c;for(;;){const u=M1(l,a,o);if(u===c||0===u||!isFinite(u))return[l,a];u>0?(l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u):u<0&&(l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u),c=u}}function HP(l){return Math.ceil(Math.log(SS(l))/Math.LN2)+1}function aq(){var l=d0,a=fp,o=HP;function c(u){Array.isArray(u)||(u=Array.from(u));var h,f,d=u.length,p=new Array(d);for(h=0;h<d;++h)p[h]=l(u[h],h,u);var g=a(p),m=g[0],v=g[1],_=o(p,m,v);if(!Array.isArray(_)){const x=v,w=+_;if(a===fp&&([m,v]=oq(m,v,w)),(_=p0(m,v,w))[_.length-1]>=v)if(x>=v&&a===fp){const S=M1(m,v,w);isFinite(S)&&(S>0?v=(Math.floor(v/S)+1)*S:S<0&&(v=(Math.ceil(v*-S)+1)/-S))}else _.pop()}for(var y=_.length;_[0]<=m;)_.shift(),--y;for(;_[y-1]>v;)_.pop(),--y;var C,b=new Array(y+1);for(h=0;h<=y;++h)(C=b[h]=[]).x0=h>0?_[h-1]:m,C.x1=h<y?_[h]:v;for(h=0;h<d;++h)null!=(f=p[h])&&m<=f&&f<=v&&b[dp(_,f,0,y)].push(u[h]);return b}return c.value=function(u){return arguments.length?(l="function"==typeof u?u:TS(u),c):l},c.domain=function(u){return arguments.length?(a="function"==typeof u?u:TS([u[0],u[1]]),c):a},c.thresholds=function(u){return arguments.length?(o="function"==typeof u?u:Array.isArray(u)?TS(EDe.call(u)):TS(u),c):o},c}function MS(l,a){let o;if(void 0===a)for(const c of l)null!=c&&(o<c||void 0===o&&c>=c)&&(o=c);else{let c=-1;for(let u of l)null!=(u=a(u,++c,l))&&(o<u||void 0===o&&u>=u)&&(o=u)}return o}function DS(l,a){let o;if(void 0===a)for(const c of l)null!=c&&(o>c||void 0===o&&c>=c)&&(o=c);else{let c=-1;for(let u of l)null!=(u=a(u,++c,l))&&(o>u||void 0===o&&u>=u)&&(o=u)}return o}function GP(l,a,o=0,c=l.length-1,u){for(u=void 0===u?T1:BP(u);c>o;){if(c-o>600){const p=c-o+1,g=a-o+1,m=Math.log(p),v=.5*Math.exp(2*m/3),_=.5*Math.sqrt(m*v*(p-v)/p)*(g-p/2<0?-1:1);GP(l,a,Math.max(o,Math.floor(a-g*v/p+_)),Math.min(c,Math.floor(a+(p-g)*v/p+_)),u)}const h=l[a];let d=o,f=c;for(D1(l,o,a),u(l[c],h)>0&&D1(l,o,c);d<f;){for(D1(l,d,f),++d,--f;u(l[d],h)<0;)++d;for(;u(l[f],h)>0;)--f}0===u(l[o],h)?D1(l,o,f):(++f,D1(l,f,c)),f<=a&&(o=f+1),a<=f&&(c=f-1)}return l}function D1(l,a,o){const c=l[a];l[a]=l[o],l[o]=c}function E1(l,a,o){if(l=Float64Array.from(function*hDe(l,a){if(void 0===a)for(let o of l)null!=o&&(o=+o)>=o&&(yield o);else{let o=-1;for(let c of l)null!=(c=a(c,++o,l))&&(c=+c)>=c&&(yield c)}}(l,o)),c=l.length){if((a=+a)<=0||c<2)return DS(l);if(a>=1)return MS(l);var c,u=(c-1)*a,h=Math.floor(u),d=MS(GP(l,h).subarray(0,h+1));return d+(DS(l.subarray(h+1))-d)*(u-h)}}function lq(l,a,o=W$){if(c=l.length){if((a=+a)<=0||c<2)return+o(l[0],0,l);if(a>=1)return+o(l[c-1],c-1,l);var c,u=(c-1)*a,h=Math.floor(u),d=+o(l[h],h,l);return d+(+o(l[h+1],h+1,l)-d)*(u-h)}}function kDe(l,a,o){return Math.ceil((o-a)/(2*(E1(l,.75)-E1(l,.25))*Math.pow(SS(l),-1/3)))}function ADe(l,a,o){return Math.ceil((o-a)/(3.5*Y$(l)*Math.pow(SS(l),-1/3)))}function cq(l,a){let o,c=-1,u=-1;if(void 0===a)for(const h of l)++u,null!=h&&(o<h||void 0===o&&h>=h)&&(o=h,c=u);else for(let h of l)null!=(h=a(h,++u,l))&&(o<h||void 0===o&&h>=h)&&(o=h,c=u);return c}function IDe(l,a){let o=0,c=0;if(void 0===a)for(let u of l)null!=u&&(u=+u)>=u&&(++o,c+=u);else{let u=-1;for(let h of l)null!=(h=a(h,++u,l))&&(h=+h)>=h&&(++o,c+=h)}if(o)return c/o}function PDe(l,a){return E1(l,.5,a)}function WP(l){return Array.from(function*ODe(l){for(const a of l)yield*a}(l))}function uq(l,a){let o,c=-1,u=-1;if(void 0===a)for(const h of l)++u,null!=h&&(o>h||void 0===o&&h>=h)&&(o=h,c=u);else for(let h of l)null!=(h=a(h,++u,l))&&(o>h||void 0===o&&h>=h)&&(o=h,c=u);return c}function RDe(l,a){const o=new S1;if(void 0===a)for(let h of l)null!=h&&h>=h&&o.set(h,(o.get(h)||0)+1);else{let h=-1;for(let d of l)null!=(d=a(d,++h,l))&&d>=d&&o.set(d,(o.get(d)||0)+1)}let c,u=0;for(const[h,d]of o)d>u&&(u=d,c=h);return c}function FDe(l,a=LDe){const o=[];let c,u=!1;for(const h of l)u&&o.push(a(c,h)),c=h,u=!0;return o}function LDe(l,a){return[l,a]}function sl(l,a,o){l=+l,a=+a,o=(u=arguments.length)<2?(a=l,l=0,1):u<3?1:+o;for(var c=-1,u=0|Math.max(0,Math.ceil((a-l)/o)),h=new Array(u);++c<u;)h[c]=l+c*o;return h}function NDe(l,a=us){if("function"!=typeof l[Symbol.iterator])throw new TypeError("values is not iterable");let o=Array.from(l);const c=new Float64Array(o.length);2!==a.length&&(o=o.map(a),a=us);const u=(f,p)=>a(o[f],o[p]);let h,d;return Uint32Array.from(o,(f,p)=>p).sort(a===us?(f,p)=>T1(o[f],o[p]):BP(u)).forEach((f,p)=>{const g=u(f,void 0===h?f:h);g>=0?((void 0===h||g>0)&&(h=f,d=p),c[f]=d):c[f]=NaN}),c}function BDe(l,a=us){let o,c=!1;if(1===a.length){let u;for(const h of l){const d=a(h);(c?us(d,u)<0:0===us(d,d))&&(o=h,u=d,c=!0)}}else for(const u of l)(c?a(u,o)<0:0===a(u,u))&&(o=u,c=!0);return o}function hq(l,a=us){if(1===a.length)return uq(l,a);let o,c=-1,u=-1;for(const h of l)++u,(c<0?0===a(h,h):a(h,o)<0)&&(o=h,c=u);return c}function VDe(l,a=us){let o,c=!1;if(1===a.length){let u;for(const h of l){const d=a(h);(c?us(d,u)>0:0===us(d,d))&&(o=h,u=d,c=!0)}}else for(const u of l)(c?a(u,o)>0:0===a(u,u))&&(o=u,c=!0);return o}function zDe(l,a=us){if(1===a.length)return cq(l,a);let o,c=-1,u=-1;for(const h of l)++u,(c<0?0===a(h,h):a(h,o)>0)&&(o=h,c=u);return c}function UDe(l,a){const o=hq(l,a);return o<0?void 0:o}const dq=fq(Math.random);function fq(l){return function(o,c=0,u=o.length){let h=u-(c=+c);for(;h;){const d=l()*h--|0,f=o[h+c];o[h+c]=o[d+c],o[d+c]=f}return o}}function HDe(l,a){let o=0;if(void 0===a)for(let c of l)(c=+c)&&(o+=c);else{let c=-1;for(let u of l)(u=+a(u,++c,l))&&(o+=u)}return o}function pq(l){if(!(h=l.length))return[];for(var a=-1,o=DS(l,GDe),c=new Array(o);++a<o;)for(var h,u=-1,d=c[a]=new Array(h);++u<h;)d[u]=l[u][a];return c}function GDe(l){return l.length}function gq(){return pq(arguments)}function WDe(l,a){if("function"!=typeof a)throw new TypeError("test is not a function");let o=-1;for(const c of l)if(!a(c,++o,l))return!1;return!0}function jDe(l,a){if("function"!=typeof a)throw new TypeError("test is not a function");let o=-1;for(const c of l)if(a(c,++o,l))return!0;return!1}function $De(l,a){if("function"!=typeof a)throw new TypeError("test is not a function");const o=[];let c=-1;for(const u of l)a(u,++c,l)&&o.push(u);return o}function qDe(l,a){if("function"!=typeof l[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof a)throw new TypeError("mapper is not a function");return Array.from(l,(o,c)=>a(o,c,l))}function YDe(l,a,o){if("function"!=typeof a)throw new TypeError("reducer is not a function");const c=l[Symbol.iterator]();let u,h,d=-1;if(arguments.length<3){if(({done:u,value:o}=c.next()),u)return;++d}for(;({done:u,value:h}=c.next()),!u;)o=a(o,h,++d,l);return o}function ZDe(l){if("function"!=typeof l[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(l).reverse()}function XDe(l,...a){l=new pp(l);for(const o of a)for(const c of o)l.delete(c);return l}function KDe(l,a){const o=a[Symbol.iterator](),c=new pp;for(const u of l){if(c.has(u))return!1;let h,d;for(;({value:h,done:d}=o.next())&&!d;){if(Object.is(u,h))return!1;c.add(h)}}return!0}function QDe(l,...a){l=new pp(l),a=a.map(JDe);e:for(const o of l)for(const c of a)if(!c.has(o)){l.delete(o);continue e}return l}function JDe(l){return l instanceof pp?l:new pp(l)}function mq(l,a){const o=l[Symbol.iterator](),c=new Set;for(const u of a){const h=vq(u);if(c.has(h))continue;let d,f;for(;({value:d,done:f}=o.next());){if(f)return!1;const p=vq(d);if(c.add(p),Object.is(h,p))break}}return!0}function vq(l){return null!==l&&"object"==typeof l?l.valueOf():l}function eEe(l,a){return mq(a,l)}function tEe(...l){const a=new pp;for(const o of l)for(const c of o)a.add(c);return a}function nEe(l){return l}function iEe(l){return"translate("+l+",0)"}function rEe(l){return"translate(0,"+l+")"}function sEe(l){return a=>+l(a)}function oEe(l,a){return a=Math.max(0,l.bandwidth()-2*a)/2,l.round()&&(a=Math.round(a)),o=>+l(o)+a}function aEe(){return!this.__axis}function AS(l,a){var o=[],c=null,u=null,h=6,d=6,f=3,p="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,g=1===l||4===l?-1:1,m=4===l||2===l?"x":"y",v=1===l||3===l?iEe:rEe;function _(y){var b=null==c?a.ticks?a.ticks.apply(a,o):a.domain():c,C=null==u?a.tickFormat?a.tickFormat.apply(a,o):nEe:u,x=Math.max(h,0)+f,w=a.range(),S=+w[0]+p,M=+w[w.length-1]+p,T=(a.bandwidth?oEe:sEe)(a.copy(),p),E=y.selection?y.selection():y,k=E.selectAll(".domain").data([null]),R=E.selectAll(".tick").data(b,a).order(),D=R.exit(),P=R.enter().append("g").attr("class","tick"),F=R.select("line"),L=R.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(P),F=F.merge(P.append("line").attr("stroke","currentColor").attr(m+"2",g*h)),L=L.merge(P.append("text").attr("fill","currentColor").attr(m,g*x).attr("dy",1===l?"0em":3===l?"0.71em":"0.32em")),y!==E&&(k=k.transition(y),R=R.transition(y),F=F.transition(y),L=L.transition(y),D=D.transition(y).attr("opacity",1e-6).attr("transform",function($){return isFinite($=T($))?v($+p):this.getAttribute("transform")}),P.attr("opacity",1e-6).attr("transform",function($){var Y=this.parentNode.__axis;return v((Y&&isFinite(Y=Y($))?Y:T($))+p)})),D.remove(),k.attr("d",4===l||2===l?d?"M"+g*d+","+S+"H"+p+"V"+M+"H"+g*d:"M"+p+","+S+"V"+M:d?"M"+S+","+g*d+"V"+p+"H"+M+"V"+g*d:"M"+S+","+p+"H"+M),R.attr("opacity",1).attr("transform",function($){return v(T($)+p)}),F.attr(m+"2",g*h),L.attr(m,g*x).text(C),E.filter(aEe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===l?"start":4===l?"end":"middle"),E.each(function(){this.__axis=T})}return _.scale=function(y){return arguments.length?(a=y,_):a},_.ticks=function(){return o=Array.from(arguments),_},_.tickArguments=function(y){return arguments.length?(o=null==y?[]:Array.from(y),_):o.slice()},_.tickValues=function(y){return arguments.length?(c=null==y?null:Array.from(y),_):c&&c.slice()},_.tickFormat=function(y){return arguments.length?(u=y,_):u},_.tickSize=function(y){return arguments.length?(h=d=+y,_):h},_.tickSizeInner=function(y){return arguments.length?(h=+y,_):h},_.tickSizeOuter=function(y){return arguments.length?(d=+y,_):d},_.tickPadding=function(y){return arguments.length?(f=+y,_):f},_.offset=function(y){return arguments.length?(p=+y,_):p},_}function lEe(l){return AS(1,l)}function cEe(l){return AS(2,l)}function uEe(l){return AS(3,l)}function hEe(l){return AS(4,l)}var dEe={value:()=>{}};function yq(){for(var c,l=0,a=arguments.length,o={};l<a;++l){if(!(c=arguments[l]+"")||c in o||/[\s.]/.test(c))throw new Error("illegal type: "+c);o[c]=[]}return new IS(o)}function IS(l){this._=l}function fEe(l,a){return l.trim().split(/^|\s+/).map(function(o){var c="",u=o.indexOf(".");if(u>=0&&(c=o.slice(u+1),o=o.slice(0,u)),o&&!a.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:c}})}function pEe(l,a){for(var u,o=0,c=l.length;o<c;++o)if((u=l[o]).name===a)return u.value}function bq(l,a,o){for(var c=0,u=l.length;c<u;++c)if(l[c].name===a){l[c]=dEe,l=l.slice(0,c).concat(l.slice(c+1));break}return null!=o&&l.push({name:a,value:o}),l}IS.prototype=yq.prototype={constructor:IS,on:function(l,a){var u,o=this._,c=fEe(l+"",o),h=-1,d=c.length;if(!(arguments.length<2)){if(null!=a&&"function"!=typeof a)throw new Error("invalid callback: "+a);for(;++h<d;)if(u=(l=c[h]).type)o[u]=bq(o[u],l.name,a);else if(null==a)for(u in o)o[u]=bq(o[u],l.name,null);return this}for(;++h<d;)if((u=(l=c[h]).type)&&(u=pEe(o[u],l.name)))return u},copy:function(){var l={},a=this._;for(var o in a)l[o]=a[o].slice();return new IS(l)},call:function(l,a){if((u=arguments.length-2)>0)for(var u,h,o=new Array(u),c=0;c<u;++c)o[c]=arguments[c+2];if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(c=0,u=(h=this._[l]).length;c<u;++c)h[c].value.apply(a,o)},apply:function(l,a,o){if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(var c=this._[l],u=0,h=c.length;u<h;++u)c[u].value.apply(a,o)}};const m0=yq;function gEe(){}function PS(l){return null==l?gEe:function(){return this.querySelector(l)}}function xq(l){return null==l?[]:Array.isArray(l)?l:Array.from(l)}function vEe(){return[]}function $P(l){return null==l?vEe:function(){return this.querySelectorAll(l)}}function qP(l){return function(){return this.matches(l)}}function Cq(l){return function(a){return a.matches(l)}}var bEe=Array.prototype.find;function CEe(){return this.firstElementChild}var SEe=Array.prototype.filter;function TEe(){return Array.from(this.children)}function wq(l){return new Array(l.length)}function OS(l,a){this.ownerDocument=l.ownerDocument,this.namespaceURI=l.namespaceURI,this._next=null,this._parent=l,this.__data__=a}function AEe(l){return function(){return l}}function IEe(l,a,o,c,u,h){for(var f,d=0,p=a.length,g=h.length;d<g;++d)(f=a[d])?(f.__data__=h[d],c[d]=f):o[d]=new OS(l,h[d]);for(;d<p;++d)(f=a[d])&&(u[d]=f)}function PEe(l,a,o,c,u,h,d){var f,p,y,g=new Map,m=a.length,v=h.length,_=new Array(m);for(f=0;f<m;++f)(p=a[f])&&(_[f]=y=d.call(p,p.__data__,f,a)+"",g.has(y)?u[f]=p:g.set(y,p));for(f=0;f<v;++f)y=d.call(l,h[f],f,h)+"",(p=g.get(y))?(c[f]=p,p.__data__=h[f],g.delete(y)):o[f]=new OS(l,h[f]);for(f=0;f<m;++f)(p=a[f])&&g.get(_[f])===p&&(u[f]=p)}function OEe(l){return l.__data__}function FEe(l){return"object"==typeof l&&"length"in l?l:Array.from(l)}function UEe(l,a){return l<a?-1:l>a?1:l>=a?0:NaN}OS.prototype={constructor:OS,appendChild:function(l){return this._parent.insertBefore(l,this._next)},insertBefore:function(l,a){return this._parent.insertBefore(l,a)},querySelector:function(l){return this._parent.querySelector(l)},querySelectorAll:function(l){return this._parent.querySelectorAll(l)}};var YP="http://www.w3.org/1999/xhtml";const ZP={svg:"http://www.w3.org/2000/svg",xhtml:YP,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function A1(l){var a=l+="",o=a.indexOf(":");return o>=0&&"xmlns"!==(a=l.slice(0,o))&&(l=l.slice(o+1)),ZP.hasOwnProperty(a)?{space:ZP[a],local:l}:l}function YEe(l){return function(){this.removeAttribute(l)}}function ZEe(l){return function(){this.removeAttributeNS(l.space,l.local)}}function XEe(l,a){return function(){this.setAttribute(l,a)}}function KEe(l,a){return function(){this.setAttributeNS(l.space,l.local,a)}}function QEe(l,a){return function(){var o=a.apply(this,arguments);null==o?this.removeAttribute(l):this.setAttribute(l,o)}}function JEe(l,a){return function(){var o=a.apply(this,arguments);null==o?this.removeAttributeNS(l.space,l.local):this.setAttributeNS(l.space,l.local,o)}}function XP(l){return l.ownerDocument&&l.ownerDocument.defaultView||l.document&&l||l.defaultView}function tke(l){return function(){this.style.removeProperty(l)}}function nke(l,a,o){return function(){this.style.setProperty(l,a,o)}}function ike(l,a,o){return function(){var c=a.apply(this,arguments);null==c?this.style.removeProperty(l):this.style.setProperty(l,c,o)}}function gp(l,a){return l.style.getPropertyValue(a)||XP(l).getComputedStyle(l,null).getPropertyValue(a)}function ske(l){return function(){delete this[l]}}function oke(l,a){return function(){this[l]=a}}function ake(l,a){return function(){var o=a.apply(this,arguments);null==o?delete this[l]:this[l]=o}}function Sq(l){return l.trim().split(/^|\s+/)}function KP(l){return l.classList||new Tq(l)}function Tq(l){this._node=l,this._names=Sq(l.getAttribute("class")||"")}function Mq(l,a){for(var o=KP(l),c=-1,u=a.length;++c<u;)o.add(a[c])}function Dq(l,a){for(var o=KP(l),c=-1,u=a.length;++c<u;)o.remove(a[c])}function cke(l){return function(){Mq(this,l)}}function uke(l){return function(){Dq(this,l)}}function hke(l,a){return function(){(a.apply(this,arguments)?Mq:Dq)(this,l)}}function fke(){this.textContent=""}function pke(l){return function(){this.textContent=l}}function gke(l){return function(){var a=l.apply(this,arguments);this.textContent=null==a?"":a}}function vke(){this.innerHTML=""}function _ke(l){return function(){this.innerHTML=l}}function yke(l){return function(){var a=l.apply(this,arguments);this.innerHTML=null==a?"":a}}function xke(){this.nextSibling&&this.parentNode.appendChild(this)}function wke(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Tke(l){return function(){var a=this.ownerDocument,o=this.namespaceURI;return o===YP&&a.documentElement.namespaceURI===YP?a.createElement(l):a.createElementNS(o,l)}}function Mke(l){return function(){return this.ownerDocument.createElementNS(l.space,l.local)}}function RS(l){var a=A1(l);return(a.local?Mke:Tke)(a)}function Eke(){return null}function Ake(){var l=this.parentNode;l&&l.removeChild(this)}function Pke(){var l=this.cloneNode(!1),a=this.parentNode;return a?a.insertBefore(l,this.nextSibling):l}function Oke(){var l=this.cloneNode(!0),a=this.parentNode;return a?a.insertBefore(l,this.nextSibling):l}function Nke(l){return l.trim().split(/^|\s+/).map(function(a){var o="",c=a.indexOf(".");return c>=0&&(o=a.slice(c+1),a=a.slice(0,c)),{type:a,name:o}})}function Bke(l){return function(){var a=this.__on;if(a){for(var h,o=0,c=-1,u=a.length;o<u;++o)h=a[o],l.type&&h.type!==l.type||h.name!==l.name?a[++c]=h:this.removeEventListener(h.type,h.listener,h.options);++c?a.length=c:delete this.__on}}}function Vke(l,a,o){return function(){var u,c=this.__on,h=function Lke(l){return function(a){l.call(this,a,this.__data__)}}(a);if(c)for(var d=0,f=c.length;d<f;++d)if((u=c[d]).type===l.type&&u.name===l.name)return this.removeEventListener(u.type,u.listener,u.options),this.addEventListener(u.type,u.listener=h,u.options=o),void(u.value=a);this.addEventListener(l.type,h,o),u={type:l.type,name:l.name,value:a,listener:h,options:o},c?c.push(u):this.__on=[u]}}function Eq(l,a,o){var c=XP(l),u=c.CustomEvent;"function"==typeof u?u=new u(a,o):(u=c.document.createEvent("Event"),o?(u.initEvent(a,o.bubbles,o.cancelable),u.detail=o.detail):u.initEvent(a,!1,!1)),l.dispatchEvent(u)}function Uke(l,a){return function(){return Eq(this,l,a)}}function Hke(l,a){return function(){return Eq(this,l,a.apply(this,arguments))}}Tq.prototype={add:function(l){this._names.indexOf(l)<0&&(this._names.push(l),this._node.setAttribute("class",this._names.join(" ")))},remove:function(l){var a=this._names.indexOf(l);a>=0&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(l){return this._names.indexOf(l)>=0}};var QP=[null];function sa(l,a){this._groups=l,this._parents=a}function kq(){return new sa([[document.documentElement]],QP)}sa.prototype=kq.prototype={constructor:sa,select:function mEe(l){"function"!=typeof l&&(l=PS(l));for(var a=this._groups,o=a.length,c=new Array(o),u=0;u<o;++u)for(var p,g,h=a[u],d=h.length,f=c[u]=new Array(d),m=0;m<d;++m)(p=h[m])&&(g=l.call(p,p.__data__,m,h))&&("__data__"in p&&(g.__data__=p.__data__),f[m]=g);return new sa(c,this._parents)},selectAll:function yEe(l){l="function"==typeof l?function _Ee(l){return function(){return xq(l.apply(this,arguments))}}(l):$P(l);for(var a=this._groups,o=a.length,c=[],u=[],h=0;h<o;++h)for(var p,d=a[h],f=d.length,g=0;g<f;++g)(p=d[g])&&(c.push(l.call(p,p.__data__,g,d)),u.push(p));return new sa(c,u)},selectChild:function wEe(l){return this.select(null==l?CEe:function xEe(l){return function(){return bEe.call(this.children,l)}}("function"==typeof l?l:Cq(l)))},selectChildren:function DEe(l){return this.selectAll(null==l?TEe:function MEe(l){return function(){return SEe.call(this.children,l)}}("function"==typeof l?l:Cq(l)))},filter:function EEe(l){"function"!=typeof l&&(l=qP(l));for(var a=this._groups,o=a.length,c=new Array(o),u=0;u<o;++u)for(var p,h=a[u],d=h.length,f=c[u]=[],g=0;g<d;++g)(p=h[g])&&l.call(p,p.__data__,g,h)&&f.push(p);return new sa(c,this._parents)},data:function REe(l,a){if(!arguments.length)return Array.from(this,OEe);var o=a?PEe:IEe,c=this._parents,u=this._groups;"function"!=typeof l&&(l=AEe(l));for(var h=u.length,d=new Array(h),f=new Array(h),p=new Array(h),g=0;g<h;++g){var m=c[g],v=u[g],_=v.length,y=FEe(l.call(m,m&&m.__data__,g,c)),b=y.length,C=f[g]=new Array(b),x=d[g]=new Array(b),w=p[g]=new Array(_);o(m,v,C,x,w,y,a);for(var T,E,S=0,M=0;S<b;++S)if(T=C[S]){for(S>=M&&(M=S+1);!(E=x[M])&&++M<b;);T._next=E||null}}return(d=new sa(d,c))._enter=f,d._exit=p,d},enter:function kEe(){return new sa(this._enter||this._groups.map(wq),this._parents)},exit:function LEe(){return new sa(this._exit||this._groups.map(wq),this._parents)},join:function NEe(l,a,o){var c=this.enter(),u=this,h=this.exit();return"function"==typeof l?(c=l(c))&&(c=c.selection()):c=c.append(l+""),null!=a&&(u=a(u))&&(u=u.selection()),null==o?h.remove():o(h),c&&u?c.merge(u).order():u},merge:function BEe(l){for(var a=l.selection?l.selection():l,o=this._groups,c=a._groups,u=o.length,d=Math.min(u,c.length),f=new Array(u),p=0;p<d;++p)for(var y,g=o[p],m=c[p],v=g.length,_=f[p]=new Array(v),b=0;b<v;++b)(y=g[b]||m[b])&&(_[b]=y);for(;p<u;++p)f[p]=o[p];return new sa(f,this._parents)},selection:function jke(){return this},order:function VEe(){for(var l=this._groups,a=-1,o=l.length;++a<o;)for(var d,c=l[a],u=c.length-1,h=c[u];--u>=0;)(d=c[u])&&(h&&4^d.compareDocumentPosition(h)&&h.parentNode.insertBefore(d,h),h=d);return this},sort:function zEe(l){function a(v,_){return v&&_?l(v.__data__,_.__data__):!v-!_}l||(l=UEe);for(var o=this._groups,c=o.length,u=new Array(c),h=0;h<c;++h){for(var g,d=o[h],f=d.length,p=u[h]=new Array(f),m=0;m<f;++m)(g=d[m])&&(p[m]=g);p.sort(a)}return new sa(u,this._parents).order()},call:function HEe(){var l=arguments[0];return arguments[0]=this,l.apply(null,arguments),this},nodes:function GEe(){return Array.from(this)},node:function WEe(){for(var l=this._groups,a=0,o=l.length;a<o;++a)for(var c=l[a],u=0,h=c.length;u<h;++u){var d=c[u];if(d)return d}return null},size:function jEe(){let l=0;for(const a of this)++l;return l},empty:function $Ee(){return!this.node()},each:function qEe(l){for(var a=this._groups,o=0,c=a.length;o<c;++o)for(var f,u=a[o],h=0,d=u.length;h<d;++h)(f=u[h])&&l.call(f,f.__data__,h,u);return this},attr:function eke(l,a){var o=A1(l);if(arguments.length<2){var c=this.node();return o.local?c.getAttributeNS(o.space,o.local):c.getAttribute(o)}return this.each((null==a?o.local?ZEe:YEe:"function"==typeof a?o.local?JEe:QEe:o.local?KEe:XEe)(o,a))},style:function rke(l,a,o){return arguments.length>1?this.each((null==a?tke:"function"==typeof a?ike:nke)(l,a,null==o?"":o)):gp(this.node(),l)},property:function lke(l,a){return arguments.length>1?this.each((null==a?ske:"function"==typeof a?ake:oke)(l,a)):this.node()[l]},classed:function dke(l,a){var o=Sq(l+"");if(arguments.length<2){for(var c=KP(this.node()),u=-1,h=o.length;++u<h;)if(!c.contains(o[u]))return!1;return!0}return this.each(("function"==typeof a?hke:a?cke:uke)(o,a))},text:function mke(l){return arguments.length?this.each(null==l?fke:("function"==typeof l?gke:pke)(l)):this.node().textContent},html:function bke(l){return arguments.length?this.each(null==l?vke:("function"==typeof l?yke:_ke)(l)):this.node().innerHTML},raise:function Cke(){return this.each(xke)},lower:function Ske(){return this.each(wke)},append:function Dke(l){var a="function"==typeof l?l:RS(l);return this.select(function(){return this.appendChild(a.apply(this,arguments))})},insert:function kke(l,a){var o="function"==typeof l?l:RS(l),c=null==a?Eke:"function"==typeof a?a:PS(a);return this.select(function(){return this.insertBefore(o.apply(this,arguments),c.apply(this,arguments)||null)})},remove:function Ike(){return this.each(Ake)},clone:function Rke(l){return this.select(l?Oke:Pke)},datum:function Fke(l){return arguments.length?this.property("__data__",l):this.node().__data__},on:function zke(l,a,o){var u,d,c=Nke(l+""),h=c.length;if(!(arguments.length<2)){for(f=a?Vke:Bke,u=0;u<h;++u)this.each(f(c[u],a,o));return this}var f=this.node().__on;if(f)for(var m,p=0,g=f.length;p<g;++p)for(u=0,m=f[p];u<h;++u)if((d=c[u]).type===m.type&&d.name===m.name)return m.value},dispatch:function Gke(l,a){return this.each(("function"==typeof a?Hke:Uke)(l,a))},[Symbol.iterator]:function*Wke(){for(var l=this._groups,a=0,o=l.length;a<o;++a)for(var d,c=l[a],u=0,h=c.length;u<h;++u)(d=c[u])&&(yield d)}};const v0=kq;function Es(l){return"string"==typeof l?new sa([[document.querySelector(l)]],[document.documentElement]):new sa([[l]],QP)}const $ke={passive:!1},I1={capture:!0,passive:!1};function JP(l){l.stopImmediatePropagation()}function _0(l){l.preventDefault(),l.stopImmediatePropagation()}function FS(l){var a=l.document.documentElement,o=Es(l).on("dragstart.drag",_0,I1);"onselectstart"in a?o.on("selectstart.drag",_0,I1):(a.__noselect=a.style.MozUserSelect,a.style.MozUserSelect="none")}function LS(l,a){var o=l.document.documentElement,c=Es(l).on("dragstart.drag",null);a&&(c.on("click.drag",_0,I1),setTimeout(function(){c.on("click.drag",null)},0)),"onselectstart"in o?c.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}function y0(l,a,o){l.prototype=a.prototype=o,o.constructor=l}function P1(l,a){var o=Object.create(l.prototype);for(var c in a)o[c]=a[c];return o}function Fd(){}var b0=1/.7,x0="\\s*([+-]?\\d+)\\s*",O1="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Su="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qke=/^#([0-9a-f]{3,8})$/,Yke=new RegExp("^rgb\\("+[x0,x0,x0]+"\\)$"),Zke=new RegExp("^rgb\\("+[Su,Su,Su]+"\\)$"),Xke=new RegExp("^rgba\\("+[x0,x0,x0,O1]+"\\)$"),Kke=new RegExp("^rgba\\("+[Su,Su,Su,O1]+"\\)$"),Qke=new RegExp("^hsl\\("+[O1,Su,Su]+"\\)$"),Jke=new RegExp("^hsla\\("+[O1,Su,Su,O1]+"\\)$"),Aq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Iq(){return this.rgb().formatHex()}function Pq(){return this.rgb().formatRgb()}function Ec(l){var a,o;return l=(l+"").trim().toLowerCase(),(a=qke.exec(l))?(o=a[1].length,a=parseInt(a[1],16),6===o?Oq(a):3===o?new vo(a>>8&15|a>>4&240,a>>4&15|240&a,(15&a)<<4|15&a,1):8===o?NS(a>>24&255,a>>16&255,a>>8&255,(255&a)/255):4===o?NS(a>>12&15|a>>8&240,a>>8&15|a>>4&240,a>>4&15|240&a,((15&a)<<4|15&a)/255):null):(a=Yke.exec(l))?new vo(a[1],a[2],a[3],1):(a=Zke.exec(l))?new vo(255*a[1]/100,255*a[2]/100,255*a[3]/100,1):(a=Xke.exec(l))?NS(a[1],a[2],a[3],a[4]):(a=Kke.exec(l))?NS(255*a[1]/100,255*a[2]/100,255*a[3]/100,a[4]):(a=Qke.exec(l))?Lq(a[1],a[2]/100,a[3]/100,1):(a=Jke.exec(l))?Lq(a[1],a[2]/100,a[3]/100,a[4]):Aq.hasOwnProperty(l)?Oq(Aq[l]):"transparent"===l?new vo(NaN,NaN,NaN,0):null}function Oq(l){return new vo(l>>16&255,l>>8&255,255&l,1)}function NS(l,a,o,c){return c<=0&&(l=a=o=NaN),new vo(l,a,o,c)}function e4(l){return l instanceof Fd||(l=Ec(l)),l?new vo((l=l.rgb()).r,l.g,l.b,l.opacity):new vo}function Ih(l,a,o,c){return 1===arguments.length?e4(l):new vo(l,a,o,null==c?1:c)}function vo(l,a,o,c){this.r=+l,this.g=+a,this.b=+o,this.opacity=+c}function Rq(){return"#"+t4(this.r)+t4(this.g)+t4(this.b)}function Fq(){var l=this.opacity;return(1===(l=isNaN(l)?1:Math.max(0,Math.min(1,l)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===l?")":", "+l+")")}function t4(l){return((l=Math.max(0,Math.min(255,Math.round(l)||0)))<16?"0":"")+l.toString(16)}function Lq(l,a,o,c){return c<=0?l=a=o=NaN:o<=0||o>=1?l=a=NaN:a<=0&&(l=NaN),new Tu(l,a,o,c)}function Nq(l){if(l instanceof Tu)return new Tu(l.h,l.s,l.l,l.opacity);if(l instanceof Fd||(l=Ec(l)),!l)return new Tu;if(l instanceof Tu)return l;var a=(l=l.rgb()).r/255,o=l.g/255,c=l.b/255,u=Math.min(a,o,c),h=Math.max(a,o,c),d=NaN,f=h-u,p=(h+u)/2;return f?(d=a===h?(o-c)/f+6*(o<c):o===h?(c-a)/f+2:(a-o)/f+4,f/=p<.5?h+u:2-h-u,d*=60):f=p>0&&p<1?0:d,new Tu(d,f,p,l.opacity)}function BS(l,a,o,c){return 1===arguments.length?Nq(l):new Tu(l,a,o,null==c?1:c)}function Tu(l,a,o,c){this.h=+l,this.s=+a,this.l=+o,this.opacity=+c}function n4(l,a,o){return 255*(l<60?a+(o-a)*l/60:l<180?o:l<240?a+(o-a)*(240-l)/60:a)}function Bq(l,a,o,c,u){var h=l*l,d=h*l;return((1-3*l+3*h-d)*a+(4-6*h+3*d)*o+(1+3*l+3*h-3*d)*c+d*u)/6}function Vq(l){var a=l.length-1;return function(o){var c=o<=0?o=0:o>=1?(o=1,a-1):Math.floor(o*a),u=l[c],h=l[c+1];return Bq((o-c/a)*a,c>0?l[c-1]:2*u-h,u,h,c<a-1?l[c+2]:2*h-u)}}function zq(l){var a=l.length;return function(o){var c=Math.floor(((o%=1)<0?++o:o)*a);return Bq((o-c/a)*a,l[(c+a-1)%a],l[c%a],l[(c+1)%a],l[(c+2)%a])}}y0(Fd,Ec,{copy:function(l){return Object.assign(new this.constructor,this,l)},displayable:function(){return this.rgb().displayable()},hex:Iq,formatHex:Iq,formatHsl:function eAe(){return Nq(this).formatHsl()},formatRgb:Pq,toString:Pq}),y0(vo,Ih,P1(Fd,{brighter:function(l){return l=null==l?b0:Math.pow(b0,l),new vo(this.r*l,this.g*l,this.b*l,this.opacity)},darker:function(l){return l=null==l?.7:Math.pow(.7,l),new vo(this.r*l,this.g*l,this.b*l,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rq,formatHex:Rq,formatRgb:Fq,toString:Fq})),y0(Tu,BS,P1(Fd,{brighter:function(l){return l=null==l?b0:Math.pow(b0,l),new Tu(this.h,this.s,this.l*l,this.opacity)},darker:function(l){return l=null==l?.7:Math.pow(.7,l),new Tu(this.h,this.s,this.l*l,this.opacity)},rgb:function(){var l=this.h%360+360*(this.h<0),a=isNaN(l)||isNaN(this.s)?0:this.s,o=this.l,c=o+(o<.5?o:1-o)*a,u=2*o-c;return new vo(n4(l>=240?l-240:l+120,u,c),n4(l,u,c),n4(l<120?l+240:l-120,u,c),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var l=this.opacity;return(1===(l=isNaN(l)?1:Math.max(0,Math.min(1,l)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===l?")":", "+l+")")}}));const VS=l=>()=>l;function Uq(l,a){return function(o){return l+o*a}}function zS(l,a){var o=a-l;return o?Uq(l,o>180||o<-180?o-360*Math.round(o/360):o):VS(isNaN(l)?a:l)}function so(l,a){var o=a-l;return o?Uq(l,o):VS(isNaN(l)?a:l)}const R1=function l(a){var o=function nAe(l){return 1==(l=+l)?so:function(a,o){return o-a?function tAe(l,a,o){return l=Math.pow(l,o),a=Math.pow(a,o)-l,o=1/o,function(c){return Math.pow(l+c*a,o)}}(a,o,l):VS(isNaN(a)?o:a)}}(a);function c(u,h){var d=o((u=Ih(u)).r,(h=Ih(h)).r),f=o(u.g,h.g),p=o(u.b,h.b),g=so(u.opacity,h.opacity);return function(m){return u.r=d(m),u.g=f(m),u.b=p(m),u.opacity=g(m),u+""}}return c.gamma=l,c}(1);function Hq(l){return function(a){var d,f,o=a.length,c=new Array(o),u=new Array(o),h=new Array(o);for(d=0;d<o;++d)f=Ih(a[d]),c[d]=f.r||0,u[d]=f.g||0,h[d]=f.b||0;return c=l(c),u=l(u),h=l(h),f.opacity=1,function(p){return f.r=c(p),f.g=u(p),f.b=h(p),f+""}}}var Gq=Hq(Vq),iAe=Hq(zq);function i4(l,a){a||(a=[]);var u,o=l?Math.min(a.length,l.length):0,c=a.slice();return function(h){for(u=0;u<o;++u)c[u]=l[u]*(1-h)+a[u]*h;return c}}function Wq(l){return ArrayBuffer.isView(l)&&!(l instanceof DataView)}function rAe(l,a){return(Wq(a)?i4:jq)(l,a)}function jq(l,a){var d,o=a?a.length:0,c=l?Math.min(o,l.length):0,u=new Array(c),h=new Array(o);for(d=0;d<c;++d)u[d]=Ld(l[d],a[d]);for(;d<o;++d)h[d]=a[d];return function(f){for(d=0;d<c;++d)h[d]=u[d](f);return h}}function $q(l,a){var o=new Date;return l=+l,a=+a,function(c){return o.setTime(l*(1-c)+a*c),o}}function $l(l,a){return l=+l,a=+a,function(o){return l*(1-o)+a*o}}function qq(l,a){var u,o={},c={};for(u in(null===l||"object"!=typeof l)&&(l={}),(null===a||"object"!=typeof a)&&(a={}),a)u in l?o[u]=Ld(l[u],a[u]):c[u]=a[u];return function(h){for(u in o)c[u]=o[u](h);return c}}var r4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s4=new RegExp(r4.source,"g");function o4(l,a){var c,u,h,o=r4.lastIndex=s4.lastIndex=0,d=-1,f=[],p=[];for(l+="",a+="";(c=r4.exec(l))&&(u=s4.exec(a));)(h=u.index)>o&&(h=a.slice(o,h),f[d]?f[d]+=h:f[++d]=h),(c=c[0])===(u=u[0])?f[d]?f[d]+=u:f[++d]=u:(f[++d]=null,p.push({i:d,x:$l(c,u)})),o=s4.lastIndex;return o<a.length&&(h=a.slice(o),f[d]?f[d]+=h:f[++d]=h),f.length<2?p[0]?function oAe(l){return function(a){return l(a)+""}}(p[0].x):function sAe(l){return function(){return l}}(a):(a=p.length,function(g){for(var v,m=0;m<a;++m)f[(v=p[m]).i]=v.x(g);return f.join("")})}function Ld(l,a){var c,o=typeof a;return null==a||"boolean"===o?VS(a):("number"===o?$l:"string"===o?(c=Ec(a))?(a=c,R1):o4:a instanceof Ec?R1:a instanceof Date?$q:Wq(a)?i4:Array.isArray(a)?jq:"function"!=typeof a.valueOf&&"function"!=typeof a.toString||isNaN(a)?qq:$l)(l,a)}function Yq(l){let a;for(;a=l.sourceEvent;)l=a;return l}function ol(l,a){if(l=Yq(l),void 0===a&&(a=l.currentTarget),a){var o=a.ownerSVGElement||a;if(o.createSVGPoint){var c=o.createSVGPoint();return c.x=l.clientX,c.y=l.clientY,[(c=c.matrixTransform(a.getScreenCTM().inverse())).x,c.y]}if(a.getBoundingClientRect){var u=a.getBoundingClientRect();return[l.clientX-u.left-a.clientLeft,l.clientY-u.top-a.clientTop]}}return[l.pageX,l.pageY]}var US,N1,C0=0,F1=0,L1=0,HS=0,vp=0,GS=0,B1="object"==typeof performance&&performance.now?performance:Date,Xq="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(l){setTimeout(l,17)};function V1(){return vp||(Xq(aAe),vp=B1.now()+GS)}function aAe(){vp=0}function z1(){this._call=this._time=this._next=null}function WS(l,a,o){var c=new z1;return c.restart(l,a,o),c}function Kq(){V1(),++C0;for(var a,l=US;l;)(a=vp-l._time)>=0&&l._call.call(void 0,a),l=l._next;--C0}function Qq(){vp=(HS=B1.now())+GS,C0=F1=0;try{Kq()}finally{C0=0,function cAe(){for(var l,o,a=US,c=1/0;a;)a._call?(c>a._time&&(c=a._time),l=a,a=a._next):(o=a._next,a._next=null,a=l?l._next=o:US=o);N1=l,a4(c)}(),vp=0}}function lAe(){var l=B1.now(),a=l-HS;a>1e3&&(GS-=a,HS=l)}function a4(l){C0||(F1&&(F1=clearTimeout(F1)),l-vp>24?(l<1/0&&(F1=setTimeout(Qq,l-B1.now()-GS)),L1&&(L1=clearInterval(L1))):(L1||(HS=B1.now(),L1=setInterval(lAe,1e3)),C0=1,Xq(Qq)))}function l4(l,a,o){var c=new z1;return c.restart(u=>{c.stop(),l(u+a)},a=null==a?0:+a,o),c}z1.prototype=WS.prototype={constructor:z1,restart:function(l,a,o){if("function"!=typeof l)throw new TypeError("callback is not a function");o=(null==o?V1():+o)+(null==a?0:+a),!this._next&&N1!==this&&(N1?N1._next=this:US=this,N1=this),this._call=l,this._time=o,a4()},stop:function(){this._call&&(this._call=null,this._time=1/0,a4())}};var uAe=m0("start","end","cancel","interrupt"),hAe=[];function qS(l,a,o,c,u,h){var d=l.__transition;if(d){if(o in d)return}else l.__transition={};!function dAe(l,a,o){var u,c=l.__transition;function d(g){var m,v,_,y;if(1!==o.state)return p();for(m in c)if((y=c[m]).name===o.name){if(3===y.state)return l4(d);4===y.state?(y.state=6,y.timer.stop(),y.on.call("interrupt",l,l.__data__,y.index,y.group),delete c[m]):+m<a&&(y.state=6,y.timer.stop(),y.on.call("cancel",l,l.__data__,y.index,y.group),delete c[m])}if(l4(function(){3===o.state&&(o.state=4,o.timer.restart(f,o.delay,o.time),f(g))}),o.state=2,o.on.call("start",l,l.__data__,o.index,o.group),2===o.state){for(o.state=3,u=new Array(_=o.tween.length),m=0,v=-1;m<_;++m)(y=o.tween[m].value.call(l,l.__data__,o.index,o.group))&&(u[++v]=y);u.length=v+1}}function f(g){for(var m=g<o.duration?o.ease.call(null,g/o.duration):(o.timer.restart(p),o.state=5,1),v=-1,_=u.length;++v<_;)u[v].call(l,m);5===o.state&&(o.on.call("end",l,l.__data__,o.index,o.group),p())}function p(){for(var g in o.state=6,o.timer.stop(),delete c[a],c)return;delete l.__transition}c[a]=o,o.timer=WS(function h(g){o.state=1,o.timer.restart(d,o.delay,o.time),o.delay<=g&&d(g-o.delay)},0,o.time)}(l,o,{name:a,index:c,group:u,on:uAe,tween:hAe,time:h.time,delay:h.delay,duration:h.duration,ease:h.ease,timer:null,state:0})}function d4(l,a){var o=kc(l,a);if(o.state>0)throw new Error("too late; already scheduled");return o}function Mu(l,a){var o=kc(l,a);if(o.state>3)throw new Error("too late; already running");return o}function kc(l,a){var o=l.__transition;if(!o||!(o=o[a]))throw new Error("transition not found");return o}function _p(l,a){var c,u,d,o=l.__transition,h=!0;if(o){for(d in a=null==a?null:a+"",o)(c=o[d]).name===a?(u=c.state>2&&c.state<5,c.state=6,c.timer.stop(),c.on.call(u?"interrupt":"cancel",l,l.__data__,c.index,c.group),delete o[d]):h=!1;h&&delete l.__transition}}var YS,tY=180/Math.PI,f4={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nY(l,a,o,c,u,h){var d,f,p;return(d=Math.sqrt(l*l+a*a))&&(l/=d,a/=d),(p=l*o+a*c)&&(o-=l*p,c-=a*p),(f=Math.sqrt(o*o+c*c))&&(o/=f,c/=f,p/=f),l*c<a*o&&(l=-l,a=-a,p=-p,d=-d),{translateX:u,translateY:h,rotate:Math.atan2(a,l)*tY,skewX:Math.atan(p)*tY,scaleX:d,scaleY:f}}function iY(l,a,o,c){function u(g){return g.length?g.pop()+" ":""}return function(g,m){var v=[],_=[];return g=l(g),m=l(m),function h(g,m,v,_,y,b){if(g!==v||m!==_){var C=y.push("translate(",null,a,null,o);b.push({i:C-4,x:$l(g,v)},{i:C-2,x:$l(m,_)})}else(v||_)&&y.push("translate("+v+a+_+o)}(g.translateX,g.translateY,m.translateX,m.translateY,v,_),function d(g,m,v,_){g!==m?(g-m>180?m+=360:m-g>180&&(g+=360),_.push({i:v.push(u(v)+"rotate(",null,c)-2,x:$l(g,m)})):m&&v.push(u(v)+"rotate("+m+c)}(g.rotate,m.rotate,v,_),function f(g,m,v,_){g!==m?_.push({i:v.push(u(v)+"skewX(",null,c)-2,x:$l(g,m)}):m&&v.push(u(v)+"skewX("+m+c)}(g.skewX,m.skewX,v,_),function p(g,m,v,_,y,b){if(g!==v||m!==_){var C=y.push(u(y)+"scale(",null,",",null,")");b.push({i:C-4,x:$l(g,v)},{i:C-2,x:$l(m,_)})}else(1!==v||1!==_)&&y.push(u(y)+"scale("+v+","+_+")")}(g.scaleX,g.scaleY,m.scaleX,m.scaleY,v,_),g=m=null,function(y){for(var x,b=-1,C=_.length;++b<C;)v[(x=_[b]).i]=x.x(y);return v.join("")}}}var rY=iY(function pAe(l){const a=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(l+"");return a.isIdentity?f4:nY(a.a,a.b,a.c,a.d,a.e,a.f)},"px, ","px)","deg)"),sY=iY(function gAe(l){return null!=l&&(YS||(YS=document.createElementNS("http://www.w3.org/2000/svg","g")),YS.setAttribute("transform",l),l=YS.transform.baseVal.consolidate())?nY((l=l.matrix).a,l.b,l.c,l.d,l.e,l.f):f4},", ",")",")");function mAe(l,a){var o,c;return function(){var u=Mu(this,l),h=u.tween;if(h!==o)for(var d=0,f=(c=o=h).length;d<f;++d)if(c[d].name===a){(c=c.slice()).splice(d,1);break}u.tween=c}}function vAe(l,a,o){var c,u;if("function"!=typeof o)throw new Error;return function(){var h=Mu(this,l),d=h.tween;if(d!==c){u=(c=d).slice();for(var f={name:a,value:o},p=0,g=u.length;p<g;++p)if(u[p].name===a){u[p]=f;break}p===g&&u.push(f)}h.tween=u}}function p4(l,a,o){var c=l._id;return l.each(function(){var u=Mu(this,c);(u.value||(u.value={}))[a]=o.apply(this,arguments)}),function(u){return kc(u,c).value[a]}}function oY(l,a){var o;return("number"==typeof a?$l:a instanceof Ec?R1:(o=Ec(a))?(a=o,R1):o4)(l,a)}function yAe(l){return function(){this.removeAttribute(l)}}function bAe(l){return function(){this.removeAttributeNS(l.space,l.local)}}function xAe(l,a,o){var c,h,u=o+"";return function(){var d=this.getAttribute(l);return d===u?null:d===c?h:h=a(c=d,o)}}function CAe(l,a,o){var c,h,u=o+"";return function(){var d=this.getAttributeNS(l.space,l.local);return d===u?null:d===c?h:h=a(c=d,o)}}function wAe(l,a,o){var c,u,h;return function(){var d,p,f=o(this);return null==f?void this.removeAttribute(l):(d=this.getAttribute(l))===(p=f+"")?null:d===c&&p===u?h:(u=p,h=a(c=d,f))}}function SAe(l,a,o){var c,u,h;return function(){var d,p,f=o(this);return null==f?void this.removeAttributeNS(l.space,l.local):(d=this.getAttributeNS(l.space,l.local))===(p=f+"")?null:d===c&&p===u?h:(u=p,h=a(c=d,f))}}function MAe(l,a){return function(o){this.setAttribute(l,a.call(this,o))}}function DAe(l,a){return function(o){this.setAttributeNS(l.space,l.local,a.call(this,o))}}function EAe(l,a){var o,c;function u(){var h=a.apply(this,arguments);return h!==c&&(o=(c=h)&&DAe(l,h)),o}return u._value=a,u}function kAe(l,a){var o,c;function u(){var h=a.apply(this,arguments);return h!==c&&(o=(c=h)&&MAe(l,h)),o}return u._value=a,u}function IAe(l,a){return function(){d4(this,l).delay=+a.apply(this,arguments)}}function PAe(l,a){return a=+a,function(){d4(this,l).delay=a}}function RAe(l,a){return function(){Mu(this,l).duration=+a.apply(this,arguments)}}function FAe(l,a){return a=+a,function(){Mu(this,l).duration=a}}function NAe(l,a){if("function"!=typeof a)throw new Error;return function(){Mu(this,l).ease=a}}function WAe(l,a,o){var c,u,h=function GAe(l){return(l+"").trim().split(/^|\s+/).every(function(a){var o=a.indexOf(".");return o>=0&&(a=a.slice(0,o)),!a||"start"===a})}(a)?d4:Mu;return function(){var d=h(this,l),f=d.on;f!==c&&(u=(c=f).copy()).on(a,o),d.on=u}}var XAe=v0.prototype.constructor;function aY(l){return function(){this.style.removeProperty(l)}}function iIe(l,a,o){return function(c){this.style.setProperty(l,a.call(this,c),o)}}function rIe(l,a,o){var c,u;function h(){var d=a.apply(this,arguments);return d!==u&&(c=(u=d)&&iIe(l,d,o)),c}return h._value=a,h}function cIe(l){return function(a){this.textContent=l.call(this,a)}}function uIe(l){var a,o;function c(){var u=l.apply(this,arguments);return u!==o&&(a=(o=u)&&cIe(u)),a}return c._value=l,c}var pIe=0;function Du(l,a,o,c){this._groups=l,this._parents=a,this._name=o,this._id=c}function lY(l){return v0().transition(l)}function cY(){return++pIe}var Ph=v0.prototype;function gIe(l){return l*l*l}function mIe(l){return--l*l*l+1}function g4(l){return((l*=2)<=1?l*l*l:(l-=2)*l*l+2)/2}Du.prototype=lY.prototype={constructor:Du,select:function YAe(l){var a=this._name,o=this._id;"function"!=typeof l&&(l=PS(l));for(var c=this._groups,u=c.length,h=new Array(u),d=0;d<u;++d)for(var m,v,f=c[d],p=f.length,g=h[d]=new Array(p),_=0;_<p;++_)(m=f[_])&&(v=l.call(m,m.__data__,_,f))&&("__data__"in m&&(v.__data__=m.__data__),g[_]=v,qS(g[_],a,o,_,g,kc(m,o)));return new Du(h,this._parents,a,o)},selectAll:function ZAe(l){var a=this._name,o=this._id;"function"!=typeof l&&(l=$P(l));for(var c=this._groups,u=c.length,h=[],d=[],f=0;f<u;++f)for(var m,p=c[f],g=p.length,v=0;v<g;++v)if(m=p[v]){for(var y,_=l.call(m,m.__data__,v,p),b=kc(m,o),C=0,x=_.length;C<x;++C)(y=_[C])&&qS(y,a,o,C,_,b);h.push(_),d.push(m)}return new Du(h,d,a,o)},selectChild:Ph.selectChild,selectChildren:Ph.selectChildren,filter:function UAe(l){"function"!=typeof l&&(l=qP(l));for(var a=this._groups,o=a.length,c=new Array(o),u=0;u<o;++u)for(var p,h=a[u],d=h.length,f=c[u]=[],g=0;g<d;++g)(p=h[g])&&l.call(p,p.__data__,g,h)&&f.push(p);return new Du(c,this._parents,this._name,this._id)},merge:function HAe(l){if(l._id!==this._id)throw new Error;for(var a=this._groups,o=l._groups,c=a.length,h=Math.min(c,o.length),d=new Array(c),f=0;f<h;++f)for(var _,p=a[f],g=o[f],m=p.length,v=d[f]=new Array(m),y=0;y<m;++y)(_=p[y]||g[y])&&(v[y]=_);for(;f<c;++f)d[f]=a[f];return new Du(d,this._parents,this._name,this._id)},selection:function KAe(){return new XAe(this._groups,this._parents)},transition:function dIe(){for(var l=this._name,a=this._id,o=cY(),c=this._groups,u=c.length,h=0;h<u;++h)for(var p,d=c[h],f=d.length,g=0;g<f;++g)if(p=d[g]){var m=kc(p,a);qS(p,l,o,g,d,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Du(c,this._parents,l,o)},call:Ph.call,nodes:Ph.nodes,node:Ph.node,size:Ph.size,empty:Ph.empty,each:Ph.each,on:function jAe(l,a){var o=this._id;return arguments.length<2?kc(this.node(),o).on.on(l):this.each(WAe(o,l,a))},attr:function TAe(l,a){var o=A1(l),c="transform"===o?sY:oY;return this.attrTween(l,"function"==typeof a?(o.local?SAe:wAe)(o,c,p4(this,"attr."+l,a)):null==a?(o.local?bAe:yAe)(o):(o.local?CAe:xAe)(o,c,a))},attrTween:function AAe(l,a){var o="attr."+l;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==a)return this.tween(o,null);if("function"!=typeof a)throw new Error;var c=A1(l);return this.tween(o,(c.local?EAe:kAe)(c,a))},style:function nIe(l,a,o){var c="transform"==(l+="")?rY:oY;return null==a?this.styleTween(l,function QAe(l,a){var o,c,u;return function(){var h=gp(this,l),d=(this.style.removeProperty(l),gp(this,l));return h===d?null:h===o&&d===c?u:u=a(o=h,c=d)}}(l,c)).on("end.style."+l,aY(l)):"function"==typeof a?this.styleTween(l,function eIe(l,a,o){var c,u,h;return function(){var d=gp(this,l),f=o(this),p=f+"";return null==f&&(this.style.removeProperty(l),p=f=gp(this,l)),d===p?null:d===c&&p===u?h:(u=p,h=a(c=d,f))}}(l,c,p4(this,"style."+l,a))).each(function tIe(l,a){var o,c,u,f,h="style."+a,d="end."+h;return function(){var p=Mu(this,l),g=p.on,m=null==p.value[h]?f||(f=aY(a)):void 0;(g!==o||u!==m)&&(c=(o=g).copy()).on(d,u=m),p.on=c}}(this._id,l)):this.styleTween(l,function JAe(l,a,o){var c,h,u=o+"";return function(){var d=gp(this,l);return d===u?null:d===c?h:h=a(c=d,o)}}(l,c,a),o).on("end.style."+l,null)},styleTween:function sIe(l,a,o){var c="style."+(l+="");if(arguments.length<2)return(c=this.tween(c))&&c._value;if(null==a)return this.tween(c,null);if("function"!=typeof a)throw new Error;return this.tween(c,rIe(l,a,null==o?"":o))},text:function lIe(l){return this.tween("text","function"==typeof l?function aIe(l){return function(){var a=l(this);this.textContent=null==a?"":a}}(p4(this,"text",l)):function oIe(l){return function(){this.textContent=l}}(null==l?"":l+""))},textTween:function hIe(l){var a="text";if(arguments.length<1)return(a=this.tween(a))&&a._value;if(null==l)return this.tween(a,null);if("function"!=typeof l)throw new Error;return this.tween(a,uIe(l))},remove:function qAe(){return this.on("end.remove",function $Ae(l){return function(){var a=this.parentNode;for(var o in this.__transition)if(+o!==l)return;a&&a.removeChild(this)}}(this._id))},tween:function _Ae(l,a){var o=this._id;if(l+="",arguments.length<2){for(var d,c=kc(this.node(),o).tween,u=0,h=c.length;u<h;++u)if((d=c[u]).name===l)return d.value;return null}return this.each((null==a?mAe:vAe)(o,l,a))},delay:function OAe(l){var a=this._id;return arguments.length?this.each(("function"==typeof l?IAe:PAe)(a,l)):kc(this.node(),a).delay},duration:function LAe(l){var a=this._id;return arguments.length?this.each(("function"==typeof l?RAe:FAe)(a,l)):kc(this.node(),a).duration},ease:function BAe(l){var a=this._id;return arguments.length?this.each(NAe(a,l)):kc(this.node(),a).ease},easeVarying:function zAe(l){if("function"!=typeof l)throw new Error;return this.each(function VAe(l,a){return function(){var o=a.apply(this,arguments);if("function"!=typeof o)throw new Error;Mu(this,l).ease=o}}(this._id,l))},end:function fIe(){var l,a,o=this,c=o._id,u=o.size();return new Promise(function(h,d){var f={value:d},p={value:function(){0==--u&&h()}};o.each(function(){var g=Mu(this,c),m=g.on;m!==l&&((a=(l=m).copy())._.cancel.push(f),a._.interrupt.push(f),a._.end.push(p)),g.on=a}),0===u&&h()})},[Symbol.iterator]:Ph[Symbol.iterator]};var vIe={time:null,delay:0,duration:250,ease:g4};function _Ie(l,a){for(var o;!(o=l.__transition)||!(o=o[a]);)if(!(l=l.parentNode))throw new Error(`transition ${a} not found`);return o}v0.prototype.interrupt=function fAe(l){return this.each(function(){_p(this,l)})},v0.prototype.transition=function yIe(l){var a,o;l instanceof Du?(a=l._id,l=l._name):(a=cY(),(o=vIe).time=V1(),l=null==l?null:l+"");for(var c=this._groups,u=c.length,h=0;h<u;++h)for(var p,d=c[h],f=d.length,g=0;g<f;++g)(p=d[g])&&qS(p,l,a,g,d,o||_Ie(p,a));return new Du(c,this._parents,l,a)};var bIe=[null];function xIe(l,a){var c,u,o=l.__transition;if(o)for(u in a=null==a?null:a+"",o)if((c=o[u]).state>1&&c.name===a)return new Du([[l]],bIe,a,+u);return null}const m4=l=>()=>l;function CIe(l,{sourceEvent:a,target:o,selection:c,mode:u,dispatch:h}){Object.defineProperties(this,{type:{value:l,enumerable:!0,configurable:!0},sourceEvent:{value:a,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},selection:{value:c,enumerable:!0,configurable:!0},mode:{value:u,enumerable:!0,configurable:!0},_:{value:h}})}function wIe(l){l.stopImmediatePropagation()}function v4(l){l.preventDefault(),l.stopImmediatePropagation()}var uY={name:"drag"},_4={name:"space"},w0={name:"handle"},S0={name:"center"};const{abs:hY,max:Fo,min:Lo}=Math;function dY(l){return[+l[0],+l[1]]}function y4(l){return[dY(l[0]),dY(l[1])]}var ZS={name:"x",handles:["w","e"].map(U1),input:function(l,a){return null==l?null:[[+l[0],a[0][1]],[+l[1],a[1][1]]]},output:function(l){return l&&[l[0][0],l[1][0]]}},XS={name:"y",handles:["n","s"].map(U1),input:function(l,a){return null==l?null:[[a[0][0],+l[0]],[a[1][0],+l[1]]]},output:function(l){return l&&[l[0][1],l[1][1]]}},SIe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(U1),input:function(l){return null==l?null:y4(l)},output:function(l){return l}},Oh={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},fY={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},pY={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},TIe={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},MIe={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function U1(l){return{type:l}}function DIe(l){return!l.ctrlKey&&!l.button}function EIe(){var l=this.ownerSVGElement||this;return l.hasAttribute("viewBox")?[[(l=l.viewBox.baseVal).x,l.y],[l.x+l.width,l.y+l.height]]:[[0,0],[l.width.baseVal.value,l.height.baseVal.value]]}function kIe(){return navigator.maxTouchPoints||"ontouchstart"in this}function b4(l){for(;!l.__brush;)if(!(l=l.parentNode))return;return l.__brush}function AIe(l){return l[0][0]===l[1][0]||l[0][1]===l[1][1]}function IIe(l){var a=l.__brush;return a?a.dim.output(a.selection):null}function PIe(){return x4(ZS)}function OIe(){return x4(XS)}function RIe(){return x4(SIe)}function x4(l){var f,a=EIe,o=DIe,c=kIe,u=!0,h=m0("start","brush","end"),d=6;function p(x){var w=x.property("__brush",C).selectAll(".overlay").data([U1("overlay")]);w.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Oh.overlay).merge(w).each(function(){var M=b4(this).extent;Es(this).attr("x",M[0][0]).attr("y",M[0][1]).attr("width",M[1][0]-M[0][0]).attr("height",M[1][1]-M[0][1])}),x.selectAll(".selection").data([U1("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Oh.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var S=x.selectAll(".handle").data(l.handles,function(M){return M.type});S.exit().remove(),S.enter().append("rect").attr("class",function(M){return"handle handle--"+M.type}).attr("cursor",function(M){return Oh[M.type]}),x.each(g).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",_).filter(c).on("touchstart.brush",_).on("touchmove.brush",y).on("touchend.brush touchcancel.brush",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(){var x=Es(this),w=b4(this).selection;w?(x.selectAll(".selection").style("display",null).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1]),x.selectAll(".handle").style("display",null).attr("x",function(S){return"e"===S.type[S.type.length-1]?w[1][0]-d/2:w[0][0]-d/2}).attr("y",function(S){return"s"===S.type[0]?w[1][1]-d/2:w[0][1]-d/2}).attr("width",function(S){return"n"===S.type||"s"===S.type?w[1][0]-w[0][0]+d:d}).attr("height",function(S){return"e"===S.type||"w"===S.type?w[1][1]-w[0][1]+d:d})):x.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function m(x,w,S){var M=x.__brush.emitter;return!M||S&&M.clean?new v(x,w,S):M}function v(x,w,S){this.that=x,this.args=w,this.state=x.__brush,this.active=0,this.clean=S}function _(x){if((!f||x.touches)&&o.apply(this,arguments)){var F,L,Y,O,B,G,j,W,ae,xe,ge,w=this,S=x.target.__data__.type,M="selection"===(u&&x.metaKey?S="overlay":S)?uY:u&&x.altKey?S0:w0,T=l===XS?null:TIe[S],E=l===ZS?null:MIe[S],k=b4(w),R=k.extent,D=k.selection,P=R[0][0],$=R[0][1],V=R[1][0],H=R[1][1],Z=0,K=0,re=T&&E&&u&&x.shiftKey,Me=Array.from(x.touches||[x],Se=>{const Ge=Se.identifier;return(Se=ol(Se,w)).point0=Se.slice(),Se.identifier=Ge,Se});_p(w);var He=m(w,arguments,!0).beforestart();if("overlay"===S){D&&(ae=!0);const Se=[Me[0],Me[1]||Me[0]];k.selection=D=[[F=l===XS?P:Lo(Se[0][0],Se[1][0]),Y=l===ZS?$:Lo(Se[0][1],Se[1][1])],[B=l===XS?V:Fo(Se[0][0],Se[1][0]),j=l===ZS?H:Fo(Se[0][1],Se[1][1])]],Me.length>1&&Oe(x)}else F=D[0][0],Y=D[0][1],B=D[1][0],j=D[1][1];L=F,O=Y,G=B,W=j;var ke=Es(w).attr("pointer-events","none"),Ie=ke.selectAll(".overlay").attr("cursor",Oh[S]);if(x.touches)He.moved=ce,He.ended=Ye;else{var qe=Es(x.view).on("mousemove.brush",ce,!0).on("mouseup.brush",Ye,!0);u&&qe.on("keydown.brush",et,!0).on("keyup.brush",je,!0),FS(x.view)}g.call(w),He.start(x,M.name)}function ce(Se){for(const Ge of Se.changedTouches||[Se])for(const zt of Me)zt.identifier===Ge.identifier&&(zt.cur=ol(Ge,w));if(re&&!xe&&!ge&&1===Me.length){const Ge=Me[0];hY(Ge.cur[0]-Ge[0])>hY(Ge.cur[1]-Ge[1])?ge=!0:xe=!0}for(const Ge of Me)Ge.cur&&(Ge[0]=Ge.cur[0],Ge[1]=Ge.cur[1]);ae=!0,v4(Se),Oe(Se)}function Oe(Se){const Ge=Me[0],zt=Ge.point0;var hn;switch(Z=Ge[0]-zt[0],K=Ge[1]-zt[1],M){case _4:case uY:T&&(Z=Fo(P-F,Lo(V-B,Z)),L=F+Z,G=B+Z),E&&(K=Fo($-Y,Lo(H-j,K)),O=Y+K,W=j+K);break;case w0:Me[1]?(T&&(L=Fo(P,Lo(V,Me[0][0])),G=Fo(P,Lo(V,Me[1][0])),T=1),E&&(O=Fo($,Lo(H,Me[0][1])),W=Fo($,Lo(H,Me[1][1])),E=1)):(T<0?(Z=Fo(P-F,Lo(V-F,Z)),L=F+Z,G=B):T>0&&(Z=Fo(P-B,Lo(V-B,Z)),L=F,G=B+Z),E<0?(K=Fo($-Y,Lo(H-Y,K)),O=Y+K,W=j):E>0&&(K=Fo($-j,Lo(H-j,K)),O=Y,W=j+K));break;case S0:T&&(L=Fo(P,Lo(V,F-Z*T)),G=Fo(P,Lo(V,B+Z*T))),E&&(O=Fo($,Lo(H,Y-K*E)),W=Fo($,Lo(H,j+K*E)))}G<L&&(T*=-1,hn=F,F=B,B=hn,hn=L,L=G,G=hn,S in fY&&Ie.attr("cursor",Oh[S=fY[S]])),W<O&&(E*=-1,hn=Y,Y=j,j=hn,hn=O,O=W,W=hn,S in pY&&Ie.attr("cursor",Oh[S=pY[S]])),k.selection&&(D=k.selection),xe&&(L=D[0][0],G=D[1][0]),ge&&(O=D[0][1],W=D[1][1]),(D[0][0]!==L||D[0][1]!==O||D[1][0]!==G||D[1][1]!==W)&&(k.selection=[[L,O],[G,W]],g.call(w),He.brush(Se,M.name))}function Ye(Se){if(wIe(Se),Se.touches){if(Se.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else LS(Se.view,ae),qe.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ke.attr("pointer-events","all"),Ie.attr("cursor",Oh.overlay),k.selection&&(D=k.selection),AIe(D)&&(k.selection=null,g.call(w)),He.end(Se,M.name)}function et(Se){switch(Se.keyCode){case 16:re=T&&E;break;case 18:M===w0&&(T&&(B=G-Z*T,F=L+Z*T),E&&(j=W-K*E,Y=O+K*E),M=S0,Oe(Se));break;case 32:(M===w0||M===S0)&&(T<0?B=G-Z:T>0&&(F=L-Z),E<0?j=W-K:E>0&&(Y=O-K),M=_4,Ie.attr("cursor",Oh.selection),Oe(Se));break;default:return}v4(Se)}function je(Se){switch(Se.keyCode){case 16:re&&(xe=ge=re=!1,Oe(Se));break;case 18:M===S0&&(T<0?B=G:T>0&&(F=L),E<0?j=W:E>0&&(Y=O),M=w0,Oe(Se));break;case 32:M===_4&&(Se.altKey?(T&&(B=G-Z*T,F=L+Z*T),E&&(j=W-K*E,Y=O+K*E),M=S0):(T<0?B=G:T>0&&(F=L),E<0?j=W:E>0&&(Y=O),M=w0),Ie.attr("cursor",Oh[S]),Oe(Se));break;default:return}v4(Se)}}function y(x){m(this,arguments).moved(x)}function b(x){m(this,arguments).ended(x)}function C(){var x=this.__brush||{selection:null};return x.extent=y4(a.apply(this,arguments)),x.dim=l,x}return p.move=function(x,w,S){x.tween?x.on("start.brush",function(M){m(this,arguments).beforestart().start(M)}).on("interrupt.brush end.brush",function(M){m(this,arguments).end(M)}).tween("brush",function(){var M=this,T=M.__brush,E=m(M,arguments),k=T.selection,R=l.input("function"==typeof w?w.apply(this,arguments):w,T.extent),D=Ld(k,R);function P(F){T.selection=1===F&&null===R?null:D(F),g.call(M),E.brush()}return null!==k&&null!==R?P:P(1)}):x.each(function(){var M=this,T=arguments,E=M.__brush,k=l.input("function"==typeof w?w.apply(M,T):w,E.extent),R=m(M,T).beforestart();_p(M),E.selection=null===k?null:k,g.call(M),R.start(S).brush(S).end(S)})},p.clear=function(x,w){p.move(x,null,w)},v.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(x,w){return this.starting?(this.starting=!1,this.emit("start",x,w)):this.emit("brush",x),this},brush:function(x,w){return this.emit("brush",x,w),this},end:function(x,w){return 0==--this.active&&(delete this.state.emitter,this.emit("end",x,w)),this},emit:function(x,w,S){var M=Es(this.that).datum();h.call(x,this.that,new CIe(x,{sourceEvent:w,target:p,selection:l.output(this.state.selection),mode:S,dispatch:h}),M)}},p.extent=function(x){return arguments.length?(a="function"==typeof x?x:m4(y4(x)),p):a},p.filter=function(x){return arguments.length?(o="function"==typeof x?x:m4(!!x),p):o},p.touchable=function(x){return arguments.length?(c="function"==typeof x?x:m4(!!x),p):c},p.handleSize=function(x){return arguments.length?(d=+x,p):d},p.keyModifiers=function(x){return arguments.length?(u=!!x,p):u},p.on=function(){var x=h.on.apply(h,arguments);return x===h?p:x},p}var gY=Math.abs,T0=Math.cos,M0=Math.sin,mY=Math.PI,KS=mY/2,vY=2*mY,_Y=Math.max,C4=1e-12;function w4(l,a){return Array.from({length:a-l},(o,c)=>l+c)}function FIe(l){return function(a,o){return l(a.source.value+a.target.value,o.source.value+o.target.value)}}function LIe(){return S4(!1,!1)}function NIe(){return S4(!1,!0)}function BIe(){return S4(!0,!1)}function S4(l,a){var o=0,c=null,u=null,h=null;function d(f){var b,p=f.length,g=new Array(p),m=w4(0,p),v=new Array(p*p),_=new Array(p),y=0;f=Float64Array.from({length:p*p},a?(C,x)=>f[x%p][x/p|0]:(C,x)=>f[x/p|0][x%p]);for(let C=0;C<p;++C){let x=0;for(let w=0;w<p;++w)x+=f[C*p+w]+l*f[w*p+C];y+=g[C]=x}b=(y=_Y(0,vY-o*p)/y)?o:vY/p;{let C=0;c&&m.sort((x,w)=>c(g[x],g[w]));for(const x of m){const w=C;if(l){const S=w4(1+~p,p).filter(M=>M<0?f[~M*p+x]:f[x*p+M]);u&&S.sort((M,T)=>u(M<0?-f[~M*p+x]:f[x*p+M],T<0?-f[~T*p+x]:f[x*p+T]));for(const M of S)M<0?(v[~M*p+x]||(v[~M*p+x]={source:null,target:null})).target={index:x,startAngle:C,endAngle:C+=f[~M*p+x]*y,value:f[~M*p+x]}:(v[x*p+M]||(v[x*p+M]={source:null,target:null})).source={index:x,startAngle:C,endAngle:C+=f[x*p+M]*y,value:f[x*p+M]};_[x]={index:x,startAngle:w,endAngle:C,value:g[x]}}else{const S=w4(0,p).filter(M=>f[x*p+M]||f[M*p+x]);u&&S.sort((M,T)=>u(f[x*p+M],f[x*p+T]));for(const M of S){let T;if(x<M?(T=v[x*p+M]||(v[x*p+M]={source:null,target:null}),T.source={index:x,startAngle:C,endAngle:C+=f[x*p+M]*y,value:f[x*p+M]}):(T=v[M*p+x]||(v[M*p+x]={source:null,target:null}),T.target={index:x,startAngle:C,endAngle:C+=f[x*p+M]*y,value:f[x*p+M]},x===M&&(T.source=T.target)),T.source&&T.target&&T.source.value<T.target.value){const E=T.source;T.source=T.target,T.target=E}}_[x]={index:x,startAngle:w,endAngle:C,value:g[x]}}C+=b}}return(v=Object.values(v)).groups=_,h?v.sort(h):v}return d.padAngle=function(f){return arguments.length?(o=_Y(0,f),d):o},d.sortGroups=function(f){return arguments.length?(c=f,d):c},d.sortSubgroups=function(f){return arguments.length?(u=f,d):u},d.sortChords=function(f){return arguments.length?(null==f?h=null:(h=FIe(f))._=f,d):h&&h._},d}const T4=Math.PI,M4=2*T4,yp=1e-6,VIe=M4-yp;function D4(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function yY(){return new D4}D4.prototype=yY.prototype={constructor:D4,moveTo:function(l,a){this._+="M"+(this._x0=this._x1=+l)+","+(this._y0=this._y1=+a)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(l,a){this._+="L"+(this._x1=+l)+","+(this._y1=+a)},quadraticCurveTo:function(l,a,o,c){this._+="Q"+ +l+","+ +a+","+(this._x1=+o)+","+(this._y1=+c)},bezierCurveTo:function(l,a,o,c,u,h){this._+="C"+ +l+","+ +a+","+ +o+","+ +c+","+(this._x1=+u)+","+(this._y1=+h)},arcTo:function(l,a,o,c,u){var h=this._x1,d=this._y1,f=(o=+o)-(l=+l),p=(c=+c)-(a=+a),g=h-l,m=d-a,v=g*g+m*m;if((u=+u)<0)throw new Error("negative radius: "+u);if(null===this._x1)this._+="M"+(this._x1=l)+","+(this._y1=a);else if(v>yp)if(Math.abs(m*f-p*g)>yp&&u){var _=o-h,y=c-d,b=f*f+p*p,C=_*_+y*y,x=Math.sqrt(b),w=Math.sqrt(v),S=u*Math.tan((T4-Math.acos((b+v-C)/(2*x*w)))/2),M=S/w,T=S/x;Math.abs(M-1)>yp&&(this._+="L"+(l+M*g)+","+(a+M*m)),this._+="A"+u+","+u+",0,0,"+ +(m*_>g*y)+","+(this._x1=l+T*f)+","+(this._y1=a+T*p)}else this._+="L"+(this._x1=l)+","+(this._y1=a)},arc:function(l,a,o,c,u,h){l=+l,a=+a,h=!!h;var d=(o=+o)*Math.cos(c),f=o*Math.sin(c),p=l+d,g=a+f,m=1^h,v=h?c-u:u-c;if(o<0)throw new Error("negative radius: "+o);null===this._x1?this._+="M"+p+","+g:(Math.abs(this._x1-p)>yp||Math.abs(this._y1-g)>yp)&&(this._+="L"+p+","+g),o&&(v<0&&(v=v%M4+M4),v>VIe?this._+="A"+o+","+o+",0,1,"+m+","+(l-d)+","+(a-f)+"A"+o+","+o+",0,1,"+m+","+(this._x1=p)+","+(this._y1=g):v>yp&&(this._+="A"+o+","+o+",0,"+ +(v>=T4)+","+m+","+(this._x1=l+o*Math.cos(u))+","+(this._y1=a+o*Math.sin(u))))},rect:function(l,a,o,c){this._+="M"+(this._x0=this._x1=+l)+","+(this._y0=this._y1=+a)+"h"+ +o+"v"+ +c+"h"+-o+"Z"},toString:function(){return this._}};const bp=yY;var zIe=Array.prototype.slice;function xp(l){return function(){return l}}function UIe(l){return l.source}function HIe(l){return l.target}function bY(l){return l.radius}function GIe(l){return l.startAngle}function WIe(l){return l.endAngle}function jIe(){return 0}function $Ie(){return 10}function xY(l){var a=UIe,o=HIe,c=bY,u=bY,h=GIe,d=WIe,f=jIe,p=null;function g(){var m,v=a.apply(this,arguments),_=o.apply(this,arguments),y=f.apply(this,arguments)/2,b=zIe.call(arguments),C=+c.apply(this,(b[0]=v,b)),x=h.apply(this,b)-KS,w=d.apply(this,b)-KS,S=+u.apply(this,(b[0]=_,b)),M=h.apply(this,b)-KS,T=d.apply(this,b)-KS;if(p||(p=m=bp()),y>C4&&(gY(w-x)>2*y+C4?w>x?(x+=y,w-=y):(x-=y,w+=y):x=w=(x+w)/2,gY(T-M)>2*y+C4?T>M?(M+=y,T-=y):(M-=y,T+=y):M=T=(M+T)/2),p.moveTo(C*T0(x),C*M0(x)),p.arc(0,0,C,x,w),x!==M||w!==T)if(l){var E=+l.apply(this,arguments),k=S-E,R=(M+T)/2;p.quadraticCurveTo(0,0,k*T0(M),k*M0(M)),p.lineTo(S*T0(R),S*M0(R)),p.lineTo(k*T0(T),k*M0(T))}else p.quadraticCurveTo(0,0,S*T0(M),S*M0(M)),p.arc(0,0,S,M,T);if(p.quadraticCurveTo(0,0,C*T0(x),C*M0(x)),p.closePath(),m)return p=null,m+""||null}return l&&(g.headRadius=function(m){return arguments.length?(l="function"==typeof m?m:xp(+m),g):l}),g.radius=function(m){return arguments.length?(c=u="function"==typeof m?m:xp(+m),g):c},g.sourceRadius=function(m){return arguments.length?(c="function"==typeof m?m:xp(+m),g):c},g.targetRadius=function(m){return arguments.length?(u="function"==typeof m?m:xp(+m),g):u},g.startAngle=function(m){return arguments.length?(h="function"==typeof m?m:xp(+m),g):h},g.endAngle=function(m){return arguments.length?(d="function"==typeof m?m:xp(+m),g):d},g.padAngle=function(m){return arguments.length?(f="function"==typeof m?m:xp(+m),g):f},g.source=function(m){return arguments.length?(a=m,g):a},g.target=function(m){return arguments.length?(o=m,g):o},g.context=function(m){return arguments.length?(p=null==m?null:m,g):p},g}function E4(){return xY()}function qIe(){return xY($Ie)}const CY=Math.PI/180,wY=180/Math.PI,DY=4/29,D0=6/29,EY=3*D0*D0;function kY(l){if(l instanceof Ac)return new Ac(l.l,l.a,l.b,l.opacity);if(l instanceof Eu)return IY(l);l instanceof vo||(l=e4(l));var h,d,a=P4(l.r),o=P4(l.g),c=P4(l.b),u=k4((.2225045*a+.7168786*o+.0606169*c)/1);return a===o&&o===c?h=d=u:(h=k4((.4360747*a+.3850649*o+.1430804*c)/.96422),d=k4((.0139322*a+.0971045*o+.7141733*c)/.82521)),new Ac(116*u-16,500*(h-u),200*(u-d),l.opacity)}function ZIe(l,a){return new Ac(l,0,0,null==a?1:a)}function JS(l,a,o,c){return 1===arguments.length?kY(l):new Ac(l,a,o,null==c?1:c)}function Ac(l,a,o,c){this.l=+l,this.a=+a,this.b=+o,this.opacity=+c}function k4(l){return l>.008856451679035631?Math.pow(l,1/3):l/EY+DY}function A4(l){return l>D0?l*l*l:EY*(l-DY)}function I4(l){return 255*(l<=.0031308?12.92*l:1.055*Math.pow(l,1/2.4)-.055)}function P4(l){return(l/=255)<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function AY(l){if(l instanceof Eu)return new Eu(l.h,l.c,l.l,l.opacity);if(l instanceof Ac||(l=kY(l)),0===l.a&&0===l.b)return new Eu(NaN,0<l.l&&l.l<100?0:NaN,l.l,l.opacity);var a=Math.atan2(l.b,l.a)*wY;return new Eu(a<0?a+360:a,Math.sqrt(l.a*l.a+l.b*l.b),l.l,l.opacity)}function XIe(l,a,o,c){return 1===arguments.length?AY(l):new Eu(o,a,l,null==c?1:c)}function e2(l,a,o,c){return 1===arguments.length?AY(l):new Eu(l,a,o,null==c?1:c)}function Eu(l,a,o,c){this.h=+l,this.c=+a,this.l=+o,this.opacity=+c}function IY(l){if(isNaN(l.h))return new Ac(l.l,0,0,l.opacity);var a=l.h*CY;return new Ac(l.l,Math.cos(a)*l.c,Math.sin(a)*l.c,l.opacity)}y0(Ac,JS,P1(Fd,{brighter:function(l){return new Ac(this.l+18*(null==l?1:l),this.a,this.b,this.opacity)},darker:function(l){return new Ac(this.l-18*(null==l?1:l),this.a,this.b,this.opacity)},rgb:function(){var l=(this.l+16)/116,a=isNaN(this.a)?l:l+this.a/500,o=isNaN(this.b)?l:l-this.b/200;return new vo(I4(3.1338561*(a=.96422*A4(a))-1.6168667*(l=1*A4(l))-.4906146*(o=.82521*A4(o))),I4(-.9787684*a+1.9161415*l+.033454*o),I4(.0719453*a-.2289914*l+1.4052427*o),this.opacity)}})),y0(Eu,e2,P1(Fd,{brighter:function(l){return new Eu(this.h,this.c,this.l+18*(null==l?1:l),this.opacity)},darker:function(l){return new Eu(this.h,this.c,this.l-18*(null==l?1:l),this.opacity)},rgb:function(){return IY(this).rgb()}}));var O4=1.78277,R4=-.29227,t2=-.90649,H1=1.97294,OY=H1*t2,RY=H1*O4,FY=O4*R4- -.14861*t2;function KIe(l){if(l instanceof Cp)return new Cp(l.h,l.s,l.l,l.opacity);l instanceof vo||(l=e4(l));var o=l.g/255,c=l.b/255,u=(FY*c+OY*(l.r/255)-RY*o)/(FY+OY-RY),h=c-u,d=(H1*(o-u)-R4*h)/t2,f=Math.sqrt(d*d+h*h)/(H1*u*(1-u)),p=f?Math.atan2(d,h)*wY-120:NaN;return new Cp(p<0?p+360:p,f,u,l.opacity)}function Ic(l,a,o,c){return 1===arguments.length?KIe(l):new Cp(l,a,o,null==c?1:c)}function Cp(l,a,o,c){this.h=+l,this.s=+a,this.l=+o,this.opacity=+c}y0(Cp,Ic,P1(Fd,{brighter:function(l){return l=null==l?b0:Math.pow(b0,l),new Cp(this.h,this.s,this.l*l,this.opacity)},darker:function(l){return l=null==l?.7:Math.pow(.7,l),new Cp(this.h,this.s,this.l*l,this.opacity)},rgb:function(){var l=isNaN(this.h)?0:(this.h+120)*CY,a=+this.l,o=isNaN(this.s)?0:this.s*a*(1-a),c=Math.cos(l),u=Math.sin(l);return new vo(255*(a+o*(-.14861*c+O4*u)),255*(a+o*(R4*c+t2*u)),255*(a+o*(H1*c)),this.opacity)}}));var LY=Array.prototype.slice;function JIe(l,a){return l-a}const Nd=l=>()=>l;function t3e(l,a){for(var u,o=-1,c=a.length;++o<c;)if(u=n3e(l,a[o]))return u;return 0}function n3e(l,a){for(var o=a[0],c=a[1],u=-1,h=0,d=l.length,f=d-1;h<d;f=h++){var p=l[h],g=p[0],m=p[1],v=l[f],_=v[0],y=v[1];if(i3e(p,v,a))return 0;m>c!=y>c&&o<(_-g)*(c-m)/(y-m)+g&&(u=-u)}return u}function i3e(l,a,o){var c;return function r3e(l,a,o){return(a[0]-l[0])*(o[1]-l[1])==(o[0]-l[0])*(a[1]-l[1])}(l,a,o)&&function s3e(l,a,o){return l<=a&&a<=o||o<=a&&a<=l}(l[c=+(l[0]===a[0])],o[c],a[c])}function o3e(){}var Rh=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function NY(){var l=1,a=1,o=HP,c=p;function u(g){var m=o(g);if(Array.isArray(m))m=m.slice().sort(JIe);else{const v=fp(g),_=g0(v[0],v[1],m);m=p0(Math.floor(v[0]/_)*_,Math.floor(v[1]/_-1)*_,m)}return m.map(v=>h(g,v))}function h(g,m){var v=[],_=[];return function d(g,m,v){var b,C,w,S,M,_=new Array,y=new Array;for(b=C=-1,Rh[(w=g[0]>=m)<<1].forEach(T);++b<l-1;)Rh[w|(w=g[b+1]>=m)<<1].forEach(T);for(Rh[w<<0].forEach(T);++C<a-1;){for(b=-1,Rh[(w=g[C*l+l]>=m)<<1|(S=g[C*l]>=m)<<2].forEach(T);++b<l-1;)M=S,Rh[w|(w=g[C*l+l+b+1]>=m)<<1|(S=g[C*l+b+1]>=m)<<2|M<<3].forEach(T);Rh[w|S<<3].forEach(T)}for(b=-1,Rh[(S=g[C*l]>=m)<<2].forEach(T);++b<l-1;)M=S,Rh[(S=g[C*l+b+1]>=m)<<2|M<<3].forEach(T);function T(E){var F,L,k=[E[0][0]+b,E[0][1]+C],R=[E[1][0]+b,E[1][1]+C],D=f(k),P=f(R);(F=y[D])?(L=_[P])?(delete y[F.end],delete _[L.start],F===L?(F.ring.push(R),v(F.ring)):_[F.start]=y[L.end]={start:F.start,end:L.end,ring:F.ring.concat(L.ring)}):(delete y[F.end],F.ring.push(R),y[F.end=P]=F):(F=_[P])?(L=y[D])?(delete _[F.start],delete y[L.end],F===L?(F.ring.push(R),v(F.ring)):_[L.start]=y[F.end]={start:L.start,end:F.end,ring:L.ring.concat(F.ring)}):(delete _[F.start],F.ring.unshift(k),_[F.start=D]=F):_[D]=y[P]={start:D,end:P,ring:[k,R]}}Rh[S<<3].forEach(T)}(g,m,function(y){c(y,g,m),function e3e(l){for(var a=0,o=l.length,c=l[o-1][1]*l[0][0]-l[o-1][0]*l[0][1];++a<o;)c+=l[a-1][1]*l[a][0]-l[a-1][0]*l[a][1];return c}(y)>0?v.push([y]):_.push(y)}),_.forEach(function(y){for(var x,b=0,C=v.length;b<C;++b)if(-1!==t3e((x=v[b])[0],y))return void x.push(y)}),{type:"MultiPolygon",value:m,coordinates:v}}function f(g){return 2*g[0]+g[1]*(l+1)*4}function p(g,m,v){g.forEach(function(_){var w,y=_[0],b=_[1],C=0|y,x=0|b,S=m[x*l+C];y>0&&y<l&&C===y&&(_[0]=y+(v-(w=m[x*l+C-1]))/(S-w)-.5),b>0&&b<a&&x===b&&(_[1]=b+(v-(w=m[(x-1)*l+C]))/(S-w)-.5)})}return u.contour=h,u.size=function(g){if(!arguments.length)return[l,a];var m=Math.floor(g[0]),v=Math.floor(g[1]);if(!(m>=0&&v>=0))throw new Error("invalid size");return l=m,a=v,u},u.thresholds=function(g){return arguments.length?(o="function"==typeof g?g:Array.isArray(g)?Nd(LY.call(g)):Nd(g),u):o},u.smooth=function(g){return arguments.length?(c=g?p:o3e,u):c===p},u}function F4(l,a,o){for(var c=l.width,u=l.height,h=1+(o<<1),d=0;d<u;++d)for(var f=0,p=0;f<c+o;++f)f<c&&(p+=l.data[f+d*c]),f>=o&&(f>=h&&(p-=l.data[f-h+d*c]),a.data[f-o+d*c]=p/Math.min(f+1,c-1+h-f,h))}function L4(l,a,o){for(var c=l.width,u=l.height,h=1+(o<<1),d=0;d<c;++d)for(var f=0,p=0;f<u+o;++f)f<u&&(p+=l.data[d+f*c]),f>=o&&(f>=h&&(p-=l.data[d+(f-h)*c]),a.data[d+(f-o)*c]=p/Math.min(f+1,u-1+h-f,h))}function a3e(l){return l[0]}function l3e(l){return l[1]}function c3e(){return 1}function u3e(){var l=a3e,a=l3e,o=c3e,c=960,u=500,h=20,d=2,f=3*h,p=c+2*f>>d,g=u+2*f>>d,m=Nd(20);function v(w){var S=new Float32Array(p*g),M=new Float32Array(p*g),T=Math.pow(2,-d);w.forEach(function(R,D,P){var F=(l(R,D,P)+f)*T,L=(a(R,D,P)+f)*T,$=+o(R,D,P);if(F>=0&&F<p&&L>=0&&L<g){var Y=Math.floor(F),O=Math.floor(L),V=F-Y-.5,B=L-O-.5;S[Y+O*p]+=(1-V)*(1-B)*$,S[Y+1+O*p]+=V*(1-B)*$,S[Y+1+(O+1)*p]+=V*B*$,S[Y+(O+1)*p]+=(1-V)*B*$}}),F4({width:p,height:g,data:S},{width:p,height:g,data:M},h>>d),L4({width:p,height:g,data:M},{width:p,height:g,data:S},h>>d),F4({width:p,height:g,data:S},{width:p,height:g,data:M},h>>d),L4({width:p,height:g,data:M},{width:p,height:g,data:S},h>>d),F4({width:p,height:g,data:S},{width:p,height:g,data:M},h>>d),L4({width:p,height:g,data:M},{width:p,height:g,data:S},h>>d);var E=m(S);if(!Array.isArray(E)){var k=MS(S);E=g0(0,k,E),(E=sl(0,Math.floor(k/E)*E,E)).shift()}return NY().thresholds(E).size([p,g])(S).map(_)}function _(w){return w.value*=Math.pow(2,-2*d),w.coordinates.forEach(y),w}function y(w){w.forEach(b)}function b(w){w.forEach(C)}function C(w){w[0]=w[0]*Math.pow(2,d)-f,w[1]=w[1]*Math.pow(2,d)-f}function x(){return p=c+2*(f=3*h)>>d,g=u+2*f>>d,v}return v.x=function(w){return arguments.length?(l="function"==typeof w?w:Nd(+w),v):l},v.y=function(w){return arguments.length?(a="function"==typeof w?w:Nd(+w),v):a},v.weight=function(w){return arguments.length?(o="function"==typeof w?w:Nd(+w),v):o},v.size=function(w){if(!arguments.length)return[c,u];var S=+w[0],M=+w[1];if(!(S>=0&&M>=0))throw new Error("invalid size");return c=S,u=M,x()},v.cellSize=function(w){if(!arguments.length)return 1<<d;if(!((w=+w)>=1))throw new Error("invalid cell size");return d=Math.floor(Math.log(w)/Math.LN2),x()},v.thresholds=function(w){return arguments.length?(m="function"==typeof w?w:Array.isArray(w)?Nd(LY.call(w)):Nd(w),v):m},v.bandwidth=function(w){if(!arguments.length)return Math.sqrt(h*(h+1));if(!((w=+w)>=0))throw new Error("invalid bandwidth");return h=Math.round((Math.sqrt(4*w*w+1)-1)/2),x()},v}const $s=134217729;function G1(l,a,o,c,u){let h,d,f,p,g=a[0],m=c[0],v=0,_=0;m>g==m>-g?(h=g,g=a[++v]):(h=m,m=c[++_]);let y=0;if(v<l&&_<o)for(m>g==m>-g?(d=g+h,f=h-(d-g),g=a[++v]):(d=m+h,f=h-(d-m),m=c[++_]),h=d,0!==f&&(u[y++]=f);v<l&&_<o;)m>g==m>-g?(d=h+g,p=d-h,f=h-(d-p)+(g-p),g=a[++v]):(d=h+m,p=d-h,f=h-(d-p)+(m-p),m=c[++_]),h=d,0!==f&&(u[y++]=f);for(;v<l;)d=h+g,p=d-h,f=h-(d-p)+(g-p),g=a[++v],h=d,0!==f&&(u[y++]=f);for(;_<o;)d=h+m,p=d-h,f=h-(d-p)+(m-p),m=c[++_],h=d,0!==f&&(u[y++]=f);return(0!==h||0===y)&&(u[y++]=h),y}function Nt(l){return new Float64Array(l)}const E0=Nt(4),BY=Nt(8),VY=Nt(12),zY=Nt(16),oa=Nt(4);function n2(l,a,o,c,u,h){const d=(a-h)*(o-u),f=(l-u)*(c-h),p=d-f;if(0===d||0===f||d>0!=f>0)return p;const g=Math.abs(d+f);return Math.abs(p)>=33306690738754716e-32*g?p:-function m3e(l,a,o,c,u,h,d){let f,p,g,m,v,_,y,b,C,x,w,S,M,T,E,k,R,D;const P=l-u,F=o-u,L=a-h,$=c-h;T=P*$,_=$s*P,y=_-(_-P),b=P-y,_=$s*$,C=_-(_-$),x=$-C,E=b*x-(T-y*C-b*C-y*x),k=L*F,_=$s*L,y=_-(_-L),b=L-y,_=$s*F,C=_-(_-F),x=F-C,R=b*x-(k-y*C-b*C-y*x),w=E-R,v=E-w,E0[0]=E-(w+v)+(v-R),S=T+w,v=S-T,M=T-(S-v)+(w-v),w=M-k,v=M-w,E0[1]=M-(w+v)+(v-k),D=S+w,v=D-S,E0[2]=S-(D-v)+(w-v),E0[3]=D;let Y=function d3e(l,a){let o=a[0];for(let c=1;c<l;c++)o+=a[c];return o}(4,E0),O=22204460492503146e-32*d;if(Y>=O||-Y>=O||(v=l-P,f=l-(P+v)+(v-u),v=o-F,g=o-(F+v)+(v-u),v=a-L,p=a-(L+v)+(v-h),v=c-$,m=c-($+v)+(v-h),0===f&&0===p&&0===g&&0===m)||(O=11093356479670487e-47*d+33306690738754706e-32*Math.abs(Y),Y+=P*m+$*f-(L*g+F*p),Y>=O||-Y>=O))return Y;T=f*$,_=$s*f,y=_-(_-f),b=f-y,_=$s*$,C=_-(_-$),x=$-C,E=b*x-(T-y*C-b*C-y*x),k=p*F,_=$s*p,y=_-(_-p),b=p-y,_=$s*F,C=_-(_-F),x=F-C,R=b*x-(k-y*C-b*C-y*x),w=E-R,v=E-w,oa[0]=E-(w+v)+(v-R),S=T+w,v=S-T,M=T-(S-v)+(w-v),w=M-k,v=M-w,oa[1]=M-(w+v)+(v-k),D=S+w,v=D-S,oa[2]=S-(D-v)+(w-v),oa[3]=D;const V=G1(4,E0,4,oa,BY);T=P*m,_=$s*P,y=_-(_-P),b=P-y,_=$s*m,C=_-(_-m),x=m-C,E=b*x-(T-y*C-b*C-y*x),k=L*g,_=$s*L,y=_-(_-L),b=L-y,_=$s*g,C=_-(_-g),x=g-C,R=b*x-(k-y*C-b*C-y*x),w=E-R,v=E-w,oa[0]=E-(w+v)+(v-R),S=T+w,v=S-T,M=T-(S-v)+(w-v),w=M-k,v=M-w,oa[1]=M-(w+v)+(v-k),D=S+w,v=D-S,oa[2]=S-(D-v)+(w-v),oa[3]=D;const B=G1(V,BY,4,oa,VY);T=f*m,_=$s*f,y=_-(_-f),b=f-y,_=$s*m,C=_-(_-m),x=m-C,E=b*x-(T-y*C-b*C-y*x),k=p*g,_=$s*p,y=_-(_-p),b=p-y,_=$s*g,C=_-(_-g),x=g-C,R=b*x-(k-y*C-b*C-y*x),w=E-R,v=E-w,oa[0]=E-(w+v)+(v-R),S=T+w,v=S-T,M=T-(S-v)+(w-v),w=M-k,v=M-w,oa[1]=M-(w+v)+(v-k),D=S+w,v=D-S,oa[2]=S-(D-v)+(w-v),oa[3]=D;const G=G1(B,VY,4,oa,zY);return zY[G-1]}(l,a,o,c,u,h,g)}Nt(4),Nt(4),Nt(4),Nt(4),Nt(4),Nt(4),Nt(4),Nt(4),Nt(4),Nt(8),Nt(8),Nt(8),Nt(4),Nt(8),Nt(8),Nt(8),Nt(12),Nt(192),Nt(192),Nt(4),Nt(4),Nt(4),Nt(4),Nt(4),Nt(4),Nt(4),Nt(4),Nt(8),Nt(8),Nt(8),Nt(8),Nt(8),Nt(8),Nt(8),Nt(8),Nt(8),Nt(4),Nt(4),Nt(4),Nt(8),Nt(16),Nt(16),Nt(16),Nt(32),Nt(32),Nt(48),Nt(64),Nt(1152),Nt(1152),Nt(4),Nt(4),Nt(4),Nt(4),Nt(4),Nt(4),Nt(4),Nt(4),Nt(4),Nt(4),Nt(24),Nt(24),Nt(24),Nt(24),Nt(24),Nt(24),Nt(24),Nt(24),Nt(24),Nt(24),Nt(1152),Nt(1152),Nt(1152),Nt(1152),Nt(1152),Nt(2304),Nt(2304),Nt(3456),Nt(5760),Nt(8),Nt(8),Nt(8),Nt(16),Nt(24),Nt(48),Nt(48),Nt(96),Nt(192),Nt(384),Nt(384),Nt(384),Nt(768),Nt(96),Nt(96),Nt(96),Nt(1152);const aZ=Math.pow(2,-52),d2=new Uint32Array(512);class f2{static from(a,o=L3e,c=N3e){const u=a.length,h=new Float64Array(2*u);for(let d=0;d<u;d++){const f=a[d];h[2*d]=o(f),h[2*d+1]=c(f)}return new f2(h)}constructor(a){const o=a.length>>1;if(o>0&&"number"!=typeof a[0])throw new Error("Expected coords to contain numbers.");this.coords=a;const c=Math.max(2*o-5,0);this._triangles=new Uint32Array(3*c),this._halfedges=new Int32Array(3*c),this._hashSize=Math.ceil(Math.sqrt(o)),this._hullPrev=new Uint32Array(o),this._hullNext=new Uint32Array(o),this._hullTri=new Uint32Array(o),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(o),this._dists=new Float64Array(o),this.update()}update(){const{coords:a,_hullPrev:o,_hullNext:c,_hullTri:u,_hullHash:h}=this,d=a.length>>1;let f=1/0,p=1/0,g=-1/0,m=-1/0;for(let F=0;F<d;F++){const L=a[2*F],$=a[2*F+1];L<f&&(f=L),$<p&&(p=$),L>g&&(g=L),$>m&&(m=$),this._ids[F]=F}const v=(f+g)/2,_=(p+m)/2;let b,C,x,y=1/0;for(let F=0;F<d;F++){const L=lO(v,_,a[2*F],a[2*F+1]);L<y&&(b=F,y=L)}const w=a[2*b],S=a[2*b+1];y=1/0;for(let F=0;F<d;F++){if(F===b)continue;const L=lO(w,S,a[2*F],a[2*F+1]);L<y&&L>0&&(C=F,y=L)}let M=a[2*C],T=a[2*C+1],E=1/0;for(let F=0;F<d;F++){if(F===b||F===C)continue;const L=R3e(w,S,M,T,a[2*F],a[2*F+1]);L<E&&(x=F,E=L)}let k=a[2*x],R=a[2*x+1];if(E===1/0){for(let $=0;$<d;$++)this._dists[$]=a[2*$]-a[0]||a[2*$+1]-a[1];L0(this._ids,this._dists,0,d-1);const F=new Uint32Array(d);let L=0;for(let $=0,Y=-1/0;$<d;$++){const O=this._ids[$];this._dists[O]>Y&&(F[L++]=O,Y=this._dists[O])}return this.hull=F.subarray(0,L),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(n2(w,S,M,T,k,R)<0){const F=C,L=M,$=T;C=x,M=k,T=R,x=F,k=L,R=$}const D=function F3e(l,a,o,c,u,h){const d=o-l,f=c-a,p=u-l,g=h-a,m=d*d+f*f,v=p*p+g*g,_=.5/(d*g-f*p);return{x:l+(g*m-f*v)*_,y:a+(d*v-p*m)*_}}(w,S,M,T,k,R);this._cx=D.x,this._cy=D.y;for(let F=0;F<d;F++)this._dists[F]=lO(a[2*F],a[2*F+1],D.x,D.y);L0(this._ids,this._dists,0,d-1),this._hullStart=b;let P=3;c[b]=o[x]=C,c[C]=o[b]=x,c[x]=o[C]=b,u[b]=0,u[C]=1,u[x]=2,h.fill(-1),h[this._hashKey(w,S)]=b,h[this._hashKey(M,T)]=C,h[this._hashKey(k,R)]=x,this.trianglesLen=0,this._addTriangle(b,C,x,-1,-1,-1);for(let L,$,F=0;F<this._ids.length;F++){const Y=this._ids[F],O=a[2*Y],V=a[2*Y+1];if(F>0&&Math.abs(O-L)<=aZ&&Math.abs(V-$)<=aZ||(L=O,$=V,Y===b||Y===C||Y===x))continue;let B=0;for(let Z=0,K=this._hashKey(O,V);Z<this._hashSize&&(B=h[(K+Z)%this._hashSize],-1===B||B===c[B]);Z++);B=o[B];let H,G=B;for(;H=c[G],n2(O,V,a[2*G],a[2*G+1],a[2*H],a[2*H+1])>=0;)if(G=H,G===B){G=-1;break}if(-1===G)continue;let j=this._addTriangle(G,Y,c[G],-1,-1,u[G]);u[Y]=this._legalize(j+2),u[G]=j,P++;let W=c[G];for(;H=c[W],n2(O,V,a[2*W],a[2*W+1],a[2*H],a[2*H+1])<0;)j=this._addTriangle(W,Y,H,u[Y],-1,u[W]),u[Y]=this._legalize(j+2),c[W]=W,P--,W=H;if(G===B)for(;H=o[G],n2(O,V,a[2*H],a[2*H+1],a[2*G],a[2*G+1])<0;)j=this._addTriangle(H,Y,G,-1,u[G],u[H]),this._legalize(j+2),u[H]=j,c[G]=G,P--,G=H;this._hullStart=o[Y]=G,c[G]=o[W]=Y,c[Y]=W,h[this._hashKey(O,V)]=Y,h[this._hashKey(a[2*G],a[2*G+1])]=G}this.hull=new Uint32Array(P);for(let F=0,L=this._hullStart;F<P;F++)this.hull[F]=L,L=c[L];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(a,o){return Math.floor(function P3e(l,a){const o=l/(Math.abs(l)+Math.abs(a));return(a>0?3-o:1+o)/4}(a-this._cx,o-this._cy)*this._hashSize)%this._hashSize}_legalize(a){const{_triangles:o,_halfedges:c,coords:u}=this;let h=0,d=0;for(;;){const f=c[a],p=a-a%3;if(d=p+(a+2)%3,-1===f){if(0===h)break;a=d2[--h];continue}const g=f-f%3,v=g+(f+2)%3,_=o[d],y=o[a],b=o[p+(a+1)%3],C=o[v];if(O3e(u[2*_],u[2*_+1],u[2*y],u[2*y+1],u[2*b],u[2*b+1],u[2*C],u[2*C+1])){o[a]=C,o[f]=_;const w=c[v];if(-1===w){let M=this._hullStart;do{if(this._hullTri[M]===v){this._hullTri[M]=a;break}M=this._hullPrev[M]}while(M!==this._hullStart)}this._link(a,w),this._link(f,c[d]),this._link(d,v);const S=g+(f+1)%3;h<d2.length&&(d2[h++]=S)}else{if(0===h)break;a=d2[--h]}}return d}_link(a,o){this._halfedges[a]=o,-1!==o&&(this._halfedges[o]=a)}_addTriangle(a,o,c,u,h,d){const f=this.trianglesLen;return this._triangles[f]=a,this._triangles[f+1]=o,this._triangles[f+2]=c,this._link(f,u),this._link(f+1,h),this._link(f+2,d),this.trianglesLen+=3,f}}function lO(l,a,o,c){const u=l-o,h=a-c;return u*u+h*h}function O3e(l,a,o,c,u,h,d,f){const p=l-d,g=a-f,m=o-d,v=c-f,_=u-d,y=h-f,C=m*m+v*v,x=_*_+y*y;return p*(v*x-C*y)-g*(m*x-C*_)+(p*p+g*g)*(m*y-v*_)<0}function R3e(l,a,o,c,u,h){const d=o-l,f=c-a,p=u-l,g=h-a,m=d*d+f*f,v=p*p+g*g,_=.5/(d*g-f*p),y=(g*m-f*v)*_,b=(d*v-p*m)*_;return y*y+b*b}function L0(l,a,o,c){if(c-o<=20)for(let u=o+1;u<=c;u++){const h=l[u],d=a[h];let f=u-1;for(;f>=o&&a[l[f]]>d;)l[f+1]=l[f--];l[f+1]=h}else{let h=o+1,d=c;q1(l,o+c>>1,h),a[l[o]]>a[l[c]]&&q1(l,o,c),a[l[h]]>a[l[c]]&&q1(l,h,c),a[l[o]]>a[l[h]]&&q1(l,o,h);const f=l[h],p=a[f];for(;;){do{h++}while(a[l[h]]<p);do{d--}while(a[l[d]]>p);if(d<h)break;q1(l,h,d)}l[o+1]=l[d],l[d]=f,c-h+1>=d-o?(L0(l,a,h,c),L0(l,a,o,d-1)):(L0(l,a,o,d-1),L0(l,a,h,c))}}function q1(l,a,o){const c=l[a];l[a]=l[o],l[o]=c}function L3e(l){return l[0]}function N3e(l){return l[1]}class Ip{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(a,o){this._+=`M${this._x0=this._x1=+a},${this._y0=this._y1=+o}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(a,o){this._+=`L${this._x1=+a},${this._y1=+o}`}arc(a,o,c){const u=(a=+a)+(c=+c),h=o=+o;if(c<0)throw new Error("negative radius");null===this._x1?this._+=`M${u},${h}`:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+u+","+h),c&&(this._+=`A${c},${c},0,1,1,${a-c},${o}A${c},${c},0,1,1,${this._x1=u},${this._y1=h}`)}rect(a,o,c,u){this._+=`M${this._x0=this._x1=+a},${this._y0=this._y1=+o}h${+c}v${+u}h${-c}Z`}value(){return this._||null}}class cO{constructor(){this._=[]}moveTo(a,o){this._.push([a,o])}closePath(){this._.push(this._[0].slice())}lineTo(a,o){this._.push([a,o])}value(){return this._.length?this._:null}}class cZ{constructor(a,[o,c,u,h]=[0,0,960,500]){if(!((u=+u)>=(o=+o)&&(h=+h)>=(c=+c)))throw new Error("invalid bounds");this.delaunay=a,this._circumcenters=new Float64Array(2*a.points.length),this.vectors=new Float64Array(2*a.points.length),this.xmax=u,this.xmin=o,this.ymax=h,this.ymin=c,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:a,hull:o,triangles:c},vectors:u}=this,h=this.circumcenters=this._circumcenters.subarray(0,c.length/3*2);for(let x,w,y=0,b=0,C=c.length;y<C;y+=3,b+=2){const S=2*c[y],M=2*c[y+1],T=2*c[y+2],E=a[S],k=a[S+1],P=a[T],F=a[T+1],L=a[M]-E,$=a[M+1]-k,Y=P-E,O=F-k,V=2*(L*O-$*Y);if(Math.abs(V)<1e-9){let B=1e9;const G=2*c[0];B*=Math.sign((a[G]-E)*O-(a[G+1]-k)*Y),x=(E+P)/2-B*O,w=(k+F)/2+B*Y}else{const B=1/V,G=L*L+$*$,H=Y*Y+O*O;x=E+(O*G-$*H)*B,w=k+(L*H-Y*G)*B}h[b]=x,h[b+1]=w}let f,g,v,d=o[o.length-1],p=4*d,m=a[2*d],_=a[2*d+1];u.fill(0);for(let y=0;y<o.length;++y)d=o[y],f=p,g=m,v=_,p=4*d,m=a[2*d],_=a[2*d+1],u[f+2]=u[p]=v-_,u[f+3]=u[p+1]=m-g}render(a){const o=null==a?a=new Ip:void 0,{delaunay:{halfedges:c,inedges:u,hull:h},circumcenters:d,vectors:f}=this;if(h.length<=1)return null;for(let m=0,v=c.length;m<v;++m){const _=c[m];if(_<m)continue;const y=2*Math.floor(m/3),b=2*Math.floor(_/3);this._renderSegment(d[y],d[y+1],d[b],d[b+1],a)}let p,g=h[h.length-1];for(let m=0;m<h.length;++m){p=g,g=h[m];const v=2*Math.floor(u[g]/3),_=d[v],y=d[v+1],b=4*p,C=this._project(_,y,f[b+2],f[b+3]);C&&this._renderSegment(_,y,C[0],C[1],a)}return o&&o.value()}renderBounds(a){const o=null==a?a=new Ip:void 0;return a.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),o&&o.value()}renderCell(a,o){const c=null==o?o=new Ip:void 0,u=this._clip(a);if(null===u||!u.length)return;o.moveTo(u[0],u[1]);let h=u.length;for(;u[0]===u[h-2]&&u[1]===u[h-1]&&h>1;)h-=2;for(let d=2;d<h;d+=2)(u[d]!==u[d-2]||u[d+1]!==u[d-1])&&o.lineTo(u[d],u[d+1]);return o.closePath(),c&&c.value()}*cellPolygons(){const{delaunay:{points:a}}=this;for(let o=0,c=a.length/2;o<c;++o){const u=this.cellPolygon(o);u&&(u.index=o,yield u)}}cellPolygon(a){const o=new cO;return this.renderCell(a,o),o.value()}_renderSegment(a,o,c,u,h){let d;const f=this._regioncode(a,o),p=this._regioncode(c,u);0===f&&0===p?(h.moveTo(a,o),h.lineTo(c,u)):(d=this._clipSegment(a,o,c,u,f,p))&&(h.moveTo(d[0],d[1]),h.lineTo(d[2],d[3]))}contains(a,o,c){return(o=+o)==o&&(c=+c)==c&&this.delaunay._step(a,o,c)===a}*neighbors(a){const o=this._clip(a);if(o)for(const c of this.delaunay.neighbors(a)){const u=this._clip(c);if(u)e:for(let h=0,d=o.length;h<d;h+=2)for(let f=0,p=u.length;f<p;f+=2)if(o[h]==u[f]&&o[h+1]==u[f+1]&&o[(h+2)%d]==u[(f+p-2)%p]&&o[(h+3)%d]==u[(f+p-1)%p]){yield c;break e}}}_cell(a){const{circumcenters:o,delaunay:{inedges:c,halfedges:u,triangles:h}}=this,d=c[a];if(-1===d)return null;const f=[];let p=d;do{const g=Math.floor(p/3);if(f.push(o[2*g],o[2*g+1]),p=p%3==2?p-2:p+1,h[p]!==a)break;p=u[p]}while(p!==d&&-1!==p);return f}_clip(a){if(0===a&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const o=this._cell(a);if(null===o)return null;const{vectors:c}=this,u=4*a;return c[u]||c[u+1]?this._clipInfinite(a,o,c[u],c[u+1],c[u+2],c[u+3]):this._clipFinite(a,o)}_clipFinite(a,o){const c=o.length;let h,d,g,v,u=null,f=o[c-2],p=o[c-1],m=this._regioncode(f,p),_=0;for(let y=0;y<c;y+=2)if(h=f,d=p,f=o[y],p=o[y+1],g=m,m=this._regioncode(f,p),0===g&&0===m)v=_,_=0,u?u.push(f,p):u=[f,p];else{let b,C,x,w,S;if(0===g){if(null===(b=this._clipSegment(h,d,f,p,g,m)))continue;[C,x,w,S]=b}else{if(null===(b=this._clipSegment(f,p,h,d,m,g)))continue;[w,S,C,x]=b,v=_,_=this._edgecode(C,x),v&&_&&this._edge(a,v,_,u,u.length),u?u.push(C,x):u=[C,x]}v=_,_=this._edgecode(w,S),v&&_&&this._edge(a,v,_,u,u.length),u?u.push(w,S):u=[w,S]}if(u)v=_,_=this._edgecode(u[0],u[1]),v&&_&&this._edge(a,v,_,u,u.length);else if(this.contains(a,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}_clipSegment(a,o,c,u,h,d){for(;;){if(0===h&&0===d)return[a,o,c,u];if(h&d)return null;let f,p,g=h||d;8&g?(f=a+(c-a)*(this.ymax-o)/(u-o),p=this.ymax):4&g?(f=a+(c-a)*(this.ymin-o)/(u-o),p=this.ymin):2&g?(p=o+(u-o)*(this.xmax-a)/(c-a),f=this.xmax):(p=o+(u-o)*(this.xmin-a)/(c-a),f=this.xmin),h?h=this._regioncode(a=f,o=p):d=this._regioncode(c=f,u=p)}}_clipInfinite(a,o,c,u,h,d){let p,f=Array.from(o);if((p=this._project(f[0],f[1],c,u))&&f.unshift(p[0],p[1]),(p=this._project(f[f.length-2],f[f.length-1],h,d))&&f.push(p[0],p[1]),f=this._clipFinite(a,f))for(let v,g=0,m=f.length,_=this._edgecode(f[m-2],f[m-1]);g<m;g+=2)v=_,_=this._edgecode(f[g],f[g+1]),v&&_&&(g=this._edge(a,v,_,f,g),m=f.length);else this.contains(a,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(f=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return f}_edge(a,o,c,u,h){for(;o!==c;){let d,f;switch(o){case 5:o=4;continue;case 4:o=6,d=this.xmax,f=this.ymin;break;case 6:o=2;continue;case 2:o=10,d=this.xmax,f=this.ymax;break;case 10:o=8;continue;case 8:o=9,d=this.xmin,f=this.ymax;break;case 9:o=1;continue;case 1:o=5,d=this.xmin,f=this.ymin}(u[h]!==d||u[h+1]!==f)&&this.contains(a,d,f)&&(u.splice(h,0,d,f),h+=2)}if(u.length>4)for(let d=0;d<u.length;d+=2){const f=(d+2)%u.length,p=(d+4)%u.length;(u[d]===u[f]&&u[f]===u[p]||u[d+1]===u[f+1]&&u[f+1]===u[p+1])&&(u.splice(f,2),d-=2)}return h}_project(a,o,c,u){let d,f,p,h=1/0;if(u<0){if(o<=this.ymin)return null;(d=(this.ymin-o)/u)<h&&(p=this.ymin,f=a+(h=d)*c)}else if(u>0){if(o>=this.ymax)return null;(d=(this.ymax-o)/u)<h&&(p=this.ymax,f=a+(h=d)*c)}if(c>0){if(a>=this.xmax)return null;(d=(this.xmax-a)/c)<h&&(f=this.xmax,p=o+(h=d)*u)}else if(c<0){if(a<=this.xmin)return null;(d=(this.xmin-a)/c)<h&&(f=this.xmin,p=o+(h=d)*u)}return[f,p]}_edgecode(a,o){return(a===this.xmin?1:a===this.xmax?2:0)|(o===this.ymin?4:o===this.ymax?8:0)}_regioncode(a,o){return(a<this.xmin?1:a>this.xmax?2:0)|(o<this.ymin?4:o>this.ymax?8:0)}}const B3e=2*Math.PI,N0=Math.pow;function V3e(l){return l[0]}function z3e(l){return l[1]}function H3e(l,a,o){return[l+Math.sin(l+a)*o,a+Math.cos(l-a)*o]}class uO{static from(a,o=V3e,c=z3e,u){return new uO("length"in a?function G3e(l,a,o,c){const u=l.length,h=new Float64Array(2*u);for(let d=0;d<u;++d){const f=l[d];h[2*d]=a.call(c,f,d,l),h[2*d+1]=o.call(c,f,d,l)}return h}(a,o,c,u):Float64Array.from(function*W3e(l,a,o,c){let u=0;for(const h of l)yield a.call(c,h,u,l),yield o.call(c,h,u,l),++u}(a,o,c,u)))}constructor(a){this._delaunator=new f2(a),this.inedges=new Int32Array(a.length/2),this._hullIndex=new Int32Array(a.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const a=this._delaunator,o=this.points;if(a.hull&&a.hull.length>2&&function U3e(l){const{triangles:a,coords:o}=l;for(let c=0;c<a.length;c+=3){const u=2*a[c],h=2*a[c+1],d=2*a[c+2];if((o[d]-o[u])*(o[h+1]-o[u+1])-(o[h]-o[u])*(o[d+1]-o[u+1])>1e-10)return!1}return!0}(a)){this.collinear=Int32Array.from({length:o.length/2},(_,y)=>y).sort((_,y)=>o[2*_]-o[2*y]||o[2*_+1]-o[2*y+1]);const p=this.collinear[0],g=this.collinear[this.collinear.length-1],m=[o[2*p],o[2*p+1],o[2*g],o[2*g+1]],v=1e-8*Math.hypot(m[3]-m[1],m[2]-m[0]);for(let _=0,y=o.length/2;_<y;++_){const b=H3e(o[2*_],o[2*_+1],v);o[2*_]=b[0],o[2*_+1]=b[1]}this._delaunator=new f2(o)}else delete this.collinear;const c=this.halfedges=this._delaunator.halfedges,u=this.hull=this._delaunator.hull,h=this.triangles=this._delaunator.triangles,d=this.inedges.fill(-1),f=this._hullIndex.fill(-1);for(let p=0,g=c.length;p<g;++p){const m=h[p%3==2?p-2:p+1];(-1===c[p]||-1===d[m])&&(d[m]=p)}for(let p=0,g=u.length;p<g;++p)f[u[p]]=p;u.length<=2&&u.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=u[0],d[u[0]]=1,2===u.length&&(d[u[1]]=0,this.triangles[1]=u[1],this.triangles[2]=u[1]))}voronoi(a){return new cZ(this,a)}*neighbors(a){const{inedges:o,hull:c,_hullIndex:u,halfedges:h,triangles:d,collinear:f}=this;if(f){const v=f.indexOf(a);return v>0&&(yield f[v-1]),void(v<f.length-1&&(yield f[v+1]))}const p=o[a];if(-1===p)return;let g=p,m=-1;do{if(yield m=d[g],g=g%3==2?g-2:g+1,d[g]!==a)return;if(g=h[g],-1===g){const v=c[(u[a]+1)%c.length];return void(v!==m&&(yield v))}}while(g!==p)}find(a,o,c=0){if((a=+a)!=a||(o=+o)!=o)return-1;const u=c;let h;for(;(h=this._step(c,a,o))>=0&&h!==c&&h!==u;)c=h;return h}_step(a,o,c){const{inedges:u,hull:h,_hullIndex:d,halfedges:f,triangles:p,points:g}=this;if(-1===u[a]||!g.length)return(a+1)%(g.length>>1);let m=a,v=N0(o-g[2*a],2)+N0(c-g[2*a+1],2);const _=u[a];let y=_;do{let b=p[y];const C=N0(o-g[2*b],2)+N0(c-g[2*b+1],2);if(C<v&&(v=C,m=b),y=y%3==2?y-2:y+1,p[y]!==a)break;if(y=f[y],-1===y){if(y=h[(d[a]+1)%h.length],y!==b&&N0(o-g[2*y],2)+N0(c-g[2*y+1],2)<v)return y;break}}while(y!==_);return m}render(a){const o=null==a?a=new Ip:void 0,{points:c,halfedges:u,triangles:h}=this;for(let d=0,f=u.length;d<f;++d){const p=u[d];if(p<d)continue;const g=2*h[d],m=2*h[p];a.moveTo(c[g],c[g+1]),a.lineTo(c[m],c[m+1])}return this.renderHull(a),o&&o.value()}renderPoints(a,o){void 0===o&&(!a||"function"!=typeof a.moveTo)&&(o=a,a=null),o=null==o?2:+o;const c=null==a?a=new Ip:void 0,{points:u}=this;for(let h=0,d=u.length;h<d;h+=2){const f=u[h],p=u[h+1];a.moveTo(f+o,p),a.arc(f,p,o,0,B3e)}return c&&c.value()}renderHull(a){const o=null==a?a=new Ip:void 0,{hull:c,points:u}=this,h=2*c[0],d=c.length;a.moveTo(u[h],u[h+1]);for(let f=1;f<d;++f){const p=2*c[f];a.lineTo(u[p],u[p+1])}return a.closePath(),o&&o.value()}hullPolygon(){const a=new cO;return this.renderHull(a),a.value()}renderTriangle(a,o){const c=null==o?o=new Ip:void 0,{points:u,triangles:h}=this,d=2*h[a*=3],f=2*h[a+1],p=2*h[a+2];return o.moveTo(u[d],u[d+1]),o.lineTo(u[f],u[f+1]),o.lineTo(u[p],u[p+1]),o.closePath(),c&&c.value()}*trianglePolygons(){const{triangles:a}=this;for(let o=0,c=a.length/3;o<c;++o)yield this.trianglePolygon(o)}trianglePolygon(a){const o=new cO;return this.renderTriangle(a,o),o.value()}}const p2=l=>()=>l;function hO(l,{sourceEvent:a,subject:o,target:c,identifier:u,active:h,x:d,y:f,dx:p,dy:g,dispatch:m}){Object.defineProperties(this,{type:{value:l,enumerable:!0,configurable:!0},sourceEvent:{value:a,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:c,enumerable:!0,configurable:!0},identifier:{value:u,enumerable:!0,configurable:!0},active:{value:h,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:p,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:m}})}function j3e(l){return!l.ctrlKey&&!l.button}function $3e(){return this.parentNode}function q3e(l,a){return null==a?{x:l.x,y:l.y}:a}function Y3e(){return navigator.maxTouchPoints||"ontouchstart"in this}function uZ(){var f,p,g,m,l=j3e,a=$3e,o=q3e,c=Y3e,u={},h=m0("start","drag","end"),d=0,v=0;function _(T){T.on("mousedown.drag",y).filter(c).on("touchstart.drag",x).on("touchmove.drag",w,$ke).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(T,E){if(!m&&l.call(this,T,E)){var k=M(this,a.call(this,T,E),T,E,"mouse");!k||(Es(T.view).on("mousemove.drag",b,I1).on("mouseup.drag",C,I1),FS(T.view),JP(T),g=!1,f=T.clientX,p=T.clientY,k("start",T))}}function b(T){if(_0(T),!g){var E=T.clientX-f,k=T.clientY-p;g=E*E+k*k>v}u.mouse("drag",T)}function C(T){Es(T.view).on("mousemove.drag mouseup.drag",null),LS(T.view,g),_0(T),u.mouse("end",T)}function x(T,E){if(l.call(this,T,E)){var P,F,k=T.changedTouches,R=a.call(this,T,E),D=k.length;for(P=0;P<D;++P)(F=M(this,R,T,E,k[P].identifier,k[P]))&&(JP(T),F("start",T,k[P]))}}function w(T){var R,D,E=T.changedTouches,k=E.length;for(R=0;R<k;++R)(D=u[E[R].identifier])&&(_0(T),D("drag",T,E[R]))}function S(T){var R,D,E=T.changedTouches,k=E.length;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),R=0;R<k;++R)(D=u[E[R].identifier])&&(JP(T),D("end",T,E[R]))}function M(T,E,k,R,D,P){var $,Y,O,F=h.copy(),L=ol(P||k,E);if(null!=(O=o.call(T,new hO("beforestart",{sourceEvent:k,target:_,identifier:D,active:d,x:L[0],y:L[1],dx:0,dy:0,dispatch:F}),R)))return $=O.x-L[0]||0,Y=O.y-L[1]||0,function V(B,G,H){var W,j=L;switch(B){case"start":u[D]=V,W=d++;break;case"end":delete u[D],--d;case"drag":L=ol(H||G,E),W=d}F.call(B,T,new hO(B,{sourceEvent:G,subject:O,target:_,identifier:D,active:W,x:L[0]+$,y:L[1]+Y,dx:L[0]-j[0],dy:L[1]-j[1],dispatch:F}),R)}}return _.filter=function(T){return arguments.length?(l="function"==typeof T?T:p2(!!T),_):l},_.container=function(T){return arguments.length?(a="function"==typeof T?T:p2(T),_):a},_.subject=function(T){return arguments.length?(o="function"==typeof T?T:p2(T),_):o},_.touchable=function(T){return arguments.length?(c="function"==typeof T?T:p2(!!T),_):c},_.on=function(){var T=h.on.apply(h,arguments);return T===h?_:T},_.clickDistance=function(T){return arguments.length?(v=(T=+T)*T,_):Math.sqrt(v)},_}hO.prototype.on=function(){var l=this._.on.apply(this._,arguments);return l===this._?this:l};var hZ={},dO={};function dZ(l){return new Function("d","return {"+l.map(function(a,o){return JSON.stringify(a)+": d["+o+'] || ""'}).join(",")+"}")}function fZ(l){var a=Object.create(null),o=[];return l.forEach(function(c){for(var u in c)u in a||o.push(a[u]=u)}),o}function Fa(l,a){var o=l+"",c=o.length;return c<a?new Array(a-c+1).join(0)+o:o}function g2(l){var a=new RegExp('["'+l+"\n\r]"),o=l.charCodeAt(0);function u(v,_){var w,y=[],b=v.length,C=0,x=0,S=b<=0,M=!1;function T(){if(S)return dO;if(M)return M=!1,hZ;var k,D,R=C;if(34===v.charCodeAt(R)){for(;C++<b&&34!==v.charCodeAt(C)||34===v.charCodeAt(++C););return(k=C)>=b?S=!0:10===(D=v.charCodeAt(C++))?M=!0:13===D&&(M=!0,10===v.charCodeAt(C)&&++C),v.slice(R+1,k-1).replace(/""/g,'"')}for(;C<b;){if(10===(D=v.charCodeAt(k=C++)))M=!0;else if(13===D)M=!0,10===v.charCodeAt(C)&&++C;else if(D!==o)continue;return v.slice(R,k)}return S=!0,v.slice(R,b)}for(10===v.charCodeAt(b-1)&&--b,13===v.charCodeAt(b-1)&&--b;(w=T())!==dO;){for(var E=[];w!==hZ&&w!==dO;)E.push(w),w=T();_&&null==(E=_(E,x++))||y.push(E)}return y}function h(v,_){return v.map(function(y){return _.map(function(b){return m(y[b])}).join(l)})}function g(v){return v.map(m).join(l)}function m(v){return null==v?"":v instanceof Date?function K3e(l){var a=l.getUTCHours(),o=l.getUTCMinutes(),c=l.getUTCSeconds(),u=l.getUTCMilliseconds();return isNaN(l)?"Invalid Date":function X3e(l){return l<0?"-"+Fa(-l,6):l>9999?"+"+Fa(l,6):Fa(l,4)}(l.getUTCFullYear())+"-"+Fa(l.getUTCMonth()+1,2)+"-"+Fa(l.getUTCDate(),2)+(u?"T"+Fa(a,2)+":"+Fa(o,2)+":"+Fa(c,2)+"."+Fa(u,3)+"Z":c?"T"+Fa(a,2)+":"+Fa(o,2)+":"+Fa(c,2)+"Z":o||a?"T"+Fa(a,2)+":"+Fa(o,2)+"Z":"")}(v):a.test(v+="")?'"'+v.replace(/"/g,'""')+'"':v}return{parse:function c(v,_){var y,b,C=u(v,function(x,w){if(y)return y(x,w-1);b=x,y=_?function Z3e(l,a){var o=dZ(l);return function(c,u){return a(o(c),u,l)}}(x,_):dZ(x)});return C.columns=b||[],C},parseRows:u,format:function d(v,_){return null==_&&(_=fZ(v)),[_.map(m).join(l)].concat(h(v,_)).join("\n")},formatBody:function f(v,_){return null==_&&(_=fZ(v)),h(v,_).join("\n")},formatRows:function p(v){return v.map(g).join("\n")},formatRow:g,formatValue:m}}var Pp=g2(","),pZ=Pp.parse,Q3e=Pp.parseRows,J3e=Pp.format,ePe=Pp.formatBody,tPe=Pp.formatRows,nPe=Pp.formatRow,iPe=Pp.formatValue,Op=g2("\t"),gZ=Op.parse,rPe=Op.parseRows,sPe=Op.format,oPe=Op.formatBody,aPe=Op.formatRows,lPe=Op.formatRow,cPe=Op.formatValue;function uPe(l){for(var a in l){var c,u,o=l[a].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(c=+o)){if(!(u=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;hPe&&!!u[4]&&!u[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=c;else o=null;l[a]=o}return l}const hPe=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),dPe=l=>+l;function fPe(l){return l*l}function pPe(l){return l*(2-l)}function mZ(l){return((l*=2)<=1?l*l:--l*(2-l)+1)/2}var gPe=function l(a){function o(c){return Math.pow(c,a)}return a=+a,o.exponent=l,o}(3),mPe=function l(a){function o(c){return 1-Math.pow(1-c,a)}return a=+a,o.exponent=l,o}(3),vZ=function l(a){function o(c){return((c*=2)<=1?Math.pow(c,a):2-Math.pow(2-c,a))/2}return a=+a,o.exponent=l,o}(3),_Z=Math.PI,yZ=_Z/2;function vPe(l){return 1==+l?1:1-Math.cos(l*yZ)}function _Pe(l){return Math.sin(l*yZ)}function bZ(l){return(1-Math.cos(_Z*l))/2}function Gd(l){return 1.0009775171065494*(Math.pow(2,-10*l)-.0009765625)}function yPe(l){return Gd(1-+l)}function bPe(l){return 1-Gd(l)}function xZ(l){return((l*=2)<=1?Gd(1-l):2-Gd(l-1))/2}function xPe(l){return 1-Math.sqrt(1-l*l)}function CPe(l){return Math.sqrt(1- --l*l)}function CZ(l){return((l*=2)<=1?1-Math.sqrt(1-l*l):Math.sqrt(1-(l-=2)*l)+1)/2}var m2=7.5625;function IPe(l){return 1-Z1(1-l)}function Z1(l){return(l=+l)<.36363636363636365?m2*l*l:l<.7272727272727273?m2*(l-=.5454545454545454)*l+.75:l<.9090909090909091?m2*(l-=.8181818181818182)*l+.9375:m2*(l-=.9545454545454546)*l+.984375}function PPe(l){return((l*=2)<=1?1-Z1(1-l):Z1(l-1)+1)/2}var vO=1.70158,OPe=function l(a){function o(c){return(c=+c)*c*(a*(c-1)+c)}return a=+a,o.overshoot=l,o}(vO),RPe=function l(a){function o(c){return--c*c*((c+1)*a+c)+1}return a=+a,o.overshoot=l,o}(vO),wZ=function l(a){function o(c){return((c*=2)<1?c*c*((a+1)*c-a):(c-=2)*c*((a+1)*c+a)+2)/2}return a=+a,o.overshoot=l,o}(vO),B0=2*Math.PI,FPe=function l(a,o){var c=Math.asin(1/(a=Math.max(1,a)))*(o/=B0);function u(h){return a*Gd(- --h)*Math.sin((c-h)/o)}return u.amplitude=function(h){return l(h,o*B0)},u.period=function(h){return l(a,h)},u}(1,.3),SZ=function l(a,o){var c=Math.asin(1/(a=Math.max(1,a)))*(o/=B0);function u(h){return 1-a*Gd(h=+h)*Math.sin((h+c)/o)}return u.amplitude=function(h){return l(h,o*B0)},u.period=function(h){return l(a,h)},u}(1,.3),LPe=function l(a,o){var c=Math.asin(1/(a=Math.max(1,a)))*(o/=B0);function u(h){return((h=2*h-1)<0?a*Gd(-h)*Math.sin((c-h)/o):2-a*Gd(h)*Math.sin((c+h)/o))/2}return u.amplitude=function(h){return l(h,o*B0)},u.period=function(h){return l(a,h)},u}(1,.3);function NPe(l){if(!l.ok)throw new Error(l.status+" "+l.statusText);return l.blob()}function BPe(l,a){return fetch(l,a).then(NPe)}function VPe(l){if(!l.ok)throw new Error(l.status+" "+l.statusText);return l.arrayBuffer()}function zPe(l,a){return fetch(l,a).then(VPe)}function UPe(l){if(!l.ok)throw new Error(l.status+" "+l.statusText);return l.text()}function v2(l,a){return fetch(l,a).then(UPe)}function TZ(l){return function(a,o,c){return 2===arguments.length&&"function"==typeof o&&(c=o,o=void 0),v2(a,o).then(function(u){return l(u,c)})}}function HPe(l,a,o,c){3===arguments.length&&"function"==typeof o&&(c=o,o=void 0);var u=g2(l);return v2(a,o).then(function(h){return u.parse(h,c)})}var GPe=TZ(pZ),WPe=TZ(gZ);function jPe(l,a){return new Promise(function(o,c){var u=new Image;for(var h in a)u[h]=a[h];u.onerror=c,u.onload=function(){o(u)},u.src=l})}function $Pe(l){if(!l.ok)throw new Error(l.status+" "+l.statusText);if(204!==l.status&&205!==l.status)return l.json()}function qPe(l,a){return fetch(l,a).then($Pe)}function bO(l){return(a,o)=>v2(a,o).then(c=>(new DOMParser).parseFromString(c,l))}const YPe=bO("application/xml");var ZPe=bO("text/html"),XPe=bO("image/svg+xml");function KPe(l,a){var o,c=1;function u(){var h,f,d=o.length,p=0,g=0;for(h=0;h<d;++h)p+=(f=o[h]).x,g+=f.y;for(p=(p/d-l)*c,g=(g/d-a)*c,h=0;h<d;++h)(f=o[h]).x-=p,f.y-=g}return null==l&&(l=0),null==a&&(a=0),u.initialize=function(h){o=h},u.x=function(h){return arguments.length?(l=+h,u):l},u.y=function(h){return arguments.length?(a=+h,u):a},u.strength=function(h){return arguments.length?(c=+h,u):c},u}function MZ(l,a,o,c){if(isNaN(a)||isNaN(o))return l;var u,v,_,y,b,C,x,w,S,h=l._root,d={data:c},f=l._x0,p=l._y0,g=l._x1,m=l._y1;if(!h)return l._root=d,l;for(;h.length;)if((C=a>=(v=(f+g)/2))?f=v:g=v,(x=o>=(_=(p+m)/2))?p=_:m=_,u=h,!(h=h[w=x<<1|C]))return u[w]=d,l;if(y=+l._x.call(null,h.data),b=+l._y.call(null,h.data),a===y&&o===b)return d.next=h,u?u[w]=d:l._root=d,l;do{u=u?u[w]=new Array(4):l._root=new Array(4),(C=a>=(v=(f+g)/2))?f=v:g=v,(x=o>=(_=(p+m)/2))?p=_:m=_}while((w=x<<1|C)==(S=(b>=_)<<1|y>=v));return u[S]=h,u[w]=d,l}function ca(l,a,o,c,u){this.node=l,this.x0=a,this.y0=o,this.x1=c,this.y1=u}function u4e(l){return l[0]}function d4e(l){return l[1]}function _2(l,a,o){var c=new xO(null==a?u4e:a,null==o?d4e:o,NaN,NaN,NaN,NaN);return null==l?c:c.addAll(l)}function xO(l,a,o,c,u,h){this._x=l,this._y=a,this._x0=o,this._y0=c,this._x1=u,this._y1=h,this._root=void 0}function DZ(l){for(var a={data:l.data},o=a;l=l.next;)o=o.next={data:l.data};return a}var ua=_2.prototype=xO.prototype;function qs(l){return function(){return l}}function Wd(l){return 1e-6*(l()-.5)}function p4e(l){return l.x+l.vx}function g4e(l){return l.y+l.vy}function m4e(l){var a,o,c,u=1,h=1;function d(){for(var g,v,_,y,b,C,x,m=a.length,w=0;w<h;++w)for(v=_2(a,p4e,g4e).visitAfter(f),g=0;g<m;++g)x=(C=o[(_=a[g]).index])*C,y=_.x+_.vx,b=_.y+_.vy,v.visit(S);function S(M,T,E,k,R){var D=M.data,P=M.r,F=C+P;if(!D)return T>y+F||k<y-F||E>b+F||R<b-F;if(D.index>_.index){var L=y-D.x-D.vx,$=b-D.y-D.vy,Y=L*L+$*$;Y<F*F&&(0===L&&(Y+=(L=Wd(c))*L),0===$&&(Y+=($=Wd(c))*$),Y=(F-(Y=Math.sqrt(Y)))/Y*u,_.vx+=(L*=Y)*(F=(P*=P)/(x+P)),_.vy+=($*=Y)*F,D.vx-=L*(F=1-F),D.vy-=$*F)}}}function f(g){if(g.data)return g.r=o[g.data.index];for(var m=g.r=0;m<4;++m)g[m]&&g[m].r>g.r&&(g.r=g[m].r)}function p(){if(a){var g,v,m=a.length;for(o=new Array(m),g=0;g<m;++g)o[(v=a[g]).index]=+l(v,g,a)}}return"function"!=typeof l&&(l=qs(null==l?1:+l)),d.initialize=function(g,m){a=g,c=m,p()},d.iterations=function(g){return arguments.length?(h=+g,d):h},d.strength=function(g){return arguments.length?(u=+g,d):u},d.radius=function(g){return arguments.length?(l="function"==typeof g?g:qs(+g),p(),d):l},d}function v4e(l){return l.index}function EZ(l,a){var o=l.get(a);if(!o)throw new Error("node not found: "+a);return o}function _4e(l){var c,h,d,f,p,g,a=v4e,o=function v(x){return 1/Math.min(f[x.source.index],f[x.target.index])},u=qs(30),m=1;function _(x){for(var w=0,S=l.length;w<m;++w)for(var T,E,k,R,D,P,F,M=0;M<S;++M)R=(k=(T=l[M]).target).x+k.vx-(E=T.source).x-E.vx||Wd(g),D=k.y+k.vy-E.y-E.vy||Wd(g),D*=P=((P=Math.sqrt(R*R+D*D))-h[M])/P*x*c[M],k.vx-=(R*=P)*(F=p[M]),k.vy-=D*F,E.vx+=R*(F=1-F),E.vy+=D*F}function y(){if(d){var x,T,w=d.length,S=l.length,M=new Map(d.map((E,k)=>[a(E,k,d),E]));for(x=0,f=new Array(w);x<S;++x)(T=l[x]).index=x,"object"!=typeof T.source&&(T.source=EZ(M,T.source)),"object"!=typeof T.target&&(T.target=EZ(M,T.target)),f[T.source.index]=(f[T.source.index]||0)+1,f[T.target.index]=(f[T.target.index]||0)+1;for(x=0,p=new Array(S);x<S;++x)p[x]=f[(T=l[x]).source.index]/(f[T.source.index]+f[T.target.index]);c=new Array(S),b(),h=new Array(S),C()}}function b(){if(d)for(var x=0,w=l.length;x<w;++x)c[x]=+o(l[x],x,l)}function C(){if(d)for(var x=0,w=l.length;x<w;++x)h[x]=+u(l[x],x,l)}return null==l&&(l=[]),_.initialize=function(x,w){d=x,g=w,y()},_.links=function(x){return arguments.length?(l=x,y(),_):l},_.id=function(x){return arguments.length?(a=x,_):a},_.iterations=function(x){return arguments.length?(m=+x,_):m},_.strength=function(x){return arguments.length?(o="function"==typeof x?x:qs(+x),b(),_):o},_.distance=function(x){return arguments.length?(u="function"==typeof x?x:qs(+x),C(),_):u},_}ua.copy=function(){var o,c,l=new xO(this._x,this._y,this._x0,this._y0,this._x1,this._y1),a=this._root;if(!a)return l;if(!a.length)return l._root=DZ(a),l;for(o=[{source:a,target:l._root=new Array(4)}];a=o.pop();)for(var u=0;u<4;++u)(c=a.source[u])&&(c.length?o.push({source:c,target:a.target[u]=new Array(4)}):a.target[u]=DZ(c));return l},ua.add=function QPe(l){const a=+this._x.call(null,l),o=+this._y.call(null,l);return MZ(this.cover(a,o),a,o,l)},ua.addAll=function JPe(l){var a,o,u,h,c=l.length,d=new Array(c),f=new Array(c),p=1/0,g=1/0,m=-1/0,v=-1/0;for(o=0;o<c;++o)isNaN(u=+this._x.call(null,a=l[o]))||isNaN(h=+this._y.call(null,a))||(d[o]=u,f[o]=h,u<p&&(p=u),u>m&&(m=u),h<g&&(g=h),h>v&&(v=h));if(p>m||g>v)return this;for(this.cover(p,g).cover(m,v),o=0;o<c;++o)MZ(this,d[o],f[o],l[o]);return this},ua.cover=function e4e(l,a){if(isNaN(l=+l)||isNaN(a=+a))return this;var o=this._x0,c=this._y0,u=this._x1,h=this._y1;if(isNaN(o))u=(o=Math.floor(l))+1,h=(c=Math.floor(a))+1;else{for(var p,g,d=u-o||1,f=this._root;o>l||l>=u||c>a||a>=h;)switch(g=(a<c)<<1|l<o,p=new Array(4),p[g]=f,f=p,d*=2,g){case 0:u=o+d,h=c+d;break;case 1:o=u-d,h=c+d;break;case 2:u=o+d,c=h-d;break;case 3:o=u-d,c=h-d}this._root&&this._root.length&&(this._root=f)}return this._x0=o,this._y0=c,this._x1=u,this._y1=h,this},ua.data=function t4e(){var l=[];return this.visit(function(a){if(!a.length)do{l.push(a.data)}while(a=a.next)}),l},ua.extent=function n4e(l){return arguments.length?this.cover(+l[0][0],+l[0][1]).cover(+l[1][0],+l[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ua.find=function i4e(l,a,o){var c,d,f,p,g,b,C,u=this._x0,h=this._y0,m=this._x1,v=this._y1,_=[],y=this._root;for(y&&_.push(new ca(y,u,h,m,v)),null==o?o=1/0:(u=l-o,h=a-o,m=l+o,v=a+o,o*=o);b=_.pop();)if(!(!(y=b.node)||(d=b.x0)>m||(f=b.y0)>v||(p=b.x1)<u||(g=b.y1)<h))if(y.length){var x=(d+p)/2,w=(f+g)/2;_.push(new ca(y[3],x,w,p,g),new ca(y[2],d,w,x,g),new ca(y[1],x,f,p,w),new ca(y[0],d,f,x,w)),(C=(a>=w)<<1|l>=x)&&(b=_[_.length-1],_[_.length-1]=_[_.length-1-C],_[_.length-1-C]=b)}else{var S=l-+this._x.call(null,y.data),M=a-+this._y.call(null,y.data),T=S*S+M*M;if(T<o){var E=Math.sqrt(o=T);u=l-E,h=a-E,m=l+E,v=a+E,c=y.data}}return c},ua.remove=function r4e(l){if(isNaN(m=+this._x.call(null,l))||isNaN(v=+this._y.call(null,l)))return this;var a,c,u,h,m,v,_,y,b,C,x,w,o=this._root,d=this._x0,f=this._y0,p=this._x1,g=this._y1;if(!o)return this;if(o.length)for(;;){if((b=m>=(_=(d+p)/2))?d=_:p=_,(C=v>=(y=(f+g)/2))?f=y:g=y,a=o,!(o=o[x=C<<1|b]))return this;if(!o.length)break;(a[x+1&3]||a[x+2&3]||a[x+3&3])&&(c=a,w=x)}for(;o.data!==l;)if(u=o,!(o=o.next))return this;return(h=o.next)&&delete o.next,u?(h?u.next=h:delete u.next,this):a?(h?a[x]=h:delete a[x],(o=a[0]||a[1]||a[2]||a[3])&&o===(a[3]||a[2]||a[1]||a[0])&&!o.length&&(c?c[w]=o:this._root=o),this):(this._root=h,this)},ua.removeAll=function s4e(l){for(var a=0,o=l.length;a<o;++a)this.remove(l[a]);return this},ua.root=function o4e(){return this._root},ua.size=function a4e(){var l=0;return this.visit(function(a){if(!a.length)do{++l}while(a=a.next)}),l},ua.visit=function l4e(l){var o,u,h,d,f,p,a=[],c=this._root;for(c&&a.push(new ca(c,this._x0,this._y0,this._x1,this._y1));o=a.pop();)if(!l(c=o.node,h=o.x0,d=o.y0,f=o.x1,p=o.y1)&&c.length){var g=(h+f)/2,m=(d+p)/2;(u=c[3])&&a.push(new ca(u,g,m,f,p)),(u=c[2])&&a.push(new ca(u,h,m,g,p)),(u=c[1])&&a.push(new ca(u,g,d,f,m)),(u=c[0])&&a.push(new ca(u,h,d,g,m))}return this},ua.visitAfter=function c4e(l){var c,a=[],o=[];for(this._root&&a.push(new ca(this._root,this._x0,this._y0,this._x1,this._y1));c=a.pop();){var u=c.node;if(u.length){var h,d=c.x0,f=c.y0,p=c.x1,g=c.y1,m=(d+p)/2,v=(f+g)/2;(h=u[0])&&a.push(new ca(h,d,f,m,v)),(h=u[1])&&a.push(new ca(h,m,f,p,v)),(h=u[2])&&a.push(new ca(h,d,v,m,g)),(h=u[3])&&a.push(new ca(h,m,v,p,g))}o.push(c)}for(;c=o.pop();)l(c.node,c.x0,c.y0,c.x1,c.y1);return this},ua.x=function h4e(l){return arguments.length?(this._x=l,this):this._x},ua.y=function f4e(l){return arguments.length?(this._y=l,this):this._y};const kZ=4294967296;function C4e(l){return l.x}function w4e(l){return l.y}var T4e=Math.PI*(3-Math.sqrt(5));function M4e(l){var a,o=1,c=.001,u=1-Math.pow(c,1/300),h=0,d=.6,f=new Map,p=WS(v),g=m0("tick","end"),m=function x4e(){let l=1;return()=>(l=(1664525*l+1013904223)%kZ)/kZ}();function v(){_(),g.call("tick",a),o<c&&(p.stop(),g.call("end",a))}function _(C){var x,S,w=l.length;void 0===C&&(C=1);for(var M=0;M<C;++M)for(o+=(h-o)*u,f.forEach(function(T){T(o)}),x=0;x<w;++x)null==(S=l[x]).fx?S.x+=S.vx*=d:(S.x=S.fx,S.vx=0),null==S.fy?S.y+=S.vy*=d:(S.y=S.fy,S.vy=0);return a}function y(){for(var w,C=0,x=l.length;C<x;++C){if((w=l[C]).index=C,null!=w.fx&&(w.x=w.fx),null!=w.fy&&(w.y=w.fy),isNaN(w.x)||isNaN(w.y)){var S=10*Math.sqrt(.5+C),M=C*T4e;w.x=S*Math.cos(M),w.y=S*Math.sin(M)}(isNaN(w.vx)||isNaN(w.vy))&&(w.vx=w.vy=0)}}function b(C){return C.initialize&&C.initialize(l,m),C}return null==l&&(l=[]),y(),a={tick:_,restart:function(){return p.restart(v),a},stop:function(){return p.stop(),a},nodes:function(C){return arguments.length?(l=C,y(),f.forEach(b),a):l},alpha:function(C){return arguments.length?(o=+C,a):o},alphaMin:function(C){return arguments.length?(c=+C,a):c},alphaDecay:function(C){return arguments.length?(u=+C,a):+u},alphaTarget:function(C){return arguments.length?(h=+C,a):h},velocityDecay:function(C){return arguments.length?(d=1-C,a):1-d},randomSource:function(C){return arguments.length?(m=C,f.forEach(b),a):m},force:function(C,x){return arguments.length>1?(null==x?f.delete(C):f.set(C,b(x)),a):f.get(C)},find:function(C,x,w){var T,E,k,R,D,S=0,M=l.length;for(null==w?w=1/0:w*=w,S=0;S<M;++S)(k=(T=C-(R=l[S]).x)*T+(E=x-R.y)*E)<w&&(D=R,w=k);return D},on:function(C,x){return arguments.length>1?(g.on(C,x),a):g.on(C)}}}function D4e(){var l,a,o,c,h,u=qs(-30),d=1,f=1/0,p=.81;function g(y){var b,C=l.length,x=_2(l,C4e,w4e).visitAfter(v);for(c=y,b=0;b<C;++b)a=l[b],x.visit(_)}function m(){if(l){var y,C,b=l.length;for(h=new Array(b),y=0;y<b;++y)h[(C=l[y]).index]=+u(C,y,l)}}function v(y){var C,x,S,M,T,b=0,w=0;if(y.length){for(S=M=T=0;T<4;++T)(C=y[T])&&(x=Math.abs(C.value))&&(b+=C.value,w+=x,S+=x*C.x,M+=x*C.y);y.x=S/w,y.y=M/w}else{(C=y).x=C.data.x,C.y=C.data.y;do{b+=h[C.data.index]}while(C=C.next)}y.value=b}function _(y,b,C,x){if(!y.value)return!0;var w=y.x-a.x,S=y.y-a.y,M=x-b,T=w*w+S*S;if(M*M/p<T)return T<f&&(0===w&&(T+=(w=Wd(o))*w),0===S&&(T+=(S=Wd(o))*S),T<d&&(T=Math.sqrt(d*T)),a.vx+=w*y.value*c/T,a.vy+=S*y.value*c/T),!0;if(!(y.length||T>=f)){(y.data!==a||y.next)&&(0===w&&(T+=(w=Wd(o))*w),0===S&&(T+=(S=Wd(o))*S),T<d&&(T=Math.sqrt(d*T)));do{y.data!==a&&(a.vx+=w*(M=h[y.data.index]*c/T),a.vy+=S*M)}while(y=y.next)}}return g.initialize=function(y,b){l=y,o=b,m()},g.strength=function(y){return arguments.length?(u="function"==typeof y?y:qs(+y),m(),g):u},g.distanceMin=function(y){return arguments.length?(d=y*y,g):Math.sqrt(d)},g.distanceMax=function(y){return arguments.length?(f=y*y,g):Math.sqrt(f)},g.theta=function(y){return arguments.length?(p=y*y,g):Math.sqrt(p)},g}function E4e(l,a,o){var c,h,d,u=qs(.1);function f(g){for(var m=0,v=c.length;m<v;++m){var _=c[m],y=_.x-a||1e-6,b=_.y-o||1e-6,C=Math.sqrt(y*y+b*b),x=(d[m]-C)*h[m]*g/C;_.vx+=y*x,_.vy+=b*x}}function p(){if(c){var g,m=c.length;for(h=new Array(m),d=new Array(m),g=0;g<m;++g)d[g]=+l(c[g],g,c),h[g]=isNaN(d[g])?0:+u(c[g],g,c)}}return"function"!=typeof l&&(l=qs(+l)),null==a&&(a=0),null==o&&(o=0),f.initialize=function(g){c=g,p()},f.strength=function(g){return arguments.length?(u="function"==typeof g?g:qs(+g),p(),f):u},f.radius=function(g){return arguments.length?(l="function"==typeof g?g:qs(+g),p(),f):l},f.x=function(g){return arguments.length?(a=+g,f):a},f.y=function(g){return arguments.length?(o=+g,f):o},f}function k4e(l){var o,c,u,a=qs(.1);function h(f){for(var m,p=0,g=o.length;p<g;++p)(m=o[p]).vx+=(u[p]-m.x)*c[p]*f}function d(){if(o){var f,p=o.length;for(c=new Array(p),u=new Array(p),f=0;f<p;++f)c[f]=isNaN(u[f]=+l(o[f],f,o))?0:+a(o[f],f,o)}}return"function"!=typeof l&&(l=qs(null==l?0:+l)),h.initialize=function(f){o=f,d()},h.strength=function(f){return arguments.length?(a="function"==typeof f?f:qs(+f),d(),h):a},h.x=function(f){return arguments.length?(l="function"==typeof f?f:qs(+f),d(),h):l},h}function A4e(l){var o,c,u,a=qs(.1);function h(f){for(var m,p=0,g=o.length;p<g;++p)(m=o[p]).vy+=(u[p]-m.y)*c[p]*f}function d(){if(o){var f,p=o.length;for(c=new Array(p),u=new Array(p),f=0;f<p;++f)c[f]=isNaN(u[f]=+l(o[f],f,o))?0:+a(o[f],f,o)}}return"function"!=typeof l&&(l=qs(null==l?0:+l)),h.initialize=function(f){o=f,d()},h.strength=function(f){return arguments.length?(a="function"==typeof f?f:qs(+f),d(),h):a},h.y=function(f){return arguments.length?(l="function"==typeof f?f:qs(+f),d(),h):l},h}function y2(l,a){if((o=(l=a?l.toExponential(a-1):l.toExponential()).indexOf("e"))<0)return null;var o,c=l.slice(0,o);return[c.length>1?c[0]+c.slice(2):c,+l.slice(o+1)]}function V0(l){return(l=y2(Math.abs(l)))?l[1]:NaN}var AZ,R4e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function z0(l){if(!(a=R4e.exec(l)))throw new Error("invalid format: "+l);var a;return new b2({fill:a[1],align:a[2],sign:a[3],symbol:a[4],zero:a[5],width:a[6],comma:a[7],precision:a[8]&&a[8].slice(1),trim:a[9],type:a[10]})}function b2(l){this.fill=void 0===l.fill?" ":l.fill+"",this.align=void 0===l.align?">":l.align+"",this.sign=void 0===l.sign?"-":l.sign+"",this.symbol=void 0===l.symbol?"":l.symbol+"",this.zero=!!l.zero,this.width=void 0===l.width?void 0:+l.width,this.comma=!!l.comma,this.precision=void 0===l.precision?void 0:+l.precision,this.trim=!!l.trim,this.type=void 0===l.type?"":l.type+""}function IZ(l,a){var o=y2(l,a);if(!o)return l+"";var c=o[0],u=o[1];return u<0?"0."+new Array(-u).join("0")+c:c.length>u+1?c.slice(0,u+1)+"."+c.slice(u+1):c+new Array(u-c.length+2).join("0")}z0.prototype=b2.prototype,b2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const PZ={"%":(l,a)=>(100*l).toFixed(a),b:l=>Math.round(l).toString(2),c:l=>l+"",d:function I4e(l){return Math.abs(l=Math.round(l))>=1e21?l.toLocaleString("en").replace(/,/g,""):l.toString(10)},e:(l,a)=>l.toExponential(a),f:(l,a)=>l.toFixed(a),g:(l,a)=>l.toPrecision(a),o:l=>Math.round(l).toString(8),p:(l,a)=>IZ(100*l,a),r:IZ,s:function L4e(l,a){var o=y2(l,a);if(!o)return l+"";var c=o[0],u=o[1],h=u-(AZ=3*Math.max(-8,Math.min(8,Math.floor(u/3))))+1,d=c.length;return h===d?c:h>d?c+new Array(h-d+1).join("0"):h>0?c.slice(0,h)+"."+c.slice(h):"0."+new Array(1-h).join("0")+y2(l,Math.max(0,a+h-1))[0]},X:l=>Math.round(l).toString(16).toUpperCase(),x:l=>Math.round(l).toString(16)};function OZ(l){return l}var x2,C2,CO,RZ=Array.prototype.map,FZ=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function LZ(l){var a=void 0===l.grouping||void 0===l.thousands?OZ:function P4e(l,a){return function(o,c){for(var u=o.length,h=[],d=0,f=l[0],p=0;u>0&&f>0&&(p+f+1>c&&(f=Math.max(1,c-p)),h.push(o.substring(u-=f,u+f)),!((p+=f+1)>c));)f=l[d=(d+1)%l.length];return h.reverse().join(a)}}(RZ.call(l.grouping,Number),l.thousands+""),o=void 0===l.currency?"":l.currency[0]+"",c=void 0===l.currency?"":l.currency[1]+"",u=void 0===l.decimal?".":l.decimal+"",h=void 0===l.numerals?OZ:function O4e(l){return function(a){return a.replace(/[0-9]/g,function(o){return l[+o]})}}(RZ.call(l.numerals,String)),d=void 0===l.percent?"%":l.percent+"",f=void 0===l.minus?"\u2212":l.minus+"",p=void 0===l.nan?"NaN":l.nan+"";function g(v){var _=(v=z0(v)).fill,y=v.align,b=v.sign,C=v.symbol,x=v.zero,w=v.width,S=v.comma,M=v.precision,T=v.trim,E=v.type;"n"===E?(S=!0,E="g"):PZ[E]||(void 0===M&&(M=12),T=!0,E="g"),(x||"0"===_&&"="===y)&&(x=!0,_="0",y="=");var k="$"===C?o:"#"===C&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",R="$"===C?c:/[%p]/.test(E)?d:"",D=PZ[E],P=/[defgprs%]/.test(E);function F(L){var O,V,B,$=k,Y=R;if("c"===E)Y=D(L)+Y,L="";else{var G=(L=+L)<0||1/L<0;if(L=isNaN(L)?p:D(Math.abs(L),M),T&&(L=function F4e(l){e:for(var u,a=l.length,o=1,c=-1;o<a;++o)switch(l[o]){case".":c=u=o;break;case"0":0===c&&(c=o),u=o;break;default:if(!+l[o])break e;c>0&&(c=0)}return c>0?l.slice(0,c)+l.slice(u+1):l}(L)),G&&0==+L&&"+"!==b&&(G=!1),$=(G?"("===b?b:f:"-"===b||"("===b?"":b)+$,Y=("s"===E?FZ[8+AZ/3]:"")+Y+(G&&"("===b?")":""),P)for(O=-1,V=L.length;++O<V;)if(48>(B=L.charCodeAt(O))||B>57){Y=(46===B?u+L.slice(O+1):L.slice(O))+Y,L=L.slice(0,O);break}}S&&!x&&(L=a(L,1/0));var H=$.length+L.length+Y.length,j=H<w?new Array(w-H+1).join(_):"";switch(S&&x&&(L=a(j+L,j.length?w-Y.length:1/0),j=""),y){case"<":L=$+L+Y+j;break;case"=":L=$+j+L+Y;break;case"^":L=j.slice(0,H=j.length>>1)+$+L+Y+j.slice(H);break;default:L=j+$+L+Y}return h(L)}return M=void 0===M?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M)),F.toString=function(){return v+""},F}return{format:g,formatPrefix:function m(v,_){var y=g(((v=z0(v)).type="f",v)),b=3*Math.max(-8,Math.min(8,Math.floor(V0(_)/3))),C=Math.pow(10,-b),x=FZ[8+b/3];return function(w){return y(C*w)+x}}}}function NZ(l){return x2=LZ(l),C2=x2.format,CO=x2.formatPrefix,x2}function BZ(l){return Math.max(0,-V0(Math.abs(l)))}function VZ(l,a){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(V0(a)/3)))-V0(Math.abs(l)))}function zZ(l,a){return l=Math.abs(l),a=Math.abs(a)-l,Math.max(0,V0(a)-V0(l))+1}NZ({thousands:",",grouping:[3],currency:["$",""]});var Ln=1e-6,X1=1e-12,wi=Math.PI,hs=wi/2,w2=wi/4,ha=2*wi,Sr=180/wi,Nn=wi/180,Ni=Math.abs,U0=Math.atan,da=Math.atan2,Dn=Math.cos,S2=Math.ceil,UZ=Math.exp,wO=(Math,Math.hypot),T2=Math.log,SO=Math.pow,mn=Math.sin,ql=Math.sign||function(l){return l>0?1:l<0?-1:0},oo=Math.sqrt,TO=Math.tan;function HZ(l){return l>1?0:l<-1?wi:Math.acos(l)}function fa(l){return l>1?hs:l<-1?-hs:Math.asin(l)}function GZ(l){return(l=mn(l/2))*l}function Yr(){}function M2(l,a){l&&jZ.hasOwnProperty(l.type)&&jZ[l.type](l,a)}var WZ={Feature:function(l,a){M2(l.geometry,a)},FeatureCollection:function(l,a){for(var o=l.features,c=-1,u=o.length;++c<u;)M2(o[c].geometry,a)}},jZ={Sphere:function(l,a){a.sphere()},Point:function(l,a){a.point((l=l.coordinates)[0],l[1],l[2])},MultiPoint:function(l,a){for(var o=l.coordinates,c=-1,u=o.length;++c<u;)a.point((l=o[c])[0],l[1],l[2])},LineString:function(l,a){MO(l.coordinates,a,0)},MultiLineString:function(l,a){for(var o=l.coordinates,c=-1,u=o.length;++c<u;)MO(o[c],a,0)},Polygon:function(l,a){$Z(l.coordinates,a)},MultiPolygon:function(l,a){for(var o=l.coordinates,c=-1,u=o.length;++c<u;)$Z(o[c],a)},GeometryCollection:function(l,a){for(var o=l.geometries,c=-1,u=o.length;++c<u;)M2(o[c],a)}};function MO(l,a,o){var h,c=-1,u=l.length-o;for(a.lineStart();++c<u;)a.point((h=l[c])[0],h[1],h[2]);a.lineEnd()}function $Z(l,a){var o=-1,c=l.length;for(a.polygonStart();++o<c;)MO(l[o],a,1);a.polygonEnd()}function Rc(l,a){l&&WZ.hasOwnProperty(l.type)?WZ[l.type](l,a):M2(l,a)}var qZ,YZ,DO,EO,kO,D2=new js,E2=new js,Ou={point:Yr,lineStart:Yr,lineEnd:Yr,polygonStart:function(){D2=new js,Ou.lineStart=N4e,Ou.lineEnd=B4e},polygonEnd:function(){var l=+D2;E2.add(l<0?ha+l:l),this.lineStart=this.lineEnd=this.point=Yr},sphere:function(){E2.add(ha)}};function N4e(){Ou.point=V4e}function B4e(){ZZ(qZ,YZ)}function V4e(l,a){Ou.point=ZZ,qZ=l,YZ=a,DO=l*=Nn,EO=Dn(a=(a*=Nn)/2+w2),kO=mn(a)}function ZZ(l,a){var o=(l*=Nn)-DO,c=o>=0?1:-1,u=c*o,h=Dn(a=(a*=Nn)/2+w2),d=mn(a),f=kO*d,p=EO*h+f*Dn(u),g=f*c*mn(u);D2.add(da(g,p)),DO=l,EO=h,kO=d}function z4e(l){return E2=new js,Rc(l,Ou),2*E2}function k2(l){return[da(l[1],l[0]),fa(l[2])]}function Rp(l){var a=l[0],o=l[1],c=Dn(o);return[c*Dn(a),c*mn(a),mn(o)]}function A2(l,a){return l[0]*a[0]+l[1]*a[1]+l[2]*a[2]}function H0(l,a){return[l[1]*a[2]-l[2]*a[1],l[2]*a[0]-l[0]*a[2],l[0]*a[1]-l[1]*a[0]]}function AO(l,a){l[0]+=a[0],l[1]+=a[1],l[2]+=a[2]}function I2(l,a){return[l[0]*a,l[1]*a,l[2]*a]}function P2(l){var a=oo(l[0]*l[0]+l[1]*l[1]+l[2]*l[2]);l[0]/=a,l[1]/=a,l[2]/=a}var Zr,La,ds,fl,Fp,XZ,KZ,G0,K1,jd,Fh,Lh={point:IO,lineStart:JZ,lineEnd:eX,polygonStart:function(){Lh.point=tX,Lh.lineStart=U4e,Lh.lineEnd=H4e,K1=new js,Ou.polygonStart()},polygonEnd:function(){Ou.polygonEnd(),Lh.point=IO,Lh.lineStart=JZ,Lh.lineEnd=eX,D2<0?(Zr=-(ds=180),La=-(fl=90)):K1>Ln?fl=90:K1<-Ln&&(La=-90),Fh[0]=Zr,Fh[1]=ds},sphere:function(){Zr=-(ds=180),La=-(fl=90)}};function IO(l,a){jd.push(Fh=[Zr=l,ds=l]),a<La&&(La=a),a>fl&&(fl=a)}function QZ(l,a){var o=Rp([l*Nn,a*Nn]);if(G0){var c=H0(G0,o),h=H0([c[1],-c[0],0],c);P2(h),h=k2(h);var g,d=l-Fp,f=d>0?1:-1,p=h[0]*Sr*f,m=Ni(d)>180;m^(f*Fp<p&&p<f*l)?(g=h[1]*Sr)>fl&&(fl=g):m^(f*Fp<(p=(p+360)%360-180)&&p<f*l)?(g=-h[1]*Sr)<La&&(La=g):(a<La&&(La=a),a>fl&&(fl=a)),m?l<Fp?pl(Zr,l)>pl(Zr,ds)&&(ds=l):pl(l,ds)>pl(Zr,ds)&&(Zr=l):ds>=Zr?(l<Zr&&(Zr=l),l>ds&&(ds=l)):l>Fp?pl(Zr,l)>pl(Zr,ds)&&(ds=l):pl(l,ds)>pl(Zr,ds)&&(Zr=l)}else jd.push(Fh=[Zr=l,ds=l]);a<La&&(La=a),a>fl&&(fl=a),G0=o,Fp=l}function JZ(){Lh.point=QZ}function eX(){Fh[0]=Zr,Fh[1]=ds,Lh.point=IO,G0=null}function tX(l,a){if(G0){var o=l-Fp;K1.add(Ni(o)>180?o+(o>0?360:-360):o)}else XZ=l,KZ=a;Ou.point(l,a),QZ(l,a)}function U4e(){Ou.lineStart()}function H4e(){tX(XZ,KZ),Ou.lineEnd(),Ni(K1)>Ln&&(Zr=-(ds=180)),Fh[0]=Zr,Fh[1]=ds,G0=null}function pl(l,a){return(a-=l)<0?a+360:a}function G4e(l,a){return l[0]-a[0]}function nX(l,a){return l[0]<=l[1]?l[0]<=a&&a<=l[1]:a<l[0]||l[1]<a}function W4e(l){var a,o,c,u,h,d,f;if(fl=ds=-(Zr=La=1/0),jd=[],Rc(l,Lh),o=jd.length){for(jd.sort(G4e),a=1,h=[c=jd[0]];a<o;++a)nX(c,(u=jd[a])[0])||nX(c,u[1])?(pl(c[0],u[1])>pl(c[0],c[1])&&(c[1]=u[1]),pl(u[0],c[1])>pl(c[0],c[1])&&(c[0]=u[0])):h.push(c=u);for(d=-1/0,a=0,c=h[o=h.length-1];a<=o;c=u,++a)(f=pl(c[1],(u=h[a])[0]))>d&&(d=f,Zr=u[0],ds=c[1])}return jd=Fh=null,Zr===1/0||La===1/0?[[NaN,NaN],[NaN,NaN]]:[[Zr,La],[ds,fl]]}var Q1,O2,R2,F2,L2,N2,B2,V2,PO,OO,RO,iX,rX,pa,ga,ma,Fc={sphere:Yr,point:FO,lineStart:sX,lineEnd:oX,polygonStart:function(){Fc.lineStart=q4e,Fc.lineEnd=Y4e},polygonEnd:function(){Fc.lineStart=sX,Fc.lineEnd=oX}};function FO(l,a){l*=Nn;var o=Dn(a*=Nn);J1(o*Dn(l),o*mn(l),mn(a))}function J1(l,a,o){++Q1,R2+=(l-R2)/Q1,F2+=(a-F2)/Q1,L2+=(o-L2)/Q1}function sX(){Fc.point=j4e}function j4e(l,a){l*=Nn;var o=Dn(a*=Nn);pa=o*Dn(l),ga=o*mn(l),ma=mn(a),Fc.point=$4e,J1(pa,ga,ma)}function $4e(l,a){l*=Nn;var o=Dn(a*=Nn),c=o*Dn(l),u=o*mn(l),h=mn(a),d=da(oo((d=ga*h-ma*u)*d+(d=ma*c-pa*h)*d+(d=pa*u-ga*c)*d),pa*c+ga*u+ma*h);O2+=d,N2+=d*(pa+(pa=c)),B2+=d*(ga+(ga=u)),V2+=d*(ma+(ma=h)),J1(pa,ga,ma)}function oX(){Fc.point=FO}function q4e(){Fc.point=Z4e}function Y4e(){aX(iX,rX),Fc.point=FO}function Z4e(l,a){iX=l,rX=a,l*=Nn,a*=Nn,Fc.point=aX;var o=Dn(a);pa=o*Dn(l),ga=o*mn(l),ma=mn(a),J1(pa,ga,ma)}function aX(l,a){l*=Nn;var o=Dn(a*=Nn),c=o*Dn(l),u=o*mn(l),h=mn(a),d=ga*h-ma*u,f=ma*c-pa*h,p=pa*u-ga*c,g=wO(d,f,p),m=fa(g),v=g&&-m/g;PO.add(v*d),OO.add(v*f),RO.add(v*p),O2+=m,N2+=m*(pa+(pa=c)),B2+=m*(ga+(ga=u)),V2+=m*(ma+(ma=h)),J1(pa,ga,ma)}function X4e(l){Q1=O2=R2=F2=L2=N2=B2=V2=0,PO=new js,OO=new js,RO=new js,Rc(l,Fc);var a=+PO,o=+OO,c=+RO,u=wO(a,o,c);return u<X1&&(a=N2,o=B2,c=V2,O2<Ln&&(a=R2,o=F2,c=L2),(u=wO(a,o,c))<X1)?[NaN,NaN]:[da(o,a)*Sr,fa(c/u)*Sr]}function W0(l){return function(){return l}}function LO(l,a){function o(c,u){return c=l(c,u),a(c[0],c[1])}return l.invert&&a.invert&&(o.invert=function(c,u){return(c=a.invert(c,u))&&l.invert(c[0],c[1])}),o}function NO(l,a){return[Ni(l)>wi?l+Math.round(-l/ha)*ha:l,a]}function BO(l,a,o){return(l%=ha)?a||o?LO(cX(l),uX(a,o)):cX(l):a||o?uX(a,o):NO}function lX(l){return function(a,o){return[(a+=l)>wi?a-ha:a<-wi?a+ha:a,o]}}function cX(l){var a=lX(l);return a.invert=lX(-l),a}function uX(l,a){var o=Dn(l),c=mn(l),u=Dn(a),h=mn(a);function d(f,p){var g=Dn(p),m=Dn(f)*g,v=mn(f)*g,_=mn(p),y=_*o+m*c;return[da(v*u-y*h,m*o-_*c),fa(y*u+v*h)]}return d.invert=function(f,p){var g=Dn(p),m=Dn(f)*g,v=mn(f)*g,_=mn(p),y=_*u-v*h;return[da(v*u+_*h,m*o+y*c),fa(y*o-m*c)]},d}function hX(l){function a(o){return(o=l(o[0]*Nn,o[1]*Nn))[0]*=Sr,o[1]*=Sr,o}return l=BO(l[0]*Nn,l[1]*Nn,l.length>2?l[2]*Nn:0),a.invert=function(o){return(o=l.invert(o[0]*Nn,o[1]*Nn))[0]*=Sr,o[1]*=Sr,o},a}function dX(l,a,o,c,u,h){if(o){var d=Dn(a),f=mn(a),p=c*o;null==u?(u=a+c*ha,h=a-p/2):(u=fX(d,u),h=fX(d,h),(c>0?u<h:u>h)&&(u+=c*ha));for(var g,m=u;c>0?m>h:m<h;m-=p)g=k2([d,-f*Dn(m),-f*mn(m)]),l.point(g[0],g[1])}}function fX(l,a){(a=Rp(a))[0]-=l,P2(a);var o=HZ(-a[1]);return((-a[2]<0?-o:o)+ha-Ln)%ha}function K4e(){var c,u,l=W0([0,0]),a=W0(90),o=W0(6),h={point:function d(p,g){c.push(p=u(p,g)),p[0]*=Sr,p[1]*=Sr}};function f(){var p=l.apply(this,arguments),g=a.apply(this,arguments)*Nn,m=o.apply(this,arguments)*Nn;return c=[],u=BO(-p[0]*Nn,-p[1]*Nn,0).invert,dX(h,g,m,1),p={type:"Polygon",coordinates:[c]},c=u=null,p}return f.center=function(p){return arguments.length?(l="function"==typeof p?p:W0([+p[0],+p[1]]),f):l},f.radius=function(p){return arguments.length?(a="function"==typeof p?p:W0(+p),f):a},f.precision=function(p){return arguments.length?(o="function"==typeof p?p:W0(+p),f):o},f}function pX(){var a,l=[];return{point:function(o,c,u){a.push([o,c,u])},lineStart:function(){l.push(a=[])},lineEnd:Yr,rejoin:function(){l.length>1&&l.push(l.pop().concat(l.shift()))},result:function(){var o=l;return l=[],a=null,o}}}function z2(l,a){return Ni(l[0]-a[0])<Ln&&Ni(l[1]-a[1])<Ln}function U2(l,a,o,c){this.x=l,this.z=a,this.o=o,this.e=c,this.v=!1,this.n=this.p=null}function gX(l,a,o,c,u){var f,p,h=[],d=[];if(l.forEach(function(b){if(!((C=b.length-1)<=0)){var C,S,x=b[0],w=b[C];if(z2(x,w)){if(!x[2]&&!w[2]){for(u.lineStart(),f=0;f<C;++f)u.point((x=b[f])[0],x[1]);return void u.lineEnd()}w[0]+=2*Ln}h.push(S=new U2(x,b,null,!0)),d.push(S.o=new U2(x,null,S,!1)),h.push(S=new U2(w,b,null,!1)),d.push(S.o=new U2(w,null,S,!0))}}),h.length){for(d.sort(a),mX(h),mX(d),f=0,p=d.length;f<p;++f)d[f].e=o=!o;for(var m,v,g=h[0];;){for(var _=g,y=!0;_.v;)if((_=_.n)===g)return;m=_.z,u.lineStart();do{if(_.v=_.o.v=!0,_.e){if(y)for(f=0,p=m.length;f<p;++f)u.point((v=m[f])[0],v[1]);else c(_.x,_.n.x,1,u);_=_.n}else{if(y)for(f=(m=_.p.z).length-1;f>=0;--f)u.point((v=m[f])[0],v[1]);else c(_.x,_.p.x,-1,u);_=_.p}m=(_=_.o).z,y=!y}while(!_.v);u.lineEnd()}}}function mX(l){if(a=l.length){for(var a,u,o=0,c=l[0];++o<a;)c.n=u=l[o],u.p=c,c=u;c.n=u=l[0],u.p=c}}function VO(l){return Ni(l[0])<=wi?l[0]:ql(l[0])*((Ni(l[0])+wi)%ha-wi)}function vX(l,a){var o=VO(a),c=a[1],u=mn(c),h=[mn(o),-Dn(o),0],d=0,f=0,p=new js;1===u?c=hs+Ln:-1===u&&(c=-hs-Ln);for(var g=0,m=l.length;g<m;++g)if(_=(v=l[g]).length)for(var v,_,y=v[_-1],b=VO(y),C=y[1]/2+w2,x=mn(C),w=Dn(C),S=0;S<_;++S,b=T,x=k,w=R,y=M){var M=v[S],T=VO(M),E=M[1]/2+w2,k=mn(E),R=Dn(E),D=T-b,P=D>=0?1:-1,F=P*D,L=F>wi,$=x*k;if(p.add(da($*P*mn(F),w*R+$*Dn(F))),d+=L?D+P*ha:D,L^b>=o^T>=o){var Y=H0(Rp(y),Rp(M));P2(Y);var O=H0(h,Y);P2(O);var V=(L^D>=0?-1:1)*fa(O[2]);(c>V||c===V&&(Y[0]||Y[1]))&&(f+=L^D>=0?1:-1)}}return(d<-Ln||d<Ln&&p<-X1)^1&f}function _X(l,a,o,c){return function(u){var g,m,v,h=a(u),d=pX(),f=a(d),p=!1,_={point:y,lineStart:C,lineEnd:x,polygonStart:function(){_.point=w,_.lineStart=S,_.lineEnd=M,m=[],g=[]},polygonEnd:function(){_.point=y,_.lineStart=C,_.lineEnd=x,m=WP(m);var T=vX(g,c);m.length?(p||(u.polygonStart(),p=!0),gX(m,J4e,T,o,u)):T&&(p||(u.polygonStart(),p=!0),u.lineStart(),o(null,null,1,u),u.lineEnd()),p&&(u.polygonEnd(),p=!1),m=g=null},sphere:function(){u.polygonStart(),u.lineStart(),o(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function y(T,E){l(T,E)&&u.point(T,E)}function b(T,E){h.point(T,E)}function C(){_.point=b,h.lineStart()}function x(){_.point=y,h.lineEnd()}function w(T,E){v.push([T,E]),f.point(T,E)}function S(){f.lineStart(),v=[]}function M(){w(v[0][0],v[0][1]),f.lineEnd();var k,D,P,F,T=f.clean(),E=d.result(),R=E.length;if(v.pop(),g.push(v),v=null,R){if(1&T){if((D=(P=E[0]).length-1)>0){for(p||(u.polygonStart(),p=!0),u.lineStart(),k=0;k<D;++k)u.point((F=P[k])[0],F[1]);u.lineEnd()}return}R>1&&2&T&&E.push(E.pop().concat(E.shift())),m.push(E.filter(Q4e))}}return _}}function Q4e(l){return l.length>1}function J4e(l,a){return((l=l.x)[0]<0?l[1]-hs-Ln:hs-l[1])-((a=a.x)[0]<0?a[1]-hs-Ln:hs-a[1])}NO.invert=NO;const zO=_X(function(){return!0},function eOe(l){var u,a=NaN,o=NaN,c=NaN;return{lineStart:function(){l.lineStart(),u=1},point:function(h,d){var f=h>0?wi:-wi,p=Ni(h-a);Ni(p-wi)<Ln?(l.point(a,o=(o+d)/2>0?hs:-hs),l.point(c,o),l.lineEnd(),l.lineStart(),l.point(f,o),l.point(h,o),u=0):c!==f&&p>=wi&&(Ni(a-c)<Ln&&(a-=c*Ln),Ni(h-f)<Ln&&(h-=f*Ln),o=function tOe(l,a,o,c){var u,h,d=mn(l-o);return Ni(d)>Ln?U0((mn(a)*(h=Dn(c))*mn(o)-mn(c)*(u=Dn(a))*mn(l))/(u*h*d)):(a+c)/2}(a,o,h,d),l.point(c,o),l.lineEnd(),l.lineStart(),l.point(f,o),u=0),l.point(a=h,o=d),c=f},lineEnd:function(){l.lineEnd(),a=o=NaN},clean:function(){return 2-u}}},function nOe(l,a,o,c){var u;if(null==l)c.point(-wi,u=o*hs),c.point(0,u),c.point(wi,u),c.point(wi,0),c.point(wi,-u),c.point(0,-u),c.point(-wi,-u),c.point(-wi,0),c.point(-wi,u);else if(Ni(l[0]-a[0])>Ln){var h=l[0]<a[0]?wi:-wi;c.point(-h,u=o*h/2),c.point(0,u),c.point(h,u)}else c.point(a[0],a[1])},[-wi,-hs]);function yX(l){var a=Dn(l),o=6*Nn,c=a>0,u=Ni(a)>Ln;function d(m,v){return Dn(m)*Dn(v)>a}function p(m,v,_){var C=[1,0,0],x=H0(Rp(m),Rp(v)),w=A2(x,x),S=x[0],M=w-S*S;if(!M)return!_&&m;var T=a*w/M,E=-a*S/M,k=H0(C,x),R=I2(C,T);AO(R,I2(x,E));var P=k,F=A2(R,P),L=A2(P,P),$=F*F-L*(A2(R,R)-1);if(!($<0)){var Y=oo($),O=I2(P,(-F-Y)/L);if(AO(O,R),O=k2(O),!_)return O;var j,V=m[0],B=v[0],G=m[1],H=v[1];B<V&&(j=V,V=B,B=j);var W=B-V,Z=Ni(W-wi)<Ln;if(!Z&&H<G&&(j=G,G=H,H=j),Z||W<Ln?Z?G+H>0^O[1]<(Ni(O[0]-V)<Ln?G:H):G<=O[1]&&O[1]<=H:W>wi^(V<=O[0]&&O[0]<=B)){var ae=I2(P,(-F+Y)/L);return AO(ae,R),[O,k2(ae)]}}}function g(m,v){var _=c?l:wi-l,y=0;return m<-_?y|=1:m>_&&(y|=2),v<-_?y|=4:v>_&&(y|=8),y}return _X(d,function f(m){var v,_,y,b,C;return{lineStart:function(){b=y=!1,C=1},point:function(x,w){var M,S=[x,w],T=d(x,w),E=c?T?0:g(x,w):T?g(x+(x<0?wi:-wi),w):0;if(!v&&(b=y=T)&&m.lineStart(),T!==y&&(!(M=p(v,S))||z2(v,M)||z2(S,M))&&(S[2]=1),T!==y)C=0,T?(m.lineStart(),M=p(S,v),m.point(M[0],M[1])):(M=p(v,S),m.point(M[0],M[1],2),m.lineEnd()),v=M;else if(u&&v&&c^T){var k;!(E&_)&&(k=p(S,v,!0))&&(C=0,c?(m.lineStart(),m.point(k[0][0],k[0][1]),m.point(k[1][0],k[1][1]),m.lineEnd()):(m.point(k[1][0],k[1][1]),m.lineEnd(),m.lineStart(),m.point(k[0][0],k[0][1],3)))}T&&(!v||!z2(v,S))&&m.point(S[0],S[1]),v=S,y=T,_=E},lineEnd:function(){y&&m.lineEnd(),v=null},clean:function(){return C|(b&&y)<<1}}},function h(m,v,_,y){dX(y,l,o,_,m,v)},c?[0,-l]:[-wi,l-wi])}var eb=1e9,H2=-eb;function G2(l,a,o,c){function u(g,m){return l<=g&&g<=o&&a<=m&&m<=c}function h(g,m,v,_){var y=0,b=0;if(null==g||(y=d(g,v))!==(b=d(m,v))||p(g,m)<0^v>0)do{_.point(0===y||3===y?l:o,y>1?c:a)}while((y=(y+v+4)%4)!==b);else _.point(m[0],m[1])}function d(g,m){return Ni(g[0]-l)<Ln?m>0?0:3:Ni(g[0]-o)<Ln?m>0?2:1:Ni(g[1]-a)<Ln?m>0?1:0:m>0?3:2}function f(g,m){return p(g.x,m.x)}function p(g,m){var v=d(g,1),_=d(m,1);return v!==_?v-_:0===v?m[1]-g[1]:1===v?g[0]-m[0]:2===v?g[1]-m[1]:m[0]-g[0]}return function(g){var _,y,b,C,x,w,S,M,T,E,k,m=g,v=pX(),R={point:D,lineStart:function $(){R.point=O,y&&y.push(b=[]),E=!0,T=!1,S=M=NaN},lineEnd:function Y(){_&&(O(C,x),w&&T&&v.rejoin(),_.push(v.result())),R.point=D,T&&m.lineEnd()},polygonStart:function F(){m=v,_=[],y=[],k=!0},polygonEnd:function L(){var V=function P(){for(var V=0,B=0,G=y.length;B<G;++B)for(var K,ae,H=y[B],j=1,W=H.length,Z=H[0],re=Z[0],xe=Z[1];j<W;++j)K=re,ae=xe,re=(Z=H[j])[0],xe=Z[1],ae<=c?xe>c&&(re-K)*(c-ae)>(xe-ae)*(l-K)&&++V:xe<=c&&(re-K)*(c-ae)<(xe-ae)*(l-K)&&--V;return V}(),B=k&&V,G=(_=WP(_)).length;(B||G)&&(g.polygonStart(),B&&(g.lineStart(),h(null,null,1,g),g.lineEnd()),G&&gX(_,f,V,h,g),g.polygonEnd()),m=g,_=y=b=null}};function D(V,B){u(V,B)&&m.point(V,B)}function O(V,B){var G=u(V,B);if(y&&b.push([V,B]),E)C=V,x=B,w=G,E=!1,G&&(m.lineStart(),m.point(V,B));else if(G&&T)m.point(V,B);else{var H=[S=Math.max(H2,Math.min(eb,S)),M=Math.max(H2,Math.min(eb,M))],j=[V=Math.max(H2,Math.min(eb,V)),B=Math.max(H2,Math.min(eb,B))];!function iOe(l,a,o,c,u,h){var b,d=l[0],f=l[1],m=0,v=1,_=a[0]-d,y=a[1]-f;if(b=o-d,_||!(b>0)){if(b/=_,_<0){if(b<m)return;b<v&&(v=b)}else if(_>0){if(b>v)return;b>m&&(m=b)}if(b=u-d,_||!(b<0)){if(b/=_,_<0){if(b>v)return;b>m&&(m=b)}else if(_>0){if(b<m)return;b<v&&(v=b)}if(b=c-f,y||!(b>0)){if(b/=y,y<0){if(b<m)return;b<v&&(v=b)}else if(y>0){if(b>v)return;b>m&&(m=b)}if(b=h-f,y||!(b<0)){if(b/=y,y<0){if(b>v)return;b>m&&(m=b)}else if(y>0){if(b<m)return;b<v&&(v=b)}return m>0&&(l[0]=d+m*_,l[1]=f+m*y),v<1&&(a[0]=d+v*_,a[1]=f+v*y),!0}}}}}(H,j,l,a,o,c)?G&&(m.lineStart(),m.point(V,B),k=!1):(T||(m.lineStart(),m.point(H[0],H[1])),m.point(j[0],j[1]),G||m.lineEnd(),k=!1)}S=V,M=B,T=G}return R}}function rOe(){var u,h,d,l=0,a=0,o=960,c=500;return d={stream:function(f){return u&&h===f?u:u=G2(l,a,o,c)(h=f)},extent:function(f){return arguments.length?(l=+f[0][0],a=+f[0][1],o=+f[1][0],c=+f[1][1],u=h=null,d):[[l,a],[o,c]]}}}var UO,HO,W2,j2,j0={sphere:Yr,point:Yr,lineStart:function sOe(){j0.point=aOe,j0.lineEnd=oOe},lineEnd:Yr,polygonStart:Yr,polygonEnd:Yr};function oOe(){j0.point=j0.lineEnd=Yr}function aOe(l,a){HO=l*=Nn,W2=mn(a*=Nn),j2=Dn(a),j0.point=lOe}function lOe(l,a){l*=Nn;var o=mn(a*=Nn),c=Dn(a),u=Ni(l-HO),h=Dn(u),f=c*mn(u),p=j2*o-W2*c*h,g=W2*o+j2*c*h;UO.add(da(oo(f*f+p*p),g)),HO=l,W2=o,j2=c}function bX(l){return UO=new js,Rc(l,j0),+UO}var GO=[null,null],cOe={type:"LineString",coordinates:GO};function $2(l,a){return GO[0]=l,GO[1]=a,bX(cOe)}var xX={Feature:function(l,a){return q2(l.geometry,a)},FeatureCollection:function(l,a){for(var o=l.features,c=-1,u=o.length;++c<u;)if(q2(o[c].geometry,a))return!0;return!1}},CX={Sphere:function(){return!0},Point:function(l,a){return wX(l.coordinates,a)},MultiPoint:function(l,a){for(var o=l.coordinates,c=-1,u=o.length;++c<u;)if(wX(o[c],a))return!0;return!1},LineString:function(l,a){return SX(l.coordinates,a)},MultiLineString:function(l,a){for(var o=l.coordinates,c=-1,u=o.length;++c<u;)if(SX(o[c],a))return!0;return!1},Polygon:function(l,a){return TX(l.coordinates,a)},MultiPolygon:function(l,a){for(var o=l.coordinates,c=-1,u=o.length;++c<u;)if(TX(o[c],a))return!0;return!1},GeometryCollection:function(l,a){for(var o=l.geometries,c=-1,u=o.length;++c<u;)if(q2(o[c],a))return!0;return!1}};function q2(l,a){return!(!l||!CX.hasOwnProperty(l.type))&&CX[l.type](l,a)}function wX(l,a){return 0===$2(l,a)}function SX(l,a){for(var o,c,u,h=0,d=l.length;h<d;h++){if(0===(c=$2(l[h],a))||h>0&&(u=$2(l[h],l[h-1]))>0&&o<=u&&c<=u&&(o+c-u)*(1-Math.pow((o-c)/u,2))<X1*u)return!0;o=c}return!1}function TX(l,a){return!!vX(l.map(uOe),MX(a))}function uOe(l){return(l=l.map(MX)).pop(),l}function MX(l){return[l[0]*Nn,l[1]*Nn]}function hOe(l,a){return(l&&xX.hasOwnProperty(l.type)?xX[l.type]:q2)(l,a)}function DX(l,a,o){var c=sl(l,a-Ln,o).concat(a);return function(u){return c.map(function(h){return[u,h]})}}function EX(l,a,o){var c=sl(l,a-Ln,o).concat(a);return function(u){return c.map(function(h){return[h,u]})}}function kX(){var l,a,o,c,u,h,d,f,_,y,b,C,p=10,g=p,m=90,v=360,x=2.5;function w(){return{type:"MultiLineString",coordinates:S()}}function S(){return sl(S2(c/m)*m,o,m).map(b).concat(sl(S2(f/v)*v,d,v).map(C)).concat(sl(S2(a/p)*p,l,p).filter(function(M){return Ni(M%m)>Ln}).map(_)).concat(sl(S2(h/g)*g,u,g).filter(function(M){return Ni(M%v)>Ln}).map(y))}return w.lines=function(){return S().map(function(M){return{type:"LineString",coordinates:M}})},w.outline=function(){return{type:"Polygon",coordinates:[b(c).concat(C(d).slice(1),b(o).reverse().slice(1),C(f).reverse().slice(1))]}},w.extent=function(M){return arguments.length?w.extentMajor(M).extentMinor(M):w.extentMinor()},w.extentMajor=function(M){return arguments.length?(f=+M[0][1],d=+M[1][1],(c=+M[0][0])>(o=+M[1][0])&&(M=c,c=o,o=M),f>d&&(M=f,f=d,d=M),w.precision(x)):[[c,f],[o,d]]},w.extentMinor=function(M){return arguments.length?(h=+M[0][1],u=+M[1][1],(a=+M[0][0])>(l=+M[1][0])&&(M=a,a=l,l=M),h>u&&(M=h,h=u,u=M),w.precision(x)):[[a,h],[l,u]]},w.step=function(M){return arguments.length?w.stepMajor(M).stepMinor(M):w.stepMinor()},w.stepMajor=function(M){return arguments.length?(m=+M[0],v=+M[1],w):[m,v]},w.stepMinor=function(M){return arguments.length?(p=+M[0],g=+M[1],w):[p,g]},w.precision=function(M){return arguments.length?(x=+M,_=DX(h,u,90),y=EX(a,l,x),b=DX(f,d,90),C=EX(c,o,x),w):x},w.extentMajor([[-180,-90+Ln],[180,90-Ln]]).extentMinor([[-180,-80-Ln],[180,80+Ln]])}function dOe(){return kX()()}function fOe(l,a){var o=l[0]*Nn,c=l[1]*Nn,u=a[0]*Nn,h=a[1]*Nn,d=Dn(c),f=mn(c),p=Dn(h),g=mn(h),m=d*Dn(o),v=d*mn(o),_=p*Dn(u),y=p*mn(u),b=2*fa(oo(GZ(h-c)+d*p*GZ(u-o))),C=mn(b),x=b?function(w){var S=mn(w*=b)/C,M=mn(b-w)/C,T=M*m+S*_,E=M*v+S*y,k=M*f+S*g;return[da(E,T)*Sr,da(k,oo(T*T+E*E))*Sr]}:function(){return[o*Sr,c*Sr]};return x.distance=b,x}const tb=l=>l;var AX,IX,$O,qO,WO=new js,jO=new js,$d={point:Yr,lineStart:Yr,lineEnd:Yr,polygonStart:function(){$d.lineStart=pOe,$d.lineEnd=mOe},polygonEnd:function(){$d.lineStart=$d.lineEnd=$d.point=Yr,WO.add(Ni(jO)),jO=new js},result:function(){var l=WO/2;return WO=new js,l}};function pOe(){$d.point=gOe}function gOe(l,a){$d.point=PX,AX=$O=l,IX=qO=a}function PX(l,a){jO.add(qO*l-$O*a),$O=l,qO=a}function mOe(){PX(AX,IX)}const OX=$d;var $0=1/0,Y2=$0,nb=-$0,Z2=nb,vOe={point:function _Oe(l,a){l<$0&&($0=l),l>nb&&(nb=l),a<Y2&&(Y2=a),a>Z2&&(Z2=a)},lineStart:Yr,lineEnd:Yr,polygonStart:Yr,polygonEnd:Yr,result:function(){var l=[[$0,Y2],[nb,Z2]];return nb=Z2=-(Y2=$0=1/0),l}};const X2=vOe;var RX,FX,Ru,Fu,YO=0,ZO=0,ib=0,K2=0,Q2=0,q0=0,XO=0,KO=0,rb=0,Lc={point:Lp,lineStart:LX,lineEnd:NX,polygonStart:function(){Lc.lineStart=xOe,Lc.lineEnd=COe},polygonEnd:function(){Lc.point=Lp,Lc.lineStart=LX,Lc.lineEnd=NX},result:function(){var l=rb?[XO/rb,KO/rb]:q0?[K2/q0,Q2/q0]:ib?[YO/ib,ZO/ib]:[NaN,NaN];return YO=ZO=ib=K2=Q2=q0=XO=KO=rb=0,l}};function Lp(l,a){YO+=l,ZO+=a,++ib}function LX(){Lc.point=yOe}function yOe(l,a){Lc.point=bOe,Lp(Ru=l,Fu=a)}function bOe(l,a){var o=l-Ru,c=a-Fu,u=oo(o*o+c*c);K2+=u*(Ru+l)/2,Q2+=u*(Fu+a)/2,q0+=u,Lp(Ru=l,Fu=a)}function NX(){Lc.point=Lp}function xOe(){Lc.point=wOe}function COe(){BX(RX,FX)}function wOe(l,a){Lc.point=BX,Lp(RX=Ru=l,FX=Fu=a)}function BX(l,a){var o=l-Ru,c=a-Fu,u=oo(o*o+c*c);K2+=u*(Ru+l)/2,Q2+=u*(Fu+a)/2,q0+=u,XO+=(u=Fu*l-Ru*a)*(Ru+l),KO+=u*(Fu+a),rb+=3*u,Lp(Ru=l,Fu=a)}const VX=Lc;function zX(l){this._context=l}zX.prototype={_radius:4.5,pointRadius:function(l){return this._radius=l,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(l,a){switch(this._point){case 0:this._context.moveTo(l,a),this._point=1;break;case 1:this._context.lineTo(l,a);break;default:this._context.moveTo(l+this._radius,a),this._context.arc(l,a,this._radius,0,ha)}},result:Yr};var JO,UX,HX,sb,ob,QO=new js,J2={point:Yr,lineStart:function(){J2.point=SOe},lineEnd:function(){JO&&GX(UX,HX),J2.point=Yr},polygonStart:function(){JO=!0},polygonEnd:function(){JO=null},result:function(){var l=+QO;return QO=new js,l}};function SOe(l,a){J2.point=GX,UX=sb=l,HX=ob=a}function GX(l,a){QO.add(oo((sb-=l)*sb+(ob-=a)*ob)),sb=l,ob=a}const WX=J2;function jX(){this._string=[]}function $X(l){return"m0,"+l+"a"+l+","+l+" 0 1,1 0,"+-2*l+"a"+l+","+l+" 0 1,1 0,"+2*l+"z"}function TOe(l,a){var c,u,o=4.5;function h(d){return d&&("function"==typeof o&&u.pointRadius(+o.apply(this,arguments)),Rc(d,c(u))),u.result()}return h.area=function(d){return Rc(d,c(OX)),OX.result()},h.measure=function(d){return Rc(d,c(WX)),WX.result()},h.bounds=function(d){return Rc(d,c(X2)),X2.result()},h.centroid=function(d){return Rc(d,c(VX)),VX.result()},h.projection=function(d){return arguments.length?(c=null==d?(l=null,tb):(l=d).stream,h):l},h.context=function(d){return arguments.length?(u=null==d?(a=null,new jX):new zX(a=d),"function"!=typeof o&&u.pointRadius(o),h):a},h.pointRadius=function(d){return arguments.length?(o="function"==typeof d?d:(u.pointRadius(+d),+d),h):o},h.projection(l).context(a)}function MOe(l){return{stream:ab(l)}}function ab(l){return function(a){var o=new eR;for(var c in l)o[c]=l[c];return o.stream=a,o}}function eR(){}function tR(l,a,o){var c=l.clipExtent&&l.clipExtent();return l.scale(150).translate([0,0]),null!=c&&l.clipExtent(null),Rc(o,l.stream(X2)),a(X2.result()),null!=c&&l.clipExtent(c),l}function eT(l,a,o){return tR(l,function(c){var u=a[1][0]-a[0][0],h=a[1][1]-a[0][1],d=Math.min(u/(c[1][0]-c[0][0]),h/(c[1][1]-c[0][1])),f=+a[0][0]+(u-d*(c[1][0]+c[0][0]))/2,p=+a[0][1]+(h-d*(c[1][1]+c[0][1]))/2;l.scale(150*d).translate([f,p])},o)}function nR(l,a,o){return eT(l,[[0,0],a],o)}function iR(l,a,o){return tR(l,function(c){var u=+a,h=u/(c[1][0]-c[0][0]),d=(u-h*(c[1][0]+c[0][0]))/2,f=-h*c[0][1];l.scale(150*h).translate([d,f])},o)}function rR(l,a,o){return tR(l,function(c){var u=+a,h=u/(c[1][1]-c[0][1]),d=-h*c[0][0],f=(u-h*(c[1][1]+c[0][1]))/2;l.scale(150*h).translate([d,f])},o)}jX.prototype={_radius:4.5,_circle:$X(4.5),pointRadius:function(l){return(l=+l)!==this._radius&&(this._radius=l,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(l,a){switch(this._point){case 0:this._string.push("M",l,",",a),this._point=1;break;case 1:this._string.push("L",l,",",a);break;default:null==this._circle&&(this._circle=$X(this._radius)),this._string.push("M",l,",",a,this._circle)}},result:function(){if(this._string.length){var l=this._string.join("");return this._string=[],l}return null}},eR.prototype={constructor:eR,point:function(l,a){this.stream.point(l,a)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var DOe=Dn(30*Nn);function YX(l,a){return+a?function kOe(l,a){function o(c,u,h,d,f,p,g,m,v,_,y,b,C,x){var w=g-c,S=m-u,M=w*w+S*S;if(M>4*a&&C--){var T=d+_,E=f+y,k=p+b,R=oo(T*T+E*E+k*k),D=fa(k/=R),P=Ni(Ni(k)-1)<Ln||Ni(h-v)<Ln?(h+v)/2:da(E,T),F=l(P,D),L=F[0],$=F[1],Y=L-c,O=$-u,V=S*Y-w*O;(V*V/M>a||Ni((w*Y+S*O)/M-.5)>.3||d*_+f*y+p*b<DOe)&&(o(c,u,h,d,f,p,L,$,P,T/=R,E/=R,k,C,x),x.point(L,$),o(L,$,P,T,E,k,g,m,v,_,y,b,C,x))}}return function(c){var u,h,d,f,p,g,m,v,_,y,b,C,x={point:w,lineStart:S,lineEnd:T,polygonStart:function(){c.polygonStart(),x.lineStart=E},polygonEnd:function(){c.polygonEnd(),x.lineStart=S}};function w(D,P){D=l(D,P),c.point(D[0],D[1])}function S(){v=NaN,x.point=M,c.lineStart()}function M(D,P){var F=Rp([D,P]),L=l(D,P);o(v,_,m,y,b,C,v=L[0],_=L[1],m=D,y=F[0],b=F[1],C=F[2],16,c),c.point(v,_)}function T(){x.point=w,c.lineEnd()}function E(){S(),x.point=k,x.lineEnd=R}function k(D,P){M(u=D,P),h=v,d=_,f=y,p=b,g=C,x.point=M}function R(){o(v,_,m,y,b,C,h,d,u,f,p,g,16,c),x.lineEnd=T,T()}return x}}(l,a):function EOe(l){return ab({point:function(a,o){a=l(a,o),this.stream.point(a[0],a[1])}})}(l)}var AOe=ab({point:function(l,a){this.stream.point(l*Nn,a*Nn)}});function ZX(l,a,o,c,u,h){if(!h)return function POe(l,a,o,c,u){function h(d,f){return[a+l*(d*=c),o-l*(f*=u)]}return h.invert=function(d,f){return[(d-a)/l*c,(o-f)/l*u]},h}(l,a,o,c,u);var d=Dn(h),f=mn(h),p=d*l,g=f*l,m=d/l,v=f/l,_=(f*o-d*a)/l,y=(f*a+d*o)/l;function b(C,x){return[p*(C*=c)-g*(x*=u)+a,o-g*C-p*x]}return b.invert=function(C,x){return[c*(m*C-v*x+_),u*(y-v*C-m*x)]},b}function Lu(l){return sR(function(){return l})()}function sR(l){var a,m,w,S,M,k,R,D,P,F,o=150,c=480,u=250,h=0,d=0,f=0,p=0,g=0,v=0,_=1,y=1,b=null,C=zO,x=null,T=tb,E=.5;function L(V){return D(V[0]*Nn,V[1]*Nn)}function $(V){return(V=D.invert(V[0],V[1]))&&[V[0]*Sr,V[1]*Sr]}function Y(){var V=ZX(o,0,0,_,y,v).apply(null,a(h,d)),B=ZX(o,c-V[0],u-V[1],_,y,v);return m=BO(f,p,g),R=LO(a,B),D=LO(m,R),k=YX(R,E),O()}function O(){return P=F=null,L}return L.stream=function(V){return P&&F===V?P:P=AOe(function IOe(l){return ab({point:function(a,o){var c=l(a,o);return this.stream.point(c[0],c[1])}})}(m)(C(k(T(F=V)))))},L.preclip=function(V){return arguments.length?(C=V,b=void 0,O()):C},L.postclip=function(V){return arguments.length?(T=V,x=w=S=M=null,O()):T},L.clipAngle=function(V){return arguments.length?(C=+V?yX(b=V*Nn):(b=null,zO),O()):b*Sr},L.clipExtent=function(V){return arguments.length?(T=null==V?(x=w=S=M=null,tb):G2(x=+V[0][0],w=+V[0][1],S=+V[1][0],M=+V[1][1]),O()):null==x?null:[[x,w],[S,M]]},L.scale=function(V){return arguments.length?(o=+V,Y()):o},L.translate=function(V){return arguments.length?(c=+V[0],u=+V[1],Y()):[c,u]},L.center=function(V){return arguments.length?(h=V[0]%360*Nn,d=V[1]%360*Nn,Y()):[h*Sr,d*Sr]},L.rotate=function(V){return arguments.length?(f=V[0]%360*Nn,p=V[1]%360*Nn,g=V.length>2?V[2]%360*Nn:0,Y()):[f*Sr,p*Sr,g*Sr]},L.angle=function(V){return arguments.length?(v=V%360*Nn,Y()):v*Sr},L.reflectX=function(V){return arguments.length?(_=V?-1:1,Y()):_<0},L.reflectY=function(V){return arguments.length?(y=V?-1:1,Y()):y<0},L.precision=function(V){return arguments.length?(k=YX(R,E=V*V),O()):oo(E)},L.fitExtent=function(V,B){return eT(L,V,B)},L.fitSize=function(V,B){return nR(L,V,B)},L.fitWidth=function(V,B){return iR(L,V,B)},L.fitHeight=function(V,B){return rR(L,V,B)},function(){return a=l.apply(this,arguments),L.invert=a.invert&&$,Y()}}function oR(l){var a=0,o=wi/3,c=sR(l),u=c(a,o);return u.parallels=function(h){return arguments.length?c(a=h[0]*Nn,o=h[1]*Nn):[a*Sr,o*Sr]},u}function XX(l,a){var o=mn(l),c=(o+mn(a))/2;if(Ni(c)<Ln)return function OOe(l){var a=Dn(l);function o(c,u){return[c*a,mn(u)/a]}return o.invert=function(c,u){return[c/a,fa(u*a)]},o}(l);var u=1+o*(2*c-o),h=oo(u)/c;function d(f,p){var g=oo(u-2*c*mn(p))/c;return[g*mn(f*=c),h-g*Dn(f)]}return d.invert=function(f,p){var g=h-p,m=da(f,Ni(g))*ql(g);return g*c<0&&(m-=wi*ql(f)*ql(g)),[m/c,fa((u-(f*f+g*g)*c*c)/(2*c))]},d}function tT(){return oR(XX).scale(155.424).center([0,33.6442])}function KX(){return tT().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function FOe(){var l,a,c,h,f,p,o=KX(),u=tT().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=tT().rotate([157,0]).center([-3,19.9]).parallels([8,18]),g={point:function(_,y){p=[_,y]}};function m(_){var y=_[0],b=_[1];return p=null,c.point(y,b),p||(h.point(y,b),p)||(f.point(y,b),p)}function v(){return l=a=null,m}return m.invert=function(_){var y=o.scale(),b=o.translate(),C=(_[0]-b[0])/y,x=(_[1]-b[1])/y;return(x>=.12&&x<.234&&C>=-.425&&C<-.214?u:x>=.166&&x<.234&&C>=-.214&&C<-.115?d:o).invert(_)},m.stream=function(_){return l&&a===_?l:l=function ROe(l){var a=l.length;return{point:function(o,c){for(var u=-1;++u<a;)l[u].point(o,c)},sphere:function(){for(var o=-1;++o<a;)l[o].sphere()},lineStart:function(){for(var o=-1;++o<a;)l[o].lineStart()},lineEnd:function(){for(var o=-1;++o<a;)l[o].lineEnd()},polygonStart:function(){for(var o=-1;++o<a;)l[o].polygonStart()},polygonEnd:function(){for(var o=-1;++o<a;)l[o].polygonEnd()}}}([o.stream(a=_),u.stream(_),d.stream(_)])},m.precision=function(_){return arguments.length?(o.precision(_),u.precision(_),d.precision(_),v()):o.precision()},m.scale=function(_){return arguments.length?(o.scale(_),u.scale(.35*_),d.scale(_),m.translate(o.translate())):o.scale()},m.translate=function(_){if(!arguments.length)return o.translate();var y=o.scale(),b=+_[0],C=+_[1];return c=o.translate(_).clipExtent([[b-.455*y,C-.238*y],[b+.455*y,C+.238*y]]).stream(g),h=u.translate([b-.307*y,C+.201*y]).clipExtent([[b-.425*y+Ln,C+.12*y+Ln],[b-.214*y-Ln,C+.234*y-Ln]]).stream(g),f=d.translate([b-.205*y,C+.212*y]).clipExtent([[b-.214*y+Ln,C+.166*y+Ln],[b-.115*y-Ln,C+.234*y-Ln]]).stream(g),v()},m.fitExtent=function(_,y){return eT(m,_,y)},m.fitSize=function(_,y){return nR(m,_,y)},m.fitWidth=function(_,y){return iR(m,_,y)},m.fitHeight=function(_,y){return rR(m,_,y)},m.scale(1070)}function QX(l){return function(a,o){var c=Dn(a),u=Dn(o),h=l(c*u);return h===1/0?[2,0]:[h*u*mn(a),h*mn(o)]}}function lb(l){return function(a,o){var c=oo(a*a+o*o),u=l(c),h=mn(u),d=Dn(u);return[da(a*h,c*d),fa(c&&o*h/c)]}}var aR=QX(function(l){return oo(2/(1+l))});function LOe(){return Lu(aR).scale(124.75).clipAngle(179.999)}aR.invert=lb(function(l){return 2*fa(l/2)});var lR=QX(function(l){return(l=HZ(l))&&l/mn(l)});function NOe(){return Lu(lR).scale(79.4188).clipAngle(179.999)}function cb(l,a){return[l,T2(TO((hs+a)/2))]}function BOe(){return JX(cb).scale(961/ha)}function JX(l){var f,p,g,a=Lu(l),o=a.center,c=a.scale,u=a.translate,h=a.clipExtent,d=null;function m(){var v=wi*c(),_=a(hX(a.rotate()).invert([0,0]));return h(null==d?[[_[0]-v,_[1]-v],[_[0]+v,_[1]+v]]:l===cb?[[Math.max(_[0]-v,d),f],[Math.min(_[0]+v,p),g]]:[[d,Math.max(_[1]-v,f)],[p,Math.min(_[1]+v,g)]])}return a.scale=function(v){return arguments.length?(c(v),m()):c()},a.translate=function(v){return arguments.length?(u(v),m()):u()},a.center=function(v){return arguments.length?(o(v),m()):o()},a.clipExtent=function(v){return arguments.length?(null==v?d=f=p=g=null:(d=+v[0][0],f=+v[0][1],p=+v[1][0],g=+v[1][1]),m()):null==d?null:[[d,f],[p,g]]},m()}function nT(l){return TO((hs+l)/2)}function eK(l,a){var o=Dn(l),c=l===a?mn(l):T2(o/Dn(a))/T2(nT(a)/nT(l)),u=o*SO(nT(l),c)/c;if(!c)return cb;function h(d,f){u>0?f<-hs+Ln&&(f=-hs+Ln):f>hs-Ln&&(f=hs-Ln);var p=u/SO(nT(f),c);return[p*mn(c*d),u-p*Dn(c*d)]}return h.invert=function(d,f){var p=u-f,g=ql(c)*oo(d*d+p*p),m=da(d,Ni(p))*ql(p);return p*c<0&&(m-=wi*ql(d)*ql(p)),[m/c,2*U0(SO(u/g,1/c))-hs]},h}function VOe(){return oR(eK).scale(109.5).parallels([30,30])}function ub(l,a){return[l,a]}function zOe(){return Lu(ub).scale(152.63)}function tK(l,a){var o=Dn(l),c=l===a?mn(l):(o-Dn(a))/(a-l),u=o/c+l;if(Ni(c)<Ln)return ub;function h(d,f){var p=u-f,g=c*d;return[p*mn(g),u-p*Dn(g)]}return h.invert=function(d,f){var p=u-f,g=da(d,Ni(p))*ql(p);return p*c<0&&(g-=wi*ql(d)*ql(p)),[g/c,u-ql(c)*oo(d*d+p*p)]},h}function UOe(){return oR(tK).scale(131.154).center([0,13.9389])}lR.invert=lb(function(l){return l}),cb.invert=function(l,a){return[l,2*U0(UZ(a))-hs]},ub.invert=ub;var hb=1.340264,db=-.081106,fb=893e-6,pb=.003796,iT=oo(3)/2;function cR(l,a){var o=fa(iT*mn(a)),c=o*o,u=c*c*c;return[l*Dn(o)/(iT*(hb+3*db*c+u*(7*fb+9*pb*c))),o*(hb+db*c+u*(fb+pb*c))]}function GOe(){return Lu(cR).scale(177.158)}function uR(l,a){var o=Dn(a),c=Dn(l)*o;return[o*mn(l)/c,mn(a)/c]}function WOe(){return Lu(uR).scale(144.049).clipAngle(60)}function jOe(){var d,f,g,m,v,x,w,l=1,a=0,o=0,c=1,u=1,h=0,p=null,_=1,y=1,b=ab({point:function(T,E){var k=M([T,E]);this.stream.point(k[0],k[1])}}),C=tb;function S(){return _=l*c,y=l*u,x=w=null,M}function M(T){var E=T[0]*_,k=T[1]*y;if(h){var R=k*d-E*f;E=E*d+k*f,k=R}return[E+a,k+o]}return M.invert=function(T){var E=T[0]-a,k=T[1]-o;if(h){var R=k*d+E*f;E=E*d-k*f,k=R}return[E/_,k/y]},M.stream=function(T){return x&&w===T?x:x=b(C(w=T))},M.postclip=function(T){return arguments.length?(C=T,p=g=m=v=null,S()):C},M.clipExtent=function(T){return arguments.length?(C=null==T?(p=g=m=v=null,tb):G2(p=+T[0][0],g=+T[0][1],m=+T[1][0],v=+T[1][1]),S()):null==p?null:[[p,g],[m,v]]},M.scale=function(T){return arguments.length?(l=+T,S()):l},M.translate=function(T){return arguments.length?(a=+T[0],o=+T[1],S()):[a,o]},M.angle=function(T){return arguments.length?(f=mn(h=T%360*Nn),d=Dn(h),S()):h*Sr},M.reflectX=function(T){return arguments.length?(c=T?-1:1,S()):c<0},M.reflectY=function(T){return arguments.length?(u=T?-1:1,S()):u<0},M.fitExtent=function(T,E){return eT(M,T,E)},M.fitSize=function(T,E){return nR(M,T,E)},M.fitWidth=function(T,E){return iR(M,T,E)},M.fitHeight=function(T,E){return rR(M,T,E)},M}function hR(l,a){var o=a*a,c=o*o;return[l*(.8707-.131979*o+c*(c*(.003971*o-.001529*c)-.013791)),a*(1.007226+o*(.015085+c*(.028874*o-.044475-.005916*c)))]}function $Oe(){return Lu(hR).scale(175.295)}function dR(l,a){return[Dn(a)*mn(l),mn(a)]}function qOe(){return Lu(dR).scale(249.5).clipAngle(90+Ln)}function fR(l,a){var o=Dn(a),c=1+Dn(l)*o;return[o*mn(l)/c,mn(a)/c]}function YOe(){return Lu(fR).scale(250).clipAngle(142)}function pR(l,a){return[T2(TO((hs+a)/2)),-l]}function ZOe(){var l=JX(pR),a=l.center,o=l.rotate;return l.center=function(c){return arguments.length?a([-c[1],c[0]]):[(c=a())[1],-c[0]]},l.rotate=function(c){return arguments.length?o([c[0],c[1],c.length>2?c[2]+90:90]):[(c=o())[0],c[1],c[2]-90]},o([0,0,90]).scale(159.155)}function XOe(l,a){return l.parent===a.parent?1:2}function QOe(l,a){return l+a.x}function eRe(l,a){return Math.max(l,a.y)}function iRe(){var l=XOe,a=1,o=1,c=!1;function u(h){var d,f=0;h.eachAfter(function(_){var y=_.children;y?(_.x=function KOe(l){return l.reduce(QOe,0)/l.length}(y),_.y=function JOe(l){return 1+l.reduce(eRe,0)}(y)):(_.x=d?f+=l(_,d):0,_.y=0,d=_)});var p=function tRe(l){for(var a;a=l.children;)l=a[0];return l}(h),g=function nRe(l){for(var a;a=l.children;)l=a[a.length-1];return l}(h),m=p.x-l(p,g)/2,v=g.x+l(g,p)/2;return h.eachAfter(c?function(_){_.x=(_.x-h.x)*a,_.y=(h.y-_.y)*o}:function(_){_.x=(_.x-m)/(v-m)*a,_.y=(1-(h.y?_.y/h.y:1))*o})}return u.separation=function(h){return arguments.length?(l=h,u):l},u.size=function(h){return arguments.length?(c=!1,a=+h[0],o=+h[1],u):c?null:[a,o]},u.nodeSize=function(h){return arguments.length?(c=!0,a=+h[0],o=+h[1],u):c?[a,o]:null},u}function rRe(l){var a=0,o=l.children,c=o&&o.length;if(c)for(;--c>=0;)a+=o[c].value;else a=1;l.value=a}function gR(l,a){l instanceof Map?(l=[void 0,l],void 0===a&&(a=xRe)):void 0===a&&(a=bRe);for(var c,h,d,f,p,o=new Np(l),u=[o];c=u.pop();)if((d=a(c.data))&&(p=(d=Array.from(d)).length))for(c.children=d,f=p-1;f>=0;--f)u.push(h=d[f]=new Np(d[f])),h.parent=c,h.depth=c.depth+1;return o.eachBefore(nK)}function bRe(l){return l.children}function xRe(l){return Array.isArray(l)?l[1]:null}function CRe(l){void 0!==l.data.value&&(l.value=l.data.value),l.data=l.data.data}function nK(l){var a=0;do{l.height=a}while((l=l.parent)&&l.height<++a)}function Np(l){this.data=l,this.depth=this.height=0,this.parent=null}function iK(l){for(var u,h,a=0,o=(l=function SRe(l){for(var o,c,a=l.length;a;)c=Math.random()*a--|0,o=l[a],l[a]=l[c],l[c]=o;return l}(Array.from(l))).length,c=[];a<o;)u=l[a],h&&rK(h,u)?++a:(h=MRe(c=TRe(c,u)),a=0);return h}function TRe(l,a){var o,c;if(mR(a,l))return[a];for(o=0;o<l.length;++o)if(rT(a,l[o])&&mR(gb(l[o],a),l))return[l[o],a];for(o=0;o<l.length-1;++o)for(c=o+1;c<l.length;++c)if(rT(gb(l[o],l[c]),a)&&rT(gb(l[o],a),l[c])&&rT(gb(l[c],a),l[o])&&mR(sK(l[o],l[c],a),l))return[l[o],l[c],a];throw new Error}function rT(l,a){var o=l.r-a.r,c=a.x-l.x,u=a.y-l.y;return o<0||o*o<c*c+u*u}function rK(l,a){var o=l.r-a.r+1e-9*Math.max(l.r,a.r,1),c=a.x-l.x,u=a.y-l.y;return o>0&&o*o>c*c+u*u}function mR(l,a){for(var o=0;o<a.length;++o)if(!rK(l,a[o]))return!1;return!0}function MRe(l){switch(l.length){case 1:return function DRe(l){return{x:l.x,y:l.y,r:l.r}}(l[0]);case 2:return gb(l[0],l[1]);case 3:return sK(l[0],l[1],l[2])}}function gb(l,a){var o=l.x,c=l.y,u=l.r,h=a.x,d=a.y,f=a.r,p=h-o,g=d-c,m=f-u,v=Math.sqrt(p*p+g*g);return{x:(o+h+p/v*m)/2,y:(c+d+g/v*m)/2,r:(v+u+f)/2}}function sK(l,a,o){var c=l.x,u=l.y,h=l.r,d=a.x,f=a.y,p=a.r,g=o.x,m=o.y,v=o.r,_=c-d,y=c-g,b=u-f,C=u-m,x=p-h,w=v-h,S=c*c+u*u-h*h,M=S-d*d-f*f+p*p,T=S-g*g-m*m+v*v,E=y*b-_*C,k=(b*T-C*M)/(2*E)-c,R=(C*x-b*w)/E,D=(y*M-_*T)/(2*E)-u,P=(_*w-y*x)/E,F=R*R+P*P-1,L=2*(h+k*R+D*P),$=k*k+D*D-h*h,Y=-(F?(L+Math.sqrt(L*L-4*F*$))/(2*F):$/L);return{x:c+k+R*Y,y:u+D+P*Y,r:Y}}function oK(l,a,o){var u,h,f,p,c=l.x-a.x,d=l.y-a.y,g=c*c+d*d;g?(h=a.r+o.r,p=l.r+o.r,(h*=h)>(p*=p)?(u=(g+p-h)/(2*g),f=Math.sqrt(Math.max(0,p/g-u*u)),o.x=l.x-u*c-f*d,o.y=l.y-u*d+f*c):(u=(g+h-p)/(2*g),f=Math.sqrt(Math.max(0,h/g-u*u)),o.x=a.x+u*c-f*d,o.y=a.y+u*d+f*c)):(o.x=a.x+o.r,o.y=a.y)}function aK(l,a){var o=l.r+a.r-1e-6,c=a.x-l.x,u=a.y-l.y;return o>0&&o*o>c*c+u*u}function lK(l){var a=l._,o=l.next._,c=a.r+o.r,u=(a.x*o.r+o.x*a.r)/c,h=(a.y*o.r+o.y*a.r)/c;return u*u+h*h}function sT(l){this._=l,this.next=null,this.previous=null}function cK(l){if(!(u=(l=function wRe(l){return"object"==typeof l&&"length"in l?l:Array.from(l)}(l)).length))return 0;var a,o,c,u,h,d,f,p,g,m,v;if((a=l[0]).x=0,a.y=0,!(u>1))return a.r;if(a.x=-(o=l[1]).r,o.x=a.r,o.y=0,!(u>2))return a.r+o.r;oK(o,a,c=l[2]),a=new sT(a),o=new sT(o),c=new sT(c),a.next=c.previous=o,o.next=a.previous=c,c.next=o.previous=a;e:for(f=3;f<u;++f){oK(a._,o._,c=l[f]),c=new sT(c),p=o.next,g=a.previous,m=o._.r,v=a._.r;do{if(m<=v){if(aK(p._,c._)){a.next=o=p,o.previous=a,--f;continue e}m+=p._.r,p=p.next}else{if(aK(g._,c._)){(a=g).next=o,o.previous=a,--f;continue e}v+=g._.r,g=g.previous}}while(p!==g.next);for(c.previous=a,c.next=o,a.next=o.previous=o=c,h=lK(a);(c=c.next)!==o;)(d=lK(c))<h&&(a=c,h=d);o=a.next}for(a=[o._],c=o;(c=c.next)!==o;)a.push(c._);for(c=iK(a),f=0;f<u;++f)(a=l[f]).x-=c.x,a.y-=c.y;return c.r}function ERe(l){return cK(l),l}function oT(l){return null==l?null:uK(l)}function uK(l){if("function"!=typeof l)throw new Error;return l}function Bp(){return 0}function Y0(l){return function(){return l}}function kRe(l){return Math.sqrt(l.value)}function ARe(){var l=null,a=1,o=1,c=Bp;function u(h){return h.x=a/2,h.y=o/2,l?h.eachBefore(hK(l)).eachAfter(vR(c,.5)).eachBefore(dK(1)):h.eachBefore(hK(kRe)).eachAfter(vR(Bp,1)).eachAfter(vR(c,h.r/Math.min(a,o))).eachBefore(dK(Math.min(a,o)/(2*h.r))),h}return u.radius=function(h){return arguments.length?(l=oT(h),u):l},u.size=function(h){return arguments.length?(a=+h[0],o=+h[1],u):[a,o]},u.padding=function(h){return arguments.length?(c="function"==typeof h?h:Y0(+h),u):c},u}function hK(l){return function(a){a.children||(a.r=Math.max(0,+l(a)||0))}}function vR(l,a){return function(o){if(c=o.children){var c,u,f,h=c.length,d=l(o)*a||0;if(d)for(u=0;u<h;++u)c[u].r+=d;if(f=cK(c),d)for(u=0;u<h;++u)c[u].r-=d;o.r=f+d}}}function dK(l){return function(a){var o=a.parent;a.r*=l,o&&(a.x=o.x+l*a.x,a.y=o.y+l*a.y)}}function fK(l){l.x0=Math.round(l.x0),l.y0=Math.round(l.y0),l.x1=Math.round(l.x1),l.y1=Math.round(l.y1)}function mb(l,a,o,c,u){for(var d,h=l.children,f=-1,p=h.length,g=l.value&&(c-a)/l.value;++f<p;)(d=h[f]).y0=o,d.y1=u,d.x0=a,d.x1=a+=d.value*g}function IRe(){var l=1,a=1,o=0,c=!1;function u(d){var f=d.height+1;return d.x0=d.y0=o,d.x1=l,d.y1=a/f,d.eachBefore(function h(d,f){return function(p){p.children&&mb(p,p.x0,d*(p.depth+1)/f,p.x1,d*(p.depth+2)/f);var g=p.x0,m=p.y0,v=p.x1-o,_=p.y1-o;v<g&&(g=v=(g+v)/2),_<m&&(m=_=(m+_)/2),p.x0=g,p.y0=m,p.x1=v,p.y1=_}}(a,f)),c&&d.eachBefore(fK),d}return u.round=function(d){return arguments.length?(c=!!d,u):c},u.size=function(d){return arguments.length?(l=+d[0],a=+d[1],u):[l,a]},u.padding=function(d){return arguments.length?(o=+d,u):o},u}cR.invert=function(l,a){for(var d,o=a,c=o*o,u=c*c*c,h=0;h<12&&(u=(c=(o-=d=(o*(hb+db*c+u*(fb+pb*c))-a)/(hb+3*db*c+u*(7*fb+9*pb*c)))*o)*c*c,!(Ni(d)<X1));++h);return[iT*l*(hb+3*db*c+u*(7*fb+9*pb*c))/Dn(o),fa(mn(o)/iT)]},uR.invert=lb(U0),hR.invert=function(l,a){var u,o=a,c=25;do{var h=o*o,d=h*h;o-=u=(o*(1.007226+h*(.015085+d*(.028874*h-.044475-.005916*d)))-a)/(1.007226+h*(.045255+d*(.259866*h-.311325-.005916*11*d)))}while(Ni(u)>Ln&&--c>0);return[l/(.8707+(h=o*o)*(h*(h*h*h*(.003971-.001529*h)-.013791)-.131979)),o]},dR.invert=lb(fa),fR.invert=lb(function(l){return 2*U0(l)}),pR.invert=function(l,a){return[-a,2*U0(UZ(l))-hs]},Np.prototype=gR.prototype={constructor:Np,count:function sRe(){return this.eachAfter(rRe)},each:function oRe(l,a){let o=-1;for(const c of this)l.call(a,c,++o,this);return this},eachAfter:function lRe(l,a){for(var h,d,f,o=this,c=[o],u=[],p=-1;o=c.pop();)if(u.push(o),h=o.children)for(d=0,f=h.length;d<f;++d)c.push(h[d]);for(;o=u.pop();)l.call(a,o,++p,this);return this},eachBefore:function aRe(l,a){for(var u,h,o=this,c=[o],d=-1;o=c.pop();)if(l.call(a,o,++d,this),u=o.children)for(h=u.length-1;h>=0;--h)c.push(u[h]);return this},find:function cRe(l,a){let o=-1;for(const c of this)if(l.call(a,c,++o,this))return c},sum:function uRe(l){return this.eachAfter(function(a){for(var o=+l(a.data)||0,c=a.children,u=c&&c.length;--u>=0;)o+=c[u].value;a.value=o})},sort:function hRe(l){return this.eachBefore(function(a){a.children&&a.children.sort(l)})},path:function dRe(l){for(var a=this,o=function fRe(l,a){if(l===a)return l;var o=l.ancestors(),c=a.ancestors(),u=null;for(l=o.pop(),a=c.pop();l===a;)u=l,l=o.pop(),a=c.pop();return u}(a,l),c=[a];a!==o;)c.push(a=a.parent);for(var u=c.length;l!==o;)c.splice(u,0,l),l=l.parent;return c},ancestors:function pRe(){for(var l=this,a=[l];l=l.parent;)a.push(l);return a},descendants:function gRe(){return Array.from(this)},leaves:function mRe(){var l=[];return this.eachBefore(function(a){a.children||l.push(a)}),l},links:function vRe(){var l=this,a=[];return l.each(function(o){o!==l&&a.push({source:o.parent,target:o})}),a},copy:function yRe(){return gR(this).eachBefore(CRe)},[Symbol.iterator]:function*_Re(){var a,c,u,h,l=this,o=[l];do{for(a=o.reverse(),o=[];l=a.pop();)if(yield l,c=l.children)for(u=0,h=c.length;u<h;++u)o.push(c[u])}while(o.length)}};var PRe={depth:-1},pK={},_R={};function ORe(l){return l.id}function RRe(l){return l.parentId}function FRe(){var o,l=ORe,a=RRe;function c(u){var p,g,m,v,_,y,b,C,h=Array.from(u),d=l,f=a,x=new Map;if(null!=o){const w=h.map((T,E)=>function LRe(l){let a=(l=`${l}`).length;return yR(l,a-1)&&!yR(l,a-2)&&(l=l.slice(0,-1)),"/"===l[0]?l:`/${l}`}(o(T,E,u))),S=w.map(gK),M=new Set(w).add("");for(const T of S)M.has(T)||(M.add(T),w.push(T),S.push(gK(T)),h.push(_R));d=(T,E)=>w[E],f=(T,E)=>S[E]}for(m=0,p=h.length;m<p;++m)y=h[m]=new Np(g=h[m]),null!=(b=d(g,m,u))&&(b+="")&&(C=y.id=b,x.set(C,x.has(C)?pK:y)),null!=(b=f(g,m,u))&&(b+="")&&(y.parent=b);for(m=0;m<p;++m)if(b=(y=h[m]).parent){if(!(_=x.get(b)))throw new Error("missing: "+b);if(_===pK)throw new Error("ambiguous: "+b);_.children?_.children.push(y):_.children=[y],y.parent=_}else{if(v)throw new Error("multiple roots");v=y}if(!v)throw new Error("no root");if(null!=o){for(;v.data===_R&&1===v.children.length;)v=v.children[0],--p;for(let w=h.length-1;w>=0&&(y=h[w]).data===_R;--w)y.data=null}if(v.parent=PRe,v.eachBefore(function(w){w.depth=w.parent.depth+1,--p}).eachBefore(nK),v.parent=null,p>0)throw new Error("cycle");return v}return c.id=function(u){return arguments.length?(l=oT(u),c):l},c.parentId=function(u){return arguments.length?(a=oT(u),c):a},c.path=function(u){return arguments.length?(o=oT(u),c):o},c}function gK(l){let a=l.length;if(a<2)return"";for(;--a>1&&!yR(l,a););return l.slice(0,a)}function yR(l,a){if("/"===l[a]){let o=0;for(;a>0&&"\\"===l[--a];)++o;if(0==(1&o))return!0}return!1}function NRe(l,a){return l.parent===a.parent?1:2}function bR(l){var a=l.children;return a?a[0]:l.t}function xR(l){var a=l.children;return a?a[a.length-1]:l.t}function BRe(l,a,o){var c=o/(a.i-l.i);a.c-=c,a.s+=o,l.c+=c,a.z+=o,a.m+=o}function zRe(l,a,o){return l.a.parent===a.parent?l.a:o}function aT(l,a){this._=l,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=a}function HRe(){var l=NRe,a=1,o=1,c=null;function u(g){var m=function URe(l){for(var o,u,h,d,f,a=new aT(l,0),c=[a];o=c.pop();)if(h=o._.children)for(o.children=new Array(f=h.length),d=f-1;d>=0;--d)c.push(u=o.children[d]=new aT(h[d],d)),u.parent=o;return(a.parent=new aT(null,0)).children=[a],a}(g);if(m.eachAfter(h),m.parent.m=-m.z,m.eachBefore(d),c)g.eachBefore(p);else{var v=g,_=g,y=g;g.eachBefore(function(S){S.x<v.x&&(v=S),S.x>_.x&&(_=S),S.depth>y.depth&&(y=S)});var b=v===_?1:l(v,_)/2,C=b-v.x,x=a/(_.x+b+C),w=o/(y.depth||1);g.eachBefore(function(S){S.x=(S.x+C)*x,S.y=S.depth*w})}return g}function h(g){var m=g.children,v=g.parent.children,_=g.i?v[g.i-1]:null;if(m){!function VRe(l){for(var h,a=0,o=0,c=l.children,u=c.length;--u>=0;)(h=c[u]).z+=a,h.m+=a,a+=h.s+(o+=h.c)}(g);var y=(m[0].z+m[m.length-1].z)/2;_?(g.z=_.z+l(g._,_._),g.m=g.z-y):g.z=y}else _&&(g.z=_.z+l(g._,_._));g.parent.A=function f(g,m,v){if(m){for(var T,_=g,y=g,b=m,C=_.parent.children[0],x=_.m,w=y.m,S=b.m,M=C.m;b=xR(b),_=bR(_),b&&_;)C=bR(C),(y=xR(y)).a=g,(T=b.z+S-_.z-x+l(b._,_._))>0&&(BRe(zRe(b,g,v),g,T),x+=T,w+=T),S+=b.m,x+=_.m,M+=C.m,w+=y.m;b&&!xR(y)&&(y.t=b,y.m+=S-w),_&&!bR(C)&&(C.t=_,C.m+=x-M,v=g)}return v}(g,_,g.parent.A||v[0])}function d(g){g._.x=g.z+g.parent.m,g.m+=g.parent.m}function p(g){g.x*=a,g.y=g.depth*o}return u.separation=function(g){return arguments.length?(l=g,u):l},u.size=function(g){return arguments.length?(c=!1,a=+g[0],o=+g[1],u):c?null:[a,o]},u.nodeSize=function(g){return arguments.length?(c=!0,a=+g[0],o=+g[1],u):c?[a,o]:null},u}function lT(l,a,o,c,u){for(var d,h=l.children,f=-1,p=h.length,g=l.value&&(u-o)/l.value;++f<p;)(d=h[f]).x0=a,d.x1=c,d.y0=o,d.y1=o+=d.value*g}aT.prototype=Object.create(Np.prototype);var mK=(1+Math.sqrt(5))/2;function vK(l,a,o,c,u,h){for(var p,g,y,b,x,w,S,M,T,E,k,d=[],f=a.children,m=0,v=0,_=f.length,C=a.value;m<_;){y=u-o,b=h-c;do{x=f[v++].value}while(!x&&v<_);for(w=S=x,k=x*x*(E=Math.max(b/y,y/b)/(C*l)),T=Math.max(S/k,k/w);v<_;++v){if(x+=g=f[v].value,g<w&&(w=g),g>S&&(S=g),k=x*x*E,(M=Math.max(S/k,k/w))>T){x-=g;break}T=M}d.push(p={value:x,dice:y<b,children:f.slice(m,v)}),p.dice?mb(p,o,c,u,C?c+=b*x/C:h):lT(p,o,c,C?o+=y*x/C:u,h),C-=x,m=v}return d}const _K=function l(a){function o(c,u,h,d,f){vK(a,c,u,h,d,f)}return o.ratio=function(c){return l((c=+c)>1?c:1)},o}(mK);function GRe(){var l=_K,a=!1,o=1,c=1,u=[0],h=Bp,d=Bp,f=Bp,p=Bp,g=Bp;function m(_){return _.x0=_.y0=0,_.x1=o,_.y1=c,_.eachBefore(v),u=[0],a&&_.eachBefore(fK),_}function v(_){var y=u[_.depth],b=_.x0+y,C=_.y0+y,x=_.x1-y,w=_.y1-y;x<b&&(b=x=(b+x)/2),w<C&&(C=w=(C+w)/2),_.x0=b,_.y0=C,_.x1=x,_.y1=w,_.children&&(y=u[_.depth+1]=h(_)/2,b+=g(_)-y,C+=d(_)-y,(x-=f(_)-y)<b&&(b=x=(b+x)/2),(w-=p(_)-y)<C&&(C=w=(C+w)/2),l(_,b,C,x,w))}return m.round=function(_){return arguments.length?(a=!!_,m):a},m.size=function(_){return arguments.length?(o=+_[0],c=+_[1],m):[o,c]},m.tile=function(_){return arguments.length?(l=uK(_),m):l},m.padding=function(_){return arguments.length?m.paddingInner(_).paddingOuter(_):m.paddingInner()},m.paddingInner=function(_){return arguments.length?(h="function"==typeof _?_:Y0(+_),m):h},m.paddingOuter=function(_){return arguments.length?m.paddingTop(_).paddingRight(_).paddingBottom(_).paddingLeft(_):m.paddingTop()},m.paddingTop=function(_){return arguments.length?(d="function"==typeof _?_:Y0(+_),m):d},m.paddingRight=function(_){return arguments.length?(f="function"==typeof _?_:Y0(+_),m):f},m.paddingBottom=function(_){return arguments.length?(p="function"==typeof _?_:Y0(+_),m):p},m.paddingLeft=function(_){return arguments.length?(g="function"==typeof _?_:Y0(+_),m):g},m}function WRe(l,a,o,c,u){var d,p,h=l.children,f=h.length,g=new Array(f+1);for(g[0]=p=d=0;d<f;++d)g[d+1]=p+=h[d].value;!function m(v,_,y,b,C,x,w){if(v>=_-1){var S=h[v];return S.x0=b,S.y0=C,S.x1=x,void(S.y1=w)}for(var M=g[v],T=y/2+M,E=v+1,k=_-1;E<k;){var R=E+k>>>1;g[R]<T?E=R+1:k=R}T-g[E-1]<g[E]-T&&v+1<E&&--E;var D=g[E]-M,P=y-D;if(x-b>w-C){var F=y?(b*P+x*D)/y:x;m(v,E,D,b,C,F,w),m(E,_,P,F,C,x,w)}else{var L=y?(C*P+w*D)/y:w;m(v,E,D,b,C,x,L),m(E,_,P,b,L,x,w)}}(0,f,l.value,a,o,c,u)}function jRe(l,a,o,c,u){(1&l.depth?lT:mb)(l,a,o,c,u)}const $Re=function l(a){function o(c,u,h,d,f){if((p=c._squarify)&&p.ratio===a)for(var p,g,m,v,y,_=-1,b=p.length,C=c.value;++_<b;){for(m=(g=p[_]).children,v=g.value=0,y=m.length;v<y;++v)g.value+=m[v].value;g.dice?mb(g,u,h,d,C?h+=(f-h)*g.value/C:f):lT(g,u,h,C?u+=(d-u)*g.value/C:d,f),C-=g.value}else c._squarify=p=vK(a,c,u,h,d,f),p.ratio=a}return o.ratio=function(c){return l((c=+c)>1?c:1)},o}(mK);function qRe(l){var a=l.length;return function(o){return l[Math.max(0,Math.min(a-1,Math.floor(o*a)))]}}function YRe(l,a){var o=zS(+l,+a);return function(c){var u=o(c);return u-360*Math.floor(u/360)}}function cT(l,a){return l=+l,a=+a,function(o){return Math.round(l*(1-o)+a*o)}}function yK(l){return((l=Math.exp(l))+1/l)/2}const bK=function l(a,o,c){function u(h,d){var x,w,f=h[0],p=h[1],g=h[2],_=d[2],y=d[0]-f,b=d[1]-p,C=y*y+b*b;if(C<1e-12)w=Math.log(_/g)/a,x=function(R){return[f+R*y,p+R*b,g*Math.exp(a*R*w)]};else{var S=Math.sqrt(C),M=(_*_-g*g+c*C)/(2*g*o*S),T=(_*_-g*g-c*C)/(2*_*o*S),E=Math.log(Math.sqrt(M*M+1)-M),k=Math.log(Math.sqrt(T*T+1)-T);w=(k-E)/a,x=function(R){var D=R*w,P=yK(E),F=g/(o*S)*(P*function KRe(l){return((l=Math.exp(2*l))-1)/(l+1)}(a*D+E)-function XRe(l){return((l=Math.exp(l))-1/l)/2}(E));return[f+F*y,p+F*b,g*P/yK(a*D+E)]}}return x.duration=1e3*w*a/Math.SQRT2,x}return u.rho=function(h){var d=Math.max(.001,+h),f=d*d;return l(d,f,f*f)},u}(Math.SQRT2,2,4);function xK(l){return function(a,o){var c=l((a=BS(a)).h,(o=BS(o)).h),u=so(a.s,o.s),h=so(a.l,o.l),d=so(a.opacity,o.opacity);return function(f){return a.h=c(f),a.s=u(f),a.l=h(f),a.opacity=d(f),a+""}}}const QRe=xK(zS);var JRe=xK(so);function eFe(l,a){var o=so((l=JS(l)).l,(a=JS(a)).l),c=so(l.a,a.a),u=so(l.b,a.b),h=so(l.opacity,a.opacity);return function(d){return l.l=o(d),l.a=c(d),l.b=u(d),l.opacity=h(d),l+""}}function CK(l){return function(a,o){var c=l((a=e2(a)).h,(o=e2(o)).h),u=so(a.c,o.c),h=so(a.l,o.l),d=so(a.opacity,o.opacity);return function(f){return a.h=c(f),a.c=u(f),a.l=h(f),a.opacity=d(f),a+""}}}const tFe=CK(zS);var nFe=CK(so);function wK(l){return function a(o){function c(u,h){var d=l((u=Ic(u)).h,(h=Ic(h)).h),f=so(u.s,h.s),p=so(u.l,h.l),g=so(u.opacity,h.opacity);return function(m){return u.h=d(m),u.s=f(m),u.l=p(Math.pow(m,o)),u.opacity=g(m),u+""}}return o=+o,c.gamma=a,c}(1)}const iFe=wK(zS);var uT=wK(so);function SK(l,a){void 0===a&&(a=l,l=Ld);for(var o=0,c=a.length-1,u=a[0],h=new Array(c<0?0:c);o<c;)h[o]=l(u,u=a[++o]);return function(d){var f=Math.max(0,Math.min(c-1,Math.floor(d*=c)));return h[f](d-f)}}function rFe(l,a){for(var o=new Array(a),c=0;c<a;++c)o[c]=l(c/(a-1));return o}function sFe(l){for(var c,a=-1,o=l.length,u=l[o-1],h=0;++a<o;)h+=(c=u)[1]*(u=l[a])[0]-c[0]*u[1];return h/2}function oFe(l){for(var h,f,a=-1,o=l.length,c=0,u=0,d=l[o-1],p=0;++a<o;)p+=f=(h=d)[0]*(d=l[a])[1]-d[0]*h[1],c+=(h[0]+d[0])*f,u+=(h[1]+d[1])*f;return[c/(p*=3),u/p]}function aFe(l,a,o){return(a[0]-l[0])*(o[1]-l[1])-(a[1]-l[1])*(o[0]-l[0])}function lFe(l,a){return l[0]-a[0]||l[1]-a[1]}function TK(l){const a=l.length,o=[0,1];let u,c=2;for(u=2;u<a;++u){for(;c>1&&aFe(l[o[c-2]],l[o[c-1]],l[u])<=0;)--c;o[c++]=u}return o.slice(0,c)}function cFe(l){if((o=l.length)<3)return null;var a,o,c=new Array(o),u=new Array(o);for(a=0;a<o;++a)c[a]=[+l[a][0],+l[a][1],a];for(c.sort(lFe),a=0;a<o;++a)u[a]=[c[a][0],-c[a][1]];var h=TK(c),d=TK(u),f=d[0]===h[0],p=d[d.length-1]===h[h.length-1],g=[];for(a=h.length-1;a>=0;--a)g.push(l[c[h[a]][2]]);for(a=+f;a<d.length-p;++a)g.push(l[c[d[a]][2]]);return g}function uFe(l,a){for(var p,g,o=l.length,c=l[o-1],u=a[0],h=a[1],d=c[0],f=c[1],m=!1,v=0;v<o;++v)p=(c=l[v])[0],(g=c[1])>h!=f>h&&u<(d-p)*(h-g)/(f-g)+p&&(m=!m),d=p,f=g;return m}function hFe(l){for(var u,h,a=-1,o=l.length,c=l[o-1],d=c[0],f=c[1],p=0;++a<o;)u=d,h=f,u-=d=(c=l[a])[0],h-=f=c[1],p+=Math.hypot(u,h);return p}const _o=Math.random,dFe=function l(a){function o(c,u){return c=null==c?0:+c,u=null==u?1:+u,1===arguments.length?(u=c,c=0):u-=c,function(){return a()*u+c}}return o.source=l,o}(_o),fFe=function l(a){function o(c,u){return arguments.length<2&&(u=c,c=0),c=Math.floor(c),u=Math.floor(u)-c,function(){return Math.floor(a()*u+c)}}return o.source=l,o}(_o),CR=function l(a){function o(c,u){var h,d;return c=null==c?0:+c,u=null==u?1:+u,function(){var f;if(null!=h)f=h,h=null;else do{h=2*a()-1,f=2*a()-1,d=h*h+f*f}while(!d||d>1);return c+u*f*Math.sqrt(-2*Math.log(d)/d)}}return o.source=l,o}(_o),pFe=function l(a){var o=CR.source(a);function c(){var u=o.apply(this,arguments);return function(){return Math.exp(u())}}return c.source=l,c}(_o),MK=function l(a){function o(c){return(c=+c)<=0?()=>0:function(){for(var u=0,h=c;h>1;--h)u+=a();return u+h*a()}}return o.source=l,o}(_o),gFe=function l(a){var o=MK.source(a);function c(u){if(0==(u=+u))return a;var h=o(u);return function(){return h()/u}}return c.source=l,c}(_o),mFe=function l(a){function o(c){return function(){return-Math.log1p(-a())/c}}return o.source=l,o}(_o),vFe=function l(a){function o(c){if((c=+c)<0)throw new RangeError("invalid alpha");return c=1/-c,function(){return Math.pow(1-a(),c)}}return o.source=l,o}(_o),_Fe=function l(a){function o(c){if((c=+c)<0||c>1)throw new RangeError("invalid p");return function(){return Math.floor(a()+c)}}return o.source=l,o}(_o),DK=function l(a){function o(c){if((c=+c)<0||c>1)throw new RangeError("invalid p");return 0===c?()=>1/0:1===c?()=>1:(c=Math.log1p(-c),function(){return 1+Math.floor(Math.log1p(-a())/c)})}return o.source=l,o}(_o),wR=function l(a){var o=CR.source(a)();function c(u,h){if((u=+u)<0)throw new RangeError("invalid k");if(0===u)return()=>0;if(h=null==h?1:+h,1===u)return()=>-Math.log1p(-a())*h;var d=(u<1?u+1:u)-1/3,f=1/(3*Math.sqrt(d)),p=u<1?()=>Math.pow(a(),1/u):()=>1;return function(){do{do{var g=o(),m=1+f*g}while(m<=0);m*=m*m;var v=1-a()}while(v>=1-.0331*g*g*g*g&&Math.log(v)>=.5*g*g+d*(1-m+Math.log(m)));return d*m*p()*h}}return c.source=l,c}(_o),EK=function l(a){var o=wR.source(a);function c(u,h){var d=o(u),f=o(h);return function(){var p=d();return 0===p?0:p/(p+f())}}return c.source=l,c}(_o),kK=function l(a){var o=DK.source(a),c=EK.source(a);function u(h,d){return h=+h,(d=+d)>=1?()=>h:d<=0?()=>0:function(){for(var f=0,p=h,g=d;p*g>16&&p*(1-g)>16;){var m=Math.floor((p+1)*g),v=c(m,p-m+1)();v<=g?(f+=m,p-=m,g=(g-v)/(1-v)):(p=m-1,g/=v)}for(var _=g<.5,b=o(_?g:1-g),C=b(),x=0;C<=p;++x)C+=b();return f+(_?x:p-x)}}return u.source=l,u}(_o),yFe=function l(a){function o(c,u,h){var d;return 0==(c=+c)?d=f=>-Math.log(f):(c=1/c,d=f=>Math.pow(f,c)),u=null==u?0:+u,h=null==h?1:+h,function(){return u+h*d(-Math.log1p(-a()))}}return o.source=l,o}(_o),bFe=function l(a){function o(c,u){return c=null==c?0:+c,u=null==u?1:+u,function(){return c+u*Math.tan(Math.PI*a())}}return o.source=l,o}(_o),xFe=function l(a){function o(c,u){return c=null==c?0:+c,u=null==u?1:+u,function(){var h=a();return c+u*Math.log(h/(1-h))}}return o.source=l,o}(_o),CFe=function l(a){var o=wR.source(a),c=kK.source(a);function u(h){return function(){for(var d=0,f=h;f>16;){var p=Math.floor(.875*f),g=o(p)();if(g>f)return d+c(p-1,f/g)();d+=p,f-=g}for(var m=-Math.log1p(-a()),v=0;m<=f;++v)m-=Math.log1p(-a());return d+v}}return u.source=l,u}(_o),AK=1/4294967296;function TFe(l=Math.random()){let a=0|(0<=l&&l<1?l/AK:Math.abs(l));return()=>(a=1664525*a+1013904223|0,AK*(a>>>0))}function Yl(l,a){switch(arguments.length){case 0:break;case 1:this.range(l);break;default:this.range(a).domain(l)}return this}function Nh(l,a){switch(arguments.length){case 0:break;case 1:"function"==typeof l?this.interpolator(l):this.range(l);break;default:this.domain(l),"function"==typeof a?this.interpolator(a):this.range(a)}return this}const SR=Symbol("implicit");function TR(){var l=new S1,a=[],o=[],c=SR;function u(h){let d=l.get(h);if(void 0===d){if(c!==SR)return c;l.set(h,d=a.push(h)-1)}return o[d%o.length]}return u.domain=function(h){if(!arguments.length)return a.slice();a=[],l=new S1;for(const d of h)l.has(d)||l.set(d,a.push(d)-1);return u},u.range=function(h){return arguments.length?(o=Array.from(h),u):o.slice()},u.unknown=function(h){return arguments.length?(c=h,u):c},u.copy=function(){return TR(a,o).unknown(c)},Yl.apply(u,arguments),u}function MR(){var h,d,l=TR().unknown(void 0),a=l.domain,o=l.range,c=0,u=1,f=!1,p=0,g=0,m=.5;function v(){var _=a().length,y=u<c,b=y?u:c,C=y?c:u;h=(C-b)/Math.max(1,_-p+2*g),f&&(h=Math.floor(h)),b+=(C-b-h*(_-p))*m,d=h*(1-p),f&&(b=Math.round(b),d=Math.round(d));var x=sl(_).map(function(w){return b+h*w});return o(y?x.reverse():x)}return delete l.unknown,l.domain=function(_){return arguments.length?(a(_),v()):a()},l.range=function(_){return arguments.length?([c,u]=_,c=+c,u=+u,v()):[c,u]},l.rangeRound=function(_){return[c,u]=_,c=+c,u=+u,f=!0,v()},l.bandwidth=function(){return d},l.step=function(){return h},l.round=function(_){return arguments.length?(f=!!_,v()):f},l.padding=function(_){return arguments.length?(p=Math.min(1,g=+_),v()):p},l.paddingInner=function(_){return arguments.length?(p=Math.min(1,_),v()):p},l.paddingOuter=function(_){return arguments.length?(g=+_,v()):g},l.align=function(_){return arguments.length?(m=Math.max(0,Math.min(1,_)),v()):m},l.copy=function(){return MR(a(),[c,u]).round(f).paddingInner(p).paddingOuter(g).align(m)},Yl.apply(v(),arguments)}function IK(l){var a=l.copy;return l.padding=l.paddingOuter,delete l.paddingInner,delete l.paddingOuter,l.copy=function(){return IK(a())},l}function MFe(){return IK(MR.apply(null,arguments).paddingInner(1))}function hT(l){return+l}var PK=[0,1];function va(l){return l}function DR(l,a){return(a-=l=+l)?function(o){return(o-l)/a}:function DFe(l){return function(){return l}}(isNaN(a)?NaN:.5)}function kFe(l,a,o){var c=l[0],u=l[1],h=a[0],d=a[1];return u<c?(c=DR(u,c),h=o(d,h)):(c=DR(c,u),h=o(h,d)),function(f){return h(c(f))}}function AFe(l,a,o){var c=Math.min(l.length,a.length)-1,u=new Array(c),h=new Array(c),d=-1;for(l[c]<l[0]&&(l=l.slice().reverse(),a=a.slice().reverse());++d<c;)u[d]=DR(l[d],l[d+1]),h[d]=o(a[d],a[d+1]);return function(f){var p=dp(l,f,1,c)-1;return h[p](u[p](f))}}function vb(l,a){return a.domain(l.domain()).range(l.range()).interpolate(l.interpolate()).clamp(l.clamp()).unknown(l.unknown())}function dT(){var c,u,h,f,p,g,l=PK,a=PK,o=Ld,d=va;function m(){var _=Math.min(l.length,a.length);return d!==va&&(d=function EFe(l,a){var o;return l>a&&(o=l,l=a,a=o),function(c){return Math.max(l,Math.min(a,c))}}(l[0],l[_-1])),f=_>2?AFe:kFe,p=g=null,v}function v(_){return null==_||isNaN(_=+_)?h:(p||(p=f(l.map(c),a,o)))(c(d(_)))}return v.invert=function(_){return d(u((g||(g=f(a,l.map(c),$l)))(_)))},v.domain=function(_){return arguments.length?(l=Array.from(_,hT),m()):l.slice()},v.range=function(_){return arguments.length?(a=Array.from(_),m()):a.slice()},v.rangeRound=function(_){return a=Array.from(_),o=cT,m()},v.clamp=function(_){return arguments.length?(d=!!_||va,m()):d!==va},v.interpolate=function(_){return arguments.length?(o=_,m()):o},v.unknown=function(_){return arguments.length?(h=_,v):h},function(_,y){return c=_,u=y,m()}}function ER(){return dT()(va,va)}function OK(l,a,o,c){var h,u=g0(l,a,o);switch((c=z0(null==c?",f":c)).type){case"s":var d=Math.max(Math.abs(l),Math.abs(a));return null==c.precision&&!isNaN(h=VZ(u,d))&&(c.precision=h),CO(c,d);case"":case"e":case"g":case"p":case"r":null==c.precision&&!isNaN(h=zZ(u,Math.max(Math.abs(l),Math.abs(a))))&&(c.precision=h-("e"===c.type));break;case"f":case"%":null==c.precision&&!isNaN(h=BZ(u))&&(c.precision=h-2*("%"===c.type))}return C2(c)}function qd(l){var a=l.domain;return l.ticks=function(o){var c=a();return p0(c[0],c[c.length-1],null==o?10:o)},l.tickFormat=function(o,c){var u=a();return OK(u[0],u[u.length-1],null==o?10:o,c)},l.nice=function(o){null==o&&(o=10);var p,g,c=a(),u=0,h=c.length-1,d=c[u],f=c[h],m=10;for(f<d&&(g=d,d=f,f=g,g=u,u=h,h=g);m-- >0;){if((g=M1(d,f,o))===p)return c[u]=d,c[h]=f,a(c);if(g>0)d=Math.floor(d/g)*g,f=Math.ceil(f/g)*g;else{if(!(g<0))break;d=Math.ceil(d*g)/g,f=Math.floor(f*g)/g}p=g}return l},l}function Z0(){var l=ER();return l.copy=function(){return vb(l,Z0())},Yl.apply(l,arguments),qd(l)}function RK(l){var a;function o(c){return null==c||isNaN(c=+c)?a:c}return o.invert=o,o.domain=o.range=function(c){return arguments.length?(l=Array.from(c,hT),o):l.slice()},o.unknown=function(c){return arguments.length?(a=c,o):a},o.copy=function(){return RK(l).unknown(a)},l=arguments.length?Array.from(l,hT):[0,1],qd(o)}function FK(l,a){var d,o=0,c=(l=l.slice()).length-1,u=l[o],h=l[c];return h<u&&(d=o,o=c,c=d,d=u,u=h,h=d),l[o]=a.floor(u),l[c]=a.ceil(h),l}function LK(l){return Math.log(l)}function NK(l){return Math.exp(l)}function IFe(l){return-Math.log(-l)}function PFe(l){return-Math.exp(-l)}function OFe(l){return isFinite(l)?+("1e"+l):l<0?0:l}function BK(l){return(a,o)=>-l(-a,o)}function kR(l){const a=l(LK,NK),o=a.domain;let u,h,c=10;function d(){return u=function FFe(l){return l===Math.E?Math.log:10===l&&Math.log10||2===l&&Math.log2||(l=Math.log(l),a=>Math.log(a)/l)}(c),h=function RFe(l){return 10===l?OFe:l===Math.E?Math.exp:a=>Math.pow(l,a)}(c),o()[0]<0?(u=BK(u),h=BK(h),l(IFe,PFe)):l(LK,NK),a}return a.base=function(f){return arguments.length?(c=+f,d()):c},a.domain=function(f){return arguments.length?(o(f),d()):o()},a.ticks=f=>{const p=o();let g=p[0],m=p[p.length-1];const v=m<g;v&&([g,m]=[m,g]);let b,C,_=u(g),y=u(m);const x=null==f?10:+f;let w=[];if(!(c%1)&&y-_<x){if(_=Math.floor(_),y=Math.ceil(y),g>0){for(;_<=y;++_)for(b=1;b<c;++b)if(C=_<0?b/h(-_):b*h(_),!(C<g)){if(C>m)break;w.push(C)}}else for(;_<=y;++_)for(b=c-1;b>=1;--b)if(C=_>0?b/h(-_):b*h(_),!(C<g)){if(C>m)break;w.push(C)}2*w.length<x&&(w=p0(g,m,x))}else w=p0(_,y,Math.min(y-_,x)).map(h);return v?w.reverse():w},a.tickFormat=(f,p)=>{if(null==f&&(f=10),null==p&&(p=10===c?"s":","),"function"!=typeof p&&(!(c%1)&&null==(p=z0(p)).precision&&(p.trim=!0),p=C2(p)),f===1/0)return p;const g=Math.max(1,c*f/a.ticks().length);return m=>{let v=m/h(Math.round(u(m)));return v*c<c-.5&&(v*=c),v<=g?p(m):""}},a.nice=()=>o(FK(o(),{floor:f=>h(Math.floor(u(f))),ceil:f=>h(Math.ceil(u(f)))})),a}function VK(){const l=kR(dT()).domain([1,10]);return l.copy=()=>vb(l,VK()).base(l.base()),Yl.apply(l,arguments),l}function zK(l){return function(a){return Math.sign(a)*Math.log1p(Math.abs(a/l))}}function UK(l){return function(a){return Math.sign(a)*Math.expm1(Math.abs(a))*l}}function AR(l){var a=1,o=l(zK(a),UK(a));return o.constant=function(c){return arguments.length?l(zK(a=+c),UK(a)):a},qd(o)}function HK(){var l=AR(dT());return l.copy=function(){return vb(l,HK()).constant(l.constant())},Yl.apply(l,arguments)}function GK(l){return function(a){return a<0?-Math.pow(-a,l):Math.pow(a,l)}}function LFe(l){return l<0?-Math.sqrt(-l):Math.sqrt(l)}function NFe(l){return l<0?-l*l:l*l}function IR(l){var a=l(va,va),o=1;function c(){return 1===o?l(va,va):.5===o?l(LFe,NFe):l(GK(o),GK(1/o))}return a.exponent=function(u){return arguments.length?(o=+u,c()):o},qd(a)}function PR(){var l=IR(dT());return l.copy=function(){return vb(l,PR()).exponent(l.exponent())},Yl.apply(l,arguments),l}function BFe(){return PR.apply(null,arguments).exponent(.5)}function WK(l){return Math.sign(l)*l*l}function VFe(l){return Math.sign(l)*Math.sqrt(Math.abs(l))}function jK(){var c,l=ER(),a=[0,1],o=!1;function u(h){var d=VFe(l(h));return isNaN(d)?c:o?Math.round(d):d}return u.invert=function(h){return l.invert(WK(h))},u.domain=function(h){return arguments.length?(l.domain(h),u):l.domain()},u.range=function(h){return arguments.length?(l.range((a=Array.from(h,hT)).map(WK)),u):a.slice()},u.rangeRound=function(h){return u.range(h).round(!0)},u.round=function(h){return arguments.length?(o=!!h,u):o},u.clamp=function(h){return arguments.length?(l.clamp(h),u):l.clamp()},u.unknown=function(h){return arguments.length?(c=h,u):c},u.copy=function(){return jK(l.domain(),a).round(o).clamp(l.clamp()).unknown(c)},Yl.apply(u,arguments),qd(u)}function $K(){var c,l=[],a=[],o=[];function u(){var d=0,f=Math.max(1,a.length);for(o=new Array(f-1);++d<f;)o[d-1]=lq(l,d/f);return h}function h(d){return null==d||isNaN(d=+d)?c:a[dp(o,d)]}return h.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:[f>0?o[f-1]:l[0],f<o.length?o[f]:l[l.length-1]]},h.domain=function(d){if(!arguments.length)return l.slice();l=[];for(let f of d)null!=f&&!isNaN(f=+f)&&l.push(f);return l.sort(us),u()},h.range=function(d){return arguments.length?(a=Array.from(d),u()):a.slice()},h.unknown=function(d){return arguments.length?(c=d,h):c},h.quantiles=function(){return o.slice()},h.copy=function(){return $K().domain(l).range(a).unknown(c)},Yl.apply(h,arguments)}function qK(){var h,l=0,a=1,o=1,c=[.5],u=[0,1];function d(p){return null!=p&&p<=p?u[dp(c,p,0,o)]:h}function f(){var p=-1;for(c=new Array(o);++p<o;)c[p]=((p+1)*a-(p-o)*l)/(o+1);return d}return d.domain=function(p){return arguments.length?([l,a]=p,l=+l,a=+a,f()):[l,a]},d.range=function(p){return arguments.length?(o=(u=Array.from(p)).length-1,f()):u.slice()},d.invertExtent=function(p){var g=u.indexOf(p);return g<0?[NaN,NaN]:g<1?[l,c[0]]:g>=o?[c[o-1],a]:[c[g-1],c[g]]},d.unknown=function(p){return arguments.length&&(h=p),d},d.thresholds=function(){return c.slice()},d.copy=function(){return qK().domain([l,a]).range(u).unknown(h)},Yl.apply(qd(d),arguments)}function YK(){var o,l=[.5],a=[0,1],c=1;function u(h){return null!=h&&h<=h?a[dp(l,h,0,c)]:o}return u.domain=function(h){return arguments.length?(l=Array.from(h),c=Math.min(l.length,a.length-1),u):l.slice()},u.range=function(h){return arguments.length?(a=Array.from(h),c=Math.min(l.length,a.length-1),u):a.slice()},u.invertExtent=function(h){var d=a.indexOf(h);return[l[d-1],l[d]]},u.unknown=function(h){return arguments.length?(o=h,u):o},u.copy=function(){return YK().domain(l).range(a).unknown(o)},Yl.apply(u,arguments)}const Bh=1e3,Zl=6e4,Vh=60*Zl,Vp=24*Vh,OR=7*Vp,ZK=30*Vp,RR=365*Vp;var FR=new Date,LR=new Date;function Ys(l,a,o,c){function u(h){return l(h=0===arguments.length?new Date:new Date(+h)),h}return u.floor=function(h){return l(h=new Date(+h)),h},u.ceil=function(h){return l(h=new Date(h-1)),a(h,1),l(h),h},u.round=function(h){var d=u(h),f=u.ceil(h);return h-d<f-h?d:f},u.offset=function(h,d){return a(h=new Date(+h),null==d?1:Math.floor(d)),h},u.range=function(h,d,f){var g,p=[];if(h=u.ceil(h),f=null==f?1:Math.floor(f),!(h<d&&f>0))return p;do{p.push(g=new Date(+h)),a(h,f),l(h)}while(g<h&&h<d);return p},u.filter=function(h){return Ys(function(d){if(d>=d)for(;l(d),!h(d);)d.setTime(d-1)},function(d,f){if(d>=d)if(f<0)for(;++f<=0;)for(;a(d,-1),!h(d););else for(;--f>=0;)for(;a(d,1),!h(d););})},o&&(u.count=function(h,d){return FR.setTime(+h),LR.setTime(+d),l(FR),l(LR),Math.floor(o(FR,LR))},u.every=function(h){return h=Math.floor(h),isFinite(h)&&h>0?h>1?u.filter(c?function(d){return c(d)%h==0}:function(d){return u.count(0,d)%h==0}):u:null}),u}var fT=Ys(function(){},function(l,a){l.setTime(+l+a)},function(l,a){return a-l});fT.every=function(l){return l=Math.floor(l),isFinite(l)&&l>0?l>1?Ys(function(a){a.setTime(Math.floor(a/l)*l)},function(a,o){a.setTime(+a+o*l)},function(a,o){return(o-a)/l}):fT:null};const NR=fT;var XK=fT.range,KK=Ys(function(l){l.setTime(l-l.getMilliseconds())},function(l,a){l.setTime(+l+a*Bh)},function(l,a){return(a-l)/Bh},function(l){return l.getUTCSeconds()});const Yd=KK;var QK=KK.range,JK=Ys(function(l){l.setTime(l-l.getMilliseconds()-l.getSeconds()*Bh)},function(l,a){l.setTime(+l+a*Zl)},function(l,a){return(a-l)/Zl},function(l){return l.getMinutes()});const BR=JK;var zFe=JK.range,eQ=Ys(function(l){l.setTime(l-l.getMilliseconds()-l.getSeconds()*Bh-l.getMinutes()*Zl)},function(l,a){l.setTime(+l+a*Vh)},function(l,a){return(a-l)/Vh},function(l){return l.getHours()});const VR=eQ;var UFe=eQ.range,tQ=Ys(l=>l.setHours(0,0,0,0),(l,a)=>l.setDate(l.getDate()+a),(l,a)=>(a-l-(a.getTimezoneOffset()-l.getTimezoneOffset())*Zl)/Vp,l=>l.getDate()-1);const _b=tQ;var HFe=tQ.range;function zp(l){return Ys(function(a){a.setDate(a.getDate()-(a.getDay()+7-l)%7),a.setHours(0,0,0,0)},function(a,o){a.setDate(a.getDate()+7*o)},function(a,o){return(o-a-(o.getTimezoneOffset()-a.getTimezoneOffset())*Zl)/OR})}var X0=zp(0),yb=zp(1),nQ=zp(2),iQ=zp(3),Up=zp(4),rQ=zp(5),sQ=zp(6),oQ=X0.range,GFe=yb.range,WFe=nQ.range,jFe=iQ.range,$Fe=Up.range,qFe=rQ.range,YFe=sQ.range,aQ=Ys(function(l){l.setDate(1),l.setHours(0,0,0,0)},function(l,a){l.setMonth(l.getMonth()+a)},function(l,a){return a.getMonth()-l.getMonth()+12*(a.getFullYear()-l.getFullYear())},function(l){return l.getMonth()});const zR=aQ;var ZFe=aQ.range,UR=Ys(function(l){l.setMonth(0,1),l.setHours(0,0,0,0)},function(l,a){l.setFullYear(l.getFullYear()+a)},function(l,a){return a.getFullYear()-l.getFullYear()},function(l){return l.getFullYear()});UR.every=function(l){return isFinite(l=Math.floor(l))&&l>0?Ys(function(a){a.setFullYear(Math.floor(a.getFullYear()/l)*l),a.setMonth(0,1),a.setHours(0,0,0,0)},function(a,o){a.setFullYear(a.getFullYear()+o*l)}):null};const Zd=UR;var XFe=UR.range,lQ=Ys(function(l){l.setUTCSeconds(0,0)},function(l,a){l.setTime(+l+a*Zl)},function(l,a){return(a-l)/Zl},function(l){return l.getUTCMinutes()});const HR=lQ;var KFe=lQ.range,cQ=Ys(function(l){l.setUTCMinutes(0,0,0)},function(l,a){l.setTime(+l+a*Vh)},function(l,a){return(a-l)/Vh},function(l){return l.getUTCHours()});const GR=cQ;var QFe=cQ.range,uQ=Ys(function(l){l.setUTCHours(0,0,0,0)},function(l,a){l.setUTCDate(l.getUTCDate()+a)},function(l,a){return(a-l)/Vp},function(l){return l.getUTCDate()-1});const bb=uQ;var JFe=uQ.range;function Hp(l){return Ys(function(a){a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+7-l)%7),a.setUTCHours(0,0,0,0)},function(a,o){a.setUTCDate(a.getUTCDate()+7*o)},function(a,o){return(o-a)/OR})}var K0=Hp(0),xb=Hp(1),hQ=Hp(2),dQ=Hp(3),Gp=Hp(4),fQ=Hp(5),pQ=Hp(6),gQ=K0.range,eLe=xb.range,tLe=hQ.range,nLe=dQ.range,iLe=Gp.range,rLe=fQ.range,sLe=pQ.range,mQ=Ys(function(l){l.setUTCDate(1),l.setUTCHours(0,0,0,0)},function(l,a){l.setUTCMonth(l.getUTCMonth()+a)},function(l,a){return a.getUTCMonth()-l.getUTCMonth()+12*(a.getUTCFullYear()-l.getUTCFullYear())},function(l){return l.getUTCMonth()});const WR=mQ;var oLe=mQ.range,jR=Ys(function(l){l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0)},function(l,a){l.setUTCFullYear(l.getUTCFullYear()+a)},function(l,a){return a.getUTCFullYear()-l.getUTCFullYear()},function(l){return l.getUTCFullYear()});jR.every=function(l){return isFinite(l=Math.floor(l))&&l>0?Ys(function(a){a.setUTCFullYear(Math.floor(a.getUTCFullYear()/l)*l),a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},function(a,o){a.setUTCFullYear(a.getUTCFullYear()+o*l)}):null};const Xd=jR;var aLe=jR.range;function vQ(l,a,o,c,u,h){const d=[[Yd,1,Bh],[Yd,5,5e3],[Yd,15,15e3],[Yd,30,3e4],[h,1,Zl],[h,5,5*Zl],[h,15,15*Zl],[h,30,30*Zl],[u,1,Vh],[u,3,3*Vh],[u,6,6*Vh],[u,12,12*Vh],[c,1,Vp],[c,2,2*Vp],[o,1,OR],[a,1,ZK],[a,3,3*ZK],[l,1,RR]];function p(g,m,v){const _=Math.abs(m-g)/v,y=wS(([,,x])=>x).right(d,_);if(y===d.length)return l.every(g0(g/RR,m/RR,v));if(0===y)return NR.every(Math.max(g0(g,m,v),1));const[b,C]=d[_/d[y-1][2]<d[y][2]/_?y-1:y];return b.every(C)}return[function f(g,m,v){const _=m<g;_&&([g,m]=[m,g]);const y=v&&"function"==typeof v.range?v:p(g,m,v),b=y?y.range(g,+m+1):[];return _?b.reverse():b},p]}const[_Q,yQ]=vQ(Xd,WR,K0,bb,GR,HR),[bQ,xQ]=vQ(Zd,zR,X0,_b,VR,BR);function $R(l){if(0<=l.y&&l.y<100){var a=new Date(-1,l.m,l.d,l.H,l.M,l.S,l.L);return a.setFullYear(l.y),a}return new Date(l.y,l.m,l.d,l.H,l.M,l.S,l.L)}function qR(l){if(0<=l.y&&l.y<100){var a=new Date(Date.UTC(-1,l.m,l.d,l.H,l.M,l.S,l.L));return a.setUTCFullYear(l.y),a}return new Date(Date.UTC(l.y,l.m,l.d,l.H,l.M,l.S,l.L))}function Cb(l,a,o){return{y:l,m:a,d:o,H:0,M:0,S:0,L:0}}function CQ(l){var a=l.dateTime,o=l.date,c=l.time,u=l.periods,h=l.days,d=l.shortDays,f=l.months,p=l.shortMonths,g=wb(u),m=Sb(u),v=wb(h),_=Sb(h),y=wb(d),b=Sb(d),C=wb(f),x=Sb(f),w=wb(p),S=Sb(p),M={a:function G(ke){return d[ke.getDay()]},A:function H(ke){return h[ke.getDay()]},b:function j(ke){return p[ke.getMonth()]},B:function W(ke){return f[ke.getMonth()]},c:null,d:EQ,e:EQ,f:ALe,g:zLe,G:HLe,H:DLe,I:ELe,j:kLe,L:kQ,m:ILe,M:PLe,p:function Z(ke){return u[+(ke.getHours()>=12)]},q:function K(ke){return 1+~~(ke.getMonth()/3)},Q:FQ,s:LQ,S:OLe,u:RLe,U:FLe,V:LLe,w:NLe,W:BLe,x:null,X:null,y:VLe,Y:ULe,Z:GLe,"%":RQ},T={a:function ae(ke){return d[ke.getUTCDay()]},A:function re(ke){return h[ke.getUTCDay()]},b:function xe(ke){return p[ke.getUTCMonth()]},B:function ge(ke){return f[ke.getUTCMonth()]},c:null,d:IQ,e:IQ,f:qLe,g:iNe,G:sNe,H:WLe,I:jLe,j:$Le,L:PQ,m:YLe,M:ZLe,p:function Me(ke){return u[+(ke.getUTCHours()>=12)]},q:function He(ke){return 1+~~(ke.getUTCMonth()/3)},Q:FQ,s:LQ,S:XLe,u:KLe,U:QLe,V:JLe,w:eNe,W:tNe,x:null,X:null,y:nNe,Y:rNe,Z:oNe,"%":RQ},E={a:function F(ke,Ie,qe){var ce=y.exec(Ie.slice(qe));return ce?(ke.w=b.get(ce[0].toLowerCase()),qe+ce[0].length):-1},A:function L(ke,Ie,qe){var ce=v.exec(Ie.slice(qe));return ce?(ke.w=_.get(ce[0].toLowerCase()),qe+ce[0].length):-1},b:function $(ke,Ie,qe){var ce=w.exec(Ie.slice(qe));return ce?(ke.m=S.get(ce[0].toLowerCase()),qe+ce[0].length):-1},B:function Y(ke,Ie,qe){var ce=C.exec(Ie.slice(qe));return ce?(ke.m=x.get(ce[0].toLowerCase()),qe+ce[0].length):-1},c:function O(ke,Ie,qe){return D(ke,a,Ie,qe)},d:MQ,e:MQ,f:wLe,g:TQ,G:SQ,H:DQ,I:DQ,j:yLe,L:CLe,m:_Le,M:bLe,p:function P(ke,Ie,qe){var ce=g.exec(Ie.slice(qe));return ce?(ke.p=m.get(ce[0].toLowerCase()),qe+ce[0].length):-1},q:vLe,Q:TLe,s:MLe,S:xLe,u:dLe,U:fLe,V:pLe,w:hLe,W:gLe,x:function V(ke,Ie,qe){return D(ke,o,Ie,qe)},X:function B(ke,Ie,qe){return D(ke,c,Ie,qe)},y:TQ,Y:SQ,Z:mLe,"%":SLe};function k(ke,Ie){return function(qe){var je,Se,Ge,ce=[],Oe=-1,Ye=0,et=ke.length;for(qe instanceof Date||(qe=new Date(+qe));++Oe<et;)37===ke.charCodeAt(Oe)&&(ce.push(ke.slice(Ye,Oe)),null!=(Se=wQ[je=ke.charAt(++Oe)])?je=ke.charAt(++Oe):Se="e"===je?" ":"0",(Ge=Ie[je])&&(je=Ge(qe,Se)),ce.push(je),Ye=Oe+1);return ce.push(ke.slice(Ye,Oe)),ce.join("")}}function R(ke,Ie){return function(qe){var Ye,et,ce=Cb(1900,void 0,1);if(D(ce,ke,qe+="",0)!=qe.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(1e3*ce.s+("L"in ce?ce.L:0));if(Ie&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+12*ce.p),void 0===ce.m&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(et=(Ye=qR(Cb(ce.y,0,1))).getUTCDay(),Ye=et>4||0===et?xb.ceil(Ye):xb(Ye),Ye=bb.offset(Ye,7*(ce.V-1)),ce.y=Ye.getUTCFullYear(),ce.m=Ye.getUTCMonth(),ce.d=Ye.getUTCDate()+(ce.w+6)%7):(et=(Ye=$R(Cb(ce.y,0,1))).getDay(),Ye=et>4||0===et?yb.ceil(Ye):yb(Ye),Ye=_b.offset(Ye,7*(ce.V-1)),ce.y=Ye.getFullYear(),ce.m=Ye.getMonth(),ce.d=Ye.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),et="Z"in ce?qR(Cb(ce.y,0,1)).getUTCDay():$R(Cb(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+7*ce.W-(et+5)%7:ce.w+7*ce.U-(et+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,qR(ce)):$R(ce)}}function D(ke,Ie,qe,ce){for(var je,Se,Oe=0,Ye=Ie.length,et=qe.length;Oe<Ye;){if(ce>=et)return-1;if(37===(je=Ie.charCodeAt(Oe++))){if(je=Ie.charAt(Oe++),!(Se=E[je in wQ?Ie.charAt(Oe++):je])||(ce=Se(ke,qe,ce))<0)return-1}else if(je!=qe.charCodeAt(ce++))return-1}return ce}return M.x=k(o,M),M.X=k(c,M),M.c=k(a,M),T.x=k(o,T),T.X=k(c,T),T.c=k(a,T),{format:function(ke){var Ie=k(ke+="",M);return Ie.toString=function(){return ke},Ie},parse:function(ke){var Ie=R(ke+="",!1);return Ie.toString=function(){return ke},Ie},utcFormat:function(ke){var Ie=k(ke+="",T);return Ie.toString=function(){return ke},Ie},utcParse:function(ke){var Ie=R(ke+="",!0);return Ie.toString=function(){return ke},Ie}}}var Q0,YR,NQ,pT,ZR,wQ={"-":"",_:" ",0:"0"},ao=/^\s*\d+/,lLe=/^%/,cLe=/[\\^$*+?|[\]().{}]/g;function Ji(l,a,o){var c=l<0?"-":"",u=(c?-l:l)+"",h=u.length;return c+(h<o?new Array(o-h+1).join(a)+u:u)}function uLe(l){return l.replace(cLe,"\\$&")}function wb(l){return new RegExp("^(?:"+l.map(uLe).join("|")+")","i")}function Sb(l){return new Map(l.map((a,o)=>[a.toLowerCase(),o]))}function hLe(l,a,o){var c=ao.exec(a.slice(o,o+1));return c?(l.w=+c[0],o+c[0].length):-1}function dLe(l,a,o){var c=ao.exec(a.slice(o,o+1));return c?(l.u=+c[0],o+c[0].length):-1}function fLe(l,a,o){var c=ao.exec(a.slice(o,o+2));return c?(l.U=+c[0],o+c[0].length):-1}function pLe(l,a,o){var c=ao.exec(a.slice(o,o+2));return c?(l.V=+c[0],o+c[0].length):-1}function gLe(l,a,o){var c=ao.exec(a.slice(o,o+2));return c?(l.W=+c[0],o+c[0].length):-1}function SQ(l,a,o){var c=ao.exec(a.slice(o,o+4));return c?(l.y=+c[0],o+c[0].length):-1}function TQ(l,a,o){var c=ao.exec(a.slice(o,o+2));return c?(l.y=+c[0]+(+c[0]>68?1900:2e3),o+c[0].length):-1}function mLe(l,a,o){var c=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(a.slice(o,o+6));return c?(l.Z=c[1]?0:-(c[2]+(c[3]||"00")),o+c[0].length):-1}function vLe(l,a,o){var c=ao.exec(a.slice(o,o+1));return c?(l.q=3*c[0]-3,o+c[0].length):-1}function _Le(l,a,o){var c=ao.exec(a.slice(o,o+2));return c?(l.m=c[0]-1,o+c[0].length):-1}function MQ(l,a,o){var c=ao.exec(a.slice(o,o+2));return c?(l.d=+c[0],o+c[0].length):-1}function yLe(l,a,o){var c=ao.exec(a.slice(o,o+3));return c?(l.m=0,l.d=+c[0],o+c[0].length):-1}function DQ(l,a,o){var c=ao.exec(a.slice(o,o+2));return c?(l.H=+c[0],o+c[0].length):-1}function bLe(l,a,o){var c=ao.exec(a.slice(o,o+2));return c?(l.M=+c[0],o+c[0].length):-1}function xLe(l,a,o){var c=ao.exec(a.slice(o,o+2));return c?(l.S=+c[0],o+c[0].length):-1}function CLe(l,a,o){var c=ao.exec(a.slice(o,o+3));return c?(l.L=+c[0],o+c[0].length):-1}function wLe(l,a,o){var c=ao.exec(a.slice(o,o+6));return c?(l.L=Math.floor(c[0]/1e3),o+c[0].length):-1}function SLe(l,a,o){var c=lLe.exec(a.slice(o,o+1));return c?o+c[0].length:-1}function TLe(l,a,o){var c=ao.exec(a.slice(o));return c?(l.Q=+c[0],o+c[0].length):-1}function MLe(l,a,o){var c=ao.exec(a.slice(o));return c?(l.s=+c[0],o+c[0].length):-1}function EQ(l,a){return Ji(l.getDate(),a,2)}function DLe(l,a){return Ji(l.getHours(),a,2)}function ELe(l,a){return Ji(l.getHours()%12||12,a,2)}function kLe(l,a){return Ji(1+_b.count(Zd(l),l),a,3)}function kQ(l,a){return Ji(l.getMilliseconds(),a,3)}function ALe(l,a){return kQ(l,a)+"000"}function ILe(l,a){return Ji(l.getMonth()+1,a,2)}function PLe(l,a){return Ji(l.getMinutes(),a,2)}function OLe(l,a){return Ji(l.getSeconds(),a,2)}function RLe(l){var a=l.getDay();return 0===a?7:a}function FLe(l,a){return Ji(X0.count(Zd(l)-1,l),a,2)}function AQ(l){var a=l.getDay();return a>=4||0===a?Up(l):Up.ceil(l)}function LLe(l,a){return l=AQ(l),Ji(Up.count(Zd(l),l)+(4===Zd(l).getDay()),a,2)}function NLe(l){return l.getDay()}function BLe(l,a){return Ji(yb.count(Zd(l)-1,l),a,2)}function VLe(l,a){return Ji(l.getFullYear()%100,a,2)}function zLe(l,a){return Ji((l=AQ(l)).getFullYear()%100,a,2)}function ULe(l,a){return Ji(l.getFullYear()%1e4,a,4)}function HLe(l,a){var o=l.getDay();return Ji((l=o>=4||0===o?Up(l):Up.ceil(l)).getFullYear()%1e4,a,4)}function GLe(l){var a=l.getTimezoneOffset();return(a>0?"-":(a*=-1,"+"))+Ji(a/60|0,"0",2)+Ji(a%60,"0",2)}function IQ(l,a){return Ji(l.getUTCDate(),a,2)}function WLe(l,a){return Ji(l.getUTCHours(),a,2)}function jLe(l,a){return Ji(l.getUTCHours()%12||12,a,2)}function $Le(l,a){return Ji(1+bb.count(Xd(l),l),a,3)}function PQ(l,a){return Ji(l.getUTCMilliseconds(),a,3)}function qLe(l,a){return PQ(l,a)+"000"}function YLe(l,a){return Ji(l.getUTCMonth()+1,a,2)}function ZLe(l,a){return Ji(l.getUTCMinutes(),a,2)}function XLe(l,a){return Ji(l.getUTCSeconds(),a,2)}function KLe(l){var a=l.getUTCDay();return 0===a?7:a}function QLe(l,a){return Ji(K0.count(Xd(l)-1,l),a,2)}function OQ(l){var a=l.getUTCDay();return a>=4||0===a?Gp(l):Gp.ceil(l)}function JLe(l,a){return l=OQ(l),Ji(Gp.count(Xd(l),l)+(4===Xd(l).getUTCDay()),a,2)}function eNe(l){return l.getUTCDay()}function tNe(l,a){return Ji(xb.count(Xd(l)-1,l),a,2)}function nNe(l,a){return Ji(l.getUTCFullYear()%100,a,2)}function iNe(l,a){return Ji((l=OQ(l)).getUTCFullYear()%100,a,2)}function rNe(l,a){return Ji(l.getUTCFullYear()%1e4,a,4)}function sNe(l,a){var o=l.getUTCDay();return Ji((l=o>=4||0===o?Gp(l):Gp.ceil(l)).getUTCFullYear()%1e4,a,4)}function oNe(){return"+0000"}function RQ(){return"%"}function FQ(l){return+l}function LQ(l){return Math.floor(+l/1e3)}function BQ(l){return Q0=CQ(l),YR=Q0.format,NQ=Q0.parse,pT=Q0.utcFormat,ZR=Q0.utcParse,Q0}function aNe(l){return new Date(l)}function lNe(l){return l instanceof Date?+l:+new Date(+l)}function XR(l,a,o,c,u,h,d,f,p,g){var m=ER(),v=m.invert,_=m.domain,y=g(".%L"),b=g(":%S"),C=g("%I:%M"),x=g("%I %p"),w=g("%a %d"),S=g("%b %d"),M=g("%B"),T=g("%Y");function E(k){return(p(k)<k?y:f(k)<k?b:d(k)<k?C:h(k)<k?x:c(k)<k?u(k)<k?w:S:o(k)<k?M:T)(k)}return m.invert=function(k){return new Date(v(k))},m.domain=function(k){return arguments.length?_(Array.from(k,lNe)):_().map(aNe)},m.ticks=function(k){var R=_();return l(R[0],R[R.length-1],null==k?10:k)},m.tickFormat=function(k,R){return null==R?E:g(R)},m.nice=function(k){var R=_();return(!k||"function"!=typeof k.range)&&(k=a(R[0],R[R.length-1],null==k?10:k)),k?_(FK(R,k)):m},m.copy=function(){return vb(m,XR(l,a,o,c,u,h,d,f,p,g))},m}function cNe(){return Yl.apply(XR(bQ,xQ,Zd,zR,X0,_b,VR,BR,Yd,YR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uNe(){return Yl.apply(XR(_Q,yQ,Xd,WR,K0,bb,GR,HR,Yd,pT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gT(){var o,c,u,h,p,l=0,a=1,d=va,f=!1;function g(v){return null==v||isNaN(v=+v)?p:d(0===u?.5:(v=(h(v)-o)*u,f?Math.max(0,Math.min(1,v)):v))}function m(v){return function(_){var y,b;return arguments.length?([y,b]=_,d=v(y,b),g):[d(0),d(1)]}}return g.domain=function(v){return arguments.length?([l,a]=v,o=h(l=+l),c=h(a=+a),u=o===c?0:1/(c-o),g):[l,a]},g.clamp=function(v){return arguments.length?(f=!!v,g):f},g.interpolator=function(v){return arguments.length?(d=v,g):d},g.range=m(Ld),g.rangeRound=m(cT),g.unknown=function(v){return arguments.length?(p=v,g):p},function(v){return h=v,o=v(l),c=v(a),u=o===c?0:1/(c-o),g}}function Kd(l,a){return a.domain(l.domain()).interpolator(l.interpolator()).clamp(l.clamp()).unknown(l.unknown())}function VQ(){var l=qd(gT()(va));return l.copy=function(){return Kd(l,VQ())},Nh.apply(l,arguments)}function zQ(){var l=kR(gT()).domain([1,10]);return l.copy=function(){return Kd(l,zQ()).base(l.base())},Nh.apply(l,arguments)}function UQ(){var l=AR(gT());return l.copy=function(){return Kd(l,UQ()).constant(l.constant())},Nh.apply(l,arguments)}function KR(){var l=IR(gT());return l.copy=function(){return Kd(l,KR()).exponent(l.exponent())},Nh.apply(l,arguments)}function hNe(){return KR.apply(null,arguments).exponent(.5)}function HQ(){var l=[],a=va;function o(c){if(null!=c&&!isNaN(c=+c))return a((dp(l,c,1)-1)/(l.length-1))}return o.domain=function(c){if(!arguments.length)return l.slice();l=[];for(let u of c)null!=u&&!isNaN(u=+u)&&l.push(u);return l.sort(us),o},o.interpolator=function(c){return arguments.length?(a=c,o):a},o.range=function(){return l.map((c,u)=>a(u/(l.length-1)))},o.quantiles=function(c){return Array.from({length:c+1},(u,h)=>E1(l,h/c))},o.copy=function(){return HQ(a).domain(l)},Nh.apply(o,arguments)}function mT(){var u,h,d,f,p,m,_,l=0,a=.5,o=1,c=1,g=va,v=!1;function y(C){return isNaN(C=+C)?_:(C=.5+((C=+m(C))-h)*(c*C<c*h?f:p),g(v?Math.max(0,Math.min(1,C)):C))}function b(C){return function(x){var w,S,M;return arguments.length?([w,S,M]=x,g=SK(C,[w,S,M]),y):[g(0),g(.5),g(1)]}}return y.domain=function(C){return arguments.length?([l,a,o]=C,u=m(l=+l),h=m(a=+a),d=m(o=+o),f=u===h?0:.5/(h-u),p=h===d?0:.5/(d-h),c=h<u?-1:1,y):[l,a,o]},y.clamp=function(C){return arguments.length?(v=!!C,y):v},y.interpolator=function(C){return arguments.length?(g=C,y):g},y.range=b(Ld),y.rangeRound=b(cT),y.unknown=function(C){return arguments.length?(_=C,y):_},function(C){return m=C,u=C(l),h=C(a),d=C(o),f=u===h?0:.5/(h-u),p=h===d?0:.5/(d-h),c=h<u?-1:1,y}}function GQ(){var l=qd(mT()(va));return l.copy=function(){return Kd(l,GQ())},Nh.apply(l,arguments)}function WQ(){var l=kR(mT()).domain([.1,1,10]);return l.copy=function(){return Kd(l,WQ()).base(l.base())},Nh.apply(l,arguments)}function jQ(){var l=AR(mT());return l.copy=function(){return Kd(l,jQ()).constant(l.constant())},Nh.apply(l,arguments)}function QR(){var l=IR(mT());return l.copy=function(){return Kd(l,QR()).exponent(l.exponent())},Nh.apply(l,arguments)}function dNe(){return QR.apply(null,arguments).exponent(.5)}function pi(l){for(var a=l.length/6|0,o=new Array(a),c=0;c<a;)o[c]="#"+l.slice(6*c,6*++c);return o}BQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const fNe=pi("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),pNe=pi("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),gNe=pi("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),mNe=pi("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),vNe=pi("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),_Ne=pi("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),yNe=pi("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),bNe=pi("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),xNe=pi("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),CNe=pi("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Tr=l=>Gq(l[l.length-1]);var $Q=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(pi);const wNe=Tr($Q);var qQ=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(pi);const SNe=Tr(qQ);var YQ=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(pi);const TNe=Tr(YQ);var ZQ=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(pi);const MNe=Tr(ZQ);var XQ=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(pi);const DNe=Tr(XQ);var KQ=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(pi);const ENe=Tr(KQ);var QQ=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(pi);const kNe=Tr(QQ);var JQ=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(pi);const ANe=Tr(JQ);var eJ=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(pi);const INe=Tr(eJ);var tJ=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(pi);const PNe=Tr(tJ);var nJ=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(pi);const ONe=Tr(nJ);var iJ=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(pi);const RNe=Tr(iJ);var rJ=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(pi);const FNe=Tr(rJ);var sJ=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(pi);const LNe=Tr(sJ);var oJ=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(pi);const NNe=Tr(oJ);var aJ=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(pi);const BNe=Tr(aJ);var lJ=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(pi);const VNe=Tr(lJ);var cJ=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(pi);const zNe=Tr(cJ);var uJ=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(pi);const UNe=Tr(uJ);var hJ=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(pi);const HNe=Tr(hJ);var dJ=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(pi);const GNe=Tr(dJ);var fJ=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(pi);const WNe=Tr(fJ);var pJ=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(pi);const jNe=Tr(pJ);var gJ=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(pi);const $Ne=Tr(gJ);var mJ=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(pi);const qNe=Tr(mJ);var vJ=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(pi);const YNe=Tr(vJ);var _J=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(pi);const ZNe=Tr(_J);function XNe(l){return l=Math.max(0,Math.min(1,l)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-l*(35.34-l*(2381.73-l*(6402.7-l*(7024.72-2710.57*l)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+l*(170.73+l*(52.82-l*(131.46-l*(176.58-67.37*l)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+l*(442.36-l*(2482.43-l*(6167.24-l*(6614.94-2475.67*l)))))))+")"}const KNe=uT(Ic(300,.5,0),Ic(-240,.5,1));var QNe=uT(Ic(-100,.75,.35),Ic(80,1.5,.8)),JNe=uT(Ic(260,.75,.35),Ic(80,1.5,.8)),vT=Ic();function eBe(l){(l<0||l>1)&&(l-=Math.floor(l));var a=Math.abs(l-.5);return vT.h=360*l-100,vT.s=1.5-1.5*a,vT.l=.8-.9*a,vT+""}var _T=Ih(),tBe=Math.PI/3,nBe=2*Math.PI/3;function iBe(l){var a;return l=(.5-l)*Math.PI,_T.r=255*(a=Math.sin(l))*a,_T.g=255*(a=Math.sin(l+tBe))*a,_T.b=255*(a=Math.sin(l+nBe))*a,_T+""}function rBe(l){return l=Math.max(0,Math.min(1,l)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+l*(1172.33-l*(10793.56-l*(33300.12-l*(38394.49-14825.05*l)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+l*(557.33+l*(1225.33-l*(3574.96-l*(1073.77+707.56*l)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+l*(3211.1-l*(15327.97-l*(27814-l*(22569.18-6838.66*l)))))))+")"}function yT(l){var a=l.length;return function(o){return l[Math.max(0,Math.min(a-1,Math.floor(o*a)))]}}const sBe=yT(pi("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var oBe=yT(pi("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),aBe=yT(pi("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),lBe=yT(pi("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function cBe(l){return Es(RS(l).call(document.documentElement))}var uBe=0;function yJ(){return new JR}function JR(){this._="@"+(++uBe).toString(36)}function hBe(l,a){return l.target&&(l=Yq(l),void 0===a&&(a=l.currentTarget),l=l.touches||[l]),Array.from(l,o=>ol(o,a))}function dBe(l){return"string"==typeof l?new sa([document.querySelectorAll(l)],[document.documentElement]):new sa([xq(l)],QP)}function li(l){return function(){return l}}JR.prototype=yJ.prototype={constructor:JR,get:function(l){for(var a=this._;!(a in l);)if(!(l=l.parentNode))return;return l[a]},set:function(l,a){return l[this._]=a},remove:function(l){return this._ in l&&delete l[this._]},toString:function(){return this._}};const bJ=Math.abs,No=Math.atan2,zh=Math.cos,fBe=Math.max,J0=Math.min,Na=Math.sin,Or=Math.sqrt,Bo=1e-12,Qd=Math.PI,bT=Qd/2,Jd=2*Qd;function pBe(l){return l>1?0:l<-1?Qd:Math.acos(l)}function xJ(l){return l>=1?bT:l<=-1?-bT:Math.asin(l)}function gBe(l){return l.innerRadius}function mBe(l){return l.outerRadius}function vBe(l){return l.startAngle}function _Be(l){return l.endAngle}function yBe(l){return l&&l.padAngle}function bBe(l,a,o,c,u,h,d,f){var p=o-l,g=c-a,m=d-u,v=f-h,_=v*p-m*g;if(!(_*_<Bo))return[l+(_=(m*(a-h)-v*(l-u))/_)*p,a+_*g]}function xT(l,a,o,c,u,h,d){var f=l-o,p=a-c,g=(d?h:-h)/Or(f*f+p*p),m=g*p,v=-g*f,_=l+m,y=a+v,b=o+m,C=c+v,x=(_+b)/2,w=(y+C)/2,S=b-_,M=C-y,T=S*S+M*M,E=u-h,k=_*C-b*y,R=(M<0?-1:1)*Or(fBe(0,E*E*T-k*k)),D=(k*M-S*R)/T,P=(-k*S-M*R)/T,F=(k*M+S*R)/T,L=(-k*S+M*R)/T,$=D-x,Y=P-w,O=F-x,V=L-w;return $*$+Y*Y>O*O+V*V&&(D=F,P=L),{cx:D,cy:P,x01:-m,y01:-v,x11:D*(u/E-1),y11:P*(u/E-1)}}function eF(){var l=gBe,a=mBe,o=li(0),c=null,u=vBe,h=_Be,d=yBe,f=null;function p(){var g,m,v=+l.apply(this,arguments),_=+a.apply(this,arguments),y=u.apply(this,arguments)-bT,b=h.apply(this,arguments)-bT,C=bJ(b-y),x=b>y;if(f||(f=g=bp()),_<v&&(m=_,_=v,v=m),_>Bo)if(C>Jd-Bo)f.moveTo(_*zh(y),_*Na(y)),f.arc(0,0,_,y,b,!x),v>Bo&&(f.moveTo(v*zh(b),v*Na(b)),f.arc(0,0,v,b,y,x));else{var $,Y,w=y,S=b,M=y,T=b,E=C,k=C,R=d.apply(this,arguments)/2,D=R>Bo&&(c?+c.apply(this,arguments):Or(v*v+_*_)),P=J0(bJ(_-v)/2,+o.apply(this,arguments)),F=P,L=P;if(D>Bo){var O=xJ(D/v*Na(R)),V=xJ(D/_*Na(R));(E-=2*O)>Bo?(M+=O*=x?1:-1,T-=O):(E=0,M=T=(y+b)/2),(k-=2*V)>Bo?(w+=V*=x?1:-1,S-=V):(k=0,w=S=(y+b)/2)}var B=_*zh(w),G=_*Na(w),H=v*zh(T),j=v*Na(T);if(P>Bo){var re,W=_*zh(S),Z=_*Na(S),K=v*zh(M),ae=v*Na(M);if(C<Qd&&(re=bBe(B,G,K,ae,W,Z,H,j))){var xe=B-re[0],ge=G-re[1],Me=W-re[0],He=Z-re[1],ke=1/Na(pBe((xe*Me+ge*He)/(Or(xe*xe+ge*ge)*Or(Me*Me+He*He)))/2),Ie=Or(re[0]*re[0]+re[1]*re[1]);F=J0(P,(v-Ie)/(ke-1)),L=J0(P,(_-Ie)/(ke+1))}}k>Bo?L>Bo?($=xT(K,ae,B,G,_,L,x),Y=xT(W,Z,H,j,_,L,x),f.moveTo($.cx+$.x01,$.cy+$.y01),L<P?f.arc($.cx,$.cy,L,No($.y01,$.x01),No(Y.y01,Y.x01),!x):(f.arc($.cx,$.cy,L,No($.y01,$.x01),No($.y11,$.x11),!x),f.arc(0,0,_,No($.cy+$.y11,$.cx+$.x11),No(Y.cy+Y.y11,Y.cx+Y.x11),!x),f.arc(Y.cx,Y.cy,L,No(Y.y11,Y.x11),No(Y.y01,Y.x01),!x))):(f.moveTo(B,G),f.arc(0,0,_,w,S,!x)):f.moveTo(B,G),v>Bo&&E>Bo?F>Bo?($=xT(H,j,W,Z,v,-F,x),Y=xT(B,G,K,ae,v,-F,x),f.lineTo($.cx+$.x01,$.cy+$.y01),F<P?f.arc($.cx,$.cy,F,No($.y01,$.x01),No(Y.y01,Y.x01),!x):(f.arc($.cx,$.cy,F,No($.y01,$.x01),No($.y11,$.x11),!x),f.arc(0,0,v,No($.cy+$.y11,$.cx+$.x11),No(Y.cy+Y.y11,Y.cx+Y.x11),x),f.arc(Y.cx,Y.cy,F,No(Y.y11,Y.x11),No(Y.y01,Y.x01),!x))):f.arc(0,0,v,T,M,x):f.lineTo(H,j)}else f.moveTo(0,0);if(f.closePath(),g)return f=null,g+""||null}return p.centroid=function(){var g=(+l.apply(this,arguments)+ +a.apply(this,arguments))/2,m=(+u.apply(this,arguments)+ +h.apply(this,arguments))/2-Qd/2;return[zh(m)*g,Na(m)*g]},p.innerRadius=function(g){return arguments.length?(l="function"==typeof g?g:li(+g),p):l},p.outerRadius=function(g){return arguments.length?(a="function"==typeof g?g:li(+g),p):a},p.cornerRadius=function(g){return arguments.length?(o="function"==typeof g?g:li(+g),p):o},p.padRadius=function(g){return arguments.length?(c=null==g?null:"function"==typeof g?g:li(+g),p):c},p.startAngle=function(g){return arguments.length?(u="function"==typeof g?g:li(+g),p):u},p.endAngle=function(g){return arguments.length?(h="function"==typeof g?g:li(+g),p):h},p.padAngle=function(g){return arguments.length?(d="function"==typeof g?g:li(+g),p):d},p.context=function(g){return arguments.length?(f=null==g?null:g,p):f},p}var xBe=Array.prototype.slice;function CT(l){return"object"==typeof l&&"length"in l?l:Array.from(l)}function CJ(l){this._context=l}function wT(l){return new CJ(l)}function tF(l){return l[0]}function nF(l){return l[1]}function Nc(l,a){var o=li(!0),c=null,u=wT,h=null;function d(f){var p,m,_,g=(f=CT(f)).length,v=!1;for(null==c&&(h=u(_=bp())),p=0;p<=g;++p)!(p<g&&o(m=f[p],p,f))===v&&((v=!v)?h.lineStart():h.lineEnd()),v&&h.point(+l(m,p,f),+a(m,p,f));if(_)return h=null,_+""||null}return l="function"==typeof l?l:void 0===l?tF:li(l),a="function"==typeof a?a:void 0===a?nF:li(a),d.x=function(f){return arguments.length?(l="function"==typeof f?f:li(+f),d):l},d.y=function(f){return arguments.length?(a="function"==typeof f?f:li(+f),d):a},d.defined=function(f){return arguments.length?(o="function"==typeof f?f:li(!!f),d):o},d.curve=function(f){return arguments.length?(u=f,null!=c&&(h=u(c)),d):u},d.context=function(f){return arguments.length?(null==f?c=h=null:h=u(c=f),d):c},d}function iF(l,a,o){var c=null,u=li(!0),h=null,d=wT,f=null;function p(m){var v,_,y,C,w,b=(m=CT(m)).length,x=!1,S=new Array(b),M=new Array(b);for(null==h&&(f=d(w=bp())),v=0;v<=b;++v){if(!(v<b&&u(C=m[v],v,m))===x)if(x=!x)_=v,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),y=v-1;y>=_;--y)f.point(S[y],M[y]);f.lineEnd(),f.areaEnd()}x&&(S[v]=+l(C,v,m),M[v]=+a(C,v,m),f.point(c?+c(C,v,m):S[v],o?+o(C,v,m):M[v]))}if(w)return f=null,w+""||null}function g(){return Nc().defined(u).curve(d).context(h)}return l="function"==typeof l?l:void 0===l?tF:li(+l),a="function"==typeof a?a:li(void 0===a?0:+a),o="function"==typeof o?o:void 0===o?nF:li(+o),p.x=function(m){return arguments.length?(l="function"==typeof m?m:li(+m),c=null,p):l},p.x0=function(m){return arguments.length?(l="function"==typeof m?m:li(+m),p):l},p.x1=function(m){return arguments.length?(c=null==m?null:"function"==typeof m?m:li(+m),p):c},p.y=function(m){return arguments.length?(a="function"==typeof m?m:li(+m),o=null,p):a},p.y0=function(m){return arguments.length?(a="function"==typeof m?m:li(+m),p):a},p.y1=function(m){return arguments.length?(o=null==m?null:"function"==typeof m?m:li(+m),p):o},p.lineX0=p.lineY0=function(){return g().x(l).y(a)},p.lineY1=function(){return g().x(l).y(o)},p.lineX1=function(){return g().x(c).y(a)},p.defined=function(m){return arguments.length?(u="function"==typeof m?m:li(!!m),p):u},p.curve=function(m){return arguments.length?(d=m,null!=h&&(f=d(h)),p):d},p.context=function(m){return arguments.length?(null==m?h=f=null:f=d(h=m),p):h},p}function CBe(l,a){return a<l?-1:a>l?1:a>=l?0:NaN}function wBe(l){return l}function SBe(){var l=wBe,a=CBe,o=null,c=li(0),u=li(Jd),h=li(0);function d(f){var p,m,v,w,T,g=(f=CT(f)).length,_=0,y=new Array(g),b=new Array(g),C=+c.apply(this,arguments),x=Math.min(Jd,Math.max(-Jd,u.apply(this,arguments)-C)),S=Math.min(Math.abs(x)/g,h.apply(this,arguments)),M=S*(x<0?-1:1);for(p=0;p<g;++p)(T=b[y[p]=p]=+l(f[p],p,f))>0&&(_+=T);for(null!=a?y.sort(function(E,k){return a(b[E],b[k])}):null!=o&&y.sort(function(E,k){return o(f[E],f[k])}),p=0,v=_?(x-g*M)/_:0;p<g;++p,C=w)b[m=y[p]]={data:f[m],index:p,value:T=b[m],startAngle:C,endAngle:w=C+(T>0?T*v:0)+M,padAngle:S};return b}return d.value=function(f){return arguments.length?(l="function"==typeof f?f:li(+f),d):l},d.sortValues=function(f){return arguments.length?(a=f,o=null,d):a},d.sort=function(f){return arguments.length?(o=f,a=null,d):o},d.startAngle=function(f){return arguments.length?(c="function"==typeof f?f:li(+f),d):c},d.endAngle=function(f){return arguments.length?(u="function"==typeof f?f:li(+f),d):u},d.padAngle=function(f){return arguments.length?(h="function"==typeof f?f:li(+f),d):h},d}CJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(l,a){switch(l=+l,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(l,a):this._context.moveTo(l,a);break;case 1:this._point=2;default:this._context.lineTo(l,a)}}};var wJ=rF(wT);function SJ(l){this._curve=l}function rF(l){function a(o){return new SJ(l(o))}return a._curve=l,a}function Tb(l){var a=l.curve;return l.angle=l.x,delete l.x,l.radius=l.y,delete l.y,l.curve=function(o){return arguments.length?a(rF(o)):a()._curve},l}function TJ(){return Tb(Nc().curve(wJ))}function MJ(){var l=iF().curve(wJ),a=l.curve,o=l.lineX0,c=l.lineX1,u=l.lineY0,h=l.lineY1;return l.angle=l.x,delete l.x,l.startAngle=l.x0,delete l.x0,l.endAngle=l.x1,delete l.x1,l.radius=l.y,delete l.y,l.innerRadius=l.y0,delete l.y0,l.outerRadius=l.y1,delete l.y1,l.lineStartAngle=function(){return Tb(o())},delete l.lineX0,l.lineEndAngle=function(){return Tb(c())},delete l.lineX1,l.lineInnerRadius=function(){return Tb(u())},delete l.lineY0,l.lineOuterRadius=function(){return Tb(h())},delete l.lineY1,l.curve=function(d){return arguments.length?a(rF(d)):a()._curve},l}function Mb(l,a){return[(a=+a)*Math.cos(l-=Math.PI/2),a*Math.sin(l)]}SJ.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(l,a){this._curve.point(a*Math.sin(l),a*-Math.cos(l))}};class DJ{constructor(a,o){this._context=a,this._x=o}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(a,o){switch(a=+a,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,o):this._context.moveTo(a,o);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+a)/2,this._y0,this._x0,o,a,o):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+o)/2,a,this._y0,a,o)}this._x0=a,this._y0=o}}class TBe{constructor(a){this._context=a}lineStart(){this._point=0}lineEnd(){}point(a,o){if(a=+a,o=+o,0==this._point++)this._x0=a,this._y0=o;else{const c=Mb(this._x0,this._y0),u=Mb(this._x0,this._y0=(this._y0+o)/2),h=Mb(a,this._y0),d=Mb(a,o);this._context.moveTo(...c),this._context.bezierCurveTo(...u,...h,...d)}}}function sF(l){return new DJ(l,!0)}function EJ(l){return new DJ(l,!1)}function MBe(l){return new TBe(l)}function DBe(l){return l.source}function EBe(l){return l.target}function ST(l){let a=DBe,o=EBe,c=tF,u=nF,h=null,d=null;function f(){let p;const g=xBe.call(arguments),m=a.apply(this,g),v=o.apply(this,g);if(null==h&&(d=l(p=bp())),d.lineStart(),g[0]=m,d.point(+c.apply(this,g),+u.apply(this,g)),g[0]=v,d.point(+c.apply(this,g),+u.apply(this,g)),d.lineEnd(),p)return d=null,p+""||null}return f.source=function(p){return arguments.length?(a=p,f):a},f.target=function(p){return arguments.length?(o=p,f):o},f.x=function(p){return arguments.length?(c="function"==typeof p?p:li(+p),f):c},f.y=function(p){return arguments.length?(u="function"==typeof p?p:li(+p),f):u},f.context=function(p){return arguments.length?(null==p?h=d=null:d=l(h=p),f):h},f}function kBe(){return ST(sF)}function ABe(){return ST(EJ)}function IBe(){const l=ST(MBe);return l.angle=l.x,delete l.x,l.radius=l.y,delete l.y,l}const PBe=Or(3),kJ={draw(l,a){const o=.59436*Or(a+J0(a/28,.75)),c=o/2,u=c*PBe;l.moveTo(0,o),l.lineTo(0,-o),l.moveTo(-u,-c),l.lineTo(u,c),l.moveTo(-u,c),l.lineTo(u,-c)}},TT={draw(l,a){const o=Or(a/Qd);l.moveTo(o,0),l.arc(0,0,o,0,Jd)}},AJ={draw(l,a){const o=Or(a/5)/2;l.moveTo(-3*o,-o),l.lineTo(-o,-o),l.lineTo(-o,-3*o),l.lineTo(o,-3*o),l.lineTo(o,-o),l.lineTo(3*o,-o),l.lineTo(3*o,o),l.lineTo(o,o),l.lineTo(o,3*o),l.lineTo(-o,3*o),l.lineTo(-o,o),l.lineTo(-3*o,o),l.closePath()}},IJ=Or(1/3),OBe=2*IJ,PJ={draw(l,a){const o=Or(a/OBe),c=o*IJ;l.moveTo(0,-o),l.lineTo(c,0),l.lineTo(0,o),l.lineTo(-c,0),l.closePath()}},OJ={draw(l,a){const o=.62625*Or(a);l.moveTo(0,-o),l.lineTo(o,0),l.lineTo(0,o),l.lineTo(-o,0),l.closePath()}},RJ={draw(l,a){const o=.87559*Or(a-J0(a/7,2));l.moveTo(-o,0),l.lineTo(o,0),l.moveTo(0,o),l.lineTo(0,-o)}},FJ={draw(l,a){const o=Or(a),c=-o/2;l.rect(c,c,o,o)}},LJ={draw(l,a){const o=.4431*Or(a);l.moveTo(o,o),l.lineTo(o,-o),l.lineTo(-o,-o),l.lineTo(-o,o),l.closePath()}},NJ=Na(Qd/10)/Na(7*Qd/10),FBe=Na(Jd/10)*NJ,LBe=-zh(Jd/10)*NJ,BJ={draw(l,a){const o=Or(.8908130915292852*a),c=FBe*o,u=LBe*o;l.moveTo(0,-o),l.lineTo(c,u);for(let h=1;h<5;++h){const d=Jd*h/5,f=zh(d),p=Na(d);l.lineTo(p*o,-f*o),l.lineTo(f*c-p*u,p*c+f*u)}l.closePath()}},oF=Or(3),VJ={draw(l,a){const o=-Or(a/(3*oF));l.moveTo(0,2*o),l.lineTo(-oF*o,-o),l.lineTo(oF*o,-o),l.closePath()}},NBe=Or(3),zJ={draw(l,a){const o=.6824*Or(a),c=o/2,u=o*NBe/2;l.moveTo(0,-o),l.lineTo(u,c),l.lineTo(-u,c),l.closePath()}},Xl=-.5,Kl=Or(3)/2,aF=1/Or(12),BBe=3*(aF/2+1),UJ={draw(l,a){const o=Or(a/BBe),c=o/2,u=o*aF,h=c,d=o*aF+o,f=-h,p=d;l.moveTo(c,u),l.lineTo(h,d),l.lineTo(f,p),l.lineTo(Xl*c-Kl*u,Kl*c+Xl*u),l.lineTo(Xl*h-Kl*d,Kl*h+Xl*d),l.lineTo(Xl*f-Kl*p,Kl*f+Xl*p),l.lineTo(Xl*c+Kl*u,Xl*u-Kl*c),l.lineTo(Xl*h+Kl*d,Xl*d-Kl*h),l.lineTo(Xl*f+Kl*p,Xl*p-Kl*f),l.closePath()}},HJ={draw(l,a){const o=.6189*Or(a-J0(a/6,1.7));l.moveTo(-o,-o),l.lineTo(o,o),l.moveTo(-o,o),l.lineTo(o,-o)}},GJ=[TT,AJ,PJ,FJ,BJ,VJ,UJ],VBe=[TT,RJ,HJ,zJ,kJ,LJ,OJ];function zBe(l,a){let o=null;function c(){let u;if(o||(o=u=bp()),l.apply(this,arguments).draw(o,+a.apply(this,arguments)),u)return o=null,u+""||null}return l="function"==typeof l?l:li(l||TT),a="function"==typeof a?a:li(void 0===a?64:+a),c.type=function(u){return arguments.length?(l="function"==typeof u?u:li(u),c):l},c.size=function(u){return arguments.length?(a="function"==typeof u?u:li(+u),c):a},c.context=function(u){return arguments.length?(o=null==u?null:u,c):o},c}function ef(){}function MT(l,a,o){l._context.bezierCurveTo((2*l._x0+l._x1)/3,(2*l._y0+l._y1)/3,(l._x0+2*l._x1)/3,(l._y0+2*l._y1)/3,(l._x0+4*l._x1+a)/6,(l._y0+4*l._y1+o)/6)}function DT(l){this._context=l}function Db(l){return new DT(l)}function WJ(l){this._context=l}function UBe(l){return new WJ(l)}function jJ(l){this._context=l}function HBe(l){return new jJ(l)}function $J(l,a){this._basis=new DT(l),this._beta=a}DT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:MT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(l,a){switch(l=+l,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(l,a):this._context.moveTo(l,a);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:MT(this,l,a)}this._x0=this._x1,this._x1=l,this._y0=this._y1,this._y1=a}},WJ.prototype={areaStart:ef,areaEnd:ef,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(l,a){switch(l=+l,a=+a,this._point){case 0:this._point=1,this._x2=l,this._y2=a;break;case 1:this._point=2,this._x3=l,this._y3=a;break;case 2:this._point=3,this._x4=l,this._y4=a,this._context.moveTo((this._x0+4*this._x1+l)/6,(this._y0+4*this._y1+a)/6);break;default:MT(this,l,a)}this._x0=this._x1,this._x1=l,this._y0=this._y1,this._y1=a}},jJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(l,a){switch(l=+l,a=+a,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var o=(this._x0+4*this._x1+l)/6,c=(this._y0+4*this._y1+a)/6;this._line?this._context.lineTo(o,c):this._context.moveTo(o,c);break;case 3:this._point=4;default:MT(this,l,a)}this._x0=this._x1,this._x1=l,this._y0=this._y1,this._y1=a}},$J.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var l=this._x,a=this._y,o=l.length-1;if(o>0)for(var p,c=l[0],u=a[0],h=l[o]-c,d=a[o]-u,f=-1;++f<=o;)this._basis.point(this._beta*l[f]+(1-this._beta)*(c+(p=f/o)*h),this._beta*a[f]+(1-this._beta)*(u+p*d));this._x=this._y=null,this._basis.lineEnd()},point:function(l,a){this._x.push(+l),this._y.push(+a)}};const GBe=function l(a){function o(c){return 1===a?new DT(c):new $J(c,a)}return o.beta=function(c){return l(+c)},o}(.85);function ET(l,a,o){l._context.bezierCurveTo(l._x1+l._k*(l._x2-l._x0),l._y1+l._k*(l._y2-l._y0),l._x2+l._k*(l._x1-a),l._y2+l._k*(l._y1-o),l._x2,l._y2)}function lF(l,a){this._context=l,this._k=(1-a)/6}lF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ET(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(l,a){switch(l=+l,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(l,a):this._context.moveTo(l,a);break;case 1:this._point=2,this._x1=l,this._y1=a;break;case 2:this._point=3;default:ET(this,l,a)}this._x0=this._x1,this._x1=this._x2,this._x2=l,this._y0=this._y1,this._y1=this._y2,this._y2=a}};const WBe=function l(a){function o(c){return new lF(c,a)}return o.tension=function(c){return l(+c)},o}(0);function cF(l,a){this._context=l,this._k=(1-a)/6}cF.prototype={areaStart:ef,areaEnd:ef,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(l,a){switch(l=+l,a=+a,this._point){case 0:this._point=1,this._x3=l,this._y3=a;break;case 1:this._point=2,this._context.moveTo(this._x4=l,this._y4=a);break;case 2:this._point=3,this._x5=l,this._y5=a;break;default:ET(this,l,a)}this._x0=this._x1,this._x1=this._x2,this._x2=l,this._y0=this._y1,this._y1=this._y2,this._y2=a}};const jBe=function l(a){function o(c){return new cF(c,a)}return o.tension=function(c){return l(+c)},o}(0);function uF(l,a){this._context=l,this._k=(1-a)/6}uF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(l,a){switch(l=+l,a=+a,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ET(this,l,a)}this._x0=this._x1,this._x1=this._x2,this._x2=l,this._y0=this._y1,this._y1=this._y2,this._y2=a}};const $Be=function l(a){function o(c){return new uF(c,a)}return o.tension=function(c){return l(+c)},o}(0);function hF(l,a,o){var c=l._x1,u=l._y1,h=l._x2,d=l._y2;if(l._l01_a>Bo){var f=2*l._l01_2a+3*l._l01_a*l._l12_a+l._l12_2a,p=3*l._l01_a*(l._l01_a+l._l12_a);c=(c*f-l._x0*l._l12_2a+l._x2*l._l01_2a)/p,u=(u*f-l._y0*l._l12_2a+l._y2*l._l01_2a)/p}if(l._l23_a>Bo){var g=2*l._l23_2a+3*l._l23_a*l._l12_a+l._l12_2a,m=3*l._l23_a*(l._l23_a+l._l12_a);h=(h*g+l._x1*l._l23_2a-a*l._l12_2a)/m,d=(d*g+l._y1*l._l23_2a-o*l._l12_2a)/m}l._context.bezierCurveTo(c,u,h,d,l._x2,l._y2)}function qJ(l,a){this._context=l,this._alpha=a}qJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(l,a){if(l=+l,a=+a,this._point){var o=this._x2-l,c=this._y2-a;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(o*o+c*c,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(l,a):this._context.moveTo(l,a);break;case 1:this._point=2;break;case 2:this._point=3;default:hF(this,l,a)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=l,this._y0=this._y1,this._y1=this._y2,this._y2=a}};const qBe=function l(a){function o(c){return a?new qJ(c,a):new lF(c,0)}return o.alpha=function(c){return l(+c)},o}(.5);function YJ(l,a){this._context=l,this._alpha=a}YJ.prototype={areaStart:ef,areaEnd:ef,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(l,a){if(l=+l,a=+a,this._point){var o=this._x2-l,c=this._y2-a;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(o*o+c*c,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=l,this._y3=a;break;case 1:this._point=2,this._context.moveTo(this._x4=l,this._y4=a);break;case 2:this._point=3,this._x5=l,this._y5=a;break;default:hF(this,l,a)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=l,this._y0=this._y1,this._y1=this._y2,this._y2=a}};const YBe=function l(a){function o(c){return a?new YJ(c,a):new cF(c,0)}return o.alpha=function(c){return l(+c)},o}(.5);function ZJ(l,a){this._context=l,this._alpha=a}ZJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(l,a){if(l=+l,a=+a,this._point){var o=this._x2-l,c=this._y2-a;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(o*o+c*c,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:hF(this,l,a)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=l,this._y0=this._y1,this._y1=this._y2,this._y2=a}};const ZBe=function l(a){function o(c){return a?new ZJ(c,a):new uF(c,0)}return o.alpha=function(c){return l(+c)},o}(.5);function XJ(l){this._context=l}function XBe(l){return new XJ(l)}function KJ(l){return l<0?-1:1}function QJ(l,a,o){var c=l._x1-l._x0,u=a-l._x1,h=(l._y1-l._y0)/(c||u<0&&-0),d=(o-l._y1)/(u||c<0&&-0),f=(h*u+d*c)/(c+u);return(KJ(h)+KJ(d))*Math.min(Math.abs(h),Math.abs(d),.5*Math.abs(f))||0}function JJ(l,a){var o=l._x1-l._x0;return o?(3*(l._y1-l._y0)/o-a)/2:a}function dF(l,a,o){var c=l._x0,h=l._x1,d=l._y1,f=(h-c)/3;l._context.bezierCurveTo(c+f,l._y0+f*a,h-f,d-f*o,h,d)}function kT(l){this._context=l}function eee(l){this._context=new tee(l)}function tee(l){this._context=l}function KBe(l){return new kT(l)}function QBe(l){return new eee(l)}function nee(l){this._context=l}function iee(l){var a,c,o=l.length-1,u=new Array(o),h=new Array(o),d=new Array(o);for(u[0]=0,h[0]=2,d[0]=l[0]+2*l[1],a=1;a<o-1;++a)u[a]=1,h[a]=4,d[a]=4*l[a]+2*l[a+1];for(u[o-1]=2,h[o-1]=7,d[o-1]=8*l[o-1]+l[o],a=1;a<o;++a)h[a]-=c=u[a]/h[a-1],d[a]-=c*d[a-1];for(u[o-1]=d[o-1]/h[o-1],a=o-2;a>=0;--a)u[a]=(d[a]-u[a+1])/h[a];for(h[o-1]=(l[o]+u[o-1])/2,a=0;a<o-1;++a)h[a]=2*l[a+1]-u[a+1];return[u,h]}function fF(l){return new nee(l)}function AT(l,a){this._context=l,this._t=a}function JBe(l){return new AT(l,.5)}function pF(l){return new AT(l,0)}function e5e(l){return new AT(l,1)}function ev(l,a){if((d=l.length)>1)for(var c,u,d,o=1,h=l[a[0]],f=h.length;o<d;++o)for(u=h,h=l[a[o]],c=0;c<f;++c)h[c][1]+=h[c][0]=isNaN(u[c][1])?u[c][0]:u[c][1]}function tv(l){for(var a=l.length,o=new Array(a);--a>=0;)o[a]=a;return o}function t5e(l,a){return l[a]}function n5e(l){const a=[];return a.key=l,a}function i5e(){var l=li([]),a=tv,o=ev,c=t5e;function u(h){var f,m,d=Array.from(l.apply(this,arguments),n5e),p=d.length,g=-1;for(const v of h)for(f=0,++g;f<p;++f)(d[f][g]=[0,+c(v,d[f].key,g,h)]).data=v;for(f=0,m=CT(a(d));f<p;++f)d[m[f]].index=f;return o(d,m),d}return u.keys=function(h){return arguments.length?(l="function"==typeof h?h:li(Array.from(h)),u):l},u.value=function(h){return arguments.length?(c="function"==typeof h?h:li(+h),u):c},u.order=function(h){return arguments.length?(a=null==h?tv:"function"==typeof h?h:li(Array.from(h)),u):a},u.offset=function(h){return arguments.length?(o=null==h?ev:h,u):o},u}function r5e(l,a){if((c=l.length)>0){for(var o,c,d,u=0,h=l[0].length;u<h;++u){for(d=o=0;o<c;++o)d+=l[o][u][1]||0;if(d)for(o=0;o<c;++o)l[o][u][1]/=d}ev(l,a)}}function s5e(l,a){if((p=l.length)>0)for(var o,u,h,d,f,p,c=0,g=l[a[0]].length;c<g;++c)for(d=f=0,o=0;o<p;++o)(h=(u=l[a[o]][c])[1]-u[0])>0?(u[0]=d,u[1]=d+=h):h<0?(u[1]=f,u[0]=f+=h):(u[0]=0,u[1]=h)}function o5e(l,a){if((u=l.length)>0){for(var u,o=0,c=l[a[0]],h=c.length;o<h;++o){for(var d=0,f=0;d<u;++d)f+=l[d][o][1]||0;c[o][1]+=c[o][0]=-f/2}ev(l,a)}}function a5e(l,a){if((d=l.length)>0&&(h=(u=l[a[0]]).length)>0){for(var u,h,d,o=0,c=1;c<h;++c){for(var f=0,p=0,g=0;f<d;++f){for(var m=l[a[f]],v=m[c][1]||0,y=(v-(m[c-1][1]||0))/2,b=0;b<f;++b){var C=l[a[b]];y+=(C[c][1]||0)-(C[c-1][1]||0)}p+=v,g+=y*v}u[c-1][1]+=u[c-1][0]=o,p&&(o-=g/p)}u[c-1][1]+=u[c-1][0]=o,ev(l,a)}}function ree(l){var a=l.map(l5e);return tv(l).sort(function(o,c){return a[o]-a[c]})}function l5e(l){for(var u,a=-1,o=0,c=l.length,h=-1/0;++a<c;)(u=+l[a][1])>h&&(h=u,o=a);return o}function see(l){var a=l.map(oee);return tv(l).sort(function(o,c){return a[o]-a[c]})}function oee(l){for(var u,a=0,o=-1,c=l.length;++o<c;)(u=+l[o][1])&&(a+=u);return a}function c5e(l){return see(l).reverse()}function u5e(l){var o,c,a=l.length,u=l.map(oee),h=ree(l),d=0,f=0,p=[],g=[];for(o=0;o<a;++o)c=h[o],d<f?(d+=u[c],p.push(c)):(f+=u[c],g.push(c));return g.reverse().concat(p)}function h5e(l){return tv(l).reverse()}XJ.prototype={areaStart:ef,areaEnd:ef,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(l,a){l=+l,a=+a,this._point?this._context.lineTo(l,a):(this._point=1,this._context.moveTo(l,a))}},kT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dF(this,this._t0,JJ(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(l,a){var o=NaN;if(a=+a,(l=+l)!==this._x1||a!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(l,a):this._context.moveTo(l,a);break;case 1:this._point=2;break;case 2:this._point=3,dF(this,JJ(this,o=QJ(this,l,a)),o);break;default:dF(this,this._t0,o=QJ(this,l,a))}this._x0=this._x1,this._x1=l,this._y0=this._y1,this._y1=a,this._t0=o}}},(eee.prototype=Object.create(kT.prototype)).point=function(l,a){kT.prototype.point.call(this,a,l)},tee.prototype={moveTo:function(l,a){this._context.moveTo(a,l)},closePath:function(){this._context.closePath()},lineTo:function(l,a){this._context.lineTo(a,l)},bezierCurveTo:function(l,a,o,c,u,h){this._context.bezierCurveTo(a,l,c,o,h,u)}},nee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var l=this._x,a=this._y,o=l.length;if(o)if(this._line?this._context.lineTo(l[0],a[0]):this._context.moveTo(l[0],a[0]),2===o)this._context.lineTo(l[1],a[1]);else for(var c=iee(l),u=iee(a),h=0,d=1;d<o;++h,++d)this._context.bezierCurveTo(c[0][h],u[0][h],c[1][h],u[1][h],l[d],a[d]);(this._line||0!==this._line&&1===o)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(l,a){this._x.push(+l),this._y.push(+a)}},AT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(l,a){switch(l=+l,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(l,a):this._context.moveTo(l,a);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,a),this._context.lineTo(l,a);else{var o=this._x*(1-this._t)+l*this._t;this._context.lineTo(o,this._y),this._context.lineTo(o,a)}}this._x=l,this._y=a}};var aee="%Y-%m-%dT%H:%M:%S.%LZ",f5e=Date.prototype.toISOString?function d5e(l){return l.toISOString()}:pT(aee);const p5e=f5e;var m5e=+new Date("2000-01-01T00:00:00.000Z")?function g5e(l){var a=new Date(l);return isNaN(a)?null:a}:ZR(aee);const v5e=m5e;function _5e(l,a,o){var c=new z1,u=a;return null==a?(c.restart(l,a,o),c):(c._restart=c.restart,c.restart=function(h,d,f){d=+d,f=null==f?V1():+f,c._restart(function p(g){g+=u,c._restart(p,u+=d,f),h(g)},d,f)},c.restart(l,a,o),c)}const IT=l=>()=>l;function y5e(l,{sourceEvent:a,target:o,transform:c,dispatch:u}){Object.defineProperties(this,{type:{value:l,enumerable:!0,configurable:!0},sourceEvent:{value:a,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function Nu(l,a,o){this.k=l,this.x=a,this.y=o}Nu.prototype={constructor:Nu,scale:function(l){return 1===l?this:new Nu(this.k*l,this.x,this.y)},translate:function(l,a){return 0===l&0===a?this:new Nu(this.k,this.x+this.k*l,this.y+this.k*a)},apply:function(l){return[l[0]*this.k+this.x,l[1]*this.k+this.y]},applyX:function(l){return l*this.k+this.x},applyY:function(l){return l*this.k+this.y},invert:function(l){return[(l[0]-this.x)/this.k,(l[1]-this.y)/this.k]},invertX:function(l){return(l-this.x)/this.k},invertY:function(l){return(l-this.y)/this.k},rescaleX:function(l){return l.copy().domain(l.range().map(this.invertX,this).map(l.invert,l))},rescaleY:function(l){return l.copy().domain(l.range().map(this.invertY,this).map(l.invert,l))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var PT=new Nu(1,0,0);function lee(l){for(;!l.__zoom;)if(!(l=l.parentNode))return PT;return l.__zoom}function gF(l){l.stopImmediatePropagation()}function Eb(l){l.preventDefault(),l.stopImmediatePropagation()}function b5e(l){return!(l.ctrlKey&&"wheel"!==l.type||l.button)}function x5e(){var l=this;return l instanceof SVGElement?(l=l.ownerSVGElement||l).hasAttribute("viewBox")?[[(l=l.viewBox.baseVal).x,l.y],[l.x+l.width,l.y+l.height]]:[[0,0],[l.width.baseVal.value,l.height.baseVal.value]]:[[0,0],[l.clientWidth,l.clientHeight]]}function cee(){return this.__zoom||PT}function C5e(l){return-l.deltaY*(1===l.deltaMode?.05:l.deltaMode?1:.002)*(l.ctrlKey?10:1)}function w5e(){return navigator.maxTouchPoints||"ontouchstart"in this}function S5e(l,a,o){var c=l.invertX(a[0][0])-o[0][0],u=l.invertX(a[1][0])-o[1][0],h=l.invertY(a[0][1])-o[0][1],d=l.invertY(a[1][1])-o[1][1];return l.translate(u>c?(c+u)/2:Math.min(0,c)||Math.max(0,u),d>h?(h+d)/2:Math.min(0,h)||Math.max(0,d))}function T5e(){var m,v,_,l=b5e,a=x5e,o=S5e,c=C5e,u=w5e,h=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],f=250,p=bK,g=m0("start","zoom","end"),y=500,C=0,x=10;function w(O){O.property("__zoom",cee).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",F).filter(u).on("touchstart.zoom",L).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(O,V){return(V=Math.max(h[0],Math.min(h[1],V)))===O.k?O:new Nu(V,O.x,O.y)}function M(O,V,B){var G=V[0]-B[0]*O.k,H=V[1]-B[1]*O.k;return G===O.x&&H===O.y?O:new Nu(O.k,G,H)}function T(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function E(O,V,B,G){O.on("start.zoom",function(){k(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(G).end()}).tween("zoom",function(){var H=this,j=arguments,W=k(H,j).event(G),Z=a.apply(H,j),K=null==B?T(Z):"function"==typeof B?B.apply(H,j):B,ae=Math.max(Z[1][0]-Z[0][0],Z[1][1]-Z[0][1]),re=H.__zoom,xe="function"==typeof V?V.apply(H,j):V,ge=p(re.invert(K).concat(ae/re.k),xe.invert(K).concat(ae/xe.k));return function(Me){if(1===Me)Me=xe;else{var He=ge(Me),ke=ae/He[2];Me=new Nu(ke,K[0]-He[0]*ke,K[1]-He[1]*ke)}W.zoom(null,Me)}})}function k(O,V,B){return!B&&O.__zooming||new R(O,V)}function R(O,V){this.that=O,this.args=V,this.active=0,this.sourceEvent=null,this.extent=a.apply(O,V),this.taps=0}function D(O,...V){if(l.apply(this,arguments)){var B=k(this,V).event(O),G=this.__zoom,H=Math.max(h[0],Math.min(h[1],G.k*Math.pow(2,c.apply(this,arguments)))),j=ol(O);if(B.wheel)(B.mouse[0][0]!==j[0]||B.mouse[0][1]!==j[1])&&(B.mouse[1]=G.invert(B.mouse[0]=j)),clearTimeout(B.wheel);else{if(G.k===H)return;B.mouse=[j,G.invert(j)],_p(this),B.start()}Eb(O),B.wheel=setTimeout(W,150),B.zoom("mouse",o(M(S(G,H),B.mouse[0],B.mouse[1]),B.extent,d))}function W(){B.wheel=null,B.end()}}function P(O,...V){if(!_&&l.apply(this,arguments)){var B=O.currentTarget,G=k(this,V,!0).event(O),H=Es(O.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",ae,!0),j=ol(O,B),W=O.clientX,Z=O.clientY;FS(O.view),gF(O),G.mouse=[j,this.__zoom.invert(j)],_p(this),G.start()}function K(re){if(Eb(re),!G.moved){var xe=re.clientX-W,ge=re.clientY-Z;G.moved=xe*xe+ge*ge>C}G.event(re).zoom("mouse",o(M(G.that.__zoom,G.mouse[0]=ol(re,B),G.mouse[1]),G.extent,d))}function ae(re){H.on("mousemove.zoom mouseup.zoom",null),LS(re.view,G.moved),Eb(re),G.event(re).end()}}function F(O,...V){if(l.apply(this,arguments)){var B=this.__zoom,G=ol(O.changedTouches?O.changedTouches[0]:O,this),H=B.invert(G),j=B.k*(O.shiftKey?.5:2),W=o(M(S(B,j),G,H),a.apply(this,V),d);Eb(O),f>0?Es(this).transition().duration(f).call(E,W,G,O):Es(this).call(w.transform,W,G,O)}}function L(O,...V){if(l.apply(this,arguments)){var j,W,Z,K,B=O.touches,G=B.length,H=k(this,V,O.changedTouches.length===G).event(O);for(gF(O),W=0;W<G;++W)K=[K=ol(Z=B[W],this),this.__zoom.invert(K),Z.identifier],H.touch0?!H.touch1&&H.touch0[2]!==K[2]&&(H.touch1=K,H.taps=0):(H.touch0=K,j=!0,H.taps=1+!!m);m&&(m=clearTimeout(m)),j&&(H.taps<2&&(v=K[0],m=setTimeout(function(){m=null},y)),_p(this),H.start())}}function $(O,...V){if(this.__zooming){var j,W,Z,K,B=k(this,V).event(O),G=O.changedTouches,H=G.length;for(Eb(O),j=0;j<H;++j)Z=ol(W=G[j],this),B.touch0&&B.touch0[2]===W.identifier?B.touch0[0]=Z:B.touch1&&B.touch1[2]===W.identifier&&(B.touch1[0]=Z);if(W=B.that.__zoom,B.touch1){var ae=B.touch0[0],re=B.touch0[1],xe=B.touch1[0],ge=B.touch1[1],Me=(Me=xe[0]-ae[0])*Me+(Me=xe[1]-ae[1])*Me,He=(He=ge[0]-re[0])*He+(He=ge[1]-re[1])*He;W=S(W,Math.sqrt(Me/He)),Z=[(ae[0]+xe[0])/2,(ae[1]+xe[1])/2],K=[(re[0]+ge[0])/2,(re[1]+ge[1])/2]}else{if(!B.touch0)return;Z=B.touch0[0],K=B.touch0[1]}B.zoom("touch",o(M(W,Z,K),B.extent,d))}}function Y(O,...V){if(this.__zooming){var j,W,B=k(this,V).event(O),G=O.changedTouches,H=G.length;for(gF(O),_&&clearTimeout(_),_=setTimeout(function(){_=null},y),j=0;j<H;++j)W=G[j],B.touch0&&B.touch0[2]===W.identifier?delete B.touch0:B.touch1&&B.touch1[2]===W.identifier&&delete B.touch1;if(B.touch1&&!B.touch0&&(B.touch0=B.touch1,delete B.touch1),B.touch0)B.touch0[1]=this.__zoom.invert(B.touch0[0]);else if(B.end(),2===B.taps&&(W=ol(W,this),Math.hypot(v[0]-W[0],v[1]-W[1])<x)){var Z=Es(this).on("dblclick.zoom");Z&&Z.apply(this,arguments)}}}return w.transform=function(O,V,B,G){var H=O.selection?O.selection():O;H.property("__zoom",cee),O!==H?E(O,V,B,G):H.interrupt().each(function(){k(this,arguments).event(G).start().zoom(null,"function"==typeof V?V.apply(this,arguments):V).end()})},w.scaleBy=function(O,V,B,G){w.scaleTo(O,function(){var H=this.__zoom.k,j="function"==typeof V?V.apply(this,arguments):V;return H*j},B,G)},w.scaleTo=function(O,V,B,G){w.transform(O,function(){var H=a.apply(this,arguments),j=this.__zoom,W=null==B?T(H):"function"==typeof B?B.apply(this,arguments):B,Z=j.invert(W),K="function"==typeof V?V.apply(this,arguments):V;return o(M(S(j,K),W,Z),H,d)},B,G)},w.translateBy=function(O,V,B,G){w.transform(O,function(){return o(this.__zoom.translate("function"==typeof V?V.apply(this,arguments):V,"function"==typeof B?B.apply(this,arguments):B),a.apply(this,arguments),d)},null,G)},w.translateTo=function(O,V,B,G,H){w.transform(O,function(){var j=a.apply(this,arguments),W=this.__zoom,Z=null==G?T(j):"function"==typeof G?G.apply(this,arguments):G;return o(PT.translate(Z[0],Z[1]).scale(W.k).translate("function"==typeof V?-V.apply(this,arguments):-V,"function"==typeof B?-B.apply(this,arguments):-B),j,d)},G,H)},R.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,V){return this.mouse&&"mouse"!==O&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&"touch"!==O&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&"touch"!==O&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var V=Es(this.that).datum();g.call(O,this.that,new y5e(O,{sourceEvent:this.sourceEvent,target:w,type:O,transform:this.that.__zoom,dispatch:g}),V)}},w.wheelDelta=function(O){return arguments.length?(c="function"==typeof O?O:IT(+O),w):c},w.filter=function(O){return arguments.length?(l="function"==typeof O?O:IT(!!O),w):l},w.touchable=function(O){return arguments.length?(u="function"==typeof O?O:IT(!!O),w):u},w.extent=function(O){return arguments.length?(a="function"==typeof O?O:IT([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),w):a},w.scaleExtent=function(O){return arguments.length?(h[0]=+O[0],h[1]=+O[1],w):[h[0],h[1]]},w.translateExtent=function(O){return arguments.length?(d[0][0]=+O[0][0],d[1][0]=+O[1][0],d[0][1]=+O[0][1],d[1][1]=+O[1][1],w):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},w.constrain=function(O){return arguments.length?(o=O,w):o},w.duration=function(O){return arguments.length?(f=+O,w):f},w.interpolate=function(O){return arguments.length?(p=O,w):p},w.on=function(){var O=g.on.apply(g,arguments);return O===g?w:O},w.clickDistance=function(O){return arguments.length?(C=(O=+O)*O,w):Math.sqrt(C)},w.tapDistance=function(O){return arguments.length?(x=+O,w):x},w}lee.prototype=Nu.prototype;class Wp{constructor(a,o,c){this.first=a,this.second=o,this.third=c}isSecond(){return!!this.second}isThird(){return!!this.third}toArrays(){let a=[this.first];return this.second&&a.push(this.second),this.third&&a.push(this.third),a}}class M5e{constructor(a,o,c,u,h,d,f,p,g,m,v,_,y,b,C,x,w,S){this.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u041a\u0440\u0435\u0441\u0442=a,this.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b=o,this.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0421\u0435\u0442\u043a\u0443=c,this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439=u,this.scale=h,this.width=d,this.height=f,this.delta=p,this.lineWidth=g,this.lineSizeExtra=m,this.colorBackground=v,this.colorMain=_,this.colorText=y,this.colorCircles=b,this.colorLines=C,this.colorLinesHighlighted=x,this.colorLinesSecondary=w,this.svgImage=S,this.rects=[],this.lines=[],this.linesPlate=[],this.texts=[],this.circles=[],this.ellipses=[],this.pathes=[],this.onItemSelected=null}clearAll(){return this.rects=[],this.lines=[],this.linesPlate=[],this.texts=[],this.circles=[],this.ellipses=[],this.pathes=[],this}}class _i{constructor(a,o){this.x=a,this.y=o}}class kb{constructor(a,o,c){this.name=a,this.x=o,this.y=c}static builder(){return new kb("translate",0,0)}setName(a){return this.name=a,this}setX(a){return this.x=a,this}setY(a){return this.y=a,this}}class mF{constructor(a,o,c=0,u=0){this.name=a,this.angle=o,this.x=c,this.y=u}static builder(){return new mF("rotate",0)}setName(a){return this.name=a,this}setAngle(a){return this.angle=a,this}setRotationX(a){return this.x=a,this}setRotationY(a){return this.y=a,this}}class vF{constructor(a,o){this.name=a,this.angle=o}static builder(){return new vF("skewY",0)}setName(a){return this.name=a,this}setAngle(a){return this.angle=a,this}}class _F{constructor(a,o){this.name=a,this.angle=o}static builder(){return new _F("skewX",0)}setName(a){return this.name=a,this}setAngle(a){return this.angle=a,this}}class yi{constructor(a,o){this.name=a,this.func=o}static builder(){return new yi("",null)}setName(a){return this.name=a,this}setFunc(a){return this.func=a,this}}class nv{constructor(a,o=[],c=[],u=!0,h=null){this.transform=a,this.classes=o,this.events=c,this.visible=u,this.transitions=h,this.d3Object=null}transformToString(a=null){return(a||this.transform).map((c,u)=>{let h=`${c.name}(`;return"translate"==c.name||"scale"==c.name?h+=`${c.x},${c.y}`:"rotate"==c.name?(h+=c.angle,(c.x||c.y)&&(h+=`,${c.x},${c.y}`)):("skewY"==c.name||"skewX"==c.name)&&(h+=c.angle),h+=")",h}).join(" ")}apply(a,o,c=null,u=null){var h=c||this.d3Object;if(null==h)return null;var d=h.transition().delay(a).duration(o);return u&&(d=d.on("end",u)),this.applyToD3Object(d)}applyToD3Object(a=null){return null}applyEventsToD3Object(a=null){var o=this,c=a;if(o.events.forEach(u=>{c=c.on(u.name,u.func)}),o.d3Object=c,o.transitions&&o.transitions.length){let u=!1,h=()=>{let d=null;u&&o.transitions&&o.transitions.length&&o.transitions.shift(),o.transitions&&o.transitions.length>0&&(d=o.transitions[0]),null!=d&&(u=!0,d.data.clone(o),c=(c=d.apply(c)).on("end",h))};h()}return c}emulateCollapseTransitions(){return this.transitions&&this.transitions.length>0&&(this.d3Object.interrupt(),this.transitions[this.transitions.length-1].data.cloneTo(this),this.transitions=[]),this}setTransforms(a){return this.transform=a,this}translate(a,o){return this.transform.push(kb.builder().setX(a).setY(o)),this}rotate(a,o=0,c=0){return this.transform.push(mF.builder().setAngle(a).setRotationX(o).setRotationY(c)),this}skewY(a){return this.transform.push(vF.builder().setAngle(a)),this}skewX(a){return this.transform.push(_F.builder().setAngle(a)),this}setClasses(a){return this.classes=a,this}addClass(a){return this.classes.indexOf(a)<0&&this.classes.push(a),this}removeClass(a){let o=this.classes.indexOf(a);return o>=0&&this.classes.splice(o,1),this}addEvent(a){return this.events.push(a),this}setVisible(a){return this.visible=a,this}getVisible(){return this.visible}setTransitions(a){return this.transitions=a,this}addTransition(a){return null==this.transitions&&(this.transitions=[]),this.transitions.push(a),this}}class OT{constructor(a,o=0,c=1e3){this.data=a,this.delay=o,this.duration=c}static builder(){return new OT(null)}setData(a){return this.data=a,this}setDelay(a){return this.delay=a,this}setDuration(a){return this.duration=a,this}apply(a=null){return this.data.apply(this.delay,this.duration,a)}}class Kn extends nv{constructor(a,o,c,u,h,d,f,p,g,m,v=300){super(m),this.text=a,this.x=o,this.y=c,this.color=u,this.strokeColor=h,this.strokeWidth=d,this.angle=f,this.fontSize=p,this.textAnchor=g,this.fontWeight=v}applyToD3Object(a=null){var c=this;return(a||this.d3Object).attr("x",0*c.x).attr("y",0*c.y).attr("font-size",c.fontSize).attr("font-weight",c.fontWeight).attr("text-anchor",c.textAnchor).attr("transform",this.transformToString(c.transform||[])).style("stroke",c.strokeColor).style("stroke-width",c.strokeWidth).style("fill",c.color).attr("class",c.classes.join(" ")).style("visibility",c.visible?"visible":"hidden")}clone(a=null){return(a||Kn.builder()).setText(this.text).setX(this.x).setY(this.y).setColor(this.color).setStrokeColor(this.strokeColor).setStrokeWidth(this.strokeWidth).setAngle(this.angle).setFontSize(this.fontSize).setTextAnchor(this.textAnchor).setFontWeight(this.fontWeight).setTransitions(null).setTransforms([...this.transform]).setClasses([...this.classes])}static builder(){return new Kn("\u0422\u0435\u043a\u0441\u0442",0,0,"firebrick","black",0,0,"20px","start",[])}setBold(a=!0){return this.fontWeight=a?700:300,this}setFontWeight(a){return this.fontWeight=a,this}setText(a){return this.text=a,this}setX(a){return this.x=a,this}setY(a){return this.y=a,this}setColor(a){return this.color=a,this}setStrokeColor(a){return this.strokeColor=a,this}setStrokeWidth(a){return this.strokeWidth=a,this}setAngle(a){return this.angle=a,this}setTextAnchor(a){return this.textAnchor=a,this}setFontSize(a){return this.fontSize=a,this}}class tf extends nv{constructor(a,o,c,u,h,d){super(d),this.r=a,this.fillColor=o,this.fillOpacity=c,this.strokeColor=u,this.strokeWidth=h}clone(a=null){return(a||tf.builder()).setR(this.r).setFillColor(this.fillColor).setFillOpacity(this.fillOpacity).setStrokeColor(this.strokeColor).setStrokeWidth(this.strokeWidth).setTransforms([...this.transform]).setTransitions(null).setClasses([...this.classes])}applyToD3Object(a=null){var c=this;return(a||this.d3Object).attr("cx",0).attr("cy",0).attr("r",c.r).attr("fill",c.fillColor).attr("fill-opacity",c.fillOpacity).attr("stroke",c.strokeColor).attr("stroke-width",c.strokeWidth).attr("transform",this.transformToString(c&&c.transform||[])).attr("class",c.classes.join(" ")).style("visibility",c.visible?"visible":"hidden")}static builder(){return new tf(100,"green",1,"white",2,[])}setR(a){return this.r=a,this}setFillColor(a){return this.fillColor=a,this}setFillOpacity(a){return this.fillOpacity=a,this}setStrokeColor(a){return this.strokeColor=a,this}setStrokeWidth(a){return this.strokeWidth=a,this}}class yF extends nv{constructor(a,o,c,u,h,d,f){super(f),this.rx=a,this.ry=o,this.fillColor=c,this.fillOpacity=u,this.strokeColor=h,this.strokeWidth=d}static builder(){return new yF(100,50,"green",1,"white",2,[])}setRx(a){return this.rx=a,this}setRy(a){return this.ry=a,this}setFillColor(a){return this.fillColor=a,this}setFillOpacity(a){return this.fillOpacity=a,this}setStrokeColor(a){return this.strokeColor=a,this}setStrokeWidth(a){return this.strokeWidth=a,this}}class Li extends nv{constructor(a,o,c,u,h,d,f,p,g){super(g),this.x1=a,this.y1=o,this.x2=c,this.y2=u,this.color=h,this.width=d,this.startArrow=f,this.endArrow=p}clone(){return Li.builder().setX1(this.x1).setY1(this.y1).setX2(this.x2).setY2(this.y2).setColor(this.color).setWidth(this.width).setStartArrow(this.startArrow).setEndArrow(this.endArrow).setTransforms(this.transform?[...this.transform]:[]).setTransitions(null)}static builder(){return new Li(0,0,0,0,"white",1,"","",[])}setX1(a){return this.x1=a,this}setY1(a){return this.y1=a,this}setX2(a){return this.x2=a,this}setY2(a){return this.y2=a,this}setColor(a){return this.color=a,this}setWidth(a){return this.width=a,this}setStartArrow(a){return this.startArrow=a,this}setEndArrow(a){return this.endArrow=a,this}}class Wr extends nv{constructor(a,o,c,u,h,d,f,p,g,m,v,_,y){super(y),this.x=a,this.y=o,this.rx=c,this.ry=u,this.width=h,this.height=d,this.fillColor=f,this.fillOpacity=p,this.strokeColor=g,this.strokeOpacity=m,this.strokeWidth=v,this.locked=_}static builder(){return new Wr(0,0,0,0,100,100,"white",1,"",1,0,!1,[])}setX(a){return this.x=a,this}setY(a){return this.y=a,this}setWidth(a){return this.width=a,this}setHeight(a){return this.height=a,this}setRx(a){return this.rx=a,this}setRy(a){return this.ry=a,this}setFillColor(a){return this.fillColor=a,this}setFillOpacity(a){return this.fillOpacity=a,this}setStrokeColor(a){return this.strokeColor=a,this}setStrokeOpacity(a){return this.strokeOpacity=a,this}setStrokeWidth(a){return this.strokeWidth=a,this}setLocked(a){return this.locked=a,this}}class Xr extends nv{constructor(a,o,c,u,h,d,f,p,g){super(p),this.datum=a,this.d=o,this.strokeColor=c,this.strokeWidth=u,this.strokeOpacity=h,this.fillColor=d,this.fillOpacity=f,this.renderHandler=g}clone(a=null){return(a||Xr.builder()).setD(this.datum).setD(this.d).setStrokeColor(this.strokeColor).setStrokeWidth(this.strokeWidth).setStrokeOpacity(this.strokeOpacity).setFillColor(this.fillColor).setFillOpacity(this.fillOpacity).setTransforms([...this.transform]).setTransitions(null).setRenderHandler(this.renderHandler).setClasses([...this.classes])}applyToD3Object(a=null){var c=this;return(a||this.d3Object).attr("d",c.d).attr("fill",c.fillColor).attr("fill-opacity",c.fillOpacity).attr("stroke",c.strokeColor).attr("stroke-width",c.strokeWidth).attr("stroke-opacity",c.strokeOpacity||1).attr("transform",this.transformToString(c.transform||[])).attr("class",c.classes.join(" ")).style("visibility",c.visible?"visible":"hidden")}static builder(){return new Xr(null,null,"steelblue",2,1,"none",1,[],null)}setDatum(a){return this.datum=a,this}setD(a){return this.d=a,this}setStrokeColor(a){return this.strokeColor=a,this}setStrokeWidth(a){return this.strokeWidth=a,this}setStrokeOpacity(a){return this.strokeOpacity=a,this}setFillColor(a){return this.fillColor=a,this}setFillOpacity(a){return this.fillOpacity=a,this}setRenderHandler(a){return this.renderHandler=a,this}}let bF=(()=>{class l{\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(o){return 1/(o*(Math.sqrt(5)+1)/2)}createDataScale(o,c,u){let h=c(o),d=o.scale,f=o.width*(1-d)/2,p=o.height*(1-d)/2;return h.toArrays().forEach(g=>{g.forEach(m=>{m.locked||(m.transform=m.transform||[],m.transform.unshift(kb.builder().setX(f).setY(p),class D5e{constructor(a,o,c){this.name=a,this.x=o,this.y=c}static builder(){return new kb("scale",0,0)}setName(a){return this.name=a,this}setX(a){return this.x=a,this}setY(a){return this.y=a,this}}.builder().setX(d).setY(d)))})}),u(o,h),h}get createDataPtr(){return o=>this.createData(o)}get createGolgofaDataPtr(){return o=>this.createData(o,1,1-.8,.27,.6,Math.PI/8)}createBackground(o,c=1){return Wr.builder().setX(0).setY(0).setWidth(o.width).setHeight(o.height).setFillColor(o.colorBackground).setFillOpacity(c).setLocked(!0)}createCrossText(o,c=0,u=0,h=0,d=0,f=0){let p=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),g=o.width*(c||p),m=f||Math.atan2(1-p,.5),v=g*(u||1-p),_=g*(h||1-p),y=g*(h||.25),b=d?o.height*d+y*Math.tan(m):o.height-g/2,C=b+y*Math.tan(m)/2+o.delta/Math.cos(m)/2,x=(o.height+b+y*Math.tan(m)/2+o.delta/Math.cos(m)/2)/2,w=+(o.height-(b+y*Math.tan(m)/2+o.delta/Math.cos(m)/2)-o.height/12)/2/2,S=.55*o.width,M=[Kn.builder().setText("\u0446\u0440\u0483\u044c").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("end").setColor(o.colorMain).translate(o.width/2-_/2,(u?(g*(u||1-p)-o.delta/2)/2:g*Math.pow(1-p,2))-2*o.delta).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0426\u0430\u0440\u044c \u0421\u043b\u0430\u0432\u044b")})),Kn.builder().setText("\u0441\u043b\u0483\u0432\u044b").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("start").setColor(o.colorMain).translate(o.width/2+_/2,(u?(g*(u||1-p)-o.delta/2)/2:g*Math.pow(1-p,2))-2*o.delta).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0426\u0430\u0440\u044c \u0421\u043b\u0430\u0432\u044b")})),Kn.builder().setText("\u0406\u0483\u0421").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("start").setColor(o.colorMain).translate((o.width-g)/2,v-o.delta).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0418\u0438\u0441\u0443\u0441 \u0425\u0440\u0438\u0441\u0442\u043e\u0441")})),Kn.builder().setText("\u0425\u0483\u0421").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("end").setColor(o.colorMain).translate((o.width+g)/2,v-o.delta).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0418\u0438\u0441\u0443\u0441 \u0425\u0440\u0438\u0441\u0442\u043e\u0441")})),Kn.builder().setText("\u0441\u043d\u0483\u044a").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(o.colorMain).translate((o.width-g)/2,v+2*o.delta).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0421\u044b\u043d \u0411\u043e\u0436\u0438\u0439")})),Kn.builder().setText("\u0431\u0436\u0483\u0457\u0439").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(o.colorMain).translate((o.width+g)/2,v+2*o.delta).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0421\u044b\u043d \u0411\u043e\u0436\u0438\u0439")})),Kn.builder().setText("\u043d\u0438").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("start").setColor(o.colorMain).translate((o.width-y)/2,(b-y/Math.cos(m)/2+(v+2*o.delta))/2-o.height/12/2).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c")})),Kn.builder().setText("\u043a\u0430").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("end").setColor(o.colorMain).translate((o.width+y)/2,(b-y/Math.cos(m)/2+(v+2*o.delta))/2-o.height/12/2).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c")})),Kn.builder().setText("\u043c").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(o.colorMain).translate((o.width-y)/2,C+w).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u043c\u0435\u0441\u0442\u043e \u043b\u043e\u0431\u043d\u043e\u0435")})),Kn.builder().setText("\u043b").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(o.colorMain).translate((o.width+y)/2,C+w).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u043c\u0435\u0441\u0442\u043e \u043b\u043e\u0431\u043d\u043e\u0435")})),Kn.builder().setText("\u0440").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(o.colorMain).translate((o.width-y)/2,x+w).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0440\u0430\u0441\u043f\u044f\u0442 \u0431\u044b\u0441\u0442\u044c")})),Kn.builder().setText("\u0431").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(o.colorMain).translate((o.width+y)/2,x+w).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0440\u0430\u0441\u043f\u044f\u0442 \u0431\u044b\u0441\u0442\u044c")})),Kn.builder().setText("\u0433").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(o.colorMain).translate(o.width/2-(S/2+o.delta/2*3/2),o.height).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430")})),Kn.builder().setText("\u0433").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(o.colorMain).translate(o.width/2+(S/2+o.delta/2*3/2),o.height).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430")})),Kn.builder().setText("\u043a").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(o.colorMain).translate(o.width/2-(S/2+o.delta/2*3/2),v+.3*(o.height-v)+o.height/12).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u043a\u043e\u043f\u0438\u0435")})),Kn.builder().setText("\u0442").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(o.colorMain).translate(o.width/2+(S/2+o.delta/2*3/2),v+.3*(o.height-v)+o.height/12).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0442\u0440\u043e\u0441\u0442\u044c")})),Kn.builder().setText("\u0433").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(o.colorMain).translate((o.width-y)/2,o.height+2*o.delta+o.height/12/2).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0433\u043b\u0430\u0432\u0430 \u0410\u0434\u0430\u043c\u0430")})),Kn.builder().setText("\u0430").setFontSize(o.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(o.colorMain).translate((o.width+y)/2,o.height+2*o.delta+o.height/12/2).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0433\u043b\u0430\u0432\u0430 \u0410\u0434\u0430\u043c\u0430")}))];return[M].forEach(T=>T.forEach(E=>E.addClass("cursor"))),[M]}createKopie(o,c=0,u=0,h=0,d=0,f=0){let p=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),m=f||Math.atan2(1-p,.5),C=(d&&Math.tan(m),[]),x=o.delta/2/4,w=o.height*(1-u)*.8,E=[o.width/2-o.delta/2*5,o.height+o.delta/2],R=(L,$,Y="gold")=>{let O=(L=>({dd:L||[[0,0],[1,1],[1,-1],[0,0]],path:Nc().x(O=>O[0]).y(O=>O[1])}))($);return((L,$,Y)=>L.rotate(-9,Y[0],Y[1]))(Xr.builder().setDatum(O.dd).setD(O.path).setStrokeColor(Y).setStrokeWidth(1).setFillColor(Y).translate(L[0],L[1]),0,E)},D=(L,$,Y,O)=>{let V=[];return L.forEach(B=>{let G=[];G.push(B[0]*$+Y),G.push(B[1]*$+O),V.push(G)}),V},P=o.colorMain,F=[R([0,0],D([[-x,0],[-x,-w],[x,-w],[x,0],[-x,0]],1,E[0],E[1]),P),R([0,0],D([[0,2*x-w],[2*-x,-w-2*x],[0,-w-16*x],[2*+x,-w-2*x],[0,2*x-w]],1,E[0],E[1]),P),R([0,0],D([[3*-x/2,2*x-w],[0,-w-2*x],[3*+x/2,2*x-w],[3*-x/2,2*x-w]],1,E[0],E[1]),P),R([0,0],D([[3*-x/2,6*x-w],[0,2*x-w],[3*+x/2,6*x-w],[3*-x/2,6*x-w]],1,E[0],E[1]),P)];return[C,F].forEach(L=>L.forEach($=>$.addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u043a\u043e\u043f\u0438\u0435")})).addClass("cursor"))),new Wp(C,F)}createTrost(o,c=0,u=0,h=0,d=0,f=0){let p=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),m=f||Math.atan2(1-p,.5),x=(d&&Math.tan(m),o.delta/2/4),w=o.height*(1-u)*.8,T=[o.width/2+o.delta/2*5,o.height+o.delta/2],k=(F,L,$="gold",Y=!1)=>{let O=((F,L=!1)=>{let $=F||[[0,0],[1,1],[1,-1],[0,0]];const Y=Nc().x(O=>O[0]).y(O=>O[1]);return{dd:$,path:L?Y.curve(Db):Y}})(L,Y);return((F,L,$)=>F.rotate(9,$[0],$[1]))(Xr.builder().setDatum(O.dd).setD(O.path).setStrokeColor($).setStrokeWidth(1).setFillColor($).translate(F[0],F[1]),0,T)},R=(F,L,$,Y)=>{let O=[];return F.forEach(V=>{let B=[];B.push(V[0]*L+$),B.push(V[1]*L+Y),O.push(B)}),O},D=o.colorMain,P=[k([0,0],R([[-x,0],[-x,-w-3*x],[x,-w-3*x],[x,0],[-x,0]],1,T[0],T[1]),D),k([0,0],R([[0,-w-2*x],[5*-x,-w-2*x],[5*-x,-w-16*x],[0,-w-16*x],[5*+x,-w-16*x],[5*+x,-w-2*x],[0,-w-2*x]],1,T[0],T[1]),D,!0),k([0,0],R([[3*-x/2,2*x-w],[0,-w-2*x],[3*+x/2,2*x-w],[3*-x/2,2*x-w]],1,T[0],T[1]),D),k([0,0],R([[3*-x/2,6*x-w],[0,2*x-w],[3*+x/2,6*x-w],[3*-x/2,6*x-w]],1,T[0],T[1]),D)];return P.forEach(F=>F.addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0442\u0440\u043e\u0441\u0442\u044c")})).addClass("cursor")),new Wp([],P)}createSkull(o,c=0,u=0,h=0,d=0,f=0){let p=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),m=f||Math.atan2(1-p,.5),C=(d&&Math.tan(m),[]),x=.55*o.width,S=0*o.delta/4/2,M=o.delta/4/2,T=(Se,Ge)=>Ge*(1.75*o.delta+2*Se),E=(Se,Ge)=>Ge*(1.75*o.delta+2*Se),k=.5,P=.5,F=(Se,Ge)=>P*T(Se,Ge)/2/2,L=1.15,O=(Se,Ge)=>T(Se,Ge)*P/3.8,V=(Se,Ge)=>T(Se,Ge)*P/2.25,H=1/5.7,j=(Se,Ge)=>T(Se,Ge)/2,W=(Se,Ge)=>T(Se,Ge)/2,re=(T(S,1),T(S,1),2*M),xe=(Se,Ge,zt,hn)=>Se.setX(Ge[0]).setY(Ge[1]).rotate(zt,hn[0],hn[1]),Me=Se=>[o.width/2-T(S,Se)/2+j(S,Se),o.height+o.delta-S+M+re+W(S,Se)],He=1.5;C.push(Wr.builder().setX(o.width/2-x/2).setY(o.height-He).setWidth(x).setHeight(o.delta+He).setFillColor(o.colorMain),Wr.builder().setX(o.width/2-x/2-o.delta/2*3).setY(o.height+o.delta-He).setWidth(2.5*o.delta).setHeight(o.delta+He).setFillColor(o.colorMain),Wr.builder().setX(o.width/2+x/2-o.delta).setY(o.height+o.delta-He).setWidth(2.5*o.delta).setHeight(o.delta+He).setFillColor(o.colorMain),Wr.builder().setX(o.width/2-x/2-o.delta/2*3).setY(o.height+2*o.delta-He).setWidth(o.delta).setHeight(o.delta+He).setFillColor(o.colorMain),Wr.builder().setX(o.width/2+x/2+o.delta/2).setY(o.height+2*o.delta-He).setWidth(o.delta).setHeight(o.delta+He).setFillColor(o.colorMain)),C.forEach(Se=>Se.addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430")})).addClass("cursor"));let Ie=(Se,Ge)=>{C.push(xe(Wr.builder().setRx(.7*T(S,Se)/2*.9).setRy(.7*E(S,Se)/2*.9).setWidth(T(S,Se)).setHeight(.7*E(S,Se)).setFillColor(Ge?o.colorBackground:o.colorMain),[o.width/2-T(S,Se)/2,o.height+o.delta+S+M+re],-45,Me(Se)),xe(Wr.builder().setRx(.4*E(S,Se)/2*.8).setRy(.4*E(S,Se)/2*.8).setWidth(P*T(S,Se)).setHeight(.4*E(S,Se)).setFillColor(Ge?o.colorBackground:o.colorMain),[o.width/2-P*T(S,Se)/2+F(S,Se),o.height+o.delta+S+M+E(S,Se)*k+re],-45,Me(Se)),xe(Wr.builder().setRx(V(S,Se)/2).setRy(V(S,Se)/2).setWidth(V(S,Se)*L).setHeight(V(S,Se)).setFillColor(Ge?o.colorMain:o.colorBackground),[o.width/2+F(S,Se)-O(S,Se)/2+O(S,Se)/2-V(S,Se)*L/2-T(S,Se)*H*1,o.height+o.delta+S+M+E(S,Se)*k/2+re],-45,Me(Se)),xe(Wr.builder().setRx(V(S,Se)/2).setRy(V(S,Se)/2).setWidth(V(S,Se)*L).setHeight(V(S,Se)).setFillColor(Ge?o.colorMain:o.colorBackground),[o.width/2+F(S,Se)-O(S,Se)/2+O(S,Se)/2-V(S,Se)*L/2+T(S,Se)*H,o.height+o.delta+S+M+E(S,Se)*k/2+re],-45,Me(Se)))};"white"==o.colorBackground&&Ie(1.15,!1),Ie(1,"white"==o.colorBackground);let et=[],je=(Se,Ge)=>{et.push(((Se,Ge,zt="gold",hn=1)=>{let In=(Se=>({dd:Se||[[0,0],[1,1],[1,-1],[0,0]],path:Nc().x(hn=>hn[0]).y(hn=>hn[1]).curve(Db)}))(Ge);return((Se,Ge,zt)=>Se.rotate(-45,zt[0],zt[1]))(Xr.builder().setDatum(In.dd).setD(In.path).setStrokeColor(zt).setStrokeWidth(1).setFillColor(zt).translate(Se[0],Se[1]),0,Me(hn))})([0,0],((Se,Ge,zt,hn)=>{let In=[];return[[.5,0],[1,1],[0,1],[.5,0]].forEach(ue=>{let ie=[];ie.push(ue[0]*Ge+zt),ie.push(ue[1]*Ge+hn),In.push(ie)}),In})(0,1.35*O(S,Se),o.width/2+F(S,Se)-O(S,Se)/2,o.height+o.delta+S+M+E(S,Se)*k+re),Ge?o.colorMain:o.colorBackground,Se))};return"white"==o.colorBackground&&je(1.15,!1),je(1,"white"==o.colorBackground),[C,et].forEach(Se=>Se.forEach(Ge=>{0==Ge.events.length&&Ge.addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0433\u043b\u0430\u0432\u0430 \u0410\u0434\u0430\u043c\u0430")})).addClass("cursor")})),new Wp(C,et)}createCross(o,c=!0,u=0,h=0,d=0,f=0,p=0,g=0,m=0,v=0,_=0){let y=u,b=h,C=d||o.width,x=f||o.height,w=o.delta/o.width*C,S=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),M=C*(p||S),T=_||Math.atan2(1-S,.5),E=M*(g||1-S),k=M*(m||1-S),R=M*(m||.25),D=v?x*v+R*Math.tan(T):x-M/2,P=c?[Wr.builder().setX(y).setY(b).setWidth(C).setHeight(x).setFillColor(o.colorBackground).setLocked(!0)]:[];return P.push(Wr.builder().setX(y+C/2-w/2).setY(b).setWidth(w).setHeight(x).setFillColor(o.colorMain).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u043a\u0440\u0435\u0441\u0442")})),Wr.builder().setX(y+(C-M)/2).setY(b+E-w/2).setWidth(M).setHeight(w).setFillColor(o.colorMain).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u043a\u0440\u0435\u0441\u0442")})),Wr.builder().setX(0).setY(0).setWidth(k).setHeight(w).setFillColor(o.colorMain).translate(y+(C-k)/2,b+(g?(M*(g||1-S)-w/2)/2:M*Math.pow(1-S,2))-w/2).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u0418\u0438\u0441\u0443\u0441 \u041d\u0430\u0437\u043e\u0440\u0435\u0439 \u0426\u0430\u0440\u044c \u0418\u0443\u0434\u0435\u0439\u0441\u043a\u0438\u0439")})),Wr.builder().setX(0).setY(0).setWidth(R).setHeight(w/Math.cos(T)).setFillColor(o.colorMain).translate(y+(C-R)/2,b+D-R/Math.cos(T)/2).skewY(this.toDegrees(T)).addEvent(yi.builder().setName("click").setFunc(()=>{o.onItemSelected&&o.onItemSelected("\u043a\u0440\u0435\u0441\u0442")}))),P}createData(o,c=0,u=0,h=0,d=0,f=0){let p=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),m=f||Math.atan2(1-p,.5),C=(d&&Math.tan(m),this.createCross(o,!0,0,0,0,0,c,u,h,d,f));[C].forEach(M=>M.forEach((T,E)=>{E&&T.addClass("cursor")}));let x=o.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b?new Wp([],[]):this.createSkull(o,c,u,h,d,f);C.push(...x.first);let w=x.second;x=o.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b?x:this.createKopie(o,c,u,h,d,f),C.push(...x.first),w.push(...x.second),x=o.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b?x:this.createTrost(o,c,u,h,d,f),C.push(...x.first),w.push(...x.second);let S=o.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b?[[],[]]:this.createCrossText(o,c,u,h,d,f);return new Wp(C,w,S[0])}createSizeHorizontalArrows(o,c,u,h,d,f=!0,p=!0,g="",m=""){let v=c.y<u.y?c:u,_=c.y<u.y?u:c,y=o.lineSizeExtra*(v.x<h.x?1:-1),b=[],C=[Li.builder().setX1(v.x).setY1(v.y).setX2(h.x+y).setY2(v.y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth),Li.builder().setX1(_.x).setY1(_.y).setX2(h.x+y).setY2(_.y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth)];if(v.y<=h.y&&h.y<=_.y){if(C.push(Li.builder().setX1(h.x).setY1(v.y).setX2(h.x).setY2(_.y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth).setStartArrow(f?"arrowN":"arrow").setEndArrow(f?"arrowN":"arrow")),g){let x=Math.abs(y),w=x/2*g.length/2;b.push(Kn.builder().setText(g).setFontSize(`${x}px`).translate(h.x-Math.abs(y)/2,(v.y+_.y)/2+w).rotate(-90).setColor("white"))}}else{let x=h.y<v.y?v.y-h.y:h.y-_.y;if(C.push(Li.builder().setX1(h.x).setY1(v.y-x).setX2(h.x).setY2(v.y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth).setEndArrow(f?"arrowN":"arrow"),Li.builder().setX1(h.x).setY1(_.y+x).setX2(h.x).setY2(_.y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth).setEndArrow(f?"arrowN":"arrow")),g){let w=Math.abs(y),S=-w/2*3;b.push(Kn.builder().setText(g).setFontSize(`${w}px`).translate(h.x-Math.abs(y)/2,v.y+S).rotate(-90).setColor("white"))}if(m){let w=Math.abs(y),S=w/2*(m.length+3);b.push(Kn.builder().setText(m).setFontSize(`${w}px`).translate(h.x-Math.abs(y)/2,_.y+S).rotate(-90).setColor("white"))}p&&(d?C.push(Li.builder().setX1(h.x).setY1(v.y).setX2(h.x).setY2(d.y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth).setEndArrow(f?"pointN":"pointH"),Li.builder().setX1(h.x).setY1(_.y).setX2(h.x).setY2(d.y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth).setEndArrow(f?"pointN":"pointH"),Li.builder().setX1(d.x).setY1(d.y).setX2(h.x+y).setY2(d.y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth)):C.push(Li.builder().setX1(h.x).setY1(v.y).setX2(h.x).setY2(_.y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth)))}return[C,b]}createSizeVirtualArrows(o,c,u,h,d,f=!0,p=!0,g="",m=""){let v=c.x<u.x?c:u,_=c.x<u.x?u:c,y=o.lineSizeExtra*(v.y<h.y?1:-1),b=[],C=[Li.builder().setX1(v.x).setY1(v.y).setX2(v.x).setY2(h.y+y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth),Li.builder().setX1(_.x).setY1(_.y).setX2(_.x).setY2(h.y+y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth)];if(v.x<=h.x&&h.x<=_.x){if(C.push(Li.builder().setX1(v.x).setY1(h.y).setX2(_.x).setY2(h.y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth).setStartArrow(f?"arrowN":"arrow").setEndArrow(f?"arrowN":"arrow")),g){let x=Math.abs(y),w=x/2*g.length/2;b.push(Kn.builder().setText(g).setFontSize(`${x}px`).translate((v.x+_.x)/2-w,h.y-Math.abs(y)/2).rotate(0).setColor("white"))}}else{let x=h.x<v.x?v.x-h.x:h.x-_.x;if(C.push(Li.builder().setX1(v.x-x).setY1(h.y).setX2(v.x).setY2(h.y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth).setEndArrow(f?"arrowN":"arrow"),Li.builder().setX1(_.x+x).setY1(h.y).setX2(_.x).setY2(h.y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth).setEndArrow(f?"arrowN":"arrow")),p)if(d){if(C.push(Li.builder().setX1(v.x).setY1(h.y).setX2(d.x).setY2(h.y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth).setEndArrow(f?"pointN":"pointH"),Li.builder().setX1(_.x).setY1(h.y).setX2(d.x).setY2(h.y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth).setEndArrow(f?"pointN":"pointH"),Li.builder().setX1(d.x).setY1(d.y).setX2(d.x).setY2(h.y+y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth)),g){let w=Math.abs(y),S=-w/2*(m.length+3);b.push(Kn.builder().setText(g).setFontSize(`${w}px`).translate(v.x+S,h.y-Math.abs(y)/2).rotate(0).setColor("white"))}if(m){let w=Math.abs(y),S=w/2*3;b.push(Kn.builder().setText(m).setFontSize(`${w}px`).translate(_.x+S,h.y-Math.abs(y)/2).rotate(0).setColor("white"))}}else C.push(Li.builder().setX1(v.x).setY1(h.y).setX2(_.x).setY2(h.y).setColor(f?o.colorLines:o.colorLinesHighlighted).setWidth(o.lineWidth))}return[C,b]}get createLinesPlateDataPtr(){return o=>this.createLinesPlateData(o)}createLinesPlateData(o){let c=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),u=o.width*c,h=(o.width-u)/2,f=(Math.atan2(1-c,.5),o.lineWidth),p=[],v=o.height/13,_=u/8;for(let y=0;y<=13;y++)p.push(Li.builder().setX1(h).setY1(v*y).setX2(o.width-h).setY2(v*y).setColor(o.colorLinesSecondary).setWidth(f));for(let y=0;y<=8;y++)p.push(Li.builder().setX1(h+_*y).setY1(0).setX2(h+_*y).setY2(o.height).setColor(o.colorLinesSecondary).setWidth(f));return p.push(Li.builder().setX1(o.width/2).setY1(0).setX2(h).setY2(3*v).setColor(o.colorLinesSecondary).setWidth(f)),p.push(Li.builder().setX1(o.width/2).setY1(0).setX2(o.width-h).setY2(3*v).setColor(o.colorLinesSecondary).setWidth(f)),new Wp(p)}get createLinesDataPtr(){return o=>this.createLinesData(o)}createLinesData(o){let c=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),u=o.width*c,h=(o.width-u)/2,d=Math.atan2(1-c,.5),f=o.lineWidth,p=[],g=[Li.builder().setX1(h).setY1(0).setX2(o.width-h).setY2(0).setColor(o.colorLinesHighlighted).setWidth(f),Li.builder().setX1(h).setY1(o.height).setX2(o.width-h).setY2(o.height).setColor(o.colorLinesHighlighted).setWidth(f),Li.builder().setX1(h).setY1(0).setX2(h).setY2(o.height).setColor(o.colorLinesHighlighted).setWidth(f),Li.builder().setX1(o.width/2).setY1(0).setX2(o.width/2).setY2(o.height).setColor(o.colorLinesHighlighted).setWidth(f),Li.builder().setX1(o.width-h).setY1(0).setX2(o.width-h).setY2(o.height).setColor(o.colorLinesHighlighted).setWidth(f),Li.builder().setX1(h).setY1(u*(1-c)).setX2(o.width-h).setY2(u*(1-c)).setColor(o.colorLinesHighlighted).setWidth(f),Li.builder().setX1((o.width-u*(1-c))/2).setY1(u*Math.pow(1-c,2)).setX2((o.width-u*(1-c))/2+u*(1-c)).setY2(u*Math.pow(1-c,2)).setColor(o.colorLinesHighlighted).setWidth(f),Li.builder().setX1(h).setY1(o.height-.5*u).setX2(o.width-h).setY2(o.height-.5*u).setColor(o.colorLinesHighlighted).setWidth(f),Li.builder().setX1(h).setY1(o.height-u*(1-c+.5)).setX2(o.width-h).setY2(o.height-u*(.5-(1-c))).setColor(o.colorLinesHighlighted).setWidth(f),Li.builder().setX1(h).setY1(o.height-u*(1-c+.5)).setX2(o.width-h).setY2(o.height-u*(1-c+.5)).setColor(o.colorLinesHighlighted).setWidth(f),Li.builder().setX1(h).setY1(o.height-u*(.5-(1-c))).setX2(o.width-h).setY2(o.height-u*(.5-(1-c))).setColor(o.colorLinesHighlighted).setWidth(f)],m=y=>{g.push(...y[0]),p.push(...y[1])},v=Math.min(o.width,o.height)/10;return m(this.createSizeVirtualArrows(o,new _i(h,o.height),new _i(o.width-h,o.height),new _i(o.width/2,o.height+3*v),null,!0,!0,"1.0")),m(this.createSizeVirtualArrows(o,new _i(h,o.height),new _i(o.width/2,o.height),new _i(o.width/2,o.height+2*v),null,!0,!0,"0.5")),m(this.createSizeVirtualArrows(o,new _i(o.width/2,o.height),new _i(o.width-h,o.height),new _i(o.width/2,o.height+2*v),null,!0,!0,"0.5")),m(this.createSizeVirtualArrows(o,new _i(o.width/2-.125*u,o.height-.5*u-.25*u/Math.cos(d)/2+o.delta/Math.cos(d)),new _i(o.width/2+.125*u,o.height-.5*u+.25*u/Math.cos(d)/2),new _i(1.2*h,o.height+1*v),new _i(o.width/2,o.height+1*v),!0,!0,"0.125","0.125")),m(this.createSizeVirtualArrows(o,new _i((o.width-u*(1-c))/2,u*Math.pow(1-c,2)-o.delta/2),new _i((o.width+u*(1-c))/2,u*Math.pow(1-c,2)-o.delta/2),new _i(o.width/2,0-2*v),null,!0,!0,"0.382")),m(this.createSizeVirtualArrows(o,new _i((o.width-u*(1-c))/2,u*Math.pow(1-c,2)-o.delta/2),new _i((o.width+u*(1-c))/2,u*Math.pow(1-c,2)-o.delta/2),new _i(1.2*h,0-1*v),new _i(o.width/2,0),!0,!0,"0.192","0.192")),m(this.createSizeHorizontalArrows(o,new _i(h,0),new _i(h,o.height),new _i(h-2*v,o.height/2),null,!0,!0,"1.618")),m(this.createSizeHorizontalArrows(o,new _i(h,0),new _i(h,u*(1-c)),new _i(h-1*v,u*(1-c)/2),null,!0,!0,"0.146")),m(this.createSizeHorizontalArrows(o,new _i(h,o.height),new _i(h,o.height-.5*u),new _i(h-1*v,o.height-.5*u/2),null,!0,!0,"0.5")),m(this.createSizeHorizontalArrows(o,new _i(h,o.height-.5*u),new _i(h,o.height-u*(1-c+.5)),new _i(h-1*v,o.height-u*(.5+(1-c)/2)),null,!0,!0,"0.382")),m(this.createSizeHorizontalArrows(o,new _i(o.width-h,0),new _i(o.width-h,u*(1-c)),new _i(o.width-h+1*v,-h),new _i((o.width-u*(1-c))/2+u*(1-c),u*Math.pow(1-c,2)),!0,!0,"0.146","0.236")),m(this.createSizeHorizontalArrows(o,new _i(o.width-h,o.height),new _i(o.width-h,o.height-.5*u),new _i(o.width-h+1*v,o.height+h),new _i(o.width-h,o.height-u*(.5-(1-c))),!0,!0,"0.382","0.118")),new Wp(g,p)}toDegrees(o){return o/Math.PI*180}transformToString(o){return o.map((c,u)=>{let h=`${c.name}(`;return"translate"==c.name||"scale"==c.name?h+=`${c.x},${c.y}`:"rotate"==c.name?(h+=c.angle,(c.x||c.y)&&(h+=`,${c.x},${c.y}`)):("skewY"==c.name||"skewX"==c.name)&&(h+=c.angle),h+=")",h}).join(" ")}render(o,c){let u=c.rects,h=c.lines,d=c.linesPlate,f=c.texts,p=c.circles,g=c.ellipses,m=c.pathes,v=Math.min(c.width,c.height)/20*c.scale,_=v,y=v/2,b=0*_,C=y/2,S=[[0,0],[0,y],[_,y/2]];if(c.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439){o.append("defs").append("marker").attr("id","arrow").attr("viewBox",[0,0,_,y]).attr("refX",b).attr("refY",C).attr("markerWidth",_).attr("markerHeight",y).attr("orient","auto-start-reverse").append("path").attr("d",Nc()(S)).attr("fill",c.colorLinesHighlighted),o.select("defs").append("marker").attr("id","arrowN").attr("viewBox",[0,0,_,y]).attr("refX",b).attr("refY",C).attr("markerWidth",_).attr("markerHeight",y).attr("orient","auto-start-reverse").append("path").attr("d",Nc()(S)).attr("fill",c.colorLines);let T=v,E=v,R=(P,F,L)=>"M "+P+" "+F+" m -"+L+", 0 a "+L+","+L+" 0 1,0 "+2*L+",0 a "+L+","+L+" 0 1,0 -"+2*L+",0";o.select("defs").append("marker").attr("id","pointH").attr("viewBox",[0,0,T,E]).attr("refX",T/2).attr("refY",E/2).attr("markerWidth",v).attr("markerHeight",v).attr("orient","auto-start-reverse").append("path").attr("d",R(v/2,v/2,v/4)).attr("fill",c.colorLinesHighlighted),o.select("defs").append("marker").attr("id","pointN").attr("viewBox",[0,0,T,E]).attr("refX",T/2).attr("refY",E/2).attr("markerWidth",v).attr("markerHeight",v).attr("orient","auto-start-reverse").append("path").attr("d",R(v/2,v/2,v/4)).attr("fill",c.colorLines)}c.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u041a\u0440\u0435\u0441\u0442&&u.forEach(T=>{var E=o.append("rect").attr("x",T.x).attr("y",T.y).attr("rx",T.rx).attr("ry",T.ry).attr("transform",this.transformToString(T.transform||[])).attr("width",T.width).attr("height",T.height).style("fill",T.fillColor||"black").attr("fill-opacity",T.fillOpacity||1).style("stroke",T.strokeColor||"black").style("stroke-width",T.strokeWidth).attr("stroke-opacity",T.strokeOpacity||1).attr("class",T.classes.join(" ")).style("visibility",T.visible?"visible":"hidden");T.events.forEach(k=>{E.on(k.name,k.func)}),T.d3Object=E});let M=[];if(c.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b&&M.push(...h),c.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0421\u0435\u0442\u043a\u0443&&M.push(...d),M){let T=R=>v/c.scale*Math.cos(Math.atan2(R.y2-R.y1,R.x2-R.x1)),E=R=>v/c.scale*Math.sin(Math.atan2(R.y2-R.y1,R.x2-R.x1)),k=R=>R&&R.startsWith("arrow");M.forEach(R=>{let D=o.append("line"),P=(F,L)=>F.style("stroke",L.color).style("stroke-width",L.width).attr("x1",L.x1+(k(L.startArrow)?T(L):0)).attr("y1",L.y1+(k(L.startArrow)?E(L):0)).attr("x2",L.x2-(k(L.endArrow)?T(L):0)).attr("y2",L.y2-(k(L.endArrow)?E(L):0)).attr("transform",this.transformToString(L.transform||[])).attr("marker-start",L.startArrow?"url(#"+L.startArrow+")":"").attr("marker-end",L.endArrow?"url(#"+L.endArrow+")":"").attr("class",L.classes.join(" ")).style("visibility",L.visible?"visible":"hidden");D=P(D,R),R.transitions&&R.transitions.forEach(F=>{D=P(D.transition().delay(F.delay).duration(F.duration),F.data)})})}p.forEach(T=>{let E=o.append("circle");E=T.applyToD3Object(E),E=T.applyEventsToD3Object(E)}),o.selectAll("ellipse").data(g).enter().append("ellipse").attr("cx",0).attr("cy",0).attr("rx",T=>T.rx).attr("ry",T=>T.ry).attr("fill",T=>T.fillColor).attr("fill-opacity",T=>T.fillOpacity).attr("stroke",T=>T.strokeColor).attr("stroke-width",T=>T.strokeWidth).attr("transform",T=>this.transformToString(T&&T.transform||[])).attr("class",T=>T.classes.join(" ")).style("visibility",T=>T.visible?"visible":"hidden"),m.forEach(T=>{if(T.renderHandler)T.renderHandler(o,T);else{let E=o.append("path").datum(T.datum);E=T.applyToD3Object(E),E=T.applyEventsToD3Object(E)}}),f.forEach(T=>{let E=o.append("text").text(T.text);E=T.applyToD3Object(E),E=T.applyEventsToD3Object(E)})}textSizeDirect(o,c,u){if(Be){var h=Es("body").append("svg");h.append("text").attr("x",-99999).attr("y",-99999).attr("font-size",c).attr("font-weight",u).text(o);var f=h.node().getBBox();return h.remove(),{width:f.width,height:f.height}}}textSize(o,c){if(Be){var u=Es("body").append("svg");o.append("text").text(c.text).attr("x",-99999).attr("y",-99999).attr("font-size",c.fontSize).attr("font-weight",c.fontWeight).attr("text-anchor",c.textAnchor).style("fill",c.color).attr("class",c.classes.join(" ")).style("visibility",c.visible?"visible":"hidden");var d=u.node().getBBox();return u.remove(),{width:d.width,height:d.height}}}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class xF{constructor(a,o,c,u,h=null,d=null){this.logoWidth=a,this.logoHeight=o,this.d3Svc=c,this.mySvgRef=u,this.generator=h,this.delayedRun=d,this.delta=1,this.d3Config=null,this.svg=null,this.delta=Math.min(a,o)/10,this.regenerateConfig()}regenerateConfig(){return this.d3Config=new M5e(!0,!0,!1,!0,.5,this.logoWidth,this.logoHeight,Math.min(this.logoWidth,this.logoHeight)/15,2,Math.min(this.logoWidth,this.logoHeight)/20,"black","gold","firebrick","red","white","green","cyan",this),this}getGenerator(){return this.generator}setGenerator(a){return this.generator&&this.clear().regenerateConfig(),this.generator=a,this}createD3Config(a){this.generator?this.generator.generate(this.d3Svc,this.d3Config,a)&&a():(this.d3Svc.createDataScale(this.d3Config,this.d3Svc.createDataPtr,(o,c)=>o.rects=c.first),this.d3Svc.createDataScale(this.d3Config,this.d3Svc.createLinesDataPtr,(o,c)=>{o.lines=c.first,c.second&&o.texts.push(...c.second)}),this.d3Svc.createDataScale(this.d3Config,this.d3Svc.createLinesPlateDataPtr,(o,c)=>o.linesPlate=c.first),a())}clear(){return this.removeExistingSvgFromParent(),this.generator.clear(),this}clearDelayed(){this.delayedRun(()=>this.clear(),0)}clearAll(){this.g.selectAll("*").remove()}updateSvg(a=(()=>{})){return this.svg||this.createSvgImage(a),this}createSvgImage(a){this.createD3Config(()=>{this.afterCreateSvgImage(a)})}afterCreateSvgImage(a){this.removeExistingSvgFromParent(),this.setSvgDimensions(),this.addGraphicsElement(),this.createAreaSvg(),a&&a()}removeExistingSvgFromParent(){Es(this.mySvgRef.nativeElement).select("svg").remove(),this.svg=null,this.g=null}addGraphicsElement(){this.g=this.svg.append("g").attr("transform","translate(0,0)")}createAreaSvg(){this.d3Svc.render(this.g,this.d3Config)}setSvgDimensions(){let a=this.generator.getHeight(),o=this.generator.getWidth();this.svg=Es(this.mySvgRef.nativeElement).append("svg").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 "+o+" "+a)}}class Ba{constructor(a='\u041a\u0440\u0435\u0441\u0442 \u043f\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u0443 "\u0437\u043e\u043b\u043e\u0442\u043e\u0433\u043e \u0441\u0435\u0447\u0435\u043d\u0438\u044f".',o=512,c=512){this.name=a,this.width=o,this.height=c}clear(){return this}regenerate(){return this}getWidth(){return this.width}getHeight(){return this.height}generate(a,o,c){return a.createDataScale(o,a.createDataPtr,(u,h)=>u.rects=h.first),a.createDataScale(o,a.createLinesDataPtr,(u,h)=>{u.lines=h.first,u.texts.push(...h.second)}),a.createDataScale(o,a.createLinesPlateDataPtr,(u,h)=>u.linesPlate=h.first),o.texts.push(Kn.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(o.width/2,50).rotate(0).setColor("gold")),!0}}class uee extends Ba{constructor(a="\u041f\u0440\u0438\u043c\u0435\u0440 \u0442\u0435\u043a\u0441\u0442\u0430.",o=512,c=512){super(a,o,c)}generate(a,o,c){o.rects.push(a.createBackground(o)),o.texts.push(Kn.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(o.width/2,50).rotate(0).setColor("firebrick"));for(let h=0;h<10;h++)o.texts.push(Kn.builder().setText("\u041f\u0440\u0438\u043c\u0435\u0440 \u0442\u0435\u043a\u0441\u0442\u0430: "+h).setFontSize("20px").translate(o.width/2,o.height/2).rotate(36*h).setColor("white"));return!0}}class hee extends Ba{constructor(a="\u041f\u0440\u0438\u043c\u0435\u0440 \u043e\u043a\u0440\u0443\u0436\u043d\u043e\u0441\u0442\u0435\u0439.",o=512,c=512){super(a,o,c)}generate(a,o,c){o.rects.push(a.createBackground(o)),o.texts.push(Kn.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(o.width/2,50).rotate(0).setColor("firebrick")),o.circles.push(tf.builder().setR(100).translate(o.width/2,o.height/2).rotate(0).setFillColor("gold"));for(let d=0;d<12;d++)o.circles.push(tf.builder().setR(10).translate(o.width/2,o.height/2).rotate(30*d).setFillColor("gold").translate(130,0));return!0}}class dee extends Ba{constructor(a="\u041f\u0440\u0438\u043c\u0435\u0440 \u044d\u043b\u043b\u0438\u043f\u0441\u043e\u0432.",o=512,c=512){super(a,o,c)}generate(a,o,c){o.rects.push(a.createBackground(o)),o.texts.push(Kn.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(o.width/2,50).rotate(0).setColor("firebrick"));for(let h=0;h<3;h++)o.ellipses.push(yF.builder().setRx(50).setRy(100).translate(o.width/2,o.height/2).rotate(60*h).setFillColor("gold").setFillOpacity(.5));return!0}}class fee extends Ba{constructor(a="\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a\u043e\u0432.",o=512,c=512){super(a,o,c)}generate(a,o,c){o.rects.push(a.createBackground(o)),o.texts.push(Kn.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(o.width/2,50).rotate(0).setColor("firebrick"));for(let h=0;h<5;h++)o.rects.push(Wr.builder().setX(100*h).setY(0).setWidth(100).setHeight(100).setRx(5*h).setRy(5*h).translate(6,o.height/3).rotate(0).setFillColor("gold").setStrokeColor("firebrick").setStrokeWidth(2));return o.rects.push(Wr.builder().setX(0).setY(0).setWidth(200).setHeight(200).translate(o.width/2-100,o.height/3*1.5).rotate(0).setFillColor("gold").setStrokeColor("firebrick").setStrokeWidth(2).addClass("rxanimated")),!0}}class pee extends Ba{constructor(a="\u041f\u0440\u0438\u043c\u0435\u0440 \u0433\u0440\u0430\u0444\u0438\u043a\u043e\u0432.",o=512,c=512){super(a,o,c)}generate(a,o,c){o.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439=!1,o.rects.push(a.createBackground(o)),o.texts.push(Kn.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(o.width/2,50).rotate(0).setColor("firebrick"));let h=()=>{const g=sl(0,10).map(y=>[.5*y*Math.PI,Math.sin(.5*y*Math.PI)]),m=Z0().range([0,o.width/2]).domain(fp(g,y=>y[0])),v=Z0().range([o.height/2-20,0]).domain([-1,1]);return{sine:g,line:Nc().x(y=>m(y[0])).y(y=>v(y[1])),x:m,y:v}},d=[10,o.height/4];{let g=h();o.pathes.push(Xr.builder().setDatum(g.sine).setD(g.line).setStrokeColor("steelblue").setStrokeWidth(2).setFillColor("none").translate(d[0],d[1]))}{let g=h();o.pathes.push(Xr.builder().setDatum(g.sine).setD(g.line.curve(pF)).setStrokeColor("green").setStrokeWidth(2).setFillColor("none").translate(d[0],d[1]))}{let g=h();o.pathes.push(Xr.builder().setDatum(g.sine).setD(g.line.curve(Db)).setStrokeColor("red").setStrokeWidth(2).setFillColor("none").translate(d[0],d[1]))}{let g=h();o.pathes.push(Xr.builder().setDatum(g.sine).setD(g.line.curve(sF)).setStrokeColor("cyan").setStrokeWidth(2).setFillColor("none").translate(d[0],d[1]))}{let g=h();o.pathes.push(Xr.builder().setDatum(g.sine).setD(g.line.curve(fF)).setStrokeColor("gold").setStrokeWidth(2).setFillColor("none").translate(d[0],d[1]))}let f=()=>{const g=sl(0,10).map(y=>[.5*y*Math.PI,Math.sin(.5*y*Math.PI)]),m=Z0().range([o.width/2+10,o.width-20]).domain(fp(g,y=>y[0])),v=Z0().range([o.height/2-20,0]).domain([-1,1]);return{sine:g,area:iF().x(y=>m(y[0])).y0(o.height/4-10).y1(y=>v(y[1]))}};{let g=f();o.pathes.push(Xr.builder().setDatum(g.sine).setD(g.area.curve(pF)).setStrokeColor("green").setStrokeWidth(2).setFillColor("green").setFillOpacity(.5).translate(d[0],d[1]))}{let g=f();o.pathes.push(Xr.builder().setDatum(g.sine).setD(g.area.curve(fF)).setStrokeColor("gold").setStrokeWidth(2).setFillColor("gold").setFillOpacity(.5).translate(d[0],d[1]))}{let g=f();o.pathes.push(Xr.builder().setDatum(g.sine).setD(g.area.curve(Db)).setStrokeColor("steelblue").setStrokeWidth(2).setFillColor("steelblue").setFillOpacity(.5).translate(d[0],d[1]))}{let g=eF();o.pathes.push(Xr.builder().setD(g({outerRadius:100,innerRadius:50,startAngle:.25*-Math.PI,endAngle:.25*Math.PI})).setStrokeColor("green").setStrokeWidth(2).setFillColor("green").setFillOpacity(.5).translate(100,o.height))}o.pathes.push(Xr.builder().setRenderHandler((g,m)=>{g.append("path").attr("d",E4()({source:{radius:50,startAngle:.3*-Math.PI,endAngle:.2*-Math.PI},target:{radius:50,startAngle:.3*Math.PI,endAngle:.3*Math.PI}})).attr("stroke",m.strokeColor).attr("stroke-width",m.strokeWidth).attr("fill",m.fillColor).attr("transform",(v,_)=>a.transformToString(m.transform||[]))}).setStrokeColor("steelblue").setStrokeWidth(2).setFillColor("steelblue").setFillOpacity(.5).translate(o.width/2,o.height-50));{const g=gq(sl(0,12),dq(sl(0,12))),m=["linen","lightsteelblue","lightcyan","lavender","honeydew","gainsboro"],v=100;o.pathes.push(Xr.builder().setRenderHandler((_,y)=>{g.forEach((b,C)=>{let x=b[0],w=b[1];_.append("path").attr("d",E4()({source:{radius:v,startAngle:-2*Math.PI*(1/g.length)*x,endAngle:-2*Math.PI*(1/g.length)*(x-1)%g.length},target:{radius:v,startAngle:-2*Math.PI*(1/g.length)*w,endAngle:-2*Math.PI*(1/g.length)*(w-1)%g.length}})).attr("stroke",m[(C+1)%m.length]).attr("stroke-width",y.strokeWidth).attr("fill",m[(C+0)%m.length]).attr("transform",(S,M)=>a.transformToString(y.transform||[]))})}).setStrokeColor("steelblue").setStrokeWidth(2).setFillColor("steelblue").setFillOpacity(.5).translate(o.width/4*3+50,o.height-v))}return!0}}class gee extends Ba{constructor(a="\u041f\u0440\u0438\u043c\u0435\u0440 \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u0439.",o=512,c=512){super(a,o,c)}generate(a,o,c){return o.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439=!1,o.rects.push(a.createBackground(o)),o.texts.push(Kn.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(o.width/2,50).rotate(0).setColor("firebrick")),["easeLinear","easeQuadIn","easeQuadInOut","easeQuadOut","easeCubicIn","easeSinIn","easeCircleIn","easeBounceIn","easeCubicIn","easeCubicOut","easeCubicInOut"].forEach((u,h)=>{let d=100+30*h;o.pathes.push(Xr.builder().setRenderHandler((p,g)=>{let m=tf.builder().setR(10).translate(o.width/2,d),v=p.append("circle").attr("cx",0).attr("cy",0).attr("r",m.r).attr("fill",m.fillColor).attr("fill-opacity",m.fillOpacity).attr("stroke",m.strokeColor).attr("stroke-width",m.strokeWidth).attr("transform",a.transformToString(m&&m.transform||[])),_=p.append("text").attr("x",0).attr("y",d).text(u).attr("font-size",20).attr("text-anchor","start").attr("stroke","yellow").style("fill","red"),b=o.width/2-10,C=(S,M)=>{S.transition().duration(3e3).ease(Be[u]).attr("x",b).attr("cx",b).attr("stroke","gold").attr("fill","red").transition().duration(3e3).ease(Be[u]).attr("x",0).attr("cx",0).attr("stroke","red").attr("fill","blue").on("end",M)},x=null;x=()=>C(v,x);let w=null;w=()=>C(_,w),x(),w()}))}),!0}}class mee extends Ba{constructor(a="\u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 UI.",o=512,c=512){super(a,o,c)}generate(a,o,c){o.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439=!1,o.rects.push(a.createBackground(o)),o.texts.push(Kn.builder().setText("UI interaction demo.").setTextAnchor("middle").setFontSize("20px").translate(o.width/2,50).rotate(0).setColor("firebrick"));let u=100;return[{easeFunc:"easeCubicOut",r:10},{easeFunc:"easeCubic",r:10},{easeFunc:"drag circle: ",r:50,drag:!0}].forEach((h,d)=>{let f=u+h.r+10,p=h.r;o.pathes.push(Xr.builder().setRenderHandler((g,m)=>{let v=tf.builder().setR(p).translate(o.width/2,f),_=0,y=g.append("circle").attr("cx",_).attr("cy",0).attr("r",v.r).attr("fill",v.fillColor).attr("fill-opacity",v.fillOpacity).attr("stroke",v.strokeColor).attr("stroke-width",v.strokeWidth).attr("transform",a.transformToString(v&&v.transform||[])),b=g.append("text").attr("x",0).attr("y",f).text(h.easeFunc).attr("font-size",20).attr("text-anchor","start").attr("stroke","yellow").style("fill","red"),x=o.width/2-p,w=(E,k)=>{E.transition().duration(3e3).ease(Be[h.easeFunc]).attr("x",x).attr("cx",x).attr("stroke","gold").attr("fill","red").transition().duration(3e3).ease(Be[h.easeFunc]).attr("x",0).attr("cx",0).attr("stroke","red").attr("fill","blue")},S=null;S=()=>w(y);let M=null;M=()=>w(b);let T=()=>{S(),M()};if(h.drag){let E=uZ().on("drag",k=>{const R=Math.round(1e3*k.dx)/1e3;b.text("drag: dx: "+R);let D=_+R;D<0?D=0:D>o.width/2&&(D=o.width/2),_=D,y.attr("cx",_)});y.call(E)}else y.on("click",T),b.on("click",T)})),u+=2*h.r+20}),!0}}var _a=(()=>(function(l){l[l.Default=0]="Default",l[l.Dark=1]="Dark",l[l.Light=2]="Light",l[l.Dark2=3]="Dark2",l[l.Light2=4]="Light2"}(_a||(_a={})),_a))();class iv{constructor(a=_a.Default,o="\u041a\u0440\u0435\u0441\u0442.",c=512,u=512){this.theme=a,this.name=o,this.width=c,this.height=u}clear(){return this}regenerate(){return this}getWidth(){return this.width}getHeight(){return this.height}updateThemeConfig(a){switch(this.theme){case _a.Dark:a.colorBackground="#0e161b",a.colorMain="white";break;case _a.Light:a.colorBackground="#00364D",a.colorMain="white";break;case _a.Dark2:a.colorBackground="white",a.colorMain="#0e161b";break;case _a.Light2:a.colorBackground="white",a.colorMain="#00364D"}}generate(a,o,c){o.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b=!1,this.updateThemeConfig(o),a.createDataScale(o,a.createGolgofaDataPtr,(h,d)=>{h.rects=d.first,d.isSecond()&&(h.pathes=d.second),d.isThird()&&(h.texts=d.third)});var u=Kn.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(o.width/2,50).rotate(0).setColor("none");return o.texts.push(u),o.onItemSelected=h=>{u.d3Object&&u.d3Object.interrupt().transition(100).attr("fill-opacity",0).style("fill",o.colorMain).transition().duration(2e3).attr("fill-opacity",1).text(h).transition().delay(1e3).transition().duration(1e3).attr("fill-opacity",0)},!0}}var Zs=(()=>(function(l){l[l.Default=0]="Default",l[l.Dark=1]="Dark",l[l.Light=2]="Light",l[l.Dark2=3]="Dark2",l[l.Light2=4]="Light2"}(Zs||(Zs={})),Zs))();class Va{constructor(a,o){this.name=a,this.tag=o}static builder(){return new Va("",null)}setName(a){return this.name=a,this}setTag(a){return this.tag=a,this}}class rv{constructor(){this.genName="Menu",this.commands=[],this.printOnly=!1}static builder(){return new rv}setGenName(a){return this.genName=a,this}setCommands(a){return this.commands=a,this}setPrintOnly(a){return this.printOnly=a,this}addCommand(a){return this.commands.push(a),this}}class vee extends Ba{constructor(a=Zs.Default,o=512,c=128){super("\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u043c\u0435\u043d\u044e.",o,c),this.theme=a,this.svgImage=null,this.onCommandHandler=null,this.autoClickOnChangeEnabled=!1,this.strokeInvisible=!0,this.updateAll=null,this.updateText=null,this.updateAllPds=null,this.updateAllRects=null,this.commands=[Va.builder().setName("\u0418\u043c\u044f"),Va.builder().setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a"),Va.builder().setName("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),Va.builder().setName("\u041c\u0438\u0440")],this.currentIndex=0}regenerate(){return super.regenerate(),this.updateAll&&this.updateAll(),this}setAutoClickOnChange(a){return this.autoClickOnChangeEnabled=a,this}setCommands(a,o=null){return this.commands=a,this.currentIndex=o?this.commands.indexOf(o):-1,this.currentIndex>=this.commands.length&&(this.currentIndex=this.commands.length-1),this.currentIndex<0&&(this.currentIndex=0),this}setOnCommandHandler(a){return this.onCommandHandler=a,this}setTheme(a){return this.theme=a,this}setSvgImages(a){return this.svgImage=a,this}updateThemeConfig(a){switch(this.theme){case Zs.Dark:this.strokeInvisible=!0,a.colorBackground="#0e161b",a.colorMain="white";break;case Zs.Light:this.strokeInvisible=!0,a.colorBackground="#00364D",a.colorMain="white";break;case Zs.Dark2:this.strokeInvisible=!0,a.colorBackground="#0e161b",a.colorMain="white";break;case Zs.Light2:this.strokeInvisible=!0,a.colorBackground="white",a.colorMain="#00364D"}}isLight(){let a=!0;switch(this.theme){case Zs.Light2:case Zs.Light:break;default:a=!1}return a}runOnCommand(a){return this.onCommandHandler&&this.onCommandHandler(a),this}isGenerated(){return!!this.updateAll}generate(a,o,c){if(this.updateAll)return this.updateAll(),!0;o.clearAll(),this.updateThemeConfig(o);let u=V=>{let B=Ec(V);return B.r<<16|B.g<<8|B.b},h=(V,B)=>{B?V.transition().duration(1).style("visibility","visible").transition().duration(1e3).attr("fill-opacity",1).attr("stroke-opacity",1):V.transition().duration(1e3).attr("fill-opacity",0).attr("stroke-opacity",0).transition().duration(1).style("visibility","hidden")},d=u(o.colorMain),p=.8,g=.3;o.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439=!1;let b=(V,B=1,G)=>{let H=(16711680&V)>>16,j=(65280&V)>>8,W=255&V;B<1&&0==H&&0==j&&0==W&&(H=j=W=255);let Z=H*B&255,K=j*B&255,ae=W*B&255;if(B<1){let xe=u(o.colorBackground);Z=(16711680&xe)>>16,K=(65280&xe)>>8,ae=255&xe}return Ih(Z,K,ae,G).formatHex()},x=o.height/32*1,w=o.height/32*1,S=Math.round(.8*o.height),M=()=>o.width/8*6,T=V=>{let B=Math.round(.8*o.height),G=a.textSizeDirect(V,B,300),H=.8*M();return G.width>H&&(B=B*H/G.width),B},E=Kn.builder().setText(this.commands[this.currentIndex].name).setTextAnchor("middle").setFontSize(`${T(this.commands[this.currentIndex].name)}px`).translate(o.width/2+x,o.height/2+S/4+w).rotate(0).setColor(b(d,g)).setStrokeColor(b(d,g)).setStrokeWidth(1).setVisible(!0).addEvent(yi.builder().setName("click").setFunc(()=>{this.runOnCommand(this.commands[this.currentIndex])})).addClass("cursor"),k=Kn.builder().setText(this.commands[this.currentIndex].name).setTextAnchor("middle").setFontSize(`${T(this.commands[this.currentIndex].name)}px`).translate(o.width/2,o.height/2+S/4).rotate(0).setColor(b(d)).setStrokeColor(b(d,this.strokeInvisible?1:g)).setStrokeWidth(1).addEvent(yi.builder().setName("click").setFunc(()=>{this.runOnCommand(this.commands[this.currentIndex])})).addClass("cursor");o.texts.push(E),o.texts.push(k),this.updateText=V=>{E.d3Object.transition().duration(150).style("fill","#00000000").style("stroke","#00000000").transition().duration(1e3).style("fill",b(d,g)).style("stroke",b(d,g)).attr("font-size",`${T(this.commands[this.currentIndex].name)}px`).text(V),k.d3Object.transition().duration(150).style("fill","#00000000").style("stroke","#00000000").transition().duration(1e3).style("fill",b(d)).style("stoke",b(d)).attr("font-size",`${T(this.commands[this.currentIndex].name)}px`).text(V)};let P=[];this.updateAllPds=()=>{P.forEach(V=>{V.shadow?h(V.pd.d3Object,this.commands.length>1):(V.leftArrow&&0==this.currentIndex?h(V.pd.d3Object,!1):V.leftArrow&&h(V.pd.d3Object,!0),V.leftArrow||this.currentIndex+1!=this.commands.length?V.leftArrow||h(V.pd.d3Object,!0):h(V.pd.d3Object,!1))})},this.updateAll=()=>{let V=this.commands[this.currentIndex];this.updateText&&V&&this.updateText(V.name),this.updateAllPds&&this.updateAllPds(),this.updateAllRects&&this.updateAllRects()};let F=(V,B=null,G="gold",H="white",j=!0,W=!1)=>{let Z=((V=null)=>({dd:V||[[0,0],[1,1],[1,-1],[0,0]],line:Nc().x(H=>H[0]*(o.width/8)).y(H=>(H[1]/2+.5)*(o.height-2))}))(B),K=Xr.builder().setDatum(Z.dd).setD(Z.line).setStrokeColor(H).setStrokeWidth(1).setFillColor(G).translate(V[0],V[1]+1).addEvent(yi.builder().setName("click").setFunc(()=>{j?--this.currentIndex<0&&(this.currentIndex=0):++this.currentIndex>=this.commands.length&&(this.currentIndex=this.commands.length-1),this.updateAll&&this.updateAll(),this.onChange()})).setVisible(W&&this.commands.length>1||j&&this.currentIndex>0||!j&&this.currentIndex+1<this.commands.length);W||K.addClass("cursor"),P.push({leftArrow:j,pd:K,shadow:W}),o.pathes.push(K)},L=(V,B,G,H)=>{let j=[];return V.forEach(W=>{let Z=[];Z.push(W[0]*B+G/(o.width/8)),Z.push(W[1]*B+H/o.height),j.push(Z)}),j};F([0,0],L([[0,0],[1,1],[1,-1],[0,0]],p,x,w),b(d,g),b(d,1),!0,!0),F([o.width/8*7,0],L([[0,1],[1,0],[0,-1],[0,1]],p,x,w),b(d,g),b(d,1),!1,!0),F([0,0],L([[0,0],[1,1],[1,-1],[0,0]],p,0,0),b(d,1),b(u(b(d,1)),g),!0),F([o.width/8*7,0],L([[0,1],[1,0],[0,-1],[0,1]],p,0,0),b(d,1),b(u(b(d,1)),g),!1);let $=this.commands.length,Y=.9*M(),O=[];this.updateAllRects=()=>{O.forEach((V,B)=>{V.forEach((G,H)=>{if(0==H)return h(G[0].d3Object,!0),void h(G[1].d3Object,!0);B==this.currentIndex?(h(G[0].d3Object,!0),h(G[1].d3Object,!0)):(h(G[0].d3Object,!1),h(G[1].d3Object,!1))})})};for(let V=0;V<$;V++){let B=Y/$,G=.9,H=(o.width-Y)/2+B*V+B*(1-G)/2,j=[Wr.builder().setFillColor("none").setStrokeColor(b(d,1)).setStrokeWidth(1).setWidth(B*G).setHeight(o.height/10*1).translate(H+x,o.height/10*8+w).setVisible(!0),Wr.builder().setFillColor(b(d,g)).setStrokeColor(b(d,1)).setStrokeWidth(1).setWidth(B*G).setHeight(o.height/10*1).translate(H+x,o.height/10*8+w).setVisible(!0)],W=[Wr.builder().setFillColor("none").setStrokeColor(b(d,1)).setStrokeWidth(1).setWidth(B*G).setHeight(o.height/10*1).translate(H,o.height/10*8).setVisible(V==this.currentIndex),Wr.builder().setFillColor(b(d,1)).setStrokeColor(b(d,1)).setStrokeWidth(1).setWidth(B*G).setHeight(o.height/10*1).translate(H,o.height/10*8).setVisible(V==this.currentIndex)];o.rects.push(...j),o.rects.push(...W),O.push([j,W])}return!0}onChange(){this.autoClickOnChangeEnabled&&this.runOnCommand(this.commands[this.currentIndex])}}var Vo=(()=>(function(l){l[l.Default=0]="Default",l[l.Dark=1]="Dark",l[l.Light=2]="Light",l[l.Dark2=3]="Dark2",l[l.Light2=4]="Light2",l[l.Dark3=5]="Dark3",l[l.Light3=6]="Light3"}(Vo||(Vo={})),Vo))();class Ab{constructor(a,o){this.name=a,this.tag=o}static builder(){return new Ab("",null)}setName(a){return this.name=a,this}setTag(a){return this.tag=a,this}}class _ee extends Ba{constructor(a=Vo.Default){super("\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u043c\u0435\u043d\u044e.",512,512),this.theme=a,this.autoClickOnChangeEnabled=!1,this.strokeInvisible=!0,this.useShadow=!0,this.commands=[Ab.builder().setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a"),Ab.builder().setName("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),Ab.builder().setName("\u041c\u0438\u0440")],this.currentIndex=0}setShadowEnabled(a){return this.useShadow=a,this}setAutoClickOnChange(a){return this.autoClickOnChangeEnabled=a,this}setCommands(a,o){return this.commands=a,this.currentIndex=this.commands.indexOf(o),this.currentIndex>=this.commands.length&&(this.currentIndex=this.commands.length-1),this.currentIndex<0&&(this.currentIndex=0),this}setOnCommandHandler(a){return this.onCommandHandler=a,this}setTheme(a){return this.theme=a,this}setSvgImages(a){return this.svgImage=a,this}updateThemeConfig(a){switch(this.theme){case Vo.Dark:this.strokeInvisible=!0,a.colorBackground="#0e161b",a.colorMain="white";break;case Vo.Light:this.strokeInvisible=!0,a.colorBackground="#00364D",a.colorMain="white";break;case Vo.Dark2:this.strokeInvisible=!0,a.colorBackground="#0e161b",a.colorMain="white";break;case Vo.Light2:this.strokeInvisible=!0,a.colorBackground="white",a.colorMain="#00364D";break;case Vo.Dark3:this.strokeInvisible=!0,a.colorBackground="#0e161b",a.colorMain="#4AAED9";break;case Vo.Light3:this.strokeInvisible=!0,a.colorBackground="white",a.colorMain="#0072A3"}}isLight(){let a=!0;switch(this.theme){case Vo.Light3:case Vo.Light2:case Vo.Light:break;default:a=!1}return a}runOnCommand(a){return this.onCommandHandler&&this.onCommandHandler(a,this),this}generate(a,o,c){this.updateThemeConfig(o);let u=Z=>{let K=Ec(Z);return K.r<<16|K.g<<8|K.b},h=(Z,K)=>{K?Z.transition().duration(1).style("visibility","visible").transition().duration(1e3).attr("fill-opacity",1).attr("stroke-opacity",1):Z.transition().duration(1e3).attr("fill-opacity",0).attr("stroke-opacity",0).transition().duration(1).style("visibility","hidden")},d=u(o.colorMain),f=this.useShadow,g=.3;o.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439=!1;let b=(Z,K=1,ae)=>{let re=(16711680&Z)>>16,xe=(65280&Z)>>8,ge=255&Z;K<1&&0==re&&0==xe&&0==ge&&(re=xe=ge=255);let Me=re*K&255,He=xe*K&255,ke=ge*K&255;if(K<1){let qe=u(o.colorBackground);Me=(16711680&qe)>>16,He=(65280&qe)>>8,ke=255&qe}return Ih(Me,He,ke,ae).formatHex()},x=o.width/32*1,w=o.height/32*1,E=(Math.round(.8*o.height),1/3),k=2/3,D=Z=>{let K=Math.round(.8*o.height),ae=a.textSizeDirect(Z,K,300),re=o.width/24*22*.8,xe=o.height/3*.8;return ae.width>re&&(K=K*re/ae.width,ae=a.textSizeDirect(Z,K,300)),ae.height>xe&&(K=K*xe/ae.height),K},P=D(this.commands[this.currentIndex].name),F=Kn.builder().setText(this.commands[this.currentIndex].name).setTextAnchor("middle").setFontSize(`${P}px`).translate(o.width/2+x,o.height/2+P/4+w).rotate(0).setColor(b(d,g)).setStrokeColor(b(d,g)).setStrokeWidth(1).setVisible(f).addEvent(yi.builder().setName("click").setFunc(()=>{this.runOnCommand(this.commands[this.currentIndex])})).addClass("cursor"),L=Kn.builder().setText(this.commands[this.currentIndex].name).setTextAnchor("middle").setFontSize(`${P}px`).translate(o.width/2,o.height/2+P/4).rotate(0).setColor(b(d)).setStrokeColor(b(d,this.strokeInvisible?1:g)).setStrokeWidth(1).addEvent(yi.builder().setName("click").setFunc(()=>{this.runOnCommand(this.commands[this.currentIndex])})).addClass("cursor");o.texts.push(F),o.texts.push(L);let $=Z=>{F.d3Object.transition().duration(1e3).attr("font-size",`${D(this.commands[this.currentIndex].name)}px`).text(Z),L.d3Object.transition().duration(1e3).attr("font-size",`${D(this.commands[this.currentIndex].name)}px`).text(Z)},V=[],B=()=>{V.forEach(Z=>{Z.shadow?h(Z.pd.d3Object,!0):(Z.upArrow||0!=this.currentIndex?Z.upArrow||h(Z.pd.d3Object,!0):h(Z.pd.d3Object,!1),Z.upArrow&&this.currentIndex+1==this.commands.length?h(Z.pd.d3Object,!1):Z.upArrow&&h(Z.pd.d3Object,!0))})},G=(Z,K,ae="gold",re="white",xe=!0,ge=!1)=>{let Me=(Z=>({dd:Z||[[0,0],[1,1],[1,-1],[0,0]],line:Nc().x(re=>(0+re[0])*o.width).y(re=>(1-re[1])*(o.height-24))}))(K),He=Xr.builder().setDatum(Me.dd).setD(Me.line).setStrokeColor(re).setStrokeWidth(1).setFillColor(ae).translate(Z[0]+0*(ge?x:0),Z[1]+1+(ge?w:0)).addEvent(yi.builder().setName("click").setFunc(()=>{xe?(this.currentIndex+1<this.commands.length&&++this.currentIndex,this.currentIndex>=this.commands.length&&(this.currentIndex=this.commands.length-1)):(this.currentIndex>0&&--this.currentIndex,this.currentIndex<0&&(this.currentIndex=0)),$(this.commands[this.currentIndex].name),B(),this.onChange()})).setVisible(!0);ge||He.addClass("cursor"),V.push({upArrow:xe,pd:He,shadow:ge}),o.pathes.push(He)},H=(Z,K,ae,re,xe)=>{let ge=[];return Z.forEach(Me=>{let He=[];He.push(Me[0]*K+re),He.push(Me[1]*ae+xe),ge.push(He)}),ge};return f&&(G([0,0],H([[0,0],[.5,1],[1,0],[0,0]],1,E,0,k),b(d,g),b(d,1),!0,!0),G([0,k],H([[0,1],[.5,0],[1,1],[0,1]],1,E,0,0),b(d,g),b(d,1),!1,!0)),G([0,0],H([[0,0],[.5,1],[1,0],[0,0]],1,1*E,0,k),b(d,1),b(u(b(d,1)),g),!0),G([0,k],H([[0,1],[.5,0],[1,1],[0,1]],1,1*E,0,0),b(d,1),b(u(b(d,1)),g),!1),!0}onChange(){this.autoClickOnChangeEnabled&&this.runOnCommand(this.commands[this.currentIndex])}}var zo=(()=>(function(l){l[l.Default=0]="Default",l[l.Dark=1]="Dark",l[l.Light=2]="Light",l[l.Dark2=3]="Dark2",l[l.Light2=4]="Light2",l[l.Dark3=5]="Dark3",l[l.Light3=6]="Light3"}(zo||(zo={})),zo))();class nf{constructor(a,o,c,u){this.name=a,this.index=o,this.iWidth=c,this.tag=u,this.rect=null,this.text=null}static builder(){return new nf("",0,1,null)}setName(a){return this.name=a,this}setTag(a){return this.tag=a,this}setIndex(a){return this.index=a,this}setIWidth(a){return this.iWidth=a,this}}class E5e extends Ba{constructor(a=zo.Default,o="\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u043c\u0435\u043d\u044e.",c=512,u=512){super(o,c,u),this.theme=a,this.svgImage=null,this.onCommandHandler=null,this.autoClickOnChangeEnabled=!1,this.strokeInvisible=!0,this.useShadow=!0,this.commands=[nf.builder().setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a"),nf.builder().setName("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),nf.builder().setName("\u041c\u0438\u0440")],this.currentIndex=0,this.linesOfMonth=7}setShadowEnabled(a){return this.useShadow=a,this}setAutoClickOnChange(a){return this.autoClickOnChangeEnabled=a,this}setCommands(a,o=null){return this.commands=a,this.currentIndex=o?this.commands.indexOf(o):-1,this.currentIndex>=this.commands.length&&(this.currentIndex=this.commands.length-1),this.currentIndex<0&&(this.currentIndex=0),this}setOnCommandHandler(a){return this.onCommandHandler=a,this}setTheme(a){return this.theme=a,this}setSvgImages(a){return this.svgImage=a,this}updateThemeConfig(a){switch(this.theme){case zo.Dark:this.strokeInvisible=!0,a.colorBackground="#0e161b",a.colorMain="white";break;case zo.Light:this.strokeInvisible=!0,a.colorBackground="#00364D",a.colorMain="white";break;case zo.Dark2:this.strokeInvisible=!0,a.colorBackground="#0e161b",a.colorMain="white";break;case zo.Light2:this.strokeInvisible=!0,a.colorBackground="white",a.colorMain="#00364D";break;case zo.Dark3:this.strokeInvisible=!0,a.colorBackground="#0e161b",a.colorMain="#4AAED9";break;case zo.Light3:this.strokeInvisible=!0,a.colorBackground="white",a.colorMain="#0072A3"}}isLight(){let a=!0;switch(this.theme){case zo.Light3:case zo.Light2:case zo.Light:break;default:a=!1}return a}runOnCommand(a){return this.onCommandHandler&&this.onCommandHandler(a,this),this}generate(a,o,c){this.updateThemeConfig(o);let u=C=>{let x=Ec(C);return x.r<<16|x.g<<8|x.b},d=u(o.colorMain);o.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439=!1;let g=(C,x=1,w)=>{let S=(16711680&C)>>16,M=(65280&C)>>8,T=255&C;x<1&&0==S&&0==M&&0==T&&(S=M=T=255);let E=S*x&255,k=M*x&255,R=T*x&255;if(x<1){let P=u(o.colorBackground);E=(16711680&P)>>16,k=(65280&P)>>8,R=255&P}return Ih(E,k,R,w).formatHex()},b=C=>{let x=C.name,w=C.index,S=C.iWidth,M=Math.floor(o.width/7)*S,T=Math.floor(o.height/this.linesOfMonth),E=Wr.builder().setX(M*(w%7)).setY(T*Math.floor(w/7)).setRx(M/S/10).setRy(T/10).setWidth(M).setHeight(T).setFillColor(o.colorBackground).setStrokeWidth(2).setStrokeColor(o.colorMain).addEvent(yi.builder().setName("click").setFunc(()=>{this.runOnCommand(C)})),k=((C,x)=>{let w=Math.round(o.height/7*.7),S=a.textSizeDirect(C,w,300),M=.7*x,T=o.height/7*.7;return S.width>M&&(w=w*M/S.width,S=a.textSizeDirect(C,w,300)),S.height>T&&(w=w*T/S.height,S=a.textSizeDirect(C,w,300)),S})(x,o.width/7*S),R=Kn.builder().setText(x).setTextAnchor("middle").setFontSize(`${k.height}px`).translate(M*(w%7+.5),T*Math.floor(w/7)+k.height).rotate(0).setColor(g(d)).setStrokeColor(g(d,this.strokeInvisible?1:.3)).setStrokeWidth(1).addEvent(yi.builder().setName("click").setFunc(()=>{this.runOnCommand(C)})).addClass("cursor");C.rect=E,o.rects.push(C.rect),C.text=R,o.texts.push(C.text)};return this.commands.forEach(C=>{b(C)}),!0}onChange(){this.autoClickOnChangeEnabled&&this.runOnCommand(this.commands[this.currentIndex])}}class bi{constructor(a,o){this.\u0438\u043c\u044f=a,this.\u043a\u043b\u0430\u0441\u0441=o}static \u043d\u043e\u0432\u044b\u0439(){return new bi("",null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(a){return this.\u0438\u043c\u044f=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043b\u0430\u0441\u0441(a){return this.\u043a\u043b\u0430\u0441\u0441=a,this}}class jp{constructor(a){this.\u0444\u0443\u043d\u043a\u0446\u0438\u044f=a}static \u043d\u043e\u0432\u0430\u044f(){return new jp(null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(a){return this.\u0444\u0443\u043d\u043a\u0446\u0438\u044f=a,this}}class xt{constructor(a){this.\u043e\u0431\u044a\u0435\u043a\u0442=a}static \u043d\u043e\u0432\u044b\u0439(){return new xt(null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(a){return this.\u043e\u0431\u044a\u0435\u043a\u0442=a,this}}class te{constructor(a,o,c=null){this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f=a,this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435=o,this.\u043a\u0430\u0440\u0442\u0430=c}static \u043d\u043e\u0432\u044b\u0439(){return new te(null,null,null)}static \u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return new te(null,null,null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(a){return this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a){return this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435=a,this}\u0435\u0441\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(){return!!this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f(){return this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f"===this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f}\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442(){return this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0437\u0430\u0445\u0432\u0430\u0442"===this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f}\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c(){return this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c"===this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f}\u044d\u0442\u043e\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430(){return this.\u044d\u0442\u043e\u041e\u0431\u044a\u0435\u043a\u0442()}\u044d\u0442\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430(){return this.\u044d\u0442\u043e\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430()&&this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u043a\u043e\u043c\u0430\u043d\u0434\u0430"===this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f}\u043a\u0430\u043a\u0424\u0443\u043d\u043a\u0446\u0438\u044f(){return this.\u044d\u0442\u043e\u0424\u0443\u043d\u043a\u0446\u0438\u044f()||this.\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041e\u0448\u0438\u0431\u043a\u0443("\u0424\u0443\u043d\u043a\u0446\u0438\u044f"),this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u0424\u0443\u043d\u043a\u0446\u0438\u044f(){return te.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0424\u0443\u043d\u043a\u0446\u0438\u044f(this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0424\u0443\u043d\u043a\u0446\u0438\u044f(a){return null!=a&&"object"==typeof a&&a.constructor===jp}\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432(a=!1){return!a&&!this.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432()&&this.\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041e\u0448\u0438\u0431\u043a\u0443("\u041c\u0430\u0441\u0441\u0438\u0432"),this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432(){return Array.isArray(this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430(){return this.\u043a\u0430\u0440\u0442\u0430}\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430(){return te.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u041a\u0430\u0440\u0442\u0430(this.\u043a\u0430\u0440\u0442\u0430)}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u041a\u0430\u0440\u0442\u0430(a){return null!=a&&"object"==typeof a&&a.constructor===Map}\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442(){return this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u041e\u0431\u044a\u0435\u043a\u0442(){return te.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u041e\u0431\u044a\u0435\u043a\u0442(this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}\u044d\u0442\u043e\u041d\u0443\u043b\u044c(){return null==this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&null==this.\u043a\u0430\u0440\u0442\u0430}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u041e\u0431\u044a\u0435\u043a\u0442(a){return null!=a&&"object"==typeof a&&(a.constructor===te||a.constructor===Bc)}\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return this.\u044d\u0442\u043e\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()||this.\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041e\u0448\u0438\u0431\u043a\u0443("\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442"),this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return te.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(a){return null!=a&&"object"==typeof a&&a.constructor===xt}\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(){return this.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()||this.\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041e\u0448\u0438\u0431\u043a\u0443("number"),this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e(){return te.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0427\u0438\u0441\u043b\u043e(this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0427\u0438\u0441\u043b\u043e(a){return null!=a&&"number"==typeof a}\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e(){return this.\u044d\u0442\u043e\u0411\u0443\u043b\u0435\u0432\u043e()||this.\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041e\u0448\u0438\u0431\u043a\u0443("boolean"),this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u0411\u0443\u043b\u0435\u0432\u043e(){return te.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0411\u0443\u043b\u0435\u0432\u043e(this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0411\u0443\u043b\u0435\u0432\u043e(a){return null!=a&&"boolean"==typeof a}\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041e\u0448\u0438\u0431\u043a\u0443(a){throw new Error(`\u041d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0432\u0438\u0435 \u0442\u0438\u043f\u0430: \u043e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f ${a}, \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d \u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f: ${this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:"null"}; \u0442\u0438\u043f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f: ${typeof this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}.`)}\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(){return this.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()||this.\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041e\u0448\u0438\u0431\u043a\u0443("string"),this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430(){return te.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0421\u0442\u0440\u043e\u043a\u0430(this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return te.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0421\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(this)}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0421\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(a){return null!=a&&"string"==typeof a.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&(a.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0441\u0442\u0440\u043e\u043a\u0430"===a.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f||a.constructor===$p)}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0421\u0442\u0440\u043e\u043a\u0430(a){return null!=a&&"string"==typeof a}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(a,o=!1,c=!1){var u=te.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0418\u0437\u041e\u0431\u044a\u0435\u043a\u0442\u0430(this,a,!1);if(null==u&&this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441&&(u=this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(a,!1)),null==u&&o)throw new Error(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043f\u043e\u043b\u0435 "${a}" \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 \u0442\u0438\u043f\u0430: "${this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:typeof this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}".`);return null==u&&c&&(u=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)),u}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0418\u0437\u041c\u0430\u0441\u0441\u0438\u0432\u0430(a,o=!1,c=!1){var u=te.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0418\u0437\u041c\u0430\u0441\u0441\u0438\u0432\u0430(this,a,!1);if(null==u&&o)throw new Error(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043f\u043e\u043b\u0435 "${a}" \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 \u0442\u0438\u043f\u0430: "${this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:typeof this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}".`);return null==u&&c&&(u=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)),u||null}static \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0418\u0437\u041e\u0431\u044a\u0435\u043a\u0442\u0430(a,o,c=!1){var u=null;if(a.\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430())u=a.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get(o)||null;else if(c)throw new Error(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043f\u043e\u043b\u0435 "${o}" \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 \u0442\u0438\u043f\u0430: "${typeof a.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}".`);return u}static \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0418\u0437\u041c\u0430\u0441\u0441\u0438\u0432\u0430(a,o,c=!1){var u=void 0;if(a.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432())u=a.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432()[o];else if(c)throw new Error(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0438\u043d\u0434\u0435\u043a\u0441 \u043c\u0430\u0441\u0441\u0438\u0432\u0430 "${o}" \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 \u0442\u0438\u043f\u0430: "${typeof a.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}".`);return u}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c(a,o=!1){var c=te.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0418\u0437\u041e\u0431\u044a\u0435\u043a\u0442\u0430(this,a,!1);if(null==c&&this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441&&(c=this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c(a,!1)),null==c&&o)throw new Error(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043f\u043e\u043b\u0435 "${a}" \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 \u0442\u0438\u043f\u0430: "${typeof this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}".`);return c}static \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0418\u0437\u041e\u0431\u044a\u0435\u043a\u0442\u0430(a,o,c=!1){var u=void 0;if(a.\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430())u=a.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get(o);else if(a.\u044d\u0442\u043e\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442())u=a.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442[o];else if(c)throw new Error(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043f\u043e\u043b\u0435 "${o}" \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 \u0442\u0438\u043f\u0430: "${typeof a.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}".`);return u}\u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0438\u0442\u044c\u0412\u0441\u0435\u041f\u043e\u043b\u044f(a){if(this.\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430())this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().forEach((d,f,p)=>{a(f,d)});else if(this.\u044d\u0442\u043e\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()){var o=this.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442;for(var c in o){var u=o[c],h="object"==typeof u;a(c,te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h?xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(u):u))}}}\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(a){return te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(a))}}class Bc extends te{constructor(a){super(a,null,new Map)}static \u043d\u043e\u0432\u044b\u0439(){return new Bc(null)}static \u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return new Bc(null)}}class $p extends te{constructor(a){super(a,null,new Map)}static \u043d\u043e\u0432\u044b\u0439(){return new $p(null)}static \u043d\u043e\u0432\u044b\u0439\u0421\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return new $p(null)}}class RT extends te{constructor(a){super(a,null,new Map)}static \u043d\u043e\u0432\u044b\u0439(){return new RT(null)}static \u043d\u043e\u0432\u044b\u0439\u0411\u0443\u043b\u0435\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return new RT(null)}}class Ib extends te{constructor(a){super(a,null,new Map)}static \u043d\u043e\u0432\u044b\u0439(){return new Ib(null)}static \u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432\u041e\u0431\u044a\u0435\u043a\u0442(){return new Ib(null)}}class Kr extends te{constructor(){super(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041e\u0431\u044a\u0435\u043a\u0442\u044b"),null,new Map)}static \u043d\u043e\u0432\u044b\u0439(){return new Kr}static \u043d\u043e\u0432\u044b\u0435(){return new Kr}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u044b(a){this.\u043a\u0430\u0440\u0442\u0430=a}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c(a,o){return this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(a,o),this}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c(a){return this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get(a)||null}\u0435\u0441\u0442\u044c(a){return this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().has(a)}\u0443\u0434\u0430\u043b\u0438\u0442\u044c(a){return this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().delete(a)}}let k5e=(()=>{class l{constructor(o,c,u,h=null,d=0,f=!0){this.\u043a\u043e\u043c\u0430\u043d\u0434\u0430=o,this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b=c,this.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432=u,this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435=h,this.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b=d,this.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445=f,this.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=null,this.\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439=-1}static \u043d\u043e\u0432\u044b\u0439(){return new l(null,null,null,null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(o){return this.\u043a\u043e\u043c\u0430\u043d\u0434\u0430=o,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(o){return this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b=o,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432(o){return this.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432=o,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435(o){return this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435=o,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b(o){return this.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b=o,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442(o){return this.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=o,this}\u0435\u0441\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f(o){return null!=this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435&&this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435.\u0435\u0441\u0442\u044c(o)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(o,c){null==this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435&&(this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435=new Kr);let u=null;return null===c?this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435.\u0443\u0434\u0430\u043b\u0438\u0442\u044c(o):(u=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f")).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c),this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c(o,u)),u}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445(o){return this.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445=o,this}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(o){return null==this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435?null:this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c(o)}\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439\u0418\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b(){var o=this.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b++;return this.\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439=this.\u043d\u043e\u0432\u044b\u0439\u0418\u0434\u0435\u043a\u0441\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439(),o}\u043d\u043e\u0432\u044b\u0439\u0418\u0434\u0435\u043a\u0441\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439(){return l.\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439++}}return l.\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439=0,l})();class Ve extends te{constructor(a,o,c){super(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u043e\u043c\u0430\u043d\u0434\u0430"),a?te.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0421\u0442\u0440\u043e\u043a\u0430(a)?a:jp.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(a):null),this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b=o,this.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432=c}\u044d\u0442\u043e\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430(){return!0}static \u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430(){return new Ve(null,null,null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(a){return this.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(te.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0421\u0442\u0440\u043e\u043a\u0430(a)?a:jp.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(a)),this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(a){return this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432(a){return this.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432=a,this}}class TF extends te{constructor(a,o,c){super(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u0444\u0443\u043d\u043a\u0446\u0438\u044f"),a),this.\u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b=o,this.\u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445\u0412\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0435=c}static \u043d\u043e\u0432\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f(){return new TF(null,!0,!1)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(a){return this.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a),this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432(a){return this.\u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u044f\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445(a){return this.\u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445\u0412\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0435=a,this}}class Tt{constructor(a,o){this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430=a,this.\u0442\u0435\u043b\u043e=o}static \u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434(){return new Tt(null,null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(a){return this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(a){return this.\u0442\u0435\u043b\u043e=a,this}}class MF{constructor(a){this.\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u0418\u043d\u0438\u0446\u0438\u0438\u0440\u0443\u044e\u0449\u0435\u0433\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f=a}static \u043d\u043e\u0432\u043e\u0435\u041f\u043e\u043b\u0435(){return new MF(null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u0418\u043d\u0438\u0446\u0438\u0438\u0440\u0443\u044e\u0449\u0435\u0433\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f(a){return this.\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u0418\u043d\u0438\u0446\u0438\u0438\u0440\u0443\u044e\u0449\u0435\u0433\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f=a,this}}class DF{constructor(a,o){this.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430=a,this.\u0438\u043c\u044f\u041f\u043e\u043b\u044f=o}static \u043d\u043e\u0432\u044b\u0439\u0417\u0430\u0445\u0432\u0430\u0442(){return new DF(null,null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430(a){return this.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f\u041f\u043e\u043b\u044f(a){return this.\u0438\u043c\u044f\u041f\u043e\u043b\u044f=a,this}}class FT{constructor(a){this.\u043e\u0431\u044a\u0435\u043a\u0442=a}static \u043d\u043e\u0432\u044b\u0439\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c(){return new FT(null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(a){return this.\u043e\u0431\u044a\u0435\u043a\u0442=a,this}}class LT{}class NT{}class gl{constructor(){this.\u043f\u0430\u0440\u0441\u0435\u0440=null,this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b=[],this.\u0444\u0443\u043d\u043a\u0446\u0438\u0438=new Map,this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b=new Kr,this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430=1,this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430=0,this.\u0437\u0430\u043f\u0430\u0441\u043d\u044b\u0435\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u044f\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430=[],this.\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430=!1,this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b()}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0441\u0435\u0440(a){return this.\u043f\u0430\u0440\u0441\u0435\u0440=a,this}\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(){return++this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430,this}\u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(){return--this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430,this}get \u0435\u0441\u0442\u044c\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442(){return this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b.length>0}get \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442(){return this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b[0]}get \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442(){return this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b[this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430]}get \u044d\u0442\u043e\u0442\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0412\u044b\u0437\u043e\u0432\u0430(){return this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b[this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430]}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442(a){this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b.unshift(a)}\u0443\u0434\u0430\u043b\u0438\u0442\u044c\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442(){this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b.shift()}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(a,o,c){if(this.\u0444\u0443\u043d\u043a\u0446\u0438\u0438.has(a))throw new Error(`\u0423\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0441 \u0438\u043c\u0435\u043d\u0435\u043c: "${a}".`);return this.\u0444\u0443\u043d\u043a\u0446\u0438\u0438.set(a,TF.\u043d\u043e\u0432\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(jp.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(o)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432(c)),this}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(a){let o=this.\u0444\u0443\u043d\u043a\u0446\u0438\u0438.get(a);if(!o)throw new Error(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f: "${a}".`);return o}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0412\u041a\u043b\u0430\u0441\u0441\u041c\u0435\u0442\u043e\u0434\u0418\u043b\u0438\u0414\u0430\u043d\u043d\u044b\u0435(a,o){var c=a.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b;let u=c[0].\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),d=null;return c[1].\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()?(d=this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(c[2]).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(c[3]))),null!=o&&o.set(u,d)):(d=this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043f\u043e\u043b\u0435").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(MF.\u043d\u043e\u0432\u043e\u0435\u041f\u043e\u043b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u0418\u043d\u0438\u0446\u0438\u0438\u0440\u0443\u044e\u0449\u0435\u0433\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f(c[2]))),null!=o&&o.set(u,d)),d}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(a){let o=null;for(let g=0;g<this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b.length;g++){let m=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b[g];if(!(g<this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430)||m.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445){if(o=m.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(a),o)break;if(m.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445&&m.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.length){var c=m.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0],u=c;if(c.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0437\u0430\u0445\u0432\u0430\u0442"==c.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var h=c.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442;u=h.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(h.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())}if(u.\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430()&&(o=u.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(a),o&&(o=this.\u0437\u0430\u0445\u0432\u0430\u0442\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(u,a))),o)break}if(m.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432){for(var d=-1,f=0;f<m.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432.length;f++)if(m.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432[f].\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()==a){d=f+1;break}if(d>=0&&(o=m.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[d]),o)break}if(!o&&m.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445){if(g+1<this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b.length){g=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b.length-2;continue}if(this.\u0444\u0443\u043d\u043a\u0446\u0438\u0438.has(a)){var p=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b[2];o=this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(a).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(p.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b&&p.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.length>=2?[...p.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.filter((v,_)=>_>=2)]:null))))}}if(o||m.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445)break}}return o}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(a,o,c){let u=!1;if(a&&a.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0437\u0430\u0445\u0432\u0430\u0442"===a.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var h=a.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442;h.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?h.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(h.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),c):h.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()&&(h.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432()[h.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()]=c),u=!0}else o&&(this.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(o,c),u=!0);return u}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(a,o){let c=null;for(let h=0;h<this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b.length;h++){let d=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b[h];if(!(h<this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430)||d.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445){if(c=d.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(a),c)break;if(d.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445&&d.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.length){var u=d.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0];if(u.\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430()&&u.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().has(a))return u.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(a,o),o;if(c)break}if(c||d.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445)break}}if(null==c&&(c=this.\u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(a,o)),c)c.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435=o;else if(null!=o)throw new Error(`\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c: "${a}".`);return c}\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a){return this.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(a))}\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a){return this.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(this.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(a)))}\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a){if(null==a)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430: \u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d \u043d\u0443\u043b\u0435\u0432\u043e\u0439 \u043e\u0431\u044a\u0435\u043a\u0442.");return a}\u043a\u043e\u043f\u0438\u044f\u041e\u0431\u044a\u0435\u043a\u0442\u0430(a){var o=a;return a.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?o=this.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()):a.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()?o=this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()):a.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432()&&(o=this.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().concat([]))),o}\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(a){var o=null;if(a.\u044d\u0442\u043e\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430())if(a.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u043a\u043e\u043c\u0430\u043d\u0434\u0430"===a.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){let h=a;if(h.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()){var c=this.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(a.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),u=c.\u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b?this.\u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(h.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b):h.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b;c.\u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b||this.\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430();try{o=this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(c,u,h.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432,!1,c.\u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445\u0412\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0435,!1,null),c.\u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b||this.\u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430()}catch(d){throw c.\u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b||this.\u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(),d}}else a.\u044d\u0442\u043e\u0424\u0443\u043d\u043a\u0446\u0438\u044f()&&(o=this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(a,h.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b,h.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432,!0,!0,!1,null))}else o=a;else o=a;return o}\u043d\u0430\u0447\u0430\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(a,o,c,u=!0,h=!0,d=!1){var f=u?this.\u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(o):o;return this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442(k5e.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(a).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(f).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432(c).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445(h)),d?(this.\u0437\u0430\u043f\u0430\u0441\u043d\u044b\u0435\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u044f\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430.push({\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435:this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430,\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u0412\u044b\u0437\u043e\u0432\u0430:this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430}),this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430=1,this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430=0):this.\u0437\u0430\u043f\u0430\u0441\u043d\u044b\u0435\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u044f\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430.length&&++this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430,this}\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(a=!1,o=!1){var c=!!a&&this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442,u=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445;if(this.\u0443\u0434\u0430\u043b\u0438\u0442\u044c\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442(),a&&c&&this.\u0435\u0441\u0442\u044c\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442&&(this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=c),this.\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430&&u?this.\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430=!1:this.\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430&&this.\u0435\u0441\u0442\u044c\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442&&(this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b=Number.MAX_VALUE),o){var h=this.\u0437\u0430\u043f\u0430\u0441\u043d\u044b\u0435\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u044f\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430.pop();this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430=h.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435,this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430=h.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u0412\u044b\u0437\u043e\u0432\u0430}else this.\u0437\u0430\u043f\u0430\u0441\u043d\u044b\u0435\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u044f\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430.length&&--this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430;return this}\u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(a){return null==a?null:a.map(o=>this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(o))}\u0432\u043e\u0437\u0432\u0440\u0430\u0442(a){return this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=a,this.\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430=!0,this}\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a){var o=null;if(a&&a.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0437\u0430\u0445\u0432\u0430\u0442"===a.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var c=a.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442;c.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?o=c.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(c.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()):c.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()&&(o=c.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0418\u0437\u041c\u0430\u0441\u0441\u0438\u0432\u0430(c.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))}else o=a;return o}\u0437\u0430\u0445\u0432\u0430\u0442\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a,o){return this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0437\u0430\u0445\u0432\u0430\u0442").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(DF.\u043d\u043e\u0432\u044b\u0439\u0417\u0430\u0445\u0432\u0430\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430(a).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f\u041f\u043e\u043b\u044f("string"!=typeof o?o:this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(o))))}\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c\u041d\u0430\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a){return this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(FT.\u043d\u043e\u0432\u044b\u0439\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(a)))}\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(a){var o,c=a.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442;if(!(c instanceof FT))throw new Error(`\u041e\u0431\u044a\u0435\u043a\u0442 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0435\u043c. \u0418\u043c\u044f \u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u0430: '${null===(o=a.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f)||void 0===o?void 0:o.\u0438\u043c\u044f}'.`);return c.\u043e\u0431\u044a\u0435\u043a\u0442}\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(){var a=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442,o=a.\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439,c=!1,u=null;try{if(a.\u043a\u043e\u043c\u0430\u043d\u0434\u0430.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432()){var h=a.\u043a\u043e\u043c\u0430\u043d\u0434\u0430.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432();if(a.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b<h.length){let d=h[a.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b++];c=a.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b<h.length,a.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d)}}else a.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=a.\u043a\u043e\u043c\u0430\u043d\u0434\u0430}catch(d){u=d}if(o!==a.\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439&&(c=!0),u)throw u;return c}\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(a,o,c,u,h,d,f){var p=null;if(a.\u044d\u0442\u043e\u0424\u0443\u043d\u043a\u0446\u0438\u044f())try{var g=a.\u043a\u0430\u043a\u0424\u0443\u043d\u043a\u0446\u0438\u044f().\u0444\u0443\u043d\u043a\u0446\u0438\u044f;this.\u043d\u0430\u0447\u0430\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(a,o,c,u,h,d),this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=g(this,this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b),f&&(this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=f()),p=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442,this.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,d)}catch(m){throw this.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,d),m}else if(a.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u043a\u043e\u043c\u0430\u043d\u0434\u0430"===a.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f)try{this.\u043d\u0430\u0447\u0430\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(a,o,c,u,h,d),this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(a),f&&(this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=f()),p=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442,this.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,d)}catch(m){throw this.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,d),m}else if(a.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432())try{for(this.\u043d\u0430\u0447\u0430\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(a,o,c,!0,h,d);this.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(););f&&(this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=f()),p=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442,this.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,d)}catch(m){throw this.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,d),m}else p=this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(a),f&&(p=f());return null==p&&(p=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()),p}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(a,o){return this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(a,o),this}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(a,o){return this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(a)}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e(){return gl.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e\u0412\u0414\u0432\u0438\u0436\u043e\u043a(this),gl.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0445\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445\u0412\u0414\u0432\u0438\u0436\u043e\u043a(this),this}static \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e\u0412\u0414\u0432\u0438\u0436\u043e\u043a(a){let o=d=>d&&d.\u044d\u0442\u043e\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f()?d.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442():d,c=d=>a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d)),h=(d,f,p)=>{var g=c(f[1]),m=null,v=null;m=f[0].\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442()?c(f[0]):(d=>a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(d)))((v=c(f[0])).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());var _=p(o(m).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435,o(g).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435);if(g=("string"==typeof _?d.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430"):te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(_),m&&m.\u044d\u0442\u043e\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f())m.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g);else if(v)d.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(v.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),g);else{let y=f[0].\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442;y.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(y.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),g)}return g};a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043d\u0435\u0442 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",(d,f)=>null,!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0431\u0440\u043e\u0441\u0438\u0442\u044c",(d,f)=>{throw d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(f[0].\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442())},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(d,f)=>{var p=c(f[1]);if(!d.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(f[0],null,p)){var m=c(f[0]);d.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(null,m.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),p)}return p},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u043b\u043e\u0436\u0438\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(d,f)=>h(d,f,(p,g)=>p+g),!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0432\u044b\u0447\u0435\u0441\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(d,f)=>h(d,f,(p,g)=>p-g),!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0443\u043c\u043d\u043e\u0436\u0438\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(d,f)=>h(d,f,(p,g)=>p*g),!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(d,f)=>h(d,f,(p,g)=>p/g),!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c",(d,f)=>{var p=c(f[0]),g=d.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());if(!g)throw new Error(`\u041d\u0435 \u043c\u043e\u0433\u0443 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e: "${p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()}".`);return g&&g.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f"===g.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f?g.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442():g},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043e\u0431\u044a\u0435\u043a\u0442",(d,f)=>c(f[0]),!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043c\u0430\u0441\u0441\u0438\u0432",(d,f)=>{var p=c(f[0]);return d.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([...p.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map(m=>d.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(m)))])},!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0438\u0437 \u043c\u0430\u0441\u0441\u0438\u0432\u0430",(d,f)=>{var p=c(f[0]),g=c(f[1]);return d.\u0437\u0430\u0445\u0432\u0430\u0442\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p,g)},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0442\u0440\u043e\u043a\u0430",(d,f)=>{var p=c(f[0]);return d.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())},!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0438\u043d\u043a\u0440\u0435\u043c\u0435\u043d\u0442",(d,f)=>{var p=c(f[0]),g=d.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),m=null;if(g&&g.\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442()){var v=d.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g);m=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(v.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()+1),d.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(g,null,m)}else if(g&&"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f"===g.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var _=g.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();m=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(_.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()+1),g.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(m)}return m},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u043e\u0441\u0442\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0438\u043d\u043a\u0440\u0435\u043c\u0435\u043d\u0442",(d,f)=>{var g=c(f[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()?d.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(c(f[0]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()):f[0],m=null;if(g&&g.\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442()){var v=d.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g);m=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(v.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),d.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(g,null,te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(v.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()+1))}else if(g&&"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f"===g.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var _=g.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();m=_,g.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(_.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()+1))}return m},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0434\u0435\u043a\u0440\u0435\u043c\u0435\u043d\u0442",(d,f)=>{var p=c(f[0]),g=d.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),m=null;if(g&&g.\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442()){var v=d.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g);m=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(v.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()-1),d.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(g,null,m)}else if(g&&"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f"===g.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var _=g.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();m=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(_.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()-1),g.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(m)}return m},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u043e\u0441\u0442\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0434\u0435\u043a\u0440\u0435\u043c\u0435\u043d\u0442",(d,f)=>{var p=c(f[0]),g=d.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),m=null;if(g&&g.\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442()){var v=d.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g);m=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(v.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),d.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(g,null,te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(v.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()-1))}else if(g&&"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f"===g.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var _=g.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();m=_,g.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(_.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()-1))}return m},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c",(d,f)=>{var p=c(f[0]),g=d.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),m=null;if(g&&g.\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442()){var v=d.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g);m=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(v.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()-1),d.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(g,null,m)}else if(g&&"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f"===g.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var _=g.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();m=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(_.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()-1),g.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(m)}return m},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435",(d,f)=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c(f[0]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()*c(f[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0447\u0430\u0441\u0442\u043d\u043e\u0435",(d,f)=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c(f[0]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()/c(f[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043c\u043e\u0434\u0443\u043b\u044c",(d,f)=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c(f[0]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()%c(f[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0443\u043c\u043c\u0430",(d,f)=>{var p=c(f[0]),g=c(f[1]);return p.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()?te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()+g.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()):d.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(""+p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435+g.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c",(d,f)=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c(f[0]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()-c(f[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0440\u0430\u0432\u043d\u043e",(d,f)=>{var p=c(f[0]),g=c(f[1]);return te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!!((!p||null==p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&null==p.\u043a\u0430\u0440\u0442\u0430)&&(!g||null==g.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&null==g.\u043a\u0430\u0440\u0442\u0430)||p&&g&&(null!=p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435==g.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435||null==p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&null==g.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&(p.\u043a\u0430\u0440\u0442\u0430==g.\u043a\u0430\u0440\u0442\u0430||p.\u043a\u0430\u0440\u0442\u0430&&g.\u043a\u0430\u0440\u0442\u0430&&0==p.\u043a\u0430\u0440\u0442\u0430.size&&0==g.\u043a\u0430\u0440\u0442\u0430.size))))},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043d\u0435 \u0440\u0430\u0432\u043d\u043e",(d,f)=>{var p=c(f[0]),g=c(f[1]);return te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!((!p||null==p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&null==p.\u043a\u0430\u0440\u0442\u0430)&&(!g||null==g.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&null==g.\u043a\u0430\u0440\u0442\u0430)||p&&g&&(null!=p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435==g.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435||null==p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&null==g.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&(p.\u043a\u0430\u0440\u0442\u0430==g.\u043a\u0430\u0440\u0442\u0430||p.\u043a\u0430\u0440\u0442\u0430&&g.\u043a\u0430\u0440\u0442\u0430&&0==p.\u043a\u0430\u0440\u0442\u0430.size&&0==g.\u043a\u0430\u0440\u0442\u0430.size))))},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0442\u0440\u043e\u0433\u043e \u0440\u0430\u0432\u043d\u043e",(d,f)=>{var p=c(f[0]),g=c(f[1]);return te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435===g.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&p.\u043a\u0430\u0440\u0442\u0430===g.\u043a\u0430\u0440\u0442\u0430)},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0442\u0440\u043e\u0433\u043e \u043d\u0435 \u0440\u0430\u0432\u043d\u043e",(d,f)=>{var p=c(f[0]),g=c(f[1]);return te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435!==g.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435||p.\u043a\u0430\u0440\u0442\u0430!==g.\u043a\u0430\u0440\u0442\u0430)},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0431\u043e\u043b\u044c\u0448\u0435",(d,f)=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c(f[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435>c(f[1]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435),!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043c\u0435\u043d\u044c\u0448\u0435",(d,f)=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c(f[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435<c(f[1]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435),!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e",(d,f)=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c(f[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435>=c(f[1]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435),!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e",(d,f)=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c(f[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435<=c(f[1]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435),!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e \u0438\u043b\u0438 \u0431\u043e\u043b\u044c\u0448\u0435",(d,f)=>{var p=c(f[0]),g=c(f[1]);return p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435<g.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(-1):p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435>g.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1):te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0)},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f",(d,f)=>{var p=c(f[0]),g="\u043d\u0443\u043b\u044c";return null==p?g="\u043d\u0443\u043b\u044c":p.\u044d\u0442\u043e\u0424\u0443\u043d\u043a\u0446\u0438\u044f()?g="\u0444\u0443\u043d\u043a\u0446\u0438\u044f":p.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()?g="\u0447\u0438\u0441\u043b\u043e":p.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?g="\u0441\u0442\u0440\u043e\u043a\u0430":p.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432()?g="\u043c\u0430\u0441\u0441\u0438\u0432":p.\u044d\u0442\u043e\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()?g="\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442":p.\u044d\u0442\u043e\u0411\u0443\u043b\u0435\u0432\u043e()?g="\u0431\u0443\u043b\u0435\u0432\u043e":(p.\u044d\u0442\u043e\u041e\u0431\u044a\u0435\u043a\u0442()||p.\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430())&&(g="\u043e\u0431\u044a\u0435\u043a\u0442"),$p.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g)},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043e\u0442\u0440\u0438\u0446\u0430\u043d\u0438\u0435",(d,f)=>{var p=c(f[0]),g=p&&(p.\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430()&&p.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().size||p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435);return RT.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!g)},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0438\u043b\u0438",(d,f)=>{var p=c(f[0]);return p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?p:c(f[1])},!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0438",(d,f)=>{if(!c(f[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)return d.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!1);var g=c(f[1]);return d.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!!g.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)},!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u044d\u043d\u0435\u0440\u0433\u0438\u0447\u043d\u043e\u0435 \u0438\u043b\u0438",(d,f)=>{var p=c(f[0]),g=c(f[1]);return p||g||te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!1)},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0447\u0438\u0441\u043b\u0430 \u043c\u0438\u043d",(d,f)=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.min(+c(f[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435,+c(f[1]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)),!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0447\u0438\u0441\u043b\u0430 \u043c\u0430\u043a\u0441",(d,f)=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.max(+c(f[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435,+c(f[1]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)),!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0435\u0441\u043b\u0438",(d,f)=>{var p=c(f[0]),g=f[1],m=f[2],v=p.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()?g:m;return null==v?null:d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(v,null,null,!0,!1,!1,null)},!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u043e\u043a\u0440\u0430\u0449\u0451\u043d\u043d\u043e\u0435 \u0435\u0441\u043b\u0438",(d,f)=>{var p=c(f[0]),g=f[1],m=f[2],v=p.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()?g:m;return null==v?null:d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(v,null,null,!0,!1,!1,null)},!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u043e\u043a\u0430",(d,f)=>{var p=!1,g=null;try{var m=f[0];do{if(m&&(p=!!d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(m).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435),!p)break;var v=f[1];if(v){try{g=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(v,null,null,!0,!1,!1,null)}catch(_){if(_&&_.constructor!==NT)throw _}if(d.\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430)break}}while(p)}catch(_){if(_&&_.constructor!==LT)throw _}return g},!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0434\u0435\u043b\u0430\u0442\u044c",(d,f)=>{var p=!1,g=null;try{var m=f[0],v=f[1];do{if(v){try{g=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(v,null,null,!0,!1,!1,null)}catch(_){if(_&&_.constructor!==NT)throw _}if(d.\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430)break}m&&(p=!!d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(m).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}while(p)}catch(_){if(_&&_.constructor!==LT)throw _}return g},!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0446\u0438\u043a\u043b",(d,f)=>{var p=!0,g=null,m=f[0],v=f[1],_=f[2],y=f[3];let b=()=>{m&&(p=!!c(m).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435);try{for(;p;){if(v){try{g=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(v,null,null,!0,!1,!1,null)}catch(C){if(C&&C.constructor!==NT)throw C}if(d.\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430)break}y&&d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(y,null,null,!0,!1,!1,null),m&&(p=!!d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(m).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}}catch(C){if(C&&C.constructor!==LT)throw C}return g};return _?d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(_,null,null,!0,!1,!1,b):b(),g},!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c",(d,f)=>{var p=null,g=f[0],m=f[1],v=f[2];try{g&&(p=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(g,null,null,!0,!1,!1,null))}catch(_){if(v)try{d.\u043d\u0430\u0447\u0430\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(null,null,null,!0,!1,!1),d.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(m.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),te.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0421\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(_)?_:te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(""+_)),d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(v,null,null,!0,!1,!1,null),d.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,!1),p=d.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442}catch(y){throw d.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,!1),y}}return p},!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043a\u043b\u0430\u0441\u0441",(d,f)=>{var p=f[0].\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432(),g=d.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043a\u043b\u0430\u0441\u0441");g.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441=Bc.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442();var m=g.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();return p.forEach(v=>{d.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0412\u041a\u043b\u0430\u0441\u0441\u041c\u0435\u0442\u043e\u0434\u0418\u043b\u0438\u0414\u0430\u043d\u043d\u044b\u0435(v,m)}),g},!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c",(d,f)=>d.\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c\u041d\u0430\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f[0]),!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0432\u0435\u0440\u043d\u0443\u0442\u044c",(d,f)=>{var p=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(f[0]);return d.\u0432\u043e\u0437\u0432\u0440\u0430\u0442(p),p},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043a\u043e\u043f\u0438\u044f",(d,f)=>{var p=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(f[0]);return null==p?null:d.\u043a\u043e\u043f\u0438\u044f\u041e\u0431\u044a\u0435\u043a\u0442\u0430(p)},!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u044d\u0442\u043e",(d,f)=>d.\u044d\u0442\u043e\u0442\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0412\u044b\u0437\u043e\u0432\u0430.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0],!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u0440\u0435\u0440\u0432\u0430\u0442\u044c",(d,f)=>{throw new LT},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",(d,f)=>{throw new NT},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044e",(d,f)=>{var g=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(f[0]),m=null;if(g&&g.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c()){var v=g.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442.\u043e\u0431\u044a\u0435\u043a\u0442;m=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(d.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(v),null,null,!1,!1,!1,null)}return m},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0432\u044b\u0437\u0432\u0430\u0442\u044c",(d,f)=>{var p=!1;do{p=!1;var m=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(f[0],null,null,!0,!1,!1,null),v=null,_=null,y=null,b=null;if(m&&m.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0437\u0430\u0445\u0432\u0430\u0442"==m.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f&&(b=m.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442).\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430&&b.\u0438\u043c\u044f\u041f\u043e\u043b\u044f){y=b.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430();var C=b.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c(y);_=b.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430,m=C}var x=!1;if(m&&m.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f)if("\u043a\u043b\u0430\u0441\u0441"===m.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){x=!0,(v=d.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043e\u0431\u044a\u0435\u043a\u0442")).\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441=m;var w=m;if(w&&w.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&w.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441&&(w.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441.\u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0438\u0442\u044c\u0412\u0441\u0435\u041f\u043e\u043b\u044f((L,$)=>{if("\u043f\u043e\u043b\u0435"==$.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var Y=$.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442,O=d.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(Y.\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u0418\u043d\u0438\u0446\u0438\u0438\u0440\u0443\u044e\u0449\u0435\u0433\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f,null,null,!0,!1,!1,null));v.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(L,O)}}),w.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c("\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"))){var M=[d.\u0437\u0430\u0445\u0432\u0430\u0442\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(v,"\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0)];for(let L=2;L<d.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.length;L++)M.push(d.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[L]);var T=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(M);d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(T)}}else if("\u043c\u0435\u0442\u043e\u0434"==m.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){x=!0;var E=f[1].\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e(),k=f[2],R=[_||te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()];if(k)for(let L=2;L<f.length;L++){var P=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(f[L],null,null,!0,!1,!1,null);R.push(P)}var F=m.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442;v=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(F.\u0442\u0435\u043b\u043e,R,F.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432(!0),!1,E,E,null)}if(!x&&!p)throw d.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(y?`\u041d\u0435 \u043c\u043e\u0433\u0443 \u0432\u044b\u0437\u0432\u0430\u0442\u044c "${y}" \u0438\u0437 ${""+b}.`:`\u041d\u0435 \u043c\u043e\u0433\u0443 \u0432\u044b\u0437\u0432\u0430\u0442\u044c "${m?m.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?m.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:m.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:null}".`)}while(p);return v},!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u043e\u043b\u044e",(d,f)=>{var g=f[1],m=d.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(f[0],null,null,!0,!1,!1,null)),_=d.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(g,null,null,!0,!1,!1,null));return d.\u0437\u0430\u0445\u0432\u0430\u0442\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(m,_)},!1)}\u043d\u043e\u0432\u044b\u0439\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(a){return Bc.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(a).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043b\u0430\u0441\u0441(this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e")))}\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(a){return Bc.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(a))}\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430(a){return $p.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(a).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043b\u0430\u0441\u0441(this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c("\u0441\u0442\u0440\u043e\u043a\u0430")))}\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432(a){return Ib.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(a).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043b\u0430\u0441\u0441(this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c("\u043c\u0430\u0441\u0441\u0438\u0432")))}\u043d\u043e\u0432\u044b\u0439\u0410\u0421\u0414(a){return te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(a).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043b\u0430\u0441\u0441(this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c("\u0410\u0421\u0414")))}static \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0445\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445\u0412\u0414\u0432\u0438\u0436\u043e\u043a(a){var o=a.\u043d\u043e\u0432\u044b\u0439\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e");a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e",(c,u)=>o,!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0442\u043e\u043f",(c,u)=>(c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(u[0]),u.length?u[0]:te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()),!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(u[0]),d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(u[1]);return o.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),d),d},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c",(c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(u[0]);return o.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())},!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(u[0]),d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(u[1]);return o.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),d),d},!1),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c",(c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(u[0]);return o.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())},!1)}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b(){{let a=Bc.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442(),o=a.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();o.set("\u0434\u043b\u0438\u043d\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[0]);return te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().length)}))))),o.set("\u043f\u043e\u0434\u0441\u0442\u0440\u043e\u043a\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[0]),d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]),f=u.length>2?c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[2]):null;return te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().substr(d?d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e():0,f?f.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e():void 0))}))))),o.set("\u0440\u0430\u0437\u0431\u0438\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[0]),d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]),f=h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().split(new RegExp(d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()));return c.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f.filter(g=>null!=g).map(g=>c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g.trim())))}))))),o.set("\u0432\u0435\u0440\u0445\u043d\u0438\u0439\u0420\u0435\u0433\u0438\u0441\u0442\u0440",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=u[0];return c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().toUpperCase())}))))),o.set("\u043d\u0438\u0436\u043d\u0438\u0439\u0420\u0435\u0433\u0438\u0441\u0442\u0440",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=u[0];return c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().toLowerCase())}))))),o.set("\u0432\u0427\u0438\u0441\u043b\u043e",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=u[0];return c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(+h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())}))))),o.set("\u0441\u043e\u043a\u0440\u0430\u0442\u0438\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=u[0];return c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().trim())}))))),o.set("\u0438\u043d\u0434\u0435\u043a\u0441\u0414\u043b\u044f",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=u[0],d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]);return c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0438\u043d\u0434\u0435\u043a\u0441").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().indexOf(d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()))}))))),o.set("\u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c\u0412\u0441\u0435",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{for(var h=u[0],d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]),f=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[2]),p=h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),g=new RegExp(d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),m=p.replace(g,f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());m!=p;)m=(p=m).replace(g,f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());return c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0438\u043d\u0434\u0435\u043a\u0441").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p)}))))),this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c("\u0441\u0442\u0440\u043e\u043a\u0430",a)}{let a=Bc.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442(),o=a.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();o.set("\u0434\u043b\u0438\u043d\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[0]);return te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().length)}))))),o.set("\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[0]),d=u.length>1?c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]):null;return c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map(p=>""+p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435).join(d?d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430():""))}))))),o.set("\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[0]),d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]);return h.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().push(d),h}))))),o.set("\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0418\u0437\u041c\u0430\u0441\u0441\u0438\u0432\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[0]),d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]);return h.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().push(...d.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432()),h}))))),this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c("\u043c\u0430\u0441\u0441\u0438\u0432",a)}{let a=Bc.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442(),o=a.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();o.set("\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[0]),d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]);return console.log(d?d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:JSON.stringify(d,null,2)),h}))))),o.set("\u043e\u0431\u044a\u0435\u043a\u0442\u0418\u043c\u0435\u0435\u0442\u041f\u043e\u043b\u0435",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]),d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[2]),f=h&&h.\u043a\u0430\u0440\u0442\u0430&&h.\u043a\u0430\u0440\u0442\u0430.has(d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());return f&&(f=!0),c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!!f)}))))),o.set("\u0432\u0440\u0435\u043c\u044f\u0412\u041c\u0438\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=Date.now();return c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h)}))))),o.set("\u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c\u0412\u0440\u0435\u043c\u044f\u0412\u0421\u0442\u0440\u043e\u043a\u0443",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]),d=h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()%1e3,f=Math.floor(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()/1e3),p=Math.floor(f/60);f-=60*p;var g=Math.floor(p/60);p-=60*g;var m=(v,_)=>{for(var y=""+v;y.length<_;)y="0"+y;return y};return c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`${m(g,2)}:${m(p,2)}:${m(f,2)}.${m(d,3)}`)}))))),o.set("\u043c\u0438\u043d\u0438\u043c\u0443\u043c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]),d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[2]);return h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()<=d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()?h:d}))))),o.set("\u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]),d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[2]);return h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()>=d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()?h:d}))))),o.set("\u043e\u043a\u0440\u0443\u0433\u043b\u0438\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]);return c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.round(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))}))))),o.set("floor",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]);return c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.floor(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))}))))),o.set("ceil",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]);return c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.ceil(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))}))))),o.set("sqrt",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]);return c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.sqrt(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))}))))),o.set("pow",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]),d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[2]);return c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.pow(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))}))))),o.set("cos",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]);return c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.cos(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))}))))),o.set("sin",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]);return c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.sin(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))}))))),o.set("atan2",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]),d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[2]);return c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.atan2(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))}))))),o.set("\u0410\u0421\u0414",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=u.length>1?c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]):null,d=c.\u043d\u043e\u0432\u044b\u0439\u0410\u0421\u0414("\u0410\u0421\u0414");return null!=h&&d.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h),d}))))),o.set("\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]);if(!this.\u043f\u0430\u0440\u0441\u0435\u0440)throw"\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u043f\u0430\u0440\u0441\u0435\u0440.";let d=this.\u043f\u0430\u0440\u0441\u0435\u0440.\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());return this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[0])}))))),o.set("\u0444\u0430\u0431\u0440\u0438\u043a\u0430\u0417\u0430\u043c\u0435\u043d\u044b\u041a\u043e\u043f\u0438\u0439",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{if(!this.\u043f\u0430\u0440\u0441\u0435\u0440)throw"\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u043f\u0430\u0440\u0441\u0435\u0440.";let h=this.\u043f\u0430\u0440\u0441\u0435\u0440.\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a("\n                        \u0440\u0430\u0437\u0431\u043e\u0440 \u043a\u043b\u0430\u0441\u0441\u0430 \u043a\u043b\u0430\u0441\u0441 {\n                          \u0438\u043d\u043b\u0430\u0439\u043d\u0417\u0430\u043c\u0435\u043d\u0430\u041a\u043e\u043f\u0438\u0439(\u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u0417\u0430\u043c\u0435\u043d\u044b\u041a\u043e\u043f\u0438\u0439)\n                          {\n                            \u043f\u0430\u043c\u044f\u0442\u044c\u041a\u043e\u043f\u0438\u044f = \u043a\u043b\u0430\u0441\u0441 {\n                              \u0430\u0441\u0434 = 0;\n                              \u0438\u043d\u0434\u0435\u043a\u0441 = 0;\n                              \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440(_\u0430\u0441\u0434, _\u0438\u043d\u0434\u0435\u043a\u0441) {\n                                \u0430\u0441\u0434 = _\u0430\u0441\u0434;\n                                \u0438\u043d\u0434\u0435\u043a\u0441 = _\u0438\u043d\u0434\u0435\u043a\u0441;\n                              }\n                            };\n                            \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u0435\u043b\u044c = \u043a\u043b\u0430\u0441\u0441 {\n                              \u0441\u043f\u0438\u0441\u043e\u043a\u041a\u043e\u043f\u0438\u0439(\u0430\u0441\u0434, \u043a\u043e\u043f\u0438\u044f, \u0441\u043f\u0438\u0441\u043e\u043a) {\n                                \u043f\u0430\u043c\u044f\u0442\u044c\u041a\u043e\u043f\u0438\u044f = \u043a\u043b\u0430\u0441\u0441 {\n                                  \u0430\u0441\u0434 = 0;\n                                  \u0438\u043d\u0434\u0435\u043a\u0441 = 0;\n                                  \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440(_\u0430\u0441\u0434, _\u0438\u043d\u0434\u0435\u043a\u0441) {\n                                    \u0430\u0441\u0434 = _\u0430\u0441\u0434;\n                                    \u0438\u043d\u0434\u0435\u043a\u0441 = _\u0438\u043d\u0434\u0435\u043a\u0441;\n                                  }\n                                };\n                                \u0442\u0438\u043f\u041e\u0431\u044a\u0435\u043a\u0442\u0430 = \u0430\u0441\u0434.\u0442\u0438\u043f();\n                                \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 = \u0430\u0441\u0434.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432();\n                                if (\u0442\u0438\u043f\u041e\u0431\u044a\u0435\u043a\u0442\u0430 === '\u043a\u043e\u043c\u0430\u043d\u0434\u0430'){\n                                  if (\u0430\u0441\u0434.\u043a\u043e\u043c\u0430\u043d\u0434\u0430() === '\u043a\u043e\u043f\u0438\u044f') {\n                                    \u0441\u043f\u0438\u0441\u043e\u043a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c(\u043a\u043e\u043f\u0438\u044f);\n                                    \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 = 0;\n                                  }\n                                }\n                                for(i = 0; i < \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432; ++i) {\n                                 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 = \u0430\u0441\u0434.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440(i);\n                                 \u0441\u043f\u0438\u0441\u043e\u043a\u041a\u043e\u043f\u0438\u0439(\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440, \u043f\u0430\u043c\u044f\u0442\u044c\u041a\u043e\u043f\u0438\u044f(\u0430\u0441\u0434, i),  \u0441\u043f\u0438\u0441\u043e\u043a);\n                                }\n                              }\n                            };\n                            //\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c('\u0437\u0430\u043c\u0435\u043d\u0430\u041a\u043e\u043f\u0438\u0439 = \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438;...');\n                            \u0430\u0441\u0434 = \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0410\u0421\u0414(\u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u0417\u0430\u043c\u0435\u043d\u044b\u041a\u043e\u043f\u0438\u0439);\n                            //\u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c\u0410\u0421\u0414(\u0430\u0441\u0434, '');\n                            \u0441\u043f\u0438\u0441\u043e\u043a = [];\n                            \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u0435\u043b\u044c.\u0441\u043f\u0438\u0441\u043e\u043a\u041a\u043e\u043f\u0438\u0439(\u0430\u0441\u0434, \u043f\u0430\u043c\u044f\u0442\u044c\u041a\u043e\u043f\u0438\u044f(\u0430\u0441\u0434, 0-1), \u0441\u043f\u0438\u0441\u043e\u043a);\n                            //\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c('\u0414\u043b\u0438\u043d\u0430 \u0441\u043f\u0438\u0441\u043a\u0430: ' + \u0441\u043f\u0438\u0441\u043e\u043a.\u0434\u043b\u0438\u043d\u0430());\n                            for(i = 0; i < \u0441\u043f\u0438\u0441\u043e\u043a.\u0434\u043b\u0438\u043d\u0430(); ++i){\n                              \u043f\u0430\u0440\u0430 = \u0441\u043f\u0438\u0441\u043e\u043a[i];\n                              //\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c('\u043f\u0430\u0440\u0430: [' + \u043f\u0430\u0440\u0430.\u0438\u043d\u0434\u0435\u043a\u0441 + '];');\n                              \u0440\u0435\u0437 = \u0412\u042b\u0417\u041e\u0412 \u043f\u0430\u0440\u0430.\u0430\u0441\u0434.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440(\u043f\u0430\u0440\u0430.\u0438\u043d\u0434\u0435\u043a\u0441).\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c();\n                              \u043f\u0430\u0440\u0430.\u0430\u0441\u0434.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440(\u043f\u0430\u0440\u0430.\u0438\u043d\u0434\u0435\u043a\u0441, \u0440\u0435\u0437);\n                            }\n                          }\n                        }");return this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0])}))))),o.set("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u043eHttp",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]),d=pageLoadedFrom+h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430();let f=new XMLHttpRequest;f.open("GET",d,!1);var p=null;try{if(f.send(),200!=f.status)throw`\u041e\u0448\u0438\u0431\u043a\u0430 ${f.status}: ${f.statusText}`;p=c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f.response)}catch(g){throw`\u041e\u0448\u0438\u0431\u043a\u0430 ${f.status}: ${f.statusText}`}return p}))))),o.set("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]),d=this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());return null==d&&(d=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)),d}))))),o.set("\u0441\u0442\u043e\u043f",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>u.length>1?u[1]:u[0]))))),this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e",a)}{let a=Bc.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442(),o=a.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();o.set("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[0]),d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]);return c.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d)),h}))))),o.set("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[0]);return c.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(c.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h).\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442())}))))),o.set("\u0435\u0441\u0442\u044c\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[0]);return c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(u[1]),c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0411\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!!c.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}))))),o.set("\u0442\u0438\u043f",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[0]).\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();if(!d.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c())return c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e");var f=c.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(c.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(d));return f.\u044d\u0442\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430()?c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043a\u043e\u043c\u0430\u043d\u0434\u0430"):f.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c()?c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c"):f.\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442()?c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0437\u0430\u0445\u0432\u0430\u0442"):f.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0441\u0442\u0440\u043e\u043a\u0430"):f.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()?c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442"):f.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432()?c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043c\u0430\u0441\u0441\u0438\u0432"):f.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()?c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0447\u0438\u0441\u043b\u043e"):f.\u044d\u0442\u043e\u041e\u0431\u044a\u0435\u043a\u0442()?c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043e\u0431\u044a\u0435\u043a\u0442"):f.\u044d\u0442\u043e\u0411\u0443\u043b\u0435\u0432\u043e()?c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0431\u0443\u043b\u0435\u0432\u043e"):f.\u044d\u0442\u043e\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()?c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442"):f.\u044d\u0442\u043e\u0424\u0443\u043d\u043a\u0446\u0438\u044f()?c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0444\u0443\u043d\u043a\u0446\u0438\u044f"):c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e")}))))),o.set("\u043a\u043e\u043c\u0430\u043d\u0434\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[0]).\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();if(!d.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c())return c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e");var f=c.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(c.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(d)),p="";return f.\u044d\u0442\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430()&&(p=f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p)}))))),o.set("\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[0]).\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();return d.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c()?c.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(c.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(d)):c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e")}))))),o.set("\u0438\u043c\u044f\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[0]).\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();if(!d.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c())return c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e");var f=c.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(c.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(d));if(f.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430())return c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f&&f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:"");if(f.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432())return c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f&&f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:"");if(f.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e())return c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f&&f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:"");if(f.\u044d\u0442\u043e\u041e\u0431\u044a\u0435\u043a\u0442())return c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f&&f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:"");if(f.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c()){var p=c.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(f);return c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p&&p.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?p.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:"")}return c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("")}))))),o.set("\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[0]).\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();if(!d.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c())return c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0);var f=c.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(d);if(!f||!f.\u044d\u0442\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430())return c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0);var p=f;return c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b?p.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.length:0)}))))),o.set("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var g=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[0]),h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(c.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1])),d=c.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(g.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442());if(!(d instanceof Ve))throw new Error("\u041e\u0431\u044a\u0435\u043a\u0442 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u041a\u043e\u043c\u0430\u043d\u0434\u043e\u0439.");var p=d.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b?d.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()]:null;return g=c.\u043d\u043e\u0432\u044b\u0439\u0410\u0421\u0414("\u0410\u0421\u0414"),null!=p&&g.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c.\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c\u041d\u0430\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p)),g}))))),o.set("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[0]),d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(c.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1])),f=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(c.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[2])),p=c.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(h.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442());if(!(p instanceof Ve))throw new Error("\u041e\u0431\u044a\u0435\u043a\u0442 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u041a\u043e\u043c\u0430\u043d\u0434\u043e\u0439.");return p.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b&&(p.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()]=f),f}))))),o.set("\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{var h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[0]),d=c.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(c.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(h.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442()));if(!d.\u044d\u0442\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430())throw new Error("\u041e\u0431\u044a\u0435\u043a\u0442 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u041a\u043e\u043c\u0430\u043d\u0434\u043e\u0439.");return c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d)}))))),this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c("\u0410\u0421\u0414",a)}}}class EF{constructor(a,o){this.op=a,this.exp=o}static builder(){return new EF("",null)}setExp(a){return this.exp=a,this}setOp(a){return this.op=a,this}\u043d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0443(a){return class A5e{static \u043d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0443(a){for(var o="",c=!1,u=0;u<a.length;++u){var h=a.charAt(u);if(c){switch(h){case"\\":o+="\\";break;case'"':o+='"';break;case"'":o+="'";break;case"r":o+="\r";break;case"n":o+="\n";break;case"t":o+="\t";break;default:o+=h}c=!1}else(c="\\"==h)||(o+=h)}return o}}.\u043d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0443(a)}done(){let a=this.exp;switch(this.op){case"!":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043e\u0442\u0440\u0438\u0446\u0430\u043d\u0438\u0435").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp]);break;case"++i":{let o=this.exp,c=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1);"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c"==o.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()&&o.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0].\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?o=o.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0]:(a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430(),c.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0)),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0438\u043d\u043a\u0440\u0435\u043c\u0435\u043d\u0442").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([o,c])}break;case"i++":{let o=this.exp,c=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1);"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c"==o.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()&&o.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0].\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?o=o.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0]:(a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430(),c.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0)),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u0441\u0442\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0438\u043d\u043a\u0440\u0435\u043c\u0435\u043d\u0442").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([o,c])}break;case"--i":{let o=this.exp,c=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1);"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c"==o.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()&&o.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0].\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?o=o.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0]:(a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430(),c.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0)),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0434\u0435\u043a\u0440\u0435\u043c\u0435\u043d\u0442").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([o,c])}break;case"i--":{let o=this.exp,c=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1);"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c"==o.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()&&o.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0].\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?o=o.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0]:(a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430(),c.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0)),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u0441\u0442\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0434\u0435\u043a\u0440\u0435\u043c\u0435\u043d\u0442").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([o,c])}break;case";":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u043e\u043c\u0430\u043d\u0434\u0430")).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043d\u0435\u0442 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438");break;case"{;}":case"number":case"\u043f\u043e\u043b\u044f":a=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.exp);break;case"(,)":break;case"{,}":{let o=[];this.exp&&this.exp.forEach(c=>{o.push(c)}),a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043a\u043b\u0430\u0441\u0441").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(o)]),a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([a])}break;case"object":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043e\u0431\u044a\u0435\u043a\u0442").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp]);break;case"array":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043c\u0430\u0441\u0441\u0438\u0432").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp]);break;case"string":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([$p.\u043d\u043e\u0432\u044b\u0439\u0421\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.exp)]);break;case"\u044d\u0442\u043e":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u044d\u0442\u043e");break;case"\u043d\u0443\u043b\u044c":a=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null);break;case"\u0438\u0441\u0442\u0438\u043d\u0430":a=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0);break;case"\u043b\u043e\u0436\u044c":a=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!1);break;case"id":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.exp)]);break;case"\u0431\u0440\u043e\u0441\u0438\u0442\u044c":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0431\u0440\u043e\u0441\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.exp)]);break;case"\u043a\u043b\u0430\u0441\u0441":{let o=[];this.exp&&this.exp.forEach(c=>{o.push(c)}),a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043a\u043b\u0430\u0441\u0441").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(o)])}break;case"[,]":a=Ib.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.exp?this.exp:[]);break;case"#":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp]);break;case"\u0432\u0435\u0440\u043d\u0443\u0442\u044c":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u0435\u0440\u043d\u0443\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp?this.exp:te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)]);break;case"\u043f\u0440\u0435\u0440\u0432\u0430\u0442\u044c":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u0440\u0435\u0440\u0432\u0430\u0442\u044c");break;case"\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c");break;case"\u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp]);break;case"\u0432\u044b\u0437\u043e\u0432":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp]);break;case"{{{?}}}":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043a\u043e\u043f\u0438\u044f").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp]);break;default:throw new Error(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u0443\u043d\u0430\u0440\u043d\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f "${this.op}".`)}return a}}class kF{constructor(a,o,c){this.left=a,this.op=o,this.right=c}static builder(){return new kF(null,"",null)}setLeft(a){return this.left=a,this}setRight(a){return this.right=a,this}setOp(a){return this.op=a,this}done(){let a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430(),o=c=>{let u=this.left;"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c"==u.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()&&typeof u.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0].\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()&&(u=u.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0]),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(c).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([u,this.right])};switch(this.op){case"(.)":{let c=this.right?this.right:[];c.unshift(this.left,te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0)),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(c)}break;case"((.))":{let c=this.right?this.right:[];c.unshift(this.left,te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!1)),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(c)}break;case"[.]":a=Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0438\u0437 \u043c\u0430\u0441\u0441\u0438\u0432\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"=":o("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c");break;case"+=":o("\u0441\u043b\u043e\u0436\u0438\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c");break;case"-=":o("\u0432\u044b\u0447\u0435\u0441\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c");break;case"*=":o("\u0443\u043c\u043d\u043e\u0436\u0438\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c");break;case"/=":o("\u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c");break;case"+":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0443\u043c\u043c\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"-":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"*":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"/":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0447\u0430\u0441\u0442\u043d\u043e\u0435").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"%":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043c\u043e\u0434\u0443\u043b\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"||":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0438\u043b\u0438").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"&&":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0438").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"==":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0440\u0430\u0432\u043d\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"!=":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043d\u0435 \u0440\u0430\u0432\u043d\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"===":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0442\u0440\u043e\u0433\u043e \u0440\u0430\u0432\u043d\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"!==":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0442\u0440\u043e\u0433\u043e \u043d\u0435 \u0440\u0430\u0432\u043d\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case">":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0431\u043e\u043b\u044c\u0448\u0435").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"<":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043c\u0435\u043d\u044c\u0448\u0435").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case">=":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"<=":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"<=>":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e \u0438\u043b\u0438 \u0431\u043e\u043b\u044c\u0448\u0435").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"?":{let u=[...this.right];u.unshift(this.left),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u043e\u043a\u0440\u0430\u0449\u0451\u043d\u043d\u043e\u0435 \u0435\u0441\u043b\u0438").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(u)}break;case"\u0435\u0441\u043b\u0438":{let c=this.right?this.right:[];c.unshift(this.left),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0435\u0441\u043b\u0438").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(c)}break;case"\u043f\u043e\u043a\u0430":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"\u0434\u0435\u043b\u0430\u0442\u044c":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0434\u0435\u043b\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"\u0446\u0438\u043a\u043b":{let c=this.right?this.right:[];c.unshift(this.left),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0446\u0438\u043a\u043b").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(c)}break;case"\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c":{let c=this.right?this.right:[];c[0]=te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c[0]),c.unshift(this.left),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(c)}break;case"\u043c\u0435\u0442\u043e\u0434":{let c=this.right?this.right:[];c[0]&&c[0].\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&c[0].\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c[0].\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435.map(u=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(u.name))),c.unshift(...[this.left,!0].map(u=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(u))),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(this.left).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(c.map(u=>u||te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(u)))}break;case"\u043f\u043e\u043b\u0435":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(this.left).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.left),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!1),this.right]);break;case".":a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u043e\u043b\u044e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.right)]);break;default:throw new Error(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u0431\u0438\u043d\u0430\u0440\u043d\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f: "${this.op}".`)}return a}}class qp{constructor(){this.\u0434\u0432\u0438\u0436\u043e\u043a=new gl,this.\u0442\u0435\u043a\u0441\u0442="",this.\u043f\u043e\u0437\u0438\u0446\u0438\u044f\u0422\u0435\u043a\u0441\u0442\u0430=0,this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0441\u0435\u0440(this)}\u0435\u0441\u0442\u044c\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439\u0421\u0438\u043c\u0432\u043e\u043b(){return this.\u043f\u043e\u0437\u0438\u0446\u0438\u044f\u0422\u0435\u043a\u0441\u0442\u0430<this.\u0442\u0435\u043a\u0441\u0442.length}\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439\u0421\u0438\u043c\u0432\u043e\u043b(){if(!this.\u0435\u0441\u0442\u044c\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439\u0421\u0438\u043c\u0432\u043e\u043b())throw new Error("\u0412\u0441\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u044b. \u041a\u043e\u043d\u0435\u0446 \u0442\u0435\u043a\u0441\u0442\u0430.");return this.\u0442\u0435\u043a\u0441\u0442[++this.\u043f\u043e\u0437\u0438\u0446\u0438\u044f\u0422\u0435\u043a\u0441\u0442\u0430]}\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c(a){for(this.\u0442\u0435\u043a\u0441\u0442=a,this.\u043f\u043e\u0437\u0438\u0446\u0438\u044f\u0422\u0435\u043a\u0441\u0442\u0430=0;this.\u0435\u0441\u0442\u044c\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439\u0421\u0438\u043c\u0432\u043e\u043b();)this.\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439\u0421\u0438\u043c\u0432\u043e\u043b()}\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(a){for(var o={BinOpBuilder:()=>kF.builder(),UnOpBuilder:()=>EF.builder()},c=null;null==c;)try{return universalParserStatic.parse(a,{builder:o})}catch(u){c=u}throw c}}class rf{constructor(a,o){this.\u043e\u0431\u044a\u0435\u043a\u0442=a,this.\u0438\u043c\u044f=o}static \u043d\u043e\u0432\u044b\u0439\u0418\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return new rf(null,"")}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(a){return this.\u043e\u0431\u044a\u0435\u043a\u0442=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(a){return this.\u0438\u043c\u044f=a,this}}class BT{constructor(a,o,c,u,h,d,f=0,p=!0,g=1,m=1){this.d3Config=a,this.d3Svc=o,this.\u0434\u0432\u0438\u0436\u043e\u043a=c,this.\u043f\u0430\u043c\u044f\u0442\u044c=u,this.\u043d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434=h,this.\u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440=d,this.\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b=f,this.\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b=p,this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438=g,this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438=m}static \u043d\u043e\u0432\u0430\u044f(){return new BT}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446(){if(null==this.\u043f\u0430\u043c\u044f\u0442\u044c)return 1;let a=this.\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u043e\u0431\u0449\u0435\u0435\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446");return null==a?1:a.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438(a){return this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438(a){return this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b(a){return this.\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u043e\u043a\u0430\u0437\u041f\u043e\u0434\u0432\u0430\u043b\u0430(a){return this.\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440(a){return this.\u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u0425\u043e\u043b\u0441\u0442\u0430(a,o){return this.d3Config.width=a,this.d3Config.height=o,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433(a){return this.d3Config=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0435\u0440\u0432\u0438\u0441(a){return this.d3Svc=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0432\u0438\u0436\u043e\u043a(a){return this.\u0434\u0432\u0438\u0436\u043e\u043a=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u043c\u044f\u0442\u044c(a){return this.\u043f\u0430\u043c\u044f\u0442\u044c=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434(a){return this.\u043d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434=a,this}\u0437\u0430\u043f\u0443\u0441\u043a(a=[]){return this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434),[te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(),this.\u043f\u0430\u043c\u044f\u0442\u044c,this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0437\u0430\u043f\u0443\u0441\u043a"),this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b),this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438),this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438),this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b)].concat(a.map(c=>c.\u043e\u0431\u044a\u0435\u043a\u0442)),[te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0430\u043c\u044f\u0442\u044c"),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0440\u0435\u0436\u0438\u043c"),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b"),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438"),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438"),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b")].concat(a.map(c=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c.\u0438\u043c\u044f))),!0,!0,!1,null))}\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435(a=[]){return this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434),[te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(),this.\u043f\u0430\u043c\u044f\u0442\u044c,this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435"),this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b),this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b)].concat(a.map(c=>c.\u043e\u0431\u044a\u0435\u043a\u0442)),[te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0430\u043c\u044f\u0442\u044c"),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0440\u0435\u0436\u0438\u043c"),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b"),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b")].concat(a.map(c=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c.\u0438\u043c\u044f))),!0,!0,!1,null))}}class Pb{constructor(a=0,o=0){this.\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430=a,this.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c=o,this.\u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b=new Map,this.\u0441\u043e\u0431\u044b\u0442\u0438\u044f=new Map}static \u043d\u043e\u0432\u044b\u0439(){return new Pb}}class AF{constructor(){this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b=[Pb.\u043d\u043e\u0432\u044b\u0439()],this.d3Element=null,this.d3ElementTransition=null}static \u043d\u043e\u0432\u0430\u044f(){return new AF}get \u043f\u0435\u0440\u0435\u0445\u043e\u0434(){return this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b[this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b.length-1]}transition(){return this.d3Element?this.d3ElementTransition=this.d3Element.transition():this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b.push(Pb.\u043d\u043e\u0432\u044b\u0439()),this}resetTransition(){return this.d3Element?this.d3ElementTransition=null:this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b.push(Pb.\u043d\u043e\u0432\u044b\u0439()),this}duration(a){return this.d3Element?this.d3ElementTransition&&(this.d3ElementTransition=this.d3ElementTransition.duration(a)):this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c=a,this}delay(a){return this.d3Element?this.d3ElementTransition&&(this.d3ElementTransition=this.d3ElementTransition.delay(a)):this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434.\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430=a,this}attr(a,o){return this.d3Element?this.d3ElementTransition?this.d3ElementTransition=this.d3ElementTransition.attr(a,o):this.d3Element=this.d3Element.attr(a,o):this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434.\u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b.set(a,o),this}text(a){return this.d3Element?this.d3ElementTransition?this.d3ElementTransition=this.d3ElementTransition.text(a):this.d3Element=this.d3Element.text(a):this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434.\u0442\u0435\u043a\u0441\u0442=a,this}event(a,o){return this.d3Element?this.d3ElementTransition?this.d3ElementTransition=this.d3ElementTransition.on(a,o(this.d3Element)):this.d3Element=this.d3Element.on(a,o(this.d3Element)):this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434.\u0441\u043e\u0431\u044b\u0442\u0438\u044f.set(a,o),this}apply(a){this.d3Element=a;let o=this.d3Element;return this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b.forEach((c,u)=>{u&&(o=o.transition().duration(c.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c),c.\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430&&(o=o.delay(c.\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430))),c.\u0441\u043e\u0431\u044b\u0442\u0438\u044f.forEach((h,d,f)=>{o=o.on(d,h(o))}),c.\u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b.forEach((h,d,f)=>{o=o.attr(d,h)}),c.\u0442\u0435\u043a\u0441\u0442&&(o=o.text(c.\u0442\u0435\u043a\u0441\u0442)),u||(this.d3Element=o)}),this}}class VT extends te{constructor(a,o){super(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u0422\u0435\u043a\u0441\u0442 D3"),null,new Map),this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=a,this.\u043f\u0422\u0435\u043a\u0441\u0442=o,this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438()}get \u0442\u0435\u043a\u0441\u0442(){return this.\u043f\u0422\u0435\u043a\u0441\u0442}set \u0442\u0435\u043a\u0441\u0442(a){this.\u043f\u0422\u0435\u043a\u0441\u0442=a}get \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(){return this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f}set \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(a){this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=a}static \u043d\u043e\u0432\u044b\u0439(){return new VT(null,null)}static \u043d\u043e\u0432\u044b\u0439\u0422\u0435\u043a\u0441\u0442(){return new VT(null,null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e(a){return this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0440\u0443\u0433(a){return this.\u0442\u0435\u043a\u0441\u0442=a,this}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438(){let a=this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();a.set("\u0442\u0435\u043a\u0441\u0442",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u0442\u0435\u043a\u0441\u0442.text(c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(c.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1])).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),a.set("\u043f\u043e\u0437\u0438\u0446\u0438\u044f",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("x",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this.\u0442\u0435\u043a\u0441\u0442.attr("y",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),a.set("\u0440\u0430\u0437\u043c\u0435\u0440",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("font-size",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),a.set("\u0436\u0438\u0440\u043d\u044b\u0439",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("font-weight",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()?700:300),this)))))),a.set("\u0437\u0430\u043b\u0438\u0432\u043a\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("fill",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),a.set("\u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("fill-opacity",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),a.set("\u043a\u043e\u043d\u0442\u0443\u0440",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("stroke",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),a.set("\u0442\u043e\u043b\u0449\u0438\u043d\u0430\u041a\u043e\u043d\u0442\u0443\u0440\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("stroke-width",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),a.set("\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439\u042f\u043a\u043e\u0440\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("text-anchor",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this))))));let o=c=>this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((u,h)=>{let f=[h[1],te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0),this];h.length>2&&f.push(...h.splice(2));let p=u.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(f.map(g=>u.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(g))));return this.\u0442\u0435\u043a\u0441\u0442.event(c,g=>()=>{this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435([rf.\u043d\u043e\u0432\u044b\u0439\u0418\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(p).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a")])}),this}))));a.set("\u043f\u043e\u041d\u0430\u0436\u0430\u0442\u0438\u044e",o("click")),a.set("\u043f\u043e\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0438",o("end")),a.set("\u043f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u0442\u0435\u043a\u0441\u0442.transition(),this)))))),a.set("\u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u0442\u0435\u043a\u0441\u0442.resetTransition(),this)))))),a.set("\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{let d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]);return this.\u0442\u0435\u043a\u0441\u0442.duration(d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this}))))),a.set("\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{let d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]);return this.\u0442\u0435\u043a\u0441\u0442.delay(d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this})))))}}class zT extends te{constructor(a,o){super(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041a\u0440\u0443\u0433 D3"),null,new Map),this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=a,this.\u043f\u041a\u0440\u0443\u0433=o,this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438()}get \u043a\u0440\u0443\u0433(){return this.\u043f\u041a\u0440\u0443\u0433}set \u043a\u0440\u0443\u0433(a){this.\u043f\u041a\u0440\u0443\u0433=a}get \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(){return this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f}set \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(a){this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=a}static \u043d\u043e\u0432\u044b\u0439(){return new zT}static \u043d\u043e\u0432\u044b\u0439\u041a\u0440\u0443\u0433(){return new zT}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e(a){return this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0440\u0443\u0433(a){return this.\u043a\u0440\u0443\u0433=a,this}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438(){let a=this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();a.set("\u0440\u0430\u0434\u0438\u0443\u0441",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043a\u0440\u0443\u0433.attr("r",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),a.set("\u043f\u043e\u0437\u0438\u0446\u0438\u044f",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043a\u0440\u0443\u0433.attr("cx",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this.\u043a\u0440\u0443\u0433.attr("cy",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),a.set("\u0437\u0430\u043b\u0438\u0432\u043a\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043a\u0440\u0443\u0433.attr("fill",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),a.set("\u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043a\u0440\u0443\u0433.attr("fill-opacity",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),a.set("\u043a\u043e\u043d\u0442\u0443\u0440",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043a\u0440\u0443\u0433.attr("stroke",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),a.set("\u0442\u043e\u043b\u0449\u0438\u043d\u0430\u041a\u043e\u043d\u0442\u0443\u0440\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043a\u0440\u0443\u0433.attr("stroke-width",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this))))));let o=c=>this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((u,h)=>{let f=[h[1],te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0),this];h.length>2&&f.push(...h.splice(2));let p=u.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(f.map(g=>u.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(g))));return this.\u043a\u0440\u0443\u0433.event(c,g=>()=>{this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435([rf.\u043d\u043e\u0432\u044b\u0439\u0418\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(p).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a")])}),this}))));a.set("\u043f\u043e\u041d\u0430\u0436\u0430\u0442\u0438\u044e",o("click")),a.set("\u043f\u043e\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0438",o("end")),a.set("\u043f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043a\u0440\u0443\u0433.transition(),this)))))),a.set("\u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043a\u0440\u0443\u0433.resetTransition(),this)))))),a.set("\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{let d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]);return this.\u043a\u0440\u0443\u0433.duration(d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this}))))),a.set("\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{let d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]);return this.\u043a\u0440\u0443\u0433.delay(d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this})))))}}class UT extends te{constructor(a,o){super(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a D3"),null,new Map),this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=a,this.\u043f\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a=o,this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438()}get \u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a(){return this.\u043f\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a}set \u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a(a){this.\u043f\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a=a}get \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(){return this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f}set \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(a){this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=a}static \u043d\u043e\u0432\u044b\u0439(){return new UT}static \u043d\u043e\u0432\u044b\u0439\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a(){return new UT}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e(a){return this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0440\u0443\u0433(a){return this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a=a,this}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438(){let a=this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();a.set("\u0448\u0438\u0440\u0438\u043d\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("width",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),a.set("\u0432\u044b\u0441\u043e\u0442\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("height",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),a.set("\u043f\u043e\u0437\u0438\u0446\u0438\u044f",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("x",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("y",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),a.set("\u0442\u0440\u0430\u043d\u0441\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("transform",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),a.set("\u0441\u043a\u0440\u0443\u0433\u043b\u0435\u043d\u0438\u044f",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("rx",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("ry",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),a.set("\u0437\u0430\u043b\u0438\u0432\u043a\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("fill",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),a.set("\u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("fill-opacity",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),a.set("\u043a\u043e\u043d\u0442\u0443\u0440",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("stroke",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),a.set("\u0442\u043e\u043b\u0449\u0438\u043d\u0430\u041a\u043e\u043d\u0442\u0443\u0440\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("stroke-width",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this))))));let o=c=>this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((u,h)=>{let f=[h[1],te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0),this];h.length>2&&f.push(...h.splice(2));let p=u.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(f.map(g=>u.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(g))));return this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.event(c,g=>()=>{this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435([rf.\u043d\u043e\u0432\u044b\u0439\u0418\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(p).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a")])}),this}))));a.set("\u043f\u043e\u041d\u0430\u0436\u0430\u0442\u0438\u044e",o("click")),a.set("\u043f\u043e\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0438",o("end")),a.set("\u043f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.transition(),this)))))),a.set("\u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.resetTransition(),this)))))),a.set("\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{let d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]);return this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.duration(d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this}))))),a.set("\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{let d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]);return this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.delay(d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this})))))}}class HT extends te{constructor(a,o){super(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041b\u0438\u043d\u0438\u044f D3"),null,new Map),this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=a,this.\u043f\u041b\u0438\u043d\u0438\u044f=o,this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438()}get \u043b\u0438\u043d\u0438\u044f(){return this.\u043f\u041b\u0438\u043d\u0438\u044f}set \u043b\u0438\u043d\u0438\u044f(a){this.\u043f\u041b\u0438\u043d\u0438\u044f=a}get \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(){return this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f}set \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(a){this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=a}static \u043d\u043e\u0432\u044b\u0439(){return new HT}static \u043d\u043e\u0432\u0430\u044f\u041b\u0438\u043d\u0438\u044f(){return new HT}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e(a){return this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0440\u0443\u0433(a){return this.\u043b\u0438\u043d\u0438\u044f=a,this}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438(){let a=this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();a.set("\u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043b\u0438\u043d\u0438\u044f.attr("x1",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this.\u043b\u0438\u043d\u0438\u044f.attr("y1",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this.\u043b\u0438\u043d\u0438\u044f.attr("x2",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[3]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this.\u043b\u0438\u043d\u0438\u044f.attr("y2",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[4]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),a.set("\u0442\u0440\u0430\u043d\u0441\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043b\u0438\u043d\u0438\u044f.attr("transform",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),a.set("\u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043b\u0438\u043d\u0438\u044f.attr("fill-opacity",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),a.set("\u043a\u043e\u043d\u0442\u0443\u0440",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043b\u0438\u043d\u0438\u044f.attr("stroke",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),a.set("\u0442\u043e\u043b\u0449\u0438\u043d\u0430\u041a\u043e\u043d\u0442\u0443\u0440\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043b\u0438\u043d\u0438\u044f.attr("stroke-width",c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this))))));let o=c=>this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((u,h)=>{let f=[h[1],te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0),this];h.length>2&&f.push(...h.splice(2));let p=u.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(f.map(g=>u.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(g))));return this.\u043b\u0438\u043d\u0438\u044f.event(c,g=>()=>{this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435([rf.\u043d\u043e\u0432\u044b\u0439\u0418\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(p).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a")])}),this}))));a.set("\u043f\u043e\u041d\u0430\u0436\u0430\u0442\u0438\u044e",o("click")),a.set("\u043f\u043e\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0438",o("end")),a.set("\u043f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043b\u0438\u043d\u0438\u044f.transition(),this)))))),a.set("\u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043b\u0438\u043d\u0438\u044f.resetTransition(),this)))))),a.set("\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{let d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]);return this.\u043b\u0438\u043d\u0438\u044f.duration(d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this}))))),a.set("\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{let d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]);return this.\u043b\u0438\u043d\u0438\u044f.delay(d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this})))))}}class Ob extends te{constructor(a){super(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041f\u0440\u0438\u043c\u0435\u0440 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432"),null,new Map),this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=a,this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438()}get \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(){return this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f}set \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(a){this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=a}static \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u0412\u0414\u0432\u0438\u0436\u043e\u043a(a,o){let c=Ob.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e(o);a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443D3",(u,h)=>c,!0),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u0425\u043e\u043b\u0441\u0442\u0430",(u,h)=>(c.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u0425\u043e\u043b\u0441\u0442\u0430(u.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),u.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),c),!0)}static \u043d\u043e\u0432\u0430\u044f(){return new Ob}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e(a){return this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=a,this}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438(){let a=this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();a.set("\u043c\u0435\u0442\u0440\u0438\u043a\u0430\u0422\u0435\u043a\u0441\u0442\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>{let d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),f=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),g=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[3]).\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()?700:300,m=this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.d3Svc.textSizeDirect(d,f,g),v=c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u0440\u0438\u043a\u0430");return v.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0448\u0438\u0440\u0438\u043d\u0430",c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0448\u0438\u0440\u0438\u043d\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(m.width)),v.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0432\u044b\u0441\u043e\u0442\u0430",c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0432\u044b\u0441\u043e\u0442\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(m.height)),v}))))),a.set("\u0448\u0438\u0440\u0438\u043d\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.d3Config.width)))))),a.set("\u0432\u044b\u0441\u043e\u0442\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>c.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.d3Config.height))))));let o=(c,u)=>this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>{let p=AF.\u043d\u043e\u0432\u0430\u044f();return this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.d3Config.pathes.push(Xr.builder().setRenderHandler((g,m)=>{p.apply(g.append(u))})),c.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e(this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0440\u0443\u0433(p)}))));a.set("\u043a\u0440\u0443\u0433",o(zT,"circle")),a.set("\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a",o(UT,"rect")),a.set("\u0442\u0435\u043a\u0441\u0442",o(VT,"text")),a.set("\u043b\u0438\u043d\u0438\u044f",o(HT,"line")),a.set("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u0425\u043e\u043b\u0441\u0442\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u0425\u043e\u043b\u0441\u0442\u0430(c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),u[0])))))),a.set("\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c\u0412\u0441\u0451",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.d3Config.svgImage.clearAll(),this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.d3Config.clearAll(),u[0])))))),a.set("\u043f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((c,u)=>(this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.\u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440.regenerate(),u[0]))))))}}class yee extends Ba{constructor(){super("\u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 JS."),this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439="",this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d=!1,this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f=null,this.d3SvcSaved=null,this.d3ConfigSaved=null,this.cacheService=null,this.\u043f\u0430\u043c\u044f\u0442\u044c=Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"))}regenerate(){return this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(),this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0435\u0448(a){return this.cacheService=a,this.\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(),this}\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(a="/scenes/logo.scene.txt"){let o=this.cacheService.getRestPoint(a,null);this.cacheService.getTextRestcallUrl(o,c=>{this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439=c,this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c()})}clear(){return super.clear(),this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d=!1,this}\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c(){if(this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d)return!1;this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d=!0;let o=(new qp).\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439),c=new gl,u=BT.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433(this.d3ConfigSaved).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0435\u0440\u0432\u0438\u0441(this.d3SvcSaved).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0432\u0438\u0436\u043e\u043a(c).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u043c\u044f\u0442\u044c(this.\u043f\u0430\u043c\u044f\u0442\u044c).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434(o).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440(this);return c.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e(),Ob.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u0412\u0414\u0432\u0438\u0436\u043e\u043a(c,u),u.\u0437\u0430\u043f\u0443\u0441\u043a(),this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f&&this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(),!0}generate(a,o,c){return this.d3SvcSaved=a,this.d3ConfigSaved=o,this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439?this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c():(this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f=c,!1)}}class GT extends te{constructor(){super(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432"),null,new Map),this.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435="\n\u0420\u0410\u0421\u041f\u0418\u0421\u0410\u041d\u0418\u0415 \u0411\u041e\u0413\u041e\u0421\u041b\u0423\u0416\u0415\u041d\u0418\u0419{\u043a}\n\u042f \u041d \u0412 \u0410 \u0420 \u042c{\u043a}\n===\n1\n\u0421\u0411\n--\n\u0421\u0423\u0411\u0411\u041e\u0422\u0410 \u041f\u0420\u0415\u0414 \u0420\u041e\u0416\u0414\u0415\u0421\u0422\u0412\u041e\u041c\n\u0425\u0420\u0418\u0421\u0422\u041e\u0412\u042b\u041c.\n\u041c\u0423\u0427\u0415\u041d\u0418\u041a\u0410 \u0412\u041e\u041d\u0418\u0424\u0410\u0422\u0418\u042f\n--\n\u0412\u0421\u0415\u041d\u041e\u0429\u041d\u041e\u0415 \u0411\u0414\u0415\u041d\u0418\u0415{\u043a}\n--\n17.00{\u043a}\n===\n2{\u043a}\n\u0412\u0421{\u043a}\n--\n\u041d\u0415\u0414\u0415\u041b\u042f 28-\u042f{\u043a}\n\u041f\u041e \u041f\u042f\u0422\u0418\u0414\u0415\u0421\u042f\u0422\u041d\u0418\u0426\u0415,{\u043a}\n\u041f\u0420\u0415\u0414 \u0420\u041e\u0416\u0414\u0415\u0421\u0422\u0412\u041e\u041c \u0425\u0420\u0418\u0421\u0422\u041e\u0412\u042b\u041c,{\u043a}\n\u0421\u0412\u042f\u0422\u042b\u0425 \u041e\u0422\u0415\u0426.{\u043a}\n\u041f\u0420\u0410\u0412. \u0418\u041e\u0410\u041d\u041d\u0410 \u041a\u0420\u041e\u041d\u0428\u0422\u0410\u0414\u0422\u0421\u041a\u041e\u0413\u041e{\u043a}\n--\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f{\u043a}\n\u041b\u0438\u0442\u0438\u044f{\u043a}\n\u0412\u043e\u0434\u043e\u0441\u0432\u044f\u0442\u043d\u044b\u0439 \u043c\u043e\u043b\u0435\u0431\u0435\u043d.{\u043a}\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f{\u043a}\n\u041b\u0438\u0442\u0438\u044f{\u043a}\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f. \u0423\u0422\u0420\u0415\u041d\u042f. 1 \u0427\u0410\u0421{\u0437}\n--\n6.00{\u043a}\n\n8.00{\u043a}\n8.40{\u043a}\n\n17.00{\u0437}\n===\n3{\u0437}\n\u041f\u041d{\u0437}\n--\n\u0421\u0412\u0422. \u041f\u0415\u0422\u0420\u0410, \u041c\u0418\u0422\u0420. \u041a\u0418\u0415\u0412\u0421\u041a\u041e\u0413\u041e,{\u0437}\n\u041c\u041e\u0421\u041a\u041e\u0412\u0421\u041a\u041e\u0413\u041e \u0418 \u0412\u0421\u0415\u042f \u0420\u0423\u0421\u0418,{\u0437}\n\u0427\u0423\u0414\u041e\u0422\u0412\u041e\u0420\u0426\u0410{\u0437}\n--\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f{\u0437}\n\u041c\u043e\u043b\u0435\u0431\u0435\u043d. \u041b\u0438\u0442\u0438\u044f{\u0437}\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f. \u0423\u0422\u0420\u0415\u041d\u042f. 1 \u0427\u0410\u0421\n--\n8.40\n\n17.00\n===\n4\n\u0412\u0422\n--\n\u0412\u041c\u0426. \u0410\u041d\u0410\u0421\u0422\u0410\u0421\u0418\u0418 \u0423\u0417\u041e\u0420\u0415\u0428\u0418\u0422\u0415\u041b\u042c\u041d\u0418\u0426\u042b\n--\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f\n\u041c\u043e\u043b\u0435\u0431\u0435\u043d. \u041b\u0438\u0442\u0438\u044f\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f. \u0423\u0422\u0420\u0415\u041d\u042f. 1 \u0427\u0410\u0421\n--\n8.40\n\n17.00\n===\n5\n\u0421\u0420\n--\n\u0414\u0415\u0421\u042f\u0422\u0418 \u041c\u0423\u0427\u0415\u041d\u0418\u041a\u041e\u0412, \u0418\u0416\u0415 \u0412 \u041a\u0420\u0418\u0422\u0415\n--\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f\n\u041c\u043e\u043b\u0435\u0431\u0435\u043d. \u041b\u0438\u0442\u0438\u044f\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f. \u0423\u0422\u0420\u0415\u041d\u042f.\n--\n8.40\n\n17.00\n===\n6\n\u0427\u0422\n--\n\u041d\u0410\u0412\u0415\u0427\u0415\u0420\u0418\u0415\n\u0420\u041e\u0416\u0414\u0415\u0421\u0422\u0412\u0410 \u0425\u0420\u0418\u0421\u0422\u041e\u0412\u0410.\n\u0420\u041e\u0416\u0414\u0415\u0421\u0422\u0412\u0415\u041d\u0421\u041a\u0418\u0419 \u0421\u041e\u0427\u0415\u041b\u042c\u041d\u0418\u041a\n\u041f\u0420\u041c\u0426. \u0415\u0412\u0413\u0415\u041d\u0418\u0418\n--\n\u0426\u0410\u0420\u0421\u041a\u0418\u0415 \u0427\u0410\u0421\u042b.\n\u0418\u0417\u041e\u0411\u0420\u0410\u0417\u0418\u0422\u0415\u041b\u042c\u041d\u042b.\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f \u0421 \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u0415\u0419\n\u0421\u0412\u0422. \u0412\u0410\u0421\u0418\u041b\u0418\u042f \u0412\u0415\u041b\u0418\u041a\u041e\u0413\u041e\n\u0412\u0421\u0415\u041d\u041e\u0429\u041d\u041e\u0415 \u0411\u0414\u0415\u041d\u0418\u0415{\u043a}\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f{\u043a}\n--\n8.00\n\n\n\n17.00{\u043a}\n23.00{\u043a}\n===\n7{\u043a}\n\u041f\u0422{\u043a}\n--\n\u0420\u041e\u0416\u0414\u0415\u0421\u0422\u0412\u041e \u0413\u041e\u0421\u041f\u041e\u0414\u0410 \u0411\u041e\u0413\u0410 \u0418 \u0421\u041f\u0410\u0421\u0410{\u043a}\n\u041d\u0410\u0428\u0415\u0413\u041e \u0418\u0418\u0421\u0423\u0421\u0410 \u0425\u0420\u0418\u0421\u0422\u0410{\u043a}\n--\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f{\u043a}\n\u0412\u0415\u041b\u0418\u041a\u0410\u042f \u0412\u0415\u0427\u0415\u0420\u041d\u042f{\u0441}\n--\n8.40{\u043a}\n17.00{\u0441}\n===\n8{\u0441}\n\u0421\u0411{\u0441}\n--\n\u0421\u0423\u0411\u0411\u041e\u0422\u0410 \u041f\u041e \u0420\u041e\u0416\u0414\u0415\u0421\u0422\u0412\u0415 \u0425\u0420\u0418\u0421\u0422\u041e\u0412\u041e\u041c.{\u0441}\n\u0421\u041e\u0411\u041e\u0420 \u041f\u0420\u0415\u0421\u0412\u042f\u0422\u041e\u0419 \u0411\u041e\u0413\u041e\u0420\u041e\u0414\u0418\u0426\u042b{\u0441}\n--\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f{\u0441}\n\u041f\u0430\u043d\u0438\u0445\u0438\u0434\u0430{\u0441}\n\u0412\u0421\u0415\u041d\u041e\u0429\u041d\u041e\u0415 \u0411\u0414\u0415\u041d\u0418\u0415{\u043a}\n--\n8.40{\u0441}\n\n17.00{\u043a}\n===\n\u0414\u043e\u0440\u043e\u0433\u0438\u0435 \u0431\u0440\u0430\u0442\u044c\u044f \u0438 \u0441\u0435\u0441\u0442\u0440\u044b!\n\u0422\u0410\u0418\u041d\u0421\u0422\u0412\u041e \u0418\u0421\u041f\u041e\u0412\u0415\u0414\u0418\n\u0441\u043e\u0432\u0435\u0440\u0448\u0430\u0435\u0442\u0441\u044f \u0432 \u043d\u0430\u0448\u0435\u043c \u0445\u0440\u0430\u043c\u0435 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0432\u0435\u0447\u0435\u0440\u043d\u0435\u0433\u043e \u0431\u043e\u0433\u043e\u0441\u043b\u0443\u0436\u0435\u043d\u0438\u044f\n\u0438\u043b\u0438 \u043f\u043e \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0441\u043e \u0441\u043b\u0443\u0436\u0430\u0449\u0438\u043c \u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u043e\u043c.\n\u0423\u0437\u043d\u0430\u0442\u044c, \u043a\u0442\u043e \u0441\u043b\u0443\u0436\u0438\u0442, \u043c\u043e\u0436\u043d\u043e \u0437\u0430 \u0441\u0432\u0435\u0447\u043d\u044b\u043c \u044f\u0449\u0438\u043a\u043e\u043c \u0438\u043b\u0438 \u043f\u043e\n\u0442\u0435\u043b. +7 (495) 322-223\n                      ",this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438()}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435(a){return this.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435=a,this}static \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u0412\u0414\u0432\u0438\u0436\u043e\u043a(a){let o=GT.\u043d\u043e\u0432\u0430\u044f();a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432",(c,u)=>o,!0)}static \u043d\u043e\u0432\u0430\u044f(){return new GT}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438(){this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0442\u0435\u043a\u0441\u0442\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((o,c)=>o.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435))))))}}class IF extends Ba{constructor(a=210,o=297){super("\u041f\u0440\u0438\u043c\u0435\u0440 \u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f JS.",a,o),this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439="",this.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435=null,this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d=!1,this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f=null,this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0438\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f=null,this.\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b=0,this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438=0,this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438=0,this.\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b=!0,this.d3SvcSaved=null,this.d3ConfigSaved=null,this.cacheService=null,this.\u043f\u0430\u043c\u044f\u0442\u044c=Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b=new Map}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0443\u0412\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(a,o){return this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.set(a,o),this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438(a){return this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438(a){return this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b(a){return this.\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u043e\u043a\u0430\u0437\u041f\u043e\u0434\u0432\u0430\u043b\u0430(a){return this.\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435(a){return this.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435=a,this}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446(){if(null==this.\u043f\u0430\u043c\u044f\u0442\u044c)return 1;let a=this.\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u043e\u0431\u0449\u0435\u0435\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446");return null==a?1:a.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()}regenerate(){return this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(),this}getWidth(){return this.d3ConfigSaved?this.d3ConfigSaved.width:this.width}getHeight(){return this.d3ConfigSaved?this.d3ConfigSaved.height:this.height}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0435\u0448(a,o="/scenes/scheduler.scene.txt"){return this.cacheService=a,this.\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(o),this}\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(a="/scenes/scheduler.scene.txt",o="/scenes/scheduler3.txt"){let c=this.cacheService.getRestPoint(a,null),u=this.cacheService.getRestPoint(o,null);this.cacheService.getTextRestcallUrl(c,h=>{this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439=h,null!=this.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435?this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c():this.cacheService.getTextRestcallUrl(u,d=>{this.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435=d,this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c()})})}clear(){return super.clear(),this.d3ConfigSaved.clearAll(),this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d=!1,this}\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c(){if(this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d)return!1;this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d=!0;let a=new qp,o=a.\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439),c=a.\u0434\u0432\u0438\u0436\u043e\u043a,u=GT.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435(this.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435),h=BT.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433(this.d3ConfigSaved).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0435\u0440\u0432\u0438\u0441(this.d3SvcSaved).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0432\u0438\u0436\u043e\u043a(c).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u043c\u044f\u0442\u044c(this.\u043f\u0430\u043c\u044f\u0442\u044c).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434(o).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440(this).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b(this.\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438(this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438(this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u043e\u043a\u0430\u0437\u041f\u043e\u0434\u0432\u0430\u043b\u0430(this.\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b);c.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e(),Ob.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u0412\u0414\u0432\u0438\u0436\u043e\u043a(c,h);let d=[rf.\u043d\u043e\u0432\u044b\u0439\u0418\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(u).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438")];return this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.forEach((p,g)=>d.push(rf.\u043d\u043e\u0432\u044b\u0439\u0418\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(c.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(g))),h.\u0437\u0430\u043f\u0443\u0441\u043a(d),this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f&&this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(),!0}generate(a,o,c){return this.d3SvcSaved=a,this.d3ConfigSaved=o,this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439?this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c():(this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f=c,!1)}}class sv{static saveData(a,o){const c=document.createElement("a"),u=window.URL.createObjectURL(a);c.href=u,c.download=o,c.click(),window.URL.revokeObjectURL(u)}static startDownload(a,o){const c=document.createElement("a");c.setAttribute("href",a),c.setAttribute("download",o),c.click(),c.remove()}}var WT=Ct(650);let Vu=(()=>{class l{constructor(o,c){this.config=o,this.localstorageSvc=c,this.autoThemeKey="autotheme",this.themeKey="theme"}themeName(o=!0){return this.config.baseHref+(o?"/index.html":"/index.night.html")}nowIsNight(){return thisIsNightTheme}nowIsDay(){return!thisIsNightTheme}isLight(){return!this.isAutoTheme()&&this.localstorageSvc.getStorage(this.themeKey)==this.themeName(!0)}isNight(){return!this.isAutoTheme()&&this.localstorageSvc.getStorage(this.themeKey)==this.themeName(!1)}isAutoTheme(){return"true"==this.localstorageSvc.getStorage(this.autoThemeKey)}onToggleAutoTheme(){let o=this.isLight(),c=this.isNight();if(o||c||!o&&!c){this.localstorageSvc.setStorage(this.autoThemeKey,""+!0);let u=this.themeName(o);window.location.href=u}}switchToLight(){let o=this.themeName(!0);(this.localstorageSvc.getStorage(this.themeKey)!=o||this.isAutoTheme())&&(this.localstorageSvc.setStorage(this.themeKey,this.themeName(!0)),this.localstorageSvc.setStorage(this.autoThemeKey,"false"),window.location.href=o)}switchToNight(){let o=this.themeName(!1);(this.localstorageSvc.getStorage(this.themeKey)!=o||this.isAutoTheme())&&(this.localstorageSvc.setStorage(this.themeKey,this.themeName(!1)),this.localstorageSvc.setStorage(this.autoThemeKey,"false"),window.location.href=o)}applyTheme(){let o=window.ThemeHandler;if(o)try{let c=thisIsNightTheme?"night":"day";o.setTheme(c)}catch(c){}}printWindow(o){let c=!1,u=window.ThemeHandler;if(u)try{u.printWindow(o),c=!0}catch(h){}return c}getAudioRootFolder(){let o=window.ThemeHandler,c="./";if(o)try{c=o.getAudioRootFolder()}catch(u){}return c}}return l.\u0275fac=function(o){return new(o||l)(Fe(kn),Fe(UI))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class Pi{static handleError(a,o){let c="";return c=a.error instanceof ErrorEvent?`Message: ${a.error.message}`:`Code: ${a.status}; Message: ${a.message}`,function I5e(l,a){const o=le(l)?l:()=>l,c=u=>u.error(o());return new dn(a?u=>a.schedule(c,0,u):c)}(()=>"Something bad happened; please try again later. Error: "+c)}static callOnDone(a,o){null==o?a&&a(null):a&&("string"==typeof o||ArrayBuffer,a(o))}}class fs{static merge(a,o){if(!a&&!o)return"";if(!a)return o;if(!o)return a;let c=a.endsWith("/"),u=o.startsWith("/"),h=a;return c!=u?h+=o:c?h+=u?o.substring(1):o:h?h+="/"+o:h=o,h}}class jT{static dtr(a,o){for(var c=o>=0?o:47,u=new ArrayBuffer(a.length-1),h=new Uint8Array(u),d=c,f=0;f<a.length;++f){var g=255&(a[f]^d);f>0&&(h[f-1]=g),d=255&(d+g^5)}return h}static fromByteArray(a){let o="";for(let c=0;c<a.length;c+=2)o+=String.fromCharCode(a[c+1]<<8|a[c]);return o}}class bee{}class xee{}class Uh{constructor(a){this.normalizedNames=new Map,this.lazyUpdate=null,a?this.lazyInit="string"==typeof a?()=>{this.headers=new Map,a.split("\n").forEach(o=>{const c=o.indexOf(":");if(c>0){const u=o.slice(0,c),h=u.toLowerCase(),d=o.slice(c+1).trim();this.maybeSetNormalizedName(u,h),this.headers.has(h)?this.headers.get(h).push(d):this.headers.set(h,[d])}})}:()=>{this.headers=new Map,Object.keys(a).forEach(o=>{let c=a[o];const u=o.toLowerCase();"string"==typeof c&&(c=[c]),c.length>0&&(this.headers.set(u,c),this.maybeSetNormalizedName(o,u))})}:this.headers=new Map}has(a){return this.init(),this.headers.has(a.toLowerCase())}get(a){this.init();const o=this.headers.get(a.toLowerCase());return o&&o.length>0?o[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(a){return this.init(),this.headers.get(a.toLowerCase())||null}append(a,o){return this.clone({name:a,value:o,op:"a"})}set(a,o){return this.clone({name:a,value:o,op:"s"})}delete(a,o){return this.clone({name:a,value:o,op:"d"})}maybeSetNormalizedName(a,o){this.normalizedNames.has(o)||this.normalizedNames.set(o,a)}init(){this.lazyInit&&(this.lazyInit instanceof Uh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(a=>this.applyUpdate(a)),this.lazyUpdate=null))}copyFrom(a){a.init(),Array.from(a.headers.keys()).forEach(o=>{this.headers.set(o,a.headers.get(o)),this.normalizedNames.set(o,a.normalizedNames.get(o))})}clone(a){const o=new Uh;return o.lazyInit=this.lazyInit&&this.lazyInit instanceof Uh?this.lazyInit:this,o.lazyUpdate=(this.lazyUpdate||[]).concat([a]),o}applyUpdate(a){const o=a.name.toLowerCase();switch(a.op){case"a":case"s":let c=a.value;if("string"==typeof c&&(c=[c]),0===c.length)return;this.maybeSetNormalizedName(a.name,o);const u=("a"===a.op?this.headers.get(o):void 0)||[];u.push(...c),this.headers.set(o,u);break;case"d":const h=a.value;if(h){let d=this.headers.get(o);if(!d)return;d=d.filter(f=>-1===h.indexOf(f)),0===d.length?(this.headers.delete(o),this.normalizedNames.delete(o)):this.headers.set(o,d)}else this.headers.delete(o),this.normalizedNames.delete(o)}}forEach(a){this.init(),Array.from(this.normalizedNames.keys()).forEach(o=>a(this.normalizedNames.get(o),this.headers.get(o)))}}class P5e{encodeKey(a){return Cee(a)}encodeValue(a){return Cee(a)}decodeKey(a){return decodeURIComponent(a)}decodeValue(a){return decodeURIComponent(a)}}const R5e=/%(\d[a-f0-9])/gi,F5e={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Cee(l){return encodeURIComponent(l).replace(R5e,(a,o)=>{var c;return null!==(c=F5e[o])&&void 0!==c?c:a})}function wee(l){return`${l}`}class Hh{constructor(a={}){if(this.updates=null,this.cloneFrom=null,this.encoder=a.encoder||new P5e,a.fromString){if(a.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function O5e(l,a){const o=new Map;return l.length>0&&l.replace(/^\?/,"").split("&").forEach(u=>{const h=u.indexOf("="),[d,f]=-1==h?[a.decodeKey(u),""]:[a.decodeKey(u.slice(0,h)),a.decodeValue(u.slice(h+1))],p=o.get(d)||[];p.push(f),o.set(d,p)}),o}(a.fromString,this.encoder)}else a.fromObject?(this.map=new Map,Object.keys(a.fromObject).forEach(o=>{const c=a.fromObject[o];this.map.set(o,Array.isArray(c)?c:[c])})):this.map=null}has(a){return this.init(),this.map.has(a)}get(a){this.init();const o=this.map.get(a);return o?o[0]:null}getAll(a){return this.init(),this.map.get(a)||null}keys(){return this.init(),Array.from(this.map.keys())}append(a,o){return this.clone({param:a,value:o,op:"a"})}appendAll(a){const o=[];return Object.keys(a).forEach(c=>{const u=a[c];Array.isArray(u)?u.forEach(h=>{o.push({param:c,value:h,op:"a"})}):o.push({param:c,value:u,op:"a"})}),this.clone(o)}set(a,o){return this.clone({param:a,value:o,op:"s"})}delete(a,o){return this.clone({param:a,value:o,op:"d"})}toString(){return this.init(),this.keys().map(a=>{const o=this.encoder.encodeKey(a);return this.map.get(a).map(c=>o+"="+this.encoder.encodeValue(c)).join("&")}).filter(a=>""!==a).join("&")}clone(a){const o=new Hh({encoder:this.encoder});return o.cloneFrom=this.cloneFrom||this,o.updates=(this.updates||[]).concat(a),o}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(a=>this.map.set(a,this.cloneFrom.map.get(a))),this.updates.forEach(a=>{switch(a.op){case"a":case"s":const o=("a"===a.op?this.map.get(a.param):void 0)||[];o.push(wee(a.value)),this.map.set(a.param,o);break;case"d":if(void 0===a.value){this.map.delete(a.param);break}{let c=this.map.get(a.param)||[];const u=c.indexOf(wee(a.value));-1!==u&&c.splice(u,1),c.length>0?this.map.set(a.param,c):this.map.delete(a.param)}}}),this.cloneFrom=this.updates=null)}}class L5e{constructor(){this.map=new Map}set(a,o){return this.map.set(a,o),this}get(a){return this.map.has(a)||this.map.set(a,a.defaultValue()),this.map.get(a)}delete(a){return this.map.delete(a),this}has(a){return this.map.has(a)}keys(){return this.map.keys()}}function See(l){return"undefined"!=typeof ArrayBuffer&&l instanceof ArrayBuffer}function Tee(l){return"undefined"!=typeof Blob&&l instanceof Blob}function Mee(l){return"undefined"!=typeof FormData&&l instanceof FormData}class Rb{constructor(a,o,c,u){let h;if(this.url=o,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=a.toUpperCase(),function N5e(l){switch(l){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||u?(this.body=void 0!==c?c:null,h=u):h=c,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params)),this.headers||(this.headers=new Uh),this.context||(this.context=new L5e),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=o;else{const f=o.indexOf("?");this.urlWithParams=o+(-1===f?"?":f<o.length-1?"&":"")+d}}else this.params=new Hh,this.urlWithParams=o}serializeBody(){return null===this.body?null:See(this.body)||Tee(this.body)||Mee(this.body)||function B5e(l){return"undefined"!=typeof URLSearchParams&&l instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Mee(this.body)?null:Tee(this.body)?this.body.type||null:See(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(a={}){var o;const c=a.method||this.method,u=a.url||this.url,h=a.responseType||this.responseType,d=void 0!==a.body?a.body:this.body,f=void 0!==a.withCredentials?a.withCredentials:this.withCredentials,p=void 0!==a.reportProgress?a.reportProgress:this.reportProgress;let g=a.headers||this.headers,m=a.params||this.params;const v=null!==(o=a.context)&&void 0!==o?o:this.context;return void 0!==a.setHeaders&&(g=Object.keys(a.setHeaders).reduce((_,y)=>_.set(y,a.setHeaders[y]),g)),a.setParams&&(m=Object.keys(a.setParams).reduce((_,y)=>_.set(y,a.setParams[y]),m)),new Rb(c,u,d,{params:m,headers:g,context:v,reportProgress:p,responseType:h,withCredentials:f})}}var ks=(()=>((ks=ks||{})[ks.Sent=0]="Sent",ks[ks.UploadProgress=1]="UploadProgress",ks[ks.ResponseHeader=2]="ResponseHeader",ks[ks.DownloadProgress=3]="DownloadProgress",ks[ks.Response=4]="Response",ks[ks.User=5]="User",ks))();class PF{constructor(a,o=200,c="OK"){this.headers=a.headers||new Uh,this.status=void 0!==a.status?a.status:o,this.statusText=a.statusText||c,this.url=a.url||null,this.ok=this.status>=200&&this.status<300}}class OF extends PF{constructor(a={}){super(a),this.type=ks.ResponseHeader}clone(a={}){return new OF({headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class $T extends PF{constructor(a={}){super(a),this.type=ks.Response,this.body=void 0!==a.body?a.body:null}clone(a={}){return new $T({body:void 0!==a.body?a.body:this.body,headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class Dee extends PF{constructor(a){super(a,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${a.url||"(unknown url)"}`:`Http failure response for ${a.url||"(unknown url)"}: ${a.status} ${a.statusText}`,this.error=a.error||null}}function RF(l,a){return{body:a,headers:l.headers,context:l.context,observe:l.observe,params:l.params,reportProgress:l.reportProgress,responseType:l.responseType,withCredentials:l.withCredentials}}let sf=(()=>{class l{constructor(o){this.handler=o}request(o,c,u={}){let h;if(o instanceof Rb)h=o;else{let p,g;p=u.headers instanceof Uh?u.headers:new Uh(u.headers),u.params&&(g=u.params instanceof Hh?u.params:new Hh({fromObject:u.params})),h=new Rb(o,c,void 0!==u.body?u.body:null,{headers:p,context:u.context,params:g,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials})}const d=Xn(h).pipe(Em(p=>this.handler.handle(p)));if(o instanceof Rb||"events"===u.observe)return d;const f=d.pipe(_s(p=>p instanceof $T));switch(u.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return f.pipe(an(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return f.pipe(an(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return f.pipe(an(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return f.pipe(an(p=>p.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(o,c={}){return this.request("DELETE",o,c)}get(o,c={}){return this.request("GET",o,c)}head(o,c={}){return this.request("HEAD",o,c)}jsonp(o,c){return this.request("JSONP",o,{params:(new Hh).append(c,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(o,c={}){return this.request("OPTIONS",o,c)}patch(o,c,u={}){return this.request("PATCH",o,RF(u,c))}post(o,c,u={}){return this.request("POST",o,RF(u,c))}put(o,c,u={}){return this.request("PUT",o,RF(u,c))}}return l.\u0275fac=function(o){return new(o||l)(Fe(bee))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class Eee{constructor(a,o){this.next=a,this.interceptor=o}handle(a){return this.interceptor.intercept(a,this.next)}}const FF=new Un("HTTP_INTERCEPTORS");let V5e=(()=>{class l{intercept(o,c){return c.handle(o)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();const z5e=/^\)\]\}',?\n/;let kee=(()=>{class l{constructor(o){this.xhrFactory=o}handle(o){if("JSONP"===o.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new dn(c=>{const u=this.xhrFactory.build();if(u.open(o.method,o.urlWithParams),o.withCredentials&&(u.withCredentials=!0),o.headers.forEach((y,b)=>u.setRequestHeader(y,b.join(","))),o.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!o.headers.has("Content-Type")){const y=o.detectContentTypeHeader();null!==y&&u.setRequestHeader("Content-Type",y)}if(o.responseType){const y=o.responseType.toLowerCase();u.responseType="json"!==y?y:"text"}const h=o.serializeBody();let d=null;const f=()=>{if(null!==d)return d;const y=1223===u.status?204:u.status,b=u.statusText||"OK",C=new Uh(u.getAllResponseHeaders()),x=function U5e(l){return"responseURL"in l&&l.responseURL?l.responseURL:/^X-Request-URL:/m.test(l.getAllResponseHeaders())?l.getResponseHeader("X-Request-URL"):null}(u)||o.url;return d=new OF({headers:C,status:y,statusText:b,url:x}),d},p=()=>{let{headers:y,status:b,statusText:C,url:x}=f(),w=null;204!==b&&(w=void 0===u.response?u.responseText:u.response),0===b&&(b=w?200:0);let S=b>=200&&b<300;if("json"===o.responseType&&"string"==typeof w){const M=w;w=w.replace(z5e,"");try{w=""!==w?JSON.parse(w):null}catch(T){w=M,S&&(S=!1,w={error:T,text:w})}}S?(c.next(new $T({body:w,headers:y,status:b,statusText:C,url:x||void 0})),c.complete()):c.error(new Dee({error:w,headers:y,status:b,statusText:C,url:x||void 0}))},g=y=>{const{url:b}=f(),C=new Dee({error:y,status:u.status||0,statusText:u.statusText||"Unknown Error",url:b||void 0});c.error(C)};let m=!1;const v=y=>{m||(c.next(f()),m=!0);let b={type:ks.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(b.total=y.total),"text"===o.responseType&&!!u.responseText&&(b.partialText=u.responseText),c.next(b)},_=y=>{let b={type:ks.UploadProgress,loaded:y.loaded};y.lengthComputable&&(b.total=y.total),c.next(b)};return u.addEventListener("load",p),u.addEventListener("error",g),u.addEventListener("timeout",g),u.addEventListener("abort",g),o.reportProgress&&(u.addEventListener("progress",v),null!==h&&u.upload&&u.upload.addEventListener("progress",_)),u.send(h),c.next({type:ks.Sent}),()=>{u.removeEventListener("error",g),u.removeEventListener("abort",g),u.removeEventListener("load",p),u.removeEventListener("timeout",g),o.reportProgress&&(u.removeEventListener("progress",v),null!==h&&u.upload&&u.upload.removeEventListener("progress",_)),u.readyState!==u.DONE&&u.abort()}})}}return l.\u0275fac=function(o){return new(o||l)(Fe(h7))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();const LF=new Un("XSRF_COOKIE_NAME"),NF=new Un("XSRF_HEADER_NAME");class Aee{}let H5e=(()=>{class l{constructor(o,c,u){this.doc=o,this.platform=c,this.cookieName=u,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const o=this.doc.cookie||"";return o!==this.lastCookieString&&(this.parseCount++,this.lastToken=i7(o,this.cookieName),this.lastCookieString=o),this.lastToken}}return l.\u0275fac=function(o){return new(o||l)(Fe(Vr),Fe(Br),Fe(LF))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),BF=(()=>{class l{constructor(o,c){this.tokenService=o,this.headerName=c}intercept(o,c){const u=o.url.toLowerCase();if("GET"===o.method||"HEAD"===o.method||u.startsWith("http://")||u.startsWith("https://"))return c.handle(o);const h=this.tokenService.getToken();return null!==h&&!o.headers.has(this.headerName)&&(o=o.clone({headers:o.headers.set(this.headerName,h)})),c.handle(o)}}return l.\u0275fac=function(o){return new(o||l)(Fe(Aee),Fe(NF))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),G5e=(()=>{class l{constructor(o,c){this.backend=o,this.injector=c,this.chain=null}handle(o){if(null===this.chain){const c=this.injector.get(FF,[]);this.chain=c.reduceRight((u,h)=>new Eee(u,h),this.backend)}return this.chain.handle(o)}}return l.\u0275fac=function(o){return new(o||l)(Fe(xee),Fe(rr))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),W5e=(()=>{class l{static disable(){return{ngModule:l,providers:[{provide:BF,useClass:V5e}]}}static withOptions(o={}){return{ngModule:l,providers:[o.cookieName?{provide:LF,useValue:o.cookieName}:[],o.headerName?{provide:NF,useValue:o.headerName}:[]]}}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({providers:[BF,{provide:FF,useExisting:BF,multi:!0},{provide:Aee,useClass:H5e},{provide:LF,useValue:"XSRF-TOKEN"},{provide:NF,useValue:"X-XSRF-TOKEN"}]}),l})(),j5e=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({providers:[sf,{provide:bee,useClass:G5e},kee,{provide:xee,useExisting:kee}],imports:[[W5e.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),l})(),Yp=(()=>{class l{constructor(o,c){this.http=o,this.config=c,this.relativeCacheService=!0,this.cache=new Map,this.cacheTextWaiting=new Map,this.cacheZip=null,this.loaded=!1,this.loading=!1,this.failOnCacheMiss=!1,this.requests=[],this.cache=c.cache,this.loaded=0!==this.cache.size}get coding(){return this.config.coding}get restPoint(){return this.coding?"/staticb":"/static"}getRestPoint(o,c,u=null){const h=this.relativeCacheService||this.config.isMemoryServerType()?this.config.baseHref:this.config.serviceAPIHost;return fs.merge(fs.merge(c||h,null!=u?u:this.restPoint),o)}getLinkTo(o,c){const u=this.config.isMemoryServerType()?this.config.baseHref:this.config.serviceAPIHost;return(c||u)+o}handleError(o,c){return Pi.handleError(o,c)}getText(o,c){this.loaded?this.getTextDirect(o,c):this.loading?this.requests.push(()=>{this.getTextDirect(o,c)}):this.startLoadingStatic(o,!0,c)}getBinary(o,c){this.loaded?this.zipLoadOrReturnFalse(o,!1,c)||this.getBlobRestcall(o,c):this.loading?this.requests.push(()=>{this.zipLoadOrReturnFalse(o,!1,c)}):this.startLoadingStatic(o,!1,c)}startLoadingStatic(o,c,u){this.loading=!0,this.getBlobRestcall("/static.zip",h=>{let d=()=>{this.loaded=!0,this.loading=!1,c?this.getTextDirect(o,u):this.zipLoadOrReturnFalse(o,c,u),this.requests.forEach(f=>{f()}),this.requests=[]};if(h){this.failOnCacheMiss=!0;let f=new Blob([new Uint8Array(h,0,h.byteLength)]);this.onLoadZipFile(f,d,()=>{this.cacheZip=null,this.failOnCacheMiss=!1,d()})}else this.failOnCacheMiss=!1,d()})}zipLoadOrReturnFalse(o,c,u){if(!this.cacheZip)return!1;let h=!1,d=o.startsWith("/")?o.substr(1):o,f=this.cacheZip.file(d);return f&&(h=!0,f.async(c?"string":"arraybuffer").then(p=>{Pi.callOnDone(u,p)}).catch(()=>{Pi.callOnDone(u,null)})),h}getTextDirect(o,c){if(!this.zipLoadOrReturnFalse(o,!0,c))if(this.cache.has(o)){const u=this.cache.get(o);setTimeout(()=>{Pi.callOnDone(c,u)},0)}else this.failOnCacheMiss?Pi.callOnDone(c,null):this.getTextRestcall(o,c)}getTextRestcall(o,c){let u=this.getRestPoint(o,null);return this.getTextRestcallUrl(u,c)}completeTextOnDone(o,c){let u=this.cacheTextWaiting.get(o);u&&(u.forEach(h=>{this.config.post(()=>{h&&h(c)})}),this.cacheTextWaiting.delete(o))}readArrayBufferToString(o,c){var u=new Blob([new Uint8Array(o)]),h=new FileReader;h.onload=function(d){var f;c&&c(null===(f=d.target)||void 0===f?void 0:f.result)},h.readAsText(u)}getTextRestcallUrl(o,c){return this.coding?this.getBlobRestcallUrl(o,u=>{if(u)if(o.endsWith(".txt")||o.endsWith(".xhtml")){let d=new Uint8Array(u),f=jT.fromByteArray(d);c&&c(f)}else this.readArrayBufferToString(u,c);else c&&c(null)}):this.getTextRestcallUrlRaw(o,c)}getTextRestcallUrlRaw(o,c){if(this.cache&&this.cache.has(o)){if(c){let u=this.cache.get(o);this.config.post(()=>{Pi.callOnDone(c,u)})}}else this.cacheTextWaiting.has(o)?c&&this.cacheTextWaiting.get(o).push(c):(c&&this.cacheTextWaiting.set(o,[c]),this.http.get(o,{responseType:"text"}).pipe(tr(this.handleError)).subscribe({next:u=>{u&&this.cache.set(o,u),this.completeTextOnDone(o,u)},error:u=>{this.completeTextOnDone(o,null)}}))}getBlobRestcall(o,c){return this.getBlobRestcallUrl(this.getRestPoint(o,null),c)}getBlobRestcallUrl(o,c){let u=o;if(this.coding){let h=u.lastIndexOf(".");h>=0&&(u=u.substring(0,h)+".bin")}return this.getBlobRestcallUrlRaw(u,h=>{if(h)if(this.coding){let d=new Uint8Array(h),f=jT.dtr(d,-1);c&&c(f)}else c&&c(h);else c&&c(null)})}getBlobRestcallUrlRaw(o,c){this.http.get(o,{responseType:"arraybuffer"}).pipe(tr(this.handleError)).subscribe(u=>{Pi.callOnDone(c,u)},u=>{Pi.callOnDone(c,null)})}save(){const o=new WT;o.file("version.txt","v.1.0"),this.cache.forEach((c,u,h)=>{o.file(u,c)}),o.generateAsync({type:"blob"}).then(c=>{new TextEncoder;const h=new Blob([c],{type:"octet/stream"}),f=`Static.Cache.${(new Date).toISOString().split("T")[0]}.zip`;sv.saveData(h,f)})}onLoadZipFile(o,c,u){const h=new FileReader;h.onload=d=>{const f=p=>{this.cacheZip=null,this.failOnCacheMiss=!1,c()};try{WT.loadAsync(h.result).then(p=>{this.cacheZip=p,c()}).catch(f)}catch(p){f()}},h.readAsArrayBuffer(o)}unpackZip(o,c){const u=this.cacheZip.file(/^.*$/);let h=0;u.forEach(d=>{d.async("string").then(f=>{this.cache.set((d.name.startsWith("/")?"":"/")+d.name,f),++h==u.length&&o()}).catch(c)})}}return l.\u0275fac=function(o){return new(o||l)(Fe(sf),Fe(kn))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class Vc{constructor(a,o,c){this._id=a,this.key=o,this.value=c}static create(a){return a?new Vc(a._id,a.key,a.value):new Vc(-1,"","")}static of(a,o){return new Vc(0,a,o)}}class of{constructor(a,o,c){this.success=a,this.error=o,this.item=c}static create(a){return new of(a.success,a.error,Vc.create(a.item))}}let Iee=(()=>{class l{constructor(o,c){this.http=o,this.config=c,this.restPoint="/settings"}getRestPoint(o,c){return fs.merge(fs.merge(c||this.config.serviceAPIHost,this.restPoint),o)}handleError(o,c){return Pi.handleError(o,c)}findKey(o,c){const u={_id:0,key:o,value:""};this.http.post(this.getRestPoint("/find",null),u,{}).pipe(tr(this.handleError)).subscribe({next:d=>{Pi.callOnDone(c,of.create(d))},error:d=>{Pi.callOnDone(c,null)}})}insertKey(o,c){this.http.post(this.getRestPoint("/insert",null),o,{}).pipe(tr(this.handleError)).subscribe({next:h=>{Pi.callOnDone(c,of.create(h))},error:h=>{Pi.callOnDone(c,null)}})}updateKey(o,c){this.http.post(this.getRestPoint("/update",null),o,{}).pipe(tr(this.handleError)).subscribe({next:h=>{Pi.callOnDone(c,of.create(h))},error:h=>{Pi.callOnDone(c,null)}})}}return l.\u0275fac=function(o){return new(o||l)(Fe(sf),Fe(kn))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),Pee=(()=>{class l{constructor(o){this.config=o,this.kvs=null,this.localStorageName="",this.localStorageName=o.serviceAPIHost+"KVSvc"}checkOrloadData(){if(this.kvs)return;const o=localStorage.getItem(this.localStorageName);if(o)try{this.kvs=JSON.parse(o)}catch(c){}this.kvs||(this.kvs={})}saveData(){const o=JSON.stringify(this.kvs);localStorage.setItem(this.localStorageName,o)}findKey(o,c){this.checkOrloadData();const u=this.kvs[o],h=null!=u;return this.config.post(()=>{Pi.callOnDone(c,new of(h,h?null:"Not found",h?new Vc(-1,o,u):null))}),u}insertKey(o,c){this.checkOrloadData(),this.kvs[o.key]=o.value,this.saveData(),this.config.post(()=>{Pi.callOnDone(c,new of(!0,null,o))})}updateKey(o,c){this.checkOrloadData(),this.kvs[o.key]=o.value,this.saveData(),this.config.post(()=>{Pi.callOnDone(c,new of(!0,null,o))})}}return l.\u0275fac=function(o){return new(o||l)(Fe(kn))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),VF=(()=>{class l{constructor(o,c,u){this.kvRest=o,this.kvMemory=c,this.config=u,this.kv=null,this.config.isMemoryServerType()&&(this.kv=this.kvMemory),(null==this.kv||this.config.isRestServerType())&&(this.kv=this.kvRest)}findKey(o,c){this.kv.findKey(o,c)}insertKey(o,c){this.kv.insertKey(o,c)}updateKey(o,c){this.kv.updateKey(o,c)}}return l.\u0275fac=function(o){return new(o||l)(Fe(Iee),Fe(Pee),Fe(kn))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class zF{constructor(a,o){this.name=a,this.value=o}equalsTo(a){return this.name==a.name&&this.value==a.value}static cloneFrom(a){return new zF(a.name,a.value)}}var En=(()=>(function(l){l[l.Number=0]="Number",l[l.String=1]="String",l[l.Boolean=2]="Boolean"}(En||(En={})),En))();class $n{constructor(a,o,c,u,h,d){this.name=a,this.description=o,this.type=c,this.cfg=u,this.saver=h,this.defaultValue=d}static uiTypeToString(a){return["Number","String","Boolean"][a]}static builder(){return new $n("","",En.String,()=>null,()=>{},null)}setName(a){return this.name=a,this}setDescription(a){return this.description=a,this}setType(a){return this.type=a,this}setDefaultValue(a){return this.defaultValue=a,this}setCfg(a){return this.cfg=a,this}setSaver(a){return this.saver=a,this}get stype(){return $n.uiTypeToString(this.type)}init(){let a=this.cfg();return null==a[this.name]&&(a[this.name]=this.defaultValue),this}getStringValue(){if(this.type!==En.String)throw new Error(`\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 \u0442\u0438\u043f, \u0430 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d: ${this.stype}.`);return this.cfg()[this.name]}getAndVerifyStringValue(a=null,o=""){let c=null==a?this.cfg():a;if(this.type!==En.String)throw new Error(`\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 \u0442\u0438\u043f, \u0430 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d: ${this.stype}.`);let u=c[this.name];return("string"!=typeof u||null==u)&&(u=null==o?null==this.defaultValue?"":this.defaultValue:o),u}getNumberValue(){if(this.type!==En.Number)throw new Error(`\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u0442\u0438\u043f, \u0430 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d: ${this.stype}.`);return this.cfg()[this.name]}getAndVerifyNumberValue(a=null,o=0){let c=null==a?this.cfg():a;if(this.type!==En.Number)throw new Error(`\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u0442\u0438\u043f, \u0430 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d: ${this.stype}.`);let u=c[this.name];return("number"!=typeof u||null==u)&&(u=null==o?null==this.defaultValue?0:this.defaultValue:o),u}getBooleanValue(){if(this.type!==En.Boolean)throw new Error(`\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0431\u0443\u043b\u0435\u0432\u044b\u0439 \u0442\u0438\u043f, \u0430 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d: ${this.stype}.`);return this.cfg()[this.name]}getAndVerifyBooleanValue(a=null,o=0){let c=null==a?this.cfg():a;if(this.type!==En.Boolean)throw new Error(`\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0431\u0443\u043b\u0435\u0432\u044b\u0439 \u0442\u0438\u043f, \u0430 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d: ${this.stype}.`);let u=c[this.name];return("boolean"!=typeof u||null==u)&&(u=null==o?null!=this.defaultValue&&this.defaultValue:o),u}getAndVerifyValue(a=null,o=null){let c=null;switch(this.type){case En.String:c=this.getAndVerifyStringValue(a,o);break;case En.Number:c=this.getAndVerifyNumberValue(a,o);break;case En.Boolean:c=this.getAndVerifyBooleanValue(a,o);break;default:throw new Error(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u044b\u043d\u0439 \u0442\u0438\u043f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f: ${this.stype}.`)}return c}setStringValue(a){if(this.type!==En.String)throw new Error(`\u041d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0438\u0441\u0432\u043e\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 \u0442\u0438\u043f \u0442\u0438\u043f\u0443: ${this.stype}.`);this.cfg()[this.name]=a,this.save()}setNumberValue(a){if(this.type!==En.Number)throw new Error(`\u041d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0438\u0441\u0432\u043e\u0438\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u0442\u0438\u043f \u0442\u0438\u043f\u0443: ${this.stype}.`);this.cfg()[this.name]=a,this.save()}setBooleanValue(a){if(this.type!==En.Boolean)throw new Error(`\u041d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0438\u0441\u0432\u043e\u0438\u0442\u044c \u0431\u0443\u043b\u0435\u0432\u044b\u0439 \u0442\u0438\u043f \u0442\u0438\u043f\u0443: ${this.stype}.`);this.cfg()[this.name]=a,this.save()}setValue(a,o=null){return(null==o?this.cfg():o)[this.name]=a,null==o&&this.save(),this}get rawValue(){let a=this.cfg()[this.name];return null==a&&(this.cfg()[this.name]=this.defaultValue,a=this.cfg()[this.name]),a}set rawValue(a){this.cfg()[this.name]=a,this.save()}save(){this.saver&&this.saver()}}class $5e{constructor(){this.lastLoginApp=$n.builder().setType(En.String).setDescription("\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435").setDefaultValue(""),this.defaultAppRoute=$n.builder().setType(En.String).setDescription("\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e").setDefaultValue(""),this.stopServiceFlag=$n.builder().setType(En.Boolean).setDescription("\u0412\u044b\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441").setDefaultValue(!0),this.autoDownloadAudioFiles=$n.builder().setType(En.Boolean).setDescription("\u041a\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u0443\u0434\u0438\u043e").setDefaultValue(!1),this.parallel=$n.builder().setType(En.Boolean).setDescription("\u041f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u043a\u0430\u0437").setDefaultValue(!0),this.fineText=$n.builder().setType(En.Boolean).setDescription("\u0420\u0430\u0441\u0442\u044f\u0433\u0438\u0432\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442").setDefaultValue(!0),this.lineBreaks=$n.builder().setType(En.Boolean).setDescription("\u0420\u0430\u0437\u0440\u044b\u0432\u044b \u0441\u0442\u0440\u043e\u043a").setDefaultValue(!0),this.coloredTranslations=$n.builder().setType(En.Boolean).setDescription("\u0426\u0432\u0435\u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u043e\u0432").setDefaultValue(!0),this.fontSize=$n.builder().setType(En.String).setDescription("\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430").setDefaultValue("0"),this.visitedBooksHelp=$n.builder().setType(En.String).setDescription("\u041f\u043e\u0441\u0435\u0449\u0451\u043d\u043d\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u043a\u0430 \u041a\u043d\u0438\u0433").setDefaultValue(""),this.visitedMemorialHelp=$n.builder().setType(En.String).setDescription("\u041f\u043e\u0441\u0435\u0449\u0451\u043d\u043d\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u043a\u0430 \u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0430").setDefaultValue(""),this.currentBook=$n.builder().setType(En.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043d\u0438\u0433\u0430").setDefaultValue(""),this.currentBookName=$n.builder().setType(En.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0438\u043c\u044f \u043a\u043d\u0438\u0433\u0438").setDefaultValue(""),this.currentBookLink=$n.builder().setType(En.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430 \u043a\u043d\u0438\u0433\u0438").setDefaultValue(""),this.currentChapter=$n.builder().setType(En.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430").setDefaultValue(""),this.currentLanguages=$n.builder().setType(En.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u044f\u0437\u044b\u043a\u0438").setDefaultValue(""),this.bookmarks=$n.builder().setType(En.String).setDescription("\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438").setDefaultValue(""),this.currentMemorial=$n.builder().setType(En.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a").setDefaultValue(""),this.currentMemorialPage=$n.builder().setType(En.Number).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430").setDefaultValue(1),this.currentMemorialPsalom=$n.builder().setType(En.Number).setDescription("\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0441\u0430\u043b\u043e\u043c").setDefaultValue(0),this.memorialChapterRequested=$n.builder().setType(En.Number).setDescription("\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u044b\u0439 \u043f\u0441\u0430\u043b\u043e\u043c").setDefaultValue(-1),this.memorialPageSize=$n.builder().setType(En.String).setDescription("\u0420\u0430\u0437\u043c\u0435\u0440 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b").setDefaultValue("30"),this.sortPersonsPriests=$n.builder().setType(En.Boolean).setDescription("\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0438\u043f\u044b \u0438\u043c\u0451\u043d").setDefaultValue(!1),this.sortPersonsNames=$n.builder().setType(En.Boolean).setDescription("\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u043c\u0435\u043d\u0430").setDefaultValue(!1),this.memorialVerticalView=$n.builder().setType(En.Boolean).setDescription("\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0432\u0438\u0434").setDefaultValue(!1),this.mergeNameOnImport=$n.builder().setType(En.Boolean).setDescription("\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0442\u044c \u0438\u043c\u0435\u043d\u0430 \u043f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435").setDefaultValue(!1),this.showMolitvy=$n.builder().setType(En.Boolean).setDescription("\u041f\u043e\u043a\u0430\u0437 \u043c\u043e\u043b\u0438\u0442\u0432").setDefaultValue(!0),this.addCommentToName=$n.builder().setType(En.Boolean).setDescription("\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0432 \u0438\u043c\u044f").setDefaultValue(!0),this.currentOffset=$n.builder().setType(En.Number).setDescription("\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435").setDefaultValue(0),this.currentPersonOffset=$n.builder().setType(En.Number).setDescription("\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u044b").setDefaultValue(1),this.memorialBook=$n.builder().setType(En.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043d\u0438\u0433\u0430").setDefaultValue(""),this.memorialChapter=$n.builder().setType(En.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430").setDefaultValue(""),this.memorialLine=$n.builder().setType(En.Number).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043b\u0438\u043d\u0438\u044f").setDefaultValue(1),this.memorialsTitleRemark=$n.builder().setType(En.String).setDescription("\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0437\u0430\u043f\u0438\u0441\u043e\u043a").setDefaultValue(""),this.memorialSlava1Zdrav=$n.builder().setType(En.Boolean).setDescription('\u0421\u043b\u0430\u0432\u0430 1 "\u041e \u0437\u0434\u0440\u0430\u0432\u0438\u0438"').setDefaultValue(!0),this.memorialSlava2Zdrav=$n.builder().setType(En.Boolean).setDescription('\u0421\u043b\u0430\u0432\u0430 2 "\u041e \u0437\u0434\u0440\u0430\u0432\u0438\u0438"').setDefaultValue(!0),this.memorialSlava3Zdrav=$n.builder().setType(En.Boolean).setDescription('\u0421\u043b\u0430\u0432\u0430 3 "\u041e \u0437\u0434\u0440\u0430\u0432\u0438\u0438"').setDefaultValue(!0),this.memorialSlava1Upok=$n.builder().setType(En.Boolean).setDescription('\u0421\u043b\u0430\u0432\u0430 1 "\u041e \u0443\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438"').setDefaultValue(!0),this.memorialSlava2Upok=$n.builder().setType(En.Boolean).setDescription('\u0421\u043b\u0430\u0432\u0430 2 "\u041e \u0443\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438"').setDefaultValue(!0),this.memorialSlava3Upok=$n.builder().setType(En.Boolean).setDescription('\u0421\u043b\u0430\u0432\u0430 3 "\u041e \u0443\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438"').setDefaultValue(!0),this.memorialPsaltir=$n.builder().setType(En.Boolean).setDescription("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c").setDefaultValue(!0),this.showFacePage=$n.builder().setType(En.Boolean).setDescription("\u041e\u0431\u043b\u043e\u0436\u043a\u0430").setDefaultValue(!1),this.memorialPrintAllBook=$n.builder().setType(En.Boolean).setDescription("\u041f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0432\u0441\u044e \u043a\u043d\u0438\u0433\u0443").setDefaultValue(!1),this.audioValue=$n.builder().setType(En.String).setDescription("\u0417\u0432\u0443\u043a\u043e\u0432\u043e\u0435 \u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435").setDefaultValue("1")}}class q5e{constructor(a){this.onChange=a,this.saveCfg={},this.metaCfg=new $5e,this.values=new Map,this.setup()}get ui(){return this.metaCfg}cloneSaveCfg(a){let o={};return this.values.forEach((c,u,h)=>{c.setValue(c.getAndVerifyValue(a,null),o)}),o}add(a){return this.values.set(a.name,a.setCfg(()=>this.saveCfg).setSaver(()=>this.save())),a.init(),this}setup(){for(let a in this.metaCfg)this.add(this.metaCfg[a].setName(a))}getByName(a){return this.values.get(a)}forceSave(){this.save()}save(){this.onChange&&this.onChange(JSON.stringify(this.saveCfg))}get readonly(){return!!pageRequestedReadonly}load(a){try{const o=JSON.parse(a);this.saveCfg=this.cloneSaveCfg(o)}catch(o){}}toString(){return JSON.stringify(this.saveCfg)}}class Zp{constructor(a,o){this.enabled=a,this.onChange=o}static builder(){return new Zp(!1,a=>a)}setEnabled(a,o=!0){return this.enabled=a,o&&this.onChange(this),this}setOnChange(a){return this.onChange=a,this}}class qT{constructor(a){this.settings=a}static builder(){return new qT([])}add(a){return this.settings.push(a.setOnChange(o=>this.resetOther(o))),this}resetOther(a){!a.enabled||this.settings.forEach(o=>{o!==a&&o.setEnabled(!1,!1)})}}class ys{constructor(a){this.uiValue=a,this.oldRawValue=null}static builder(){return new ys(null)}setUIValue(a){return this.uiValue=a,this}resetDetector(){return this.oldRawValue=null,this}checkAndUpdate(a=null){var o,c;let u=this.oldRawValue!==(null!=a?a:null===(o=this.uiValue)||void 0===o?void 0:o.rawValue);return this.oldRawValue=null!=a?a:null===(c=this.uiValue)||void 0===c?void 0:c.rawValue,u}}let $i=(()=>{class l{constructor(o,c,u){this.themesService=o,this.kv=c,this.config=u,this.key="uiConfig20",this.keyKafizma="kafizmyOffset",this.keyBooks="booksLink",this.ready=!1,this.pui=new q5e(h=>{this.save(h)}),this.appRoutesId=0,this.appRoutes=null,this.mainContainerEnabled=!1,this.check()}enableMainContainer(o){return this.mainContainerEnabled=o,this}setAppRoutes(o){let c=this.appRoutes;this.appRoutes=o;let u=++this.appRoutesId,h=this;return{unsubscribe(){u==h.appRoutesId&&(h.appRoutes=c)}}}get ui(){return this.pui.ui}get readonly(){return this.pui.readonly}check(o,c=!1){!this.ready||c?this.kv.findKey(this.key,u=>{u&&u.success&&this.pui.load(u.item.value),this.ready=!0,this.applyServiceFlag(),o&&o()}):o&&o()}applyServiceFlag(){let o=window.ThemeHandler;if(o)try{o.requestStopServiceOnExitFlag&&o.requestStopServiceOnExitFlag(this.ui.stopServiceFlag.getBooleanValue())}catch(c){}}downloadAudioFile(o,c){let u=window.ThemeHandler;if(u)try{if(this.ui.autoDownloadAudioFiles.getBooleanValue()&&u.downloadAudioFile)return u.downloadAudioFile(o,c)}catch(h){}return""}getAudioTranslations(){let o=window.ThemeHandler;if(o)try{if(o.getAudioTranslations){let c=o.getAudioTranslations(),u=JSON.parse(c),h=[];for(let d=0;d<u.length;++d)h.push(zF.cloneFrom(u[d]));return h}}catch(c){}return[]}deleteAudioTranslation(o){let c=window.ThemeHandler;if(c)try{c.deleteAudioTranslation&&c.deleteAudioTranslation(o)}catch(u){}return""}setUIReady(){let o=window.UIHandler;if(o)try{o.onUIReady&&o.onUIReady(!0)}catch(c){}}save(o){if(this.readonly)return;const c=o||this.ui.toString(),u=Vc.of(this.key,c),h=g=>{};this.kv.findKey(this.key,g=>{g&&g.success?(u._id=g.item._id,this.kv.updateKey(u,h)):this.kv.insertKey(u,h),this.applyServiceFlag()});let f=()=>{if("books"!=this.config.getApplication().id)return;let g=this.ui.currentBookName.getStringValue(),m=this.ui.currentBookLink.getStringValue();if(!g)return;const _=Vc.of(this.keyBooks,JSON.stringify({link:m,name:g}));this.kv.findKey(this.keyBooks,y=>{y&&y.success&&y.item?(_._id=y.item._id,this.kv.updateKey(_,b=>{})):this.kv.insertKey(_,b=>{})})},p=()=>{if("memorial"!=this.config.getApplication().id)return;let g=this.ui.currentOffset.getNumberValue();g<0&&(g=this.ui.currentPersonOffset.getNumberValue());let m={offset:17,personOffset:g,theme:this.themesService.isAutoTheme()?0:this.themesService.isLight()?1:-1};const v=Vc.of(this.keyKafizma,JSON.stringify(m));this.kv.findKey(this.keyKafizma,_=>{_&&_.success&&_.item?(v._id=_.item._id,this.kv.updateKey(v,y=>{this.config.post(f,1)})):this.kv.insertKey(v,y=>{this.config.post(f,1)})})};switch(this.config.getApplication().id){case"books":f();break;case"memorial":p();break;case"d3examples":case"d3Dexamples":case"about":break;default:throw new Error(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f: ${this.config.getApplication().id}.`)}}static getKafizmNumberBy(o,c){if(c<0)return 0;const u=new Date,h=u.getTime()-6e4*u.getTimezoneOffset(),d=Math.floor(h/1e3),f=Math.floor(d/60),p=Math.floor(f/60);return(Math.floor(p/24)%20+o+c)%20+1}static getOffsetByKafizmNumber(o,c){if(c<=0)return-1;const u=new Date,h=u.getTime()-6e4*u.getTimezoneOffset(),d=Math.floor(h/1e3),f=Math.floor(d/60),p=Math.floor(f/60);let v=(Math.floor(p/24)%20+o+0)%20+1;return c>=v?c-v:c-v+20}}return l.\u0275fac=function(o){return new(o||l)(Fe(Vu),Fe(VF),Fe(kn))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class Xp{constructor(a){this.data=a}static builder(){return new Xp(null)}setData(a){return this.data=a,this}}class Ar{constructor(a,o,c){this.text=a,this.onClick=o,this.tag=c}static builder(){return new Ar("",null,null)}setText(a){return this.text=a,this}setOnClick(a){return this.onClick=a,this}setTag(a){return this.tag=a,this}click(a){this.onClick&&this.onClick(a)}}let YT=(()=>{class l{constructor(o,c){this.config=o,this.uiConfig=c,this.aComponents=[],this.menuLinksOld=null,this.menuLinks=[]}get components(){return this.syncComponents(),this.aComponents}set components(o){this.aComponents=o}isComponentType(o,c){var u;if(this.components.length<=0)return!1;let h=this.components[0].data instanceof o;return h&&null!=c?(null===(u=this.components[0].data.component)||void 0===u?void 0:u.data)instanceof c:h}addMenuLink(o){return this.menuLinks.push(o),this}applyMenuAppRoutes(o=!1){let c=this.uiConfig.setAppRoutes(this.menuLinks);o||(this.menuLinksOld=c)}ngOnInit(){this.config.post(()=>{this.menuLinksOld=this.uiConfig.setAppRoutes(this.menuLinks)},0)}ngOnDestroy(){this.menuLinksOld&&this.config.post(()=>{this.menuLinksOld&&this.menuLinksOld.unsubscribe()},0)}ngAfterViewInit(){this.config.post(()=>{this.menuLinksOld=this.uiConfig.setAppRoutes(this.menuLinks)},0)}syncComponents(){}}return l.\u0275fac=function(o){return new(o||l)(N(kn),N($i))},l.\u0275cmp=nt({type:l,selectors:[["ng-component"]],decls:0,vars:0,template:function(o,c){},encapsulation:2}),l})();var ot=(()=>(function(l){l.NZ_KZ="NZ_KZ",l.NZ_KI="NZ_KI",l.NZ_KU="NZ_KU",l.NZ_KP="NZ_KP",l.VZ_KZ="VZ_KZ",l.VZ_KI="VZ_KI",l.VZ_KU="VZ_KU",l.VZ_KP="VZ_KP",l.SL_OV="SL_OV",l.SL_BL="SL_BL",l.SL_LG="SL_LG",l.SL_TF="SL_TF"}(ot||(ot={})),ot))();class HF{static builder(){return new HF}build(a,o,c,u,h,d,f,p){let g=WF.builder(),v=_=>{g.switchState(_,o,p,()=>{g.hideOrShowMainMenu(_,o,p,()=>{_.complementedByMenuName&&g.hideOrShowStateByType(_.complementedByMenuName,_.on,null,o,p,[_.complementedByMenuName]);let y=c();y&&y(_)})})};return new Y5e(g,o,a,u,h,d,f,Math.PI,p).add(rt.builder().setText("\u041d\u043e\u0432\u044b\u0439 \u0417\u0430\u0432\u0435\u0442").setSize(Math.PI).setOnClick(v)).add(rt.builder().setText("\u0412\u0435\u0442\u0445\u0438\u0439 \u0417\u0430\u0432\u0435\u0442").setOnClick(v).setTypeName(Rr.DOWN)).newLine().add(rt.builder().setText("\u041a\u043d\u0438\u0433\u0438 \u0437\u0430\u043a\u043e\u043d\u043e\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435").setSize(Math.PI).setComplementedByTypeName(ot.NZ_KZ).setOnClick(v)).add(rt.builder().setText("\u041a\u043d\u0438\u0433\u0438 \u0437\u0430\u043a\u043e\u043d\u043e\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435").setComplementedByTypeName(ot.VZ_KZ).setOnClick(v).setTypeName(Rr.DOWN)).newLine().add(rt.builder().setText("\u041a\u043d\u0438\u0433\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0430\u044f").setSize(Math.PI).setComplementedByTypeName(ot.NZ_KI).setOnClick(v)).add(rt.builder().setText("\u041a\u043d\u0438\u0433\u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0435").setComplementedByTypeName(ot.VZ_KI).setOnClick(v).setTypeName(Rr.DOWN)).newLine().add(rt.builder().setText("\u041a\u043d\u0438\u0433\u0438 \u0443\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435").setSize(Math.PI/2).setComplementedByTypeName(ot.NZ_KU).setOnClick(v)).add(rt.builder().setText("\u041a\u043d\u0438\u0433\u0430 \u043f\u0440\u043e\u0440\u043e\u0447\u0435\u0441\u043a\u0430\u044f").setComplementedByTypeName(ot.NZ_KP).setSize(Math.PI/2).setOnClick(v)).add(rt.builder().setText("\u041a\u043d\u0438\u0433\u0438 \u043f\u0440\u043e\u0440\u043e\u0447\u0435\u0441\u043a\u0438\u0435").setSize(Math.PI/2).setComplementedByTypeName(ot.VZ_KP).setOnClick(v).setTypeName(Rr.DOWN)).add(rt.builder().setText("\u041a\u043d\u0438\u0433\u0438 \u0443\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435").setComplementedByTypeName(ot.VZ_KU).setOnClick(v).setTypeName(Rr.DOWN)).newLine().setAlpha0(Math.PI/6*4).add(rt.builder().setText("   \u041e \u0432\u0435\u0440\u0435   ").setComplementedByTypeName(ot.SL_OV).setTypeName(Rr.AROUND).setSize(Math.PI/6*2).setOnClick(v)).add(rt.builder().setText("\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0430\u044f \u0431\u043e\u0433\u043e\u0441\u043b\u0443\u0436\u0435\u0431\u043d\u0430\u044f \u043b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430").setTypeName(Rr.AROUND).setSize(Math.PI/6*4).setDelayIndex(3).setComplementedByTypeName(ot.SL_BL).setOnClick(v)).add(rt.builder().setText("   \u042f\u0437\u044b\u043a   ").setTypeName(Rr.AROUND).setSize(Math.PI/6*2).setDelayIndex(1).setOnClick(v)).add(rt.builder().setText("\u0422\u043e\u043b\u043a\u043e\u0432\u0430\u043d\u0438\u044f \u0424\u0435\u043e\u0444\u0438\u043b\u0430\u043a\u0442\u0430 \u0411\u043e\u043b\u0433\u0430\u0440\u0441\u043a\u043e\u0433\u043e").setTypeName(Rr.AROUND).setDelayIndex(2).setComplementedByTypeName(ot.SL_TF).setOnClick(v)).newLine(!0,!0).setAlpha0(0).newLine().add(rt.builder().setText("\u0415\u0432\u0430\u043d\u0433\u0435\u043b\u0438\u0435").setSize(Math.PI).setForceOn(!0).setOnClick(v).setTypeName(ot.NZ_KZ)).newLine().add(rt.builder().setText("\u043e\u0442 \u041c\u0430\u0440\u043a\u0430").setSize(Math.PI/2).setOnClick(v).setTypeName(ot.NZ_KZ)).add(rt.builder().setText("\u043e\u0442 \u041c\u0430\u0442\u0444\u0435\u044f").setSize(Math.PI/2).setOnClick(v).setTypeName(ot.NZ_KZ)).newLine().add(rt.builder().setText("\u043e\u0442 \u0418\u043e\u0430\u043d\u043d\u0430").setSize(Math.PI/2).setOnClick(v).setTypeName(ot.NZ_KZ)).add(rt.builder().setText("\u043e\u0442 \u041b\u0443\u043a\u0438").setSize(Math.PI/2).setOnClick(v).setTypeName(ot.NZ_KZ)).newLine(!0,!0).newLine().newLine().setAlpha0(0).add(rt.builder().setText("\u0414\u0435\u044f\u043d\u0438\u044f \u0430\u043f\u043e\u0441\u0442\u043e\u043b\u043e\u0432").setSize(Math.PI).setOnClick(v).setTypeName(ot.NZ_KI)).newLine(!0,!0).setAlpha0(0).setRadialSize(Math.PI).newLine().add(rt.builder().setText("\u0421\u043e\u0431\u043e\u0440\u043d\u044b\u0435 \u043f\u043e\u0441\u043b\u0430\u043d\u0438\u044f").setSize(Math.PI).setForceOn(!0).setOnClick(v).setTypeName(ot.NZ_KU)).newLine().add(rt.builder().setText("2 \u041f\u0435\u0442\u0440\u0430").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("1 \u041f\u0435\u0442\u0440\u0430").setSize(Math.PI/2).setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("\u0418\u0430\u043a\u043e\u0432\u0430").setOnClick(v).setTypeName(ot.NZ_KU)).newLine().add(rt.builder().setText("\u0418\u0443\u0434\u044b").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("3 \u0418\u043e\u0430\u043d\u043d\u0430").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("2 \u0418\u043e\u0430\u043d\u043d\u0430").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("1 \u0418\u043e\u0430\u043d\u043d\u0430").setOnClick(v).setTypeName(ot.NZ_KU)).newLine().setRadialSize(2*Math.PI).setAlpha0(2*Math.PI-Math.PI/4).add(rt.builder().setText("\u041f\u043e\u0441\u043b\u0430\u043d\u0438\u044f \u0430\u043f\u043e\u0441\u0442\u043e\u043b\u0430 \u041f\u0430\u0432\u043b\u0430").setSize(Math.PI/4*2).setForceOn(!0).setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("\u0440\u0438\u043c\u043b\u044f\u043d\u0430\u043c").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("1 \u043a\u043e\u0440\u0438\u043d\u0444\u044f\u043d\u0430\u043c").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("2 \u043a\u043e\u0440\u0438\u043d\u0444\u044f\u043d\u0430\u043c").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("\u0433\u0430\u043b\u0430\u0442\u0430\u043c").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("\u0435\u0444\u0435\u0441\u044f\u043d\u0430\u043c").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("\u0444\u0438\u043b\u0438\u043f\u0438\u0439\u0446\u0430\u043c").setOnClick(v).setTypeName(ot.NZ_KU)).newLine().setAlpha0(Math.PI/4*5).add(rt.builder().setText("\u043a\u043e\u043b\u043e\u0441\u0441\u044f\u043d\u0430\u043c").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("1 \u0444\u0435\u0441\u0441\u043e\u043b\u043e\u043d\u0438\u043a\u0438\u0439\u0446\u0430\u043c").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("2 \u0444\u0435\u0441\u0441\u043e\u043b\u043e\u043d\u0438\u043a\u0438\u0439\u0446\u0430\u043c").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("1 \u0422\u0438\u043c\u043e\u0444\u0435\u044e").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("2 \u0422\u0438\u043c\u043e\u0444\u0435\u044e").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("\u0422\u0438\u0442\u0443").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("\u0424\u0438\u043b\u0438\u043c\u043e\u043d\u0443").setOnClick(v).setTypeName(ot.NZ_KU)).add(rt.builder().setText("\u0435\u0432\u0440\u0435\u044f\u043c").setOnClick(v).setTypeName(ot.NZ_KU)).newLine(!0,!0).setAlpha0(0).setRadialSize(Math.PI).newLine().newLine().newLine().add(rt.builder().setText("\u041e\u0442\u043a\u0440\u043e\u0432\u0435\u043d\u0438\u0435 \u0418\u043e\u0430\u043d\u043d\u0430 \u0411\u043e\u0433\u043e\u0441\u043b\u043e\u0432\u0430").setOnClick(v).setTypeName(ot.NZ_KP)).newLine(!0,!0).setAlpha0(Math.PI).setRadialSize(Math.PI).newLine().add(rt.builder().setText("\u041a\u043d\u0438\u0433\u0430 \u0411\u044b\u0442\u0438\u044f").setOnClick(v).setTypeName(ot.VZ_KZ)).newLine().add(rt.builder().setText("\u0418\u0441\u0445\u043e\u0434").setOnClick(v).setTypeName(ot.VZ_KZ)).add(rt.builder().setText("\u041b\u0435\u0432\u0438\u0442").setOnClick(v).setTypeName(ot.VZ_KZ)).newLine().add(rt.builder().setText("\u0427\u0438\u0441\u043b\u0430").setOnClick(v).setTypeName(ot.VZ_KZ)).add(rt.builder().setText("\u0412\u0442\u043e\u0440\u043e\u0437\u0430\u043a\u043e\u043d\u0438\u0435").setOnClick(v).setTypeName(ot.VZ_KZ)).newLine(!0,!0).setAlpha0(Math.PI).setRadialSize(Math.PI).add(rt.builder().setText("\u0418\u0438\u0441\u0443\u0441\u0430 \u041d\u0430\u0432\u0438\u043d\u0430").setOnClick(v).setTypeName(ot.VZ_KI)).newLine().add(rt.builder().setText("\u0421\u0443\u0434\u0435\u0439 \u0418\u0437\u0440\u0430\u0438\u043b\u0435\u0432\u044b\u0445").setOnClick(v).setTypeName(ot.VZ_KI)).add(rt.builder().setText("\u0420\u0443\u0444\u0438").setOnClick(v).setTypeName(ot.VZ_KI)).newLine().add(rt.builder().setText("1 \u0426\u0430\u0440\u0441\u0442\u0432").setOnClick(v).setTypeName(ot.VZ_KI)).add(rt.builder().setText("2 \u0426\u0430\u0440\u0441\u0442\u0432").setOnClick(v).setTypeName(ot.VZ_KI)).add(rt.builder().setText("3 \u0426\u0430\u0440\u0441\u0442\u0432").setOnClick(v).setTypeName(ot.VZ_KI)).add(rt.builder().setText("4 \u0426\u0430\u0440\u0441\u0442\u0432").setOnClick(v).setTypeName(ot.VZ_KI)).newLine().add(rt.builder().setText("1 \u041f\u0430\u0440\u0430\u043b\u0438\u043f\u043e\u043c\u0435\u043d\u043e\u043d").setOnClick(v).setTypeName(ot.VZ_KI)).add(rt.builder().setText("2 \u041f\u0430\u0440\u0430\u043b\u0438\u043f\u043e\u043c\u0435\u043d\u043e\u043d").setOnClick(v).setTypeName(ot.VZ_KI)).add(rt.builder().setText("1 \u0415\u0437\u0434\u0440\u044b").setOnClick(v).setTypeName(ot.VZ_KI)).add(rt.builder().setText("\u041d\u0435\u0435\u043c\u0438\u0438").setOnClick(v).setTypeName(ot.VZ_KI)).newLine().setRadialSize(Math.PI).add(rt.builder().setText("2 \u0415\u0437\u0434\u0440\u044b").setOnClick(v).setTypeName(ot.VZ_KI)).add(rt.builder().setText("\u0422\u043e\u0432\u0438\u0442\u0430").setOnClick(v).setTypeName(ot.VZ_KI)).add(rt.builder().setText("\u0418\u0443\u0434\u0438\u0444\u0438").setOnClick(v).setTypeName(ot.VZ_KI)).add(rt.builder().setText("\u0415\u0441\u0444\u0438\u0440\u0438").setOnClick(v).setTypeName(ot.VZ_KI)).newLine(!0,!1,!1).setRadialSize(Math.PI).setAlpha0(0).add(rt.builder().setText("1 \u041c\u0430\u043a\u043a\u0430\u0432\u0435\u0439\u0441\u043a\u0430\u044f").setOnClick(v).setTypeName(ot.VZ_KI)).add(rt.builder().setText("2 \u041c\u0430\u043a\u043a\u0430\u0432\u0435\u0439\u0441\u043a\u0430\u044f").setOnClick(v).setTypeName(ot.VZ_KI)).add(rt.builder().setText("3 \u041c\u0430\u043a\u043a\u0430\u0432\u0435\u0439\u0441\u043a\u0430\u044f").setOnClick(v).setTypeName(ot.VZ_KI)).newLine(!0,!0).setAlpha0(Math.PI).setRadialSize(Math.PI).add(rt.builder().setText(" \u0418\u043e\u0432\u0430 ").setOnClick(v).setTypeName(ot.VZ_KU)).newLine().setAlpha0(Math.PI).setRadialSize(Math.PI).add(rt.builder().setText("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c").setOnClick(v).setTypeName(ot.VZ_KU)).add(rt.builder().setText("\u041f\u0440\u0438\u0442\u0447\u0435\u0439 \u0421\u043e\u043b\u043e\u043c\u043e\u043d\u043e\u0432\u044b\u0445").setOnClick(v).setTypeName(ot.VZ_KU)).newLine().add(rt.builder().setText("\u042d\u043a\u043a\u043b\u0435\u0437\u0438\u0430\u0441\u0442").setOnClick(v).setTypeName(ot.VZ_KU)).add(rt.builder().setText("\u041f\u0435\u0441\u043d\u044c \u041f\u0435\u0441\u043d\u0435\u0439 \u0421\u043e\u043b\u043e\u043c\u043e\u043d\u043e\u0432\u044b\u0445").setOnClick(v).setTypeName(ot.VZ_KU)).newLine().add(rt.builder().setText("\u041f\u0440\u0435\u043c\u0443\u0434\u0440\u043e\u0441\u0442\u0438 \u0421\u043e\u043b\u043e\u043c\u043e\u043d\u0430").setOnClick(v).setTypeName(ot.VZ_KU)).add(rt.builder().setText("\u041f\u0440\u0435\u043c\u0443\u0434\u0440\u043e\u0441\u0442\u0438 \u0418\u0438\u0441\u0443\u0441\u0430").setOnClick(v).setTypeName(ot.VZ_KU)).newLine(!0,!0).setRadialSize(Math.PI).add(rt.builder().setText(" \u0418\u0441\u0430\u0438\u0438 ").setOnClick(v).setTypeName(ot.VZ_KP)).add(rt.builder().setText("\u0418\u0435\u0440\u0435\u043c\u0438\u0438").setOnClick(v).setTypeName(ot.VZ_KP)).newLine().add(rt.builder().setText("\u041f\u043b\u0430\u0447 \u0418\u0435\u0440\u0435\u043c\u0438\u0438").setOnClick(v).setTypeName(ot.VZ_KP)).add(rt.builder().setText("\u041f\u043e\u0441\u043b\u0430\u043d\u0438\u0435 \u0418\u0435\u0440\u0435\u043c\u0438\u0438").setOnClick(v).setTypeName(ot.VZ_KP)).newLine().add(rt.builder().setText("\u0412\u0430\u0440\u0443\u0445\u0430").setOnClick(v).setTypeName(ot.VZ_KP)).add(rt.builder().setText("\u0418\u0435\u0437\u0435\u043a\u0438\u043b\u044f").setOnClick(v).setTypeName(ot.VZ_KP)).add(rt.builder().setText("\u0414\u0430\u043d\u0438\u0438\u043b\u0430").setOnClick(v).setTypeName(ot.VZ_KP)).add(rt.builder().setText("\u041e\u0441\u0438\u0438").setOnClick(v).setTypeName(ot.VZ_KP)).newLine().add(rt.builder().setText("\u0418\u043e\u0438\u043b\u044f").setOnClick(v).setTypeName(ot.VZ_KP)).add(rt.builder().setText("\u0410\u043c\u043e\u0441\u0430").setOnClick(v).setTypeName(ot.VZ_KP)).add(rt.builder().setText("\u0410\u0432\u0434\u0438\u044f").setOnClick(v).setTypeName(ot.VZ_KP)).add(rt.builder().setText("\u0418\u043e\u043d\u044b").setOnClick(v).setTypeName(ot.VZ_KP)).newLine().setRadialSize(2*Math.PI).add(rt.builder().setText("\u041c\u0438\u0445\u0435\u044f").setOnClick(v).setTypeName(ot.VZ_KP)).add(rt.builder().setText("\u041d\u0430\u0443\u043c\u0430").setOnClick(v).setTypeName(ot.VZ_KP)).add(rt.builder().setText("\u0410\u0432\u0432\u0430\u043a\u0443\u043c\u0430").setOnClick(v).setTypeName(ot.VZ_KP)).add(rt.builder().setText("\u0421\u043e\u0444\u043e\u043d\u0438\u0438").setOnClick(v).setTypeName(ot.VZ_KP)).add(rt.builder().setText("\u0410\u0433\u0433\u0435\u044f").setOnClick(v).setTypeName(ot.VZ_KP)).add(rt.builder().setText("\u0417\u0430\u0445\u0430\u0440\u0438\u0438").setOnClick(v).setTypeName(ot.VZ_KP)).add(rt.builder().setText("\u041c\u0430\u043b\u0430\u0445\u0438\u0438").setOnClick(v).setTypeName(ot.VZ_KP)).add(rt.builder().setText("3 \u0415\u0437\u0434\u0440\u044b").setOnClick(v).setTypeName(ot.VZ_KP)).newLine(!0,!0).setRadialSize(Math.PI).newLine().newLine().setRadialSize(2*Math.PI).add(rt.builder().setText("\u041e\u0431\u044a\u044f\u0441\u043d\u0435\u043d\u0438\u0435 \u0421\u0438\u043c\u0432\u043e\u043b\u0430 \u0432\u0435\u0440\u044b").setOnClick(v).setTypeName(ot.SL_OV)).add(rt.builder().setText("\u0422\u043e\u0447\u043d\u043e\u0435 \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u043e\u0441\u043b\u0430\u0432\u043d\u043e\u0439 \u0432\u0435\u0440\u044b").setOnClick(v).setTypeName(ot.SL_OV)).newLine().add(rt.builder().setText("\u041f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u043d\u044b\u0439 \u0425\u0440\u0438\u0441\u0442\u0438\u0430\u043d\u0441\u043a\u0438\u0439 \u041a\u0430\u0442\u0435\u0445\u0438\u0437\u0438\u0441").setOnClick(v).setTypeName(ot.SL_OV)).add(rt.builder().setText("\u041a\u0430\u0442\u0435\u0445\u0438\u0437\u0438\u0441 \u0412\u043e\u0441\u0442\u043e\u0447\u043d\u043e\u0439 \u043f\u0440\u0430\u0432\u043e\u0441\u043b\u0430\u0432\u043d\u043e\u0439 \u0426\u0435\u0440\u043a\u0432\u0438").setOnClick(v).setTypeName(ot.SL_OV)).newLine().newLine(!0,!0).setRadialSize(2*Math.PI).add(rt.builder().setText("\u041c\u043e\u043b\u0438\u0442\u0432\u043e\u0441\u043b\u043e\u0432").setOnClick(v).setSize(Math.PI).setTypeName(ot.SL_BL)).add(rt.builder().setText("\u0427\u0430\u0441\u043e\u0441\u043b\u043e\u0432").setOnClick(v).setSize(Math.PI).setTypeName(ot.SL_BL)).newLine().setAlpha0(Math.PI).setRadialSize(2*Math.PI).add(rt.builder().setText("\u0411\u043e\u0433\u043e\u0441\u043b\u0443\u0436\u0435\u0431\u043d\u044b\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f").setOnClick(v).setTypeName(ot.SL_BL)).add(rt.builder().setText("\u041c\u0435\u0441\u044f\u0446\u0435\u0441\u043b\u043e\u0432").setOnClick(v).setTypeName(ot.SL_BL)).newLine().add(rt.builder().setText("\u0422\u0440\u043e\u043f\u0430\u0440\u0438, \u043a\u043e\u043d\u0434\u0430\u043a\u0438 \u0438 \u0432\u0435\u043b\u0438\u0447\u0430\u043d\u0438\u044f \u043e\u0431\u0449\u0438\u0435").setOnClick(v).setTypeName(ot.SL_BL)).add(rt.builder().setText("\u0422\u0440\u043e\u043f\u0430\u0440\u0438 \u0438 \u043a\u043e\u043d\u0434\u0430\u043a\u0438 \u0434\u043d\u0435\u0432\u043d\u044b\u0435").setOnClick(v).setTypeName(ot.SL_BL)).newLine().add(rt.builder().setText("\u0422\u0440\u043e\u043f\u0430\u0440\u0438 \u0438 \u043a\u043e\u043d\u0434\u0430\u043a\u0438 \u0432\u043e\u0441\u043a\u0440\u0435\u0441\u043d\u044b\u0435").setOnClick(v).setTypeName(ot.SL_BL)).add(rt.builder().setText("\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0414\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435").setOnClick(v).setTypeName(ot.SL_BL)).newLine().newLine().setAlpha0(0).setRadialSize(Math.PI).add(rt.builder().setText("\u0412\u0441\u0435\u043d\u043e\u0449\u043d\u043e\u0435 \u0431\u0434\u0435\u043d\u0438\u0435 \u0438 \u041b\u0438\u0442\u0443\u0440\u0433\u0438\u044f").setOnClick(v).setTypeName(ot.SL_BL)).newLine(!0,!0).setRadialSize(2*Math.PI).setAlpha0(Math.PI).add(rt.builder().setText("\u0415\u0432\u0430\u043d\u0433\u0435\u043b\u0438\u0435").setSize(Math.PI).setForceOn(!0).setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("\u0422\u043e\u043b\u043a\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0430").setSize(Math.PI).setForceOn(!0).setOnClick(v).setTypeName(ot.SL_TF)).newLine().add(rt.builder().setText("\u043e\u0442 \u041c\u0430\u0442\u0444\u0435\u044f").setSize(Math.PI/2).setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("\u043e\u0442 \u041c\u0430\u0440\u043a\u0430").setSize(Math.PI/2).setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("\u0421\u043e\u0431\u043e\u0440\u043d\u044b\u0435 \u043f\u043e\u0441\u043b\u0430\u043d\u0438\u044f").setSize(Math.PI).setForceOn(!0).setOnClick(v).setTypeName(ot.SL_TF)).newLine().add(rt.builder().setText("\u043e\u0442 \u041b\u0443\u043a\u0438").setSize(Math.PI/2).setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("\u043e\u0442 \u0418\u043e\u0430\u043d\u043d\u0430").setSize(Math.PI/2).setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("2 \u041f\u0435\u0442\u0440\u0430").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("1 \u041f\u0435\u0442\u0440\u0430").setSize(Math.PI/2).setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("\u0418\u0430\u043a\u043e\u0432\u0430").setOnClick(v).setTypeName(ot.SL_TF)).newLine().add(rt.builder().setText("\u0414\u0435\u044f\u043d\u0438\u044f \u0430\u043f\u043e\u0441\u0442\u043e\u043b\u043e\u0432").setSize(Math.PI).setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("\u0418\u0443\u0434\u044b").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("3 \u0418\u043e\u0430\u043d\u043d\u0430").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("2 \u0418\u043e\u0430\u043d\u043d\u0430").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("1 \u0418\u043e\u0430\u043d\u043d\u0430").setOnClick(v).setTypeName(ot.SL_TF)).newLine().newLine().setRadialSize(2*Math.PI).setAlpha0(2*Math.PI-Math.PI/4).add(rt.builder().setText("\u041f\u043e\u0441\u043b\u0430\u043d\u0438\u044f \u0430\u043f\u043e\u0441\u0442\u043e\u043b\u0430 \u041f\u0430\u0432\u043b\u0430").setSize(Math.PI/4*2).setForceOn(!0).setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("\u0440\u0438\u043c\u043b\u044f\u043d\u0430\u043c").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("1 \u043a\u043e\u0440\u0438\u043d\u0444\u044f\u043d\u0430\u043c").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("2 \u043a\u043e\u0440\u0438\u043d\u0444\u044f\u043d\u0430\u043c").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("\u0433\u0430\u043b\u0430\u0442\u0430\u043c").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("\u0435\u0444\u0435\u0441\u044f\u043d\u0430\u043c").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("\u0444\u0438\u043b\u0438\u043f\u0438\u0439\u0446\u0430\u043c").setOnClick(v).setTypeName(ot.SL_TF)).newLine().setAlpha0(Math.PI/4*5).add(rt.builder().setText("\u043a\u043e\u043b\u043e\u0441\u0441\u044f\u043d\u0430\u043c").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("1 \u0444\u0435\u0441\u0441\u043e\u043b\u043e\u043d\u0438\u043a\u0438\u0439\u0446\u0430\u043c").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("2 \u0444\u0435\u0441\u0441\u043e\u043b\u043e\u043d\u0438\u043a\u0438\u0439\u0446\u0430\u043c").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("1 \u0422\u0438\u043c\u043e\u0444\u0435\u044e").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("2 \u0422\u0438\u043c\u043e\u0444\u0435\u044e").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("\u0422\u0438\u0442\u0443").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("\u0424\u0438\u043b\u0438\u043c\u043e\u043d\u0443").setOnClick(v).setTypeName(ot.SL_TF)).add(rt.builder().setText("\u0435\u0432\u0440\u0435\u044f\u043c").setOnClick(v).setTypeName(ot.SL_TF)).newLine(),g}}var zc=(()=>(function(l){l[l.Default=0]="Default",l[l.Dark=1]="Dark",l[l.Light=2]="Light",l[l.Dark2=3]="Dark2",l[l.Light2=4]="Light2"}(zc||(zc={})),zc))();class GF{constructor(a,o=[]){this.back=a,this.texts=o,this.currentOn=!1,this.on=!1,this.forceOn=!1,this.complementedByMenuName="",this.text="",this.typeName=""}static builder(){return new GF(null)}setTypeName(a){return this.typeName=a,this}isToggledOn(){return this.on&&!this.forceOn}setBack(a){return this.back=a,this}addText(a){return this.text+=a.text,this.texts.push(a),this}setTexts(a){return this.texts=a,this}setOn(a){return this.on=a,this}setForceOn(a){return this.forceOn=a,this}setComplementedByMenuName(a){return this.complementedByMenuName=a,this}isVisible(){var a;return!!(null===(a=this.back)||void 0===a?void 0:a.visible)}setVisible(a,o,c=null){this.back.emulateCollapseTransitions().setVisible(a),this.back.apply(0,o,null,c),this.texts.forEach(u=>{u.emulateCollapseTransitions().setVisible(a),u.apply(0,o)})}setAndSwitchState(a,o,c,u=null,h="",d=""){this.on=a||this.forceOn,(a||this.back.visible)&&(this.back.emulateCollapseTransitions().setFillColor(a?h||o.colorMain:d||"#00000000"),this.back.setStrokeColor(a?h||o.colorMain:d||o.colorMain),this.back.apply(0,c,null,u),this.texts.forEach(f=>{f.emulateCollapseTransitions().setColor(a?h||o.colorBackground:d||o.colorMain).apply(0,c)}))}}var Rr=(()=>(function(l){l.UP="UP",l.DOWN="DOWN",l.AROUND="AROUND"}(Rr||(Rr={})),Rr))();class WF{constructor(){this.menuName="",this.alternative=new Map}static builder(){return new WF}getAlternative(a){let o=this.alternative.get(a);return null==o&&(o=[],this.alternative.set(a,o)),o}isPrimaryType(a){return a==Rr.UP||a==Rr.DOWN||a==Rr.AROUND}get up(){return this.getAlternative(Rr.UP)}get down(){return this.getAlternative(Rr.DOWN)}get around(){return this.getAlternative(Rr.AROUND)}findType(a){let o="";return null!=a&&this.alternative.forEach((c,u)=>{c.indexOf(a)>=0&&(o=u)}),o||this.menuName}switchState(a,o,c,u=null){if(a&&a.on&&a.forceOn)return;let h=this.findType(a),d=p=>{p.complementedByMenuName&&this.hideOrShowStateByType(p.complementedByMenuName,p.on,null,o,c,[p.complementedByMenuName])};a&&(a.on=a.forceOn?a.forceOn:!a.on,this.getAlternative(h).forEach(p=>{let g=!0;p!=a&&(g=p.on,p.on=p.forceOn),g&&d(p)}),this.isPrimaryType(h)||a.on?this.hideOrShowStateByType(h,!1,a,o,c,[h]):this.hideOrShowStateByType(h,!1,null,o,c,[h])),this.alternative.forEach((p,g)=>{((p,g)=>{p.forEach(m=>{if(m!=a||null==a){let v=m.on;m.on=m.forceOn,v&&m.complementedByMenuName&&d(m)}})})(p)}),a&&(this.menuName=h),u&&u()}hideOrShowMainMenu(a,o,c,u=null){let h=this.findType(a);return h&&!this.isPrimaryType(h)&&(this.getAlternative(h).filter(g=>g.isToggledOn()).length>0||this.hideOrShowStateByType(h,!1,null,o,c,[h])),this.hideOrShowStateByType(h,!((!a||a.on)&&a),a,o,c,[Rr.UP,Rr.DOWN,Rr.AROUND],u)}hideOrShowStateByType(a,o,c,u,h,d=[],f=null){let p=!1,g=()=>p?null:(p=!0,f);d.forEach(v=>{((v,_)=>{let y=v.filter(b=>b.isToggledOn()).length>0;v.forEach(b=>{y||_||o?b.setVisible(!0,0,()=>{b.setAndSwitchState(b.on,u,h,b==c?g():null)}):b.setAndSwitchState(!1,u,h,b==c?g():()=>{b.setVisible(!1,0,g())},"#00000000","#00000000")})})(this.getAlternative(v),o&&a==v)}),!p&&f&&(p=!0,f())}addAlt(a,o){return this.getAlternative(a).push(o),this}addUp(a){return this.up.push(a),this}addDown(a){return this.down.push(a),this}addAround(a){return this.around.push(a),this}addText(a,o,c,u,h,d,f,p,g,m,v,_,y,b,C=null,x,w=!0){let S=V=>null!=C?C:V>=0&&V<=Math.PI,M=GF.builder().setTypeName(u),T=h,E=m-g,k=(m+g)/2,R=!0,D=o.textSizeDirect("_"+c+"_",p,300),P=(h+d)/2+(f+p/2)*(S(k)?1:-1),F=Math.abs(E)*P,L=p;D.width>F&&(L=Math.ceil(F/D.width*L));let $=a.width/512*15/P;$*=E<0?-1:1;for(let V=0;V<=c.length;V++){T=h;let B=c.substring(V,V+1),j=(V+0)/(c.length-1)*(E-2*$)+g+$,W=S(j);R=W;let Z=Kn.builder().setText(B).setTextAnchor("middle").setFontSize(`${L}px`).translate(a.width/2,a.height/2).translate(T*Math.cos(j),-T*Math.sin(j)).rotate(90-j/Math.PI*180+(W?0:-180)).setColor("#00000000").addClass("cursor").setVisible(w).addEvent(yi.builder().setName("click").setFunc(()=>{x&&x(M)}));T=d+f*(W?1:-1),Z.addTransition(OT.builder().setData(Z.clone().setColor(a.colorMain).setTransforms([]).setVisible(w).translate(a.width/2,a.height/2).translate(T*Math.cos(j),-T*Math.sin(j)).rotate(90-j/Math.PI*180+(W?0:-180))).setDelay(v).setDuration(_)),a.texts.push(Z),M.addText(Z)}T=h;let Y=T+(R?y:-y);return a.pathes.push((B=v,G=_,(V=Xr.builder().setDatum([]).setD(eF().innerRadius(Math.min(T,Y)).outerRadius(Math.max(T,Y)).startAngle(-Math.min(g,m)+Math.PI/2).endAngle(-Math.max(g,m)+Math.PI/2)).setStrokeWidth(a.lineWidth).setStrokeColor("#00000000").setFillColor("#00000000").setVisible(w).translate(a.width/2,a.height/2).addClass("cursor").addEvent(yi.builder().setName("click").setFunc(()=>{x&&x(M)}))).addTransition(OT.builder().setDelay(B).setDuration(G).setData(V.clone().setStrokeColor(a.colorMain).setVisible(w))),M.setBack(V),V)),M;var V,B,G}}class rt{constructor(a,o,c,u,h,d,f,p){this.text=a,this.size=o,this.alpha0=c,this.typeName=u,this.complementedByTypeName=h,this.delayIndex=d,this.forceOn=f,this.onClick=p}static builder(){return new rt("",0,0,Rr.UP,"",0,!1,null)}setText(a){return this.text=a,this}setSize(a){return this.size=a,this}setAlpha0(a){return this.alpha0=a,this}setTypeName(a){return this.typeName=a,this}setComplementedByTypeName(a){return this.complementedByTypeName=a,this}setDelayIndex(a){return this.delayIndex=a,this}setForceOn(a){return this.forceOn=a,this}setOnClick(a){return this.onClick=a,this}}class Y5e{constructor(a,o,c,u,h,d,f,p,g){this.menu=a,this.d3Config=o,this.d3Svc=c,this.r=u,this.dr=h,this.textDr=d,this.textHeight=f,this.alpha0=p,this.delta=g,this.items=[],this.lineIndex=0,this.currentR=0,this.radialSize=2*Math.PI,this.currentR=this.r}newLine(a=!0,o=!1,c=!0){return a&&this.addLine(c),this.items=[],o&&(this.currentR=this.r),this}setAlpha0(a){return this.alpha0=a,this}setRadialSize(a){return this.radialSize=a,this}add(a){return this.items.push(a),this}addLine(a=!0){let o=this.radialSize;o-=this.items.filter(d=>d.size>0).map(d=>d.size).reduce((d,f)=>d+f,0);let u=o/this.items.filter(d=>d.size<=0).length,h=this.alpha0;return this.items.forEach(d=>{let f=d.size>0?d.size:u,p=h,g=p-f,m=Math.PI/180,v=Math.PI+m>=p&&g>=-m,_=v?this.currentR:this.currentR+this.dr;if(!v&&p>g){let C=p;p=g,g=C}let y=d.typeName==Rr.UP||d.typeName==Rr.DOWN||d.typeName==Rr.AROUND,b=this.menu.addText(this.d3Config,this.d3Svc,d.text,d.typeName,_,_,this.textDr,this.textHeight,p,g,(y?1:0)*(this.lineIndex+d.delayIndex)*this.delta,2*this.delta,this.dr,this.d3Config.lineWidth,v,d.onClick,y).setComplementedByMenuName(d.complementedByTypeName).setForceOn(d.forceOn);this.menu.addAlt(d.typeName,b),h-=f}),a&&(this.currentR+=this.dr),++this.lineIndex,this}}class jF{constructor(a=null){this.onSelect=a}static builder(){return new jF}}class $F extends Ar{constructor(a,o,c,u){super(a,o,c),this.menuState=u}static builder(){return new $F("",null,null,jF.builder())}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}setOnSelect(a=null){return this.menuState.onSelect=a,this}}class Z5e{constructor(a=zc.Default,o="\u0411\u0438\u0431\u043b\u0438\u044f",c=512,u=512,h=null,d=HF.builder()){this.theme=a,this.name=o,this.width=c,this.height=u,this.data=h,this.menuBuilder=d}clear(){return this}regenerate(){return this}getWidth(){return this.width}getHeight(){return this.height}updateThemeConfig(a){switch(this.theme){case zc.Dark:a.colorBackground="#0e161b",a.colorMain="white";break;case zc.Light:a.colorBackground="#00364D",a.colorMain="white";break;case zc.Dark2:a.colorBackground="white",a.colorMain="#0e161b";break;case zc.Light2:a.colorBackground="white",a.colorMain="#00364D"}}getFontHeight(a){return Math.ceil(a.width/23)}generate(a,o,c){o.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b=!0,this.updateThemeConfig(o),o.rects=[a.createBackground(o)];let h=this.name,d=this.getFontHeight(o),f=Math.ceil(d/10*3),p=a.textSizeDirect(h.substring(0,1),d,300),g=p.height;o.circles=[];let v=50-(null==p?void 0:p.height);o.rects.push(...a.createCross(o,!1,o.width/2-v/2,o.height/2-v-(null==p?void 0:p.height)/2,v,v));let C=()=>{w.switchState(null,o,x),w.hideOrShowMainMenu(null,o,x,null),this.data&&this.data.menuState&&this.data.menuState.onSelect&&this.data.menuState.onSelect(null)};o.texts.push(Kn.builder().setText(h).setTextAnchor("middle").setFontSize(`${d}px`).translate(o.width/2,o.height/2+p.height/4).rotate(0).setColor(o.colorMain).addClass("cursor").addEvent(yi.builder().setName("click").setFunc(C))),o.circles.push(tf.builder().translate(o.width/2,o.height/2).setR(50).setFillColor("#00000000").setStrokeColor(o.colorMain).addClass("cursor").addEvent(yi.builder().setName("click").setFunc(C)));let x=400,w=this.menuBuilder.build(a,o,()=>this.data&&this.data.menuState&&this.data.menuState.onSelect?this.data.menuState.onSelect:null,50,g,f,d,x);var S=Kn.builder().setText(this.name).setTextAnchor("middle").setFontSize(`${d}px`).translate(o.width/2,50).rotate(0).setColor("none");return o.texts.push(S),o.onItemSelected=M=>{S.d3Object&&S.d3Object.interrupt().transition(100).attr("fill-opacity",0).style("fill",o.colorMain).transition().duration(2e3).attr("fill-opacity",1).text(M).transition().delay(1e3).transition().duration(1e3).attr("fill-opacity",0)},!0}}const X5e=["mySvg"],K5e=function(l){return{"fade-in-3":!0,"print-only":l}};function Q5e(l,a){if(1&l&&(zg(),ye(0,"svg",4,5)),2&l){const o=J();U("ngClass",Ss(1,K5e,o.printOnly))}}const qF=function(l){return{centeredImage:!0,"fade-in-3":!0,"print-only":l}};function J5e(l,a){if(1&l&&(zg(),ye(0,"svg",6,5)),2&l){const o=J();U("ngClass",Ss(1,qF,o.printOnly))}}function e8e(l,a){if(1&l&&(zg(),ye(0,"svg",7,5)),2&l){const o=J();U("ngClass",Ss(1,qF,o.printOnly))}}function t8e(l,a){if(1&l&&(zg(),ye(0,"svg",8,5)),2&l){const o=J();U("ngClass",Ss(1,qF,o.printOnly))}}class Uo{constructor(a,o,c,u){this.generator=a,this.onCreate=o,this.onUpdate=c,this.onSend=u}create(){this.onCreate&&this.onCreate(this)}update(){return!!this.onUpdate&&this.onUpdate(this)}send(){this.onSend&&this.onSend(this)}}let zu=(()=>{class l{constructor(o,c,u,h){this.config=o,this.d3Svc=c,this.cacheService=u,this.themesService=h,this.name="\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435",this.svgImage=null,this.generator=null,this.sLogoText="\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435",this.sScene="/scenes/app.logo.scene.txt",this.aTag=null,this.updateSvgAction=new F9(d=>{this.changed()},100,(d,f)=>this.config.post(f,d)),this.type=0,this.printOnly=!1,this.genName="JsScheduler",this.iStartPageIndex=0,this.iHorizontalPagesCount=1,this.iVerticalPagesCount=1,this.pagesCount=new Rt,this.svg=new Rt,this.onCommand=new Rt,this.showFooter=!0,this.svgWidth=210,this.svgHeight=297,this.sSchedulerText=""}get scene(){return this.sScene}set scene(o){this.sScene=o,this.updateSvgAction.requestAction(void 0)}get logoText(){return this.sLogoText}set logoText(o){this.sLogoText=o,this.changed()}get tag(){return this.aTag}set tag(o){this.aTag=o,this.generator&&this.changed()}get startPageIndex(){return this.iStartPageIndex}set startPageIndex(o){this.iStartPageIndex=o,this.updateSvgAction.requestAction(void 0)}get horizontalPagesCount(){return this.iHorizontalPagesCount}set horizontalPagesCount(o){this.iHorizontalPagesCount=o,this.updateSvgAction.requestAction(void 0)}get verticalPagesCount(){return this.iVerticalPagesCount}set verticalPagesCount(o){this.iVerticalPagesCount=o,this.updateSvgAction.requestAction(void 0)}get schedulerText(){return this.sSchedulerText}set schedulerText(o){this.sSchedulerText!=o&&(this.sSchedulerText=o,this.changed())}ngOnInit(){}get version(){return this.config.environment.version}newGenerator(){let o=c=>new Uo(new vee(c,this.svgWidth,this.svgHeight),()=>{var u;let h=[];this.tag?h.push(...this.tag.commands.map(p=>({cmd:p,enabled:!0}))):this.config.environment.applications.forEach(f=>{h.push({cmd:Va.builder().setName(f.name).setTag(f),enabled:f.applicationEnabled&&!f.applicationHidden})});let d=h.find(f=>{var p;return(null===(p=f.cmd.tag)||void 0===p?void 0:p.id)==this.config.defaultApplication});d||(d=h[0],d.cmd.tag&&d.cmd.tag.id&&(this.config.defaultApplication=d.cmd.tag.id)),(null===(u=this.generator)||void 0===u?void 0:u.generator).setCommands(h.filter(f=>f.enabled).map(f=>f.cmd),d?d.cmd:null).setOnCommandHandler(f=>{this.sendCommand(f.tag)})},u=>{if(this.tag){let d=u.generator.setCommands(this.tag.commands).isGenerated();return u.generator.regenerate(),d}return!1},()=>{});return"Logo"==this.genName?new Uo(new iv(this.themesService.nowIsDay()?_a.Light:_a.Dark,"",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"LogoLight"==this.genName?new Uo(new iv(_a.Light,"",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"LogoDark"==this.genName?new Uo(new iv(_a.Dark,"",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"LogoLight2"==this.genName?new Uo(new iv(_a.Light2,"",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"LogoDark2"==this.genName?new Uo(new iv(_a.Dark2,"",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"Default"==this.genName?new Uo(new Ba("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"Texts"==this.genName?new Uo(new uee("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"Circles"==this.genName?new Uo(new hee("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"Ellipses"==this.genName?new Uo(new dee("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"Rects"==this.genName?new Uo(new fee("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"Graphics"==this.genName?new Uo(new pee("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"Animation"==this.genName?new Uo(new gee("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"UIInteraction"==this.genName?new Uo(new mee("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"BibleMenu"==this.genName?new Uo(new Z5e(this.themesService.nowIsDay()?zc.Light:zc.Dark,"\u0411\u0438\u0431\u043b\u0438\u044f",this.svgWidth,this.svgHeight,this.tag),()=>{},()=>!1,()=>{}):"Menu"==this.genName?o(this.themesService.nowIsDay()?Zs.Light:Zs.Dark):"MenuDay"==this.genName?o(Zs.Light):"MenuDay2"==this.genName?o(Zs.Light2):"MenuNight"==this.genName?o(Zs.Dark):"MenuNight2"==this.genName?o(Zs.Dark2):new Uo(new IF(this.svgWidth,this.svgHeight),()=>{var c;(null===(c=this.generator)||void 0===c?void 0:c.generator).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435(this.schedulerText).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0435\u0448(this.cacheService,this.scene).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b(this.startPageIndex).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438(this.horizontalPagesCount).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438(this.verticalPagesCount).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u043e\u043a\u0430\u0437\u041f\u043e\u0434\u0432\u0430\u043b\u0430(this.showFooter).\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0443\u0412\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b("\u0442\u0435\u043a\u0441\u0442\u041b\u043e\u0433\u043e\u0442\u0438\u043f\u0430",this.logoText)},()=>{var c;return(null===(c=this.generator)||void 0===c?void 0:c.generator).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435(this.schedulerText).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b(this.startPageIndex).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438(this.horizontalPagesCount).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438(this.verticalPagesCount).\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0443\u0412\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b("\u0442\u0435\u043a\u0441\u0442\u041b\u043e\u0433\u043e\u0442\u0438\u043f\u0430",this.logoText),!1},()=>{var c;this.pagesCount.emit((null===(c=this.generator)||void 0===c?void 0:c.generator).\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446())})}ngAfterViewInit(){this.mySvgRef&&(this.generator=this.newGenerator(),this.generator.create(),this.svgImage=new xF(this.generator.generator.getWidth(),this.generator.generator.getHeight(),this.d3Svc,this.mySvgRef,this.generator.generator),this.svgImage.updateSvg(()=>{var o;this.generator.update(),this.saveSvg(),null===(o=this.generator)||void 0===o||o.send()}))}changed(){this.generator&&(this.generator.update()||this.svgImage.clear().updateSvg(()=>{var o;null===(o=this.generator)||void 0===o||o.send(),this.saveSvg()}))}saveSvg(){var o=this.mySvgRef.nativeElement,u=(new XMLSerializer).serializeToString(o);u.match(/^<svg[^>]+xmlns="http\:\/\/www\.w3\.org\/2000\/svg"/)||(u=u.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')),u.match(/^<svg[^>]+"http\:\/\/www\.w3\.org\/1999\/xlink"/)||(u=u.replace(/^<svg/,'<svg xmlns:xlink="http://www.w3.org/1999/xlink"')),this.svg.emit(u='<?xml version="1.0" standalone="no"?>\r\n'+u)}sendCommand(o){this.onCommand.emit(o)}}return l.\u0275fac=function(o){return new(o||l)(N(kn),N(bF),N(Yp),N(Vu))},l.\u0275cmp=nt({type:l,selectors:[["app-svg-js-image"]],viewQuery:function(o,c){if(1&o&&An(X5e,5),2&o){let u;kt(u=At())&&(c.mySvgRef=u.first)}},inputs:{type:"type",printOnly:"printOnly",scene:"scene",logoText:"logoText",genName:"genName",tag:"tag",startPageIndex:"startPageIndex",horizontalPagesCount:"horizontalPagesCount",verticalPagesCount:"verticalPagesCount",showFooter:"showFooter",svgWidth:"svgWidth",svgHeight:"svgHeight",schedulerText:"schedulerText"},outputs:{pagesCount:"pagesCount",svg:"svg",onCommand:"onCommand"},decls:4,vars:4,consts:[["width","100%","height","100%",3,"ngClass",4,"ngIf"],["width","2100","height","2970",3,"ngClass",4,"ngIf"],["width","5120","height","5120",3,"ngClass",4,"ngIf"],["width","5120","height","1280",3,"ngClass",4,"ngIf"],["width","100%","height","100%",3,"ngClass"],["mySvg",""],["width","2100","height","2970",3,"ngClass"],["width","5120","height","5120",3,"ngClass"],["width","5120","height","1280",3,"ngClass"]],template:function(o,c){1&o&&(Q(0,Q5e,2,3,"svg",0),Q(1,J5e,2,3,"svg",1),Q(2,e8e,2,3,"svg",2),Q(3,t8e,2,3,"svg",3)),2&o&&(U("ngIf",0==c.type),z(1),U("ngIf",1==c.type),z(1),U("ngIf",512==c.type),z(1),U("ngIf",512128==c.type))},directives:[Mn,Gi],styles:[".centeredImage[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto}"]}),l})();const n8e=["myCanvas"],i8e=["mySvg1"],r8e=["mySvg2"],s8e=["mySvg3"],o8e=["mySvg4"],a8e=["mySvg5"],l8e=["mySvg6"],c8e=["mySvg7"],u8e=["mySvg8"],h8e=["mySvgMulti"],d8e=["mySvg9"],f8e=["mySvg10"],p8e=["mySvg11"],g8e=["mySvg12"],m8e=["mySvg13"],v8e=["mySvg14"],_8e=["mySvg15"];function y8e(l,a){if(1&l){const o=Bt();A(0,"div",25),A(1,"app-svg-js-image",26),pe("svg",function(u){const d=dt(o).$implicit;return J().onSaveSvg(d.genName,u)}),I(),I()}if(2&l){const o=a.$implicit;z(1),U("svgWidth",o.width)("svgHeight",o.height)("scene",o.scene)("genName",o.genName)}}class ml{constructor(a,o,c,u){this.width=a,this.height=o,this.scene=c,this.genName=u}}let b8e=(()=>{class l{constructor(o,c,u,h){this.config=o,this.d3Svc=c,this.themeSvc=u,this.cacheService=h,this.generators=[{gen:new Ba,ref:()=>this.mySvg1Ref},{gen:new uee,ref:()=>this.mySvg2Ref},{gen:new hee,ref:()=>this.mySvg3Ref},{gen:new dee,ref:()=>this.mySvg4Ref},{gen:new fee,ref:()=>this.mySvg5Ref},{gen:new pee,ref:()=>this.mySvg6Ref},{gen:new gee,ref:()=>this.mySvg7Ref},{gen:new mee,ref:()=>this.mySvg8Ref},{gen:new iv,ref:()=>this.mySvg9Ref},{gen:new vee,ref:()=>this.mySvg10Ref},{gen:new _ee,ref:()=>this.mySvg11Ref},{gen:new _ee,ref:()=>this.mySvg12Ref},{gen:new E5e,ref:()=>this.mySvg13Ref},{gen:new yee,ref:()=>this.mySvg14Ref},{gen:new IF,ref:()=>this.mySvg15Ref}],this.svgImage=[],this.svgImage2=[],this.svgJsImages=[new ml(512,512,"/scenes/cross.scene.txt","Logo"),new ml(512,512,"/scenes/cross.scene.txt","LogoLight"),new ml(512,512,"/scenes/cross.scene.txt","LogoLight2"),new ml(512,512,"/scenes/cross.scene.txt","LogoDark"),new ml(512,512,"/scenes/cross.scene.txt","LogoDark2"),new ml(512,512,"/scenes/cross.scene.txt","Default"),new ml(512,512,"/scenes/cross.scene.txt","Texts"),new ml(512,512,"/scenes/cross.scene.txt","Circles"),new ml(512,512,"/scenes/cross.scene.txt","Ellipses"),new ml(512,512,"/scenes/cross.scene.txt","Rects"),new ml(512,512,"/scenes/cross.scene.txt","Graphics"),new ml(512,512,"/scenes/cross.scene.txt","Animation"),new ml(512,512,"/scenes/cross.scene.txt","UIInteraction")],this.svgSaved=new Map}ngOnInit(){}ngAfterViewInit(){this.generators.forEach((p,g)=>{(p.gen instanceof yee||p.gen instanceof IF)&&p.gen.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0435\u0448(this.cacheService),p.ref()&&this.svgImage.push(new xF(p.gen.getWidth(),p.gen.getHeight(),this.d3Svc,p.ref(),p.gen))});let f=this.generators[8];this.svgImage2.push(new xF(f.gen.getWidth(),f.gen.getHeight(),this.d3Svc,this.mySvgMultiRef,f.gen)),this.generators[9].gen.setTheme(this.themeSvc.nowIsDay()?Zs.Light2:Zs.Dark2).setCommands(this.generators.map((p,g)=>Va.builder().setName(p.gen.name).setTag(g)).filter((p,g)=>!(-1==g||9==g))).setOnCommandHandler(p=>{let g=this.generators[p.tag];g&&this.svgImage2[0].setGenerator(g.gen).clear().updateSvg()}).setAutoClickOnChange(!0),this.generators[11].gen.setTheme(this.themeSvc.nowIsDay()?Vo.Light3:Vo.Dark3);{let p=[nf.builder().setName("\u0414\u0435\u043a\u0430\u0431\u0440\u044c").setIndex(0).setIWidth(7)];["\u041f","\u0412","\u0421","\u0427","\u041f","\u0421","\u0412"].forEach((v,_)=>{p.push(nf.builder().setName(v).setIndex(_+7).setIWidth(1))});let g=31,m=16;for(let v=0;v<g;v++){let _=""+(v+1);p.push(nf.builder().setName(_).setIndex(v+m).setIWidth(1))}this.generators[12].gen.setTheme(this.themeSvc.nowIsDay()?zo.Light3:zo.Dark3).setCommands(p).setOnCommandHandler(v=>{let _=["black","#d94a4a","#DFF0D0","#4aaed9"],y=v.tag;y||(y=_[0]);let b=_.indexOf(y);b=(b+1)%_.length,y=_[b],v.tag=y,v.rect.d3Object.transition().duration(1e3).style("fill",y),v.text.d3Object.transition().duration(1e3).style("fill","black"==y?"white":"black").style("stroke","black"==y?"white":"black").style("stroke-width",0)})}this.svgImage.forEach(p=>{p.updateSvg()}),this.svgImage2.forEach(p=>{p.updateSvg()})}downloadAllImages(){this.onSaveSvgDirect()}onSaveSvg(o,c){this.svgSaved.set(o,c)}onSaveSvgDirect(o=1){const c=new WT;this.svgSaved.forEach((p,g)=>{c.file("page"+g+".svg",p)});let u='<html>\n<head>\n    <style type="text/css">\n    .centeredImage {\n      max-width: 100%;\n      max-height: 100%;\n      width: auto;\n      height: auto;\n    }\n</style>\n</head>\n<body>';this.svgSaved.forEach((p,g,m)=>{u+=`<div><img src="page${g}.svg" width="630" height="891" alt="page${g}" class="centeredImage"></div>`}),u+="</body></html>",c.file("pages.html",u);let h=new Date,d=(p,g)=>{let m=""+p;for(;m.length<g;)m="0"+m;return m},f=h.getFullYear()+"_"+d(h.getMonth()+1,2)+"_"+d(h.getDate(),2);c.generateAsync({type:"blob"}).then(p=>{const g=new Blob([p],{type:"octet/stream"});sv.saveData(g,`\u043b\u043e\u0433\u043e\u0442\u0438\u043f\u044b.${f}.zip`)})}}return l.\u0275fac=function(o){return new(o||l)(N(kn),N(bF),N(Vu),N(Yp))},l.\u0275cmp=nt({type:l,selectors:[["app-d3-examples"]],viewQuery:function(o,c){if(1&o&&(An(n8e,5),An(i8e,5),An(r8e,5),An(s8e,5),An(o8e,5),An(a8e,5),An(l8e,5),An(c8e,5),An(u8e,5),An(h8e,5),An(d8e,5),An(f8e,5),An(p8e,5),An(g8e,5),An(m8e,5),An(v8e,5),An(_8e,5)),2&o){let u;kt(u=At())&&(c.myCanvasRef=u.first),kt(u=At())&&(c.mySvg1Ref=u.first),kt(u=At())&&(c.mySvg2Ref=u.first),kt(u=At())&&(c.mySvg3Ref=u.first),kt(u=At())&&(c.mySvg4Ref=u.first),kt(u=At())&&(c.mySvg5Ref=u.first),kt(u=At())&&(c.mySvg6Ref=u.first),kt(u=At())&&(c.mySvg7Ref=u.first),kt(u=At())&&(c.mySvg8Ref=u.first),kt(u=At())&&(c.mySvgMultiRef=u.first),kt(u=At())&&(c.mySvg9Ref=u.first),kt(u=At())&&(c.mySvg10Ref=u.first),kt(u=At())&&(c.mySvg11Ref=u.first),kt(u=At())&&(c.mySvg12Ref=u.first),kt(u=At())&&(c.mySvg13Ref=u.first),kt(u=At())&&(c.mySvg14Ref=u.first),kt(u=At())&&(c.mySvg15Ref=u.first)}},decls:40,vars:1,consts:[["id","load-font"],["class","h512",4,"ngFor","ngForOf"],["width","128","height","128",1,"centeredImage","fade-in-3"],["mySvg11",""],["mySvg12",""],["width","256","height","256",1,"centeredImage","fade-in-3"],["mySvg13",""],["width","420","height","594",1,"centeredImage","fade-in-3"],["mySvg15",""],["width","512","height","512",1,"centeredImage","fade-in-3"],["mySvg14",""],["width","5120","height","1280",1,"centeredImage","fade-in-3"],["mySvg10",""],["mySvgMulti",""],["mySvg9",""],["mySvg8",""],["mySvg1",""],["mySvg7",""],["mySvg6",""],["mySvg5",""],["mySvg4",""],["mySvg3",""],["mySvg2",""],[1,"no-print"],[1,"btn","btn-success","btn-block","ucs","center","top-space",3,"click"],[1,"h512"],[3,"svgWidth","svgHeight","scene","genName","svg"]],template:function(o,c){1&o&&(A(0,"div"),A(1,"div",0),we(2,"\u0411\u043b\u0483\u0436\u0435\u0301\u043d\u044a \u043c\ua64b\u0301\u0436\u044a"),I(),Q(3,y8e,2,4,"div",1),zg(),ye(4,"svg",2,3),ye(6,"svg",2,4),ye(8,"svg",5,6),ye(10,"svg",7,8),ye(12,"svg",9,10),ye(14,"svg",11,12),ye(16,"svg",9,13),ye(18,"svg",9,14),ye(20,"svg",9,15),ye(22,"svg",9,16),ye(24,"svg",9,17),ye(26,"svg",9,18),ye(28,"svg",9,19),ye(30,"svg",9,20),ye(32,"svg",9,21),ye(34,"svg",9,22),function H8(){!function ile(){Yn.lFrame.currentNamespace=null}()}(),A(36,"div"),A(37,"div",23),A(38,"button",24),pe("click",function(){return c.downloadAllImages()}),we(39,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),I(),I(),I(),I()),2&o&&(z(3),U("ngForOf",c.svgJsImages))},directives:[or,zu],styles:[".h512[_ngcontent-%COMP%]{height:512px;width:512px}.divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}.centeredImage[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}.rxanimated[_ngcontent-%COMP%]{animation:rxakf 3s linear infinite;stroke:#00f;fill:green;rx:1!important;width:50px!important}@keyframes rxakf{0%{rx:100;ry:1}50%{rx:400;ry:4}to{rx:100;ry:1}}.ani[_ngcontent-%COMP%]{animation:moveCircle 4s linear infinite}@keyframes moveCircle{0%{rx:1}50%{rx:4}to{rx:1}}"]}),l})();class x8e{constructor(a,o){this.zipService=a,this.cacheService=o}}class vl{constructor(a,o){this.action=a,this.name=o,this.from=null,this.upto=null,this.onStop=null,this.config=null}static of(a,o){return new vl(a,o)}start(a,o=null){this.config=o,this.onStop=a,this.from=new Date}stop(){this.upto=new Date}getTime(){return this.upto.getTime()-this.from.getTime()}str(a,o){for(;a.length<o;)a="0"+a;return a}getTimeString(){let a=this.upto.getTime()-this.from.getTime(),o=Math.floor(a/1e3),c=Math.floor(o/60),u=Math.floor(c/60);return a-=1e3*o,o-=60*c,c-=60*u,this.str(""+u,2)+":"+this.str(""+c,2)+":"+this.str(""+o,2)+"."+this.str(""+a,3)+" \u043e\u0442 "+this.from.toISOString()}toString(){return this.getTimeString()}stopAndGetResult(a){return this.stop(),ZT.of(this.name,a,this.getTimeString())}sendAndGetResult(a){return this.onStop(a,this)}delay(a,o){return setTimeout(()=>{a&&a()},o),ZT.of("","","")}}class ZT{constructor(a,o,c){this.name=a,this.error=o,this.info=c}static of(a,o,c){return new ZT(a,o,c)}}class Fb extends te{constructor(){super(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041f\u0440\u0438\u043c\u0435\u0440 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432"),null,new Map),this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438()}static \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u0430\u0440\u0441\u0435\u0440\u0430\u0412\u0414\u0432\u0438\u0436\u043e\u043a(a){let o=Fb.\u043d\u043e\u0432\u044b\u0439();a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439\u041f\u0440\u0438\u043c\u0435\u0440",(c,u)=>o,!0)}static \u043d\u043e\u0432\u044b\u0439(){return new Fb}static \u043d\u043e\u0432\u044b\u0439\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f\u0412\u0441\u0442\u0430\u0432\u043a\u0430\u041e\u0431\u044a\u0435\u043a\u0442\u043e\u0432\u041f\u0440\u0438\u043c\u0435\u0440(){return new Fb}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438(){let a=this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();a.set("\u0435\u0434\u0438\u043d\u0438\u0446\u0430",te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1)),a.set("\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c\u041d\u0430\u0415\u0434\u0438\u043d\u0438\u0446\u0443",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0435\u0440\u0432\u044b\u0439\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440")])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0443\u043c\u043c\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0435\u0440\u0432\u044b\u0439\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440")]),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0435\u0434\u0438\u043d\u0438\u0446\u0430")])]))))),a.set("\u043d\u0430\u0442\u0438\u0432\u043d\u043e\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c\u041d\u0430\u0415\u0434\u0438\u043d\u0438\u0446\u0443",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0435\u0440\u0432\u044b\u0439\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440")])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((o,c)=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c[1].\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()+10))))))}}class Lb extends te{constructor(){super(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0430\u0440\u0441\u0435\u0440"),null,new Map),this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438()}static \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u0430\u0440\u0441\u0435\u0440\u0430\u0412\u0414\u0432\u0438\u0436\u043e\u043a(a){let o=Lb.\u043d\u043e\u0432\u044b\u0439();a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439\u041f\u0430\u0440\u0441\u0435\u0440",(c,u)=>o,!0)}static \u043d\u043e\u0432\u044b\u0439(){return new Lb}static \u043d\u043e\u0432\u044b\u0439\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439\u041f\u0430\u0440\u0441\u0435\u0440(){return new Lb}\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(a){return te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(a))}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438(){let a=this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();a.set("\u0435\u0434\u0438\u043d\u0438\u0446\u0430",te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1)),a.set("\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c\u041d\u0430\u0415\u0434\u0438\u043d\u0438\u0446\u0443",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0435\u0440\u0432\u044b\u0439\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440")])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0443\u043c\u043c\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0435\u0440\u0432\u044b\u0439\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440")]),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0435\u0434\u0438\u043d\u0438\u0446\u0430")])]))))),a.set("\u043d\u0430\u0442\u0438\u0432\u043d\u043e\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c\u041d\u0430\u0415\u0434\u0438\u043d\u0438\u0446\u0443",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0435\u0440\u0432\u044b\u0439\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440")])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((o,c)=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(c[1].\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()+10))))))}}class Kp{constructor(a,o){this.\u043a\u043e\u043c\u0430\u043d\u0434\u0430=a,this.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=o}static \u043d\u043e\u0432\u044b\u0439(){return new Kp(null,null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(a){return this.\u043a\u043e\u043c\u0430\u043d\u0434\u0430="string"==typeof a?te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a):a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442(a){return this.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=a,this}}class yo{static tests(){return[vl.of(yo.\u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f\u0412\u0441\u0442\u0430\u0432\u043a\u0430\u041e\u0431\u044a\u0435\u043a\u0442\u043e\u0432\u0421\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439\u0422\u0435\u0441\u0442\u043e\u0432,"\u0442\u0435\u0441\u0442 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u0430\u0440\u0441\u0435\u0440\u0430 \u0441 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439: \u0432\u0441\u0442\u0430\u0432\u043a\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432"),vl.of(yo.\u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u044b\u0439\u041f\u0430\u0440\u0441\u0435\u0440\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439\u0421\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439\u0422\u0435\u0441\u0442\u043e\u0432,"\u0442\u0435\u0441\u0442 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u0430\u0440\u0441\u0435\u0440\u0430 \u0441 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439: \u0441\u0430\u043c \u043f\u0430\u0440\u0441\u0435\u0440"),vl.of(yo.\u043f\u0435\u0440\u0432\u0438\u0447\u043d\u044b\u0435\u041a\u043e\u043c\u0430\u043d\u0434\u044b,"\u0442\u0435\u0441\u0442 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u044b\u0445 \u043a\u043e\u043c\u0430\u043d\u0434"),vl.of(yo.\u043f\u0430\u043a\u0435\u0442\u043d\u044b\u0435\u041a\u043e\u043c\u0430\u043d\u0434\u044b,"\u0442\u0435\u0441\u0442 \u043f\u0430\u043a\u0435\u0442\u043d\u044b\u0445 \u043a\u043e\u043c\u0430\u043d\u0434"),vl.of(yo.\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435\u041a\u043e\u043c\u0430\u043d\u0434\u044b,"\u0442\u0435\u0441\u0442 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0445 \u043a\u043e\u043c\u0430\u043d\u0434"),vl.of(yo.\u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u044b\u0439\u041f\u0430\u0440\u0441\u0435\u0440\u0421\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439\u041a\u043e\u0434,"\u0442\u0435\u0441\u0442 \u0441\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0430\u0440\u0441\u0435\u0440\u0430 (\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043a\u043e\u0434)"),vl.of(yo.\u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u044b\u0439\u041f\u0430\u0440\u0441\u0435\u0440\u0421\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439\u041a\u043e\u0434\u0421\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439\u0422\u0435\u0441\u0442\u043e\u0432,"\u0442\u0435\u0441\u0442 \u0441\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0430\u0440\u0441\u0435\u0440\u0430 (\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043a\u043e\u0434) \u0441 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439")]}static \u043d\u043e\u0432\u044b\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442(a,o,c){return Kp.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(a).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(o.map(u=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(u)))).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442(c)}static \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u044b\u0435\u041a\u043e\u043c\u0430\u043d\u0434\u044b(a){let o="",c=new gl;return c.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0443\u043c\u043c\u0430",(h,d)=>d[0].\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()?te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d[0]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()+h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()):te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d[0]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()+h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),!0),c.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0447\u0438\u0441\u043b\u0430 \u0441\u0443\u043c\u043c\u0430",(h,d)=>d[0].\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()?te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d[0]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()+h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()):te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d[0]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()+h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),!0),c.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0447\u0438\u0441\u043b\u0430 \u043c\u0438\u043d",(h,d)=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.min(h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d[0]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e())),!0),c.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0447\u0438\u0441\u043b\u0430 \u043c\u0430\u043a\u0441",(h,d)=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.max(h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d[0]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e())),!0),[yo.\u043d\u043e\u0432\u044b\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442("\u0447\u0438\u0441\u043b\u0430 \u0441\u0443\u043c\u043c\u0430",[1,2],3),yo.\u043d\u043e\u0432\u044b\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442("\u0447\u0438\u0441\u043b\u0430 \u043c\u0438\u043d",[1,2],1),yo.\u043d\u043e\u0432\u044b\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442("\u0447\u0438\u0441\u043b\u0430 \u043c\u0430\u043a\u0441",[1,2],2),yo.\u043d\u043e\u0432\u044b\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442("\u0441\u0443\u043c\u043c\u0430",[1,2],3),yo.\u043d\u043e\u0432\u044b\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442("\u0441\u0443\u043c\u043c\u0430",["1","2"],"12"),Kp.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(()=>te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432 \u0432\u0438\u0434\u0435 \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f."))).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442("\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432 \u0432\u0438\u0434\u0435 \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f."),Kp.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432 \u0432\u0438\u0434\u0435 \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f. (2)")).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442("\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432 \u0432\u0438\u0434\u0435 \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f. (2)")].forEach((h,d)=>{let f=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(h.\u043a\u043e\u043c\u0430\u043d\u0434\u0430);f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435!=h.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442&&(o+=`\r\n\u041e\u0448\u0438\u0431\u043a\u0430: \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e=${f}; \u043e\u0436\u0438\u0434\u0430\u043b\u043e\u0441\u044c=${h.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442}; \u0438\u043d\u0434\u0435\u043a\u0441 \u043a\u043e\u043c\u0430\u043d\u0434\u044b: ${d}.`)}),a.sendAndGetResult(o)}static \u043f\u0430\u043a\u0435\u0442\u043d\u044b\u0435\u041a\u043e\u043c\u0430\u043d\u0434\u044b(a){let o="",c=new gl;c.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e();let u=[Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441"),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0443\u043c\u043c\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(2)])]),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441"),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0443\u043c\u043c\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441")])])])],h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(u),[],null,!0,!0,!1,null),d=4;h.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435!=d&&(o+=`\r\n\u041e\u0448\u0438\u0431\u043a\u0430: \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e=${h}; \u043e\u0436\u0438\u0434\u0430\u043b\u043e\u0441\u044c=${d}`);let f=[Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441"),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0)]),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0438\u043b\u0438").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441"),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0443\u043c\u043c\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441")])])]),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441"),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0443\u043c\u043c\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441")])])])]),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441")])];h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f),[],null,!0,!0,!1,null),d=1,h.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435!=d&&(o+=`\r\n\u041e\u0448\u0438\u0431\u043a\u0430: \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e=${h}; \u043e\u0436\u0438\u0434\u0430\u043b\u043e\u0441\u044c=${d}`);let p=[Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441"),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0)]),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u044d\u043d\u0435\u0440\u0433\u0438\u0447\u043d\u043e\u0435 \u0438\u043b\u0438").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441"),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0443\u043c\u043c\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441")])])]),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441"),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0443\u043c\u043c\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441")])])])]),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441")])];return h=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p),[],null,!0,!0,!1,null),d=2,h.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435!=d&&(o+=`\r\n\u041e\u0448\u0438\u0431\u043a\u0430: \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e=${h}; \u043e\u0436\u0438\u0434\u0430\u043b\u043e\u0441\u044c=${d}`),a.sendAndGetResult(o)}static \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435\u041a\u043e\u043c\u0430\u043d\u0434\u044b(a){let o="",c=new gl;c.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e();let u=[Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441"),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0)])],h=[Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441"),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0443\u043c\u043c\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441")])])]),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441")])];c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(u),[],null,!0,!0,!1,null);for(let d=1;d<5;d++){let f=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h),[],null,!0,!0,!1,null),p=d;f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435!=p&&(o+=`\r\n\u041e\u0448\u0438\u0431\u043a\u0430: \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e=${f}; \u043e\u0436\u0438\u0434\u0430\u043b\u043e\u0441\u044c=${p}`)}return a.sendAndGetResult(o)}static \u0440\u0430\u0437\u0431\u0438\u0442\u044c\u041d\u0430\u0422\u0435\u0441\u0442\u044b(a){return a.split(/\/\/EOT/).map(h=>h.trim()).filter(h=>!!h).map(h=>{let d=h.trim().split("\n").map(g=>g.trimRight()),f=d[d.length-1],p="//null"===f?null:+f.substr(2);return Kp.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d.filter(g=>!g.startsWith("//")).join("\r\n")).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442(p)})}static \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u044b\u0439\u041f\u0430\u0440\u0441\u0435\u0440\u0421\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439\u041a\u043e\u0434\u0421\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439\u0422\u0435\u0441\u0442\u043e\u0432(a,o="/tests/universal_engine/all_tests.txt"){return a.delay(()=>{let u=a.config.cacheService.getRestPoint(o,null);a.config.cacheService.getTextRestcallUrl(u,h=>{try{let d="",f=new qp,p=yo.\u0440\u0430\u0437\u0431\u0438\u0442\u044c\u041d\u0430\u0422\u0435\u0441\u0442\u044b(h),g=Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));p.forEach((m,v)=>{console.log("------------------------------"),console.log(m.\u043a\u043e\u043c\u0430\u043d\u0434\u0430.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());let _=f.\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(m.\u043a\u043e\u043c\u0430\u043d\u0434\u0430.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),y=new gl;y.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e(),y.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",(b,C)=>{var x=C[0].\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430();if("\u0435\u0434\u0438\u043d\u0438\u0446\u0430"===x)return te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1);if("\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f"===x)return b.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0435\u0440\u0432\u044b\u0439\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440")])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0443\u043c\u043c\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0435\u0440\u0432\u044b\u0439\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440")]),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0415\u0434\u0438\u043d\u0438\u0446\u0430")])]))));if("\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f\u0420\u0430\u0437\u043e\u0431\u0440\u0430\u043d\u043d\u0430\u044f"===x){let w=f.\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a("\n                  \u0440\u0430\u0437\u0431\u043e\u0440 \u043c\u0435\u0442\u043e\u0434\u0430 \u0438\u043c\u044f(\u043f\u0435\u0440\u0432\u044b\u0439\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440){\n                    \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u0435\u0440\u0432\u044b\u0439\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 + \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0415\u0434\u0438\u043d\u0438\u0446\u0430;\n                  }\n                  ");return b.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0412\u041a\u043b\u0430\u0441\u0441\u041c\u0435\u0442\u043e\u0434\u0418\u043b\u0438\u0414\u0430\u043d\u043d\u044b\u0435(w[0],null)}return null},!0);{let b=y.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(_),[te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(),g],[te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0430\u043c\u044f\u0442\u044c")],!0,!0,!1,null)),C=m.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442;(!b||b.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435!=C)&&(d+=`\r\n\u041e\u0448\u0438\u0431\u043a\u0430: \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e=${b?b.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:null}; \u043e\u0436\u0438\u0434\u0430\u043b\u043e\u0441\u044c=${C}`,console.log(`\u041e\u0448\u0438\u0431\u043a\u0430: #${v}: ${b?b.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:null} == ${C}`))}}),a.sendAndGetResult(d)}catch(d){a.sendAndGetResult("Error: "+d)}})},1)}static \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u044b\u0439\u041f\u0430\u0440\u0441\u0435\u0440\u0421\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439\u041a\u043e\u0434(a){let o="",c=new qp;return[Kp.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443('\n        \u043a\u043b\u0430\u0441\u0441\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440\u0430 = \u043a\u043b\u0430\u0441\u0441 {\n          \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0415\u0434\u0438\u043d\u0438\u0446\u0430 = \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c("\u0435\u0434\u0438\u043d\u0438\u0446\u0430");\n          \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f = \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c("\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f");\n          \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f\u0420\u0430\u0437\u043e\u0431\u0440\u0430\u043d\u043d\u0430\u044f = \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c("\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f\u0420\u0430\u0437\u043e\u0431\u0440\u0430\u043d\u043d\u0430\u044f");\n          \u0435\u0449\u0451\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f(\u0437\u043d\u0430\u0447){\n            \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0437\u043d\u0430\u0447 + \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0415\u0434\u0438\u043d\u0438\u0446\u0430;\n          }\n          \u0431\u0430\u0437\u043e\u0432\u043e\u0435\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u043c\u043e\u0435\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u0438\u043d\u043a\u0440\u0435\u043c\u0435\u043d\u0442){\n            \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f(12)\n              + \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f(12)\n              + \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u043c\u043e\u0435\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 + \u0438\u043d\u043a\u0440\u0435\u043c\u0435\u043d\u0442\n              + \u0435\u0449\u0451\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f(2)\n            ;\n          }\n        };\n        \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 = \u043a\u043b\u0430\u0441\u0441\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440\u0430();\n        \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440.\u0431\u0430\u0437\u043e\u0432\u043e\u0435\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(70,1);\n      ').\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442(100)].forEach(u=>{let h=c.\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(u.\u043a\u043e\u043c\u0430\u043d\u0434\u0430.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());console.log("------------------------------"),console.log(u.\u043a\u043e\u043c\u0430\u043d\u0434\u0430.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());let d=new gl;d.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0441\u0435\u0440(c),d.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e(),d.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",(f,p)=>{var g=p[0].\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430();if("\u0435\u0434\u0438\u043d\u0438\u0446\u0430"===g)return te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1);if("\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f"===g)return f.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0435\u0440\u0432\u044b\u0439\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440")])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0443\u043c\u043c\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0435\u0440\u0432\u044b\u0439\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440")]),Ve.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0415\u0434\u0438\u043d\u0438\u0446\u0430")])]))));if("\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f\u0420\u0430\u0437\u043e\u0431\u0440\u0430\u043d\u043d\u0430\u044f"===g){let m=c.\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a("\n              \u0440\u0430\u0437\u0431\u043e\u0440 \u043c\u0435\u0442\u043e\u0434\u0430 \u0438\u043c\u044f(\u043f\u0435\u0440\u0432\u044b\u0439\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440){\n                \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u0435\u0440\u0432\u044b\u0439\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 + \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f\u0415\u0434\u0438\u043d\u0438\u0446\u0430;\n              }\n            ");return f.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0412\u041a\u043b\u0430\u0441\u0441\u041c\u0435\u0442\u043e\u0434\u0418\u043b\u0438\u0414\u0430\u043d\u043d\u044b\u0435(m[0],null)}return null},!0);{let f=d.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h),[],null,!0,!0,!1,null)),p=u.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442;(!f||f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435!=p)&&(o+=`\r\n\u041e\u0448\u0438\u0431\u043a\u0430: \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e=${f?f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:null}; \u043e\u0436\u0438\u0434\u0430\u043b\u043e\u0441\u044c=${p}`)}}),a.sendAndGetResult(o)}static \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f\u0412\u0441\u0442\u0430\u0432\u043a\u0430\u041e\u0431\u044a\u0435\u043a\u0442\u043e\u0432\u0421\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439\u0422\u0435\u0441\u0442\u043e\u0432(a,o="/tests/universal_engine/dynamic_objects_tests.txt"){return a.delay(()=>{let u=a.config.cacheService.getRestPoint(o,null);a.config.cacheService.getTextRestcallUrl(u,h=>{try{let d="",f=new qp;yo.\u0440\u0430\u0437\u0431\u0438\u0442\u044c\u041d\u0430\u0422\u0435\u0441\u0442\u044b(h).forEach(g=>{console.log("------------------------------"),console.log(g.\u043a\u043e\u043c\u0430\u043d\u0434\u0430.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());let m=f.\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(g.\u043a\u043e\u043c\u0430\u043d\u0434\u0430.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),v=new gl;v.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e(),Fb.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u0430\u0440\u0441\u0435\u0440\u0430\u0412\u0414\u0432\u0438\u0436\u043e\u043a(v);{let _=v.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(v.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(m),[],null,!0,!0,!1,null)),y=g.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442;(!_||_.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435!=y)&&(d+=`\r\n\u041e\u0448\u0438\u0431\u043a\u0430: \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e=${_?_.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:null}; \u043e\u0436\u0438\u0434\u0430\u043b\u043e\u0441\u044c=${y}`)}}),a.sendAndGetResult(d)}catch(d){a.sendAndGetResult("Error: "+d)}})},1)}static \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u044b\u0439\u041f\u0430\u0440\u0441\u0435\u0440\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439\u0421\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439\u0422\u0435\u0441\u0442\u043e\u0432(a,o="/tests/universal_engine/parser_tests.txt"){return a.delay(()=>{let u=a.config.cacheService.getRestPoint(o,null);a.config.cacheService.getTextRestcallUrl(u,h=>{try{let d="",f=new qp;yo.\u0440\u0430\u0437\u0431\u0438\u0442\u044c\u041d\u0430\u0422\u0435\u0441\u0442\u044b(h).forEach(g=>{console.log("------------------------------"),console.log(g.\u043a\u043e\u043c\u0430\u043d\u0434\u0430.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());let m=f.\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(g.\u043a\u043e\u043c\u0430\u043d\u0434\u0430.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),v=new gl;v.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e(),Lb.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u0430\u0440\u0441\u0435\u0440\u0430\u0412\u0414\u0432\u0438\u0436\u043e\u043a(v);{let _=v.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(v.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(m),[],null,!0,!0,!1,null)),y=g.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442;(!_||_.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435!=y)&&(d+=`\r\n\u041e\u0448\u0438\u0431\u043a\u0430: \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e=${_?_.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:null}; \u043e\u0436\u0438\u0434\u0430\u043b\u043e\u0441\u044c=${y}`)}}),a.sendAndGetResult(d)}catch(d){a.sendAndGetResult("Error: "+d)}})},1)}}class XT{constructor(a,o){this.fileName=a,this.content=o}static builder(){return new XT("","")}setFileName(a){return this.fileName=a,this}setContent(a){return this.content=a,this}}let YF=(()=>{class l{zip(o){return new Promise((c,u)=>{const h=new WT;o.forEach(d=>{d.content&&h.file(d.fileName,d.content)}),h.generateAsync({type:"blob"}).then(d=>{d.arrayBuffer().then(f=>{c(f)})})})}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();function C8e(l,a){1&l&&ye(0,"clr-icon",7)}function w8e(l,a){1&l&&ye(0,"clr-icon",8)}const Oee=function(l,a){return{"bg-4":l,"bg-6":a}};function S8e(l,a){if(1&l&&(A(0,"div"),A(1,"span",3),Q(2,C8e,1,0,"clr-icon",4),Q(3,w8e,1,0,"clr-icon",5),I(),A(4,"span",6),we(5),I(),A(6,"span"),we(7),I(),A(8,"span",3),we(9),I(),A(10,"span"),we(11),I(),I()),2&l){const o=a.$implicit,c=a.index;z(1),U("ngClass",gc(8,Oee,!o.error,!!o.error)),z(1),U("ngIf",!!o.error),z(1),U("ngIf",!o.error),z(2),Ai(" ",c+1," "),z(2),Ai("",o.name,": "),z(1),U("ngClass",gc(11,Oee,!o.error,!!o.error)),z(1),Sn(o.error?o.error:"\u0443\u0441\u043f\u0435\u0448\u043d\u043e"),z(2),Ai(" (",o.info,")")}}function T8e(l,a){1&l&&(A(0,"div"),ye(1,"clr-icon",8),we(2," \u0412\u0441\u0435 \u0442\u0435\u0441\u0442\u044b \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b. "),I())}function M8e(l,a){1&l&&(A(0,"div"),A(1,"span",9),we(2," \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u044e... "),I(),I())}let D8e=(()=>{class l{constructor(o,c,u){var d;this.config=o,this.zipService=c,this.cacheService=u,this.testResults=[],this.tests=[],this.testConfig=null,this.tests.push(...(d=yo.tests(),"UniversalEngineTest::",d.map(g=>(g.name="UniversalEngineTest::"+g.name,g)))),this.testConfig=new x8e(this.zipService,this.cacheService)}static tests(){return[vl.of(l.firstTest,"\u041f\u0435\u0440\u0432\u044b\u0439 \u0442\u0435\u0441\u0442"),vl.of(l.secondTest,"\u0412\u0442\u043e\u0440\u043e\u0439 \u0442\u0435\u0441\u0442"),vl.of(l.thirdTest,"\u0422\u0440\u0435\u0442\u0438\u0439 \u0442\u0435\u0441\u0442"),vl.of(l.forthTest,"\u0427\u0435\u0442\u0432\u0451\u0440\u0442\u044b\u0439 \u0442\u0435\u0441\u0442")]}static firstTest(o){return o.sendAndGetResult("")}static secondTest(o){return o.sendAndGetResult("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430.")}static thirdTest(o){throw new Error("\u041d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0442\u0440\u0435\u0442\u044c\u0435\u0433\u043e \u0442\u0435\u0441\u0442\u0430.")}static forthTest(o){return o.delay(()=>o.sendAndGetResult(""),1200)}ngOnInit(){}runTests(){this.testResults=[];let o=0,c=()=>{if(o>=this.tests.length)return;let u=null,h=null;try{h=this.tests[o++],h.start((d,f)=>{let p=f.stopAndGetResult(d);return p&&this.testResults.push(p),this.config.post(c,1),p},this.testConfig),u=h.action(h),u||(u=h.sendAndGetResult("\u041d\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430."))}catch(d){u=h.sendAndGetResult(""+d)}};this.config.post(c,1)}}return l.\u0275fac=function(o){return new(o||l)(N(kn),N(YF),N(Yp))},l.\u0275cmp=nt({type:l,selectors:[["app-tests"]],decls:6,vars:3,consts:[[1,"btn","btn-primary","btn-block",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngClass"],["shape","times",4,"ngIf"],["shape","check",4,"ngIf"],[1,"red"],["shape","times"],["shape","check"],[1,"spinner","spinner-inline"]],template:function(o,c){1&o&&(A(0,"div"),A(1,"button",0),pe("click",function(){return c.runTests()}),we(2,"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0435 \u0442\u0435\u0441\u0442\u044b"),I(),Q(3,S8e,12,14,"div",1),Q(4,T8e,3,0,"div",2),Q(5,M8e,3,0,"div",2),I()),2&o&&(z(3),U("ngForOf",c.testResults),z(1),U("ngIf",c.testResults.length==c.tests.length),z(1),U("ngIf",c.testResults.length!=c.tests.length&&c.testResults.length>0))},directives:[or,Gi,Mn,Aa],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]}),l})();function E8e(l,a){if(1&l&&(A(0,"div",7),ye(1,"app-svg-js-image",8),I()),2&l){const o=a.$implicit,c=J();z(1),U("svgWidth",210)("svgHeight",297)("scene","/scenes/memorial.page.scene.txt")("genName","Js")("logoText",c.logText)("type",1)("startPageIndex",o)("horizontalPagesCount",c.horizontalPagesCount)("verticalPagesCount",c.verticalPagesCount)}}let k8e=(()=>{class l{constructor(o){this.router=o,this.logText=["*\u041c\u043e\u043b\u0435\u0431\u0435\u043d","*\u041f\u0440\u0435\u0441\u0432\u044f\u0442\u043e\u0439 \u0411\u043e\u0433\u043e\u0440\u043e\u0434\u0438\u0446\u0435","\u0438\u0435\u0440. \u0414\u0438\u043c\u0438\u0442\u0440\u0438\u044f","\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","\u0438\u0435\u0440. \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430","\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","\u0410\u043d\u0434\u0440\u0435\u044f","\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430","\u0415\u0432\u0433\u0435\u043d\u0438\u044f","\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u044b","\u041c\u0438\u0445\u0430\u0438\u043b\u0430","\u0410\u043d\u0434\u0440\u0435\u044f","\u041c\u0438\u0445\u0430\u0438\u043b\u0430","\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u044b","\u0421\u0435\u0440\u0433\u0438\u044f","\u041b\u0438\u043b\u0438\u0438","\u041c\u0430\u0440\u0438\u0438","\u0438\u0435\u0440. \u0414\u0438\u043c\u0438\u0442\u0440\u0438\u044f","\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","\u0438\u0435\u0440. \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430","\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","\u0410\u043d\u0434\u0440\u0435\u044f","\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430","\u0415\u0432\u0433\u0435\u043d\u0438\u044f","\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u044b","\u041c\u0438\u0445\u0430\u0438\u043b\u0430","\u0410\u043d\u0434\u0440\u0435\u044f","\u041c\u0438\u0445\u0430\u0438\u043b\u0430","\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u044b","\u0421\u0435\u0440\u0433\u0438\u044f","\u041b\u0438\u043b\u0438\u0438","\u041c\u0430\u0440\u0438\u0438","\u0438\u0435\u0440. \u0414\u0438\u043c\u0438\u0442\u0440\u0438\u044f","\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","\u0438\u0435\u0440. \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430","\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","\u0410\u043d\u0434\u0440\u0435\u044f","\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430","\u0415\u0432\u0433\u0435\u043d\u0438\u044f","\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u044b","\u041c\u0438\u0445\u0430\u0438\u043b\u0430","\u0410\u043d\u0434\u0440\u0435\u044f","\u041c\u0438\u0445\u0430\u0438\u043b\u0430","\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u044b","\u0421\u0435\u0440\u0433\u0438\u044f","\u041b\u0438\u043b\u0438\u0438","\u041c\u0430\u0440\u0438\u0438"].join(", "),this.extraPages=[],this.horizontalPagesCount=2,this.verticalPagesCount=2}ngOnInit(){}onPagesCount(o){this.extraPages=[];let c=this.horizontalPagesCount*this.verticalPagesCount,u=o-c,h=0;for(;u>0;)u=Math.max(0,u-c),h+=c,this.extraPages.push(h)}}return l.\u0275fac=function(o){return new(o||l)(N(as))},l.\u0275cmp=nt({type:l,selectors:[["app-memorial-pages-editor"]],decls:9,vars:11,consts:[[1,"no-print"],[1,"clr-form"],[1,"clr-control-container"],["clrTextarea","","name","day","required","",1,"memorialsText",3,"ngModel","ngModelChange"],[1,"clr-subtext"],[3,"svgWidth","svgHeight","scene","genName","logoText","type","startPageIndex","horizontalPagesCount","verticalPagesCount","pagesCount"],["class","pageBreakBefore",4,"ngFor","ngForOf"],[1,"pageBreakBefore"],[3,"svgWidth","svgHeight","scene","genName","logoText","type","startPageIndex","horizontalPagesCount","verticalPagesCount"]],template:function(o,c){1&o&&(A(0,"div",0),A(1,"form",1),A(2,"div",2),A(3,"textarea",3),pe("ngModelChange",function(h){return c.logText=h}),I(),I(),A(4,"span",4),we(5,"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u043f\u0438\u0441\u043e\u043a"),I(),I(),I(),A(6,"div"),A(7,"app-svg-js-image",5),pe("pagesCount",function(h){return c.onPagesCount(h)}),I(),I(),Q(8,E8e,2,9,"div",6)),2&o&&(z(3),U("ngModel",c.logText),z(4),U("svgWidth",210)("svgHeight",297)("scene","/scenes/memorial.page.scene.txt")("genName","Js")("logoText",c.logText)("type",1)("startPageIndex",0)("horizontalPagesCount",c.horizontalPagesCount)("verticalPagesCount",c.verticalPagesCount),z(1),U("ngForOf",c.extraPages))},directives:[Gy,By,Td,Hl,Mj,zm,Ao,go,zu,or],styles:[".h512[_ngcontent-%COMP%]{width:210px;height:297px;margin:auto}.centeredImage[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto}.memorialsText[_ngcontent-%COMP%]{width:97vw;height:10em}"]}),l})();class Yi{constructor(a,o){this.component=a,this.data=o}}class ov extends Ar{constructor(a,o,c,u,h=!1){super(a,o,c),this.menuState=u,this.whiteBack=h}static builder(){return new ov("",null,null,rv.builder())}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}setWhiteBack(a){return this.whiteBack=a,this}setMenuState(a){return this.menuState=a,this}addCommand(a){return this.menuState.addCommand(a),this}}const A8e=function(l){return{whiteBG:l}};let ZF=(()=>{class l{constructor(o){this.config=o}get menuData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getMenuState(){return this.menuData.menuState}onCommand(o){this.data.onClick&&this.data.onClick(o)}}return l.\u0275fac=function(o){return new(o||l)(N(kn))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-menu"]],inputs:{data:"data"},decls:2,vars:8,consts:[[3,"ngClass"],[3,"genName","tag","svgWidth","svgHeight","printOnly","onCommand"]],template:function(o,c){1&o&&(A(0,"div",0),A(1,"app-svg-js-image",1),pe("onCommand",function(h){return c.onCommand(h)}),I(),I()),2&o&&(U("ngClass",Ss(6,A8e,c.menuData.whiteBack)),z(1),U("genName",c.getMenuState().genName)("tag",c.getMenuState())("svgWidth",512)("svgHeight",64)("printOnly",c.getMenuState().printOnly))},directives:[Gi,zu],styles:[".whiteBG[_ngcontent-%COMP%]{background-color:#fff!important}.divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]}),l})(),Ree=(()=>{class l extends YT{constructor(o,c){super(o,c),this.data=null,this.myBibleMenuData=$F.builder().setOnSelect(u=>{this.onBibleSelect(u)}),this.menuData=ov.builder().addCommand(Va.builder().setName("\u0411\u0438\u0431\u043b\u0438\u044f")).setOnClick(u=>{u&&this.onMenuClick(u.text)}),this.addMenuLink(Wi.builder().setLink("#").setName("\u041c\u0435\u043d\u044e").setShape("cog").setIsActive(()=>!0)),this.addMenuLink(Wi.builder().setLink("#").setName("\u041a\u043d\u0438\u0433\u0438").setShape("book").setOnClick(()=>{this.onMenuClick("")}).setIsActive(()=>!1)),this.addMenuLink(Wi.builder().setLink("#").setName("\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438").setShape("bookmark").setOnClick(()=>{this.onMenuClick("\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438")}).setIsActive(()=>!1)),this.addMenuLink(Wi.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.onMenuClick("\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP")}).setIsActive(()=>!1))}get bibleMenuData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}onMenuClick(o){this.data&&this.data.onClick&&this.data.onClick(o)}onBibleSelect(o){let c=o&&o.on?o.text:"\u0411\u0438\u0431\u043b\u0438\u044f",u=o&&o.on?o.typeName:"CENTER",h=c+(u?" "+u:"");this.menuData=ov.builder().addCommand(Va.builder().setName(c).setTag(h)).setOnClick(d=>{this.onMenuClick(d)})}}return l.\u0275fac=function(o){return new(o||l)(N(kn),N($i))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-bible-menu"]],inputs:{data:"data"},features:[pn],decls:5,vars:5,consts:[[1,"main-container","bgColor","wh100"],[1,"content-container","centeredImage"],[1,"h80",3,"genName","svgWidth","svgHeight","tag"],[1,"login-footer"],[1,"gapTitle",3,"data"]],template:function(o,c){1&o&&(A(0,"div",0),A(1,"div",1),ye(2,"app-svg-js-image",2),I(),A(3,"div",3),ye(4,"app-dynamic-menu",4),I(),I()),2&o&&(z(2),U("genName","BibleMenu")("svgWidth",512)("svgHeight",512)("tag",c.myBibleMenuData),z(2),U("data",c.menuData))},directives:[zu,ZF],styles:[".login-footer[_ngcontent-%COMP%]{height:20vh;padding-top:0;padding-bottom:5vh;padding-left:0}.centeredImage[_ngcontent-%COMP%]{top:0;bottom:0;left:0;right:0;max-width:100%;max-height:100%;margin:auto;overflow:auto}.wh100[_ngcontent-%COMP%]{width:100vw;height:calc(100vh - 60px)}.h80[_ngcontent-%COMP%]{height:calc(78vh - 60px);width:78vh}"]}),l})();class XF{constructor(){this.fineText=!1}static builder(){return new XF}setFineText(a){return this.fineText=a,this}}class Nb extends Ar{constructor(a,o,c,u){super(a,o,c),this.menuState=u}static builder(){return new Nb("",null,null,XF.builder().setFineText(!0))}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}}class KT{constructor(a,o){this.workerId=a,this.message=o}static builder(){return new KT(-1,null)}setWorkerId(a){return this.workerId=a,this}setMessage(a){return this.message=a,this}}let Fee=(()=>{class l{constructor(o){this.type=o,this.id=0,this.callbackId=-1,this.id=l.newId()}static newId(){return l.staticId++}setCallbackId(o){return this.callbackId=o,this}}return l.staticId=0,l})(),I8e=(()=>{class l extends Fee{constructor(o){super(l.TYPE),this.pageLoadedFrom=o}static builder(){return new l("")}setPageLoadedFrom(o){return this.pageLoadedFrom=o,this}}return l.TYPE="SetupWorkerRequest",l})(),Uu=null;class Ho{constructor(){this.handler=null,this.workerId=Ho.nextWorkerId()}static nextWorkerId(){return Ho.iNextWorkerId++}static builder(){return new Ho}enabled(){return!!Uu}subscribe(){Uu&&(Ho.appWorkerStaticOnmessageMap.set(this.workerId,a=>{this.handler&&this.handler(a)}),Uu.onmessage=({data:a})=>{let o=a;if(Ho.appWorkerStaticOnmessageMap.has(o.workerId)){let c=Ho.appWorkerStaticOnmessageMap.get(o.workerId);c&&c(o.message)}})}unsubscribe(){Uu&&Ho.appWorkerStaticOnmessageMap.delete(this.workerId)}sendMessage(a="hello"){Uu&&Uu.postMessage(KT.builder().setWorkerId(this.workerId).setMessage(a))}setOnMessage(a){return this.handler=a,this.subscribe(),this}}Ho.iNextWorkerId=0,Ho.appWorkerStaticOnmessageMap=new Map,"undefined"!=typeof Worker&&(Uu=new Worker(Ct.tu(new URL(Ct.p+Ct.u(273),Ct.b))),Uu.onmessage=({data:l})=>{let a=l;if(Ho.appWorkerStaticOnmessageMap.has(a.workerId)){let o=Ho.appWorkerStaticOnmessageMap.get(a.workerId);o&&o(a.message)}},Uu.onerror=l=>{},Uu.postMessage(KT.builder().setWorkerId(-1).setMessage(I8e.builder().setPageLoadedFrom(pageLoadedFrom))));class af extends Fee{}let Lee=(()=>{class l extends af{constructor(o,c){super(l.TYPE),this.libraryRef=o,this.libraryType=c}static builder(){return new l("","")}setLibraryRef(o){return this.libraryRef=o,this}setLibraryType(o){return this.libraryType=o,this}}return l.TYPE="LibraryInfoRequest",l})(),Nee=(()=>{class l extends af{constructor(o,c,u){super(l.TYPE),this.libraryType=o,this.bookRef=c,this.loadBooksEnabled=u}static builder(){return new l("","",!0)}setLibraryType(o){return this.libraryType=o,this}setBookRef(o){return this.bookRef=o,this}setLoadBooksEnabled(o){return this.loadBooksEnabled=o,this}}return l.TYPE="BookInfoRequest",l})(),Bee=(()=>{class l extends af{constructor(o,c,u){super(l.TYPE),this.libraryType=o,this.bookRef=c,this.languages=u}static builder(){return new l("","",[])}setLibraryType(o){return this.libraryType=o,this}setBookRef(o){return this.bookRef=o,this}setLanguages(o){return this.languages=o,this}addLanguage(o){return this.languages.push(o),this}}return l.TYPE="BookRequest",l})();class KF{constructor(a,o,c){this.bookRef=a,this.bookPath=o,this.bookPage=c}static builder(){return new KF("","","")}setBookRef(a){return this.bookRef=a,this}setBookPath(a){return this.bookPath=a,this}setBookPage(a){return this.bookPage=a,this}}let Vee=(()=>{class l extends af{constructor(o){super(l.TYPE),this.pages=o}static builder(){return new l([])}setBookPages(o){return this.pages=o,this}addBookPage(o){return this.pages.push(o),this}}return l.TYPE="PagesRequest",l})(),QF=(()=>{class l extends af{constructor(o){super(l.TYPE),this.pages=o}static builder(){return new l([])}setPages(o){return this.pages=o,this}addPage(o){return this.pages.push(o),this}}return l.TYPE="PagesResponse",l})();class JF{constructor(a,o,c){this.bookRef=a,this.path=o,this.content=c}static builder(){return new JF("","","")}setBookRef(a){return this.bookRef=a,this}setPath(a){return this.path=a,this}setContent(a){return this.content=a,this}}let zee=(()=>{class l extends af{constructor(o){super(l.TYPE),this.metaBooks=o}static builder(){return new l([])}setMetaBooks(o){return this.metaBooks=o,this}addMetaBook(o){return this.metaBooks.push(o),this}}return l.TYPE="BookResponse",l})(),Uee=(()=>{class l extends af{constructor(o,c,u){super(l.TYPE),this.bookRef=o,this.metaContent=c,this.loadBooksEnabled=u}static builder(){return new l("","",!0)}setBookRef(o){return this.bookRef=o,this}setMetaContent(o){return this.metaContent=o,this}setLoadBooksEnabled(o){return this.loadBooksEnabled=o,this}}return l.TYPE="BookInfoResponse",l})(),Hee=(()=>{class l extends af{constructor(o,c){super(l.TYPE),this.libraryRef=o,this.metaContent=c}static builder(){return new l("","")}setLibraryRef(o){return this.libraryRef=o,this}setMetaContent(o){return this.metaContent=o,this}}return l.TYPE="LibraryInfoResponse",l})();class Gee{constructor(a=null){this.messageSender=a,this.requests=new Map}send(a,o){return this.messageSender&&(this.requests.set(o.type,o),this.messageSender(a,o)),this}post(a,o){return this}runAll(a,o,c){let u=0,h=()=>{if(u>=a.length)return void(c&&c(!0));let d=a[u++];o(d,f=>{f?h():c&&c(!1)})};h()}}class eL{constructor(a,o="/static"){this.config=a,this.sRestPoint=o,this.textCache=new Map,this.waitingTextCache=new Map}get coding(){return this.config.coding}get restPoint(){return this.coding?"/staticb":this.sRestPoint}getRestPoint(a,o,c=null){const u=this.config.isRelativeCacheService()||this.config.isMemoryServerType()?this.config.baseHref:this.config.serviceAPIHost;return fs.merge(fs.merge(o||u,null!=c?c:this.restPoint),a)}completeOnDone(a,o){let c=this.waitingTextCache.get(a);c&&(c.forEach(u=>{this.config.post(()=>{u&&u(o)})}),this.waitingTextCache.delete(a))}getTextRestcallUrl(a,o){if(this.coding){if(this.textCache.has(a)){let c=this.textCache.get(a);if(null!=c)return void this.config.post(()=>{o&&o(c)})}return this.waitingTextCache.has(a)?void(o&&this.waitingTextCache.get(a).push(o)):(o&&this.waitingTextCache.set(a,[o]),this.getBinRestcallUrlRaw(a,c=>{if(c){let u=new Uint8Array(c),h=jT.fromByteArray(u);this.completeOnDone(a,h)}else o&&o(null)}))}return this.getTextRestcallUrlRaw(a,o)}getTextRestcallUrlRaw(a,o){if(this.textCache.has(a)){let u=this.textCache.get(a);if(null!=u)return void this.config.post(()=>{o&&o(u)})}if(this.waitingTextCache.has(a))o&&this.waitingTextCache.get(a).push(o);else{o&&this.waitingTextCache.set(a,[o]);var c=new XMLHttpRequest;c.onload=()=>{if(o){let u=4===c.readyState&&200===c.status?c.responseText:null;null!=u?this.textCache.set(a,u):this.textCache.delete(a),this.completeOnDone(a,u)}},c.open("get",a,!0),c.send()}}getBinRestcallUrlRaw(a,o){let c=a;if(this.coding){let h=c.lastIndexOf(".");h>=0&&(c=c.substring(0,h)+".bin")}var u=new XMLHttpRequest;u.onload=()=>{if(o){let d=new Uint8Array(4===u.readyState&&200===u.status?u.response:null),f=jT.dtr(d,-1);o&&o(f)}},u.open("get",c,!0),u.responseType="arraybuffer",u.send()}}class tL extends Gee{constructor(a=null){super(a),this.cacheService=null}setCacheService(a){return this.cacheService=a,this}post(a,o){switch(o.type){case Lee.TYPE:this.onLibraryInfoRequest(a,o);break;case Nee.TYPE:this.onBookInfoRequest(a,o);break;case Bee.TYPE:this.onBookRequest(a,o);break;case Vee.TYPE:this.onPagesRequest(a,o);break;default:throw new Error(`Unknown message type: ${o.type}.`)}return this}onLibraryInfoRequest(a,o){let c=Hee.builder().setCallbackId(o.id);o.libraryRef?this.loadLibraryInfo(o,c,o.libraryType+"/"+o.libraryRef+".library.txt",u=>{this.send(a,c)}):this.send(a,c)}loadLibraryInfo(a,o,c,u=null){let h=this.cacheService.getRestPoint(c,null);this.cacheService.getTextRestcallUrl(h,d=>{o.setMetaContent(d||"").setLibraryRef(a.libraryRef),u&&u(!!d)})}onBookInfoRequest(a,o){let c=Uee.builder().setCallbackId(o.id);o.bookRef?this.loadBookInfo(o,c,o.libraryType+"/"+o.bookRef+".book.txt",u=>{this.send(a,c)}):this.send(a,c)}loadBookInfo(a,o,c,u=null){let h=this.cacheService.getRestPoint(c,null);this.cacheService.getTextRestcallUrl(h,d=>{o.setMetaContent(d||"").setBookRef(a.bookRef),u&&u(!!d)})}onBookRequest(a,o){let c=zee.builder().setCallbackId(o.id),u=o.languages.map(h=>h);u.length||u.push("CS","Sinodal"),u=u.map(h=>fs.merge("/"+o.libraryType,o.bookRef+"_"+h+"/index.txt")),o.bookRef?this.runAll(u,(h,d)=>{this.loadBookPath(o,c,h,d)},h=>{this.send(a,c)}):this.send(a,c)}loadBookPath(a,o,c,u=null){let h=this.cacheService.getRestPoint(c,null);this.cacheService.getTextRestcallUrl(h,d=>{o.addMetaBook(JF.builder().setBookRef(a.bookRef).setPath(c).setContent(d||"")),u&&u(!!d)})}onPagesRequest(a,o){let c=QF.builder().setCallbackId(o.id);this.runAll(o.pages,(u,h)=>{let d=this.findPathPrefix(u.bookPath),f=this.cacheService.getRestPoint(fs.merge(d,u.bookPage),null);this.cacheService.getTextRestcallUrl(f,p=>{c.addPage(p||""),h(!0)})},u=>{this.send(a,c)})}findPathPrefix(a){let o=a.lastIndexOf("/");return a.substring(0,o)}}class Bb{static builder(){return new Bb}Book(){return nL.builder()}NameValue(){return iL.builder()}NamePath(){return rL.builder()}}class nL{constructor(a,o){this.settings=a,this.content=o}static builder(){return new nL([],[])}setSettings(a){return this.settings=a,this}setContent(a){return this.content=a,this}}class iL{constructor(a,o,c){this.name=a,this.value=o,this.value2=c}static builder(){return new iL("","",[])}setName(a){return this.name=a,this}setValue(a){return this.value=a,this}setValue2(a){return this.value2=a,this}}class rL{constructor(a,o,c){this.name=a,this.path=o,this.path2=c}static builder(){return new rL("","",[])}setName(a){return this.name=a,this}setPath(a){return this.path=a,this}setPath2(a){return this.path2=a,this}}var Vb=(()=>(function(l){l.\u0422\u0435\u043a\u0441\u0442="\u0442\u0435\u043a\u0442",l.\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435="\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",l.\u0413\u0440\u0430\u0444\u0438\u043a="\u0433\u0440\u0430\u0444\u0438\u043a",l.\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439\u042d\u043b\u0435\u043c\u0435\u043d\u0442="\u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439\u042d\u043b\u0435\u043c\u0435\u043d\u0442",l.\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f="\u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f"}(Vb||(Vb={})),Vb))();class zb{constructor(a,o,c,u){this.\u0442\u0438\u043f=a,this.\u0438\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430=o,this.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b=c,this.\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442=u}static builder(){return new zb(Vb.\u0422\u0435\u043a\u0441\u0442,!0,[],null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0438\u043f(a){return this.\u0442\u0438\u043f=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430(a){return this.\u0438\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b(a){return this.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b=a,this}get fragments(){return this.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442(a){return this.\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442=a,this}}class Xs{constructor(a,o,c,u){this.classes=a,this.text=o,this.link=c,this.component=u}static builder(){return new Xs({},"",null,null)}setClasses(a){return this.classes=a,this}setText(a){return this.text=a,this}setLink(a){return this.link=a,this}setComponent(a){return this.component=a,this}}let sL=(()=>{class l{constructor(o){this.config=o}get textFragmentData(){return this.data}get classes(){return this.textFragmentData.config.fragment.classes}get text2(){return this.textFragmentData.config.fragment.text}get text(){return this.data&&this.data.text?this.data.text:""}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){return{}}}return l.\u0275fac=function(o){return new(o||l)(N(kn))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-text-fragment"]],inputs:{data:"data"},decls:2,vars:2,consts:[[3,"ngClass"]],template:function(o,c){1&o&&(A(0,"span",0),we(1),I()),2&o&&(U("ngClass",c.classes),z(1),Sn(c.text2?c.text2:"\xa0"))},directives:[Gi],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]}),l})();class oL{constructor(a){this.fragment=a}static builder(){return new oL(null)}setFragment(a){return this.fragment=a,this}}class Ub extends Ar{constructor(a,o,c,u){super(a,o,c),this.config=u}static builder(){return new Ub("",null,null,oL.builder())}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}}class Wee{static uuidv4(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,a=>(a^crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16))}}class Vn{constructor(a,o,c,u,h,d){this.vId=a,this.vName=o,this.vDescription=c,this.vOffset=u,this.vLive=h,this.vTags=d,this.vDirty=!1,this.vPerson=null,this.vOnDirty=null}static isPriest(a){return Vn.getIndex(a)>0}static getIndex(a){const o=a.name.split(" ");if(o.length<=1)return-1;const c={"\u043f\u0430\u0442\u0440.":200,"\u0441\u0445\u0438\u043c\u0438\u0442\u0440.":100,"\u043c\u0438\u0442\u0440.":100,"\u0441\u0445\u0438\u0430\u0440\u0445\u0438\u0435\u043f.":97,"\u0430\u0440\u0445\u0438\u0435\u043f.":96,"\u0441\u0445\u0438\u0435\u043f.":95,"\u0435\u043f.":90,"\u0432\u0438\u043a.":89,"\u0441\u0445\u0438\u0430\u0440\u0445\u0438\u043c.":81,"\u0430\u0440\u0445\u0438\u043c.":80,"\u043f\u0440\u043e\u0442\u043e\u043f\u0440.":75,"\u0441\u0445\u0438\u0438\u0433\u0443\u043c.":70,"\u0438\u0433\u0443\u043c.":70,"\u043f\u0440\u043e\u0442.":60,"\u0438\u0435\u0440\u043e\u0441\u0445\u0438\u043c.":56,"\u0438\u0435\u0440\u043e\u043c.":55,"\u0438\u0435\u0440.":50,"\u0441\u0445\u0438\u0430\u0440\u0445\u0438\u0434.":48,"\u0430\u0440\u0445\u0438\u0434.":47,"\u043f\u0440\u043e\u0442\u043e\u0434\u0438\u0430\u043a.":46,"\u0438\u0435\u0440\u043e\u0441\u0445\u0438\u0434.":45,"\u0438\u0435\u0440\u043e\u0434.":44,"\u0434\u0438\u0430\u043a.":43,"\u0441\u0445\u0438\u043c.":35,"\u043c\u043e\u043d.":30,"\u0438\u043d.":25,"\u0438\u043f\u043e\u0434\u0438\u0430\u043a.":20,"\u0447\u0442.":10};let u=0;return o.forEach(h=>{const d=c[h];void 0!==d&&u<d&&(u=d)}),u}static sort(a,o=!1,c=!0){Vn.sortPersons(a,u=>u,o,c)}static namesCompare(a,o){return Vn.trimPrefixes(a).localeCompare(Vn.trimPrefixes(o))}static trimPrefixes(a){return a.indexOf(".")>0&&(a=a),a.split(" ").filter(c=>!c.trim().endsWith(".")).join(" ")}static namesSortFunction(a){return(o,c)=>{let u=a(o),h=a(c);return Vn.namesCompare(u.name,h.name)}}static fullSortFunction(a,o=!0){return(c,u)=>{let h=a(c),d=a(u);if(h.live!==d.live)return h.live?-1:1;const f=Vn.getIndex(h),p=Vn.getIndex(d);if(f>0||p>0){let m=p-f;return 0==m&&o&&(m=Vn.namesCompare(h.name,d.name)),m}let g=0;return 0==g&&o&&(g=Vn.namesCompare(h.name,d.name)),0===g?0:g<0?-1:1}}static sortPersons(a,o,c=!1,u=!0){return u?a.sort(Vn.fullSortFunction(o,c)):c&&a.sort(Vn.namesSortFunction(o)),a}setOnDirty(a){return this.vOnDirty=a,this}revertDirty(){this.vPerson&&(this.vName=this.vPerson.name,this.vOffset=this.vPerson.offset,this.vDescription=this.vPerson.description,this.vLive=this.vPerson.live,this.vTags=this.vPerson.tags,this.vPerson=null),this.dirty=!1}clearDirty(){this.dirty=!1,this.vPerson=null}setDirty(){this.dirty=!0,null==this.vPerson&&(this.vPerson=new Vn(this._id,this.name,this.description,this.offset,this.live,this.tags))}onDirty(){this.vOnDirty&&this.vOnDirty(this)}get old(){return this.vPerson}get dirty(){return this.vDirty}set dirty(a){this.vDirty=a}get _id(){return this.vId}set _id(a){this.setDirty(),this.vId=a,this.onDirty()}get name(){return this.vName}set name(a){this.setDirty(),this.vName=a,this.onDirty()}get description(){return this.vDescription}set description(a){this.setDirty(),this.vDescription=a,this.onDirty()}get offset(){return this.vOffset}set offset(a){this.setDirty(),this.vOffset=a,this.onDirty()}get live(){return this.vLive}set live(a){this.setDirty(),this.vLive=a,this.onDirty()}get tags(){return this.vTags}set tags(a){this.setDirty(),this.vTags=a,this.onDirty()}get kafizma(){return $i.getKafizmNumberBy(17,this.offset)}}class av{constructor(a){this.items=a,this.handler=null,this.handlerNewPerson=null,this.handlerDeletePerson=null}clone(){let a=new av([...this.items]);return a.handler=this.handler,a.handlerNewPerson=this.handlerNewPerson,a.handlerDeletePerson=this.handlerDeletePerson,a}setOnDirty(a){return this.handler=a,this.items.forEach(o=>{o.setOnDirty(a)}),this}setNewPersonHandler(a){return this.handlerNewPerson=a,this}setDeletePersonHandler(a){return this.handlerDeletePerson=a,this}newPerson(a,o){if(!this.handlerNewPerson)throw new Error("handlerNewPerson is null.");return this.handlerNewPerson(a,o)}deletePerson(a,o){if(!this.handlerDeletePerson)throw new Error("handlerDeletePerson is null.");return this.handlerDeletePerson(a)}}class aL{constructor(a,o,c,u,h,d){this._id=a,this.name=o,this.description=c,this.offset=u,this.live=h,this.tags=d}}class _l{constructor(a,o){this.success=a,this.error=o}static builder(){return new _l(!1,"")}setSuccess(a){return this.success=a,this}setError(a){return this.error=a,this}}class lL{constructor(a,o,c){this.success=a,this.error=o,this.fileName=c}static builder(){return new lL(!1,"","")}setSuccess(a){return this.success=a,this}setError(a){return this.error=a,this}setFileName(a){return this.fileName=a,this}}class cL{constructor(a){this.items=a}static toPersons(a,o,c,u){const h=[];return a.items.forEach(d=>{h.push(new Vn(d._id,d.name,d.description,d.offset,!!d.live,d.tags))}),new av(h).setOnDirty(o).setNewPersonHandler(c).setDeletePersonHandler(u)}}class P8e{constructor(a,o,c,u,h,d,f){this.memkey=a,this.id=o,this.name=c,this.description=u,this.offset=h,this.live=d,this.tags=f}}let bo=(()=>{class l{constructor(){this.intersectTagsMap=new Map,this.tagsHasFlagMap=new Map}static tagsHasFlag(o,c){const u=o.split(",");let h=!1;return u.forEach(d=>{d===c&&(h=!0)}),h}static addTagToTags(o,c){const u=o.split(","),h=[];let d=!1;return u.forEach(f=>{f!==c?f&&h.push(f):d=!0}),d||h.push(c),h.join(",")}static removeModificators(o){const c=o.split(","),u="\u0421\u043b\u0430\u0432\u0430 1,\u0421\u043b\u0430\u0432\u0430 2,\u0421\u043b\u0430\u0432\u0430 3,\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u043d\u044b\u0439".split(",");let h=[];return c.forEach(d=>{u.findIndex(f=>f===d)<0&&h.push(d)}),h.join(",")}static removeTag(o,c){const u=o.split(",");let h=[];return u.forEach(d=>{d!=c&&h.push(d)}),h.join(",")}static intersectTags(o,c){let h=c;return o.split(",").filter(f=>l.tagsHasFlag(h,f)).join(",")}intersectTags(o,c){let u=this.intersectTagsMap.get(o);if(u){let d=u.get(c);if(null!=d)return d}let h=l.intersectTags(o,c);return u||(u=new Map,this.intersectTagsMap.set(o,u)),u.set(c,h),h}tagsHasFlag(o,c){let u=this.tagsHasFlagMap.get(o);if(u){let d=u.get(c);if(null!=d)return d}let h=l.tagsHasFlag(o,c);return u||(u=new Map,this.tagsHasFlagMap.set(o,u)),u.set(c,h),h}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),jee=(()=>{class l{constructor(o,c){this.http=o,this.config=c,this.persons=[],this.restPoint="/kafizmy",this.canSave=null,this.personSaved=new Rt,this.personsSubscribersMap=new Map}setCanSave(o){this.canSave=o}getRestPoint(o,c){return fs.merge(fs.merge(c||this.config.serviceAPIHost,this.restPoint),o)}getRestPointRaw(o,c){return fs.merge(c||this.config.serviceAPIHost,o)}getAllPromise(o,c){let u=c||-1;const h=this.personsSubscribersMap.has(u);h||this.personsSubscribersMap.set(u,[]);const d=this.personsSubscribersMap.get(u);if(h)d.push(o);else{d.push(o);{const f=null!=u&&(u>=0||-1===u),p={params:{_memkey:""+u}},g={params:{}};this.http.get(this.getRestPoint(f?"/mempersons":"/persons",null),f?p:g).pipe(tr(Pi.handleError)).subscribe({next:m=>{const v=this.personsSubscribersMap.get(u);null!=v&&(v.forEach(_=>{_(cL.toPersons(m,y=>{},(y,b)=>{this.newPerson(u,new Vn(-1,y.name,y.description,y.offset,y.live,y.tags)).then(C=>{b&&b(C)},C=>{b&&b(_l.builder().setSuccess(!1).setError(C))})},y=>{this.deletePerson(u,y)}),null)}),this.personsSubscribersMap.delete(u))},error:m=>{const v=this.personsSubscribersMap.get(u);null!=v&&(v.forEach(_=>{_(null,m)}),this.personsSubscribersMap.delete(u))}})}}}getAll(){return new Promise((o,c)=>{this.getAllPromise((u,h)=>{u?o(u):c(h)})})}getPersons(o){return new Promise((c,u)=>{this.getAllPromise((h,d)=>{h?c(h):u(d)},o)})}save(o,c,u){if(!u&&this.canSave&&!this.canSave(c))return new Promise((d,f)=>{this.config.post(()=>{d(_l.builder().setSuccess(!0))})});const h={params:{__id:""+c._id,_memkey:""+o,_name:c.old.name,_description:c.old.description,_offset:""+c.old.offset,_live:c.old.live?"1":"0",_newName:c.name,_newDescription:c.description,_newOffset:""+c.offset,_newLive:c.live?"1":"0",_tags:c.tags}};return new Promise((d,f)=>{this.http.get(this.getRestPoint("/updatePerson",null),h).pipe(tr(Pi.handleError)).subscribe({next:p=>{d(p)},error:p=>{f(""+p)}}),c.clearDirty(),this.personSaved.emit(c)})}newPerson(o,c){const u={params:{_memkey:""+o,_name:c.name,_description:c.description,_offset:""+c.offset,_live:c.live?"1":"0",_tags:c.tags}};return new Promise((h,d)=>{this.http.get(this.getRestPoint("/addPerson",null),u).pipe(tr(Pi.handleError)).subscribe({next:f=>{h(f)},error:f=>{d(""+f)}}),c.clearDirty()})}newPersons(o){let u=[];o.forEach(f=>{u.push((f=>({memkey:f.memkey,name:f.name,description:f.description,offset:f.offset,live:f.live?1:0,tags:f.tags}))(f))});let h={persons:u};const d={params:{}};return new Promise((f,p)=>{this.http.post(this.getRestPoint("/addPersons",null),h,d).pipe(tr(Pi.handleError)).subscribe({next:g=>{f(g)},error:g=>{p(""+g)}})})}deletePerson(o,c){const u={params:{_personId:""+c._id}};this.http.get(this.getRestPoint("/deletePersonById",null),u).pipe(tr(Pi.handleError)).subscribe(h=>{},h=>{}),c.clearDirty()}deletePersons(o,c){const u={};let h=[];return o.forEach(d=>{h.push(d._id)}),new Promise((d,f)=>{this.http.post(this.getRestPoint("/deletePersons",null),{ids:h},u).pipe(tr(Pi.handleError)).subscribe({next:p=>{d(p)},error:p=>{f(""+p)}})})}deleteAll(o){const c=null!=o&&o>=0,u={params:{_memkey:""+o}},h={params:{}};return new Promise((d,f)=>{this.http.get(this.getRestPoint(c?"/deleteMemorialPersons":"/deleteAllPersons",null),c?u:h).pipe(tr(Pi.handleError)).subscribe({next:p=>{d(p)},error:p=>{f(""+p)}})})}addTempFile(o,c){const u={params:{_name:o}};return new Promise((h,d)=>{this.http.post(this.getRestPoint("/addFile",null),c,u).pipe(tr(Pi.handleError)).subscribe({next:f=>{h(lL.builder().setSuccess(!0).setFileName(this.getRestPointRaw("/temp/"+o,null)))},error:f=>{d(null)}})})}}return l.\u0275fac=function(o){return new(o||l)(Fe(sf),Fe(kn))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class Gh{constructor(){this.result=!1,this.errors=""}static build(){return new Gh}setResult(a){return this.result=a,this}setErrors(a){return this.errors=a,this}}class uL{constructor(){this.valid=!1,this.added=!1,this.authId="noId"}static build(){return new uL}setValid(a){return this.valid=a,this}setAdded(a){return this.added=a,this}setAuthId(a){return this.authId=a,this}}class hL{constructor(){this.errors="",this.result=!1,this.status=""}static build(){return new hL}setResult(a){return this.result=a,this}setErrors(a){return this.errors=a,this}setStatus(a){return this.status=a,this}}class Hb{constructor(a,o,c){this.username=a,this.password=o,this.authId=c}static clone(a){return new Hb(a.username,a.password,a.authId)}static cloneArray(a){const o=[];return a.forEach(c=>{o.push(Hb.clone(c))}),o}}let Gb=(()=>{class l{constructor(o){this.config=o,this.bLoggedIn=!1,this.participants=[],this.nextNewAuthId=1,this.localStorageName="",this.localStorageName=o.serviceAPIHost+"AuthSvc",this.loadData()}loadData(){const o=localStorage.getItem(this.localStorageName);if(o)try{const c=JSON.parse(o);this.participants=Hb.cloneArray(c)}catch(c){this.config.addAlert(yr.of("Error: "+c,"OK",10))}}saveData(){const o=JSON.stringify(this.participants);localStorage.setItem(this.localStorageName,o)}isLoggedIn(){return new Promise((o,c)=>{this.config.post(()=>{o(Gh.build().setResult(this.bLoggedIn))})})}login(){return this.bLoggedIn=!0,new Promise((o,c)=>{this.config.post(()=>{o(Gh.build().setResult(!0))})})}logout(){return this.bLoggedIn=!1,new Promise((o,c)=>{this.config.post(()=>{o(Gh.build().setResult(!0))})})}handleError(o,c){return Pi.handleError(o,c)}requestForUser(o,c){const u=uL.build().setValid(!1);let h=!1;if(this.participants.forEach(d=>{d.username===o&&(h=!0,u.setValid(c===d.password),u.setAuthId(d.authId=this.newAuthId()),u.setAdded(!1))}),!h&&o){const d=new Hb(o,c,this.newAuthId());this.participants.push(d),u.setValid(!0),u.setAuthId(d.authId),u.setAdded(!0)}return this.saveData(),new Promise((d,f)=>{this.config.post(()=>{d(u)})})}logoutAll(){this.participants.forEach(c=>{c.authId=""});const o=Gh.build();return o.setErrors(""),o.setResult(!0),new Promise((c,u)=>{this.config.post(()=>{c(o)})})}requestVersion(){this.participants.forEach(c=>{c.authId=""});const o=hL.build();return o.setErrors(""),o.setResult(!0),o.setStatus("memory.version"),new Promise((c,u)=>{this.config.post(()=>{c(o)})})}newAuthId(){return"MAT"+this.nextNewAuthId++}getParticipant(o){let c=null;return this.participants.forEach(u=>{u.authId===o&&(c=u)}),c}}return l.\u0275fac=function(o){return new(o||l)(Fe(kn))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),dL=(()=>{class l{constructor(o,c){this.auth=o,this.config=c,this.memkey=-1,this.authedPersons=null,this.nextPersonId=1,this.localStorageName="",this.localStorageName=c.serviceAPIHost+"KafSvc"}getUserId(){const c=this.auth.getParticipant(this.config.authId);if(!c)throw new Error("\u041d\u0435\u0442 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.");return c.username}get persons(){const o=this.getUserId();return this.checkOrLoadData(),this.authedPersons[o]||(this.authedPersons[o]=new cL([])),this.authedPersons[o]}checkOrLoadData(){if(this.authedPersons)return;const o=localStorage.getItem(this.localStorageName);if(o)try{const c=JSON.parse(o);c&&(this.authedPersons=c)}catch(c){this.authedPersons={},this.config.addAlert(yr.of("Error: "+c,"OK",10))}else this.authedPersons={};this.nextPersonId=1,this.persons.items.forEach(c=>{c._id>this.nextPersonId&&(this.nextPersonId=c._id+1)})}getNextPersonId(){return++this.nextPersonId}saveData(){const o=JSON.stringify(this.authedPersons);localStorage.setItem(this.localStorageName,o)}deleteAll(o){return this.checkOrLoadData(),this.persons.items=[],this.saveData(),new Promise((c,u)=>{c(_l.builder().setSuccess(!0))})}deletePersons(o,c){return this.checkOrLoadData(),o.forEach(u=>{let h=this.persons.items.findIndex(d=>d._id===u._id);h>=0&&this.persons.items.splice(h,1)}),this.saveData(),new Promise((u,h)=>{u(_l.builder().setSuccess(!0))})}checkAndAddDefaultHramvkostino(){let o="hramvkostino";this.persons.items.findIndex(c=>c.tags.indexOf(o)>=0)<0&&(this.addDefaultHramvkostino(this.persons,o),this.saveData())}checkAndAddDefaultAuthors(){let o="\u0430\u0432\u0442\u043e\u0440\u044b";this.persons.items.findIndex(c=>c.tags.indexOf(o)>=0)<0&&(this.addDefaultAuthors(this.persons,o),this.saveData())}addDefaultHramvkostino(o,c="\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439"){const h="\u0438\u0435\u0440. \u0414\u0438\u043c\u0438\u0442\u0440\u0438\u044f|-1|true\n\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430|-1|true\n\u0438\u0435\u0440. \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430|-1|true\n\u0438\u0435\u0440. \u0414\u0438\u043e\u043d\u0438\u0441\u0438\u044f|1|true\n\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430|-1|true\n\u0412\u0430\u043b\u0435\u0440\u0438\u044f|0|true\n\u0421\u0435\u0440\u0433\u0438\u044f|2|true\n\u041c\u0430\u0440\u0438\u0438|3|true\n\u0422\u0430\u0442\u0438\u0430\u043d\u044b|4|true\n\u0422\u0430\u0442\u0438\u0430\u043d\u044b|5|true\n\u0413\u0430\u043b\u0438\u043d\u044b|6|true\n\u041f\u0430\u0432\u043b\u0430|7|true\n\u041c\u0438\u0445\u0430\u0438\u043b\u0430|8|true\n\u0415\u043b\u0435\u043d\u044b|9|true\n\u0412\u0430\u043b\u0435\u0440\u0438\u044f|10|true\n\u041b\u044e\u0431\u043e\u0432\u0438|11|true\n\u041d\u0430\u0434\u0435\u0436\u0434\u044b|12|true\n\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430|13|true\n\u041b\u044e\u0434\u043c\u0438\u043b\u044b|14|true\n\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d\u0430|15|true\n\u041c\u0438\u0445\u0430\u0438\u043b\u0430|16|true\n\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430|17|true\n\u0410\u043d\u0434\u0440\u0435\u044f|18|true\n\u041c\u0430\u0440\u0438\u043d\u044b|19|true\n\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430|-1|false\n\u0412\u0438\u043a\u0442\u043e\u0440\u0430|-1|false\n\u0424\u043e\u0442\u0438\u043d\u0438\u0438|-1|false".split("\n"),d=c;h.forEach((f,p)=>{const g=f.trim().split("|");0!==g.length&&o.items.push(new aL(this.getNextPersonId(),g[0],"",+g[1],"true"===g[2],d))})}addDefaultAuthors(o,c="\u0430\u0432\u0442\u043e\u0440\u044b"){const h="\u0415\u0432\u0433\u0435\u043d\u0438\u044f|-1|true\n\u0410\u043d\u0434\u0440\u0435\u044f|-1|true".split("\n"),d=c;h.forEach((f,p)=>{const g=f.trim().split("|");0!==g.length&&o.items.push(new aL(this.getNextPersonId(),g[0],"",+g[1],"true"===g[2],d))})}getPersons(o){this.checkOrLoadData();const c=cL.toPersons(this.persons,u=>{},(u,h)=>{this.newPerson(this.memkey,new Vn(-1,u.name,u.description,u.offset,u.live,u.tags)).then(d=>{h&&h(d)},d=>{h&&h(_l.builder().setSuccess(!1).setError(""+d))})},(u,h)=>{this.deletePerson(this.memkey,u,h)});return new Promise((u,h)=>{this.config.post(()=>{u(c)})})}newPersons(o,c){return new Promise((u,h)=>{this.config.post(()=>{o.forEach(d=>{this.newPersonSync(d.memkey,new Vn(d.id,d.name,d.description,d.offset,d.live,d.tags),c)}),u(_l.builder().setSuccess(!0))},0)})}newPerson(o,c,u){return new Promise((h,d)=>{this.config.post(()=>{this.newPersonSync(o,c,u).then(f=>h(f))},0)})}newPersonSync(o,c,u){return this.checkOrLoadData(),this.persons.items.push(new aL(this.getNextPersonId(),c.name,c.description,c.offset,c.live,c.tags)),this.saveData(),new Promise((h,d)=>{h(_l.builder().setSuccess(!0))})}save(o,c,u,h){this.checkOrLoadData();let d=!1;return this.persons.items.forEach(f=>{f._id===c._id&&(f.name=c.name,f.description=c.description,f.tags=c.tags,f.offset=c.offset,f.live=c.live,d=!0)}),d&&this.saveData(),c.clearDirty(),h&&h(new _l(d,d?"OK":"Not found")),new Promise((f,p)=>{f(new _l(d,d?"OK":"Not found"))})}deletePerson(o,c,u){this.checkOrLoadData();const h=this.persons.items.findIndex(f=>f._id===c._id),d=h>=0;return d&&(this.persons.items.splice(h,1),this.saveData()),c.clearDirty(),u&&u(new _l(d,d?"OK":"Not found")),new Promise((f,p)=>{f(new _l(d,d?"OK":"Not found"))})}addTempFile(o,c){return new Promise((u,h)=>{this.config.post(()=>{h("\u041d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f.")})})}}return l.\u0275fac=function(o){return new(o||l)(Fe(Gb),Fe(kn))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class lv{constructor(a,o,c,u){this.vId=a,this.vName=o,this.vMode=c,this.vTags=u,this.vDirty=!1,this.vMemorial=null,this.vOnDirty=null,this.clazz={},this.clazzBadge={}}getOnDirty(){return this.vOnDirty}setOnDirty(a){return this.vOnDirty=a,this}revertDirty(){this.vMemorial&&(this.vName=this.vMemorial.name,this.vMode=this.vMemorial.mode,this.vMemorial=null),this.dirty=!1}clearDirty(){this.dirty=!1,this.vMemorial=null}setDirty(){this.dirty=!0,null==this.vMemorial&&(this.vMemorial=new lv(this._id,this.name,this.mode,this.tags))}onDirty(){this.vOnDirty&&this.vOnDirty(this)}get old(){return this.vMemorial}get dirty(){return this.vDirty}set dirty(a){this.vDirty=a}get _id(){return this.vId}set _id(a){this.setDirty(),this.vId=a,this.onDirty()}get name(){return this.vName}set name(a){this.setDirty(),this.vName=a,this.onDirty()}get mode(){return this.vMode}set mode(a){this.setDirty(),this.vMode=a,this.onDirty()}get tags(){return this.vTags}set tags(a){this.setDirty(),this.vTags=a,this.onDirty()}get enabled(){return"on"===this.mode}set enabled(a){this.mode=a?"on":"off"}}class R8e{constructor(a){this.items=a,this.handler=null,this.handlerNewMemorial=null,this.handlerDeleteMemorial=null}setOnDirty(a){return this.handler=a,this.items.forEach(o=>{o.setOnDirty(a)}),this}setNewMemorialHandler(a){return this.handlerNewMemorial=a,this}addNewMemorialHandler(a){if(this.handlerNewMemorial){const o=this.handlerNewMemorial;this.handlerNewMemorial=(c,u)=>{o(c,h=>{a(c,h.success?u:void 0),!h.success&&u&&u(h)})}}else this.handlerNewMemorial=a;return this}setDeleteMemorialHandler(a){return this.handlerDeleteMemorial=a,this}addDeleteMemorialHandler(a){if(this.handlerDeleteMemorial){const o=this.handlerDeleteMemorial;this.handlerDeleteMemorial=(c,u)=>{o(c,h=>{a(c,h.success?u:void 0),!h.success&&u&&u(h)})}}else this.handlerDeleteMemorial=a;return this}newMemorial(a,o){if(this.handlerNewMemorial)return this.handlerNewMemorial(a,o);o&&o(As.builder().setSuccess(!1).setError("\u041d\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430."))}deleteMemorial(a,o){if(this.handlerDeleteMemorial)return this.handlerDeleteMemorial(a,o);o&&o(As.builder().setSuccess(!1).setError("\u041d\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430."))}}class As{constructor(a,o){this.success=a,this.error=o}static builder(){return new As(!1,"")}setSuccess(a){return this.success=a,this}setError(a){return this.error=a,this}}class F8e{constructor(a,o,c,u){this._id=a,this.name=o,this.mode=c,this.tags=u}}class QT{constructor(a){this.items=a}static toMemorials(a,o,c,u){const h=[];return a.items.forEach(d=>{h.push(new lv(d._id,d.name,d.mode,d.tags))}),new R8e(h).setOnDirty(o).setNewMemorialHandler(c).setDeleteMemorialHandler(u)}}let $ee=(()=>{class l{constructor(o,c,u){this.http=o,this.config=c,this.auth=u,this.restPoint="/kafizmy",this.canSave=null,this.memorialsSubscribers=null,this.memorialSaved=new Rt}setCanSave(o){this.canSave=o}getRestPoint(o,c){return fs.merge(fs.merge(c||this.config.serviceAPIHost,this.restPoint),o)}getRestPointRaw(o,c){return fs.merge(c||this.config.serviceAPIHost,o)}getAllSubscribe(){return new Promise((o,c)=>{if(null!=this.memorialsSubscribers)this.memorialsSubscribers.push((u,h)=>{u?o(u):c(h)});else{this.memorialsSubscribers=[],this.memorialsSubscribers.push((h,d)=>{h?o(h):c(d)});const u={params:{}};this.http.get(this.getRestPoint("/memorials",null),u).pipe(tr(Pi.handleError)).subscribe({next:h=>{if(null==this.memorialsSubscribers)return;const d=this.memorialsSubscribers;this.memorialsSubscribers=null,d.forEach(f=>{f(QT.toMemorials(h,p=>{this.save(p)},(p,g)=>{this.newMemorial(new lv(-1,p,"on","")).then(m=>g?g(m):null,m=>g?g(As.builder().setError(m)):null)},(p,g)=>{this.deleteMemorial(p).then(m=>g?g(m):null,m=>g?g(As.builder().setError(m)):null)}),null)})},error:h=>{if(null==this.memorialsSubscribers)return;const d=this.memorialsSubscribers;this.memorialsSubscribers=null,d.forEach(f=>{f(null,h)})}})}})}isReady(){return new Promise((o,c)=>{this.config.post(()=>{const h=this.auth.getParticipant(this.config.authId);o(As.builder().setSuccess(!!h))})})}getAll(){return this.getAllSubscribe()}save(o,c){if(!c&&this.canSave&&!this.canSave(o)||!o.dirty)return new Promise((h,d)=>{this.config.post(()=>{h(As.builder().setSuccess(!0))})});const u={params:{_name:o.old.name,_mode:o.old.mode,_newName:o.name,_newMode:o.mode,_newTags:o.tags}};return new Promise((h,d)=>{this.http.get(this.getRestPoint("/updateMemorial",null),u).pipe(tr(Pi.handleError)).subscribe({next:f=>{h(f)},error:f=>{d(null)}}),o.clearDirty(),this.memorialSaved.emit(o)})}newMemorial(o,c){const u={params:{_name:o.name,_mode:o.mode}};return new Promise((h,d)=>{this.http.get(this.getRestPoint("/addMemorial",null),u).pipe(tr(Pi.handleError)).subscribe({next:f=>{h(f)},error:f=>{d(null)}}),o.clearDirty()})}deleteMemorial(o,c){const u={params:{_name:o.name,_mode:o.mode}};return new Promise((h,d)=>{this.http.get(this.getRestPoint("/deleteMemorial",null),u).pipe(tr(Pi.handleError)).subscribe({next:f=>{h(f)},error:f=>{d(null)}}),o.clearDirty()})}deleteAll(){const o={params:{}};return new Promise((c,u)=>{this.http.get(this.getRestPoint("/deleteAllMemorials",null),o).pipe(tr(Pi.handleError)).subscribe({next:h=>{c(h)},error:h=>{u(null)}})})}}return l.\u0275fac=function(o){return new(o||l)(Fe(sf),Fe(kn),Fe(Gb))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),qee=(()=>{class l{constructor(o,c,u){this.kafizmSvc=o,this.auth=c,this.config=u,this.memkey=-1,this.authedMemorials=null,this.localStorageName="",this.nextMemorialId=1,this.localStorageName=u.serviceAPIHost+"MemSvc"}isReady(){return new Promise((o,c)=>{this.config.post(()=>{const h=this.auth.getParticipant(this.config.authId);o(As.builder().setSuccess(!!h))})})}getUserId(){const c=this.auth.getParticipant(this.config.authId);if(!c)throw new Error("\u041d\u0435\u0442 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.");return c.username}get memorials(){const o=this.getUserId();return this.authedMemorials[o]||(this.authedMemorials[o]=new QT([])),this.authedMemorials[o]}getNextMemorialId(){return++this.nextMemorialId}checkOrloadData(){const o=()=>{let u=!0;this.memorials.items.forEach(d=>{"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439"===d.name&&(u=!1)})};if(this.authedMemorials)return void o();const c=localStorage.getItem(this.localStorageName);if(c)try{const u=JSON.parse(c);this.authedMemorials=u||{}}catch(u){this.authedMemorials={},this.config.addAlert(yr.of("Error: "+u,"OK",10))}this.authedMemorials||(this.authedMemorials={}),o(),this.nextMemorialId=1,this.memorials.items.forEach(u=>{u._id>this.nextMemorialId&&(this.nextMemorialId=u._id+1)})}saveData(){const o=JSON.stringify(this.authedMemorials);localStorage.setItem(this.localStorageName,o)}addTempFile(o,c,u){this.checkOrloadData()}deleteAll(){return new Promise((o,c)=>{this.config.post(()=>{this.checkOrloadData(),this.memorials.items=[],this.saveData(),o(As.builder().setSuccess(!0))})})}deleteMemorial(o){return new Promise((c,u)=>{this.config.post(()=>{this.checkOrloadData();const h=this.memorials.items.findIndex(f=>f._id===o._id),d=h>=0;d&&this.memorials.items.splice(h,1),this.saveData(),o.clearDirty(),c(new As(d,""))})})}getAll(){return new Promise((o,c)=>{this.config.post(()=>{this.checkOrloadData();const u=QT.toMemorials(this.memorials,h=>{},(h,d)=>{this.newMemorial(new lv(-1,h,"on","")).then(f=>d?d(f):null,f=>d?d(As.builder().setError(f)):null)},(h,d)=>{this.deleteMemorial(h).then(f=>d?d(f):null,f=>d?d(As.builder().setError(f)):null)});o(u)})})}getAllSubscribe(){return new Promise((o,c)=>{this.config.post(()=>{this.checkOrloadData();const u=QT.toMemorials(this.memorials,h=>{},(h,d)=>{this.newMemorial(new lv(-1,h,"on","")).then(f=>d?d(f):null,f=>d?d(As.builder().setError(f)):null)},(h,d)=>{this.deleteMemorial(h).then(f=>d?d(f):null,f=>d?d(As.builder().setError(f)):null)});o(u)})})}newMemorial(o){return new Promise((c,u)=>{this.config.post(()=>{if(this.checkOrloadData(),null!=this.memorials.items.find(d=>d.name==o.name))return void u(`\u0423\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c: '${o.name}'.`);let h=o.tags;h||(h+=o.name+",\u0421\u043b\u0430\u0432\u0430 1,\u0421\u043b\u0430\u0432\u0430 2,\u0421\u043b\u0430\u0432\u0430 3"),this.memorials.items.push(new F8e(this.getNextMemorialId(),o.name,o.mode,h)),this.saveData(),"hramvkostino"==o.name?this.kafizmSvc.checkAndAddDefaultHramvkostino():"\u0430\u0432\u0442\u043e\u0440\u044b"==o.name&&this.kafizmSvc.checkAndAddDefaultAuthors(),c(new As(!0,""))})})}save(o,c){return new Promise((u,h)=>{this.config.post(()=>{this.checkOrloadData();let d=!1;this.memorials.items.forEach(f=>{f._id===o._id&&(f.name=o.name,f.tags=o.tags,f.mode=o.mode,d=!0)}),d&&this.saveData(),"hramvkostino"==o.name?this.kafizmSvc.checkAndAddDefaultHramvkostino():"\u0430\u0432\u0442\u043e\u0440\u044b"==o.name&&this.kafizmSvc.checkAndAddDefaultAuthors(),o.clearDirty(),u(new As(d,d?"OK":"Not found"))})})}}return l.\u0275fac=function(o){return new(o||l)(Fe(dL),Fe(Gb),Fe(kn))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),cv=(()=>{class l{constructor(o,c,u){this.msRest=o,this.msMemory=c,this.config=u,this.memorials=null,this.subscribers=null,this.ms=null,this.updateMemorialsAction=new F9(h=>{this.getAll().then(d=>{null==h||h.map(f=>f(!0))})},100,(h,d)=>this.config.post(d,h)),this.config.isMemoryServerType()&&(this.ms=this.msMemory),(!this.ms||this.config.isRestServerType())&&(this.ms=this.msRest)}getMemorials(){return this.memorials}getActivePredefinedMemorialsRaw(){return["\u0430\u0432\u0442\u043e\u0440\u044b","hramvkostino"]}getActivePredefinedMemorials(){let o=[],c=this.getActivePredefinedMemorialsRaw();return this.memorials&&this.memorials.items&&this.memorials.items.forEach(u=>{c.forEach(h=>{h==u.name&&o.indexOf(h)<0&&o.push(h)})}),o}setMemorials(o){this.memorials=o,this.memorials.addDeleteMemorialHandler((c,u)=>{this.reloadMemorials(),u&&u(new As(!0,""))}),this.memorials.addNewMemorialHandler((c,u)=>{this.reloadMemorials(()=>{u&&u(new As(!0,""))})})}isReady(){return this.ms?this.ms.isReady():new Promise((o,c)=>{this.config.post(()=>{c(As.builder().setSuccess(!1).setError("\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u0433\u043e\u0442\u043e\u0432."))})})}getAll(){return new Promise((o,c)=>{if(null==this.subscribers)if(null!=this.memorials)o(this.memorials);else{this.subscribers=[(h,d)=>{h?o(h):d&&c(d)}];const u=(h,d)=>{if(h&&this.setMemorials(h),null!=this.subscribers){let f=this.subscribers;this.subscribers=null,f.forEach(p=>{d?p(null,d):p(this.memorials,null)})}};this.ms.getAll().then(h=>{u(h,null)},h=>{u(null,h)})}else this.subscribers.push((u,h)=>{u?o(u):h&&c(h)})})}save(o,c){return new Promise((u,h)=>{this.ms.save(o,c).then(d=>{this.reloadMemorials(),u(d)},d=>{h(d)})})}newMemorial(o){return new Promise((c,u)=>{this.ms.newMemorial(o).then(h=>{this.reloadMemorials(d=>{h&&h.success?c(h):u(`\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0430: "${o.name}"`)})},h=>{u(h)})})}deleteMemorial(o){return new Promise((c,u)=>{this.ms.deleteMemorial(o).then(h=>{this.reloadMemorials(d=>{h&&h.success?c(h):u(`\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0430: "${o.name}"`)})},h=>{u(h)})})}deleteAll(){return new Promise((o,c)=>{this.ms.deleteAll().then(u=>{this.reloadMemorials(h=>{u&&u.success?o(u):c('\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u043e\u0432."')})},u=>{c(u)})})}reloadMemorials(o){this.memorials=null,this.updateMemorialsAction.requestAction(o)}}return l.\u0275fac=function(o){return new(o||l)(Fe($ee),Fe(qee),Fe(kn))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),uv=(()=>{class l extends class O8e{constructor(){this.handler=()=>{},this.onChangesEvent=new pt,this.enabled=!0}setDetectChangesHandler(a){return this.handler=a,this}enableChangeDetector(a){this.enabled=a}getChangeDetector(){return this.onChangesEvent.asObservable()}detectedChanges(a){this.enabled&&(this.onChangesEvent.next(a),this.handler())}}{constructor(o,c,u,h){super(),this.ksRest=o,this.ksMemory=c,this.config=u,this.memorialsSvc=h,this.memkey=-1,this.persons=null,this.subscribers=null,this.ks=null,this.predefinedPersons=null,this.activePredefinedMemorialTags="",this.changesId=0,this.virtualIdBase=1e8,this.config.isMemoryServerType()&&(this.ks=this.ksMemory),(!this.ks||this.config.isRestServerType())&&(this.ks=this.ksRest),this.setupPredefinedPersons()}newChangesId(){return++this.changesId}getPersonsDirect(){return this.persons}reloadPersons(){this.persons=null,this.getPersons(-1)}getPersons(o){return new Promise((c,u)=>{var h;let d=(f,p)=>{f?c(f):u(""+p)};null==this.subscribers?null!=this.persons?c(this.persons):(this.subscribers=[d],null===(h=this.ks)||void 0===h||h.getPersons(this.memkey).then(f=>{if(this.persons=this.filterPersonsAndPredefined(f),null!=this.subscribers){const p=this.subscribers;this.subscribers=null,p.forEach(g=>{g(this.persons,null)})}this.config.post(()=>{this.runDetectAnyChanges()})},f=>{if(null!=this.subscribers){const p=this.subscribers;this.subscribers=null,p.forEach(g=>{g(null,""+f)})}})):this.subscribers.push(d)})}autoRejectOnFail(o){return this.ks?o(this.ks):new Promise((c,u)=>{this.config.post(()=>{u("\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.")})})}runDetectAnyChanges(){return this.detectedChanges(new Vn(-1,"","",-1,!0,"")),this}runChangeDetector(o){return new Promise((c,u)=>{o.then(h=>{c(h),this.runDetectAnyChanges()},h=>{u(u),this.runDetectAnyChanges()})})}save(o,c,u){return this.autoRejectOnFail(h=>this.runChangeDetector(h.save(this.memkey,c,u)))}deleteAll(o){return this.autoRejectOnFail(c=>this.runChangeDetector(c.deleteAll(this.memkey)))}deletePersons(o){return this.autoRejectOnFail(c=>this.runChangeDetector(c.deletePersons(o,this.memkey)))}newPerson(o,c,u){return this.autoRejectOnFail(h=>this.runChangeDetector(h.newPerson(this.memkey,c,u)))}newPersons(o,c){return this.autoRejectOnFail(u=>this.runChangeDetector(u.newPersons(o,c)))}addTempFile(o,c){return this.autoRejectOnFail(u=>u.addTempFile(o,c))}filterPersonsAndPredefined(o,c=!0){let u=o.items,h=o;h.items=[];let d=new av([]),f=!1;u.forEach(g=>{this.isValidPerson(g)?h.items.push(g):g._id<this.virtualIdBase&&(f=!0,this.removePredefinedTags(g)?(this.ks.save(this.memkey,g,!0),h.items.push(g)):d.items.push(g))}),f&&this.config.addAlert(yr.of("\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0437\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438.","OK",30));let p=this.memorialsSvc.getActivePredefinedMemorials();return this.activePredefinedMemorialTags=p.join(","),this.predefinedPersons.forEach((g,m)=>{p.forEach(v=>{v==m&&h.items.push(...g.clone().items)})}),d.items.length>0&&c&&this.deletePersons(d.items).then(g=>{this.config.addAlert(yr.of(g.success?"\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0437\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438.":g.error,"OK",30))},g=>{this.config.addAlert(yr.of(g,"OK",30))}),o}removePredefinedTags(o){let c=!1,u=o.tags;["\u0430\u0432\u0442\u043e\u0440\u044b","hramvkostino"].forEach(p=>{let g=bo.removeTag(u,p);g!=u&&(c=!0,u=g)});let f=""!=bo.removeModificators(u);return f&&(o.tags=u),f}isValidPerson(o){let c=bo.removeModificators(o.tags),h=!1;return["\u0430\u0432\u0442\u043e\u0440\u044b","hramvkostino"].forEach(d=>{let f=bo.removeTag(c,d);f!=c&&(h=!0),c=f}),!h}setupPredefinedPersons(){this.predefinedPersons=new Map;let o=this.virtualIdBase,c=()=>++o,u="\u0430\u0432\u0442\u043e\u0440\u044b";this.predefinedPersons.set(u,new av([new Vn(c(),"\u0415\u0432\u0433\u0435\u043d\u0438\u044f","",-1,!0,u),new Vn(c(),"\u0410\u043d\u0434\u0440\u0435\u044f","",-1,!0,u)])),u="hramvkostino",this.predefinedPersons.set(u,new av([new Vn(c(),"\u0438\u0435\u0440. \u0414\u0438\u043c\u0438\u0442\u0440\u0438\u044f","",-1,!0,u),new Vn(c(),"\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","",-1,!0,u),new Vn(c(),"\u0438\u0435\u0440. \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430","",-1,!0,u),new Vn(c(),"\u0438\u0435\u0440. \u0414\u0438\u043e\u043d\u0438\u0441\u0438\u044f","",1,!0,u),new Vn(c(),"\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","",-1,!0,u),new Vn(c(),"\u0434\u0438\u0430\u043a. \u0413\u0435\u043e\u0440\u0433\u0438\u044f","",-1,!0,u),new Vn(c(),"\u0412\u0430\u043b\u0435\u0440\u0438\u044f","",0,!0,u),new Vn(c(),"\u0421\u0435\u0440\u0433\u0438\u044f","",2,!0,u),new Vn(c(),"\u041c\u0430\u0440\u0438\u0438","",3,!0,u),new Vn(c(),"\u0422\u0430\u0442\u0438\u0430\u043d\u044b","",4,!0,u),new Vn(c(),"\u0422\u0430\u0442\u0438\u0430\u043d\u044b","",5,!0,u),new Vn(c(),"\u0413\u0430\u043b\u0438\u043d\u044b","",6,!0,u),new Vn(c(),"\u041f\u0430\u0432\u043b\u0430","",7,!0,u),new Vn(c(),"\u041c\u0438\u0445\u0430\u0438\u043b\u0430","",8,!0,u),new Vn(c(),"\u0415\u043b\u0435\u043d\u044b","",9,!0,u),new Vn(c(),"\u0412\u0430\u043b\u0435\u0440\u0438\u044f","",10,!0,u),new Vn(c(),"\u041b\u044e\u0431\u043e\u0432\u0438","",11,!0,u),new Vn(c(),"\u041d\u0430\u0434\u0435\u0436\u0434\u044b","",12,!0,u),new Vn(c(),"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430","",13,!0,u),new Vn(c(),"\u041b\u044e\u0434\u043c\u0438\u043b\u044b","",14,!0,u),new Vn(c(),"\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d\u0430","",15,!0,u),new Vn(c(),"\u041c\u0438\u0445\u0430\u0438\u043b\u0430","",16,!0,u),new Vn(c(),"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430","",17,!0,u),new Vn(c(),"\u0410\u043d\u0434\u0440\u0435\u044f","",18,!0,u),new Vn(c(),"\u041c\u0430\u0440\u0438\u043d\u044b","",19,!0,u),new Vn(c(),"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430","",-1,!1,u),new Vn(c(),"\u0412\u0438\u043a\u0442\u043e\u0440\u0430","",-1,!1,u),new Vn(c(),"\u0424\u043e\u0442\u0438\u043d\u0438\u0438","",-1,!1,u)]))}}return l.\u0275fac=function(o){return new(o||l)(Fe(jee),Fe(dL),Fe(kn),Fe(cv))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class lo{constructor(a,o,c,u,h,d=!0){this.path=a,this.isText=o,this.content=c,this.data=u,this.pathZip=h,this.printable=d}getPath(){return this.pathZip?this.pathZip:this.path}}class JT{constructor(a,o,c){this.index=a,this.text=o,this.classes=c,this.lines=[]}}class fL{constructor(a,o){this.lineNumber=a,this.translations=o}}class L8e{constructor(a,o,c,u,h){this.psalom=a,this.slava=o,this.lines=c,this.names=u,this.textJustifyClass=h,this.translations=[],this.memorials=[]}sync(){return this.translations=[],this.lines.forEach((a,o)=>{a.translations.forEach((c,u)=>{for(;this.translations.length<=u;)this.translations.push(new JT("","",""));let h=this.translations[u];c.classes&&(h.classes=c.classes),c.index&&(h.index=c.index),h.lines.push(new fL(a.lineNumber,[new JT(c.index,c.text,c.classes)]))})}),this}get translationsCount(){return this.lines.length?this.lines[0].translations.length:0}}class N8e{constructor(a,o,c,u,h){this.name=a,this.link=o,this.id=c,this.order=u,this.children=h}}class gL{constructor(a,o){this.textSizeClass=a,this.lines=o}}class B8e{constructor(a,o,c){this.type=a,this.link=o,this.name=c}}class V8e{constructor(a,o){this.kafizma=a,this.psalmy=o,this.uuidContent="",this.uuidContributer="",this.textSizeClass="",this.textJustifyClass="",this.name="",this.psalomName="",this.application="",this.applicationId="",this.developerId="",this.developerName="",this.developerNameSortOrder="",this.developerLink="",this.date="",this.content=[],this.fileNames=[],this.molitva=new gL("",[]),this.startMolitva=new gL("",[]),this.endMolitva=new gL("",[])}}class hv{constructor(a,o,c,u,h,d,f,p){this.name=a,this.psalomName=o,this.allBooks=c,this.bookNames=u,this.allBooksChapters=h,this.emptyFirstLines=d,this.showLineIndexes=f,this.showMiddleContent=p}static builder(){return new hv("","",[],[],[],[],!0,!0)}setName(a){return this.name=a,this}setPsalomName(a){return this.psalomName=a,this}setAllBooks(a){return this.allBooks=a,this}setBookNames(a){return this.bookNames=a,this}setAllBooksChapters(a){return this.allBooksChapters=a,this}setEmptyFirstLines(a){return this.emptyFirstLines=a,this}setShowLineIndexes(a){return this.showLineIndexes=a,this}setShowMiddleContent(a){return this.showMiddleContent=a,this}}class mL{constructor(a){this.requestsPack=a}static builder(){return new mL([])}setRequestPack(a){return this.requestsPack=a,this}addRequest(a){return this.requestsPack.push(a),this}}class Wb{constructor(a){this.handler=a}static builder(){return new Wb(null)}setHandler(a){return this.handler=a,this}print(a){this.handler&&this.handler(a)}}let Yee=(()=>{class l{constructor(o,c,u,h,d){this.cacheSvc=o,this.zipSvc=c,this.config=u,this.uiConfig=h,this.ks=d,this.prefix="templates/",this.baseContents=[],this.uniqueId=0,this.tocIndex=1,this.zipEntries=[],this.content=[],this.kafizmyContent=null,this.startRequest=null,this.setup()}setup(){this.baseContents=[new lo("ebook/mimetype.txt",!0,"",null,"mimetype"),new lo("ebook/stylesheet.css",!0,"",null,"stylesheet.css"),new lo("ebook/PonomarUnicode.ttf",!1,"",null,"PonomarUnicode.ttf"),new lo("ebook/triodion-ieUcs.ttf",!1,"",null,"triodion-ieUcs.ttf"),new lo("ebook/logo.png",!1,"",null,"logo.png"),new lo("ebook/meta_inf/container.xml.txt",!0,"",null,"META-INF/container.xml"),new lo("ebook/toc.ncx.txt",!0,"",null,"toc.ncx"),new lo("ebook/metadata.opf.txt",!0,"",null,"metadata.opf"),new lo("ebook/content.xhtml",!0,"",null,"content.xhtml"),new lo("ebook/titlepage.xhtml",!0,"",null,"titlepage.xhtml"),new lo("kafizma.parallel.xhtml",!0,"",null,"",!1),new lo("kafizma.parallel.redline.xhtml",!0,"",null,"",!1),new lo("kafizma.parallel.redline.nobreaks.xhtml",!0,"",null,"",!1),new lo("kafizma.xhtml",!0,"",null,"",!1),new lo("kafizma.nobreaks.xhtml",!0,"",null,"",!1)]}clearGeneratePrintRequestsPack(o,c){this.zipEntries=[],this.content=[],this.startRequest=o,this.kafizmyContent=c,this.tocIndex=1}startGeneratePrintRequestsPack(o,c){}nextUniqueId(){return this.uniqueId++}nextTocIndex(){return++this.tocIndex}newMustacheFileName(o,c,u,h,d){return new N8e(o,c,u+"_"+h,h,d)}findContent(o){return this.content.find(c=>c.path==o)}addToc(o,c,u,h,d){o.content.push(new B8e(c,u,h)),o.fileNames.push(this.newMustacheFileName(h,u,d,`${this.nextTocIndex()}`,[]))}doGeneratePrintRequestsPack(o,c){let u=o.bookNames.map(d=>d.endsWith("\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u0438\u0439")||d.endsWith("\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u0438\u0439 (\u0440\u0443\u0441)")?"cs":d.endsWith("\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u0438\u0439-UCS8")?"cs2":d.endsWith("\u043f\u0440\u0435\u0444\u0438\u043a\u0441")?"right":"").map(d=>d+" "+(this.uiConfig.ui.fineText.getBooleanValue()?"ftext":"")),h=!!o.bookNames.find(d=>"\u043f\u0440\u0435\u0444\u0438\u043a\u0441"===d);for(let d=0;d<o.allBooksChapters.length;++d){let f=this.findContent(h?"kafizma.parallel.redline.xhtml":this.uiConfig.ui.parallel.getBooleanValue()?this.uiConfig.ui.lineBreaks.getBooleanValue()?"kafizma.parallel.redline.xhtml":"kafizma.parallel.redline.nobreaks.xhtml":this.uiConfig.ui.lineBreaks.getBooleanValue()?"kafizma.xhtml":"kafizma.nobreaks.xhtml");if(!f)continue;let p=(b,C)=>o.allBooks[b].flatMap((x,w)=>x.filter((S,M)=>M==C).map((S,M)=>new JT(`${C}`,S,u[w]))),g=o.allBooks[d][0].map((b,C)=>{let x=o.emptyFirstLines[d].reduce((E,k)=>E>k?k:E,100),S=p(d,C),M=C+1-x,T=S.map(E=>E.lines.length>0).reduce((E,k,R,D)=>E&&k,!0);return new fL(`${M>0&&!T&&o.showLineIndexes?M:""}`,S)}),m=new L8e(o.allBooksChapters[d],[],g,[],this.uiConfig.ui.fineText.getBooleanValue()?"ftext":""),v=o.allBooks[d].length;for(let b=0;b<v;++b){let C=new JT("","",u[b]);C.lines=g.map(x=>new fL(x.lineNumber,[x.translations[b]])),m.translations.push(C)}c.psalmy=[m];const _=Mustache.render(f.content,c,{navPoint:"",item:"",itemref:""});let y=this.nextUniqueId();this.content.push(new lo(`glava_${o.allBooksChapters[d]}_${y}.xhtml`,!0,_,null,"")),this.addToc(c,"TextTOC",`glava_${o.allBooksChapters[d]}_${y}.xhtml`,`${c.psalomName} ${o.allBooksChapters[d]}`,`num_glava_${o.allBooksChapters[d]}_${y}`)}}updateContent(o){!this.kafizmyContent||(o.content=this.kafizmyContent.content,o.fileNames=this.kafizmyContent.fileNames)}endGeneratePrintRequestsPack(o,c,u){this.content.forEach(h=>{if(h.printable)if(h.isText)try{const d=Mustache.render(h.content,h.data?h.data:c,{navPoint:'\n    <navPoint id="{{id}}" playOrder="{{order}}">\n        <navLabel>\n          <text>{{name}}</text>\n        </navLabel>\n        <content src="{{link}}"/>{{#children}}{{>navPoint}}{{/children}}\n      </navPoint>',item:'\n    <item href="{{link}}" id="r{{id}}" media-type="application/xhtml+xml"/>{{#children}}{{>item}}{{/children}}',itemref:'\n    <itemref idref="r{{id}}"/>{{#children}}{{>itemref}}{{/children}}'});this.zipEntries.push(XT.builder().setFileName(h.getPath()).setContent(d))}catch(d){}else this.zipEntries.push(XT.builder().setFileName(h.getPath()).setContent(h.content))}),this.zipSvc.zip(this.zipEntries).then(h=>{const d=new Blob([h],{type:"octet/stream"}),f=(new Date).toISOString().split("T")[0];if(this.config.isPlatformAndroid()){const g=`${o.name}.epub`;this.ks.addTempFile(g,d).then(m=>{m&&m.success&&sv.startDownload(m.fileName,g),u(!0)})}else sv.saveData(d,`${o.name}.${f}.epub`),u(!0)})}loadBaseContent(o,c,u){let h=this.baseContents[o];h.isText?this.cacheSvc.getText(this.prefix+h.path,d=>{d?(this.content.push(new lo(h.path,h.isText,d,h.data,h.pathZip,h.printable)),this.config.post(()=>{c()})):(this.config.addAlert(yr.of(`\u041e\u0448\u0438\u0431\u043a\u0430: ${h.path}`,"\u041e\u041a",15)),u(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d: ${h.path}.`))}):this.cacheSvc.getBinary(this.prefix+h.path,d=>{d?(this.content.push(new lo(h.path,h.isText,d,h.data,h.pathZip,h.printable)),this.config.post(()=>{c()})):(this.config.addAlert(yr.of(`\u041e\u0448\u0438\u0431\u043a\u0430: ${h.path}`,"\u041e\u041a",15)),u(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d: ${h.path}.`))})}generate(o,c=!0,u=!0,h=!0){return new Promise((d,f)=>{let p=c?0:this.baseContents.length;const g=(this.uiConfig.ui.parallel.getBooleanValue()?"P":"")+(this.uiConfig.ui.coloredTranslations.getBooleanValue()?"C":"")+(this.uiConfig.ui.fineText.getBooleanValue()?"J":"")+(this.uiConfig.ui.showMolitvy.getBooleanValue()?"M":"");let m=new V8e(1,[]);m.name=o.name,m.psalomName=o.psalomName,m.application=this.config.getApplication().name,m.applicationId=this.config.getApplication().id,m.developerId=this.config.developerId,m.developerName=this.config.developerName,m.developerNameSortOrder=this.config.developerNameSortOrder,m.developerLink=this.config.developerLink,m.uuidContent=Wee.uuidv4(),m.uuidContributer=Wee.uuidv4(),m.application=`${this.config.getApplication().name} (${this.config.version}) ${g}`;const v=(new Date).toISOString(),_=v.lastIndexOf(".");m.date=v.substring(0,_)+"+00:00",c&&this.clearGeneratePrintRequestsPack(o,m);let y=()=>{let b=p++;b>=this.baseContents.length?(c?(this.startGeneratePrintRequestsPack(o,m),this.addToc(m,"TextTOC","titlepage.xhtml","\u041e\u0431\u043b\u043e\u0436\u043a\u0430","num_title"),this.addToc(m,"TextTOC","content.xhtml","\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435","num_content")):this.updateContent(m),u&&this.doGeneratePrintRequestsPack(o,m),h?this.endGeneratePrintRequestsPack(o,m,C=>d(C)):d(!0)):this.loadBaseContent(b,()=>y(),C=>f(C))};y()})}}return l.\u0275fac=function(o){return new(o||l)(Fe(Yp),Fe(YF),Fe(kn),Fe($i),Fe(uv))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class vL{constructor(a,o){this.libName=a,this.link=o}static builder(){return new vL("",null)}setLibName(a){return this.libName=a,this}setLink(a){return this.link=a,this}}class _L{constructor(a,o){this.fragment=a,this.link=o}static builder(){return new _L(null,null)}setFragment(a){return this.fragment=a,this}setLink(a){return this.link=a,this}}class yL extends Ar{constructor(a,o,c,u){super(a,o,c),this.config=u,this.id="",this.targetId="",this.waitingForSenderId="",this.printerHandler=Wb.builder()}static builder(){return new yL("",null,null,_L.builder())}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}setId(a){return this.id=a,this}setTargetId(a){return this.targetId=a,this}setWaitingForSenderId(a){return this.waitingForSenderId=a,this}}class Hu{constructor(a){this.onRoute=a,this.logical=!0,this.shortName=!1,this.textIsPage=!1,this.chapter="",this.startLine=-1,this.endLine=-1,this.bookName="",this.languages=null}static builder(){return new Hu(null)}setShortName(a){return this.shortName=a,this}setTextIsPage(a){return this.textIsPage=a,this}setChapter(a){return this.chapter=a,this}setStartLine(a){return this.startLine=a,this}setEndLine(a){return this.endLine=a,this}setBookName(a){return this.bookName=a,this}setLanguages(a){return this.languages=a,this}setLogical(a){return this.logical=a,this}setOnRoute(a){return this.onRoute=a,this}route(a){this.onRoute&&this.onRoute(a)}}class Gu extends Ar{constructor(a,o,c,u,h){super(a,o,c),this.link=u,this.search=h,this.menuLinks=null,this.forceMenu=!1,this.hideUI=!1,this.showPrintButtons=!1,this.handleMemorialNewTitleTarget="",this.facePage=!1,this.parallel=null,this.linebreaks=null,this.id="",this.targetId="",this.printerHandler=Wb.builder(),this.autoPrint=!1}static builder(){return new Gu("",null,null,Hu.builder().setShortName(!0),"")}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}setLink(a){return this.link=a,this}setSearch(a){return this.search=a,this}setMenu(a){return this.menuLinks=a,this}setForceMenu(a){return this.forceMenu=a,this}setHideUI(a){return this.hideUI=a,this}setShowPrintButtons(a){return this.showPrintButtons=a,this}setHandleMemorialNewTitle(a){return this.handleMemorialNewTitleTarget=a,this}setFacePage(a){return this.facePage=a,this}setParallel(a){return this.parallel=a,this}setLinebreaks(a){return this.linebreaks=a,this}setId(a){return this.id=a,this}setTargetId(a){return this.targetId=a,this}setAutoPrint(a){return this.autoPrint=a,this}}function z8e(l,a){1&l&&(A(0,"span"),we(1,"+"),I())}function U8e(l,a){if(1&l&&(A(0,"span"),we(1),I()),2&l){const o=J(2);z(1),Ai("",o.link.endChapter,":")}}function H8e(l,a){if(1&l&&(A(0,"span"),we(1),I()),2&l){const o=J(2);z(1),Sn(o.link.endLine)}}function G8e(l,a){if(1&l&&(A(0,"span"),we(1,"-"),Q(2,U8e,2,1,"span",2),Q(3,H8e,2,1,"span",2),I()),2&l){const o=J();z(2),U("ngIf",o.link.endChapter>0),z(1),U("ngIf",o.link.endLine)}}function W8e(l,a){1&l&&ye(0,"app-dynamic-library-book",4),2&l&&U("data",J().bookData)}const j8e=function(l){return{"is-solid":l,cursor:!0,blue:!0}};let bL=(()=>{class l{constructor(o){this.config=o,this.bookData=Gu.builder(),this.checkLater=Dw.builder(),this.opened=!1}get linkFragmentData(){return this.data}get classes(){return this.linkFragmentData.config.fragment.classes}get link(){return this.linkFragmentData.config.link.link}get text(){return this.data&&this.data.text?this.data.text:""}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){var o,c;if(this.linkFragmentData.printerHandler.setHandler(u=>{this.bookData.printerHandler.print(u)}),this.checkLater.setConfig(this.config).setWaitingForSenderId(this.linkFragmentData.waitingForSenderId).checkEnabled(),this.linkFragmentData.config.link){let u=this.linkFragmentData.config.link.libName;u||(u="\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP"),this.opened!=!!(null===(c=null===(o=this.linkFragmentData.config.link)||void 0===o?void 0:o.link)||void 0===c?void 0:c.opened)&&this.config.post(()=>{var h,d;this.opened=!!(null===(d=null===(h=this.linkFragmentData.config.link)||void 0===h?void 0:h.link)||void 0===d?void 0:d.opened)}),this.bookData.setText(u).setId(this.linkFragmentData.id).setTargetId(this.linkFragmentData.targetId).setLink(Hu.builder().setOnRoute(h=>{}).setChapter(""+this.linkFragmentData.config.link.link.startChapter).setStartLine(this.linkFragmentData.config.link.link.startLine).setEndLine(this.linkFragmentData.config.link.link.endLine))}}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){return{}}toggleOpened(o){this.opened=!this.opened,o.stopPropagation()}}return l.\u0275fac=function(o){return new(o||l)(N(kn))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-link-fragment"]],inputs:{data:"data"},decls:7,vars:11,consts:[[3,"click"],[3,"ngClass","click"],[4,"ngIf"],[3,"data",4,"ngIf"],[3,"data"]],template:function(o,c){1&o&&(A(0,"span",0),pe("click",function(h){return h.stopPropagation()}),A(1,"clr-icon",1),pe("click",function(h){return c.toggleOpened(h)}),I(),A(2,"span",1),pe("click",function(h){return c.toggleOpened(h)}),we(3),Q(4,z8e,2,0,"span",2),Q(5,G8e,4,2,"span",2),I(),Q(6,W8e,1,1,"app-dynamic-library-book",3),I()),2&o&&(z(1),U("ngClass",Ss(9,j8e,c.opened)),Je("shape","scroll"),z(1),U("ngClass",c.classes),z(1),ry("",c.link.name,".",c.link.startChapter,":",c.link.startLine,""),z(1),U("ngIf",c.link.endChapter>0||c.link.endLine>=1e3),z(1),U("ngIf",c.link.endChapter>0||c.link.endLine>0&&c.link.endLine<1e3),z(1),U("ngIf",c.opened&&c.checkLater.enabled))},styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]}),l})();class xL{FragmentIdOp(){return wL.builder()}TextOp(){return SL.builder()}LinkOp(){return TL.builder()}}var za=(()=>(function(l){l[l.Text=0]="Text",l[l.Link=1]="Link",l[l.Id=2]="Id"}(za||(za={})),za))();class CL{constructor(a){this.type=a}}class wL extends CL{constructor(a){super(za.Id),this.id=a}static builder(){return new wL("")}setId(a){return this.id=a,this}}class SL extends CL{constructor(a,o){super(za.Text),this.text=a,this.color=o}static builder(){return new SL("","")}setText(a){return this.text=a,this}setColor(a){return this.color=a,this}}class TL extends CL{constructor(a,o,c,u,h,d=null,f=!1,p="",g="",m=""){super(za.Link),this.name=a,this.startChapter=o,this.startLine=c,this.endChapter=u,this.endLine=h,this.langugages=d,this.opened=f,this.id=p,this.targetId=g,this.waitingForSenderId=m}static builder(){return new TL("",1,1,-1,-1)}setName(a){return this.name=a,this}setStartChapter(a){return this.startChapter=a,this}setStartLine(a){return this.startLine=a,this}setEndChapter(a){return this.endChapter=a,this}setEndLine(a){return this.endLine=a,this}setLanguages(a){return this.langugages=a,this}setOpened(a){return this.opened=a,this}setId(a){return this.id=a,this}setTargetId(a){return this.targetId=a,this}setWaitingForSenderId(a){return this.waitingForSenderId=a,this}}let ML=(()=>{class l{parseFragments(o,c,u,h="red"){let d=[],f=fragmentsParserStatic.parse(u,{builder:new xL});if(null!=f&&f.length)f[0].forEach(p=>{switch(p.type){case za.Text:{let g=p,m=Xs.builder().setClasses(l.getLastClass(g.color,h)).setText(g.text),v=Ub.builder();v.config.setFragment(m),d.push(m.setComponent(new Yi(sL,v)))}break;case za.Link:{let g=p,m=Xs.builder().setClasses(l.getLastClass("\u0441",h));m.classes.cursor=!0;let v=yL.builder();v.config.setLink(vL.builder().setLink(g).setLibName(c(g.name))).setFragment(m),v.setId(g.id).setWaitingForSenderId(g.waitingForSenderId).setTargetId(g.targetId),d.push(m.setComponent(new Yi(bL,v)))}break;case za.Id:{let g=p,m=o.get(g.id);if(m)d.push(m);else{let v=Xs.builder().setClasses(l.getLastClass("\u043a",h)).setText(g.id),_=Ub.builder();_.config.setFragment(v),d.push(v.setComponent(new Yi(sL,_)))}}break;default:throw new Error(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0442\u0438\u043f \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u0430: ${p.type}.`)}});else{let p=Xs.builder().setText(""),g=Ub.builder();g.config.setFragment(p),d.push(p.setComponent(new Yi(sL,g)))}return d}}return l.getLastClass=(a,o="red",c=!0)=>{let u={};switch(a){case"\u041a":case"\u043a":c&&(u[o]=c);break;case"\u0417":case"\u0437":c&&(u.green=c);break;case"\u0416":case"\u0436":c&&(u.yellow=c);break;case"\u0421":case"\u0441":c&&(u.blue=c)}return u},l})();class DL{constructor(a,o,c){this.book=a,this.lineIndex=o,this.bookSvc=c}static builder(){return new DL(null,0,null)}setBook(a){return this.book=a,this}setLineIndex(a){return this.lineIndex=a,this}setBookSvc(a){return this.bookSvc=a,this}}class dv extends Ar{constructor(a,o,c,u){super(a,o,c),this.config=u}static builder(){return new dv("",null,null,DL.builder())}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}}let Zee=(()=>{class l{constructor(o){this.viewContainerRef=o}}return l.\u0275fac=function(o){return new(o||l)(N(vi))},l.\u0275dir=gt({type:l,selectors:[["","addComponent",""]]}),l})();function $8e(l,a){}let Wh=(()=>{class l{constructor(){this.thisComponent=null,this.currentAdIndex=-1}set component(o){if(!o)throw new Error("Error: thisComponent is null.");this.thisComponent=o}get component(){return this.thisComponent}ngOnInit(){this.loadComponent()}ngOnDestroy(){}loadComponent(){const o=this.thisComponent,c=this.adHost.viewContainerRef;c.clear(),c.createComponent(o.component).instance.data=o.data}reload(){this.loadComponent()}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=nt({type:l,selectors:[["app-add-component"]],viewQuery:function(o,c){if(1&o&&An(Zee,7),2&o){let u;kt(u=At())&&(c.adHost=u.first)}},inputs:{component:"component"},decls:1,vars:0,consts:[["addComponent",""]],template:function(o,c){1&o&&Q(0,$8e,0,0,"ng-template",0)},directives:[Zee],encapsulation:2}),l})();function q8e(l,a){1&l&&(A(0,"span"),we(1,"\xa0"),I())}const Y8e=function(l,a){return{red:l,redDark:a}};function Z8e(l,a){if(1&l&&(A(0,"span"),A(1,"span",2),we(2),I(),A(3,"span"),A(4,"span",3),we(5,"."),I(),I(),I()),2&l){const o=J(2);z(1),U("ngClass",gc(2,Y8e,!(o.colored&&o.bookIndex%2),o.colored&&!!(o.bookIndex%2))),z(1),Sn(o.lineIndex?o.lineIndex:"")}}function X8e(l,a){1&l&&ye(0,"app-add-component",5),2&l&&U("component",J().$implicit.component)}function K8e(l,a){if(1&l&&(A(0,"span"),Q(1,X8e,1,1,"app-add-component",4),I()),2&l){const o=a.$implicit;z(1),U("ngIf",o.component)}}function Q8e(l,a){if(1&l&&(A(0,"span"),Q(1,Z8e,6,5,"span",0),Q(2,K8e,2,1,"span",1),I()),2&l){const o=J();z(1),U("ngIf",o.isLineIndexed(o.book,o.lineIndex)),z(1),U("ngForOf",o.getBookFragments(o.bookIndex,o.book,o.lineIndex))}}let eM=(()=>{class l{constructor(o){this.uiConfig=o}get spanTextData(){return this.data}get bookIndex(){return this.spanTextData.config.book?this.spanTextData.config.book.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043d\u0438\u0433\u0438:0}get book(){return this.spanTextData.config.book}get lineIndex(){return this.spanTextData.config.lineIndex}get bookSvc(){return this.spanTextData.config.bookSvc}get text(){return this.data&&this.data.text?this.data.text:""}get colored(){return this.uiConfig.ui.coloredTranslations.getBooleanValue()}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){return{}}isLineIndexed(o,c){return c>0&&o.\u0441\u0442\u0440\u043e\u043a\u0438[c].fragments.length>0&&o.\u0441\u0442\u0440\u043e\u043a\u0438[c].\u0438\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430}getBookFragments(o,c,u){var h,d,f;let p=null===(f=null===(d=null===(h=this.bookSvc)||void 0===h?void 0:h.bookContent[o])||void 0===d?void 0:d.parsed)||void 0===f?void 0:f.settings.find(g=>"\u044f\u0437\u044b\u043a"===g.name.toLowerCase());return u<0?[Xs.builder().setText(p?p.value:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e").setClasses({red:!0})]:c.\u0441\u0442\u0440\u043e\u043a\u0438[u].fragments}}return l.\u0275fac=function(o){return new(o||l)(N($i))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-span-text"]],inputs:{data:"data"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"hidden"],[3,"component",4,"ngIf"],[3,"component"]],template:function(o,c){1&o&&(Q(0,q8e,2,0,"span",0),Q(1,Q8e,3,2,"span",0)),2&o&&(U("ngIf",!c.book),z(1),U("ngIf",c.book))},directives:[Mn,Gi,or,Wh],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]}),l})();class J8e{newText(){return EL.builder()}}class EL{constructor(a,o){this.type=a,this.text=o}static builder(){return new EL("","")}setType(a){return this.type=a,this}setText(a){return this.text=a,this}}class tM{static escapeString(a){let o="",c=!1;for(let u=0;u<a.length;u++){let h=a.charAt(u);switch(h){case"'":c||(o+="\\"),o+=h,c=!1;break;case"\\":o+=h,c=!0;break;default:o+=h,c=!1}}return o}static stdConverter(a){let o="";switch(a.type){case"*":o+=a.text;break;case"=":o+="\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0432\u044b\u0432\u0435\u0441\u0442\u0438("+a.text+");";break;case"":o+="\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0432\u044b\u0432\u0435\u0441\u0442\u0438('"+tM.escapeString(a.text)+"');"}return o}parse(a){return bracerParserStatic.parse(a,{builder:new J8e})}getStdConverter(){return a=>tM.stdConverter(a)}join(a,o=null){return o||(o=this.getStdConverter()),a.map(c=>o(c)).join("")}parseAndJoin(a,o=null){return this.join(this.parse(a),o)}}class kL{constructor(){this.block=!1,this.outline=!1,this.type="primary"}static builder(){return new kL}setBlock(a){return this.block=a,this}setOutline(a){return this.outline=a,this}setType(a){return this.type=a,this}}class nM extends Ar{constructor(a,o,c,u){super(a,o,c),this.classes=u}static builder(){return new nM("",null,null,kL.builder().setBlock(!0))}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}}let Xee=(()=>{class l{constructor(o){this.config=o}get btnData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:"\u041f\u0435\u0440\u0432\u0430\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u043d\u043e\u043f\u043a\u0430"}get type(){return this.data&&this.data.classes.type?this.data.classes.type:""}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){var o=this.btnData.classes;return{btn:!0,"btn-block":o.block,"btn-link":"link"==o.type&&!o.outline,"btn-primary":"primary"==o.type&&!o.outline,"btn-primary-outline":"primary"==o.type&&o.outline,"btn-success":"success"==o.type&&!o.outline,"btn-success-outline":"success"==o.type&&o.outline,"btn-danger":"danger"==o.type&&!o.outline,"btn-danger-outline":"danger"==o.type&&o.outline,"no-print":!0}}}return l.\u0275fac=function(o){return new(o||l)(N(kn))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-button"]],inputs:{data:"data"},decls:2,vars:2,consts:[[3,"ngClass","click"]],template:function(o,c){1&o&&(A(0,"button",0),pe("click",function(h){return c.onClick(h)}),we(1),I()),2&o&&(U("ngClass",c.getClasses()),z(1),Sn(c.text))},directives:[Gi],styles:[""]}),l})(),fv=(()=>{class l{constructor(o){this.uiConfig=o}getBookmarks(){return this.uiConfig.ui.bookmarks.getStringValue().split(",").filter(o=>!!o)}setBookmarks(o){return this.uiConfig.ui.bookmarks.setStringValue(o.join(",")),this}addBookmark(o,c,u,h){if(!o)return this;let d=this.getBookmarks();return d.push(o+"."+c+(u>0?":"+u+(h>0?"-"+h:""):"")),this.setBookmarks(d),this}deleteBookmark(o){let c=this.getBookmarks(),u=c.findIndex(h=>h===o);return u>=0&&(c.splice(u,1),this.setBookmarks(c)),this}}return l.\u0275fac=function(o){return new(o||l)(Fe($i))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class Kee{constructor(){this.\u0434\u0432\u0438\u0436\u043e\u043a=new gl,this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e()}addMethod(a,o,c){return a.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(o,this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(xt.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Tt.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432")).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(te.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(jp.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(c)))))),this}addBookmarksEnvironment(a,o){this.addMethod(a,"\u0434\u0432\u0438\u043d\u0443\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443\u0412\u0432\u0435\u0440\u0445",(c,u)=>{var d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]);if(o){let f=new fv(o),p=f.getBookmarks(),g=p.findIndex(v=>v==d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),m=p;if(g>0){m=[];let v=g-1;m.push(...p.slice(0,v));let _=p.splice(g,1);m.push(..._),m.push(...p.slice(v))}f.setBookmarks(m)}return u[0]}),this.addMethod(a,"\u0434\u0432\u0438\u043d\u0443\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443\u0412\u043d\u0438\u0437",(c,u)=>{var d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]);if(o){let f=new fv(o),p=f.getBookmarks(),g=p.findIndex(v=>v==d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),m=p;if(g>=0&&g+1<p.length){m=[],m.push(...p.slice(0,g));let _=p.splice(g,1),y=p.splice(g,1);m.push(...y),m.push(..._),m.push(...p.slice(g))}f.setBookmarks(m)}return u[0]}),this.addMethod(a,"\u0443\u0434\u0430\u043b\u0438\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443",(c,u)=>{var d=c.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(u[1]);if(o){let f=new fv(o),p=f.getBookmarks(),g=p.findIndex(v=>v==d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),m=p;g>=0&&p.splice(g,1),f.setBookmarks(m)}return u[0]})}run(a,o=null,c=null,u=null){let h=o||Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),d=c||Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),f=u||Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),g=(new qp).\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(a),m=null;{let v=this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g),[te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(),h,d,f],[te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0430\u043c\u044f\u0442\u044c"),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435"),te.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442")],!0,!0,!1,null));v&&v.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()&&"\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e"==v.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()&&(m=f.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"))}return m}}class AL{constructor(a){this.check=a}static builder(){return new AL(!1)}setCheck(a){return this.check=a,this}}class IL extends Ar{constructor(a,o,c,u){super(a,o,c),this.classes=u}static builder(){return new IL("",null,null,AL.builder())}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}}let e6e=(()=>{class l{constructor(o){this.config=o}get cbData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:"\u041f\u0435\u0440\u0432\u0430\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u043d\u043e\u043f\u043a\u0430"}get type(){return this.data&&this.data.classes.type?this.data.classes.type:""}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){return{"clr-checkbox":!0}}}return l.\u0275fac=function(o){return new(o||l)(N(kn))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-checkbox"]],inputs:{data:"data"},decls:6,vars:3,consts:[[1,"clr-form-control","no-print"],[1,"clr-control-container","clr-control-inline"],[1,"clr-checkbox-wrapper"],["type","checkbox","id","vertical-checkbox1","name","checkbox-inline-1","value","option1",3,"checked","ngClass","click"],["for","vertical-checkbox1",1,"clr-control-label"]],template:function(o,c){1&o&&(A(0,"div",0),A(1,"div",1),A(2,"div",2),A(3,"input",3),pe("click",function(h){return c.onClick(h)}),I(),A(4,"label",4),we(5),I(),I(),I(),I()),2&o&&(z(3),U("checked",c.cbData.classes.check)("ngClass",c.getClasses()),z(2),Sn(c.text))},directives:[Gi,ls],styles:[""]}),l})();class PL{constructor(){this.ordered=!1}static builder(){return new PL}setOrdered(a){return this.ordered=a,this}}class OL extends Ar{constructor(a,o,c,u,h){super(a,o,c),this.classes=u,this.items=h}static builder(){return new OL("",null,null,PL.builder(),[])}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}setItems(a){return this.items=a,this}addItem(a){return this.items.push(a),this}}function t6e(l,a){if(1&l&&(A(0,"li"),ye(1,"app-add-component",3),I()),2&l){const o=a.$implicit;z(1),U("component",o)}}function n6e(l,a){if(1&l&&(A(0,"ol",1),Q(1,t6e,2,1,"li",2),I()),2&l){const o=J();U("ngClass",o.getClasses()),z(1),U("ngForOf",o.listData.items)}}function i6e(l,a){if(1&l&&(A(0,"li"),ye(1,"app-add-component",3),I()),2&l){const o=a.$implicit;z(1),U("component",o)}}function r6e(l,a){if(1&l&&(A(0,"ul",1),Q(1,i6e,2,1,"li",2),I()),2&l){const o=J();U("ngClass",o.getClasses()),z(1),U("ngForOf",o.listData.items)}}let s6e=(()=>{class l{constructor(o){this.config=o}get listData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:"\u041f\u0435\u0440\u0432\u0430\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u043d\u043e\u043f\u043a\u0430"}get type(){return this.data&&this.data.classes.type?this.data.classes.type:""}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){return{list:!0}}}return l.\u0275fac=function(o){return new(o||l)(N(kn))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-list"]],inputs:{data:"data"},decls:2,vars:2,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(o,c){1&o&&(Q(0,n6e,2,2,"ol",0),Q(1,r6e,2,2,"ul",0)),2&o&&(U("ngIf",c.listData.classes.ordered),z(1),U("ngIf",!c.listData.classes.ordered))},directives:[Mn,Gi,or,Wh],styles:[""]}),l})();class pv{static builder(){return new pv}parse(a,o=null){return fragmentsParserStatic.parse(a,{builder:o||new xL})}}class RL{constructor(a=!0,o=!0,c=!0,u=!0,h=!0,d=!0){this.slava1Zdrav=a,this.slava1Upok=o,this.slava2Zdrav=c,this.slava2Upok=u,this.slava3Zdrav=h,this.slava3Upok=d}static builder(){return new RL}setSlava1Zdrav(a){return this.slava1Zdrav=a,this}setSlava1Upok(a){return this.slava1Upok=a,this}setSlava2Zdrav(a){return this.slava2Zdrav=a,this}setSlava2Upok(a){return this.slava2Upok=a,this}setSlava3Zdrav(a){return this.slava3Zdrav=a,this}setSlava3Upok(a){return this.slava3Upok=a,this}isLiveAcceptable(a){let o=!1;return o=a?this.slava1Zdrav||this.slava2Zdrav||this.slava3Zdrav:this.slava1Upok||this.slava2Upok||this.slava3Upok,o}getLiveValue(){let a=null,o=this.slava1Zdrav||this.slava2Zdrav||this.slava3Zdrav;return o!==(this.slava1Upok||this.slava2Upok||this.slava3Upok)&&(a=o),a}}class FL extends Ar{constructor(a,o,c,u,h){super(a,o,c),this.classes=u,this.readonly=h,this.id="",this.targetId="",this.printerHandler=Wb.builder()}static builder(){return new FL("",null,null,RL.builder(),!1)}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}setReadonly(a){return this.readonly=a,this}setId(a){return this.id=a,this}setTargetId(a){return this.targetId=a,this}}class LL{constructor(a,o,c){this.alertClass=a,this.alertShape=o,this.noPrint=c}static builder(){return new LL("alert-danger","exclamation-circle",!1)}setAlertClass(a){return this.alertClass=a,this}setAlertShape(a){return this.alertShape=a,this}setNoPrint(a){return this.noPrint=a,this}}class yl{constructor(a,o,c){this.text=a,this.enabled=o,this.onClick=c}static builder(){return new yl("",!0,null)}setText(a){return this.text=a,this}setEnabled(a){return this.enabled=a,this}setOnClick(a){return this.onClick=a,this}runOnClick(){return this.onClick&&this.onClick(this),this}}class Qp extends Ar{constructor(a,o,c,u,h,d,f){super(a,o,c),this.errors=u,this.classes=h,this.buttons=d,this.actions=f}static builder(){return new Qp("",null,null,[],LL.builder(),[],[])}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}setErrors(a){return this.errors=a,this}setButtons(a){return this.buttons=a,this}setActions(a){return this.actions=a,this}updateClasses(a){return a(this.classes),this}}class NL{constructor(a,o){this.prefix=a,this.name=o}static builder(){return new NL("","")}setPrefix(a){return this.prefix=a,this}setName(a){return this.name=a,this}}class wn{constructor(a,o){this.index=a,this.name=o}static builder(){return new wn(-1,"")}setIndex(a){return this.index=a,this}setName(a){return this.name=a,this}}let iM=(()=>{class l{constructor(){this.statuses=[wn.builder().setIndex(1).setName("\u0431\u043e\u043b."),wn.builder().setIndex(2).setName("\u0431."),wn.builder().setIndex(2).setName("\u0442.\u0431\u043e\u043b."),wn.builder().setIndex(2).setName("\u0442.\u0431."),wn.builder().setIndex(3).setName("\u043f\u0443\u0442."),wn.builder().setIndex(3).setName("\u043f."),wn.builder().setIndex(4).setName("\u0437\u043a."),wn.builder().setIndex(5).setName("\u0437\u0430\u0431\u043b.")],this.statusesWiman=[wn.builder().setIndex(1).setName("\u0431\u043e\u043b."),wn.builder().setIndex(2).setName("\u0431."),wn.builder().setIndex(2).setName("\u0442.\u0431\u043e\u043b."),wn.builder().setIndex(2).setName("\u0442.\u0431."),wn.builder().setIndex(3).setName("\u043f\u0443\u0442."),wn.builder().setIndex(3).setName("\u043f."),wn.builder().setIndex(4).setName("\u0437\u043a."),wn.builder().setIndex(5).setName("\u043d\u0435\u043f\u0440\u0430\u0437\u0434."),wn.builder().setIndex(6).setName("\u0437\u0430\u0431\u043b.")],this.statusesDead=[wn.builder().setIndex(1).setName("\u043d.\u043f."),wn.builder().setIndex(2).setName("\u043f.\u043f."),wn.builder().setIndex(3).setName("\u0443\u0431.")],this.prefixes=[wn.builder().setIndex(1).setName("\u043f\u0430\u0442\u0440."),wn.builder().setIndex(2).setName("\u0441\u0445\u0438\u043c\u0438\u0442\u0440."),wn.builder().setIndex(3).setName("\u043c\u0438\u0442\u0440."),wn.builder().setIndex(4).setName("\u0441\u0445\u0438\u0430\u0440\u0445\u0438\u0435\u043f."),wn.builder().setIndex(5).setName("\u0430\u0440\u0445\u0438\u0435\u043f."),wn.builder().setIndex(6).setName("\u0441\u0445\u0438\u0435\u043f."),wn.builder().setIndex(7).setName("\u0435\u043f."),wn.builder().setIndex(8).setName("\u0441\u0445\u0438\u0430\u0440\u0445\u0438\u043c."),wn.builder().setIndex(9).setName("\u0430\u0440\u0445\u0438\u043c."),wn.builder().setIndex(10).setName("\u043f\u0440\u043e\u0442\u043e\u043f\u0440."),wn.builder().setIndex(11).setName("\u0441\u0445\u0438\u0438\u0433\u0443\u043c."),wn.builder().setIndex(12).setName("\u0438\u0433\u0443\u043c."),wn.builder().setIndex(13).setName("\u043f\u0440\u043e\u0442."),wn.builder().setIndex(14).setName("\u0438\u0435\u0440\u043e\u0441\u0445\u0438\u043c."),wn.builder().setIndex(15).setName("\u0438\u0435\u0440\u043e\u043c."),wn.builder().setIndex(16).setName("\u0438\u0435\u0440."),wn.builder().setIndex(17).setName("\u0441\u0445\u0438\u0430\u0440\u0445\u0438\u0434."),wn.builder().setIndex(18).setName("\u0430\u0440\u0445\u0438\u0434."),wn.builder().setIndex(19).setName("\u043f\u0440\u043e\u0442\u043e\u0434\u0438\u0430\u043a."),wn.builder().setIndex(20).setName("\u0438\u0435\u0440\u043e\u0441\u0445\u0438\u0434."),wn.builder().setIndex(21).setName("\u0438\u0435\u0440\u043e\u0434."),wn.builder().setIndex(22).setName("\u0434\u0438\u0430\u043a."),wn.builder().setIndex(23).setName("\u0441\u0445\u0438\u043c."),wn.builder().setIndex(24).setName("\u043c\u043e\u043d."),wn.builder().setIndex(25).setName("\u0438\u043d."),wn.builder().setIndex(26).setName("\u0438\u043f\u043e\u0434\u0438\u0430\u043a."),wn.builder().setIndex(28).setName("\u0447\u0442."),wn.builder().setIndex(27).setName("\u043f\u043e\u0441\u043b."),wn.builder().setIndex(29).setName("\u043e."),wn.builder().setIndex(30).setName("\u043c\u043b."),wn.builder().setIndex(31).setName("\u0432.")],this.prefixesWiman=[wn.builder().setIndex(1).setName("\u0441\u0445\u0438\u0438\u0433\u0443\u043c."),wn.builder().setIndex(2).setName("\u0438\u0433\u0443\u043c."),wn.builder().setIndex(3).setName("\u0441\u0445\u0438\u043c."),wn.builder().setIndex(4).setName("\u043c\u043e\u043d."),wn.builder().setIndex(5).setName("\u0438\u043d."),wn.builder().setIndex(6).setName("\u043c\u0430\u0442."),wn.builder().setIndex(7).setName("\u043f\u043e\u0441\u043b."),wn.builder().setIndex(8).setName("\u043e."),wn.builder().setIndex(9).setName("\u043c\u043b."),wn.builder().setIndex(10).setName("\u0432.")]}isKnownPrefix(o){let c=!1,u=h=>h.findIndex(d=>d.name===o)>=0;return c=c||u(this.prefixes),c=c||u(this.prefixesWiman),c=c||u(this.statuses),c=c||u(this.statusesWiman),c}getName(o){const c=o.split(/\s/),u=[];return c.forEach(h=>{this.isKnownPrefix(h)||u.push(h)}),u.join(" ")}getNameFrom(o,c){let u="";return c.forEach(h=>{h.index===o&&(u=h.name)}),u}getPrefixByName(o,c){return this.getIndexByName(o,c?this.prefixes:this.prefixesWiman)}getStatusByName(o,c){return this.getIndexByName(o,c?this.statuses:this.statusesWiman)}getPrefix(o,c=!0,u=!0){return this.getNameFrom(o,c?this.prefixes:this.prefixesWiman)}getStatus(o,c=!0,u=!0){return this.getNameFrom(o,u?c?this.statuses:this.statusesWiman:this.statusesDead)}getIndexByName(o,c){const u=o.split(/\s/);let h=0;return u.forEach(d=>{c.forEach(f=>{f.name===d&&h<f.index&&(h=f.index)})}),h}getPrefixedName(o){let c=o.split(/\s/),u="",h="",d=[...this.prefixes,...this.prefixesWiman,...this.statuses,...this.statusesWiman,...this.statusesDead];return c.forEach((f,p)=>{let g=p+1==c.length?"":" ";d.findIndex(m=>m.name==f)>=0?u+=f+g:h+=f+g}),new NL(u,h)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class BL{constructor(a="label-warning",o="label-success",c=!1){this.labelSelected=a,this.labelNormal=o,this.noPrint=c}static builder(){return new BL}setLabelSelected(a){return this.labelSelected=a,this}setLabelNormal(a){return this.labelNormal=a,this}setNoPrint(a){return this.noPrint=a,this}}class xo{constructor(a,o,c){this.text=a,this.tag=o,this.selected=c}static builder(){return new xo("","",!1)}setText(a){return this.text=a,this}setTag(a){return this.tag=a,this}setSelected(a){return this.selected=a,this}}class Ql extends Ar{constructor(a,o,c,u,h){super(a,c,u),this.items=o,this.classes=h}static builder(){return new Ql("",[],null,null,BL.builder())}setText(a){return super.setText(a)}setItems(a){return this.items=a,this}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}updateClasses(a){return a(this.classes),this}}class VL{constructor(){this.bookSettings=!0}static builder(){return new VL}setBookSettings(a){return this.bookSettings=a,this}}class zL extends Ar{constructor(a,o,c,u){super(a,o,c),this.classes=u}static builder(){return new zL("",null,null,VL.builder().setBookSettings(!0))}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}updateClasses(a){return a(this.classes),this}}class UL{constructor(a,o,c){this.name=a,this.pvalue=o,this.onChange=c}get value(){return this.pvalue}set value(a){this.pvalue=a,this.onChange&&this.onChange()}}let xi=(()=>{class l{constructor(){this.properties=[],this.onChange=null}setOnChangeCallback(o){this.onChange=o}load(o){this.properties=[],o.split(";").forEach(u=>{const h=u.split(":");if(2===h.length)this.properties.push(new UL(h[0].trim(),h[1].trim(),this.onChange));else if(1===h.length){let d=h[0].trim();if(d){let f=this.properties.findIndex(p=>p.name==l.TEXT);f>=0?this.properties[f].value+=d:this.properties.push(new UL(l.TEXT,d,this.onChange))}}})}toString(){let o="";return this.properties.forEach(c=>{c.value&&(o&&(o+=";"),o+=c.name+":"+c.value)}),o}pushNew(o,c){this.properties.push(new UL(o,c,this.onChange))}getValue(o,c){let u=null;return this.properties.forEach(h=>{h.name===o&&(u=h.value)}),null==u?c?u:"":u}setValue(o,c){let u=!1;this.properties.forEach(h=>{h.name===o&&(h.value=c,u=!0)}),u||this.pushNew(o,c)}getOffset(){const o=this.getValue(l.OFFSET);let c=o?+o:-1;return Number.isInteger(c)||(c=-1),c}isLive(){const o=this.getValue(l.STATUS,!0);return null==o?null:!(o===l.STATUS_DEAD||o===l.STATUS_DEAD_WOMAN)}isMan(){const o=this.getValue(l.GENDER,!0);return null==o?null:o!==l.GENDER_WOMAN}}return l.OFFSET="\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435",l.ORDER="\u043f\u043e\u0440\u044f\u0434\u043e\u043a",l.STATUS="\u0441\u0442\u0430\u0442\u0443\u0441",l.STATUS_LIVE="\u0436\u0438\u0432\u043e\u0439",l.STATUS_LIVE_WOMAN="\u0436\u0438\u0432\u0430\u044f",l.STATUS_DEAD="\u0443\u0441\u043e\u043f\u0448\u0438\u0439",l.STATUS_DEAD_WOMAN="\u0443\u0441\u043e\u043f\u0448\u0430\u044f",l.GENDER="\u043f\u043e\u043b",l.GENDER_MAN="\u043c\u043e\u0436\u0441\u043a\u043e\u0439",l.GENDER_WOMAN="\u0436\u0435\u043d\u0441\u043a\u0438\u0439",l.REF_ID="\u0441\u0441\u044b\u043b\u043a\u0430",l.TEXT="\u0442\u0435\u043a\u0441\u0442",l.UNION="\u043e\u0431\u044a\u0435\u0434\u0435\u043d\u0435\u043d\u043e",l.TAGS="\u0442\u0435\u0433\u0438",l.YES="\u0434\u0430",l.NO="\u043d\u0435\u0442",l})();class HL{constructor(){}static builder(){return new HL}}class GL extends Ar{constructor(a,o,c,u,h){super(a,o,c),this.classes=u,this.person=h}static builder(){return new GL("",null,null,HL.builder(),new Vn(-1,"","",-1,!0,""))}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}setPerson(a){return this.person=a,this}updateClasses(a){return a(this.classes),this}}let Jee=(()=>{class l{constructor(o,c){this.http=o,this.config=c,this.bLoggedIn=!1,this.restPoint="/participant"}getRestPoint(o,c){const u=this.config.isMemoryServerType()?this.config.baseHref:this.config.serviceAPIHost;return fs.merge(fs.merge(c||u,this.restPoint),o)}isLoggedIn(){return new Promise((o,c)=>{this.config.post(()=>{o(Gh.build().setResult(this.bLoggedIn))})})}login(){return this.bLoggedIn=!0,new Promise((o,c)=>{this.config.post(()=>{o(Gh.build().setResult(!0))})})}logout(){return this.bLoggedIn=!1,new Promise((o,c)=>{this.config.post(()=>{o(Gh.build().setResult(!0))})})}requestForUser(o,c){const u={params:{username:o,password:c}};return new Promise((h,d)=>{this.http.get(this.getRestPoint("/login",null),u).pipe(tr(Pi.handleError)).subscribe({next:f=>h(f),error:f=>d(f)})})}logoutAll(){const o={params:{}};return new Promise((c,u)=>{this.http.get(this.getRestPoint("/logoutAll",null),o).pipe(tr(Pi.handleError)).subscribe({next:h=>c(h),error:h=>u(h)})})}requestVersion(){const o={params:{}};return new Promise((c,u)=>{this.http.get(this.getRestPoint("/version",null),o).pipe(tr(Pi.handleError)).subscribe({next:h=>c(h),error:h=>u(h)})})}}return l.\u0275fac=function(o){return new(o||l)(Fe(sf),Fe(kn))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),WL=(()=>{class l{constructor(o,c,u){this.config=o,this.authRest=c,this.authMemory=u,this.auth=null,this.config.isMemoryServerType()&&(this.auth=u),(!this.auth||this.config.isRestServerType())&&(this.auth=c)}autoRejectOnFail(o){return this.auth?o(this.auth):new Promise((c,u)=>{this.config.post(()=>{u("\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.")})})}isLoggedIn(){return this.autoRejectOnFail(o=>o.isLoggedIn())}login(){return this.autoRejectOnFail(o=>o.login())}logout(){return this.autoRejectOnFail(o=>o.logout())}requestForUser(o,c){return this.autoRejectOnFail(u=>u.requestForUser(o,c))}logoutAll(){return this.autoRejectOnFail(o=>o.logoutAll())}requestVersion(){return this.autoRejectOnFail(o=>o.requestVersion())}}return l.\u0275fac=function(o){return new(o||l)(Fe(kn),Fe(Jee),Fe(Gb))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class o6e{constructor(a,o){this.index=a,this.include=o}setInclude(a){return this.include=!!a,this}}class a6e{constructor(a,o,c){this.left=a,this.right=o,this.everyYear=c}}class l6e{constructor(a,o,c){this.date=a,this.month=o,this.year=c}}class c6e{constructor(a,o){this.date=a,this.intervals=o}eventDate(a=0,o=0){let c=new Date;return c.setFullYear(+this.date.year+o,+this.date.month-1,+this.date.date),c.setDate(c.getDate()+a),c}isToday(){if(this.isTodayDate(this.eventDate()))return!0;let a=!1;return this.intervals.forEach(o=>{this.isTodayInterval(o)&&(a=!0)}),a}isTodayDate(a){let o=new Date;return a.getFullYear()==o.getFullYear()&&a.getMonth()==o.getMonth()&&a.getDate()==o.getDate()}isLess(a,o,c=!1){return!c&&a.getFullYear()<o.getFullYear()||!(!c&&a.getFullYear()>o.getFullYear())&&(a.getMonth()<o.getMonth()||!(a.getMonth()>o.getMonth())&&a.getDate()<o.getDate())}isEquals(a,o,c=!1){return(c||a.getFullYear()==o.getFullYear())&&a.getMonth()==o.getMonth()&&a.getDate()==o.getDate()}isTodayInterval(a){let o=a.everyYear?[-1,0,1]:[0],c=!1,u=new Date;return o.forEach(h=>{if(!c){let d=this.eventDate(0,h),f=this.eventDate(a.left.index,h),p=this.eventDate(a.right.index,h);if(f.getTime()>p.getTime()){let w=f;f=p,p=w}let g=a.everyYear&&f.getFullYear()<d.getFullYear(),m=a.everyYear&&p.getFullYear()>d.getFullYear(),v=this.isLess(f,u,a.everyYear),_=this.isLess(u,p,a.everyYear),y=a.left.include&&this.isEquals(f,u,a.everyYear),b=a.right.include&&this.isEquals(u,p,a.everyYear),C=v||y,x=_||b;(!g&&!m&&C&&x||(g||m)&&m!=g&&(x||C)||g&&m&&(!x||!C))&&(c=!0)}}),c}}class u6e{newEvent(a,o){return new c6e(a,o)}newEventDate(a,o,c){return new l6e(a,o,c)}newDaysInterval(a,o,c){return new a6e(a,o,c)}newDay(a,o){return new o6e(a,o)}}let rM=(()=>{class l{parseEvent(o){return dateEventsParserStatic.parse(o,{builder:new u6e})}isToday(o){let c=new xi;c.load(o);let u=!1;return c.properties.forEach(h=>{if(!u)try{let d=this.parseEvent(h.value);d&&d.isToday()&&(u=!0)}catch(d){}}),u}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class h6e{constructor(a){this.cacheMap=new Map,this.getter=a}setGetter(a){return this.getter=a,this}getCachedResult(a,o,c){let u=this.cacheMap.get(a),h=null==u?void 0:u.get(o),d=null==h?void 0:h.get(c);return null!=d||(d=this.getter(a,o,c),h||(h=new Map),h.set(c,d),u||(u=new Map),u.set(o,h),this.cacheMap.set(a,u)),d}clear(){return this.cacheMap.clear(),this}}let jL=(()=>{class l{constructor(o,c,u,h,d,f){this.authSvc=o,this.memorialsSvc=c,this.personsSvc=u,this.config=h,this.tagsSvc=d,this.dateEventsSvc=f,this.serviceReady=!1,this.personsCache=new h6e((p,g,m)=>this.getChachedPersonsDirect(p,g,m))}getChachedPersonsDirect(o,c,u){var h;let d=null===(h=this.memorials)||void 0===h?void 0:h.items.find(f=>f.name==o);if(this.persons){let f=!!d&&this.tagsSvc.tagsHasFlag(d.tags,"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u043d\u044b\u0439"),p=!!d&&this.tagsSvc.tagsHasFlag(d.tags,"\u0431\u0435\u0437 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438"),g=this.persons.items;return c&&(g=g.filter(v=>null==u||u==v.live)),g.filter(v=>p||!d||!!this.tagsSvc.intersectTags(v.tags,d.tags)).filter(v=>!f||this.dateEventsSvc.isToday(v.description))}return[]}get isReady(){return this.serviceReady}setup(o){this.doLogin(o)}doLogout(){this.authSvc.isLoggedIn().then(o=>{o.result?this.authSvc.logout().then(c=>{this.serviceReady=!1,this.config.authId=""}):(this.serviceReady=!1,this.config.authId="")})}doLogin(o){this.authSvc.isLoggedIn().then(c=>{c.result?(this.serviceReady=!0,o&&o(this.serviceReady)):this.authSvc.login().then(u=>{if(u.result){let h="hramvkostino",d="hramvkostino";this.authSvc.requestForUser(h,d).then(f=>{this.serviceReady=f.valid,this.config.authId=f.authId,this.config.authBody=btoa(h+":"+d),this.memorialsSvc.reloadMemorials(p=>{p&&this.personsSvc.reloadPersons(),o&&o(this.serviceReady)})})}})})}get memorials(){return this.memorialsSvc.getMemorials()}get persons(){return this.personsSvc.getPersonsDirect()}getAuth(){return this.authSvc}getMemorials(){return this.memorialsSvc}getPersons(){return this.personsSvc}}return l.\u0275fac=function(o){return new(o||l)(Fe(WL),Fe(cv),Fe(uv),Fe(kn),Fe(bo),Fe(rM))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class $L{static builder(){return new $L}newLine(){return XL.builder()}newMemorial(){return ZL.builder()}newComment(){return YL.builder()}}var Wu=(()=>(function(l){l[l.Memorial=0]="Memorial",l[l.Line=1]="Line",l[l.Comment=2]="Comment"}(Wu||(Wu={})),Wu))();class qL{constructor(a){this.type=a}toString(){return""}}class YL extends qL{constructor(a){super(Wu.Comment),this.text=a}static builder(){return new YL("")}setText(a){return this.text=a,this}toString(){return`/*${this.text}*/`}}class ZL extends qL{constructor(a,o){super(Wu.Memorial),this.name=a,this.tags=o}static builder(){return new ZL("","")}setName(a){return this.name=a,this}setTags(a){return this.tags=a,this}toString(){return`[${this.name}${this.tags?":"+this.tags:""}]`}}class XL extends qL{constructor(a,o,c,u){super(Wu.Line),this.name=a,this.description=o,this.offset=c,this.live=u}static builder(){return new XL("","",-1,!0)}setName(a){return this.name=a,this}setDescription(a){return this.description=a,this}setOffset(a){return this.offset=a,this}setLive(a){return this.live=a,this}toString(){return`${this.name}(${this.description?this.description:""})${null!=this.offset&&this.offset>=0?" "+this.offset:""}${this.live?"":" \u0443\u0441\u043e\u043f\u0448\u0438\u0439"}`}}class ete{static parse(a){return personsParserStatic.parse(a,{builder:$L.builder()})}}class jh{constructor(a,o,c='"'){this.value=o,this.simbol=c,this.names=null,this.names=[a],this.value=o}static newFrom(a){return new jh(a.name,a.value)}get name(){return this.names?this.names.join(":"):""}set name(a){this.names=[a]}toString(){return this.name+"="+this.simbol+this.value+this.simbol}}class tte{constructor(a="  ",o=!0){this.prefix=a,this.prettyPrint=o,this.offset=0}incOffset(){return++this.offset,this.getOffset()}decOffset(){return--this.offset,this.getOffset()}getOffset(){let a="";for(let o=0;o<this.offset;++o)a+=this.prefix;return a}}class Co{constructor(a,o,c,u){this.name=a,this.attributes=o,this.children=c,this.text=u,this.name=a,this.attributes=o,this.children=c,this.text=u}static newFrom(a){const o=[];a.attributes&&a.attributes.forEach(u=>{o.push(jh.newFrom(u))});const c=[];return a.children&&a.children.forEach(u=>{c.push(Co.newFrom(u))}),new Co(a.name,o,c,a.text)}setAttributes(a){return this.attributes=a,this}setChildren(a){return this.children=a,this}toString(a=null){let o="";if(this.name&&(o+="<"+this.name,this.attributes&&this.attributes.forEach(c=>{o+=" "+c.toString()}),o+=">"),this.children&&this.children.length){let c=this.children.length>1||!!this.children[0].name;this.children.forEach(u=>{c&&(null==a?void 0:a.prettyPrint)&&(o+="\r\n",o+=a.incOffset()),o+=u.toString(a),c&&(null==a?void 0:a.prettyPrint)&&a.decOffset()}),c&&(null==a?void 0:a.prettyPrint)&&(o+="\r\n",o+=a.getOffset())}return o+=this.name?"</"+this.name+">":this.text,o}}let nte=(()=>{class l{parseXml(o){const c=xmlParserStatic.parse(o),u=[];return c.forEach(h=>{u.push(Co.newFrom(h))}),u}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class ite{constructor(a,o){this.person=a,this.props=o}}class KL{constructor(a,o){this.memorial=a,this.lines=o}static builder(){return new KL(null,[])}setMemorial(a){return this.memorial=a,this}setLines(a){return this.lines=a,this}addLine(a){return this.lines.push(a),this}toString(){var a;return`${null===(a=this.memorial)||void 0===a?void 0:a.toString()}\n${this.lines.map(o=>o.toString()).join("\r\n")}`}}let QL=(()=>{class l{constructor(o,c,u,h,d,f){this.mems=o,this.ks=c,this.config=u,this.uiConfig=h,this.xml=d,this.nameSvc=f}addPersons(o,c,u,h=!0,d=null,f=0,p=1){try{this.addPersonsDirect(o,c,u,h,d)}catch(g){this.config.addAlert(new yr("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0441\u043e\u043d\u044b: "+g,"OK",180)),d&&d()}}previewPersons(o){const c=ete.parse(o);let u=[],h=null;return c.forEach(d=>{switch(d.type){case Wu.Memorial:{let f=d;h=KL.builder().setMemorial(f),u.push(h)}break;case Wu.Line:{let f=d;null==h||h.addLine(f)}}}),u}addPersonsDirect(o,c,u,h=!0,d=null,f=0,p=1){const g=ete.parse(c);let m=[],v="",_=new Map,y=this.mems.getActivePredefinedMemorialsRaw(),b=!1;g.forEach(C=>{switch(C.type){case Wu.Memorial:v=C.name,b=null!=y.find(w=>w==v);break;case Wu.Line:{let x=C,w=o(v);if(w>=0){const S=new xi;S.load(x.description?x.description:"");const M=S.getOffset(),T=x.live||S.isLive();S.setValue(xi.ORDER,""),S.setValue(xi.OFFSET,""),S.setValue(xi.STATUS,""),S.setValue(xi.UNION,"");let E=u(v);{let F=S.getValue(xi.TAGS);F&&F.split(",").forEach($=>{let Y=$.trim();Y&&(E=bo.addTagToTags(E,Y))})}const k=new P8e(w,-1,x.name,S.toString(),M,null!=T&&T,E);let R=S.getValue(xi.REF_ID),D=!1,P=F=>{let L;if(_.forEach($=>{k.name==$.person.name&&S.getValue(xi.TEXT)&&S.getValue(xi.TEXT)===$.props.getValue(xi.TEXT)&&(L=$.person)}),L){if(!bo.tagsHasFlag(L.tags,v)){L.tags=bo.addTagToTags(L.tags,v);const $=new xi;$.load(L.description),$.getValue(xi.UNION)!=xi.YES&&$.setValue(xi.UNION,xi.YES),L.description=$.toString(),D=!0}}else _.set(F||"#"+_.size,new ite(k,S))};R?_.has(R)?(_.get(R).person.tags+=","+v,D=!0):_.set(R,new ite(k,S)):this.uiConfig.ui.mergeNameOnImport.getBooleanValue()&&P(""),!D&&!b&&m.push(k)}}}}),this.addPersonsByPersons(m,d)}addPersonsByPersons(o=[],c=null){o.length?this.ks.newPersons(o).then(u=>{setTimeout(()=>{this.config.addAlert(u&&u.success?new yr("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e: "+o.length+` ${l.getWordName(o.length)}.`,"OK",30):new yr("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0439 \u043f\u0435\u0440\u0441\u043e\u043d\u044b: "+(u?u.error:"?"),"OK",180)),c&&c()},0)},u=>{this.config.addAlert(new yr("\u041e\u0448\u0438\u0431\u043a\u0430: "+u,"OK",180))}):(this.config.addAlert(new yr("\u041f\u0435\u0440\u0441\u043e\u043d \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e.","OK",60)),c&&c())}static getWordName(o){let c="";switch(Math.floor(o%10)){case 1:c="\u0438\u043c\u044f";break;case 2:case 3:case 4:c="\u0438\u043c\u0435\u043d\u0438";break;default:c="\u0438\u043c\u0451\u043d"}return c}addPersonsOld(o,c,u,h=!0,d=null,f=0,p=1){const g=personsParserStatic.parse(c),m={i:0,memorialName:""},v=new xi;this.config.waitingIOOperationValueMax=g.length*p;const _=y=>{if(this.config.waitingIOOperationValue=m.i+g.length*f,y&&!y.success)return this.config.addAlert(new yr(y.error,"OK",30)),this.endIOWaiting(),void(null!=d&&d());if(m.i>=g.length)this.endIOWaiting(),null!=d&&d();else{const b=g[m.i];if(++m.i,void 0!==b.memorial)m.memorialName=b.memorial,setTimeout(()=>{_(y)},0);else if(void 0===b.comment){let C=o(m.memorialName);if(C>=0){v.load(b.description?b.description:"");const x=v.getOffset(),w=b.live||v.isLive();v.setValue(xi.ORDER,""),v.setValue(xi.OFFSET,""),v.setValue(xi.STATUS,"");const S=new Vn(-1,b.name,v.toString(),x,w,u(m.memorialName));this.ks.newPerson(C,S).then(M=>{setTimeout(()=>{_(M)},0)},M=>{setTimeout(()=>{_(null)},0)})}else setTimeout(()=>{_(y)},0)}else _(null)}};_(null),this.beginIOWaiting(h,g.length*f)}beginIOWaiting(o,c=0){this.config.incWaitingIO(),this.config.waitingIOOperationValue=c}endIOWaiting(){this.config.decWaitingIO()}onChildren(o,c){o&&o.forEach(u=>{c&&c(u)})}getTextFromTag(o){let c="";return o&&(o.text?c+=o.text:o.children.forEach(u=>{u.text&&(c+=u.text)})),c}onAttribute(o,c,u){o&&o.forEach(h=>{h.name===c&&u&&u(h)})}sortByOrd(o){let c=[];return c=o.slice(0),c.sort((u,h)=>{let d=0,f=0;return this.onAttribute(u.attributes,"ord",p=>{d=+p.value}),this.onAttribute(h.attributes,"ord",p=>{f=+p.value}),d-f}),c}readTagAsText(o){let c=o.text?o.text:"";return this.onChildren(o.children,u=>{c+=this.readTagAsText(u)}),c}convertRecord(o,c){if("record"!==o.name)return"";let u="",h="",d="",f=!0,p="";if(this.onAttribute(o.attributes,"gender",g=>{f="true"===g.value}),this.onAttribute(o.attributes,"prefix",g=>{p=this.nameSvc.getPrefix(+g.value,f,c)}),this.onAttribute(o.attributes,"status",g=>{let m=this.nameSvc.getStatus(+g.value,f,c);m&&(p=m+(p&&" "+p))}),this.onChildren(o.children,g=>{"name"===g.name?h=this.readTagAsText(g):"comment"===g.name&&(d=this.readTagAsText(g))}),h){p&&(u+=p+" "),u+=h+"([";const g=new xi;g.load(d),g.setValue(xi.GENDER,f?"":xi.GENDER_WOMAN),u+=g.toString()+"])",c||(u+=" "+(f?xi.STATUS_DEAD:xi.STATUS_DEAD_WOMAN))}return u&&(u+="\n"),u}convertMemorial(o){let c="",u=!0;return this.onAttribute(o.attributes,"health",h=>{u="true"===h.value}),this.onChildren(o.children,h=>{"records"===h.name&&this.onChildren(this.sortByOrd(h.children),d=>{c+=this.convertRecord(d,u)})}),c}convertXmlToString(o){const c=this.xml.parseXml(o);return this.convertTagsToString(c)}convertTagsToString(o){let c="";return o.forEach(u=>{"memorials"===u.name&&this.onChildren(u.children,h=>{let d="";this.onChildren(h.children,f=>{"notes"===f.name&&(d=this.readTagAsText(f))}),h.children.forEach(f=>{"name"===f.name&&(c+="["+this.getTextFromTag(f)+(d?":"+d:"")+"]\n")}),c+=this.convertMemorial(h)})}),c}}return l.\u0275fac=function(o){return new(o||l)(Fe(cv),Fe(uv),Fe(kn),Fe($i),Fe(nte),Fe(iM))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),rte=(()=>{class l{constructor(o,c){this.config=o,this.memXmlLoader=c,this.text="",this.memName=""}onLoadAnyFile(o,c,u){this.memName=c,o.name.toLowerCase().endsWith(".csv")||o.name.toLowerCase().endsWith(".tsv")?this.onLoadXsvFile(o,u):this.onLoadXmlFile(o,u)}convertXsvToString(o,c,u=!0){let h=(_,y)=>{let b=_.split(y);for(let C=0;C<b.length;C++)b[C]=b[C].trim();return b},f=h(o,"\n"),p=0,g="",m=[],v=[];{let _=h(f[p],c);if(2!=_.length||"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"!=_[0]||"\u0422\u0435\u0433\u0438"!=_[1])return this.config.addAlert(new yr("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0443 \u0444\u0430\u0439\u043b\u0430.","OK",180)),"";for(++p;f.length>p&&f[p];){_=h(f[p++],c);let y=_[0].trim(),b=_[1].trim();v.push(y),m.push(b),u&&(g+=`[${y}${b?":"+b:""}]\r\n`)}if(++p,_=h(f[p++],c),5!=_.length||"\u0418\u043c\u044f"!=_[0]||"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"!=_[1]||"\u0421\u0442\u0430\u0442\u0443\u0441"!=_[2]||"\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435"!=_[3]||"\u0422\u0435\u0433\u0438"!=_[4])return this.config.addAlert(new yr("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0443 \u0444\u0430\u0439\u043b\u0430.","OK",180)),"";for(u&&(g+="[\u0432\u0441\u0435]\r\n");f.length>p&&f[p];){_=h(f[p++],c);let y=_[4].split(","),b=!1;if(y&&y.forEach(x=>{(!this.memName||x==this.memName)&&(b=!0)}),!b)continue;g+=_[0],g+="(";let C=g.length;g+=_[1],+_[3]>=0&&(_[1]&&(g+=";"),g+=xi.OFFSET+":",g+=_[3]),g.length!=C&&(g+=";"),g+=xi.TAGS+":",g+=_[4],g+=")",_[2].toLowerCase()===xi.STATUS_LIVE||_[2].toLowerCase()===xi.STATUS_LIVE_WOMAN||(g+=" "+xi.STATUS_DEAD),g+="\r\n"}}return g}onLoadXsvFile(o,c){if(!o)return;const u=new FileReader;u.onload=h=>{try{this.text=this.convertXsvToString(u.result.toString(),o.name.toLowerCase().endsWith(".csv")?";":"\t")}catch(d){this.config.addAlert(yr.of("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0444\u0430\u0439\u043b: "+d,"OK",30))}c&&c(this.text)},u.readAsText(o)}makeHtml(o){return o.replace(/(?:\r\n|\r|\n)/g,"<br />\n")}onLoadXmlFile(o,c){if(!o)return;const u=new FileReader;u.onload=h=>{try{let d=o.name.toLowerCase().endsWith(".xml");this.text=d?this.memXmlLoader.convertXmlToString(u.result.toString()):u.result.toString()}catch(d){this.config.addAlert(yr.of("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0444\u0430\u0439\u043b: "+d,"OK",30))}c&&c(this.text)},u.readAsText(o)}}return l.\u0275fac=function(o){return new(o||l)(Fe(kn),Fe(QL))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class d6e{constructor(a,o,c){this.memorial=a,this.setName=o,this.getName=c}}let ste=(()=>{class l{constructor(o,c){this.mems=o,this.nameSvc=c}getMemorialsXmlString(o,c,u){let h="<?xml version='1.0' encoding='UTF-8' ?>\n",d=null;c.forEach((p,g)=>{let m=this.generateMemorials(o,p,u[g]);m&&(null==d?d=m:d.children.push(...m.children))}),null==d&&(d=new Co("memorials",[],[],""));let f=new tte;return h+=d.toString(f),h}getPersonsXmlString(o,c,u){let h="<?xml version='1.0' encoding='UTF-8' ?>\n",d=this.generateMemorials(o,c,u),f=new tte;return h+=d.toString(f),h}generateMemorials(o,c,u){let h=new Co("memorials",[],[],""),d=[],f=p=>{p&&p.memorial.children.length&&(h.children.push(p.memorial),d.push(p))};return f(this.getMemorial(o,c,u,!0,1)),f(this.getMemorial(o,c,u,!1,2)),h}getDescription(o,c,u=!1,h=""){const d=new xi;return d.load(o.description),d.setValue(xi.OFFSET,o.offset<0?"":""+o.offset),d.setValue(xi.ORDER,""),d.setValue(xi.STATUS,""),u&&d.setValue(xi.GENDER,""),h&&d.setValue(xi.REF_ID,h),d.toString()}getMemorial(o,c,u,h,d,f=!0){const p=c;let g=null,m=new Co("memorial",[new jh("health",""+h),new jh("ord",""+d)],[new Co("name",[],[g=new Co("",[],[],p||"\u0432\u0441\u0435")],""),new Co("notes",[],[new Co("",[],[],u)],"")],""),v=new Co("records",[],[],"");m.children.push(v);let y=this.mems.getActivePredefinedMemorialsRaw();return o.filter(b=>!c||bo.tagsHasFlag(b.tags,c)).forEach((b,C)=>{const x=b.tags.split(",");let w=!1;if(x.forEach(S=>{null==y.find(M=>M==S)&&(w=!0)}),w&&b.live===h){let S=this.isMan(b);v.children.push(this.newRecord(this.nameSvc.getName(b.name),S,C+1,this.nameSvc.getStatusByName(b.name,S),this.nameSvc.getPrefixByName(b.name,S),this.getDescription(b,C,!0,(b=>{let C=o.findIndex(x=>x===b);return C>=0?""+C:""})(b))))}}),f||v.children.length>0?new d6e(m,b=>{g&&(g.text=b)},()=>g?g.text:""):null}isMan(o){const c=new xi;c.load(o.description);let u=c.isMan();return null==u||u}newRecord(o,c,u,h,d,f){return new Co("record",[new jh("gender",`${c}`),new jh("ord",`${u}`),new jh("status",`${h}`),new jh("prefix",`${d}`)],[new Co("name",[],[new Co("",[],[],`${o}`)],""),new Co("comment",[],[new Co("",[],[],`${f}`)],"")],"")}}return l.\u0275fac=function(o){return new(o||l)(Fe(cv),Fe(iM))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class f6e{constructor(a){this.xsv=a,this.text="",this.useSeparator=!1}print(a,o=!0){return o&&(this.useSeparator?this.text+=this.xsv:this.useSeparator=!0),this.text+=a,this}println(a,o=!0){return this.print(a,o),this.text+="\r\n",this.useSeparator=!1,this}}let ote=(()=>{class l{constructor(){}getMemorialsString(o,c,u,h=";"){let d=new f6e(h);return d.print("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),d.print("\u0422\u0435\u0433\u0438"),d.println("",!1),c.forEach((f,p)=>{!f||(d.print(f),d.print(u[p]),d.println("",!1))}),d.println("",!1),d.print("\u0418\u043c\u044f"),d.print("\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"),d.print("\u0421\u0442\u0430\u0442\u0443\u0441"),d.print("\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435"),d.print("\u0422\u0435\u0433\u0438"),d.println("",!1),o.filter(f=>{if(!c)return!0;let p=!1;return c.forEach(g=>{bo.tagsHasFlag(f.tags,g)&&(p=!0)}),p}).forEach((f,p)=>{f.tags.split(","),d.print(f.name),d.print(f.description),d.print(f.live?"\u0416\u0438\u0432\u043e\u0439":"\u0423\u0441\u043e\u043f\u0448\u0438\u0439"),d.print(""+f.offset),d.print(f.tags),d.println("",!1)}),d.text}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();var Jp=(()=>(function(l){l[l.Begining=-1]="Begining",l[l.Tropari=-2]="Tropari",l[l.GospodiPomily=-3]="GospodiPomily",l[l.Molitva=-4]="Molitva"}(Jp||(Jp={})),Jp))();class p6e{constructor(a,o,c,u){this.link=a,this.name=o,this.kafizma=c,this.psalom=u}isPsalom(){return this.psalom>0}isBegining(){return this.psalom===Jp.Begining}isTropari(){return this.psalom===Jp.Tropari}isGospodiPomiluy(){return this.psalom===Jp.GospodiPomily}isMolitva(){return this.psalom===Jp.Molitva}}class g6e{constructor(a,o,c,u){this.kafizma=a,this.psalom=o,this.add=c,this.filter=u}}let gv=(()=>{class l{constructor(o,c,u,h,d,f){this.psSvc=o,this.uiConfig=c,this.config=u,this.kvSvc=h,this.http=d,this.themeSvc=f,this.items=[],this.audio=null,this.current=null,this.playList=[],this.playRunning=!1,this.currentAudioValue=-1,this.currentAudioValueId=0,this.restPoint="/",this.startRequests=[],this.startRequestsId=0,this.setAudioDir(f.getAudioRootFolder(),()=>{}),this.control=this.getAudioSubscription(!0)}setAudioDir(o,c){let u="audioDir";this.kvSvc.findKey(u,h=>{h&&h.success?this.kvSvc.updateKey(Vc.of(u,o),d=>{c&&c(d?d.error:null)}):this.kvSvc.insertKey(Vc.of(u,o),d=>{c&&c(d?d.error:null)})})}ngOnDestroy(){this.stop()}autoPlay(){if(this.playList.length){const o=this.playList.shift();if(o){this.playRunning=!0;let c=(u,h)=>{let d=this.uiConfig.downloadAudioFile(u,"translation"+this.toString(""+this.currentAudioValue,3));d||(h=!0);let f=()=>{this.audio=new Audio(h?u:this.getPlayedLink(u)),this.audio.onended=()=>{this.autoPlay()},h||(this.audio.onerror=p=>{c(o.link,!0)});try{this.audio.play()}catch(p){}this.current=o};d?this.setAudioDir(d,()=>{f()}):f()};c(o.link,this.config.isMemoryServerType())}else this.playRunning=!1}else this.playRunning=!1}getUIAudioValue(){let o=1;try{o=+this.uiConfig.ui.audioValue.getStringValue()}catch(c){o=1}return(o<1||o>10)&&(o=1),o}reload(o,c=!1){let u=this.getUIAudioValue();if(u!==this.currentAudioValue&&(c=!0),!c&&this.items.length>0)o&&o();else{this.items=[],this.currentAudioValue=u;let h=++this.currentAudioValueId,d="audio/CS/"+this.toString(""+this.currentAudioValue,3)+".txt";this.psSvc.getText(d,f=>{if(h==this.currentAudioValueId)return f?(JSON.parse(f).forEach(g=>{this.items.push(new p6e(g.link,g.name,+g.kafizma,+g.psalom))}),void(o&&o())):(this.config.addAlert(yr.of("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d: "+this.currentAudioValue,"Ok",15)),void(o&&o()));this.config.post(()=>{o&&o()})})}}isStarted(){return!!this.audio}isPlaying(o=!1){return this.audio&&!this.audio.paused||o&&this.playRunning}currentName(){return this.current?this.current.name:""}startCheckUI(o,c,u,h,d){let f=this.uiConfig.ui.audioValue.getStringValue();if(f&&"0"!=f)return this.start(o,c,u,h,d)}start(o,c,u,h,d){let f=this.startDirect(c,u,h,d);o&&o(f)}startDirectRaw(o,c,u,h,d){h||(this.playList=[]),this.items.forEach(f=>{(c<0||f.kafizma===c)&&(u<-5||f.psalom===u)&&(!d||d(f.psalom))&&this.playList.push(f)}),o&&(!h||!this.isPlaying(!0))&&(this.isPlaying(!0)&&!h&&this.stop(),this.autoPlay())}startDirect(o,c,u,h){const d=o<0&&c<0;let f=++this.startRequestsId;return this.startRequests.push(new g6e(o,c,u,h)),d||this.reload(()=>{if(f==this.startRequestsId){let p=this.startRequests;this.startRequests=[],p.forEach((g,m)=>this.startDirectRaw(m+1==p.length,g.kafizma,g.psalom,g.add,g.filter))}}),this.getAudioSubscription(d)}getAudioSubscription(o){const c=this;return new class u{close(d){return(!o||d)&&c.stop(),this}currentName(){return c.currentName()}isPlaying(){return c.isPlaying()}isStarted(){return c.isStarted()}next(){return c.stop(),c.autoPlay(),this}pause(){return c.pause(),this}resume(){return c.resume(),this}}}next(){this.stop(),this.autoPlay()}stop(){this.audio&&(this.audio.pause(),this.audio.currentTime=0,this.audio=null,this.current=null,this.playRunning=!1)}pause(){this.audio&&this.audio.pause()}resume(){this.audio&&this.audio.play()}getRestPoint(o,c){return fs.merge(fs.merge(c||this.config.serviceAPIHost,this.restPoint),o)}getRestPointRaw(o,c){return fs.merge(c||this.config.serviceAPIHost,o)}toString(o,c){for(;o.length<c;)o="0"+o;return o}getPlayedLink(o){let c=o.split("/"),u=c[c.length-1];return this.getRestPointRaw(fs.merge("/audio/audio/translation"+this.toString(""+this.currentAudioValue,3),u),null)}downloadAll(o,c){let u=[];this.items.forEach(f=>{u.push(f.link)});let h=0;o(.01);let d=()=>{this.config.post(()=>{if(h>=u.length)return o(100),void c();let f=u[h++];this.uiConfig.downloadAudioFile(f,"translation"+this.toString(""+this.currentAudioValue,3)),o((h+1)/u.length*100),d()},100)};d()}deleteAudioAll(o,c){this.config.post(()=>{this.uiConfig.deleteAudioTranslation(o),c&&c()},100)}downloadAllUrls(o){var c=document.createElement("a");c.setAttribute("download",""),c.style.display="none",document.body.appendChild(c);for(var u=0;u<o.length;u++)c.setAttribute("href",o[u]),c.click();document.body.removeChild(c)}exists(o,c){this.http.get(this.getRestPoint("/exists/audio/"+o,null),{}).pipe(tr(Pi.handleError)).subscribe({next:h=>{c(h,null)},error:h=>{c(null,""+h)}})}}return l.\u0275fac=function(o){return new(o||l)(Fe(Yp),Fe($i),Fe(kn),Fe(VF),Fe(sf),Fe(Vu))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();const m6e=function(l){return{"print-only":!1,pageBreak:l}};function v6e(l,a){if(1&l&&(A(0,"div",1),ye(1,"app-svg-js-image",2),ye(2,"app-dynamic-menu",3),I()),2&l){const o=J();U("ngClass",Ss(6,m6e,o.enabled&&o.uiConfig.ui.showFacePage.getBooleanValue()||o.showAnyWay)),z(1),U("genName","LogoLight2")("svgWidth",512)("svgHeight",512)("type",o.type),z(1),U("data",o.dynMenuData)}}let JL=(()=>{class l{constructor(o){this.uiConfig=o,this.enabled=!0,this.showAnyWay=!1,this.type=512,this.dynMenuData=ov.builder().setWhiteBack(!0).setMenuState(rv.builder().addCommand(Va.builder().setName("\u0414\u0435\u0432\u0438\u0441\u043a\u0438\u043d")).setGenName("MenuDay2"))}set menuClick(o){this.dynMenuData&&this.dynMenuData.setOnClick(o)}set name(o){this.dynMenuData.setMenuState(rv.builder().addCommand(Va.builder().setName(o)).setGenName("MenuDay2"))}get name(){return this.dynMenuData.menuState.commands[0].name}ngOnInit(){}}return l.\u0275fac=function(o){return new(o||l)(N($i))},l.\u0275cmp=nt({type:l,selectors:[["app-print-logo"]],inputs:{enabled:"enabled",showAnyWay:"showAnyWay",type:"type",menuClick:"menuClick",name:"name"},decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"genName","svgWidth","svgHeight","type"],[3,"data"]],template:function(o,c){1&o&&Q(0,v6e,3,8,"div",0),2&o&&U("ngIf",c.enabled&&c.uiConfig.ui.showFacePage.getBooleanValue()||c.showAnyWay)},directives:[Mn,Gi,zu,ZF],styles:[""]}),l})();function _6e(l,a){if(1&l){const o=Bt();A(0,"span",2),pe("click",function(){const h=dt(o).$implicit;return J().onItem(h)}),we(1),I()}if(2&l){const o=a.$implicit;U("ngClass",J().getSpanClass(o)),z(1),Sn(o.text)}}const y6e=function(l){return{"bottom-top-space":!0,"no-print":l}};let sM=(()=>{class l{constructor(o,c){this.config=o,this.uiConfig=c,this.currentItem=null}get toolbarData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){var c={};return c["s"+this.uiConfig.ui.fontSize.getStringValue()]=!0,c}onItem(o){this.currentItem=o,this.toolbarData.onClick&&this.toolbarData.onClick(o)}getSpanClass(o){let c={cursor:!0,label:!0};return c[this.toolbarData.classes.labelNormal]=!o.selected,c[this.toolbarData.classes.labelSelected]=o.selected,c["hs"+this.uiConfig.ui.fontSize.getStringValue()]=!0,c}}return l.\u0275fac=function(o){return new(o||l)(N(kn),N($i))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-content-toolbar"]],inputs:{data:"data"},decls:2,vars:4,consts:[[3,"ngClass"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(o,c){1&o&&(A(0,"div",0),Q(1,_6e,2,2,"span",1),I()),2&o&&(U("ngClass",Ss(2,y6e,c.toolbarData.classes.noPrint)),z(1),U("ngForOf",c.toolbarData.items))},directives:[Gi,or],styles:[""]}),l})();function b6e(l,a){if(1&l){const o=Bt();A(0,"div",6),A(1,"a",7),pe("click",function(){return dt(o).$implicit.runOnClick()}),we(2),I(),I()}if(2&l){const o=a.$implicit,c=J(2);z(1),U("ngClass",c.getAlertActionClass(!1))("hidden",!o.enabled),z(1),Sn(o.text)}}function x6e(l,a){1&l&&ye(0,"clr-icon",9),2&l&&Je("shape",J(3).errorsData.classes.alertShape)}function C6e(l,a){if(1&l){const o=Bt();A(0,"span"),Q(1,x6e,1,1,"clr-icon",8),A(2,"span",1),pe("click",function(){const h=dt(o).$implicit;return J(2).onErrorMessage(h)}),we(3),I(),I()}if(2&l){const o=a.$implicit,c=J(2);z(1),U("ngIf",c.errorsData.classes.alertShape),z(1),U("ngClass",c.getAlertTextClass(!1)),z(1),Ai(" ",o," ")}}function w6e(l,a){if(1&l){const o=Bt();A(0,"button",10),A(1,"clr-icon",1),pe("click",function(){return dt(o).$implicit.runOnClick()}),I(),I()}if(2&l){const o=a.$implicit,c=J(2);z(1),U("ngClass",c.getAlertButtonClass(!1)),Je("shape",o.shape)}}function S6e(l,a){if(1&l&&(A(0,"div"),A(1,"div",1),pe("click",function(c){return c.stopPropagation()}),A(2,"div",2),Q(3,b6e,3,3,"div",3),Q(4,C6e,4,3,"span",4),I(),Q(5,w6e,2,2,"button",5),I(),I()),2&l){const o=J();z(1),U("ngClass",o.getClasses()),z(2),U("ngForOf",o.errorsData.actions),z(1),U("ngForOf",o.errorsData.errors),z(1),U("ngForOf",o.errorsData.buttons)}}function T6e(l,a){if(1&l&&(A(0,"div",18),ye(1,"clr-icon",9),I()),2&l){const o=J(3);z(1),Je("shape",o.errorsData.classes.alertShape)}}function M6e(l,a){if(1&l){const o=Bt();A(0,"a",7),pe("click",function(){return dt(o).$implicit.runOnClick()}),we(1),I()}if(2&l){const o=a.$implicit;U("ngClass",J(3).getAlertActionClass())("hidden",!o.enabled),z(1),Sn(o.text)}}function D6e(l,a){if(1&l){const o=Bt();A(0,"div",14),Q(1,T6e,2,1,"div",15),A(2,"span",1),pe("click",function(){const h=dt(o).$implicit;return J(2).onErrorMessage(h)}),we(3),I(),A(4,"div",16),Q(5,M6e,2,3,"a",17),I(),I()}if(2&l){const o=a.$implicit,c=J(2);z(1),U("ngIf",c.errorsData.classes.alertShape),z(1),U("ngClass",c.getAlertTextClass()),z(1),Ai(" ",o," "),z(2),U("ngForOf",c.errorsData.actions)}}function E6e(l,a){if(1&l){const o=Bt();A(0,"button",10),A(1,"clr-icon",1),pe("click",function(){return dt(o).$implicit.runOnClick()}),I(),I()}if(2&l){const o=a.$implicit,c=J(2);z(1),U("ngClass",c.getAlertButtonClass()),Je("shape",o.shape)}}function k6e(l,a){if(1&l&&(A(0,"div"),A(1,"div",11),pe("click",function(c){return c.stopPropagation()}),A(2,"div",12),Q(3,D6e,6,4,"div",13),I(),Q(4,E6e,2,2,"button",5),I(),I()),2&l){const o=J();z(1),U("ngClass",o.getClasses()),z(2),U("ngForOf",o.errorsData.errors),z(1),U("ngForOf",o.errorsData.buttons)}}let oM=(()=>{class l{constructor(o){this.uiConfig=o,this.stdErrorsEnabled=!1}get errorsData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}get type(){return this.data&&this.data.classes.type?this.data.classes.type:""}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(o=!0){var c,u=null===(c=this.errorsData)||void 0===c?void 0:c.classes,h={alert:o};return u&&(h[u.alertClass]=o,h["no-print"]=u.noPrint),h}getAlertButtonClass(o=!0){let c={"alert-icon":o};return c["hs"+this.uiConfig.ui.fontSize.getStringValue()]=!0,c}getAlertActionClass(o=!0){let c={"alert-action":o};return o||(c["left-space"]=!0,c["right-space"]=!0),c["hs"+this.uiConfig.ui.fontSize.getStringValue()]=!0,c}getAlertTextClass(o=!0){let c={"alert-text":o,cursor:!0};return c["hs"+this.uiConfig.ui.fontSize.getStringValue()]=!0,c}onErrorMessage(o){return this.errorsData.click(o),this}}return l.\u0275fac=function(o){return new(o||l)(N($i))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-errors"]],inputs:{data:"data"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngClass","click"],[1,"left-space","right-space","bottom-top-space","w100"],["class","inlineBlock underline floatRight no-print",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["type","button","class","close","aria-label","Close",4,"ngFor","ngForOf"],[1,"inlineBlock","underline","floatRight","no-print"],["href","javascript:void(0)",3,"ngClass","hidden","click"],["class","alert-icon",4,"ngIf"],[1,"alert-icon"],["type","button","aria-label","Close",1,"close"],["role","alert",3,"ngClass","click"],[1,"alert-items"],["class","alert-item static",4,"ngFor","ngForOf"],[1,"alert-item","static"],["class","alert-icon-wrapper",4,"ngIf"],[1,"alert-actions"],["href","javascript:void(0)",3,"ngClass","hidden","click",4,"ngFor","ngForOf"],[1,"alert-icon-wrapper"]],template:function(o,c){1&o&&(Q(0,S6e,6,4,"div",0),Q(1,k6e,5,3,"div",0)),2&o&&(U("ngIf",!c.stdErrorsEnabled&&(null==c.errorsData||null==c.errorsData.errors?null:c.errorsData.errors.length)),z(1),U("ngIf",c.stdErrorsEnabled&&(null==c.errorsData||null==c.errorsData.errors?null:c.errorsData.errors.length)))},directives:[Mn,Gi,or,Aa],styles:[".floatRight[_ngcontent-%COMP%]{float:right}.inlineBlock[_ngcontent-%COMP%]{display:inline-block}.underline[_ngcontent-%COMP%]{text-decoration:underline}.w100[_ngcontent-%COMP%]{width:100%}"]}),l})();function A6e(l,a){if(1&l){const o=Bt();A(0,"clr-radio-wrapper"),A(1,"input",17),pe("ngModelChange",function(u){return dt(o),J().uiConfig.ui.fontSize.rawValue=u}),I(),A(2,"label"),we(3),I(),I()}if(2&l){const o=a.$implicit,c=J();z(1),U("name","mainFontSize")("value",""+o)("ngModel",c.uiConfig.ui.fontSize.rawValue),z(2),Ai("x",o,"")}}function I6e(l,a){if(1&l){const o=Bt();A(0,"clr-toggle-wrapper"),A(1,"input",18),pe("ngModelChange",function(u){return dt(o).$implicit.rawValue=u}),I(),A(2,"label"),we(3),I(),I()}if(2&l){const o=a.$implicit;z(1),U("name",o.name)("value",o.name)("ngModel",o.rawValue),z(2),Sn(o.description)}}function P6e(l,a){if(1&l){const o=Bt();A(0,"clr-radio-wrapper"),A(1,"input",17),pe("ngModelChange",function(u){return dt(o),J(2).uiConfig.ui.memorialPageSize.rawValue=u}),I(),A(2,"label"),we(3),I(),I()}if(2&l){const o=a.$implicit,c=J(2);z(1),U("name","mainPageSize")("value",""+o)("ngModel",c.uiConfig.ui.memorialPageSize.rawValue),z(2),Ai("x",o,"")}}const O6e=function(){return[10,20,30,40,50,60,70,80,90,100]};function R6e(l,a){if(1&l&&(A(0,"clr-radio-container",0),A(1,"label"),we(2),I(),Q(3,P6e,4,4,"clr-radio-wrapper",1),I()),2&l){const o=J();z(2),Ai("",o.uiConfig.ui.memorialPageSize.description,":"),z(1),U("ngForOf",_d(2,O6e))}}function F6e(l,a){if(1&l){const o=Bt();A(0,"clr-radio-wrapper"),A(1,"input",17),pe("ngModelChange",function(u){return dt(o),J(2).currentKafizma=u}),I(),A(2,"label"),we(3),I(),I()}if(2&l){const o=a.$implicit,c=J(2);z(1),U("name","mainKafizma")("value",""+o)("ngModel",c.currentKafizma),z(2),Sn(o||"\u041f\u043e \u0438\u043c\u0435\u043d\u0438 \u0432 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0435")}}const L6e=function(){return[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]};function N6e(l,a){1&l&&(A(0,"clr-radio-container",0),A(1,"label"),we(2,"\u041a\u0430\u0444\u0438\u0437\u043c\u0430:"),I(),Q(3,F6e,4,4,"clr-radio-wrapper",1),I()),2&l&&(z(3),U("ngForOf",_d(1,L6e)))}function B6e(l,a){if(1&l){const o=Bt();A(0,"clr-radio-wrapper"),A(1,"input",17),pe("ngModelChange",function(u){return dt(o),J(2).uiConfig.ui.audioValue.rawValue=u}),I(),A(2,"label"),we(3),I(),I()}if(2&l){const o=a.$implicit,c=J(2);z(1),U("name","mainAudio")("value",o.value)("ngModel",c.uiConfig.ui.audioValue.rawValue),z(2),Sn(o.name)}}function V6e(l,a){if(1&l&&(A(0,"clr-radio-container",0),A(1,"label"),we(2,"\u0417\u0432\u0443\u043a\u043e\u0432\u043e\u0435 \u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435:"),I(),Q(3,B6e,4,4,"clr-radio-wrapper",1),I()),2&l){const o=J();z(3),U("ngForOf",o.audios)}}function z6e(l,a){1&l&&(A(0,"h4"),we(1,"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430:"),I())}function U6e(l,a){1&l&&ye(0,"clr-progress-bar",19),2&l&&U("clrValue",J().translationLoadingPersantage)}function H6e(l,a){if(1&l){const o=Bt();A(0,"button",20),pe("click",function(){return dt(o),J().downloadAll()}),ye(1,"clr-icon",21),we(2," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u0432\u043e\u0434\n"),I()}}function G6e(l,a){if(1&l){const o=Bt();A(0,"button",20),pe("click",function(){const h=dt(o).$implicit;return J(2).deleteTranslation(h)}),ye(1,"clr-icon",23),we(2),I()}if(2&l){const o=a.$implicit;z(2),iy(" ",o.name," (",o.nameOriginal,") ")}}function W6e(l,a){if(1&l&&(A(0,"div"),Q(1,G6e,3,2,"button",22),I()),2&l){const o=J();z(1),U("ngForOf",o.translationInfos)}}const j6e=function(){return[0,1,2,3,4,5,6,7,8,9,10,20,30]},eN=function(l,a,o,c){return{btn:!0,"btn-primary":l,"btn-success":a,"btn-primary-outline":o,"btn-success-outline":c}};class Uc{constructor(a,o,c){this.name=a,this.nameSimple=o,this.value=c}}class $6e{constructor(a,o,c){this.name=a,this.nameOriginal=o,this.value=c}equalsTo(a){return this.nameOriginal==a.name&&this.value==a.value}}class q6e{constructor(a=!1,o="",c=""){this.modalFlag=a,this.currentName=o,this.text=c}}let ate=(()=>{class l{constructor(o,c,u,h){this.config=o,this.uiConfig=c,this.themesSvc=u,this.audioSvc=h,this.translationLoadingPersantage=0,this.settingsBooks=[],this.settingsMemorial=[],this.audios=[new Uc("\u0411\u0435\u0437 \u0437\u0432\u0443\u043a\u0430","\u0411\u0435\u0437 \u0437\u0432\u0443\u043a\u0430","0"),new Uc("\u041f\u0441\u0430\u043b\u043c\u044b \u0414\u0430\u0432\u0438\u0434\u043e\u0432\u044b (\u0438\u0435\u0440\u043e\u0434\u0438\u0430\u043a\u043e\u043d \u0413\u0435\u0440\u043c\u0430\u043d (\u0420\u044f\u0431\u0446\u0435\u0432))","\u0438\u0435\u0440\u043e\u0434\u0438\u0430\u043a\u043e\u043d \u0413\u0435\u0440\u043c\u0430\u043d (\u0420\u044f\u0431\u0446\u0435\u0432)","1"),new Uc("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c (\u0441\u0438\u043d\u043e\u0434\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434) (\u0418\u043b\u044c\u044f \u0415\u0444\u0438\u043c\u043e\u0432\u0438\u0447 \u041f\u0440\u0443\u0434\u043e\u0432\u0441\u043a\u0438\u0439)","\u0418\u043b\u044c\u044f \u0415\u0444\u0438\u043c\u043e\u0432\u0438\u0447 \u041f\u0440\u0443\u0434\u043e\u0432\u0441\u043a\u0438\u0439","9"),new Uc("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 (\u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0411\u0438\u0440\u0443\u043a\u043e\u0432\u044b\u0445) (\u041b\u0435\u0432 \u041f\u0440\u044b\u0433\u0443\u043d\u043e\u0432)","\u041b\u0435\u0432 \u041f\u0440\u044b\u0433\u0443\u043d\u043e\u0432","2"),new Uc("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c \u043d\u0430 \u0434\u0440\u0435\u0432\u043d\u0435\u0433\u0440\u0435\u0447\u0435\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435","\u0434\u0440\u0435\u0432\u043d\u0435\u0433\u0440\u0435\u0447\u0435\u0441\u043a\u0438\u0439","4"),new Uc("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c \u043d\u0430 \u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 (\u0434\u0438\u0430\u043a\u043e\u043d \u0418\u043e\u0430\u043d\u043d \u0413\u043b\u0435\u0431\u043e\u0432)","\u0434\u0438\u0430\u043a\u043e\u043d \u0418\u043e\u0430\u043d\u043d \u0413\u043b\u0435\u0431\u043e\u0432","3"),new Uc("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c \u043d\u0430 \u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 (\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a \u0410\u043d\u0434\u0440\u0435\u0439 \u0421\u043c\u0438\u0440\u043d\u043e\u0432)","\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a \u0410\u043d\u0434\u0440\u0435\u0439 \u0421\u043c\u0438\u0440\u043d\u043e\u0432","5"),new Uc("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c \u043d\u0430 \u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 (\u0418\u043b\u044c\u044f \u0420\u044b\u0431\u0430\u043a\u043e\u0432)","\u0418\u043b\u044c\u044f \u0420\u044b\u0431\u0430\u043a\u043e\u0432","6"),new Uc("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c (\u0438\u0433\u0443\u043c\u0435\u043d \u0418\u043e\u0430\u0441\u0430\u0444 (\u0421\u043e\u0440\u043e\u043a\u0438\u043d), \u041c\u0430\u043a\u0441\u0438\u043c \u0422\u0430\u043d\u0446\u0443\u0440\u043e\u0432)","\u0438\u0433\u0443\u043c\u0435\u043d \u0418\u043e\u0430\u0441\u0430\u0444 (\u0421\u043e\u0440\u043e\u043a\u0438\u043d), \u041c\u0430\u043a\u0441\u0438\u043c \u0422\u0430\u043d\u0446\u0443\u0440\u043e\u0432","7"),new Uc("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c \u043d\u0430 \u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 (\u0438\u0435\u0440\u043e\u043c\u043e\u043d\u0430\u0445 \u0422\u0438\u0445\u043e\u043d (\u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432))","\u0438\u0435\u0440\u043e\u043c\u043e\u043d\u0430\u0445 \u0422\u0438\u0445\u043e\u043d (\u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432)","8"),new Uc("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c \u043d\u0430 \u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 (\u0438\u0433\u0443\u043c\u0435\u043d \u0410\u043c\u0432\u0440\u043e\u0441\u0438\u0439 (\u0415\u0440\u043c\u0430\u043a\u043e\u0432))","\u0438\u0433\u0443\u043c\u0435\u043d \u0410\u043c\u0432\u0440\u043e\u0441\u0438\u0439 (\u0415\u0440\u043c\u0430\u043a\u043e\u0432)","10")],this.translationInfosArray=[],this.deleteTranslationDlg=new q6e,this.settingsBooks=[c.ui.parallel,c.ui.coloredTranslations,c.ui.fineText,c.ui.lineBreaks,c.ui.showFacePage,c.ui.stopServiceFlag],this.settingsMemorial=[c.ui.sortPersonsPriests,c.ui.sortPersonsNames,c.ui.memorialVerticalView,c.ui.mergeNameOnImport,c.ui.showMolitvy,c.ui.addCommentToName,c.ui.memorialSlava1Zdrav,c.ui.memorialSlava1Upok,c.ui.memorialSlava2Zdrav,c.ui.memorialSlava2Upok,c.ui.memorialSlava3Zdrav,c.ui.memorialSlava3Upok,c.ui.memorialPsaltir,c.ui.autoDownloadAudioFiles,c.ui.showFacePage,c.ui.stopServiceFlag]}isBook(){return null==this.data||this.stgsData.classes.bookSettings}get settings(){return this.isBook()?this.settingsBooks:this.settingsMemorial}get stgsData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}get translationInfos(){let o=this.uiConfig.getAudioTranslations(),c=()=>{this.translationInfosArray=[];for(let u=0;u<o.length;++u){let h=o[u];this.audios.forEach(d=>{d.value==""+ +h.value&&this.translationInfosArray.push(new $6e(d.nameSimple,h.name,h.value))})}};if(o.length!=this.translationInfosArray.length)c();else for(let u=0;u<o.length;++u)if(!this.translationInfosArray[u].equalsTo(o[u])){c();break}return this.translationInfosArray}get currentKafizma(){return""+$i.getKafizmNumberBy(17,this.uiConfig.ui.currentOffset.getNumberValue())}set currentKafizma(o){this.uiConfig.ui.currentOffset.setNumberValue($i.getOffsetByKafizmNumber(17,+o))}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){return{}}toggleParallel(){return this.uiConfig.ui.parallel.setBooleanValue(!this.uiConfig.ui.parallel.getAndVerifyBooleanValue()),this}toggleLineBreaks(){return this.uiConfig.ui.lineBreaks.setBooleanValue(!this.uiConfig.ui.lineBreaks.getAndVerifyBooleanValue()),this}toggleColoredTranslations(){return this.uiConfig.ui.coloredTranslations.setBooleanValue(!this.uiConfig.ui.coloredTranslations.getAndVerifyBooleanValue()),this}isRedTheme(){return this.config.isRedTheme()}isLight(){return this.themesSvc.isLight()}isNight(){return this.themesSvc.isNight()}isAutoTheme(){return this.themesSvc.isAutoTheme()}onToggleAutoTheme(){this.themesSvc.onToggleAutoTheme()}switchToLight(){this.themesSvc.switchToLight()}switchToNight(){this.themesSvc.switchToNight()}downloadAll(){this.audioSvc.downloadAll(o=>(this.translationLoadingPersantage=Math.round(100*o)/100,!0),()=>{this.translationLoadingPersantage=100})}isTranslationDownloading(){return this.config.isRestServerType()&&this.translationLoadingPersantage>0&&this.translationLoadingPersantage<100}isTranslationDownloadNeeded(o){return this.config.isRestServerType()&&(!o||o&&this.uiConfig.ui.autoDownloadAudioFiles.getBooleanValue())&&!this.isBook()}deleteTranslation(o){this.deleteTranslationDlg.currentName=o.name,this.deleteTranslationDlg.modalFlag=!0}deleteTranslationDirect(){this.config.post(()=>{let o=this.translationInfos.findIndex(h=>h.name==this.deleteTranslationDlg.currentName);o<0||o>=0&&o<this.translationInfos.length&&this.uiConfig.deleteAudioTranslation(this.translationInfos[o].value),this.deleteTranslationDlg.modalFlag=!1})}}return l.\u0275fac=function(o){return new(o||l)(N(kn),N($i),N(Vu),N(gv))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-settings"]],inputs:{data:"data"},decls:37,vars:31,consts:[["clrInline",""],[4,"ngFor","ngForOf"],["clrInline","",4,"ngIf"],[4,"ngIf"],["clrSuccess","","clrLabeled","",3,"clrValue",4,"ngIf"],["class","btn btn-primary btn-block",3,"click",4,"ngIf"],[1,"top-space","bottom-space"],[1,"btn-group","btn-primary-outline"],[3,"ngClass","click"],["shape","sun",1,"is-solid"],["shape","moon",1,"is-solid"],[1,"s0",3,"clrModalOpen","clrModalOpenChange","click"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["type","radio","clrRadio","",3,"name","value","ngModel","ngModelChange"],["type","checkbox","clrToggle","",3,"name","value","ngModel","ngModelChange"],["clrSuccess","","clrLabeled","",3,"clrValue"],[1,"btn","btn-primary","btn-block",3,"click"],["shape","download"],["class","btn btn-primary btn-block",3,"click",4,"ngFor","ngForOf"],["shape","times"]],template:function(o,c){1&o&&(A(0,"clr-radio-container",0),A(1,"label"),we(2),I(),Q(3,A6e,4,4,"clr-radio-wrapper",1),I(),A(4,"clr-toggle-container",0),A(5,"label"),we(6,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:"),I(),Q(7,I6e,4,4,"clr-toggle-wrapper",1),I(),Q(8,R6e,4,3,"clr-radio-container",2),Q(9,N6e,4,2,"clr-radio-container",2),Q(10,V6e,4,1,"clr-radio-container",2),Q(11,z6e,2,0,"h4",3),Q(12,U6e,1,1,"clr-progress-bar",4),Q(13,H6e,3,0,"button",5),Q(14,W6e,2,1,"div",3),A(15,"div",6),A(16,"clr-toggle-container",0),A(17,"label"),we(18,"\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441:"),I(),I(),A(19,"div",7),A(20,"button",8),pe("click",function(){return c.switchToLight()}),ye(21,"clr-icon",9),I(),A(22,"button",8),pe("click",function(){return c.onToggleAutoTheme()}),ye(23,"clr-icon",9),ye(24,"clr-icon",10),I(),A(25,"button",8),pe("click",function(){return c.switchToNight()}),ye(26,"clr-icon",10),I(),I(),I(),A(27,"clr-modal",11),pe("clrModalOpenChange",function(h){return c.deleteTranslationDlg.modalFlag=h})("click",function(h){return h.stopPropagation()}),A(28,"h3",12),we(29,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430:"),I(),A(30,"div",13),we(31),I(),A(32,"div",14),A(33,"button",15),pe("click",function(){return c.deleteTranslationDlg.modalFlag=!1}),we(34,"\u041e\u0442\u043c\u0435\u043d\u0430"),I(),A(35,"button",16),pe("click",function(){return c.deleteTranslationDirect()}),we(36,"Ok"),I(),I(),I()),2&o&&(z(2),Ai("",c.uiConfig.ui.fontSize.description,":"),z(1),U("ngForOf",_d(15,j6e)),z(4),U("ngForOf",c.settings),z(1),U("ngIf",!c.isBook()),z(1),U("ngIf",!c.isBook()),z(1),U("ngIf",!c.isBook()),z(1),U("ngIf",c.isTranslationDownloading()),z(1),U("ngIf",c.isTranslationDownloading()),z(1),U("ngIf",c.isTranslationDownloadNeeded(!0)&&!c.isTranslationDownloading()),z(1),U("ngIf",!c.isTranslationDownloading()),z(6),U("ngClass",zC(16,eN,!c.isRedTheme()&&c.isLight(),c.isRedTheme()&&c.isLight(),!c.isRedTheme()&&!c.isLight(),c.isRedTheme()&&!c.isLight())),z(2),U("ngClass",zC(21,eN,!c.isRedTheme()&&c.isAutoTheme(),c.isRedTheme()&&c.isAutoTheme(),!c.isRedTheme()&&!c.isAutoTheme(),c.isRedTheme()&&!c.isAutoTheme())),z(3),U("ngClass",zC(26,eN,!c.isRedTheme()&&c.isNight(),c.isRedTheme()&&c.isNight(),!c.isRedTheme()&&!c.isNight(),c.isRedTheme()&&!c.isNight())),z(2),U("clrModalOpen",c.deleteTranslationDlg.modalFlag),z(4),Ai(' \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0432\u0443\u043a\u043e\u0432\u043e\u0435 \u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430: "',c.deleteTranslationDlg.currentName,'"? '))},directives:[CTe,ls,or,Sj,Gw,Hl,Q3,Ao,go,Zw,kd,_u,Ad,Mn,FP,Aa,Gi,a0,l0],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]}),l})();function Y6e(l,a){1&l&&ye(0,"clr-icon",16)}function Z6e(l,a){1&l&&ye(0,"clr-icon",17)}function X6e(l,a){if(1&l){const o=Bt();A(0,"clr-input-container"),A(1,"label"),Q(2,Y6e,1,0,"clr-icon",13),Q(3,Z6e,1,0,"clr-icon",14),we(4),I(),A(5,"input",15),pe("ngModelChange",function(u){return dt(o).$implicit.value=u}),I(),A(6,"clr-control-error"),we(7,"\u041f\u043e\u043b\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043e!"),I(),I()}if(2&l){const o=a.$implicit,c=J(2);z(2),U("ngIf",c.isEventProperty(o,!1)),z(1),U("ngIf",c.isEventProperty(o,!0)),z(1),Ai(" ",o.name,""),z(1),vm("name","prop_",o.name,""),U("ngModel",o.value)}}function K6e(l,a){if(1&l){const o=Bt();A(0,"button",18),pe("click",function(){return dt(o),J(2).deletePerson()}),ye(1,"clr-icon",19),I()}}function Q6e(l,a){if(1&l){const o=Bt();A(0,"button",11),pe("click",function(){return dt(o),J(2).addProperty()}),ye(1,"clr-icon",20),I()}}function J6e(l,a){if(1&l){const o=Bt();A(0,"button",21),pe("click",function(){dt(o);const u=J(2);return u.savePerson(u.person)}),we(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),I()}}function eVe(l,a){if(1&l){const o=Bt();A(0,"form",1),A(1,"clr-input-container"),A(2,"label"),we(3,"\u0418\u043c\u044f"),I(),A(4,"input",2),pe("ngModelChange",function(u){return dt(o),J().person.name=u}),I(),I(),A(5,"clr-input-container"),A(6,"label"),we(7,"\u041a\u0430\u0444\u0438\u0437\u043c\u0430"),I(),A(8,"input",3),pe("ngModelChange",function(u){return dt(o),J().kafizma=u}),I(),I(),A(9,"clr-checkbox-container",4),A(10,"label"),we(11,"\u0421\u0442\u0430\u0442\u0443\u0441"),I(),A(12,"clr-checkbox-wrapper"),A(13,"input",5),pe("ngModelChange",function(u){return dt(o),J().person.live=u}),I(),A(14,"label"),we(15,"\u0416\u0438\u0432\u043e\u0439"),I(),I(),I(),Q(16,X6e,8,5,"clr-input-container",6),A(17,"span",7),we(18,"\xa0"),I(),A(19,"clr-input-container"),A(20,"label"),we(21,"*\u041d\u043e\u0432\u043e\u0435"),I(),A(22,"input",8),pe("ngModelChange",function(u){return dt(o),J().newName=u}),I(),I(),A(23,"span",7),we(24,"\xa0"),I(),Q(25,K6e,2,0,"button",9),Q(26,Q6e,2,0,"button",10),A(27,"button",11),pe("click",function(){dt(o);const u=J();return u.revertPerson(u.person)}),we(28," \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c "),I(),Q(29,J6e,2,0,"button",12),I()}if(2&l){const o=J();z(4),U("ngModel",o.person.name),z(4),U("ngModel",o.kafizma),z(5),U("ngModel",o.person.live),z(3),U("ngForOf",o.properties.properties),z(6),U("ngModel",o.newName),z(3),U("ngIf",o.personDeletionEnabled),z(1),U("ngIf",o.newName),z(3),U("ngIf",o.person.dirty)}}let tVe=(()=>{class l{constructor(o,c,u,h){this.ks=o,this.eventParserSvc=c,this.config=u,this.uiConfig=h,this.personDeletionEnabled=!1,this.memkey=-1,this.data=null,this.changesDetectorPerson=ys.builder(),this.myProperties=new xi,this.newName=""}get person(){var o;return null===(o=this.data)||void 0===o?void 0:o.person}get kafizma(){return!this.person||this.person.offset<0?0:$i.getKafizmNumberBy(17,this.person.offset)}set kafizma(o){if(o<=0)this.person&&(this.person.offset=-1);else if(this.person){let c=$i.getOffsetByKafizmNumber(17,o);this.person.offset=c,this.uiConfig.ui.currentPersonOffset.setNumberValue(c)}}get properties(){return this.syncData(),this.myProperties}updateProperties(){this.newName="",this.properties.setOnChangeCallback(()=>{this.person&&this.person.setDirty()}),this.properties.load(this.person?this.person.description:""),this.properties.properties.find(o=>"\u0442\u0435\u043a\u0441\u0442"==o.name)||this.properties.pushNew("\u0442\u0435\u043a\u0441\u0442","")}ngOnDestroy(){}ngOnInit(){this.updateProperties()}savePerson(o){o.description=this.properties.toString(),this.ks.save(this.memkey,o,!0).then(c=>{var u;null===(u=this.data)||void 0===u||u.click(!0)},c=>{var u;this.config.addAlert(yr.of(""+c,"OK",15)),null===(u=this.data)||void 0===u||u.click(!1)})}revertPerson(o){var c;o.revertDirty(),null===(c=this.data)||void 0===c||c.click(!1)}addProperty(){this.newName&&(this.properties.pushNew(this.newName,""),this.newName="")}isEventProperty(o,c){try{let u=o.value?this.eventParserSvc.parseEvent(o.value):null;return null!=u&&c==u.isToday()}catch(u){}return!1}syncData(){var o;this.changesDetectorPerson.checkAndUpdate(null===(o=this.data)||void 0===o?void 0:o.person)&&this.config.post(()=>{this.updateProperties()})}deletePerson(){!this.data||this.ks.deletePersons([this.data.person]).then(o=>{var c,u;o&&o.success?null===(c=this.data)||void 0===c||c.click(!0):(this.config.addAlert(yr.of("\u041e\u0448\u0438\u0431\u043a\u0430: "+(null==o?void 0:o.error),"OK",15)),null===(u=this.data)||void 0===u||u.click(!1))},o=>{var c;this.config.addAlert(yr.of(""+o,"OK",15)),null===(c=this.data)||void 0===c||c.click(!1)})}}return l.\u0275fac=function(o){return new(o||l)(N(uv),N(rM),N(kn),N($i))},l.\u0275cmp=nt({type:l,selectors:[["app-person-details"]],inputs:{data:"data"},decls:1,vars:1,consts:[["clrForm","",4,"ngIf"],["clrForm",""],["clrInput","","placeholder","\u0418\u043c\u044f","name","name",3,"ngModel","ngModelChange"],["clrInput","","placeholder","\u0418\u043d\u0434\u0435\u043a\u0441","name","offset",3,"ngModel","ngModelChange"],["clrInline",""],["type","checkbox","clrCheckbox","","name","options","value","option1",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"clr-subtext"],["clrInput","","placeholder","\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e","name","prop_new_name",3,"ngModel","ngModelChange"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],["class","btn btn-success",3,"click",4,"ngIf"],["shape","event",4,"ngIf"],["shape","event","class","is-solid",4,"ngIf"],["clrInput","","placeholder","\u0422\u0435\u043a\u0441\u0442","required","",3,"name","ngModel","ngModelChange"],["shape","event"],["shape","event",1,"is-solid"],[1,"btn","btn-danger",3,"click"],["shape","trash"],["shape","plus"],[1,"btn","btn-success",3,"click"]],template:function(o,c){1&o&&Q(0,eVe,30,8,"form",0),2&o&&U("ngIf",c.person)},directives:[Mn,Gy,By,Td,V3,eS,ls,Hl,K3,Ao,go,Zw,kd,_u,Ad,or,Aa,zm,B3],styles:[".template-editor[_ngcontent-%COMP%]{height:calc(100vh - 290px)}.template-editor-2[_ngcontent-%COMP%]{height:calc(100vh - 230px)}"]}),l})(),tN=(()=>{class l{constructor(o){this.config=o,this.clazz={}}get spinnerData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}get type(){return this.data&&this.data.classes.type?this.data.classes.type:""}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){var o,c=null===(o=this.spinnerData)||void 0===o?void 0:o.classes;return this.clazz.spinner=!0,this.clazz["spinner-inline"]=!c||c.spinnerInline,this.clazz}}return l.\u0275fac=function(o){return new(o||l)(N(kn))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-spinner"]],inputs:{data:"data"},decls:5,vars:3,consts:[[3,"ngClass"]],template:function(o,c){1&o&&(A(0,"span"),A(1,"span",0),we(2),I(),A(3,"span"),we(4),I(),I()),2&o&&(z(1),U("ngClass",c.getClasses()),z(1),Ai(" ",c.text," "),z(2),Ai(" ",c.text," "))},directives:[Gi],styles:[""]}),l})();const nVe=["pagesView"];function iVe(l,a){if(1&l){const o=Bt();A(0,"clr-accordion-panel",59),pe("clrAccordionPanelOpenChange",function(u){return dt(o),J(2).showSettings=u}),A(1,"clr-accordion-title"),we(2,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),I(),A(3,"clr-accordion-content"),ye(4,"app-dynamic-settings",4),A(5,"div",60),A(6,"button",61),pe("click",function(){return dt(o),J(2).printBook()}),ye(7,"clr-icon",62),we(8," \u041f\u0435\u0447\u0430\u0442\u044c "),I(),I(),I(),I()}if(2&l){const o=J(2);U("clrAccordionPanelOpen",o.showSettings),z(4),U("data",o.settingsData)}}function rVe(l,a){if(1&l){const o=Bt();A(0,"clr-accordion-panel",59),pe("clrAccordionPanelOpenChange",function(u){return dt(o),J(2).filterMemorials=u}),A(1,"clr-accordion-title"),we(2,"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f"),I(),A(3,"clr-accordion-content"),ye(4,"app-dynamic-content-toolbar",4),ye(5,"app-dynamic-content-toolbar",4),I(),I()}if(2&l){const o=J(2);U("clrAccordionPanelOpen",o.filterMemorials),z(4),U("data",o.toolbarMemorialsFilters),z(1),U("data",o.toolbarMemorialsFlags)}}function sVe(l,a){if(1&l){const o=Bt();A(0,"div",56),A(1,"form",5),A(2,"clr-input-container"),A(3,"label"),we(4,"\u0418\u043c\u044f:"),I(),A(5,"input",63),pe("ngModelChange",function(u){return dt(o),J(2).search=u}),I(),I(),I(),I()}if(2&l){const o=J(2);z(5),U("ngModel",o.search)}}function oVe(l,a){1&l&&Qo(0)}const aVe=function(l,a,o){return{$implicit:l,horPagesCount:a,showPersons:o}};function lVe(l,a){if(1&l){const o=Bt();A(0,"div",40),pe("click",function(u){return u.stopPropagation()}),ye(1,"app-print-logo",41),ye(2,"app-dynamic-content-toolbar",4),ye(3,"app-dynamic-errors",4),A(4,"clr-accordion",42),Q(5,iVe,9,2,"clr-accordion-panel",43),Q(6,rVe,6,3,"clr-accordion-panel",43),I(),A(7,"div",44),A(8,"div",45),A(9,"button",46),pe("click",function(){return dt(o),J().onEditTitleInfo()}),ye(10,"clr-icon"),A(11,"span",28),we(12," \u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f"),I(),I(),I(),A(13,"div",45),A(14,"button",46),pe("click",function(){return dt(o),J().addMemorial()}),ye(15,"clr-icon",47),A(16,"span",28),we(17," \u041d\u043e\u0432\u044b\u0439"),I(),I(),I(),A(18,"div",45),A(19,"button",46),pe("click",function(){return dt(o),J().toggleSearching()}),ye(20,"clr-icon",48),A(21,"span",28),we(22," \u041f\u043e\u0438\u0441\u043a"),I(),I(),I(),A(23,"div",45),A(24,"button",46),pe("click",function(){return dt(o),J().importMemorials()}),ye(25,"clr-icon",49),A(26,"span",28),we(27," \u0418\u043c\u043f\u043e\u0440\u0442"),I(),I(),I(),A(28,"div",45),A(29,"button",46),pe("click",function(){return dt(o),J().exportMemorials()}),ye(30,"clr-icon",50),A(31,"span",28),we(32," \u042d\u043a\u0441\u043f\u043e\u0440\u0442"),I(),I(),I(),A(33,"div",45),A(34,"button",46),pe("click",function(){return dt(o),J().deleteMemorial()}),ye(35,"clr-icon",51),A(36,"span",28),we(37," \u0423\u0434\u0430\u043b\u0438\u0442\u044c"),I(),I(),I(),I(),A(38,"div",52),A(39,"div",53),A(40,"button",46),pe("click",function(){return dt(o),J().onEditTitleInfo()}),ye(41,"clr-icon"),A(42,"span",28),we(43," \u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f"),I(),I(),A(44,"button",46),pe("click",function(){return dt(o),J().addMemorial()}),ye(45,"clr-icon",47),A(46,"span",28),we(47," \u041d\u043e\u0432\u044b\u0439"),I(),I(),I(),A(48,"div",53),A(49,"button",46),pe("click",function(){return dt(o),J().toggleSearching()}),ye(50,"clr-icon",48),A(51,"span",28),we(52," \u041f\u043e\u0438\u0441\u043a"),I(),I(),A(53,"button",46),pe("click",function(){return dt(o),J().importMemorials()}),ye(54,"clr-icon",49),A(55,"span",28),we(56," \u0418\u043c\u043f\u043e\u0440\u0442"),I(),I(),I(),A(57,"div",53),A(58,"button",46),pe("click",function(){return dt(o),J().exportMemorials()}),ye(59,"clr-icon",50),A(60,"span",28),we(61," \u042d\u043a\u0441\u043f\u043e\u0440\u0442"),I(),I(),A(62,"button",46),pe("click",function(){return dt(o),J().deleteMemorial()}),ye(63,"clr-icon",51),A(64,"span",28),we(65," \u0423\u0434\u0430\u043b\u0438\u0442\u044c"),I(),I(),I(),I(),Q(66,sVe,6,1,"div",54),A(67,"div",null,55),A(69,"div",56),A(70,"div"),ye(71,"app-dynamic-content-toolbar",4),I(),I(),Q(72,oVe,1,0,"ng-container",57),A(73,"div",56),A(74,"div"),ye(75,"app-dynamic-content-toolbar",4),I(),I(),A(76,"div",58),we(77),I(),I(),I()}if(2&l){const o=J(),c=to(144),u=to(146),h=to(148),d=to(150);z(1),U("enabled",!o.personsData.readonly)("name",o.currentMemorial?o.currentMemorial:"\u0412\u0441\u0435"),z(1),U("data",o.toolbarMemorials),z(1),U("data",o.headerData),z(2),U("ngIf",o.showSettings&&!o.personsData.readonly),z(1),U("ngIf",o.filterMemorials&&!o.personsData.text),z(1),U("hidden",o.personsData.readonly),z(3),Je("shape","form"),z(28),U("hidden",o.personsData.readonly),z(3),Je("shape","form"),z(25),U("ngIf",o.isSearching()),z(5),U("data",o.toolbarPages),z(1),U("ngTemplateOutlet",c)("ngTemplateOutletContext",zU(18,aVe,o.verticalView?o.verticalView10||o.verticalView40?u:h:d,o.verticalView10?1:o.verticalView40?2:1,o.persons)),z(3),U("data",o.toolbarPages),z(2),ry("\u0412\u0441\u0435\u0433\u043e: ",o.myPersons.length," ",o.getWordName(o.myPersons.length)," \u0438\u0437 ",o.personsAllCount,".")}}function cVe(l,a){if(1&l){const o=Bt();A(0,"clr-toggle-wrapper"),A(1,"input",16),pe("ngModelChange",function(u){return dt(o).$implicit.enabled=u}),I(),A(2,"label"),we(3),I(),I()}if(2&l){const o=a.$implicit;z(1),U("name",o.memorial.memorial.name)("value",o.memorial.memorial.name)("ngModel",o.enabled),z(2),Sn(o.memorial.memorial.name)}}function uVe(l,a){1&l&&(A(0,"span",64),we(1,"\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f"),I())}function hVe(l,a){1&l&&Qo(0)}const dVe=function(l,a,o,c,u){return{mark:l,showPersons:a,horPagesCount:o,liveText:c,usopText:u}};function fVe(l,a){if(1&l&&(A(0,"div"),Q(1,hVe,1,0,"ng-container",57),I()),2&l){const o=a.$implicit,c=a.mark,u=a.showPersons,h=a.horPagesCount,d=J();z(1),U("ngTemplateOutlet",o)("ngTemplateOutletContext",function UU(l,a,o,c,u,h,d,f){const p=Zo()+l,g=It(),m=Bl(g,p,o,c,u,h);return Mo(g,p+4,d)||m?ou(g,p+5,f?a.call(f,o,c,u,h,d):a(o,c,u,h,d)):ey(g,p+5)}(2,dVe,c,u,h,d.getMemorialPageText(u,!0),d.getMemorialPageText(u,!1)))}}function pVe(l,a){if(1&l){const o=Bt();A(0,"div",67),A(1,"app-svg-js-image",68),pe("pagesCount",function(u){dt(o);const h=J(),d=h.horPagesCount,f=h.horPagesCount;return J().onPagesCount(u,d*f,!0)}),I(),I()}if(2&l){const o=J(),c=o.liveText,u=o.horPagesCount,h=o.horPagesCount;z(1),U("svgWidth",210)("svgHeight",297)("scene","/scenes/memorial.page.scene.txt")("genName","Js")("logoText",c)("type",1)("startPageIndex",0)("horizontalPagesCount",u)("verticalPagesCount",h)}}function gVe(l,a){if(1&l&&(A(0,"div",67),ye(1,"app-svg-js-image",70),I()),2&l){const o=a.$implicit,c=J(2),u=c.liveText,h=c.horPagesCount,d=c.horPagesCount;z(1),U("svgWidth",210)("svgHeight",297)("scene","/scenes/memorial.page.scene.txt")("genName","Js")("logoText",u)("type",1)("startPageIndex",o)("horizontalPagesCount",h)("verticalPagesCount",d)}}function mVe(l,a){if(1&l&&(A(0,"div"),Q(1,gVe,2,9,"div",69),I()),2&l){const o=J(2);z(1),U("ngForOf",o.extraPagesLive)}}function vVe(l,a){if(1&l){const o=Bt();A(0,"div",67),A(1,"app-svg-js-image",68),pe("pagesCount",function(u){dt(o);const h=J(),d=h.horPagesCount,f=h.horPagesCount;return J().onPagesCount(u,d*f,!1)}),I(),I()}if(2&l){const o=J(),c=o.usopText,u=o.horPagesCount,h=o.horPagesCount;z(1),U("svgWidth",210)("svgHeight",297)("scene","/scenes/memorial.page.scene.txt")("genName","Js")("logoText",c)("type",1)("startPageIndex",0)("horizontalPagesCount",u)("verticalPagesCount",h)}}function _Ve(l,a){if(1&l&&(A(0,"div",67),ye(1,"app-svg-js-image",70),I()),2&l){const o=a.$implicit,c=J(2),u=c.usopText,h=c.horPagesCount,d=c.horPagesCount;z(1),U("svgWidth",210)("svgHeight",297)("scene","/scenes/memorial.page.scene.txt")("genName","Js")("logoText",u)("type",1)("startPageIndex",o)("horizontalPagesCount",h)("verticalPagesCount",d)}}function yVe(l,a){if(1&l&&(A(0,"div"),Q(1,_Ve,2,9,"div",69),I()),2&l){const o=J(2);z(1),U("ngForOf",o.extraPagesUsop)}}function bVe(l,a){if(1&l&&(Q(0,pVe,2,9,"div",65),Q(1,mVe,2,1,"div",66),Q(2,vVe,2,9,"div",65),Q(3,yVe,2,1,"div",66)),2&l){const o=a.liveText,c=a.usopText;U("ngIf",o),z(1),U("ngIf",o),z(1),U("ngIf",c),z(1),U("ngIf",c)}}function xVe(l,a){1&l&&(A(0,"span",76),we(1,"+"),I())}function CVe(l,a){if(1&l&&(A(0,"span",73),we(1),I()),2&l){const o=J().$implicit;U("ngClass",J(2).getClasses(o,o.classesBadgeHorizontal,!1,"",!1,!0)),z(1),Sn(o.badge)}}function wVe(l,a){if(1&l){const o=Bt();A(0,"span",72),pe("click",function(u){const d=dt(o).$implicit,f=J(2).$implicit;return J(2).onPersonFilterClick(u,f,d)}),we(1),I()}if(2&l){const o=a.$implicit;U("ngClass",J(4).getFilterClasses(o)),z(1),Sn(o.name)}}function SVe(l,a){if(1&l&&(A(0,"div"),Q(1,wVe,2,2,"span",71),I()),2&l){const o=J(3);z(1),U("ngForOf",o.personsFilters)}}const TVe=function(){return{"left-space-0":!0,"right-space-0":!0}};function MVe(l,a){if(1&l){const o=Bt();A(0,"div",72),pe("click",function(u){const d=dt(o).$implicit;return J(2).onPersonClick(u,d)}),A(1,"div",73),we(2),I(),A(3,"div",73),Q(4,xVe,2,0,"span",74),we(5),A(6,"span"),Q(7,CVe,2,2,"span",75),I(),I(),Q(8,SVe,2,1,"div",66),I()}if(2&l){const o=a.$implicit,c=J(2);U("ngClass",c.getClasses(o,_d(8,TVe))),z(1),U("ngClass",c.getClasses(o,o.classesVertical,!1,"clr-col-4 right")),z(1),Sn(o.prefix),z(1),U("ngClass",c.getClasses(o,o.classesVertical,!1,"clr-col-8")),z(1),U("ngIf",!(null!=o.person&&o.person.live)),z(1),Ai("",o.name," "),z(2),U("ngIf",o.badge),z(1),U("ngIf",c.personsClickHandler.person===o&&c.personsClickHandler.selectionToggle)}}function DVe(l,a){1&l&&Q(0,MVe,9,9,"div",71),2&l&&U("ngForOf",a.showPersons)}function EVe(l,a){1&l&&(A(0,"span",76),we(1,"+"),I())}function kVe(l,a){if(1&l&&(A(0,"span",73),we(1),I()),2&l){const o=J().$implicit;U("ngClass",J(2).getClasses(o,o.classesBadgeHorizontal,!1,"",!1,!0)),z(1),Sn(o.badge)}}function AVe(l,a){if(1&l){const o=Bt();A(0,"span",72),pe("click",function(u){const d=dt(o).$implicit,f=J(2).$implicit;return J(2).onPersonFilterClick(u,f,d)}),we(1),I()}if(2&l){const o=a.$implicit;U("ngClass",J(4).getFilterClasses(o)),z(1),Sn(o.name)}}function IVe(l,a){if(1&l&&(A(0,"span"),Q(1,AVe,2,2,"span",71),I()),2&l){const o=J(3);z(1),U("ngForOf",o.personsFilters)}}function PVe(l,a){if(1&l){const o=Bt();A(0,"span"),A(1,"span",72),pe("click",function(u){const d=dt(o).$implicit;return J(2).onPersonClick(u,d)}),we(2),Q(3,EVe,2,0,"span",74),we(4),Q(5,kVe,2,2,"span",75),I(),Q(6,IVe,2,1,"span",66),I()}if(2&l){const o=a.$implicit,c=J(2);z(1),U("ngClass",c.getClasses(o,o.classesHorizontal,!1,"",!0)),z(1),Ai("",o.prefix," "),z(1),U("ngIf",!(null!=o.person&&o.person.live)),z(1),Sn(o.name),z(1),U("ngIf",o.badge),z(1),U("ngIf",c.personsClickHandler.person===o&&c.personsClickHandler.selectionToggle)}}function OVe(l,a){if(1&l&&(A(0,"span"),Q(1,PVe,7,6,"span",17),I()),2&l){const o=a.showPersons;z(1),U("ngForOf",o)}}class jb{constructor(a,o,c){this.name=a,this.enabled=o,this.system=c}static builder(){return new jb("",!1,!1)}setName(a){return this.name=a,this}setEnabled(a){return this.enabled=a,this}setSystem(a){return this.system=a,this}}class nN{constructor(a,o,c){this.memorial=a,this.bEnabled=o,this.onEnabledChanged=c}get enabled(){return this.bEnabled}set enabled(a){this.bEnabled=a,this.onEnabledChanged&&this.onEnabledChanged()}static builder(){return new nN(null,!0,()=>{})}setMemorial(a){return this.memorial=a,this}setEnabled(a){return this.enabled=a,this}setOnEnabledChanged(a){this.onEnabledChanged=a}}class iN{constructor(a,o,c,u,h,d,f,p){this.prefix=a,this.name=o,this.description=c,this.badge=u,this.person=h,this.classesVertical=d,this.classesHorizontal=f,this.classesBadgeHorizontal=p}static builder(){return new iN("","","","",null,{},{},{})}setPrefix(a){return this.prefix=a,this}setName(a){return this.name=a,this}setDescription(a){return this.description=a,this}setBadge(a){return this.badge=a,this}setPerson(a){return this.person=a,this}addClassVertical(a,o=!0){return this.classesVertical[a]=o,this}addClassHorizontal(a,o=!0){return this.classesHorizontal[a]=o,this}addClassBadgeHorizontal(a,o=!0){return this.classesBadgeHorizontal[a]=o,this}}class lf{constructor(a=!1,o=!0,c="\u041d\u043e\u0432\u044b\u0439",u="",h=[]){this.modalFlag=a,this.modalAddingFlag=o,this.currentName=c,this.text=u,this.preview=h,this.updating=!1,this.singleMemorial=!0,this.clearMemorial=!1}setUpdating(a){return this.updating=a,this}updateTextByPreview(){this.updating||(this.text=this.preview.filter((a,o)=>a.enabled).map((a,o)=>a.memorial.toString()).join("\r\n"))}}class rN{constructor(a,o){this.person=a,this.handler=o,this.lastDate=new Date,this.selectionToggle=!1}static builder(){return new rN(null,()=>{})}setHandler(a){return this.handler=a,this}clickByPerson(a){let o=new Date;this.person!=a?(this.person=a,this.lastDate=o,this.selectionToggle=!0):o.getTime()-this.lastDate.getTime()<500?(this.handler(a),this.person=null):(this.lastDate=o,this.selectionToggle=!this.selectionToggle)}}let lte=(()=>{class l{constructor(o,c,u,h,d,f,p,g,m,v,_,y){this.config=o,this.uiConfig=c,this.themeSvc=u,this.memDataSvc=h,this.memLoaderSvc=d,this.memImporterSvc=f,this.memExporterSvc=p,this.memExporterXsvSvc=g,this.kafizmySvc=m,this.dateEventsSvc=v,this.audioSvc=_,this.tagsSvc=y,this.memorialsDlg=new lf,this.memorialsDeleteDlg=new lf,this.memorialsImportDlg=new lf,this.memorialsExportDlg=new lf,this.memorialsWaitingDlg=new lf,this.personDetailsDlg=new lf,this.personDeleteDlg=new lf,this.memorialsTitleInfoDlg=new lf,this.headerData=Qp.builder(),this.personsClickHandler=rN.builder().setHandler(b=>this.onEditPerson(b)),this.personDetailsData=GL.builder().setOnClick(b=>{this.personDetailsDlg.modalFlag=!1,b&&this.reload()}),this.personsFilters=[],this.search=null,this.extraPagesLive=[],this.extraPagesUsop=[],this.stgShowSettings=Zp.builder(),this.stgFilterMemorials=Zp.builder(),this.allSettings=qT.builder().add(this.stgShowSettings).add(this.stgFilterMemorials),this.settingsData=zL.builder().updateClasses(b=>b.setBookSettings(!1)),this.oldPersons=null,this.myPersons=[],this.nameSvc=new iM,this.sendReadyChanges=ys.builder(),this.sortNamesChanges=ys.builder(),this.sortTypesChanges=ys.builder(),this.searchChanges=ys.builder(),this.pageSizeChanges=ys.builder(),this.personOffsetChanges=ys.builder(),this.offsetChanges=ys.builder(),this.addCommentToNameChanges=ys.builder(),this.toolbarPages=Ql.builder().setItems([]).setOnClick(b=>{this.selectPersonsPage(+b.tag)}).updateClasses(b=>{b.setLabelNormal("label-info")}),this.toolbarMemorials=Ql.builder().setItems([]).setOnClick(b=>{this.selectMemorial(b.tag)}).updateClasses(b=>{b.setLabelNormal("label-info")}),this.toolbarMemorialsFilters=Ql.builder().setItems([]).setOnClick(b=>{this.selectMemorialFlag(b.tag)}).updateClasses(b=>{b.setLabelNormal("label-success")}),this.toolbarMemorialsFlags=Ql.builder().setItems([]).setOnClick(b=>{this.selectMemorialFlag(b.tag)}).updateClasses(b=>{b.setLabelNormal("label-danger")}),this.personChangesSubscription=null}isSearching(){return null!=this.search}get showSettings(){return this.stgShowSettings.enabled}set showSettings(o){this.stgShowSettings.setEnabled(o)}get filterMemorials(){return this.stgFilterMemorials.enabled}set filterMemorials(o){this.stgFilterMemorials.setEnabled(o)}get verticalView10(){return this.uiConfig.ui.memorialVerticalView.getBooleanValue()&&"10"==this.uiConfig.ui.memorialPageSize.getStringValue()}get verticalView40(){return this.uiConfig.ui.memorialVerticalView.getBooleanValue()&&"40"==this.uiConfig.ui.memorialPageSize.getStringValue()}get verticalView(){return this.uiConfig.ui.memorialVerticalView.getBooleanValue()}set verticalView(o){this.uiConfig.ui.memorialVerticalView.setBooleanValue(o)}get sortPersonPriests(){return this.uiConfig.ui.sortPersonsPriests.getBooleanValue()}get sortPersonNames(){return this.uiConfig.ui.sortPersonsNames.getBooleanValue()}get pageSize(){let o=this.uiConfig.ui.memorialPageSize.getStringValue();return o?+o:15}get currentPage(){return this.uiConfig.ui.currentMemorialPage.getNumberValue()}set currentPage(o){this.uiConfig.ui.currentMemorialPage.setNumberValue(o)}get currentMemorial(){return this.personsData.text?this.personsData.text:this.uiConfig.ui.currentMemorial.getStringValue()}set currentMemorial(o){this.personsData.text||this.uiConfig.ui.currentMemorial.setStringValue(o)}get persons(){return this.syncMyPersons(),this.myPersons}get personsAllCount(){return this.getPersonsAllCount(this.currentMemorial)}get personsData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}ngOnInit(){this.personChangesSubscription=this.memDataSvc.getPersons().getChangeDetector().subscribe(o=>this.clearCaches())}ngOnDestroy(){this.personChangesSubscription&&(this.personChangesSubscription.unsubscribe(),this.personChangesSubscription=null)}ngAfterViewInit(){this.personsData.printerHandler.setHandler(o=>this.onEpubPrint(o)),this.setErrors([this.currentMemorial?this.currentMemorial:"\u0412\u0441\u0435"]),this.sortNamesChanges.setUIValue(this.uiConfig.ui.sortPersonsNames),this.sortTypesChanges.setUIValue(this.uiConfig.ui.sortPersonsPriests),this.personsData.readonly||this.audioSvc.stop(),this.isMemorialEnabled()||this.sendReady()}clearCaches(){this.memDataSvc.personsCache.clear()}getPersonsAll(o){return this.memDataSvc.personsCache.getCachedResult(o,this.personsData.readonly,this.personsData.classes.getLiveValue())}getPersonsAllCount(o){return this.getPersonsAll(o).length}setErrors(o){this.config.post(()=>{let c=[];this.personsData.text||c.push(yl.builder().setText("\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f").setOnClick(()=>{this.filterMemorials=!this.filterMemorials})),this.personsData.readonly||c.unshift(yl.builder().setText("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438").setOnClick(()=>{this.showSettings=!this.showSettings})),this.headerData.setErrors(o).setActions(c).updateClasses(u=>u.setAlertClass("alert-success").setAlertShape(""))})}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(o,c,u=!0,h="",d=!1,f=!1){let g={"clr-row":u};(h=h.trim())&&h.split(" ").forEach(m=>g[h]=!0);for(const m in c)g[m]=c[m];return d||f?g[(f?"hbs":"hs")+this.uiConfig.ui.fontSize.getStringValue()]=!0:g["s"+this.uiConfig.ui.fontSize.getStringValue()]=!0,g}printBook(){this.themeSvc.printWindow("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a")||window.print()}isActivePersonHasTag(o){var c;let u=!1;return(null===(c=this.personsClickHandler.person)||void 0===c?void 0:c.person)&&(u=bo.tagsHasFlag(this.personsClickHandler.person.person.tags,o)),"\u0431\u0435\u0437 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438"==o&&(u=!0),u}updatePersonFilterItemsDelayed(){this.config.post(()=>{this.updatePersonFilterItems()})}updatePersonFilterItems(){this.personsData.readonly?this.personsFilters.length&&(this.personsFilters=[]):this.memDataSvc.memorials?(this.personsFilters=this.memDataSvc.memorials.items.map(o=>o.name).map(o=>jb.builder().setName(o).setEnabled(this.isActivePersonHasTag(o))),this.personsFilters.unshift(jb.builder().setName("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c").setEnabled(!1).setSystem(!0),jb.builder().setName("\u0423\u0434\u0430\u043b\u0438\u0442\u044c").setEnabled(!1).setSystem(!0))):this.personsFilters.length&&(this.personsFilters=[])}getFilterItems(o){var c;let u=null===(c=this.memDataSvc.memorials)||void 0===c?void 0:c.items.find(d=>d.name==o),h=this.memDataSvc.memorials?this.memDataSvc.memorials.items.filter(d=>!this.personsData.readonly||d.enabled).filter(d=>this.personsData.readonly?this.getPersonsAllCount(o)>0:this.getPersonsAllCount(o)>=0).map(d=>d.name).map(d=>xo.builder().setText(d).setTag(d).setSelected(this.tagsSvc.tagsHasFlag(u?u.tags:o,d))):[];return h.unshift(xo.builder().setText("\u0431\u0435\u0437 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438").setTag("\u0431\u0435\u0437 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438").setSelected(this.tagsSvc.tagsHasFlag(u?u.tags:o,"\u0431\u0435\u0437 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438"))),h}syncMyPersons(o=!1){var c;let u=o;u=u||this.sortTypesChanges.checkAndUpdate(),u=u||this.sortNamesChanges.checkAndUpdate(),u=u||this.searchChanges.checkAndUpdate(this.search),u=u||this.pageSizeChanges.checkAndUpdate(this.pageSize),u=u||this.personOffsetChanges.checkAndUpdate(this.uiConfig.ui.currentPersonOffset.getNumberValue()),u=u||this.offsetChanges.checkAndUpdate(this.uiConfig.ui.currentOffset.getNumberValue()),u=u||this.addCommentToNameChanges.checkAndUpdate(this.uiConfig.ui.addCommentToName.getBooleanValue());let h=this.memDataSvc.persons;if(null==(null===(c=this.memDataSvc.memorials)||void 0===c?void 0:c.items.find(d=>d.name==this.currentMemorial))&&this.memDataSvc.memorials&&this.currentMemorial&&this.memDataSvc.memorials.items.length>0&&(this.currentMemorial=this.memDataSvc.memorials.items[0].name,u=!0),!h||h===this.oldPersons&&!u)return!h&&this.myPersons.length>0&&(this.myPersons=[]),void this.sendReady();this.oldPersons=h,this.config.post(()=>this.syncMyPersonsPosted())}syncMyPersonsPosted(){var o,c;this.sendReady(),this.setErrors([(this.currentMemorial?this.currentMemorial:"\u0412\u0441\u0435")+(this.personsData.readonly?this.personsData.classes.isLiveAcceptable(!0)?": \u041e \u0437\u0434\u0440\u0430\u0432\u0438\u0438":": \u041e \u0443\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438":"")]);{this.toolbarMemorials.setItems((_=>{let y=this.memDataSvc.memorials?this.memDataSvc.memorials.items.filter(b=>!this.personsData.readonly||b.enabled).filter(b=>this.personsData.readonly?this.getPersonsAllCount(b.name)>0:this.getPersonsAllCount(b.name)>=0).map(b=>b.name).map(b=>xo.builder().setText(b).setTag(b).setSelected(b==this.currentMemorial)):[];return y.unshift(xo.builder().setText("\u0412\u0441\u0435").setTag("").setSelected(!this.currentMemorial)),y})()),this.updatePersonFilterItems(),this.toolbarMemorialsFilters.setItems(this.getFilterItems(this.currentMemorial));let m=["\u0421\u043b\u0430\u0432\u0430 1","\u0421\u043b\u0430\u0432\u0430 2","\u0421\u043b\u0430\u0432\u0430 3","\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u043d\u044b\u0439"],v=null===(o=this.memDataSvc.memorials)||void 0===o?void 0:o.items.find(_=>_.name==this.currentMemorial);this.toolbarMemorialsFlags.setItems(m.map(_=>xo.builder().setText(_).setTag(_).setSelected(!!v&&this.tagsSvc.tagsHasFlag(v.tags,_))))}let u=null===(c=this.search)||void 0===c?void 0:c.toLowerCase(),h=[...this.getPersonsAll(this.currentMemorial).filter(g=>!u||g.name.toLowerCase().indexOf(u)>=0)],d=Math.ceil(h.length/this.pageSize);this.currentPage>d&&(this.currentPage=1);let f=this.currentPage?this.pageSize*(this.currentPage-1):0,p=this.currentPage?this.pageSize*this.currentPage-1:h.length-1;(this.sortPersonPriests||this.sortPersonNames)&&(h=Vn.sortPersons(h,g=>g,this.sortPersonNames,this.sortPersonPriests));{let g=this.uiConfig.ui.currentOffset.getNumberValue(),m=this.uiConfig.ui.currentPersonOffset.getNumberValue();g<0&&(g=m);let v=this.uiConfig.ui.addCommentToName.getBooleanValue(),_=$i.getKafizmNumberBy(17,g),y=$i.getKafizmNumberBy(17,m);this.myPersons=h.map(b=>{let C=this.nameSvc.getPrefixedName(b.name),x=Vn.isPriest(b),w=b.kafizma==_,S=b.kafizma==y,M=new xi;M.load(b.description);let T=M.getValue("\u0442\u0435\u043a\u0441\u0442");return T&&T.length>10&&(T=T.substring(0,8)+".."),iN.builder().setPrefix(C.prefix).setName(C.name+(v&&T?" ("+T+")":"")).setBadge(b.kafizma>0?""+b.kafizma:"").setPerson(b).addClassVertical("cursor",!0).addClassVertical("bg-4",x&&b.live).addClassVertical("bg-5",!x&&b.live).addClassVertical("bg-3",!b.live).addClassHorizontal("cursor",!0).addClassHorizontal("label",!0).addClassHorizontal("label-success",x&&b.live).addClassHorizontal("label-info",!x&&b.live).addClassHorizontal("label-warning",!b.live).addClassHorizontal("label-orange",!b.live).addClassBadgeHorizontal("badge",!0).addClassBadgeHorizontal("badge-purple",w&&b.live).addClassBadgeHorizontal("badge-danger",!w&&S&&b.live).addClassBadgeHorizontal("badge-light-blue",!(w||S)&&b.live)}).filter((b,C,x)=>f<=C&&C<=p)}this.toolbarPages.setItems([xo.builder().setText("\u0412\u0441\u0435").setTag("0").setSelected(0==this.currentPage)].concat(Array.from(Array(d).keys()).map(g=>g+1).map(g=>xo.builder().setText(""+g).setTag(""+g).setSelected(g==this.currentPage))))}sendReady(){this.sendReadyChanges.checkAndUpdate(!0)&&this.config.messageBus.putMessage(Om.builder().setSender(this.personsData.id).setTarget(this.personsData.targetId))}getMemorialPageText(o,c){let u=this.uiConfig.ui.addCommentToName.getBooleanValue(),h=o.filter(f=>f.person).map(f=>f.person).filter(f=>f.live==c).map(f=>{if(!u)return f.name;let p=new xi;p.load(f.description);let g=p.getValue("\u0442\u0435\u043a\u0441\u0442");return g&&g.length>10&&(g=g.substring(0,8)+".."),f.name+(u&&g?" ("+g+")":"")}).join(", "),d=this.uiConfig.ui.memorialsTitleRemark.getStringValue();return d&&(d=d.split(",").filter(f=>!!f).map(f=>f.trim()).map(f=>f.startsWith("*")?f:"*"+f).join(",")),this.personsData.readonly?this.personsData.classes.isLiveAcceptable(c)&&h?(c?`${d||"*\u041e \u0437\u0434\u0440\u0430\u0432\u0438\u0438"},`:"*\u041e \u0443\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438,")+h:"":h?(c?`${d||"*\u041e \u0437\u0434\u0440\u0430\u0432\u0438\u0438"},`:"*\u041e \u0443\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438,")+h:""}updateSelectedPage(){this.toolbarPages.items.forEach(o=>+o.tag==this.currentPage)}scrollToPersons(){return this.pagesView.nativeElement.scrollIntoView(!0),this}reSyncView(o){this.config.post(()=>{this.oldPersons=null,o&&o()})}selectPersonsPage(o){this.currentPage=o,this.reSyncView(()=>{this.scrollToPersons()})}selectMemorialFlag(o){var c;let u=null===(c=this.memDataSvc.memorials)||void 0===c?void 0:c.items.find(h=>h.name==this.currentMemorial);u&&(u.tags=this.tagsSvc.tagsHasFlag(u.tags,o)?bo.removeTag(u.tags,o):bo.addTagToTags(u.tags,o),this.memDataSvc.getMemorials().save(u,!0).then(h=>{this.reload()}))}selectMemorial(o){this.currentMemorial=o,this.reSyncView(),this.config.post(()=>{this.scrollToPersons()})}addMemorial(){this.memorialsDlg.modalFlag=!0,this.memorialsDlg.modalAddingFlag=!0,this.memorialsDlg.currentName="\u041d\u043e\u0432\u044b\u0439"}editMemorial(){!this.currentMemorial||(this.memorialsDlg.modalFlag=!0,this.memorialsDlg.modalAddingFlag=!1,this.memorialsDlg.currentName=this.currentMemorial)}deleteMemorial(){this.memorialsDeleteDlg.modalFlag=!0,this.memorialsDeleteDlg.currentName=this.currentMemorial}reload(){this.memDataSvc.getMemorials().reloadMemorials(o=>{o&&this.memDataSvc.getPersons().reloadPersons()})}newMemorial(o){var c;null===(c=this.memDataSvc.memorials)||void 0===c||c.newMemorial(o,u=>{u.success?(this.currentMemorial=o,this.reload()):this.config.addAlert(yr.of(u.error,"Ok",30))})}onAddNewMemorial(){this.newMemorial(this.memorialsDlg.currentName),this.memorialsDlg.modalFlag=!1}onChangeMemorial(){var o;let c=null===(o=this.memDataSvc.memorials)||void 0===o?void 0:o.items.find(u=>u.name==this.currentMemorial);c&&(c.name=this.memorialsDlg.currentName,this.currentMemorial=c.name,this.config.post(()=>this.reload(),100)),this.memorialsDlg.modalFlag=!1}onDeleteAllPersons(){this.memorialsDeleteDlg.modalFlag=!1,this.memDataSvc.getMemorials().deleteAll().then(o=>{o&&o.success&&this.memDataSvc.getPersons().deleteAll(-1).then(c=>{c&&c.success&&(this.currentMemorial="",this.reload())})})}onDeleteMemorial(){var o,c,u;let h=null===(o=this.memDataSvc.memorials)||void 0===o?void 0:o.items.find(f=>f.name==this.currentMemorial),d=null===(c=this.memDataSvc.memorials)||void 0===c?void 0:c.items.find(f=>f.name!=this.currentMemorial);h&&(this.currentMemorial=d?d.name:"",null===(u=this.memDataSvc.memorials)||void 0===u||u.deleteMemorial(h,f=>{this.reload()})),this.memorialsDeleteDlg.modalFlag=!1}toggleSearching(){this.search=null==this.search?"":null}get visible(){var o;let c=null===(o=this.memDataSvc.memorials)||void 0===o?void 0:o.items.find(u=>u.name==this.currentMemorial);return!!c&&c.enabled}set visible(o){var c;let u=null===(c=this.memDataSvc.memorials)||void 0===c?void 0:c.items.find(h=>h.name==this.currentMemorial);u&&(u.enabled=o)}toggleVisible(){var o;let c=null===(o=this.memDataSvc.memorials)||void 0===o?void 0:o.items.find(u=>u.name==this.currentMemorial);c&&(c.enabled=!c.enabled)}importMemorials(){this.memorialsImportDlg.modalFlag=!0,this.memorialsImportDlg.currentName=this.currentMemorial,!this.memorialsImportDlg.text&&this.persons.length&&(this.memorialsImportDlg.text=this.getCurrentMemorialText())}getWordName(o){let c="";switch(Math.floor(o%10)){case 1:c="\u0438\u043c\u044f";break;case 2:case 3:case 4:c="\u0438\u043c\u0435\u043d\u0438";break;default:c="\u0438\u043c\u0451\u043d"}return c}onPersonFilterClick(o,c,u){o.stopPropagation(),c.person&&("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"==u.name?this.onEditPerson(c):"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"==u.name?this.personDeleteDlg.modalFlag=!0:(c.person.tags=bo.addTagToTags(c.person.tags,u.name),this.memDataSvc.getPersons().save(-1,c.person,!0))),this.updatePersonFilterItemsDelayed()}onPersonClick(o,c){o.stopPropagation();let u=c.person.offset;u>=0&&!this.personsData.readonly&&this.uiConfig.ui.currentPersonOffset.setNumberValue(u),this.personsClickHandler.clickByPerson(c),this.updatePersonFilterItemsDelayed()}getTags(o=""){var c;let u="";return null===(c=this.memDataSvc.memorials)||void 0===c||c.items.forEach(h=>{h.name==(o||this.currentMemorial)&&(u+=h.name)}),u}onClearImportPreview(){this.memorialsImportDlg.preview=[],this.memorialsImportDlg.text=this.getCurrentMemorialText()}onImportMemorial(){this.memorialsWaitingDlg.modalFlag=!0,this.memorialsImportDlg.modalFlag=!1,this.memorialsImportDlg.singleMemorial&&this.memorialsImportDlg.clearMemorial&&this.clearCurrentMemorial(!1);let o=this.memorialsImportDlg.singleMemorial?[]:this.memorialsImportDlg.preview,c=o.find(h=>{var d,f;return"\u0432\u0441\u0435"===(null===(f=null===(d=h.memorial)||void 0===d?void 0:d.memorial)||void 0===f?void 0:f.name)}),u=()=>{var h,d,f,p;if(o.length){let g=o[0];o=o.slice(1);let m=null===(d=null===(h=g.memorial)||void 0===h?void 0:h.memorial)||void 0===d?void 0:d.name;g.enabled&&m?(null===(f=this.memDataSvc.memorials)||void 0===f?void 0:f.items.find(_=>_.name==m))?this.config.post(u):null===(p=this.memDataSvc.memorials)||void 0===p||p.newMemorial(m,_=>{_.success?this.config.post(u):this.memDataSvc.getMemorials().reloadMemorials(y=>{this.config.post(u)})}):this.config.post(u)}else this.memDataSvc.getMemorials().reloadMemorials(g=>{g?this.memLoaderSvc.addPersons(v=>{var _,y;return(null===(y=null===(_=this.memDataSvc.memorials)||void 0===_?void 0:_.items.find(C=>C.name==(this.memorialsImportDlg.singleMemorial?this.currentMemorial:v)))||void 0===y?void 0:y._id)||-1},this.memorialsImportDlg.text,v=>this.getTags(this.memorialsImportDlg.singleMemorial?this.currentMemorial:v),!0,()=>{var v;let _=null===(v=this.memDataSvc.getMemorials().getMemorials())||void 0===v?void 0:v.items.find(y=>"\u0432\u0441\u0435"===y.name);c&&_?this.memDataSvc.getMemorials().deleteMemorial(_).then(y=>{(!y||!y.success)&&this.config.addAlert(yr.of('\u041d\u0435 \u043c\u043e\u0433\u0443 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a "\u0432\u0441\u0435".',"\u041e\u041a",15)),this.memorialsWaitingDlg.modalFlag=!1,this.reload()}):(this.memorialsWaitingDlg.modalFlag=!1,this.reload())}):this.memorialsWaitingDlg.modalFlag=!1})};this.config.post(u)}get allMemorialEnabled(){return this.memorialsImportDlg.preview.map(o=>o.enabled).reduce((o,c)=>o&&c,!0)}set allMemorialEnabled(o){this.memorialsImportDlg.setUpdating(!0),this.memorialsImportDlg.preview.forEach(c=>c.enabled=o),this.memorialsImportDlg.setUpdating(!1),this.memorialsImportDlg.updateTextByPreview()}onImportFile(o){0!==o.target.files.length&&this.memImporterSvc.onLoadAnyFile(o.target.files[0],"",c=>{this.memorialsImportDlg.text=c,this.memorialsImportDlg.preview=this.memLoaderSvc.previewPersons(c).map(u=>nN.builder().setMemorial(u).setEnabled(!0)),this.memorialsImportDlg.preview.forEach(u=>u.setOnEnabledChanged(()=>this.memorialsImportDlg.updateTextByPreview()))})}exportMemorials(){this.memorialsExportDlg.modalFlag=!0,this.memorialsExportDlg.currentName=this.currentMemorial}onSaveAs(o){this.memorialsExportDlg.modalFlag=!1,this.onSaveAllMemorials(o)}getCurrentMemorialText(){var o,c;let u=null===(o=this.memDataSvc.memorials)||void 0===o?void 0:o.items.find(g=>g.name==this.currentMemorial);if(!u)return"";let f="",p=null===(c=this.memDataSvc.persons)||void 0===c?void 0:c.items;return f=this.memExporterSvc.getMemorialsXmlString(p,[this.currentMemorial],[u.tags]),f=this.memLoaderSvc.convertXmlToString(f),f}onSaveAllMemorials(o="xml",c=!0){var u;let h=[""],d=[""],f=this.memDataSvc.getMemorials().getActivePredefinedMemorialsRaw();null===(u=this.memDataSvc.memorials)||void 0===u||u.items.forEach(g=>{let m=null==f.find(v=>v==g.name);c&&(m=!0),g.enabled&&m&&(h.push(g.name),d.push(g.tags))}),(()=>{var g;let m="",v=null===(g=this.memDataSvc.persons)||void 0===g?void 0:g.items;switch(o){case"xml":m=this.memExporterSvc.getMemorialsXmlString(v,h,d);break;case"csv":m=this.memExporterXsvSvc.getMemorialsString(v,h,d,";");break;case"tsv":m=this.memExporterXsvSvc.getMemorialsString(v,h,d,"\t");break;default:m=this.memExporterSvc.getMemorialsXmlString(v,h,d),m=this.memLoaderSvc.convertXmlToString(m)}const _=(new Date).toISOString().split("T")[0];let y=o;if(this.config.isPlatformAndroid())this.kafizmySvc.addTempFile(`\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438.${y}`,m).then(b=>{b&&b.success&&sv.startDownload(b.fileName,`\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438.${_}.${y}`)});else{const b=new TextEncoder,C=new Blob([b.encode(m)],{type:"octet/stream"});sv.saveData(C,`\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438.${_}.${y}`)}})()}onPagesCount(o,c,u){this.config.post(()=>{this.onPagesCountDirect(o,c,u)})}onPagesCountDirect(o,c,u){u?this.extraPagesLive=[]:this.extraPagesUsop=[];let h=o-c,d=0;for(;h>0;)h=Math.max(0,h-c),d+=c,u?this.extraPagesLive.push(d):this.extraPagesUsop.push(d)}onEditPerson(o){o.person&&!this.personsData.readonly&&(this.personDetailsData.setPerson(o.person),this.personDetailsDlg.modalFlag=!0)}isMemorialEnabled(o){let c=!1;return this.personsData.readonly||(c=!0),this.personsData.classes.slava1Zdrav&&this.uiConfig.ui.memorialSlava1Zdrav.getBooleanValue()&&(c=!0===o||void 0===o),this.personsData.classes.slava2Zdrav&&this.uiConfig.ui.memorialSlava2Zdrav.getBooleanValue()&&(c=!0===o||void 0===o),this.personsData.classes.slava3Zdrav&&this.uiConfig.ui.memorialSlava3Zdrav.getBooleanValue()&&(c=!0===o||void 0===o),this.personsData.classes.slava1Upok&&this.uiConfig.ui.memorialSlava1Upok.getBooleanValue()&&(c=!1===o||void 0===o),this.personsData.classes.slava2Upok&&this.uiConfig.ui.memorialSlava2Upok.getBooleanValue()&&(c=!1===o||void 0===o),this.personsData.classes.slava3Upok&&this.uiConfig.ui.memorialSlava3Upok.getBooleanValue()&&(c=!1===o||void 0===o),c}onEpubPrint(o){let c=[[],[],[]],u=[[],[],[]];if(this.persons.filter(h=>{var d;return null===(d=h.person)||void 0===d?void 0:d.live}).forEach(h=>{c[0].push(""),c[1].push(h.prefix),c[2].push(h.name)}),this.persons.filter(h=>{var d;return!(null===(d=h.person)||void 0===d?void 0:d.live)}).forEach(h=>{u[0].push("+"),u[1].push(h.prefix),u[2].push(h.name)}),c[0].length>0&&this.isMemorialEnabled(!0)||u[0].length>0&&this.isMemorialEnabled(!1)){let h=[],d=[],f=[],p=this.currentMemorial?this.currentMemorial:"\u0412\u0441\u0435";c[0].length&&(h.push(p+" - \u041e \u0437\u0434\u0440\u0430\u0432\u0438\u0438"),d.push(c),f.push([0])),u[0].length&&(h.push(p+" - \u041e \u0443\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438"),d.push(u),f.push([0])),h.length>0&&o.addRequest(hv.builder().setName(p).setBookNames(["\u0436\u0438\u0432","\u043f\u0440\u0435\u0444\u0438\u043a\u0441","\u0438\u043c\u044f"]).setPsalomName("").setAllBooksChapters(h).setAllBooks(d).setEmptyFirstLines(f).setShowLineIndexes(!1))}}onEditTitleInfo(){this.memorialsTitleInfoDlg.modalFlag=!0,this.memorialsTitleInfoDlg.currentName=this.uiConfig.ui.memorialsTitleRemark.getStringValue()}onEndTitleInfoDlg(){this.uiConfig.ui.memorialsTitleRemark.setStringValue(this.memorialsTitleInfoDlg.currentName),this.memorialsTitleInfoDlg.modalFlag=!1}getFilterClasses(o){let c={label:!0,"label-danger":!o.enabled&&!o.system,"label-success":o.enabled&&!o.system};return c["hs"+this.uiConfig.ui.fontSize.getStringValue()]=!0,c}onDeleteCurrentPerson(){var o;this.personsClickHandler.person&&this.personsClickHandler.person.person&&(null===(o=this.memDataSvc.persons)||void 0===o||o.deletePerson(this.personsClickHandler.person.person),this.reload()),this.personDeleteDlg.modalFlag=!1}clearCurrentMemorial(o){let c=[];this.persons.forEach(u=>{u.person&&(u.person.tags=bo.removeTag(u.person.tags,this.currentMemorial),u.person.tags?this.memDataSvc.getPersons().save(-1,u.person,!0):c.push(u.person))}),this.memDataSvc.getPersons().deletePersons(c),o&&this.reload()}}return l.\u0275fac=function(o){return new(o||l)(N(kn),N($i),N(Vu),N(jL),N(QL),N(rte),N(ste),N(ote),N(uv),N(rM),N(gv),N(bo))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-persons"]],viewQuery:function(o,c){if(1&o&&An(nVe,5),2&o){let u;kt(u=At())&&(c.pagesView=u.first)}},inputs:{data:"data"},decls:151,vars:28,consts:[[3,"click",4,"ngIf"],[1,"s0",3,"clrModalOpen","clrModalOpenChange","click"],[1,"modal-title"],[1,"modal-body"],[3,"data"],["clrForm",""],["clrInput","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u043b\u0435\u0431\u043d\u0430","name","input",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["clrInput","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","name","input",3,"ngModel","ngModelChange"],["type","button","aria-label","warning",1,"btn","btn-icon","btn-warning"],["shape","warning-standard"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["clrInline",""],["type","checkbox","clrToggle","",3,"name","value","ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["type","checkbox","clrCheckbox","","value","singleMemorial","name","singleMemorial",3,"ngModel","ngModelChange"],["type","checkbox","clrCheckbox","","value","singleMemorial","name","clearMemorial",3,"ngModel","disabled","ngModelChange"],["class","badge",4,"ngIf"],["type","checkbox","clrCheckbox","","value","mergeNames","name","mergeNames",3,"ngModel","ngModelChange"],[1,"clr-form"],["clrTextarea","","name","description","required","",3,"ngModel","ngModelChange"],[1,"clr-row"],[1,"clr-col-6","clr-hidden-sm-up"],["type","button",1,"btn","btn-link",3,"click"],["shape","recycle"],[1,"clr-hidden-md-down"],[1,"btn","btn-link"],["type","file","placeholder","\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b","accept",".xml,.json,.csv,.tsv,.txt",1,"button-input",3,"change"],["shape","upload"],[1,"clr-col-3","clr-hidden-xs-down"],[1,"clr-col-6"],["shape","ban"],[1,"clr-col-12"],["tpl1",""],["paramTemplateVerticalX",""],["paramTemplateVertical",""],["paramTemplateHorizontal",""],[3,"click"],[3,"enabled","name"],[1,"no-print","s0"],["class","fade-in-3",3,"clrAccordionPanelOpen","clrAccordionPanelOpenChange",4,"ngIf"],[1,"clr-row","no-print","clr-hidden-xs-down",3,"hidden"],[1,"clr-col-2"],[1,"btn","btn-link","btn-block",3,"click"],["shape","add-text"],["shape","search"],["shape","import"],["shape","export"],["shape","window-close"],[1,"clr-row","no-print","clr-hidden-sm-up",3,"hidden"],[1,"clr-col-4"],["class","no-print",4,"ngIf"],["pagesView",""],[1,"no-print"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"pageBreak","pageBreakBefore"],[1,"fade-in-3",3,"clrAccordionPanelOpen","clrAccordionPanelOpenChange"],[1,"bottom-top-space"],[1,"btn","btn-primary","btn-block",3,"click"],["shape","printer",1,"is-solid"],["clrInput","","placeholder","\u0418\u043c\u044f","name","input",3,"ngModel","ngModelChange"],[1,"badge"],["class","pageBreakBefore",4,"ngIf"],[4,"ngIf"],[1,"pageBreakBefore"],[3,"svgWidth","svgHeight","scene","genName","logoText","type","startPageIndex","horizontalPagesCount","verticalPagesCount","pagesCount"],["class","pageBreakBefore",4,"ngFor","ngForOf"],[3,"svgWidth","svgHeight","scene","genName","logoText","type","startPageIndex","horizontalPagesCount","verticalPagesCount"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[3,"ngClass"],["class","print-only",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"print-only"]],template:function(o,c){1&o&&(Q(0,lVe,78,22,"div",0),A(1,"clr-modal",1),pe("clrModalOpenChange",function(h){return c.personDetailsDlg.modalFlag=h})("click",function(h){return h.stopPropagation()}),A(2,"h3",2),we(3,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u044b"),I(),A(4,"div",3),ye(5,"app-person-details",4),I(),I(),A(6,"clr-modal",1),pe("clrModalOpenChange",function(h){return c.memorialsTitleInfoDlg.modalFlag=h})("click",function(h){return h.stopPropagation()}),A(7,"h3",2),we(8,"\u0422\u0435\u043c\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u043e\u043a"),I(),A(9,"div",3),A(10,"form",5),A(11,"clr-input-container"),A(12,"label"),we(13,"\u0422\u0435\u043a\u0441\u0442:"),I(),A(14,"input",6),pe("ngModelChange",function(h){return c.memorialsTitleInfoDlg.currentName=h}),I(),A(15,"clr-control-helper"),we(16,"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: *\u041c\u043e\u043b\u0435\u0431\u0435\u043d, *\u041f\u0440\u0435\u0441\u0432\u044f\u0442\u043e\u0439 \u0411\u043e\u0433\u043e\u0440\u043e\u0434\u0438\u0446\u0435"),I(),I(),I(),I(),A(17,"div",7),A(18,"button",8),pe("click",function(){return c.memorialsTitleInfoDlg.modalFlag=!1}),we(19,"\u041e\u0442\u043c\u0435\u043d\u0430"),I(),A(20,"button",9),pe("click",function(){return c.onEndTitleInfoDlg()}),we(21,"Ok"),I(),I(),I(),A(22,"clr-modal",1),pe("clrModalOpenChange",function(h){return c.memorialsDlg.modalFlag=h})("click",function(h){return h.stopPropagation()}),A(23,"h3",2),we(24),I(),A(25,"div",3),A(26,"form",5),A(27,"clr-input-container"),A(28,"label"),we(29,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"),I(),A(30,"input",10),pe("ngModelChange",function(h){return c.memorialsDlg.currentName=h}),I(),I(),I(),I(),A(31,"div",7),A(32,"button",8),pe("click",function(){return c.memorialsDlg.modalFlag=!1}),we(33,"\u041e\u0442\u043c\u0435\u043d\u0430"),I(),A(34,"button",9),pe("click",function(){return c.memorialsDlg.modalAddingFlag?c.onAddNewMemorial():c.onChangeMemorial()}),we(35,"Ok"),I(),I(),I(),A(36,"clr-modal",1),pe("clrModalOpenChange",function(h){return c.personDeleteDlg.modalFlag=h})("click",function(h){return h.stopPropagation()}),A(37,"h3",2),we(38,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u043d\u0438"),I(),A(39,"div",3),A(40,"p"),A(41,"button",11),ye(42,"clr-icon",12),I(),we(43),I(),I(),A(44,"div",7),A(45,"button",8),pe("click",function(){return c.personDeleteDlg.modalFlag=!1}),we(46,"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),I(),A(47,"button",13),pe("click",function(){return c.onDeleteCurrentPerson()}),we(48,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),I(),I(),I(),A(49,"clr-modal",1),pe("clrModalOpenChange",function(h){return c.memorialsDeleteDlg.modalFlag=h})("click",function(h){return h.stopPropagation()}),A(50,"h3",2),we(51,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0438\u043b\u0438 \u043e\u0447\u0438\u0441\u0442\u043a\u0430"),I(),A(52,"div",3),A(53,"p"),A(54,"button",11),ye(55,"clr-icon",12),I(),we(56),I(),I(),A(57,"div",7),A(58,"button",8),pe("click",function(){return c.memorialsDeleteDlg.modalFlag=!1}),we(59,"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),I(),A(60,"button",13),pe("click",function(){return c.onDeleteAllPersons()}),we(61,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0451"),I(),A(62,"button",14),pe("click",function(){return c.onDeleteMemorial()}),we(63,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),I(),I(),I(),A(64,"clr-modal",1),pe("clrModalOpenChange",function(h){return c.memorialsImportDlg.modalFlag=h})("click",function(h){return h.stopPropagation()}),A(65,"h3",2),we(66,"\u0418\u043c\u043f\u043e\u0440\u0442 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0430"),I(),A(67,"div",3),A(68,"clr-toggle-container",15),A(69,"label"),we(70,"\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438:"),I(),A(71,"clr-toggle-wrapper"),A(72,"input",16),pe("ngModelChange",function(h){return c.allMemorialEnabled=h}),I(),A(73,"label"),we(74,"\u0412\u0441\u0435"),I(),I(),Q(75,cVe,4,4,"clr-toggle-wrapper",17),I(),A(76,"clr-checkbox-container"),A(77,"clr-checkbox-wrapper"),A(78,"input",18),pe("ngModelChange",function(h){return c.memorialsImportDlg.singleMemorial=h}),I(),A(79,"label"),we(80,"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a"),I(),I(),A(81,"clr-checkbox-wrapper"),A(82,"input",19),pe("ngModelChange",function(h){return c.memorialsImportDlg.clearMemorial=h}),I(),A(83,"label"),we(84,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a "),Q(85,uVe,2,0,"span",20),I(),I(),A(86,"clr-checkbox-wrapper"),A(87,"input",21),pe("ngModelChange",function(h){return c.uiConfig.ui.mergeNameOnImport.rawValue=h}),I(),A(88,"label"),we(89),I(),I(),I(),A(90,"form",22),A(91,"clr-textarea-container"),A(92,"label"),we(93,"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u043c\u0451\u043d:"),I(),A(94,"textarea",23),pe("ngModelChange",function(h){return c.memorialsImportDlg.text=h}),I(),A(95,"clr-control-helper"),we(96,"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u043f\u0430\u0442\u0440. \u041a\u0438\u0440\u0438\u043b\u043b (\u043f\u0430\u0442\u0440\u0438\u0430\u0440\u0445 \u041a\u0438\u0440\u0438\u043b\u043b)"),I(),A(97,"clr-control-error"),we(98,"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u043c\u0451\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043f\u0443\u0441\u0442\u043e\u0439!"),I(),I(),I(),I(),A(99,"div",7),A(100,"div",24),A(101,"div",25),A(102,"button",26),pe("click",function(){return c.onClearImportPreview()}),ye(103,"clr-icon",27),A(104,"span",28),we(105," \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),I(),I(),A(106,"label",29),A(107,"input",30),pe("change",function(h){return c.onImportFile(h)}),I(),ye(108,"clr-icon",31),I(),I(),A(109,"div",32),A(110,"button",26),pe("click",function(){return c.onClearImportPreview()}),ye(111,"clr-icon",27),A(112,"span",28),we(113," \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),I(),I(),I(),A(114,"div",32),A(115,"label",29),A(116,"input",30),pe("change",function(h){return c.onImportFile(h)}),I(),ye(117,"clr-icon",31),I(),I(),A(118,"div",33),A(119,"button",8),pe("click",function(){return c.memorialsImportDlg.modalFlag=!1}),ye(120,"clr-icon",34),I(),A(121,"button",14),pe("click",function(){return c.onImportMemorial()}),we(122,"\u041e\u041a"),I(),I(),I(),I(),I(),A(123,"clr-modal",1),pe("clrModalOpenChange",function(h){return c.memorialsExportDlg.modalFlag=h})("click",function(h){return h.stopPropagation()}),A(124,"h3",2),we(125,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u0430\u043a"),I(),A(126,"div",3),we(127," \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0430\u0442 \u0444\u0430\u0439\u043b\u0430 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430: "),I(),A(128,"div",7),A(129,"div",24),A(130,"div",35),A(131,"button",8),pe("click",function(){return c.onSaveAs("tsv")}),we(132,"TSV"),I(),A(133,"button",8),pe("click",function(){return c.onSaveAs("xml")}),we(134,"XML"),I(),A(135,"button",14),pe("click",function(){return c.onSaveAs("txt")}),we(136,"TXT"),I(),I(),I(),I(),I(),A(137,"clr-modal",1),pe("clrModalOpenChange",function(h){return c.memorialsWaitingDlg.modalFlag=h})("click",function(h){return h.stopPropagation()}),A(138,"h3",2),we(139,"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),I(),A(140,"div",3),ye(141,"app-dynamic-spinner"),I(),ye(142,"div",7),I(),Q(143,fVe,2,8,"ng-template",null,36,Eo),Q(145,bVe,4,4,"ng-template",null,37,Eo),Q(147,DVe,1,1,"ng-template",null,38,Eo),Q(149,OVe,2,1,"ng-template",null,39,Eo)),2&o&&(U("ngIf",c.isMemorialEnabled()),z(1),U("clrModalOpen",c.personDetailsDlg.modalFlag),z(4),U("data",c.personDetailsData),z(1),U("clrModalOpen",c.memorialsTitleInfoDlg.modalFlag),z(8),U("ngModel",c.memorialsTitleInfoDlg.currentName),z(6),U("disabled",!c.memorialsDlg.currentName),z(2),U("clrModalOpen",c.memorialsDlg.modalFlag),z(2),Ai("",c.memorialsDlg.modalAddingFlag?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435"," \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0430"),z(6),U("ngModel",c.memorialsDlg.currentName),z(4),U("disabled",!c.memorialsDlg.currentName),z(2),U("clrModalOpen",c.personDeleteDlg.modalFlag),z(7),Ai(" \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u043c\u044f: ",c.personsClickHandler.person?c.personsClickHandler.person.name:"\u041e\u0448\u0438\u0431\u043a\u0430","?"),z(6),U("clrModalOpen",c.memorialsDeleteDlg.modalFlag),z(7),Ai(" \u0423\u0434\u0430\u043b\u0438\u0442\u044c '",c.memorialsDeleteDlg.currentName?c.memorialsDeleteDlg.currentName:"\u041e\u0448\u0438\u0431\u043a\u0430","' \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a \u0438\u043b\u0438 \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435?"),z(8),U("clrModalOpen",c.memorialsImportDlg.modalFlag),z(8),U("name","all")("value","all")("ngModel",c.allMemorialEnabled),z(3),U("ngForOf",c.memorialsImportDlg.preview),z(3),U("ngModel",c.memorialsImportDlg.singleMemorial),z(4),U("ngModel",c.memorialsImportDlg.clearMemorial)("disabled",!c.memorialsImportDlg.singleMemorial),z(3),U("ngIf",!c.memorialsImportDlg.singleMemorial),z(2),U("ngModel",c.uiConfig.ui.mergeNameOnImport.rawValue),z(2),Sn(c.uiConfig.ui.mergeNameOnImport.description),z(5),U("ngModel",c.memorialsImportDlg.text),z(29),U("clrModalOpen",c.memorialsExportDlg.modalFlag),z(14),U("clrModalOpen",c.memorialsWaitingDlg.modalFlag))},directives:[Mn,JL,sM,oM,bS,b1,h0,CS,yS,xS,ate,Aa,Gy,By,Td,V3,eS,ls,Hl,K3,Ao,go,du,a0,l0,tVe,dj,Zw,kd,_u,Ad,or,Tj,Mj,zm,B3,tN,zu,Gi],styles:[".button-input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:7rem}.s0[_ngcontent-%COMP%]{font-size:.7rem!important;line-height:1.2rem!important}.left-space-0[_ngcontent-%COMP%]{margin-left:0!important}.right-space-0[_ngcontent-%COMP%]{margin-right:0!important}.divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]}),l})();class sN{constructor(){this.printOnly=!1}static builder(){return new sN}setPrintOnly(a){return this.printOnly=a,this}}class oN extends Ar{constructor(a,o,c,u,h,d){super("",u,h),this.genName=a,this.svgWidth=o,this.svgHeight=c,this.classes=d}static builder(){return new oN("",512,512,null,null,sN.builder())}setGenName(a){return this.genName=a,this}setSvgWidth(a){return this.svgWidth=a,this}setSvgHeight(a){return this.svgHeight=a,this}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}updateClasses(a){return a(this.classes),this}}let RVe=(()=>{class l{constructor(o){this.config=o}get svgData(){return this.data}get text(){return this.svgData&&this.svgData.text?this.svgData.text:""}get genName(){return this.svgData&&this.svgData.genName?this.svgData.genName:"Default"}get svgWidth(){return this.svgData&&this.svgData.svgWidth?this.svgData.svgWidth:512}get svgHeight(){return this.svgData&&this.svgData.svgHeight?this.svgData.svgHeight:512}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){return{"print-only":this.svgData.classes.printOnly}}}return l.\u0275fac=function(o){return new(o||l)(N(kn))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-svg"]],inputs:{data:"data"},decls:1,vars:5,consts:[[3,"genName","svgWidth","svgHeight","type","ngClass"]],template:function(o,c){1&o&&ye(0,"app-svg-js-image",0),2&o&&U("genName",c.genName)("svgWidth",c.svgWidth)("svgHeight",c.svgHeight)("type",512)("ngClass",c.getClasses())},directives:[zu,Gi],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]}),l})();function FVe(l,a){if(1&l&&(A(0,"span"),we(1),I()),2&l){const o=J(2);z(1),Sn(o.text)}}function LVe(l,a){1&l&&ye(0,"app-add-component",5),2&l&&U("component",a.$implicit)}function NVe(l,a){if(1&l&&(A(0,"div"),Q(1,LVe,1,1,"app-add-component",4),I()),2&l){const o=J(2);z(1),U("ngForOf",o.components)}}function BVe(l,a){if(1&l&&(A(0,"div",9),ye(1,"app-add-component",5),I()),2&l){const o=a.$implicit;U("ngClass",J(3).getColClass(o)),z(1),U("component",o)}}function VVe(l,a){if(1&l&&(A(0,"div",6),A(1,"div",7),Q(2,BVe,2,2,"div",8),I(),I()),2&l){const o=J(2);z(2),U("ngForOf",o.components)}}function zVe(l,a){if(1&l){const o=Bt();A(0,"div",1),pe("click",function(u){return dt(o),J().onClick(u)}),Q(1,FVe,2,1,"span",2),Q(2,NVe,2,1,"div",2),Q(3,VVe,3,1,"div",3),I()}if(2&l){const o=J();U("ngClass",o.getClasses()),z(1),U("ngIf",!o.components.length),z(1),U("ngIf",!o.isRow),z(1),U("ngIf",o.isRow)}}let aN=(()=>{class l{constructor(o){this.config=o,this.checkLater=Dw.builder().setEnabled(!1)}get divData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}get component(){return this.divData.components.length?this.divData.components[0]:null}get components(){return this.divData.components}get isRow(){return this.divData.classes.sClasses.findIndex((o,c,u)=>"clr-row"==o)>=0}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){this.config.post(()=>{this.checkLater.setConfig(this.config).setWaitingForSenderId(this.divData.waitingForSenderId),this.checkLater.checkEnabled()})}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){var o=this.divData.classes;let c={ftext:o.fineText,pageBreak:o.pageBreakAfter,pageBreakBefore:o.pageBreakBefore};return o.sClasses.filter(u=>"clr-row"!=u&&!u.startsWith("clr-col-")).forEach(u=>c[u]=!0),c}getColClass(o){let c={"clr-col":!0};return o.component===l&&o.data.classes.sClasses.filter(h=>h.startsWith("clr-col-")).forEach(h=>c[h]=!0),c}}return l.\u0275fac=function(o){return new(o||l)(N(kn))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-div"]],inputs:{data:"data"},decls:1,vars:1,consts:[[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"],[4,"ngIf"],["class","clr-col-12",4,"ngIf"],[3,"component",4,"ngFor","ngForOf"],[3,"component"],[1,"clr-col-12"],[1,"clr-row"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(o,c){1&o&&Q(0,zVe,4,4,"div",0),2&o&&U("ngIf",c.checkLater.enabled)},directives:[Mn,Gi,or,Wh],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]}),l})();class lN{constructor(){this.fineText=!1,this.pageBreakBefore=!1,this.pageBreakAfter=!1,this.printOnly=!1,this.noPrint=!1,this.sClasses=[]}static builder(){return new lN}setFineText(a){return this.fineText=a,this}setPageBreakBefore(a){return this.pageBreakBefore=a,this}setPageBreakAfter(a){return this.pageBreakAfter=a,this}setPrintOnly(a){return this.printOnly=a,this}setNoPrint(a){return this.noPrint=a,this}addSClass(a){return this.sClasses.push(a),this}setSClasses(a){return this.sClasses=a,this}}class aM extends Ar{constructor(a,o,c,u){super(a,o,c),this.classes=u,this.id="",this.waitingForSenderId="",this.components=[]}static builder(){return new aM("",null,null,lN.builder().setFineText(!0))}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}update(a){return a(this.classes),this}setId(a){return this.id=a,this}setWaitingForSenderid(a){return this.waitingForSenderId=a,this}setComponents(a){return this.components=a,this}}const UVe=function(l,a){return{"no-print":!0,alert:!0,"alert-warning":l,"alert-success":a,"bottom-top-space":!0}};function HVe(l,a){if(1&l){const o=Bt();A(0,"div",1),A(1,"div",2),A(2,"div",3),A(3,"div",4),A(4,"clr-icon",5),pe("click",function(){return dt(o),J().toggleAudio()}),I(),I(),A(5,"span",6),we(6),I(),I(),I(),A(7,"button",7),A(8,"clr-icon",5),pe("click",function(){return dt(o),J().autioSvc.control.next()}),I(),I(),A(9,"button",7),A(10,"clr-icon",8),pe("click",function(){return dt(o),J().autioSvc.control.close(!0)}),I(),I(),I()}if(2&l){const o=J();U("ngClass",gc(4,UVe,!o.autioSvc.control.isPlaying(),o.autioSvc.control.isPlaying())),z(4),Je("shape",o.autioSvc.control.isPlaying()?"pause":"play"),z(2),Sn(o.autioSvc.control.currentName()),z(2),Je("shape","step-forward")}}let GVe=(()=>{class l{constructor(o,c){this.config=o,this.autioSvc=c}get audioData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){return{}}toggleAudio(){this.autioSvc.control.isPlaying()?this.autioSvc.control.pause():this.autioSvc.control.resume()}}return l.\u0275fac=function(o){return new(o||l)(N(kn),N(gv))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-audio"]],inputs:{data:"data"},decls:1,vars:1,consts:[["role","alert",3,"ngClass",4,"ngIf"],["role","alert",3,"ngClass"],[1,"alert-items"],[1,"alert-item","static"],[1,"alert-icon-wrapper"],[1,"alert-icon",3,"click"],[1,"alert-text"],["type","button","aria-label","Close",1,"close"],["aria-hidden","true","shape","close",3,"click"]],template:function(o,c){1&o&&Q(0,HVe,11,7,"div",0),2&o&&U("ngIf",c.autioSvc.control.isStarted())},directives:[Mn,Gi,Aa,MP],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]}),l})();class cN{constructor(){}static builder(){return new cN}}class uN extends Ar{constructor(a,o,c,u){super(a,o,c),this.classes=u}static builder(){return new uN("",null,null,cN.builder())}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}update(a){return a(this.classes),this}}function WVe(l,a){1&l&&ye(0,"app-add-component",4),2&l&&U("component",J(2).$implicit.component)}function jVe(l,a){if(1&l&&(A(0,"clr-accordion-content"),Q(1,WVe,1,1,"app-add-component",3),I()),2&l){const o=J().$implicit;z(1),U("ngIf",o.component)}}function $Ve(l,a){if(1&l&&(A(0,"clr-accordion-panel"),A(1,"clr-accordion-title"),we(2),I(),Q(3,jVe,2,1,"clr-accordion-content",2),I()),2&l){const o=a.$implicit;z(2),Sn(o.title)}}let qVe=(()=>{class l{constructor(o){this.config=o}get accordionData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){return{}}}return l.\u0275fac=function(o){return new(o||l)(N(kn))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-accordion"]],inputs:{data:"data"},decls:2,vars:2,consts:[[3,"ngClass"],[4,"ngFor","ngForOf"],[4,"clrIfExpanded"],[3,"component",4,"ngIf"],[3,"component"]],template:function(o,c){1&o&&(A(0,"clr-accordion",0),Q(1,$Ve,4,1,"clr-accordion-panel",1),I()),2&o&&(U("ngClass",c.getClasses()),z(1),U("ngForOf",c.accordionData.items))},directives:[bS,b1,Gi,or,h0,CS,yS,Qj,fj,xS,Mn,Wh],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]}),l})();class hN{constructor(){}static builder(){return new hN}}class dN{constructor(a,o){this.title=a,this.component=o}static builder(){return new dN("",null)}setTitle(a){return this.title=a,this}setComponent(a){return this.component=a,this}}class fN extends Ar{constructor(a,o,c,u,h){super(a,o,c),this.classes=u,this.items=h}static builder(){return new fN("",null,null,hN.builder(),[])}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}update(a){return a(this.classes),this}addItem(a){return this.items.push(a),this}}class pN{constructor(a,o){this.meta=a,this.parsed=o}static builder(){return new pN(null,null)}setMeta(a){return this.meta=a,this}setParsed(a){return this.parsed=a,this}}class $b{constructor(a="",o=null){this.type=a,this.onEventHandler=o}setOnEventHandler(a){return this.onEventHandler=a,this}run(a){return this.onEventHandler&&this.onEventHandler(this,a),this}}class lM{constructor(a,o,c=0){this.\u0441\u0442\u0440\u043e\u043a\u0438=a,this.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043d\u0438\u0433\u0438=o,this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445\u0421\u0442\u0440\u043e\u043a=c}static builder(){return new lM([],0)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0438(a){return this.\u0441\u0442\u0440\u043e\u043a\u0438=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041a\u043d\u0438\u0433\u0438(a){return this.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043d\u0438\u0433\u0438=a,this}\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445\u0421\u0442\u0440\u043e\u043a(a=1){return this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445\u0421\u0442\u0440\u043e\u043a+=a,this}}class gN extends Gee{constructor(a=null){super(a),this.errors=[],this.libraryRef="biblia",this.libraryType="prod",this.libraryInfo=null,this.bookName="",this.bookNameNewLangs=[],this.bookChapterNewName="",this.bookLoadBooksEnabledNewName=!0,this.bookPageText="",this.bookRef="",this.bookInfo=null,this.bookLanguages=[],this.books=[],this.lineIndexes=[],this.bookContent=[],this.bookChapter=null,this.converter=new ML,this.onLibraryLoadEvent=new $b("onLibraryLoad"),this.onPageLoadEvent=new $b("onPageLoad"),this.onBookInfoLoadEvent=new $b("onBookInfoLoad"),this.onRouteEvent=new $b("onRoute"),this.onNewTitleEvent=new $b("onNewTitle"),this.config=null,this.uiConfig=null,this.memorialSvc=null,this.audioSvc=null,this.linesTransformer=null,this.removableSubscriptions=[]}onDestroy(){this.removableSubscriptions.forEach(a=>{a.unsubscribe()}),this.removableSubscriptions=[]}addSubscription(a){a&&this.removableSubscriptions.push(a)}setLineTransformer(a){return this.linesTransformer=a,this}setConfig(a){var o;return this.config=a,"memorial"==(null===(o=this.config)||void 0===o?void 0:o.getApplication().id)&&(this.libraryType="mprod",this.libraryRef="ps"),this}setUIConfig(a){return this.uiConfig=a,this}setMemorial(a){return this.memorialSvc=a,this}setAudio(a){return this.audioSvc=a,this}addError(a){return this.errors.push(a),this}clear(a=!1,o=!1,c=[],u=!0,h=!1){return this.errors=[],this.books=[],this.lineIndexes=[],a&&(this.bookContent=[]),o&&(u&&(this.bookInfo=null),this.bookLanguages=c),h&&(this.bookChapter=null),this}loadLibraryInfo(){return this.send(null,Lee.builder().setLibraryType(this.libraryType).setLibraryRef(this.libraryRef)),this}tryLoadLibraryInfo(){null==this.libraryInfo?this.loadLibraryInfo():this.onLibraryLoadEvent.run(this.libraryInfo)}loadBookByName(a,o=[],c="",u=!0){this.bookName=a,this.bookNameNewLangs=o,this.bookChapterNewName=c,this.bookChapterNewName&&(this.bookChapter=null),this.bookLoadBooksEnabledNewName=u,this.retryLoadBookByName()}loadBookByPageText(a,o=!0,c="\u0420\u0443\u0441\u0441\u043a\u0438\u0439"){return this.bookPageText=a,this.clear(!0,!0,[c],o),this.retryLoadBookByName(),this}getBookSettingsNamePath(a){if(!this.libraryInfo)return null;let o=this.libraryInfo.settings.find(c=>c.name===a);return o||(o=this.libraryInfo.settings.find(c=>{var u;return null===(u=c.value2)||void 0===u?void 0:u.find(h=>h===a)})),o}getBookContentNamePath(a){if(!this.libraryInfo)return null;let o=this.libraryInfo.content.find(c=>c.name===a);if(o||(o=this.libraryInfo.content.find(c=>{var u;return null===(u=c.path2)||void 0===u?void 0:u.find(h=>h===a)})),!o){let c=pv.builder().parse(a);if(null!=c&&c.length&&c[0].length){let u=c[0][0];u.type==za.Link&&(o=this.getBookContentNamePath(u.name))}}return o}retryLoadBookByName(){if(this.libraryInfo)if(this.bookPageText)this.onPagesResponse(QF.builder().setPages([this.bookPageText])),this.bookPageText="";else{let a=this.getBookContentNamePath(this.bookName);a?this.loadBookByRef(a.path,this.bookNameNewLangs,this.bookLoadBooksEnabledNewName):this.addError(`\u041a\u043d\u0438\u0433\u0430 "${this.bookName}" \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430.`)}else this.loadLibraryInfo()}loadBookByRef(a,o=[],c=!0){return this.bookRef=a,this.clear(!0,!0,o),this.loadBookInfo(null,c),this}isLanguageEnabled(a){return null!=this.bookLanguages.find(o=>o==a)}loadBookInfo(a=null,o=!0){return this.send(null,Nee.builder().setLibraryType(this.libraryType).setBookRef(a||this.bookRef).setLoadBooksEnabled(o)),this}isPrevEnabled(){let a=!1;if(!this.bookChapter)return!1;if(this.bookContent.length){let o=this.bookContent[0];o.parsed&&o.parsed.content&&o.parsed.content.length>1&&(a=o.parsed.content[0].name!=this.bookChapter.name)}return a}isNextEnabled(){let a=!1;if(!this.bookChapter)return!1;if(this.bookContent.length){let o=this.bookContent[0];o.parsed&&o.parsed.content&&o.parsed.content.length>1&&(a=o.parsed.content[o.parsed.content.length-1].name!=this.bookChapter.name)}return a}loadNextPage(){if(!this.isNextEnabled())return;let a="";if(this.bookContent.length){let o=this.bookContent[0];if(o.parsed&&o.parsed.content&&o.parsed.content.length>1){let c=o.parsed.content.findIndex(u=>u.name==this.bookChapter.name);c>=0&&c+1<o.parsed.content.length&&(a=o.parsed.content[c+1].name)}}a&&this.loadPage(a)}loadPrevPage(){if(!this.isPrevEnabled())return;let a="";if(this.bookContent.length){let o=this.bookContent[0];if(o.parsed&&o.parsed.content&&o.parsed.content.length>1){let c=o.parsed.content.findIndex(u=>u.name==this.bookChapter.name);c>=1&&(a=o.parsed.content[c-1].name)}}a&&this.loadPage(a)}loadPage(a){let o=this.bookContent[0].parsed.content.find(c=>c.name===a);return o&&o!=this.bookChapter&&(this.bookName=this.getNormalBookName(),this.bookChapter=o,this.clear(),this.loadCurrentPages()),this}loadCurrentPages(){let a=Vee.builder();return this.runAll(this.bookContent,(o,c)=>{let u=o.parsed.settings.find(f=>"\u044f\u0437\u044b\u043a"===f.name.toLowerCase());if(u&&(this.isLanguageEnabled(u.value)||(u=null)),!u)return void c(!0);let h=this.getBookChapterNewName(),d=o.parsed.content.find(f=>h==f.name);this.bookChapterNewName="",null==d&&(d=o.parsed.content.find(f=>!this.bookChapter||this.bookChapter.name==f.name)),d&&(a.addBookPage(KF.builder().setBookPage(o.meta.bookRef).setBookPath(o.meta.path).setBookPage(d.path)),this.bookChapter||(this.bookChapter=d)),c(!0)},o=>{o&&this.send(null,a)}),this}post(a,o){switch(o.type){case Hee.TYPE:this.onLibraryInfoResponse(o);break;case Uee.TYPE:this.onBookInfoResponse(o);break;case zee.TYPE:this.onBookResponse(o);break;case QF.TYPE:this.onPagesResponse(o);break;default:throw new Error(`Unknown message type: ${o.type}.`)}return this}onLibraryInfoResponse(a){try{this.libraryInfo=bookParserStatic.parse(a.metaContent,Bb.builder())}catch(o){return this.addError(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438: ${a.libraryRef}: ${o}`)}return this.bookName||this.bookPageText?this.retryLoadBookByName():this.onLibraryLoadEvent.run(this.libraryInfo),this}onBookInfoResponse(a){try{this.bookInfo=bookParserStatic.parse(a.metaContent,Bb.builder())}catch(o){return this.addError(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043a\u043d\u0438\u0433\u0438: ${a.bookRef}: ${o}`)}return a.loadBooksEnabled&&this.reloadBooks(),this.onBookInfoLoadEvent.run(this.bookInfo),this}reloadBooks(){this.clear(!0);let a=Bee.builder().setLibraryType(this.libraryType).setBookRef(this.bookRef);this.bookLanguages.length&&this.bookInfo&&(this.bookLanguages=this.bookLanguages.filter(o=>null!=this.bookInfo.content.find(c=>c.name==o))),!this.bookLanguages.length&&this.bookInfo&&(this.bookLanguages=this.bookInfo.content.map(o=>o.name),this.bookLanguages.length>2&&(this.bookLanguages=this.bookLanguages.slice(0,2))),this.bookInfo&&this.bookLanguages.forEach(o=>{let c=this.bookInfo.content.find(u=>u.name===o);c&&a.addLanguage(c.path)}),this.send(null,a)}onBookResponse(a){return this.runAll(a.metaBooks,(o,c)=>{this.loadBook(o,c)},o=>{o&&this.loadCurrentPages()}),this}loadBook(a,o=null){try{var c=bookParserStatic.parse(a.content,Bb.builder());this.bookContent.push(pN.builder().setMeta(a).setParsed(c)),o&&o(!0)}catch(u){return this.addError(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043a\u043d\u0438\u0433\u0438: ${this.bookRef}: ${u}`)}return this}onPagesResponse(a){a.pages.forEach(o=>{this.loadBookPageText(o)}),this.onPageLoadEvent.run(null)}getStdSrc(){return"\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '';\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c = \u043a\u043b\u0430\u0441\u0441 {\n      \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c(\u0442\u0435\u043a\u0441\u0442) {\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0422\u0435\u043a\u0441\u0442(\u0442\u0435\u043a\u0441\u0442);\n      }\n    }.\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043e\u0434 = \u043a\u043b\u0430\u0441\u0441 {\n      \u0432\u044b\u0432\u0435\u0441\u0442\u0438(_\u043a\u043e\u0434) {\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c '/*' + _\u043a\u043e\u0434 + '*/';\n      }\n    }.\u0432\u044b\u0432\u0435\u0441\u0442\u0438;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0432\u044b\u0432\u0435\u0441\u0442\u0438 = \u043a\u043b\u0430\u0441\u0441 {\n      \u0432\u044b\u0432\u0435\u0441\u0442\u0438(\u0442\u0435\u043a\u0441\u0442) {\n        id = \u043d\u043e\u0432\u044b\u0439\u0422\u0435\u043a\u0441\u0442(\u0442\u0435\u043a\u0441\u0442);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0432\u044b\u0432\u0435\u0441\u0442\u0438;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0433\u0430\u043b\u043e\u0447\u043a\u0430 = \u043a\u043b\u0430\u0441\u0441 {\n      \u0433\u0430\u043b\u043e\u0447\u043a\u0430(_\u0442\u0435\u043a\u0441\u0442, _\u0433\u0430\u043b\u043e\u0447\u043a\u0430, _\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a) {\n        id = \u043d\u043e\u0432\u0430\u044f\u0413\u0430\u043b\u043e\u0447\u043a\u0430(_\u0442\u0435\u043a\u0441\u0442,_\u0433\u0430\u043b\u043e\u0447\u043a\u0430,_\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0433\u0430\u043b\u043e\u0447\u043a\u0430;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043d\u043e\u043f\u043a\u0430 = \u043a\u043b\u0430\u0441\u0441 {\n      \u043a\u043d\u043e\u043f\u043a\u0430(\u0442\u0435\u043a\u0441\u0442, \u0442\u0438\u043f, \u0441\u0441\u044b\u043b\u043a\u0430, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, \u0431\u043b\u043e\u043a) {\n        id = \u043d\u043e\u0432\u0430\u044f\u041a\u043d\u043e\u043f\u043a\u0430(\u0442\u0435\u043a\u0441\u0442,\u0442\u0438\u043f,\u0441\u0441\u044b\u043b\u043a\u0430,\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a,\u0431\u043b\u043e\u043a);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043a\u043d\u043e\u043f\u043a\u0430;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0441\u043f\u0438\u0441\u043e\u043a = \u043a\u043b\u0430\u0441\u0441 {\n      \u0441\u043f\u0438\u0441\u043e\u043a(\u0441\u0442\u0440\u043e\u043a\u0438,\u043d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439) {\n        id = \u043d\u043e\u0432\u044b\u0439\u0421\u043f\u0438\u0441\u043e\u043a(\u0441\u0442\u0440\u043e\u043a\u0438,\u043d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0441\u043f\u0438\u0441\u043e\u043a;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a = \u043a\u043b\u0430\u0441\u0441 {\n      \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a(\u0442\u043e\u043b\u044c\u043a\u043e\u0427\u0442\u0435\u043d\u0438\u0435, \u0438\u043c\u044f\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0430, \u043d\u043e\u043c\u0435\u0440\u0421\u043b\u0430\u0432\u044b, \u043e\u0417\u0434\u0440\u0430\u0432\u0438\u0438, _id, _targetId) {\n        id = \u043d\u043e\u0432\u044b\u0439\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a(\u0442\u043e\u043b\u044c\u043a\u043e\u0427\u0442\u0435\u043d\u0438\u0435, \u0438\u043c\u044f\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0430, \u043d\u043e\u043c\u0435\u0440\u0421\u043b\u0430\u0432\u044b, \u043e\u0417\u0434\u0440\u0430\u0432\u0438\u0438, _id, _targetId);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043d\u0438\u0433\u0430 = \u043a\u043b\u0430\u0441\u0441 {\n      \u043a\u043d\u0438\u0433\u0430(\u0442\u0435\u043a\u0441\u0442\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b) {\n        id = \u043d\u043e\u0432\u0430\u044f\u041a\u043d\u0438\u0433\u0430(\u0442\u0435\u043a\u0441\u0442\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043a\u043d\u0438\u0433\u0430;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 = \u043a\u043b\u0430\u0441\u0441 {\n      \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438(_\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438, _\u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a, _\u043a\u043b\u0430\u0441\u0441\u041b\u044d\u0439\u0431\u043b\u0430, _\u043d\u0435\u041f\u0435\u0447\u0430\u0442\u0430\u0442\u044c, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a) {\n        id = \u043d\u043e\u0432\u044b\u0435\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438(_\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438, _\u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a,  _\u043a\u043b\u0430\u0441\u0441\u041b\u044d\u0439\u0431\u043b\u0430, _\u043d\u0435\u041f\u0435\u0447\u0430\u0442\u0430\u0442\u044c, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.svg = \u043a\u043b\u0430\u0441\u0441 {\n      svg(_\u043b\u043e\u0433\u043e, _\u0448\u0438\u0440\u0438\u043d\u0430, _\u0432\u044b\u0441\u043e\u0442\u0430, _\u0442\u043e\u043b\u044c\u043a\u043e\u041f\u0440\u0438\u041f\u0435\u0447\u0430\u0442\u0438) {\n        id = \u043d\u043e\u0432\u044b\u0439Svg(_\u043b\u043e\u0433\u043e, _\u0448\u0438\u0440\u0438\u043d\u0430, _\u0432\u044b\u0441\u043e\u0442\u0430, _\u0442\u043e\u043b\u044c\u043a\u043e\u041f\u0440\u0438\u041f\u0435\u0447\u0430\u0442\u0438);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.svg;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043c\u0435\u043d\u044e = \u043a\u043b\u0430\u0441\u0441 {\n      \u043c\u0435\u043d\u044e(_\u043f\u0443\u043d\u043a\u0442\u044b, _\u0442\u043e\u043b\u044c\u043a\u043e\u041f\u0440\u0438\u041f\u0435\u0447\u0430\u0442\u0438) {\n        id = \u043d\u043e\u0432\u043e\u0435\u041c\u0435\u043d\u044e(_\u043f\u0443\u043d\u043a\u0442\u044b, _\u0442\u043e\u043b\u044c\u043a\u043e\u041f\u0440\u0438\u041f\u0435\u0447\u0430\u0442\u0438);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043c\u0435\u043d\u044e;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.div = \u043a\u043b\u0430\u0441\u0441 {\n      div(_\u043a\u043b\u0430\u0441\u0441\u044b, _\u0442\u0435\u043a\u0441\u0442, _\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c) {\n        id = \u043d\u043e\u0432\u044b\u0439Div(_\u043a\u043b\u0430\u0441\u0441\u044b, _\u0442\u0435\u043a\u0441\u0442, _\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.div;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0430\u0443\u0434\u0438\u043e\u041f\u043b\u0435\u0435\u0440 = \u043a\u043b\u0430\u0441\u0441 {\n      \u0430\u0443\u0434\u0438\u043e\u041f\u043b\u0435\u0435\u0440() {\n        id = \u043d\u043e\u0432\u044b\u0439\u0410\u0443\u0434\u0438\u043e\u041f\u043b\u0435\u0435\u0440();\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0430\u0443\u0434\u0438\u043e\u041f\u043b\u0435\u0435\u0440;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0430\u043a\u043a\u043e\u0440\u0434\u0438\u043e\u043d = \u043a\u043b\u0430\u0441\u0441 {\n      \u0430\u043a\u043a\u043e\u0440\u0434\u0438\u043e\u043d(\u043f\u0443\u043d\u043a\u0442\u044b) {\n        id = \u043d\u043e\u0432\u044b\u0439\u0410\u043a\u043a\u043e\u0440\u0434\u0438\u043e\u043d(\u043f\u0443\u043d\u043a\u0442\u044b);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0430\u043a\u043a\u043e\u0440\u0434\u0438\u043e\u043d;\n    "}convertBookPageText(a,o,c){let h=(new tM).parseAndJoin(a),d=this.getStdSrc()+h+" \u0432\u0435\u0440\u043d\u0443\u0442\u044c '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';",f=new Kee,p=y=>{y.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0432\u0435\u0440\u0441\u0438\u044f",f.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.config?this.config.environment.version:"\u0412\u0435\u0440\u0441\u0438\u044f 2.0+")),f.addMethod(y,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0421\u043f\u0438\u0441\u043e\u043a\u041a\u043d\u0438\u0433\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438",(b,C)=>{let x=b.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432");return this.libraryInfo&&x.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.libraryInfo.content.map(w=>{let S=b.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043a\u0430\u0440\u0442\u0430");S.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440",b.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(w.name));let M=this.libraryInfo.settings.find(T=>T.name==w.name);return S.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0438\u043c\u044f",b.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(M?M.value:"")),S.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",b.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435((M&&M.value2?M.value2:[]).map(T=>b.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(T)))),S})),x}),f.addMethod(y,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0422\u0435\u043a\u0443\u0449\u0443\u044e\u041a\u043d\u0438\u0433\u0443",(b,C)=>{let x=this.uiConfig?this.uiConfig.ui.currentBook.getStringValue():"";return b.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(x)}),f.addMethod(y,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u043e\u0441\u0435\u0449\u0451\u043d\u043d\u0443\u044e\u0412\u0435\u0440\u0441\u0438\u044e",(b,C)=>{var w=b.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);let S=this.uiConfig?this.uiConfig.ui.visitedBooksHelp.getStringValue():"";if(this.uiConfig)switch(w.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()){case"\u043a\u043d\u0438\u0433\u0438":S=this.uiConfig.ui.visitedBooksHelp.getStringValue();break;case"\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a":S=this.uiConfig.ui.visitedMemorialHelp.getStringValue()}return b.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(S)}),f.addMethod(y,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u043e\u0441\u0435\u0449\u0451\u043d\u043d\u0443\u044e\u0412\u0435\u0440\u0441\u0438\u044e",(b,C)=>{var w=b.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),M=b.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[2]);if(this.uiConfig)switch(M.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()){case"\u043a\u043d\u0438\u0433\u0438":this.uiConfig.ui.visitedBooksHelp.setStringValue(w.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());break;case"\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a":this.uiConfig.ui.visitedMemorialHelp.setStringValue(w.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())}return C[0]}),f.addMethod(y,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u041a\u043d\u0438\u0433\u0438",(b,C)=>{var x,S=b.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);return this.onNewTitleEvent.run(S.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),null===(x=this.config)||void 0===x||x.messageBus.sendMessage(Om.builder().setType("MemorialNewTitle").setText(S.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setTarget("MemorialMainWindow")),C[0]}),f.addMethod(y,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0422\u0435\u043a\u0443\u0449\u0443\u044e\u041a\u0430\u0444\u0438\u0437\u043c\u0443",(b,C)=>{let w=this.uiConfig?this.uiConfig.ui.currentOffset.getNumberValue():0;w<0&&(w=this.uiConfig?this.uiConfig.ui.currentPersonOffset.getNumberValue():0);let S=$i.getKafizmNumberBy(17,w);return b.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(S)}),f.addMethod(y,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043a\u0443\u0449\u0443\u044e\u041a\u0430\u0444\u0438\u0437\u043c\u0443",(b,C)=>{var w=b.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);return this.uiConfig&&this.uiConfig.ui.currentOffset.setNumberValue($i.getOffsetByKafizmNumber(17,w.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e())),w}),f.addMethod(y,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u044b\u0439\u041f\u0441\u0430\u043b\u043e\u043c",(b,C)=>{var x;let w=this.uiConfig?this.uiConfig.ui.memorialChapterRequested.getNumberValue():0;return null===(x=this.uiConfig)||void 0===x||x.ui.memorialChapterRequested.setNumberValue(-1),b.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(w)}),f.addMethod(y,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0422\u0435\u043a\u0443\u0449\u0438\u0439\u041f\u0441\u0430\u043b\u043e\u043c",(b,C)=>{let x=this.uiConfig?this.uiConfig.ui.currentMemorialPsalom.getNumberValue():0;return b.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(x)}),f.addMethod(y,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043a\u0443\u0449\u0438\u0439\u041f\u0441\u0430\u043b\u043e\u043c",(b,C)=>{var w=b.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);return this.uiConfig&&this.uiConfig.ui.currentMemorialPsalom.setNumberValue(w.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),w}),f.addMethod(y,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u043e\u043a\u0430\u0437\u041c\u043e\u043b\u0438\u0442\u0432",(b,C)=>{let x=!this.uiConfig||this.uiConfig.ui.showMolitvy.getBooleanValue();return b.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(x)}),f.addMethod(y,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u043e\u043a\u0430\u0437\u041c\u043e\u043b\u0438\u0442\u0432",(b,C)=>{var w=b.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);return this.uiConfig&&this.uiConfig.ui.currentMemorialPsalom.setBooleanValue(w.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()),w}),f.addMethod(y,"\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c",(b,C)=>{let x=!this.uiConfig||this.uiConfig.ui.memorialPsaltir.getBooleanValue();return b.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(x)}),f.addMethod(y,"\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041e\u0431\u043b\u043e\u0436\u043a\u0443",(b,C)=>{let x=!this.uiConfig||this.uiConfig.ui.showFacePage.getBooleanValue();return b.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(x)}),f.addMethod(y,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438",(b,C)=>{let x=b.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([]);if(this.memorialSvc){let w=this.memorialSvc.getMemorials();w&&w.items.forEach(S=>{var M;let T=b.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043a\u0430\u0440\u0442\u0430");null===(M=T.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430())||void 0===M||M.set("\u0438\u043c\u044f",b.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(S.name)),x.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().push(T)})}return x}),f.addMethod(y,"\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c\u0421\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u0438",(b,C)=>{var x,w,M=C[2],T=C[3],E=b.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),k=b.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(M),R=b.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(T);return R.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()||null===(x=this.audioSvc)||void 0===x||x.stop(),null===(w=this.audioSvc)||void 0===w||w.startCheckUI(D=>{},E.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),k.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),R.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()),b.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0)}),f.addMethod(y,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439",(b,C)=>{var x,w,M=C[2],T=b.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),E=b.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(M);return null===(x=this.config)||void 0===x||x.messageBus.removeAllTargetHandlers(T.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this.addSubscription(null===(w=this.config)||void 0===w?void 0:w.messageBus.addTargetHandler(T.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),k=>{var R;null===(R=this.config)||void 0===R||R.post(()=>{let D=Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));p(D),D.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0446\u0435\u043b\u0435\u0432\u043e\u0439\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a",E);let P=Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),F=P.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();F&&(F.set("\u0446\u0435\u043b\u044c",b.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(k.target)),F.set("\u0442\u0435\u043a\u0441\u0442",b.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(k.text)),F.set("\u0442\u0438\u043f",b.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(k.type)),F.set("\u043f\u043e\u0434\u0442\u0438\u043f",b.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(k.subType))),D.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",P),f.run("\n              \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0446\u0435\u043b\u0435\u0432\u043e\u0439\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435);\n              \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';\n            ",g,D,v).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()})})),b.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0)}),f.addMethod(y,"\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c\u0426\u0435\u043b\u0435\u0432\u043e\u0435\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",(b,C)=>{var x,S=C[2],M=b.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),T=b.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S);return null===(x=this.config)||void 0===x||x.messageBus.sendMessage(Om.builder().setTarget(M.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setText(T.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())),T}),f.addBookmarksEnvironment(y,this.uiConfig)},g=Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),m=Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));p(m);let v=Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));return f.addMethod(v,"\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0422\u0435\u043a\u0441\u0442",(y,b)=>{var x=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[1]),w=this.convertBookPageText(x.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),o,c);return y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(w)}),f.addMethod(v,"\u043d\u043e\u0432\u044b\u0439\u0422\u0435\u043a\u0441\u0442",(y,b)=>y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[1])),f.addMethod(v,"\u043d\u043e\u0432\u0430\u044f\u0413\u0430\u043b\u043e\u0447\u043a\u0430",(y,b)=>{var x=b[2],w=b[3],S=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[1]),M=x?y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x):null,T=w?y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w):null;let E=Xs.builder().setClasses(ML.getLastClass("")).setText(S.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),k=IL.builder().setText(E.text).setOnClick(()=>{let D=Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),P=y.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043e\u0431\u044a\u0435\u043a\u0442");p(D),D.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a",k.tag.data),D.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0433\u0430\u043b\u043e\u0447\u043a\u0430",P),f.addMethod(P,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043a\u0441\u0442",(L,$)=>{var O=L.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439($[1]);return k.text=O.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),null}),f.addMethod(P,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0413\u0430\u043b\u043e\u0447\u043a\u0443",(L,$)=>{var O=L.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439($[1]);return k.classes.setCheck(O.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()),null}),f.run("\n            \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0433\u0430\u043b\u043e\u0447\u043a\u0430);\n            \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';\n          ",g,D,v).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()});k.classes.setCheck(!!M&&M.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()),k.setTag(Xp.builder().setData(T));let R=c();return o.set(R,E.setComponent(new Yi(e6e,k))),y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${R}}`)}),f.addMethod(v,"\u043d\u043e\u0432\u0430\u044f\u041a\u043d\u043e\u043f\u043a\u0430",(y,b)=>{var x=b[2],w=b[3],S=b[4],M=b[5],T=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[1]),E=x?y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x):null,k=w?y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w):null,R=S?y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S):null,D=M?y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(M):null;let P=!1;k&&k.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().split(/[ \r\n\t]+/).forEach(Y=>{"outline"===Y&&(P=!0)});let F=Xs.builder().setClasses(ML.getLastClass(E?E.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430():"")).setText(T.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),L=nM.builder().setText(F.text).setOnClick(()=>{let Y=Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));p(Y);let O=y.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043e\u0431\u044a\u0435\u043a\u0442");Y.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a",L.tag.data),Y.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u043a\u043d\u043e\u043f\u043a\u0430",O),f.addMethod(O,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043a\u0441\u0442",(B,G)=>{var j=B.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(G[1]);return L.text=j.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),null}),f.addMethod(O,"\u043f\u0435\u0440\u0435\u0445\u043e\u0434",(B,G)=>{var j=B.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(G[1]);return this.onRouteEvent.run(j?j.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430():""),null}),f.run("\n            \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043a\u043d\u043e\u043f\u043a\u0430);\n            \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';\n          ",g,Y,v).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()});L.setTag(Xp.builder().setData(R)),L.classes.setBlock(!D||D.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()).setType(E?E.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430():"primary").setOutline(P);let $=c();return o.set($,F.setComponent(new Yi(Xee,L))),y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${$}}`)}),f.addMethod(v,"\u043d\u043e\u0432\u044b\u0439\u0421\u043f\u0438\u0441\u043e\u043a",(y,b)=>{var x=b[2],w=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[1]),S=x?y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x):null;let M=Xs.builder(),T=OL.builder().setItems(w?w.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map(k=>this.makeFragmentComponents(k.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())):[]);T.classes.setOrdered(!!S&&S.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e());let E=c();return o.set(E,M.setComponent(new Yi(s6e,T))),y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${E}}`)}),f.addMethod(v,"\u043d\u043e\u0432\u044b\u0439\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a",(y,b)=>{var x=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[1]),S=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[2]),T=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[3]),k=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[4]),D=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[5]),F=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[6]);let L=Xs.builder(),$=FL.builder();$.setReadonly(x.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()).setText(S.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setId(D.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setTargetId(F.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),$.classes.setSlava1Zdrav(1==T.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()&&k.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()).setSlava1Upok(1==T.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()&&!k.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()).setSlava2Zdrav(2==T.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()&&k.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()).setSlava2Upok(2==T.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()&&!k.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()).setSlava3Zdrav(3==T.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()&&k.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()).setSlava3Upok(3==T.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()&&!k.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e());let Y=c();return o.set(Y,L.setComponent(new Yi(lte,$))),y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${Y}}`)}),f.addMethod(v,"\u043d\u043e\u0432\u0430\u044f\u041a\u043d\u0438\u0433\u0430",(y,b)=>{var x=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[1]);let w=Xs.builder(),S=c();return o.set(S,w.setComponent(new Yi(cf,Gu.builder().setText(x.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setHideUI(!0).setParallel(!0).setLinebreaks(!0).setLink(Hu.builder().setTextIsPage(!0).setBookName("Mem").setChapter("1").setStartLine(1).setEndLine(1e3).setOnRoute(M=>{}))))),y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${S}}`)}),f.addMethod(v,"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043d\u0438\u0433\u0443",(y,b)=>{var C,w=b[2],S=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[1]),M=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w);let T=M.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430();T=T.substring(1,T.length-1);let E=o.get(T),k=null===(C=null==E?void 0:E.component)||void 0===C?void 0:C.data;return k&&k.setText(S.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),k?M:y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("")}),f.addMethod(v,"\u043d\u043e\u0432\u044b\u0435\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438",(y,b)=>{var x=b[2],w=b[3],S=b[4],M=b[5],T=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[1]),E=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x),k=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(S),R=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(w),D=M?y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(M):null;R&&R.\u044d\u0442\u043e\u041d\u0443\u043b\u044c()&&(R=null);let P=Xs.builder(),F=c(),L=Ql.builder().setItems(T.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map($=>$).map($=>xo.builder().setText(y.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439($.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u0442\u0435\u043a\u0441\u0442")).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setTag(y.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439($.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u0442\u0435\u0433")).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setSelected(y.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439($.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u0442\u0435\u0433")).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()==E.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())));return R&&L.classes.setLabelNormal(R.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),k&&L.classes.setNoPrint(k.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()),L.setTag(Xp.builder().setData(D)),L.setOnClick($=>{let Y=Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));p(Y);let O=y.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043e\u0431\u044a\u0435\u043a\u0442");Y.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a",L.tag.data),Y.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438",O),Y.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0442\u0435\u0433",y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435($.tag)),f.addMethod(O,"\u0432\u044b\u0431\u0440\u0430\u0442\u044c",(B,G)=>{var j=B.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(G[1]);return L.items.forEach(W=>W.setSelected(W.tag==j.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())),null}),f.run("\n            \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438);\n            \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';\n          ",g,Y,v).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()}),o.set(F,P.setComponent(new Yi(sM,L))),y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${F}}`)}),f.addMethod(v,"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438",(y,b)=>{var C,x=b[1],w=b[2],S=b[3],M=b[4],T=b[5],E=b[6],k=x?y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x):null,R=w?y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w):null,D=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(S),P=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(M),F=T?y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(T):null,L=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(E);k&&k.\u044d\u0442\u043e\u041d\u0443\u043b\u044c()&&(k=null),R&&R.\u044d\u0442\u043e\u041d\u0443\u043b\u044c()&&(R=null),D&&D.\u044d\u0442\u043e\u041d\u0443\u043b\u044c()&&(D=null),P&&P.\u044d\u0442\u043e\u041d\u0443\u043b\u044c()&&(P=null),F&&F.\u044d\u0442\u043e\u041d\u0443\u043b\u044c()&&(F=null);let $=L.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430();$=$.substring(1,$.length-1);let Y=o.get($),O=null===(C=null==Y?void 0:Y.component)||void 0===C?void 0:C.data;return O&&(k?O.setItems(k.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map(V=>V).map(V=>xo.builder().setText(y.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(V.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u0442\u0435\u043a\u0441\u0442")).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setTag(y.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(V.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u0442\u0435\u0433")).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setSelected(y.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(V.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u0442\u0435\u0433")).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()==(null==R?void 0:R.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())))):O.items.forEach(V=>V.setSelected(V.tag==(null==R?void 0:R.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())))),D&&O.classes.setLabelNormal(D.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),P&&O.classes.setNoPrint(P.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()),F&&O.setTag(Xp.builder().setData(F)),O?L:y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("")}),f.addMethod(v,"\u043d\u043e\u0432\u044b\u0439Svg",(y,b)=>{var x=b[2],w=b[3],S=b[4],M=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[1]),T=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x),E=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w),k=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S);let R=Xs.builder(),D=c();return o.set(D,R.setComponent(new Yi(RVe,oN.builder().setText("").setGenName(M.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setSvgWidth(T.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()).setSvgHeight(E.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()).updateClasses(P=>P.setPrintOnly(k.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()))))),y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${D}}`)}),f.addMethod(v,"\u043d\u043e\u0432\u043e\u0435\u041c\u0435\u043d\u044e",(y,b)=>{var x=b[2],w=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[1]),S=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x);let M=Xs.builder(),T=c(),E=ov.builder().setText("").setWhiteBack(!0);return E.menuState.setGenName("MenuDay2").setPrintOnly(S.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()),w.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map(k=>k).forEach(k=>{E.addCommand(Va.builder().setName(k.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setTag(k.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()))}),o.set(T,M.setComponent(new Yi(ZF,E))),y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${T}}`)}),f.addMethod(v,"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c\u041c\u0435\u043d\u044e",(y,b)=>{var C,w=b[2],S=b[3],M=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[1]),T=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w);let k=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430();k=k.substring(1,k.length-1);let R=o.get(k),D=null===(C=null==R?void 0:R.component)||void 0===C?void 0:C.data;if(D){let P=rv.builder().setGenName("MenuDay2").setPrintOnly(T.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e());M.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map(F=>F).forEach(F=>{P.addCommand(Va.builder().setName(F.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setTag(F.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()))}),D.setMenuState(P)}return y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${k}}`)}),f.addMethod(v,"\u043d\u043e\u0432\u044b\u0439Div",(y,b)=>{var x=b[2],w=b[3],S=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[1]),M=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x),T=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w);let E=M.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),k=[],R="";E.startsWith("{")&&E.endsWith("}")&&(k=E.split(",").filter(L=>{let $=!1;return L.startsWith("{")&&L.endsWith("}")&&($=!0),$}).map(L=>L.substring(1,L.length-1)));let D=Xs.builder(),P=c(),F=[];return k.forEach(L=>{let $=o.get(L);$&&(R||(R=L),F.push($))}),o.set(P,D.setComponent(new Yi(aN,aM.builder().setText(k.length?"":E).setId(R).setComponents(F.map(L=>L.component).filter(L=>!!L).map(L=>L)).setWaitingForSenderid(T.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).update(L=>{S.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().split(/[ \r\n\t]+/).forEach(Y=>{switch(Y.toLowerCase()){case"\u0440\u0430\u0441\u0442\u044f\u0433\u0438\u0432\u0430\u0442\u044c":L.setFineText(!0);break;case"\u0440\u0430\u0437\u0440\u044b\u0432\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b\u0434\u043e":L.setPageBreakBefore(!0);break;case"\u0440\u0430\u0437\u0440\u044b\u0432\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b\u043f\u043e\u0441\u043b\u0435":L.setPageBreakAfter(!0);break;case"\u0442\u043e\u043b\u044c\u043a\u043e\u043f\u0440\u0438\u043f\u0435\u0447\u0430\u0442\u0438":L.setPrintOnly(!0);break;case"\u043d\u0435\u043f\u0440\u0438\u043f\u0435\u0447\u0430\u0442\u0438":L.setNoPrint(!0);break;default:L.addSClass(Y)}})})))),y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${P}}`)}),f.addMethod(v,"\u043d\u043e\u0432\u044b\u0439\u0410\u0443\u0434\u0438\u043e\u041f\u043b\u0435\u0435\u0440",(y,b)=>{let C=Xs.builder(),x=c();return o.set(x,C.setComponent(new Yi(GVe,uN.builder().setText("").update(w=>{})))),y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${x}}`)}),f.addMethod(v,"\u043d\u043e\u0432\u044b\u0439\u0410\u043a\u043a\u043e\u0440\u0434\u0438\u043e\u043d",(y,b)=>{var x=y.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(b[1]);let w=fN.builder().setText("").update(T=>{});x.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map(T=>T).forEach(T=>{var E,k,R,D;let P=null===(k=null===(E=T.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430())||void 0===E?void 0:E.get("\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"))||void 0===k?void 0:k.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),F=null===(D=null===(R=T.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430())||void 0===R?void 0:R.get("\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442"))||void 0===D?void 0:D.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430();F&&(F=F.startsWith("{")?F.substring(1):F,F=F.endsWith("}")?F.substring(0,F.length-1):F);let L=o.get(F||"");L&&w.addItem(dN.builder().setTitle(P||"\u041f\u0443\u043d\u043a\u0442\u0438\u043a").setComponent(L.component))});let S=Xs.builder(),M=c();return o.set(M,S.setComponent(new Yi(qVe,w))),y.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${M}}`)}),f.run(d,g,m,v).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()}makeFragmentComponents(a){let o=this.converter.parseFragments(new Map,h=>h,a),c=[zb.builder().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b(o).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430(!1).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0438\u043f(Vb.\u0422\u0435\u043a\u0441\u0442)],u=dv.builder().setText(a);return u.config.setLineIndex(0).setBook(lM.builder().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0438(c)),new Yi(eM,u)}loadBookPageText(a,o=null){if(!a)return void(o&&o(!1));let c=0,h=new Map,d=lM.builder().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0438([]);this.convertBookPageText(a,h,()=>""+c++).split("\n").forEach((p,g)=>{let m=this.transformLine(p),v=this.converter.parseFragments(h,y=>{let b="";if(this.libraryInfo){let C=this.libraryInfo.content.find(x=>{var w;return null===(w=x.path2)||void 0===w?void 0:w.find(S=>S==y)});C&&(b=C.name)}return b},m.trim(),(!this.uiConfig||this.uiConfig.ui.coloredTranslations.getBooleanValue())&&this.books.length%2?"redDark":"red"),_=dv.builder().setText(m.trim());_.config.setBook(d).setBookSvc(this),d.\u0441\u0442\u0440\u043e\u043a\u0438.push(zb.builder().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b(v).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442(new Yi(eM,_)))}),this.books.push(d.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041a\u043d\u0438\u0433\u0438(this.books.length)),this.generateLineIndexes(),o&&o(!0)}isZeroLineFound(a){return 0==a[0].fragments.length||1==a[0].\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b.length&&null!=a[0].\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b.find(o=>!!o.classes.redDark||!!o.classes.red)}generateLineIndexes(){this.lineIndexes=[];let a=this.books.map(h=>h.\u0441\u0442\u0440\u043e\u043a\u0438.length+(this.isZeroLineFound(h.\u0441\u0442\u0440\u043e\u043a\u0438)?0:1)).reduce((h,d)=>Math.max(h,d)),o=!1;this.books.forEach(h=>{let d=!1;this.isZeroLineFound(h.\u0441\u0442\u0440\u043e\u043a\u0438)&&(d=o=!0);let f=()=>zb.builder().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442(new Yi(eM,dv.builder())),p=h.\u0441\u0442\u0440\u043e\u043a\u0438.map(g=>0==g.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b.length).reduce((g,m)=>g&&m,!0);for(h.\u0441\u0442\u0440\u043e\u043a\u0438.length<a&&!d&&(h.\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445\u0421\u0442\u0440\u043e\u043a(),h.\u0441\u0442\u0440\u043e\u043a\u0438.unshift(f()));h.\u0441\u0442\u0440\u043e\u043a\u0438.length<a;)p&&h.\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445\u0421\u0442\u0440\u043e\u043a(),h.\u0441\u0442\u0440\u043e\u043a\u0438.push(f())});let c=this.getNormalBookName(),u=c.indexOf("VZ")>=0||c.indexOf("NZ")>=0;this.books.forEach((h,d)=>{for(h.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041a\u043d\u0438\u0433\u0438(d),h.\u0441\u0442\u0440\u043e\u043a\u0438.forEach((f,p)=>{f.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430(u),f.\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442&&f.\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442.data.constructor===dv&&f.\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442.data.config.setLineIndex(p)});this.lineIndexes.length<h.\u0441\u0442\u0440\u043e\u043a\u0438.length;)this.lineIndexes.push(this.lineIndexes.length)})}toggleLanguage(a){return this.isLanguageEnabled(a)?this.bookLanguages=this.bookLanguages.filter(o=>o!=a):this.bookInfo&&null!=this.bookInfo.content.find(o=>o.name==a)&&this.bookLanguages.push(a),!this.bookLanguages.length&&this.bookInfo&&this.bookInfo.content&&this.bookLanguages.push(this.bookInfo.content[0].name),this}getShortBookName(a=null){if(!this.libraryInfo)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430.");let o=a||this.bookName,c=this.getBookContentNamePath(o),u=o;if(c){if(!c.path2||!c.path2.length)throw new Error(`\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u0438\u043c\u044f \u0434\u043b\u044f \u043a\u043d\u0438\u0433\u0438 "${o}" \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e.`);u=c.path2[0]}return u}getNormalBookName(){if(!this.libraryInfo)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430.");let a=this.getBookContentNamePath(this.bookName),o=this.bookName;return a&&(o=a.name),o}getBookChapterNewName(){let a=this.bookChapterNewName,o=pv.builder().parse(this.bookName);if(null!=o&&o.length&&o[0].length){let c=o[0][0];c.type==za.Link&&(a=""+c.startChapter)}return a}getBookTitleName(){if(!this.libraryInfo)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430.");let a=this.getBookSettingsNamePath(this.bookName),o=this.bookName;return a&&(o=a.value),o}getChapterTitleName(){var a,o;if(!this.libraryInfo)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430.");let c=this.bookChapter?this.bookChapter.name:"1",u=null===(o=null===(a=this.bookContent[0])||void 0===a?void 0:a.parsed)||void 0===o?void 0:o.settings.find(d=>d.name===c),h="";if(u){h=u.value;let d=".txt";h.endsWith(d)&&(h=h.substring(0,h.length-d.length)),+h==+c&&(h="")}return h}getNormalBookNameByBookPath(a){var o;let c=null===(o=this.libraryInfo)||void 0===o?void 0:o.content.find(u=>a.startsWith(u.path));return c?c.name:null}transformLine(a){return this.linesTransformer?this.linesTransformer.transform(a):a}}class mN{constructor(){}static builder(){return new mN}}class vN extends Ar{constructor(a,o,c,u){super(a,o,c),this.classes=u,this.bookName="",this.bookTitle="",this.bookChapter="",this.bookLanguages=[],this.printEventsEmitter=new Rt,this.printerHandler=null,this.showSettings=!0}static builder(){return new vN("",null,null,mN.builder())}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}update(a){return a(this.classes),this}setBookName(a){return this.bookName=a,this}setBookTitle(a){return this.bookTitle=a,this}setBookChapter(a){return this.bookChapter=a,this}setBookLanguages(a){return this.bookLanguages=a,this}setEpubPrinterHandler(a){return this.printerHandler=a,this}setShowSettings(a){return this.showSettings=a,this}}const YVe=["booksViewTables"];function ZVe(l,a){1&l&&ye(0,"app-dynamic-errors",18),2&l&&U("data",J(2).bookTitleData)}const XVe=function(l,a){return{btn:!0,"btn-primary":l,"btn-primary-outline":a,"btn-block":!0}};function KVe(l,a){if(1&l){const o=Bt();A(0,"clr-accordion-panel",24),pe("clrAccordionPanelOpenChange",function(u){return dt(o),J(2).showSettings=u}),A(1,"clr-accordion-title"),we(2,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),I(),A(3,"clr-accordion-content"),ye(4,"app-dynamic-settings"),A(5,"div",25),A(6,"div",26),A(7,"div",27),A(8,"button",28),pe("click",function(){return dt(o),J(2).printBook()}),ye(9,"clr-icon",29),we(10," \u041f\u0435\u0447\u0430\u0442\u044c PDF "),I(),I(),A(11,"div",27),A(12,"button",30),pe("click",function(){return dt(o),J(2).printBookEpub()}),ye(13,"clr-icon",31),we(14," \u041f\u0435\u0447\u0430\u0442\u044c EPUB "),I(),I(),I(),I(),I(),I()}if(2&l){const o=J(2);U("clrAccordionPanelOpen",o.showSettings),z(12),U("ngClass",gc(2,XVe,!o.modalPrintEpubFlag,o.modalPrintEpubFlag))}}function QVe(l,a){if(1&l){const o=Bt();A(0,"clr-accordion-panel",24),pe("clrAccordionPanelOpenChange",function(u){return dt(o),J(2).showLanguages=u}),A(1,"clr-accordion-title"),we(2,"\u042f\u0437\u044b\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b"),I(),A(3,"clr-accordion-content"),ye(4,"app-dynamic-content-toolbar",18),I(),I()}if(2&l){const o=J(2);U("clrAccordionPanelOpen",o.showLanguages),z(4),U("data",o.toolbarLangData)}}function JVe(l,a){if(1&l){const o=Bt();A(0,"clr-accordion-panel",24),pe("clrAccordionPanelOpenChange",function(u){return dt(o),J(2).showChapters=u}),A(1,"clr-accordion-title"),we(2,"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435"),I(),A(3,"clr-accordion-content"),ye(4,"app-dynamic-content-toolbar",18),I(),I()}if(2&l){const o=J(2);U("clrAccordionPanelOpen",o.showChapters),z(4),U("data",o.toolbarData)}}const eze=function(l){return{"fade-in-3":!0,"no-print":l}};function tze(l,a){if(1&l&&(A(0,"div",3),ye(1,"app-dynamic-errors",18),Q(2,ZVe,1,1,"app-dynamic-errors",21),A(3,"clr-accordion",22),Q(4,KVe,15,5,"clr-accordion-panel",23),Q(5,QVe,5,2,"clr-accordion-panel",23),Q(6,JVe,5,2,"clr-accordion-panel",23),I(),I()),2&l){const o=J();U("ngClass",Ss(6,eze,!!o.changesDetectorBookDataText.oldRawValue)),z(1),U("data",o.errorsData),z(1),U("ngIf",o.toolbarLangData),z(2),U("ngIf",o.showSettings),z(1),U("ngIf",o.showLanguages),z(1),U("ngIf",o.showChapters&&!o.staticView)}}function nze(l,a){if(1&l){const o=Bt();A(0,"button",30),pe("click",function(){return dt(o),J(2).onPrev()}),we(1,"<<"),I()}2&l&&U("ngClass",J(2).getChapterButtonClass())}function ize(l,a){if(1&l){const o=Bt();A(0,"button",30),pe("click",function(){return dt(o),J(2).scrollToText()}),we(1),I()}if(2&l){const o=J(2);U("ngClass",o.getChapterButtonClass()),z(1),Sn(o.getCurrentChapterName())}}function rze(l,a){if(1&l){const o=Bt();A(0,"button",30),pe("click",function(){return dt(o),J(2).onNext()}),we(1,">>"),I()}2&l&&U("ngClass",J(2).getChapterButtonClass())}const sze=function(l){return{"clr-row":!0,"fade-in-3":!0,"bottom-top-space":!0,"no-print":l}};function oze(l,a){if(1&l&&(A(0,"div",3),A(1,"div",32),Q(2,nze,2,1,"button",33),I(),A(3,"div",27),Q(4,ize,2,2,"button",33),I(),A(5,"div",32),Q(6,rze,2,1,"button",33),I(),I()),2&l){const o=J();U("ngClass",Ss(4,sze,!!o.changesDetectorBookDataText.oldRawValue)),z(2),U("ngIf",o.bookSvc.isPrevEnabled()),z(2),U("ngIf",o.bookSvc.lineIndexes.length),z(2),U("ngIf",o.bookSvc.isNextEnabled())}}function aze(l,a){1&l&&(A(0,"div",36),A(1,"div",37),ye(2,"app-dynamic-spinner"),I(),I())}function lze(l,a){if(1&l&&(A(0,"span",3),we(1),I()),2&l){const o=a.$implicit;U("ngClass",o.classes),z(1),Sn(o.text)}}function cze(l,a){if(1&l&&(A(0,"div",3),Q(1,lze,2,2,"span",39),I()),2&l){const o=a.$implicit,c=a.index,u=J(3);U("ngClass",u.getColumnClass(c,u.bookSvc.books.length)),z(1),U("ngForOf",u.getBookFragments(c,o,-1))}}function uze(l,a){if(1&l&&(A(0,"div",38),Q(1,cze,2,2,"div",39),I()),2&l){const o=J(2);z(1),U("ngForOf",o.bookSvc.books)}}function hze(l,a){if(1&l){const o=Bt();A(0,"div",3),A(1,"span",30),pe("click",function(){dt(o);const u=J().$implicit;return J(2).selectLine(u)}),ye(2,"app-add-component",40),I(),I()}if(2&l){const o=a.$implicit,c=a.index,u=J().$implicit,h=J(2);U("ngClass",h.getColumnClass(c,h.bookSvc.books.length)),z(1),U("ngClass",h.getLineSelectionClass(u)),z(1),U("component",h.getComponent(o,u))}}function dze(l,a){if(1&l&&(A(0,"div",38),Q(1,hze,3,3,"div",39),I()),2&l){const o=J(2);z(1),U("ngForOf",o.bookSvc.books)}}function fze(l,a){if(1&l&&(A(0,"div"),Q(1,aze,3,0,"div",6),Q(2,uze,2,1,"div",34),Q(3,dze,2,1,"div",35),I()),2&l){const o=J();z(1),U("ngIf",!o.bookSvc.lineIndexes.length),z(1),U("ngIf",!o.hideUI),z(1),U("ngForOf",o.getBookIndexes(o.bookSvc.lineIndexes))}}function pze(l,a){1&l&&(A(0,"div",37),ye(1,"app-dynamic-spinner"),I())}function gze(l,a){if(1&l&&(A(0,"span",3),we(1),I()),2&l){const o=a.$implicit;U("ngClass",o.classes),z(1),Sn(o.text)}}function mze(l,a){if(1&l&&(A(0,"div",43),Q(1,gze,2,2,"span",39),I()),2&l){const o=a.$implicit,c=a.index,u=J(2);U("ngClass",u.getColumnClass(c,u.bookSvc.books.length))("hidden",u.hideUI),z(1),U("ngForOf",u.getBookFragments(c,o,-1))}}function vze(l,a){1&l&&(A(0,"span",46),we(1,"."),I())}function _ze(l,a){if(1&l){const o=Bt();A(0,"span",30),pe("click",function(){const h=dt(o).$implicit;return J(3).selectLine(h)}),A(1,"span"),ye(2,"app-add-component",40),I(),Q(3,vze,2,0,"span",45),I()}if(2&l){const o=a.$implicit,c=J().$implicit,u=J(2);U("ngClass",u.getLineSelectionClass(o)),z(2),U("component",u.getComponent(c,o)),z(1),U("ngIf",u.isSpaceAppended(c,o))}}function yze(l,a){if(1&l&&(A(0,"div",3),Q(1,_ze,4,3,"span",44),I()),2&l){const o=a.index,c=J(2);U("ngClass",c.getColumnClass(o,c.bookSvc.books.length)),z(1),U("ngForOf",c.getBookIndexes(c.bookSvc.lineIndexes))}}function bze(l,a){if(1&l&&(A(0,"div",36),Q(1,pze,2,0,"div",41),Q(2,mze,2,3,"div",42),Q(3,yze,2,2,"div",39),I()),2&l){const o=J();z(1),U("ngIf",!o.bookSvc.lineIndexes.length),z(1),U("ngForOf",o.bookSvc.books),z(1),U("ngForOf",o.bookSvc.books)}}function xze(l,a){1&l&&(A(0,"div",49),ye(1,"app-dynamic-spinner"),I())}function Cze(l,a){if(1&l&&(A(0,"span",3),we(1),I()),2&l){const o=a.$implicit;U("ngClass",o.classes),z(1),Sn(o.text)}}function wze(l,a){if(1&l&&(A(0,"div",3),A(1,"div",50),Q(2,Cze,2,2,"span",39),I(),I()),2&l){const o=a.$implicit,c=a.index,u=J(3);U("ngClass",u.getRowClass(c,u.bookSvc.books.length)),z(2),U("ngForOf",u.getBookFragments(c,o,-1))}}function Sze(l,a){if(1&l&&(A(0,"div",49),Q(1,wze,3,2,"div",39),I()),2&l){const o=J(2);z(1),U("ngForOf",o.bookSvc.books)}}function Tze(l,a){if(1&l){const o=Bt();A(0,"div",3),A(1,"div",50),A(2,"span",30),pe("click",function(){dt(o);const u=J().$implicit;return J(2).selectLine(u)}),ye(3,"app-add-component",40),I(),I(),I()}if(2&l){const o=a.$implicit,c=a.index,u=J().$implicit,h=J(2);U("ngClass",h.getRowClass(c,h.bookSvc.books.length)),z(2),U("ngClass",h.getLineSelectionClass(u)),z(1),U("component",h.getComponent(o,u))}}function Mze(l,a){if(1&l&&(A(0,"div",49),Q(1,Tze,4,3,"div",39),I()),2&l){const o=J(2);z(1),U("ngForOf",o.bookSvc.books)}}function Dze(l,a){if(1&l&&(A(0,"div"),Q(1,xze,2,0,"div",47),Q(2,Sze,2,1,"div",47),Q(3,Mze,2,1,"div",48),I()),2&l){const o=J();z(1),U("ngIf",!o.bookSvc.lineIndexes.length),z(1),U("ngIf",!o.hideUI),z(1),U("ngForOf",o.getBookIndexes(o.bookSvc.lineIndexes))}}function Eze(l,a){1&l&&(A(0,"div",37),ye(1,"app-dynamic-spinner"),I())}function kze(l,a){1&l&&(A(0,"span",46),we(1,"."),I())}function Aze(l,a){if(1&l&&(A(0,"span",3),we(1),I()),2&l){const o=a.$implicit;U("ngClass",o.classes),z(1),Sn(o.text)}}function Ize(l,a){if(1&l&&(A(0,"span",3),Q(1,kze,2,0,"span",45),Q(2,Aze,2,2,"span",39),I()),2&l){const o=a.$implicit,c=a.index,u=J(3);U("ngClass",u.getRowClass(c,u.bookSvc.books.length,!1)),z(1),U("ngIf",c>0),z(1),U("ngForOf",u.getBookFragments(c,o,-1))}}function Pze(l,a){if(1&l&&(A(0,"div",50),Q(1,Ize,3,3,"span",39),I()),2&l){const o=J(2);z(1),U("ngForOf",o.bookSvc.books)}}function Oze(l,a){1&l&&(A(0,"span",46),we(1,"."),I())}function Rze(l,a){if(1&l){const o=Bt();A(0,"span",3),A(1,"span",30),pe("click",function(){dt(o);const u=J().$implicit;return J(2).selectLine(u)}),Q(2,Oze,2,0,"span",45),ye(3,"app-add-component",40),I(),I()}if(2&l){const o=a.$implicit,c=a.index,u=J().$implicit,h=J(2);U("ngClass",h.getRowClass(c,h.bookSvc.books.length,!1)),z(1),U("ngClass",h.getLineSelectionClass(u)),z(1),U("ngIf",c>0||h.isLineIndexed(o,u)),z(1),U("component",h.getComponent(o,u))}}function Fze(l,a){if(1&l&&(A(0,"span"),Q(1,Rze,4,4,"span",39),I()),2&l){const o=J(2);z(1),U("ngForOf",o.bookSvc.books)}}function Lze(l,a){if(1&l&&(A(0,"div",51),Q(1,Eze,2,0,"div",41),Q(2,Pze,2,1,"div",52),A(3,"div",50),Q(4,Fze,2,1,"span",53),I(),I()),2&l){const o=J();z(1),U("ngIf",!o.bookSvc.lineIndexes.length),z(1),U("ngIf",!o.hideUI),z(2),U("ngForOf",o.getBookIndexes(o.bookSvc.lineIndexes))}}function Nze(l,a){if(1&l){const o=Bt();A(0,"button",30),pe("click",function(){return dt(o),J(2).onPrev()}),we(1,"<<"),I()}2&l&&U("ngClass",J(2).getChapterButtonClass())}function Bze(l,a){if(1&l){const o=Bt();A(0,"button",30),pe("click",function(){return dt(o),J(2).scrollToText()}),we(1),I()}if(2&l){const o=J(2);U("ngClass",o.getChapterButtonClass()),z(1),Sn(o.getCurrentChapterName())}}function Vze(l,a){if(1&l){const o=Bt();A(0,"button",30),pe("click",function(){return dt(o),J(2).onNext()}),we(1,">>"),I()}2&l&&U("ngClass",J(2).getChapterButtonClass())}const zze=function(l){return{"clr-row":!0,"fade-in-3":!0,"top-space":!0,"no-print":l}};function Uze(l,a){if(1&l&&(A(0,"div",3),A(1,"div",32),Q(2,Nze,2,1,"button",33),I(),A(3,"div",27),Q(4,Bze,2,2,"button",33),I(),A(5,"div",32),Q(6,Vze,2,1,"button",33),I(),I()),2&l){const o=J();U("ngClass",Ss(4,zze,!!o.changesDetectorBookDataText.oldRawValue)),z(2),U("ngIf",o.bookSvc.isPrevEnabled()),z(2),U("ngIf",o.bookSvc.lineIndexes.length),z(2),U("ngIf",o.bookSvc.isNextEnabled())}}function Hze(l,a){if(1&l){const o=Bt();A(0,"div",54),A(1,"div",27),A(2,"button",55),pe("click",function(){return dt(o),J().printBook()}),ye(3,"clr-icon",56),we(4,"\u041f\u0435\u0447\u0430\u0442\u044c PDF"),I(),I(),A(5,"div",27),A(6,"button",55),pe("click",function(){return dt(o),J().printBookEpub()}),ye(7,"clr-icon",57),we(8,"\u041f\u0435\u0447\u0430\u0442\u044c EPUB"),I(),I(),I()}}function Gze(l,a){if(1&l){const o=Bt();A(0,"button",15),pe("click",function(){return dt(o),J().modalPrintEpubFlag=!1}),ye(1,"clr-icon",58),we(2," \u041e\u0442\u043c\u0435\u043d\u0430"),I()}}function Wze(l,a){if(1&l){const o=Bt();A(0,"button",14),pe("click",function(){return dt(o),J().onStartPrintEpub()}),ye(1,"clr-icon",56),we(2," \u041f\u0435\u0447\u0430\u0442\u0430\u0442\u044c"),I()}}class cM{constructor(a){this.transformers=a}static builder(){return new cM([])}addTransformer(a){return this.transformers.push(a),this}transform(a){let o=a;return this.transformers.forEach(c=>o=c.transform(o)),o}}class uM{static builder(){return new uM}transform(a){let o="";for(let c=0;c<a.length;c++){let u=a.charAt(c);o+="["==u?"{\u043a}"+u:"]"==u?u+"{/\u043a}":u}return o}}class hM{constructor(a=200){this.maxStringLength=a}static builder(){return new hM}getIndexCount(a,o){let c=0,u=0;for(;u<a.length;){let h=a.indexOf(o,u);h<0?u=a.length:(++c,u=h+o.length)}return c}transform(a){let o=a.indexOf(":"),c=a;if(o>=0&&o<=this.maxStringLength&&o+1==a.length){let u=a.substring(0,o+1),h=u.toLowerCase();[{str:".",count:0},{str:"/",count:0}].map(d=>this.getIndexCount(h,d.str)<=d.count).reduce((d,f)=>f&&d,!0)&&[{str:"\u0442\u0440\u043e\u043f\u0430\u0440",count:1},{str:"\u043a\u043e\u043d\u0434\u0430\u043a",count:1},{str:"\u0433\u043b\u0430\u0441",count:1}].map(d=>this.getIndexCount(h,d.str)>=d.count).reduce((d,f)=>f||d,!1)&&(u.startsWith("*")&&(u=u.substring(1)),c=`{\u043a}${u}{/\u043a}${a.substring(o+1)}`)}return c}}class _N{constructor(a){this.search=a,this.includeWords=[],this.excludeWords=[]}static builder(){return new _N("")}setup(){let a=this.search.split(/\s+/);this.includeWords=[],this.excludeWords=[];for(let o=0;o<a.length;++o)if("\u041d\u0415"==a[o]){if(o+1<a.length){let c=a[++o].trim();c&&this.excludeWords.push(c.toLowerCase())}}else a[o].trim()&&this.includeWords.push(a[o].trim().toLowerCase())}setSearch(a){return this.search=a,this.setup(),this}startsWith(a,o,c){let u="";return c.forEach(h=>{a.startsWith(h,o)&&u.length<h.length&&(u=h)}),u}transform(a){if(0==this.includeWords.length)return a;let o=a.toLowerCase(),c="",u=-1,h=d=>{let f=0;if(u>=0){let p=a.substring(u,d);c+=p,f=p.length,u=-1}return f};for(let d=0;d<a.length;){let f=this.startsWith(o,d,this.includeWords);if(f){let p=d;h(d),c+=`{\u043a}${a.substring(p,p+f.length)}{/\u043a}`,d+=f.length}else u<0&&(u=d),++d}return h(a.length),c}}let cf=(()=>{class l{constructor(o,c,u,h,d,f,p){this.config=o,this.uiConfig=c,this.cacheService=u,this.bookmarksSvc=h,this.memorialSvc=d,this.themeSvc=f,this.audioSvc=p,this.ready=!1,this.bookTitleData=Qp.builder(),this.errorsData=Qp.builder(),this.stgShowSettings=Zp.builder(),this.stgLanguages=Zp.builder(),this.stgChapters=Zp.builder(),this.allSettings=qT.builder().add(this.stgShowSettings).add(this.stgLanguages).add(this.stgChapters),this.changesDetectorSendReadyMessage=ys.builder(),this.changesDetectorBookDataText=ys.builder(),this.changesDetectorFacePage=ys.builder(),this.changesDetectorErrors=ys.builder(),this.changesDetectorNewTitle=ys.builder(),this.changesDetectorRequestedPrintLogName=ys.builder(),this.changesDetectorLanguages=ys.builder(),this.changesDetectorChapters=ys.builder(),this.changesDetectorChapters2=ys.builder(),this.changesDetectorChapters3=ys.builder(),this.menuLinksOld=null,this.menuLinks=null,this.dToolbarLangData=Ql.builder().setItems([]).setOnClick(g=>{g.setSelected(!g.selected),this.bookSvc.toggleLanguage(g.tag).reloadBooks(),this.saveChapter()}),this.dToolbarData=Ql.builder().setItems([]).setOnClick(g=>{if(this.toolbarData.items.forEach(m=>m.setSelected(m===g)),"\u0412\u0441\u0435"==g.text){let m=this.bookSvc.getShortBookName(null),v=this.bookSvc.bookContent.length?this.bookSvc.bookContent[0]:null;if(v){let y=v.parsed.content.map(b=>`${m}.${b.name}:1-1000!/*\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.div('\u0440\u0430\u0437\u0440\u044b\u0432\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b\u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u043b\u044c\u043a\u043e\u041f\u0440\u0438\u041f\u0435\u0447\u0430\u0442\u0438', '', '');*/`).join("\r\n");this.changesDetectorBookDataText.checkAndUpdate(y),this.bookSvc.loadBookByPageText(y,!1,"")}}else this.changesDetectorBookDataText.checkAndUpdate(""),this.bookSvc.bookContent.length?this.bookSvc.loadPage(g.text):this.config.post(()=>{this.uiConfig.ui.currentChapter.setStringValue(g.text),this.bookSvc.clear(void 0,void 0,void 0,void 0,!0),this.reload()});this.saveChapter()}),this.startLineSelection=-1,this.endLineSelection=-1,this.modalAddBookmarkFlag=!1,this.modalPrintEpubFlag=!1,this.printEpubData=vN.builder(),this.printEpubDataEventsSubscription=null,this.printing=!1,this.requestedPrintLogName="",this.printLogName="\u041a\u043d\u0438\u0433\u0438",this.workerSvc=Ho.builder(),this.bookServerSvc=new tL((g,m)=>{this.config.post(()=>{this.bookSvc.post(g,m)})}),this.bookSvc=new gN((g,m)=>{this.config.post(()=>{this.workerSvc.enabled()?this.workerSvc.sendMessage(m):this.bookServerSvc.post(g,m)})}),this.handleMemorialNewTitleTargetSubscriptioin=null}get showSettings(){return this.stgShowSettings.enabled}set showSettings(o){this.stgShowSettings.setEnabled(o)}get showLanguages(){return this.stgLanguages.enabled}set showLanguages(o){this.stgLanguages.setEnabled(o)}get showChapters(){return this.stgChapters.enabled}set showChapters(o){this.stgChapters.setEnabled(o)}get toolbarLangData(){return this.syncToolbarData(),this.dToolbarLangData}get toolbarData(){return this.syncToolbarData(),this.dToolbarData}get staticView(){return this.bookData.link&&(this.bookData.link.textIsPage||this.bookData.link.chapter&&(this.bookData.link.startLine>0||this.bookData.link.endLine>0))}get hideUI(){return this.bookData.hideUI}get showPrintButtons(){return this.bookData.showPrintButtons}getMenuLinks(){return this.menuLinks||(this.menuLinks=this.bookData.menuLinks,null!=this.menuLinks||(this.menuLinks=[],["\u043c\u0435\u043d\u044e","\u043a\u043d\u0438\u0433\u0430","\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438","\u0441\u043f\u0440\u0430\u0432\u043a\u0430"].forEach(o=>{switch(o){case"\u043c\u0435\u043d\u044e":this.menuLinks.push(Wi.builder().setLink("#").setName("\u041c\u0435\u043d\u044e").setShape("cog").setOnClick(()=>{this.config.post(()=>{this.bookData.link.route("")},0)}).setIsActive(()=>!1));break;case"\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a":this.menuLinks.push(Wi.builder().setLink("#").setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a").setShape("users").setOnClick(()=>{this.config.post(()=>{this.bookData.link.route("")},0)}).setIsActive(()=>!1));break;case"\u043a\u043d\u0438\u0433\u0430":this.menuLinks.push(Wi.builder().setLink("#").setName("\u041a\u043d\u0438\u0433\u0430").setShape("book").setIsActive(()=>!0));break;case"\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438":this.menuLinks.push(Wi.builder().setLink("#").setName("\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438").setShape("bookmark").setOnClick(()=>{this.config.post(()=>{this.bookData.link.route("\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438")},0)}).setIsActive(()=>!1));break;case"\u0441\u043f\u0440\u0430\u0432\u043a\u0430":this.menuLinks.push(Wi.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.config.post(()=>{this.bookData.link.route("\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP")},0)}).setIsActive(()=>{var c;let u=null===(c=this.bookSvc.bookInfo)||void 0===c?void 0:c.settings.find(h=>"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"==h.name.toLowerCase());return!!u&&"\u0421\u043f\u0440\u0430\u0432\u043a\u0430"==u.value}))}}))),this.menuLinks}saveChapter(){var o,c;if(this.bookSvc.bookChapter){this.uiConfig.ui.currentChapter.setStringValue(this.bookSvc.bookChapter.name),this.uiConfig.ui.currentLanguages.setStringValue(this.bookSvc.bookLanguages.join("|"));let u=null===(o=this.bookSvc.bookInfo)||void 0===o?void 0:o.settings.find(f=>"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"==f.name.toLowerCase()),h=null===(c=this.bookSvc.libraryInfo)||void 0===c?void 0:c.content.find(f=>f.name==this.bookSvc.bookName),d=h?h.path2[0]+". "+this.bookSvc.bookChapter.name:"";this.uiConfig.ui.currentBookName.setStringValue(u?u.value:""),this.uiConfig.ui.currentBookLink.setStringValue(d)}}get parallel(){return null!=this.bookData.parallel?this.bookData.parallel:this.uiConfig.ui.parallel.getAndVerifyBooleanValue()}get lineBreaks(){return null!=this.bookData.linebreaks?this.bookData.linebreaks:this.uiConfig.ui.lineBreaks.getAndVerifyBooleanValue()}get bookData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}ngOnInit(){this.bookData.printerHandler.setHandler(o=>this.onPrintEpub(o)),this.bookSvc.onNewTitleEvent.setOnEventHandler((o,c)=>this.requestedPrintLogName=""+c),this.bookData.handleMemorialNewTitleTarget&&(this.handleMemorialNewTitleTargetSubscriptioin&&this.handleMemorialNewTitleTargetSubscriptioin.unsubscribe(),this.handleMemorialNewTitleTargetSubscriptioin=this.config.messageBus.addTargetHandler(this.bookData.handleMemorialNewTitleTarget,o=>{"MemorialNewTitle"===o.type&&this.config.post(()=>{this.requestedPrintLogName=""+o.text})}))}ngOnDestroy(){this.handleMemorialNewTitleTargetSubscriptioin&&(this.handleMemorialNewTitleTargetSubscriptioin.unsubscribe(),this.handleMemorialNewTitleTargetSubscriptioin=null),this.bookSvc.onNewTitleEvent.setOnEventHandler(null),this.bookSvc.onPageLoadEvent.setOnEventHandler(null),this.workerSvc.unsubscribe(),this.staticView||this.config.post(()=>{this.menuLinksOld&&this.menuLinksOld.unsubscribe()},0),this.bookSvc.onDestroy()}ngAfterViewInit(){this.changesDetectorSendReadyMessage.checkAndUpdate(!1),this.memorialSvc.isReady().then(o=>{o.success?this.memorialSvc.getMemorials()?this.onMyInit():this.memorialSvc.reloadMemorials(()=>{this.onMyInit()}):this.onMyInit()},o=>{this.onMyInit()})}onMyInit(){this.clearSelection(),(!this.staticView||this.bookData.forceMenu)&&this.config.post(()=>{this.menuLinksOld=this.uiConfig.setAppRoutes(this.getMenuLinks())},0),this.bookTitleData.setActions([yl.builder().setText("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438").setOnClick(()=>{this.showSettings=!this.showSettings}),yl.builder().setText("\u0413\u043b\u0430\u0432\u044b").setEnabled(!this.staticView).setOnClick(()=>{this.showChapters=!this.showChapters}),yl.builder().setText("\u042f\u0437\u044b\u043a\u0438").setOnClick(()=>{this.showLanguages=!this.showLanguages})]),this.workerSvc.enabled()?this.workerSvc.setOnMessage(o=>{this.config.post(()=>{this.bookSvc.post(null,o)})}):this.bookServerSvc.setCacheService(new eL(new Ew)),this.bookSvc.setLineTransformer(this.bookData.search?cM.builder().addTransformer(uM.builder()).addTransformer(hM.builder()).addTransformer(_N.builder().setSearch(this.bookData.search)):cM.builder().addTransformer(uM.builder()).addTransformer(hM.builder())),this.bookSvc.onPageLoadEvent.setOnEventHandler(o=>{this.config.post(()=>this.scrollToText(),100)}),this.bookSvc.onRouteEvent.setOnEventHandler((o,c)=>{this.config.post(()=>this.bookData.link.route(c),100)}),this.bookSvc.setUIConfig(this.uiConfig).setConfig(this.config).setMemorial(this.memorialSvc).setAudio(this.audioSvc),this.changesDetectorFacePage.checkAndUpdate(this.uiConfig.ui.showFacePage.getBooleanValue()),this.reload(),this.ready=!0}reload(){let o=this.bookData.link.languages&&this.bookData.link.languages.length>0?this.bookData.link.languages:this.uiConfig.ui.currentLanguages.getStringValue().split("|").filter(c=>!!c);this.bookData.link.textIsPage?(this.changesDetectorBookDataText.checkAndUpdate(this.bookData.text),this.bookSvc.loadBookByPageText(this.bookData.text)):this.bookSvc.loadBookByName(this.bookData.text,o,this.staticView?this.bookData.link.chapter:this.uiConfig.ui.currentChapter.getStringValue())}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){return{}}showMenu(){this.bookData&&this.bookData.link&&this.bookData.link.route&&this.bookData.link.route("")}getColumnClass(o,c){var u,h,d,f;let p=12,g=p/c,m=0;for(let _=0;_<=o;_++)m=_%2?Math.floor(g):Math.ceil(g),m>p&&(m=p),p-=m;let v={};return v["clr-col-"+m]=!0,v["bg-3"]=o%2&&this.uiConfig.ui.coloredTranslations.getBooleanValue(),v.altText=o%2,v.cs=null===(h=null===(u=this.bookSvc.bookContent[o])||void 0===u?void 0:u.parsed)||void 0===h?void 0:h.settings.find(_=>"\u044f\u0437\u044b\u043a"===_.name.toLowerCase()&&"\u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u0438\u0439"===_.value.toLowerCase()),v.cs2=null===(f=null===(d=this.bookSvc.bookContent[o])||void 0===d?void 0:d.parsed)||void 0===f?void 0:f.settings.find(_=>"\u044f\u0437\u044b\u043a"===_.name.toLowerCase()&&"\u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u0438\u0439-ucs8"===_.value.toLowerCase()),v["s"+this.uiConfig.ui.fontSize.getStringValue()]=!0,v["fade-in-3"]=!0,v}getRowClass(o,c,u=!0){var h,d,f,p;let g=12,m=g/c,v=0;for(let y=0;y<=o;y++)v=y%2?Math.floor(m):Math.ceil(m),v>g&&(v=g),g-=v;let _={};return _["clr-row"]=u,_["bg-3"]=o%2&&this.uiConfig.ui.coloredTranslations.getBooleanValue(),_.altText=o%2,_.cs=null===(d=null===(h=this.bookSvc.bookContent[o])||void 0===h?void 0:h.parsed)||void 0===d?void 0:d.settings.find(y=>"\u044f\u0437\u044b\u043a"===y.name.toLowerCase()&&"\u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u0438\u0439"===y.value.toLowerCase()),_.cs2=null===(p=null===(f=this.bookSvc.bookContent[o])||void 0===f?void 0:f.parsed)||void 0===p?void 0:p.settings.find(y=>"\u044f\u0437\u044b\u043a"===y.name.toLowerCase()&&"\u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u0438\u0439-ucs8"===y.value.toLowerCase()),_["s"+this.uiConfig.ui.fontSize.getStringValue()]=!0,_["fade-in-3"]=!0,_}translateLanguageName(o){let c=o.replace(/\u0426\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u0438\u0439/gi,"\u0426\u0421");return c=c.replace(/\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u043a\u0438\u0439/gi,"\u0413\u0440"),c=c.replace(/\u0420\u0443\u0441\u0441\u043a\u0438\u0439/gi,"\u0420\u0443\u0441"),c}syncToolbarData(){var o,c;if(this.bookData.link.textIsPage&&this.changesDetectorBookDataText.checkAndUpdate(this.bookData.text))return void this.config.post(()=>{this.bookSvc.loadBookByPageText(this.bookData.text)});if(this.ready&&this.changesDetectorFacePage.checkAndUpdate(this.uiConfig.ui.showFacePage.getBooleanValue()))return void this.config.post(()=>{this.bookSvc.clear(!0,!0,[],!0,!0),this.reload()});let u=this.changesDetectorErrors.checkAndUpdate(this.bookSvc.errors),h=!1,d="";if(this.bookSvc.bookInfo){if(this.requestedPrintLogName)d=this.requestedPrintLogName;else{d=this.bookSvc.getBookTitleName();let g=this.bookSvc.getChapterTitleName();d&&g&&(d+=": "+g)}h=this.changesDetectorNewTitle.checkAndUpdate(d)}else h=this.changesDetectorNewTitle.checkAndUpdate("")||this.changesDetectorRequestedPrintLogName.checkAndUpdate(this.requestedPrintLogName),h&&(d=this.requestedPrintLogName?this.requestedPrintLogName:this.config.getApplication().name);let f=this.changesDetectorLanguages.checkAndUpdate(null===(o=this.bookSvc.bookInfo)||void 0===o?void 0:o.content),p=this.changesDetectorChapters.checkAndUpdate(this.bookSvc.bookContent)||this.changesDetectorChapters2.checkAndUpdate(this.bookSvc.bookContent.length)||this.changesDetectorChapters3.checkAndUpdate(null===(c=this.bookSvc.bookChapter)||void 0===c?void 0:c.name);(u||h||f||p)&&this.config.post(()=>{u&&this.syncErrors(),h&&this.syncBookTitleData(d,d?[d]:[]),f&&this.syncLanguages(),p&&this.syncChapters()})}syncErrors(){this.errorsData.setErrors(this.bookSvc.errors)}syncBookTitleData(o,c){this.printLogName=o,this.bookTitleData.errors[0]!=o&&(this.bookTitleData.setErrors(c),this.bookTitleData.classes.setAlertClass("alert-success").setAlertShape(""))}syncLanguages(){var o;this.dToolbarLangData.items.length!=(null===(o=this.bookSvc.bookInfo)||void 0===o?void 0:o.content.length)&&this.dToolbarLangData.setItems([]),this.bookSvc.bookInfo&&this.bookSvc.bookInfo.content.forEach((c,u)=>{u+1>this.dToolbarLangData.items.length?this.dToolbarLangData.items.push(xo.builder().setText(this.translateLanguageName(c.name)).setTag(c.name).setSelected(this.bookSvc.isLanguageEnabled(c.name))):this.dToolbarLangData.items[u].setText(this.translateLanguageName(c.name)).setTag(c.name).setSelected(this.bookSvc.isLanguageEnabled(c.name))})}syncChapters(){let o=this.bookSvc.bookContent.length?this.bookSvc.bookContent[0]:null;if(o){let c=1,u=o.parsed.content;c+u.length!=this.dToolbarData.items.length&&(this.dToolbarData.items=[]),0==this.dToolbarData.items.length?this.dToolbarData.items.push(xo.builder().setText("\u0412\u0441\u0435").setTag("\u0412\u0441\u0435")):this.dToolbarData.items[0].setText("\u0412\u0441\u0435").setSelected(!1),u.forEach((h,d)=>{var f;d+1+c>this.dToolbarData.items.length?this.dToolbarData.items.push(xo.builder().setText(h.name).setSelected(!1)):this.dToolbarData.items[d+c].setText(h.name).setSelected((null===(f=this.bookSvc.bookChapter)||void 0===f?void 0:f.name)===h.name)}),null==this.dToolbarData.items.find(h=>h.selected)&&this.dToolbarData.items.length&&this.dToolbarData.items[0+c].setSelected(!0)}}getBookFragments(o,c,u){var h,d;let f=null===(d=null===(h=this.bookSvc.bookContent[o])||void 0===h?void 0:h.parsed)||void 0===d?void 0:d.settings.find(v=>"\u044f\u0437\u044b\u043a"===v.name.toLowerCase()),p=f?f.value:"";p=p||(this.bookSvc.bookLanguages.length?this.bookSvc.bookLanguages[0]:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"),p.endsWith("-UCS8")&&(p=p.substring(0,p.length-5));let g=this.uiConfig.ui.coloredTranslations.getBooleanValue();return u<0?[Xs.builder().setText(p).setClasses({red:!(g&&o%2),redDark:g&&!!(o%2)})]:c.\u0441\u0442\u0440\u043e\u043a\u0438[u].fragments}isSpaceAppended(o,c){return o.\u0441\u0442\u0440\u043e\u043a\u0438[c].fragments.length>0&&c+1!=this.bookSvc.lineIndexes.length}isLineIndexed(o,c){return c>0&&o.\u0441\u0442\u0440\u043e\u043a\u0438[c].fragments.length>0&&o.\u0441\u0442\u0440\u043e\u043a\u0438[c].\u0438\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430}clearSelection(){return this.startLineSelection=this.endLineSelection=-1,this}onPrev(){this.clearSelection(),this.bookSvc.loadPrevPage(),this.saveChapter()}onNext(){this.clearSelection(),this.bookSvc.loadNextPage(),this.saveChapter()}getCurrentChapterName(){return this.bookSvc.bookChapter?this.bookSvc.bookChapter.name:"\u041c\u0435\u043d\u044e"}scrollToText(){this.staticView||(this.booksViewTables.nativeElement.scrollIntoView(!0),this.saveChapter()),this.changesDetectorSendReadyMessage.checkAndUpdate(!0)&&this.config.messageBus.putMessage(Om.builder().setSender(this.bookData.id).setTarget(this.bookData.targetId))}getChapterButtonClass(){let o={btn:!0,"btn-block":!0,"btn-link":!0,greenBtn:!0};return o["hs"+this.uiConfig.ui.fontSize.getStringValue()]=!0,o}isLineSelected(o,c=!1,u=!0){let h=this.bookSvc.getShortBookName(),d=pv.builder(),f=c&&this.bookmarksSvc.getBookmarks().map(g=>{let m=d.parse(g);if(m&&m.length&&m[0].length){let v=m[0][0];if(v.type===za.Link)return v}return null}).filter(g=>null!=g).filter(g=>g.name===h).filter(g=>{var m;return(null===(m=this.bookSvc.bookChapter)||void 0===m?void 0:m.name)==""+g.startChapter}).filter(g=>(g.startLine<0||g.startLine<=o)&&(g.endLine<0||o<=g.endLine)).length>0,p=this.startLineSelection>=0&&this.startLineSelection==o||this.startLineSelection>=0&&this.startLineSelection<=o&&this.endLineSelection>=0&&o<=this.endLineSelection;return!this.staticView&&(f&&!p||u&&p)}isSelectionEnabled(){return!this.staticView&&"\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP"!=this.bookSvc.bookName}getLineSelectionClass(o){let c=this.isSelectionEnabled();return{"bg-4":c&&this.isLineSelected(o,!1,!0),"bg-5":c&&this.isLineSelected(o,!0,!1),cursor:c&&!this.staticView}}getComponent(o,c){return o.\u0441\u0442\u0440\u043e\u043a\u0438[c].\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442}getBookIndexes(o){let c=0;!this.bookData.link.logical&&this.bookSvc.books.length&&(c=Math.max(0,1-this.bookSvc.books[0].\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445\u0421\u0442\u0440\u043e\u043a));let u=this.bookData.link.startLine>=0?this.bookData.link.startLine:0,h=this.bookData.link.endLine>=0?this.bookData.link.endLine:this.bookData.link.startLine>=0?this.bookData.link.startLine:1e3;return 0==u&&1e3==h?o:o.filter(d=>u<=d+c&&d+c<=h)}selectLine(o){if(this.hideUI||!this.isSelectionEnabled())return this;if(this.startLineSelection<0)this.startLineSelection=o,this.endLineSelection=-1;else if(this.startLineSelection==o)this.endLineSelection=o,this.modalAddBookmarkFlag=!0;else if(this.endLineSelection<0){this.endLineSelection=o;let c=Math.min(this.startLineSelection,this.endLineSelection);this.endLineSelection=Math.max(this.startLineSelection,this.endLineSelection),this.startLineSelection=c}else this.isLineSelected(o,!1,!0)?this.modalAddBookmarkFlag=!0:(this.startLineSelection=-1,this.endLineSelection=-1);return this}onAddBookmark(){var o;if(this.startLineSelection>0){let c=this.bookSvc.getShortBookName();this.bookmarksSvc.addBookmark(c,null===(o=this.bookSvc.bookChapter)||void 0===o?void 0:o.name,this.startLineSelection,this.endLineSelection),this.startLineSelection=this.endLineSelection=-1}return this.modalAddBookmarkFlag=!1,this}onNotAddBookmark(){this.startLineSelection=this.endLineSelection=-1,this.modalAddBookmarkFlag=!1}getAllTextClass(){return this.syncToolbarData(),{ftext:this.uiConfig.ui.fineText.getBooleanValue()}}printBook(){let o=this.bookSvc.getBookTitleName(),c=this.bookSvc.getChapterTitleName();o&&c&&(o+=": "+c),this.themeSvc.printWindow(o)||window.print()}printBookEpub(){var o;let c=this.bookSvc.bookName;c&&(this.printEpubData.setBookName(c).setBookTitle(this.bookTitleData.errors.length?this.bookTitleData.errors[0]:this.bookSvc.bookName).setBookChapter(this.bookSvc.bookChapter?this.bookSvc.bookChapter.name:"").setBookLanguages(this.bookSvc.bookLanguages).setEpubPrinterHandler(this.bookData.printerHandler).setShowSettings(!this.bookData.autoPrint),null===(o=this.printEpubDataEventsSubscription)||void 0===o||o.unsubscribe(),this.printEpubDataEventsSubscription=this.printEpubData.printEventsEmitter.subscribe({next:u=>{"stop"==u?(this.onStopPrintEpub(),this.printing=!1):(u="print")&&(this.printing=!0)}}),this.modalPrintEpubFlag=!0,this.bookData.autoPrint&&this.config.post(()=>{this.onStartPrintEpub()},500))}onStartPrintEpub(){this.printEpubData.printEventsEmitter.emit("print")}onStopPrintEpub(){this.modalPrintEpubFlag=!1}onPrintEpub(o){var c;let u=this.bookSvc.bookName.indexOf("VZ")>=0||this.bookSvc.bookName.indexOf("NZ")>=0,h=this.bookSvc.getChapterTitleName();!h&&this.bookSvc.bookChapter&&(h=null===(c=this.bookSvc.bookChapter)||void 0===c?void 0:c.name);let d="\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c VZ_KU"==this.bookSvc.bookName?"\u041f\u0441\u0430\u043b\u043e\u043c":"\u0413\u043b\u0430\u0432\u0430";h||(h=this.config.getApplication().name,d="");let f=()=>hv.builder().setName(this.bookTitleData.errors.length?this.bookTitleData.errors[0]:this.bookSvc.bookName).setBookNames(this.bookSvc.bookLanguages).setPsalomName(d).setAllBooksChapters([]).setAllBooks([[]]).setEmptyFirstLines([[0]]).setShowLineIndexes(u),p=f(),g=()=>{if(p.allBooks.length>1||p.allBooks[0].length>0){let v=p.allBooks.map((_,y)=>_.map((b,C)=>b.length>p.emptyFirstLines[y][C]).reduce((b,C,x,w)=>b||C,!1)).reduce((_,y,b,C)=>_||y,!1);!v&&0===o.requestsPack.length&&(v=this.bookSvc.getBookTitleName()!=p.name,p.setShowMiddleContent(!1)),v&&o.addRequest(p)}p=f()},m=(v,_,y)=>{let b="",C=!0,x=0,w=null,S=(M,T=!1)=>{if(w&&w.length>0){let E=v().allBooks.length-1,k=v().allBooks[E];for(;y+1>k.length;)k.push([]);let R=k[y];if(R&&R.push(...w),0==y)for(;E+1>v().allBooksChapters.length;)v().allBooksChapters.push(`${h}`);w=null,T&&g()}};_.\u0441\u0442\u0440\u043e\u043a\u0438.forEach((M,T)=>{let E=!0,R=!1,D=(F=!1,L=!1)=>{R||(E&&(null==w&&(w=[]),(C&&T-x==0||!b)&&++v().emptyFirstLines[v().emptyFirstLines.length-1][y],w.push(b)),E=!0,b="",C=!0,F&&(S(0,L),x=T),R=!0)},P=F=>{R=!1,b+=F.text,C=C&&(!F.text||(F=>!(!(null==F?void 0:F.red)&&!(null==F?void 0:F.redDark)))(F.classes));let L=$=>{var Y,O,V;if($.component===l){let B=$.data;D(!0,!0),B.printerHandler.print(o)}else if($.component===bL){let B=$.data;(null===(Y=B.config.link)||void 0===Y?void 0:Y.link)&&(b+=`${B.config.link.link.name}.${B.config.link.link.startChapter}:${B.config.link.link.startLine}-${B.config.link.link.endLine}`.replace("-1000","+"),C=!1),(null===(V=null===(O=B.config.link)||void 0===O?void 0:O.link)||void 0===V?void 0:V.opened)&&(D(!0,!0),B.printerHandler.print(o))}else if($.component===eM){let B=$.data;if(B.config.book){D(!0,!0);let G=hv.builder().setName(this.bookTitleData.errors.length?this.bookTitleData.errors[0]:this.bookSvc.bookName).setPsalomName("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c VZ_KU"==this.bookSvc.bookName?"\u041f\u0441\u0430\u043b\u043e\u043c":"\u0413\u043b\u0430\u0432\u0430").setBookNames(this.bookSvc.bookLanguages).setAllBooksChapters([`${h}`]).setAllBooks([[]]).setEmptyFirstLines([[0]]).setShowLineIndexes(!0);m(()=>G,B.config.book,0)}}else if($.component===lte){let B=$.data;D(!0,!0),B.printerHandler.print(o)}else if($.component===aN){let B=$.data;B.components.length&&B.components.forEach(G=>L(G))}};F.component&&L(F.component)};R=!1,M.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b.forEach(F=>{P(F)}),D()}),S()};this.bookSvc.books.forEach((v,_)=>{m(()=>p,v,_)}),g()}}return l.\u0275fac=function(o){return new(o||l)(N(kn),N($i),N(Yp),N(fv),N(cv),N(Vu),N(gv))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-library-book"]],viewQuery:function(o,c){if(1&o&&An(YVe,5),2&o){let u;kt(u=At())&&(c.booksViewTables=u.first)}},inputs:{data:"data"},decls:34,vars:16,consts:[[3,"click"],[3,"enabled","name"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["booksViewTables",""],[4,"ngIf"],["class","clr-row mainText",4,"ngIf"],["class","mainText fade-in-3 clr-row",4,"ngIf"],["class","clr-row no-print top-space fade-in-3",4,"ngIf"],[1,"s0",3,"clrModalOpen","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],["shape","add-text"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["shape","times"],[1,"bottom-space"],[3,"data"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],[3,"data",4,"ngIf"],[1,"no-print"],["class","fade-in-3",3,"clrAccordionPanelOpen","clrAccordionPanelOpenChange",4,"ngIf"],[1,"fade-in-3",3,"clrAccordionPanelOpen","clrAccordionPanelOpenChange"],[1,"bottom-top-space"],[1,"clr-row"],[1,"clr-col-6"],[1,"btn","btn-primary","btn-block",3,"click"],["shape","printer",1,"is-solid"],[3,"ngClass","click"],["shape","book",1,"is-solid"],[1,"clr-col-3","no-print"],[3,"ngClass","click",4,"ngIf"],["class","clr-row mainText fade-in-3",4,"ngIf"],["class","clr-row mainText fade-in-3",4,"ngFor","ngForOf"],[1,"clr-row","mainText"],[1,"clr-col-12","fade-in-3"],[1,"clr-row","mainText","fade-in-3"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"component"],["class","clr-col-12 fade-in-3",4,"ngIf"],[3,"ngClass","hidden",4,"ngFor","ngForOf"],[3,"ngClass","hidden"],[3,"ngClass","click",4,"ngFor","ngForOf"],["class","hidden",4,"ngIf"],[1,"hidden"],["class","mainText fade-in-3",4,"ngIf"],["class","mainText fade-in-3",4,"ngFor","ngForOf"],[1,"mainText","fade-in-3"],[1,"clr-col-12"],[1,"mainText","fade-in-3","clr-row"],["class","clr-col-12",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"clr-row","no-print","top-space","fade-in-3"],["type","button",1,"btn","btn-link","btn-block",3,"click"],["shape","printer"],["shape","book"],["shape","ban"]],template:function(o,c){1&o&&(A(0,"div",0),pe("click",function(h){return h.stopPropagation()}),ye(1,"app-print-logo",1),Q(2,tze,7,8,"div",2),Q(3,oze,7,6,"div",2),A(4,"div",3,4),Q(6,fze,4,3,"div",5),Q(7,bze,4,3,"div",6),Q(8,Dze,4,3,"div",5),Q(9,Lze,5,3,"div",7),Q(10,Uze,7,6,"div",2),Q(11,Hze,9,0,"div",8),I(),A(12,"clr-modal",9),pe("clrModalOpenChange",function(h){return c.modalAddBookmarkFlag=h}),A(13,"h3",10),we(14,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),I(),A(15,"div",11),ye(16,"clr-icon",12),we(17," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438? "),I(),A(18,"div",13),A(19,"button",14),pe("click",function(){return c.onAddBookmark()}),ye(20,"clr-icon",12),we(21,"\u0414\u0430"),I(),A(22,"button",15),pe("click",function(){return c.onNotAddBookmark()}),ye(23,"clr-icon",16),we(24,"\u041d\u0435\u0442"),I(),I(),I(),A(25,"clr-modal",9),pe("clrModalOpenChange",function(h){return c.modalPrintEpubFlag=h}),A(26,"h3",10),we(27,"\u041f\u0435\u0447\u0430\u0442\u044c EPUB"),I(),A(28,"div",11),A(29,"div",17),ye(30,"app-dynamic-print-epub",18),I(),I(),A(31,"div",13),Q(32,Gze,3,0,"button",19),Q(33,Wze,3,0,"button",20),I(),I(),I()),2&o&&(z(1),U("enabled",c.bookData.facePage)("name",c.printLogName),z(1),U("ngIf",!c.hideUI),z(1),U("ngIf",!c.staticView),z(1),U("ngClass",c.getAllTextClass()),z(2),U("ngIf",c.parallel&&c.lineBreaks),z(1),U("ngIf",c.parallel&&!c.lineBreaks),z(1),U("ngIf",!c.parallel&&c.lineBreaks),z(1),U("ngIf",!c.parallel&&!c.lineBreaks),z(1),U("ngIf",!c.staticView),z(1),U("ngIf",c.showPrintButtons),z(1),U("clrModalOpen",c.modalAddBookmarkFlag),z(13),U("clrModalOpen",c.modalPrintEpubFlag),z(5),U("data",c.printEpubData),z(2),U("ngIf",!c.printing),z(1),U("ngIf",!c.printing))},styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]}),l})();function jze(l,a){1&l&&ye(0,"app-add-component",5),2&l&&U("component",J(2).containerData.component)}const $ze=function(){return{"content-container":!0}},qze=function(){return{"content-area":!0}};function Yze(l,a){if(1&l&&(A(0,"div",2),A(1,"div",3),A(2,"div",3),Q(3,jze,1,1,"app-add-component",4),I(),I(),I()),2&l){const o=J();z(1),U("ngClass",_d(3,$ze)),z(1),U("ngClass",_d(4,qze)),z(1),U("ngIf",o.containerData.component)}}function Zze(l,a){1&l&&ye(0,"app-add-component",5),2&l&&U("component",J(2).containerData.component)}function Xze(l,a){if(1&l&&(A(0,"div",6),Q(1,Zze,1,1,"app-add-component",4),I()),2&l){const o=J();z(1),U("ngIf",o.containerData.component)}}let qb=(()=>{class l{constructor(o){this.config=o}get containerData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){return{}}}return l.\u0275fac=function(o){return new(o||l)(N(kn))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-container"]],inputs:{data:"data"},decls:2,vars:2,consts:[["class","main-container",4,"ngIf"],["class","myContainer",4,"ngIf"],[1,"main-container"],[3,"ngClass"],[3,"component",4,"ngIf"],[3,"component"],[1,"myContainer"]],template:function(o,c){1&o&&(Q(0,Yze,4,5,"div",0),Q(1,Xze,2,1,"div",1)),2&o&&(U("ngIf",c.containerData&&!1),z(1),U("ngIf",c.containerData))},directives:[Mn,Gi,Wh],styles:[".myContainer[_ngcontent-%COMP%]{padding:1em}"]}),l})();class yN{constructor(){}static builder(){return new yN}}class Hc extends Ar{constructor(a,o,c,u,h){super(a,o,c),this.classes=u,this.component=h}static builder(){return new Hc("",null,null,yN.builder(),null)}setComponent(a){return this.component=a,this}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}}function Kze(l,a){if(1&l&&(A(0,"div"),ye(1,"app-add-component",2),I()),2&l){const o=a.$implicit;z(1),U("component",o)}}let Qze=(()=>{class l{constructor(o,c){this.config=o,this.uiConfig=c,this.components=[new Yi(Xee,nM.builder().setText("\u0422\u0435\u043a\u0441\u0442 \u041a\u043d\u043e\u043f\u043a\u0438").setOnClick(u=>{if(u.text="\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u043b\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u044f: "+u.tag.data++,u.classes.outline){let h=["primary","success","danger"],d=h.indexOf(u.classes.type);d=(d+1)%h.length,u.classes.type=h[d]}u.classes.outline=!u.classes.outline}).setTag(new Xp(0))),new Yi(aN,aM.builder().setText("\u0422\u0435\u043a\u0441\u0442 \u0434\u043b\u044f div."))]}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}reset(){this.uiConfig.ui.currentBook.getStringValue()&&this.uiConfig.ui.currentBook.setStringValue(""),this.components=[new Yi(Ree,Nb.builder().setOnClick(o=>{this.routeTo(o.trim())}))]}routeTo(o){o!=this.uiConfig.ui.currentBook.getStringValue()&&this.uiConfig.ui.currentBook.setStringValue(o),this.components=[new Yi(qb,Hc.builder().setComponent(new Yi(cf,Gu.builder().setText(o).setLink(Hu.builder().setOnRoute(c=>{c?this.routeTo(c.trim()):this.reset()})))))]}}return l.\u0275fac=function(o){return new(o||l)(N(kn),N($i))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-component"]],decls:2,vars:1,consts:[[1,"ftext","fade-in-3-no"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(o,c){1&o&&(A(0,"div",0),Q(1,Kze,2,1,"div",1),I()),2&o&&(z(1),U("ngForOf",c.components))},directives:[or,Wh],styles:[""]}),l})();class bN{constructor(a,o){this.name=a,this.items=o,this.pageName=""}}class xN{constructor(a,o){this.name=a,this.items=o,this.activeNumberPage=""}}var co=(()=>(function(l){l[l.Replace=0]="Replace",l[l.Add=1]="Add",l[l.Intersect=2]="Intersect",l[l.Remove=3]="Remove"}(co||(co={})),co))();class Jze{constructor(){this.searchDataItems=[]}clear(){this.searchDataItems=[]}mergeSearchInfos(a,o,c){let u=[];switch(c){case co.Intersect:a.forEach(h=>{let d=o.find(f=>f.line==h.line);d&&(u.push(h),h.column!=d.column&&u.push(d))});break;case co.Add:u.push(...a),u.push(...o);break;case co.Remove:a.forEach(h=>{null==o.find(f=>f.line==h.line)&&u.push(h)});break;case co.Replace:u=o}return u.sort((h,d)=>h.line-d.line),u}mergeSearchDatas(a,o,c){let u=[],h=()=>{a.forEach(d=>{let f=o.find(p=>d.name==p.name);if(null!=f){let p=this.mergeSearchInfos(d.items,f.items,c);p.length&&u.push(new bN(d.name,p))}})};switch(c){case co.Intersect:h();break;case co.Add:h(),o.forEach(d=>{null==a.find(p=>d.name==p.name)&&u.push(d)}),a.forEach(d=>{null==o.find(p=>d.name==p.name)&&u.push(d)});break;case co.Remove:a.forEach(d=>{let f=o.find(p=>d.name==p.name);if(null!=f){let p=this.mergeSearchInfos(d.items,f.items,c);p.length&&u.push(new bN(d.name,p))}else u.push(d)});break;case co.Replace:u=o}return u}mergeSearchData(a,o=co.Replace){let c=[],u=()=>{this.searchDataItems.forEach(h=>{let d=a.find(f=>f.name==h.name);if(d){let f=this.mergeSearchDatas(h.items,d.items,o);f.length&&c.push(new xN(d.name,f))}})};0==this.searchDataItems.length?c=a:o==co.Intersect?u():o==co.Add?(u(),this.searchDataItems.forEach(h=>{a.find(f=>f.name==h.name)||c.push(h)}),a.forEach(h=>{this.searchDataItems.find(f=>f.name==h.name)||c.push(h)})):o==co.Remove&&this.searchDataItems.forEach(h=>{let d=a.find(f=>f.name==h.name);if(d){let f=this.mergeSearchDatas(h.items,d.items,o);f.length&&c.push(new xN(d.name,f))}else c.push(h)}),this.searchDataItems=c}}class eUe{constructor(a,o){this.searcher=a,this.config=o,this.langProps=[],this.results=new Jze,this.maxElemenetsOnPageCount=10,this.searchedPages=[],this.currentPage=-1,this.searchObject={search:""},this.search="",this.searchIndex=0,this.searchRemainsCount=0}onSearch(a,o,c){if(this.searchedPages=[],this.results.clear(),this.search=this.searchObject.search,this.search){++this.searchIndex;let h=this.searchIndex,d=this.search.split(" ");this.searchRemainsCount+=d.length+1;let f=co.Intersect,p=0,g=()=>{if(--this.searchRemainsCount,this.searchIndex!=h)return this.searchRemainsCount-=d.length-p,void c(!1);if(p>0&&0==this.results.searchDataItems.length&&(this.searchRemainsCount-=d.length-p,p=d.length),p>=d.length)return void(c&&c(!0));let m=d[p++];if("\u041d\u0415"==m){if(f=co.Remove,--this.searchRemainsCount,p>=d.length)return;m=d[p++]}else f=co.Intersect;this.searcher.search(m,o,(v,_)=>{this.config.post(()=>{this.searchIndex==h&&this.onSearchDataResult(v,_,f,null),g()})},this.langProps)};g()}}getBook(a){let o=a.split("/");return o.length>=1&&o.splice(o.length-1,1),o.join("/")}getChapter(a){let o="\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",c=a.split("/");return c.length>=1&&(o=c[c.length-1]),o}getNamedSearchItem(a,o){let c=this.getBook(a),u=o.find(f=>f.name===c);null==u&&(u=new xN(c,[]),u.activeNumberPage="1",o.push(u));let h=this.getChapter(a),d=u.items.find(f=>f.name==h);return null==d&&(d=new bN(h,[]),d.pageName=""+Math.ceil((u.items.length+1)/this.maxElemenetsOnPageCount),u.items.push(d)),d}onSearchDataResult(a,o,c,u){let h=[];a&&a.forEach(d=>{this.getNamedSearchItem(d.key,h).items.push(...d.value)}),this.results.mergeSearchData(h,c),u&&u(null!=a)}}class CN{constructor(){}static builder(){return new CN}}class dM extends Ar{constructor(a,o,c,u){super(a,o,c),this.classes=u,this.object={},this.fieldName="name",this.description="\u0418\u043c\u044f",this.sDescription2="",this.shape="",this.readonly=!1}set description2(a){this.sDescription2=a}get description2(){return this.sDescription2?this.sDescription2:this.description}static builder(){return new dM("",null,null,CN.builder())}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}setObject(a){return this.object=a,this}setFieldName(a){return this.fieldName=a,this}setDescription(a){return this.description=a,this}setDescription2(a){return this.description2=a,this}setShape(a){return this.shape=a,this}setReadonly(a){return this.readonly=a,this}}class wN{constructor(a){this.spinnerInline=a}static builder(){return new wN(!0)}}class SN extends Ar{constructor(a,o,c,u){super(a,o,c),this.classes=u}static builder(){return new SN("",null,null,wN.builder())}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}}let cte=(()=>{class l{constructor(o,c){this.http=o,this.config=c,this.restPoint="/kafizmy"}getRestPoint(o,c){return fs.merge(fs.merge(c||this.config.serviceAPIHost,this.restPoint),o)}handleError(o,c){return Pi.handleError(o,c)}search(o,c,u,h){const d={params:{query:o,paths:c.join("|")}};this.http.get(this.getRestPoint("/search",null),d).pipe(tr(this.handleError)).subscribe({next:f=>{u(f,null)},error:f=>{u(null,""+f)}})}}return l.\u0275fac=function(o){return new(o||l)(Fe(sf),Fe(kn))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),ute=(()=>{class l{constructor(o,c){this.searchRestSvc=o,this.config=c,this.searchSvc=null,this.searchingCount=0,this.config.isRestServerType()&&(this.searchSvc=this.searchRestSvc)}isSearching(){return this.searchingCount>0}search(o,c,u,h){this.config.post(this.searchSvc?()=>{++this.searchingCount,this.searchSvc&&this.searchSvc.search(o,c,(d,f)=>{u&&u(d,f),--this.searchingCount},h)}:()=>{++this.searchingCount,this.config.post(()=>{u&&u(null,null),--this.searchingCount})})}}return l.\u0275fac=function(o){return new(o||l)(Fe(cte),Fe(kn))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),tUe=(()=>{class l{constructor(){this.data=dM.builder()}onCommand(o){this.data.click(!0),o.stopPropagation()}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-form-input-editor"]],inputs:{data:"data"},decls:6,vars:6,consts:[[1,"cursor",3,"click"],[3,"click"],["clrInput","",3,"readOnly","placeholder","name","ngModel","ngModelChange"]],template:function(o,c){1&o&&(A(0,"clr-input-container"),A(1,"label",0),pe("click",function(h){return c.onCommand(h)}),we(2),A(3,"span"),A(4,"clr-icon",1),pe("click",function(h){return c.onCommand(h)}),I(),I(),I(),A(5,"input",2),pe("ngModelChange",function(h){return c.data.object[c.data.fieldName]=h}),I(),I()),2&o&&(z(2),Ai("",c.data.description," "),z(2),Je("shape",c.data.shape),z(1),U("readOnly",c.data.readonly)("placeholder",c.data.description2)("name",c.data.fieldName)("ngModel",c.data.object[c.data.fieldName]))},directives:[eS,ls,Aa,Hl,K3,Ao,go],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}"]}),l})();const nUe=["bookmarksView"],iUe=function(l,a){return{btn:!0,"btn-block":!0,"btn-success-outline":l,"btn-success":a}};function rUe(l,a){if(1&l){const o=Bt();A(0,"div",14),A(1,"button",15),pe("click",function(){return dt(o),J().toggleSearch()}),we(2),I(),I()}if(2&l){const o=J();z(1),U("ngClass",gc(2,iUe,!o.searchMode,o.searchMode)),z(1),Sn(o.searchMode?"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438":"\u041f\u043e\u0438\u0441\u043a")}}const sUe=function(l,a){return{btn:!0,"btn-block":!0,"btn-primary-outline":l,"btn-primary":a}};function oUe(l,a){if(1&l){const o=Bt();A(0,"button",15),pe("click",function(){return dt(o),J(2).onNewSearch()}),we(1,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),I()}if(2&l){const o=J(2);U("ngClass",gc(1,sUe,!o.isBookmarksExists(),o.isBookmarksExists()))}}function aUe(l,a){if(1&l){const o=Bt();A(0,"button",3),pe("click",function(){return dt(o),J(2).modalDeleteAllBookmarksFlag=!0}),we(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435"),I()}}const hte=function(l,a){return{"clr-col-4":l,"clr-col-6":a}};function lUe(l,a){if(1&l&&(A(0,"div",2),Q(1,oUe,2,4,"button",16),Q(2,aUe,2,0,"button",17),I()),2&l){const o=J();U("ngClass",gc(3,hte,o.searchEnabled&&o.bookmarksEnabled,!(o.searchEnabled&&o.bookmarksEnabled))),z(1),U("ngIf",o.searchMode),z(1),U("ngIf",!o.searchMode)}}function cUe(l,a){if(1&l&&(A(0,"div",19),ye(1,"app-dynamic-spinner",20),I()),2&l){const o=J(2);z(1),U("data",o.searchingSpinnerData)}}function uUe(l,a){if(1&l&&(A(0,"div"),ye(1,"app-dynamic-content-toolbar",20),I()),2&l){const o=J(3);z(1),U("data",o.toolbarBooksHeaders)}}function hUe(l,a){if(1&l&&(A(0,"div"),A(1,"div"),ye(2,"app-dynamic-content-toolbar",20),I(),A(3,"div"),ye(4,"app-dynamic-content-toolbar",20),I(),I()),2&l){const o=J(3);z(2),U("data",o.currentHeaders()),z(2),U("data",o.currentPages())}}function dUe(l,a){1&l&&ye(0,"app-dynamic-library-book",20),2&l&&U("data",J().$implicit.libData)}function fUe(l,a){if(1&l&&(A(0,"div",null,24),ye(2,"app-dynamic-errors",20),Q(3,dUe,1,1,"app-dynamic-library-book",25),I()),2&l){const o=a.$implicit;z(2),U("data",o.errorsData),z(1),U("ngIf",o.libDataShow)}}function pUe(l,a){if(1&l&&(A(0,"div"),A(1,"div"),A(2,"form",21),ye(3,"app-dynamic-form-input-editor",20),I(),A(4,"form",22),ye(5,"app-dynamic-form-input-editor",20),I(),I(),Q(6,uUe,2,1,"div",5),Q(7,hUe,5,2,"div",5),Q(8,fUe,4,2,"div",23),A(9,"div"),A(10,"div"),ye(11,"app-dynamic-content-toolbar",20),I(),I(),I()),2&l){const o=J(2);z(3),U("data",o.dataSearchEditorData),z(2),U("data",o.dataSearchEditorData),z(1),U("ngIf",!o.isBookmarksExists()),z(1),U("ngIf",o.isBookmarksExists()),z(1),U("ngForOf",o.bookmarks),z(3),U("data",o.currentPages())}}function gUe(l,a){if(1&l&&(A(0,"div"),Q(1,cUe,2,1,"div",18),Q(2,pUe,12,6,"div",5),I()),2&l){const o=J();z(1),U("ngIf",o.isSearching),z(1),U("ngIf",!o.isSearching)}}function mUe(l,a){1&l&&ye(0,"app-dynamic-library-book",20),2&l&&U("data",J().$implicit.libData)}function vUe(l,a){if(1&l&&(A(0,"div",null,24),ye(2,"app-dynamic-errors",20),Q(3,mUe,1,1,"app-dynamic-library-book",25),I()),2&l){const o=a.$implicit;z(2),U("data",o.errorsData),z(1),U("ngIf",o.libDataShow)}}function _Ue(l,a){if(1&l&&(A(0,"div"),Q(1,vUe,4,2,"div",23),I()),2&l){const o=J();z(1),U("ngForOf",o.bookmarks)}}class fM{constructor(a,o){this.errorsData=Qp.builder(),this.libData=Gu.builder(),this.libDataShow=!1,this.\u043f\u0430\u043c\u044f\u0442\u044c=Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),this.errorsData.setErrors(a).setActions(o)}static builder(){return new fM([],[])}setMessages(a){return this.errorsData.setErrors(a),this}addMessage(a){return this.errorsData.errors.push(a),this}setActions(a){return this.errorsData.setActions(a),this}addAction(a){return this.errorsData.actions.push(a),this}toggleLinkShow(){return this.libDataShow=!this.libDataShow,this}setLink(a,o,c=!0,u=!0){let d=fragmentsParserStatic.parse(a,{builder:new xL})[0][0];if(d.type!=za.Link&&c)throw new Error(`\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0441\u044b\u043b\u043a\u043e\u0439: ${a}`);let f=d;return this.libData.setText(a.replace("-1000","+")).setSearch(o).setLink(Hu.builder().setBookName(f.name).setShortName(!0).setChapter(""+f.startChapter).setStartLine(f.startLine).setEndLine(f.endLine).setLanguages(f.langugages).setLogical(u)),this}}class TN{constructor(a,o,c,u){this.items=a,this.pageItems=o,this.pageSize=u,this.iPageIndex=0}static builder(){return new TN([],[],0,10)}get pageIndex(){return this.iPageIndex}set pageIndex(a){this.iPageIndex=a,this.updatePage()}updatePage(){let o=Math.min(this.pageIndex*this.pageSize+this.pageSize,this.items.length);return this.pageItems=this.items.slice(this.pageIndex*this.pageSize,o),this}setItems(a){return this.items=a,this.recalculate(),this.updatePage()}setPageIndex(a){if(a<0||a+1>=this.pagesCount)throw new Error(`\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0438\u043d\u0434\u0435\u043a\u0441 \u0441\u0442\u0440\u0430\u043d\u0438\u0446: ${a}; \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c => [0,${this.pagesCount-1}].`);return this.pageIndex=a,this}setPageSize(a){if(a!=this.pageSize)return this.pageSize=a,this.recalculate(!0)}recalculate(a=!1){let o=this.pagesCount;return this.pageNumber>o&&(this.pageNumber=o),a?this.updatePage():this}prevPage(){return this.pageIndex>0&&(this.pageIndex=this.pageIndex-1),this}get pagesCount(){return Math.ceil(this.items.length/this.pageSize)}get pageNumber(){return this.pageIndex+1}set pageNumber(a){if(a<1||a>this.pagesCount)throw new Error(`\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446: ${a}; \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c => [1,${this.pagesCount}].`);this.pageIndex=a-1}nextPage(){return this.pageIndex+1<this.pagesCount&&(this.pageIndex=this.pageIndex+1),this}}class MN{constructor(a,o){this.name=a,this.bookmarks=o}static builder(){return new MN("",TN.builder())}setName(a){return this.name=a,this}setBookmarks(a){return this.bookmarks=a,this}}let dte=(()=>{class l extends YT{constructor(o,c,u,h,d){super(o,c),this.bookmarksSvc=u,this.searcher=h,this.audioSvc=d,this.bookmarksEnabled=!0,this.searchEnabled=!0,this.searchMode=!1,this.searcherHelper=null,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435=Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442=Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),this.jsSvc=new Kee,this.bookmarksDatas=[],this.bookmarksSearchDatasAll=[],this.bookmarksSearchDatas=null,this.searchingSpinnerData=SN.builder().setText("\u041f\u043e\u0438\u0441\u043a..."),this.tryLoadRemainsBookInfoCount=0,this.toolbarBooksHeaders=Ql.builder().setItems([]).setOnClick(f=>{f.setSelected(!f.selected)}).updateClasses(f=>{f.setLabelNormal("label-info")}),this.toolbarSearchHeaders=Ql.builder().setItems([]).setOnClick(f=>{let p=this.bookmarksSearchDatasAll.find(g=>g.name==f.tag);p&&(this.bookmarksSearchDatas=p,this.config.post(()=>{this.scrollToBookmarks()}))}),this.toolbarPages=Ql.builder().setItems([]).setOnClick(f=>{this.bookmarksSearchDatas&&(this.bookmarksSearchDatas.bookmarks.pageNumber=+f.tag,this.config.post(()=>{this.loadRemainsBookInfoActiveGroup(),this.scrollToBookmarks()}))}).updateClasses(f=>{f.setLabelNormal("label-info")}),this.modalDeleteAllBookmarksFlag=!1,this.modalDeleteBookmark="",this.modalDeleteBookmarkFlag=!1,this.component=new Yi(cf,Gu.builder().setText("\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP").setLink(Hu.builder().setTextIsPage(!0).setOnRoute(f=>{}))),this.dataSearchEditorData=dM.builder(),this.workerSvc=Ho.builder(),this.bookServerSvc=new tL((f,p)=>{this.config.post(()=>{this.bookSvc.post(f,p)})}),this.bookSvc=new gN((f,p)=>{this.config.post(()=>{this.workerSvc.enabled()?this.workerSvc.sendMessage(p):this.bookServerSvc.post(f,p)})}),this.bookSvc.setConfig(this.config).setUIConfig(this.uiConfig),this.bookmarksEnabled="books"==this.config.getApplication().id,this.searchEnabled=this.config.isRestServerType(),this.searcherHelper=new eUe(this.searcher,o),this.dataSearchEditorData.setObject(this.searcherHelper.searchObject).setDescription("\u041f\u043e\u0438\u0441\u043a").setDescription2("\u0441\u043b\u043e\u0432\u043e \u0432\u0442\u043e\u0440\u043e\u0435 [\u041d\u0415] \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435").setFieldName("search").setShape("search").setReadonly(!1).setOnClick(()=>{var f;null===(f=this.searcherHelper)||void 0===f||f.onSearch("search",this.getSearchBookPaths(),p=>{this.syncSearchDatas(!0),this.dataSearchEditorData.setReadonly(!0)})}),this.jsSvc.addBookmarksEnvironment(this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.uiConfig),this.jsSvc.addMethod(this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0421\u0441\u044b\u043b\u043a\u0443",(f,p)=>{var m=f.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(p[1]);if(this.bookmarks){let v=this.bookmarks.find(_=>_.errorsData.errors[0]==m.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());null!=v&&v.toggleLinkShow()}return null}),this.jsSvc.addMethod(this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0421\u0441\u044b\u043b\u043a\u04432",(f,p)=>{var m=f.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(p[1]);if(this.bookmarks){let v=this.bookmarks.find(_=>_.errorsData.errors[0]==m.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());null!=v&&v.toggleLinkShow()}return null}),this.jsSvc.addMethod(this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,"\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c\u0423\u0434\u0430\u043b\u0438\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443",(f,p)=>{var m=f.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(p[1]);return this.modalDeleteBookmark=m.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),this.modalDeleteBookmarkFlag=!0,null}),this.addMenuLink(Wi.builder().setLink("#").setName("\u041c\u0435\u043d\u044e").setShape("books"==this.config.getApplication().id?"cog":"users").setOnClick(()=>{this.boomarksData.click(null)}).setIsActive(()=>!1)),this.addMenuLink(Wi.builder().setLink("#").setName("\u041a\u043d\u0438\u0433\u0438").setShape("book").setOnClick(()=>{this.boomarksData.click("")}).setIsActive(()=>!1)),this.addMenuLink(Wi.builder().setLink("#").setName("\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438").setShape("books"==this.config.getApplication().id?"bookmark":"search").setIsActive(()=>!0)),this.addMenuLink(Wi.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.boomarksData.click("\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP")}).setIsActive(()=>!1))}get bookmarkData(){return this.data}get boomarksData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}get bookmarks(){var o;return this.sync(),this.searchMode?null===(o=this.bookmarksSearchDatas)||void 0===o?void 0:o.bookmarks.pageItems:this.bookmarksDatas}get isSearching(){return this.searcher.isSearching()}ngOnInit(){super.ngOnInit(),this.bookmarkData&&(this.searchMode=this.bookmarkData.startSearch)}ngOnDestroy(){super.ngOnDestroy(),this.workerSvc.unsubscribe()}ngAfterViewInit(){super.ngAfterViewInit(),this.audioSvc.stop(),this.config.post(()=>{this.searchMode=this.bookmarkData.startSearch}),this.workerSvc.enabled()?this.workerSvc.setOnMessage(o=>{this.config.post(()=>{this.bookSvc.post(null,o)})}):this.bookServerSvc.setCacheService(new eL(new Ew)),this.bookSvc.onLibraryLoadEvent.setOnEventHandler(()=>{this.tryLoadRemainsBookInfo(),this.loadBooksHeaders()}),this.bookSvc.onBookInfoLoadEvent.setOnEventHandler((o,c)=>{this.config.post(()=>{this.loadRemainsBookInfo2()})}),this.config.post(()=>{this.bookSvc.tryLoadLibraryInfo()})}getBookNameByPath(o){let c=o.split("/");return this.bookSvc.getNormalBookNameByBookPath(c[c.length-1])}loadRemainsBookInfo2(){var o;if(!this.bookmarksSearchDatas)return;let u=this.bookmarksSearchDatas.bookmarks.pageItems.find(h=>h.errorsData.errors[0].indexOf("|")>=0&&!!this.getBookNameByPath(h.errorsData.errors[0]));if(null!=u){let d=u.errorsData.errors[0].split("|");if(d.length>1){let f=d[0],p=d[1],g=this.getBookNameByPath(f);if(g){let m=this.bookSvc.getShortBookName(g),v=null===(o=this.bookSvc.bookInfo)||void 0===o?void 0:o.content.find(b=>f.endsWith(b.path)),y=`${m}${p}{${v?v.name:""}}`;u.setLink(y,this.searcherHelper?this.searcherHelper.search:"",!0,!1),u.\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(y)),u.errorsData.errors[0]=`${y}`}}this.tryLoadRemainsBookInfo()}}tryLoadRemainsBookInfo(){this.tryLoadRemainsBookInfoCount>0||(++this.tryLoadRemainsBookInfoCount,this.config.post(()=>{this.loadRemainsBookInfo(),--this.tryLoadRemainsBookInfoCount}))}loadRemainsBookInfo(){let o=this.bookmarksSearchDatasAll.map(c=>{let u=this.getBookNameByPath(c.name);return{d:c,name:u?this.bookSvc.getShortBookName(u):null}}).filter(c=>!!c.name&&"\u0421\u043f\u0440"!=c.name).map(c=>c);!this.bookmarksSearchDatasAll||this.toolbarSearchHeaders.items.length==o.length||(this.toolbarSearchHeaders.setItems(o.map(c=>xo.builder().setText(c.name).setTag(c.d.name))).setOnClick(c=>{let u=this.bookmarksSearchDatasAll.find(h=>h.name==c.tag);u&&(this.bookmarksSearchDatas=u,this.loadRemainsBookInfoActiveGroup())}),this.bookmarksSearchDatas||this.config.post(()=>{this.toolbarSearchHeaders.click(this.toolbarSearchHeaders.items[0])}))}loadRemainsBookInfoActiveGroup(){this.bookmarksSearchDatas&&this.bookmarksSearchDatas.bookmarks.pageItems.forEach(c=>{if(null!=c){let d=c.errorsData.errors[0].split("|")[0],f=this.getBookNameByPath(d);f&&this.bookSvc.loadBookByName(f,[],"",!1)}})}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){return{}}syncBookmarks(){let o=this.bookmarksSvc.getBookmarks(),c=!1,u=this.getStdBookmarks();return c=this.bookmarksDatas.length!=o.length+u.length||null!=o.find((d,f)=>d!=this.bookmarksDatas[f+u.length].errorsData.errors[0]),c&&o.unshift(...u),c&&(this.bookmarksDatas=[],o.forEach((h,d)=>{let f=h.replace("-1000","+"),p=`\n\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 = \u043a\u043b\u0430\u0441\u0441 {\n  \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430 = '';\n  \u0442\u0438\u043f = 0;\n  \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440(_\u0442\u0438\u043f) {\n    \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430 = '${f}';\n    \u0442\u0438\u043f = _\u0442\u0438\u043f;\n  }\n  \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c() {\n    \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c('\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0430: "' + \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430 + '": ' + \u0442\u0438\u043f);\n    \u0435\u0441\u043b\u0438 (\u0442\u0438\u043f == 0) {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0434\u0432\u0438\u043d\u0443\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443\u0412\u0432\u0435\u0440\u0445(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    } \u0438\u043d\u0430\u0447\u0435 \u0435\u0441\u043b\u0438 (\u0442\u0438\u043f == 1) {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0434\u0432\u0438\u043d\u0443\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443\u0412\u043d\u0438\u0437(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    } \u0438\u043d\u0430\u0447\u0435 \u0435\u0441\u043b\u0438 (\u0442\u0438\u043f == 2) {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c\u0423\u0434\u0430\u043b\u0438\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    } \u0438\u043d\u0430\u0447\u0435 \u0435\u0441\u043b\u0438 (\u0442\u0438\u043f == 3) {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0421\u0441\u044b\u043b\u043a\u0443(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    } \u0438\u043d\u0430\u0447\u0435 \u0435\u0441\u043b\u0438 (\u0442\u0438\u043f == 4) {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0421\u0441\u044b\u043b\u043a\u04432(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    } \u0438\u043d\u0430\u0447\u0435 {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0421\u0441\u044b\u043b\u043a\u0443(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    }\n  }\n};\n\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';\n          `,g=Kr.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(bi.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),v=(this.jsSvc.run(p,g,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),fM.builder());v.errorsData.setOnClick(_=>{this.boomarksData.click(_)}),v.setLink(h,"").setMessages([f]).setActions(d<u.length?[yl.builder().setText("\u0412\u0438\u0434").setOnClick(()=>{this.jsSvc.run("\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(3).\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(); \u0432\u0435\u0440\u043d\u0443\u0442\u044c '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';",g,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()})]:[yl.builder().setText("X").setOnClick(()=>{this.jsSvc.run("\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(2).\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(); \u0432\u0435\u0440\u043d\u0443\u0442\u044c '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';",g,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()}),yl.builder().setText("\u041d\u0438\u0436\u0435").setOnClick(()=>{this.jsSvc.run("\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(1).\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(); \u0432\u0435\u0440\u043d\u0443\u0442\u044c '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';",g,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()}),yl.builder().setText("\u0412\u044b\u0448\u0435").setOnClick(()=>{this.jsSvc.run("\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(0).\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(); \u0432\u0435\u0440\u043d\u0443\u0442\u044c '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';",g,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()}),yl.builder().setText("\u0412\u0438\u0434").setOnClick(()=>{this.jsSvc.run("\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(3).\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(); \u0432\u0435\u0440\u043d\u0443\u0442\u044c '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';",g,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()})]),v.errorsData.classes.setAlertClass("warning").setAlertShape("").setNoPrint(!0),this.bookmarksDatas.push(v)})),c&&this.component.data.setText(o.map(d=>d+` /*\n\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 = \u043a\u043b\u0430\u0441\u0441{\n  \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430 = '';\n  \u0432\u0432\u0435\u0440\u0445 = false;\n  \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440(_\u0432\u0432\u0435\u0440\u0445){\n    \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430 = '${d}';\n    \u0432\u0432\u0435\u0440\u0445 = _\u0432\u0432\u0435\u0440\u0445;\n  }\n  \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(\u043a\u043d\u043e\u043f\u043a\u0430){\n    \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c(\n      '\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0430: "' + \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430 + '": ' + (\u0432\u0432\u0435\u0440\u0445?'\u0432\u0432\u0435\u0440\u0445':'\u0432\u043d\u0438\u0437'));\n    \u0435\u0441\u043b\u0438 (\u0432\u0432\u0435\u0440\u0445) {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0434\u0432\u0438\u043d\u0443\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443\u0412\u0432\u0435\u0440\u0445(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    } \u0438\u043d\u0430\u0447\u0435 {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0434\u0432\u0438\u043d\u0443\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443\u0412\u043d\u0438\u0437(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    }\n  }\n};\n\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043d\u043e\u043f\u043a\u0430('\u2191','link','',\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(true), false);\n\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043d\u043e\u043f\u043a\u0430('\u2193','link','',\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(false), false);\n*/`).join("\r\n")),this}saveBookmarks(o){return this.bookmarksSvc.setBookmarks(o),this}deleteAllBookmarks(){return this.bookmarksSvc.setBookmarks([]),this}toggleBookmarksView(){let o=this.isAllBookmarksVisible();return this.bookmarks&&this.bookmarks.forEach(c=>{c.libDataShow==o&&c.toggleLinkShow()}),this}isAllBookmarksVisible(){this.sync();let o=this.bookmarks;return!!o&&o.map(u=>u.libDataShow).reduce((u,h)=>u&&h,!0)}isBookmarksExists(){this.sync();let o=this.bookmarks;return!!o&&o.length>0}onDeleteAllBookmarks(){this.deleteAllBookmarks(),this.modalDeleteAllBookmarksFlag=!1}onDeleteBookmark(o){return this.bookmarksSvc.deleteBookmark(o),this.modalDeleteBookmarkFlag=!1,this}getDaysFromYear(){var o=new Date,c=new Date(o.getFullYear(),0,0),u=o.getTime()-c.getTime()+60*(c.getTimezoneOffset()-o.getTimezoneOffset())*1e3,h=864e5,d=Math.floor(u/h);if(d<14&&o.getFullYear()>2022){var f=new Date(o.getFullYear()-1,0,0),p=new Date(o.getFullYear()-1,11,31),g=p.getTime()-f.getTime()+60*(f.getTimezoneOffset()-p.getTimezoneOffset())*1e3;d+=Math.floor(g/h)}return d-13}getStdBookmarks(){let o=this.getDaysFromYear();return[`\u041c\u04412022.${o}:1-1000`,`\u0411\u04432022.${o}:1-1000`]}toggleSearch(){return this.searchMode=!this.searchMode,this}getChapter(o){let c=o.indexOf(".");return+o.substring(0,c>=0?c:void 0).replace(/_/g,"")}getLines(o){let c=[],u=o.map(h=>h.items.map(d=>d.line)).flatMap(h=>h);return u.sort((h,d)=>h-d),u.forEach(h=>{c.indexOf(h)<0&&c.push(h)}),c}getLinesSingle(o){let c=[],u=o.items.map(h=>h.line);return u.sort((h,d)=>h-d),u.forEach(h=>{c.indexOf(h)<0&&c.push(h)}),c}createBookmarksFor(o,c){let u=[],h=this.getChapter(c.name);return(c.items.length?this.getLinesSingle(c):[1]).forEach(f=>{u.push(this.createBookmarksForSingle(`${o}|.${h}:${f}`))}),u}createBookmarksForSingle(o){let c=fM.builder(),u=c.\u043f\u0430\u043c\u044f\u0442\u044c;return u.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(o)),this.jsSvc.run("\n\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 = \u043a\u043b\u0430\u0441\u0441 {\n  \u0442\u0438\u043f = 0;\n  \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440(_\u0442\u0438\u043f) {\n    \u0442\u0438\u043f = _\u0442\u0438\u043f;\n  }\n  \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c() {\n    \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c('\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0430: \"' + \u043f\u0430\u043c\u044f\u0442\u044c.\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430 + '\": ' + \u0442\u0438\u043f);\n    \u0435\u0441\u043b\u0438 (\u0442\u0438\u043f == 0) {\n      \u0442\u0438\u043f = 0;\n    } \u0438\u043d\u0430\u0447\u0435 {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0421\u0441\u044b\u043b\u043a\u04432(\u043f\u0430\u043c\u044f\u0442\u044c.\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    }\n  }\n};\n\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';\n          ",u,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),c.errorsData.setOnClick(f=>{this.boomarksData.click(f)}).updateClasses(f=>{f.setAlertClass("info").setAlertShape("bookmark")}),c.setLink(o,this.searcherHelper?this.searcherHelper.search:"",!1,!1).setMessages([o]).setActions([yl.builder().setText("\u0412\u0438\u0434").setOnClick(()=>{this.jsSvc.run("\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(4).\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(); \u0432\u0435\u0440\u043d\u0443\u0442\u044c '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';",u,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()})]),c}syncSearchDatas(o){var c;!o||(this.bookmarksSearchDatasAll=[],null===(c=this.searcherHelper)||void 0===c||c.results.searchDataItems.forEach(u=>{let h=u.items.flatMap(f=>this.createBookmarksFor(u.name,f)),d=MN.builder();d.bookmarks.setItems(h),d.setName(u.name),this.bookmarksSearchDatasAll.push(d)}),this.bookmarksSearchDatasAll.length>0&&this.config.post(()=>{this.bookSvc.tryLoadLibraryInfo()}))}currentPages(){if(this.bookmarksSearchDatas){let o=this.bookmarksSearchDatas.bookmarks.pagesCount;this.toolbarPages.items.length!=o&&this.toolbarPages.setItems([...Array(o).keys()].map(c=>c+1).map(c=>xo.builder().setTag(""+c).setText(""+c))),this.toolbarPages.items.forEach(c=>c.setSelected(c.tag==""+this.bookmarksSearchDatas.bookmarks.pageNumber))}else 0!=this.toolbarPages.items.length&&this.toolbarPages.setItems([]);return this.toolbarPages}currentHeaders(){return this.bookmarksSearchDatas&&this.toolbarSearchHeaders.items.forEach(o=>{var c;o.setSelected(o.tag==(null===(c=this.bookmarksSearchDatas)||void 0===c?void 0:c.name))}),this.toolbarSearchHeaders}scrollToBookmarks(){return this.bookmarksView.nativeElement.scrollIntoView(!0),this}onNewSearch(){return this.dataSearchEditorData.setReadonly(!1),this.bookmarksSearchDatasAll=[],this.bookmarksSearchDatas=null,this.toolbarSearchHeaders.setItems([]),this}sync(){this.searchMode?this.syncSearchDatas(!1):this.syncBookmarks()}loadBooksHeaders(){!this.bookSvc.libraryInfo||this.toolbarBooksHeaders.items.length>0||this.toolbarBooksHeaders.setItems(this.bookSvc.libraryInfo.content.map(o=>o.path2?{name:o.path2[0],path:o.path}:null).filter(o=>!!o&&"\u0421\u043f\u0440"!=o.name).map(o=>o).map(o=>xo.builder().setText(o.name).setTag(o.path)))}getSearchBookPaths(){return this.toolbarBooksHeaders.items.filter(c=>c.selected).map(c=>c.tag)}}return l.\u0275fac=function(o){return new(o||l)(N(kn),N($i),N(fv),N(ute),N(gv))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-bookmarks"]],viewQuery:function(o,c){if(1&o&&An(nUe,5),2&o){let u;kt(u=At())&&(c.bookmarksView=u.first)}},inputs:{data:"data"},features:[pn],decls:34,vars:12,consts:[[1,"clr-row","no-print"],["class","clr-col-4",4,"ngIf"],[3,"ngClass"],[1,"btn","btn-block","btn-primary-outline",3,"click"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],[3,"clrModalOpen","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],["shape","flame",1,"is-solid"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["shape","ban"],[1,"clr-col-4"],[3,"ngClass","click"],[3,"ngClass","click",4,"ngIf"],["class","btn btn-block btn-primary-outline",3,"click",4,"ngIf"],["class","bottom-top-space",4,"ngIf"],[1,"bottom-top-space"],[3,"data"],["clrForm","","clrLayout","horizontal",1,"clr-hidden-xs-down"],["clrForm","","clrLayout","vertical",1,"clr-hidden-sm-up"],[4,"ngFor","ngForOf"],["bookmarksView",""],[3,"data",4,"ngIf"]],template:function(o,c){1&o&&(A(0,"div",0),Q(1,rUe,3,5,"div",1),A(2,"div",2),A(3,"button",3),pe("click",function(){return c.toggleBookmarksView()}),we(4),I(),I(),Q(5,lUe,3,6,"div",4),I(),Q(6,gUe,3,2,"div",5),Q(7,_Ue,2,1,"div",5),A(8,"clr-modal",6),pe("clrModalOpenChange",function(h){return c.modalDeleteAllBookmarksFlag=h}),A(9,"h3",7),we(10,"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438"),I(),A(11,"div",8),ye(12,"clr-icon",9),we(13," \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438? "),I(),A(14,"div",10),A(15,"button",11),pe("click",function(){return c.onDeleteAllBookmarks()}),ye(16,"clr-icon",9),we(17,"\u0414\u0430"),I(),A(18,"button",12),pe("click",function(){return c.modalDeleteAllBookmarksFlag=!1}),ye(19,"clr-icon",13),we(20,"\u041d\u0435\u0442"),I(),I(),I(),A(21,"clr-modal",6),pe("clrModalOpenChange",function(h){return c.modalDeleteBookmarkFlag=h}),A(22,"h3",7),we(23,"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0430"),I(),A(24,"div",8),ye(25,"clr-icon",9),we(26),I(),A(27,"div",10),A(28,"button",11),pe("click",function(){return c.onDeleteBookmark(c.modalDeleteBookmark)}),ye(29,"clr-icon",9),we(30,"\u0414\u0430"),I(),A(31,"button",12),pe("click",function(){return c.modalDeleteBookmarkFlag=!1}),ye(32,"clr-icon",13),we(33,"\u041d\u0435\u0442"),I(),I(),I()),2&o&&(z(1),U("ngIf",c.searchEnabled&&c.bookmarksEnabled),z(1),U("ngClass",gc(9,hte,c.searchEnabled&&c.bookmarksEnabled,!(c.searchEnabled&&c.bookmarksEnabled))),z(2),Ai("",c.isAllBookmarksVisible()?"\u0421\u043a\u0440\u044b\u0442\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"," \u0432\u0441\u0435"),z(1),U("ngIf",c.isBookmarksExists()||c.searchMode),z(1),U("ngIf",c.searchMode),z(1),U("ngIf",!c.searchMode),z(1),U("clrModalOpen",c.modalDeleteAllBookmarksFlag),z(13),U("clrModalOpen",c.modalDeleteBookmarkFlag),z(5),Ai(" \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0443 '",c.modalDeleteBookmark,"'? "))},directives:[Mn,Gi,tN,Gy,By,Td,V3,$2e,tUe,sM,or,oM,cf,a0,l0,Aa],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]}),l})();class DN{constructor(){}static builder(){return new DN}}class mv extends Ar{constructor(a,o,c,u){super(a,o,c),this.classes=u,this.startSearch=!1}static builder(){return new mv("",null,null,DN.builder())}setText(a){return super.setText(a)}setOnClick(a){return super.setOnClick(a)}setTag(a){return super.setTag(a)}setStartSearch(a){return this.startSearch=a,this}}function yUe(l,a){if(1&l&&(A(0,"div"),ye(1,"app-add-component",2),I()),2&l){const o=a.$implicit;z(1),U("component",o)}}let bUe=(()=>{class l extends YT{constructor(o,c,u,h){super(o,c),this.authSvc=u,this.router=h,this.helpBookName="\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP",this.serviceReady=!1,this.addMenuLink(Wi.builder().setLink("#").setName("\u041c\u0435\u043d\u044e").setShape("cog").setOnClick(()=>{this.config.post(()=>{this.reset()},0)}).setIsActive(()=>this.isComponentType(Nb,null))).addMenuLink(Wi.builder().setLink("#").setName("\u041a\u043d\u0438\u0433\u0438").setShape("book").setOnClick(()=>{this.routeTo("")}).setIsActive(()=>this.isComponentType(Hc,Gu))).addMenuLink(Wi.builder().setLink("#").setName("\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438").setShape("bookmark").setOnClick(()=>{this.routeToBookmarks()}).setIsActive(()=>this.isComponentType(Hc,mv))).addMenuLink(Wi.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.routeToHelp()}).setIsActive(()=>this.isComponent(this.helpBookName)))}ngAfterViewInit(){super.ngAfterViewInit(),this.doLogin(o=>{this.config.post(()=>this.ngAfterViewInitRaw())})}doLogin(o){this.authSvc.isLoggedIn().then(c=>{c.result?(this.serviceReady=!1,o&&o(this.serviceReady)):this.authSvc.login().then(u=>{if(u.result){let h="hramvkostino",d="hramvkostino";this.authSvc.requestForUser(h,d).then(f=>{this.serviceReady=f.valid,this.config.authId=f.authId,this.config.authBody=btoa(h+":"+d),o&&o(this.serviceReady)})}})})}ngAfterViewInitRaw(){if("confidential"===pageRequestedDoc)return pageRequestedDoc="",void this.routeToHelp("3");this.uiConfig.ui.visitedBooksHelp.getStringValue()===this.config.environment.version?this.uiConfig.ui.currentBook.getStringValue()?this.config.post(()=>{this.routeTo(this.uiConfig.ui.currentBook.getStringValue())}):this.config.post(()=>{this.reset()}):this.config.post(()=>{this.routeToHelp()})}reset(){this.components=[new Yi(Ree,Nb.builder().setOnClick(o=>{this.routeTo(o.trim())}))],this.config.post(()=>{this.menuLinksOld=this.uiConfig.setAppRoutes(this.menuLinks)},0)}isComponent(o,c=""){var u;if(this.components.length<=0)return!1;let h=this.components[0].data,d=h instanceof Hc?h:null,f=null===(u=null==d?void 0:d.component)||void 0===u?void 0:u.data;return(null==f?void 0:f.text)==o&&((null==f?void 0:f.link.chapter)==c||!c)||""==o&&!!(null==f?void 0:f.text)}routeToHelp(o="1"){this.isComponent(this.helpBookName,o)&&"1"===o?this.routeTo(""):this.routeTo(this.helpBookName,o,0)}routeTo(o,c="",u=-1){let h=o,d=c,f=u;if("\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==h)return void this.routeToHelp("3");if("books_help"==h||h==this.helpBookName&&""==d&&f<0)return void this.routeToHelp();if("\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438"==h)return void this.routeToBookmarks();if(h||(h=this.uiConfig.ui.currentBook.getStringValue()),!h||["UP","DOWN","AROUND","CENTER"].map(g=>h.endsWith(g)).reduce((g,m)=>g||m,!1))return;h!=this.uiConfig.ui.currentBook.getStringValue()&&h!=this.helpBookName&&this.uiConfig.ui.currentBook.setStringValue(h);let p=!1;h==this.helpBookName&&("3"!=d&&(d="1"),f=0,p=!0),this.components=[new Yi(qb,Hc.builder().setComponent(new Yi(cf,Gu.builder().setText(h).setMenu(this.menuLinks).setForceMenu(!0).setHideUI(p).setFacePage(!0).setLink(Hu.builder().setChapter(d).setStartLine(f).setEndLine(f>=0?1e3:-1).setOnRoute(g=>{g?this.routeTo(g.trim()):this.reset()})))))]}routeToBookmarks(){this.components=[new Yi(qb,Hc.builder().setComponent(new Yi(dte,mv.builder().setText("bookmark").setOnClick(o=>{let c="string"==typeof o?o:null,u=c||this.uiConfig.ui.currentBook.getStringValue();u&&null!=c?this.routeTo(u):this.reset()}))))]}}return l.\u0275fac=function(o){return new(o||l)(N(kn),N($i),N(WL),N(as))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-books"]],features:[pn],decls:2,vars:1,consts:[[1,"ftext-no","fade-in-3-no"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(o,c){1&o&&(A(0,"div",0),Q(1,yUe,2,1,"div",1),I()),2&o&&(z(1),U("ngForOf",c.components))},directives:[or,Wh],styles:[""]}),l})();function xUe(l,a){if(1&l&&(A(0,"div"),ye(1,"app-add-component",3),I()),2&l){const o=a.$implicit;z(1),U("component",o)}}let CUe=(()=>{class l extends YT{constructor(o,c,u){super(o,c),this.memDataSvc=u,this.appBookName="\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a APP_MMR",this.helpBookName="\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP",this.errorsData=Qp.builder(),this.addMenuLink(Wi.builder().setLink("#").setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438").setShape("users").setOnClick(()=>{this.reset("2")}).setIsActive(()=>this.isComponent(this.appBookName,"2"))).addMenuLink(Wi.builder().setLink("#").setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438").setShape("book").setOnClick(()=>{this.reset("1")}).setIsActive(()=>this.isComponent(this.appBookName,"1"))),this.config.isRestServerType()&&this.addMenuLink(Wi.builder().setLink("#").setName("\u041f\u043e\u0438\u0441\u043a").setShape("search").setOnClick(()=>{this.routeToBookmarks()}).setIsActive(()=>this.isComponentType(Hc,mv))),this.addMenuLink(Wi.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.routeToHelp()}).setIsActive(()=>this.isComponent(this.helpBookName)))}isComponent(o,c=""){var u;if(this.components.length<=0)return!1;let d=null===(u=this.components[0].data.component)||void 0===u?void 0:u.data;return(null==d?void 0:d.text)==o&&(!c||(null==d?void 0:d.link.chapter)==c)}ngAfterViewInit(){this.memDataSvc.setup(o=>{if("confidential"===pageRequestedDoc)pageRequestedDoc="",this.routeToHelpDelayed("4");else if(this.uiConfig.ui.visitedMemorialHelp.getStringValue()!==this.config.environment.version)this.routeToHelpDelayed();else{let c=this.uiConfig.ui.memorialBook.getStringValue(),u=this.uiConfig.ui.memorialChapter.getStringValue(),h=this.uiConfig.ui.memorialLine.getNumberValue();c?this.routeTo(c,u,h):this.resetDelayed()}}),super.ngAfterViewInit()}resetDelayed(o="2"){this.config.post(()=>{this.reset(o)})}reset(o="2"){this.routeTo(this.appBookName,o,1)}routeToHelpDelayed(o="2"){this.config.post(()=>{this.routeToHelp(o)})}routeToHelp(o="2"){this.isComponent(this.helpBookName,o)&&"2"===o?this.reset():this.routeTo(this.helpBookName,o,1)}routeToDelayed(o,c="",u=-1){this.config.post(()=>{this.routeTo(o,c,u)})}routeTo(o,c="",u=-1){let h=o;if(h){if("\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==h)return void this.routeToHelpDelayed("4");if("books_help"==h||h==this.helpBookName&&""==c&&u<=0)return void this.routeToHelpDelayed();""==c&&(c="1"),u<0&&(u=1),this.uiConfig.ui.memorialBook.setStringValue(h),this.uiConfig.ui.memorialChapter.setStringValue(c),this.uiConfig.ui.memorialLine.setNumberValue(u),this.setComponentsDelayed([new Yi(qb,Hc.builder().setComponent(new Yi(cf,Gu.builder().setText(h).setMenu(this.menuLinks).setHideUI(!0).setShowPrintButtons(!0).setHandleMemorialNewTitle("MemorialMainWindow").setParallel(!0).setLinebreaks(!0).setAutoPrint(!0).setLink(Hu.builder().setBookName(h).setChapter(c).setStartLine(u).setEndLine(1e3).setOnRoute(d=>{d?this.routeToDelayed(d.trim()):this.resetDelayed()})))))])}}routeToBookmarks(){this.components=[new Yi(qb,Hc.builder().setComponent(new Yi(dte,mv.builder().setText("bookmark").setStartSearch(!0).setOnClick(o=>{if(this.config.post(()=>{this.applyMenuAppRoutes(!0)}),"\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==o)this.routeToHelp("4");else if(o){let c=pv.builder().parse(o),u=c[0]?c[0][0]:null;u&&(null==u?void 0:u.type)==za.Link?(this.uiConfig.ui.memorialChapterRequested.setNumberValue(u.startChapter),this.resetDelayed("1")):this.routeToHelpDelayed()}else this.resetDelayed(null==o?"2":"1")}))))]}setComponentsDelayed(o){this.config.post(()=>{this.components=o})}clearErrors(){this.errorsData.setErrors([])}setErrors(o){this.errorsData.setErrors(o).updateClasses(c=>c.setAlertClass("alert-danger"))}onNewMemorial(){this.clearErrors(),this.newMemorial("\u0430\u0432\u0442\u043e\u0440\u044b")}onDeleteAllMemorials(){var o,c,u;this.clearErrors(),(null===(o=this.memDataSvc.memorials)||void 0===o?void 0:o.items.length)&&(null===(c=this.memDataSvc.memorials)||void 0===c||c.deleteMemorial(null===(u=this.memDataSvc.memorials)||void 0===u?void 0:u.items[0]))}newMemorial(o){var c;null===(c=this.memDataSvc.memorials)||void 0===c||c.newMemorial(o,u=>{u.success?this.memDataSvc.getMemorials().reloadMemorials(h=>{h&&this.memDataSvc.getPersons().reloadPersons()}):this.setErrors([u.error])})}}return l.\u0275fac=function(o){return new(o||l)(N(kn),N($i),N(jL))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-memorial"]],features:[pn],decls:3,vars:2,consts:[[1,"ftext-no","fade-in-3-no"],[3,"data"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(o,c){1&o&&(A(0,"div",0),ye(1,"app-dynamic-errors",1),Q(2,xUe,2,1,"div",2),I()),2&o&&(z(1),U("data",c.errorsData),z(1),U("ngForOf",c.components))},directives:[oM,or,Wh],styles:[""]}),l})();const bv=1e3,Ua=1001,Ks=1003,Is=1006,ng=1009,ig=1014,hf=1015,Xb=1016,Cv=1020,Gc=1023,rg=1026,wv=1027,sg=3e3,Qr=3001,qh="srgb",og="srgb-linear";class Dv{addEventListener(a,o){void 0===this._listeners&&(this._listeners={});const c=this._listeners;void 0===c[a]&&(c[a]=[]),-1===c[a].indexOf(o)&&c[a].push(o)}hasEventListener(a,o){if(void 0===this._listeners)return!1;const c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(o)}removeEventListener(a,o){if(void 0===this._listeners)return;const u=this._listeners[a];if(void 0!==u){const h=u.indexOf(o);-1!==h&&u.splice(h,1)}}dispatchEvent(a){if(void 0===this._listeners)return;const c=this._listeners[a.type];if(void 0!==c){a.target=this;const u=c.slice(0);for(let h=0,d=u.length;h<d;h++)u[h].call(this,a);a.target=null}}}const Go=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],ag=Math.PI/180,Kb=180/Math.PI;function xl(){const l=4294967295*Math.random()|0,a=4294967295*Math.random()|0,o=4294967295*Math.random()|0,c=4294967295*Math.random()|0;return(Go[255&l]+Go[l>>8&255]+Go[l>>16&255]+Go[l>>24&255]+"-"+Go[255&a]+Go[a>>8&255]+"-"+Go[a>>16&15|64]+Go[a>>24&255]+"-"+Go[63&o|128]+Go[o>>8&255]+"-"+Go[o>>16&255]+Go[o>>24&255]+Go[255&c]+Go[c>>8&255]+Go[c>>16&255]+Go[c>>24&255]).toLowerCase()}function bs(l,a,o){return Math.max(a,Math.min(o,l))}function Qb(l,a,o){return(1-o)*l+o*a}function WN(l){return 0==(l&l-1)&&0!==l}function xM(l){return Math.pow(2,Math.floor(Math.log(l)/Math.LN2))}class ut{constructor(a=0,o=0){ut.prototype.isVector2=!0,this.x=a,this.y=o}get width(){return this.x}set width(a){this.x=a}get height(){return this.y}set height(a){this.y=a}set(a,o){return this.x=a,this.y=o,this}setScalar(a){return this.x=a,this.y=a,this}setX(a){return this.x=a,this}setY(a){return this.y=a,this}setComponent(a,o){switch(a){case 0:this.x=o;break;case 1:this.y=o;break;default:throw new Error("index is out of range: "+a)}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+a)}}clone(){return new this.constructor(this.x,this.y)}copy(a){return this.x=a.x,this.y=a.y,this}add(a,o){return void 0!==o?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,o)):(this.x+=a.x,this.y+=a.y,this)}addScalar(a){return this.x+=a,this.y+=a,this}addVectors(a,o){return this.x=a.x+o.x,this.y=a.y+o.y,this}addScaledVector(a,o){return this.x+=a.x*o,this.y+=a.y*o,this}sub(a,o){return void 0!==o?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,o)):(this.x-=a.x,this.y-=a.y,this)}subScalar(a){return this.x-=a,this.y-=a,this}subVectors(a,o){return this.x=a.x-o.x,this.y=a.y-o.y,this}multiply(a){return this.x*=a.x,this.y*=a.y,this}multiplyScalar(a){return this.x*=a,this.y*=a,this}divide(a){return this.x/=a.x,this.y/=a.y,this}divideScalar(a){return this.multiplyScalar(1/a)}applyMatrix3(a){const o=this.x,c=this.y,u=a.elements;return this.x=u[0]*o+u[3]*c+u[6],this.y=u[1]*o+u[4]*c+u[7],this}min(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this}max(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this}clamp(a,o){return this.x=Math.max(a.x,Math.min(o.x,this.x)),this.y=Math.max(a.y,Math.min(o.y,this.y)),this}clampScalar(a,o){return this.x=Math.max(a,Math.min(o,this.x)),this.y=Math.max(a,Math.min(o,this.y)),this}clampLength(a,o){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(o,c)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(a){return this.x*a.x+this.y*a.y}cross(a){return this.x*a.y-this.y*a.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const o=this.x-a.x,c=this.y-a.y;return o*o+c*c}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,o){return this.x+=(a.x-this.x)*o,this.y+=(a.y-this.y)*o,this}lerpVectors(a,o,c){return this.x=a.x+(o.x-a.x)*c,this.y=a.y+(o.y-a.y)*c,this}equals(a){return a.x===this.x&&a.y===this.y}fromArray(a,o=0){return this.x=a[o],this.y=a[o+1],this}toArray(a=[],o=0){return a[o]=this.x,a[o+1]=this.y,a}fromBufferAttribute(a,o,c){return void 0!==c&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=a.getX(o),this.y=a.getY(o),this}rotateAround(a,o){const c=Math.cos(o),u=Math.sin(o),h=this.x-a.x,d=this.y-a.y;return this.x=h*c-d*u+a.x,this.y=h*u+d*c+a.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ha{constructor(){Ha.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(a,o,c,u,h,d,f,p,g){const m=this.elements;return m[0]=a,m[1]=u,m[2]=f,m[3]=o,m[4]=h,m[5]=p,m[6]=c,m[7]=d,m[8]=g,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(a){const o=this.elements,c=a.elements;return o[0]=c[0],o[1]=c[1],o[2]=c[2],o[3]=c[3],o[4]=c[4],o[5]=c[5],o[6]=c[6],o[7]=c[7],o[8]=c[8],this}extractBasis(a,o,c){return a.setFromMatrix3Column(this,0),o.setFromMatrix3Column(this,1),c.setFromMatrix3Column(this,2),this}setFromMatrix4(a){const o=a.elements;return this.set(o[0],o[4],o[8],o[1],o[5],o[9],o[2],o[6],o[10]),this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,o){const c=a.elements,u=o.elements,h=this.elements,d=c[0],f=c[3],p=c[6],g=c[1],m=c[4],v=c[7],_=c[2],y=c[5],b=c[8],C=u[0],x=u[3],w=u[6],S=u[1],M=u[4],T=u[7],E=u[2],k=u[5],R=u[8];return h[0]=d*C+f*S+p*E,h[3]=d*x+f*M+p*k,h[6]=d*w+f*T+p*R,h[1]=g*C+m*S+v*E,h[4]=g*x+m*M+v*k,h[7]=g*w+m*T+v*R,h[2]=_*C+y*S+b*E,h[5]=_*x+y*M+b*k,h[8]=_*w+y*T+b*R,this}multiplyScalar(a){const o=this.elements;return o[0]*=a,o[3]*=a,o[6]*=a,o[1]*=a,o[4]*=a,o[7]*=a,o[2]*=a,o[5]*=a,o[8]*=a,this}determinant(){const a=this.elements,o=a[0],c=a[1],u=a[2],h=a[3],d=a[4],f=a[5],p=a[6],g=a[7],m=a[8];return o*d*m-o*f*g-c*h*m+c*f*p+u*h*g-u*d*p}invert(){const a=this.elements,o=a[0],c=a[1],u=a[2],h=a[3],d=a[4],f=a[5],p=a[6],g=a[7],m=a[8],v=m*d-f*g,_=f*p-m*h,y=g*h-d*p,b=o*v+c*_+u*y;if(0===b)return this.set(0,0,0,0,0,0,0,0,0);const C=1/b;return a[0]=v*C,a[1]=(u*g-m*c)*C,a[2]=(f*c-u*d)*C,a[3]=_*C,a[4]=(m*o-u*p)*C,a[5]=(u*h-f*o)*C,a[6]=y*C,a[7]=(c*p-g*o)*C,a[8]=(d*o-c*h)*C,this}transpose(){let a;const o=this.elements;return a=o[1],o[1]=o[3],o[3]=a,a=o[2],o[2]=o[6],o[6]=a,a=o[5],o[5]=o[7],o[7]=a,this}getNormalMatrix(a){return this.setFromMatrix4(a).invert().transpose()}transposeIntoArray(a){const o=this.elements;return a[0]=o[0],a[1]=o[3],a[2]=o[6],a[3]=o[1],a[4]=o[4],a[5]=o[7],a[6]=o[2],a[7]=o[5],a[8]=o[8],this}setUvTransform(a,o,c,u,h,d,f){const p=Math.cos(h),g=Math.sin(h);return this.set(c*p,c*g,-c*(p*d+g*f)+d+a,-u*g,u*p,-u*(-g*d+p*f)+f+o,0,0,1),this}scale(a,o){const c=this.elements;return c[0]*=a,c[3]*=a,c[6]*=a,c[1]*=o,c[4]*=o,c[7]*=o,this}rotate(a){const o=Math.cos(a),c=Math.sin(a),u=this.elements,h=u[0],d=u[3],f=u[6],p=u[1],g=u[4],m=u[7];return u[0]=o*h+c*p,u[3]=o*d+c*g,u[6]=o*f+c*m,u[1]=-c*h+o*p,u[4]=-c*d+o*g,u[7]=-c*f+o*m,this}translate(a,o){const c=this.elements;return c[0]+=a*c[2],c[3]+=a*c[5],c[6]+=a*c[8],c[1]+=o*c[2],c[4]+=o*c[5],c[7]+=o*c[8],this}equals(a){const o=this.elements,c=a.elements;for(let u=0;u<9;u++)if(o[u]!==c[u])return!1;return!0}fromArray(a,o=0){for(let c=0;c<9;c++)this.elements[c]=a[c+o];return this}toArray(a=[],o=0){const c=this.elements;return a[o]=c[0],a[o+1]=c[1],a[o+2]=c[2],a[o+3]=c[3],a[o+4]=c[4],a[o+5]=c[5],a[o+6]=c[6],a[o+7]=c[7],a[o+8]=c[8],a}clone(){return(new this.constructor).fromArray(this.elements)}}function Kte(l){for(let a=l.length-1;a>=0;--a)if(l[a]>65535)return!0;return!1}function Jb(l){return document.createElementNS("http://www.w3.org/1999/xhtml",l)}function lg(l){return l<.04045?.0773993808*l:Math.pow(.9478672986*l+.0521327014,2.4)}function CM(l){return l<.0031308?12.92*l:1.055*Math.pow(l,.41666)-.055}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const jN={[qh]:{[og]:lg},[og]:{[qh]:CM}},Wc={legacyMode:!0,get workingColorSpace(){return og},set workingColorSpace(l){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(l,a,o){if(this.legacyMode||a===o||!a||!o)return l;if(jN[a]&&void 0!==jN[a][o]){const c=jN[a][o];return l.r=c(l.r),l.g=c(l.g),l.b=c(l.b),l}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(l,a){return this.convert(l,this.workingColorSpace,a)},toWorkingColorSpace:function(l,a){return this.convert(l,a,this.workingColorSpace)}},Qte={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Qs={r:0,g:0,b:0},jc={h:0,s:0,l:0},wM={h:0,s:0,l:0};function $N(l,a,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?l+6*(a-l)*o:o<.5?a:o<2/3?l+6*(a-l)*(2/3-o):l}function SM(l,a){return a.r=l.r,a.g=l.g,a.b=l.b,a}let kv,tn=(()=>{class l{constructor(o,c,u){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===c&&void 0===u?this.set(o):this.setRGB(o,c,u)}set(o){return o&&o.isColor?this.copy(o):"number"==typeof o?this.setHex(o):"string"==typeof o&&this.setStyle(o),this}setScalar(o){return this.r=o,this.g=o,this.b=o,this}setHex(o,c=qh){return o=Math.floor(o),this.r=(o>>16&255)/255,this.g=(o>>8&255)/255,this.b=(255&o)/255,Wc.toWorkingColorSpace(this,c),this}setRGB(o,c,u,h=og){return this.r=o,this.g=c,this.b=u,Wc.toWorkingColorSpace(this,h),this}setHSL(o,c,u,h=og){if(o=function GN(l,a){return(l%a+a)%a}(o,1),c=bs(c,0,1),u=bs(u,0,1),0===c)this.r=this.g=this.b=u;else{const d=u<=.5?u*(1+c):u+c-u*c,f=2*u-d;this.r=$N(f,d,o+1/3),this.g=$N(f,d,o),this.b=$N(f,d,o-1/3)}return Wc.toWorkingColorSpace(this,h),this}setStyle(o,c=qh){function u(d){void 0!==d&&parseFloat(d)<1&&console.warn("THREE.Color: Alpha component of "+o+" will be ignored.")}let h;if(h=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(o)){let d;const p=h[2];switch(h[1]){case"rgb":case"rgba":if(d=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return this.r=Math.min(255,parseInt(d[1],10))/255,this.g=Math.min(255,parseInt(d[2],10))/255,this.b=Math.min(255,parseInt(d[3],10))/255,Wc.toWorkingColorSpace(this,c),u(d[4]),this;if(d=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return this.r=Math.min(100,parseInt(d[1],10))/100,this.g=Math.min(100,parseInt(d[2],10))/100,this.b=Math.min(100,parseInt(d[3],10))/100,Wc.toWorkingColorSpace(this,c),u(d[4]),this;break;case"hsl":case"hsla":if(d=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p)){const g=parseFloat(d[1])/360,m=parseInt(d[2],10)/100,v=parseInt(d[3],10)/100;return u(d[4]),this.setHSL(g,m,v,c)}}}else if(h=/^\#([A-Fa-f\d]+)$/.exec(o)){const d=h[1],f=d.length;if(3===f)return this.r=parseInt(d.charAt(0)+d.charAt(0),16)/255,this.g=parseInt(d.charAt(1)+d.charAt(1),16)/255,this.b=parseInt(d.charAt(2)+d.charAt(2),16)/255,Wc.toWorkingColorSpace(this,c),this;if(6===f)return this.r=parseInt(d.charAt(0)+d.charAt(1),16)/255,this.g=parseInt(d.charAt(2)+d.charAt(3),16)/255,this.b=parseInt(d.charAt(4)+d.charAt(5),16)/255,Wc.toWorkingColorSpace(this,c),this}return o&&o.length>0?this.setColorName(o,c):this}setColorName(o,c=qh){const u=Qte[o.toLowerCase()];return void 0!==u?this.setHex(u,c):console.warn("THREE.Color: Unknown color "+o),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(o){return this.r=o.r,this.g=o.g,this.b=o.b,this}copySRGBToLinear(o){return this.r=lg(o.r),this.g=lg(o.g),this.b=lg(o.b),this}copyLinearToSRGB(o){return this.r=CM(o.r),this.g=CM(o.g),this.b=CM(o.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(o=qh){return Wc.fromWorkingColorSpace(SM(this,Qs),o),bs(255*Qs.r,0,255)<<16^bs(255*Qs.g,0,255)<<8^bs(255*Qs.b,0,255)<<0}getHexString(o=qh){return("000000"+this.getHex(o).toString(16)).slice(-6)}getHSL(o,c=og){Wc.fromWorkingColorSpace(SM(this,Qs),c);const u=Qs.r,h=Qs.g,d=Qs.b,f=Math.max(u,h,d),p=Math.min(u,h,d);let g,m;const v=(p+f)/2;if(p===f)g=0,m=0;else{const _=f-p;switch(m=v<=.5?_/(f+p):_/(2-f-p),f){case u:g=(h-d)/_+(h<d?6:0);break;case h:g=(d-u)/_+2;break;case d:g=(u-h)/_+4}g/=6}return o.h=g,o.s=m,o.l=v,o}getRGB(o,c=og){return Wc.fromWorkingColorSpace(SM(this,Qs),c),o.r=Qs.r,o.g=Qs.g,o.b=Qs.b,o}getStyle(o=qh){return Wc.fromWorkingColorSpace(SM(this,Qs),o),o!==qh?`color(${o} ${Qs.r} ${Qs.g} ${Qs.b})`:`rgb(${255*Qs.r|0},${255*Qs.g|0},${255*Qs.b|0})`}offsetHSL(o,c,u){return this.getHSL(jc),jc.h+=o,jc.s+=c,jc.l+=u,this.setHSL(jc.h,jc.s,jc.l),this}add(o){return this.r+=o.r,this.g+=o.g,this.b+=o.b,this}addColors(o,c){return this.r=o.r+c.r,this.g=o.g+c.g,this.b=o.b+c.b,this}addScalar(o){return this.r+=o,this.g+=o,this.b+=o,this}sub(o){return this.r=Math.max(0,this.r-o.r),this.g=Math.max(0,this.g-o.g),this.b=Math.max(0,this.b-o.b),this}multiply(o){return this.r*=o.r,this.g*=o.g,this.b*=o.b,this}multiplyScalar(o){return this.r*=o,this.g*=o,this.b*=o,this}lerp(o,c){return this.r+=(o.r-this.r)*c,this.g+=(o.g-this.g)*c,this.b+=(o.b-this.b)*c,this}lerpColors(o,c,u){return this.r=o.r+(c.r-o.r)*u,this.g=o.g+(c.g-o.g)*u,this.b=o.b+(c.b-o.b)*u,this}lerpHSL(o,c){this.getHSL(jc),o.getHSL(wM);const u=Qb(jc.h,wM.h,c),h=Qb(jc.s,wM.s,c),d=Qb(jc.l,wM.l,c);return this.setHSL(u,h,d),this}equals(o){return o.r===this.r&&o.g===this.g&&o.b===this.b}fromArray(o,c=0){return this.r=o[c],this.g=o[c+1],this.b=o[c+2],this}toArray(o=[],c=0){return o[c]=this.r,o[c+1]=this.g,o[c+2]=this.b,o}fromBufferAttribute(o,c){return this.r=o.getX(c),this.g=o.getY(c),this.b=o.getZ(c),!0===o.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}return l.NAMES=Qte,l})();class Jte{static getDataURL(a){if(/^data:/i.test(a.src)||"undefined"==typeof HTMLCanvasElement)return a.src;let o;if(a instanceof HTMLCanvasElement)o=a;else{void 0===kv&&(kv=Jb("canvas")),kv.width=a.width,kv.height=a.height;const c=kv.getContext("2d");a instanceof ImageData?c.putImageData(a,0,0):c.drawImage(a,0,0,a.width,a.height),o=kv}return o.width>2048||o.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",a),o.toDataURL("image/jpeg",.6)):o.toDataURL("image/png")}static sRGBToLinear(a){if("undefined"!=typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&a instanceof ImageBitmap){const o=Jb("canvas");o.width=a.width,o.height=a.height;const c=o.getContext("2d");c.drawImage(a,0,0,a.width,a.height);const u=c.getImageData(0,0,a.width,a.height),h=u.data;for(let d=0;d<h.length;d++)h[d]=255*lg(h[d]/255);return c.putImageData(u,0,0),o}if(a.data){const o=a.data.slice(0);for(let c=0;c<o.length;c++)o[c]=o instanceof Uint8Array||o instanceof Uint8ClampedArray?Math.floor(255*lg(o[c]/255)):lg(o[c]);return{data:o,width:a.width,height:a.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),a}}class Av{constructor(a=null){this.isSource=!0,this.uuid=xl(),this.data=a,this.version=0}set needsUpdate(a){!0===a&&this.version++}toJSON(a){const o=void 0===a||"string"==typeof a;if(!o&&void 0!==a.images[this.uuid])return a.images[this.uuid];const c={uuid:this.uuid,url:""},u=this.data;if(null!==u){let h;if(Array.isArray(u)){h=[];for(let d=0,f=u.length;d<f;d++)h.push(qN(u[d].isDataTexture?u[d].image:u[d]))}else h=qN(u);c.url=h}return o||(a.images[this.uuid]=c),c}}function qN(l){return"undefined"!=typeof HTMLImageElement&&l instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&l instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&l instanceof ImageBitmap?Jte.getDataURL(l):l.data?{data:Array.from(l.data),width:l.width,height:l.height,type:l.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let RHe=0,$u=(()=>{class l extends Dv{constructor(o=l.DEFAULT_IMAGE,c=l.DEFAULT_MAPPING,u=Ua,h=Ua,d=Is,f=1008,p=Gc,g=ng,m=1,v=sg){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:RHe++}),this.uuid=xl(),this.name="",this.source=new Av(o),this.mipmaps=[],this.mapping=c,this.wrapS=u,this.wrapT=h,this.magFilter=d,this.minFilter=f,this.anisotropy=m,this.format=p,this.internalFormat=null,this.type=g,this.offset=new ut(0,0),this.repeat=new ut(1,1),this.center=new ut(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ha,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=v,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(o){this.source.data=o}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(o){return this.name=o.name,this.source=o.source,this.mipmaps=o.mipmaps.slice(0),this.mapping=o.mapping,this.wrapS=o.wrapS,this.wrapT=o.wrapT,this.magFilter=o.magFilter,this.minFilter=o.minFilter,this.anisotropy=o.anisotropy,this.format=o.format,this.internalFormat=o.internalFormat,this.type=o.type,this.offset.copy(o.offset),this.repeat.copy(o.repeat),this.center.copy(o.center),this.rotation=o.rotation,this.matrixAutoUpdate=o.matrixAutoUpdate,this.matrix.copy(o.matrix),this.generateMipmaps=o.generateMipmaps,this.premultiplyAlpha=o.premultiplyAlpha,this.flipY=o.flipY,this.unpackAlignment=o.unpackAlignment,this.encoding=o.encoding,this.userData=JSON.parse(JSON.stringify(o.userData)),this.needsUpdate=!0,this}toJSON(o){const c=void 0===o||"string"==typeof o;if(!c&&void 0!==o.textures[this.uuid])return o.textures[this.uuid];const u={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(o).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(u.userData=this.userData),c||(o.textures[this.uuid]=u),u}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(o){if(300!==this.mapping)return o;if(o.applyMatrix3(this.matrix),o.x<0||o.x>1)switch(this.wrapS){case bv:o.x=o.x-Math.floor(o.x);break;case Ua:o.x=o.x<0?0:1;break;case 1002:o.x=1===Math.abs(Math.floor(o.x)%2)?Math.ceil(o.x)-o.x:o.x-Math.floor(o.x)}if(o.y<0||o.y>1)switch(this.wrapT){case bv:o.y=o.y-Math.floor(o.y);break;case Ua:o.y=o.y<0?0:1;break;case 1002:o.y=1===Math.abs(Math.floor(o.y)%2)?Math.ceil(o.y)-o.y:o.y-Math.floor(o.y)}return this.flipY&&(o.y=1-o.y),o}set needsUpdate(o){!0===o&&(this.version++,this.source.needsUpdate=!0)}}return l.DEFAULT_IMAGE=null,l.DEFAULT_MAPPING=300,l})();class Bi{constructor(a=0,o=0,c=0,u=1){Bi.prototype.isVector4=!0,this.x=a,this.y=o,this.z=c,this.w=u}get width(){return this.z}set width(a){this.z=a}get height(){return this.w}set height(a){this.w=a}set(a,o,c,u){return this.x=a,this.y=o,this.z=c,this.w=u,this}setScalar(a){return this.x=a,this.y=a,this.z=a,this.w=a,this}setX(a){return this.x=a,this}setY(a){return this.y=a,this}setZ(a){return this.z=a,this}setW(a){return this.w=a,this}setComponent(a,o){switch(a){case 0:this.x=o;break;case 1:this.y=o;break;case 2:this.z=o;break;case 3:this.w=o;break;default:throw new Error("index is out of range: "+a)}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+a)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(a){return this.x=a.x,this.y=a.y,this.z=a.z,this.w=void 0!==a.w?a.w:1,this}add(a,o){return void 0!==o?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,o)):(this.x+=a.x,this.y+=a.y,this.z+=a.z,this.w+=a.w,this)}addScalar(a){return this.x+=a,this.y+=a,this.z+=a,this.w+=a,this}addVectors(a,o){return this.x=a.x+o.x,this.y=a.y+o.y,this.z=a.z+o.z,this.w=a.w+o.w,this}addScaledVector(a,o){return this.x+=a.x*o,this.y+=a.y*o,this.z+=a.z*o,this.w+=a.w*o,this}sub(a,o){return void 0!==o?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,o)):(this.x-=a.x,this.y-=a.y,this.z-=a.z,this.w-=a.w,this)}subScalar(a){return this.x-=a,this.y-=a,this.z-=a,this.w-=a,this}subVectors(a,o){return this.x=a.x-o.x,this.y=a.y-o.y,this.z=a.z-o.z,this.w=a.w-o.w,this}multiply(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z,this.w*=a.w,this}multiplyScalar(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this}applyMatrix4(a){const o=this.x,c=this.y,u=this.z,h=this.w,d=a.elements;return this.x=d[0]*o+d[4]*c+d[8]*u+d[12]*h,this.y=d[1]*o+d[5]*c+d[9]*u+d[13]*h,this.z=d[2]*o+d[6]*c+d[10]*u+d[14]*h,this.w=d[3]*o+d[7]*c+d[11]*u+d[15]*h,this}divideScalar(a){return this.multiplyScalar(1/a)}setAxisAngleFromQuaternion(a){this.w=2*Math.acos(a.w);const o=Math.sqrt(1-a.w*a.w);return o<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=a.x/o,this.y=a.y/o,this.z=a.z/o),this}setAxisAngleFromRotationMatrix(a){let o,c,u,h;const p=a.elements,g=p[0],m=p[4],v=p[8],_=p[1],y=p[5],b=p[9],C=p[2],x=p[6],w=p[10];if(Math.abs(m-_)<.01&&Math.abs(v-C)<.01&&Math.abs(b-x)<.01){if(Math.abs(m+_)<.1&&Math.abs(v+C)<.1&&Math.abs(b+x)<.1&&Math.abs(g+y+w-3)<.1)return this.set(1,0,0,0),this;o=Math.PI;const M=(g+1)/2,T=(y+1)/2,E=(w+1)/2,k=(m+_)/4,R=(v+C)/4,D=(b+x)/4;return M>T&&M>E?M<.01?(c=0,u=.707106781,h=.707106781):(c=Math.sqrt(M),u=k/c,h=R/c):T>E?T<.01?(c=.707106781,u=0,h=.707106781):(u=Math.sqrt(T),c=k/u,h=D/u):E<.01?(c=.707106781,u=.707106781,h=0):(h=Math.sqrt(E),c=R/h,u=D/h),this.set(c,u,h,o),this}let S=Math.sqrt((x-b)*(x-b)+(v-C)*(v-C)+(_-m)*(_-m));return Math.abs(S)<.001&&(S=1),this.x=(x-b)/S,this.y=(v-C)/S,this.z=(_-m)/S,this.w=Math.acos((g+y+w-1)/2),this}min(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this.w=Math.min(this.w,a.w),this}max(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this.w=Math.max(this.w,a.w),this}clamp(a,o){return this.x=Math.max(a.x,Math.min(o.x,this.x)),this.y=Math.max(a.y,Math.min(o.y,this.y)),this.z=Math.max(a.z,Math.min(o.z,this.z)),this.w=Math.max(a.w,Math.min(o.w,this.w)),this}clampScalar(a,o){return this.x=Math.max(a,Math.min(o,this.x)),this.y=Math.max(a,Math.min(o,this.y)),this.z=Math.max(a,Math.min(o,this.z)),this.w=Math.max(a,Math.min(o,this.w)),this}clampLength(a,o){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(o,c)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,o){return this.x+=(a.x-this.x)*o,this.y+=(a.y-this.y)*o,this.z+=(a.z-this.z)*o,this.w+=(a.w-this.w)*o,this}lerpVectors(a,o,c){return this.x=a.x+(o.x-a.x)*c,this.y=a.y+(o.y-a.y)*c,this.z=a.z+(o.z-a.z)*c,this.w=a.w+(o.w-a.w)*c,this}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w}fromArray(a,o=0){return this.x=a[o],this.y=a[o+1],this.z=a[o+2],this.w=a[o+3],this}toArray(a=[],o=0){return a[o]=this.x,a[o+1]=this.y,a[o+2]=this.z,a[o+3]=this.w,a}fromBufferAttribute(a,o,c){return void 0!==c&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=a.getX(o),this.y=a.getY(o),this.z=a.getZ(o),this.w=a.getW(o),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ya extends Dv{constructor(a,o,c={}){super(),this.isWebGLRenderTarget=!0,this.width=a,this.height=o,this.depth=1,this.scissor=new Bi(0,0,a,o),this.scissorTest=!1,this.viewport=new Bi(0,0,a,o),this.texture=new $u({width:a,height:o,depth:1},c.mapping,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==c.generateMipmaps&&c.generateMipmaps,this.texture.internalFormat=void 0!==c.internalFormat?c.internalFormat:null,this.texture.minFilter=void 0!==c.minFilter?c.minFilter:Is,this.depthBuffer=void 0===c.depthBuffer||c.depthBuffer,this.stencilBuffer=void 0!==c.stencilBuffer&&c.stencilBuffer,this.depthTexture=void 0!==c.depthTexture?c.depthTexture:null,this.samples=void 0!==c.samples?c.samples:0}setSize(a,o,c=1){(this.width!==a||this.height!==o||this.depth!==c)&&(this.width=a,this.height=o,this.depth=c,this.texture.image.width=a,this.texture.image.height=o,this.texture.image.depth=c,this.dispose()),this.viewport.set(0,0,a,o),this.scissor.set(0,0,a,o)}clone(){return(new this.constructor).copy(this)}copy(a){this.width=a.width,this.height=a.height,this.depth=a.depth,this.viewport.copy(a.viewport),this.texture=a.texture.clone(),this.texture.isRenderTargetTexture=!0;const o=Object.assign({},a.texture.image);return this.texture.source=new Av(o),this.depthBuffer=a.depthBuffer,this.stencilBuffer=a.stencilBuffer,null!==a.depthTexture&&(this.depthTexture=a.depthTexture.clone()),this.samples=a.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class YN extends $u{constructor(a=null,o=1,c=1,u=1){super(null),this.isDataArrayTexture=!0,this.image={data:a,width:o,height:c,depth:u},this.magFilter=Ks,this.minFilter=Ks,this.wrapR=Ua,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ene extends $u{constructor(a=null,o=1,c=1,u=1){super(null),this.isData3DTexture=!0,this.image={data:a,width:o,height:c,depth:u},this.magFilter=Ks,this.minFilter=Ks,this.wrapR=Ua,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Cl{constructor(a=0,o=0,c=0,u=1){this.isQuaternion=!0,this._x=a,this._y=o,this._z=c,this._w=u}static slerp(a,o,c,u){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),c.slerpQuaternions(a,o,u)}static slerpFlat(a,o,c,u,h,d,f){let p=c[u+0],g=c[u+1],m=c[u+2],v=c[u+3];const _=h[d+0],y=h[d+1],b=h[d+2],C=h[d+3];if(0===f)return a[o+0]=p,a[o+1]=g,a[o+2]=m,void(a[o+3]=v);if(1===f)return a[o+0]=_,a[o+1]=y,a[o+2]=b,void(a[o+3]=C);if(v!==C||p!==_||g!==y||m!==b){let x=1-f;const w=p*_+g*y+m*b+v*C,S=w>=0?1:-1,M=1-w*w;if(M>Number.EPSILON){const E=Math.sqrt(M),k=Math.atan2(E,w*S);x=Math.sin(x*k)/E,f=Math.sin(f*k)/E}const T=f*S;if(p=p*x+_*T,g=g*x+y*T,m=m*x+b*T,v=v*x+C*T,x===1-f){const E=1/Math.sqrt(p*p+g*g+m*m+v*v);p*=E,g*=E,m*=E,v*=E}}a[o]=p,a[o+1]=g,a[o+2]=m,a[o+3]=v}static multiplyQuaternionsFlat(a,o,c,u,h,d){const f=c[u],p=c[u+1],g=c[u+2],m=c[u+3],v=h[d],_=h[d+1],y=h[d+2],b=h[d+3];return a[o]=f*b+m*v+p*y-g*_,a[o+1]=p*b+m*_+g*v-f*y,a[o+2]=g*b+m*y+f*_-p*v,a[o+3]=m*b-f*v-p*_-g*y,a}get x(){return this._x}set x(a){this._x=a,this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a,this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a,this._onChangeCallback()}get w(){return this._w}set w(a){this._w=a,this._onChangeCallback()}set(a,o,c,u){return this._x=a,this._y=o,this._z=c,this._w=u,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(a){return this._x=a.x,this._y=a.y,this._z=a.z,this._w=a.w,this._onChangeCallback(),this}setFromEuler(a,o){if(!a||!a.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const c=a._x,u=a._y,h=a._z,d=a._order,f=Math.cos,p=Math.sin,g=f(c/2),m=f(u/2),v=f(h/2),_=p(c/2),y=p(u/2),b=p(h/2);switch(d){case"XYZ":this._x=_*m*v+g*y*b,this._y=g*y*v-_*m*b,this._z=g*m*b+_*y*v,this._w=g*m*v-_*y*b;break;case"YXZ":this._x=_*m*v+g*y*b,this._y=g*y*v-_*m*b,this._z=g*m*b-_*y*v,this._w=g*m*v+_*y*b;break;case"ZXY":this._x=_*m*v-g*y*b,this._y=g*y*v+_*m*b,this._z=g*m*b+_*y*v,this._w=g*m*v-_*y*b;break;case"ZYX":this._x=_*m*v-g*y*b,this._y=g*y*v+_*m*b,this._z=g*m*b-_*y*v,this._w=g*m*v+_*y*b;break;case"YZX":this._x=_*m*v+g*y*b,this._y=g*y*v+_*m*b,this._z=g*m*b-_*y*v,this._w=g*m*v-_*y*b;break;case"XZY":this._x=_*m*v-g*y*b,this._y=g*y*v-_*m*b,this._z=g*m*b+_*y*v,this._w=g*m*v+_*y*b;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+d)}return!1!==o&&this._onChangeCallback(),this}setFromAxisAngle(a,o){const c=o/2,u=Math.sin(c);return this._x=a.x*u,this._y=a.y*u,this._z=a.z*u,this._w=Math.cos(c),this._onChangeCallback(),this}setFromRotationMatrix(a){const o=a.elements,c=o[0],u=o[4],h=o[8],d=o[1],f=o[5],p=o[9],g=o[2],m=o[6],v=o[10],_=c+f+v;if(_>0){const y=.5/Math.sqrt(_+1);this._w=.25/y,this._x=(m-p)*y,this._y=(h-g)*y,this._z=(d-u)*y}else if(c>f&&c>v){const y=2*Math.sqrt(1+c-f-v);this._w=(m-p)/y,this._x=.25*y,this._y=(u+d)/y,this._z=(h+g)/y}else if(f>v){const y=2*Math.sqrt(1+f-c-v);this._w=(h-g)/y,this._x=(u+d)/y,this._y=.25*y,this._z=(p+m)/y}else{const y=2*Math.sqrt(1+v-c-f);this._w=(d-u)/y,this._x=(h+g)/y,this._y=(p+m)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(a,o){let c=a.dot(o)+1;return c<Number.EPSILON?(c=0,Math.abs(a.x)>Math.abs(a.z)?(this._x=-a.y,this._y=a.x,this._z=0,this._w=c):(this._x=0,this._y=-a.z,this._z=a.y,this._w=c)):(this._x=a.y*o.z-a.z*o.y,this._y=a.z*o.x-a.x*o.z,this._z=a.x*o.y-a.y*o.x,this._w=c),this.normalize()}angleTo(a){return 2*Math.acos(Math.abs(bs(this.dot(a),-1,1)))}rotateTowards(a,o){const c=this.angleTo(a);if(0===c)return this;const u=Math.min(1,o/c);return this.slerp(a,u),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let a=this.length();return 0===a?(this._x=0,this._y=0,this._z=0,this._w=1):(a=1/a,this._x=this._x*a,this._y=this._y*a,this._z=this._z*a,this._w=this._w*a),this._onChangeCallback(),this}multiply(a,o){return void 0!==o?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(a,o)):this.multiplyQuaternions(this,a)}premultiply(a){return this.multiplyQuaternions(a,this)}multiplyQuaternions(a,o){const c=a._x,u=a._y,h=a._z,d=a._w,f=o._x,p=o._y,g=o._z,m=o._w;return this._x=c*m+d*f+u*g-h*p,this._y=u*m+d*p+h*f-c*g,this._z=h*m+d*g+c*p-u*f,this._w=d*m-c*f-u*p-h*g,this._onChangeCallback(),this}slerp(a,o){if(0===o)return this;if(1===o)return this.copy(a);const c=this._x,u=this._y,h=this._z,d=this._w;let f=d*a._w+c*a._x+u*a._y+h*a._z;if(f<0?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,f=-f):this.copy(a),f>=1)return this._w=d,this._x=c,this._y=u,this._z=h,this;const p=1-f*f;if(p<=Number.EPSILON){const y=1-o;return this._w=y*d+o*this._w,this._x=y*c+o*this._x,this._y=y*u+o*this._y,this._z=y*h+o*this._z,this.normalize(),this._onChangeCallback(),this}const g=Math.sqrt(p),m=Math.atan2(g,f),v=Math.sin((1-o)*m)/g,_=Math.sin(o*m)/g;return this._w=d*v+this._w*_,this._x=c*v+this._x*_,this._y=u*v+this._y*_,this._z=h*v+this._z*_,this._onChangeCallback(),this}slerpQuaternions(a,o,c){return this.copy(a).slerp(o,c)}random(){const a=Math.random(),o=Math.sqrt(1-a),c=Math.sqrt(a),u=2*Math.PI*Math.random(),h=2*Math.PI*Math.random();return this.set(o*Math.cos(u),c*Math.sin(h),c*Math.cos(h),o*Math.sin(u))}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w}fromArray(a,o=0){return this._x=a[o],this._y=a[o+1],this._z=a[o+2],this._w=a[o+3],this._onChangeCallback(),this}toArray(a=[],o=0){return a[o]=this._x,a[o+1]=this._y,a[o+2]=this._z,a[o+3]=this._w,a}fromBufferAttribute(a,o){return this._x=a.getX(o),this._y=a.getY(o),this._z=a.getZ(o),this._w=a.getW(o),this}_onChange(a){return this._onChangeCallback=a,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ee{constructor(a=0,o=0,c=0){ee.prototype.isVector3=!0,this.x=a,this.y=o,this.z=c}set(a,o,c){return void 0===c&&(c=this.z),this.x=a,this.y=o,this.z=c,this}setScalar(a){return this.x=a,this.y=a,this.z=a,this}setX(a){return this.x=a,this}setY(a){return this.y=a,this}setZ(a){return this.z=a,this}setComponent(a,o){switch(a){case 0:this.x=o;break;case 1:this.y=o;break;case 2:this.z=o;break;default:throw new Error("index is out of range: "+a)}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+a)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(a){return this.x=a.x,this.y=a.y,this.z=a.z,this}add(a,o){return void 0!==o?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,o)):(this.x+=a.x,this.y+=a.y,this.z+=a.z,this)}addScalar(a){return this.x+=a,this.y+=a,this.z+=a,this}addVectors(a,o){return this.x=a.x+o.x,this.y=a.y+o.y,this.z=a.z+o.z,this}addScaledVector(a,o){return this.x+=a.x*o,this.y+=a.y*o,this.z+=a.z*o,this}sub(a,o){return void 0!==o?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,o)):(this.x-=a.x,this.y-=a.y,this.z-=a.z,this)}subScalar(a){return this.x-=a,this.y-=a,this.z-=a,this}subVectors(a,o){return this.x=a.x-o.x,this.y=a.y-o.y,this.z=a.z-o.z,this}multiply(a,o){return void 0!==o?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(a,o)):(this.x*=a.x,this.y*=a.y,this.z*=a.z,this)}multiplyScalar(a){return this.x*=a,this.y*=a,this.z*=a,this}multiplyVectors(a,o){return this.x=a.x*o.x,this.y=a.y*o.y,this.z=a.z*o.z,this}applyEuler(a){return a&&a.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(tne.setFromEuler(a))}applyAxisAngle(a,o){return this.applyQuaternion(tne.setFromAxisAngle(a,o))}applyMatrix3(a){const o=this.x,c=this.y,u=this.z,h=a.elements;return this.x=h[0]*o+h[3]*c+h[6]*u,this.y=h[1]*o+h[4]*c+h[7]*u,this.z=h[2]*o+h[5]*c+h[8]*u,this}applyNormalMatrix(a){return this.applyMatrix3(a).normalize()}applyMatrix4(a){const o=this.x,c=this.y,u=this.z,h=a.elements,d=1/(h[3]*o+h[7]*c+h[11]*u+h[15]);return this.x=(h[0]*o+h[4]*c+h[8]*u+h[12])*d,this.y=(h[1]*o+h[5]*c+h[9]*u+h[13])*d,this.z=(h[2]*o+h[6]*c+h[10]*u+h[14])*d,this}applyQuaternion(a){const o=this.x,c=this.y,u=this.z,h=a.x,d=a.y,f=a.z,p=a.w,g=p*o+d*u-f*c,m=p*c+f*o-h*u,v=p*u+h*c-d*o,_=-h*o-d*c-f*u;return this.x=g*p+_*-h+m*-f-v*-d,this.y=m*p+_*-d+v*-h-g*-f,this.z=v*p+_*-f+g*-d-m*-h,this}project(a){return this.applyMatrix4(a.matrixWorldInverse).applyMatrix4(a.projectionMatrix)}unproject(a){return this.applyMatrix4(a.projectionMatrixInverse).applyMatrix4(a.matrixWorld)}transformDirection(a){const o=this.x,c=this.y,u=this.z,h=a.elements;return this.x=h[0]*o+h[4]*c+h[8]*u,this.y=h[1]*o+h[5]*c+h[9]*u,this.z=h[2]*o+h[6]*c+h[10]*u,this.normalize()}divide(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z,this}divideScalar(a){return this.multiplyScalar(1/a)}min(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this}max(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this}clamp(a,o){return this.x=Math.max(a.x,Math.min(o.x,this.x)),this.y=Math.max(a.y,Math.min(o.y,this.y)),this.z=Math.max(a.z,Math.min(o.z,this.z)),this}clampScalar(a,o){return this.x=Math.max(a,Math.min(o,this.x)),this.y=Math.max(a,Math.min(o,this.y)),this.z=Math.max(a,Math.min(o,this.z)),this}clampLength(a,o){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(o,c)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,o){return this.x+=(a.x-this.x)*o,this.y+=(a.y-this.y)*o,this.z+=(a.z-this.z)*o,this}lerpVectors(a,o,c){return this.x=a.x+(o.x-a.x)*c,this.y=a.y+(o.y-a.y)*c,this.z=a.z+(o.z-a.z)*c,this}cross(a,o){return void 0!==o?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,o)):this.crossVectors(this,a)}crossVectors(a,o){const c=a.x,u=a.y,h=a.z,d=o.x,f=o.y,p=o.z;return this.x=u*p-h*f,this.y=h*d-c*p,this.z=c*f-u*d,this}projectOnVector(a){const o=a.lengthSq();if(0===o)return this.set(0,0,0);const c=a.dot(this)/o;return this.copy(a).multiplyScalar(c)}projectOnPlane(a){return ZN.copy(this).projectOnVector(a),this.sub(ZN)}reflect(a){return this.sub(ZN.copy(a).multiplyScalar(2*this.dot(a)))}angleTo(a){const o=Math.sqrt(this.lengthSq()*a.lengthSq());if(0===o)return Math.PI/2;const c=this.dot(a)/o;return Math.acos(bs(c,-1,1))}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const o=this.x-a.x,c=this.y-a.y,u=this.z-a.z;return o*o+c*c+u*u}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)}setFromSpherical(a){return this.setFromSphericalCoords(a.radius,a.phi,a.theta)}setFromSphericalCoords(a,o,c){const u=Math.sin(o)*a;return this.x=u*Math.sin(c),this.y=Math.cos(o)*a,this.z=u*Math.cos(c),this}setFromCylindrical(a){return this.setFromCylindricalCoords(a.radius,a.theta,a.y)}setFromCylindricalCoords(a,o,c){return this.x=a*Math.sin(o),this.y=c,this.z=a*Math.cos(o),this}setFromMatrixPosition(a){const o=a.elements;return this.x=o[12],this.y=o[13],this.z=o[14],this}setFromMatrixScale(a){const o=this.setFromMatrixColumn(a,0).length(),c=this.setFromMatrixColumn(a,1).length(),u=this.setFromMatrixColumn(a,2).length();return this.x=o,this.y=c,this.z=u,this}setFromMatrixColumn(a,o){return this.fromArray(a.elements,4*o)}setFromMatrix3Column(a,o){return this.fromArray(a.elements,3*o)}setFromEuler(a){return this.x=a._x,this.y=a._y,this.z=a._z,this}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z}fromArray(a,o=0){return this.x=a[o],this.y=a[o+1],this.z=a[o+2],this}toArray(a=[],o=0){return a[o]=this.x,a[o+1]=this.y,a[o+2]=this.z,a}fromBufferAttribute(a,o,c){return void 0!==c&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=a.getX(o),this.y=a.getY(o),this.z=a.getZ(o),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const a=2*(Math.random()-.5),o=Math.random()*Math.PI*2,c=Math.sqrt(1-a**2);return this.x=c*Math.cos(o),this.y=c*Math.sin(o),this.z=a,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ZN=new ee,tne=new Cl;class Iv{constructor(a=new ee(1/0,1/0,1/0),o=new ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=a,this.max=o}set(a,o){return this.min.copy(a),this.max.copy(o),this}setFromArray(a){let o=1/0,c=1/0,u=1/0,h=-1/0,d=-1/0,f=-1/0;for(let p=0,g=a.length;p<g;p+=3){const m=a[p],v=a[p+1],_=a[p+2];m<o&&(o=m),v<c&&(c=v),_<u&&(u=_),m>h&&(h=m),v>d&&(d=v),_>f&&(f=_)}return this.min.set(o,c,u),this.max.set(h,d,f),this}setFromBufferAttribute(a){let o=1/0,c=1/0,u=1/0,h=-1/0,d=-1/0,f=-1/0;for(let p=0,g=a.count;p<g;p++){const m=a.getX(p),v=a.getY(p),_=a.getZ(p);m<o&&(o=m),v<c&&(c=v),_<u&&(u=_),m>h&&(h=m),v>d&&(d=v),_>f&&(f=_)}return this.min.set(o,c,u),this.max.set(h,d,f),this}setFromPoints(a){this.makeEmpty();for(let o=0,c=a.length;o<c;o++)this.expandByPoint(a[o]);return this}setFromCenterAndSize(a,o){const c=cg.copy(o).multiplyScalar(.5);return this.min.copy(a).sub(c),this.max.copy(a).add(c),this}setFromObject(a,o=!1){return this.makeEmpty(),this.expandByObject(a,o)}clone(){return(new this.constructor).copy(this)}copy(a){return this.min.copy(a.min),this.max.copy(a.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(a){return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)}expandByPoint(a){return this.min.min(a),this.max.max(a),this}expandByVector(a){return this.min.sub(a),this.max.add(a),this}expandByScalar(a){return this.min.addScalar(-a),this.max.addScalar(a),this}expandByObject(a,o=!1){a.updateWorldMatrix(!1,!1);const c=a.geometry;if(void 0!==c)if(o&&null!=c.attributes&&void 0!==c.attributes.position){const h=c.attributes.position;for(let d=0,f=h.count;d<f;d++)cg.fromBufferAttribute(h,d).applyMatrix4(a.matrixWorld),this.expandByPoint(cg)}else null===c.boundingBox&&c.computeBoundingBox(),XN.copy(c.boundingBox),XN.applyMatrix4(a.matrixWorld),this.union(XN);const u=a.children;for(let h=0,d=u.length;h<d;h++)this.expandByObject(u[h],o);return this}containsPoint(a){return!(a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z)}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z}getParameter(a,o){return o.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(a){return!(a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z)}intersectsSphere(a){return this.clampPoint(a.center,cg),cg.distanceToSquared(a.center)<=a.radius*a.radius}intersectsPlane(a){let o,c;return a.normal.x>0?(o=a.normal.x*this.min.x,c=a.normal.x*this.max.x):(o=a.normal.x*this.max.x,c=a.normal.x*this.min.x),a.normal.y>0?(o+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(o+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y),a.normal.z>0?(o+=a.normal.z*this.min.z,c+=a.normal.z*this.max.z):(o+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z),o<=-a.constant&&c>=-a.constant}intersectsTriangle(a){if(this.isEmpty())return!1;this.getCenter(ex),TM.subVectors(this.max,ex),Pv.subVectors(a.a,ex),Ov.subVectors(a.b,ex),Rv.subVectors(a.c,ex),df.subVectors(Ov,Pv),ff.subVectors(Rv,Ov),ug.subVectors(Pv,Rv);let o=[0,-df.z,df.y,0,-ff.z,ff.y,0,-ug.z,ug.y,df.z,0,-df.x,ff.z,0,-ff.x,ug.z,0,-ug.x,-df.y,df.x,0,-ff.y,ff.x,0,-ug.y,ug.x,0];return!(!KN(o,Pv,Ov,Rv,TM)||(o=[1,0,0,0,1,0,0,0,1],!KN(o,Pv,Ov,Rv,TM)))&&(MM.crossVectors(df,ff),o=[MM.x,MM.y,MM.z],KN(o,Pv,Ov,Rv,TM))}clampPoint(a,o){return o.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return cg.copy(a).clamp(this.min,this.max).sub(a).length()}getBoundingSphere(a){return this.getCenter(a.center),a.radius=.5*this.getSize(cg).length(),a}intersect(a){return this.min.max(a.min),this.max.min(a.max),this.isEmpty()&&this.makeEmpty(),this}union(a){return this.min.min(a.min),this.max.max(a.max),this}applyMatrix4(a){return this.isEmpty()||(Yh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(a),Yh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(a),Yh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(a),Yh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(a),Yh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(a),Yh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(a),Yh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(a),Yh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(a),this.setFromPoints(Yh)),this}translate(a){return this.min.add(a),this.max.add(a),this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}const Yh=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],cg=new ee,XN=new Iv,Pv=new ee,Ov=new ee,Rv=new ee,df=new ee,ff=new ee,ug=new ee,ex=new ee,TM=new ee,MM=new ee,hg=new ee;function KN(l,a,o,c,u){for(let h=0,d=l.length-3;h<=d;h+=3){hg.fromArray(l,h);const f=u.x*Math.abs(hg.x)+u.y*Math.abs(hg.y)+u.z*Math.abs(hg.z),p=a.dot(hg),g=o.dot(hg),m=c.dot(hg);if(Math.max(-Math.max(p,g,m),Math.min(p,g,m))>f)return!1}return!0}const FHe=new Iv,nne=new ee,DM=new ee,QN=new ee;class Fv{constructor(a=new ee,o=-1){this.center=a,this.radius=o}set(a,o){return this.center.copy(a),this.radius=o,this}setFromPoints(a,o){const c=this.center;void 0!==o?c.copy(o):FHe.setFromPoints(a).getCenter(c);let u=0;for(let h=0,d=a.length;h<d;h++)u=Math.max(u,c.distanceToSquared(a[h]));return this.radius=Math.sqrt(u),this}copy(a){return this.center.copy(a.center),this.radius=a.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(a){return a.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(a){return a.distanceTo(this.center)-this.radius}intersectsSphere(a){const o=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=o*o}intersectsBox(a){return a.intersectsSphere(this)}intersectsPlane(a){return Math.abs(a.distanceToPoint(this.center))<=this.radius}clampPoint(a,o){const c=this.center.distanceToSquared(a);return o.copy(a),c>this.radius*this.radius&&(o.sub(this.center).normalize(),o.multiplyScalar(this.radius).add(this.center)),o}getBoundingBox(a){return this.isEmpty()?(a.makeEmpty(),a):(a.set(this.center,this.center),a.expandByScalar(this.radius),a)}applyMatrix4(a){return this.center.applyMatrix4(a),this.radius=this.radius*a.getMaxScaleOnAxis(),this}translate(a){return this.center.add(a),this}expandByPoint(a){QN.subVectors(a,this.center);const o=QN.lengthSq();if(o>this.radius*this.radius){const c=Math.sqrt(o),u=.5*(c-this.radius);this.center.add(QN.multiplyScalar(u/c)),this.radius+=u}return this}union(a){return!0===this.center.equals(a.center)?DM.set(0,0,1).multiplyScalar(a.radius):DM.subVectors(a.center,this.center).normalize().multiplyScalar(a.radius),this.expandByPoint(nne.copy(a.center).add(DM)),this.expandByPoint(nne.copy(a.center).sub(DM)),this}equals(a){return a.center.equals(this.center)&&a.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Zh=new ee,JN=new ee,EM=new ee,pf=new ee,eB=new ee,kM=new ee,tB=new ee;class AM{constructor(a=new ee,o=new ee(0,0,-1)){this.origin=a,this.direction=o}set(a,o){return this.origin.copy(a),this.direction.copy(o),this}copy(a){return this.origin.copy(a.origin),this.direction.copy(a.direction),this}at(a,o){return o.copy(this.direction).multiplyScalar(a).add(this.origin)}lookAt(a){return this.direction.copy(a).sub(this.origin).normalize(),this}recast(a){return this.origin.copy(this.at(a,Zh)),this}closestPointToPoint(a,o){o.subVectors(a,this.origin);const c=o.dot(this.direction);return c<0?o.copy(this.origin):o.copy(this.direction).multiplyScalar(c).add(this.origin)}distanceToPoint(a){return Math.sqrt(this.distanceSqToPoint(a))}distanceSqToPoint(a){const o=Zh.subVectors(a,this.origin).dot(this.direction);return o<0?this.origin.distanceToSquared(a):(Zh.copy(this.direction).multiplyScalar(o).add(this.origin),Zh.distanceToSquared(a))}distanceSqToSegment(a,o,c,u){JN.copy(a).add(o).multiplyScalar(.5),EM.copy(o).sub(a).normalize(),pf.copy(this.origin).sub(JN);const h=.5*a.distanceTo(o),d=-this.direction.dot(EM),f=pf.dot(this.direction),p=-pf.dot(EM),g=pf.lengthSq(),m=Math.abs(1-d*d);let v,_,y,b;if(m>0)if(v=d*p-f,_=d*f-p,b=h*m,v>=0)if(_>=-b)if(_<=b){const C=1/m;v*=C,_*=C,y=v*(v+d*_+2*f)+_*(d*v+_+2*p)+g}else _=h,v=Math.max(0,-(d*_+f)),y=-v*v+_*(_+2*p)+g;else _=-h,v=Math.max(0,-(d*_+f)),y=-v*v+_*(_+2*p)+g;else _<=-b?(v=Math.max(0,-(-d*h+f)),_=v>0?-h:Math.min(Math.max(-h,-p),h),y=-v*v+_*(_+2*p)+g):_<=b?(v=0,_=Math.min(Math.max(-h,-p),h),y=_*(_+2*p)+g):(v=Math.max(0,-(d*h+f)),_=v>0?h:Math.min(Math.max(-h,-p),h),y=-v*v+_*(_+2*p)+g);else _=d>0?-h:h,v=Math.max(0,-(d*_+f)),y=-v*v+_*(_+2*p)+g;return c&&c.copy(this.direction).multiplyScalar(v).add(this.origin),u&&u.copy(EM).multiplyScalar(_).add(JN),y}intersectSphere(a,o){Zh.subVectors(a.center,this.origin);const c=Zh.dot(this.direction),u=Zh.dot(Zh)-c*c,h=a.radius*a.radius;if(u>h)return null;const d=Math.sqrt(h-u),f=c-d,p=c+d;return f<0&&p<0?null:this.at(f<0?p:f,o)}intersectsSphere(a){return this.distanceSqToPoint(a.center)<=a.radius*a.radius}distanceToPlane(a){const o=a.normal.dot(this.direction);if(0===o)return 0===a.distanceToPoint(this.origin)?0:null;const c=-(this.origin.dot(a.normal)+a.constant)/o;return c>=0?c:null}intersectPlane(a,o){const c=this.distanceToPlane(a);return null===c?null:this.at(c,o)}intersectsPlane(a){const o=a.distanceToPoint(this.origin);return 0===o||a.normal.dot(this.direction)*o<0}intersectBox(a,o){let c,u,h,d,f,p;const g=1/this.direction.x,m=1/this.direction.y,v=1/this.direction.z,_=this.origin;return g>=0?(c=(a.min.x-_.x)*g,u=(a.max.x-_.x)*g):(c=(a.max.x-_.x)*g,u=(a.min.x-_.x)*g),m>=0?(h=(a.min.y-_.y)*m,d=(a.max.y-_.y)*m):(h=(a.max.y-_.y)*m,d=(a.min.y-_.y)*m),c>d||h>u||((h>c||c!=c)&&(c=h),(d<u||u!=u)&&(u=d),v>=0?(f=(a.min.z-_.z)*v,p=(a.max.z-_.z)*v):(f=(a.max.z-_.z)*v,p=(a.min.z-_.z)*v),c>p||f>u)||((f>c||c!=c)&&(c=f),(p<u||u!=u)&&(u=p),u<0)?null:this.at(c>=0?c:u,o)}intersectsBox(a){return null!==this.intersectBox(a,Zh)}intersectTriangle(a,o,c,u,h){eB.subVectors(o,a),kM.subVectors(c,a),tB.crossVectors(eB,kM);let f,d=this.direction.dot(tB);if(d>0){if(u)return null;f=1}else{if(!(d<0))return null;f=-1,d=-d}pf.subVectors(this.origin,a);const p=f*this.direction.dot(kM.crossVectors(pf,kM));if(p<0)return null;const g=f*this.direction.dot(eB.cross(pf));if(g<0||p+g>d)return null;const m=-f*pf.dot(tB);return m<0?null:this.at(m/d,h)}applyMatrix4(a){return this.origin.applyMatrix4(a),this.direction.transformDirection(a),this}equals(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Qn{constructor(){Qn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(a,o,c,u,h,d,f,p,g,m,v,_,y,b,C,x){const w=this.elements;return w[0]=a,w[4]=o,w[8]=c,w[12]=u,w[1]=h,w[5]=d,w[9]=f,w[13]=p,w[2]=g,w[6]=m,w[10]=v,w[14]=_,w[3]=y,w[7]=b,w[11]=C,w[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Qn).fromArray(this.elements)}copy(a){const o=this.elements,c=a.elements;return o[0]=c[0],o[1]=c[1],o[2]=c[2],o[3]=c[3],o[4]=c[4],o[5]=c[5],o[6]=c[6],o[7]=c[7],o[8]=c[8],o[9]=c[9],o[10]=c[10],o[11]=c[11],o[12]=c[12],o[13]=c[13],o[14]=c[14],o[15]=c[15],this}copyPosition(a){const o=this.elements,c=a.elements;return o[12]=c[12],o[13]=c[13],o[14]=c[14],this}setFromMatrix3(a){const o=a.elements;return this.set(o[0],o[3],o[6],0,o[1],o[4],o[7],0,o[2],o[5],o[8],0,0,0,0,1),this}extractBasis(a,o,c){return a.setFromMatrixColumn(this,0),o.setFromMatrixColumn(this,1),c.setFromMatrixColumn(this,2),this}makeBasis(a,o,c){return this.set(a.x,o.x,c.x,0,a.y,o.y,c.y,0,a.z,o.z,c.z,0,0,0,0,1),this}extractRotation(a){const o=this.elements,c=a.elements,u=1/Lv.setFromMatrixColumn(a,0).length(),h=1/Lv.setFromMatrixColumn(a,1).length(),d=1/Lv.setFromMatrixColumn(a,2).length();return o[0]=c[0]*u,o[1]=c[1]*u,o[2]=c[2]*u,o[3]=0,o[4]=c[4]*h,o[5]=c[5]*h,o[6]=c[6]*h,o[7]=0,o[8]=c[8]*d,o[9]=c[9]*d,o[10]=c[10]*d,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this}makeRotationFromEuler(a){a&&a.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const o=this.elements,c=a.x,u=a.y,h=a.z,d=Math.cos(c),f=Math.sin(c),p=Math.cos(u),g=Math.sin(u),m=Math.cos(h),v=Math.sin(h);if("XYZ"===a.order){const _=d*m,y=d*v,b=f*m,C=f*v;o[0]=p*m,o[4]=-p*v,o[8]=g,o[1]=y+b*g,o[5]=_-C*g,o[9]=-f*p,o[2]=C-_*g,o[6]=b+y*g,o[10]=d*p}else if("YXZ"===a.order){const _=p*m,y=p*v,b=g*m,C=g*v;o[0]=_+C*f,o[4]=b*f-y,o[8]=d*g,o[1]=d*v,o[5]=d*m,o[9]=-f,o[2]=y*f-b,o[6]=C+_*f,o[10]=d*p}else if("ZXY"===a.order){const _=p*m,y=p*v,b=g*m,C=g*v;o[0]=_-C*f,o[4]=-d*v,o[8]=b+y*f,o[1]=y+b*f,o[5]=d*m,o[9]=C-_*f,o[2]=-d*g,o[6]=f,o[10]=d*p}else if("ZYX"===a.order){const _=d*m,y=d*v,b=f*m,C=f*v;o[0]=p*m,o[4]=b*g-y,o[8]=_*g+C,o[1]=p*v,o[5]=C*g+_,o[9]=y*g-b,o[2]=-g,o[6]=f*p,o[10]=d*p}else if("YZX"===a.order){const _=d*p,y=d*g,b=f*p,C=f*g;o[0]=p*m,o[4]=C-_*v,o[8]=b*v+y,o[1]=v,o[5]=d*m,o[9]=-f*m,o[2]=-g*m,o[6]=y*v+b,o[10]=_-C*v}else if("XZY"===a.order){const _=d*p,y=d*g,b=f*p,C=f*g;o[0]=p*m,o[4]=-v,o[8]=g*m,o[1]=_*v+C,o[5]=d*m,o[9]=y*v-b,o[2]=b*v-y,o[6]=f*m,o[10]=C*v+_}return o[3]=0,o[7]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this}makeRotationFromQuaternion(a){return this.compose(LHe,a,NHe)}lookAt(a,o,c){const u=this.elements;return wl.subVectors(a,o),0===wl.lengthSq()&&(wl.z=1),wl.normalize(),gf.crossVectors(c,wl),0===gf.lengthSq()&&(1===Math.abs(c.z)?wl.x+=1e-4:wl.z+=1e-4,wl.normalize(),gf.crossVectors(c,wl)),gf.normalize(),IM.crossVectors(wl,gf),u[0]=gf.x,u[4]=IM.x,u[8]=wl.x,u[1]=gf.y,u[5]=IM.y,u[9]=wl.y,u[2]=gf.z,u[6]=IM.z,u[10]=wl.z,this}multiply(a,o){return void 0!==o?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(a,o)):this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,o){const c=a.elements,u=o.elements,h=this.elements,d=c[0],f=c[4],p=c[8],g=c[12],m=c[1],v=c[5],_=c[9],y=c[13],b=c[2],C=c[6],x=c[10],w=c[14],S=c[3],M=c[7],T=c[11],E=c[15],k=u[0],R=u[4],D=u[8],P=u[12],F=u[1],L=u[5],$=u[9],Y=u[13],O=u[2],V=u[6],B=u[10],G=u[14],H=u[3],j=u[7],W=u[11],Z=u[15];return h[0]=d*k+f*F+p*O+g*H,h[4]=d*R+f*L+p*V+g*j,h[8]=d*D+f*$+p*B+g*W,h[12]=d*P+f*Y+p*G+g*Z,h[1]=m*k+v*F+_*O+y*H,h[5]=m*R+v*L+_*V+y*j,h[9]=m*D+v*$+_*B+y*W,h[13]=m*P+v*Y+_*G+y*Z,h[2]=b*k+C*F+x*O+w*H,h[6]=b*R+C*L+x*V+w*j,h[10]=b*D+C*$+x*B+w*W,h[14]=b*P+C*Y+x*G+w*Z,h[3]=S*k+M*F+T*O+E*H,h[7]=S*R+M*L+T*V+E*j,h[11]=S*D+M*$+T*B+E*W,h[15]=S*P+M*Y+T*G+E*Z,this}multiplyScalar(a){const o=this.elements;return o[0]*=a,o[4]*=a,o[8]*=a,o[12]*=a,o[1]*=a,o[5]*=a,o[9]*=a,o[13]*=a,o[2]*=a,o[6]*=a,o[10]*=a,o[14]*=a,o[3]*=a,o[7]*=a,o[11]*=a,o[15]*=a,this}determinant(){const a=this.elements,o=a[0],c=a[4],u=a[8],h=a[12],d=a[1],f=a[5],p=a[9],g=a[13],m=a[2],v=a[6],_=a[10],y=a[14];return a[3]*(+h*p*v-u*g*v-h*f*_+c*g*_+u*f*y-c*p*y)+a[7]*(+o*p*y-o*g*_+h*d*_-u*d*y+u*g*m-h*p*m)+a[11]*(+o*g*v-o*f*y-h*d*v+c*d*y+h*f*m-c*g*m)+a[15]*(-u*f*m-o*p*v+o*f*_+u*d*v-c*d*_+c*p*m)}transpose(){const a=this.elements;let o;return o=a[1],a[1]=a[4],a[4]=o,o=a[2],a[2]=a[8],a[8]=o,o=a[6],a[6]=a[9],a[9]=o,o=a[3],a[3]=a[12],a[12]=o,o=a[7],a[7]=a[13],a[13]=o,o=a[11],a[11]=a[14],a[14]=o,this}setPosition(a,o,c){const u=this.elements;return a.isVector3?(u[12]=a.x,u[13]=a.y,u[14]=a.z):(u[12]=a,u[13]=o,u[14]=c),this}invert(){const a=this.elements,o=a[0],c=a[1],u=a[2],h=a[3],d=a[4],f=a[5],p=a[6],g=a[7],m=a[8],v=a[9],_=a[10],y=a[11],b=a[12],C=a[13],x=a[14],w=a[15],S=v*x*g-C*_*g+C*p*y-f*x*y-v*p*w+f*_*w,M=b*_*g-m*x*g-b*p*y+d*x*y+m*p*w-d*_*w,T=m*C*g-b*v*g+b*f*y-d*C*y-m*f*w+d*v*w,E=b*v*p-m*C*p-b*f*_+d*C*_+m*f*x-d*v*x,k=o*S+c*M+u*T+h*E;if(0===k)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/k;return a[0]=S*R,a[1]=(C*_*h-v*x*h-C*u*y+c*x*y+v*u*w-c*_*w)*R,a[2]=(f*x*h-C*p*h+C*u*g-c*x*g-f*u*w+c*p*w)*R,a[3]=(v*p*h-f*_*h-v*u*g+c*_*g+f*u*y-c*p*y)*R,a[4]=M*R,a[5]=(m*x*h-b*_*h+b*u*y-o*x*y-m*u*w+o*_*w)*R,a[6]=(b*p*h-d*x*h-b*u*g+o*x*g+d*u*w-o*p*w)*R,a[7]=(d*_*h-m*p*h+m*u*g-o*_*g-d*u*y+o*p*y)*R,a[8]=T*R,a[9]=(b*v*h-m*C*h-b*c*y+o*C*y+m*c*w-o*v*w)*R,a[10]=(d*C*h-b*f*h+b*c*g-o*C*g-d*c*w+o*f*w)*R,a[11]=(m*f*h-d*v*h-m*c*g+o*v*g+d*c*y-o*f*y)*R,a[12]=E*R,a[13]=(m*C*u-b*v*u+b*c*_-o*C*_-m*c*x+o*v*x)*R,a[14]=(b*f*u-d*C*u-b*c*p+o*C*p+d*c*x-o*f*x)*R,a[15]=(d*v*u-m*f*u+m*c*p-o*v*p-d*c*_+o*f*_)*R,this}scale(a){const o=this.elements,c=a.x,u=a.y,h=a.z;return o[0]*=c,o[4]*=u,o[8]*=h,o[1]*=c,o[5]*=u,o[9]*=h,o[2]*=c,o[6]*=u,o[10]*=h,o[3]*=c,o[7]*=u,o[11]*=h,this}getMaxScaleOnAxis(){const a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))}makeTranslation(a,o,c){return this.set(1,0,0,a,0,1,0,o,0,0,1,c,0,0,0,1),this}makeRotationX(a){const o=Math.cos(a),c=Math.sin(a);return this.set(1,0,0,0,0,o,-c,0,0,c,o,0,0,0,0,1),this}makeRotationY(a){const o=Math.cos(a),c=Math.sin(a);return this.set(o,0,c,0,0,1,0,0,-c,0,o,0,0,0,0,1),this}makeRotationZ(a){const o=Math.cos(a),c=Math.sin(a);return this.set(o,-c,0,0,c,o,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(a,o){const c=Math.cos(o),u=Math.sin(o),h=1-c,d=a.x,f=a.y,p=a.z,g=h*d,m=h*f;return this.set(g*d+c,g*f-u*p,g*p+u*f,0,g*f+u*p,m*f+c,m*p-u*d,0,g*p-u*f,m*p+u*d,h*p*p+c,0,0,0,0,1),this}makeScale(a,o,c){return this.set(a,0,0,0,0,o,0,0,0,0,c,0,0,0,0,1),this}makeShear(a,o,c,u,h,d){return this.set(1,c,h,0,a,1,d,0,o,u,1,0,0,0,0,1),this}compose(a,o,c){const u=this.elements,h=o._x,d=o._y,f=o._z,p=o._w,g=h+h,m=d+d,v=f+f,_=h*g,y=h*m,b=h*v,C=d*m,x=d*v,w=f*v,S=p*g,M=p*m,T=p*v,E=c.x,k=c.y,R=c.z;return u[0]=(1-(C+w))*E,u[1]=(y+T)*E,u[2]=(b-M)*E,u[3]=0,u[4]=(y-T)*k,u[5]=(1-(_+w))*k,u[6]=(x+S)*k,u[7]=0,u[8]=(b+M)*R,u[9]=(x-S)*R,u[10]=(1-(_+C))*R,u[11]=0,u[12]=a.x,u[13]=a.y,u[14]=a.z,u[15]=1,this}decompose(a,o,c){const u=this.elements;let h=Lv.set(u[0],u[1],u[2]).length();const d=Lv.set(u[4],u[5],u[6]).length(),f=Lv.set(u[8],u[9],u[10]).length();this.determinant()<0&&(h=-h),a.x=u[12],a.y=u[13],a.z=u[14],$c.copy(this);const g=1/h,m=1/d,v=1/f;return $c.elements[0]*=g,$c.elements[1]*=g,$c.elements[2]*=g,$c.elements[4]*=m,$c.elements[5]*=m,$c.elements[6]*=m,$c.elements[8]*=v,$c.elements[9]*=v,$c.elements[10]*=v,o.setFromRotationMatrix($c),c.x=h,c.y=d,c.z=f,this}makePerspective(a,o,c,u,h,d){void 0===d&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const f=this.elements,g=2*h/(c-u),m=(o+a)/(o-a),v=(c+u)/(c-u),_=-(d+h)/(d-h),y=-2*d*h/(d-h);return f[0]=2*h/(o-a),f[4]=0,f[8]=m,f[12]=0,f[1]=0,f[5]=g,f[9]=v,f[13]=0,f[2]=0,f[6]=0,f[10]=_,f[14]=y,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(a,o,c,u,h,d){const f=this.elements,p=1/(o-a),g=1/(c-u),m=1/(d-h),v=(o+a)*p,_=(c+u)*g,y=(d+h)*m;return f[0]=2*p,f[4]=0,f[8]=0,f[12]=-v,f[1]=0,f[5]=2*g,f[9]=0,f[13]=-_,f[2]=0,f[6]=0,f[10]=-2*m,f[14]=-y,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(a){const o=this.elements,c=a.elements;for(let u=0;u<16;u++)if(o[u]!==c[u])return!1;return!0}fromArray(a,o=0){for(let c=0;c<16;c++)this.elements[c]=a[c+o];return this}toArray(a=[],o=0){const c=this.elements;return a[o]=c[0],a[o+1]=c[1],a[o+2]=c[2],a[o+3]=c[3],a[o+4]=c[4],a[o+5]=c[5],a[o+6]=c[6],a[o+7]=c[7],a[o+8]=c[8],a[o+9]=c[9],a[o+10]=c[10],a[o+11]=c[11],a[o+12]=c[12],a[o+13]=c[13],a[o+14]=c[14],a[o+15]=c[15],a}}const Lv=new ee,$c=new Qn,LHe=new ee(0,0,0),NHe=new ee(1,1,1),gf=new ee,IM=new ee,wl=new ee,ine=new Qn,rne=new Cl;let BHe=(()=>{class l{constructor(o=0,c=0,u=0,h=l.DefaultOrder){this.isEuler=!0,this._x=o,this._y=c,this._z=u,this._order=h}get x(){return this._x}set x(o){this._x=o,this._onChangeCallback()}get y(){return this._y}set y(o){this._y=o,this._onChangeCallback()}get z(){return this._z}set z(o){this._z=o,this._onChangeCallback()}get order(){return this._order}set order(o){this._order=o,this._onChangeCallback()}set(o,c,u,h=this._order){return this._x=o,this._y=c,this._z=u,this._order=h,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(o){return this._x=o._x,this._y=o._y,this._z=o._z,this._order=o._order,this._onChangeCallback(),this}setFromRotationMatrix(o,c=this._order,u=!0){const h=o.elements,d=h[0],f=h[4],p=h[8],g=h[1],m=h[5],v=h[9],_=h[2],y=h[6],b=h[10];switch(c){case"XYZ":this._y=Math.asin(bs(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(-v,b),this._z=Math.atan2(-f,d)):(this._x=Math.atan2(y,m),this._z=0);break;case"YXZ":this._x=Math.asin(-bs(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(p,b),this._z=Math.atan2(g,m)):(this._y=Math.atan2(-_,d),this._z=0);break;case"ZXY":this._x=Math.asin(bs(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-_,b),this._z=Math.atan2(-f,m)):(this._y=0,this._z=Math.atan2(g,d));break;case"ZYX":this._y=Math.asin(-bs(_,-1,1)),Math.abs(_)<.9999999?(this._x=Math.atan2(y,b),this._z=Math.atan2(g,d)):(this._x=0,this._z=Math.atan2(-f,m));break;case"YZX":this._z=Math.asin(bs(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(-v,m),this._y=Math.atan2(-_,d)):(this._x=0,this._y=Math.atan2(p,b));break;case"XZY":this._z=Math.asin(-bs(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(y,m),this._y=Math.atan2(p,d)):(this._x=Math.atan2(-v,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+c)}return this._order=c,!0===u&&this._onChangeCallback(),this}setFromQuaternion(o,c,u){return ine.makeRotationFromQuaternion(o),this.setFromRotationMatrix(ine,c,u)}setFromVector3(o,c=this._order){return this.set(o.x,o.y,o.z,c)}reorder(o){return rne.setFromEuler(this),this.setFromQuaternion(rne,o)}equals(o){return o._x===this._x&&o._y===this._y&&o._z===this._z&&o._order===this._order}fromArray(o){return this._x=o[0],this._y=o[1],this._z=o[2],void 0!==o[3]&&(this._order=o[3]),this._onChangeCallback(),this}toArray(o=[],c=0){return o[c]=this._x,o[c+1]=this._y,o[c+2]=this._z,o[c+3]=this._order,o}_onChange(o){return this._onChangeCallback=o,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}return l.DefaultOrder="XYZ",l.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],l})();class nB{constructor(){this.mask=1}set(a){this.mask=(1<<a|0)>>>0}enable(a){this.mask|=1<<a|0}enableAll(){this.mask=-1}toggle(a){this.mask^=1<<a|0}disable(a){this.mask&=~(1<<a|0)}disableAll(){this.mask=0}test(a){return 0!=(this.mask&a.mask)}isEnabled(a){return 0!=(this.mask&(1<<a|0))}}let VHe=0;const sne=new ee,Nv=new Cl,Xh=new Qn,PM=new ee,tx=new ee,zHe=new ee,UHe=new Cl,one=new ee(1,0,0),ane=new ee(0,1,0),lne=new ee(0,0,1),HHe={type:"added"},cne={type:"removed"};let Sl=(()=>{class l extends Dv{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:VHe++}),this.uuid=xl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=l.DefaultUp.clone();const o=new ee,c=new BHe,u=new Cl,h=new ee(1,1,1);c._onChange(function d(){u.setFromEuler(c,!1)}),u._onChange(function f(){c.setFromQuaternion(u,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:o},rotation:{configurable:!0,enumerable:!0,value:c},quaternion:{configurable:!0,enumerable:!0,value:u},scale:{configurable:!0,enumerable:!0,value:h},modelViewMatrix:{value:new Qn},normalMatrix:{value:new Ha}}),this.matrix=new Qn,this.matrixWorld=new Qn,this.matrixAutoUpdate=l.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new nB,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(o){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(o),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(o){return this.quaternion.premultiply(o),this}setRotationFromAxisAngle(o,c){this.quaternion.setFromAxisAngle(o,c)}setRotationFromEuler(o){this.quaternion.setFromEuler(o,!0)}setRotationFromMatrix(o){this.quaternion.setFromRotationMatrix(o)}setRotationFromQuaternion(o){this.quaternion.copy(o)}rotateOnAxis(o,c){return Nv.setFromAxisAngle(o,c),this.quaternion.multiply(Nv),this}rotateOnWorldAxis(o,c){return Nv.setFromAxisAngle(o,c),this.quaternion.premultiply(Nv),this}rotateX(o){return this.rotateOnAxis(one,o)}rotateY(o){return this.rotateOnAxis(ane,o)}rotateZ(o){return this.rotateOnAxis(lne,o)}translateOnAxis(o,c){return sne.copy(o).applyQuaternion(this.quaternion),this.position.add(sne.multiplyScalar(c)),this}translateX(o){return this.translateOnAxis(one,o)}translateY(o){return this.translateOnAxis(ane,o)}translateZ(o){return this.translateOnAxis(lne,o)}localToWorld(o){return o.applyMatrix4(this.matrixWorld)}worldToLocal(o){return o.applyMatrix4(Xh.copy(this.matrixWorld).invert())}lookAt(o,c,u){o.isVector3?PM.copy(o):PM.set(o,c,u);const h=this.parent;this.updateWorldMatrix(!0,!1),tx.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Xh.lookAt(tx,PM,this.up):Xh.lookAt(PM,tx,this.up),this.quaternion.setFromRotationMatrix(Xh),h&&(Xh.extractRotation(h.matrixWorld),Nv.setFromRotationMatrix(Xh),this.quaternion.premultiply(Nv.invert()))}add(o){if(arguments.length>1){for(let c=0;c<arguments.length;c++)this.add(arguments[c]);return this}return o===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",o),this):(o&&o.isObject3D?(null!==o.parent&&o.parent.remove(o),o.parent=this,this.children.push(o),o.dispatchEvent(HHe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",o),this)}remove(o){if(arguments.length>1){for(let u=0;u<arguments.length;u++)this.remove(arguments[u]);return this}const c=this.children.indexOf(o);return-1!==c&&(o.parent=null,this.children.splice(c,1),o.dispatchEvent(cne)),this}removeFromParent(){const o=this.parent;return null!==o&&o.remove(this),this}clear(){for(let o=0;o<this.children.length;o++){const c=this.children[o];c.parent=null,c.dispatchEvent(cne)}return this.children.length=0,this}attach(o){return this.updateWorldMatrix(!0,!1),Xh.copy(this.matrixWorld).invert(),null!==o.parent&&(o.parent.updateWorldMatrix(!0,!1),Xh.multiply(o.parent.matrixWorld)),o.applyMatrix4(Xh),this.add(o),o.updateWorldMatrix(!1,!0),this}getObjectById(o){return this.getObjectByProperty("id",o)}getObjectByName(o){return this.getObjectByProperty("name",o)}getObjectByProperty(o,c){if(this[o]===c)return this;for(let u=0,h=this.children.length;u<h;u++){const f=this.children[u].getObjectByProperty(o,c);if(void 0!==f)return f}}getWorldPosition(o){return this.updateWorldMatrix(!0,!1),o.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(o){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tx,o,zHe),o}getWorldScale(o){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tx,UHe,o),o}getWorldDirection(o){this.updateWorldMatrix(!0,!1);const c=this.matrixWorld.elements;return o.set(c[8],c[9],c[10]).normalize()}raycast(){}traverse(o){o(this);const c=this.children;for(let u=0,h=c.length;u<h;u++)c[u].traverse(o)}traverseVisible(o){if(!1===this.visible)return;o(this);const c=this.children;for(let u=0,h=c.length;u<h;u++)c[u].traverseVisible(o)}traverseAncestors(o){const c=this.parent;null!==c&&(o(c),c.traverseAncestors(o))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(o){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||o)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,o=!0);const c=this.children;for(let u=0,h=c.length;u<h;u++)c[u].updateMatrixWorld(o)}updateWorldMatrix(o,c){const u=this.parent;if(!0===o&&null!==u&&u.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===c){const h=this.children;for(let d=0,f=h.length;d<f;d++)h[d].updateWorldMatrix(!1,!0)}}toJSON(o){const c=void 0===o||"string"==typeof o,u={};c&&(o={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},u.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const h={};function d(p,g){return void 0===p[g.uuid]&&(p[g.uuid]=g.toJSON(o)),g.uuid}if(h.uuid=this.uuid,h.type=this.type,""!==this.name&&(h.name=this.name),!0===this.castShadow&&(h.castShadow=!0),!0===this.receiveShadow&&(h.receiveShadow=!0),!1===this.visible&&(h.visible=!1),!1===this.frustumCulled&&(h.frustumCulled=!1),0!==this.renderOrder&&(h.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(h.userData=this.userData),h.layers=this.layers.mask,h.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(h.matrixAutoUpdate=!1),this.isInstancedMesh&&(h.type="InstancedMesh",h.count=this.count,h.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(h.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?h.background=this.background.toJSON():this.background.isTexture&&(h.background=this.background.toJSON(o).uuid)),this.environment&&this.environment.isTexture&&(h.environment=this.environment.toJSON(o).uuid);else if(this.isMesh||this.isLine||this.isPoints){h.geometry=d(o.geometries,this.geometry);const p=this.geometry.parameters;if(void 0!==p&&void 0!==p.shapes){const g=p.shapes;if(Array.isArray(g))for(let m=0,v=g.length;m<v;m++)d(o.shapes,g[m]);else d(o.shapes,g)}}if(this.isSkinnedMesh&&(h.bindMode=this.bindMode,h.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(d(o.skeletons,this.skeleton),h.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const p=[];for(let g=0,m=this.material.length;g<m;g++)p.push(d(o.materials,this.material[g]));h.material=p}else h.material=d(o.materials,this.material);if(this.children.length>0){h.children=[];for(let p=0;p<this.children.length;p++)h.children.push(this.children[p].toJSON(o).object)}if(this.animations.length>0){h.animations=[];for(let p=0;p<this.animations.length;p++)h.animations.push(d(o.animations,this.animations[p]))}if(c){const p=f(o.geometries),g=f(o.materials),m=f(o.textures),v=f(o.images),_=f(o.shapes),y=f(o.skeletons),b=f(o.animations),C=f(o.nodes);p.length>0&&(u.geometries=p),g.length>0&&(u.materials=g),m.length>0&&(u.textures=m),v.length>0&&(u.images=v),_.length>0&&(u.shapes=_),y.length>0&&(u.skeletons=y),b.length>0&&(u.animations=b),C.length>0&&(u.nodes=C)}return u.object=h,u;function f(p){const g=[];for(const m in p){const v=p[m];delete v.metadata,g.push(v)}return g}}clone(o){return(new this.constructor).copy(this,o)}copy(o,c=!0){if(this.name=o.name,this.up.copy(o.up),this.position.copy(o.position),this.rotation.order=o.rotation.order,this.quaternion.copy(o.quaternion),this.scale.copy(o.scale),this.matrix.copy(o.matrix),this.matrixWorld.copy(o.matrixWorld),this.matrixAutoUpdate=o.matrixAutoUpdate,this.matrixWorldNeedsUpdate=o.matrixWorldNeedsUpdate,this.layers.mask=o.layers.mask,this.visible=o.visible,this.castShadow=o.castShadow,this.receiveShadow=o.receiveShadow,this.frustumCulled=o.frustumCulled,this.renderOrder=o.renderOrder,this.userData=JSON.parse(JSON.stringify(o.userData)),!0===c)for(let u=0;u<o.children.length;u++)this.add(o.children[u].clone());return this}}return l.DefaultUp=new ee(0,1,0),l.DefaultMatrixAutoUpdate=!0,l})();const qc=new ee,Kh=new ee,iB=new ee,Qh=new ee,Bv=new ee,Vv=new ee,une=new ee,rB=new ee,sB=new ee,oB=new ee;class Yc{constructor(a=new ee,o=new ee,c=new ee){this.a=a,this.b=o,this.c=c}static getNormal(a,o,c,u){u.subVectors(c,o),qc.subVectors(a,o),u.cross(qc);const h=u.lengthSq();return h>0?u.multiplyScalar(1/Math.sqrt(h)):u.set(0,0,0)}static getBarycoord(a,o,c,u,h){qc.subVectors(u,o),Kh.subVectors(c,o),iB.subVectors(a,o);const d=qc.dot(qc),f=qc.dot(Kh),p=qc.dot(iB),g=Kh.dot(Kh),m=Kh.dot(iB),v=d*g-f*f;if(0===v)return h.set(-2,-1,-1);const _=1/v,y=(g*p-f*m)*_,b=(d*m-f*p)*_;return h.set(1-y-b,b,y)}static containsPoint(a,o,c,u){return this.getBarycoord(a,o,c,u,Qh),Qh.x>=0&&Qh.y>=0&&Qh.x+Qh.y<=1}static getUV(a,o,c,u,h,d,f,p){return this.getBarycoord(a,o,c,u,Qh),p.set(0,0),p.addScaledVector(h,Qh.x),p.addScaledVector(d,Qh.y),p.addScaledVector(f,Qh.z),p}static isFrontFacing(a,o,c,u){return qc.subVectors(c,o),Kh.subVectors(a,o),qc.cross(Kh).dot(u)<0}set(a,o,c){return this.a.copy(a),this.b.copy(o),this.c.copy(c),this}setFromPointsAndIndices(a,o,c,u){return this.a.copy(a[o]),this.b.copy(a[c]),this.c.copy(a[u]),this}setFromAttributeAndIndices(a,o,c,u){return this.a.fromBufferAttribute(a,o),this.b.fromBufferAttribute(a,c),this.c.fromBufferAttribute(a,u),this}clone(){return(new this.constructor).copy(this)}copy(a){return this.a.copy(a.a),this.b.copy(a.b),this.c.copy(a.c),this}getArea(){return qc.subVectors(this.c,this.b),Kh.subVectors(this.a,this.b),.5*qc.cross(Kh).length()}getMidpoint(a){return a.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(a){return Yc.getNormal(this.a,this.b,this.c,a)}getPlane(a){return a.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(a,o){return Yc.getBarycoord(a,this.a,this.b,this.c,o)}getUV(a,o,c,u,h){return Yc.getUV(a,this.a,this.b,this.c,o,c,u,h)}containsPoint(a){return Yc.containsPoint(a,this.a,this.b,this.c)}isFrontFacing(a){return Yc.isFrontFacing(this.a,this.b,this.c,a)}intersectsBox(a){return a.intersectsTriangle(this)}closestPointToPoint(a,o){const c=this.a,u=this.b,h=this.c;let d,f;Bv.subVectors(u,c),Vv.subVectors(h,c),rB.subVectors(a,c);const p=Bv.dot(rB),g=Vv.dot(rB);if(p<=0&&g<=0)return o.copy(c);sB.subVectors(a,u);const m=Bv.dot(sB),v=Vv.dot(sB);if(m>=0&&v<=m)return o.copy(u);const _=p*v-m*g;if(_<=0&&p>=0&&m<=0)return d=p/(p-m),o.copy(c).addScaledVector(Bv,d);oB.subVectors(a,h);const y=Bv.dot(oB),b=Vv.dot(oB);if(b>=0&&y<=b)return o.copy(h);const C=y*g-p*b;if(C<=0&&g>=0&&b<=0)return f=g/(g-b),o.copy(c).addScaledVector(Vv,f);const x=m*b-y*v;if(x<=0&&v-m>=0&&y-b>=0)return une.subVectors(h,u),f=(v-m)/(v-m+(y-b)),o.copy(u).addScaledVector(une,f);const w=1/(x+C+_);return d=C*w,f=_*w,o.copy(c).addScaledVector(Bv,d).addScaledVector(Vv,f)}equals(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}}let GHe=0;class dg extends Dv{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:GHe++}),this.uuid=xl(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(a){this._alphaTest>0!=a>0&&this.version++,this._alphaTest=a}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(a){if(void 0!==a)for(const o in a){const c=a[o];if(void 0===c){console.warn("THREE.Material: '"+o+"' parameter is undefined.");continue}if("shading"===o){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===c;continue}const u=this[o];void 0!==u?u&&u.isColor?u.set(c):u&&u.isVector3&&c&&c.isVector3?u.copy(c):this[o]=c:console.warn("THREE."+this.type+": '"+o+"' is not a property of this material.")}}toJSON(a){const o=void 0===a||"string"==typeof a;o&&(a={textures:{},images:{}});const c={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function u(h){const d=[];for(const f in h){const p=h[f];delete p.metadata,d.push(p)}return d}if(c.uuid=this.uuid,c.type=this.type,""!==this.name&&(c.name=this.name),this.color&&this.color.isColor&&(c.color=this.color.getHex()),void 0!==this.roughness&&(c.roughness=this.roughness),void 0!==this.metalness&&(c.metalness=this.metalness),void 0!==this.sheen&&(c.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(c.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(c.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(c.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(c.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(c.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(c.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(c.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(c.shininess=this.shininess),void 0!==this.clearcoat&&(c.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(c.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(c.clearcoatMap=this.clearcoatMap.toJSON(a).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(c.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(a).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(c.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(a).uuid,c.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(c.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(c.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(c.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(c.iridescenceMap=this.iridescenceMap.toJSON(a).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(c.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(a).uuid),this.map&&this.map.isTexture&&(c.map=this.map.toJSON(a).uuid),this.matcap&&this.matcap.isTexture&&(c.matcap=this.matcap.toJSON(a).uuid),this.alphaMap&&this.alphaMap.isTexture&&(c.alphaMap=this.alphaMap.toJSON(a).uuid),this.lightMap&&this.lightMap.isTexture&&(c.lightMap=this.lightMap.toJSON(a).uuid,c.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(c.aoMap=this.aoMap.toJSON(a).uuid,c.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(c.bumpMap=this.bumpMap.toJSON(a).uuid,c.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(c.normalMap=this.normalMap.toJSON(a).uuid,c.normalMapType=this.normalMapType,c.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(c.displacementMap=this.displacementMap.toJSON(a).uuid,c.displacementScale=this.displacementScale,c.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(c.roughnessMap=this.roughnessMap.toJSON(a).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(c.metalnessMap=this.metalnessMap.toJSON(a).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(c.emissiveMap=this.emissiveMap.toJSON(a).uuid),this.specularMap&&this.specularMap.isTexture&&(c.specularMap=this.specularMap.toJSON(a).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(c.specularIntensityMap=this.specularIntensityMap.toJSON(a).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(c.specularColorMap=this.specularColorMap.toJSON(a).uuid),this.envMap&&this.envMap.isTexture&&(c.envMap=this.envMap.toJSON(a).uuid,void 0!==this.combine&&(c.combine=this.combine)),void 0!==this.envMapIntensity&&(c.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(c.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(c.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(c.gradientMap=this.gradientMap.toJSON(a).uuid),void 0!==this.transmission&&(c.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(c.transmissionMap=this.transmissionMap.toJSON(a).uuid),void 0!==this.thickness&&(c.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(c.thicknessMap=this.thicknessMap.toJSON(a).uuid),void 0!==this.attenuationDistance&&(c.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(c.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(c.size=this.size),null!==this.shadowSide&&(c.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(c.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(c.blending=this.blending),0!==this.side&&(c.side=this.side),this.vertexColors&&(c.vertexColors=!0),this.opacity<1&&(c.opacity=this.opacity),!0===this.transparent&&(c.transparent=this.transparent),c.depthFunc=this.depthFunc,c.depthTest=this.depthTest,c.depthWrite=this.depthWrite,c.colorWrite=this.colorWrite,c.stencilWrite=this.stencilWrite,c.stencilWriteMask=this.stencilWriteMask,c.stencilFunc=this.stencilFunc,c.stencilRef=this.stencilRef,c.stencilFuncMask=this.stencilFuncMask,c.stencilFail=this.stencilFail,c.stencilZFail=this.stencilZFail,c.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(c.rotation=this.rotation),!0===this.polygonOffset&&(c.polygonOffset=!0),0!==this.polygonOffsetFactor&&(c.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(c.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(c.linewidth=this.linewidth),void 0!==this.dashSize&&(c.dashSize=this.dashSize),void 0!==this.gapSize&&(c.gapSize=this.gapSize),void 0!==this.scale&&(c.scale=this.scale),!0===this.dithering&&(c.dithering=!0),this.alphaTest>0&&(c.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(c.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(c.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(c.wireframe=this.wireframe),this.wireframeLinewidth>1&&(c.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(c.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(c.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(c.flatShading=this.flatShading),!1===this.visible&&(c.visible=!1),!1===this.toneMapped&&(c.toneMapped=!1),!1===this.fog&&(c.fog=!1),"{}"!==JSON.stringify(this.userData)&&(c.userData=this.userData),o){const h=u(a.textures),d=u(a.images);h.length>0&&(c.textures=h),d.length>0&&(c.images=d)}return c}clone(){return(new this.constructor).copy(this)}copy(a){this.name=a.name,this.blending=a.blending,this.side=a.side,this.vertexColors=a.vertexColors,this.opacity=a.opacity,this.transparent=a.transparent,this.blendSrc=a.blendSrc,this.blendDst=a.blendDst,this.blendEquation=a.blendEquation,this.blendSrcAlpha=a.blendSrcAlpha,this.blendDstAlpha=a.blendDstAlpha,this.blendEquationAlpha=a.blendEquationAlpha,this.depthFunc=a.depthFunc,this.depthTest=a.depthTest,this.depthWrite=a.depthWrite,this.stencilWriteMask=a.stencilWriteMask,this.stencilFunc=a.stencilFunc,this.stencilRef=a.stencilRef,this.stencilFuncMask=a.stencilFuncMask,this.stencilFail=a.stencilFail,this.stencilZFail=a.stencilZFail,this.stencilZPass=a.stencilZPass,this.stencilWrite=a.stencilWrite;const o=a.clippingPlanes;let c=null;if(null!==o){const u=o.length;c=new Array(u);for(let h=0;h!==u;++h)c[h]=o[h].clone()}return this.clippingPlanes=c,this.clipIntersection=a.clipIntersection,this.clipShadows=a.clipShadows,this.shadowSide=a.shadowSide,this.colorWrite=a.colorWrite,this.precision=a.precision,this.polygonOffset=a.polygonOffset,this.polygonOffsetFactor=a.polygonOffsetFactor,this.polygonOffsetUnits=a.polygonOffsetUnits,this.dithering=a.dithering,this.alphaTest=a.alphaTest,this.alphaToCoverage=a.alphaToCoverage,this.premultipliedAlpha=a.premultipliedAlpha,this.visible=a.visible,this.toneMapped=a.toneMapped,this.userData=JSON.parse(JSON.stringify(a.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(a){!0===a&&this.version++}}class Ps extends dg{constructor(a){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new tn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.map=a.map,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.specularMap=a.specularMap,this.alphaMap=a.alphaMap,this.envMap=a.envMap,this.combine=a.combine,this.reflectivity=a.reflectivity,this.refractionRatio=a.refractionRatio,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.fog=a.fog,this}}const Os=new ee,OM=new ut;class Jr{constructor(a,o,c){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=a,this.itemSize=o,this.count=void 0!==a?a.length/o:0,this.normalized=!0===c,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(a){!0===a&&this.version++}setUsage(a){return this.usage=a,this}copy(a){return this.name=a.name,this.array=new a.array.constructor(a.array),this.itemSize=a.itemSize,this.count=a.count,this.normalized=a.normalized,this.usage=a.usage,this}copyAt(a,o,c){a*=this.itemSize,c*=o.itemSize;for(let u=0,h=this.itemSize;u<h;u++)this.array[a+u]=o.array[c+u];return this}copyArray(a){return this.array.set(a),this}copyColorsArray(a){const o=this.array;let c=0;for(let u=0,h=a.length;u<h;u++){let d=a[u];void 0===d&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",u),d=new tn),o[c++]=d.r,o[c++]=d.g,o[c++]=d.b}return this}copyVector2sArray(a){const o=this.array;let c=0;for(let u=0,h=a.length;u<h;u++){let d=a[u];void 0===d&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",u),d=new ut),o[c++]=d.x,o[c++]=d.y}return this}copyVector3sArray(a){const o=this.array;let c=0;for(let u=0,h=a.length;u<h;u++){let d=a[u];void 0===d&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",u),d=new ee),o[c++]=d.x,o[c++]=d.y,o[c++]=d.z}return this}copyVector4sArray(a){const o=this.array;let c=0;for(let u=0,h=a.length;u<h;u++){let d=a[u];void 0===d&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",u),d=new Bi),o[c++]=d.x,o[c++]=d.y,o[c++]=d.z,o[c++]=d.w}return this}applyMatrix3(a){if(2===this.itemSize)for(let o=0,c=this.count;o<c;o++)OM.fromBufferAttribute(this,o),OM.applyMatrix3(a),this.setXY(o,OM.x,OM.y);else if(3===this.itemSize)for(let o=0,c=this.count;o<c;o++)Os.fromBufferAttribute(this,o),Os.applyMatrix3(a),this.setXYZ(o,Os.x,Os.y,Os.z);return this}applyMatrix4(a){for(let o=0,c=this.count;o<c;o++)Os.fromBufferAttribute(this,o),Os.applyMatrix4(a),this.setXYZ(o,Os.x,Os.y,Os.z);return this}applyNormalMatrix(a){for(let o=0,c=this.count;o<c;o++)Os.fromBufferAttribute(this,o),Os.applyNormalMatrix(a),this.setXYZ(o,Os.x,Os.y,Os.z);return this}transformDirection(a){for(let o=0,c=this.count;o<c;o++)Os.fromBufferAttribute(this,o),Os.transformDirection(a),this.setXYZ(o,Os.x,Os.y,Os.z);return this}set(a,o=0){return this.array.set(a,o),this}getX(a){return this.array[a*this.itemSize]}setX(a,o){return this.array[a*this.itemSize]=o,this}getY(a){return this.array[a*this.itemSize+1]}setY(a,o){return this.array[a*this.itemSize+1]=o,this}getZ(a){return this.array[a*this.itemSize+2]}setZ(a,o){return this.array[a*this.itemSize+2]=o,this}getW(a){return this.array[a*this.itemSize+3]}setW(a,o){return this.array[a*this.itemSize+3]=o,this}setXY(a,o,c){return this.array[0+(a*=this.itemSize)]=o,this.array[a+1]=c,this}setXYZ(a,o,c,u){return this.array[0+(a*=this.itemSize)]=o,this.array[a+1]=c,this.array[a+2]=u,this}setXYZW(a,o,c,u,h){return this.array[0+(a*=this.itemSize)]=o,this.array[a+1]=c,this.array[a+2]=u,this.array[a+3]=h,this}onUpload(a){return this.onUploadCallback=a,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const a={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(a.name=this.name),35044!==this.usage&&(a.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(a.updateRange=this.updateRange),a}}class hne extends Jr{constructor(a,o,c){super(new Uint16Array(a),o,c)}}class dne extends Jr{constructor(a,o,c){super(new Uint32Array(a),o,c)}}class yn extends Jr{constructor(a,o,c){super(new Float32Array(a),o,c)}}let WHe=0;const Jl=new Qn,aB=new Sl,zv=new ee,Tl=new Iv,nx=new Iv,uo=new ee;class gi extends Dv{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:WHe++}),this.uuid=xl(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(a){return this.index=Array.isArray(a)?new(Kte(a)?dne:hne)(a,1):a,this}getAttribute(a){return this.attributes[a]}setAttribute(a,o){return this.attributes[a]=o,this}deleteAttribute(a){return delete this.attributes[a],this}hasAttribute(a){return void 0!==this.attributes[a]}addGroup(a,o,c=0){this.groups.push({start:a,count:o,materialIndex:c})}clearGroups(){this.groups=[]}setDrawRange(a,o){this.drawRange.start=a,this.drawRange.count=o}applyMatrix4(a){const o=this.attributes.position;void 0!==o&&(o.applyMatrix4(a),o.needsUpdate=!0);const c=this.attributes.normal;if(void 0!==c){const h=(new Ha).getNormalMatrix(a);c.applyNormalMatrix(h),c.needsUpdate=!0}const u=this.attributes.tangent;return void 0!==u&&(u.transformDirection(a),u.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(a){return Jl.makeRotationFromQuaternion(a),this.applyMatrix4(Jl),this}rotateX(a){return Jl.makeRotationX(a),this.applyMatrix4(Jl),this}rotateY(a){return Jl.makeRotationY(a),this.applyMatrix4(Jl),this}rotateZ(a){return Jl.makeRotationZ(a),this.applyMatrix4(Jl),this}translate(a,o,c){return Jl.makeTranslation(a,o,c),this.applyMatrix4(Jl),this}scale(a,o,c){return Jl.makeScale(a,o,c),this.applyMatrix4(Jl),this}lookAt(a){return aB.lookAt(a),aB.updateMatrix(),this.applyMatrix4(aB.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zv).negate(),this.translate(zv.x,zv.y,zv.z),this}setFromPoints(a){const o=[];for(let c=0,u=a.length;c<u;c++){const h=a[c];o.push(h.x,h.y,h.z||0)}return this.setAttribute("position",new yn(o,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Iv);const a=this.attributes.position,o=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));if(void 0!==a){if(this.boundingBox.setFromBufferAttribute(a),o)for(let c=0,u=o.length;c<u;c++)Tl.setFromBufferAttribute(o[c]),this.morphTargetsRelative?(uo.addVectors(this.boundingBox.min,Tl.min),this.boundingBox.expandByPoint(uo),uo.addVectors(this.boundingBox.max,Tl.max),this.boundingBox.expandByPoint(uo)):(this.boundingBox.expandByPoint(Tl.min),this.boundingBox.expandByPoint(Tl.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Fv);const a=this.attributes.position,o=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ee,1/0);if(a){const c=this.boundingSphere.center;if(Tl.setFromBufferAttribute(a),o)for(let h=0,d=o.length;h<d;h++)nx.setFromBufferAttribute(o[h]),this.morphTargetsRelative?(uo.addVectors(Tl.min,nx.min),Tl.expandByPoint(uo),uo.addVectors(Tl.max,nx.max),Tl.expandByPoint(uo)):(Tl.expandByPoint(nx.min),Tl.expandByPoint(nx.max));Tl.getCenter(c);let u=0;for(let h=0,d=a.count;h<d;h++)uo.fromBufferAttribute(a,h),u=Math.max(u,c.distanceToSquared(uo));if(o)for(let h=0,d=o.length;h<d;h++){const f=o[h],p=this.morphTargetsRelative;for(let g=0,m=f.count;g<m;g++)uo.fromBufferAttribute(f,g),p&&(zv.fromBufferAttribute(a,g),uo.add(zv)),u=Math.max(u,c.distanceToSquared(uo))}this.boundingSphere.radius=Math.sqrt(u),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const a=this.index,o=this.attributes;if(null===a||void 0===o.position||void 0===o.normal||void 0===o.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const c=a.array,u=o.position.array,h=o.normal.array,d=o.uv.array,f=u.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Jr(new Float32Array(4*f),4));const p=this.getAttribute("tangent").array,g=[],m=[];for(let F=0;F<f;F++)g[F]=new ee,m[F]=new ee;const v=new ee,_=new ee,y=new ee,b=new ut,C=new ut,x=new ut,w=new ee,S=new ee;function M(F,L,$){v.fromArray(u,3*F),_.fromArray(u,3*L),y.fromArray(u,3*$),b.fromArray(d,2*F),C.fromArray(d,2*L),x.fromArray(d,2*$),_.sub(v),y.sub(v),C.sub(b),x.sub(b);const Y=1/(C.x*x.y-x.x*C.y);!isFinite(Y)||(w.copy(_).multiplyScalar(x.y).addScaledVector(y,-C.y).multiplyScalar(Y),S.copy(y).multiplyScalar(C.x).addScaledVector(_,-x.x).multiplyScalar(Y),g[F].add(w),g[L].add(w),g[$].add(w),m[F].add(S),m[L].add(S),m[$].add(S))}let T=this.groups;0===T.length&&(T=[{start:0,count:c.length}]);for(let F=0,L=T.length;F<L;++F){const $=T[F],Y=$.start;for(let V=Y,B=Y+$.count;V<B;V+=3)M(c[V+0],c[V+1],c[V+2])}const E=new ee,k=new ee,R=new ee,D=new ee;function P(F){R.fromArray(h,3*F),D.copy(R);const L=g[F];E.copy(L),E.sub(R.multiplyScalar(R.dot(L))).normalize(),k.crossVectors(D,L);const Y=k.dot(m[F])<0?-1:1;p[4*F]=E.x,p[4*F+1]=E.y,p[4*F+2]=E.z,p[4*F+3]=Y}for(let F=0,L=T.length;F<L;++F){const $=T[F],Y=$.start;for(let V=Y,B=Y+$.count;V<B;V+=3)P(c[V+0]),P(c[V+1]),P(c[V+2])}}computeVertexNormals(){const a=this.index,o=this.getAttribute("position");if(void 0!==o){let c=this.getAttribute("normal");if(void 0===c)c=new Jr(new Float32Array(3*o.count),3),this.setAttribute("normal",c);else for(let _=0,y=c.count;_<y;_++)c.setXYZ(_,0,0,0);const u=new ee,h=new ee,d=new ee,f=new ee,p=new ee,g=new ee,m=new ee,v=new ee;if(a)for(let _=0,y=a.count;_<y;_+=3){const b=a.getX(_+0),C=a.getX(_+1),x=a.getX(_+2);u.fromBufferAttribute(o,b),h.fromBufferAttribute(o,C),d.fromBufferAttribute(o,x),m.subVectors(d,h),v.subVectors(u,h),m.cross(v),f.fromBufferAttribute(c,b),p.fromBufferAttribute(c,C),g.fromBufferAttribute(c,x),f.add(m),p.add(m),g.add(m),c.setXYZ(b,f.x,f.y,f.z),c.setXYZ(C,p.x,p.y,p.z),c.setXYZ(x,g.x,g.y,g.z)}else for(let _=0,y=o.count;_<y;_+=3)u.fromBufferAttribute(o,_+0),h.fromBufferAttribute(o,_+1),d.fromBufferAttribute(o,_+2),m.subVectors(d,h),v.subVectors(u,h),m.cross(v),c.setXYZ(_+0,m.x,m.y,m.z),c.setXYZ(_+1,m.x,m.y,m.z),c.setXYZ(_+2,m.x,m.y,m.z);this.normalizeNormals(),c.needsUpdate=!0}}merge(a,o){if(!a||!a.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",a);void 0===o&&(o=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const c=this.attributes;for(const u in c){if(void 0===a.attributes[u])continue;const d=c[u].array,f=a.attributes[u],p=f.array,g=f.itemSize*o,m=Math.min(p.length,d.length-g);for(let v=0,_=g;v<m;v++,_++)d[_]=p[v]}return this}normalizeNormals(){const a=this.attributes.normal;for(let o=0,c=a.count;o<c;o++)uo.fromBufferAttribute(a,o),uo.normalize(),a.setXYZ(o,uo.x,uo.y,uo.z)}toNonIndexed(){function a(f,p){const g=f.array,m=f.itemSize,v=f.normalized,_=new g.constructor(p.length*m);let y=0,b=0;for(let C=0,x=p.length;C<x;C++){y=f.isInterleavedBufferAttribute?p[C]*f.data.stride+f.offset:p[C]*m;for(let w=0;w<m;w++)_[b++]=g[y++]}return new Jr(_,m,v)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const o=new gi,c=this.index.array,u=this.attributes;for(const f in u){const g=a(u[f],c);o.setAttribute(f,g)}const h=this.morphAttributes;for(const f in h){const p=[],g=h[f];for(let m=0,v=g.length;m<v;m++){const y=a(g[m],c);p.push(y)}o.morphAttributes[f]=p}o.morphTargetsRelative=this.morphTargetsRelative;const d=this.groups;for(let f=0,p=d.length;f<p;f++){const g=d[f];o.addGroup(g.start,g.count,g.materialIndex)}return o}toJSON(){const a={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(a.uuid=this.uuid,a.type=this.type,""!==this.name&&(a.name=this.name),Object.keys(this.userData).length>0&&(a.userData=this.userData),void 0!==this.parameters){const p=this.parameters;for(const g in p)void 0!==p[g]&&(a[g]=p[g]);return a}a.data={attributes:{}};const o=this.index;null!==o&&(a.data.index={type:o.array.constructor.name,array:Array.prototype.slice.call(o.array)});const c=this.attributes;for(const p in c)a.data.attributes[p]=c[p].toJSON(a.data);const u={};let h=!1;for(const p in this.morphAttributes){const g=this.morphAttributes[p],m=[];for(let v=0,_=g.length;v<_;v++)m.push(g[v].toJSON(a.data));m.length>0&&(u[p]=m,h=!0)}h&&(a.data.morphAttributes=u,a.data.morphTargetsRelative=this.morphTargetsRelative);const d=this.groups;d.length>0&&(a.data.groups=JSON.parse(JSON.stringify(d)));const f=this.boundingSphere;return null!==f&&(a.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),a}clone(){return(new this.constructor).copy(this)}copy(a){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const o={};this.name=a.name;const c=a.index;null!==c&&this.setIndex(c.clone(o));const u=a.attributes;for(const g in u)this.setAttribute(g,u[g].clone(o));const h=a.morphAttributes;for(const g in h){const m=[],v=h[g];for(let _=0,y=v.length;_<y;_++)m.push(v[_].clone(o));this.morphAttributes[g]=m}this.morphTargetsRelative=a.morphTargetsRelative;const d=a.groups;for(let g=0,m=d.length;g<m;g++){const v=d[g];this.addGroup(v.start,v.count,v.materialIndex)}const f=a.boundingBox;null!==f&&(this.boundingBox=f.clone());const p=a.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=a.drawRange.start,this.drawRange.count=a.drawRange.count,this.userData=a.userData,void 0!==a.parameters&&(this.parameters=Object.assign({},a.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const fne=new Qn,Uv=new AM,lB=new Fv,mf=new ee,vf=new ee,_f=new ee,cB=new ee,uB=new ee,hB=new ee,RM=new ee,FM=new ee,LM=new ee,NM=new ut,BM=new ut,VM=new ut,dB=new ee,zM=new ee;class Vi extends Sl{constructor(a=new gi,o=new Ps){super(),this.isMesh=!0,this.type="Mesh",this.geometry=a,this.material=o,this.updateMorphTargets()}copy(a,o){return super.copy(a,o),void 0!==a.morphTargetInfluences&&(this.morphTargetInfluences=a.morphTargetInfluences.slice()),void 0!==a.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},a.morphTargetDictionary)),this.material=a.material,this.geometry=a.geometry,this}updateMorphTargets(){const o=this.geometry.morphAttributes,c=Object.keys(o);if(c.length>0){const u=o[c[0]];if(void 0!==u){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let h=0,d=u.length;h<d;h++){const f=u[h].name||String(h);this.morphTargetInfluences.push(0),this.morphTargetDictionary[f]=h}}}}raycast(a,o){const c=this.geometry,u=this.material,h=this.matrixWorld;if(void 0===u||(null===c.boundingSphere&&c.computeBoundingSphere(),lB.copy(c.boundingSphere),lB.applyMatrix4(h),!1===a.ray.intersectsSphere(lB))||(fne.copy(h).invert(),Uv.copy(a.ray).applyMatrix4(fne),null!==c.boundingBox&&!1===Uv.intersectsBox(c.boundingBox)))return;let d;const f=c.index,p=c.attributes.position,g=c.morphAttributes.position,m=c.morphTargetsRelative,v=c.attributes.uv,_=c.attributes.uv2,y=c.groups,b=c.drawRange;if(null!==f)if(Array.isArray(u))for(let C=0,x=y.length;C<x;C++){const w=y[C],S=u[w.materialIndex];for(let E=Math.max(w.start,b.start),k=Math.min(f.count,Math.min(w.start+w.count,b.start+b.count));E<k;E+=3){const R=f.getX(E),D=f.getX(E+1),P=f.getX(E+2);d=UM(this,S,a,Uv,p,g,m,v,_,R,D,P),d&&(d.faceIndex=Math.floor(E/3),d.face.materialIndex=w.materialIndex,o.push(d))}}else for(let w=Math.max(0,b.start),S=Math.min(f.count,b.start+b.count);w<S;w+=3){const M=f.getX(w),T=f.getX(w+1),E=f.getX(w+2);d=UM(this,u,a,Uv,p,g,m,v,_,M,T,E),d&&(d.faceIndex=Math.floor(w/3),o.push(d))}else if(void 0!==p)if(Array.isArray(u))for(let C=0,x=y.length;C<x;C++){const w=y[C],S=u[w.materialIndex];for(let E=Math.max(w.start,b.start),k=Math.min(p.count,Math.min(w.start+w.count,b.start+b.count));E<k;E+=3)d=UM(this,S,a,Uv,p,g,m,v,_,E,E+1,E+2),d&&(d.faceIndex=Math.floor(E/3),d.face.materialIndex=w.materialIndex,o.push(d))}else for(let w=Math.max(0,b.start),S=Math.min(p.count,b.start+b.count);w<S;w+=3)d=UM(this,u,a,Uv,p,g,m,v,_,w,w+1,w+2),d&&(d.faceIndex=Math.floor(w/3),o.push(d))}}function UM(l,a,o,c,u,h,d,f,p,g,m,v){mf.fromBufferAttribute(u,g),vf.fromBufferAttribute(u,m),_f.fromBufferAttribute(u,v);const _=l.morphTargetInfluences;if(h&&_){RM.set(0,0,0),FM.set(0,0,0),LM.set(0,0,0);for(let b=0,C=h.length;b<C;b++){const x=_[b],w=h[b];0!==x&&(cB.fromBufferAttribute(w,g),uB.fromBufferAttribute(w,m),hB.fromBufferAttribute(w,v),d?(RM.addScaledVector(cB,x),FM.addScaledVector(uB,x),LM.addScaledVector(hB,x)):(RM.addScaledVector(cB.sub(mf),x),FM.addScaledVector(uB.sub(vf),x),LM.addScaledVector(hB.sub(_f),x)))}mf.add(RM),vf.add(FM),_f.add(LM)}l.isSkinnedMesh&&(l.boneTransform(g,mf),l.boneTransform(m,vf),l.boneTransform(v,_f));const y=function jHe(l,a,o,c,u,h,d,f){let p;if(p=1===a.side?c.intersectTriangle(d,h,u,!0,f):c.intersectTriangle(u,h,d,2!==a.side,f),null===p)return null;zM.copy(f),zM.applyMatrix4(l.matrixWorld);const g=o.ray.origin.distanceTo(zM);return g<o.near||g>o.far?null:{distance:g,point:zM.clone(),object:l}}(l,a,o,c,mf,vf,_f,dB);if(y){f&&(NM.fromBufferAttribute(f,g),BM.fromBufferAttribute(f,m),VM.fromBufferAttribute(f,v),y.uv=Yc.getUV(dB,mf,vf,_f,NM,BM,VM,new ut)),p&&(NM.fromBufferAttribute(p,g),BM.fromBufferAttribute(p,m),VM.fromBufferAttribute(p,v),y.uv2=Yc.getUV(dB,mf,vf,_f,NM,BM,VM,new ut));const b={a:g,b:m,c:v,normal:new ee,materialIndex:0};Yc.getNormal(mf,vf,_f,b.normal),y.face=b}return y}class Jh extends gi{constructor(a=1,o=1,c=1,u=1,h=1,d=1){super(),this.type="BoxGeometry",this.parameters={width:a,height:o,depth:c,widthSegments:u,heightSegments:h,depthSegments:d};const f=this;u=Math.floor(u),h=Math.floor(h),d=Math.floor(d);const p=[],g=[],m=[],v=[];let _=0,y=0;function b(C,x,w,S,M,T,E,k,R,D,P){const F=T/R,L=E/D,$=T/2,Y=E/2,O=k/2,V=R+1,B=D+1;let G=0,H=0;const j=new ee;for(let W=0;W<B;W++){const Z=W*L-Y;for(let K=0;K<V;K++)j[C]=(K*F-$)*S,j[x]=Z*M,j[w]=O,g.push(j.x,j.y,j.z),j[C]=0,j[x]=0,j[w]=k>0?1:-1,m.push(j.x,j.y,j.z),v.push(K/R),v.push(1-W/D),G+=1}for(let W=0;W<D;W++)for(let Z=0;Z<R;Z++){const ae=_+Z+V*(W+1),re=_+(Z+1)+V*(W+1),xe=_+(Z+1)+V*W;p.push(_+Z+V*W,ae,xe),p.push(ae,re,xe),H+=6}f.addGroup(y,H,P),y+=H,_+=G}b("z","y","x",-1,-1,c,o,a,d,h,0),b("z","y","x",1,-1,c,o,-a,d,h,1),b("x","z","y",1,1,a,c,o,u,d,2),b("x","z","y",1,-1,a,c,-o,u,d,3),b("x","y","z",1,-1,a,o,c,u,h,4),b("x","y","z",-1,-1,a,o,-c,u,h,5),this.setIndex(p),this.setAttribute("position",new yn(g,3)),this.setAttribute("normal",new yn(m,3)),this.setAttribute("uv",new yn(v,2))}static fromJSON(a){return new Jh(a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments)}}function Hv(l){const a={};for(const o in l){a[o]={};for(const c in l[o]){const u=l[o][c];a[o][c]=u&&(u.isColor||u.isMatrix3||u.isMatrix4||u.isVector2||u.isVector3||u.isVector4||u.isTexture||u.isQuaternion)?u.clone():Array.isArray(u)?u.slice():u}}return a}function Wo(l){const a={};for(let o=0;o<l.length;o++){const c=Hv(l[o]);for(const u in c)a[u]=c[u]}return a}const HM={clone:Hv,merge:Wo};class jo extends dg{constructor(a){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(a))}copy(a){return super.copy(a),this.fragmentShader=a.fragmentShader,this.vertexShader=a.vertexShader,this.uniforms=Hv(a.uniforms),this.defines=Object.assign({},a.defines),this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.fog=a.fog,this.lights=a.lights,this.clipping=a.clipping,this.extensions=Object.assign({},a.extensions),this.glslVersion=a.glslVersion,this}toJSON(a){const o=super.toJSON(a);o.glslVersion=this.glslVersion,o.uniforms={};for(const u in this.uniforms){const d=this.uniforms[u].value;o.uniforms[u]=d&&d.isTexture?{type:"t",value:d.toJSON(a).uuid}:d&&d.isColor?{type:"c",value:d.getHex()}:d&&d.isVector2?{type:"v2",value:d.toArray()}:d&&d.isVector3?{type:"v3",value:d.toArray()}:d&&d.isVector4?{type:"v4",value:d.toArray()}:d&&d.isMatrix3?{type:"m3",value:d.toArray()}:d&&d.isMatrix4?{type:"m4",value:d.toArray()}:{value:d}}Object.keys(this.defines).length>0&&(o.defines=this.defines),o.vertexShader=this.vertexShader,o.fragmentShader=this.fragmentShader;const c={};for(const u in this.extensions)!0===this.extensions[u]&&(c[u]=!0);return Object.keys(c).length>0&&(o.extensions=c),o}}class fB extends Sl{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Qn,this.projectionMatrix=new Qn,this.projectionMatrixInverse=new Qn}copy(a,o){return super.copy(a,o),this.matrixWorldInverse.copy(a.matrixWorldInverse),this.projectionMatrix.copy(a.projectionMatrix),this.projectionMatrixInverse.copy(a.projectionMatrixInverse),this}getWorldDirection(a){this.updateWorldMatrix(!0,!1);const o=this.matrixWorld.elements;return a.set(-o[8],-o[9],-o[10]).normalize()}updateMatrixWorld(a){super.updateMatrixWorld(a),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(a,o){super.updateWorldMatrix(a,o),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Rs extends fB{constructor(a=50,o=1,c=.1,u=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=a,this.zoom=1,this.near=c,this.far=u,this.focus=10,this.aspect=o,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(a,o){return super.copy(a,o),this.fov=a.fov,this.zoom=a.zoom,this.near=a.near,this.far=a.far,this.focus=a.focus,this.aspect=a.aspect,this.view=null===a.view?null:Object.assign({},a.view),this.filmGauge=a.filmGauge,this.filmOffset=a.filmOffset,this}setFocalLength(a){const o=.5*this.getFilmHeight()/a;this.fov=2*Kb*Math.atan(o),this.updateProjectionMatrix()}getFocalLength(){const a=Math.tan(.5*ag*this.fov);return.5*this.getFilmHeight()/a}getEffectiveFOV(){return 2*Kb*Math.atan(Math.tan(.5*ag*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(a,o,c,u,h,d){this.aspect=a/o,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=a,this.view.fullHeight=o,this.view.offsetX=c,this.view.offsetY=u,this.view.width=h,this.view.height=d,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const a=this.near;let o=a*Math.tan(.5*ag*this.fov)/this.zoom,c=2*o,u=this.aspect*c,h=-.5*u;const d=this.view;if(null!==this.view&&this.view.enabled){const p=d.fullWidth,g=d.fullHeight;h+=d.offsetX*u/p,o-=d.offsetY*c/g,u*=d.width/p,c*=d.height/g}const f=this.filmOffset;0!==f&&(h+=a*f/this.getFilmWidth()),this.projectionMatrix.makePerspective(h,h+u,o,o-c,a,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){const o=super.toJSON(a);return o.object.fov=this.fov,o.object.zoom=this.zoom,o.object.near=this.near,o.object.far=this.far,o.object.focus=this.focus,o.object.aspect=this.aspect,null!==this.view&&(o.object.view=Object.assign({},this.view)),o.object.filmGauge=this.filmGauge,o.object.filmOffset=this.filmOffset,o}}class YHe extends Sl{constructor(a,o,c){if(super(),this.type="CubeCamera",!0!==c.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=c;const u=new Rs(90,1,a,o);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new ee(1,0,0)),this.add(u);const h=new Rs(90,1,a,o);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new ee(-1,0,0)),this.add(h);const d=new Rs(90,1,a,o);d.layers=this.layers,d.up.set(0,0,1),d.lookAt(new ee(0,1,0)),this.add(d);const f=new Rs(90,1,a,o);f.layers=this.layers,f.up.set(0,0,-1),f.lookAt(new ee(0,-1,0)),this.add(f);const p=new Rs(90,1,a,o);p.layers=this.layers,p.up.set(0,-1,0),p.lookAt(new ee(0,0,1)),this.add(p);const g=new Rs(90,1,a,o);g.layers=this.layers,g.up.set(0,-1,0),g.lookAt(new ee(0,0,-1)),this.add(g)}update(a,o){null===this.parent&&this.updateMatrixWorld();const c=this.renderTarget,[u,h,d,f,p,g]=this.children,m=a.getRenderTarget(),v=a.toneMapping,_=a.xr.enabled;a.toneMapping=0,a.xr.enabled=!1;const y=c.texture.generateMipmaps;c.texture.generateMipmaps=!1,a.setRenderTarget(c,0),a.render(o,u),a.setRenderTarget(c,1),a.render(o,h),a.setRenderTarget(c,2),a.render(o,d),a.setRenderTarget(c,3),a.render(o,f),a.setRenderTarget(c,4),a.render(o,p),c.texture.generateMipmaps=y,a.setRenderTarget(c,5),a.render(o,g),a.setRenderTarget(m),a.toneMapping=v,a.xr.enabled=_,c.texture.needsPMREMUpdate=!0}}class GM extends $u{constructor(a,o,c,u,h,d,f,p,g,m){super(a=void 0!==a?a:[],o=void 0!==o?o:301,c,u,h,d,f,p,g,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(a){this.image=a}}class ZHe extends ya{constructor(a,o={}){super(a,a,o),this.isWebGLCubeRenderTarget=!0;const c={width:a,height:a,depth:1};this.texture=new GM([c,c,c,c,c,c],o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==o.generateMipmaps&&o.generateMipmaps,this.texture.minFilter=void 0!==o.minFilter?o.minFilter:Is}fromEquirectangularTexture(a,o){this.texture.type=o.type,this.texture.encoding=o.encoding,this.texture.generateMipmaps=o.generateMipmaps,this.texture.minFilter=o.minFilter,this.texture.magFilter=o.magFilter;const c_uniforms={tEquirect:{value:null}},c_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",c_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",u=new Jh(5,5,5),h=new jo({name:"CubemapFromEquirect",uniforms:Hv(c_uniforms),vertexShader:c_vertexShader,fragmentShader:c_fragmentShader,side:1,blending:0});h.uniforms.tEquirect.value=o;const d=new Vi(u,h),f=o.minFilter;return 1008===o.minFilter&&(o.minFilter=Is),new YHe(1,10,this).update(a,d),o.minFilter=f,d.geometry.dispose(),d.material.dispose(),this}clear(a,o,c,u){const h=a.getRenderTarget();for(let d=0;d<6;d++)a.setRenderTarget(this,d),a.clear(o,c,u);a.setRenderTarget(h)}}const pB=new ee,XHe=new ee,KHe=new Ha;class fg{constructor(a=new ee(1,0,0),o=0){this.isPlane=!0,this.normal=a,this.constant=o}set(a,o){return this.normal.copy(a),this.constant=o,this}setComponents(a,o,c,u){return this.normal.set(a,o,c),this.constant=u,this}setFromNormalAndCoplanarPoint(a,o){return this.normal.copy(a),this.constant=-o.dot(this.normal),this}setFromCoplanarPoints(a,o,c){const u=pB.subVectors(c,o).cross(XHe.subVectors(a,o)).normalize();return this.setFromNormalAndCoplanarPoint(u,a),this}copy(a){return this.normal.copy(a.normal),this.constant=a.constant,this}normalize(){const a=1/this.normal.length();return this.normal.multiplyScalar(a),this.constant*=a,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(a){return this.normal.dot(a)+this.constant}distanceToSphere(a){return this.distanceToPoint(a.center)-a.radius}projectPoint(a,o){return o.copy(this.normal).multiplyScalar(-this.distanceToPoint(a)).add(a)}intersectLine(a,o){const c=a.delta(pB),u=this.normal.dot(c);if(0===u)return 0===this.distanceToPoint(a.start)?o.copy(a.start):null;const h=-(a.start.dot(this.normal)+this.constant)/u;return h<0||h>1?null:o.copy(c).multiplyScalar(h).add(a.start)}intersectsLine(a){const o=this.distanceToPoint(a.start),c=this.distanceToPoint(a.end);return o<0&&c>0||c<0&&o>0}intersectsBox(a){return a.intersectsPlane(this)}intersectsSphere(a){return a.intersectsPlane(this)}coplanarPoint(a){return a.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(a,o){const c=o||KHe.getNormalMatrix(a),u=this.coplanarPoint(pB).applyMatrix4(a),h=this.normal.applyMatrix3(c).normalize();return this.constant=-u.dot(h),this}translate(a){return this.constant-=a.dot(this.normal),this}equals(a){return a.normal.equals(this.normal)&&a.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const jv=new Fv,WM=new ee;class gB{constructor(a=new fg,o=new fg,c=new fg,u=new fg,h=new fg,d=new fg){this.planes=[a,o,c,u,h,d]}set(a,o,c,u,h,d){const f=this.planes;return f[0].copy(a),f[1].copy(o),f[2].copy(c),f[3].copy(u),f[4].copy(h),f[5].copy(d),this}copy(a){const o=this.planes;for(let c=0;c<6;c++)o[c].copy(a.planes[c]);return this}setFromProjectionMatrix(a){const o=this.planes,c=a.elements,u=c[0],h=c[1],d=c[2],f=c[3],p=c[4],g=c[5],m=c[6],v=c[7],_=c[8],y=c[9],b=c[10],C=c[11],x=c[12],w=c[13],S=c[14],M=c[15];return o[0].setComponents(f-u,v-p,C-_,M-x).normalize(),o[1].setComponents(f+u,v+p,C+_,M+x).normalize(),o[2].setComponents(f+h,v+g,C+y,M+w).normalize(),o[3].setComponents(f-h,v-g,C-y,M-w).normalize(),o[4].setComponents(f-d,v-m,C-b,M-S).normalize(),o[5].setComponents(f+d,v+m,C+b,M+S).normalize(),this}intersectsObject(a){const o=a.geometry;return null===o.boundingSphere&&o.computeBoundingSphere(),jv.copy(o.boundingSphere).applyMatrix4(a.matrixWorld),this.intersectsSphere(jv)}intersectsSprite(a){return jv.center.set(0,0,0),jv.radius=.7071067811865476,jv.applyMatrix4(a.matrixWorld),this.intersectsSphere(jv)}intersectsSphere(a){const o=this.planes,c=a.center,u=-a.radius;for(let h=0;h<6;h++)if(o[h].distanceToPoint(c)<u)return!1;return!0}intersectsBox(a){const o=this.planes;for(let c=0;c<6;c++){const u=o[c];if(WM.x=u.normal.x>0?a.max.x:a.min.x,WM.y=u.normal.y>0?a.max.y:a.min.y,WM.z=u.normal.z>0?a.max.z:a.min.z,u.distanceToPoint(WM)<0)return!1}return!0}containsPoint(a){const o=this.planes;for(let c=0;c<6;c++)if(o[c].distanceToPoint(a)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function pne(){let l=null,a=!1,o=null,c=null;function u(h,d){o(h,d),c=l.requestAnimationFrame(u)}return{start:function(){!0!==a&&null!==o&&(c=l.requestAnimationFrame(u),a=!0)},stop:function(){l.cancelAnimationFrame(c),a=!1},setAnimationLoop:function(h){o=h},setContext:function(h){l=h}}}function QHe(l,a){const o=a.isWebGL2,c=new WeakMap;return{get:function d(g){return g.isInterleavedBufferAttribute&&(g=g.data),c.get(g)},remove:function f(g){g.isInterleavedBufferAttribute&&(g=g.data);const m=c.get(g);m&&(l.deleteBuffer(m.buffer),c.delete(g))},update:function p(g,m){if(g.isGLBufferAttribute){const _=c.get(g);return void((!_||_.version<g.version)&&c.set(g,{buffer:g.buffer,type:g.type,bytesPerElement:g.elementSize,version:g.version}))}g.isInterleavedBufferAttribute&&(g=g.data);const v=c.get(g);void 0===v?c.set(g,function u(g,m){const v=g.array,_=g.usage,y=l.createBuffer();let b;if(l.bindBuffer(m,y),l.bufferData(m,v,_),g.onUploadCallback(),v instanceof Float32Array)b=5126;else if(v instanceof Uint16Array)if(g.isFloat16BufferAttribute){if(!o)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");b=5131}else b=5123;else if(v instanceof Int16Array)b=5122;else if(v instanceof Uint32Array)b=5125;else if(v instanceof Int32Array)b=5124;else if(v instanceof Int8Array)b=5120;else if(v instanceof Uint8Array)b=5121;else{if(!(v instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+v);b=5121}return{buffer:y,type:b,bytesPerElement:v.BYTES_PER_ELEMENT,version:g.version}}(g,m)):v.version<g.version&&(function h(g,m,v){const _=m.array,y=m.updateRange;l.bindBuffer(v,g),-1===y.count?l.bufferSubData(v,0,_):(o?l.bufferSubData(v,y.offset*_.BYTES_PER_ELEMENT,_,y.offset,y.count):l.bufferSubData(v,y.offset*_.BYTES_PER_ELEMENT,_.subarray(y.offset,y.offset+y.count)),y.count=-1)}(v.buffer,g,m),v.version=g.version)}}}class $v extends gi{constructor(a=1,o=1,c=1,u=1){super(),this.type="PlaneGeometry",this.parameters={width:a,height:o,widthSegments:c,heightSegments:u};const h=a/2,d=o/2,f=Math.floor(c),p=Math.floor(u),g=f+1,m=p+1,v=a/f,_=o/p,y=[],b=[],C=[],x=[];for(let w=0;w<m;w++){const S=w*_-d;for(let M=0;M<g;M++)b.push(M*v-h,-S,0),C.push(0,0,1),x.push(M/f),x.push(1-w/p)}for(let w=0;w<p;w++)for(let S=0;S<f;S++){const T=S+g*(w+1),E=S+1+g*(w+1),k=S+1+g*w;y.push(S+g*w,T,k),y.push(T,E,k)}this.setIndex(y),this.setAttribute("position",new yn(b,3)),this.setAttribute("normal",new yn(C,3)),this.setAttribute("uv",new yn(x,2))}static fromJSON(a){return new $v(a.width,a.height,a.widthSegments,a.heightSegments)}}const Oi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\nvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\nconst mat3 XYZ_TO_REC709 = mat3(\n    3.2404542, -0.9692660,  0.0556434,\n   -1.5371385,  1.8760108, -0.2040259,\n   -0.4985314,  0.0415560,  1.0572252\n);\nvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n   vec3 sqrtF0 = sqrt( fresnel0 );\n   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n}\nvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n}\nfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n}\nvec3 evalSensitivity( float OPD, vec3 shift ) {\n   float phase = 2.0 * PI * OPD * 1.0e-9;\n   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );\n   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );\n   xyz /= 1.0685e-7;\n   vec3 srgb = XYZ_TO_REC709 * xyz;\n   return srgb;\n}\nvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n   vec3 I;\n   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n   float cosTheta2Sq = 1.0 - sinTheta2Sq;\n   if ( cosTheta2Sq < 0.0 ) {\n       return vec3( 1.0 );\n   }\n   float cosTheta2 = sqrt( cosTheta2Sq );\n   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n   float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n   float R21 = R12;\n   float T121 = 1.0 - R12;\n   float phi12 = 0.0;\n   if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n   float phi21 = PI - phi12;\n   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n   vec3 phi23 = vec3( 0.0 );\n   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;\n   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;\n   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;\n   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n   vec3 phi = vec3( phi21 ) + phi23;\n   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n   vec3 r123 = sqrt( R123 );\n   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n   vec3 C0 = R12 + Rs;\n   I = C0;\n   vec3 Cm = Rs - T121;\n   for ( int m = 1; m <= 2; ++m ) {\n       Cm *= r123;\n       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n       I += Cm * Sm;\n   }\n   return max( I, vec3( 0.0 ) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\nfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\nif ( material.iridescenceThickness == 0.0 ) {\n\tmaterial.iridescence = 0.0;\n} else {\n\tmaterial.iridescence = saturate( material.iridescence );\n}\nif ( material.iridescence > 0.0 ) {\n\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},en={common:{diffuse:{value:new tn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ha},uv2Transform:{value:new Ha},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ut(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new tn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new tn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ha}},sprite:{diffuse:{value:new tn(16777215)},opacity:{value:1},center:{value:new ut(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ha}}},qu={basic:{uniforms:Wo([en.common,en.specularmap,en.envmap,en.aomap,en.lightmap,en.fog]),vertexShader:Oi.meshbasic_vert,fragmentShader:Oi.meshbasic_frag},lambert:{uniforms:Wo([en.common,en.specularmap,en.envmap,en.aomap,en.lightmap,en.emissivemap,en.fog,en.lights,{emissive:{value:new tn(0)}}]),vertexShader:Oi.meshlambert_vert,fragmentShader:Oi.meshlambert_frag},phong:{uniforms:Wo([en.common,en.specularmap,en.envmap,en.aomap,en.lightmap,en.emissivemap,en.bumpmap,en.normalmap,en.displacementmap,en.fog,en.lights,{emissive:{value:new tn(0)},specular:{value:new tn(1118481)},shininess:{value:30}}]),vertexShader:Oi.meshphong_vert,fragmentShader:Oi.meshphong_frag},standard:{uniforms:Wo([en.common,en.envmap,en.aomap,en.lightmap,en.emissivemap,en.bumpmap,en.normalmap,en.displacementmap,en.roughnessmap,en.metalnessmap,en.fog,en.lights,{emissive:{value:new tn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Oi.meshphysical_vert,fragmentShader:Oi.meshphysical_frag},toon:{uniforms:Wo([en.common,en.aomap,en.lightmap,en.emissivemap,en.bumpmap,en.normalmap,en.displacementmap,en.gradientmap,en.fog,en.lights,{emissive:{value:new tn(0)}}]),vertexShader:Oi.meshtoon_vert,fragmentShader:Oi.meshtoon_frag},matcap:{uniforms:Wo([en.common,en.bumpmap,en.normalmap,en.displacementmap,en.fog,{matcap:{value:null}}]),vertexShader:Oi.meshmatcap_vert,fragmentShader:Oi.meshmatcap_frag},points:{uniforms:Wo([en.points,en.fog]),vertexShader:Oi.points_vert,fragmentShader:Oi.points_frag},dashed:{uniforms:Wo([en.common,en.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Oi.linedashed_vert,fragmentShader:Oi.linedashed_frag},depth:{uniforms:Wo([en.common,en.displacementmap]),vertexShader:Oi.depth_vert,fragmentShader:Oi.depth_frag},normal:{uniforms:Wo([en.common,en.bumpmap,en.normalmap,en.displacementmap,{opacity:{value:1}}]),vertexShader:Oi.meshnormal_vert,fragmentShader:Oi.meshnormal_frag},sprite:{uniforms:Wo([en.sprite,en.fog]),vertexShader:Oi.sprite_vert,fragmentShader:Oi.sprite_frag},background:{uniforms:{uvTransform:{value:new Ha},t2D:{value:null}},vertexShader:Oi.background_vert,fragmentShader:Oi.background_frag},cube:{uniforms:Wo([en.envmap,{opacity:{value:1}}]),vertexShader:Oi.cube_vert,fragmentShader:Oi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Oi.equirect_vert,fragmentShader:Oi.equirect_frag},distanceRGBA:{uniforms:Wo([en.common,en.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Oi.distanceRGBA_vert,fragmentShader:Oi.distanceRGBA_frag},shadow:{uniforms:Wo([en.lights,en.fog,{color:{value:new tn(0)},opacity:{value:1}}]),vertexShader:Oi.shadow_vert,fragmentShader:Oi.shadow_frag}};function X9e(l,a,o,c,u,h){const d=new tn(0);let p,g,f=!0===u?0:1,m=null,v=0,_=null;function b(C,x){o.buffers.color.setClear(C.r,C.g,C.b,x,h)}return{getClearColor:function(){return d},setClearColor:function(C,x=1){d.set(C),f=x,b(d,f)},getClearAlpha:function(){return f},setClearAlpha:function(C){f=C,b(d,f)},render:function y(C,x){let w=!1,S=!0===x.isScene?x.background:null;S&&S.isTexture&&(S=a.get(S));const M=l.xr,T=M.getSession&&M.getSession();T&&"additive"===T.environmentBlendMode&&(S=null),null===S?b(d,f):S&&S.isColor&&(b(S,1),w=!0),(l.autoClear||w)&&l.clear(l.autoClearColor,l.autoClearDepth,l.autoClearStencil),S&&(S.isCubeTexture||306===S.mapping)?(void 0===g&&(g=new Vi(new Jh(1,1,1),new jo({name:"BackgroundCubeMaterial",uniforms:Hv(qu.cube.uniforms),vertexShader:qu.cube.vertexShader,fragmentShader:qu.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),g.geometry.deleteAttribute("normal"),g.geometry.deleteAttribute("uv"),g.onBeforeRender=function(E,k,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(g.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),c.update(g)),g.material.uniforms.envMap.value=S,g.material.uniforms.flipEnvMap.value=S.isCubeTexture&&!1===S.isRenderTargetTexture?-1:1,(m!==S||v!==S.version||_!==l.toneMapping)&&(g.material.needsUpdate=!0,m=S,v=S.version,_=l.toneMapping),g.layers.enableAll(),C.unshift(g,g.geometry,g.material,0,0,null)):S&&S.isTexture&&(void 0===p&&(p=new Vi(new $v(2,2),new jo({name:"BackgroundMaterial",uniforms:Hv(qu.background.uniforms),vertexShader:qu.background.vertexShader,fragmentShader:qu.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),c.update(p)),p.material.uniforms.t2D.value=S,!0===S.matrixAutoUpdate&&S.updateMatrix(),p.material.uniforms.uvTransform.value.copy(S.matrix),(m!==S||v!==S.version||_!==l.toneMapping)&&(p.material.needsUpdate=!0,m=S,v=S.version,_=l.toneMapping),p.layers.enableAll(),C.unshift(p,p.geometry,p.material,0,0,null))}}}function K9e(l,a,o,c){const u=l.getParameter(34921),h=c.isWebGL2?null:a.get("OES_vertex_array_object"),d=c.isWebGL2||null!==h,f={},p=x(null);let g=p,m=!1;function y(O){return c.isWebGL2?l.bindVertexArray(O):h.bindVertexArrayOES(O)}function b(O){return c.isWebGL2?l.deleteVertexArray(O):h.deleteVertexArrayOES(O)}function x(O){const V=[],B=[],G=[];for(let H=0;H<u;H++)V[H]=0,B[H]=0,G[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:V,enabledAttributes:B,attributeDivisors:G,object:O,attributes:{},index:null}}function M(){const O=g.newAttributes;for(let V=0,B=O.length;V<B;V++)O[V]=0}function T(O){E(O,0)}function E(O,V){const G=g.enabledAttributes,H=g.attributeDivisors;g.newAttributes[O]=1,0===G[O]&&(l.enableVertexAttribArray(O),G[O]=1),H[O]!==V&&((c.isWebGL2?l:a.get("ANGLE_instanced_arrays"))[c.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](O,V),H[O]=V)}function k(){const O=g.newAttributes,V=g.enabledAttributes;for(let B=0,G=V.length;B<G;B++)V[B]!==O[B]&&(l.disableVertexAttribArray(B),V[B]=0)}function R(O,V,B,G,H,j){!0!==c.isWebGL2||5124!==B&&5125!==B?l.vertexAttribPointer(O,V,B,G,H,j):l.vertexAttribIPointer(O,V,B,H,j)}function $(){Y(),m=!0,g!==p&&(g=p,y(g.object))}function Y(){p.geometry=null,p.program=null,p.wireframe=!1}return{setup:function v(O,V,B,G,H){let j=!1;if(d){const W=function C(O,V,B){const G=!0===B.wireframe;let H=f[O.id];void 0===H&&(H={},f[O.id]=H);let j=H[V.id];void 0===j&&(j={},H[V.id]=j);let W=j[G];return void 0===W&&(W=x(function _(){return c.isWebGL2?l.createVertexArray():h.createVertexArrayOES()}()),j[G]=W),W}(G,B,V);g!==W&&(g=W,y(g.object)),j=function w(O,V,B,G){const H=g.attributes,j=V.attributes;let W=0;const Z=B.getAttributes();for(const K in Z)if(Z[K].location>=0){const re=H[K];let xe=j[K];if(void 0===xe&&("instanceMatrix"===K&&O.instanceMatrix&&(xe=O.instanceMatrix),"instanceColor"===K&&O.instanceColor&&(xe=O.instanceColor)),void 0===re||re.attribute!==xe||xe&&re.data!==xe.data)return!0;W++}return g.attributesNum!==W||g.index!==G}(O,G,B,H),j&&function S(O,V,B,G){const H={},j=V.attributes;let W=0;const Z=B.getAttributes();for(const K in Z)if(Z[K].location>=0){let re=j[K];void 0===re&&("instanceMatrix"===K&&O.instanceMatrix&&(re=O.instanceMatrix),"instanceColor"===K&&O.instanceColor&&(re=O.instanceColor));const xe={};xe.attribute=re,re&&re.data&&(xe.data=re.data),H[K]=xe,W++}g.attributes=H,g.attributesNum=W,g.index=G}(O,G,B,H)}else{const W=!0===V.wireframe;(g.geometry!==G.id||g.program!==B.id||g.wireframe!==W)&&(g.geometry=G.id,g.program=B.id,g.wireframe=W,j=!0)}null!==H&&o.update(H,34963),(j||m)&&(m=!1,function D(O,V,B,G){if(!1===c.isWebGL2&&(O.isInstancedMesh||G.isInstancedBufferGeometry)&&null===a.get("ANGLE_instanced_arrays"))return;M();const H=G.attributes,j=B.getAttributes(),W=V.defaultAttributeValues;for(const Z in j){const K=j[Z];if(K.location>=0){let ae=H[Z];if(void 0===ae&&("instanceMatrix"===Z&&O.instanceMatrix&&(ae=O.instanceMatrix),"instanceColor"===Z&&O.instanceColor&&(ae=O.instanceColor)),void 0!==ae){const re=ae.normalized,xe=ae.itemSize,ge=o.get(ae);if(void 0===ge)continue;const Me=ge.buffer,He=ge.type,ke=ge.bytesPerElement;if(ae.isInterleavedBufferAttribute){const Ie=ae.data,qe=Ie.stride,ce=ae.offset;if(Ie.isInstancedInterleavedBuffer){for(let Oe=0;Oe<K.locationSize;Oe++)E(K.location+Oe,Ie.meshPerAttribute);!0!==O.isInstancedMesh&&void 0===G._maxInstanceCount&&(G._maxInstanceCount=Ie.meshPerAttribute*Ie.count)}else for(let Oe=0;Oe<K.locationSize;Oe++)T(K.location+Oe);l.bindBuffer(34962,Me);for(let Oe=0;Oe<K.locationSize;Oe++)R(K.location+Oe,xe/K.locationSize,He,re,qe*ke,(ce+xe/K.locationSize*Oe)*ke)}else{if(ae.isInstancedBufferAttribute){for(let Ie=0;Ie<K.locationSize;Ie++)E(K.location+Ie,ae.meshPerAttribute);!0!==O.isInstancedMesh&&void 0===G._maxInstanceCount&&(G._maxInstanceCount=ae.meshPerAttribute*ae.count)}else for(let Ie=0;Ie<K.locationSize;Ie++)T(K.location+Ie);l.bindBuffer(34962,Me);for(let Ie=0;Ie<K.locationSize;Ie++)R(K.location+Ie,xe/K.locationSize,He,re,xe*ke,xe/K.locationSize*Ie*ke)}}else if(void 0!==W){const re=W[Z];if(void 0!==re)switch(re.length){case 2:l.vertexAttrib2fv(K.location,re);break;case 3:l.vertexAttrib3fv(K.location,re);break;case 4:l.vertexAttrib4fv(K.location,re);break;default:l.vertexAttrib1fv(K.location,re)}}}}k()}(O,V,B,G),null!==H&&l.bindBuffer(34963,o.get(H).buffer))},reset:$,resetDefaultState:Y,dispose:function P(){$();for(const O in f){const V=f[O];for(const B in V){const G=V[B];for(const H in G)b(G[H].object),delete G[H];delete V[B]}delete f[O]}},releaseStatesOfGeometry:function F(O){if(void 0===f[O.id])return;const V=f[O.id];for(const B in V){const G=V[B];for(const H in G)b(G[H].object),delete G[H];delete V[B]}delete f[O.id]},releaseStatesOfProgram:function L(O){for(const V in f){const B=f[V];if(void 0===B[O.id])continue;const G=B[O.id];for(const H in G)b(G[H].object),delete G[H];delete B[O.id]}},initAttributes:M,enableAttribute:T,disableUnusedAttributes:k}}function Q9e(l,a,o,c){const u=c.isWebGL2;let h;this.setMode=function d(g){h=g},this.render=function f(g,m){l.drawArrays(h,g,m),o.update(m,h,1)},this.renderInstances=function p(g,m,v){if(0===v)return;let _,y;if(u)_=l,y="drawArraysInstanced";else if(_=a.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",null===_)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");_[y](h,g,m,v),o.update(m,h,v)}}function J9e(l,a,o){let c;function h(R){if("highp"===R){if(l.getShaderPrecisionFormat(35633,36338).precision>0&&l.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return"mediump"===R&&l.getShaderPrecisionFormat(35633,36337).precision>0&&l.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const d="undefined"!=typeof WebGL2RenderingContext&&l instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&l instanceof WebGL2ComputeRenderingContext;let f=void 0!==o.precision?o.precision:"highp";const p=h(f);p!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",p,"instead."),f=p);const g=d||a.has("WEBGL_draw_buffers"),m=!0===o.logarithmicDepthBuffer,v=l.getParameter(34930),_=l.getParameter(35660),y=l.getParameter(3379),b=l.getParameter(34076),C=l.getParameter(34921),x=l.getParameter(36347),w=l.getParameter(36348),S=l.getParameter(36349),M=_>0,T=d||a.has("OES_texture_float");return{isWebGL2:d,drawBuffers:g,getMaxAnisotropy:function u(){if(void 0!==c)return c;if(!0===a.has("EXT_texture_filter_anisotropic")){const R=a.get("EXT_texture_filter_anisotropic");c=l.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else c=0;return c},getMaxPrecision:h,precision:f,logarithmicDepthBuffer:m,maxTextures:v,maxVertexTextures:_,maxTextureSize:y,maxCubemapSize:b,maxAttributes:C,maxVertexUniforms:x,maxVaryings:w,maxFragmentUniforms:S,vertexTextures:M,floatFragmentTextures:T,floatVertexTextures:M&&T,maxSamples:d?l.getParameter(36183):0}}function eGe(l){const a=this;let o=null,c=0,u=!1,h=!1;const d=new fg,f=new Ha,p={value:null,needsUpdate:!1};function g(){p.value!==o&&(p.value=o,p.needsUpdate=c>0),a.numPlanes=c,a.numIntersection=0}function m(v,_,y,b){const C=null!==v?v.length:0;let x=null;if(0!==C){if(x=p.value,!0!==b||null===x){const w=y+4*C,S=_.matrixWorldInverse;f.getNormalMatrix(S),(null===x||x.length<w)&&(x=new Float32Array(w));for(let M=0,T=y;M!==C;++M,T+=4)d.copy(v[M]).applyMatrix4(S,f),d.normal.toArray(x,T),x[T+3]=d.constant}p.value=x,p.needsUpdate=!0}return a.numPlanes=C,a.numIntersection=0,x}this.uniform=p,this.numPlanes=0,this.numIntersection=0,this.init=function(v,_,y){const b=0!==v.length||_||0!==c||u;return u=_,o=m(v,y,0),c=v.length,b},this.beginShadows=function(){h=!0,m(null)},this.endShadows=function(){h=!1,g()},this.setState=function(v,_,y){const b=v.clippingPlanes,C=v.clipIntersection,x=v.clipShadows,w=l.get(v);if(!u||null===b||0===b.length||h&&!x)h?m(null):g();else{const S=h?0:c,M=4*S;let T=w.clippingState||null;p.value=T,T=m(b,_,M,y);for(let E=0;E!==M;++E)T[E]=o[E];w.clippingState=T,this.numIntersection=C?this.numPlanes:0,this.numPlanes+=S}}}function tGe(l){let a=new WeakMap;function o(d,f){return 303===f?d.mapping=301:304===f&&(d.mapping=302),d}function u(d){const f=d.target;f.removeEventListener("dispose",u);const p=a.get(f);void 0!==p&&(a.delete(f),p.dispose())}return{get:function c(d){if(d&&d.isTexture&&!1===d.isRenderTargetTexture){const f=d.mapping;if(303===f||304===f){if(a.has(d))return o(a.get(d).texture,d.mapping);{const p=d.image;if(p&&p.height>0){const g=new ZHe(p.height/2);return g.fromEquirectangularTexture(l,d),a.set(d,g),d.addEventListener("dispose",u),o(g.texture,d.mapping)}return null}}}return d},dispose:function h(){a=new WeakMap}}}qu.physical={uniforms:Wo([qu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ut(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new tn(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ut},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new tn(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new tn(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Oi.meshphysical_vert,fragmentShader:Oi.meshphysical_frag};class ix extends fB{constructor(a=-1,o=1,c=1,u=-1,h=.1,d=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=a,this.right=o,this.top=c,this.bottom=u,this.near=h,this.far=d,this.updateProjectionMatrix()}copy(a,o){return super.copy(a,o),this.left=a.left,this.right=a.right,this.top=a.top,this.bottom=a.bottom,this.near=a.near,this.far=a.far,this.zoom=a.zoom,this.view=null===a.view?null:Object.assign({},a.view),this}setViewOffset(a,o,c,u,h,d){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=a,this.view.fullHeight=o,this.view.offsetX=c,this.view.offsetY=u,this.view.width=h,this.view.height=d,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const a=(this.right-this.left)/(2*this.zoom),o=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,u=(this.top+this.bottom)/2;let h=c-a,d=c+a,f=u+o,p=u-o;if(null!==this.view&&this.view.enabled){const g=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;h+=g*this.view.offsetX,d=h+g*this.view.width,f-=m*this.view.offsetY,p=f-m*this.view.height}this.projectionMatrix.makeOrthographic(h,d,f,p,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){const o=super.toJSON(a);return o.object.zoom=this.zoom,o.object.left=this.left,o.object.right=this.right,o.object.top=this.top,o.object.bottom=this.bottom,o.object.near=this.near,o.object.far=this.far,null!==this.view&&(o.object.view=Object.assign({},this.view)),o}}const gne=[.125,.215,.35,.446,.526,.582],mB=new ix,mne=new tn;let vB=null;const gg=(1+Math.sqrt(5))/2,Yv=1/gg,vne=[new ee(1,1,1),new ee(-1,1,1),new ee(1,1,-1),new ee(-1,1,-1),new ee(0,gg,Yv),new ee(0,gg,-Yv),new ee(Yv,0,gg),new ee(-Yv,0,gg),new ee(gg,Yv,0),new ee(-gg,Yv,0)];class _ne{constructor(a){this._renderer=a,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(a,o=0,c=.1,u=100){vB=this._renderer.getRenderTarget(),this._setSize(256);const h=this._allocateTargets();return h.depthBuffer=!0,this._sceneToCubeUV(a,c,u,h),o>0&&this._blur(h,0,0,o),this._applyPMREM(h),this._cleanup(h),h}fromEquirectangular(a,o=null){return this._fromTexture(a,o)}fromCubemap(a,o=null){return this._fromTexture(a,o)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=xne(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=bne(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(a){this._lodMax=Math.floor(Math.log2(a)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let a=0;a<this._lodPlanes.length;a++)this._lodPlanes[a].dispose()}_cleanup(a){this._renderer.setRenderTarget(vB),a.scissorTest=!1,jM(a,0,0,a.width,a.height)}_fromTexture(a,o){this._setSize(301===a.mapping||302===a.mapping?0===a.image.length?16:a.image[0].width||a.image[0].image.width:a.image.width/4),vB=this._renderer.getRenderTarget();const c=o||this._allocateTargets();return this._textureToCubeUV(a,c),this._applyPMREM(c),this._cleanup(c),c}_allocateTargets(){const a=3*Math.max(this._cubeSize,112),o=4*this._cubeSize,c={magFilter:Is,minFilter:Is,generateMipmaps:!1,type:Xb,format:Gc,encoding:sg,depthBuffer:!1},u=yne(a,o,c);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==a){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=yne(a,o,c);const{_lodMax:h}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function nGe(l){const a=[],o=[],c=[];let u=l;const h=l-4+1+gne.length;for(let d=0;d<h;d++){const f=Math.pow(2,u);o.push(f);let p=1/f;d>l-4?p=gne[d-l+4-1]:0===d&&(p=0),c.push(p);const g=1/(f-2),m=-g,v=1+g,_=[m,m,v,m,v,v,m,m,v,v,m,v],y=6,b=6,C=3,x=2,w=1,S=new Float32Array(C*b*y),M=new Float32Array(x*b*y),T=new Float32Array(w*b*y);for(let k=0;k<y;k++){const R=k%3*2/3-1,D=k>2?0:-1;S.set([R,D,0,R+2/3,D,0,R+2/3,D+1,0,R,D,0,R+2/3,D+1,0,R,D+1,0],C*b*k),M.set(_,x*b*k),T.set([k,k,k,k,k,k],w*b*k)}const E=new gi;E.setAttribute("position",new Jr(S,C)),E.setAttribute("uv",new Jr(M,x)),E.setAttribute("faceIndex",new Jr(T,w)),a.push(E),u>4&&u--}return{lodPlanes:a,sizeLods:o,sigmas:c}}(h)),this._blurMaterial=function iGe(l,a,o){const c=new Float32Array(20),u=new ee(0,1,0);return new jo({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/a,CUBEUV_TEXEL_HEIGHT:1/o,CUBEUV_MAX_MIP:`${l}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:c},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:u}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(h,a,o)}return u}_compileMaterial(a){const o=new Vi(this._lodPlanes[0],a);this._renderer.compile(o,mB)}_sceneToCubeUV(a,o,c,u){const f=new Rs(90,1,o,c),p=[1,-1,1,1,1,1],g=[1,1,1,-1,-1,-1],m=this._renderer,v=m.autoClear,_=m.toneMapping;m.getClearColor(mne),m.toneMapping=0,m.autoClear=!1;const y=new Ps({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),b=new Vi(new Jh,y);let C=!1;const x=a.background;x?x.isColor&&(y.color.copy(x),a.background=null,C=!0):(y.color.copy(mne),C=!0);for(let w=0;w<6;w++){const S=w%3;0===S?(f.up.set(0,p[w],0),f.lookAt(g[w],0,0)):1===S?(f.up.set(0,0,p[w]),f.lookAt(0,g[w],0)):(f.up.set(0,p[w],0),f.lookAt(0,0,g[w]));const M=this._cubeSize;jM(u,S*M,w>2?M:0,M,M),m.setRenderTarget(u),C&&m.render(b,f),m.render(a,f)}b.geometry.dispose(),b.material.dispose(),m.toneMapping=_,m.autoClear=v,a.background=x}_textureToCubeUV(a,o){const c=this._renderer,u=301===a.mapping||302===a.mapping;u?(null===this._cubemapMaterial&&(this._cubemapMaterial=xne()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===a.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=bne());const h=u?this._cubemapMaterial:this._equirectMaterial,d=new Vi(this._lodPlanes[0],h);h.uniforms.envMap.value=a;const p=this._cubeSize;jM(o,0,0,3*p,2*p),c.setRenderTarget(o),c.render(d,mB)}_applyPMREM(a){const o=this._renderer,c=o.autoClear;o.autoClear=!1;for(let u=1;u<this._lodPlanes.length;u++){const h=Math.sqrt(this._sigmas[u]*this._sigmas[u]-this._sigmas[u-1]*this._sigmas[u-1]);this._blur(a,u-1,u,h,vne[(u-1)%vne.length])}o.autoClear=c}_blur(a,o,c,u,h){const d=this._pingPongRenderTarget;this._halfBlur(a,d,o,c,u,"latitudinal",h),this._halfBlur(d,a,c,c,u,"longitudinal",h)}_halfBlur(a,o,c,u,h,d,f){const p=this._renderer,g=this._blurMaterial;"latitudinal"!==d&&"longitudinal"!==d&&console.error("blur direction must be either latitudinal or longitudinal!");const v=new Vi(this._lodPlanes[u],g),_=g.uniforms,y=this._sizeLods[c]-1,b=isFinite(h)?Math.PI/(2*y):2*Math.PI/39,C=h/b,x=isFinite(h)?1+Math.floor(3*C):20;x>20&&console.warn(`sigmaRadians, ${h}, is too large and will clip, as it requested ${x} samples when the maximum is set to 20`);const w=[];let S=0;for(let R=0;R<20;++R){const D=R/C,P=Math.exp(-D*D/2);w.push(P),0===R?S+=P:R<x&&(S+=2*P)}for(let R=0;R<w.length;R++)w[R]=w[R]/S;_.envMap.value=a.texture,_.samples.value=x,_.weights.value=w,_.latitudinal.value="latitudinal"===d,f&&(_.poleAxis.value=f);const{_lodMax:M}=this;_.dTheta.value=b,_.mipInt.value=M-c;const T=this._sizeLods[u];jM(o,3*T*(u>M-4?u-M+4:0),4*(this._cubeSize-T),3*T,2*T),p.setRenderTarget(o),p.render(v,mB)}}function yne(l,a,o){const c=new ya(l,a,o);return c.texture.mapping=306,c.texture.name="PMREM.cubeUv",c.scissorTest=!0,c}function jM(l,a,o,c,u){l.viewport.set(a,o,c,u),l.scissor.set(a,o,c,u)}function bne(){return new jo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function xne(){return new jo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function rGe(l){let a=new WeakMap,o=null;function h(f){const p=f.target;p.removeEventListener("dispose",h);const g=a.get(p);void 0!==g&&(a.delete(p),g.dispose())}return{get:function c(f){if(f&&f.isTexture){const p=f.mapping,g=303===p||304===p,m=301===p||302===p;if(g||m){if(f.isRenderTargetTexture&&!0===f.needsPMREMUpdate){f.needsPMREMUpdate=!1;let v=a.get(f);return null===o&&(o=new _ne(l)),v=g?o.fromEquirectangular(f,v):o.fromCubemap(f,v),a.set(f,v),v.texture}if(a.has(f))return a.get(f).texture;{const v=f.image;if(g&&v&&v.height>0||m&&v&&function u(f){let p=0;for(let m=0;m<6;m++)void 0!==f[m]&&p++;return 6===p}(v)){null===o&&(o=new _ne(l));const _=g?o.fromEquirectangular(f):o.fromCubemap(f);return a.set(f,_),f.addEventListener("dispose",h),_.texture}return null}}}return f},dispose:function d(){a=new WeakMap,null!==o&&(o.dispose(),o=null)}}}function sGe(l){const a={};function o(c){if(void 0!==a[c])return a[c];let u;switch(c){case"WEBGL_depth_texture":u=l.getExtension("WEBGL_depth_texture")||l.getExtension("MOZ_WEBGL_depth_texture")||l.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":u=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":u=l.getExtension("WEBGL_compressed_texture_s3tc")||l.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||l.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":u=l.getExtension("WEBGL_compressed_texture_pvrtc")||l.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:u=l.getExtension(c)}return a[c]=u,u}return{has:function(c){return null!==o(c)},init:function(c){c.isWebGL2?o("EXT_color_buffer_float"):(o("WEBGL_depth_texture"),o("OES_texture_float"),o("OES_texture_half_float"),o("OES_texture_half_float_linear"),o("OES_standard_derivatives"),o("OES_element_index_uint"),o("OES_vertex_array_object"),o("ANGLE_instanced_arrays")),o("OES_texture_float_linear"),o("EXT_color_buffer_half_float"),o("WEBGL_multisampled_render_to_texture")},get:function(c){const u=o(c);return null===u&&console.warn("THREE.WebGLRenderer: "+c+" extension not supported."),u}}}function oGe(l,a,o,c){const u={},h=new WeakMap;function d(v){const _=v.target;null!==_.index&&a.remove(_.index);for(const b in _.attributes)a.remove(_.attributes[b]);_.removeEventListener("dispose",d),delete u[_.id];const y=h.get(_);y&&(a.remove(y),h.delete(_)),c.releaseStatesOfGeometry(_),!0===_.isInstancedBufferGeometry&&delete _._maxInstanceCount,o.memory.geometries--}function g(v){const _=[],y=v.index,b=v.attributes.position;let C=0;if(null!==y){const S=y.array;C=y.version;for(let M=0,T=S.length;M<T;M+=3){const E=S[M+0],k=S[M+1],R=S[M+2];_.push(E,k,k,R,R,E)}}else{C=b.version;for(let M=0,T=b.array.length/3-1;M<T;M+=3){const E=M+0,k=M+1,R=M+2;_.push(E,k,k,R,R,E)}}const x=new(Kte(_)?dne:hne)(_,1);x.version=C;const w=h.get(v);w&&a.remove(w),h.set(v,x)}return{get:function f(v,_){return!0===u[_.id]||(_.addEventListener("dispose",d),u[_.id]=!0,o.memory.geometries++),_},update:function p(v){const _=v.attributes;for(const b in _)a.update(_[b],34962);const y=v.morphAttributes;for(const b in y){const C=y[b];for(let x=0,w=C.length;x<w;x++)a.update(C[x],34962)}},getWireframeAttribute:function m(v){const _=h.get(v);if(_){const y=v.index;null!==y&&_.version<y.version&&g(v)}else g(v);return h.get(v)}}}function aGe(l,a,o,c){const u=c.isWebGL2;let h,f,p;this.setMode=function d(_){h=_},this.setIndex=function g(_){f=_.type,p=_.bytesPerElement},this.render=function m(_,y){l.drawElements(h,y,f,_*p),o.update(y,h,1)},this.renderInstances=function v(_,y,b){if(0===b)return;let C,x;if(u)C=l,x="drawElementsInstanced";else if(C=a.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",null===C)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");C[x](h,y,f,_*p,b),o.update(y,h,b)}}function lGe(l){const o={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:o,programs:null,autoReset:!0,reset:function u(){o.frame++,o.calls=0,o.triangles=0,o.points=0,o.lines=0},update:function c(h,d,f){switch(o.calls++,d){case 4:o.triangles+=f*(h/3);break;case 1:o.lines+=f*(h/2);break;case 3:o.lines+=f*(h-1);break;case 2:o.lines+=f*h;break;case 0:o.points+=f*h;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",d)}}}}function cGe(l,a){return l[0]-a[0]}function uGe(l,a){return Math.abs(a[1])-Math.abs(l[1])}function yB(l,a){let o=1;const c=a.isInterleavedBufferAttribute?a.data.array:a.array;c instanceof Int8Array?o=127:c instanceof Uint8Array?o=255:c instanceof Uint16Array?o=65535:c instanceof Int16Array?o=32767:c instanceof Int32Array?o=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",c),l.divideScalar(o)}function hGe(l,a,o){const c={},u=new Float32Array(8),h=new WeakMap,d=new Bi,f=[];for(let g=0;g<8;g++)f[g]=[g,0];return{update:function p(g,m,v,_){const y=g.morphTargetInfluences;if(!0===a.isWebGL2){const b=m.morphAttributes.position||m.morphAttributes.normal||m.morphAttributes.color,C=void 0!==b?b.length:0;let x=h.get(m);if(void 0===x||x.count!==C){let V=function(){Y.dispose(),h.delete(m),m.removeEventListener("dispose",V)};void 0!==x&&x.texture.dispose();const M=void 0!==m.morphAttributes.position,T=void 0!==m.morphAttributes.normal,E=void 0!==m.morphAttributes.color,k=m.morphAttributes.position||[],R=m.morphAttributes.normal||[],D=m.morphAttributes.color||[];let P=0;!0===M&&(P=1),!0===T&&(P=2),!0===E&&(P=3);let F=m.attributes.position.count*P,L=1;F>a.maxTextureSize&&(L=Math.ceil(F/a.maxTextureSize),F=a.maxTextureSize);const $=new Float32Array(F*L*4*C),Y=new YN($,F,L,C);Y.type=hf,Y.needsUpdate=!0;const O=4*P;for(let B=0;B<C;B++){const G=k[B],H=R[B],j=D[B],W=F*L*4*B;for(let Z=0;Z<G.count;Z++){const K=Z*O;!0===M&&(d.fromBufferAttribute(G,Z),!0===G.normalized&&yB(d,G),$[W+K+0]=d.x,$[W+K+1]=d.y,$[W+K+2]=d.z,$[W+K+3]=0),!0===T&&(d.fromBufferAttribute(H,Z),!0===H.normalized&&yB(d,H),$[W+K+4]=d.x,$[W+K+5]=d.y,$[W+K+6]=d.z,$[W+K+7]=0),!0===E&&(d.fromBufferAttribute(j,Z),!0===j.normalized&&yB(d,j),$[W+K+8]=d.x,$[W+K+9]=d.y,$[W+K+10]=d.z,$[W+K+11]=4===j.itemSize?d.w:1)}}x={count:C,texture:Y,size:new ut(F,L)},h.set(m,x),m.addEventListener("dispose",V)}let w=0;for(let M=0;M<y.length;M++)w+=y[M];const S=m.morphTargetsRelative?1:1-w;_.getUniforms().setValue(l,"morphTargetBaseInfluence",S),_.getUniforms().setValue(l,"morphTargetInfluences",y),_.getUniforms().setValue(l,"morphTargetsTexture",x.texture,o),_.getUniforms().setValue(l,"morphTargetsTextureSize",x.size)}else{const b=void 0===y?0:y.length;let C=c[m.id];if(void 0===C||C.length!==b){C=[];for(let T=0;T<b;T++)C[T]=[T,0];c[m.id]=C}for(let T=0;T<b;T++){const E=C[T];E[0]=T,E[1]=y[T]}C.sort(uGe);for(let T=0;T<8;T++)T<b&&C[T][1]?(f[T][0]=C[T][0],f[T][1]=C[T][1]):(f[T][0]=Number.MAX_SAFE_INTEGER,f[T][1]=0);f.sort(cGe);const x=m.morphAttributes.position,w=m.morphAttributes.normal;let S=0;for(let T=0;T<8;T++){const E=f[T],k=E[0],R=E[1];k!==Number.MAX_SAFE_INTEGER&&R?(x&&m.getAttribute("morphTarget"+T)!==x[k]&&m.setAttribute("morphTarget"+T,x[k]),w&&m.getAttribute("morphNormal"+T)!==w[k]&&m.setAttribute("morphNormal"+T,w[k]),u[T]=R,S+=R):(x&&!0===m.hasAttribute("morphTarget"+T)&&m.deleteAttribute("morphTarget"+T),w&&!0===m.hasAttribute("morphNormal"+T)&&m.deleteAttribute("morphNormal"+T),u[T]=0)}const M=m.morphTargetsRelative?1:1-S;_.getUniforms().setValue(l,"morphTargetBaseInfluence",M),_.getUniforms().setValue(l,"morphTargetInfluences",u)}}}}function dGe(l,a,o,c){let u=new WeakMap;function f(p){const g=p.target;g.removeEventListener("dispose",f),o.remove(g.instanceMatrix),null!==g.instanceColor&&o.remove(g.instanceColor)}return{update:function h(p){const g=c.render.frame,v=a.get(p,p.geometry);return u.get(v)!==g&&(a.update(v),u.set(v,g)),p.isInstancedMesh&&(!1===p.hasEventListener("dispose",f)&&p.addEventListener("dispose",f),o.update(p.instanceMatrix,34962),null!==p.instanceColor&&o.update(p.instanceColor,34962)),v},dispose:function d(){u=new WeakMap}}}const Cne=new $u,wne=new YN,Sne=new ene,Tne=new GM,Mne=[],Dne=[],Ene=new Float32Array(16),kne=new Float32Array(9),Ane=new Float32Array(4);function Zv(l,a,o){const c=l[0];if(c<=0||c>0)return l;const u=a*o;let h=Mne[u];if(void 0===h&&(h=new Float32Array(u),Mne[u]=h),0!==a){c.toArray(h,0);for(let d=1,f=0;d!==a;++d)f+=o,l[d].toArray(h,f)}return h}function ba(l,a){if(l.length!==a.length)return!1;for(let o=0,c=l.length;o<c;o++)if(l[o]!==a[o])return!1;return!0}function xa(l,a){for(let o=0,c=a.length;o<c;o++)l[o]=a[o]}function $M(l,a){let o=Dne[a];void 0===o&&(o=new Int32Array(a),Dne[a]=o);for(let c=0;c!==a;++c)o[c]=l.allocateTextureUnit();return o}function fGe(l,a){const o=this.cache;o[0]!==a&&(l.uniform1f(this.addr,a),o[0]=a)}function pGe(l,a){const o=this.cache;if(void 0!==a.x)(o[0]!==a.x||o[1]!==a.y)&&(l.uniform2f(this.addr,a.x,a.y),o[0]=a.x,o[1]=a.y);else{if(ba(o,a))return;l.uniform2fv(this.addr,a),xa(o,a)}}function gGe(l,a){const o=this.cache;if(void 0!==a.x)(o[0]!==a.x||o[1]!==a.y||o[2]!==a.z)&&(l.uniform3f(this.addr,a.x,a.y,a.z),o[0]=a.x,o[1]=a.y,o[2]=a.z);else if(void 0!==a.r)(o[0]!==a.r||o[1]!==a.g||o[2]!==a.b)&&(l.uniform3f(this.addr,a.r,a.g,a.b),o[0]=a.r,o[1]=a.g,o[2]=a.b);else{if(ba(o,a))return;l.uniform3fv(this.addr,a),xa(o,a)}}function mGe(l,a){const o=this.cache;if(void 0!==a.x)(o[0]!==a.x||o[1]!==a.y||o[2]!==a.z||o[3]!==a.w)&&(l.uniform4f(this.addr,a.x,a.y,a.z,a.w),o[0]=a.x,o[1]=a.y,o[2]=a.z,o[3]=a.w);else{if(ba(o,a))return;l.uniform4fv(this.addr,a),xa(o,a)}}function vGe(l,a){const o=this.cache,c=a.elements;if(void 0===c){if(ba(o,a))return;l.uniformMatrix2fv(this.addr,!1,a),xa(o,a)}else{if(ba(o,c))return;Ane.set(c),l.uniformMatrix2fv(this.addr,!1,Ane),xa(o,c)}}function _Ge(l,a){const o=this.cache,c=a.elements;if(void 0===c){if(ba(o,a))return;l.uniformMatrix3fv(this.addr,!1,a),xa(o,a)}else{if(ba(o,c))return;kne.set(c),l.uniformMatrix3fv(this.addr,!1,kne),xa(o,c)}}function yGe(l,a){const o=this.cache,c=a.elements;if(void 0===c){if(ba(o,a))return;l.uniformMatrix4fv(this.addr,!1,a),xa(o,a)}else{if(ba(o,c))return;Ene.set(c),l.uniformMatrix4fv(this.addr,!1,Ene),xa(o,c)}}function bGe(l,a){const o=this.cache;o[0]!==a&&(l.uniform1i(this.addr,a),o[0]=a)}function xGe(l,a){const o=this.cache;ba(o,a)||(l.uniform2iv(this.addr,a),xa(o,a))}function CGe(l,a){const o=this.cache;ba(o,a)||(l.uniform3iv(this.addr,a),xa(o,a))}function wGe(l,a){const o=this.cache;ba(o,a)||(l.uniform4iv(this.addr,a),xa(o,a))}function SGe(l,a){const o=this.cache;o[0]!==a&&(l.uniform1ui(this.addr,a),o[0]=a)}function TGe(l,a){const o=this.cache;ba(o,a)||(l.uniform2uiv(this.addr,a),xa(o,a))}function MGe(l,a){const o=this.cache;ba(o,a)||(l.uniform3uiv(this.addr,a),xa(o,a))}function DGe(l,a){const o=this.cache;ba(o,a)||(l.uniform4uiv(this.addr,a),xa(o,a))}function EGe(l,a,o){const c=this.cache,u=o.allocateTextureUnit();c[0]!==u&&(l.uniform1i(this.addr,u),c[0]=u),o.setTexture2D(a||Cne,u)}function kGe(l,a,o){const c=this.cache,u=o.allocateTextureUnit();c[0]!==u&&(l.uniform1i(this.addr,u),c[0]=u),o.setTexture3D(a||Sne,u)}function AGe(l,a,o){const c=this.cache,u=o.allocateTextureUnit();c[0]!==u&&(l.uniform1i(this.addr,u),c[0]=u),o.setTextureCube(a||Tne,u)}function IGe(l,a,o){const c=this.cache,u=o.allocateTextureUnit();c[0]!==u&&(l.uniform1i(this.addr,u),c[0]=u),o.setTexture2DArray(a||wne,u)}function OGe(l,a){l.uniform1fv(this.addr,a)}function RGe(l,a){const o=Zv(a,this.size,2);l.uniform2fv(this.addr,o)}function FGe(l,a){const o=Zv(a,this.size,3);l.uniform3fv(this.addr,o)}function LGe(l,a){const o=Zv(a,this.size,4);l.uniform4fv(this.addr,o)}function NGe(l,a){const o=Zv(a,this.size,4);l.uniformMatrix2fv(this.addr,!1,o)}function BGe(l,a){const o=Zv(a,this.size,9);l.uniformMatrix3fv(this.addr,!1,o)}function VGe(l,a){const o=Zv(a,this.size,16);l.uniformMatrix4fv(this.addr,!1,o)}function zGe(l,a){l.uniform1iv(this.addr,a)}function UGe(l,a){l.uniform2iv(this.addr,a)}function HGe(l,a){l.uniform3iv(this.addr,a)}function GGe(l,a){l.uniform4iv(this.addr,a)}function WGe(l,a){l.uniform1uiv(this.addr,a)}function jGe(l,a){l.uniform2uiv(this.addr,a)}function $Ge(l,a){l.uniform3uiv(this.addr,a)}function qGe(l,a){l.uniform4uiv(this.addr,a)}function YGe(l,a,o){const c=a.length,u=$M(o,c);l.uniform1iv(this.addr,u);for(let h=0;h!==c;++h)o.setTexture2D(a[h]||Cne,u[h])}function ZGe(l,a,o){const c=a.length,u=$M(o,c);l.uniform1iv(this.addr,u);for(let h=0;h!==c;++h)o.setTexture3D(a[h]||Sne,u[h])}function XGe(l,a,o){const c=a.length,u=$M(o,c);l.uniform1iv(this.addr,u);for(let h=0;h!==c;++h)o.setTextureCube(a[h]||Tne,u[h])}function KGe(l,a,o){const c=a.length,u=$M(o,c);l.uniform1iv(this.addr,u);for(let h=0;h!==c;++h)o.setTexture2DArray(a[h]||wne,u[h])}class JGe{constructor(a,o,c){this.id=a,this.addr=c,this.cache=[],this.setValue=function PGe(l){switch(l){case 5126:return fGe;case 35664:return pGe;case 35665:return gGe;case 35666:return mGe;case 35674:return vGe;case 35675:return _Ge;case 35676:return yGe;case 5124:case 35670:return bGe;case 35667:case 35671:return xGe;case 35668:case 35672:return CGe;case 35669:case 35673:return wGe;case 5125:return SGe;case 36294:return TGe;case 36295:return MGe;case 36296:return DGe;case 35678:case 36198:case 36298:case 36306:case 35682:return EGe;case 35679:case 36299:case 36307:return kGe;case 35680:case 36300:case 36308:case 36293:return AGe;case 36289:case 36303:case 36311:case 36292:return IGe}}(o.type)}}class eWe{constructor(a,o,c){this.id=a,this.addr=c,this.cache=[],this.size=o.size,this.setValue=function QGe(l){switch(l){case 5126:return OGe;case 35664:return RGe;case 35665:return FGe;case 35666:return LGe;case 35674:return NGe;case 35675:return BGe;case 35676:return VGe;case 5124:case 35670:return zGe;case 35667:case 35671:return UGe;case 35668:case 35672:return HGe;case 35669:case 35673:return GGe;case 5125:return WGe;case 36294:return jGe;case 36295:return $Ge;case 36296:return qGe;case 35678:case 36198:case 36298:case 36306:case 35682:return YGe;case 35679:case 36299:case 36307:return ZGe;case 35680:case 36300:case 36308:case 36293:return XGe;case 36289:case 36303:case 36311:case 36292:return KGe}}(o.type)}}class tWe{constructor(a){this.id=a,this.seq=[],this.map={}}setValue(a,o,c){const u=this.seq;for(let h=0,d=u.length;h!==d;++h){const f=u[h];f.setValue(a,o[f.id],c)}}}const bB=/(\w+)(\])?(\[|\.)?/g;function Ine(l,a){l.seq.push(a),l.map[a.id]=a}function nWe(l,a,o){const c=l.name,u=c.length;for(bB.lastIndex=0;;){const h=bB.exec(c),d=bB.lastIndex;let f=h[1];const g=h[3];if("]"===h[2]&&(f|=0),void 0===g||"["===g&&d+2===u){Ine(o,void 0===g?new JGe(f,l,a):new eWe(f,l,a));break}{let v=o.map[f];void 0===v&&(v=new tWe(f),Ine(o,v)),o=v}}}class qM{constructor(a,o){this.seq=[],this.map={};const c=a.getProgramParameter(o,35718);for(let u=0;u<c;++u){const h=a.getActiveUniform(o,u);nWe(h,a.getUniformLocation(o,h.name),this)}}setValue(a,o,c,u){const h=this.map[o];void 0!==h&&h.setValue(a,c,u)}setOptional(a,o,c){const u=o[c];void 0!==u&&this.setValue(a,c,u)}static upload(a,o,c,u){for(let h=0,d=o.length;h!==d;++h){const f=o[h],p=c[f.id];!1!==p.needsUpdate&&f.setValue(a,p.value,u)}}static seqWithValue(a,o){const c=[];for(let u=0,h=a.length;u!==h;++u){const d=a[u];d.id in o&&c.push(d)}return c}}function Pne(l,a,o){const c=l.createShader(a);return l.shaderSource(c,o),l.compileShader(c),c}let iWe=0;function One(l,a,o){const c=l.getShaderParameter(a,35713),u=l.getShaderInfoLog(a).trim();if(c&&""===u)return"";const h=/ERROR: 0:(\d+)/.exec(u);if(h){const d=parseInt(h[1]);return o.toUpperCase()+"\n\n"+u+"\n\n"+function rWe(l,a){const o=l.split("\n"),c=[],u=Math.max(a-6,0),h=Math.min(a+6,o.length);for(let d=u;d<h;d++){const f=d+1;c.push(`${f===a?">":" "} ${f}: ${o[d]}`)}return c.join("\n")}(l.getShaderSource(a),d)}return u}function oWe(l,a){const o=function sWe(l){switch(l){case sg:return["Linear","( value )"];case Qr:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",l),["Linear","( value )"]}}(a);return"vec4 "+l+"( vec4 value ) { return LinearTo"+o[0]+o[1]+"; }"}function aWe(l,a){let o;switch(a){case 1:o="Linear";break;case 2:o="Reinhard";break;case 3:o="OptimizedCineon";break;case 4:o="ACESFilmic";break;case 5:o="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",a),o="Linear"}return"vec3 "+l+"( vec3 color ) { return "+o+"ToneMapping( color ); }"}function rx(l){return""!==l}function Rne(l,a){return l.replace(/NUM_DIR_LIGHTS/g,a.numDirLights).replace(/NUM_SPOT_LIGHTS/g,a.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,a.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,a.numPointLights).replace(/NUM_HEMI_LIGHTS/g,a.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,a.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,a.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,a.numPointLightShadows)}function Fne(l,a){return l.replace(/NUM_CLIPPING_PLANES/g,a.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,a.numClippingPlanes-a.numClipIntersection)}const hWe=/^[ \t]*#include +<([\w\d./]+)>/gm;function xB(l){return l.replace(hWe,dWe)}function dWe(l,a){const o=Oi[a];if(void 0===o)throw new Error("Can not resolve #include <"+a+">");return xB(o)}const fWe=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,pWe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Lne(l){return l.replace(pWe,Nne).replace(fWe,gWe)}function gWe(l,a,o,c){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Nne(0,a,o,c)}function Nne(l,a,o,c){let u="";for(let h=parseInt(a);h<parseInt(o);h++)u+=c.replace(/\[\s*i\s*\]/g,"[ "+h+" ]").replace(/UNROLLED_LOOP_INDEX/g,h);return u}function Bne(l){let a="precision "+l.precision+" float;\nprecision "+l.precision+" int;";return"highp"===l.precision?a+="\n#define HIGH_PRECISION":"mediump"===l.precision?a+="\n#define MEDIUM_PRECISION":"lowp"===l.precision&&(a+="\n#define LOW_PRECISION"),a}function xWe(l,a,o,c){const u=l.getContext(),h=o.defines;let d=o.vertexShader,f=o.fragmentShader;const p=function mWe(l){let a="SHADOWMAP_TYPE_BASIC";return 1===l.shadowMapType?a="SHADOWMAP_TYPE_PCF":2===l.shadowMapType?a="SHADOWMAP_TYPE_PCF_SOFT":3===l.shadowMapType&&(a="SHADOWMAP_TYPE_VSM"),a}(o),g=function vWe(l){let a="ENVMAP_TYPE_CUBE";if(l.envMap)switch(l.envMapMode){case 301:case 302:a="ENVMAP_TYPE_CUBE";break;case 306:a="ENVMAP_TYPE_CUBE_UV"}return a}(o),m=function _We(l){let a="ENVMAP_MODE_REFLECTION";return l.envMap&&302===l.envMapMode&&(a="ENVMAP_MODE_REFRACTION"),a}(o),v=function yWe(l){let a="ENVMAP_BLENDING_NONE";if(l.envMap)switch(l.combine){case 0:a="ENVMAP_BLENDING_MULTIPLY";break;case 1:a="ENVMAP_BLENDING_MIX";break;case 2:a="ENVMAP_BLENDING_ADD"}return a}(o),_=function bWe(l){const a=l.envMapCubeUVHeight;if(null===a)return null;const o=Math.log2(a)-2,c=1/a;return{texelWidth:1/(3*Math.max(Math.pow(2,o),112)),texelHeight:c,maxMip:o}}(o),y=o.isWebGL2?"":function lWe(l){return[l.extensionDerivatives||l.envMapCubeUVHeight||l.bumpMap||l.tangentSpaceNormalMap||l.clearcoatNormalMap||l.flatShading||"physical"===l.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(l.extensionFragDepth||l.logarithmicDepthBuffer)&&l.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",l.extensionDrawBuffers&&l.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(l.extensionShaderTextureLOD||l.envMap||l.transmission)&&l.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(rx).join("\n")}(o),b=function cWe(l){const a=[];for(const o in l){const c=l[o];!1!==c&&a.push("#define "+o+" "+c)}return a.join("\n")}(h),C=u.createProgram();let x,w,S=o.glslVersion?"#version "+o.glslVersion+"\n":"";o.isRawShaderMaterial?(x=[b].filter(rx).join("\n"),x.length>0&&(x+="\n"),w=[y,b].filter(rx).join("\n"),w.length>0&&(w+="\n")):(x=[Bne(o),"#define SHADER_NAME "+o.shaderName,b,o.instancing?"#define USE_INSTANCING":"",o.instancingColor?"#define USE_INSTANCING_COLOR":"",o.supportsVertexTextures?"#define VERTEX_TEXTURES":"",o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+m:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.normalMap&&o.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",o.clearcoatMap?"#define USE_CLEARCOATMAP":"",o.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",o.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",o.specularColorMap?"#define USE_SPECULARCOLORMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.transmission?"#define USE_TRANSMISSION":"",o.transmissionMap?"#define USE_TRANSMISSIONMAP":"",o.thicknessMap?"#define USE_THICKNESSMAP":"",o.sheenColorMap?"#define USE_SHEENCOLORMAP":"",o.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.vertexAlphas?"#define USE_COLOR_ALPHA":"",o.vertexUvs?"#define USE_UV":"",o.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.morphColors&&o.isWebGL2?"#define USE_MORPHCOLORS":"",o.morphTargetsCount>0&&o.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",o.morphTargetsCount>0&&o.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+o.morphTextureStride:"",o.morphTargetsCount>0&&o.isWebGL2?"#define MORPHTARGETS_COUNT "+o.morphTargetsCount:"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+p:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&o.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(rx).join("\n"),w=[y,Bne(o),"#define SHADER_NAME "+o.shaderName,b,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+g:"",o.envMap?"#define "+m:"",o.envMap?"#define "+v:"",_?"#define CUBEUV_TEXEL_WIDTH "+_.texelWidth:"",_?"#define CUBEUV_TEXEL_HEIGHT "+_.texelHeight:"",_?"#define CUBEUV_MAX_MIP "+_.maxMip+".0":"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.normalMap&&o.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",o.clearcoat?"#define USE_CLEARCOAT":"",o.clearcoatMap?"#define USE_CLEARCOATMAP":"",o.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.iridescence?"#define USE_IRIDESCENCE":"",o.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",o.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",o.specularColorMap?"#define USE_SPECULARCOLORMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.alphaTest?"#define USE_ALPHATEST":"",o.sheen?"#define USE_SHEEN":"",o.sheenColorMap?"#define USE_SHEENCOLORMAP":"",o.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",o.transmission?"#define USE_TRANSMISSION":"",o.transmissionMap?"#define USE_TRANSMISSIONMAP":"",o.thicknessMap?"#define USE_THICKNESSMAP":"",o.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors||o.instancingColor?"#define USE_COLOR":"",o.vertexAlphas?"#define USE_COLOR_ALPHA":"",o.vertexUvs?"#define USE_UV":"",o.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+p:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&o.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==o.toneMapping?"#define TONE_MAPPING":"",0!==o.toneMapping?Oi.tonemapping_pars_fragment:"",0!==o.toneMapping?aWe("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.opaque?"#define OPAQUE":"",Oi.encodings_pars_fragment,oWe("linearToOutputTexel",o.outputEncoding),o.useDepthPacking?"#define DEPTH_PACKING "+o.depthPacking:"","\n"].filter(rx).join("\n")),d=xB(d),d=Rne(d,o),d=Fne(d,o),f=xB(f),f=Rne(f,o),f=Fne(f,o),d=Lne(d),f=Lne(f),o.isWebGL2&&!0!==o.isRawShaderMaterial&&(S="#version 300 es\n",x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+x,w=["#define varying in","300 es"===o.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===o.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+w);const T=S+w+f,E=Pne(u,35633,S+x+d),k=Pne(u,35632,T);if(u.attachShader(C,E),u.attachShader(C,k),void 0!==o.index0AttributeName?u.bindAttribLocation(C,0,o.index0AttributeName):!0===o.morphTargets&&u.bindAttribLocation(C,0,"position"),u.linkProgram(C),l.debug.checkShaderErrors){const P=u.getProgramInfoLog(C).trim(),F=u.getShaderInfoLog(E).trim(),L=u.getShaderInfoLog(k).trim();let $=!0,Y=!0;if(!1===u.getProgramParameter(C,35714)){$=!1;const O=One(u,E,"vertex"),V=One(u,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+u.getError()+" - VALIDATE_STATUS "+u.getProgramParameter(C,35715)+"\n\nProgram Info Log: "+P+"\n"+O+"\n"+V)}else""!==P?console.warn("THREE.WebGLProgram: Program Info Log:",P):(""===F||""===L)&&(Y=!1);Y&&(this.diagnostics={runnable:$,programLog:P,vertexShader:{log:F,prefix:x},fragmentShader:{log:L,prefix:w}})}let R,D;return u.deleteShader(E),u.deleteShader(k),this.getUniforms=function(){return void 0===R&&(R=new qM(u,C)),R},this.getAttributes=function(){return void 0===D&&(D=function uWe(l,a){const o={},c=l.getProgramParameter(a,35721);for(let u=0;u<c;u++){const h=l.getActiveAttrib(a,u),d=h.name;let f=1;35674===h.type&&(f=2),35675===h.type&&(f=3),35676===h.type&&(f=4),o[d]={type:h.type,location:l.getAttribLocation(a,d),locationSize:f}}return o}(u,C)),D},this.destroy=function(){c.releaseStatesOfProgram(this),u.deleteProgram(C),this.program=void 0},this.name=o.shaderName,this.id=iWe++,this.cacheKey=a,this.usedTimes=1,this.program=C,this.vertexShader=E,this.fragmentShader=k,this}let CWe=0;class wWe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(a){const c=a.fragmentShader,u=this._getShaderStage(a.vertexShader),h=this._getShaderStage(c),d=this._getShaderCacheForMaterial(a);return!1===d.has(u)&&(d.add(u),u.usedTimes++),!1===d.has(h)&&(d.add(h),h.usedTimes++),this}remove(a){const o=this.materialCache.get(a);for(const c of o)c.usedTimes--,0===c.usedTimes&&this.shaderCache.delete(c.code);return this.materialCache.delete(a),this}getVertexShaderID(a){return this._getShaderStage(a.vertexShader).id}getFragmentShaderID(a){return this._getShaderStage(a.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(a){const o=this.materialCache;return!1===o.has(a)&&o.set(a,new Set),o.get(a)}_getShaderStage(a){const o=this.shaderCache;if(!1===o.has(a)){const c=new SWe(a);o.set(a,c)}return o.get(a)}}class SWe{constructor(a){this.id=CWe++,this.code=a,this.usedTimes=0}}function TWe(l,a,o,c,u,h,d){const f=new nB,p=new wWe,g=[],m=u.isWebGL2,v=u.logarithmicDepthBuffer,_=u.vertexTextures;let y=u.precision;const b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function C(D,P,F,L,$){const Y=L.fog,O=$.geometry,B=(D.isMeshStandardMaterial?o:a).get(D.envMap||(D.isMeshStandardMaterial?L.environment:null)),G=B&&306===B.mapping?B.image.height:null,H=b[D.type];null!==D.precision&&(y=u.getMaxPrecision(D.precision),y!==D.precision&&console.warn("THREE.WebGLProgram.getParameters:",D.precision,"not supported, using",y,"instead."));const j=O.morphAttributes.position||O.morphAttributes.normal||O.morphAttributes.color,W=void 0!==j?j.length:0;let K,ae,re,xe,Z=0;if(void 0!==O.morphAttributes.position&&(Z=1),void 0!==O.morphAttributes.normal&&(Z=2),void 0!==O.morphAttributes.color&&(Z=3),H){const qe=qu[H];K=qe.vertexShader,ae=qe.fragmentShader}else K=D.vertexShader,ae=D.fragmentShader,p.update(D),re=p.getVertexShaderID(D),xe=p.getFragmentShaderID(D);const ge=l.getRenderTarget(),He=D.clearcoat>0,ke=D.iridescence>0;return{isWebGL2:m,shaderID:H,shaderName:D.type,vertexShader:K,fragmentShader:ae,defines:D.defines,customVertexShaderID:re,customFragmentShaderID:xe,isRawShaderMaterial:!0===D.isRawShaderMaterial,glslVersion:D.glslVersion,precision:y,instancing:!0===$.isInstancedMesh,instancingColor:!0===$.isInstancedMesh&&null!==$.instanceColor,supportsVertexTextures:_,outputEncoding:null===ge?l.outputEncoding:!0===ge.isXRRenderTarget?ge.texture.encoding:sg,map:!!D.map,matcap:!!D.matcap,envMap:!!B,envMapMode:B&&B.mapping,envMapCubeUVHeight:G,lightMap:!!D.lightMap,aoMap:!!D.aoMap,emissiveMap:!!D.emissiveMap,bumpMap:!!D.bumpMap,normalMap:!!D.normalMap,objectSpaceNormalMap:1===D.normalMapType,tangentSpaceNormalMap:0===D.normalMapType,decodeVideoTexture:!!D.map&&!0===D.map.isVideoTexture&&D.map.encoding===Qr,clearcoat:He,clearcoatMap:He&&!!D.clearcoatMap,clearcoatRoughnessMap:He&&!!D.clearcoatRoughnessMap,clearcoatNormalMap:He&&!!D.clearcoatNormalMap,iridescence:ke,iridescenceMap:ke&&!!D.iridescenceMap,iridescenceThicknessMap:ke&&!!D.iridescenceThicknessMap,displacementMap:!!D.displacementMap,roughnessMap:!!D.roughnessMap,metalnessMap:!!D.metalnessMap,specularMap:!!D.specularMap,specularIntensityMap:!!D.specularIntensityMap,specularColorMap:!!D.specularColorMap,opaque:!1===D.transparent&&1===D.blending,alphaMap:!!D.alphaMap,alphaTest:D.alphaTest>0,gradientMap:!!D.gradientMap,sheen:D.sheen>0,sheenColorMap:!!D.sheenColorMap,sheenRoughnessMap:!!D.sheenRoughnessMap,transmission:D.transmission>0,transmissionMap:!!D.transmissionMap,thicknessMap:!!D.thicknessMap,combine:D.combine,vertexTangents:!!D.normalMap&&!!O.attributes.tangent,vertexColors:D.vertexColors,vertexAlphas:!0===D.vertexColors&&!!O.attributes.color&&4===O.attributes.color.itemSize,vertexUvs:!!(D.map||D.bumpMap||D.normalMap||D.specularMap||D.alphaMap||D.emissiveMap||D.roughnessMap||D.metalnessMap||D.clearcoatMap||D.clearcoatRoughnessMap||D.clearcoatNormalMap||D.iridescenceMap||D.iridescenceThicknessMap||D.displacementMap||D.transmissionMap||D.thicknessMap||D.specularIntensityMap||D.specularColorMap||D.sheenColorMap||D.sheenRoughnessMap),uvsVertexOnly:!(D.map||D.bumpMap||D.normalMap||D.specularMap||D.alphaMap||D.emissiveMap||D.roughnessMap||D.metalnessMap||D.clearcoatNormalMap||D.iridescenceMap||D.iridescenceThicknessMap||D.transmission>0||D.transmissionMap||D.thicknessMap||D.specularIntensityMap||D.specularColorMap||D.sheen>0||D.sheenColorMap||D.sheenRoughnessMap||!D.displacementMap),fog:!!Y,useFog:!0===D.fog,fogExp2:Y&&Y.isFogExp2,flatShading:!!D.flatShading,sizeAttenuation:D.sizeAttenuation,logarithmicDepthBuffer:v,skinning:!0===$.isSkinnedMesh,morphTargets:void 0!==O.morphAttributes.position,morphNormals:void 0!==O.morphAttributes.normal,morphColors:void 0!==O.morphAttributes.color,morphTargetsCount:W,morphTextureStride:Z,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numClippingPlanes:d.numPlanes,numClipIntersection:d.numIntersection,dithering:D.dithering,shadowMapEnabled:l.shadowMap.enabled&&F.length>0,shadowMapType:l.shadowMap.type,toneMapping:D.toneMapped?l.toneMapping:0,physicallyCorrectLights:l.physicallyCorrectLights,premultipliedAlpha:D.premultipliedAlpha,doubleSided:2===D.side,flipSided:1===D.side,useDepthPacking:!!D.depthPacking,depthPacking:D.depthPacking||0,index0AttributeName:D.index0AttributeName,extensionDerivatives:D.extensions&&D.extensions.derivatives,extensionFragDepth:D.extensions&&D.extensions.fragDepth,extensionDrawBuffers:D.extensions&&D.extensions.drawBuffers,extensionShaderTextureLOD:D.extensions&&D.extensions.shaderTextureLOD,rendererExtensionFragDepth:m||c.has("EXT_frag_depth"),rendererExtensionDrawBuffers:m||c.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:m||c.has("EXT_shader_texture_lod"),customProgramCacheKey:D.customProgramCacheKey()}},getProgramCacheKey:function x(D){const P=[];if(D.shaderID?P.push(D.shaderID):(P.push(D.customVertexShaderID),P.push(D.customFragmentShaderID)),void 0!==D.defines)for(const F in D.defines)P.push(F),P.push(D.defines[F]);return!1===D.isRawShaderMaterial&&(function w(D,P){D.push(P.precision),D.push(P.outputEncoding),D.push(P.envMapMode),D.push(P.envMapCubeUVHeight),D.push(P.combine),D.push(P.vertexUvs),D.push(P.fogExp2),D.push(P.sizeAttenuation),D.push(P.morphTargetsCount),D.push(P.morphAttributeCount),D.push(P.numDirLights),D.push(P.numPointLights),D.push(P.numSpotLights),D.push(P.numHemiLights),D.push(P.numRectAreaLights),D.push(P.numDirLightShadows),D.push(P.numPointLightShadows),D.push(P.numSpotLightShadows),D.push(P.shadowMapType),D.push(P.toneMapping),D.push(P.numClippingPlanes),D.push(P.numClipIntersection),D.push(P.depthPacking)}(P,D),function S(D,P){f.disableAll(),P.isWebGL2&&f.enable(0),P.supportsVertexTextures&&f.enable(1),P.instancing&&f.enable(2),P.instancingColor&&f.enable(3),P.map&&f.enable(4),P.matcap&&f.enable(5),P.envMap&&f.enable(6),P.lightMap&&f.enable(7),P.aoMap&&f.enable(8),P.emissiveMap&&f.enable(9),P.bumpMap&&f.enable(10),P.normalMap&&f.enable(11),P.objectSpaceNormalMap&&f.enable(12),P.tangentSpaceNormalMap&&f.enable(13),P.clearcoat&&f.enable(14),P.clearcoatMap&&f.enable(15),P.clearcoatRoughnessMap&&f.enable(16),P.clearcoatNormalMap&&f.enable(17),P.iridescence&&f.enable(18),P.iridescenceMap&&f.enable(19),P.iridescenceThicknessMap&&f.enable(20),P.displacementMap&&f.enable(21),P.specularMap&&f.enable(22),P.roughnessMap&&f.enable(23),P.metalnessMap&&f.enable(24),P.gradientMap&&f.enable(25),P.alphaMap&&f.enable(26),P.alphaTest&&f.enable(27),P.vertexColors&&f.enable(28),P.vertexAlphas&&f.enable(29),P.vertexUvs&&f.enable(30),P.vertexTangents&&f.enable(31),P.uvsVertexOnly&&f.enable(32),P.fog&&f.enable(33),D.push(f.mask),f.disableAll(),P.useFog&&f.enable(0),P.flatShading&&f.enable(1),P.logarithmicDepthBuffer&&f.enable(2),P.skinning&&f.enable(3),P.morphTargets&&f.enable(4),P.morphNormals&&f.enable(5),P.morphColors&&f.enable(6),P.premultipliedAlpha&&f.enable(7),P.shadowMapEnabled&&f.enable(8),P.physicallyCorrectLights&&f.enable(9),P.doubleSided&&f.enable(10),P.flipSided&&f.enable(11),P.useDepthPacking&&f.enable(12),P.dithering&&f.enable(13),P.specularIntensityMap&&f.enable(14),P.specularColorMap&&f.enable(15),P.transmission&&f.enable(16),P.transmissionMap&&f.enable(17),P.thicknessMap&&f.enable(18),P.sheen&&f.enable(19),P.sheenColorMap&&f.enable(20),P.sheenRoughnessMap&&f.enable(21),P.decodeVideoTexture&&f.enable(22),P.opaque&&f.enable(23),D.push(f.mask)}(P,D),P.push(l.outputEncoding)),P.push(D.customProgramCacheKey),P.join()},getUniforms:function M(D){const P=b[D.type];let F;return F=P?HM.clone(qu[P].uniforms):D.uniforms,F},acquireProgram:function T(D,P){let F;for(let L=0,$=g.length;L<$;L++){const Y=g[L];if(Y.cacheKey===P){F=Y,++F.usedTimes;break}}return void 0===F&&(F=new xWe(l,P,D,h),g.push(F)),F},releaseProgram:function E(D){if(0==--D.usedTimes){const P=g.indexOf(D);g[P]=g[g.length-1],g.pop(),D.destroy()}},releaseShaderCache:function k(D){p.remove(D)},programs:g,dispose:function R(){p.dispose()}}}function MWe(){let l=new WeakMap;return{get:function a(h){let d=l.get(h);return void 0===d&&(d={},l.set(h,d)),d},remove:function o(h){l.delete(h)},update:function c(h,d,f){l.get(h)[d]=f},dispose:function u(){l=new WeakMap}}}function DWe(l,a){return l.groupOrder!==a.groupOrder?l.groupOrder-a.groupOrder:l.renderOrder!==a.renderOrder?l.renderOrder-a.renderOrder:l.material.id!==a.material.id?l.material.id-a.material.id:l.z!==a.z?l.z-a.z:l.id-a.id}function Vne(l,a){return l.groupOrder!==a.groupOrder?l.groupOrder-a.groupOrder:l.renderOrder!==a.renderOrder?l.renderOrder-a.renderOrder:l.z!==a.z?a.z-l.z:l.id-a.id}function zne(){const l=[];let a=0;const o=[],c=[],u=[];function d(v,_,y,b,C,x){let w=l[a];return void 0===w?(w={id:v.id,object:v,geometry:_,material:y,groupOrder:b,renderOrder:v.renderOrder,z:C,group:x},l[a]=w):(w.id=v.id,w.object=v,w.geometry=_,w.material=y,w.groupOrder=b,w.renderOrder=v.renderOrder,w.z=C,w.group=x),a++,w}return{opaque:o,transmissive:c,transparent:u,init:function h(){a=0,o.length=0,c.length=0,u.length=0},push:function f(v,_,y,b,C,x){const w=d(v,_,y,b,C,x);y.transmission>0?c.push(w):!0===y.transparent?u.push(w):o.push(w)},unshift:function p(v,_,y,b,C,x){const w=d(v,_,y,b,C,x);y.transmission>0?c.unshift(w):!0===y.transparent?u.unshift(w):o.unshift(w)},finish:function m(){for(let v=a,_=l.length;v<_;v++){const y=l[v];if(null===y.id)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}},sort:function g(v,_){o.length>1&&o.sort(v||DWe),c.length>1&&c.sort(_||Vne),u.length>1&&u.sort(_||Vne)}}}function EWe(){let l=new WeakMap;return{get:function a(c,u){let h;return!1===l.has(c)?(h=new zne,l.set(c,[h])):u>=l.get(c).length?(h=new zne,l.get(c).push(h)):h=l.get(c)[u],h},dispose:function o(){l=new WeakMap}}}function kWe(){const l={};return{get:function(a){if(void 0!==l[a.id])return l[a.id];let o;switch(a.type){case"DirectionalLight":o={direction:new ee,color:new tn};break;case"SpotLight":o={position:new ee,direction:new ee,color:new tn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":o={position:new ee,color:new tn,distance:0,decay:0};break;case"HemisphereLight":o={direction:new ee,skyColor:new tn,groundColor:new tn};break;case"RectAreaLight":o={color:new tn,position:new ee,halfWidth:new ee,halfHeight:new ee}}return l[a.id]=o,o}}}let IWe=0;function PWe(l,a){return(a.castShadow?1:0)-(l.castShadow?1:0)}function OWe(l,a){const o=new kWe,c=function AWe(){const l={};return{get:function(a){if(void 0!==l[a.id])return l[a.id];let o;switch(a.type){case"DirectionalLight":case"SpotLight":o={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ut};break;case"PointLight":o={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ut,shadowCameraNear:1,shadowCameraFar:1e3}}return l[a.id]=o,o}}}(),u={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let m=0;m<9;m++)u.probe.push(new ee);const h=new ee,d=new Qn,f=new Qn;return{setup:function p(m,v){let _=0,y=0,b=0;for(let P=0;P<9;P++)u.probe[P].set(0,0,0);let C=0,x=0,w=0,S=0,M=0,T=0,E=0,k=0;m.sort(PWe);const R=!0!==v?Math.PI:1;for(let P=0,F=m.length;P<F;P++){const L=m[P],$=L.color,Y=L.intensity,O=L.distance,V=L.shadow&&L.shadow.map?L.shadow.map.texture:null;if(L.isAmbientLight)_+=$.r*Y*R,y+=$.g*Y*R,b+=$.b*Y*R;else if(L.isLightProbe)for(let B=0;B<9;B++)u.probe[B].addScaledVector(L.sh.coefficients[B],Y);else if(L.isDirectionalLight){const B=o.get(L);if(B.color.copy(L.color).multiplyScalar(L.intensity*R),L.castShadow){const G=L.shadow,H=c.get(L);H.shadowBias=G.bias,H.shadowNormalBias=G.normalBias,H.shadowRadius=G.radius,H.shadowMapSize=G.mapSize,u.directionalShadow[C]=H,u.directionalShadowMap[C]=V,u.directionalShadowMatrix[C]=L.shadow.matrix,T++}u.directional[C]=B,C++}else if(L.isSpotLight){const B=o.get(L);if(B.position.setFromMatrixPosition(L.matrixWorld),B.color.copy($).multiplyScalar(Y*R),B.distance=O,B.coneCos=Math.cos(L.angle),B.penumbraCos=Math.cos(L.angle*(1-L.penumbra)),B.decay=L.decay,L.castShadow){const G=L.shadow,H=c.get(L);H.shadowBias=G.bias,H.shadowNormalBias=G.normalBias,H.shadowRadius=G.radius,H.shadowMapSize=G.mapSize,u.spotShadow[w]=H,u.spotShadowMap[w]=V,u.spotShadowMatrix[w]=L.shadow.matrix,k++}u.spot[w]=B,w++}else if(L.isRectAreaLight){const B=o.get(L);B.color.copy($).multiplyScalar(Y),B.halfWidth.set(.5*L.width,0,0),B.halfHeight.set(0,.5*L.height,0),u.rectArea[S]=B,S++}else if(L.isPointLight){const B=o.get(L);if(B.color.copy(L.color).multiplyScalar(L.intensity*R),B.distance=L.distance,B.decay=L.decay,L.castShadow){const G=L.shadow,H=c.get(L);H.shadowBias=G.bias,H.shadowNormalBias=G.normalBias,H.shadowRadius=G.radius,H.shadowMapSize=G.mapSize,H.shadowCameraNear=G.camera.near,H.shadowCameraFar=G.camera.far,u.pointShadow[x]=H,u.pointShadowMap[x]=V,u.pointShadowMatrix[x]=L.shadow.matrix,E++}u.point[x]=B,x++}else if(L.isHemisphereLight){const B=o.get(L);B.skyColor.copy(L.color).multiplyScalar(Y*R),B.groundColor.copy(L.groundColor).multiplyScalar(Y*R),u.hemi[M]=B,M++}}S>0&&(a.isWebGL2||!0===l.has("OES_texture_float_linear")?(u.rectAreaLTC1=en.LTC_FLOAT_1,u.rectAreaLTC2=en.LTC_FLOAT_2):!0===l.has("OES_texture_half_float_linear")?(u.rectAreaLTC1=en.LTC_HALF_1,u.rectAreaLTC2=en.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),u.ambient[0]=_,u.ambient[1]=y,u.ambient[2]=b;const D=u.hash;(D.directionalLength!==C||D.pointLength!==x||D.spotLength!==w||D.rectAreaLength!==S||D.hemiLength!==M||D.numDirectionalShadows!==T||D.numPointShadows!==E||D.numSpotShadows!==k)&&(u.directional.length=C,u.spot.length=w,u.rectArea.length=S,u.point.length=x,u.hemi.length=M,u.directionalShadow.length=T,u.directionalShadowMap.length=T,u.pointShadow.length=E,u.pointShadowMap.length=E,u.spotShadow.length=k,u.spotShadowMap.length=k,u.directionalShadowMatrix.length=T,u.pointShadowMatrix.length=E,u.spotShadowMatrix.length=k,D.directionalLength=C,D.pointLength=x,D.spotLength=w,D.rectAreaLength=S,D.hemiLength=M,D.numDirectionalShadows=T,D.numPointShadows=E,D.numSpotShadows=k,u.version=IWe++)},setupView:function g(m,v){let _=0,y=0,b=0,C=0,x=0;const w=v.matrixWorldInverse;for(let S=0,M=m.length;S<M;S++){const T=m[S];if(T.isDirectionalLight){const E=u.directional[_];E.direction.setFromMatrixPosition(T.matrixWorld),h.setFromMatrixPosition(T.target.matrixWorld),E.direction.sub(h),E.direction.transformDirection(w),_++}else if(T.isSpotLight){const E=u.spot[b];E.position.setFromMatrixPosition(T.matrixWorld),E.position.applyMatrix4(w),E.direction.setFromMatrixPosition(T.matrixWorld),h.setFromMatrixPosition(T.target.matrixWorld),E.direction.sub(h),E.direction.transformDirection(w),b++}else if(T.isRectAreaLight){const E=u.rectArea[C];E.position.setFromMatrixPosition(T.matrixWorld),E.position.applyMatrix4(w),f.identity(),d.copy(T.matrixWorld),d.premultiply(w),f.extractRotation(d),E.halfWidth.set(.5*T.width,0,0),E.halfHeight.set(0,.5*T.height,0),E.halfWidth.applyMatrix4(f),E.halfHeight.applyMatrix4(f),C++}else if(T.isPointLight){const E=u.point[y];E.position.setFromMatrixPosition(T.matrixWorld),E.position.applyMatrix4(w),y++}else if(T.isHemisphereLight){const E=u.hemi[x];E.direction.setFromMatrixPosition(T.matrixWorld),E.direction.transformDirection(w),x++}}},state:u}}function Une(l,a){const o=new OWe(l,a),c=[],u=[];return{init:function h(){c.length=0,u.length=0},state:{lightsArray:c,shadowsArray:u,lights:o},setupLights:function p(v){o.setup(c,v)},setupLightsView:function g(v){o.setupView(c,v)},pushLight:function d(v){c.push(v)},pushShadow:function f(v){u.push(v)}}}function RWe(l,a){let o=new WeakMap;return{get:function c(h,d=0){let f;return!1===o.has(h)?(f=new Une(l,a),o.set(h,[f])):d>=o.get(h).length?(f=new Une(l,a),o.get(h).push(f)):f=o.get(h)[d],f},dispose:function u(){o=new WeakMap}}}class CB extends dg{constructor(a){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(a)}copy(a){return super.copy(a),this.depthPacking=a.depthPacking,this.map=a.map,this.alphaMap=a.alphaMap,this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this}}class Hne extends dg{constructor(a){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new ee,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(a)}copy(a){return super.copy(a),this.referencePosition.copy(a.referencePosition),this.nearDistance=a.nearDistance,this.farDistance=a.farDistance,this.map=a.map,this.alphaMap=a.alphaMap,this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this}}function NWe(l,a,o){let c=new gB;const u=new ut,h=new ut,d=new Bi,f=new CB({depthPacking:3201}),p=new Hne,g={},m=o.maxTextureSize,v={0:1,1:0,2:2},_=new jo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ut},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),y=_.clone();y.defines.HORIZONTAL_PASS=1;const b=new gi;b.setAttribute("position",new Jr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const C=new Vi(b,_),x=this;function w(T,E){const k=a.update(C);_.defines.VSM_SAMPLES!==T.blurSamples&&(_.defines.VSM_SAMPLES=T.blurSamples,y.defines.VSM_SAMPLES=T.blurSamples,_.needsUpdate=!0,y.needsUpdate=!0),null===T.mapPass&&(T.mapPass=new ya(u.x,u.y)),_.uniforms.shadow_pass.value=T.map.texture,_.uniforms.resolution.value=T.mapSize,_.uniforms.radius.value=T.radius,l.setRenderTarget(T.mapPass),l.clear(),l.renderBufferDirect(E,null,k,_,C,null),y.uniforms.shadow_pass.value=T.mapPass.texture,y.uniforms.resolution.value=T.mapSize,y.uniforms.radius.value=T.radius,l.setRenderTarget(T.map),l.clear(),l.renderBufferDirect(E,null,k,y,C,null)}function S(T,E,k,R,D,P){let F=null;const L=!0===k.isPointLight?T.customDistanceMaterial:T.customDepthMaterial;if(F=void 0!==L?L:!0===k.isPointLight?p:f,l.localClippingEnabled&&!0===E.clipShadows&&Array.isArray(E.clippingPlanes)&&0!==E.clippingPlanes.length||E.displacementMap&&0!==E.displacementScale||E.alphaMap&&E.alphaTest>0){const $=F.uuid,Y=E.uuid;let O=g[$];void 0===O&&(O={},g[$]=O);let V=O[Y];void 0===V&&(V=F.clone(),O[Y]=V),F=V}return F.visible=E.visible,F.wireframe=E.wireframe,F.side=3===P?null!==E.shadowSide?E.shadowSide:E.side:null!==E.shadowSide?E.shadowSide:v[E.side],F.alphaMap=E.alphaMap,F.alphaTest=E.alphaTest,F.clipShadows=E.clipShadows,F.clippingPlanes=E.clippingPlanes,F.clipIntersection=E.clipIntersection,F.displacementMap=E.displacementMap,F.displacementScale=E.displacementScale,F.displacementBias=E.displacementBias,F.wireframeLinewidth=E.wireframeLinewidth,F.linewidth=E.linewidth,!0===k.isPointLight&&!0===F.isMeshDistanceMaterial&&(F.referencePosition.setFromMatrixPosition(k.matrixWorld),F.nearDistance=R,F.farDistance=D),F}function M(T,E,k,R,D){if(!1===T.visible)return;if(T.layers.test(E.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&3===D)&&(!T.frustumCulled||c.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,T.matrixWorld);const L=a.update(T),$=T.material;if(Array.isArray($)){const Y=L.groups;for(let O=0,V=Y.length;O<V;O++){const B=Y[O],G=$[B.materialIndex];if(G&&G.visible){const H=S(T,G,R,k.near,k.far,D);l.renderBufferDirect(k,null,L,H,T,B)}}}else if($.visible){const Y=S(T,$,R,k.near,k.far,D);l.renderBufferDirect(k,null,L,Y,T,null)}}const F=T.children;for(let L=0,$=F.length;L<$;L++)M(F[L],E,k,R,D)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(T,E,k){if(!1===x.enabled||!1===x.autoUpdate&&!1===x.needsUpdate||0===T.length)return;const R=l.getRenderTarget(),D=l.getActiveCubeFace(),P=l.getActiveMipmapLevel(),F=l.state;F.setBlending(0),F.buffers.color.setClear(1,1,1,1),F.buffers.depth.setTest(!0),F.setScissorTest(!1);for(let L=0,$=T.length;L<$;L++){const Y=T[L],O=Y.shadow;if(void 0===O){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if(!1===O.autoUpdate&&!1===O.needsUpdate)continue;u.copy(O.mapSize);const V=O.getFrameExtents();u.multiply(V),h.copy(O.mapSize),(u.x>m||u.y>m)&&(u.x>m&&(h.x=Math.floor(m/V.x),u.x=h.x*V.x,O.mapSize.x=h.x),u.y>m&&(h.y=Math.floor(m/V.y),u.y=h.y*V.y,O.mapSize.y=h.y)),null===O.map&&(O.map=new ya(u.x,u.y,3!==this.type?{minFilter:Ks,magFilter:Ks}:{}),O.map.texture.name=Y.name+".shadowMap",O.camera.updateProjectionMatrix()),l.setRenderTarget(O.map),l.clear();const B=O.getViewportCount();for(let G=0;G<B;G++){const H=O.getViewport(G);d.set(h.x*H.x,h.y*H.y,h.x*H.z,h.y*H.w),F.viewport(d),O.updateMatrices(Y,G),c=O.getFrustum(),M(E,k,O.camera,Y,this.type)}!0!==O.isPointLightShadow&&3===this.type&&w(O,k),O.needsUpdate=!1}x.needsUpdate=!1,l.setRenderTarget(R,D,P)}}function BWe(l,a,o){const c=o.isWebGL2,f=new function u(){let Ae=!1;const Jt=new Bi;let Kt=null;const Zn=new Bi(0,0,0,0);return{setMask:function(Tn){Kt!==Tn&&!Ae&&(l.colorMask(Tn,Tn,Tn,Tn),Kt=Tn)},setLocked:function(Tn){Ae=Tn},setClear:function(Tn,ii,Zt,ri,gr){!0===gr&&(Tn*=ri,ii*=ri,Zt*=ri),Jt.set(Tn,ii,Zt,ri),!1===Zn.equals(Jt)&&(l.clearColor(Tn,ii,Zt,ri),Zn.copy(Jt))},reset:function(){Ae=!1,Kt=null,Zn.set(-1,0,0,0)}}},p=new function h(){let Ae=!1,Jt=null,Kt=null,Zn=null;return{setTest:function(Tn){Tn?xe(2929):ge(2929)},setMask:function(Tn){Jt!==Tn&&!Ae&&(l.depthMask(Tn),Jt=Tn)},setFunc:function(Tn){if(Kt!==Tn){if(Tn)switch(Tn){case 0:l.depthFunc(512);break;case 1:l.depthFunc(519);break;case 2:l.depthFunc(513);break;case 3:default:l.depthFunc(515);break;case 4:l.depthFunc(514);break;case 5:l.depthFunc(518);break;case 6:l.depthFunc(516);break;case 7:l.depthFunc(517)}else l.depthFunc(515);Kt=Tn}},setLocked:function(Tn){Ae=Tn},setClear:function(Tn){Zn!==Tn&&(l.clearDepth(Tn),Zn=Tn)},reset:function(){Ae=!1,Jt=null,Kt=null,Zn=null}}},g=new function d(){let Ae=!1,Jt=null,Kt=null,Zn=null,Tn=null,ii=null,Zt=null,ri=null,gr=null;return{setTest:function(mr){Ae||(mr?xe(2960):ge(2960))},setMask:function(mr){Jt!==mr&&!Ae&&(l.stencilMask(mr),Jt=mr)},setFunc:function(mr,wa,nh){(Kt!==mr||Zn!==wa||Tn!==nh)&&(l.stencilFunc(mr,wa,nh),Kt=mr,Zn=wa,Tn=nh)},setOp:function(mr,wa,nh){(ii!==mr||Zt!==wa||ri!==nh)&&(l.stencilOp(mr,wa,nh),ii=mr,Zt=wa,ri=nh)},setLocked:function(mr){Ae=mr},setClear:function(mr){gr!==mr&&(l.clearStencil(mr),gr=mr)},reset:function(){Ae=!1,Jt=null,Kt=null,Zn=null,Tn=null,ii=null,Zt=null,ri=null,gr=null}}};let m={},v={},_=new WeakMap,y=[],b=null,C=!1,x=null,w=null,S=null,M=null,T=null,E=null,k=null,R=!1,D=null,P=null,F=null,L=null,$=null;const Y=l.getParameter(35661);let O=!1,V=0;const B=l.getParameter(7938);-1!==B.indexOf("WebGL")?(V=parseFloat(/^WebGL (\d)/.exec(B)[1]),O=V>=1):-1!==B.indexOf("OpenGL ES")&&(V=parseFloat(/^OpenGL ES (\d)/.exec(B)[1]),O=V>=2);let G=null,H={};const j=l.getParameter(3088),W=l.getParameter(2978),Z=(new Bi).fromArray(j),K=(new Bi).fromArray(W);function ae(Ae,Jt,Kt){const Zn=new Uint8Array(4),Tn=l.createTexture();l.bindTexture(Ae,Tn),l.texParameteri(Ae,10241,9728),l.texParameteri(Ae,10240,9728);for(let ii=0;ii<Kt;ii++)l.texImage2D(Jt+ii,0,6408,1,1,0,6408,5121,Zn);return Tn}const re={};function xe(Ae){!0!==m[Ae]&&(l.enable(Ae),m[Ae]=!0)}function ge(Ae){!1!==m[Ae]&&(l.disable(Ae),m[Ae]=!1)}re[3553]=ae(3553,3553,1),re[34067]=ae(34067,34069,6),f.setClear(0,0,0,1),p.setClear(1),g.setClear(0),xe(2929),p.setFunc(3),Ye(!1),et(1),xe(2884),ce(0);const Ie={100:32774,101:32778,102:32779};if(c)Ie[103]=32775,Ie[104]=32776;else{const Ae=a.get("EXT_blend_minmax");null!==Ae&&(Ie[103]=Ae.MIN_EXT,Ie[104]=Ae.MAX_EXT)}const qe={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function ce(Ae,Jt,Kt,Zn,Tn,ii,Zt,ri){if(0!==Ae){if(!1===C&&(xe(3042),C=!0),5===Ae)Tn=Tn||Jt,ii=ii||Kt,Zt=Zt||Zn,(Jt!==w||Tn!==T)&&(l.blendEquationSeparate(Ie[Jt],Ie[Tn]),w=Jt,T=Tn),(Kt!==S||Zn!==M||ii!==E||Zt!==k)&&(l.blendFuncSeparate(qe[Kt],qe[Zn],qe[ii],qe[Zt]),S=Kt,M=Zn,E=ii,k=Zt),x=Ae,R=null;else if(Ae!==x||ri!==R){if((100!==w||100!==T)&&(l.blendEquation(32774),w=100,T=100),ri)switch(Ae){case 1:l.blendFuncSeparate(1,771,1,771);break;case 2:l.blendFunc(1,1);break;case 3:l.blendFuncSeparate(0,769,0,1);break;case 4:l.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae)}else switch(Ae){case 1:l.blendFuncSeparate(770,771,1,771);break;case 2:l.blendFunc(770,1);break;case 3:l.blendFuncSeparate(0,769,0,1);break;case 4:l.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae)}S=null,M=null,E=null,k=null,x=Ae,R=ri}}else!0===C&&(ge(3042),C=!1)}function Ye(Ae){D!==Ae&&(l.frontFace(Ae?2304:2305),D=Ae)}function et(Ae){0!==Ae?(xe(2884),Ae!==P&&l.cullFace(1===Ae?1029:2===Ae?1028:1032)):ge(2884),P=Ae}function Se(Ae,Jt,Kt){Ae?(xe(32823),(L!==Jt||$!==Kt)&&(l.polygonOffset(Jt,Kt),L=Jt,$=Kt)):ge(32823)}function zt(Ae){void 0===Ae&&(Ae=33984+Y-1),G!==Ae&&(l.activeTexture(Ae),G=Ae)}return{buffers:{color:f,depth:p,stencil:g},enable:xe,disable:ge,bindFramebuffer:function Me(Ae,Jt){return v[Ae]!==Jt&&(l.bindFramebuffer(Ae,Jt),v[Ae]=Jt,c&&(36009===Ae&&(v[36160]=Jt),36160===Ae&&(v[36009]=Jt)),!0)},drawBuffers:function He(Ae,Jt){let Kt=y,Zn=!1;if(Ae)if(Kt=_.get(Jt),void 0===Kt&&(Kt=[],_.set(Jt,Kt)),Ae.isWebGLMultipleRenderTargets){const Tn=Ae.texture;if(Kt.length!==Tn.length||36064!==Kt[0]){for(let ii=0,Zt=Tn.length;ii<Zt;ii++)Kt[ii]=36064+ii;Kt.length=Tn.length,Zn=!0}}else 36064!==Kt[0]&&(Kt[0]=36064,Zn=!0);else 1029!==Kt[0]&&(Kt[0]=1029,Zn=!0);Zn&&(o.isWebGL2?l.drawBuffers(Kt):a.get("WEBGL_draw_buffers").drawBuffersWEBGL(Kt))},useProgram:function ke(Ae){return b!==Ae&&(l.useProgram(Ae),b=Ae,!0)},setBlending:ce,setMaterial:function Oe(Ae,Jt){2===Ae.side?ge(2884):xe(2884);let Kt=1===Ae.side;Jt&&(Kt=!Kt),Ye(Kt),1===Ae.blending&&!1===Ae.transparent?ce(0):ce(Ae.blending,Ae.blendEquation,Ae.blendSrc,Ae.blendDst,Ae.blendEquationAlpha,Ae.blendSrcAlpha,Ae.blendDstAlpha,Ae.premultipliedAlpha),p.setFunc(Ae.depthFunc),p.setTest(Ae.depthTest),p.setMask(Ae.depthWrite),f.setMask(Ae.colorWrite);const Zn=Ae.stencilWrite;g.setTest(Zn),Zn&&(g.setMask(Ae.stencilWriteMask),g.setFunc(Ae.stencilFunc,Ae.stencilRef,Ae.stencilFuncMask),g.setOp(Ae.stencilFail,Ae.stencilZFail,Ae.stencilZPass)),Se(Ae.polygonOffset,Ae.polygonOffsetFactor,Ae.polygonOffsetUnits),!0===Ae.alphaToCoverage?xe(32926):ge(32926)},setFlipSided:Ye,setCullFace:et,setLineWidth:function je(Ae){Ae!==F&&(O&&l.lineWidth(Ae),F=Ae)},setPolygonOffset:Se,setScissorTest:function Ge(Ae){Ae?xe(3089):ge(3089)},activeTexture:zt,bindTexture:function hn(Ae,Jt){null===G&&zt();let Kt=H[G];void 0===Kt&&(Kt={type:void 0,texture:void 0},H[G]=Kt),(Kt.type!==Ae||Kt.texture!==Jt)&&(l.bindTexture(Ae,Jt||re[Ae]),Kt.type=Ae,Kt.texture=Jt)},unbindTexture:function In(){const Ae=H[G];void 0!==Ae&&void 0!==Ae.type&&(l.bindTexture(Ae.type,null),Ae.type=void 0,Ae.texture=void 0)},compressedTexImage2D:function ue(){try{l.compressedTexImage2D.apply(l,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}},texImage2D:function Ft(){try{l.texImage2D.apply(l,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}},texImage3D:function $e(){try{l.texImage3D.apply(l,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}},texStorage2D:function Ut(){try{l.texStorage2D.apply(l,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}},texStorage3D:function Pt(){try{l.texStorage3D.apply(l,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}},texSubImage2D:function ie(){try{l.texSubImage2D.apply(l,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}},texSubImage3D:function it(){try{l.texSubImage3D.apply(l,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}},compressedTexSubImage2D:function vt(){try{l.compressedTexSubImage2D.apply(l,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}},scissor:function Yt(Ae){!1===Z.equals(Ae)&&(l.scissor(Ae.x,Ae.y,Ae.z,Ae.w),Z.copy(Ae))},viewport:function Wt(Ae){!1===K.equals(Ae)&&(l.viewport(Ae.x,Ae.y,Ae.z,Ae.w),K.copy(Ae))},reset:function cn(){l.disable(3042),l.disable(2884),l.disable(2929),l.disable(32823),l.disable(3089),l.disable(2960),l.disable(32926),l.blendEquation(32774),l.blendFunc(1,0),l.blendFuncSeparate(1,0,1,0),l.colorMask(!0,!0,!0,!0),l.clearColor(0,0,0,0),l.depthMask(!0),l.depthFunc(513),l.clearDepth(1),l.stencilMask(4294967295),l.stencilFunc(519,0,4294967295),l.stencilOp(7680,7680,7680),l.clearStencil(0),l.cullFace(1029),l.frontFace(2305),l.polygonOffset(0,0),l.activeTexture(33984),l.bindFramebuffer(36160,null),!0===c&&(l.bindFramebuffer(36009,null),l.bindFramebuffer(36008,null)),l.useProgram(null),l.lineWidth(1),l.scissor(0,0,l.canvas.width,l.canvas.height),l.viewport(0,0,l.canvas.width,l.canvas.height),m={},G=null,H={},v={},_=new WeakMap,y=[],b=null,C=!1,x=null,w=null,S=null,M=null,T=null,E=null,k=null,R=!1,D=null,P=null,F=null,L=null,$=null,Z.set(0,0,l.canvas.width,l.canvas.height),K.set(0,0,l.canvas.width,l.canvas.height),f.reset(),p.reset(),g.reset()}}}function VWe(l,a,o,c,u,h,d){const f=u.isWebGL2,p=u.maxTextures,g=u.maxCubemapSize,m=u.maxTextureSize,v=u.maxSamples,_=a.has("WEBGL_multisampled_render_to_texture")?a.get("WEBGL_multisampled_render_to_texture"):null,y=/OculusBrowser/g.test(navigator.userAgent),b=new WeakMap;let C;const x=new WeakMap;let w=!1;try{w="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(ue){}function S(ue,ie){return w?new OffscreenCanvas(ue,ie):Jb("canvas")}function M(ue,ie,it,vt){let Ut=1;if((ue.width>vt||ue.height>vt)&&(Ut=vt/Math.max(ue.width,ue.height)),Ut<1||!0===ie){if("undefined"!=typeof HTMLImageElement&&ue instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&ue instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&ue instanceof ImageBitmap){const Pt=ie?xM:Math.floor,Ft=Pt(Ut*ue.width),$e=Pt(Ut*ue.height);void 0===C&&(C=S(Ft,$e));const Yt=it?S(Ft,$e):C;return Yt.width=Ft,Yt.height=$e,Yt.getContext("2d").drawImage(ue,0,0,Ft,$e),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ue.width+"x"+ue.height+") to ("+Ft+"x"+$e+")."),Yt}return"data"in ue&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ue.width+"x"+ue.height+")."),ue}return ue}function T(ue){return WN(ue.width)&&WN(ue.height)}function k(ue,ie){return ue.generateMipmaps&&ie&&ue.minFilter!==Ks&&ue.minFilter!==Is}function R(ue){l.generateMipmap(ue)}function D(ue,ie,it,vt,Ut=!1){if(!1===f)return ie;if(null!==ue){if(void 0!==l[ue])return l[ue];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ue+"'")}let Pt=ie;return 6403===ie&&(5126===it&&(Pt=33326),5131===it&&(Pt=33325),5121===it&&(Pt=33321)),33319===ie&&(5126===it&&(Pt=33328),5131===it&&(Pt=33327),5121===it&&(Pt=33323)),6408===ie&&(5126===it&&(Pt=34836),5131===it&&(Pt=34842),5121===it&&(Pt=vt===Qr&&!1===Ut?35907:32856),32819===it&&(Pt=32854),32820===it&&(Pt=32855)),(33325===Pt||33326===Pt||33327===Pt||33328===Pt||34842===Pt||34836===Pt)&&a.get("EXT_color_buffer_float"),Pt}function P(ue,ie,it){return!0===k(ue,it)||ue.isFramebufferTexture&&ue.minFilter!==Ks&&ue.minFilter!==Is?Math.log2(Math.max(ie.width,ie.height))+1:void 0!==ue.mipmaps&&ue.mipmaps.length>0?ue.mipmaps.length:ue.isCompressedTexture&&Array.isArray(ue.image)?ie.mipmaps.length:1}function F(ue){return ue===Ks||1004===ue||1005===ue?9728:9729}function L(ue){const ie=ue.target;ie.removeEventListener("dispose",L),function Y(ue){const ie=c.get(ue);if(void 0===ie.__webglInit)return;const it=ue.source,vt=x.get(it);if(vt){const Ut=vt[ie.__cacheKey];Ut.usedTimes--,0===Ut.usedTimes&&O(ue),0===Object.keys(vt).length&&x.delete(it)}c.remove(ue)}(ie),ie.isVideoTexture&&b.delete(ie)}function $(ue){const ie=ue.target;ie.removeEventListener("dispose",$),function V(ue){const ie=ue.texture,it=c.get(ue),vt=c.get(ie);if(void 0!==vt.__webglTexture&&(l.deleteTexture(vt.__webglTexture),d.memory.textures--),ue.depthTexture&&ue.depthTexture.dispose(),ue.isWebGLCubeRenderTarget)for(let Ut=0;Ut<6;Ut++)l.deleteFramebuffer(it.__webglFramebuffer[Ut]),it.__webglDepthbuffer&&l.deleteRenderbuffer(it.__webglDepthbuffer[Ut]);else{if(l.deleteFramebuffer(it.__webglFramebuffer),it.__webglDepthbuffer&&l.deleteRenderbuffer(it.__webglDepthbuffer),it.__webglMultisampledFramebuffer&&l.deleteFramebuffer(it.__webglMultisampledFramebuffer),it.__webglColorRenderbuffer)for(let Ut=0;Ut<it.__webglColorRenderbuffer.length;Ut++)it.__webglColorRenderbuffer[Ut]&&l.deleteRenderbuffer(it.__webglColorRenderbuffer[Ut]);it.__webglDepthRenderbuffer&&l.deleteRenderbuffer(it.__webglDepthRenderbuffer)}if(ue.isWebGLMultipleRenderTargets)for(let Ut=0,Pt=ie.length;Ut<Pt;Ut++){const Ft=c.get(ie[Ut]);Ft.__webglTexture&&(l.deleteTexture(Ft.__webglTexture),d.memory.textures--),c.remove(ie[Ut])}c.remove(ie),c.remove(ue)}(ie)}function O(ue){const ie=c.get(ue);l.deleteTexture(ie.__webglTexture),delete x.get(ue.source)[ie.__cacheKey],d.memory.textures--}let B=0;function W(ue,ie){const it=c.get(ue);if(ue.isVideoTexture&&function hn(ue){const ie=d.render.frame;b.get(ue)!==ie&&(b.set(ue,ie),ue.update())}(ue),!1===ue.isRenderTargetTexture&&ue.version>0&&it.__version!==ue.version){const vt=ue.image;if(null===vt)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==vt.complete)return void He(it,ue,ie);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}o.activeTexture(33984+ie),o.bindTexture(3553,it.__webglTexture)}const re={[bv]:10497,[Ua]:33071,1002:33648},xe={[Ks]:9728,1004:9984,1005:9986,[Is]:9729,1007:9985,1008:9987};function ge(ue,ie,it){if(it?(l.texParameteri(ue,10242,re[ie.wrapS]),l.texParameteri(ue,10243,re[ie.wrapT]),(32879===ue||35866===ue)&&l.texParameteri(ue,32882,re[ie.wrapR]),l.texParameteri(ue,10240,xe[ie.magFilter]),l.texParameteri(ue,10241,xe[ie.minFilter])):(l.texParameteri(ue,10242,33071),l.texParameteri(ue,10243,33071),(32879===ue||35866===ue)&&l.texParameteri(ue,32882,33071),(ie.wrapS!==Ua||ie.wrapT!==Ua)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),l.texParameteri(ue,10240,F(ie.magFilter)),l.texParameteri(ue,10241,F(ie.minFilter)),ie.minFilter!==Ks&&ie.minFilter!==Is&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===a.has("EXT_texture_filter_anisotropic")){const vt=a.get("EXT_texture_filter_anisotropic");if(ie.type===hf&&!1===a.has("OES_texture_float_linear")||!1===f&&ie.type===Xb&&!1===a.has("OES_texture_half_float_linear"))return;(ie.anisotropy>1||c.get(ie).__currentAnisotropy)&&(l.texParameterf(ue,vt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ie.anisotropy,u.getMaxAnisotropy())),c.get(ie).__currentAnisotropy=ie.anisotropy)}}function Me(ue,ie){let it=!1;void 0===ue.__webglInit&&(ue.__webglInit=!0,ie.addEventListener("dispose",L));const vt=ie.source;let Ut=x.get(vt);void 0===Ut&&(Ut={},x.set(vt,Ut));const Pt=function j(ue){const ie=[];return ie.push(ue.wrapS),ie.push(ue.wrapT),ie.push(ue.magFilter),ie.push(ue.minFilter),ie.push(ue.anisotropy),ie.push(ue.internalFormat),ie.push(ue.format),ie.push(ue.type),ie.push(ue.generateMipmaps),ie.push(ue.premultiplyAlpha),ie.push(ue.flipY),ie.push(ue.unpackAlignment),ie.push(ue.encoding),ie.join()}(ie);if(Pt!==ue.__cacheKey){void 0===Ut[Pt]&&(Ut[Pt]={texture:l.createTexture(),usedTimes:0},d.memory.textures++,it=!0),Ut[Pt].usedTimes++;const Ft=Ut[ue.__cacheKey];void 0!==Ft&&(Ut[ue.__cacheKey].usedTimes--,0===Ft.usedTimes&&O(ie)),ue.__cacheKey=Pt,ue.__webglTexture=Ut[Pt].texture}return it}function He(ue,ie,it){let vt=3553;ie.isDataArrayTexture&&(vt=35866),ie.isData3DTexture&&(vt=32879);const Ut=Me(ue,ie),Pt=ie.source;if(o.activeTexture(33984+it),o.bindTexture(vt,ue.__webglTexture),Pt.version!==Pt.__currentVersion||!0===Ut){l.pixelStorei(37440,ie.flipY),l.pixelStorei(37441,ie.premultiplyAlpha),l.pixelStorei(3317,ie.unpackAlignment),l.pixelStorei(37443,0);const Ft=function E(ue){return!f&&(ue.wrapS!==Ua||ue.wrapT!==Ua||ue.minFilter!==Ks&&ue.minFilter!==Is)}(ie)&&!1===T(ie.image);let $e=M(ie.image,Ft,!1,m);$e=In(ie,$e);const Yt=T($e)||f,Wt=h.convert(ie.format,ie.encoding);let Jt,cn=h.convert(ie.type),Ae=D(ie.internalFormat,Wt,cn,ie.encoding,ie.isVideoTexture);ge(vt,ie,Yt);const Kt=ie.mipmaps,Zn=f&&!0!==ie.isVideoTexture,Tn=void 0===Pt.__currentVersion||!0===Ut,ii=P(ie,$e,Yt);if(ie.isDepthTexture)Ae=6402,f?Ae=ie.type===hf?36012:ie.type===ig?33190:ie.type===Cv?35056:33189:ie.type===hf&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ie.format===rg&&6402===Ae&&1012!==ie.type&&ie.type!==ig&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ie.type=ig,cn=h.convert(ie.type)),ie.format===wv&&6402===Ae&&(Ae=34041,ie.type!==Cv&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ie.type=Cv,cn=h.convert(ie.type))),Tn&&(Zn?o.texStorage2D(3553,1,Ae,$e.width,$e.height):o.texImage2D(3553,0,Ae,$e.width,$e.height,0,Wt,cn,null));else if(ie.isDataTexture)if(Kt.length>0&&Yt){Zn&&Tn&&o.texStorage2D(3553,ii,Ae,Kt[0].width,Kt[0].height);for(let Zt=0,ri=Kt.length;Zt<ri;Zt++)Jt=Kt[Zt],Zn?o.texSubImage2D(3553,Zt,0,0,Jt.width,Jt.height,Wt,cn,Jt.data):o.texImage2D(3553,Zt,Ae,Jt.width,Jt.height,0,Wt,cn,Jt.data);ie.generateMipmaps=!1}else Zn?(Tn&&o.texStorage2D(3553,ii,Ae,$e.width,$e.height),o.texSubImage2D(3553,0,0,0,$e.width,$e.height,Wt,cn,$e.data)):o.texImage2D(3553,0,Ae,$e.width,$e.height,0,Wt,cn,$e.data);else if(ie.isCompressedTexture){Zn&&Tn&&o.texStorage2D(3553,ii,Ae,Kt[0].width,Kt[0].height);for(let Zt=0,ri=Kt.length;Zt<ri;Zt++)Jt=Kt[Zt],ie.format!==Gc?null!==Wt?Zn?o.compressedTexSubImage2D(3553,Zt,0,0,Jt.width,Jt.height,Wt,Jt.data):o.compressedTexImage2D(3553,Zt,Ae,Jt.width,Jt.height,0,Jt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Zn?o.texSubImage2D(3553,Zt,0,0,Jt.width,Jt.height,Wt,cn,Jt.data):o.texImage2D(3553,Zt,Ae,Jt.width,Jt.height,0,Wt,cn,Jt.data)}else if(ie.isDataArrayTexture)Zn?(Tn&&o.texStorage3D(35866,ii,Ae,$e.width,$e.height,$e.depth),o.texSubImage3D(35866,0,0,0,0,$e.width,$e.height,$e.depth,Wt,cn,$e.data)):o.texImage3D(35866,0,Ae,$e.width,$e.height,$e.depth,0,Wt,cn,$e.data);else if(ie.isData3DTexture)Zn?(Tn&&o.texStorage3D(32879,ii,Ae,$e.width,$e.height,$e.depth),o.texSubImage3D(32879,0,0,0,0,$e.width,$e.height,$e.depth,Wt,cn,$e.data)):o.texImage3D(32879,0,Ae,$e.width,$e.height,$e.depth,0,Wt,cn,$e.data);else if(ie.isFramebufferTexture){if(Tn)if(Zn)o.texStorage2D(3553,ii,Ae,$e.width,$e.height);else{let Zt=$e.width,ri=$e.height;for(let gr=0;gr<ii;gr++)o.texImage2D(3553,gr,Ae,Zt,ri,0,Wt,cn,null),Zt>>=1,ri>>=1}}else if(Kt.length>0&&Yt){Zn&&Tn&&o.texStorage2D(3553,ii,Ae,Kt[0].width,Kt[0].height);for(let Zt=0,ri=Kt.length;Zt<ri;Zt++)Jt=Kt[Zt],Zn?o.texSubImage2D(3553,Zt,0,0,Wt,cn,Jt):o.texImage2D(3553,Zt,Ae,Wt,cn,Jt);ie.generateMipmaps=!1}else Zn?(Tn&&o.texStorage2D(3553,ii,Ae,$e.width,$e.height),o.texSubImage2D(3553,0,0,0,Wt,cn,$e)):o.texImage2D(3553,0,Ae,Wt,cn,$e);k(ie,Yt)&&R(vt),Pt.__currentVersion=Pt.version,ie.onUpdate&&ie.onUpdate(ie)}ue.__version=ie.version}function Ie(ue,ie,it,vt,Ut){const Pt=h.convert(it.format,it.encoding),Ft=h.convert(it.type),$e=D(it.internalFormat,Pt,Ft,it.encoding);c.get(ie).__hasExternalTextures||(32879===Ut||35866===Ut?o.texImage3D(Ut,0,$e,ie.width,ie.height,ie.depth,0,Pt,Ft,null):o.texImage2D(Ut,0,$e,ie.width,ie.height,0,Pt,Ft,null)),o.bindFramebuffer(36160,ue),zt(ie)?_.framebufferTexture2DMultisampleEXT(36160,vt,Ut,c.get(it).__webglTexture,0,Ge(ie)):l.framebufferTexture2D(36160,vt,Ut,c.get(it).__webglTexture,0),o.bindFramebuffer(36160,null)}function qe(ue,ie,it){if(l.bindRenderbuffer(36161,ue),ie.depthBuffer&&!ie.stencilBuffer){let vt=33189;if(it||zt(ie)){const Ut=ie.depthTexture;Ut&&Ut.isDepthTexture&&(Ut.type===hf?vt=36012:Ut.type===ig&&(vt=33190));const Pt=Ge(ie);zt(ie)?_.renderbufferStorageMultisampleEXT(36161,Pt,vt,ie.width,ie.height):l.renderbufferStorageMultisample(36161,Pt,vt,ie.width,ie.height)}else l.renderbufferStorage(36161,vt,ie.width,ie.height);l.framebufferRenderbuffer(36160,36096,36161,ue)}else if(ie.depthBuffer&&ie.stencilBuffer){const vt=Ge(ie);it&&!1===zt(ie)?l.renderbufferStorageMultisample(36161,vt,35056,ie.width,ie.height):zt(ie)?_.renderbufferStorageMultisampleEXT(36161,vt,35056,ie.width,ie.height):l.renderbufferStorage(36161,34041,ie.width,ie.height),l.framebufferRenderbuffer(36160,33306,36161,ue)}else{const vt=!0===ie.isWebGLMultipleRenderTargets?ie.texture:[ie.texture];for(let Ut=0;Ut<vt.length;Ut++){const Pt=vt[Ut],Ft=h.convert(Pt.format,Pt.encoding),$e=h.convert(Pt.type),Yt=D(Pt.internalFormat,Ft,$e,Pt.encoding),Wt=Ge(ie);it&&!1===zt(ie)?l.renderbufferStorageMultisample(36161,Wt,Yt,ie.width,ie.height):zt(ie)?_.renderbufferStorageMultisampleEXT(36161,Wt,Yt,ie.width,ie.height):l.renderbufferStorage(36161,Yt,ie.width,ie.height)}}l.bindRenderbuffer(36161,null)}function Oe(ue){const ie=c.get(ue),it=!0===ue.isWebGLCubeRenderTarget;if(ue.depthTexture&&!ie.__autoAllocateDepthBuffer){if(it)throw new Error("target.depthTexture not supported in Cube render targets");!function ce(ue,ie){if(ie&&ie.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(o.bindFramebuffer(36160,ue),!ie.depthTexture||!ie.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!c.get(ie.depthTexture).__webglTexture||ie.depthTexture.image.width!==ie.width||ie.depthTexture.image.height!==ie.height)&&(ie.depthTexture.image.width=ie.width,ie.depthTexture.image.height=ie.height,ie.depthTexture.needsUpdate=!0),W(ie.depthTexture,0);const vt=c.get(ie.depthTexture).__webglTexture,Ut=Ge(ie);if(ie.depthTexture.format===rg)zt(ie)?_.framebufferTexture2DMultisampleEXT(36160,36096,3553,vt,0,Ut):l.framebufferTexture2D(36160,36096,3553,vt,0);else{if(ie.depthTexture.format!==wv)throw new Error("Unknown depthTexture format");zt(ie)?_.framebufferTexture2DMultisampleEXT(36160,33306,3553,vt,0,Ut):l.framebufferTexture2D(36160,33306,3553,vt,0)}}(ie.__webglFramebuffer,ue)}else if(it){ie.__webglDepthbuffer=[];for(let vt=0;vt<6;vt++)o.bindFramebuffer(36160,ie.__webglFramebuffer[vt]),ie.__webglDepthbuffer[vt]=l.createRenderbuffer(),qe(ie.__webglDepthbuffer[vt],ue,!1)}else o.bindFramebuffer(36160,ie.__webglFramebuffer),ie.__webglDepthbuffer=l.createRenderbuffer(),qe(ie.__webglDepthbuffer,ue,!1);o.bindFramebuffer(36160,null)}function Ge(ue){return Math.min(v,ue.samples)}function zt(ue){const ie=c.get(ue);return f&&ue.samples>0&&!0===a.has("WEBGL_multisampled_render_to_texture")&&!1!==ie.__useRenderToTexture}function In(ue,ie){const it=ue.encoding,vt=ue.format,Ut=ue.type;return!0===ue.isCompressedTexture||!0===ue.isVideoTexture||1035===ue.format||it!==sg&&(it===Qr?!1===f?!0===a.has("EXT_sRGB")&&vt===Gc?(ue.format=1035,ue.minFilter=Is,ue.generateMipmaps=!1):ie=Jte.sRGBToLinear(ie):(vt!==Gc||Ut!==ng)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",it)),ie}this.allocateTextureUnit=function H(){const ue=B;return ue>=p&&console.warn("THREE.WebGLTextures: Trying to use "+ue+" texture units while this GPU supports only "+p),B+=1,ue},this.resetTextureUnits=function G(){B=0},this.setTexture2D=W,this.setTexture2DArray=function Z(ue,ie){const it=c.get(ue);ue.version>0&&it.__version!==ue.version?He(it,ue,ie):(o.activeTexture(33984+ie),o.bindTexture(35866,it.__webglTexture))},this.setTexture3D=function K(ue,ie){const it=c.get(ue);ue.version>0&&it.__version!==ue.version?He(it,ue,ie):(o.activeTexture(33984+ie),o.bindTexture(32879,it.__webglTexture))},this.setTextureCube=function ae(ue,ie){const it=c.get(ue);ue.version>0&&it.__version!==ue.version?function ke(ue,ie,it){if(6!==ie.image.length)return;const vt=Me(ue,ie),Ut=ie.source;if(o.activeTexture(33984+it),o.bindTexture(34067,ue.__webglTexture),Ut.version!==Ut.__currentVersion||!0===vt){l.pixelStorei(37440,ie.flipY),l.pixelStorei(37441,ie.premultiplyAlpha),l.pixelStorei(3317,ie.unpackAlignment),l.pixelStorei(37443,0);const Pt=ie.isCompressedTexture||ie.image[0].isCompressedTexture,Ft=ie.image[0]&&ie.image[0].isDataTexture,$e=[];for(let Zt=0;Zt<6;Zt++)$e[Zt]=Pt||Ft?Ft?ie.image[Zt].image:ie.image[Zt]:M(ie.image[Zt],!1,!0,g),$e[Zt]=In(ie,$e[Zt]);const Yt=$e[0],Wt=T(Yt)||f,cn=h.convert(ie.format,ie.encoding),Ae=h.convert(ie.type),Jt=D(ie.internalFormat,cn,Ae,ie.encoding),Kt=f&&!0!==ie.isVideoTexture,Zn=void 0===Ut.__currentVersion||!0===vt;let ii,Tn=P(ie,Yt,Wt);if(ge(34067,ie,Wt),Pt){Kt&&Zn&&o.texStorage2D(34067,Tn,Jt,Yt.width,Yt.height);for(let Zt=0;Zt<6;Zt++){ii=$e[Zt].mipmaps;for(let ri=0;ri<ii.length;ri++){const gr=ii[ri];ie.format!==Gc?null!==cn?Kt?o.compressedTexSubImage2D(34069+Zt,ri,0,0,gr.width,gr.height,cn,gr.data):o.compressedTexImage2D(34069+Zt,ri,Jt,gr.width,gr.height,0,gr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Kt?o.texSubImage2D(34069+Zt,ri,0,0,gr.width,gr.height,cn,Ae,gr.data):o.texImage2D(34069+Zt,ri,Jt,gr.width,gr.height,0,cn,Ae,gr.data)}}}else{ii=ie.mipmaps,Kt&&Zn&&(ii.length>0&&Tn++,o.texStorage2D(34067,Tn,Jt,$e[0].width,$e[0].height));for(let Zt=0;Zt<6;Zt++)if(Ft){Kt?o.texSubImage2D(34069+Zt,0,0,0,$e[Zt].width,$e[Zt].height,cn,Ae,$e[Zt].data):o.texImage2D(34069+Zt,0,Jt,$e[Zt].width,$e[Zt].height,0,cn,Ae,$e[Zt].data);for(let ri=0;ri<ii.length;ri++){const mr=ii[ri].image[Zt].image;Kt?o.texSubImage2D(34069+Zt,ri+1,0,0,mr.width,mr.height,cn,Ae,mr.data):o.texImage2D(34069+Zt,ri+1,Jt,mr.width,mr.height,0,cn,Ae,mr.data)}}else{Kt?o.texSubImage2D(34069+Zt,0,0,0,cn,Ae,$e[Zt]):o.texImage2D(34069+Zt,0,Jt,cn,Ae,$e[Zt]);for(let ri=0;ri<ii.length;ri++){const gr=ii[ri];Kt?o.texSubImage2D(34069+Zt,ri+1,0,0,cn,Ae,gr.image[Zt]):o.texImage2D(34069+Zt,ri+1,Jt,cn,Ae,gr.image[Zt])}}}k(ie,Wt)&&R(34067),Ut.__currentVersion=Ut.version,ie.onUpdate&&ie.onUpdate(ie)}ue.__version=ie.version}(it,ue,ie):(o.activeTexture(33984+ie),o.bindTexture(34067,it.__webglTexture))},this.rebindTextures=function Ye(ue,ie,it){const vt=c.get(ue);void 0!==ie&&Ie(vt.__webglFramebuffer,ue,ue.texture,36064,3553),void 0!==it&&Oe(ue)},this.setupRenderTarget=function et(ue){const ie=ue.texture,it=c.get(ue),vt=c.get(ie);ue.addEventListener("dispose",$),!0!==ue.isWebGLMultipleRenderTargets&&(void 0===vt.__webglTexture&&(vt.__webglTexture=l.createTexture()),vt.__version=ie.version,d.memory.textures++);const Ut=!0===ue.isWebGLCubeRenderTarget,Pt=!0===ue.isWebGLMultipleRenderTargets,Ft=T(ue)||f;if(Ut){it.__webglFramebuffer=[];for(let $e=0;$e<6;$e++)it.__webglFramebuffer[$e]=l.createFramebuffer()}else{if(it.__webglFramebuffer=l.createFramebuffer(),Pt)if(u.drawBuffers){const $e=ue.texture;for(let Yt=0,Wt=$e.length;Yt<Wt;Yt++){const cn=c.get($e[Yt]);void 0===cn.__webglTexture&&(cn.__webglTexture=l.createTexture(),d.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(f&&ue.samples>0&&!1===zt(ue)){const $e=Pt?ie:[ie];it.__webglMultisampledFramebuffer=l.createFramebuffer(),it.__webglColorRenderbuffer=[],o.bindFramebuffer(36160,it.__webglMultisampledFramebuffer);for(let Yt=0;Yt<$e.length;Yt++){const Wt=$e[Yt];it.__webglColorRenderbuffer[Yt]=l.createRenderbuffer(),l.bindRenderbuffer(36161,it.__webglColorRenderbuffer[Yt]);const cn=h.convert(Wt.format,Wt.encoding),Ae=h.convert(Wt.type),Jt=D(Wt.internalFormat,cn,Ae,Wt.encoding),Kt=Ge(ue);l.renderbufferStorageMultisample(36161,Kt,Jt,ue.width,ue.height),l.framebufferRenderbuffer(36160,36064+Yt,36161,it.__webglColorRenderbuffer[Yt])}l.bindRenderbuffer(36161,null),ue.depthBuffer&&(it.__webglDepthRenderbuffer=l.createRenderbuffer(),qe(it.__webglDepthRenderbuffer,ue,!0)),o.bindFramebuffer(36160,null)}}if(Ut){o.bindTexture(34067,vt.__webglTexture),ge(34067,ie,Ft);for(let $e=0;$e<6;$e++)Ie(it.__webglFramebuffer[$e],ue,ie,36064,34069+$e);k(ie,Ft)&&R(34067),o.unbindTexture()}else if(Pt){const $e=ue.texture;for(let Yt=0,Wt=$e.length;Yt<Wt;Yt++){const cn=$e[Yt],Ae=c.get(cn);o.bindTexture(3553,Ae.__webglTexture),ge(3553,cn,Ft),Ie(it.__webglFramebuffer,ue,cn,36064+Yt,3553),k(cn,Ft)&&R(3553)}o.unbindTexture()}else{let $e=3553;(ue.isWebGL3DRenderTarget||ue.isWebGLArrayRenderTarget)&&(f?$e=ue.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),o.bindTexture($e,vt.__webglTexture),ge($e,ie,Ft),Ie(it.__webglFramebuffer,ue,ie,36064,$e),k(ie,Ft)&&R($e),o.unbindTexture()}ue.depthBuffer&&Oe(ue)},this.updateRenderTargetMipmap=function je(ue){const ie=T(ue)||f,it=!0===ue.isWebGLMultipleRenderTargets?ue.texture:[ue.texture];for(let vt=0,Ut=it.length;vt<Ut;vt++){const Pt=it[vt];if(k(Pt,ie)){const Ft=ue.isWebGLCubeRenderTarget?34067:3553,$e=c.get(Pt).__webglTexture;o.bindTexture(Ft,$e),R(Ft),o.unbindTexture()}}},this.updateMultisampleRenderTarget=function Se(ue){if(f&&ue.samples>0&&!1===zt(ue)){const ie=ue.isWebGLMultipleRenderTargets?ue.texture:[ue.texture],it=ue.width,vt=ue.height;let Ut=16384;const Pt=[],Ft=ue.stencilBuffer?33306:36096,$e=c.get(ue),Yt=!0===ue.isWebGLMultipleRenderTargets;if(Yt)for(let Wt=0;Wt<ie.length;Wt++)o.bindFramebuffer(36160,$e.__webglMultisampledFramebuffer),l.framebufferRenderbuffer(36160,36064+Wt,36161,null),o.bindFramebuffer(36160,$e.__webglFramebuffer),l.framebufferTexture2D(36009,36064+Wt,3553,null,0);o.bindFramebuffer(36008,$e.__webglMultisampledFramebuffer),o.bindFramebuffer(36009,$e.__webglFramebuffer);for(let Wt=0;Wt<ie.length;Wt++){Pt.push(36064+Wt),ue.depthBuffer&&Pt.push(Ft);const cn=void 0!==$e.__ignoreDepthValues&&$e.__ignoreDepthValues;if(!1===cn&&(ue.depthBuffer&&(Ut|=256),ue.stencilBuffer&&(Ut|=1024)),Yt&&l.framebufferRenderbuffer(36008,36064,36161,$e.__webglColorRenderbuffer[Wt]),!0===cn&&(l.invalidateFramebuffer(36008,[Ft]),l.invalidateFramebuffer(36009,[Ft])),Yt){const Ae=c.get(ie[Wt]).__webglTexture;l.framebufferTexture2D(36009,36064,3553,Ae,0)}l.blitFramebuffer(0,0,it,vt,0,0,it,vt,Ut,9728),y&&l.invalidateFramebuffer(36008,Pt)}if(o.bindFramebuffer(36008,null),o.bindFramebuffer(36009,null),Yt)for(let Wt=0;Wt<ie.length;Wt++){o.bindFramebuffer(36160,$e.__webglMultisampledFramebuffer),l.framebufferRenderbuffer(36160,36064+Wt,36161,$e.__webglColorRenderbuffer[Wt]);const cn=c.get(ie[Wt]).__webglTexture;o.bindFramebuffer(36160,$e.__webglFramebuffer),l.framebufferTexture2D(36009,36064+Wt,3553,cn,0)}o.bindFramebuffer(36009,$e.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=Oe,this.setupFrameBufferTexture=Ie,this.useMultisampledRTT=zt}function zWe(l,a,o){const c=o.isWebGL2;return{convert:function u(h,d=null){let f;if(h===ng)return 5121;if(1017===h)return 32819;if(1018===h)return 32820;if(1010===h)return 5120;if(1011===h)return 5122;if(1012===h)return 5123;if(1013===h)return 5124;if(h===ig)return 5125;if(h===hf)return 5126;if(h===Xb)return c?5131:(f=a.get("OES_texture_half_float"),null!==f?f.HALF_FLOAT_OES:null);if(1021===h)return 6406;if(h===Gc)return 6408;if(1024===h)return 6409;if(1025===h)return 6410;if(h===rg)return 6402;if(h===wv)return 34041;if(1028===h)return 6403;if(1022===h)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===h)return f=a.get("EXT_sRGB"),null!==f?f.SRGB_ALPHA_EXT:null;if(1029===h)return 36244;if(1030===h)return 33319;if(1031===h)return 33320;if(1033===h)return 36249;if(33776===h||33777===h||33778===h||33779===h)if(d===Qr){if(f=a.get("WEBGL_compressed_texture_s3tc_srgb"),null===f)return null;if(33776===h)return f.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===h)return f.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===h)return f.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===h)return f.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(f=a.get("WEBGL_compressed_texture_s3tc"),null===f)return null;if(33776===h)return f.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===h)return f.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===h)return f.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===h)return f.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===h||35841===h||35842===h||35843===h){if(f=a.get("WEBGL_compressed_texture_pvrtc"),null===f)return null;if(35840===h)return f.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===h)return f.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===h)return f.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===h)return f.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===h)return f=a.get("WEBGL_compressed_texture_etc1"),null!==f?f.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===h||37496===h){if(f=a.get("WEBGL_compressed_texture_etc"),null===f)return null;if(37492===h)return d===Qr?f.COMPRESSED_SRGB8_ETC2:f.COMPRESSED_RGB8_ETC2;if(37496===h)return d===Qr?f.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:f.COMPRESSED_RGBA8_ETC2_EAC}if(37808===h||37809===h||37810===h||37811===h||37812===h||37813===h||37814===h||37815===h||37816===h||37817===h||37818===h||37819===h||37820===h||37821===h){if(f=a.get("WEBGL_compressed_texture_astc"),null===f)return null;if(37808===h)return d===Qr?f.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:f.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===h)return d===Qr?f.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:f.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===h)return d===Qr?f.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:f.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===h)return d===Qr?f.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:f.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===h)return d===Qr?f.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:f.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===h)return d===Qr?f.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:f.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===h)return d===Qr?f.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:f.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===h)return d===Qr?f.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:f.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===h)return d===Qr?f.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:f.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===h)return d===Qr?f.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:f.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===h)return d===Qr?f.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:f.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===h)return d===Qr?f.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:f.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===h)return d===Qr?f.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:f.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===h)return d===Qr?f.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:f.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===h){if(f=a.get("EXT_texture_compression_bptc"),null===f)return null;if(36492===h)return d===Qr?f.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:f.COMPRESSED_RGBA_BPTC_UNORM_EXT}return h===Cv?c?34042:(f=a.get("WEBGL_depth_texture"),null!==f?f.UNSIGNED_INT_24_8_WEBGL:null):void 0!==l[h]?l[h]:null}}}class UWe extends Rs{constructor(a=[]){super(),this.isArrayCamera=!0,this.cameras=a}}class Xv extends Sl{constructor(){super(),this.isGroup=!0,this.type="Group"}}const HWe={type:"move"};class wB{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Xv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Xv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Xv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(a){return null!==this._targetRay&&this._targetRay.dispatchEvent(a),null!==this._grip&&this._grip.dispatchEvent(a),null!==this._hand&&this._hand.dispatchEvent(a),this}disconnect(a){return this.dispatchEvent({type:"disconnected",data:a}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(a,o,c){let u=null,h=null,d=null;const f=this._targetRay,p=this._grip,g=this._hand;if(a&&"visible-blurred"!==o.session.visibilityState){if(g&&a.hand){d=!0;for(const C of a.hand.values()){const x=o.getJointPose(C,c);if(void 0===g.joints[C.jointName]){const S=new Xv;S.matrixAutoUpdate=!1,S.visible=!1,g.joints[C.jointName]=S,g.add(S)}const w=g.joints[C.jointName];null!==x&&(w.matrix.fromArray(x.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.jointRadius=x.radius),w.visible=null!==x}const _=g.joints["index-finger-tip"].position.distanceTo(g.joints["thumb-tip"].position),y=.02,b=.005;g.inputState.pinching&&_>y+b?(g.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:a.handedness,target:this})):!g.inputState.pinching&&_<=y-b&&(g.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:a.handedness,target:this}))}else null!==p&&a.gripSpace&&(h=o.getPose(a.gripSpace,c),null!==h&&(p.matrix.fromArray(h.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),h.linearVelocity?(p.hasLinearVelocity=!0,p.linearVelocity.copy(h.linearVelocity)):p.hasLinearVelocity=!1,h.angularVelocity?(p.hasAngularVelocity=!0,p.angularVelocity.copy(h.angularVelocity)):p.hasAngularVelocity=!1));null!==f&&(u=o.getPose(a.targetRaySpace,c),null===u&&null!==h&&(u=h),null!==u&&(f.matrix.fromArray(u.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),u.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(u.linearVelocity)):f.hasLinearVelocity=!1,u.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(u.angularVelocity)):f.hasAngularVelocity=!1,this.dispatchEvent(HWe)))}return null!==f&&(f.visible=null!==u),null!==p&&(p.visible=null!==h),null!==g&&(g.visible=null!==d),this}}class GWe extends $u{constructor(a,o,c,u,h,d,f,p,g,m){if((m=void 0!==m?m:rg)!==rg&&m!==wv)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===c&&m===rg&&(c=ig),void 0===c&&m===wv&&(c=Cv),super(null,u,h,d,f,p,m,c,g),this.isDepthTexture=!0,this.image={width:a,height:o},this.magFilter=void 0!==f?f:Ks,this.minFilter=void 0!==p?p:Ks,this.flipY=!1,this.generateMipmaps=!1}}class WWe extends Dv{constructor(a,o){super();const c=this;let u=null,h=1,d=null,f="local-floor",p=null,g=null,m=null,v=null,_=null,y=null;const b=o.getContextAttributes();let C=null,x=null;const w=[],S=[],M=new Rs;M.layers.enable(1),M.viewport=new Bi;const T=new Rs;T.layers.enable(2),T.viewport=new Bi;const E=[M,T],k=new UWe;k.layers.enable(1),k.layers.enable(2);let R=null,D=null;function P(j){const W=S.indexOf(j.inputSource);if(-1===W)return;const Z=w[W];void 0!==Z&&Z.dispatchEvent({type:j.type,data:j.inputSource})}function F(){u.removeEventListener("select",P),u.removeEventListener("selectstart",P),u.removeEventListener("selectend",P),u.removeEventListener("squeeze",P),u.removeEventListener("squeezestart",P),u.removeEventListener("squeezeend",P),u.removeEventListener("end",F),u.removeEventListener("inputsourceschange",L);for(let j=0;j<w.length;j++){const W=S[j];null!==W&&(S[j]=null,w[j].disconnect(W))}R=null,D=null,a.setRenderTarget(C),_=null,v=null,m=null,u=null,x=null,H.stop(),c.isPresenting=!1,c.dispatchEvent({type:"sessionend"})}function L(j){for(let W=0;W<j.removed.length;W++){const Z=j.removed[W],K=S.indexOf(Z);K>=0&&(S[K]=null,w[K].dispatchEvent({type:"disconnected",data:Z}))}for(let W=0;W<j.added.length;W++){const Z=j.added[W];let K=S.indexOf(Z);if(-1===K){for(let re=0;re<w.length;re++){if(re>=S.length){S.push(Z),K=re;break}if(null===S[re]){S[re]=Z,K=re;break}}if(-1===K)break}const ae=w[K];ae&&ae.dispatchEvent({type:"connected",data:Z})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(j){let W=w[j];return void 0===W&&(W=new wB,w[j]=W),W.getTargetRaySpace()},this.getControllerGrip=function(j){let W=w[j];return void 0===W&&(W=new wB,w[j]=W),W.getGripSpace()},this.getHand=function(j){let W=w[j];return void 0===W&&(W=new wB,w[j]=W),W.getHandSpace()},this.setFramebufferScaleFactor=function(j){h=j,!0===c.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(j){f=j,!0===c.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||d},this.setReferenceSpace=function(j){p=j},this.getBaseLayer=function(){return null!==v?v:_},this.getBinding=function(){return m},this.getFrame=function(){return y},this.getSession=function(){return u},this.setSession=function(){var j=gW(function*(W){if(u=W,null!==u){if(C=a.getRenderTarget(),u.addEventListener("select",P),u.addEventListener("selectstart",P),u.addEventListener("selectend",P),u.addEventListener("squeeze",P),u.addEventListener("squeezestart",P),u.addEventListener("squeezeend",P),u.addEventListener("end",F),u.addEventListener("inputsourceschange",L),!0!==b.xrCompatible&&(yield o.makeXRCompatible()),void 0===u.renderState.layers||!1===a.capabilities.isWebGL2)_=new XRWebGLLayer(u,o,{antialias:void 0!==u.renderState.layers||b.antialias,alpha:b.alpha,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:h}),u.updateRenderState({baseLayer:_}),x=new ya(_.framebufferWidth,_.framebufferHeight,{format:Gc,type:ng,encoding:a.outputEncoding});else{let Z=null,K=null,ae=null;b.depth&&(ae=b.stencil?35056:33190,Z=b.stencil?wv:rg,K=b.stencil?Cv:ig);const re={colorFormat:32856,depthFormat:ae,scaleFactor:h};m=new XRWebGLBinding(u,o),v=m.createProjectionLayer(re),u.updateRenderState({layers:[v]}),x=new ya(v.textureWidth,v.textureHeight,{format:Gc,type:ng,depthTexture:new GWe(v.textureWidth,v.textureHeight,K,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:b.stencil,encoding:a.outputEncoding,samples:b.antialias?4:0}),a.properties.get(x).__ignoreDepthValues=v.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(1),p=null,d=yield u.requestReferenceSpace(f),H.setContext(u),H.start(),c.isPresenting=!0,c.dispatchEvent({type:"sessionstart"})}});return function(W){return j.apply(this,arguments)}}();const $=new ee,Y=new ee;function V(j,W){null===W?j.matrixWorld.copy(j.matrix):j.matrixWorld.multiplyMatrices(W.matrixWorld,j.matrix),j.matrixWorldInverse.copy(j.matrixWorld).invert()}this.updateCamera=function(j){if(null===u)return;k.near=T.near=M.near=j.near,k.far=T.far=M.far=j.far,(R!==k.near||D!==k.far)&&(u.updateRenderState({depthNear:k.near,depthFar:k.far}),R=k.near,D=k.far);const W=j.parent,Z=k.cameras;V(k,W);for(let ae=0;ae<Z.length;ae++)V(Z[ae],W);k.matrixWorld.decompose(k.position,k.quaternion,k.scale),j.position.copy(k.position),j.quaternion.copy(k.quaternion),j.scale.copy(k.scale),j.matrix.copy(k.matrix),j.matrixWorld.copy(k.matrixWorld);const K=j.children;for(let ae=0,re=K.length;ae<re;ae++)K[ae].updateMatrixWorld(!0);2===Z.length?function O(j,W,Z){$.setFromMatrixPosition(W.matrixWorld),Y.setFromMatrixPosition(Z.matrixWorld);const K=$.distanceTo(Y),ae=W.projectionMatrix.elements,re=Z.projectionMatrix.elements,xe=ae[14]/(ae[10]-1),ge=ae[14]/(ae[10]+1),Me=(ae[9]+1)/ae[5],He=(ae[9]-1)/ae[5],ke=(ae[8]-1)/ae[0],Ie=(re[8]+1)/re[0],qe=xe*ke,ce=xe*Ie,Oe=K/(-ke+Ie),Ye=Oe*-ke;W.matrixWorld.decompose(j.position,j.quaternion,j.scale),j.translateX(Ye),j.translateZ(Oe),j.matrixWorld.compose(j.position,j.quaternion,j.scale),j.matrixWorldInverse.copy(j.matrixWorld).invert();const et=xe+Oe,je=ge+Oe;j.projectionMatrix.makePerspective(qe-Ye,ce+(K-Ye),Me*ge/je*et,He*ge/je*et,et,je)}(k,M,T):k.projectionMatrix.copy(M.projectionMatrix)},this.getCamera=function(){return k},this.getFoveation=function(){return null!==v?v.fixedFoveation:null!==_?_.fixedFoveation:void 0},this.setFoveation=function(j){null!==v&&(v.fixedFoveation=j),null!==_&&void 0!==_.fixedFoveation&&(_.fixedFoveation=j)};let B=null;const H=new pne;H.setAnimationLoop(function G(j,W){if(g=W.getViewerPose(p||d),y=W,null!==g){const Z=g.views;null!==_&&(a.setRenderTargetFramebuffer(x,_.framebuffer),a.setRenderTarget(x));let K=!1;Z.length!==k.cameras.length&&(k.cameras.length=0,K=!0);for(let ae=0;ae<Z.length;ae++){const re=Z[ae];let xe=null;if(null!==_)xe=_.getViewport(re);else{const Me=m.getViewSubImage(v,re);xe=Me.viewport,0===ae&&(a.setRenderTargetTextures(x,Me.colorTexture,v.ignoreDepthValues?void 0:Me.depthStencilTexture),a.setRenderTarget(x))}let ge=E[ae];void 0===ge&&(ge=new Rs,ge.layers.enable(ae),ge.viewport=new Bi,E[ae]=ge),ge.matrix.fromArray(re.transform.matrix),ge.projectionMatrix.fromArray(re.projectionMatrix),ge.viewport.set(xe.x,xe.y,xe.width,xe.height),0===ae&&k.matrix.copy(ge.matrix),!0===K&&k.cameras.push(ge)}}for(let Z=0;Z<w.length;Z++){const K=S[Z],ae=w[Z];null!==K&&void 0!==ae&&ae.update(K,W,p||d)}B&&B(j,W),y=null}),this.setAnimationLoop=function(j){B=j},this.dispose=function(){}}}function jWe(l,a){function u(C,x){C.opacity.value=x.opacity,x.color&&C.diffuse.value.copy(x.color),x.emissive&&C.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(C.map.value=x.map),x.alphaMap&&(C.alphaMap.value=x.alphaMap),x.bumpMap&&(C.bumpMap.value=x.bumpMap,C.bumpScale.value=x.bumpScale,1===x.side&&(C.bumpScale.value*=-1)),x.displacementMap&&(C.displacementMap.value=x.displacementMap,C.displacementScale.value=x.displacementScale,C.displacementBias.value=x.displacementBias),x.emissiveMap&&(C.emissiveMap.value=x.emissiveMap),x.normalMap&&(C.normalMap.value=x.normalMap,C.normalScale.value.copy(x.normalScale),1===x.side&&C.normalScale.value.negate()),x.specularMap&&(C.specularMap.value=x.specularMap),x.alphaTest>0&&(C.alphaTest.value=x.alphaTest);const w=a.get(x).envMap;if(w&&(C.envMap.value=w,C.flipEnvMap.value=w.isCubeTexture&&!1===w.isRenderTargetTexture?-1:1,C.reflectivity.value=x.reflectivity,C.ior.value=x.ior,C.refractionRatio.value=x.refractionRatio),x.lightMap){C.lightMap.value=x.lightMap;const T=!0!==l.physicallyCorrectLights?Math.PI:1;C.lightMapIntensity.value=x.lightMapIntensity*T}let S,M;x.aoMap&&(C.aoMap.value=x.aoMap,C.aoMapIntensity.value=x.aoMapIntensity),x.map?S=x.map:x.specularMap?S=x.specularMap:x.displacementMap?S=x.displacementMap:x.normalMap?S=x.normalMap:x.bumpMap?S=x.bumpMap:x.roughnessMap?S=x.roughnessMap:x.metalnessMap?S=x.metalnessMap:x.alphaMap?S=x.alphaMap:x.emissiveMap?S=x.emissiveMap:x.clearcoatMap?S=x.clearcoatMap:x.clearcoatNormalMap?S=x.clearcoatNormalMap:x.clearcoatRoughnessMap?S=x.clearcoatRoughnessMap:x.iridescenceMap?S=x.iridescenceMap:x.iridescenceThicknessMap?S=x.iridescenceThicknessMap:x.specularIntensityMap?S=x.specularIntensityMap:x.specularColorMap?S=x.specularColorMap:x.transmissionMap?S=x.transmissionMap:x.thicknessMap?S=x.thicknessMap:x.sheenColorMap?S=x.sheenColorMap:x.sheenRoughnessMap&&(S=x.sheenRoughnessMap),void 0!==S&&(S.isWebGLRenderTarget&&(S=S.texture),!0===S.matrixAutoUpdate&&S.updateMatrix(),C.uvTransform.value.copy(S.matrix)),x.aoMap?M=x.aoMap:x.lightMap&&(M=x.lightMap),void 0!==M&&(M.isWebGLRenderTarget&&(M=M.texture),!0===M.matrixAutoUpdate&&M.updateMatrix(),C.uv2Transform.value.copy(M.matrix))}return{refreshFogUniforms:function o(C,x){C.fogColor.value.copy(x.color),x.isFog?(C.fogNear.value=x.near,C.fogFar.value=x.far):x.isFogExp2&&(C.fogDensity.value=x.density)},refreshMaterialUniforms:function c(C,x,w,S,M){x.isMeshBasicMaterial||x.isMeshLambertMaterial?u(C,x):x.isMeshToonMaterial?(u(C,x),function m(C,x){x.gradientMap&&(C.gradientMap.value=x.gradientMap)}(C,x)):x.isMeshPhongMaterial?(u(C,x),function g(C,x){C.specular.value.copy(x.specular),C.shininess.value=Math.max(x.shininess,1e-4)}(C,x)):x.isMeshStandardMaterial?(u(C,x),function v(C,x){C.roughness.value=x.roughness,C.metalness.value=x.metalness,x.roughnessMap&&(C.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(C.metalnessMap.value=x.metalnessMap),a.get(x).envMap&&(C.envMapIntensity.value=x.envMapIntensity)}(C,x),x.isMeshPhysicalMaterial&&function _(C,x,w){C.ior.value=x.ior,x.sheen>0&&(C.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),C.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(C.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(C.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(C.clearcoat.value=x.clearcoat,C.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(C.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(C.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(C.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),C.clearcoatNormalMap.value=x.clearcoatNormalMap,1===x.side&&C.clearcoatNormalScale.value.negate())),x.iridescence>0&&(C.iridescence.value=x.iridescence,C.iridescenceIOR.value=x.iridescenceIOR,C.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],C.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(C.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(C.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(C.transmission.value=x.transmission,C.transmissionSamplerMap.value=w.texture,C.transmissionSamplerSize.value.set(w.width,w.height),x.transmissionMap&&(C.transmissionMap.value=x.transmissionMap),C.thickness.value=x.thickness,x.thicknessMap&&(C.thicknessMap.value=x.thicknessMap),C.attenuationDistance.value=x.attenuationDistance,C.attenuationColor.value.copy(x.attenuationColor)),C.specularIntensity.value=x.specularIntensity,C.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(C.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(C.specularColorMap.value=x.specularColorMap)}(C,x,M)):x.isMeshMatcapMaterial?(u(C,x),function y(C,x){x.matcap&&(C.matcap.value=x.matcap)}(C,x)):x.isMeshDepthMaterial?u(C,x):x.isMeshDistanceMaterial?(u(C,x),function b(C,x){C.referencePosition.value.copy(x.referencePosition),C.nearDistance.value=x.nearDistance,C.farDistance.value=x.farDistance}(C,x)):x.isMeshNormalMaterial?u(C,x):x.isLineBasicMaterial?(function h(C,x){C.diffuse.value.copy(x.color),C.opacity.value=x.opacity}(C,x),x.isLineDashedMaterial&&function d(C,x){C.dashSize.value=x.dashSize,C.totalSize.value=x.dashSize+x.gapSize,C.scale.value=x.scale}(C,x)):x.isPointsMaterial?function f(C,x,w,S){let M;C.diffuse.value.copy(x.color),C.opacity.value=x.opacity,C.size.value=x.size*w,C.scale.value=.5*S,x.map&&(C.map.value=x.map),x.alphaMap&&(C.alphaMap.value=x.alphaMap),x.alphaTest>0&&(C.alphaTest.value=x.alphaTest),x.map?M=x.map:x.alphaMap&&(M=x.alphaMap),void 0!==M&&(!0===M.matrixAutoUpdate&&M.updateMatrix(),C.uvTransform.value.copy(M.matrix))}(C,x,w,S):x.isSpriteMaterial?function p(C,x){let w;C.diffuse.value.copy(x.color),C.opacity.value=x.opacity,C.rotation.value=x.rotation,x.map&&(C.map.value=x.map),x.alphaMap&&(C.alphaMap.value=x.alphaMap),x.alphaTest>0&&(C.alphaTest.value=x.alphaTest),x.map?w=x.map:x.alphaMap&&(w=x.alphaMap),void 0!==w&&(!0===w.matrixAutoUpdate&&w.updateMatrix(),C.uvTransform.value.copy(w.matrix))}(C,x):x.isShadowMaterial?(C.color.value.copy(x.color),C.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}}}function Gne(l={}){this.isWebGLRenderer=!0;const a=void 0!==l.canvas?l.canvas:function $We(){const l=Jb("canvas");return l.style.display="block",l}(),o=void 0!==l.context?l.context:null,c=void 0===l.depth||l.depth,u=void 0===l.stencil||l.stencil,h=void 0!==l.antialias&&l.antialias,d=void 0===l.premultipliedAlpha||l.premultipliedAlpha,f=void 0!==l.preserveDrawingBuffer&&l.preserveDrawingBuffer,p=void 0!==l.powerPreference?l.powerPreference:"default",g=void 0!==l.failIfMajorPerformanceCaveat&&l.failIfMajorPerformanceCaveat;let m;m=null!==o?o.getContextAttributes().alpha:void 0!==l.alpha&&l.alpha;let v=null,_=null;const y=[],b=[];this.domElement=a,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=sg,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const C=this;let x=!1,w=0,S=0,M=null,T=-1,E=null;const k=new Bi,R=new Bi;let D=null,P=a.width,F=a.height,L=1,$=null,Y=null;const O=new Bi(0,0,P,F),V=new Bi(0,0,P,F);let B=!1;const G=new gB;let H=!1,j=!1,W=null;const Z=new Qn,K=new ut,ae=new ee,re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return null===M?L:1}let He,ke,Ie,qe,ce,Oe,Ye,et,je,Se,Ge,zt,hn,In,ue,ie,it,vt,Ut,Pt,Ft,$e,Yt,ge=o;function Me(he,Qe){for(let ft=0;ft<he.length;ft++){const Mt=a.getContext(he[ft],Qe);if(null!==Mt)return Mt}return null}try{const he={alpha:!0,depth:c,stencil:u,antialias:h,premultipliedAlpha:d,preserveDrawingBuffer:f,powerPreference:p,failIfMajorPerformanceCaveat:g};if("setAttribute"in a&&a.setAttribute("data-engine","three.js r142"),a.addEventListener("webglcontextlost",Ae,!1),a.addEventListener("webglcontextrestored",Jt,!1),a.addEventListener("webglcontextcreationerror",Kt,!1),null===ge){const Qe=["webgl2","webgl","experimental-webgl"];if(!0===C.isWebGL1Renderer&&Qe.shift(),ge=Me(Qe,he),null===ge)throw Me(Qe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ge.getShaderPrecisionFormat&&(ge.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(he){throw console.error("THREE.WebGLRenderer: "+he.message),he}function Wt(){He=new sGe(ge),ke=new J9e(ge,He,l),He.init(ke),$e=new zWe(ge,He,ke),Ie=new BWe(ge,He,ke),qe=new lGe,ce=new MWe,Oe=new VWe(ge,He,Ie,ce,ke,$e,qe),Ye=new tGe(C),et=new rGe(C),je=new QHe(ge,ke),Yt=new K9e(ge,He,je,ke),Se=new oGe(ge,je,qe,Yt),Ge=new dGe(ge,Se,je,qe),Ut=new hGe(ge,ke,Oe),ie=new eGe(ce),zt=new TWe(C,Ye,et,He,ke,Yt,ie),hn=new jWe(C,ce),In=new EWe,ue=new RWe(He,ke),vt=new X9e(C,Ye,Ie,Ge,m,d),it=new NWe(C,Ge,ke),Pt=new Q9e(ge,He,qe,ke),Ft=new aGe(ge,He,qe,ke),qe.programs=zt.programs,C.capabilities=ke,C.extensions=He,C.properties=ce,C.renderLists=In,C.shadowMap=it,C.state=Ie,C.info=qe}Wt();const cn=new WWe(C,ge);function Ae(he){he.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Jt(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const he=qe.autoReset,Qe=it.enabled,ft=it.autoUpdate,at=it.needsUpdate,Mt=it.type;Wt(),qe.autoReset=he,it.enabled=Qe,it.autoUpdate=ft,it.needsUpdate=at,it.type=Mt}function Kt(he){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",he.statusMessage)}function Zn(he){const Qe=he.target;Qe.removeEventListener("dispose",Zn),function Tn(he){(function ii(he){const Qe=ce.get(he).programs;void 0!==Qe&&(Qe.forEach(function(ft){zt.releaseProgram(ft)}),he.isShaderMaterial&&zt.releaseShaderCache(he))})(he),ce.remove(he)}(Qe)}this.xr=cn,this.getContext=function(){return ge},this.getContextAttributes=function(){return ge.getContextAttributes()},this.forceContextLoss=function(){const he=He.get("WEBGL_lose_context");he&&he.loseContext()},this.forceContextRestore=function(){const he=He.get("WEBGL_lose_context");he&&he.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(he){void 0!==he&&(L=he,this.setSize(P,F,!1))},this.getSize=function(he){return he.set(P,F)},this.setSize=function(he,Qe,ft){cn.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(P=he,F=Qe,a.width=Math.floor(he*L),a.height=Math.floor(Qe*L),!1!==ft&&(a.style.width=he+"px",a.style.height=Qe+"px"),this.setViewport(0,0,he,Qe))},this.getDrawingBufferSize=function(he){return he.set(P*L,F*L).floor()},this.setDrawingBufferSize=function(he,Qe,ft){P=he,F=Qe,L=ft,a.width=Math.floor(he*ft),a.height=Math.floor(Qe*ft),this.setViewport(0,0,he,Qe)},this.getCurrentViewport=function(he){return he.copy(k)},this.getViewport=function(he){return he.copy(O)},this.setViewport=function(he,Qe,ft,at){he.isVector4?O.set(he.x,he.y,he.z,he.w):O.set(he,Qe,ft,at),Ie.viewport(k.copy(O).multiplyScalar(L).floor())},this.getScissor=function(he){return he.copy(V)},this.setScissor=function(he,Qe,ft,at){he.isVector4?V.set(he.x,he.y,he.z,he.w):V.set(he,Qe,ft,at),Ie.scissor(R.copy(V).multiplyScalar(L).floor())},this.getScissorTest=function(){return B},this.setScissorTest=function(he){Ie.setScissorTest(B=he)},this.setOpaqueSort=function(he){$=he},this.setTransparentSort=function(he){Y=he},this.getClearColor=function(he){return he.copy(vt.getClearColor())},this.setClearColor=function(){vt.setClearColor.apply(vt,arguments)},this.getClearAlpha=function(){return vt.getClearAlpha()},this.setClearAlpha=function(){vt.setClearAlpha.apply(vt,arguments)},this.clear=function(he=!0,Qe=!0,ft=!0){let at=0;he&&(at|=16384),Qe&&(at|=256),ft&&(at|=1024),ge.clear(at)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){a.removeEventListener("webglcontextlost",Ae,!1),a.removeEventListener("webglcontextrestored",Jt,!1),a.removeEventListener("webglcontextcreationerror",Kt,!1),In.dispose(),ue.dispose(),ce.dispose(),Ye.dispose(),et.dispose(),Ge.dispose(),Yt.dispose(),zt.dispose(),cn.dispose(),cn.removeEventListener("sessionstart",gr),cn.removeEventListener("sessionend",mr),W&&(W.dispose(),W=null),wa.stop()},this.renderBufferDirect=function(he,Qe,ft,at,Mt,Jn){null===Qe&&(Qe=re);const mi=Mt.isMesh&&Mt.matrixWorld.determinant()<0,ki=function DJe(he,Qe,ft,at,Mt){!0!==Qe.isScene&&(Qe=re),Oe.resetTextureUnits();const Jn=Qe.fog,ki=null===M?C.outputEncoding:!0===M.isXRRenderTarget?M.texture.encoding:sg,Si=(at.isMeshStandardMaterial?et:Ye).get(at.envMap||(at.isMeshStandardMaterial?Qe.environment:null)),vr=!0===at.vertexColors&&!!ft.attributes.color&&4===ft.attributes.color.itemSize,Zi=!!at.normalMap&&!!ft.attributes.tangent,er=!!ft.morphAttributes.position,ms=!!ft.morphAttributes.normal,Ag=!!ft.morphAttributes.color,__=at.toneMapped?C.toneMapping:0,y_=ft.morphAttributes.position||ft.morphAttributes.normal||ft.morphAttributes.color,ih=void 0!==y_?y_.length:0,hr=ce.get(at),b_=_.state.lights;!0!==H||!0!==j&&he===E||ie.setState(at,he,he===E&&at.id===T);let Ls=!1;at.version===hr.__version?(hr.needsLights&&hr.lightsStateVersion!==b_.state.version||hr.outputEncoding!==ki||Mt.isInstancedMesh&&!1===hr.instancing||!Mt.isInstancedMesh&&!0===hr.instancing||Mt.isSkinnedMesh&&!1===hr.skinning||!Mt.isSkinnedMesh&&!0===hr.skinning||hr.envMap!==Si||!0===at.fog&&hr.fog!==Jn||void 0!==hr.numClippingPlanes&&(hr.numClippingPlanes!==ie.numPlanes||hr.numIntersection!==ie.numIntersection)||hr.vertexAlphas!==vr||hr.vertexTangents!==Zi||hr.morphTargets!==er||hr.morphNormals!==ms||hr.morphColors!==Ag||hr.toneMapping!==__||!0===ke.isWebGL2&&hr.morphTargetsCount!==ih)&&(Ls=!0):(Ls=!0,hr.__version=at.version);let rh=hr.currentProgram;!0===Ls&&(rh=o8(at,Qe,Mt));let If=!1,Lx=!1,a8=!1;const Sa=rh.getUniforms(),Nx=hr.uniforms;if(Ie.useProgram(rh.program)&&(If=!0,Lx=!0,a8=!0),at.id!==T&&(T=at.id,Lx=!0),If||E!==he){if(Sa.setValue(ge,"projectionMatrix",he.projectionMatrix),ke.logarithmicDepthBuffer&&Sa.setValue(ge,"logDepthBufFC",2/(Math.log(he.far+1)/Math.LN2)),E!==he&&(E=he,Lx=!0,a8=!0),at.isShaderMaterial||at.isMeshPhongMaterial||at.isMeshToonMaterial||at.isMeshStandardMaterial||at.envMap){const sh=Sa.map.cameraPosition;void 0!==sh&&sh.setValue(ge,ae.setFromMatrixPosition(he.matrixWorld))}(at.isMeshPhongMaterial||at.isMeshToonMaterial||at.isMeshLambertMaterial||at.isMeshBasicMaterial||at.isMeshStandardMaterial||at.isShaderMaterial)&&Sa.setValue(ge,"isOrthographic",!0===he.isOrthographicCamera),(at.isMeshPhongMaterial||at.isMeshToonMaterial||at.isMeshLambertMaterial||at.isMeshBasicMaterial||at.isMeshStandardMaterial||at.isShaderMaterial||at.isShadowMaterial||Mt.isSkinnedMesh)&&Sa.setValue(ge,"viewMatrix",he.matrixWorldInverse)}if(Mt.isSkinnedMesh){Sa.setOptional(ge,Mt,"bindMatrix"),Sa.setOptional(ge,Mt,"bindMatrixInverse");const sh=Mt.skeleton;sh&&(ke.floatVertexTextures?(null===sh.boneTexture&&sh.computeBoneTexture(),Sa.setValue(ge,"boneTexture",sh.boneTexture,Oe),Sa.setValue(ge,"boneTextureSize",sh.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const l8=ft.morphAttributes;return(void 0!==l8.position||void 0!==l8.normal||void 0!==l8.color&&!0===ke.isWebGL2)&&Ut.update(Mt,ft,at,rh),(Lx||hr.receiveShadow!==Mt.receiveShadow)&&(hr.receiveShadow=Mt.receiveShadow,Sa.setValue(ge,"receiveShadow",Mt.receiveShadow)),Lx&&(Sa.setValue(ge,"toneMappingExposure",C.toneMappingExposure),hr.needsLights&&function EJe(he,Qe){he.ambientLightColor.needsUpdate=Qe,he.lightProbe.needsUpdate=Qe,he.directionalLights.needsUpdate=Qe,he.directionalLightShadows.needsUpdate=Qe,he.pointLights.needsUpdate=Qe,he.pointLightShadows.needsUpdate=Qe,he.spotLights.needsUpdate=Qe,he.spotLightShadows.needsUpdate=Qe,he.rectAreaLights.needsUpdate=Qe,he.hemisphereLights.needsUpdate=Qe}(Nx,a8),Jn&&!0===at.fog&&hn.refreshFogUniforms(Nx,Jn),hn.refreshMaterialUniforms(Nx,at,L,F,W),qM.upload(ge,hr.uniformsList,Nx,Oe)),at.isShaderMaterial&&!0===at.uniformsNeedUpdate&&(qM.upload(ge,hr.uniformsList,Nx,Oe),at.uniformsNeedUpdate=!1),at.isSpriteMaterial&&Sa.setValue(ge,"center",Mt.center),Sa.setValue(ge,"modelViewMatrix",Mt.modelViewMatrix),Sa.setValue(ge,"normalMatrix",Mt.normalMatrix),Sa.setValue(ge,"modelMatrix",Mt.matrixWorld),rh}(he,Qe,ft,at,Mt);Ie.setMaterial(at,mi);let Si=ft.index;const vr=ft.attributes.position;if(null===Si){if(void 0===vr||0===vr.count)return}else if(0===Si.count)return;let Zi=1;!0===at.wireframe&&(Si=Se.getWireframeAttribute(ft),Zi=2),Yt.setup(Mt,at,ki,ft,Si);let er,ms=Pt;null!==Si&&(er=je.get(Si),ms=Ft,ms.setIndex(er));const Ag=null!==Si?Si.count:vr.count,__=ft.drawRange.start*Zi,y_=ft.drawRange.count*Zi,ih=null!==Jn?Jn.start*Zi:0,hr=null!==Jn?Jn.count*Zi:1/0,b_=Math.max(__,ih),Ls=Math.min(Ag,__+y_,ih+hr)-1,rh=Math.max(0,Ls-b_+1);if(0!==rh){if(Mt.isMesh)!0===at.wireframe?(Ie.setLineWidth(at.wireframeLinewidth*xe()),ms.setMode(1)):ms.setMode(4);else if(Mt.isLine){let If=at.linewidth;void 0===If&&(If=1),Ie.setLineWidth(If*xe()),ms.setMode(Mt.isLineSegments?1:Mt.isLineLoop?2:3)}else Mt.isPoints?ms.setMode(0):Mt.isSprite&&ms.setMode(4);if(Mt.isInstancedMesh)ms.renderInstances(b_,rh,Mt.count);else if(ft.isInstancedBufferGeometry){const If=Math.min(ft.instanceCount,ft._maxInstanceCount);ms.renderInstances(b_,rh,If)}else ms.render(b_,rh)}},this.compile=function(he,Qe){_=ue.get(he),_.init(),b.push(_),he.traverseVisible(function(ft){ft.isLight&&ft.layers.test(Qe.layers)&&(_.pushLight(ft),ft.castShadow&&_.pushShadow(ft))}),_.setupLights(C.physicallyCorrectLights),he.traverse(function(ft){const at=ft.material;if(at)if(Array.isArray(at))for(let Mt=0;Mt<at.length;Mt++)o8(at[Mt],he,ft);else o8(at,he,ft)}),b.pop(),_=null};let Zt=null;function gr(){wa.stop()}function mr(){wa.start()}const wa=new pne;function nh(he,Qe,ft,at){if(!1===he.visible)return;if(he.layers.test(Qe.layers))if(he.isGroup)ft=he.renderOrder;else if(he.isLOD)!0===he.autoUpdate&&he.update(Qe);else if(he.isLight)_.pushLight(he),he.castShadow&&_.pushShadow(he);else if(he.isSprite){if(!he.frustumCulled||G.intersectsSprite(he)){at&&ae.setFromMatrixPosition(he.matrixWorld).applyMatrix4(Z);const mi=Ge.update(he),ki=he.material;ki.visible&&v.push(he,mi,ki,ft,ae.z,null)}}else if((he.isMesh||he.isLine||he.isPoints)&&(he.isSkinnedMesh&&he.skeleton.frame!==qe.render.frame&&(he.skeleton.update(),he.skeleton.frame=qe.render.frame),!he.frustumCulled||G.intersectsObject(he))){at&&ae.setFromMatrixPosition(he.matrixWorld).applyMatrix4(Z);const mi=Ge.update(he),ki=he.material;if(Array.isArray(ki)){const Si=mi.groups;for(let vr=0,Zi=Si.length;vr<Zi;vr++){const er=Si[vr],ms=ki[er.materialIndex];ms&&ms.visible&&v.push(he,mi,ms,ft,ae.z,er)}}else ki.visible&&v.push(he,mi,ki,ft,ae.z,null)}const Jn=he.children;for(let mi=0,ki=Jn.length;mi<ki;mi++)nh(Jn[mi],Qe,ft,at)}function Goe(he,Qe,ft,at){const Mt=he.opaque,Jn=he.transmissive,mi=he.transparent;_.setupLightsView(ft),Jn.length>0&&function TJe(he,Qe,ft){const at=ke.isWebGL2;null===W&&(W=new ya(1,1,{generateMipmaps:!0,type:He.has("EXT_color_buffer_half_float")?Xb:ng,minFilter:1008,samples:at&&!0===h?4:0})),C.getDrawingBufferSize(K),at?W.setSize(K.x,K.y):W.setSize(xM(K.x),xM(K.y));const Mt=C.getRenderTarget();C.setRenderTarget(W),C.clear();const Jn=C.toneMapping;C.toneMapping=0,pE(he,Qe,ft),C.toneMapping=Jn,Oe.updateMultisampleRenderTarget(W),Oe.updateRenderTargetMipmap(W),C.setRenderTarget(Mt)}(Mt,Qe,ft),at&&Ie.viewport(k.copy(at)),Mt.length>0&&pE(Mt,Qe,ft),Jn.length>0&&pE(Jn,Qe,ft),mi.length>0&&pE(mi,Qe,ft),Ie.buffers.depth.setTest(!0),Ie.buffers.depth.setMask(!0),Ie.buffers.color.setMask(!0),Ie.setPolygonOffset(!1)}function pE(he,Qe,ft){const at=!0===Qe.isScene?Qe.overrideMaterial:null;for(let Mt=0,Jn=he.length;Mt<Jn;Mt++){const mi=he[Mt],ki=mi.object,Si=mi.geometry,vr=null===at?mi.material:at,Zi=mi.group;ki.layers.test(ft.layers)&&MJe(ki,Qe,ft,Si,vr,Zi)}}function MJe(he,Qe,ft,at,Mt,Jn){he.onBeforeRender(C,Qe,ft,at,Mt,Jn),he.modelViewMatrix.multiplyMatrices(ft.matrixWorldInverse,he.matrixWorld),he.normalMatrix.getNormalMatrix(he.modelViewMatrix),Mt.onBeforeRender(C,Qe,ft,at,he,Jn),!0===Mt.transparent&&2===Mt.side?(Mt.side=1,Mt.needsUpdate=!0,C.renderBufferDirect(ft,Qe,at,Mt,he,Jn),Mt.side=0,Mt.needsUpdate=!0,C.renderBufferDirect(ft,Qe,at,Mt,he,Jn),Mt.side=2):C.renderBufferDirect(ft,Qe,at,Mt,he,Jn),he.onAfterRender(C,Qe,ft,at,Mt,Jn)}function o8(he,Qe,ft){!0!==Qe.isScene&&(Qe=re);const at=ce.get(he),Mt=_.state.lights,mi=Mt.state.version,ki=zt.getParameters(he,Mt.state,_.state.shadowsArray,Qe,ft),Si=zt.getProgramCacheKey(ki);let vr=at.programs;at.environment=he.isMeshStandardMaterial?Qe.environment:null,at.fog=Qe.fog,at.envMap=(he.isMeshStandardMaterial?et:Ye).get(he.envMap||at.environment),void 0===vr&&(he.addEventListener("dispose",Zn),vr=new Map,at.programs=vr);let Zi=vr.get(Si);if(void 0!==Zi){if(at.currentProgram===Zi&&at.lightsStateVersion===mi)return Woe(he,ki),Zi}else ki.uniforms=zt.getUniforms(he),he.onBuild(ft,ki,C),he.onBeforeCompile(ki,C),Zi=zt.acquireProgram(ki,Si),vr.set(Si,Zi),at.uniforms=ki.uniforms;const er=at.uniforms;(!he.isShaderMaterial&&!he.isRawShaderMaterial||!0===he.clipping)&&(er.clippingPlanes=ie.uniform),Woe(he,ki),at.needsLights=function kJe(he){return he.isMeshLambertMaterial||he.isMeshToonMaterial||he.isMeshPhongMaterial||he.isMeshStandardMaterial||he.isShadowMaterial||he.isShaderMaterial&&!0===he.lights}(he),at.lightsStateVersion=mi,at.needsLights&&(er.ambientLightColor.value=Mt.state.ambient,er.lightProbe.value=Mt.state.probe,er.directionalLights.value=Mt.state.directional,er.directionalLightShadows.value=Mt.state.directionalShadow,er.spotLights.value=Mt.state.spot,er.spotLightShadows.value=Mt.state.spotShadow,er.rectAreaLights.value=Mt.state.rectArea,er.ltc_1.value=Mt.state.rectAreaLTC1,er.ltc_2.value=Mt.state.rectAreaLTC2,er.pointLights.value=Mt.state.point,er.pointLightShadows.value=Mt.state.pointShadow,er.hemisphereLights.value=Mt.state.hemi,er.directionalShadowMap.value=Mt.state.directionalShadowMap,er.directionalShadowMatrix.value=Mt.state.directionalShadowMatrix,er.spotShadowMap.value=Mt.state.spotShadowMap,er.spotShadowMatrix.value=Mt.state.spotShadowMatrix,er.pointShadowMap.value=Mt.state.pointShadowMap,er.pointShadowMatrix.value=Mt.state.pointShadowMatrix);const ms=Zi.getUniforms(),Ag=qM.seqWithValue(ms.seq,er);return at.currentProgram=Zi,at.uniformsList=Ag,Zi}function Woe(he,Qe){const ft=ce.get(he);ft.outputEncoding=Qe.outputEncoding,ft.instancing=Qe.instancing,ft.skinning=Qe.skinning,ft.morphTargets=Qe.morphTargets,ft.morphNormals=Qe.morphNormals,ft.morphColors=Qe.morphColors,ft.morphTargetsCount=Qe.morphTargetsCount,ft.numClippingPlanes=Qe.numClippingPlanes,ft.numIntersection=Qe.numClipIntersection,ft.vertexAlphas=Qe.vertexAlphas,ft.vertexTangents=Qe.vertexTangents,ft.toneMapping=Qe.toneMapping}wa.setAnimationLoop(function ri(he){Zt&&Zt(he)}),"undefined"!=typeof self&&wa.setContext(self),this.setAnimationLoop=function(he){Zt=he,cn.setAnimationLoop(he),null===he?wa.stop():wa.start()},cn.addEventListener("sessionstart",gr),cn.addEventListener("sessionend",mr),this.render=function(he,Qe){if(void 0===Qe||!0===Qe.isCamera){if(!0!==x){if(!0===he.autoUpdate&&he.updateMatrixWorld(),null===Qe.parent&&Qe.updateMatrixWorld(),!0===cn.enabled&&!0===cn.isPresenting&&(!0===cn.cameraAutoUpdate&&cn.updateCamera(Qe),Qe=cn.getCamera()),!0===he.isScene&&he.onBeforeRender(C,he,Qe,M),_=ue.get(he,b.length),_.init(),b.push(_),Z.multiplyMatrices(Qe.projectionMatrix,Qe.matrixWorldInverse),G.setFromProjectionMatrix(Z),j=this.localClippingEnabled,H=ie.init(this.clippingPlanes,j,Qe),v=In.get(he,y.length),v.init(),y.push(v),nh(he,Qe,0,C.sortObjects),v.finish(),!0===C.sortObjects&&v.sort($,Y),!0===H&&ie.beginShadows(),it.render(_.state.shadowsArray,he,Qe),!0===H&&ie.endShadows(),!0===this.info.autoReset&&this.info.reset(),vt.render(v,he),_.setupLights(C.physicallyCorrectLights),Qe.isArrayCamera){const at=Qe.cameras;for(let Mt=0,Jn=at.length;Mt<Jn;Mt++){const mi=at[Mt];Goe(v,he,mi,mi.viewport)}}else Goe(v,he,Qe);null!==M&&(Oe.updateMultisampleRenderTarget(M),Oe.updateRenderTargetMipmap(M)),!0===he.isScene&&he.onAfterRender(C,he,Qe),Yt.resetDefaultState(),T=-1,E=null,b.pop(),_=b.length>0?b[b.length-1]:null,y.pop(),v=y.length>0?y[y.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(he,Qe,ft){ce.get(he.texture).__webglTexture=Qe,ce.get(he.depthTexture).__webglTexture=ft;const at=ce.get(he);at.__hasExternalTextures=!0,at.__hasExternalTextures&&(at.__autoAllocateDepthBuffer=void 0===ft,at.__autoAllocateDepthBuffer||!0===He.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),at.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(he,Qe){const ft=ce.get(he);ft.__webglFramebuffer=Qe,ft.__useDefaultFramebuffer=void 0===Qe},this.setRenderTarget=function(he,Qe=0,ft=0){M=he,w=Qe,S=ft;let at=!0;if(he){const Si=ce.get(he);void 0!==Si.__useDefaultFramebuffer?(Ie.bindFramebuffer(36160,null),at=!1):void 0===Si.__webglFramebuffer?Oe.setupRenderTarget(he):Si.__hasExternalTextures&&Oe.rebindTextures(he,ce.get(he.texture).__webglTexture,ce.get(he.depthTexture).__webglTexture)}let Mt=null,Jn=!1,mi=!1;if(he){const Si=he.texture;(Si.isData3DTexture||Si.isDataArrayTexture)&&(mi=!0);const vr=ce.get(he).__webglFramebuffer;he.isWebGLCubeRenderTarget?(Mt=vr[Qe],Jn=!0):Mt=ke.isWebGL2&&he.samples>0&&!1===Oe.useMultisampledRTT(he)?ce.get(he).__webglMultisampledFramebuffer:vr,k.copy(he.viewport),R.copy(he.scissor),D=he.scissorTest}else k.copy(O).multiplyScalar(L).floor(),R.copy(V).multiplyScalar(L).floor(),D=B;if(Ie.bindFramebuffer(36160,Mt)&&ke.drawBuffers&&at&&Ie.drawBuffers(he,Mt),Ie.viewport(k),Ie.scissor(R),Ie.setScissorTest(D),Jn){const Si=ce.get(he.texture);ge.framebufferTexture2D(36160,36064,34069+Qe,Si.__webglTexture,ft)}else if(mi){const Si=ce.get(he.texture);ge.framebufferTextureLayer(36160,36064,Si.__webglTexture,ft||0,Qe||0)}T=-1},this.readRenderTargetPixels=function(he,Qe,ft,at,Mt,Jn,mi){if(!he||!he.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ki=ce.get(he).__webglFramebuffer;if(he.isWebGLCubeRenderTarget&&void 0!==mi&&(ki=ki[mi]),ki){Ie.bindFramebuffer(36160,ki);try{const Si=he.texture,vr=Si.format,Zi=Si.type;if(vr!==Gc&&$e.convert(vr)!==ge.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const er=Zi===Xb&&(He.has("EXT_color_buffer_half_float")||ke.isWebGL2&&He.has("EXT_color_buffer_float"));if(!(Zi===ng||$e.convert(Zi)===ge.getParameter(35738)||Zi===hf&&(ke.isWebGL2||He.has("OES_texture_float")||He.has("WEBGL_color_buffer_float"))||er))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Qe>=0&&Qe<=he.width-at&&ft>=0&&ft<=he.height-Mt&&ge.readPixels(Qe,ft,at,Mt,$e.convert(vr),$e.convert(Zi),Jn)}finally{const Si=null!==M?ce.get(M).__webglFramebuffer:null;Ie.bindFramebuffer(36160,Si)}}},this.copyFramebufferToTexture=function(he,Qe,ft=0){const at=Math.pow(2,-ft),Mt=Math.floor(Qe.image.width*at),Jn=Math.floor(Qe.image.height*at);Oe.setTexture2D(Qe,0),ge.copyTexSubImage2D(3553,ft,0,0,he.x,he.y,Mt,Jn),Ie.unbindTexture()},this.copyTextureToTexture=function(he,Qe,ft,at=0){const Mt=Qe.image.width,Jn=Qe.image.height,mi=$e.convert(ft.format),ki=$e.convert(ft.type);Oe.setTexture2D(ft,0),ge.pixelStorei(37440,ft.flipY),ge.pixelStorei(37441,ft.premultiplyAlpha),ge.pixelStorei(3317,ft.unpackAlignment),Qe.isDataTexture?ge.texSubImage2D(3553,at,he.x,he.y,Mt,Jn,mi,ki,Qe.image.data):Qe.isCompressedTexture?ge.compressedTexSubImage2D(3553,at,he.x,he.y,Qe.mipmaps[0].width,Qe.mipmaps[0].height,mi,Qe.mipmaps[0].data):ge.texSubImage2D(3553,at,he.x,he.y,mi,ki,Qe.image),0===at&&ft.generateMipmaps&&ge.generateMipmap(3553),Ie.unbindTexture()},this.copyTextureToTexture3D=function(he,Qe,ft,at,Mt=0){if(C.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Jn=he.max.x-he.min.x+1,mi=he.max.y-he.min.y+1,ki=he.max.z-he.min.z+1,Si=$e.convert(at.format),vr=$e.convert(at.type);let Zi;if(at.isData3DTexture)Oe.setTexture3D(at,0),Zi=32879;else{if(!at.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Oe.setTexture2DArray(at,0),Zi=35866}ge.pixelStorei(37440,at.flipY),ge.pixelStorei(37441,at.premultiplyAlpha),ge.pixelStorei(3317,at.unpackAlignment);const er=ge.getParameter(3314),ms=ge.getParameter(32878),Ag=ge.getParameter(3316),__=ge.getParameter(3315),y_=ge.getParameter(32877),ih=ft.isCompressedTexture?ft.mipmaps[0]:ft.image;ge.pixelStorei(3314,ih.width),ge.pixelStorei(32878,ih.height),ge.pixelStorei(3316,he.min.x),ge.pixelStorei(3315,he.min.y),ge.pixelStorei(32877,he.min.z),ft.isDataTexture||ft.isData3DTexture?ge.texSubImage3D(Zi,Mt,Qe.x,Qe.y,Qe.z,Jn,mi,ki,Si,vr,ih.data):ft.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ge.compressedTexSubImage3D(Zi,Mt,Qe.x,Qe.y,Qe.z,Jn,mi,ki,Si,ih.data)):ge.texSubImage3D(Zi,Mt,Qe.x,Qe.y,Qe.z,Jn,mi,ki,Si,vr,ih),ge.pixelStorei(3314,er),ge.pixelStorei(32878,ms),ge.pixelStorei(3316,Ag),ge.pixelStorei(3315,__),ge.pixelStorei(32877,y_),0===Mt&&at.generateMipmaps&&ge.generateMipmap(Zi),Ie.unbindTexture()},this.initTexture=function(he){he.isCubeTexture?Oe.setTextureCube(he,0):he.isData3DTexture?Oe.setTexture3D(he,0):he.isDataArrayTexture?Oe.setTexture2DArray(he,0):Oe.setTexture2D(he,0),Ie.unbindTexture()},this.resetState=function(){w=0,S=0,M=null,Ie.reset(),Yt.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class qWe extends Gne{}).prototype.isWebGL1Renderer=!0;class sx extends Sl{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(a,o){return super.copy(a,o),null!==a.background&&(this.background=a.background.clone()),null!==a.environment&&(this.environment=a.environment.clone()),null!==a.fog&&(this.fog=a.fog.clone()),null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone()),this.autoUpdate=a.autoUpdate,this.matrixAutoUpdate=a.matrixAutoUpdate,this}toJSON(a){const o=super.toJSON(a);return null!==this.fog&&(o.object.fog=this.fog.toJSON()),o}}class n_ extends $u{constructor(a=null,o=1,c=1,u,h,d,f,p,g=Ks,m=Ks,v,_){super(null,d,f,p,g,m,u,h,v,_),this.isDataTexture=!0,this.image={data:a,width:o,height:c},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class fie extends $u{constructor(a,o,c,u,h,d,f,p,g){super(a,o,c,u,h,d,f,p,g),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Yu{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(a,o){const c=this.getUtoTmapping(a);return this.getPoint(c,o)}getPoints(a=5){const o=[];for(let c=0;c<=a;c++)o.push(this.getPoint(c/a));return o}getSpacedPoints(a=5){const o=[];for(let c=0;c<=a;c++)o.push(this.getPointAt(c/a));return o}getLength(){const a=this.getLengths();return a[a.length-1]}getLengths(a=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const o=[];let c,u=this.getPoint(0),h=0;o.push(0);for(let d=1;d<=a;d++)c=this.getPoint(d/a),h+=c.distanceTo(u),o.push(h),u=c;return this.cacheArcLengths=o,o}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(a,o){const c=this.getLengths();let u=0;const h=c.length;let d;d=o||a*c[h-1];let g,f=0,p=h-1;for(;f<=p;)if(u=Math.floor(f+(p-f)/2),g=c[u]-d,g<0)f=u+1;else{if(!(g>0)){p=u;break}p=u-1}if(u=p,c[u]===d)return u/(h-1);const m=c[u];return(u+(d-m)/(c[u+1]-m))/(h-1)}getTangent(a,o){let u=a-1e-4,h=a+1e-4;u<0&&(u=0),h>1&&(h=1);const d=this.getPoint(u),f=this.getPoint(h),p=o||(d.isVector2?new ut:new ee);return p.copy(f).sub(d).normalize(),p}getTangentAt(a,o){const c=this.getUtoTmapping(a);return this.getTangent(c,o)}computeFrenetFrames(a,o){const c=new ee,u=[],h=[],d=[],f=new ee,p=new Qn;for(let y=0;y<=a;y++)u[y]=this.getTangentAt(y/a,new ee);h[0]=new ee,d[0]=new ee;let g=Number.MAX_VALUE;const m=Math.abs(u[0].x),v=Math.abs(u[0].y),_=Math.abs(u[0].z);m<=g&&(g=m,c.set(1,0,0)),v<=g&&(g=v,c.set(0,1,0)),_<=g&&c.set(0,0,1),f.crossVectors(u[0],c).normalize(),h[0].crossVectors(u[0],f),d[0].crossVectors(u[0],h[0]);for(let y=1;y<=a;y++){if(h[y]=h[y-1].clone(),d[y]=d[y-1].clone(),f.crossVectors(u[y-1],u[y]),f.length()>Number.EPSILON){f.normalize();const b=Math.acos(bs(u[y-1].dot(u[y]),-1,1));h[y].applyMatrix4(p.makeRotationAxis(f,b))}d[y].crossVectors(u[y],h[y])}if(!0===o){let y=Math.acos(bs(h[0].dot(h[a]),-1,1));y/=a,u[0].dot(f.crossVectors(h[0],h[a]))>0&&(y=-y);for(let b=1;b<=a;b++)h[b].applyMatrix4(p.makeRotationAxis(u[b],y*b)),d[b].crossVectors(u[b],h[b])}return{tangents:u,normals:h,binormals:d}}clone(){return(new this.constructor).copy(this)}copy(a){return this.arcLengthDivisions=a.arcLengthDivisions,this}toJSON(){const a={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return a.arcLengthDivisions=this.arcLengthDivisions,a.type=this.type,a}fromJSON(a){return this.arcLengthDivisions=a.arcLengthDivisions,this}}class AB extends Yu{constructor(a=0,o=0,c=1,u=1,h=0,d=2*Math.PI,f=!1,p=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=a,this.aY=o,this.xRadius=c,this.yRadius=u,this.aStartAngle=h,this.aEndAngle=d,this.aClockwise=f,this.aRotation=p}getPoint(a,o){const c=o||new ut,u=2*Math.PI;let h=this.aEndAngle-this.aStartAngle;const d=Math.abs(h)<Number.EPSILON;for(;h<0;)h+=u;for(;h>u;)h-=u;h<Number.EPSILON&&(h=d?0:u),!0===this.aClockwise&&!d&&(h===u?h=-u:h-=u);const f=this.aStartAngle+a*h;let p=this.aX+this.xRadius*Math.cos(f),g=this.aY+this.yRadius*Math.sin(f);if(0!==this.aRotation){const m=Math.cos(this.aRotation),v=Math.sin(this.aRotation),_=p-this.aX,y=g-this.aY;p=_*m-y*v+this.aX,g=_*v+y*m+this.aY}return c.set(p,g)}copy(a){return super.copy(a),this.aX=a.aX,this.aY=a.aY,this.xRadius=a.xRadius,this.yRadius=a.yRadius,this.aStartAngle=a.aStartAngle,this.aEndAngle=a.aEndAngle,this.aClockwise=a.aClockwise,this.aRotation=a.aRotation,this}toJSON(){const a=super.toJSON();return a.aX=this.aX,a.aY=this.aY,a.xRadius=this.xRadius,a.yRadius=this.yRadius,a.aStartAngle=this.aStartAngle,a.aEndAngle=this.aEndAngle,a.aClockwise=this.aClockwise,a.aRotation=this.aRotation,a}fromJSON(a){return super.fromJSON(a),this.aX=a.aX,this.aY=a.aY,this.xRadius=a.xRadius,this.yRadius=a.yRadius,this.aStartAngle=a.aStartAngle,this.aEndAngle=a.aEndAngle,this.aClockwise=a.aClockwise,this.aRotation=a.aRotation,this}}function IB(){let l=0,a=0,o=0,c=0;function u(h,d,f,p){l=h,a=f,o=-3*h+3*d-2*f-p,c=2*h-2*d+f+p}return{initCatmullRom:function(h,d,f,p,g){u(d,f,g*(f-h),g*(p-d))},initNonuniformCatmullRom:function(h,d,f,p,g,m,v){let _=(d-h)/g-(f-h)/(g+m)+(f-d)/m,y=(f-d)/m-(p-d)/(m+v)+(p-f)/v;_*=m,y*=m,u(d,f,_,y)},calc:function(h){const d=h*h;return l+a*h+o*d+c*(d*h)}}}const iD=new ee,PB=new IB,OB=new IB,RB=new IB;class pie extends Yu{constructor(a=[],o=!1,c="centripetal",u=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=a,this.closed=o,this.curveType=c,this.tension=u}getPoint(a,o=new ee){const c=o,u=this.points,h=u.length,d=(h-(this.closed?0:1))*a;let g,m,f=Math.floor(d),p=d-f;this.closed?f+=f>0?0:(Math.floor(Math.abs(f)/h)+1)*h:0===p&&f===h-1&&(f=h-2,p=1),this.closed||f>0?g=u[(f-1)%h]:(iD.subVectors(u[0],u[1]).add(u[0]),g=iD);const v=u[f%h],_=u[(f+1)%h];if(this.closed||f+2<h?m=u[(f+2)%h]:(iD.subVectors(u[h-1],u[h-2]).add(u[h-1]),m=iD),"centripetal"===this.curveType||"chordal"===this.curveType){const y="chordal"===this.curveType?.5:.25;let b=Math.pow(g.distanceToSquared(v),y),C=Math.pow(v.distanceToSquared(_),y),x=Math.pow(_.distanceToSquared(m),y);C<1e-4&&(C=1),b<1e-4&&(b=C),x<1e-4&&(x=C),PB.initNonuniformCatmullRom(g.x,v.x,_.x,m.x,b,C,x),OB.initNonuniformCatmullRom(g.y,v.y,_.y,m.y,b,C,x),RB.initNonuniformCatmullRom(g.z,v.z,_.z,m.z,b,C,x)}else"catmullrom"===this.curveType&&(PB.initCatmullRom(g.x,v.x,_.x,m.x,this.tension),OB.initCatmullRom(g.y,v.y,_.y,m.y,this.tension),RB.initCatmullRom(g.z,v.z,_.z,m.z,this.tension));return c.set(PB.calc(p),OB.calc(p),RB.calc(p)),c}copy(a){super.copy(a),this.points=[];for(let o=0,c=a.points.length;o<c;o++)this.points.push(a.points[o].clone());return this.closed=a.closed,this.curveType=a.curveType,this.tension=a.tension,this}toJSON(){const a=super.toJSON();a.points=[];for(let o=0,c=this.points.length;o<c;o++)a.points.push(this.points[o].toArray());return a.closed=this.closed,a.curveType=this.curveType,a.tension=this.tension,a}fromJSON(a){super.fromJSON(a),this.points=[];for(let o=0,c=a.points.length;o<c;o++){const u=a.points[o];this.points.push((new ee).fromArray(u))}return this.closed=a.closed,this.curveType=a.curveType,this.tension=a.tension,this}}function gie(l,a,o,c,u){const h=.5*(c-a),d=.5*(u-o),f=l*l;return(2*o-2*c+h+d)*(l*f)+(-3*o+3*c-2*h-d)*f+h*l+o}function hx(l,a,o,c){return function rje(l,a){const o=1-l;return o*o*a}(l,a)+function sje(l,a){return 2*(1-l)*l*a}(l,o)+function oje(l,a){return l*l*a}(l,c)}function dx(l,a,o,c,u){return function aje(l,a){const o=1-l;return o*o*o*a}(l,a)+function lje(l,a){const o=1-l;return 3*o*o*l*a}(l,o)+function cje(l,a){return 3*(1-l)*l*l*a}(l,c)+function uje(l,a){return l*l*l*a}(l,u)}class mie extends Yu{constructor(a=new ut,o=new ut,c=new ut,u=new ut){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=a,this.v1=o,this.v2=c,this.v3=u}getPoint(a,o=new ut){const c=o,u=this.v0,h=this.v1,d=this.v2,f=this.v3;return c.set(dx(a,u.x,h.x,d.x,f.x),dx(a,u.y,h.y,d.y,f.y)),c}copy(a){return super.copy(a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this.v3.copy(a.v3),this}toJSON(){const a=super.toJSON();return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a.v3=this.v3.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this.v3.fromArray(a.v3),this}}class FB extends Yu{constructor(a=new ut,o=new ut){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=a,this.v2=o}getPoint(a,o=new ut){const c=o;return 1===a?c.copy(this.v2):(c.copy(this.v2).sub(this.v1),c.multiplyScalar(a).add(this.v1)),c}getPointAt(a,o){return this.getPoint(a,o)}getTangent(a,o){const c=o||new ut;return c.copy(this.v2).sub(this.v1).normalize(),c}copy(a){return super.copy(a),this.v1.copy(a.v1),this.v2.copy(a.v2),this}toJSON(){const a=super.toJSON();return a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this}}class vie extends Yu{constructor(a=new ut,o=new ut,c=new ut){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=a,this.v1=o,this.v2=c}getPoint(a,o=new ut){const c=o,u=this.v0,h=this.v1,d=this.v2;return c.set(hx(a,u.x,h.x,d.x),hx(a,u.y,h.y,d.y)),c}copy(a){return super.copy(a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this}toJSON(){const a=super.toJSON();return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this}}class yie extends Yu{constructor(a=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=a}getPoint(a,o=new ut){const c=o,u=this.points,h=(u.length-1)*a,d=Math.floor(h),f=h-d,p=u[0===d?d:d-1],g=u[d],m=u[d>u.length-2?u.length-1:d+1],v=u[d>u.length-3?u.length-1:d+2];return c.set(gie(f,p.x,g.x,m.x,v.x),gie(f,p.y,g.y,m.y,v.y)),c}copy(a){super.copy(a),this.points=[];for(let o=0,c=a.points.length;o<c;o++)this.points.push(a.points[o].clone());return this}toJSON(){const a=super.toJSON();a.points=[];for(let o=0,c=this.points.length;o<c;o++)a.points.push(this.points[o].toArray());return a}fromJSON(a){super.fromJSON(a),this.points=[];for(let o=0,c=a.points.length;o<c;o++){const u=a.points[o];this.points.push((new ut).fromArray(u))}return this}}var LB=Object.freeze({__proto__:null,ArcCurve:class ije extends AB{constructor(a,o,c,u,h,d){super(a,o,c,c,u,h,d),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:pie,CubicBezierCurve:mie,CubicBezierCurve3:class hje extends Yu{constructor(a=new ee,o=new ee,c=new ee,u=new ee){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=a,this.v1=o,this.v2=c,this.v3=u}getPoint(a,o=new ee){const c=o,u=this.v0,h=this.v1,d=this.v2,f=this.v3;return c.set(dx(a,u.x,h.x,d.x,f.x),dx(a,u.y,h.y,d.y,f.y),dx(a,u.z,h.z,d.z,f.z)),c}copy(a){return super.copy(a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this.v3.copy(a.v3),this}toJSON(){const a=super.toJSON();return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a.v3=this.v3.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this.v3.fromArray(a.v3),this}},EllipseCurve:AB,LineCurve:FB,LineCurve3:class dje extends Yu{constructor(a=new ee,o=new ee){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=a,this.v2=o}getPoint(a,o=new ee){const c=o;return 1===a?c.copy(this.v2):(c.copy(this.v2).sub(this.v1),c.multiplyScalar(a).add(this.v1)),c}getPointAt(a,o){return this.getPoint(a,o)}copy(a){return super.copy(a),this.v1.copy(a.v1),this.v2.copy(a.v2),this}toJSON(){const a=super.toJSON();return a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this}},QuadraticBezierCurve:vie,QuadraticBezierCurve3:class _ie extends Yu{constructor(a=new ee,o=new ee,c=new ee){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=a,this.v1=o,this.v2=c}getPoint(a,o=new ee){const c=o,u=this.v0,h=this.v1,d=this.v2;return c.set(hx(a,u.x,h.x,d.x),hx(a,u.y,h.y,d.y),hx(a,u.z,h.z,d.z)),c}copy(a){return super.copy(a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this}toJSON(){const a=super.toJSON();return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a}fromJSON(a){return super.fromJSON(a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this}},SplineCurve:yie});class fje extends Yu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(a){this.curves.push(a)}closePath(){const a=this.curves[0].getPoint(0),o=this.curves[this.curves.length-1].getPoint(1);a.equals(o)||this.curves.push(new FB(o,a))}getPoint(a,o){const c=a*this.getLength(),u=this.getCurveLengths();let h=0;for(;h<u.length;){if(u[h]>=c){const d=u[h]-c,f=this.curves[h],p=f.getLength();return f.getPointAt(0===p?0:1-d/p,o)}h++}return null}getLength(){const a=this.getCurveLengths();return a[a.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const a=[];let o=0;for(let c=0,u=this.curves.length;c<u;c++)o+=this.curves[c].getLength(),a.push(o);return this.cacheLengths=a,a}getSpacedPoints(a=40){const o=[];for(let c=0;c<=a;c++)o.push(this.getPoint(c/a));return this.autoClose&&o.push(o[0]),o}getPoints(a=12){const o=[];let c;for(let u=0,h=this.curves;u<h.length;u++){const d=h[u],p=d.getPoints(d.isEllipseCurve?2*a:d.isLineCurve||d.isLineCurve3?1:d.isSplineCurve?a*d.points.length:a);for(let g=0;g<p.length;g++){const m=p[g];c&&c.equals(m)||(o.push(m),c=m)}}return this.autoClose&&o.length>1&&!o[o.length-1].equals(o[0])&&o.push(o[0]),o}copy(a){super.copy(a),this.curves=[];for(let o=0,c=a.curves.length;o<c;o++)this.curves.push(a.curves[o].clone());return this.autoClose=a.autoClose,this}toJSON(){const a=super.toJSON();a.autoClose=this.autoClose,a.curves=[];for(let o=0,c=this.curves.length;o<c;o++)a.curves.push(this.curves[o].toJSON());return a}fromJSON(a){super.fromJSON(a),this.autoClose=a.autoClose,this.curves=[];for(let o=0,c=a.curves.length;o<c;o++){const u=a.curves[o];this.curves.push((new LB[u.type]).fromJSON(u))}return this}}class mg extends fje{constructor(a){super(),this.type="Path",this.currentPoint=new ut,a&&this.setFromPoints(a)}setFromPoints(a){this.moveTo(a[0].x,a[0].y);for(let o=1,c=a.length;o<c;o++)this.lineTo(a[o].x,a[o].y);return this}moveTo(a,o){return this.currentPoint.set(a,o),this}lineTo(a,o){const c=new FB(this.currentPoint.clone(),new ut(a,o));return this.curves.push(c),this.currentPoint.set(a,o),this}quadraticCurveTo(a,o,c,u){const h=new vie(this.currentPoint.clone(),new ut(a,o),new ut(c,u));return this.curves.push(h),this.currentPoint.set(c,u),this}bezierCurveTo(a,o,c,u,h,d){const f=new mie(this.currentPoint.clone(),new ut(a,o),new ut(c,u),new ut(h,d));return this.curves.push(f),this.currentPoint.set(h,d),this}splineThru(a){const o=[this.currentPoint.clone()].concat(a),c=new yie(o);return this.curves.push(c),this.currentPoint.copy(a[a.length-1]),this}arc(a,o,c,u,h,d){return this.absarc(a+this.currentPoint.x,o+this.currentPoint.y,c,u,h,d),this}absarc(a,o,c,u,h,d){return this.absellipse(a,o,c,c,u,h,d),this}ellipse(a,o,c,u,h,d,f,p){return this.absellipse(a+this.currentPoint.x,o+this.currentPoint.y,c,u,h,d,f,p),this}absellipse(a,o,c,u,h,d,f,p){const g=new AB(a,o,c,u,h,d,f,p);if(this.curves.length>0){const v=g.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(g);const m=g.getPoint(1);return this.currentPoint.copy(m),this}copy(a){return super.copy(a),this.currentPoint.copy(a.currentPoint),this}toJSON(){const a=super.toJSON();return a.currentPoint=this.currentPoint.toArray(),a}fromJSON(a){return super.fromJSON(a),this.currentPoint.fromArray(a.currentPoint),this}}class yf extends gi{constructor(a=[],o=[],c=1,u=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:a,indices:o,radius:c,detail:u};const h=[],d=[];function p(S,M,T,E){const k=E+1,R=[];for(let D=0;D<=k;D++){R[D]=[];const P=S.clone().lerp(T,D/k),F=M.clone().lerp(T,D/k),L=k-D;for(let $=0;$<=L;$++)R[D][$]=0===$&&D===k?P:P.clone().lerp(F,$/L)}for(let D=0;D<k;D++)for(let P=0;P<2*(k-D)-1;P++){const F=Math.floor(P/2);P%2==0?(_(R[D][F+1]),_(R[D+1][F]),_(R[D][F])):(_(R[D][F+1]),_(R[D+1][F+1]),_(R[D+1][F]))}}function _(S){h.push(S.x,S.y,S.z)}function y(S,M){const T=3*S;M.x=a[T+0],M.y=a[T+1],M.z=a[T+2]}function C(S,M,T,E){E<0&&1===S.x&&(d[M]=S.x-1),0===T.x&&0===T.z&&(d[M]=E/2/Math.PI+.5)}function x(S){return Math.atan2(S.z,-S.x)}function w(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}(function f(S){const M=new ee,T=new ee,E=new ee;for(let k=0;k<o.length;k+=3)y(o[k+0],M),y(o[k+1],T),y(o[k+2],E),p(M,T,E,S)})(u),function g(S){const M=new ee;for(let T=0;T<h.length;T+=3)M.x=h[T+0],M.y=h[T+1],M.z=h[T+2],M.normalize().multiplyScalar(S),h[T+0]=M.x,h[T+1]=M.y,h[T+2]=M.z}(c),function m(){const S=new ee;for(let M=0;M<h.length;M+=3){S.x=h[M+0],S.y=h[M+1],S.z=h[M+2];const T=x(S)/2/Math.PI+.5,E=w(S)/Math.PI+.5;d.push(T,1-E)}(function b(){const S=new ee,M=new ee,T=new ee,E=new ee,k=new ut,R=new ut,D=new ut;for(let P=0,F=0;P<h.length;P+=9,F+=6){S.set(h[P+0],h[P+1],h[P+2]),M.set(h[P+3],h[P+4],h[P+5]),T.set(h[P+6],h[P+7],h[P+8]),k.set(d[F+0],d[F+1]),R.set(d[F+2],d[F+3]),D.set(d[F+4],d[F+5]),E.copy(S).add(M).add(T).divideScalar(3);const L=x(E);C(k,F+0,S,L),C(R,F+2,M,L),C(D,F+4,T,L)}})(),function v(){for(let S=0;S<d.length;S+=6){const M=d[S+0],T=d[S+2],E=d[S+4],k=Math.max(M,T,E),R=Math.min(M,T,E);k>.9&&R<.1&&(M<.2&&(d[S+0]+=1),T<.2&&(d[S+2]+=1),E<.2&&(d[S+4]+=1))}}()}(),this.setAttribute("position",new yn(h,3)),this.setAttribute("normal",new yn(h.slice(),3)),this.setAttribute("uv",new yn(d,2)),0===u?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(a){return new yf(a.vertices,a.indices,a.radius,a.details)}}class ed extends mg{constructor(a){super(a),this.uuid=xl(),this.type="Shape",this.holes=[]}getPointsHoles(a){const o=[];for(let c=0,u=this.holes.length;c<u;c++)o[c]=this.holes[c].getPoints(a);return o}extractPoints(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}}copy(a){super.copy(a),this.holes=[];for(let o=0,c=a.holes.length;o<c;o++)this.holes.push(a.holes[o].clone());return this}toJSON(){const a=super.toJSON();a.uuid=this.uuid,a.holes=[];for(let o=0,c=this.holes.length;o<c;o++)a.holes.push(this.holes[o].toJSON());return a}fromJSON(a){super.fromJSON(a),this.uuid=a.uuid,this.holes=[];for(let o=0,c=a.holes.length;o<c;o++){const u=a.holes[o];this.holes.push((new mg).fromJSON(u))}return this}}function bie(l,a,o,c,u){let h,d;if(u===function Ije(l,a,o,c){let u=0;for(let h=a,d=o-c;h<o;h+=c)u+=(l[d]-l[h])*(l[h+1]+l[d+1]),d=h;return u}(l,a,o,c)>0)for(h=a;h<o;h+=c)d=wie(h,l[h],l[h+1],d);else for(h=o-c;h>=a;h-=c)d=wie(h,l[h],l[h+1],d);return d&&hD(d,d.next)&&(mx(d),d=d.next),d}function bf(l,a){if(!l)return l;a||(a=l);let c,o=l;do{if(c=!1,o.steiner||!hD(o,o.next)&&0!==es(o.prev,o,o.next))o=o.next;else{if(mx(o),o=a=o.prev,o===o.next)break;c=!0}}while(c||o!==a);return a}function px(l,a,o,c,u,h,d){if(!l)return;!d&&h&&function Tje(l,a,o,c){let u=l;do{null===u.z&&(u.z=BB(u.x,u.y,a,o,c)),u.prevZ=u.prev,u.nextZ=u.next,u=u.next}while(u!==l);u.prevZ.nextZ=null,u.prevZ=null,function Mje(l){let a,o,c,u,h,d,f,p,g=1;do{for(o=l,l=null,h=null,d=0;o;){for(d++,c=o,f=0,a=0;a<g&&(f++,c=c.nextZ,c);a++);for(p=g;f>0||p>0&&c;)0!==f&&(0===p||!c||o.z<=c.z)?(u=o,o=o.nextZ,f--):(u=c,c=c.nextZ,p--),h?h.nextZ=u:l=u,u.prevZ=h,h=u;o=c}h.nextZ=null,g*=2}while(d>1)}(u)}(l,c,u,h);let p,g,f=l;for(;l.prev!==l.next;)if(p=l.prev,g=l.next,h?vje(l,c,u,h):mje(l))a.push(p.i/o),a.push(l.i/o),a.push(g.i/o),mx(l),l=g.next,f=g.next;else if((l=g)===f){d?1===d?px(l=_je(bf(l),a,o),a,o,c,u,h,2):2===d&&yje(l,a,o,c,u,h):px(bf(l),a,o,c,u,h,1);break}}function mje(l){const a=l.prev,o=l,c=l.next;if(es(a,o,c)>=0)return!1;let u=l.next.next;for(;u!==l.prev;){if(r_(a.x,a.y,o.x,o.y,c.x,c.y,u.x,u.y)&&es(u.prev,u,u.next)>=0)return!1;u=u.next}return!0}function vje(l,a,o,c){const u=l.prev,h=l,d=l.next;if(es(u,h,d)>=0)return!1;const g=u.x>h.x?u.x>d.x?u.x:d.x:h.x>d.x?h.x:d.x,m=u.y>h.y?u.y>d.y?u.y:d.y:h.y>d.y?h.y:d.y,v=BB(u.x<h.x?u.x<d.x?u.x:d.x:h.x<d.x?h.x:d.x,u.y<h.y?u.y<d.y?u.y:d.y:h.y<d.y?h.y:d.y,a,o,c),_=BB(g,m,a,o,c);let y=l.prevZ,b=l.nextZ;for(;y&&y.z>=v&&b&&b.z<=_;){if(y!==l.prev&&y!==l.next&&r_(u.x,u.y,h.x,h.y,d.x,d.y,y.x,y.y)&&es(y.prev,y,y.next)>=0||(y=y.prevZ,b!==l.prev&&b!==l.next&&r_(u.x,u.y,h.x,h.y,d.x,d.y,b.x,b.y)&&es(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;y&&y.z>=v;){if(y!==l.prev&&y!==l.next&&r_(u.x,u.y,h.x,h.y,d.x,d.y,y.x,y.y)&&es(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=_;){if(b!==l.prev&&b!==l.next&&r_(u.x,u.y,h.x,h.y,d.x,d.y,b.x,b.y)&&es(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function _je(l,a,o){let c=l;do{const u=c.prev,h=c.next.next;!hD(u,h)&&xie(u,c,c.next,h)&&gx(u,h)&&gx(h,u)&&(a.push(u.i/o),a.push(c.i/o),a.push(h.i/o),mx(c),mx(c.next),c=l=h),c=c.next}while(c!==l);return bf(c)}function yje(l,a,o,c,u,h){let d=l;do{let f=d.next.next;for(;f!==d.prev;){if(d.i!==f.i&&Eje(d,f)){let p=Cie(d,f);return d=bf(d,d.next),p=bf(p,p.next),px(d,a,o,c,u,h),void px(p,a,o,c,u,h)}f=f.next}d=d.next}while(d!==l)}function xje(l,a){return l.x-a.x}function Cje(l,a){if(a=function wje(l,a){let o=a;const c=l.x,u=l.y;let d,h=-1/0;do{if(u<=o.y&&u>=o.next.y&&o.next.y!==o.y){const _=o.x+(u-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(_<=c&&_>h){if(h=_,_===c){if(u===o.y)return o;if(u===o.next.y)return o.next}d=o.x<o.next.x?o:o.next}}o=o.next}while(o!==a);if(!d)return null;if(c===h)return d;const f=d,p=d.x,g=d.y;let v,m=1/0;o=d;do{c>=o.x&&o.x>=p&&c!==o.x&&r_(u<g?c:h,u,p,g,u<g?h:c,u,o.x,o.y)&&(v=Math.abs(u-o.y)/(c-o.x),gx(o,l)&&(v<m||v===m&&(o.x>d.x||o.x===d.x&&Sje(d,o)))&&(d=o,m=v)),o=o.next}while(o!==f);return d}(l,a),a){const o=Cie(a,l);bf(a,a.next),bf(o,o.next)}}function Sje(l,a){return es(l.prev,l,a.prev)<0&&es(a.next,l,l.next)<0}function BB(l,a,o,c,u){return(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=32767*(l-o)*u)|l<<8))|l<<4))|l<<2))|l<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=32767*(a-c)*u)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function Dje(l){let a=l,o=l;do{(a.x<o.x||a.x===o.x&&a.y<o.y)&&(o=a),a=a.next}while(a!==l);return o}function r_(l,a,o,c,u,h,d,f){return(u-d)*(a-f)-(l-d)*(h-f)>=0&&(l-d)*(c-f)-(o-d)*(a-f)>=0&&(o-d)*(h-f)-(u-d)*(c-f)>=0}function Eje(l,a){return l.next.i!==a.i&&l.prev.i!==a.i&&!function kje(l,a){let o=l;do{if(o.i!==l.i&&o.next.i!==l.i&&o.i!==a.i&&o.next.i!==a.i&&xie(o,o.next,l,a))return!0;o=o.next}while(o!==l);return!1}(l,a)&&(gx(l,a)&&gx(a,l)&&function Aje(l,a){let o=l,c=!1;const u=(l.x+a.x)/2,h=(l.y+a.y)/2;do{o.y>h!=o.next.y>h&&o.next.y!==o.y&&u<(o.next.x-o.x)*(h-o.y)/(o.next.y-o.y)+o.x&&(c=!c),o=o.next}while(o!==l);return c}(l,a)&&(es(l.prev,l,a.prev)||es(l,a.prev,a))||hD(l,a)&&es(l.prev,l,l.next)>0&&es(a.prev,a,a.next)>0)}function es(l,a,o){return(a.y-l.y)*(o.x-a.x)-(a.x-l.x)*(o.y-a.y)}function hD(l,a){return l.x===a.x&&l.y===a.y}function xie(l,a,o,c){const u=fD(es(l,a,o)),h=fD(es(l,a,c)),d=fD(es(o,c,l)),f=fD(es(o,c,a));return!!(u!==h&&d!==f||0===u&&dD(l,o,a)||0===h&&dD(l,c,a)||0===d&&dD(o,l,c)||0===f&&dD(o,a,c))}function dD(l,a,o){return a.x<=Math.max(l.x,o.x)&&a.x>=Math.min(l.x,o.x)&&a.y<=Math.max(l.y,o.y)&&a.y>=Math.min(l.y,o.y)}function fD(l){return l>0?1:l<0?-1:0}function gx(l,a){return es(l.prev,l,l.next)<0?es(l,a,l.next)>=0&&es(l,l.prev,a)>=0:es(l,a,l.prev)<0||es(l,l.next,a)<0}function Cie(l,a){const o=new VB(l.i,l.x,l.y),c=new VB(a.i,a.x,a.y),u=l.next,h=a.prev;return l.next=a,a.prev=l,o.next=u,u.prev=o,c.next=o,o.prev=c,h.next=c,c.prev=h,c}function wie(l,a,o,c){const u=new VB(l,a,o);return c?(u.next=c.next,u.prev=c,c.next.prev=u,c.next=u):(u.prev=u,u.next=u),u}function mx(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function VB(l,a,o){this.i=l,this.x=a,this.y=o,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class td{static area(a){const o=a.length;let c=0;for(let u=o-1,h=0;h<o;u=h++)c+=a[u].x*a[h].y-a[h].x*a[u].y;return.5*c}static isClockWise(a){return td.area(a)<0}static triangulateShape(a,o){const c=[],u=[],h=[];Sie(a),Tie(c,a);let d=a.length;o.forEach(Sie);for(let p=0;p<o.length;p++)u.push(d),d+=o[p].length,Tie(c,o[p]);const f=function(l,a,o=2){const c=a&&a.length,u=c?a[0]*o:l.length;let h=bie(l,0,u,o,!0);const d=[];if(!h||h.next===h.prev)return d;let f,p,g,m,v,_,y;if(c&&(h=function bje(l,a,o,c){const u=[];let h,d,f,p,g;for(h=0,d=a.length;h<d;h++)f=a[h]*c,p=h<d-1?a[h+1]*c:l.length,g=bie(l,f,p,c,!1),g===g.next&&(g.steiner=!0),u.push(Dje(g));for(u.sort(xje),h=0;h<u.length;h++)Cje(u[h],o),o=bf(o,o.next);return o}(l,a,h,o)),l.length>80*o){f=g=l[0],p=m=l[1];for(let b=o;b<u;b+=o)v=l[b],_=l[b+1],v<f&&(f=v),_<p&&(p=_),v>g&&(g=v),_>m&&(m=_);y=Math.max(g-f,m-p),y=0!==y?1/y:0}return px(h,d,o,f,p,y),d}(c,u);for(let p=0;p<f.length;p+=3)h.push(f.slice(p,p+3));return h}}function Sie(l){const a=l.length;a>2&&l[a-1].equals(l[0])&&l.pop()}function Tie(l,a){for(let o=0;o<a.length;o++)l.push(a[o].x),l.push(a[o].y)}class s_ extends gi{constructor(a=new ed([new ut(.5,.5),new ut(-.5,.5),new ut(-.5,-.5),new ut(.5,-.5)]),o={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:a,options:o},a=Array.isArray(a)?a:[a];const c=this,u=[],h=[];for(let f=0,p=a.length;f<p;f++)d(a[f]);function d(f){const p=[],g=void 0!==o.curveSegments?o.curveSegments:12,m=void 0!==o.steps?o.steps:1;let v=void 0!==o.depth?o.depth:1,_=void 0===o.bevelEnabled||o.bevelEnabled,y=void 0!==o.bevelThickness?o.bevelThickness:.2,b=void 0!==o.bevelSize?o.bevelSize:y-.1,C=void 0!==o.bevelOffset?o.bevelOffset:0,x=void 0!==o.bevelSegments?o.bevelSegments:3;const w=o.extrudePath,S=void 0!==o.UVGenerator?o.UVGenerator:Pje;void 0!==o.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),v=o.amount);let M,E,k,R,D,T=!1;w&&(M=w.getSpacedPoints(m),T=!0,_=!1,E=w.computeFrenetFrames(m,!1),k=new ee,R=new ee,D=new ee),_||(x=0,y=0,b=0,C=0);const P=f.extractPoints(g);let F=P.shape;const L=P.holes;if(!td.isClockWise(F)){F=F.reverse();for(let ce=0,Oe=L.length;ce<Oe;ce++){const Ye=L[ce];td.isClockWise(Ye)&&(L[ce]=Ye.reverse())}}const Y=td.triangulateShape(F,L),O=F;for(let ce=0,Oe=L.length;ce<Oe;ce++)F=F.concat(L[ce]);function V(ce,Oe,Ye){return Oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),Oe.clone().multiplyScalar(Ye).add(ce)}const B=F.length,G=Y.length;function H(ce,Oe,Ye){let et,je,Se;const Ge=ce.x-Oe.x,zt=ce.y-Oe.y,hn=Ye.x-ce.x,In=Ye.y-ce.y,ue=Ge*Ge+zt*zt;if(Math.abs(Ge*In-zt*hn)>Number.EPSILON){const it=Math.sqrt(ue),vt=Math.sqrt(hn*hn+In*In),Ut=Oe.x-zt/it,Pt=Oe.y+Ge/it,Yt=((Ye.x-In/vt-Ut)*In-(Ye.y+hn/vt-Pt)*hn)/(Ge*In-zt*hn);et=Ut+Ge*Yt-ce.x,je=Pt+zt*Yt-ce.y;const Wt=et*et+je*je;if(Wt<=2)return new ut(et,je);Se=Math.sqrt(Wt/2)}else{let it=!1;Ge>Number.EPSILON?hn>Number.EPSILON&&(it=!0):Ge<-Number.EPSILON?hn<-Number.EPSILON&&(it=!0):Math.sign(zt)===Math.sign(In)&&(it=!0),it?(et=-zt,je=Ge,Se=Math.sqrt(ue)):(et=Ge,je=zt,Se=Math.sqrt(ue/2))}return new ut(et/Se,je/Se)}const j=[];for(let ce=0,Oe=O.length,Ye=Oe-1,et=ce+1;ce<Oe;ce++,Ye++,et++)Ye===Oe&&(Ye=0),et===Oe&&(et=0),j[ce]=H(O[ce],O[Ye],O[et]);const W=[];let Z,K=j.concat();for(let ce=0,Oe=L.length;ce<Oe;ce++){const Ye=L[ce];Z=[];for(let et=0,je=Ye.length,Se=je-1,Ge=et+1;et<je;et++,Se++,Ge++)Se===je&&(Se=0),Ge===je&&(Ge=0),Z[et]=H(Ye[et],Ye[Se],Ye[Ge]);W.push(Z),K=K.concat(Z)}for(let ce=0;ce<x;ce++){const Oe=ce/x,Ye=y*Math.cos(Oe*Math.PI/2),et=b*Math.sin(Oe*Math.PI/2)+C;for(let je=0,Se=O.length;je<Se;je++){const Ge=V(O[je],j[je],et);Me(Ge.x,Ge.y,-Ye)}for(let je=0,Se=L.length;je<Se;je++){const Ge=L[je];Z=W[je];for(let zt=0,hn=Ge.length;zt<hn;zt++){const In=V(Ge[zt],Z[zt],et);Me(In.x,In.y,-Ye)}}}const ae=b+C;for(let ce=0;ce<B;ce++){const Oe=_?V(F[ce],K[ce],ae):F[ce];T?(R.copy(E.normals[0]).multiplyScalar(Oe.x),k.copy(E.binormals[0]).multiplyScalar(Oe.y),D.copy(M[0]).add(R).add(k),Me(D.x,D.y,D.z)):Me(Oe.x,Oe.y,0)}for(let ce=1;ce<=m;ce++)for(let Oe=0;Oe<B;Oe++){const Ye=_?V(F[Oe],K[Oe],ae):F[Oe];T?(R.copy(E.normals[ce]).multiplyScalar(Ye.x),k.copy(E.binormals[ce]).multiplyScalar(Ye.y),D.copy(M[ce]).add(R).add(k),Me(D.x,D.y,D.z)):Me(Ye.x,Ye.y,v/m*ce)}for(let ce=x-1;ce>=0;ce--){const Oe=ce/x,Ye=y*Math.cos(Oe*Math.PI/2),et=b*Math.sin(Oe*Math.PI/2)+C;for(let je=0,Se=O.length;je<Se;je++){const Ge=V(O[je],j[je],et);Me(Ge.x,Ge.y,v+Ye)}for(let je=0,Se=L.length;je<Se;je++){const Ge=L[je];Z=W[je];for(let zt=0,hn=Ge.length;zt<hn;zt++){const In=V(Ge[zt],Z[zt],et);T?Me(In.x,In.y+M[m-1].y,M[m-1].x+Ye):Me(In.x,In.y,v+Ye)}}}function ge(ce,Oe){let Ye=ce.length;for(;--Ye>=0;){const et=Ye;let je=Ye-1;je<0&&(je=ce.length-1);for(let Se=0,Ge=m+2*x;Se<Ge;Se++){const zt=B*Se,hn=B*(Se+1);ke(Oe+et+zt,Oe+je+zt,Oe+je+hn,Oe+et+hn)}}}function Me(ce,Oe,Ye){p.push(ce),p.push(Oe),p.push(Ye)}function He(ce,Oe,Ye){Ie(ce),Ie(Oe),Ie(Ye);const et=u.length/3,je=S.generateTopUV(c,u,et-3,et-2,et-1);qe(je[0]),qe(je[1]),qe(je[2])}function ke(ce,Oe,Ye,et){Ie(ce),Ie(Oe),Ie(et),Ie(Oe),Ie(Ye),Ie(et);const je=u.length/3,Se=S.generateSideWallUV(c,u,je-6,je-3,je-2,je-1);qe(Se[0]),qe(Se[1]),qe(Se[3]),qe(Se[1]),qe(Se[2]),qe(Se[3])}function Ie(ce){u.push(p[3*ce+0]),u.push(p[3*ce+1]),u.push(p[3*ce+2])}function qe(ce){h.push(ce.x),h.push(ce.y)}(function re(){const ce=u.length/3;if(_){let Oe=0,Ye=B*Oe;for(let et=0;et<G;et++){const je=Y[et];He(je[2]+Ye,je[1]+Ye,je[0]+Ye)}Oe=m+2*x,Ye=B*Oe;for(let et=0;et<G;et++){const je=Y[et];He(je[0]+Ye,je[1]+Ye,je[2]+Ye)}}else{for(let Oe=0;Oe<G;Oe++){const Ye=Y[Oe];He(Ye[2],Ye[1],Ye[0])}for(let Oe=0;Oe<G;Oe++){const Ye=Y[Oe];He(Ye[0]+B*m,Ye[1]+B*m,Ye[2]+B*m)}}c.addGroup(ce,u.length/3-ce,0)})(),function xe(){const ce=u.length/3;let Oe=0;ge(O,Oe),Oe+=O.length;for(let Ye=0,et=L.length;Ye<et;Ye++){const je=L[Ye];ge(je,Oe),Oe+=je.length}c.addGroup(ce,u.length/3-ce,1)}()}this.setAttribute("position",new yn(u,3)),this.setAttribute("uv",new yn(h,2)),this.computeVertexNormals()}toJSON(){const a=super.toJSON();return function Oje(l,a,o){if(o.shapes=[],Array.isArray(l))for(let c=0,u=l.length;c<u;c++)o.shapes.push(l[c].uuid);else o.shapes.push(l.uuid);return o.options=Object.assign({},a),void 0!==a.extrudePath&&(o.options.extrudePath=a.extrudePath.toJSON()),o}(this.parameters.shapes,this.parameters.options,a)}static fromJSON(a,o){const c=[];for(let h=0,d=a.shapes.length;h<d;h++)c.push(o[a.shapes[h]]);const u=a.options.extrudePath;return void 0!==u&&(a.options.extrudePath=(new LB[u.type]).fromJSON(u)),new s_(c,a.options)}}const Pje={generateTopUV:function(l,a,o,c,u){const f=a[3*c],p=a[3*c+1],g=a[3*u],m=a[3*u+1];return[new ut(a[3*o],a[3*o+1]),new ut(f,p),new ut(g,m)]},generateSideWallUV:function(l,a,o,c,u,h){const d=a[3*o],f=a[3*o+1],p=a[3*o+2],g=a[3*c],m=a[3*c+1],v=a[3*c+2],_=a[3*u],y=a[3*u+1],b=a[3*u+2],C=a[3*h],x=a[3*h+1],w=a[3*h+2];return Math.abs(f-m)<Math.abs(d-g)?[new ut(d,1-p),new ut(g,1-v),new ut(_,1-b),new ut(C,1-w)]:[new ut(f,1-p),new ut(m,1-v),new ut(y,1-b),new ut(x,1-w)]}};class vx extends yf{constructor(a=1,o=0){const c=(1+Math.sqrt(5))/2;super([-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,o),this.type="IcosahedronGeometry",this.parameters={radius:a,detail:o}}static fromJSON(a){return new vx(a.radius,a.detail)}}class o_ extends gi{constructor(a=1,o=32,c=16,u=0,h=2*Math.PI,d=0,f=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:a,widthSegments:o,heightSegments:c,phiStart:u,phiLength:h,thetaStart:d,thetaLength:f},o=Math.max(3,Math.floor(o)),c=Math.max(2,Math.floor(c));const p=Math.min(d+f,Math.PI);let g=0;const m=[],v=new ee,_=new ee,y=[],b=[],C=[],x=[];for(let w=0;w<=c;w++){const S=[],M=w/c;let T=0;0==w&&0==d?T=.5/o:w==c&&p==Math.PI&&(T=-.5/o);for(let E=0;E<=o;E++){const k=E/o;v.x=-a*Math.cos(u+k*h)*Math.sin(d+M*f),v.y=a*Math.cos(d+M*f),v.z=a*Math.sin(u+k*h)*Math.sin(d+M*f),b.push(v.x,v.y,v.z),_.copy(v).normalize(),C.push(_.x,_.y,_.z),x.push(k+T,1-M),S.push(g++)}m.push(S)}for(let w=0;w<c;w++)for(let S=0;S<o;S++){const M=m[w][S+1],T=m[w][S],E=m[w+1][S],k=m[w+1][S+1];(0!==w||d>0)&&y.push(M,T,k),(w!==c-1||p<Math.PI)&&y.push(T,E,k)}this.setIndex(y),this.setAttribute("position",new yn(b,3)),this.setAttribute("normal",new yn(C,3)),this.setAttribute("uv",new yn(x,2))}static fromJSON(a){return new o_(a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength)}}class Eie extends dg{constructor(a){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new tn(16777215),this.specular=new tn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.specular.copy(a.specular),this.shininess=a.shininess,this.map=a.map,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.emissive.copy(a.emissive),this.emissiveMap=a.emissiveMap,this.emissiveIntensity=a.emissiveIntensity,this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalMapType=a.normalMapType,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.specularMap=a.specularMap,this.alphaMap=a.alphaMap,this.envMap=a.envMap,this.combine=a.combine,this.reflectivity=a.reflectivity,this.refractionRatio=a.refractionRatio,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.flatShading=a.flatShading,this.fog=a.fog,this}}class kie extends dg{constructor(a){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new tn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(a)}copy(a){return super.copy(a),this.color.copy(a.color),this.map=a.map,this.gradientMap=a.gradientMap,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.emissive.copy(a.emissive),this.emissiveMap=a.emissiveMap,this.emissiveIntensity=a.emissiveIntensity,this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalMapType=a.normalMapType,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.alphaMap=a.alphaMap,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.fog=a.fog,this}}const jr={arraySlice:function(l,a,o){return jr.isTypedArray(l)?new l.constructor(l.subarray(a,void 0!==o?o:l.length)):l.slice(a,o)},convertArray:function(l,a,o){return!l||!o&&l.constructor===a?l:"number"==typeof a.BYTES_PER_ELEMENT?new a(l):Array.prototype.slice.call(l)},isTypedArray:function(l){return ArrayBuffer.isView(l)&&!(l instanceof DataView)},getKeyframeOrder:function(l){const o=l.length,c=new Array(o);for(let u=0;u!==o;++u)c[u]=u;return c.sort(function a(u,h){return l[u]-l[h]}),c},sortedArray:function(l,a,o){const c=l.length,u=new l.constructor(c);for(let h=0,d=0;d!==c;++h){const f=o[h]*a;for(let p=0;p!==a;++p)u[d++]=l[f+p]}return u},flattenJSON:function(l,a,o,c){let u=1,h=l[0];for(;void 0!==h&&void 0===h[c];)h=l[u++];if(void 0===h)return;let d=h[c];if(void 0!==d)if(Array.isArray(d))do{d=h[c],void 0!==d&&(a.push(h.time),o.push.apply(o,d)),h=l[u++]}while(void 0!==h);else if(void 0!==d.toArray)do{d=h[c],void 0!==d&&(a.push(h.time),d.toArray(o,o.length)),h=l[u++]}while(void 0!==h);else do{d=h[c],void 0!==d&&(a.push(h.time),o.push(d)),h=l[u++]}while(void 0!==h)},subclip:function(l,a,o,c,u=30){const h=l.clone();h.name=a;const d=[];for(let p=0;p<h.tracks.length;++p){const g=h.tracks[p],m=g.getValueSize(),v=[],_=[];for(let y=0;y<g.times.length;++y){const b=g.times[y]*u;if(!(b<o||b>=c)){v.push(g.times[y]);for(let C=0;C<m;++C)_.push(g.values[y*m+C])}}0!==v.length&&(g.times=jr.convertArray(v,g.times.constructor),g.values=jr.convertArray(_,g.values.constructor),d.push(g))}h.tracks=d;let f=1/0;for(let p=0;p<h.tracks.length;++p)f>h.tracks[p].times[0]&&(f=h.tracks[p].times[0]);for(let p=0;p<h.tracks.length;++p)h.tracks[p].shift(-1*f);return h.resetDuration(),h},makeClipAdditive:function(l,a=0,o=l,c=30){c<=0&&(c=30);const u=o.tracks.length,h=a/c;for(let d=0;d<u;++d){const f=o.tracks[d],p=f.ValueTypeName;if("bool"===p||"string"===p)continue;const g=l.tracks.find(function(w){return w.name===f.name&&w.ValueTypeName===p});if(void 0===g)continue;let m=0;const v=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);let _=0;const y=g.getValueSize();g.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=y/3);const b=f.times.length-1;let C;if(h<=f.times[0])C=jr.arraySlice(f.values,m,v-m);else if(h>=f.times[b]){const w=b*v+m;C=jr.arraySlice(f.values,w,w+v-m)}else{const w=f.createInterpolant(),S=m,M=v-m;w.evaluate(h),C=jr.arraySlice(w.resultBuffer,S,M)}"quaternion"===p&&(new Cl).fromArray(C).normalize().conjugate().toArray(C);const x=g.times.length;for(let w=0;w<x;++w){const S=w*y+_;if("quaternion"===p)Cl.multiplyQuaternionsFlat(g.values,S,C,0,g.values,S);else{const M=y-2*_;for(let T=0;T<M;++T)g.values[S+T]-=C[T]}}}return l.blendMode=2501,l}};class bD{constructor(a,o,c,u){this.parameterPositions=a,this._cachedIndex=0,this.resultBuffer=void 0!==u?u:new o.constructor(c),this.sampleValues=o,this.valueSize=c,this.settings=null,this.DefaultSettings_={}}evaluate(a){const o=this.parameterPositions;let c=this._cachedIndex,u=o[c],h=o[c-1];e:{t:{let d;n:{i:if(!(a<u)){for(let f=c+2;;){if(void 0===u){if(a<h)break i;return c=o.length,this._cachedIndex=c,this.copySampleValue_(c-1)}if(c===f)break;if(h=u,u=o[++c],a<u)break t}d=o.length;break n}if(a>=h)break e;{const f=o[1];a<f&&(c=2,h=f);for(let p=c-2;;){if(void 0===h)return this._cachedIndex=0,this.copySampleValue_(0);if(c===p)break;if(u=h,h=o[--c-1],a>=h)break t}d=c,c=0}}for(;c<d;){const f=c+d>>>1;a<o[f]?d=f:c=f+1}if(u=o[c],h=o[c-1],void 0===h)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===u)return c=o.length,this._cachedIndex=c,this.copySampleValue_(c-1)}this._cachedIndex=c,this.intervalChanged_(c,h,u)}return this.interpolate_(c,h,a,u)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(a){const o=this.resultBuffer,c=this.sampleValues,u=this.valueSize,h=a*u;for(let d=0;d!==u;++d)o[d]=c[h+d];return o}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Wje extends bD{constructor(a,o,c,u){super(a,o,c,u),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(a,o,c){const u=this.parameterPositions;let h=a-2,d=a+1,f=u[h],p=u[d];if(void 0===f)switch(this.getSettings_().endingStart){case 2401:h=a,f=2*o-c;break;case 2402:h=u.length-2,f=o+u[h]-u[h+1];break;default:h=a,f=c}if(void 0===p)switch(this.getSettings_().endingEnd){case 2401:d=a,p=2*c-o;break;case 2402:d=1,p=c+u[1]-u[0];break;default:d=a-1,p=o}const g=.5*(c-o),m=this.valueSize;this._weightPrev=g/(o-f),this._weightNext=g/(p-c),this._offsetPrev=h*m,this._offsetNext=d*m}interpolate_(a,o,c,u){const h=this.resultBuffer,d=this.sampleValues,f=this.valueSize,p=a*f,g=p-f,m=this._offsetPrev,v=this._offsetNext,_=this._weightPrev,y=this._weightNext,b=(c-o)/(u-o),C=b*b,x=C*b,w=-_*x+2*_*C-_*b,S=(1+_)*x+(-1.5-2*_)*C+(-.5+_)*b+1,M=(-1-y)*x+(1.5+y)*C+.5*b,T=y*x-y*C;for(let E=0;E!==f;++E)h[E]=w*d[m+E]+S*d[g+E]+M*d[p+E]+T*d[v+E];return h}}class Aie extends bD{constructor(a,o,c,u){super(a,o,c,u)}interpolate_(a,o,c,u){const h=this.resultBuffer,d=this.sampleValues,f=this.valueSize,p=a*f,g=p-f,m=(c-o)/(u-o),v=1-m;for(let _=0;_!==f;++_)h[_]=d[g+_]*v+d[p+_]*m;return h}}class jje extends bD{constructor(a,o,c,u){super(a,o,c,u)}interpolate_(a){return this.copySampleValue_(a-1)}}class Zu{constructor(a,o,c,u){if(void 0===a)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===o||0===o.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a,this.times=jr.convertArray(o,this.TimeBufferType),this.values=jr.convertArray(c,this.ValueBufferType),this.setInterpolation(u||this.DefaultInterpolation)}static toJSON(a){const o=a.constructor;let c;if(o.toJSON!==this.toJSON)c=o.toJSON(a);else{c={name:a.name,times:jr.convertArray(a.times,Array),values:jr.convertArray(a.values,Array)};const u=a.getInterpolation();u!==a.DefaultInterpolation&&(c.interpolation=u)}return c.type=a.ValueTypeName,c}InterpolantFactoryMethodDiscrete(a){return new jje(this.times,this.values,this.getValueSize(),a)}InterpolantFactoryMethodLinear(a){return new Aie(this.times,this.values,this.getValueSize(),a)}InterpolantFactoryMethodSmooth(a){return new Wje(this.times,this.values,this.getValueSize(),a)}setInterpolation(a){let o;switch(a){case 2300:o=this.InterpolantFactoryMethodDiscrete;break;case 2301:o=this.InterpolantFactoryMethodLinear;break;case 2302:o=this.InterpolantFactoryMethodSmooth}if(void 0===o){const c="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(a===this.DefaultInterpolation)throw new Error(c);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",c),this}return this.createInterpolant=o,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(a){if(0!==a){const o=this.times;for(let c=0,u=o.length;c!==u;++c)o[c]+=a}return this}scale(a){if(1!==a){const o=this.times;for(let c=0,u=o.length;c!==u;++c)o[c]*=a}return this}trim(a,o){const c=this.times,u=c.length;let h=0,d=u-1;for(;h!==u&&c[h]<a;)++h;for(;-1!==d&&c[d]>o;)--d;if(++d,0!==h||d!==u){h>=d&&(d=Math.max(d,1),h=d-1);const f=this.getValueSize();this.times=jr.arraySlice(c,h,d),this.values=jr.arraySlice(this.values,h*f,d*f)}return this}validate(){let a=!0;const o=this.getValueSize();o-Math.floor(o)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),a=!1);const c=this.times,u=this.values,h=c.length;0===h&&(console.error("THREE.KeyframeTrack: Track is empty.",this),a=!1);let d=null;for(let f=0;f!==h;f++){const p=c[f];if("number"==typeof p&&isNaN(p)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,f,p),a=!1;break}if(null!==d&&d>p){console.error("THREE.KeyframeTrack: Out of order keys.",this,f,p,d),a=!1;break}d=p}if(void 0!==u&&jr.isTypedArray(u))for(let f=0,p=u.length;f!==p;++f){const g=u[f];if(isNaN(g)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,f,g),a=!1;break}}return a}optimize(){const a=jr.arraySlice(this.times),o=jr.arraySlice(this.values),c=this.getValueSize(),u=2302===this.getInterpolation(),h=a.length-1;let d=1;for(let f=1;f<h;++f){let p=!1;const g=a[f];if(g!==a[f+1]&&(1!==f||g!==a[0]))if(u)p=!0;else{const v=f*c,_=v-c,y=v+c;for(let b=0;b!==c;++b){const C=o[v+b];if(C!==o[_+b]||C!==o[y+b]){p=!0;break}}}if(p){if(f!==d){a[d]=a[f];const v=f*c,_=d*c;for(let y=0;y!==c;++y)o[_+y]=o[v+y]}++d}}if(h>0){a[d]=a[h];for(let f=h*c,p=d*c,g=0;g!==c;++g)o[p+g]=o[f+g];++d}return d!==a.length?(this.times=jr.arraySlice(a,0,d),this.values=jr.arraySlice(o,0,d*c)):(this.times=a,this.values=o),this}clone(){const a=jr.arraySlice(this.times,0),o=jr.arraySlice(this.values,0),u=new(0,this.constructor)(this.name,a,o);return u.createInterpolant=this.createInterpolant,u}}Zu.prototype.TimeBufferType=Float32Array,Zu.prototype.ValueBufferType=Float32Array,Zu.prototype.DefaultInterpolation=2301;class a_ extends Zu{}a_.prototype.ValueTypeName="bool",a_.prototype.ValueBufferType=Array,a_.prototype.DefaultInterpolation=2300,a_.prototype.InterpolantFactoryMethodLinear=void 0,a_.prototype.InterpolantFactoryMethodSmooth=void 0;(class Iie extends Zu{}).prototype.ValueTypeName="color";(class xD extends Zu{}).prototype.ValueTypeName="number";class $je extends bD{constructor(a,o,c,u){super(a,o,c,u)}interpolate_(a,o,c,u){const h=this.resultBuffer,d=this.sampleValues,f=this.valueSize,p=(c-o)/(u-o);let g=a*f;for(let m=g+f;g!==m;g+=4)Cl.slerpFlat(h,0,d,g-f,d,g,p);return h}}class yx extends Zu{InterpolantFactoryMethodLinear(a){return new $je(this.times,this.values,this.getValueSize(),a)}}yx.prototype.ValueTypeName="quaternion",yx.prototype.DefaultInterpolation=2301,yx.prototype.InterpolantFactoryMethodSmooth=void 0;class l_ extends Zu{}l_.prototype.ValueTypeName="string",l_.prototype.ValueBufferType=Array,l_.prototype.DefaultInterpolation=2300,l_.prototype.InterpolantFactoryMethodLinear=void 0,l_.prototype.InterpolantFactoryMethodSmooth=void 0;(class CD extends Zu{}).prototype.ValueTypeName="vector";const c_={enabled:!1,files:{},add:function(l,a){!1!==this.enabled&&(this.files[l]=a)},get:function(l){if(!1!==this.enabled)return this.files[l]},remove:function(l){delete this.files[l]},clear:function(){this.files={}}};const Zje=new class Pie{constructor(a,o,c){const u=this;let p,h=!1,d=0,f=0;const g=[];this.onStart=void 0,this.onLoad=a,this.onProgress=o,this.onError=c,this.itemStart=function(m){f++,!1===h&&void 0!==u.onStart&&u.onStart(m,d,f),h=!0},this.itemEnd=function(m){d++,void 0!==u.onProgress&&u.onProgress(m,d,f),d===f&&(h=!1,void 0!==u.onLoad&&u.onLoad())},this.itemError=function(m){void 0!==u.onError&&u.onError(m)},this.resolveURL=function(m){return p?p(m):m},this.setURLModifier=function(m){return p=m,this},this.addHandler=function(m,v){return g.push(m,v),this},this.removeHandler=function(m){const v=g.indexOf(m);return-1!==v&&g.splice(v,2),this},this.getHandler=function(m){for(let v=0,_=g.length;v<_;v+=2){const y=g[v],b=g[v+1];if(y.global&&(y.lastIndex=0),y.test(m))return b}return null}}};class Oie{constructor(a){this.manager=void 0!==a?a:Zje,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(a,o){const c=this;return new Promise(function(u,h){c.load(a,u,o,h)})}parse(){}setCrossOrigin(a){return this.crossOrigin=a,this}setWithCredentials(a){return this.withCredentials=a,this}setPath(a){return this.path=a,this}setResourcePath(a){return this.resourcePath=a,this}setRequestHeader(a){return this.requestHeader=a,this}}const nd={};class id extends Oie{constructor(a){super(a)}load(a,o,c,u){void 0===a&&(a=""),void 0!==this.path&&(a=this.path+a),a=this.manager.resolveURL(a);const h=c_.get(a);if(void 0!==h)return this.manager.itemStart(a),setTimeout(()=>{o&&o(h),this.manager.itemEnd(a)},0),h;if(void 0!==nd[a])return void nd[a].push({onLoad:o,onProgress:c,onError:u});nd[a]=[],nd[a].push({onLoad:o,onProgress:c,onError:u});const d=new Request(a,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),f=this.mimeType,p=this.responseType;fetch(d).then(g=>{if(200===g.status||0===g.status){if(0===g.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===g.body||void 0===g.body.getReader)return g;const m=nd[a],v=g.body.getReader(),_=g.headers.get("Content-Length"),y=_?parseInt(_):0,b=0!==y;let C=0;const x=new ReadableStream({start(w){!function S(){v.read().then(({done:M,value:T})=>{if(M)w.close();else{C+=T.byteLength;const E=new ProgressEvent("progress",{lengthComputable:b,loaded:C,total:y});for(let k=0,R=m.length;k<R;k++){const D=m[k];D.onProgress&&D.onProgress(E)}w.enqueue(T),S()}})}()}});return new Response(x)}throw Error(`fetch for "${g.url}" responded with ${g.status}: ${g.statusText}`)}).then(g=>{switch(p){case"arraybuffer":return g.arrayBuffer();case"blob":return g.blob();case"document":return g.text().then(m=>(new DOMParser).parseFromString(m,f));case"json":return g.json();default:if(void 0===f)return g.text();{const v=/charset="?([^;"\s]*)"?/i.exec(f),_=v&&v[1]?v[1].toLowerCase():void 0,y=new TextDecoder(_);return g.arrayBuffer().then(b=>y.decode(b))}}}).then(g=>{c_.add(a,g);const m=nd[a];delete nd[a];for(let v=0,_=m.length;v<_;v++){const y=m[v];y.onLoad&&y.onLoad(g)}}).catch(g=>{const m=nd[a];if(void 0===m)throw this.manager.itemError(a),g;delete nd[a];for(let v=0,_=m.length;v<_;v++){const y=m[v];y.onError&&y.onError(g)}this.manager.itemError(a)}).finally(()=>{this.manager.itemEnd(a)}),this.manager.itemStart(a)}setResponseType(a){return this.responseType=a,this}setMimeType(a){return this.mimeType=a,this}}class zB extends Sl{constructor(a,o=1){super(),this.isLight=!0,this.type="Light",this.color=new tn(a),this.intensity=o}dispose(){}copy(a,o){return super.copy(a,o),this.color.copy(a.color),this.intensity=a.intensity,this}toJSON(a){const o=super.toJSON(a);return o.object.color=this.color.getHex(),o.object.intensity=this.intensity,void 0!==this.groundColor&&(o.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(o.object.distance=this.distance),void 0!==this.angle&&(o.object.angle=this.angle),void 0!==this.decay&&(o.object.decay=this.decay),void 0!==this.penumbra&&(o.object.penumbra=this.penumbra),void 0!==this.shadow&&(o.object.shadow=this.shadow.toJSON()),o}}const Rie=new Qn,Fie=new ee,Lie=new ee;class Nie{constructor(a){this.camera=a,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ut(512,512),this.map=null,this.mapPass=null,this.matrix=new Qn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new gB,this._frameExtents=new ut(1,1),this._viewportCount=1,this._viewports=[new Bi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(a){const o=this.camera,c=this.matrix;Fie.setFromMatrixPosition(a.matrixWorld),o.position.copy(Fie),Lie.setFromMatrixPosition(a.target.matrixWorld),o.lookAt(Lie),o.updateMatrixWorld(),Rie.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Rie),c.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),c.multiply(o.projectionMatrix),c.multiply(o.matrixWorldInverse)}getViewport(a){return this._viewports[a]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(a){return this.camera=a.camera.clone(),this.bias=a.bias,this.radius=a.radius,this.mapSize.copy(a.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const a={};return 0!==this.bias&&(a.bias=this.bias),0!==this.normalBias&&(a.normalBias=this.normalBias),1!==this.radius&&(a.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(a.mapSize=this.mapSize.toArray()),a.camera=this.camera.toJSON(!1).object,delete a.camera.matrix,a}}const Bie=new Qn,bx=new ee,UB=new ee;class Jje extends Nie{constructor(){super(new Rs(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ut(4,2),this._viewportCount=6,this._viewports=[new Bi(2,1,1,1),new Bi(0,1,1,1),new Bi(3,1,1,1),new Bi(1,1,1,1),new Bi(3,0,1,1),new Bi(1,0,1,1)],this._cubeDirections=[new ee(1,0,0),new ee(-1,0,0),new ee(0,0,1),new ee(0,0,-1),new ee(0,1,0),new ee(0,-1,0)],this._cubeUps=[new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,0,1),new ee(0,0,-1)]}updateMatrices(a,o=0){const c=this.camera,u=this.matrix,h=a.distance||c.far;h!==c.far&&(c.far=h,c.updateProjectionMatrix()),bx.setFromMatrixPosition(a.matrixWorld),c.position.copy(bx),UB.copy(c.position),UB.add(this._cubeDirections[o]),c.up.copy(this._cubeUps[o]),c.lookAt(UB),c.updateMatrixWorld(),u.makeTranslation(-bx.x,-bx.y,-bx.z),Bie.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Bie)}}class Vie extends zB{constructor(a,o,c=0,u=1){super(a,o),this.isPointLight=!0,this.type="PointLight",this.distance=c,this.decay=u,this.shadow=new Jje}get power(){return 4*this.intensity*Math.PI}set power(a){this.intensity=a/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(a,o){return super.copy(a,o),this.distance=a.distance,this.decay=a.decay,this.shadow=a.shadow.clone(),this}}class e$e extends Nie{constructor(){super(new ix(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class zie extends zB{constructor(a,o){super(a,o),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Sl.DefaultUp),this.updateMatrix(),this.target=new Sl,this.shadow=new e$e}dispose(){this.shadow.dispose()}copy(a){return super.copy(a),this.target=a.target.clone(),this.shadow=a.shadow.clone(),this}}class TD extends zB{constructor(a,o){super(a,o),this.isAmbientLight=!0,this.type="AmbientLight"}}class qie{constructor(a=!0){this.autoStart=a,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Yie(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const o=Yie();a=(o-this.oldTime)/1e3,this.oldTime=o,this.elapsedTime+=a}return a}}function Yie(){return("undefined"==typeof performance?Date:performance).now()}const GB="\\[\\]\\.:\\/",u$e=new RegExp("["+GB+"]","g"),WB="[^"+GB+"]",h$e="[^"+GB.replace("\\.","")+"]",m$e=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",WB)+/(WCOD+)?/.source.replace("WCOD",h$e)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",WB)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",WB)+"$"),v$e=["material","materials","bones"];class _$e{constructor(a,o,c){const u=c||Fr.parseTrackName(o);this._targetGroup=a,this._bindings=a.subscribe_(o,u)}getValue(a,o){this.bind();const u=this._bindings[this._targetGroup.nCachedObjects_];void 0!==u&&u.getValue(a,o)}setValue(a,o){const c=this._bindings;for(let u=this._targetGroup.nCachedObjects_,h=c.length;u!==h;++u)c[u].setValue(a,o)}bind(){const a=this._bindings;for(let o=this._targetGroup.nCachedObjects_,c=a.length;o!==c;++o)a[o].bind()}unbind(){const a=this._bindings;for(let o=this._targetGroup.nCachedObjects_,c=a.length;o!==c;++o)a[o].unbind()}}let Fr=(()=>{class l{constructor(o,c,u){this.path=c,this.parsedPath=u||l.parseTrackName(c),this.node=l.findNode(o,this.parsedPath.nodeName)||o,this.rootNode=o,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(o,c,u){return o&&o.isAnimationObjectGroup?new l.Composite(o,c,u):new l(o,c,u)}static sanitizeNodeName(o){return o.replace(/\s/g,"_").replace(u$e,"")}static parseTrackName(o){const c=m$e.exec(o);if(null===c)throw new Error("PropertyBinding: Cannot parse trackName: "+o);const u={nodeName:c[2],objectName:c[3],objectIndex:c[4],propertyName:c[5],propertyIndex:c[6]},h=u.nodeName&&u.nodeName.lastIndexOf(".");if(void 0!==h&&-1!==h){const d=u.nodeName.substring(h+1);-1!==v$e.indexOf(d)&&(u.nodeName=u.nodeName.substring(0,h),u.objectName=d)}if(null===u.propertyName||0===u.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+o);return u}static findNode(o,c){if(void 0===c||""===c||"."===c||-1===c||c===o.name||c===o.uuid)return o;if(o.skeleton){const u=o.skeleton.getBoneByName(c);if(void 0!==u)return u}if(o.children){const u=function(d){for(let f=0;f<d.length;f++){const p=d[f];if(p.name===c||p.uuid===c)return p;const g=u(p.children);if(g)return g}return null},h=u(o.children);if(h)return h}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(o,c){o[c]=this.targetObject[this.propertyName]}_getValue_array(o,c){const u=this.resolvedProperty;for(let h=0,d=u.length;h!==d;++h)o[c++]=u[h]}_getValue_arrayElement(o,c){o[c]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(o,c){this.resolvedProperty.toArray(o,c)}_setValue_direct(o,c){this.targetObject[this.propertyName]=o[c]}_setValue_direct_setNeedsUpdate(o,c){this.targetObject[this.propertyName]=o[c],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(o,c){this.targetObject[this.propertyName]=o[c],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(o,c){const u=this.resolvedProperty;for(let h=0,d=u.length;h!==d;++h)u[h]=o[c++]}_setValue_array_setNeedsUpdate(o,c){const u=this.resolvedProperty;for(let h=0,d=u.length;h!==d;++h)u[h]=o[c++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(o,c){const u=this.resolvedProperty;for(let h=0,d=u.length;h!==d;++h)u[h]=o[c++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(o,c){this.resolvedProperty[this.propertyIndex]=o[c]}_setValue_arrayElement_setNeedsUpdate(o,c){this.resolvedProperty[this.propertyIndex]=o[c],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(o,c){this.resolvedProperty[this.propertyIndex]=o[c],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(o,c){this.resolvedProperty.fromArray(o,c)}_setValue_fromArray_setNeedsUpdate(o,c){this.resolvedProperty.fromArray(o,c),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(o,c){this.resolvedProperty.fromArray(o,c),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(o,c){this.bind(),this.getValue(o,c)}_setValue_unbound(o,c){this.bind(),this.setValue(o,c)}bind(){let o=this.node;const c=this.parsedPath,u=c.objectName,h=c.propertyName;let d=c.propertyIndex;if(o||(o=l.findNode(this.rootNode,c.nodeName)||this.rootNode,this.node=o),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!o)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(u){let m=c.objectIndex;switch(u){case"materials":if(!o.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!o.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);o=o.material.materials;break;case"bones":if(!o.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);o=o.skeleton.bones;for(let v=0;v<o.length;v++)if(o[v].name===m){m=v;break}break;default:if(void 0===o[u])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);o=o[u]}if(void 0!==m){if(void 0===o[m])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,o);o=o[m]}}const f=o[h];if(void 0===f)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+c.nodeName+"."+h+" but it wasn't found.",o);let p=this.Versioning.None;this.targetObject=o,void 0!==o.needsUpdate?p=this.Versioning.NeedsUpdate:void 0!==o.matrixWorldNeedsUpdate&&(p=this.Versioning.MatrixWorldNeedsUpdate);let g=this.BindingType.Direct;if(void 0!==d){if("morphTargetInfluences"===h){if(!o.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!o.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==o.morphTargetDictionary[d]&&(d=o.morphTargetDictionary[d])}g=this.BindingType.ArrayElement,this.resolvedProperty=f,this.propertyIndex=d}else void 0!==f.fromArray&&void 0!==f.toArray?(g=this.BindingType.HasFromToArray,this.resolvedProperty=f):Array.isArray(f)?(g=this.BindingType.EntireArray,this.resolvedProperty=f):this.propertyName=h;this.getValue=this.GetterByBindingType[g],this.setValue=this.SetterByBindingTypeAndVersioning[g][p]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return l.Composite=_$e,l})();Fr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Fr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Fr.prototype.GetterByBindingType=[Fr.prototype._getValue_direct,Fr.prototype._getValue_array,Fr.prototype._getValue_arrayElement,Fr.prototype._getValue_toArray],Fr.prototype.SetterByBindingTypeAndVersioning=[[Fr.prototype._setValue_direct,Fr.prototype._setValue_direct_setNeedsUpdate,Fr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Fr.prototype._setValue_array,Fr.prototype._setValue_array_setNeedsUpdate,Fr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Fr.prototype._setValue_arrayElement,Fr.prototype._setValue_arrayElement_setNeedsUpdate,Fr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Fr.prototype._setValue_fromArray,Fr.prototype._setValue_fromArray_setNeedsUpdate,Fr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class x$e{constructor(a,o,c=0,u=1/0){this.ray=new AM(a,o),this.near=c,this.far=u,this.camera=null,this.layers=new nB,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(a,o){this.ray.set(a,o)}setFromCamera(a,o){o.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(o.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(o).sub(this.ray.origin).normalize(),this.camera=o):o.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(o.near+o.far)/(o.near-o.far)).unproject(o),this.ray.direction.set(0,0,-1).transformDirection(o.matrixWorld),this.camera=o):console.error("THREE.Raycaster: Unsupported camera type: "+o.type)}intersectObject(a,o=!0,c=[]){return jB(a,this,c,o),c.sort(Qie),c}intersectObjects(a,o=!0,c=[]){for(let u=0,h=a.length;u<h;u++)jB(a[u],this,c,o);return c.sort(Qie),c}}function Qie(l,a){return l.distance-a.distance}function jB(l,a,o,c){if(l.layers.test(a.layers)&&l.raycast(a,o),!0===c){const u=l.children;for(let h=0,d=u.length;h<d;h++)jB(u[h],a,o,!0)}}class w$e{constructor(){this.type="ShapePath",this.color=new tn,this.subPaths=[],this.currentPath=null}moveTo(a,o){return this.currentPath=new mg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(a,o),this}lineTo(a,o){return this.currentPath.lineTo(a,o),this}quadraticCurveTo(a,o,c,u){return this.currentPath.quadraticCurveTo(a,o,c,u),this}bezierCurveTo(a,o,c,u,h,d){return this.currentPath.bezierCurveTo(a,o,c,u,h,d),this}splineThru(a){return this.currentPath.splineThru(a),this}toShapes(a,o){function c(S){const M=[];for(let T=0,E=S.length;T<E;T++){const k=S[T],R=new ed;R.curves=k.curves,M.push(R)}return M}function u(S,M){const T=M.length;let E=!1;for(let k=T-1,R=0;R<T;k=R++){let D=M[k],P=M[R],F=P.x-D.x,L=P.y-D.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(D=M[R],F=-F,P=M[k],L=-L),S.y<D.y||S.y>P.y)continue;if(S.y===D.y){if(S.x===D.x)return!0}else{const $=L*(S.x-D.x)-F*(S.y-D.y);if(0===$)return!0;if($<0)continue;E=!E}}else{if(S.y!==D.y)continue;if(P.x<=S.x&&S.x<=D.x||D.x<=S.x&&S.x<=P.x)return!0}}return E}const h=td.isClockWise,d=this.subPaths;if(0===d.length)return[];if(!0===o)return c(d);let f,p,g;const m=[];if(1===d.length)return p=d[0],g=new ed,g.curves=p.curves,m.push(g),m;let v=!h(d[0].getPoints());v=a?!v:v;const _=[],y=[];let x,w,b=[],C=0;y[C]=void 0,b[C]=[];for(let S=0,M=d.length;S<M;S++)p=d[S],x=p.getPoints(),f=h(x),f=a?!f:f,f?(!v&&y[C]&&C++,y[C]={s:new ed,p:x},y[C].s.curves=p.curves,v&&C++,b[C]=[]):b[C].push({h:p,p:x[0]});if(!y[0])return c(d);if(y.length>1){let S=!1,M=0;for(let T=0,E=y.length;T<E;T++)_[T]=[];for(let T=0,E=y.length;T<E;T++){const k=b[T];for(let R=0;R<k.length;R++){const D=k[R];let P=!0;for(let F=0;F<y.length;F++)u(D.p,y[F].p)&&(T!==F&&M++,P?(P=!1,_[F].push(D)):S=!0);P&&_[T].push(D)}}M>0&&!1===S&&(b=_)}for(let S=0,M=y.length;S<M;S++){g=y[S].s,m.push(g),w=b[S];for(let T=0,E=w.length;T<E;T++)g.holes.push(w[T].h)}return m}}function k$e(){const l=new ArrayBuffer(4),a=new Float32Array(l),o=new Uint32Array(l),c=new Uint32Array(512),u=new Uint32Array(512);for(let p=0;p<256;++p){const g=p-127;g<-27?(c[p]=0,c[256|p]=32768,u[p]=24,u[256|p]=24):g<-14?(c[p]=1024>>-g-14,c[256|p]=1024>>-g-14|32768,u[p]=-g-1,u[256|p]=-g-1):g<=15?(c[p]=g+15<<10,c[256|p]=g+15<<10|32768,u[p]=13,u[256|p]=13):g<128?(c[p]=31744,c[256|p]=64512,u[p]=24,u[256|p]=24):(c[p]=31744,c[256|p]=64512,u[p]=13,u[256|p]=13)}const h=new Uint32Array(2048),d=new Uint32Array(64),f=new Uint32Array(64);for(let p=1;p<1024;++p){let g=p<<13,m=0;for(;0==(8388608&g);)g<<=1,m-=8388608;g&=-8388609,m+=947912704,h[p]=g|m}for(let p=1024;p<2048;++p)h[p]=939524096+(p-1024<<13);for(let p=1;p<31;++p)d[p]=p<<23;d[31]=1199570944,d[32]=2147483648;for(let p=33;p<63;++p)d[p]=2147483648+(p-32<<23);d[63]=3347054592;for(let p=1;p<64;++p)32!==p&&(f[p]=1024);return{floatView:a,uint32View:o,baseTable:c,shiftTable:u,mantissaTable:h,exponentTable:d,offsetTable:f}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"142"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="142");class xx{constructor(){this.iWidthPixelIncrement=0,this.iHeightPixelIncrement=0,this.iXPixelIncrement=0,this.iYPixelIncrement=0,this.iCanvasWidth=0,this.iCanvasHeight=0,this.iPercentage=!1,this.bLight=!0,this.actionHandler=()=>{},this.params=new Map}get canvasWidth(){let a=window.innerWidth+this.iWidthPixelIncrement;return this.iCanvasWidth>0?this.iCanvasWidth*(this.iPercentage?a/100:1):a}get canvasHeight(){let a=window.innerHeight+this.iHeightPixelIncrement;return this.iCanvasHeight>0?this.iCanvasHeight*(this.iPercentage?a/100:1):a}get canvasPercentage(){return this.iPercentage}incrementX(a){return a+this.iXPixelIncrement}incrementY(a){return a+this.iYPixelIncrement}isLight(){return this.bLight}setWidthPixelIncrement(a){return this.iWidthPixelIncrement=a,this}setHeightPixelIncrement(a){return this.iHeightPixelIncrement=a,this}setXPixelIncrement(a){return this.iXPixelIncrement=a,this}setYPixelIncrement(a){return this.iYPixelIncrement=a,this}setCanvasWidth(a){return this.iCanvasWidth=a,this}setCanvasHeight(a){return this.iCanvasHeight=a,this}setPercentage(a){return this.iPercentage=a,this}setLight(a){return this.bLight=a,this}setActionHandler(a){return this.actionHandler=a,this}setParam(a,o){return this.params.set(a,o),this}getParam(a){return this.params.get(a)}runAction(a){return this.actionHandler&&this.actionHandler(a),this}init(a){}render(){}onResize(){}onMouseMove(a){}onMouseClick(a){}dispose(){}}class P$e extends xx{constructor(){super(...arguments),this.renderer=null,this.camera=null,this.scene=null,this.light=null,this.cube=null,this.frameId=null}dispose(){null!=this.frameId&&cancelAnimationFrame(this.frameId),null!=this.renderer&&(this.renderer.dispose(),this.renderer=null)}init(a){this.renderer=a;let o=this.canvasWidth,c=this.canvasHeight;this.renderer.setSize(o,c),this.renderer.setClearColor(255,1),this.scene=new sx,this.camera=new Rs(75,o/c,.1,1e3),this.camera.position.z=5,this.scene.add(this.camera),this.light=new TD(4210752),this.light.position.z=10,this.scene.add(this.light);const u=new Jh(1,1,1),h=new Ps({color:65280,wireframe:!1,transparent:!0});this.cube=new Vi(u,h),this.scene.add(this.cube)}onMouseMove(a){}onResize(){const a=this.canvasWidth,o=this.canvasHeight;this.camera.aspect=a/o,this.camera.updateProjectionMatrix(),this.renderer.setSize(a,o)}render(){this.frameId=requestAnimationFrame(()=>{this.render()}),this.cube&&(this.cube.rotation.x+=.01,this.cube.rotation.y+=.01),this.renderer.render(this.scene,this.camera)}}class O$e extends xx{constructor(){super(...arguments),this.renderer=null,this.camera=null,this.scene=null,this.cube=null,this.mouseX=0,this.mouseY=0,this.frameId=null}dispose(){null!=this.frameId&&cancelAnimationFrame(this.frameId),null!=this.renderer&&(this.renderer.dispose(),this.renderer=null)}init(a){this.renderer=a,this.camera=new Rs(20,this.canvasWidth/this.canvasHeight,1,1e4),this.camera.position.z=1800,this.scene=new sx,this.scene.background=new tn(16777215);const o=new zie(16777215);o.position.set(0,0,1),this.scene.add(o);const c=document.createElement("canvas");c.width=128,c.height=128;const h=c.getContext("2d"),d=h.createRadialGradient(c.width/2,c.height/2,0,c.width/2,c.height/2,c.width/2);d.addColorStop(.1,"rgba(210,210,210,1)"),d.addColorStop(1,"rgba(255,255,255,1)"),h.fillStyle=d,h.fillRect(0,0,c.width,c.height);const f=new fie(c),p=new Ps({map:f}),g=new $v(300,300,1,1);let m;m=new Vi(g,p),m.position.y=-250,m.rotation.x=-Math.PI/2,this.scene.add(m),m=new Vi(g,p),m.position.y=-250,m.position.x=-400,m.rotation.x=-Math.PI/2,this.scene.add(m),m=new Vi(g,p),m.position.y=-250,m.position.x=400,m.rotation.x=-Math.PI/2,this.scene.add(m);const v=200,_=new vx(v,1),y=_.attributes.position.count;_.setAttribute("color",new Jr(new Float32Array(3*y),3));const b=_.clone(),C=_.clone(),x=new tn,w=_.attributes.position,S=b.attributes.position,M=C.attributes.position,T=_.attributes.color,E=b.attributes.color,k=C.attributes.color;for(let Y=0;Y<y;Y++)x.setHSL((w.getY(Y)/v+1)/2,1,.5),T.setXYZ(Y,x.r,x.g,x.b),x.setHSL(0,(S.getY(Y)/v+1)/2,.5),E.setXYZ(Y,x.r,x.g,x.b),x.setRGB(1,.8-(M.getY(Y)/v+1)/2,0),k.setXYZ(Y,x.r,x.g,x.b);const R=new Eie({color:16777215,flatShading:!0,vertexColors:!0,shininess:0}),D=new Ps({color:0,wireframe:!0,transparent:!0});let P=new Vi(_,R),F=new Vi(_,D);P.add(F),P.position.x=-400,P.rotation.x=-1.87,this.scene.add(P),P=new Vi(b,R),F=new Vi(b,D),P.add(F),P.position.x=400,this.scene.add(P),P=new Vi(C,R),F=new Vi(C,D),P.add(F),this.scene.add(P),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.canvasWidth,this.canvasHeight),this.renderer.setClearColor(255,1)}onMouseMove(a){let c=this.canvasHeight/2;this.mouseX=a.clientX-this.canvasWidth/2,this.mouseY=a.clientY-c}onResize(){const a=this.canvasWidth,o=this.canvasHeight;this.camera.aspect=a/o,this.camera.updateProjectionMatrix(),this.renderer.setSize(a,o)}render(){this.frameId=requestAnimationFrame(()=>{this.render()}),this.camera&&(this.camera.position.x+=.05*(this.mouseX-this.camera.position.x),this.camera.position.y+=.05*(-this.mouseY-this.camera.position.y),this.camera.lookAt(this.scene.position)),this.renderer.render(this.scene,this.camera)}}const OD={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor.a *= opacity;\n\n\n\t\t}"};class Cx{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}const R$e=new ix(-1,1,1,-1,0,1),YB=new gi;YB.setAttribute("position",new yn([-1,3,0,-1,-1,0,3,-1,0],3)),YB.setAttribute("uv",new yn([0,2,0,0,2,0],2));class ure{constructor(a){this._mesh=new Vi(YB,a)}dispose(){this._mesh.geometry.dispose()}render(a){a.render(this._mesh,R$e)}get material(){return this._mesh.material}set material(a){this._mesh.material=a}}class ZB extends Cx{constructor(a,o){super(),this.textureID=void 0!==o?o:"tDiffuse",a instanceof jo?(this.uniforms=a.uniforms,this.material=a):a&&(this.uniforms=HM.clone(a.uniforms),this.material=new jo({defines:Object.assign({},a.defines),uniforms:this.uniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader})),this.fsQuad=new ure(this.material)}render(a,o,c){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=c.texture),this.fsQuad.material=this.material,this.renderToScreen?(a.setRenderTarget(null),this.fsQuad.render(a)):(a.setRenderTarget(o),this.clear&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil),this.fsQuad.render(a))}}class hre extends Cx{constructor(a,o){super(),this.scene=a,this.camera=o,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(a,o,c){const u=a.getContext(),h=a.state;let d,f;h.buffers.color.setMask(!1),h.buffers.depth.setMask(!1),h.buffers.color.setLocked(!0),h.buffers.depth.setLocked(!0),this.inverse?(d=0,f=1):(d=1,f=0),h.buffers.stencil.setTest(!0),h.buffers.stencil.setOp(u.REPLACE,u.REPLACE,u.REPLACE),h.buffers.stencil.setFunc(u.ALWAYS,d,4294967295),h.buffers.stencil.setClear(f),h.buffers.stencil.setLocked(!0),a.setRenderTarget(c),this.clear&&a.clear(),a.render(this.scene,this.camera),a.setRenderTarget(o),this.clear&&a.clear(),a.render(this.scene,this.camera),h.buffers.color.setLocked(!1),h.buffers.depth.setLocked(!1),h.buffers.stencil.setLocked(!1),h.buffers.stencil.setFunc(u.EQUAL,1,4294967295),h.buffers.stencil.setOp(u.KEEP,u.KEEP,u.KEEP),h.buffers.stencil.setLocked(!0)}}class F$e extends Cx{constructor(){super(),this.needsSwap=!1}render(a){a.state.buffers.stencil.setLocked(!1),a.state.buffers.stencil.setTest(!1)}}class L$e{constructor(a,o){if(this.renderer=a,void 0===o){const c=a.getSize(new ut);this._pixelRatio=a.getPixelRatio(),this._width=c.width,this._height=c.height,(o=new ya(this._width*this._pixelRatio,this._height*this._pixelRatio)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=o.width,this._height=o.height;this.renderTarget1=o,this.renderTarget2=o.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===OD&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===ZB&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new ZB(OD),this.clock=new qie}swapBuffers(){const a=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=a}addPass(a){this.passes.push(a),a.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(a,o){this.passes.splice(o,0,a),a.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(a){const o=this.passes.indexOf(a);-1!==o&&this.passes.splice(o,1)}isLastEnabledPass(a){for(let o=a+1;o<this.passes.length;o++)if(this.passes[o].enabled)return!1;return!0}render(a){void 0===a&&(a=this.clock.getDelta());const o=this.renderer.getRenderTarget();let c=!1;for(let u=0,h=this.passes.length;u<h;u++){const d=this.passes[u];if(!1!==d.enabled){if(d.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(u),d.render(this.renderer,this.writeBuffer,this.readBuffer,a,c),d.needsSwap){if(c){const f=this.renderer.getContext(),p=this.renderer.state.buffers.stencil;p.setFunc(f.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,a),p.setFunc(f.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==hre&&(d instanceof hre?c=!0:d instanceof F$e&&(c=!1))}}this.renderer.setRenderTarget(o)}reset(a){if(void 0===a){const o=this.renderer.getSize(new ut);this._pixelRatio=this.renderer.getPixelRatio(),this._width=o.width,this._height=o.height,(a=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=a,this.renderTarget2=a.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(a,o){this._width=a,this._height=o;const c=this._width*this._pixelRatio,u=this._height*this._pixelRatio;this.renderTarget1.setSize(c,u),this.renderTarget2.setSize(c,u);for(let h=0;h<this.passes.length;h++)this.passes[h].setSize(c,u)}setPixelRatio(a){this._pixelRatio=a,this.setSize(this._width,this._height)}}new ix(-1,1,1,-1,0,1);const XB=new gi;XB.setAttribute("position",new yn([-1,3,0,-1,-1,0,3,-1,0],3)),XB.setAttribute("uv",new yn([0,2,0,0,2,0],2));class B$e extends Cx{constructor(a,o,c,u,h){super(),this.scene=a,this.camera=o,this.overrideMaterial=c,this.clearColor=u,this.clearAlpha=void 0!==h?h:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new tn}render(a,o,c){const u=a.autoClear;let h,d;a.autoClear=!1,void 0!==this.overrideMaterial&&(d=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(a.getClearColor(this._oldClearColor),h=a.getClearAlpha(),a.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&a.clearDepth(),a.setRenderTarget(this.renderToScreen?null:c),this.clear&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil),a.render(this.scene,this.camera),this.clearColor&&a.setClearColor(this._oldClearColor,h),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=d),a.autoClear=u}}class Cf extends Cx{constructor(a,o,c,u){super(),this.renderScene=o,this.renderCamera=c,this.selectedObjects=void 0!==u?u:[],this.visibleEdgeColor=new tn(1,1,1),this.hiddenEdgeColor=new tn(.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,this._visibilityCache=new Map,this.resolution=void 0!==a?new ut(a.x,a.y):new ut(256,256);const h=Math.round(this.resolution.x/this.downSampleRatio),d=Math.round(this.resolution.y/this.downSampleRatio);this.renderTargetMaskBuffer=new ya(this.resolution.x,this.resolution.y),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new CB,this.depthMaterial.side=2,this.depthMaterial.depthPacking=3201,this.depthMaterial.blending=0,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=2,this.prepareMaskMaterial.fragmentShader=function m(v,_){return v.replace(/DEPTH_TO_VIEW_Z/g,(_.isPerspectiveCamera?"perspective":"orthographic")+"DepthToViewZ")}(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new ya(this.resolution.x,this.resolution.y),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new ya(h,d),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new ya(h,d),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new ya(Math.round(h/2),Math.round(d/2)),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new ya(h,d),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new ya(Math.round(h/2),Math.round(d/2)),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1,this.separableBlurMaterial1=this.getSeperableBlurMaterial(4),this.separableBlurMaterial1.uniforms.texSize.value.set(h,d),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(4),this.separableBlurMaterial2.uniforms.texSize.value.set(Math.round(h/2),Math.round(d/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=4,this.overlayMaterial=this.getOverlayMaterial(),void 0===OD&&console.error("THREE.OutlinePass relies on CopyShader");const g=OD;this.copyUniforms=HM.clone(g.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new jo({uniforms:this.copyUniforms,vertexShader:g.vertexShader,fragmentShader:g.fragmentShader,blending:0,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new tn,this.oldClearAlpha=1,this.fsQuad=new ure(null),this.tempPulseColor1=new tn,this.tempPulseColor2=new tn,this.textureMatrix=new Qn}dispose(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose()}setSize(a,o){this.renderTargetMaskBuffer.setSize(a,o),this.renderTargetDepthBuffer.setSize(a,o);let c=Math.round(a/this.downSampleRatio),u=Math.round(o/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(c,u),this.renderTargetBlurBuffer1.setSize(c,u),this.renderTargetEdgeBuffer1.setSize(c,u),this.separableBlurMaterial1.uniforms.texSize.value.set(c,u),c=Math.round(c/2),u=Math.round(u/2),this.renderTargetBlurBuffer2.setSize(c,u),this.renderTargetEdgeBuffer2.setSize(c,u),this.separableBlurMaterial2.uniforms.texSize.value.set(c,u)}changeVisibilityOfSelectedObjects(a){const o=this._visibilityCache;function c(u){u.isMesh&&(!0===a?u.visible=o.get(u):(o.set(u,u.visible),u.visible=a))}for(let u=0;u<this.selectedObjects.length;u++)this.selectedObjects[u].traverse(c)}changeVisibilityOfNonSelectedObjects(a){const o=this._visibilityCache,c=[];function u(d){d.isMesh&&c.push(d)}for(let d=0;d<this.selectedObjects.length;d++)this.selectedObjects[d].traverse(u);this.renderScene.traverse(function h(d){if(d.isMesh||d.isSprite){let f=!1;for(let p=0;p<c.length;p++)if(c[p].id===d.id){f=!0;break}if(!1===f){const p=d.visible;(!1===a||!0===o.get(d))&&(d.visible=a),o.set(d,p)}}else(d.isPoints||d.isLine)&&(!0===a?d.visible=o.get(d):(o.set(d,d.visible),d.visible=a))})}updateTextureMatrix(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)}render(a,o,c,u,h){if(this.selectedObjects.length>0){a.getClearColor(this._oldClearColor),this.oldClearAlpha=a.getClearAlpha();const d=a.autoClear;a.autoClear=!1,h&&a.state.buffers.stencil.setTest(!1),a.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1);const f=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,a.setRenderTarget(this.renderTargetDepthBuffer),a.clear(),a.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this._visibilityCache.clear(),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value.set(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,a.setRenderTarget(this.renderTargetMaskBuffer),a.clear(),a.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this._visibilityCache.clear(),this.renderScene.background=f,this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,a.setRenderTarget(this.renderTargetMaskDownSampleBuffer),a.clear(),this.fsQuad.render(a),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){const p=.625+.75*Math.cos(.01*performance.now()/this.pulsePeriod)/2;this.tempPulseColor1.multiplyScalar(p),this.tempPulseColor2.multiplyScalar(p)}this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value.set(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,a.setRenderTarget(this.renderTargetEdgeBuffer1),a.clear(),this.fsQuad.render(a),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=Cf.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,a.setRenderTarget(this.renderTargetBlurBuffer1),a.clear(),this.fsQuad.render(a),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=Cf.BlurDirectionY,a.setRenderTarget(this.renderTargetEdgeBuffer1),a.clear(),this.fsQuad.render(a),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=Cf.BlurDirectionX,a.setRenderTarget(this.renderTargetBlurBuffer2),a.clear(),this.fsQuad.render(a),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=Cf.BlurDirectionY,a.setRenderTarget(this.renderTargetEdgeBuffer2),a.clear(),this.fsQuad.render(a),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,h&&a.state.buffers.stencil.setTest(!0),a.setRenderTarget(c),this.fsQuad.render(a),a.setClearColor(this._oldClearColor,this.oldClearAlpha),a.autoClear=d}this.renderToScreen&&(this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=c.texture,a.setRenderTarget(null),this.fsQuad.render(a))}getPrepareMaskMaterial(){return new jo({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new ut(.5,.5)},textureMatrix:{value:null}},vertexShader:"#include <morphtarget_pars_vertex>\n\t\t\t\t#include <skinning_pars_vertex>\n\n\t\t\t\tvarying vec4 projTexCoord;\n\t\t\t\tvarying vec4 vPosition;\n\t\t\t\tuniform mat4 textureMatrix;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\t#include <skinbase_vertex>\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <morphtarget_vertex>\n\t\t\t\t\t#include <skinning_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t\tvPosition = mvPosition;\n\t\t\t\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t\t\t\t\tprojTexCoord = textureMatrix * worldPosition;\n\n\t\t\t\t}",fragmentShader:"#include <packing>\n\t\t\t\tvarying vec4 vPosition;\n\t\t\t\tvarying vec4 projTexCoord;\n\t\t\t\tuniform sampler2D depthTexture;\n\t\t\t\tuniform vec2 cameraNearFar;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tfloat depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));\n\t\t\t\t\tfloat viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );\n\t\t\t\t\tfloat depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;\n\t\t\t\t\tgl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);\n\n\t\t\t\t}"})}getEdgeDetectionMaterial(){return new jo({uniforms:{maskTexture:{value:null},texSize:{value:new ut(.5,.5)},visibleEdgeColor:{value:new ee(1,1,1)},hiddenEdgeColor:{value:new ee(1,1,1)}},vertexShader:"varying vec2 vUv;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\n\t\t\t\tuniform sampler2D maskTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec3 visibleEdgeColor;\n\t\t\t\tuniform vec3 hiddenEdgeColor;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tvec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);\n\t\t\t\t\tvec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);\n\t\t\t\t\tvec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);\n\t\t\t\t\tvec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);\n\t\t\t\t\tvec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);\n\t\t\t\t\tfloat diff1 = (c1.r - c2.r)*0.5;\n\t\t\t\t\tfloat diff2 = (c3.r - c4.r)*0.5;\n\t\t\t\t\tfloat d = length( vec2(diff1, diff2) );\n\t\t\t\t\tfloat a1 = min(c1.g, c2.g);\n\t\t\t\t\tfloat a2 = min(c3.g, c4.g);\n\t\t\t\t\tfloat visibilityFactor = min(a1, a2);\n\t\t\t\t\tvec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;\n\t\t\t\t\tgl_FragColor = vec4(edgeColor, 1.0) * vec4(d);\n\t\t\t\t}"})}getSeperableBlurMaterial(a){return new jo({defines:{MAX_RADIUS:a},uniforms:{colorTexture:{value:null},texSize:{value:new ut(.5,.5)},direction:{value:new ut(.5,.5)},kernelRadius:{value:1}},vertexShader:"varying vec2 vUv;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec2 direction;\n\t\t\t\tuniform float kernelRadius;\n\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tfloat sigma = kernelRadius/2.0;\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, sigma);\n\t\t\t\t\tvec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;\n\t\t\t\t\tvec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);\n\t\t\t\t\tvec2 uvOffset = delta;\n\t\t\t\t\tfor( int i = 1; i <= MAX_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = kernelRadius * float(i) / float(MAX_RADIUS);\n\t\t\t\t\t\tfloat w = gaussianPdf(x, sigma);\n\t\t\t\t\t\tvec4 sample1 = texture2D( colorTexture, vUv + uvOffset);\n\t\t\t\t\t\tvec4 sample2 = texture2D( colorTexture, vUv - uvOffset);\n\t\t\t\t\t\tdiffuseSum += ((sample1 + sample2) * w);\n\t\t\t\t\t\tweightSum += (2.0 * w);\n\t\t\t\t\t\tuvOffset += delta;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = diffuseSum/weightSum;\n\t\t\t\t}"})}getOverlayMaterial(){return new jo({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:"varying vec2 vUv;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\n\t\t\t\tuniform sampler2D maskTexture;\n\t\t\t\tuniform sampler2D edgeTexture1;\n\t\t\t\tuniform sampler2D edgeTexture2;\n\t\t\t\tuniform sampler2D patternTexture;\n\t\t\t\tuniform float edgeStrength;\n\t\t\t\tuniform float edgeGlow;\n\t\t\t\tuniform bool usePatternTexture;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 edgeValue1 = texture2D(edgeTexture1, vUv);\n\t\t\t\t\tvec4 edgeValue2 = texture2D(edgeTexture2, vUv);\n\t\t\t\t\tvec4 maskColor = texture2D(maskTexture, vUv);\n\t\t\t\t\tvec4 patternColor = texture2D(patternTexture, 6.0 * vUv);\n\t\t\t\t\tfloat visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;\n\t\t\t\t\tvec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;\n\t\t\t\t\tvec4 finalColor = edgeStrength * maskColor.r * edgeValue;\n\t\t\t\t\tif(usePatternTexture)\n\t\t\t\t\t\tfinalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);\n\t\t\t\t\tgl_FragColor = finalColor;\n\t\t\t\t}",blending:2,depthTest:!1,depthWrite:!1,transparent:!0})}}Cf.BlurDirectionX=new ut(1,0),Cf.BlurDirectionY=new ut(0,1);const V$e={uniforms:{tDiffuse:{value:null},resolution:{value:new ut(1/1024,1/512)}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\tprecision highp float;\n\n\tuniform sampler2D tDiffuse;\n\n\tuniform vec2 resolution;\n\n\tvarying vec2 vUv;\n\n\t// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)\n\n\t//----------------------------------------------------------------------------------\n\t// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag\n\t// SDK Version: v3.00\n\t// Email:       gameworks@nvidia.com\n\t// Site:        http://developer.nvidia.com/\n\t//\n\t// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.\n\t//\n\t// Redistribution and use in source and binary forms, with or without\n\t// modification, are permitted provided that the following conditions\n\t// are met:\n\t//  * Redistributions of source code must retain the above copyright\n\t//    notice, this list of conditions and the following disclaimer.\n\t//  * Redistributions in binary form must reproduce the above copyright\n\t//    notice, this list of conditions and the following disclaimer in the\n\t//    documentation and/or other materials provided with the distribution.\n\t//  * Neither the name of NVIDIA CORPORATION nor the names of its\n\t//    contributors may be used to endorse or promote products derived\n\t//    from this software without specific prior written permission.\n\t//\n\t// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ''AS IS'' AND ANY\n\t// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n\t// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n\t// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n\t// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n\t// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n\t// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n\t// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n\t// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n\t// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n\t// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\t//\n\t//----------------------------------------------------------------------------------\n\n\t#ifndef FXAA_DISCARD\n\t\t\t//\n\t\t\t// Only valid for PC OpenGL currently.\n\t\t\t// Probably will not work when FXAA_GREEN_AS_LUMA = 1.\n\t\t\t//\n\t\t\t// 1 = Use discard on pixels which don't need AA.\n\t\t\t//     For APIs which enable concurrent TEX+ROP from same surface.\n\t\t\t// 0 = Return unchanged color on pixels which don't need AA.\n\t\t\t//\n\t\t\t#define FXAA_DISCARD 0\n\t#endif\n\n\t/*--------------------------------------------------------------------------*/\n\t#define FxaaTexTop(t, p) texture2D(t, p, -100.0)\n\t#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), -100.0)\n\t/*--------------------------------------------------------------------------*/\n\n\t#define NUM_SAMPLES 5\n\n\t// assumes colors have premultipliedAlpha, so that the calculated color contrast is scaled by alpha\n\tfloat contrast( vec4 a, vec4 b ) {\n\t\t\tvec4 diff = abs( a - b );\n\t\t\treturn max( max( max( diff.r, diff.g ), diff.b ), diff.a );\n\t}\n\n\t/*============================================================================\n\n\t\t\t\t\t\t\t\t\tFXAA3 QUALITY - PC\n\n\t============================================================================*/\n\n\t/*--------------------------------------------------------------------------*/\n\tvec4 FxaaPixelShader(\n\t\t\tvec2 posM,\n\t\t\tsampler2D tex,\n\t\t\tvec2 fxaaQualityRcpFrame,\n\t\t\tfloat fxaaQualityEdgeThreshold,\n\t\t\tfloat fxaaQualityinvEdgeThreshold\n\t) {\n\t\t\tvec4 rgbaM = FxaaTexTop(tex, posM);\n\t\t\tvec4 rgbaS = FxaaTexOff(tex, posM, vec2( 0.0, 1.0), fxaaQualityRcpFrame.xy);\n\t\t\tvec4 rgbaE = FxaaTexOff(tex, posM, vec2( 1.0, 0.0), fxaaQualityRcpFrame.xy);\n\t\t\tvec4 rgbaN = FxaaTexOff(tex, posM, vec2( 0.0,-1.0), fxaaQualityRcpFrame.xy);\n\t\t\tvec4 rgbaW = FxaaTexOff(tex, posM, vec2(-1.0, 0.0), fxaaQualityRcpFrame.xy);\n\t\t\t// . S .\n\t\t\t// W M E\n\t\t\t// . N .\n\n\t\t\tbool earlyExit = max( max( max(\n\t\t\t\t\tcontrast( rgbaM, rgbaN ),\n\t\t\t\t\tcontrast( rgbaM, rgbaS ) ),\n\t\t\t\t\tcontrast( rgbaM, rgbaE ) ),\n\t\t\t\t\tcontrast( rgbaM, rgbaW ) )\n\t\t\t\t\t< fxaaQualityEdgeThreshold;\n\t\t\t// . 0 .\n\t\t\t// 0 0 0\n\t\t\t// . 0 .\n\n\t\t\t#if (FXAA_DISCARD == 1)\n\t\t\t\t\tif(earlyExit) FxaaDiscard;\n\t\t\t#else\n\t\t\t\t\tif(earlyExit) return rgbaM;\n\t\t\t#endif\n\n\t\t\tfloat contrastN = contrast( rgbaM, rgbaN );\n\t\t\tfloat contrastS = contrast( rgbaM, rgbaS );\n\t\t\tfloat contrastE = contrast( rgbaM, rgbaE );\n\t\t\tfloat contrastW = contrast( rgbaM, rgbaW );\n\n\t\t\tfloat relativeVContrast = ( contrastN + contrastS ) - ( contrastE + contrastW );\n\t\t\trelativeVContrast *= fxaaQualityinvEdgeThreshold;\n\n\t\t\tbool horzSpan = relativeVContrast > 0.;\n\t\t\t// . 1 .\n\t\t\t// 0 0 0\n\t\t\t// . 1 .\n\n\t\t\t// 45 deg edge detection and corners of objects, aka V/H contrast is too similar\n\t\t\tif( abs( relativeVContrast ) < .3 ) {\n\t\t\t\t\t// locate the edge\n\t\t\t\t\tvec2 dirToEdge;\n\t\t\t\t\tdirToEdge.x = contrastE > contrastW ? 1. : -1.;\n\t\t\t\t\tdirToEdge.y = contrastS > contrastN ? 1. : -1.;\n\t\t\t\t\t// . 2 .      . 1 .\n\t\t\t\t\t// 1 0 2  ~=  0 0 1\n\t\t\t\t\t// . 1 .      . 0 .\n\n\t\t\t\t\t// tap 2 pixels and see which ones are \"outside\" the edge, to\n\t\t\t\t\t// determine if the edge is vertical or horizontal\n\n\t\t\t\t\tvec4 rgbaAlongH = FxaaTexOff(tex, posM, vec2( dirToEdge.x, -dirToEdge.y ), fxaaQualityRcpFrame.xy);\n\t\t\t\t\tfloat matchAlongH = contrast( rgbaM, rgbaAlongH );\n\t\t\t\t\t// . 1 .\n\t\t\t\t\t// 0 0 1\n\t\t\t\t\t// . 0 H\n\n\t\t\t\t\tvec4 rgbaAlongV = FxaaTexOff(tex, posM, vec2( -dirToEdge.x, dirToEdge.y ), fxaaQualityRcpFrame.xy);\n\t\t\t\t\tfloat matchAlongV = contrast( rgbaM, rgbaAlongV );\n\t\t\t\t\t// V 1 .\n\t\t\t\t\t// 0 0 1\n\t\t\t\t\t// . 0 .\n\n\t\t\t\t\trelativeVContrast = matchAlongV - matchAlongH;\n\t\t\t\t\trelativeVContrast *= fxaaQualityinvEdgeThreshold;\n\n\t\t\t\t\tif( abs( relativeVContrast ) < .3 ) { // 45 deg edge\n\t\t\t\t\t\t\t// 1 1 .\n\t\t\t\t\t\t\t// 0 0 1\n\t\t\t\t\t\t\t// . 0 1\n\n\t\t\t\t\t\t\t// do a simple blur\n\t\t\t\t\t\t\treturn mix(\n\t\t\t\t\t\t\t\t\trgbaM,\n\t\t\t\t\t\t\t\t\t(rgbaN + rgbaS + rgbaE + rgbaW) * .25,\n\t\t\t\t\t\t\t\t\t.4\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\thorzSpan = relativeVContrast > 0.;\n\t\t\t}\n\n\t\t\tif(!horzSpan) rgbaN = rgbaW;\n\t\t\tif(!horzSpan) rgbaS = rgbaE;\n\t\t\t// . 0 .      1\n\t\t\t// 1 0 1  ->  0\n\t\t\t// . 0 .      1\n\n\t\t\tbool pairN = contrast( rgbaM, rgbaN ) > contrast( rgbaM, rgbaS );\n\t\t\tif(!pairN) rgbaN = rgbaS;\n\n\t\t\tvec2 offNP;\n\t\t\toffNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\n\t\t\toffNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\n\n\t\t\tbool doneN = false;\n\t\t\tbool doneP = false;\n\n\t\t\tfloat nDist = 0.;\n\t\t\tfloat pDist = 0.;\n\n\t\t\tvec2 posN = posM;\n\t\t\tvec2 posP = posM;\n\n\t\t\tint iterationsUsed = 0;\n\t\t\tint iterationsUsedN = 0;\n\t\t\tint iterationsUsedP = 0;\n\t\t\tfor( int i = 0; i < NUM_SAMPLES; i++ ) {\n\t\t\t\t\titerationsUsed = i;\n\n\t\t\t\t\tfloat increment = float(i + 1);\n\n\t\t\t\t\tif(!doneN) {\n\t\t\t\t\t\t\tnDist += increment;\n\t\t\t\t\t\t\tposN = posM + offNP * nDist;\n\t\t\t\t\t\t\tvec4 rgbaEndN = FxaaTexTop(tex, posN.xy);\n\t\t\t\t\t\t\tdoneN = contrast( rgbaEndN, rgbaM ) > contrast( rgbaEndN, rgbaN );\n\t\t\t\t\t\t\titerationsUsedN = i;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!doneP) {\n\t\t\t\t\t\t\tpDist += increment;\n\t\t\t\t\t\t\tposP = posM - offNP * pDist;\n\t\t\t\t\t\t\tvec4 rgbaEndP = FxaaTexTop(tex, posP.xy);\n\t\t\t\t\t\t\tdoneP = contrast( rgbaEndP, rgbaM ) > contrast( rgbaEndP, rgbaN );\n\t\t\t\t\t\t\titerationsUsedP = i;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(doneN || doneP) break;\n\t\t\t}\n\n\n\t\t\tif ( !doneP && !doneN ) return rgbaM; // failed to find end of edge\n\n\t\t\tfloat dist = min(\n\t\t\t\t\tdoneN ? float( iterationsUsedN ) / float( NUM_SAMPLES - 1 ) : 1.,\n\t\t\t\t\tdoneP ? float( iterationsUsedP ) / float( NUM_SAMPLES - 1 ) : 1.\n\t\t\t);\n\n\t\t\t// hacky way of reduces blurriness of mostly diagonal edges\n\t\t\t// but reduces AA quality\n\t\t\tdist = pow(dist, .5);\n\n\t\t\tdist = 1. - dist;\n\n\t\t\treturn mix(\n\t\t\t\t\trgbaM,\n\t\t\t\t\trgbaN,\n\t\t\t\t\tdist * .5\n\t\t\t);\n\t}\n\n\tvoid main() {\n\t\t\tconst float edgeDetectionQuality = .2;\n\t\t\tconst float invEdgeDetectionQuality = 1. / edgeDetectionQuality;\n\n\t\t\tgl_FragColor = FxaaPixelShader(\n\t\t\t\t\tvUv,\n\t\t\t\t\ttDiffuse,\n\t\t\t\t\tresolution,\n\t\t\t\t\tedgeDetectionQuality, // [0,1] contrast needed, otherwise early discard\n\t\t\t\t\tinvEdgeDetectionQuality\n\t\t\t);\n\n\t}\n\t"};class z$e extends xx{constructor(){super(...arguments),this.renderer=null,this.camera=null,this.scene=null,this.light=null,this.cube=null,this.mouseX=0,this.mouseY=0,this.composer=null,this.effectFXAA=null,this.outlinePass=null,this.frameId=null}dispose(){null!=this.frameId&&cancelAnimationFrame(this.frameId),null!=this.renderer&&(this.renderer.dispose(),this.renderer=null)}init(a){this.renderer=a;let o=this.canvasWidth,c=this.canvasHeight;this.renderer.setSize(o,c),this.renderer.setClearColor(255,1),this.scene=new sx,this.camera=new Rs(75,o/c,.1,1e3),this.camera.position.z=5,this.scene.add(this.camera),this.light=new TD(4210752),this.light.position.z=10,this.scene.add(this.light);const u=new Jh(1,1,1),h=new Ps({color:65280,wireframe:!1,transparent:!0}),d=new Ps({color:0,wireframe:!0,transparent:!0});this.cube=new Vi(u,h),this.cube.add(new Vi(u,d)),this.scene.add(this.cube),this.composer=new L$e(this.renderer);const f=new B$e(this.scene,this.camera);this.composer.addPass(f),this.outlinePass=new Cf(new ut(o,c),this.scene,this.camera),this.composer.addPass(this.outlinePass),this.effectFXAA=new ZB(V$e),this.effectFXAA.uniforms.resolution.value.set(1/o,1/c),this.composer.addPass(this.effectFXAA),this.composer.setSize(o,c),this.outlinePass.selectedObjects=[this.cube];const p=document.createElement("canvas");p.width=128,p.height=128;const m=p.getContext("2d");m.fillStyle="red",m.fillRect(0,0,p.width,p.height);const v=new fie(p);v.wrapS=bv,v.wrapT=bv,this.outlinePass.patternTexture=v,this.outlinePass.edgeStrength=10,this.outlinePass.edgeGlow=1,this.outlinePass.edgeThickness=1,this.outlinePass.pulsePeriod=0,this.outlinePass.usePatternTexture=!0,this.outlinePass.visibleEdgeColor=new tn(16746632)}onMouseMove(a){let c=this.canvasHeight/2;this.mouseX=a.clientX-this.canvasWidth/2,this.mouseY=a.clientY-c}onResize(){const a=this.canvasWidth,o=this.canvasHeight;this.camera.aspect=a/o,this.camera.updateProjectionMatrix(),this.renderer.setSize(a,o),this.composer.setSize(a,o)}render(){this.frameId=requestAnimationFrame(()=>{this.render()}),this.cube&&(this.cube.rotation.x+=.01,this.cube.rotation.y+=.01),this.composer&&this.composer.render()}}var rd=(()=>(function(l){l[l.Vertexes=0]="Vertexes",l[l.Normals=1]="Normals",l[l.UV=2]="UV"}(rd||(rd={})),rd))();class u_{constructor(){this.vertexes=[],this.normals=[],this.uv=[]}static builder(){return new u_}addTriangle(a,o,c,u,h,d){this.vertexes.push(a,o,c);let f=new ee;f.copy(o),f.sub(a);let p=new ee;p.copy(c),p.sub(a);let g=f.cross(p);return g=g.normalize(),this.normals.push(g,g,g),this}addPlaneXY(a,o,c,u=0,h=0){let d=new ee(a.x,a.y,a.z),f=new ee(a.x,a.y,a.z),p=new ee(a.x,a.y,a.z),g=new ee(a.x,a.y,a.z);f.add(new ee(o,0,0)),p.add(new ee(0,-c,0)),g.add(new ee(o,-c,0));let m=new Ha;return m.set(1,0,0,Math.tan(-h),1,0,0,0,1),d.applyMatrix3(m),f.applyMatrix3(m),p.applyMatrix3(m),g.applyMatrix3(m),this.addTriangle(d,p,f,new ut(0,0),new ut(0,1),new ut(1,0)),this.addTriangle(f,p,g,new ut(1,0),new ut(0,1),new ut(1,1)),this}toPlainArray(a=rd.Vertexes){switch(a){case rd.Normals:return this.normals.flatMap(o=>[o.x,o.y,o.z]);case rd.UV:return this.uv.flatMap(o=>[o.x,o.y]);default:return this.vertexes.flatMap(o=>[o.x,o.y,o.z])}}}function wx(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function U$e(l,a){this.source=l,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=a,this.destLen=0,this.ltree=new wx,this.dtree=new wx}String.prototype.codePointAt||function(){var l=function(){try{var o={},c=Object.defineProperty,u=c(o,o,o)&&c}catch(h){}return u}(),a=function(o){if(null==this)throw TypeError();var c=String(this),u=c.length,h=o?Number(o):0;if(h!=h&&(h=0),!(h<0||h>=u)){var f,d=c.charCodeAt(h);return d>=55296&&d<=56319&&u>h+1&&(f=c.charCodeAt(h+1))>=56320&&f<=57343?1024*(d-55296)+f-56320+65536:d}};l?l(String.prototype,"codePointAt",{value:a,configurable:!0,writable:!0}):String.prototype.codePointAt=a}();var fre=new wx,pre=new wx,QB=new Uint8Array(30),JB=new Uint16Array(30),gre=new Uint8Array(30),mre=new Uint16Array(30),H$e=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vre=new wx,Xu=new Uint8Array(320);function _re(l,a,o,c){var u,h;for(u=0;u<o;++u)l[u]=0;for(u=0;u<30-o;++u)l[u+o]=u/o|0;for(h=c,u=0;u<30;++u)a[u]=h,h+=1<<l[u]}var yre=new Uint16Array(16);function e5(l,a,o,c){var u,h;for(u=0;u<16;++u)l.table[u]=0;for(u=0;u<c;++u)l.table[a[o+u]]++;for(l.table[0]=0,h=0,u=0;u<16;++u)yre[u]=h,h+=l.table[u];for(u=0;u<c;++u)a[o+u]&&(l.trans[yre[a[o+u]]++]=u)}function W$e(l){l.bitcount--||(l.tag=l.source[l.sourceIndex++],l.bitcount=7);var a=1&l.tag;return l.tag>>>=1,a}function Ku(l,a,o){if(!a)return o;for(;l.bitcount<24;)l.tag|=l.source[l.sourceIndex++]<<l.bitcount,l.bitcount+=8;var c=l.tag&65535>>>16-a;return l.tag>>>=a,l.bitcount-=a,c+o}function t5(l,a){for(;l.bitcount<24;)l.tag|=l.source[l.sourceIndex++]<<l.bitcount,l.bitcount+=8;var o=0,c=0,u=0,h=l.tag;do{c=2*c+(1&h),h>>>=1,++u,o+=a.table[u],c-=a.table[u]}while(c>=0);return l.tag=h,l.bitcount-=u,a.trans[o+c]}function j$e(l,a,o){var c,u,h,d,f,p;for(c=Ku(l,5,257),u=Ku(l,5,1),h=Ku(l,4,4),d=0;d<19;++d)Xu[d]=0;for(d=0;d<h;++d){var g=Ku(l,3,0);Xu[H$e[d]]=g}for(e5(vre,Xu,0,19),f=0;f<c+u;){var m=t5(l,vre);switch(m){case 16:var v=Xu[f-1];for(p=Ku(l,2,3);p;--p)Xu[f++]=v;break;case 17:for(p=Ku(l,3,3);p;--p)Xu[f++]=0;break;case 18:for(p=Ku(l,7,11);p;--p)Xu[f++]=0;break;default:Xu[f++]=m}}e5(a,Xu,0,c),e5(o,Xu,c,u)}function bre(l,a,o){for(;;){var u,h,d,f,c=t5(l,a);if(256===c)return 0;if(c<256)l.dest[l.destLen++]=c;else for(u=Ku(l,QB[c-=257],JB[c]),h=t5(l,o),f=d=l.destLen-Ku(l,gre[h],mre[h]);f<d+u;++f)l.dest[l.destLen++]=l.dest[f]}}function $$e(l){for(var a,c;l.bitcount>8;)l.sourceIndex--,l.bitcount-=8;if((a=256*(a=l.source[l.sourceIndex+1])+l.source[l.sourceIndex])!==(65535&~(256*l.source[l.sourceIndex+3]+l.source[l.sourceIndex+2])))return-3;for(l.sourceIndex+=4,c=a;c;--c)l.dest[l.destLen++]=l.source[l.sourceIndex++];return l.bitcount=0,0}(function G$e(l,a){var o;for(o=0;o<7;++o)l.table[o]=0;for(l.table[7]=24,l.table[8]=152,l.table[9]=112,o=0;o<24;++o)l.trans[o]=256+o;for(o=0;o<144;++o)l.trans[24+o]=o;for(o=0;o<8;++o)l.trans[168+o]=280+o;for(o=0;o<112;++o)l.trans[176+o]=144+o;for(o=0;o<5;++o)a.table[o]=0;for(a.table[5]=32,o=0;o<32;++o)a.trans[o]=o})(fre,pre),_re(QB,JB,4,3),_re(gre,mre,2,1),QB[28]=0,JB[28]=258;function h_(l,a,o,c,u){return Math.pow(1-u,3)*l+3*Math.pow(1-u,2)*u*a+3*(1-u)*Math.pow(u,2)*o+Math.pow(u,3)*c}function sd(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Fs(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function xre(l){throw new Error(l)}function Cre(l,a){l||xre(a)}sd.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},sd.prototype.addPoint=function(l,a){"number"==typeof l&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=l,this.x2=l),l<this.x1&&(this.x1=l),l>this.x2&&(this.x2=l)),"number"==typeof a&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=a,this.y2=a),a<this.y1&&(this.y1=a),a>this.y2&&(this.y2=a))},sd.prototype.addX=function(l){this.addPoint(l,null)},sd.prototype.addY=function(l){this.addPoint(null,l)},sd.prototype.addBezier=function(l,a,o,c,u,h,d,f){var p=[l,a],g=[o,c],m=[u,h],v=[d,f];this.addPoint(l,a),this.addPoint(d,f);for(var _=0;_<=1;_++){var y=6*p[_]-12*g[_]+6*m[_],b=-3*p[_]+9*g[_]-9*m[_]+3*v[_],C=3*g[_]-3*p[_];if(0!==b){var w=Math.pow(y,2)-4*C*b;if(!(w<0)){var S=(-y+Math.sqrt(w))/(2*b);0<S&&S<1&&(0===_&&this.addX(h_(p[_],g[_],m[_],v[_],S)),1===_&&this.addY(h_(p[_],g[_],m[_],v[_],S)));var M=(-y-Math.sqrt(w))/(2*b);0<M&&M<1&&(0===_&&this.addX(h_(p[_],g[_],m[_],v[_],M)),1===_&&this.addY(h_(p[_],g[_],m[_],v[_],M)))}}else{if(0===y)continue;var x=-C/y;0<x&&x<1&&(0===_&&this.addX(h_(p[_],g[_],m[_],v[_],x)),1===_&&this.addY(h_(p[_],g[_],m[_],v[_],x)))}}},sd.prototype.addQuad=function(l,a,o,c,u,h){var d=l+.6666666666666666*(o-l),f=a+2/3*(c-a);this.addBezier(l,a,d,f,d+1/3*(u-l),f+1/3*(h-a),u,h)},Fs.prototype.moveTo=function(l,a){this.commands.push({type:"M",x:l,y:a})},Fs.prototype.lineTo=function(l,a){this.commands.push({type:"L",x:l,y:a})},Fs.prototype.curveTo=Fs.prototype.bezierCurveTo=function(l,a,o,c,u,h){this.commands.push({type:"C",x1:l,y1:a,x2:o,y2:c,x:u,y:h})},Fs.prototype.quadTo=Fs.prototype.quadraticCurveTo=function(l,a,o,c){this.commands.push({type:"Q",x1:l,y1:a,x:o,y:c})},Fs.prototype.close=Fs.prototype.closePath=function(){this.commands.push({type:"Z"})},Fs.prototype.extend=function(l){if(l.commands)l=l.commands;else if(l instanceof sd){var a=l;return this.moveTo(a.x1,a.y1),this.lineTo(a.x2,a.y1),this.lineTo(a.x2,a.y2),this.lineTo(a.x1,a.y2),void this.close()}Array.prototype.push.apply(this.commands,l)},Fs.prototype.getBoundingBox=function(){for(var l=new sd,a=0,o=0,c=0,u=0,h=0;h<this.commands.length;h++){var d=this.commands[h];switch(d.type){case"M":l.addPoint(d.x,d.y),a=c=d.x,o=u=d.y;break;case"L":l.addPoint(d.x,d.y),c=d.x,u=d.y;break;case"Q":l.addQuad(c,u,d.x1,d.y1,d.x,d.y),c=d.x,u=d.y;break;case"C":l.addBezier(c,u,d.x1,d.y1,d.x2,d.y2,d.x,d.y),c=d.x,u=d.y;break;case"Z":c=a,u=o;break;default:throw new Error("Unexpected path command "+d.type)}}return l.isEmpty()&&l.addPoint(0,0),l},Fs.prototype.draw=function(l){l.beginPath();for(var a=0;a<this.commands.length;a+=1){var o=this.commands[a];"M"===o.type?l.moveTo(o.x,o.y):"L"===o.type?l.lineTo(o.x,o.y):"C"===o.type?l.bezierCurveTo(o.x1,o.y1,o.x2,o.y2,o.x,o.y):"Q"===o.type?l.quadraticCurveTo(o.x1,o.y1,o.x,o.y):"Z"===o.type&&l.closePath()}this.fill&&(l.fillStyle=this.fill,l.fill()),this.stroke&&(l.strokeStyle=this.stroke,l.lineWidth=this.strokeWidth,l.stroke())},Fs.prototype.toPathData=function(l){function a(d){return Math.round(d)===d?""+Math.round(d):d.toFixed(l)}function o(){for(var d=arguments,f="",p=0;p<arguments.length;p+=1){var g=d[p];g>=0&&p>0&&(f+=" "),f+=a(g)}return f}l=void 0!==l?l:2;for(var c="",u=0;u<this.commands.length;u+=1){var h=this.commands[u];"M"===h.type?c+="M"+o(h.x,h.y):"L"===h.type?c+="L"+o(h.x,h.y):"C"===h.type?c+="C"+o(h.x1,h.y1,h.x2,h.y2,h.x,h.y):"Q"===h.type?c+="Q"+o(h.x1,h.y1,h.x,h.y):"Z"===h.type&&(c+="Z")}return c},Fs.prototype.toSVG=function(l){var a='<path d="';return a+=this.toPathData(l),a+='"',this.fill&&"black"!==this.fill&&(a+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(a+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),a+"/>"},Fs.prototype.toDOMElement=function(l){var a=this.toPathData(l),o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d",a),o};var On={fail:xre,argument:Cre,assert:Cre},d_={},nn={},qn={};function Zc(l){return function(){return l}}nn.BYTE=function(l){return On.argument(l>=0&&l<=255,"Byte value should be between 0 and 255."),[l]},qn.BYTE=Zc(1),nn.CHAR=function(l){return[l.charCodeAt(0)]},qn.CHAR=Zc(1),nn.CHARARRAY=function(l){void 0===l&&(l="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var a=[],o=0;o<l.length;o+=1)a[o]=l.charCodeAt(o);return a},qn.CHARARRAY=function(l){return void 0===l?0:l.length},nn.USHORT=function(l){return[l>>8&255,255&l]},qn.USHORT=Zc(2),nn.SHORT=function(l){return l>=32768&&(l=-(65536-l)),[l>>8&255,255&l]},qn.SHORT=Zc(2),nn.UINT24=function(l){return[l>>16&255,l>>8&255,255&l]},qn.UINT24=Zc(3),nn.ULONG=function(l){return[l>>24&255,l>>16&255,l>>8&255,255&l]},qn.ULONG=Zc(4),nn.LONG=function(l){return l>=2147483648&&(l=-(4294967296-l)),[l>>24&255,l>>16&255,l>>8&255,255&l]},qn.LONG=Zc(4),nn.FIXED=nn.ULONG,qn.FIXED=qn.ULONG,nn.FWORD=nn.SHORT,qn.FWORD=qn.SHORT,nn.UFWORD=nn.USHORT,qn.UFWORD=qn.USHORT,nn.LONGDATETIME=function(l){return[0,0,0,0,l>>24&255,l>>16&255,l>>8&255,255&l]},qn.LONGDATETIME=Zc(8),nn.TAG=function(l){return On.argument(4===l.length,"Tag should be exactly 4 ASCII characters."),[l.charCodeAt(0),l.charCodeAt(1),l.charCodeAt(2),l.charCodeAt(3)]},qn.TAG=Zc(4),nn.Card8=nn.BYTE,qn.Card8=qn.BYTE,nn.Card16=nn.USHORT,qn.Card16=qn.USHORT,nn.OffSize=nn.BYTE,qn.OffSize=qn.BYTE,nn.SID=nn.USHORT,qn.SID=qn.USHORT,nn.NUMBER=function(l){return l>=-107&&l<=107?[l+139]:l>=108&&l<=1131?[247+((l-=108)>>8),255&l]:l>=-1131&&l<=-108?[251+((l=-l-108)>>8),255&l]:l>=-32768&&l<=32767?nn.NUMBER16(l):nn.NUMBER32(l)},qn.NUMBER=function(l){return nn.NUMBER(l).length},nn.NUMBER16=function(l){return[28,l>>8&255,255&l]},qn.NUMBER16=Zc(3),nn.NUMBER32=function(l){return[29,l>>24&255,l>>16&255,l>>8&255,255&l]},qn.NUMBER32=Zc(5),nn.REAL=function(l){var a=l.toString(),o=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(a);if(o){var c=parseFloat("1e"+((o[2]?+o[2]:0)+o[1].length));a=(Math.round(l*c)/c).toString()}for(var u="",h=0,d=a.length;h<d;h+=1){var f=a[h];u+="e"===f?"-"===a[++h]?"c":"b":"."===f?"a":"-"===f?"e":f}for(var p=[30],g=0,m=(u+=1&u.length?"f":"ff").length;g<m;g+=2)p.push(parseInt(u.substr(g,2),16));return p},qn.REAL=function(l){return nn.REAL(l).length},nn.NAME=nn.CHARARRAY,qn.NAME=qn.CHARARRAY,nn.STRING=nn.CHARARRAY,qn.STRING=qn.CHARARRAY,d_.UTF8=function(l,a,o){for(var c=[],u=o,h=0;h<u;h++,a+=1)c[h]=l.getUint8(a);return String.fromCharCode.apply(null,c)},d_.UTF16=function(l,a,o){for(var c=[],u=o/2,h=0;h<u;h++,a+=2)c[h]=l.getUint16(a);return String.fromCharCode.apply(null,c)},nn.UTF16=function(l){for(var a=[],o=0;o<l.length;o+=1){var c=l.charCodeAt(o);a[a.length]=c>>8&255,a[a.length]=255&c}return a},qn.UTF16=function(l){return 2*l.length};var n5={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"};d_.MACSTRING=function(l,a,o,c){var u=n5[c];if(void 0!==u){for(var h="",d=0;d<o;d++){var f=l.getUint8(a+d);h+=f<=127?String.fromCharCode(f):u[127&f]}return h}};var FD,RD="function"==typeof WeakMap&&new WeakMap;function i5(l){return l>=-128&&l<=127}function X$e(l,a,o){for(var c=0,u=l.length;a<u&&c<64&&0===l[a];)++a,++c;return o.push(128|c-1),a}function K$e(l,a,o){for(var c=0,u=l.length,h=a;h<u&&c<64;){var d=l[h];if(!i5(d)||0===d&&h+1<u&&0===l[h+1])break;++h,++c}o.push(c-1);for(var f=a;f<h;++f)o.push(l[f]+256&255);return h}function Q$e(l,a,o){for(var c=0,u=l.length,h=a;h<u&&c<64;){var d=l[h];if(0===d||i5(d)&&h+1<u&&i5(l[h+1]))break;++h,++c}o.push(64|c-1);for(var f=a;f<h;++f){var p=l[f];o.push(p+65536>>8&255,p+256&255)}return h}nn.MACSTRING=function(l,a){var o=function(l){if(!FD)for(var a in FD={},n5)FD[a]=new String(a);var o=FD[l];if(void 0!==o){if(RD){var c=RD.get(o);if(void 0!==c)return c}var u=n5[l];if(void 0!==u){for(var h={},d=0;d<u.length;d++)h[u.charCodeAt(d)]=d+128;return RD&&RD.set(o,h),h}}}(a);if(void 0!==o){for(var c=[],u=0;u<l.length;u++){var h=l.charCodeAt(u);if(h>=128&&void 0===(h=o[h]))return;c[u]=h}return c}},qn.MACSTRING=function(l,a){var o=nn.MACSTRING(l,a);return void 0!==o?o.length:0},nn.VARDELTAS=function(l){for(var a=0,o=[];a<l.length;){var c=l[a];a=0===c?X$e(l,a,o):c>=-128&&c<=127?K$e(l,a,o):Q$e(l,a,o)}return o},nn.INDEX=function(l){for(var a=1,o=[a],c=[],u=0;u<l.length;u+=1){var h=nn.OBJECT(l[u]);Array.prototype.push.apply(c,h),o.push(a+=h.length)}if(0===c.length)return[0,0];for(var d=[],f=1+Math.floor(Math.log(a)/Math.log(2))/8|0,p=[void 0,nn.BYTE,nn.USHORT,nn.UINT24,nn.ULONG][f],g=0;g<o.length;g+=1){var m=p(o[g]);Array.prototype.push.apply(d,m)}return Array.prototype.concat(nn.Card16(l.length),nn.OffSize(f),d,c)},qn.INDEX=function(l){return nn.INDEX(l).length},nn.DICT=function(l){for(var a=[],o=Object.keys(l),c=o.length,u=0;u<c;u+=1){var h=parseInt(o[u],0),d=l[h];a=(a=a.concat(nn.OPERAND(d.value,d.type))).concat(nn.OPERATOR(h))}return a},qn.DICT=function(l){return nn.DICT(l).length},nn.OPERATOR=function(l){return l<1200?[l]:[12,l-1200]},nn.OPERAND=function(l,a){var o=[];if(Array.isArray(a))for(var c=0;c<a.length;c+=1)On.argument(l.length===a.length,"Not enough arguments given for type"+a),o=o.concat(nn.OPERAND(l[c],a[c]));else if("SID"===a)o=o.concat(nn.NUMBER(l));else if("offset"===a)o=o.concat(nn.NUMBER32(l));else if("number"===a)o=o.concat(nn.NUMBER(l));else{if("real"!==a)throw new Error("Unknown operand type "+a);o=o.concat(nn.REAL(l))}return o},nn.OP=nn.BYTE,qn.OP=qn.BYTE;var LD="function"==typeof WeakMap&&new WeakMap;function ho(l,a,o){if(a.length&&("coverageFormat"!==a[0].name||1===a[0].value))for(var c=0;c<a.length;c+=1){var u=a[c];this[u.name]=u.value}if(this.tableName=l,this.fields=a,o)for(var h=Object.keys(o),d=0;d<h.length;d+=1){var f=h[d];void 0!==this[f]&&(this[f]=o[f])}}function Sx(l,a,o){void 0===o&&(o=a.length);var c=new Array(a.length+1);c[0]={name:l+"Count",type:"USHORT",value:o};for(var u=0;u<a.length;u++)c[u+1]={name:l+u,type:"USHORT",value:a[u]};return c}function r5(l,a,o){var c=a.length,u=new Array(c+1);u[0]={name:l+"Count",type:"USHORT",value:c};for(var h=0;h<c;h++)u[h+1]={name:l+h,type:"TABLE",value:o(a[h],h)};return u}function Tx(l,a,o){var c=a.length,u=[];u[0]={name:l+"Count",type:"USHORT",value:c};for(var h=0;h<c;h++)u=u.concat(o(a[h],h));return u}function ND(l){1===l.format?ho.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Sx("glyph",l.glyphs))):2===l.format?ho.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(Tx("rangeRecord",l.ranges,function(a){return[{name:"startGlyphID",type:"USHORT",value:a.start},{name:"endGlyphID",type:"USHORT",value:a.end},{name:"startCoverageIndex",type:"USHORT",value:a.index}]}))):On.assert(!1,"Coverage format must be 1 or 2.")}function BD(l){ho.call(this,"scriptListTable",Tx("scriptRecord",l,function(a,o){var c=a.script,u=c.defaultLangSys;return On.assert(!!u,"Unable to write GSUB: script "+a.tag+" has no default language system."),[{name:"scriptTag"+o,type:"TAG",value:a.tag},{name:"script"+o,type:"TABLE",value:new ho("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ho("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:u.reqFeatureIndex}].concat(Sx("featureIndex",u.featureIndexes)))}].concat(Tx("langSys",c.langSysRecords,function(h,d){var f=h.langSys;return[{name:"langSysTag"+d,type:"TAG",value:h.tag},{name:"langSys"+d,type:"TABLE",value:new ho("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:f.reqFeatureIndex}].concat(Sx("featureIndex",f.featureIndexes)))}]})))}]}))}function VD(l){ho.call(this,"featureListTable",Tx("featureRecord",l,function(a,o){var c=a.feature;return[{name:"featureTag"+o,type:"TAG",value:a.tag},{name:"feature"+o,type:"TABLE",value:new ho("featureTable",[{name:"featureParams",type:"USHORT",value:c.featureParams}].concat(Sx("lookupListIndex",c.lookupListIndexes)))}]}))}function zD(l,a){ho.call(this,"lookupListTable",r5("lookup",l,function(o){var c=a[o.lookupType];return On.assert(!!c,"Unable to write GSUB lookup type "+o.lookupType+" tables."),new ho("lookupTable",[{name:"lookupType",type:"USHORT",value:o.lookupType},{name:"lookupFlag",type:"USHORT",value:o.lookupFlag}].concat(r5("subtable",o.subtables,c)))}))}nn.CHARSTRING=function(l){if(LD){var a=LD.get(l);if(void 0!==a)return a}for(var o=[],c=l.length,u=0;u<c;u+=1){var h=l[u];o=o.concat(nn[h.type](h.value))}return LD&&LD.set(l,o),o},qn.CHARSTRING=function(l){return nn.CHARSTRING(l).length},nn.OBJECT=function(l){var a=nn[l.type];return On.argument(void 0!==a,"No encoding function for type "+l.type),a(l.value)},qn.OBJECT=function(l){var a=qn[l.type];return On.argument(void 0!==a,"No sizeOf function for type "+l.type),a(l.value)},nn.TABLE=function(l){for(var a=[],o=l.fields.length,c=[],u=[],h=0;h<o;h+=1){var d=l.fields[h],f=nn[d.type];On.argument(void 0!==f,"No encoding function for field type "+d.type+" ("+d.name+")");var p=l[d.name];void 0===p&&(p=d.value);var g=f(p);"TABLE"===d.type?(u.push(a.length),a=a.concat([0,0]),c.push(g)):a=a.concat(g)}for(var m=0;m<c.length;m+=1){var v=u[m],_=a.length;On.argument(_<65536,"Table "+l.tableName+" too big."),a[v]=_>>8,a[v+1]=255&_,a=a.concat(c[m])}return a},qn.TABLE=function(l){for(var a=0,o=l.fields.length,c=0;c<o;c+=1){var u=l.fields[c],h=qn[u.type];On.argument(void 0!==h,"No sizeOf function for field type "+u.type+" ("+u.name+")");var d=l[u.name];void 0===d&&(d=u.value),a+=h(d),"TABLE"===u.type&&(a+=2)}return a},nn.RECORD=nn.TABLE,qn.RECORD=qn.TABLE,nn.LITERAL=function(l){return l},qn.LITERAL=function(l){return l.length},ho.prototype.encode=function(){return nn.TABLE(this)},ho.prototype.sizeOf=function(){return qn.TABLE(this)},(ND.prototype=Object.create(ho.prototype)).constructor=ND,(BD.prototype=Object.create(ho.prototype)).constructor=BD,(VD.prototype=Object.create(ho.prototype)).constructor=VD,(zD.prototype=Object.create(ho.prototype)).constructor=zD;var ln={Table:ho,Record:ho,Coverage:ND,ScriptList:BD,FeatureList:VD,LookupList:zD,ushortList:Sx,tableList:r5,recordList:Tx};function Tre(l,a){return l.getUint8(a)}function UD(l,a){return l.getUint16(a,!1)}function s5(l,a){return l.getUint32(a,!1)}function Mre(l,a){return l.getInt16(a,!1)+l.getUint16(a+2,!1)/65535}var rqe={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ke(l,a){this.data=l,this.offset=a,this.relativeOffset=0}Ke.prototype.parseByte=function(){var l=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,l},Ke.prototype.parseChar=function(){var l=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,l},Ke.prototype.parseCard8=Ke.prototype.parseByte,Ke.prototype.parseCard16=Ke.prototype.parseUShort=function(){var l=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,l},Ke.prototype.parseSID=Ke.prototype.parseUShort,Ke.prototype.parseOffset16=Ke.prototype.parseUShort,Ke.prototype.parseShort=function(){var l=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,l},Ke.prototype.parseF2Dot14=function(){var l=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,l},Ke.prototype.parseOffset32=Ke.prototype.parseULong=function(){var l=s5(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,l},Ke.prototype.parseFixed=function(){var l=Mre(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,l},Ke.prototype.parseString=function(l){var a=this.data,o=this.offset+this.relativeOffset,c="";this.relativeOffset+=l;for(var u=0;u<l;u++)c+=String.fromCharCode(a.getUint8(o+u));return c},Ke.prototype.parseTag=function(){return this.parseString(4)},Ke.prototype.parseLongDateTime=function(){var l=s5(this.data,this.offset+this.relativeOffset+4);return l-=2082844800,this.relativeOffset+=8,l},Ke.prototype.parseVersion=function(l){var a=UD(this.data,this.offset+this.relativeOffset),o=UD(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===l&&(l=4096),a+o/l/10},Ke.prototype.skip=function(l,a){void 0===a&&(a=1),this.relativeOffset+=rqe[l]*a},Ke.prototype.parseULongList=function(l){void 0===l&&(l=this.parseULong());for(var a=new Array(l),o=this.data,c=this.offset+this.relativeOffset,u=0;u<l;u++)a[u]=o.getUint32(c),c+=4;return this.relativeOffset+=4*l,a},Ke.prototype.parseOffset16List=Ke.prototype.parseUShortList=function(l){void 0===l&&(l=this.parseUShort());for(var a=new Array(l),o=this.data,c=this.offset+this.relativeOffset,u=0;u<l;u++)a[u]=o.getUint16(c),c+=2;return this.relativeOffset+=2*l,a},Ke.prototype.parseShortList=function(l){for(var a=new Array(l),o=this.data,c=this.offset+this.relativeOffset,u=0;u<l;u++)a[u]=o.getInt16(c),c+=2;return this.relativeOffset+=2*l,a},Ke.prototype.parseByteList=function(l){for(var a=new Array(l),o=this.data,c=this.offset+this.relativeOffset,u=0;u<l;u++)a[u]=o.getUint8(c++);return this.relativeOffset+=l,a},Ke.prototype.parseList=function(l,a){a||(a=l,l=this.parseUShort());for(var o=new Array(l),c=0;c<l;c++)o[c]=a.call(this);return o},Ke.prototype.parseList32=function(l,a){a||(a=l,l=this.parseULong());for(var o=new Array(l),c=0;c<l;c++)o[c]=a.call(this);return o},Ke.prototype.parseRecordList=function(l,a){a||(a=l,l=this.parseUShort());for(var o=new Array(l),c=Object.keys(a),u=0;u<l;u++){for(var h={},d=0;d<c.length;d++){var f=c[d];h[f]=a[f].call(this)}o[u]=h}return o},Ke.prototype.parseRecordList32=function(l,a){a||(a=l,l=this.parseULong());for(var o=new Array(l),c=Object.keys(a),u=0;u<l;u++){for(var h={},d=0;d<c.length;d++){var f=c[d];h[f]=a[f].call(this)}o[u]=h}return o},Ke.prototype.parseStruct=function(l){if("function"==typeof l)return l.call(this);for(var a=Object.keys(l),o={},c=0;c<a.length;c++){var u=a[c];o[u]=l[u].call(this)}return o},Ke.prototype.parseValueRecord=function(l){if(void 0===l&&(l=this.parseUShort()),0!==l){var a={};return 1&l&&(a.xPlacement=this.parseShort()),2&l&&(a.yPlacement=this.parseShort()),4&l&&(a.xAdvance=this.parseShort()),8&l&&(a.yAdvance=this.parseShort()),16&l&&(a.xPlaDevice=void 0,this.parseShort()),32&l&&(a.yPlaDevice=void 0,this.parseShort()),64&l&&(a.xAdvDevice=void 0,this.parseShort()),128&l&&(a.yAdvDevice=void 0,this.parseShort()),a}},Ke.prototype.parseValueRecordList=function(){for(var l=this.parseUShort(),a=this.parseUShort(),o=new Array(a),c=0;c<a;c++)o[c]=this.parseValueRecord(l);return o},Ke.prototype.parsePointer=function(l){var a=this.parseOffset16();if(a>0)return new Ke(this.data,this.offset+a).parseStruct(l)},Ke.prototype.parsePointer32=function(l){var a=this.parseOffset32();if(a>0)return new Ke(this.data,this.offset+a).parseStruct(l)},Ke.prototype.parseListOfLists=function(l){for(var a=this.parseOffset16List(),o=a.length,c=this.relativeOffset,u=new Array(o),h=0;h<o;h++){var d=a[h];if(0!==d)if(this.relativeOffset=d,l){for(var f=this.parseOffset16List(),p=new Array(f.length),g=0;g<f.length;g++)this.relativeOffset=d+f[g],p[g]=l.call(this);u[h]=p}else u[h]=this.parseUShortList();else u[h]=void 0}return this.relativeOffset=c,u},Ke.prototype.parseCoverage=function(){var l=this.offset+this.relativeOffset,a=this.parseUShort(),o=this.parseUShort();if(1===a)return{format:1,glyphs:this.parseUShortList(o)};if(2===a){for(var c=new Array(o),u=0;u<o;u++)c[u]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:c}}throw new Error("0x"+l.toString(16)+": Coverage format must be 1 or 2.")},Ke.prototype.parseClassDef=function(){var l=this.offset+this.relativeOffset,a=this.parseUShort();if(1===a)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===a)return{format:2,ranges:this.parseRecordList({start:Ke.uShort,end:Ke.uShort,classId:Ke.uShort})};throw new Error("0x"+l.toString(16)+": ClassDef format must be 1 or 2.")},Ke.list=function(l,a){return function(){return this.parseList(l,a)}},Ke.list32=function(l,a){return function(){return this.parseList32(l,a)}},Ke.recordList=function(l,a){return function(){return this.parseRecordList(l,a)}},Ke.recordList32=function(l,a){return function(){return this.parseRecordList32(l,a)}},Ke.pointer=function(l){return function(){return this.parsePointer(l)}},Ke.pointer32=function(l){return function(){return this.parsePointer32(l)}},Ke.tag=Ke.prototype.parseTag,Ke.byte=Ke.prototype.parseByte,Ke.uShort=Ke.offset16=Ke.prototype.parseUShort,Ke.uShortList=Ke.prototype.parseUShortList,Ke.uLong=Ke.offset32=Ke.prototype.parseULong,Ke.uLongList=Ke.prototype.parseULongList,Ke.struct=Ke.prototype.parseStruct,Ke.coverage=Ke.prototype.parseCoverage,Ke.classDef=Ke.prototype.parseClassDef;var Dre={reserved:Ke.uShort,reqFeatureIndex:Ke.uShort,featureIndexes:Ke.uShortList};Ke.prototype.parseScriptList=function(){return this.parsePointer(Ke.recordList({tag:Ke.tag,script:Ke.pointer({defaultLangSys:Ke.pointer(Dre),langSysRecords:Ke.recordList({tag:Ke.tag,langSys:Ke.pointer(Dre)})})}))||[]},Ke.prototype.parseFeatureList=function(){return this.parsePointer(Ke.recordList({tag:Ke.tag,feature:Ke.pointer({featureParams:Ke.offset16,lookupListIndexes:Ke.uShortList})}))||[]},Ke.prototype.parseLookupList=function(l){return this.parsePointer(Ke.list(Ke.pointer(function(){var a=this.parseUShort();On.argument(1<=a&&a<=9,"GPOS/GSUB lookup type "+a+" unknown.");var o=this.parseUShort(),c=16&o;return{lookupType:a,lookupFlag:o,subtables:this.parseList(Ke.pointer(l[a])),markFilteringSet:c?this.parseUShort():void 0}})))||[]},Ke.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var l=this.parseUShort(),a=this.parseUShort();return On.argument(1===l&&a<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Ke.offset32,featureTableSubstitutionOffset:Ke.offset32})})||[]};var bn={getByte:Tre,getCard8:Tre,getUShort:UD,getCard16:UD,getShort:function J$e(l,a){return l.getInt16(a,!1)},getULong:s5,getFixed:Mre,getTag:function eqe(l,a){for(var o="",c=a;c<a+4;c+=1)o+=String.fromCharCode(l.getInt8(c));return o},getOffset:function tqe(l,a,o){for(var c=0,u=0;u<o;u+=1)c<<=8,c+=l.getUint8(a+u);return c},getBytes:function nqe(l,a,o){for(var c=[],u=a;u<o;u+=1)c.push(l.getUint8(u));return c},bytesToString:function iqe(l){for(var a="",o=0;o<l.length;o+=1)a+=String.fromCharCode(l[o]);return a},Parser:Ke};function lqe(l,a,o){l.segments.push({end:a,start:a,delta:-(a-o),offset:0,glyphIndex:o})}var Ere_parse=function aqe(l,a){var o={};o.version=bn.getUShort(l,a),On.argument(0===o.version,"cmap table version should be 0."),o.numTables=bn.getUShort(l,a+2);for(var c=-1,u=o.numTables-1;u>=0;u-=1){var h=bn.getUShort(l,a+4+8*u),d=bn.getUShort(l,a+4+8*u+2);if(3===h&&(0===d||1===d||10===d)||0===h&&(0===d||1===d||2===d||3===d||4===d)){c=bn.getULong(l,a+4+8*u+4);break}}if(-1===c)throw new Error("No valid cmap sub-tables found.");var f=new bn.Parser(l,a+c);if(o.format=f.parseUShort(),12===o.format)!function sqe(l,a){var o;a.parseUShort(),l.length=a.parseULong(),l.language=a.parseULong(),l.groupCount=o=a.parseULong(),l.glyphIndexMap={};for(var c=0;c<o;c+=1)for(var u=a.parseULong(),h=a.parseULong(),d=a.parseULong(),f=u;f<=h;f+=1)l.glyphIndexMap[f]=d,d++}(o,f);else{if(4!==o.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+o.format+").");!function oqe(l,a,o,c,u){var h;l.length=a.parseUShort(),l.language=a.parseUShort(),l.segCount=h=a.parseUShort()>>1,a.skip("uShort",3),l.glyphIndexMap={};for(var d=new bn.Parser(o,c+u+14),f=new bn.Parser(o,c+u+16+2*h),p=new bn.Parser(o,c+u+16+4*h),g=new bn.Parser(o,c+u+16+6*h),m=c+u+16+8*h,v=0;v<h-1;v+=1)for(var _=void 0,y=d.parseUShort(),b=f.parseUShort(),C=p.parseShort(),x=g.parseUShort(),w=b;w<=y;w+=1)0!==x?(m=g.offset+g.relativeOffset-2,m+=x,0!==(_=bn.getUShort(o,m+=2*(w-b)))&&(_=_+C&65535)):_=w+C&65535,l.glyphIndexMap[w]=_}(o,f,l,a,c)}return o},Ere_make=function uqe(l){var o,a=!0;for(o=l.length-1;o>0;o-=1)if(l.get(o).unicode>65535){console.log("Adding CMAP format 12 (needed!)"),a=!1;break}var u=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:a?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:a?12:20}];a||(u=u.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),u=u.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var h=new ln.Table("cmap",u);for(h.segments=[],o=0;o<l.length;o+=1){for(var d=l.get(o),f=0;f<d.unicodes.length;f+=1)lqe(h,d.unicodes[f],o);h.segments=h.segments.sort(function(S,M){return S.start-M.start})}!function cqe(l){l.segments.push({end:65535,start:65535,delta:1,offset:0})}(h);var p=h.segments.length,g=0,m=[],v=[],_=[],y=[],b=[],C=[];for(o=0;o<p;o+=1){var x=h.segments[o];x.end<=65535&&x.start<=65535?(m=m.concat({name:"end_"+o,type:"USHORT",value:x.end}),v=v.concat({name:"start_"+o,type:"USHORT",value:x.start}),_=_.concat({name:"idDelta_"+o,type:"SHORT",value:x.delta}),y=y.concat({name:"idRangeOffset_"+o,type:"USHORT",value:x.offset}),void 0!==x.glyphId&&(b=b.concat({name:"glyph_"+o,type:"USHORT",value:x.glyphId}))):g+=1,!a&&void 0!==x.glyphIndex&&(C=(C=(C=C.concat({name:"cmap12Start_"+o,type:"ULONG",value:x.start})).concat({name:"cmap12End_"+o,type:"ULONG",value:x.end})).concat({name:"cmap12Glyph_"+o,type:"ULONG",value:x.glyphIndex}))}if(h.segCountX2=2*(p-g),h.searchRange=2*Math.pow(2,Math.floor(Math.log(p-g)/Math.log(2))),h.entrySelector=Math.log(h.searchRange/2)/Math.log(2),h.rangeShift=h.segCountX2-h.searchRange,h.fields=h.fields.concat(m),h.fields.push({name:"reservedPad",type:"USHORT",value:0}),h.fields=h.fields.concat(v),h.fields=h.fields.concat(_),h.fields=h.fields.concat(y),h.fields=h.fields.concat(b),h.cmap4Length=14+2*m.length+2+2*v.length+2*_.length+2*y.length+2*b.length,!a){var w=16+4*C.length;h.cmap12Offset=20+h.cmap4Length,h.fields=h.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:w},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:C.length/3}]),h.fields=h.fields.concat(C)}return h},HD=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],hqe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],dqe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Cg=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function kre(l){this.font=l}function Are(l){this.cmap=l}function GD(l,a){this.encoding=l,this.charset=a}function o5(l){switch(l.version){case 1:this.names=Cg.slice();break;case 2:this.names=new Array(l.numberOfGlyphs);for(var a=0;a<l.numberOfGlyphs;a++)this.names[a]=l.glyphNameIndex[a]<Cg.length?Cg[l.glyphNameIndex[a]]:l.names[l.glyphNameIndex[a]-Cg.length];break;case 2.5:this.names=new Array(l.numberOfGlyphs);for(var o=0;o<l.numberOfGlyphs;o++)this.names[o]=Cg[o+l.glyphNameIndex[o]];break;default:this.names=[]}}kre.prototype.charToGlyphIndex=function(l){var a=l.codePointAt(0),o=this.font.glyphs;if(o)for(var c=0;c<o.length;c+=1)for(var u=o.get(c),h=0;h<u.unicodes.length;h+=1)if(u.unicodes[h]===a)return c;return null},Are.prototype.charToGlyphIndex=function(l){return this.cmap.glyphIndexMap[l.codePointAt(0)]||0},GD.prototype.charToGlyphIndex=function(l){var a=l.codePointAt(0);return this.charset.indexOf(this.encoding[a])},o5.prototype.nameToGlyphIndex=function(l){return this.names.indexOf(l)},o5.prototype.glyphIndexToName=function(l){return this.names[l]};var wg_line=function mqe(l,a,o,c,u){l.beginPath(),l.moveTo(a,o),l.lineTo(c,u),l.stroke()};function Dl(l){this.bindConstructorValues(l)}function WD(l,a,o){Object.defineProperty(l,a,{get:function(){return l[o]},set:function(c){l[o]=c},enumerable:!0,configurable:!0})}function a5(l,a){if(this.font=l,this.glyphs={},Array.isArray(a))for(var o=0;o<a.length;o++){var c=a[o];c.path.unitsPerEm=l.unitsPerEm,this.glyphs[o]=c}this.length=a&&a.length||0}Dl.prototype.bindConstructorValues=function(l){this.index=l.index||0,this.name=l.name||null,this.unicode=l.unicode||void 0,this.unicodes=l.unicodes||void 0!==l.unicode?[l.unicode]:[],"xMin"in l&&(this.xMin=l.xMin),"yMin"in l&&(this.yMin=l.yMin),"xMax"in l&&(this.xMax=l.xMax),"yMax"in l&&(this.yMax=l.yMax),"advanceWidth"in l&&(this.advanceWidth=l.advanceWidth),Object.defineProperty(this,"path",function vqe(l,a){var o=a||new Fs;return{configurable:!0,get:function(){return"function"==typeof o&&(o=o()),o},set:function(c){o=c}}}(0,l.path))},Dl.prototype.addUnicode=function(l){0===this.unicodes.length&&(this.unicode=l),this.unicodes.push(l)},Dl.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Dl.prototype.getPath=function(l,a,o,c,u){var h,d;l=void 0!==l?l:0,a=void 0!==a?a:0,o=void 0!==o?o:72,c||(c={});var f=c.xScale,p=c.yScale;if(c.hinting&&u&&u.hinting&&(d=this.path&&u.hinting.exec(this,o)),d)h=u.hinting.getCommands(d),l=Math.round(l),a=Math.round(a),f=p=1;else{h=this.path.commands;var g=1/(this.path.unitsPerEm||1e3)*o;void 0===f&&(f=g),void 0===p&&(p=g)}for(var m=new Fs,v=0;v<h.length;v+=1){var _=h[v];"M"===_.type?m.moveTo(l+_.x*f,a+-_.y*p):"L"===_.type?m.lineTo(l+_.x*f,a+-_.y*p):"Q"===_.type?m.quadraticCurveTo(l+_.x1*f,a+-_.y1*p,l+_.x*f,a+-_.y*p):"C"===_.type?m.curveTo(l+_.x1*f,a+-_.y1*p,l+_.x2*f,a+-_.y2*p,l+_.x*f,a+-_.y*p):"Z"===_.type&&m.closePath()}return m},Dl.prototype.getContours=function(){if(void 0===this.points)return[];for(var l=[],a=[],o=0;o<this.points.length;o+=1){var c=this.points[o];a.push(c),c.lastPointOfContour&&(l.push(a),a=[])}return On.argument(0===a.length,"There are still points left in the current contour."),l},Dl.prototype.getMetrics=function(){for(var l=this.path.commands,a=[],o=[],c=0;c<l.length;c+=1){var u=l[c];"Z"!==u.type&&(a.push(u.x),o.push(u.y)),("Q"===u.type||"C"===u.type)&&(a.push(u.x1),o.push(u.y1)),"C"===u.type&&(a.push(u.x2),o.push(u.y2))}var h={xMin:Math.min.apply(null,a),yMin:Math.min.apply(null,o),xMax:Math.max.apply(null,a),yMax:Math.max.apply(null,o),leftSideBearing:this.leftSideBearing};return isFinite(h.xMin)||(h.xMin=0),isFinite(h.xMax)||(h.xMax=this.advanceWidth),isFinite(h.yMin)||(h.yMin=0),isFinite(h.yMax)||(h.yMax=0),h.rightSideBearing=this.advanceWidth-h.leftSideBearing-(h.xMax-h.xMin),h},Dl.prototype.draw=function(l,a,o,c,u){this.getPath(a,o,c,u).draw(l)},Dl.prototype.drawPoints=function(l,a,o,c){function u(v,_,y,b){l.beginPath();for(var C=0;C<v.length;C+=1)l.moveTo(_+v[C].x*b,y+v[C].y*b),l.arc(_+v[C].x*b,y+v[C].y*b,2,0,2*Math.PI,!1);l.closePath(),l.fill()}a=void 0!==a?a:0,o=void 0!==o?o:0;for(var h=1/this.path.unitsPerEm*(c=void 0!==c?c:24),d=[],f=[],p=this.path,g=0;g<p.commands.length;g+=1){var m=p.commands[g];void 0!==m.x&&d.push({x:m.x,y:-m.y}),void 0!==m.x1&&f.push({x:m.x1,y:-m.y1}),void 0!==m.x2&&f.push({x:m.x2,y:-m.y2})}l.fillStyle="blue",u(d,a,o,h),l.fillStyle="red",u(f,a,o,h)},Dl.prototype.drawMetrics=function(l,a,o,c){var u;a=void 0!==a?a:0,o=void 0!==o?o:0,u=1/this.path.unitsPerEm*(c=void 0!==c?c:24),l.lineWidth=1,l.strokeStyle="black",wg_line(l,a,-1e4,a,1e4),wg_line(l,-1e4,o,1e4,o);var h=this.xMin||0,d=this.yMin||0,f=this.xMax||0,p=this.yMax||0,g=this.advanceWidth||0;l.strokeStyle="blue",wg_line(l,a+h*u,-1e4,a+h*u,1e4),wg_line(l,a+f*u,-1e4,a+f*u,1e4),wg_line(l,-1e4,o+-d*u,1e4,o+-d*u),wg_line(l,-1e4,o+-p*u,1e4,o+-p*u),l.strokeStyle="green",wg_line(l,a+g*u,-1e4,a+g*u,1e4)},a5.prototype.get=function(l){if(void 0===this.glyphs[l]){this.font._push(l),"function"==typeof this.glyphs[l]&&(this.glyphs[l]=this.glyphs[l]());var a=this.glyphs[l],o=this.font._IndexToUnicodeMap[l];if(o)for(var c=0;c<o.unicodes.length;c++)a.addUnicode(o.unicodes[c]);this.font.cffEncoding?a.name=this.font.isCIDFont?"gid"+l:this.font.cffEncoding.charset[l]:this.font.glyphNames.names&&(a.name=this.font.glyphNames.glyphIndexToName(l)),this.glyphs[l].advanceWidth=this.font._hmtxTableData[l].advanceWidth,this.glyphs[l].leftSideBearing=this.font._hmtxTableData[l].leftSideBearing}else"function"==typeof this.glyphs[l]&&(this.glyphs[l]=this.glyphs[l]());return this.glyphs[l]},a5.prototype.push=function(l,a){this.glyphs[l]=a,this.length++};var Qu={GlyphSet:a5,glyphLoader:function _qe(l,a){return new Dl({index:a,font:l})},ttfGlyphLoader:function yqe(l,a,o,c,u,h){return function(){var d=new Dl({index:a,font:l});return d.path=function(){o(d,c,u);var f=h(l.glyphs,d);return f.unitsPerEm=l.unitsPerEm,f},WD(d,"xMin","_xMin"),WD(d,"xMax","_xMax"),WD(d,"yMin","_yMin"),WD(d,"yMax","_yMax"),d}},cffGlyphLoader:function bqe(l,a,o,c){return function(){var u=new Dl({index:a,font:l});return u.path=function(){var h=o(l,u,c);return h.unitsPerEm=l.unitsPerEm,h},u}}};function Ire(l,a){if(l===a)return!0;if(Array.isArray(l)&&Array.isArray(a)){if(l.length!==a.length)return!1;for(var o=0;o<l.length;o+=1)if(!Ire(l[o],a[o]))return!1;return!0}return!1}function l5(l){return l.length<1240?107:l.length<33900?1131:32768}function wf(l,a,o){var d,f,c=[],u=[],h=bn.getCard16(l,a);if(0!==h){var p=bn.getByte(l,a+2);d=a+(h+1)*p+2;for(var g=a+3,m=0;m<h+1;m+=1)c.push(bn.getOffset(l,g,p)),g+=p;f=d+c[h]}else f=a+2;for(var v=0;v<c.length-1;v+=1){var _=bn.getBytes(l,d+c[v],d+c[v+1]);o&&(_=o(_)),u.push(_)}return{objects:u,startOffset:a,endOffset:f}}function Sqe(l,a){if(28===a)return l.parseByte()<<8|l.parseByte();if(29===a)return l.parseByte()<<24|l.parseByte()<<16|l.parseByte()<<8|l.parseByte();if(30===a)return function wqe(l){for(var a="",c=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var u=l.parseByte(),h=u>>4,d=15&u;if(15===h||(a+=c[h],15===d))break;a+=c[d]}return parseFloat(a)}(l);if(a>=32&&a<=246)return a-139;if(a>=247&&a<=250)return 256*(a-247)+l.parseByte()+108;if(a>=251&&a<=254)return 256*-(a-251)-l.parseByte()-108;throw new Error("Invalid b0 "+a)}function Pre(l,a,o){var c=new bn.Parser(l,a=void 0!==a?a:0),u=[],h=[];for(o=void 0!==o?o:l.length;c.relativeOffset<o;){var d=c.parseByte();d<=21?(12===d&&(d=1200+c.parseByte()),u.push([d,h]),h=[]):h.push(Sqe(c,d))}return function Tqe(l){for(var a={},o=0;o<l.length;o+=1){var h,c=l[o][0],u=l[o][1];if(h=1===u.length?u[0]:u,a.hasOwnProperty(c)&&!isNaN(a[c]))throw new Error("Object "+a+" already has key "+c);a[c]=h}return a}(u)}function Mx(l,a){return a<=390?HD[a]:l[a-391]}function Ore(l,a,o){for(var u,c={},h=0;h<a.length;h+=1){var d=a[h];if(Array.isArray(d.type)){var f=[];f.length=d.type.length;for(var p=0;p<d.type.length;p++)void 0===(u=void 0!==l[d.op]?l[d.op][p]:void 0)&&(u=void 0!==d.value&&void 0!==d.value[p]?d.value[p]:null),"SID"===d.type[p]&&(u=Mx(o,u)),f[p]=u;c[d.name]=f}else void 0===(u=l[d.op])&&(u=void 0!==d.value?d.value:null),"SID"===d.type&&(u=Mx(o,u)),c[d.name]=u}return c}var Rre=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Fre=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Dqe(l,a){return Ore(Pre(l,0,l.byteLength),Rre,a)}function Lre(l,a,o,c){return Ore(Pre(l,a,o),Fre,c)}function Nre(l,a,o,c){for(var u=[],h=0;h<o.length;h+=1){var f=Dqe(new DataView(new Uint8Array(o[h]).buffer),c);f._subrs=[],f._subrsBias=0,f._defaultWidthX=0,f._nominalWidthX=0;var p=f.private[0],g=f.private[1];if(0!==p&&0!==g){var m=Lre(l,g+a,p,c);if(f._defaultWidthX=m.defaultWidthX,f._nominalWidthX=m.nominalWidthX,0!==m.subrs){var _=wf(l,g+m.subrs+a);f._subrs=_.objects,f._subrsBias=l5(f._subrs)}f._privateDict=m}u.push(f)}return u}function Bre(l,a,o){var c,u,h,d,b,C,x,w,f=new Fs,p=[],g=0,m=!1,v=!1,_=0,y=0;if(l.isCIDFont){var M=l.tables.cff.topDict._fdArray[l.tables.cff.topDict._fdSelect[a.index]];b=M._subrs,C=M._subrsBias,x=M._defaultWidthX,w=M._nominalWidthX}else b=l.tables.cff.topDict._subrs,C=l.tables.cff.topDict._subrsBias,x=l.tables.cff.topDict._defaultWidthX,w=l.tables.cff.topDict._nominalWidthX;var T=x;function E(D,P){v&&f.closePath(),f.moveTo(D,P),v=!0}function k(){p.length%2!=0&&!m&&(T=p.shift()+w),g+=p.length>>1,p.length=0,m=!0}return function R(D){for(var P,F,L,$,Y,O,V,B,G,H,j,W,Z=0;Z<D.length;){var K=D[Z];switch(Z+=1,K){case 1:case 3:case 18:case 23:k();break;case 4:p.length>1&&!m&&(T=p.shift()+w,m=!0),y+=p.pop(),E(_,y);break;case 5:for(;p.length>0;)_+=p.shift(),y+=p.shift(),f.lineTo(_,y);break;case 6:for(;p.length>0&&(_+=p.shift(),f.lineTo(_,y),0!==p.length);)y+=p.shift(),f.lineTo(_,y);break;case 7:for(;p.length>0&&(y+=p.shift(),f.lineTo(_,y),0!==p.length);)_+=p.shift(),f.lineTo(_,y);break;case 8:for(;p.length>0;)c=_+p.shift(),u=y+p.shift(),h=c+p.shift(),d=u+p.shift(),_=h+p.shift(),y=d+p.shift(),f.curveTo(c,u,h,d,_,y);break;case 10:Y=p.pop()+C,(O=b[Y])&&R(O);break;case 11:return;case 12:switch(K=D[Z],Z+=1,K){case 35:c=_+p.shift(),u=y+p.shift(),h=c+p.shift(),d=u+p.shift(),V=h+p.shift(),B=d+p.shift(),G=V+p.shift(),H=B+p.shift(),j=G+p.shift(),W=H+p.shift(),_=j+p.shift(),y=W+p.shift(),p.shift(),f.curveTo(c,u,h,d,V,B),f.curveTo(G,H,j,W,_,y);break;case 34:c=_+p.shift(),u=y,h=c+p.shift(),d=u+p.shift(),V=h+p.shift(),B=d,G=V+p.shift(),H=d,j=G+p.shift(),W=y,_=j+p.shift(),f.curveTo(c,u,h,d,V,B),f.curveTo(G,H,j,W,_,y);break;case 36:c=_+p.shift(),u=y+p.shift(),h=c+p.shift(),d=u+p.shift(),V=h+p.shift(),B=d,G=V+p.shift(),H=d,j=G+p.shift(),W=H+p.shift(),_=j+p.shift(),f.curveTo(c,u,h,d,V,B),f.curveTo(G,H,j,W,_,y);break;case 37:c=_+p.shift(),u=y+p.shift(),h=c+p.shift(),d=u+p.shift(),V=h+p.shift(),B=d+p.shift(),G=V+p.shift(),H=B+p.shift(),j=G+p.shift(),W=H+p.shift(),Math.abs(j-_)>Math.abs(W-y)?_=j+p.shift():y=W+p.shift(),f.curveTo(c,u,h,d,V,B),f.curveTo(G,H,j,W,_,y);break;default:console.log("Glyph "+a.index+": unknown operator 1200"+K),p.length=0}break;case 14:p.length>0&&!m&&(T=p.shift()+w,m=!0),v&&(f.closePath(),v=!1);break;case 19:case 20:k(),Z+=g+7>>3;break;case 21:p.length>2&&!m&&(T=p.shift()+w,m=!0),y+=p.pop(),E(_+=p.pop(),y);break;case 22:p.length>1&&!m&&(T=p.shift()+w,m=!0),E(_+=p.pop(),y);break;case 24:for(;p.length>2;)c=_+p.shift(),u=y+p.shift(),h=c+p.shift(),d=u+p.shift(),_=h+p.shift(),y=d+p.shift(),f.curveTo(c,u,h,d,_,y);_+=p.shift(),y+=p.shift(),f.lineTo(_,y);break;case 25:for(;p.length>6;)_+=p.shift(),y+=p.shift(),f.lineTo(_,y);c=_+p.shift(),u=y+p.shift(),h=c+p.shift(),d=u+p.shift(),_=h+p.shift(),y=d+p.shift(),f.curveTo(c,u,h,d,_,y);break;case 26:for(p.length%2&&(_+=p.shift());p.length>0;)c=_,u=y+p.shift(),h=c+p.shift(),d=u+p.shift(),_=h,y=d+p.shift(),f.curveTo(c,u,h,d,_,y);break;case 27:for(p.length%2&&(y+=p.shift());p.length>0;)c=_+p.shift(),u=y,h=c+p.shift(),d=u+p.shift(),_=h+p.shift(),f.curveTo(c,u,h,d,_,y=d);break;case 28:p.push(((P=D[Z])<<24|(F=D[Z+1])<<16)>>16),Z+=2;break;case 29:Y=p.pop()+l.gsubrsBias,(O=l.gsubrs[Y])&&R(O);break;case 30:for(;p.length>0&&(c=_,u=y+p.shift(),h=c+p.shift(),d=u+p.shift(),_=h+p.shift(),y=d+(1===p.length?p.shift():0),f.curveTo(c,u,h,d,_,y),0!==p.length);)c=_+p.shift(),u=y,h=c+p.shift(),d=u+p.shift(),y=d+p.shift(),_=h+(1===p.length?p.shift():0),f.curveTo(c,u,h,d,_,y);break;case 31:for(;p.length>0&&(c=_+p.shift(),u=y,h=c+p.shift(),d=u+p.shift(),y=d+p.shift(),_=h+(1===p.length?p.shift():0),f.curveTo(c,u,h,d,_,y),0!==p.length);)c=_,u=y+p.shift(),h=c+p.shift(),d=u+p.shift(),_=h+p.shift(),y=d+(1===p.length?p.shift():0),f.curveTo(c,u,h,d,_,y);break;default:K<32?console.log("Glyph "+a.index+": unknown operator "+K):K<247?p.push(K-139):K<251?(P=D[Z],Z+=1,p.push(256*(K-247)+P+108)):K<255?(P=D[Z],Z+=1,p.push(256*-(K-251)-P-108)):(P=D[Z],F=D[Z+1],L=D[Z+2],$=D[Z+3],Z+=4,p.push((P<<24|F<<16|L<<8|$)/65536))}}}(o),a.advanceWidth=T,f}function Vre(l,a){var o,c=HD.indexOf(l);return c>=0&&(o=c),(c=a.indexOf(l))>=0?o=c+HD.length:(o=HD.length+a.length,a.push(l)),o}function zre(l,a,o){for(var c={},u=0;u<l.length;u+=1){var h=l[u],d=a[h.name];void 0!==d&&!Ire(d,h.value)&&("SID"===h.type&&(d=Vre(d,o)),c[h.op]={name:h.name,type:h.type,value:d})}return c}function Ure(l,a){var o=new ln.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return o.dict=zre(Rre,l,a),o}function Hre(l){var a=new ln.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return a.topDicts=[{name:"topDict_0",type:"TABLE",value:l}],a}function Nqe(l){var a=[],o=l.path;a.push({name:"width",type:"NUMBER",value:l.advanceWidth});for(var c=0,u=0,h=0;h<o.commands.length;h+=1){var d=void 0,f=void 0,p=o.commands[h];if("Q"===p.type){var g=.3333333333333333,m=2/3;p={type:"C",x:p.x,y:p.y,x1:Math.round(g*c+m*p.x1),y1:Math.round(g*u+m*p.y1),x2:Math.round(g*p.x+m*p.x1),y2:Math.round(g*p.y+m*p.y1)}}if("M"===p.type)d=Math.round(p.x-c),f=Math.round(p.y-u),a.push({name:"dx",type:"NUMBER",value:d}),a.push({name:"dy",type:"NUMBER",value:f}),a.push({name:"rmoveto",type:"OP",value:21}),c=Math.round(p.x),u=Math.round(p.y);else if("L"===p.type)d=Math.round(p.x-c),f=Math.round(p.y-u),a.push({name:"dx",type:"NUMBER",value:d}),a.push({name:"dy",type:"NUMBER",value:f}),a.push({name:"rlineto",type:"OP",value:5}),c=Math.round(p.x),u=Math.round(p.y);else if("C"===p.type){var v=Math.round(p.x1-c),_=Math.round(p.y1-u),y=Math.round(p.x2-p.x1),b=Math.round(p.y2-p.y1);d=Math.round(p.x-p.x2),f=Math.round(p.y-p.y2),a.push({name:"dx1",type:"NUMBER",value:v}),a.push({name:"dy1",type:"NUMBER",value:_}),a.push({name:"dx2",type:"NUMBER",value:y}),a.push({name:"dy2",type:"NUMBER",value:b}),a.push({name:"dx",type:"NUMBER",value:d}),a.push({name:"dy",type:"NUMBER",value:f}),a.push({name:"rrcurveto",type:"OP",value:8}),c=Math.round(p.x),u=Math.round(p.y)}}return a.push({name:"endchar",type:"OP",value:14}),a}var Gre_parse=function Iqe(l,a,o,c){o.tables.cff={};var u=function Mqe(l,a){var o={};return o.formatMajor=bn.getCard8(l,a),o.formatMinor=bn.getCard8(l,a+1),o.size=bn.getCard8(l,a+2),o.offsetSize=bn.getCard8(l,a+3),o.startOffset=a,o.endOffset=a+4,o}(l,a),h=wf(l,u.endOffset,bn.bytesToString),d=wf(l,h.endOffset),f=wf(l,d.endOffset,bn.bytesToString),p=wf(l,f.endOffset);o.gsubrs=p.objects,o.gsubrsBias=l5(o.gsubrs);var g=Nre(l,a,d.objects,f.objects);if(1!==g.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+g.length);var m=g[0];if(o.tables.cff.topDict=m,m._privateDict&&(o.defaultWidthX=m._privateDict.defaultWidthX,o.nominalWidthX=m._privateDict.nominalWidthX),void 0!==m.ros[0]&&void 0!==m.ros[1]&&(o.isCIDFont=!0),o.isCIDFont){var v=m.fdArray,_=m.fdSelect;if(0===v||0===_)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var y=wf(l,v+=a),b=Nre(l,a,y.objects,f.objects);m._fdArray=b,m._fdSelect=function Aqe(l,a,o,c){var h,u=[],d=new bn.Parser(l,a),f=d.parseCard8();if(0===f)for(var p=0;p<o;p++){if((h=d.parseCard8())>=c)throw new Error("CFF table CID Font FDSelect has bad FD index value "+h+" (FD count "+c+")");u.push(h)}else{if(3!==f)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+f);var g=d.parseCard16(),m=d.parseCard16();if(0!==m)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+m);for(var v,_=0;_<g;_++){if(h=d.parseCard8(),v=d.parseCard16(),h>=c)throw new Error("CFF table CID Font FDSelect has bad FD index value "+h+" (FD count "+c+")");if(v>o)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+v);for(;m<v;m++)u.push(h);m=v}if(v!==o)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+v)}return u}(l,_+=a,o.numGlyphs,b.length)}var M,C=a+m.private[1],x=Lre(l,C,m.private[0],f.objects);if(o.defaultWidthX=x.defaultWidthX,o.nominalWidthX=x.nominalWidthX,0!==x.subrs){var S=wf(l,C+x.subrs);o.subrs=S.objects,o.subrsBias=l5(o.subrs)}else o.subrs=[],o.subrsBias=0;c.lowMemory?(M=function xqe(l,a){var u,h,o=[],c=bn.getCard16(l,a);if(0!==c){var d=bn.getByte(l,a+2);u=a+(c+1)*d+2;for(var f=a+3,p=0;p<c+1;p+=1)o.push(bn.getOffset(l,f,d)),f+=d;h=u+o[c]}else h=a+2;return{offsets:o,startOffset:a,endOffset:h}}(l,a+m.charStrings),o.nGlyphs=M.offsets.length):(M=wf(l,a+m.charStrings),o.nGlyphs=M.objects.length);var T=function Eqe(l,a,o,c){var u,h,d=new bn.Parser(l,a);o-=1;var f=[".notdef"],p=d.parseCard8();if(0===p)for(var g=0;g<o;g+=1)u=d.parseSID(),f.push(Mx(c,u));else if(1===p)for(;f.length<=o;){u=d.parseSID(),h=d.parseCard8();for(var m=0;m<=h;m+=1)f.push(Mx(c,u)),u+=1}else{if(2!==p)throw new Error("Unknown charset format "+p);for(;f.length<=o;){u=d.parseSID(),h=d.parseCard16();for(var v=0;v<=h;v+=1)f.push(Mx(c,u)),u+=1}}return f}(l,a+m.charset,o.nGlyphs,f.objects);if(o.cffEncoding=0===m.encoding?new GD(hqe,T):1===m.encoding?new GD(dqe,T):function kqe(l,a,o){var c,u={},h=new bn.Parser(l,a),d=h.parseCard8();if(0===d)for(var f=h.parseCard8(),p=0;p<f;p+=1)u[c=h.parseCard8()]=p;else{if(1!==d)throw new Error("Unknown encoding format "+d);var g=h.parseCard8();c=1;for(var m=0;m<g;m+=1)for(var v=h.parseCard8(),_=h.parseCard8(),y=v;y<=v+_;y+=1)u[y]=c,c+=1}return new GD(u,o)}(l,a+m.encoding,T),o.encoding=o.encoding||o.cffEncoding,o.glyphs=new Qu.GlyphSet(o),c.lowMemory)o._push=function(R){var D=function Cqe(l,a,o,c,u){var h=bn.getCard16(o,c),d=0;0!==h&&(d=c+(h+1)*bn.getByte(o,c+2)+2);var p=bn.getBytes(o,d+a[l],d+a[l+1]);return u&&(p=u(p)),p}(R,M.offsets,l,a+m.charStrings);o.glyphs.push(R,Qu.cffGlyphLoader(o,R,Bre,D))};else for(var E=0;E<o.nGlyphs;E+=1)o.glyphs.push(E,Qu.cffGlyphLoader(o,E,Bre,M.objects[E]))},Gre_make=function zqe(l,a){for(var f,o=new ln.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),c=1/a.unitsPerEm,u={version:a.version,fullName:a.fullName,familyName:a.familyName,weight:a.weightName,fontBBox:a.fontBBox||[0,0,0,0],fontMatrix:[c,0,0,c,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},d=[],p=1;p<l.length;p+=1)f=l.get(p),d.push(f.name);var g=[];o.header=function Pqe(){return new ln.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}(),o.nameIndex=function Oqe(l){var a=new ln.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);a.names=[];for(var o=0;o<l.length;o+=1)a.names.push({name:"name_"+o,type:"NAME",value:l[o]});return a}([a.postScriptName]);var m=Ure(u,g);o.topDictIndex=Hre(m),o.globalSubrIndex=function Fqe(){return new ln.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}(),o.charsets=function Lqe(l,a){for(var o=new ln.Record("Charsets",[{name:"format",type:"Card8",value:0}]),c=0;c<l.length;c+=1){var h=Vre(l[c],a);o.fields.push({name:"glyph_"+c,type:"SID",value:h})}return o}(d,g),o.charStringsIndex=function Bqe(l){for(var a=new ln.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),o=0;o<l.length;o+=1){var c=l.get(o),u=Nqe(c);a.charStrings.push({name:c.name,type:"CHARSTRING",value:u})}return a}(l),o.privateDict=function Vqe(l,a){var o=new ln.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return o.dict=zre(Fre,l,a),o}({},g),o.stringIndex=function Rqe(l){var a=new ln.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);a.strings=[];for(var o=0;o<l.length;o+=1)a.strings.push({name:"string_"+o,type:"STRING",value:l[o]});return a}(g);var v=o.header.sizeOf()+o.nameIndex.sizeOf()+o.topDictIndex.sizeOf()+o.stringIndex.sizeOf()+o.globalSubrIndex.sizeOf();return u.charset=v,u.encoding=0,u.charStrings=u.charset+o.charsets.sizeOf(),u.private[1]=u.charStrings+o.charStringsIndex.sizeOf(),m=Ure(u,g),o.topDictIndex=Hre(m),o},Wre_parse=function Uqe(l,a){var o={},c=new bn.Parser(l,a);return o.version=c.parseVersion(),o.fontRevision=Math.round(1e3*c.parseFixed())/1e3,o.checkSumAdjustment=c.parseULong(),o.magicNumber=c.parseULong(),On.argument(1594834165===o.magicNumber,"Font header has wrong magic number."),o.flags=c.parseUShort(),o.unitsPerEm=c.parseUShort(),o.created=c.parseLongDateTime(),o.modified=c.parseLongDateTime(),o.xMin=c.parseShort(),o.yMin=c.parseShort(),o.xMax=c.parseShort(),o.yMax=c.parseShort(),o.macStyle=c.parseUShort(),o.lowestRecPPEM=c.parseUShort(),o.fontDirectionHint=c.parseShort(),o.indexToLocFormat=c.parseShort(),o.glyphDataFormat=c.parseShort(),o},Wre_make=function Hqe(l){var a=Math.round((new Date).getTime()/1e3)+2082844800,o=a;return l.createdTimestamp&&(o=l.createdTimestamp+2082844800),new ln.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:o},{name:"modified",type:"LONGDATETIME",value:a},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],l)},jre_parse=function Gqe(l,a){var o={},c=new bn.Parser(l,a);return o.version=c.parseVersion(),o.ascender=c.parseShort(),o.descender=c.parseShort(),o.lineGap=c.parseShort(),o.advanceWidthMax=c.parseUShort(),o.minLeftSideBearing=c.parseShort(),o.minRightSideBearing=c.parseShort(),o.xMaxExtent=c.parseShort(),o.caretSlopeRise=c.parseShort(),o.caretSlopeRun=c.parseShort(),o.caretOffset=c.parseShort(),c.relativeOffset+=8,o.metricDataFormat=c.parseShort(),o.numberOfHMetrics=c.parseUShort(),o},jre_make=function Wqe(l){return new ln.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],l)},$re_parse=function qqe(l,a,o,c,u,h,d){d.lowMemory?function $qe(l,a,o,c,u){l._hmtxTableData={};for(var h,d,f=new bn.Parser(a,o),p=0;p<u;p+=1)p<c&&(h=f.parseUShort(),d=f.parseShort()),l._hmtxTableData[p]={advanceWidth:h,leftSideBearing:d}}(l,a,o,c,u):function jqe(l,a,o,c,u){for(var h,d,f=new bn.Parser(l,a),p=0;p<c;p+=1){p<o&&(h=f.parseUShort(),d=f.parseShort());var g=u.get(p);g.advanceWidth=h,g.leftSideBearing=d}}(a,o,c,u,h)},$re_make=function Yqe(l){for(var a=new ln.Table("hmtx",[]),o=0;o<l.length;o+=1){var c=l.get(o),h=c.leftSideBearing||0;a.fields.push({name:"advanceWidth_"+o,type:"USHORT",value:c.advanceWidth||0}),a.fields.push({name:"leftSideBearing_"+o,type:"SHORT",value:h})}return a},qre_make=function Zqe(l){for(var a=new ln.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:l.length}]),o="",c=12+4*l.length,u=0;u<l.length;++u){var h=o.indexOf(l[u]);h<0&&(h=o.length,o+=l[u]),a.fields.push({name:"offset "+u,type:"USHORT",value:c+h}),a.fields.push({name:"length "+u,type:"USHORT",value:l[u].length})}return a.fields.push({name:"stringPool",type:"CHARARRAY",value:o}),a},qre_parse=function Xqe(l,a){var o=new bn.Parser(l,a),c=o.parseULong();On.argument(1===c,"Unsupported ltag table version."),o.skip("uLong",1);for(var u=o.parseULong(),h=[],d=0;d<u;d++){for(var f="",p=a+o.parseUShort(),g=o.parseUShort(),m=p;m<p+g;++m)f+=String.fromCharCode(l.getInt8(m));h.push(f)}return h},Yre_parse=function Kqe(l,a){var o={},c=new bn.Parser(l,a);return o.version=c.parseVersion(),o.numGlyphs=c.parseUShort(),1===o.version&&(o.maxPoints=c.parseUShort(),o.maxContours=c.parseUShort(),o.maxCompositePoints=c.parseUShort(),o.maxCompositeContours=c.parseUShort(),o.maxZones=c.parseUShort(),o.maxTwilightPoints=c.parseUShort(),o.maxStorage=c.parseUShort(),o.maxFunctionDefs=c.parseUShort(),o.maxInstructionDefs=c.parseUShort(),o.maxStackElements=c.parseUShort(),o.maxSizeOfInstructions=c.parseUShort(),o.maxComponentElements=c.parseUShort(),o.maxComponentDepth=c.parseUShort()),o},Yre_make=function Qqe(l){return new ln.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:l}])},Zre=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Xre={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Jqe={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Kre={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function eYe(l,a,o){switch(l){case 0:if(65535===a)return"und";if(o)return o[a];break;case 1:return Xre[a];case 3:return Kre[a]}}var c5="utf-16",tYe={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},nYe={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Qre(l,a,o){switch(l){case 0:return c5;case 1:return nYe[o]||tYe[a];case 3:if(1===a||10===a)return c5}}function u5(l){var a={};for(var o in l)a[l[o]]=parseInt(o);return a}function Jre(l,a,o,c,u,h){return new ln.Record("NameRecord",[{name:"platformID",type:"USHORT",value:l},{name:"encodingID",type:"USHORT",value:a},{name:"languageID",type:"USHORT",value:o},{name:"nameID",type:"USHORT",value:c},{name:"length",type:"USHORT",value:u},{name:"offset",type:"USHORT",value:h}])}function ese(l,a){var o=function rYe(l,a){var o=l.length,c=a.length-o+1;e:for(var u=0;u<c;u++)for(;u<c;u++){for(var h=0;h<o;h++)if(a[u+h]!==l[h])continue e;return u}return-1}(l,a);if(o<0){o=a.length;for(var c=0,u=l.length;c<u;++c)a.push(l[c])}return o}var tse_parse=function iYe(l,a,o){for(var c={},u=new bn.Parser(l,a),h=u.parseUShort(),d=u.parseUShort(),f=u.offset+u.parseUShort(),p=0;p<d;p++){var g=u.parseUShort(),m=u.parseUShort(),v=u.parseUShort(),_=u.parseUShort(),y=Zre[_]||_,b=u.parseUShort(),C=u.parseUShort(),x=eYe(g,v,o),w=Qre(g,m,v);if(void 0!==w&&void 0!==x){var S;if(S=w===c5?d_.UTF16(l,f+C,b):d_.MACSTRING(l,f+C,b,w)){var M=c[y];void 0===M&&(M=c[y]={}),M[x]=S}}}return 1===h&&u.parseUShort(),c},tse_make=function sYe(l,a){var o,c=[],u={},h=u5(Zre);for(var d in l){var f=h[d];if(void 0===f&&(f=d),o=parseInt(f),isNaN(o))throw new Error('Name table entry "'+d+'" does not exist, see nameTableNames for complete list.');u[o]=l[d],c.push(o)}for(var p=u5(Xre),g=u5(Kre),m=[],v=[],_=0;_<c.length;_++){var y=u[o=c[_]];for(var b in y){var C=y[b],x=1,w=p[b],S=Jqe[w],M=Qre(x,S,w),T=nn.MACSTRING(C,M);void 0===T&&(x=0,(w=a.indexOf(b))<0&&(w=a.length,a.push(b)),S=4,T=nn.UTF16(C));var E=ese(T,v);m.push(Jre(x,S,w,o,T.length,E));var k=g[b];if(void 0!==k){var R=nn.UTF16(C),D=ese(R,v);m.push(Jre(3,1,k,o,R.length,D))}}}m.sort(function(L,$){return L.platformID-$.platformID||L.encodingID-$.encodingID||L.languageID-$.languageID||L.nameID-$.nameID});for(var P=new ln.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:m.length},{name:"stringOffset",type:"USHORT",value:6+12*m.length}]),F=0;F<m.length;F++)P.fields.push({name:"record_"+F,type:"RECORD",value:m[F]});return P.fields.push({name:"strings",type:"LITERAL",value:v}),P},h5=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],d5_parse=function aYe(l,a){var o={},c=new bn.Parser(l,a);o.version=c.parseUShort(),o.xAvgCharWidth=c.parseShort(),o.usWeightClass=c.parseUShort(),o.usWidthClass=c.parseUShort(),o.fsType=c.parseUShort(),o.ySubscriptXSize=c.parseShort(),o.ySubscriptYSize=c.parseShort(),o.ySubscriptXOffset=c.parseShort(),o.ySubscriptYOffset=c.parseShort(),o.ySuperscriptXSize=c.parseShort(),o.ySuperscriptYSize=c.parseShort(),o.ySuperscriptXOffset=c.parseShort(),o.ySuperscriptYOffset=c.parseShort(),o.yStrikeoutSize=c.parseShort(),o.yStrikeoutPosition=c.parseShort(),o.sFamilyClass=c.parseShort(),o.panose=[];for(var u=0;u<10;u++)o.panose[u]=c.parseByte();return o.ulUnicodeRange1=c.parseULong(),o.ulUnicodeRange2=c.parseULong(),o.ulUnicodeRange3=c.parseULong(),o.ulUnicodeRange4=c.parseULong(),o.achVendID=String.fromCharCode(c.parseByte(),c.parseByte(),c.parseByte(),c.parseByte()),o.fsSelection=c.parseUShort(),o.usFirstCharIndex=c.parseUShort(),o.usLastCharIndex=c.parseUShort(),o.sTypoAscender=c.parseShort(),o.sTypoDescender=c.parseShort(),o.sTypoLineGap=c.parseShort(),o.usWinAscent=c.parseUShort(),o.usWinDescent=c.parseUShort(),o.version>=1&&(o.ulCodePageRange1=c.parseULong(),o.ulCodePageRange2=c.parseULong()),o.version>=2&&(o.sxHeight=c.parseShort(),o.sCapHeight=c.parseShort(),o.usDefaultChar=c.parseUShort(),o.usBreakChar=c.parseUShort(),o.usMaxContent=c.parseUShort()),o},d5_make=function lYe(l){return new ln.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],l)},d5_getUnicodeRange=function oYe(l){for(var a=0;a<h5.length;a+=1){var o=h5[a];if(l>=o.begin&&l<o.end)return a}return-1},nse_parse=function cYe(l,a){var o={},c=new bn.Parser(l,a);switch(o.version=c.parseVersion(),o.italicAngle=c.parseFixed(),o.underlinePosition=c.parseShort(),o.underlineThickness=c.parseShort(),o.isFixedPitch=c.parseULong(),o.minMemType42=c.parseULong(),o.maxMemType42=c.parseULong(),o.minMemType1=c.parseULong(),o.maxMemType1=c.parseULong(),o.version){case 1:o.names=Cg.slice();break;case 2:o.numberOfGlyphs=c.parseUShort(),o.glyphNameIndex=new Array(o.numberOfGlyphs);for(var u=0;u<o.numberOfGlyphs;u++)o.glyphNameIndex[u]=c.parseUShort();o.names=[];for(var h=0;h<o.numberOfGlyphs;h++)if(o.glyphNameIndex[h]>=Cg.length){var d=c.parseChar();o.names.push(c.parseString(d))}break;case 2.5:o.numberOfGlyphs=c.parseUShort(),o.offset=new Array(o.numberOfGlyphs);for(var f=0;f<o.numberOfGlyphs;f++)o.offset[f]=c.parseChar()}return o},nse_make=function uYe(){return new ln.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},Xc=new Array(9);Xc[1]=function(){var a=this.offset+this.relativeOffset,o=this.parseUShort();return 1===o?{substFormat:1,coverage:this.parsePointer(Ke.coverage),deltaGlyphId:this.parseUShort()}:2===o?{substFormat:2,coverage:this.parsePointer(Ke.coverage),substitute:this.parseOffset16List()}:void On.assert(!1,"0x"+a.toString(16)+": lookup type 1 format must be 1 or 2.")},Xc[2]=function(){var a=this.parseUShort();return On.argument(1===a,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:a,coverage:this.parsePointer(Ke.coverage),sequences:this.parseListOfLists()}},Xc[3]=function(){var a=this.parseUShort();return On.argument(1===a,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:a,coverage:this.parsePointer(Ke.coverage),alternateSets:this.parseListOfLists()}},Xc[4]=function(){var a=this.parseUShort();return On.argument(1===a,"GSUB ligature table identifier-format must be 1"),{substFormat:a,coverage:this.parsePointer(Ke.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var f_={sequenceIndex:Ke.uShort,lookupListIndex:Ke.uShort};Xc[5]=function(){var a=this.offset+this.relativeOffset,o=this.parseUShort();if(1===o)return{substFormat:o,coverage:this.parsePointer(Ke.coverage),ruleSets:this.parseListOfLists(function(){var h=this.parseUShort(),d=this.parseUShort();return{input:this.parseUShortList(h-1),lookupRecords:this.parseRecordList(d,f_)}})};if(2===o)return{substFormat:o,coverage:this.parsePointer(Ke.coverage),classDef:this.parsePointer(Ke.classDef),classSets:this.parseListOfLists(function(){var h=this.parseUShort(),d=this.parseUShort();return{classes:this.parseUShortList(h-1),lookupRecords:this.parseRecordList(d,f_)}})};if(3===o){var c=this.parseUShort(),u=this.parseUShort();return{substFormat:o,coverages:this.parseList(c,Ke.pointer(Ke.coverage)),lookupRecords:this.parseRecordList(u,f_)}}On.assert(!1,"0x"+a.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Xc[6]=function(){var a=this.offset+this.relativeOffset,o=this.parseUShort();return 1===o?{substFormat:1,coverage:this.parsePointer(Ke.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(f_)}})}:2===o?{substFormat:2,coverage:this.parsePointer(Ke.coverage),backtrackClassDef:this.parsePointer(Ke.classDef),inputClassDef:this.parsePointer(Ke.classDef),lookaheadClassDef:this.parsePointer(Ke.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(f_)}})}:3===o?{substFormat:3,backtrackCoverage:this.parseList(Ke.pointer(Ke.coverage)),inputCoverage:this.parseList(Ke.pointer(Ke.coverage)),lookaheadCoverage:this.parseList(Ke.pointer(Ke.coverage)),lookupRecords:this.parseRecordList(f_)}:void On.assert(!1,"0x"+a.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Xc[7]=function(){var a=this.parseUShort();On.argument(1===a,"GSUB Extension Substitution subtable identifier-format must be 1");var o=this.parseUShort(),c=new Ke(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:o,extension:Xc[o].call(c)}},Xc[8]=function(){var a=this.parseUShort();return On.argument(1===a,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:a,coverage:this.parsePointer(Ke.coverage),backtrackCoverage:this.parseList(Ke.pointer(Ke.coverage)),lookaheadCoverage:this.parseList(Ke.pointer(Ke.coverage)),substitutes:this.parseUShortList()}};var p_=new Array(9);p_[1]=function(a){return new ln.Table("substitutionTable",1===a.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ln.Coverage(a.coverage)},{name:"deltaGlyphID",type:"USHORT",value:a.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new ln.Coverage(a.coverage)}].concat(ln.ushortList("substitute",a.substitute)))},p_[2]=function(a){return On.assert(1===a.substFormat,"Lookup type 2 substFormat must be 1."),new ln.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ln.Coverage(a.coverage)}].concat(ln.tableList("seqSet",a.sequences,function(o){return new ln.Table("sequenceSetTable",ln.ushortList("sequence",o))})))},p_[3]=function(a){return On.assert(1===a.substFormat,"Lookup type 3 substFormat must be 1."),new ln.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ln.Coverage(a.coverage)}].concat(ln.tableList("altSet",a.alternateSets,function(o){return new ln.Table("alternateSetTable",ln.ushortList("alternate",o))})))},p_[4]=function(a){return On.assert(1===a.substFormat,"Lookup type 4 substFormat must be 1."),new ln.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ln.Coverage(a.coverage)}].concat(ln.tableList("ligSet",a.ligatureSets,function(o){return new ln.Table("ligatureSetTable",ln.tableList("ligature",o,function(c){return new ln.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:c.ligGlyph}].concat(ln.ushortList("component",c.components,c.components.length+1)))}))})))},p_[6]=function(a){if(1===a.substFormat)return new ln.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:a.substFormat},{name:"coverage",type:"TABLE",value:new ln.Coverage(a.coverage)}].concat(ln.tableList("chainRuleSet",a.chainRuleSets,function(h){return new ln.Table("chainRuleSetTable",ln.tableList("chainRule",h,function(d){var f=ln.ushortList("backtrackGlyph",d.backtrack,d.backtrack.length).concat(ln.ushortList("inputGlyph",d.input,d.input.length+1)).concat(ln.ushortList("lookaheadGlyph",d.lookahead,d.lookahead.length)).concat(ln.ushortList("substitution",[],d.lookupRecords.length));return d.lookupRecords.forEach(function(p,g){f=f.concat({name:"sequenceIndex"+g,type:"USHORT",value:p.sequenceIndex}).concat({name:"lookupListIndex"+g,type:"USHORT",value:p.lookupListIndex})}),new ln.Table("chainRuleTable",f)}))})));if(2===a.substFormat)On.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(3===a.substFormat){var c=[{name:"substFormat",type:"USHORT",value:a.substFormat}];return c.push({name:"backtrackGlyphCount",type:"USHORT",value:a.backtrackCoverage.length}),a.backtrackCoverage.forEach(function(h,d){c.push({name:"backtrackCoverage"+d,type:"TABLE",value:new ln.Coverage(h)})}),c.push({name:"inputGlyphCount",type:"USHORT",value:a.inputCoverage.length}),a.inputCoverage.forEach(function(h,d){c.push({name:"inputCoverage"+d,type:"TABLE",value:new ln.Coverage(h)})}),c.push({name:"lookaheadGlyphCount",type:"USHORT",value:a.lookaheadCoverage.length}),a.lookaheadCoverage.forEach(function(h,d){c.push({name:"lookaheadCoverage"+d,type:"TABLE",value:new ln.Coverage(h)})}),c.push({name:"substitutionCount",type:"USHORT",value:a.lookupRecords.length}),a.lookupRecords.forEach(function(h,d){c=c.concat({name:"sequenceIndex"+d,type:"USHORT",value:h.sequenceIndex}).concat({name:"lookupListIndex"+d,type:"USHORT",value:h.lookupListIndex})}),new ln.Table("chainContextTable",c)}On.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};var ise_parse=function hYe(l,a){var o=new Ke(l,a=a||0),c=o.parseVersion(1);return On.argument(1===c||1.1===c,"Unsupported GSUB table version."),1===c?{version:c,scripts:o.parseScriptList(),features:o.parseFeatureList(),lookups:o.parseLookupList(Xc)}:{version:c,scripts:o.parseScriptList(),features:o.parseFeatureList(),lookups:o.parseLookupList(Xc),variations:o.parseFeatureVariationsList()}},ise_make=function dYe(l){return new ln.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new ln.ScriptList(l.scripts)},{name:"features",type:"TABLE",value:new ln.FeatureList(l.features)},{name:"lookups",type:"TABLE",value:new ln.LookupList(l.lookups,p_)}])},rse_parse=function fYe(l,a){var o=new bn.Parser(l,a),c=o.parseULong();On.argument(1===c,"Unsupported META table version."),o.parseULong(),o.parseULong();for(var u=o.parseULong(),h={},d=0;d<u;d++){var f=o.parseTag(),p=o.parseULong(),g=o.parseULong(),m=d_.UTF8(l,a+p,g);h[f]=m}return h},rse_make=function pYe(l){var a=Object.keys(l).length,o="",c=16+12*a,u=new ln.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:c},{name:"numTags",type:"ULONG",value:a}]);for(var h in l){var d=o.length;o+=l[h],u.fields.push({name:"tag "+h,type:"TAG",value:h}),u.fields.push({name:"offset "+h,type:"ULONG",value:c+d}),u.fields.push({name:"length "+h,type:"ULONG",value:l[h].length})}return u.fields.push({name:"stringPool",type:"CHARARRAY",value:o}),u},sse_parse=function gYe(l,a){var o=new Ke(l,a),c=o.parseUShort();On.argument(0===c,"Only COLRv0 supported.");var u=o.parseUShort(),h=o.parseOffset32(),d=o.parseOffset32(),f=o.parseUShort();o.relativeOffset=h;var p=o.parseRecordList(u,{glyphID:Ke.uShort,firstLayerIndex:Ke.uShort,numLayers:Ke.uShort});return o.relativeOffset=d,{version:c,baseGlyphRecords:p,layerRecords:o.parseRecordList(f,{glyphID:Ke.uShort,paletteIndex:Ke.uShort})}},sse_make=function mYe(l){var a=l.version;void 0===a&&(a=0);var o=l.baseGlyphRecords;void 0===o&&(o=[]);var c=l.layerRecords;void 0===c&&(c=[]),On.argument(0===a,"Only COLRv0 supported.");var u=14;return new ln.Table("COLR",[{name:"version",type:"USHORT",value:a},{name:"numBaseGlyphRecords",type:"USHORT",value:o.length},{name:"baseGlyphRecordsOffset",type:"ULONG",value:u},{name:"layerRecordsOffset",type:"ULONG",value:u+6*o.length},{name:"numLayerRecords",type:"USHORT",value:c.length}].concat(o.map(function(d,f){return[{name:"glyphID_"+f,type:"USHORT",value:d.glyphID},{name:"firstLayerIndex_"+f,type:"USHORT",value:d.firstLayerIndex},{name:"numLayers_"+f,type:"USHORT",value:d.numLayers}]}).flat(),c.map(function(d,f){return[{name:"LayerGlyphID_"+f,type:"USHORT",value:d.glyphID},{name:"paletteIndex_"+f,type:"USHORT",value:d.paletteIndex}]}).flat()))},ose_parse=function vYe(l,a){var o=new Ke(l,a),c=o.parseShort(),u=o.parseShort(),h=o.parseShort(),d=o.parseShort(),f=o.parseOffset32(),p=o.parseUShortList(h);return o.relativeOffset=f,{version:c,numPaletteEntries:u,colorRecords:o.parseULongList(d),colorRecordIndices:p}},ose_make=function _Ye(l){var a=l.version;void 0===a&&(a=0);var o=l.numPaletteEntries;void 0===o&&(o=0);var c=l.colorRecords;void 0===c&&(c=[]);var u=l.colorRecordIndices;return void 0===u&&(u=[0]),On.argument(0===a,"Only CPALv0 are supported."),On.argument(c.length,"No colorRecords given."),On.argument(u.length,"No colorRecordIndices given."),On.argument(!o&&1==u.length,"Can't infer numPaletteEntries on multiple colorRecordIndices"),new ln.Table("CPAL",[{name:"version",type:"USHORT",value:a},{name:"numPaletteEntries",type:"USHORT",value:o||c.length},{name:"numPalettes",type:"USHORT",value:u.length},{name:"numColorRecords",type:"USHORT",value:c.length},{name:"colorRecordsArrayOffset",type:"ULONG",value:12+2*u.length}].concat(u.map(function(h,d){return{name:"colorRecordIndices_"+d,type:"USHORT",value:h}}),c.map(function(h,d){return{name:"colorRecords_"+d,type:"ULONG",value:h}})))};function ase(l){return Math.log(l)/Math.log(2)|0}function f5(l){for(;l.length%4!=0;)l.push(0);for(var a=0,o=0;o<l.length;o+=4)a+=(l[o]<<24)+(l[o+1]<<16)+(l[o+2]<<8)+l[o+3];return a%Math.pow(2,32)}function lse(l,a,o,c){return new ln.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==l?l:""},{name:"checkSum",type:"ULONG",value:void 0!==a?a:0},{name:"offset",type:"ULONG",value:void 0!==o?o:0},{name:"length",type:"ULONG",value:void 0!==c?c:0}])}function cse(l){var a=new ln.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);a.tables=l,a.numTables=l.length;var o=Math.pow(2,ase(a.numTables));a.searchRange=16*o,a.entrySelector=ase(o),a.rangeShift=16*a.numTables-a.searchRange;for(var c=[],u=[],h=a.sizeOf()+lse().sizeOf()*a.numTables;h%4!=0;)h+=1,u.push({name:"padding",type:"BYTE",value:0});for(var d=0;d<l.length;d+=1){var f=l[d];On.argument(4===f.tableName.length,"Table name"+f.tableName+" is invalid.");var p=f.sizeOf(),g=lse(f.tableName,f5(f.encode()),h,p);for(c.push({name:g.tag+" Table Record",type:"RECORD",value:g}),u.push({name:f.tableName+" table",type:"RECORD",value:f}),h+=p,On.argument(!isNaN(h),"Something went wrong calculating the offset.");h%4!=0;)h+=1,u.push({name:"padding",type:"BYTE",value:0})}return c.sort(function(m,v){return m.value.tag>v.value.tag?1:-1}),a.fields=a.fields.concat(c),a.fields=a.fields.concat(u),a}function use(l,a,o){for(var c=0;c<a.length;c+=1){var u=l.charToGlyphIndex(a[c]);if(u>0)return l.glyphs.get(u).getMetrics()}return o}function yYe(l){for(var a=0,o=0;o<l.length;o+=1)a+=l[o];return a/l.length}var xYe_fontToTable=function bYe(l){for(var p,a=[],o=[],c=[],u=[],h=[],d=[],f=[],g=0,m=0,v=0,_=0,y=0,b=0;b<l.glyphs.length;b+=1){var C=l.glyphs.get(b),x=0|C.unicode;if(isNaN(C.advanceWidth))throw new Error("Glyph "+C.name+" ("+b+"): advanceWidth is not a number.");(p>x||void 0===p)&&x>0&&(p=x),g<x&&(g=x);var w=d5_getUnicodeRange(x);if(w<32)m|=1<<w;else if(w<64)v|=1<<w-32;else if(w<96)_|=1<<w-64;else{if(!(w<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");y|=1<<w-96}if(".notdef"!==C.name){var S=C.getMetrics();a.push(S.xMin),o.push(S.yMin),c.push(S.xMax),u.push(S.yMax),d.push(S.leftSideBearing),f.push(S.rightSideBearing),h.push(C.advanceWidth)}}var M={xMin:Math.min.apply(null,a),yMin:Math.min.apply(null,o),xMax:Math.max.apply(null,c),yMax:Math.max.apply(null,u),advanceWidthMax:Math.max.apply(null,h),advanceWidthAvg:yYe(h),minLeftSideBearing:Math.min.apply(null,d),maxLeftSideBearing:Math.max.apply(null,d),minRightSideBearing:Math.min.apply(null,f)};M.ascender=l.ascender,M.descender=l.descender;var T=Wre_make({flags:3,unitsPerEm:l.unitsPerEm,xMin:M.xMin,yMin:M.yMin,xMax:M.xMax,yMax:M.yMax,lowestRecPPEM:3,createdTimestamp:l.createdTimestamp}),E=jre_make({ascender:M.ascender,descender:M.descender,advanceWidthMax:M.advanceWidthMax,minLeftSideBearing:M.minLeftSideBearing,minRightSideBearing:M.minRightSideBearing,xMaxExtent:M.maxLeftSideBearing+(M.xMax-M.xMin),numberOfHMetrics:l.glyphs.length}),k=Yre_make(l.glyphs.length),R=d5_make(Object.assign({xAvgCharWidth:Math.round(M.advanceWidthAvg),usFirstCharIndex:p,usLastCharIndex:g,ulUnicodeRange1:m,ulUnicodeRange2:v,ulUnicodeRange3:_,ulUnicodeRange4:y,sTypoAscender:M.ascender,sTypoDescender:M.descender,sTypoLineGap:0,usWinAscent:M.yMax,usWinDescent:Math.abs(M.yMin),ulCodePageRange1:1,sxHeight:use(l,"xyvw",{yMax:Math.round(M.ascender/2)}).yMax,sCapHeight:use(l,"HIKLEFJMNTZBDPRAGOQSUVWXY",M).yMax,usDefaultChar:l.hasChar(" ")?32:0,usBreakChar:l.hasChar(" ")?32:0},l.tables.os2)),D=$re_make(l.glyphs),P=Ere_make(l.glyphs),F=l.getEnglishName("fontFamily"),L=l.getEnglishName("fontSubfamily"),$=F+" "+L,Y=l.getEnglishName("postScriptName");Y||(Y=F.replace(/\s/g,"")+"-"+L);var O={};for(var V in l.names)O[V]=l.names[V];O.uniqueID||(O.uniqueID={en:l.getEnglishName("manufacturer")+":"+$}),O.postScriptName||(O.postScriptName={en:Y}),O.preferredFamily||(O.preferredFamily=l.names.fontFamily),O.preferredSubfamily||(O.preferredSubfamily=l.names.fontSubfamily);var B=[],G=tse_make(O,B),H=B.length>0?qre_make(B):void 0,j=nse_make(),W=Gre_make(l.glyphs,{version:l.getEnglishName("version"),fullName:$,familyName:F,weightName:L,postScriptName:Y,unitsPerEm:l.unitsPerEm,fontBBox:[0,M.yMin,M.ascender,M.advanceWidthMax]}),Z=l.metas&&Object.keys(l.metas).length>0?rse_make(l.metas):void 0,K=[T,E,k,R,G,P,j,W,D];H&&K.push(H),l.tables.gsub&&K.push(ise_make(l.tables.gsub)),l.tables.cpal&&K.push(ose_make(l.tables.cpal)),l.tables.colr&&K.push(sse_make(l.tables.colr)),Z&&K.push(Z);for(var ae=cse(K),xe=f5(ae.encode()),ge=ae.fields,Me=!1,He=0;He<ge.length;He+=1)if("head table"===ge[He].name){ge[He].value.checkSumAdjustment=2981146554-xe,Me=!0;break}if(!Me)throw new Error("Could not find head table with checkSum to adjust.");return ae};function p5(l,a){for(var o=0,c=l.length-1;o<=c;){var u=o+c>>>1,h=l[u].tag;if(h===a)return u;h<a?o=u+1:c=u-1}return-o-1}function hse(l,a){for(var o=0,c=l.length-1;o<=c;){var u=o+c>>>1,h=l[u];if(h===a)return u;h<a?o=u+1:c=u-1}return-o-1}function dse(l,a){for(var o,c=0,u=l.length-1;c<=u;){var h=c+u>>>1,d=(o=l[h]).start;if(d===a)return o;d<a?c=h+1:u=h-1}if(c>0)return a>(o=l[c-1]).end?0:o}function Dx(l,a){this.font=l,this.tableName=a}function Ex(l){Dx.call(this,l,"gpos")}function El(l){Dx.call(this,l,"gsub")}function CYe(l,a){var o=l.length;if(o!==a.length)return!1;for(var c=0;c<o;c++)if(l[c]!==a[c])return!1;return!0}function g5(l,a,o){for(var c=l.subtables,u=0;u<c.length;u++){var h=c[u];if(h.substFormat===a)return h}if(o)return c.push(o),o}function fse(l){for(var a=new ArrayBuffer(l.length),o=new Uint8Array(a),c=0;c<l.length;++c)o[c]=l[c];return a}function kx(l,a){if(!l)throw a}function pse(l,a,o,c,u){var h;return(a&c)>0?(h=l.parseByte(),0==(a&u)&&(h=-h),h=o+h):h=(a&u)>0?o:o+l.parseShort(),h}function gse(l,a,o){var u,h,c=new bn.Parser(a,o);if(l.numberOfContours=c.parseShort(),l._xMin=c.parseShort(),l._yMin=c.parseShort(),l._xMax=c.parseShort(),l._yMax=c.parseShort(),l.numberOfContours>0){for(var d=l.endPointIndices=[],f=0;f<l.numberOfContours;f+=1)d.push(c.parseUShort());l.instructionLength=c.parseUShort(),l.instructions=[];for(var p=0;p<l.instructionLength;p+=1)l.instructions.push(c.parseByte());var g=d[d.length-1]+1;u=[];for(var m=0;m<g;m+=1)if(h=c.parseByte(),u.push(h),(8&h)>0)for(var v=c.parseByte(),_=0;_<v;_+=1)u.push(h),m+=1;if(On.argument(u.length===g,"Bad flags."),d.length>0){var b,y=[];if(g>0){for(var C=0;C<g;C+=1)(b={}).onCurve=!!(1&(h=u[C])),b.lastPointOfContour=d.indexOf(C)>=0,y.push(b);for(var x=0,w=0;w<g;w+=1)(b=y[w]).x=pse(c,h=u[w],x,2,16),x=b.x;for(var S=0,M=0;M<g;M+=1)(b=y[M]).y=pse(c,h=u[M],S,4,32),S=b.y}l.points=y}else l.points=[]}else if(0===l.numberOfContours)l.points=[];else{l.isComposite=!0,l.points=[],l.components=[];for(var T=!0;T;){u=c.parseUShort();var E={glyphIndex:c.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&u)>0?(2&u)>0?(E.dx=c.parseShort(),E.dy=c.parseShort()):E.matchedPoints=[c.parseUShort(),c.parseUShort()]:(2&u)>0?(E.dx=c.parseChar(),E.dy=c.parseChar()):E.matchedPoints=[c.parseByte(),c.parseByte()],(8&u)>0?E.xScale=E.yScale=c.parseF2Dot14():(64&u)>0?(E.xScale=c.parseF2Dot14(),E.yScale=c.parseF2Dot14()):(128&u)>0&&(E.xScale=c.parseF2Dot14(),E.scale01=c.parseF2Dot14(),E.scale10=c.parseF2Dot14(),E.yScale=c.parseF2Dot14()),l.components.push(E),T=!!(32&u)}if(256&u){l.instructionLength=c.parseUShort(),l.instructions=[];for(var k=0;k<l.instructionLength;k+=1)l.instructions.push(c.parseByte())}}}function m5(l,a){for(var o=[],c=0;c<l.length;c+=1){var u=l[c];o.push({x:a.xScale*u.x+a.scale01*u.y+a.dx,y:a.scale10*u.x+a.yScale*u.y+a.dy,onCurve:u.onCurve,lastPointOfContour:u.lastPointOfContour})}return o}function mse(l){var a=new Fs;if(!l)return a;for(var o=function TYe(l){for(var a=[],o=[],c=0;c<l.length;c+=1){var u=l[c];o.push(u),u.lastPointOfContour&&(a.push(o),o=[])}return On.argument(0===o.length,"There are still points left in the current contour."),a}(l),c=0;c<o.length;++c){var u=o[c],d=u[u.length-1],f=u[0];if(d.onCurve)a.moveTo(d.x,d.y);else if(f.onCurve)a.moveTo(f.x,f.y);else{var p={x:.5*(d.x+f.x),y:.5*(d.y+f.y)};a.moveTo(p.x,p.y)}for(var g=0;g<u.length;++g)if(d,d=f,f=u[(g+1)%u.length],d.onCurve)a.lineTo(d.x,d.y);else{var v=f;f.onCurve||(v={x:.5*(d.x+f.x),y:.5*(d.y+f.y)}),a.quadraticCurveTo(d.x,d.y,v.x,v.y)}a.closePath()}return a}function vse(l,a){if(a.isComposite)for(var o=0;o<a.components.length;o+=1){var c=a.components[o],u=l.get(c.glyphIndex);if(u.getPath(),u.points){var h=void 0;if(void 0===c.matchedPoints)h=m5(u.points,c);else{if(c.matchedPoints[0]>a.points.length-1||c.matchedPoints[1]>u.points.length-1)throw Error("Matched points out of range in "+a.name);var d=a.points[c.matchedPoints[0]],f=u.points[c.matchedPoints[1]],p={xScale:c.xScale,scale01:c.scale01,scale10:c.scale10,yScale:c.yScale,dx:0,dy:0};f=m5([f],p)[0],p.dx=d.x-f.x,p.dy=d.y-f.y,h=m5(u.points,p)}a.points=a.points.concat(h)}}return mse(a.points)}(Ex.prototype=Dx.prototype={searchTag:p5,binSearch:hse,getTable:function(l){var a=this.font.tables[this.tableName];return!a&&l&&(a=this.font.tables[this.tableName]=this.createDefaultTable()),a},getScriptNames:function(){var l=this.getTable();return l?l.scripts.map(function(a){return a.tag}):[]},getDefaultScriptName:function(){var l=this.getTable();if(l){for(var a=!1,o=0;o<l.scripts.length;o++){var c=l.scripts[o].tag;if("DFLT"===c)return c;"latn"===c&&(a=!0)}if(a)return"latn"}},getScriptTable:function(l,a){var o=this.getTable(a);if(o){var c=o.scripts,u=p5(o.scripts,l=l||"DFLT");if(u>=0)return c[u].script;if(a){var h={tag:l,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return c.splice(-1-u,0,h),h.script}}},getLangSysTable:function(l,a,o){var c=this.getScriptTable(l,o);if(c){if(!a||"dflt"===a||"DFLT"===a)return c.defaultLangSys;var u=p5(c.langSysRecords,a);if(u>=0)return c.langSysRecords[u].langSys;if(o){var h={tag:a,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return c.langSysRecords.splice(-1-u,0,h),h.langSys}}},getFeatureTable:function(l,a,o,c){var u=this.getLangSysTable(l,a,c);if(u){for(var h,d=u.featureIndexes,f=this.font.tables[this.tableName].features,p=0;p<d.length;p++)if((h=f[d[p]]).tag===o)return h.feature;if(c){var g=f.length;return On.assert(0===g||o>=f[g-1].tag,"Features must be added in alphabetical order."),f.push(h={tag:o,feature:{params:0,lookupListIndexes:[]}}),d.push(g),h.feature}}},getLookupTables:function(l,a,o,c,u){var h=this.getFeatureTable(l,a,o,u),d=[];if(h){for(var f,p=h.lookupListIndexes,g=this.font.tables[this.tableName].lookups,m=0;m<p.length;m++)(f=g[p[m]]).lookupType===c&&d.push(f);if(0===d.length&&u){var v=g.length;return g.push(f={lookupType:c,lookupFlag:0,subtables:[],markFilteringSet:void 0}),p.push(v),[f]}}return d},getGlyphClass:function(l,a){switch(l.format){case 1:return l.startGlyph<=a&&a<l.startGlyph+l.classes.length?l.classes[a-l.startGlyph]:0;case 2:var o=dse(l.ranges,a);return o?o.classId:0}},getCoverageIndex:function(l,a){switch(l.format){case 1:var o=hse(l.glyphs,a);return o>=0?o:-1;case 2:var c=dse(l.ranges,a);return c?c.index+a-c.start:-1}},expandCoverage:function(l){if(1===l.format)return l.glyphs;for(var a=[],o=l.ranges,c=0;c<o.length;c++)for(var u=o[c],d=u.end,f=u.start;f<=d;f++)a.push(f);return a}}).init=function(){var l=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(l)},Ex.prototype.getKerningValue=function(l,a,o){for(var c=0;c<l.length;c++)for(var u=l[c].subtables,h=0;h<u.length;h++){var d=u[h],f=this.getCoverageIndex(d.coverage,a);if(!(f<0))switch(d.posFormat){case 1:for(var p=d.pairSets[f],g=0;g<p.length;g++){var m=p[g];if(m.secondGlyph===o)return m.value1&&m.value1.xAdvance||0}break;case 2:var v=this.getGlyphClass(d.classDef1,a),_=this.getGlyphClass(d.classDef2,o),y=d.classRecords[v][_];return y.value1&&y.value1.xAdvance||0}}return 0},Ex.prototype.getKerningTables=function(l,a){if(this.font.tables.gpos)return this.getLookupTables(l,a,"kern",2)},(El.prototype=Dx.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},El.prototype.getSingle=function(l,a,o){for(var c=[],u=this.getLookupTables(a,o,l,1),h=0;h<u.length;h++)for(var d=u[h].subtables,f=0;f<d.length;f++){var p=d[f],g=this.expandCoverage(p.coverage),m=void 0;if(1===p.substFormat){var v=p.deltaGlyphId;for(m=0;m<g.length;m++){var _=g[m];c.push({sub:_,by:_+v})}}else{var y=p.substitute;for(m=0;m<g.length;m++)c.push({sub:g[m],by:y[m]})}}return c},El.prototype.getMultiple=function(l,a,o){for(var c=[],u=this.getLookupTables(a,o,l,2),h=0;h<u.length;h++)for(var d=u[h].subtables,f=0;f<d.length;f++){var p=d[f],g=this.expandCoverage(p.coverage),m=void 0;for(m=0;m<g.length;m++)c.push({sub:g[m],by:p.sequences[m]})}return c},El.prototype.getAlternates=function(l,a,o){for(var c=[],u=this.getLookupTables(a,o,l,3),h=0;h<u.length;h++)for(var d=u[h].subtables,f=0;f<d.length;f++)for(var p=d[f],g=this.expandCoverage(p.coverage),m=p.alternateSets,v=0;v<g.length;v++)c.push({sub:g[v],by:m[v]});return c},El.prototype.getLigatures=function(l,a,o){for(var c=[],u=this.getLookupTables(a,o,l,4),h=0;h<u.length;h++)for(var d=u[h].subtables,f=0;f<d.length;f++)for(var p=d[f],g=this.expandCoverage(p.coverage),m=p.ligatureSets,v=0;v<g.length;v++)for(var _=g[v],y=m[v],b=0;b<y.length;b++){var C=y[b];c.push({sub:[_].concat(C.components),by:C.ligGlyph})}return c},El.prototype.addSingle=function(l,a,o,c){var h=g5(this.getLookupTables(o,c,l,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});On.assert(1===h.coverage.format,"Single: unable to modify coverage table format "+h.coverage.format);var d=a.sub,f=this.binSearch(h.coverage.glyphs,d);f<0&&(h.coverage.glyphs.splice(f=-1-f,0,d),h.substitute.splice(f,0,0)),h.substitute[f]=a.by},El.prototype.addMultiple=function(l,a,o,c){On.assert(a.by instanceof Array&&a.by.length>1,'Multiple: "by" must be an array of two or more ids');var h=g5(this.getLookupTables(o,c,l,2,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});On.assert(1===h.coverage.format,"Multiple: unable to modify coverage table format "+h.coverage.format);var d=a.sub,f=this.binSearch(h.coverage.glyphs,d);f<0&&(h.coverage.glyphs.splice(f=-1-f,0,d),h.sequences.splice(f,0,0)),h.sequences[f]=a.by},El.prototype.addAlternate=function(l,a,o,c){var h=g5(this.getLookupTables(o,c,l,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});On.assert(1===h.coverage.format,"Alternate: unable to modify coverage table format "+h.coverage.format);var d=a.sub,f=this.binSearch(h.coverage.glyphs,d);f<0&&(h.coverage.glyphs.splice(f=-1-f,0,d),h.alternateSets.splice(f,0,0)),h.alternateSets[f]=a.by},El.prototype.addLigature=function(l,a,o,c){var u=this.getLookupTables(o,c,l,4,!0)[0],h=u.subtables[0];h||(u.subtables[0]=h={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),On.assert(1===h.coverage.format,"Ligature: unable to modify coverage table format "+h.coverage.format);var d=a.sub[0],f=a.sub.slice(1),p={ligGlyph:a.by,components:f},g=this.binSearch(h.coverage.glyphs,d);if(g>=0){for(var m=h.ligatureSets[g],v=0;v<m.length;v++)if(CYe(m[v].components,f))return;m.push(p)}else h.coverage.glyphs.splice(g=-1-g,0,d),h.ligatureSets.splice(g,0,[p])},El.prototype.getFeature=function(l,a,o){if(/ss\d\d/.test(l))return this.getSingle(l,a,o);switch(l){case"aalt":case"salt":return this.getSingle(l,a,o).concat(this.getAlternates(l,a,o));case"dlig":case"liga":case"rlig":return this.getLigatures(l,a,o);case"ccmp":return this.getMultiple(l,a,o).concat(this.getLigatures(l,a,o));case"stch":return this.getMultiple(l,a,o)}},El.prototype.add=function(l,a,o,c){if(/ss\d\d/.test(l))return this.addSingle(l,a,o,c);switch(l){case"aalt":case"salt":return"number"==typeof a.by?this.addSingle(l,a,o,c):this.addAlternate(l,a,o,c);case"dlig":case"liga":case"rlig":return this.addLigature(l,a,o,c);case"ccmp":return a.by instanceof Array?this.addMultiple(l,a,o,c):this.addLigature(l,a,o,c)}};var yse,Sg,bse,v5,_se={getPath:mse,parse:function EYe(l,a,o,c,u){return u.lowMemory?function DYe(l,a,o,c){var u=new Qu.GlyphSet(c);return c._push=function(h){var d=o[h];u.push(h,d!==o[h+1]?Qu.ttfGlyphLoader(c,h,gse,l,a+d,vse):Qu.glyphLoader(c,h))},u}(l,a,o,c):function MYe(l,a,o,c){for(var u=new Qu.GlyphSet(c),h=0;h<o.length-1;h+=1){var d=o[h];u.push(h,d!==o[h+1]?Qu.ttfGlyphLoader(c,h,gse,l,a+d,vse):Qu.glyphLoader(c,h))}return u}(l,a,o,c)}};function xse(l){this.font=l,this.getCommands=function(a){return _se.getPath(a).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function kYe(l){return l}function Cse(l){return Math.sign(l)*Math.round(Math.abs(l))}function AYe(l){return Math.sign(l)*Math.round(Math.abs(2*l))/2}function IYe(l){return Math.sign(l)*(Math.round(Math.abs(l)+.5)-.5)}function PYe(l){return Math.sign(l)*Math.ceil(Math.abs(l))}function OYe(l){return Math.sign(l)*Math.floor(Math.abs(l))}var wse=function(l){var a=this.srPeriod,o=this.srPhase,u=1;return l<0&&(l=-l,u=-1),l+=this.srThreshold-o,l=Math.trunc(l/a)*a,(l+=o)<0?o*u:l*u},Ju={x:1,y:0,axis:"x",distance:function(l,a,o,c){return(o?l.xo:l.x)-(c?a.xo:a.x)},interpolate:function(l,a,o,c){var u,h,d,f,p,g,m;if(!c||c===this)return u=l.xo-a.xo,h=l.xo-o.xo,p=a.x-a.xo,g=o.x-o.xo,0===(m=(d=Math.abs(u))+(f=Math.abs(h)))?void(l.x=l.xo+(p+g)/2):void(l.x=l.xo+(p*f+g*d)/m);u=c.distance(l,a,!0,!0),h=c.distance(l,o,!0,!0),p=c.distance(a,a,!1,!0),g=c.distance(o,o,!1,!0),0!==(m=(d=Math.abs(u))+(f=Math.abs(h)))?Ju.setRelative(l,l,(p*f+g*d)/m,c,!0):Ju.setRelative(l,l,(p+g)/2,c,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(l,a,o,c,u){l.x=c&&c!==this?(u?a.xo:a.x)+o*c.x+(l.y-((u?a.yo:a.y)+o*c.y))/c.normalSlope:(u?a.xo:a.x)+o},slope:0,touch:function(l){l.xTouched=!0},touched:function(l){return l.xTouched},untouch:function(l){l.xTouched=!1}},od={x:0,y:1,axis:"y",distance:function(l,a,o,c){return(o?l.yo:l.y)-(c?a.yo:a.y)},interpolate:function(l,a,o,c){var u,h,d,f,p,g,m;if(!c||c===this)return u=l.yo-a.yo,h=l.yo-o.yo,p=a.y-a.yo,g=o.y-o.yo,0===(m=(d=Math.abs(u))+(f=Math.abs(h)))?void(l.y=l.yo+(p+g)/2):void(l.y=l.yo+(p*f+g*d)/m);u=c.distance(l,a,!0,!0),h=c.distance(l,o,!0,!0),p=c.distance(a,a,!1,!0),g=c.distance(o,o,!1,!0),0!==(m=(d=Math.abs(u))+(f=Math.abs(h)))?od.setRelative(l,l,(p*f+g*d)/m,c,!0):od.setRelative(l,l,(p+g)/2,c,!0)},normalSlope:0,setRelative:function(l,a,o,c,u){l.y=c&&c!==this?(u?a.yo:a.y)+o*c.y+c.normalSlope*(l.x-((u?a.xo:a.x)+o*c.x)):(u?a.yo:a.y)+o},slope:Number.POSITIVE_INFINITY,touch:function(l){l.yTouched=!0},touched:function(l){return l.yTouched},untouch:function(l){l.yTouched=!1}};function Ax(l,a){this.x=l,this.y=a,this.axis=void 0,this.slope=a/l,this.normalSlope=-l/a,Object.freeze(this)}function Ix(l,a){var o=Math.sqrt(l*l+a*a);return a/=o,1==(l/=o)&&0===a?Ju:0===l&&1===a?od:new Ax(l,a)}function ad(l,a,o,c){this.x=this.xo=Math.round(64*l)/64,this.y=this.yo=Math.round(64*a)/64,this.lastPointOfContour=o,this.onCurve=c,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Ju),Object.freeze(od),Ax.prototype.distance=function(l,a,o,c){return this.x*Ju.distance(l,a,o,c)+this.y*od.distance(l,a,o,c)},Ax.prototype.interpolate=function(l,a,o,c){var u,h,d,f,p,g,m;d=c.distance(l,a,!0,!0),f=c.distance(l,o,!0,!0),u=c.distance(a,a,!1,!0),h=c.distance(o,o,!1,!0),0!==(m=(p=Math.abs(d))+(g=Math.abs(f)))?this.setRelative(l,l,(u*g+h*p)/m,c,!0):this.setRelative(l,l,(u+h)/2,c,!0)},Ax.prototype.setRelative=function(l,a,o,c,u){var g=(c=c||this).normalSlope,m=this.slope,v=l.x,_=l.y;l.x=(m*v-g*((u?a.xo:a.x)+o*c.x)+((u?a.yo:a.y)+o*c.y)-_)/(m-g),l.y=m*(l.x-v)+_},Ax.prototype.touch=function(l){l.xTouched=!0,l.yTouched=!0},ad.prototype.nextTouched=function(l){for(var a=this.nextPointOnContour;!l.touched(a)&&a!==this;)a=a.nextPointOnContour;return a},ad.prototype.prevTouched=function(l){for(var a=this.prevPointOnContour;!l.touched(a)&&a!==this;)a=a.prevPointOnContour;return a};var Px=Object.freeze(new ad(0,0)),RYe={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Sf(l,a){switch(this.env=l,this.stack=[],this.prog=a,l){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Ju,this.round=Cse}}function jD(l){for(var a=l.tZone=new Array(l.gZone.length),o=0;o<a.length;o++)a[o]=new ad(0,0)}function Sse(l,a){var h,o=l.prog,c=l.ip,u=1;do{if(88===(h=o[++c]))u++;else if(89===h)u--;else if(64===h)c+=o[c+1]+1;else if(65===h)c+=2*o[c+1]+1;else if(h>=176&&h<=183)c+=h-176+1;else if(h>=184&&h<=191)c+=2*(h-184+1);else if(a&&1===u&&27===h)break}while(u>0);l.ip=c}function Tse(l,a){exports.DEBUG&&console.log(a.step,"SVTCA["+l.axis+"]"),a.fv=a.pv=a.dpv=l}function Mse(l,a){exports.DEBUG&&console.log(a.step,"SPVTCA["+l.axis+"]"),a.pv=a.dpv=l}function Dse(l,a){exports.DEBUG&&console.log(a.step,"SFVTCA["+l.axis+"]"),a.fv=l}function Ese(l,a){var f,p,o=a.stack,c=o.pop(),u=o.pop(),h=a.z2[c],d=a.z1[u];exports.DEBUG&&console.log("SPVTL["+l+"]",c,u),l?(f=h.y-d.y,p=d.x-h.x):(f=d.x-h.x,p=d.y-h.y),a.pv=a.dpv=Ix(f,p)}function kse(l,a){var f,p,o=a.stack,c=o.pop(),u=o.pop(),h=a.z2[c],d=a.z1[u];exports.DEBUG&&console.log("SFVTL["+l+"]",c,u),l?(f=h.y-d.y,p=d.x-h.x):(f=d.x-h.x,p=d.y-h.y),a.fv=Ix(f,p)}function _5(l){exports.DEBUG&&console.log(l.step,"POP[]"),l.stack.pop()}function Ase(l,a){var o=a.stack.pop(),c=a.z0[o],u=a.fv,h=a.pv;exports.DEBUG&&console.log(a.step,"MDAP["+l+"]",o);var d=h.distance(c,Px);l&&(d=a.round(d)),u.setRelative(c,Px,d,h),u.touch(c),a.rp0=a.rp1=o}function Ise(l,a){var u,h,d,o=a.z2,c=o.length-2;exports.DEBUG&&console.log(a.step,"IUP["+l.axis+"]");for(var f=0;f<c;f++)!l.touched(u=o[f])&&(h=u.prevTouched(l))!==u&&(h===(d=u.nextTouched(l))&&l.setRelative(u,u,l.distance(h,h,!1,!0),l,!0),l.interpolate(u,h,d,l))}function Pse(l,a){for(var o=a.stack,u=(l?a.z0:a.z1)[l?a.rp1:a.rp2],h=a.fv,d=a.pv,f=a.loop,p=a.z2;f--;){var g=o.pop(),m=p[g],v=d.distance(u,u,!1,!0);h.setRelative(m,m,v,d),h.touch(m),exports.DEBUG&&console.log(a.step,(a.loop>1?"loop "+(a.loop-f)+": ":"")+"SHP["+(l?"rp1":"rp2")+"]",g)}a.loop=1}function Ose(l,a){var u=(l?a.z0:a.z1)[l?a.rp1:a.rp2],h=a.fv,d=a.pv,f=a.stack.pop(),p=a.z2[a.contours[f]],g=p;exports.DEBUG&&console.log(a.step,"SHC["+l+"]",f);var m=d.distance(u,u,!1,!0);do{g!==u&&h.setRelative(g,g,m,d),g=g.nextPointOnContour}while(g!==p)}function Rse(l,a){var p,u=(l?a.z0:a.z1)[l?a.rp1:a.rp2],h=a.fv,d=a.pv,f=a.stack.pop();switch(exports.DEBUG&&console.log(a.step,"SHZ["+l+"]",f),f){case 0:p=a.tZone;break;case 1:p=a.gZone;break;default:throw new Error("Invalid zone")}for(var g,m=d.distance(u,u,!1,!0),v=p.length-2,_=0;_<v;_++)h.setRelative(g=p[_],g,m,d)}function Fse(l,a){var o=a.stack,c=o.pop()/64,u=o.pop(),h=a.z1[u],f=a.fv;f.setRelative(h,a.z0[a.rp0],c,a.pv),f.touch(h),exports.DEBUG&&console.log(a.step,"MSIRP["+l+"]",c,u),a.rp1=a.rp0,a.rp2=u,l&&(a.rp0=u)}function Lse(l,a){var o=a.stack,c=o.pop(),u=o.pop(),h=a.z0[u],d=a.fv,f=a.pv,p=a.cvt[c];exports.DEBUG&&console.log(a.step,"MIAP["+l+"]",c,"(",p,")",u);var g=f.distance(h,Px);l&&(Math.abs(g-p)<a.cvCutIn&&(g=p),g=a.round(g)),d.setRelative(h,Px,g,f),0===a.zp0&&(h.xo=h.x,h.yo=h.y),d.touch(h),a.rp0=a.rp1=u}function Nse(l,a){var o=a.stack,c=o.pop(),u=a.z2[c];exports.DEBUG&&console.log(a.step,"GC["+l+"]",c),o.push(64*a.dpv.distance(u,Px,l,!1))}function Bse(l,a){var o=a.stack,c=o.pop(),u=o.pop(),f=a.dpv.distance(a.z0[u],a.z1[c],l,l);exports.DEBUG&&console.log(a.step,"MD["+l+"]",c,u,"->",f),a.stack.push(Math.round(64*f))}function y5(l,a){var o=a.stack,c=o.pop(),u=a.fv,h=a.pv,d=a.ppem,f=a.deltaBase+16*(l-1),p=a.deltaShift,g=a.z0;exports.DEBUG&&console.log(a.step,"DELTAP["+l+"]",c,o);for(var m=0;m<c;m++){var v=o.pop(),_=o.pop();if(f+((240&_)>>4)===d){var b=(15&_)-8;b>=0&&b++,exports.DEBUG&&console.log(a.step,"DELTAPFIX",v,"by",b*p);var C=g[v];u.setRelative(C,C,b*p,h)}}}function $D(l,a){var o=a.stack,c=o.pop();exports.DEBUG&&console.log(a.step,"ROUND[]"),o.push(64*a.round(c/64))}function b5(l,a){var o=a.stack,c=o.pop(),u=a.ppem,h=a.deltaBase+16*(l-1),d=a.deltaShift;exports.DEBUG&&console.log(a.step,"DELTAC["+l+"]",c,o);for(var f=0;f<c;f++){var p=o.pop(),g=o.pop();if(h+((240&g)>>4)===u){var v=(15&g)-8;v>=0&&v++;var _=v*d;exports.DEBUG&&console.log(a.step,"DELTACFIX",p,"by",_),a.cvt[p]+=_}}}function Vse(l,a){var f,p,o=a.stack,c=o.pop(),u=o.pop(),h=a.z2[c],d=a.z1[u];exports.DEBUG&&console.log(a.step,"SDPVTL["+l+"]",c,u),l?(f=h.y-d.y,p=d.x-h.x):(f=d.x-h.x,p=d.y-h.y),a.dpv=Ix(f,p)}function Tf(l,a){var o=a.stack,c=a.prog,u=a.ip;exports.DEBUG&&console.log(a.step,"PUSHB["+l+"]");for(var h=0;h<l;h++)o.push(c[++u]);a.ip=u}function Mf(l,a){var o=a.ip,c=a.prog,u=a.stack;exports.DEBUG&&console.log(a.ip,"PUSHW["+l+"]");for(var h=0;h<l;h++){var d=c[++o]<<8|c[++o];32768&d&&(d=-(1+(65535^d))),u.push(d)}a.ip=o}function xn(l,a,o,c,u,h){var C,x,w,S,d=h.stack,f=l&&d.pop(),p=d.pop(),m=h.z0[h.rp0],v=h.z1[p],_=h.minDis,y=h.fv,b=h.dpv;w=(x=C=b.distance(v,m,!0,!0))>=0?1:-1,x=Math.abs(x),l&&(S=h.cvt[f],c&&Math.abs(x-S)<h.cvCutIn&&(x=S)),o&&x<_&&(x=_),c&&(x=h.round(x)),y.setRelative(v,m,w*x,b),y.touch(v),exports.DEBUG&&console.log(h.step,(l?"MIRP[":"MDRP[")+(a?"M":"m")+(o?">":"_")+(c?"R":"_")+(0===u?"Gr":1===u?"Bl":2===u?"Wh":"")+"]",l?f+"("+h.cvt[f]+","+S+")":"",p,"(d =",C,"->",w*x,")"),h.rp1=h.rp0,h.rp2=p,a&&(h.rp0=p)}function g_(l){this.char=l,this.state={},this.activeState=null}function x5(l,a,o){this.contextName=o,this.startIndex=l,this.endOffset=a}function rXe(l,a,o){this.contextName=l,this.openRange=null,this.ranges=[],this.checkStart=a,this.checkEnd=o}function Kc(l,a){this.context=l,this.index=a,this.length=l.length,this.current=l[a],this.backtrack=l.slice(0,a),this.lookahead=l.slice(a+1)}function qD(l){this.eventId=l,this.subscribers=[]}function sXe(l){var a=this,o=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];o.forEach(function(u){Object.defineProperty(a.events,u,{value:new qD(u)})}),l&&o.forEach(function(u){var h=l[u];"function"==typeof h&&a.events[u].subscribe(h)}),["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"].forEach(function(u){a.events[u].subscribe(a.updateContextsRanges)})}function gs(l){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],sXe.call(this,l)}function Df(l){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(l)}function zse(l){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(l)}function Ef(l){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(l)}function YD(l){return/[A-z]/.test(l)}function kl(l){this.font=l,this.features={}}function Tg(l){this.id=l.id,this.tag=l.tag,this.substitution=l.substitution}function Ox(l,a){if(!l)return-1;switch(a.format){case 1:return a.glyphs.indexOf(l);case 2:for(var o=a.ranges,c=0;c<o.length;c++){var u=o[c];if(l>=u.start&&l<=u.end)return u.index+(l-u.start)}break;default:return-1}return-1}function aXe(l,a){return-1===Ox(l,a.coverage)?null:l+a.deltaGlyphId}function lXe(l,a){var o=Ox(l,a.coverage);return-1===o?null:a.substitute[o]}function C5(l,a){for(var o=[],c=0;c<l.length;c++){var u=l[c],h=a.current,d=Ox(h=Array.isArray(h)?h[0]:h,u);-1!==d&&o.push(d)}return o.length!==l.length?-1:o}function cXe(l,a){if(l.context.length<a.inputCoverage.length+a.lookaheadCoverage.length+a.backtrackCoverage.length)return[];var c=C5(a.inputCoverage,l);if(-1===c)return[];if(l.lookahead.length<a.lookaheadCoverage.length)return[];for(var h=l.lookahead.slice(a.inputCoverage.length-1);h.length&&Ef(h[0].char);)h.shift();var d=new Kc(h,0),f=C5(a.lookaheadCoverage,d),p=[].concat(l.backtrack);for(p.reverse();p.length&&Ef(p[0].char);)p.shift();if(p.length<a.backtrackCoverage.length)return[];var g=new Kc(p,0),m=C5(a.backtrackCoverage,g),_=[];if(c.length===a.inputCoverage.length&&f.length===a.lookaheadCoverage.length&&m.length===a.backtrackCoverage.length)for(var y=0;y<a.lookupRecords.length;y++)for(var x=this.getLookupByIndex(a.lookupRecords[y].lookupListIndex),w=0;w<x.subtables.length;w++){var S=x.subtables[w],M=this.getLookupMethod(x,S);if("12"===this.getSubstitutionType(x,S))for(var E=0;E<c.length;E++){var R=M(l.get(E));R&&_.push(R)}}return _}function uXe(l,a){var c=Ox(l.current,a.coverage);if(-1===c)return null;for(var u,h=a.ligatureSets[c],d=0;d<h.length;d++){u=h[d];for(var f=0;f<u.components.length&&l.lookahead[f]===u.components[f];f++)if(f===u.components.length-1)return u}return null}function hXe(l,a){var o=Ox(l,a.coverage);return-1===o?null:a.sequences[o]}xse.prototype.exec=function(l,a){if("number"!=typeof a)throw new Error("Point size is not a number!");if(!(this._errorState>2)){var o=this.font,c=this._prepState;if(!c||c.ppem!==a){var u=this._fpgmState;if(!u){Sf.prototype=RYe,(u=this._fpgmState=new Sf("fpgm",o.tables.fpgm)).funcs=[],u.font=o,exports.DEBUG&&(console.log("---EXEC FPGM---"),u.step=-1);try{Sg(u)}catch(g){return console.log("Hinting error in FPGM:"+g),void(this._errorState=3)}}Sf.prototype=u,(c=this._prepState=new Sf("prep",o.tables.prep)).ppem=a;var h=o.tables.cvt;if(h)for(var d=c.cvt=new Array(h.length),f=a/o.unitsPerEm,p=0;p<h.length;p++)d[p]=h[p]*f;else c.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),c.step=-1);try{Sg(c)}catch(g){this._errorState<2&&console.log("Hinting error in PREP:"+g),this._errorState=2}}if(!(this._errorState>1))try{return bse(l,c)}catch(g){return this._errorState<1&&(console.log("Hinting error:"+g),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},bse=function(l,a){var h,d,f,o=a.ppem/a.font.unitsPerEm,c=o,u=l.components;if(Sf.prototype=a,u){var p=a.font;d=[],h=[];for(var g=0;g<u.length;g++){var m=u[g],v=p.glyphs.get(m.glyphIndex);f=new Sf("glyf",v.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+g+"---"),f.step=-1),v5(v,f,o,c);for(var _=Math.round(m.dx*o),y=Math.round(m.dy*c),b=f.gZone,C=f.contours,x=0;x<b.length;x++){var w=b[x];w.xTouched=w.yTouched=!1,w.xo=w.x=w.x+_,w.yo=w.y=w.y+y}var S=d.length;d.push.apply(d,b);for(var M=0;M<C.length;M++)h.push(C[M]+S)}l.instructions&&!f.inhibitGridFit&&((f=new Sf("glyf",l.instructions)).gZone=f.z0=f.z1=f.z2=d,f.contours=h,d.push(new ad(0,0),new ad(Math.round(l.advanceWidth*o),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),f.step=-1),Sg(f),d.length-=2)}else f=new Sf("glyf",l.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),f.step=-1),v5(l,f,o,c),d=f.gZone;return d},v5=function(l,a,o,c){for(var p,u=l.points||[],h=u.length,d=a.gZone=a.z0=a.z1=a.z2=[],f=a.contours=[],g=0;g<h;g++)d[g]=new ad((p=u[g]).x*o,p.y*c,p.lastPointOfContour,p.onCurve);for(var m,v,_=0;_<h;_++)p=d[_],m||(m=p,f.push(_)),p.lastPointOfContour?(p.nextPointOnContour=m,m.prevPointOnContour=p,m=void 0):(p.nextPointOnContour=v=d[_+1],v.prevPointOnContour=p);if(!a.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",a.stack);for(var y=0;y<h;y++)console.log(y,d[y].x,d[y].y)}if(d.push(new ad(0,0),new ad(Math.round(l.advanceWidth*o),0)),Sg(a),d.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",a.stack);for(var b=0;b<h;b++)console.log(b,d[b].x,d[b].y)}}},Sg=function(l){var a=l.prog;if(a){var c,o=a.length;for(l.ip=0;l.ip<o;l.ip++){if(exports.DEBUG&&l.step++,!(c=yse[a[l.ip]]))throw new Error("unknown instruction: 0x"+Number(a[l.ip]).toString(16));c(l)}}},yse=[Tse.bind(void 0,od),Tse.bind(void 0,Ju),Mse.bind(void 0,od),Mse.bind(void 0,Ju),Dse.bind(void 0,od),Dse.bind(void 0,Ju),Ese.bind(void 0,0),Ese.bind(void 0,1),kse.bind(void 0,0),kse.bind(void 0,1),function FYe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"SPVFS[]",o,c),l.pv=l.dpv=Ix(c,o)},function LYe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"SPVFS[]",o,c),l.fv=Ix(c,o)},function NYe(l){var a=l.stack,o=l.pv;exports.DEBUG&&console.log(l.step,"GPV[]"),a.push(16384*o.x),a.push(16384*o.y)},function BYe(l){var a=l.stack,o=l.fv;exports.DEBUG&&console.log(l.step,"GFV[]"),a.push(16384*o.x),a.push(16384*o.y)},function VYe(l){l.fv=l.pv,exports.DEBUG&&console.log(l.step,"SFVTPV[]")},function zYe(l){var a=l.stack,o=a.pop(),c=a.pop(),u=a.pop(),h=a.pop(),d=a.pop(),f=l.z0,p=l.z1,g=f[o],m=f[c],v=p[u],_=p[h],y=l.z2[d];exports.DEBUG&&console.log("ISECT[], ",o,c,u,h,d);var b=g.x,C=g.y,x=m.x,w=m.y,S=v.x,M=v.y,T=_.x,E=_.y,k=(b-x)*(M-E)-(C-w)*(S-T),R=b*w-C*x,D=S*E-M*T;y.x=(R*(S-T)-D*(b-x))/k,y.y=(R*(M-E)-D*(C-w))/k},function UYe(l){l.rp0=l.stack.pop(),exports.DEBUG&&console.log(l.step,"SRP0[]",l.rp0)},function HYe(l){l.rp1=l.stack.pop(),exports.DEBUG&&console.log(l.step,"SRP1[]",l.rp1)},function GYe(l){l.rp2=l.stack.pop(),exports.DEBUG&&console.log(l.step,"SRP2[]",l.rp2)},function WYe(l){var a=l.stack.pop();switch(exports.DEBUG&&console.log(l.step,"SZP0[]",a),l.zp0=a,a){case 0:l.tZone||jD(l),l.z0=l.tZone;break;case 1:l.z0=l.gZone;break;default:throw new Error("Invalid zone pointer")}},function jYe(l){var a=l.stack.pop();switch(exports.DEBUG&&console.log(l.step,"SZP1[]",a),l.zp1=a,a){case 0:l.tZone||jD(l),l.z1=l.tZone;break;case 1:l.z1=l.gZone;break;default:throw new Error("Invalid zone pointer")}},function $Ye(l){var a=l.stack.pop();switch(exports.DEBUG&&console.log(l.step,"SZP2[]",a),l.zp2=a,a){case 0:l.tZone||jD(l),l.z2=l.tZone;break;case 1:l.z2=l.gZone;break;default:throw new Error("Invalid zone pointer")}},function qYe(l){var a=l.stack.pop();switch(exports.DEBUG&&console.log(l.step,"SZPS[]",a),l.zp0=l.zp1=l.zp2=a,a){case 0:l.tZone||jD(l),l.z0=l.z1=l.z2=l.tZone;break;case 1:l.z0=l.z1=l.z2=l.gZone;break;default:throw new Error("Invalid zone pointer")}},function YYe(l){l.loop=l.stack.pop(),exports.DEBUG&&console.log(l.step,"SLOOP[]",l.loop)},function ZYe(l){exports.DEBUG&&console.log(l.step,"RTG[]"),l.round=Cse},function XYe(l){exports.DEBUG&&console.log(l.step,"RTHG[]"),l.round=IYe},function KYe(l){var a=l.stack.pop();exports.DEBUG&&console.log(l.step,"SMD[]",a),l.minDis=a/64},function QYe(l){exports.DEBUG&&console.log(l.step,"ELSE[]"),Sse(l,!1)},function JYe(l){var a=l.stack.pop();exports.DEBUG&&console.log(l.step,"JMPR[]",a),l.ip+=a-1},function eZe(l){var a=l.stack.pop();exports.DEBUG&&console.log(l.step,"SCVTCI[]",a),l.cvCutIn=a/64},void 0,void 0,function tZe(l){var a=l.stack;exports.DEBUG&&console.log(l.step,"DUP[]"),a.push(a[a.length-1])},_5,function nZe(l){exports.DEBUG&&console.log(l.step,"CLEAR[]"),l.stack.length=0},function iZe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"SWAP[]"),a.push(o),a.push(c)},function rZe(l){var a=l.stack;exports.DEBUG&&console.log(l.step,"DEPTH[]"),a.push(a.length)},function aZe(l){var a=l.stack,o=a.pop();exports.DEBUG&&console.log(l.step,"CINDEX[]",o),a.push(a[a.length-o])},function lZe(l){var a=l.stack,o=a.pop();exports.DEBUG&&console.log(l.step,"MINDEX[]",o),a.push(a.splice(a.length-o,1)[0])},void 0,void 0,void 0,function sZe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"LOOPCALL[]",o,c);var u=l.ip,h=l.prog;l.prog=l.funcs[o];for(var d=0;d<c;d++)Sg(l),exports.DEBUG&&console.log(++l.step,d+1<c?"next loopcall":"done loopcall",d);l.ip=u,l.prog=h},function oZe(l){var a=l.stack.pop();exports.DEBUG&&console.log(l.step,"CALL[]",a);var o=l.ip,c=l.prog;l.prog=l.funcs[a],Sg(l),l.ip=o,l.prog=c,exports.DEBUG&&console.log(++l.step,"returning from",a)},function cZe(l){if("fpgm"!==l.env)throw new Error("FDEF not allowed here");var o=l.prog,c=l.ip,u=l.stack.pop(),h=c;for(exports.DEBUG&&console.log(l.step,"FDEF[]",u);45!==o[++c];);l.ip=c,l.funcs[u]=o.slice(h+1,c)},void 0,Ase.bind(void 0,0),Ase.bind(void 0,1),Ise.bind(void 0,od),Ise.bind(void 0,Ju),Pse.bind(void 0,0),Pse.bind(void 0,1),Ose.bind(void 0,0),Ose.bind(void 0,1),Rse.bind(void 0,0),Rse.bind(void 0,1),function uZe(l){for(var a=l.stack,o=l.loop,c=l.fv,u=a.pop()/64,h=l.z2;o--;){var d=a.pop(),f=h[d];exports.DEBUG&&console.log(l.step,(l.loop>1?"loop "+(l.loop-o)+": ":"")+"SHPIX[]",d,u),c.setRelative(f,f,u),c.touch(f)}l.loop=1},function hZe(l){for(var a=l.stack,o=l.rp1,c=l.rp2,u=l.loop,h=l.z0[o],d=l.z1[c],f=l.fv,p=l.dpv,g=l.z2;u--;){var m=a.pop(),v=g[m];exports.DEBUG&&console.log(l.step,(l.loop>1?"loop "+(l.loop-u)+": ":"")+"IP[]",m,o,"<->",c),f.interpolate(v,h,d,p),f.touch(v)}l.loop=1},Fse.bind(void 0,0),Fse.bind(void 0,1),function dZe(l){for(var a=l.stack,c=l.z0[l.rp0],u=l.loop,h=l.fv,d=l.pv,f=l.z1;u--;){var p=a.pop(),g=f[p];exports.DEBUG&&console.log(l.step,(l.loop>1?"loop "+(l.loop-u)+": ":"")+"ALIGNRP[]",p),h.setRelative(g,c,0,d),h.touch(g)}l.loop=1},function fZe(l){exports.DEBUG&&console.log(l.step,"RTDG[]"),l.round=AYe},Lse.bind(void 0,0),Lse.bind(void 0,1),function pZe(l){var a=l.prog,o=l.ip,c=l.stack,u=a[++o];exports.DEBUG&&console.log(l.step,"NPUSHB[]",u);for(var h=0;h<u;h++)c.push(a[++o]);l.ip=o},function gZe(l){var a=l.ip,o=l.prog,c=l.stack,u=o[++a];exports.DEBUG&&console.log(l.step,"NPUSHW[]",u);for(var h=0;h<u;h++){var d=o[++a]<<8|o[++a];32768&d&&(d=-(1+(65535^d))),c.push(d)}l.ip=a},function mZe(l){var a=l.stack,o=l.store;o||(o=l.store=[]);var c=a.pop(),u=a.pop();exports.DEBUG&&console.log(l.step,"WS",c,u),o[u]=c},function vZe(l){var a=l.stack,o=l.store,c=a.pop();exports.DEBUG&&console.log(l.step,"RS",c),a.push(o&&o[c]||0)},function _Ze(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"WCVTP",o,c),l.cvt[c]=o/64},function yZe(l){var a=l.stack,o=a.pop();exports.DEBUG&&console.log(l.step,"RCVT",o),a.push(64*l.cvt[o])},Nse.bind(void 0,0),Nse.bind(void 0,1),void 0,Bse.bind(void 0,0),Bse.bind(void 0,1),function bZe(l){exports.DEBUG&&console.log(l.step,"MPPEM[]"),l.stack.push(l.ppem)},void 0,function xZe(l){exports.DEBUG&&console.log(l.step,"FLIPON[]"),l.autoFlip=!0},void 0,void 0,function CZe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"LT[]",o,c),a.push(c<o?1:0)},function wZe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"LTEQ[]",o,c),a.push(c<=o?1:0)},function SZe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"GT[]",o,c),a.push(c>o?1:0)},function TZe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"GTEQ[]",o,c),a.push(c>=o?1:0)},function MZe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"EQ[]",o,c),a.push(o===c?1:0)},function DZe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"NEQ[]",o,c),a.push(o!==c?1:0)},function EZe(l){var a=l.stack,o=a.pop();exports.DEBUG&&console.log(l.step,"ODD[]",o),a.push(Math.trunc(o)%2?1:0)},function kZe(l){var a=l.stack,o=a.pop();exports.DEBUG&&console.log(l.step,"EVEN[]",o),a.push(Math.trunc(o)%2?0:1)},function AZe(l){var a=l.stack.pop();exports.DEBUG&&console.log(l.step,"IF[]",a),a||(Sse(l,!0),exports.DEBUG&&console.log(l.step,"EIF[]"))},function IZe(l){exports.DEBUG&&console.log(l.step,"EIF[]")},function PZe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"AND[]",o,c),a.push(o&&c?1:0)},function OZe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"OR[]",o,c),a.push(o||c?1:0)},function RZe(l){var a=l.stack,o=a.pop();exports.DEBUG&&console.log(l.step,"NOT[]",o),a.push(o?0:1)},y5.bind(void 0,1),function FZe(l){var o=l.stack.pop();exports.DEBUG&&console.log(l.step,"SDB[]",o),l.deltaBase=o},function LZe(l){var o=l.stack.pop();exports.DEBUG&&console.log(l.step,"SDS[]",o),l.deltaShift=Math.pow(.5,o)},function NZe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"ADD[]",o,c),a.push(c+o)},function BZe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"SUB[]",o,c),a.push(c-o)},function VZe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"DIV[]",o,c),a.push(64*c/o)},function zZe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"MUL[]",o,c),a.push(c*o/64)},function UZe(l){var a=l.stack,o=a.pop();exports.DEBUG&&console.log(l.step,"ABS[]",o),a.push(Math.abs(o))},function HZe(l){var a=l.stack,o=a.pop();exports.DEBUG&&console.log(l.step,"NEG[]",o),a.push(-o)},function GZe(l){var a=l.stack,o=a.pop();exports.DEBUG&&console.log(l.step,"FLOOR[]",o),a.push(64*Math.floor(o/64))},function WZe(l){var a=l.stack,o=a.pop();exports.DEBUG&&console.log(l.step,"CEILING[]",o),a.push(64*Math.ceil(o/64))},$D.bind(void 0,0),$D.bind(void 0,1),$D.bind(void 0,2),$D.bind(void 0,3),void 0,void 0,void 0,void 0,function jZe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"WCVTF[]",o,c),l.cvt[c]=o*l.ppem/l.font.unitsPerEm},y5.bind(void 0,2),y5.bind(void 0,3),b5.bind(void 0,1),b5.bind(void 0,2),b5.bind(void 0,3),function $Ze(l){var o,a=l.stack.pop();switch(exports.DEBUG&&console.log(l.step,"SROUND[]",a),l.round=wse,192&a){case 0:o=.5;break;case 64:o=1;break;case 128:o=2;break;default:throw new Error("invalid SROUND value")}switch(l.srPeriod=o,48&a){case 0:l.srPhase=0;break;case 16:l.srPhase=.25*o;break;case 32:l.srPhase=.5*o;break;case 48:l.srPhase=.75*o;break;default:throw new Error("invalid SROUND value")}l.srThreshold=0==(a&=15)?0:(a/8-.5)*o},function qZe(l){var o,a=l.stack.pop();switch(exports.DEBUG&&console.log(l.step,"S45ROUND[]",a),l.round=wse,192&a){case 0:o=Math.sqrt(2)/2;break;case 64:o=Math.sqrt(2);break;case 128:o=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(l.srPeriod=o,48&a){case 0:l.srPhase=0;break;case 16:l.srPhase=.25*o;break;case 32:l.srPhase=.5*o;break;case 48:l.srPhase=.75*o;break;default:throw new Error("invalid S45ROUND value")}l.srThreshold=0==(a&=15)?0:(a/8-.5)*o},void 0,void 0,function YZe(l){exports.DEBUG&&console.log(l.step,"ROFF[]"),l.round=kYe},void 0,function ZZe(l){exports.DEBUG&&console.log(l.step,"RUTG[]"),l.round=PYe},function XZe(l){exports.DEBUG&&console.log(l.step,"RDTG[]"),l.round=OYe},_5,_5,void 0,void 0,void 0,void 0,void 0,function KZe(l){var a=l.stack.pop();exports.DEBUG&&console.log(l.step,"SCANCTRL[]",a)},Vse.bind(void 0,0),Vse.bind(void 0,1),function QZe(l){var a=l.stack,o=a.pop(),c=0;exports.DEBUG&&console.log(l.step,"GETINFO[]",o),1&o&&(c=35),32&o&&(c|=4096),a.push(c)},void 0,function JZe(l){var a=l.stack,o=a.pop(),c=a.pop(),u=a.pop();exports.DEBUG&&console.log(l.step,"ROLL[]"),a.push(c),a.push(o),a.push(u)},function eXe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"MAX[]",o,c),a.push(Math.max(c,o))},function tXe(l){var a=l.stack,o=a.pop(),c=a.pop();exports.DEBUG&&console.log(l.step,"MIN[]",o,c),a.push(Math.min(c,o))},function nXe(l){var a=l.stack.pop();exports.DEBUG&&console.log(l.step,"SCANTYPE[]",a)},function iXe(l){var a=l.stack.pop(),o=l.stack.pop();switch(exports.DEBUG&&console.log(l.step,"INSTCTRL[]",a,o),a){case 1:return void(l.inhibitGridFit=!!o);case 2:return void(l.ignoreCvt=!!o);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Tf.bind(void 0,1),Tf.bind(void 0,2),Tf.bind(void 0,3),Tf.bind(void 0,4),Tf.bind(void 0,5),Tf.bind(void 0,6),Tf.bind(void 0,7),Tf.bind(void 0,8),Mf.bind(void 0,1),Mf.bind(void 0,2),Mf.bind(void 0,3),Mf.bind(void 0,4),Mf.bind(void 0,5),Mf.bind(void 0,6),Mf.bind(void 0,7),Mf.bind(void 0,8),xn.bind(void 0,0,0,0,0,0),xn.bind(void 0,0,0,0,0,1),xn.bind(void 0,0,0,0,0,2),xn.bind(void 0,0,0,0,0,3),xn.bind(void 0,0,0,0,1,0),xn.bind(void 0,0,0,0,1,1),xn.bind(void 0,0,0,0,1,2),xn.bind(void 0,0,0,0,1,3),xn.bind(void 0,0,0,1,0,0),xn.bind(void 0,0,0,1,0,1),xn.bind(void 0,0,0,1,0,2),xn.bind(void 0,0,0,1,0,3),xn.bind(void 0,0,0,1,1,0),xn.bind(void 0,0,0,1,1,1),xn.bind(void 0,0,0,1,1,2),xn.bind(void 0,0,0,1,1,3),xn.bind(void 0,0,1,0,0,0),xn.bind(void 0,0,1,0,0,1),xn.bind(void 0,0,1,0,0,2),xn.bind(void 0,0,1,0,0,3),xn.bind(void 0,0,1,0,1,0),xn.bind(void 0,0,1,0,1,1),xn.bind(void 0,0,1,0,1,2),xn.bind(void 0,0,1,0,1,3),xn.bind(void 0,0,1,1,0,0),xn.bind(void 0,0,1,1,0,1),xn.bind(void 0,0,1,1,0,2),xn.bind(void 0,0,1,1,0,3),xn.bind(void 0,0,1,1,1,0),xn.bind(void 0,0,1,1,1,1),xn.bind(void 0,0,1,1,1,2),xn.bind(void 0,0,1,1,1,3),xn.bind(void 0,1,0,0,0,0),xn.bind(void 0,1,0,0,0,1),xn.bind(void 0,1,0,0,0,2),xn.bind(void 0,1,0,0,0,3),xn.bind(void 0,1,0,0,1,0),xn.bind(void 0,1,0,0,1,1),xn.bind(void 0,1,0,0,1,2),xn.bind(void 0,1,0,0,1,3),xn.bind(void 0,1,0,1,0,0),xn.bind(void 0,1,0,1,0,1),xn.bind(void 0,1,0,1,0,2),xn.bind(void 0,1,0,1,0,3),xn.bind(void 0,1,0,1,1,0),xn.bind(void 0,1,0,1,1,1),xn.bind(void 0,1,0,1,1,2),xn.bind(void 0,1,0,1,1,3),xn.bind(void 0,1,1,0,0,0),xn.bind(void 0,1,1,0,0,1),xn.bind(void 0,1,1,0,0,2),xn.bind(void 0,1,1,0,0,3),xn.bind(void 0,1,1,0,1,0),xn.bind(void 0,1,1,0,1,1),xn.bind(void 0,1,1,0,1,2),xn.bind(void 0,1,1,0,1,3),xn.bind(void 0,1,1,1,0,0),xn.bind(void 0,1,1,1,0,1),xn.bind(void 0,1,1,1,0,2),xn.bind(void 0,1,1,1,0,3),xn.bind(void 0,1,1,1,1,0),xn.bind(void 0,1,1,1,1,1),xn.bind(void 0,1,1,1,1,2),xn.bind(void 0,1,1,1,1,3)],g_.prototype.setState=function(l,a){return this.state[l]=a,this.activeState={key:l,value:this.state[l]},this.activeState},g_.prototype.getState=function(l){return this.state[l]||null},gs.prototype.inboundIndex=function(l){return l>=0&&l<this.tokens.length},gs.prototype.composeRUD=function(l){var a=this,c=l.map(function(h){return a[h[0]].apply(a,h.slice(1).concat(!0))}),u=function(h){return"object"==typeof h&&h.hasOwnProperty("FAIL")};if(c.every(u))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:c.filter(u)};this.dispatch("composeRUD",[c.filter(function(h){return!u(h)})])},gs.prototype.replaceRange=function(l,a,o,c){a=null!==a?a:this.tokens.length;var u=o.every(function(d){return d instanceof g_});if(!isNaN(l)&&this.inboundIndex(l)&&u){var h=this.tokens.splice.apply(this.tokens,[l,a].concat(o));return c||this.dispatch("replaceToken",[l,a,o]),[h,o]}return{FAIL:"replaceRange: invalid tokens or startIndex."}},gs.prototype.replaceToken=function(l,a,o){if(!isNaN(l)&&this.inboundIndex(l)&&a instanceof g_){var c=this.tokens.splice(l,1,a);return o||this.dispatch("replaceToken",[l,a]),[c[0],a]}return{FAIL:"replaceToken: invalid token or index."}},gs.prototype.removeRange=function(l,a,o){a=isNaN(a)?this.tokens.length:a;var c=this.tokens.splice(l,a);return o||this.dispatch("removeRange",[c,l,a]),c},gs.prototype.removeToken=function(l,a){if(!isNaN(l)&&this.inboundIndex(l)){var o=this.tokens.splice(l,1);return a||this.dispatch("removeToken",[o,l]),o}return{FAIL:"removeToken: invalid token index."}},gs.prototype.insertToken=function(l,a,o){return l.every(function(u){return u instanceof g_})?(this.tokens.splice.apply(this.tokens,[a,0].concat(l)),o||this.dispatch("insertToken",[l,a]),l):{FAIL:"insertToken: invalid token(s)."}},gs.prototype.registerModifier=function(l,a,o){this.events.newToken.subscribe(function(c,u){if(null===a||!0===a.apply(this,[c,u])){var p=o.apply(this,[c,u]);c.setState(l,p)}}),this.registeredModifiers.push(l)},qD.prototype.subscribe=function(l){return"function"==typeof l?this.subscribers.push(l)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}},qD.prototype.unsubscribe=function(l){this.subscribers.splice(l,1)},Kc.prototype.setCurrentIndex=function(l){this.index=l,this.current=this.context[l],this.backtrack=this.context.slice(0,l),this.lookahead=this.context.slice(l+1)},Kc.prototype.get=function(l){switch(!0){case 0===l:return this.current;case l<0&&Math.abs(l)<=this.backtrack.length:return this.backtrack.slice(l)[0];case l>0&&l<=this.lookahead.length:return this.lookahead[l-1];default:return null}},gs.prototype.rangeToText=function(l){if(l instanceof x5)return this.getRangeTokens(l).map(function(a){return a.char}).join("")},gs.prototype.getText=function(){return this.tokens.map(function(l){return l.char}).join("")},gs.prototype.getContext=function(l){return this.registeredContexts[l]||null},gs.prototype.on=function(l,a){var o=this.events[l];return o?o.subscribe(a):null},gs.prototype.dispatch=function(l,a){var o=this,c=this.events[l];c instanceof qD&&c.subscribers.forEach(function(u){u.apply(o,a||[])})},gs.prototype.registerContextChecker=function(l,a,o){if(this.getContext(l))return{FAIL:"context name '"+l+"' is already registered."};if("function"!=typeof a)return{FAIL:"missing context start check."};if("function"!=typeof o)return{FAIL:"missing context end check."};var c=new rXe(l,a,o);return this.registeredContexts[l]=c,this.contextCheckers.push(c),c},gs.prototype.getRangeTokens=function(l){return[].concat(this.tokens.slice(l.startIndex,l.startIndex+l.endOffset))},gs.prototype.getContextRanges=function(l){var a=this.getContext(l);return a?a.ranges:{FAIL:"context checker '"+l+"' is not registered."}},gs.prototype.resetContextsRanges=function(){var l=this.registeredContexts;for(var a in l)l.hasOwnProperty(a)&&(l[a].ranges=[])},gs.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var l=this.tokens.map(function(c){return c.char}),a=0;a<l.length;a++){var o=new Kc(l,a);this.runContextCheck(o)}this.dispatch("updateContextsRanges",[this.registeredContexts])},gs.prototype.setEndOffset=function(l,a){var c=new x5(this.getContext(a).openRange.startIndex,l,a),u=this.getContext(a).ranges;return c.rangeId=a+"."+u.length,u.push(c),this.getContext(a).openRange=null,c},gs.prototype.runContextCheck=function(l){var a=this,o=l.index;this.contextCheckers.forEach(function(c){var u=c.contextName,h=a.getContext(u).openRange;if(!h&&c.checkStart(l)&&(h=new x5(o,null,u),a.getContext(u).openRange=h,a.dispatch("contextStart",[u,o])),h&&c.checkEnd(l)){var f=a.setEndOffset(o-h.startIndex+1,u);a.dispatch("contextEnd",[u,f])}})},gs.prototype.tokenize=function(l){this.tokens=[],this.resetContextsRanges();var a=Array.from(l);this.dispatch("start");for(var o=0;o<a.length;o++){var c=a[o],u=new Kc(a,o);this.dispatch("next",[u]),this.runContextCheck(u);var h=new g_(c);this.tokens.push(h),this.dispatch("newToken",[h,u])}return this.dispatch("end",[this.tokens]),this.tokens},kl.prototype.getDefaultScriptFeaturesIndexes=function(){for(var l=this.font.tables.gsub.scripts,a=0;a<l.length;a++){var o=l[a];if("DFLT"===o.tag)return o.script.defaultLangSys.featureIndexes}return[]},kl.prototype.getScriptFeaturesIndexes=function(l){if(!this.font.tables.gsub)return[];if(!l)return this.getDefaultScriptFeaturesIndexes();for(var o=this.font.tables.gsub.scripts,c=0;c<o.length;c++){var u=o[c];if(u.tag===l&&u.script.defaultLangSys)return u.script.defaultLangSys.featureIndexes;var h=u.langSysRecords;if(h)for(var d=0;d<h.length;d++){var f=h[d];if(f.tag===l)return f.langSys.featureIndexes}}return this.getDefaultScriptFeaturesIndexes()},kl.prototype.mapTagsToFeatures=function(l,a){for(var o={},c=0;c<l.length;c++)o[l[c].tag]=l[c].feature;this.features[a].tags=o},kl.prototype.getScriptFeatures=function(l){var a=this.features[l];if(this.features.hasOwnProperty(l))return a;var o=this.getScriptFeaturesIndexes(l);if(!o)return null;var c=this.font.tables.gsub;return a=o.map(function(u){return c.features[u]}),this.features[l]=a,this.mapTagsToFeatures(a,l),a},kl.prototype.getSubstitutionType=function(l,a){return l.lookupType.toString()+a.substFormat.toString()},kl.prototype.getLookupMethod=function(l,a){var o=this;switch(this.getSubstitutionType(l,a)){case"11":return function(u){return aXe.apply(o,[u,a])};case"12":return function(u){return lXe.apply(o,[u,a])};case"63":return function(u){return cXe.apply(o,[u,a])};case"41":return function(u){return uXe.apply(o,[u,a])};case"21":return function(u){return hXe.apply(o,[u,a])};default:throw new Error("lookupType: "+l.lookupType+" - substFormat: "+a.substFormat+" is not yet supported")}},kl.prototype.lookupFeature=function(l){var a=l.contextParams,o=a.index,c=this.getFeature({tag:l.tag,script:l.script});if(!c)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+l.tag+"' for script '"+l.script+"'.");for(var u=this.getFeatureLookups(c),h=[].concat(a.context),d=0;d<u.length;d++)for(var f=u[d],p=this.getLookupSubtables(f),g=0;g<p.length;g++){var m=p[g],v=this.getSubstitutionType(f,m),_=this.getLookupMethod(f,m),y=void 0;switch(v){case"11":(y=_(a.current))&&h.splice(o,1,new Tg({id:11,tag:l.tag,substitution:y}));break;case"12":(y=_(a.current))&&h.splice(o,1,new Tg({id:12,tag:l.tag,substitution:y}));break;case"63":y=_(a),Array.isArray(y)&&y.length&&h.splice(o,1,new Tg({id:63,tag:l.tag,substitution:y}));break;case"41":(y=_(a))&&h.splice(o,1,new Tg({id:41,tag:l.tag,substitution:y}));break;case"21":(y=_(a.current))&&h.splice(o,1,new Tg({id:21,tag:l.tag,substitution:y}))}a=new Kc(h,o),(!Array.isArray(y)||y.length)&&(y=null)}return h.length?h:null},kl.prototype.supports=function(l){if(!l.script)return!1;this.getScriptFeatures(l.script);var a=this.features.hasOwnProperty(l.script);if(!l.tag)return a;var o=this.features[l.script].some(function(c){return c.tag===l.tag});return a&&o},kl.prototype.getLookupSubtables=function(l){return l.subtables||null},kl.prototype.getLookupByIndex=function(l){return this.font.tables.gsub.lookups[l]||null},kl.prototype.getFeatureLookups=function(l){return l.lookupListIndexes.map(this.getLookupByIndex.bind(this))},kl.prototype.getFeature=function(a){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(a.script)||this.getScriptFeatures(a.script);var o=this.features[a.script];return o?o.tags[a.tag]?this.features[a.script].tags[a.tag]:null:{FAIL:"No feature for script "+a.script}};var pXe={startCheck:function dXe(l){var a=l.current,o=l.get(-1);return null===o&&Df(a)||!Df(o)&&Df(a)},endCheck:function fXe(l){var a=l.get(1);return null===a||!Df(a)}},vXe={startCheck:function gXe(l){var a=l.current,o=l.get(-1);return(Df(a)||Ef(a))&&!Df(o)},endCheck:function mXe(l){var a=l.get(1);switch(!0){case null===a:return!0;case!Df(a)&&!Ef(a):var o=function oXe(l){return/\s/.test(l)}(a);if(!o)return!0;if(o&&!l.lookahead.some(function(u){return Df(u)||Ef(u)}))return!0;break;default:return!1}}},Use={11:function _Xe(l,a,o){a[o].setState(l.tag,l.substitution)},12:function yXe(l,a,o){a[o].setState(l.tag,l.substitution)},63:function bXe(l,a,o){l.substitution.forEach(function(c,u){a[o+u].setState(l.tag,c)})},41:function xXe(l,a,o){var c=a[o];c.setState(l.tag,l.substitution.ligGlyph);for(var u=l.substitution.components.length,h=0;h<u;h++)(c=a[o+h+1]).setState("deleted",!0)}};function w5(l,a,o){l instanceof Tg&&Use[l.id]&&Use[l.id](l,a,o)}function SXe(l){var a=this,o="arab",c=this.featuresTags[o],u=this.tokenizer.getRangeTokens(l);if(1!==u.length){var h=new Kc(u.map(function(f){return f.getState("glyphIndex")}),0),d=new Kc(u.map(function(f){return f.char}),0);u.forEach(function(f,p){if(!Ef(f.char)){h.setCurrentIndex(p),d.setCurrentIndex(p);var m,g=0;switch(function CXe(l){for(var a=[].concat(l.backtrack),o=a.length-1;o>=0;o--){var c=a[o],u=zse(c),h=Ef(c);if(!u&&!h)return!0;if(u)return!1}return!1}(d)&&(g|=1),function wXe(l){if(zse(l.current))return!1;for(var a=0;a<l.lookahead.length;a++)if(!Ef(l.lookahead[a]))return!0;return!1}(d)&&(g|=2),g){case 1:m="fina";break;case 2:m="init";break;case 3:m="medi"}if(-1!==c.indexOf(m)){var v=a.query.lookupFeature({tag:m,script:o,contextParams:h});if(v instanceof Error)return console.info(v.message);v.forEach(function(_,y){_ instanceof Tg&&(w5(_,u,y),h.context[y]=_.substitution)})}}})}}function Hse(l,a){return new Kc(l.map(function(c){return c.activeState.value}),a||0)}function TXe(l){var a=this,c=this.tokenizer.getRangeTokens(l),u=Hse(c);u.context.forEach(function(h,d){u.setCurrentIndex(d);var f=a.query.lookupFeature({tag:"rlig",script:"arab",contextParams:u});f.length&&(f.forEach(function(p){return w5(p,c,d)}),u=Hse(c))})}var EXe={startCheck:function MXe(l){var a=l.current,o=l.get(-1);return null===o&&YD(a)||!YD(o)&&YD(a)},endCheck:function DXe(l){var a=l.get(1);return null===a||!YD(a)}};function Gse(l,a){return new Kc(l.map(function(c){return c.activeState.value}),a||0)}function kXe(l){var a=this,c=this.tokenizer.getRangeTokens(l),u=Gse(c);u.context.forEach(function(h,d){u.setCurrentIndex(d);var f=a.query.lookupFeature({tag:"liga",script:"latn",contextParams:u});f.length&&(f.forEach(function(p){return w5(p,c,d)}),u=Gse(c))})}function Qc(l){this.baseDir=l||"ltr",this.tokenizer=new gs,this.featuresTags={}}function S5(l){var a=this.contextChecks[l+"Check"];return this.tokenizer.registerContextChecker(l,a.startCheck,a.endCheck)}function AXe(){return S5.call(this,"latinWord"),S5.call(this,"arabicWord"),S5.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function IXe(){var l=this;this.tokenizer.getContextRanges("arabicSentence").forEach(function(o){var c=l.tokenizer.getRangeTokens(o);l.tokenizer.replaceRange(o.startIndex,o.endOffset,c.reverse())})}function T5(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function PXe(){var l=this;this.featuresTags.hasOwnProperty("arab")&&(T5.call(this),this.tokenizer.getContextRanges("arabicWord").forEach(function(c){SXe.call(l,c)}))}function OXe(){var l=this,a="arab";this.featuresTags.hasOwnProperty(a)&&-1!==this.featuresTags[a].indexOf("rlig")&&(T5.call(this),this.tokenizer.getContextRanges("arabicWord").forEach(function(u){TXe.call(l,u)}))}function RXe(){var l=this,a="latn";this.featuresTags.hasOwnProperty(a)&&-1!==this.featuresTags[a].indexOf("liga")&&(T5.call(this),this.tokenizer.getContextRanges("latinWord").forEach(function(u){kXe.call(l,u)}))}function br(l){(l=l||{}).tables=l.tables||{},l.empty||(kx(l.familyName,"When creating a new Font object, familyName is required."),kx(l.styleName,"When creating a new Font object, styleName is required."),kx(l.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),kx(l.ascender,"When creating a new Font object, ascender is required."),kx(l.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:l.familyName||" "},fontSubfamily:{en:l.styleName||" "},fullName:{en:l.fullName||l.familyName+" "+l.styleName},postScriptName:{en:l.postScriptName||(l.familyName+l.styleName).replace(/\s/g,"")},designer:{en:l.designer||" "},designerURL:{en:l.designerURL||" "},manufacturer:{en:l.manufacturer||" "},manufacturerURL:{en:l.manufacturerURL||" "},license:{en:l.license||" "},licenseURL:{en:l.licenseURL||" "},version:{en:l.version||"Version 0.1"},description:{en:l.description||" "},copyright:{en:l.copyright||" "},trademark:{en:l.trademark||" "}},this.unitsPerEm=l.unitsPerEm||1e3,this.ascender=l.ascender,this.descender=l.descender,this.createdTimestamp=l.createdTimestamp,this.tables=Object.assign(l.tables,{os2:Object.assign({usWeightClass:l.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:l.widthClass||this.usWidthClasses.MEDIUM,fsSelection:l.fsSelection||this.fsSelectionValues.REGULAR},l.tables.os2)})),this.supported=!0,this.glyphs=new Qu.GlyphSet(this,l.glyphs||[]),this.encoding=new kre(this),this.position=new Ex(this),this.substitution=new El(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new xse(this):void 0}})}function LXe(l,a,o){var c={},u=new bn.Parser(l,a);return c.tag=u.parseTag(),c.minValue=u.parseFixed(),c.defaultValue=u.parseFixed(),c.maxValue=u.parseFixed(),u.skip("uShort",1),c.name=o[u.parseUShort()]||{},c}function BXe(l,a,o,c){var u={},h=new bn.Parser(l,a);u.name=c[h.parseUShort()]||{},h.skip("uShort",1),u.coordinates={};for(var d=0;d<o.length;++d)u.coordinates[o[d].tag]=h.parseFixed();return u}Qc.prototype.setText=function(l){this.text=l},Qc.prototype.contextChecks={latinWordCheck:EXe,arabicWordCheck:pXe,arabicSentenceCheck:vXe},Qc.prototype.registerFeatures=function(l,a){var o=this,c=a.filter(function(u){return o.query.supports({script:l,tag:u})});this.featuresTags[l]=this.featuresTags.hasOwnProperty(l)?this.featuresTags[l].concat(c):c},Qc.prototype.applyFeatures=function(l,a){if(!l)throw new Error("No valid font was provided to apply features");this.query||(this.query=new kl(l));for(var o=0;o<a.length;o++){var c=a[o];!this.query.supports({script:c.script})||this.registerFeatures(c.script,c.tags)}},Qc.prototype.registerModifier=function(l,a,o){this.tokenizer.registerModifier(l,a,o)},Qc.prototype.checkContextReady=function(l){return!!this.tokenizer.getContext(l)},Qc.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(PXe.call(this),OXe.call(this)),this.checkContextReady("latinWord")&&RXe.call(this),this.checkContextReady("arabicSentence")&&IXe.call(this)},Qc.prototype.processText=function(l){(!this.text||this.text!==l)&&(this.setText(l),AXe.call(this),this.applyFeaturesToContexts())},Qc.prototype.getBidiText=function(l){return this.processText(l),this.tokenizer.getText()},Qc.prototype.getTextGlyphs=function(l){this.processText(l);for(var a=[],o=0;o<this.tokenizer.tokens.length;o++){var c=this.tokenizer.tokens[o];if(!c.state.deleted){var u=c.activeState.value;a.push(Array.isArray(u)?u[0]:u)}}return a},br.prototype.hasChar=function(l){return null!==this.encoding.charToGlyphIndex(l)},br.prototype.charToGlyphIndex=function(l){return this.encoding.charToGlyphIndex(l)},br.prototype.charToGlyph=function(l){var a=this.charToGlyphIndex(l),o=this.glyphs.get(a);return o||(o=this.glyphs.get(0)),o},br.prototype.updateFeatures=function(l){return this.defaultRenderOptions.features.map(function(a){return"latn"===a.script?{script:"latn",tags:a.tags.filter(function(o){return l[o]})}:a})},br.prototype.stringToGlyphs=function(l,a){var o=this,c=new Qc;c.registerModifier("glyphIndex",null,function(v){return o.charToGlyphIndex(v.char)});var h=a?this.updateFeatures(a.features):this.defaultRenderOptions.features;c.applyFeatures(this,h);for(var d=c.getTextGlyphs(l),f=d.length,p=new Array(f),g=this.glyphs.get(0),m=0;m<f;m+=1)p[m]=this.glyphs.get(d[m])||g;return p},br.prototype.nameToGlyphIndex=function(l){return this.glyphNames.nameToGlyphIndex(l)},br.prototype.nameToGlyph=function(l){var a=this.nameToGlyphIndex(l),o=this.glyphs.get(a);return o||(o=this.glyphs.get(0)),o},br.prototype.glyphIndexToName=function(l){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(l):""},br.prototype.getKerningValue=function(l,a){l=l.index||l,a=a.index||a;var o=this.position.defaultKerningTables;return o?this.position.getKerningValue(o,l,a):this.kerningPairs[l+","+a]||0},br.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]},br.prototype.forEachGlyph=function(l,a,o,c,u,h){a=void 0!==a?a:0,o=void 0!==o?o:0,c=void 0!==c?c:72,u=Object.assign({},this.defaultRenderOptions,u);var p,d=1/this.unitsPerEm*c,f=this.stringToGlyphs(l,u);if(u.kerning){var g=u.script||this.position.getDefaultScriptName();p=this.position.getKerningTables(g,u.language)}for(var m=0;m<f.length;m+=1){var v=f[m];h.call(this,v,a,o,c,u),v.advanceWidth&&(a+=v.advanceWidth*d),u.kerning&&m<f.length-1&&(a+=(p?this.position.getKerningValue(p,v.index,f[m+1].index):this.getKerningValue(v,f[m+1]))*d),u.letterSpacing?a+=u.letterSpacing*c:u.tracking&&(a+=u.tracking/1e3*c)}return a},br.prototype.getPath=function(l,a,o,c,u){var h=new Fs;return this.forEachGlyph(l,a,o,c,u,function(d,f,p,g){var m=d.getPath(f,p,g,u,this);h.extend(m)}),h},br.prototype.getPaths=function(l,a,o,c,u){var h=[];return this.forEachGlyph(l,a,o,c,u,function(d,f,p,g){var m=d.getPath(f,p,g,u,this);h.push(m)}),h},br.prototype.getAdvanceWidth=function(l,a,o){return this.forEachGlyph(l,0,0,a,o,function(){})},br.prototype.draw=function(l,a,o,c,u,h){this.getPath(a,o,c,u,h).draw(l)},br.prototype.drawPoints=function(l,a,o,c,u,h){this.forEachGlyph(a,o,c,u,h,function(d,f,p,g){d.drawPoints(l,f,p,g)})},br.prototype.drawMetrics=function(l,a,o,c,u,h){this.forEachGlyph(a,o,c,u,h,function(d,f,p,g){d.drawMetrics(l,f,p,g)})},br.prototype.getEnglishName=function(l){var a=this.names[l];if(a)return a.en},br.prototype.validate=function(){var l=this;function o(c){var u=l.getEnglishName(c);u&&u.trim()}o("fontFamily"),o("weightName"),o("manufacturer"),o("copyright"),o("version")},br.prototype.toTables=function(){return xYe_fontToTable(this)},br.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},br.prototype.toArrayBuffer=function(){for(var a=this.toTables().encode(),o=new ArrayBuffer(a.length),c=new Uint8Array(o),u=0;u<a.length;u++)c[u]=a[u];return o},br.prototype.download=function(l){var a=this.getEnglishName("fontFamily"),o=this.getEnglishName("fontSubfamily");l=l||a.replace(/\s/g,"")+"-"+o+".otf";var c=this.toArrayBuffer();if(function wYe(){return"undefined"!=typeof window}())if(window.URL=window.URL||window.webkitURL,window.URL){var u=new DataView(c),h=new Blob([u],{type:"font/opentype"}),d=document.createElement("a");d.href=window.URL.createObjectURL(h),d.download=l;var f=document.createEvent("MouseEvents");f.initEvent("click",!0,!1),d.dispatchEvent(f)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var p=require("fs"),g=function SYe(l){for(var a=new Buffer(l.byteLength),o=new Uint8Array(l),c=0;c<a.length;++c)a[c]=o[c];return a}(c);p.writeFileSync(l,g)}},br.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},br.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},br.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var UXe_parse=function zXe(l,a,o){var c=new bn.Parser(l,a),u=c.parseULong();On.argument(65536===u,"Unsupported fvar table version.");var h=c.parseOffset16();c.skip("uShort",1);for(var d=c.parseUShort(),f=c.parseUShort(),p=c.parseUShort(),g=c.parseUShort(),m=[],v=0;v<d;v++)m.push(LXe(l,a+h+v*f,o));for(var _=[],y=a+h+d*f,b=0;b<p;b++)_.push(BXe(l,y+b*g,m,o));return{axes:m,instances:_}},HXe=function(){return{coverage:this.parsePointer(Ke.coverage),attachPoints:this.parseList(Ke.pointer(Ke.uShortList))}},GXe=function(){var l=this.parseUShort();return On.argument(1===l||2===l||3===l,"Unsupported CaretValue table version."),1===l?{coordinate:this.parseShort()}:2===l?{pointindex:this.parseShort()}:3===l?{coordinate:this.parseShort()}:void 0},WXe=function(){return this.parseList(Ke.pointer(GXe))},jXe=function(){return{coverage:this.parsePointer(Ke.coverage),ligGlyphs:this.parseList(Ke.pointer(WXe))}},$Xe=function(){return this.parseUShort(),this.parseList(Ke.pointer(Ke.coverage))},YXe_parse=function qXe(l,a){var o=new Ke(l,a=a||0),c=o.parseVersion(1);On.argument(1===c||1.2===c||1.3===c,"Unsupported GDEF table version.");var u={version:c,classDef:o.parsePointer(Ke.classDef),attachList:o.parsePointer(HXe),ligCaretList:o.parsePointer(jXe),markAttachClassDef:o.parsePointer(Ke.classDef)};return c>=1.2&&(u.markGlyphSets=o.parsePointer($Xe)),u},Jc=new Array(10);Jc[1]=function(){var a=this.offset+this.relativeOffset,o=this.parseUShort();return 1===o?{posFormat:1,coverage:this.parsePointer(Ke.coverage),value:this.parseValueRecord()}:2===o?{posFormat:2,coverage:this.parsePointer(Ke.coverage),values:this.parseValueRecordList()}:void On.assert(!1,"0x"+a.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Jc[2]=function(){var a=this.offset+this.relativeOffset,o=this.parseUShort();On.assert(1===o||2===o,"0x"+a.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var c=this.parsePointer(Ke.coverage),u=this.parseUShort(),h=this.parseUShort();if(1===o)return{posFormat:o,coverage:c,valueFormat1:u,valueFormat2:h,pairSets:this.parseList(Ke.pointer(Ke.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(u),value2:this.parseValueRecord(h)}})))};if(2===o){var d=this.parsePointer(Ke.classDef),f=this.parsePointer(Ke.classDef),p=this.parseUShort(),g=this.parseUShort();return{posFormat:o,coverage:c,valueFormat1:u,valueFormat2:h,classDef1:d,classDef2:f,class1Count:p,class2Count:g,classRecords:this.parseList(p,Ke.list(g,function(){return{value1:this.parseValueRecord(u),value2:this.parseValueRecord(h)}}))}}},Jc[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Jc[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Jc[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Jc[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Jc[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Jc[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Jc[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var QXe_parse=function ZXe(l,a){var o=new Ke(l,a=a||0),c=o.parseVersion(1);return On.argument(1===c||1.1===c,"Unsupported GPOS table version "+c),1===c?{version:c,scripts:o.parseScriptList(),features:o.parseFeatureList(),lookups:o.parseLookupList(Jc)}:{version:c,scripts:o.parseScriptList(),features:o.parseFeatureList(),lookups:o.parseLookupList(Jc),variations:o.parseFeatureVariationsList()}},nKe_parse=function tKe(l,a){var o=new bn.Parser(l,a),c=o.parseUShort();if(0===c)return function JXe(l){var a={};l.skip("uShort");var o=l.parseUShort();On.argument(0===o,"Unsupported kern sub-table version."),l.skip("uShort",2);var c=l.parseUShort();l.skip("uShort",3);for(var u=0;u<c;u+=1){var h=l.parseUShort(),d=l.parseUShort(),f=l.parseShort();a[h+","+d]=f}return a}(o);if(1===c)return function eKe(l){var a={};l.skip("uShort"),l.parseULong()>1&&console.warn("Only the first kern subtable is supported."),l.skip("uLong");var u=255&l.parseUShort();if(l.skip("uShort"),0===u){var h=l.parseUShort();l.skip("uShort",3);for(var d=0;d<h;d+=1){var f=l.parseUShort(),p=l.parseUShort(),g=l.parseShort();a[f+","+p]=g}}return a}(o);throw new Error("Unsupported kern table version ("+c+").")},rKe_parse=function iKe(l,a,o,c){for(var u=new bn.Parser(l,a),h=c?u.parseUShort:u.parseULong,d=[],f=0;f<o+1;f+=1){var p=h.call(u);c&&(p*=2),d.push(p)}return d};function sKe(l,a){require("fs").readFile(l,function(c,u){if(c)return a(c.message);a(null,fse(u))})}function oKe(l,a){var o=new XMLHttpRequest;o.open("get",l,!0),o.responseType="arraybuffer",o.onload=function(){return o.response?a(null,o.response):a("Font could not be loaded: "+o.statusText)},o.onerror=function(){a("Font could not be loaded")},o.send()}function jse(l,a){for(var o=[],c=12,u=0;u<a;u+=1){var h=bn.getTag(l,c),d=bn.getULong(l,c+4),f=bn.getULong(l,c+8),p=bn.getULong(l,c+12);o.push({tag:h,checksum:d,offset:f,length:p,compression:!1}),c+=16}return o}function ts(l,a){if("WOFF"===a.compression){var o=new Uint8Array(l.buffer,a.offset+2,a.compressedLength-2),c=new Uint8Array(a.length);if(function q$e(l,a){var c,h,o=new U$e(l,a);do{switch(c=W$e(o),Ku(o,2,0)){case 0:h=$$e(o);break;case 1:h=bre(o,fre,pre);break;case 2:j$e(o,o.ltree,o.dtree),h=bre(o,o.ltree,o.dtree);break;default:h=-3}if(0!==h)throw new Error("Data error")}while(!c);o.destLen<o.dest.length&&("function"==typeof o.dest.slice?o.dest.slice(0,o.destLen):o.dest.subarray(0,o.destLen))}(o,c),c.byteLength!==a.length)throw new Error("Decompression error: "+a.tag+" decompressed length doesn't match recorded length");return{data:new DataView(c.buffer,0),offset:0}}return{data:l,offset:a.offset}}function M5(l,a){a=null==a?{}:a;var o,c,d,u=new br({empty:!0}),h=new DataView(l,0),f=[],p=bn.getTag(h,0);if(p===String.fromCharCode(0,1,0,0)||"true"===p||"typ1"===p)u.outlinesFormat="truetype",f=jse(h,d=bn.getUShort(h,4));else if("OTTO"===p)u.outlinesFormat="cff",f=jse(h,d=bn.getUShort(h,4));else{if("wOFF"!==p)throw new Error("Unsupported OpenType signature "+p);var g=bn.getTag(h,4);if(g===String.fromCharCode(0,1,0,0))u.outlinesFormat="truetype";else{if("OTTO"!==g)throw new Error("Unsupported OpenType flavor "+p);u.outlinesFormat="cff"}f=function aKe(l,a){for(var o=[],c=44,u=0;u<a;u+=1){var h=bn.getTag(l,c),d=bn.getULong(l,c+4),f=bn.getULong(l,c+8),p=bn.getULong(l,c+12);o.push({tag:h,offset:d,compression:f<p&&"WOFF",compressedLength:f,length:p}),c+=20}return o}(h,d=bn.getUShort(h,12))}for(var m,v,_,y,b,C,x,w,S,M,T,E,k=0;k<d;k+=1){var R=f[k],D=void 0;switch(R.tag){case"cmap":D=ts(h,R),u.tables.cmap=Ere_parse(D.data,D.offset),u.encoding=new Are(u.tables.cmap);break;case"cvt ":D=ts(h,R),E=new bn.Parser(D.data,D.offset),u.tables.cvt=E.parseShortList(R.length/2);break;case"fvar":v=R;break;case"fpgm":D=ts(h,R),E=new bn.Parser(D.data,D.offset),u.tables.fpgm=E.parseByteList(R.length);break;case"head":D=ts(h,R),u.tables.head=Wre_parse(D.data,D.offset),u.unitsPerEm=u.tables.head.unitsPerEm,o=u.tables.head.indexToLocFormat;break;case"hhea":D=ts(h,R),u.tables.hhea=jre_parse(D.data,D.offset),u.ascender=u.tables.hhea.ascender,u.descender=u.tables.hhea.descender,u.numberOfHMetrics=u.tables.hhea.numberOfHMetrics;break;case"hmtx":x=R;break;case"ltag":D=ts(h,R),c=qre_parse(D.data,D.offset);break;case"COLR":D=ts(h,R),u.tables.colr=sse_parse(D.data,D.offset);break;case"CPAL":D=ts(h,R),u.tables.cpal=ose_parse(D.data,D.offset);break;case"maxp":D=ts(h,R),u.tables.maxp=Yre_parse(D.data,D.offset),u.numGlyphs=u.tables.maxp.numGlyphs;break;case"name":M=R;break;case"OS/2":D=ts(h,R),u.tables.os2=d5_parse(D.data,D.offset);break;case"post":D=ts(h,R),u.tables.post=nse_parse(D.data,D.offset),u.glyphNames=new o5(u.tables.post);break;case"prep":D=ts(h,R),E=new bn.Parser(D.data,D.offset),u.tables.prep=E.parseByteList(R.length);break;case"glyf":_=R;break;case"loca":S=R;break;case"CFF ":m=R;break;case"kern":w=R;break;case"GDEF":y=R;break;case"GPOS":b=R;break;case"GSUB":C=R;break;case"meta":T=R}}var P=ts(h,M);if(u.tables.name=tse_parse(P.data,P.offset,c),u.names=u.tables.name,_&&S){var F=0===o,L=ts(h,S),$=rKe_parse(L.data,L.offset,u.numGlyphs,F),Y=ts(h,_);u.glyphs=_se.parse(Y.data,Y.offset,$,u,a)}else{if(!m)throw new Error("Font doesn't contain TrueType or CFF outlines.");var O=ts(h,m);Gre_parse(O.data,O.offset,u,a)}var V=ts(h,x);if($re_parse(u,V.data,V.offset,u.numberOfHMetrics,u.numGlyphs,u.glyphs,a),function gqe(l,a){a.lowMemory?function pqe(l){l._IndexToUnicodeMap={};for(var a=l.tables.cmap.glyphIndexMap,o=Object.keys(a),c=0;c<o.length;c+=1){var u=o[c],h=a[u];void 0===l._IndexToUnicodeMap[h]?l._IndexToUnicodeMap[h]={unicodes:[parseInt(u)]}:l._IndexToUnicodeMap[h].unicodes.push(parseInt(u))}}(l):function fqe(l){for(var a,o=l.tables.cmap.glyphIndexMap,c=Object.keys(o),u=0;u<c.length;u+=1){var h=c[u];(a=l.glyphs.get(o[h])).addUnicode(parseInt(h))}for(var f=0;f<l.glyphs.length;f+=1)a=l.glyphs.get(f),l.cffEncoding?a.name=l.isCIDFont?"gid"+f:l.cffEncoding.charset[f]:l.glyphNames.names&&(a.name=l.glyphNames.glyphIndexToName(f))}(l)}(u,a),w){var B=ts(h,w);u.kerningPairs=nKe_parse(B.data,B.offset)}else u.kerningPairs={};if(y){var G=ts(h,y);u.tables.gdef=YXe_parse(G.data,G.offset)}if(b){var H=ts(h,b);u.tables.gpos=QXe_parse(H.data,H.offset),u.position.init()}if(C){var j=ts(h,C);u.tables.gsub=ise_parse(j.data,j.offset)}if(v){var W=ts(h,v);u.tables.fvar=UXe_parse(W.data,W.offset,u.names)}if(T){var Z=ts(h,T);u.tables.meta=rse_parse(Z.data,Z.offset),u.metas=u.tables.meta}return u}var uKe=Object.freeze({__proto__:null,Font:br,Glyph:Dl,Path:Fs,BoundingBox:sd,_parse:bn,parse:M5,load:function lKe(l,a,o){o=null==o?{}:o;var u="undefined"!=typeof window||o.isUrl?oKe:sKe;return new Promise(function(h,d){u(l,function(f,p){if(f){if(a)return a(f);d(f)}var g;try{g=M5(p,o)}catch(m){if(a)return a(m,null);d(m)}if(a)return a(null,g);h(g)})})},loadSync:function cKe(l,a){return M5(fse(require("fs").readFileSync(l)),a)}});const $se=uKe;class hKe extends Oie{constructor(a){super(a),this.reversed=!1}load(a,o,c,u){const h=this,d=new id(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(a,function(f){try{o(h.parse(f))}catch(p){u?u(p):console.error(p),h.manager.itemError(a)}},c,u)}parse(a){function c(u){const h=[];let d;u.forEach(function(p){"m"===p.type.toLowerCase()?(d=[p],h.push(d)):"z"!==p.type.toLowerCase()&&d.push(p)});const f=[];return h.forEach(function(p){f.push({type:"m",x:p[p.length-1].x,y:p[p.length-1].y});for(let m=p.length-1;m>0;m--){const v=p[m],_={type:v.type};void 0!==v.x2&&void 0!==v.y2?(_.x1=v.x2,_.y1=v.y2,_.x2=v.x1,_.y2=v.y1):void 0!==v.x1&&void 0!==v.y1&&(_.x1=v.x1,_.y1=v.y1),_.x=p[m-1].x,_.y=p[m-1].y,f.push(_)}}),f}return void 0===$se?(console.warn("THREE.TTFLoader: The loader requires opentype.js. Make sure it's included before using the loader."),null):function o(u,h){const d=Math.round,f={},p=1e5/(72*(u.unitsPerEm||2048)),g=u.encoding.cmap.glyphIndexMap,m=Object.keys(g);for(let v=0;v<m.length;v++){const _=m[v],y=u.glyphs.glyphs[g[_]];if(void 0!==_){const b={ha:d(y.advanceWidth*p),x_min:d(y.xMin*p),x_max:d(y.xMax*p),o:""};h&&(y.path.commands=c(y.path.commands)),y.path.commands.forEach(function(C){"c"===C.type.toLowerCase()&&(C.type="b"),b.o+=C.type.toLowerCase()+" ",void 0!==C.x&&void 0!==C.y&&(b.o+=d(C.x*p)+" "+d(C.y*p)+" "),void 0!==C.x1&&void 0!==C.y1&&(b.o+=d(C.x1*p)+" "+d(C.y1*p)+" "),void 0!==C.x2&&void 0!==C.y2&&(b.o+=d(C.x2*p)+" "+d(C.y2*p)+" ")}),f[String.fromCodePoint(y.unicode)]=b}}return{glyphs:f,familyName:u.getEnglishName("fullName"),ascender:d(u.ascender*p),descender:d(u.descender*p),underlinePosition:u.tables.post.underlinePosition,underlineThickness:u.tables.post.underlineThickness,boundingBox:{xMin:u.tables.head.xMin,xMax:u.tables.head.xMax,yMin:u.tables.head.yMin,yMax:u.tables.head.yMax},resolution:1e3,original_font_information:u.tables.name}}($se.parse(a),this.reversed)}}class qse{constructor(a){this.isFont=!0,this.type="Font",this.data=a}generateShapes(a,o=100){const c=[],u=function dKe(l,a,o){const c=Array.from(l),u=a/o.resolution,h=(o.boundingBox.yMax-o.boundingBox.yMin+o.underlineThickness)*u,d=[];let f=0,p=0;for(let g=0;g<c.length;g++){const m=c[g];if("\n"===m)f=0,p-=h;else{const v=fKe(m,u,f,p,o);f+=v.offsetX,d.push(v.path)}}return d}(a,o,this.data);for(let h=0,d=u.length;h<d;h++)c.push(...u[h].toShapes());return c}}function fKe(l,a,o,c,u){const h=u.glyphs[l]||u.glyphs["?"];if(!h)return void console.error('THREE.Font: character "'+l+'" does not exists in font family '+u.familyName+".");const d=new w$e;let f,p,g,m,v,_,y,b;if(h.o){const C=h._cachedOutline||(h._cachedOutline=h.o.split(" "));for(let x=0,w=C.length;x<w;)switch(C[x++]){case"m":f=C[x++]*a+o,p=C[x++]*a+c,d.moveTo(f,p);break;case"l":f=C[x++]*a+o,p=C[x++]*a+c,d.lineTo(f,p);break;case"q":g=C[x++]*a+o,m=C[x++]*a+c,v=C[x++]*a+o,_=C[x++]*a+c,d.quadraticCurveTo(v,_,g,m);break;case"b":g=C[x++]*a+o,m=C[x++]*a+c,v=C[x++]*a+o,_=C[x++]*a+c,y=C[x++]*a+o,b=C[x++]*a+c,d.bezierCurveTo(v,_,y,b,g,m)}}return{offsetX:h.ha*a,path:d}}class pKe extends s_{constructor(a,o={}){const c=o.font;if(void 0===c)super();else{const u=c.generateShapes(a,o.size);o.depth=void 0!==o.height?o.height:50,void 0===o.bevelThickness&&(o.bevelThickness=10),void 0===o.bevelSize&&(o.bevelSize=8),void 0===o.bevelEnabled&&(o.bevelEnabled=!1),super(u,o)}this.type="TextGeometry"}}var Ei=(()=>(function(l){l[l.Left=0]="Left",l[l.Right=1]="Right",l[l.Middle=2]="Middle"}(Ei||(Ei={})),Ei))();class gKe{constructor(){this.scale=1,this.width=100,this.height=100,this.delta=10,this.lineWidth=1,this.lineSizeExtra=1}setWidth(a){return this.width=a,this}setHeight(a){return this.height=a,this}setDelta(a){return this.delta=a,this}clearAll(){return this}}class D5{constructor(a,o){this.name=a,this.vertexes=o}static builder(){return new D5("",null)}setName(a){return this.name=a,this}setVertexes(a){return this.vertexes=a,this}}class mKe{\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(a){return 1/(a*(Math.sqrt(5)+1)/2)}toDegrees(a){return a/Math.PI*180}translation(a,o,c){return(new Qn).makeTranslation(a,o,c)}zRotation(a,o,c,u){const h=new Qn;h.makeRotationZ(a);const d=new Qn;d.makeTranslation(o,c,0);const f=new Qn;return f.identity(),u&&f.scale(u),f.multiply(h.multiply(d))}extrudeShape(a){const o=new pie([new ee(0,0,-.1),new ee(0,0,0)]);return new s_(a,{steps:1,bevelEnabled:!1,extrudePath:o})}extrudePath(a,o,c,u){let h=-o+Math.PI/2,d=[-c,u];const f=[],p=this.zRotation(h,d[0],d[1]);a.forEach(m=>{let _=new Bi(m[0],m[1],0,1).applyMatrix4(p);f.push(new ut(_.x,_.y))});const g=new ed(f);return this.extrudeShape(g)}createTrost(a,o=0,c=0,u=0,h=0,d=0){let f=a.delta/2/4,p=a.height*(1-c)*.8;return this.extrudePath([[-f,0],[-f,p+3*f],[f,p+3*f],[f,0],[-f,0]],.05*Math.PI,4*-a.delta,-a.height/2)}createKopie(a,o=0,c=0,u=0,h=0,d=0){let f=a.delta/2/4,p=a.height*(1-c)*.8;return this.extrudePath([[-f,0],[-f,p+3*f],[f,p+3*f],[f,0],[-f,0]],-.05*Math.PI,4*+a.delta,-a.height/2)}createTri1(a,o,c=0,u=0,h=0,d=0,f=0){let p=o.delta/2/4,g=o.height*(1-u)*.8;return this.extrudePath([[4*-p/2,+g-2*p],[0,+g+2*p],[4*+p/2,+g-2*p],[4*-p/2,+g-2*p]],180*a/20*1/180*Math.PI,a*-o.delta*4,-o.height/2)}createTri2(a,o,c=0,u=0,h=0,d=0,f=0){let p=o.delta/2/4,g=o.height*(1-u)*.8;return this.extrudePath([[4*-p/2,+g-6*p],[0,+g-2*p],[4*+p/2,+g-6*p],[4*-p/2,+g-6*p]],180*a/20*1/180*Math.PI,a*-o.delta*4,-o.height/2)}createTrostNakonechnik(a,o,c=0,u=0,h=0,d=0,f=0){let p=o.delta/2/4,g=o.height*(1-u)*.8,m=o.delta,v=o.height,_=new ed;_.moveTo(0,+g+2*p);let C=.5,x=[[0,+g+2*p],[5*-p*C,+g+2*p],[5*-p,+g+2*p],[5*-p,+g+8*p],[5*-p,+g+16*p],[5*-p*C,+g+16*p],[0,+g+16*p],[5*+p*C,+g+16*p],[5*+p,+g+16*p],[5*+p,+g+8*p],[5*+p,+g+2*p],[5*+p*C,+g+2*p],[0,+g+2*p]],T=-180*a/20*1/180*Math.PI+Math.PI/2,E=[-a*-m*4,-v/2];const R=this.zRotation(T,E[0],E[1]);let D=x.map(P=>{let L=new Bi(P[0],P[1],0,1).applyMatrix4(R);return new ut(L.x,L.y)});return _.moveTo(D[0].x,D[0].y),_.bezierCurveTo(D[1].x,D[1].y,D[2].x,D[2].y,D[3].x,D[3].y),_.bezierCurveTo(D[4].x,D[4].y,D[5].x,D[5].y,D[6].x,D[6].y),_.bezierCurveTo(D[7].x,D[7].y,D[8].x,D[8].y,D[9].x,D[9].y),_.bezierCurveTo(D[10].x,D[10].y,D[11].x,D[11].y,D[12].x,D[12].y),this.extrudeShape(_)}createTri3_2(a,o,c=0,u=0,h=0,d=0,f=0){let p=o.delta/2/4,g=o.height*(1-u)*.8;return this.extrudePath([[0,+g+2*p],[5*-p,+g+2*p],[5*-p,+g+16*p],[0,+g+16*p],[5*+p,+g+16*p],[5*+p,+g+2*p],[0,+g+2*p]],180*a/20*1/180*Math.PI,a*-o.delta*4,-o.height/2)}createKopieNakonechnik(a,o,c=0,u=0,h=0,d=0,f=0){let p=o.delta/2/4,g=o.height*(1-u)*.8;return this.extrudePath([[0,+g-2*p],[2*-p,+g+2*p],[0,+g+16*p],[2*+p,+g+2*p],[0,+g-2*p]],180*a/20*1/180*Math.PI,a*-o.delta*4,-o.height/2)}createSkull(a,o,c=0,u=0,h=0,d=0,f=0){let m=o.delta,v=o.height,_=new ed,S=0*o.delta/4/2,T=(Pt,Ft)=>Ft*(1.75*o.delta+2*Pt),E=(Pt,Ft)=>Ft*(1.75*o.delta+2*Pt)*.8,Y=.7*T(S,1)/2*.5,O=.7*E(S,1)/2*.5,G=(T(S,1),E(S,1),T(S,1)),H=E(S,1),W=.275*G,Z=.9*G/4,K=O/4*2,ae=Y/4*2,xe=(Pt,Ft,$e,Yt,Wt)=>[[Ft/2,0],[Ft-Yt,0],[Ft,Wt],[Ft,$e/2],[Ft,$e-Wt],[Ft-Yt,$e],[Ft/2,$e],[Yt,$e],[0,$e-Wt],[0,$e/2],[0,Wt],[Yt,0],[Ft/2,0]].map(Ae=>[Ae[0]+Pt.x,Ae[1]+Pt.y]),Ie=Math.PI/4+Math.PI/2,qe=[G/2,-H/2],Oe=this.zRotation(Ie,-qe[0],qe[1],new ee(-1,1,1)),Ye=this.zRotation(Math.PI/2,0,-v/2-2*m-m/4),et=(Pt=new ut(0,0),Ft=G,$e=H,Yt=Y,Wt=O,[[Ft/2,0],[Ft-Yt,0],[Ft,Wt],[Ft,$e/2],[Ft,$e-Wt],[Ft/2+Ft/6+.16*Ft,$e-Wt],[Ft/2+Ft/6+.16*Ft,$e],[Ft/2+Ft/6+.16*Ft,$e+Wt],[Ft/2-Ft/4+.16*Ft,$e+Wt],[Ft/2-Ft/4+.16*Ft,$e],[Ft/2-Ft/4+.16*Ft,$e-Wt],[0,$e-Wt],[0,$e/2],[0,Wt],[Yt,0],[Ft/2,0]].map(Ae=>[Ae[0]+Pt.x,Ae[1]+Pt.y])).map(Pt=>{let Yt=new Bi(Pt[0],Pt[1],0,1).applyMatrix4(Oe).applyMatrix4(Ye);return new ut(Yt.x,Yt.y)});var Pt,Ft,$e,Yt,Wt;_.moveTo(et[0].x,et[0].y),_.bezierCurveTo(et[1].x,et[1].y,et[2].x,et[2].y,et[3].x,et[3].y),_.bezierCurveTo(et[4].x,et[4].y,et[5].x,et[5].y,et[6].x,et[6].y),_.bezierCurveTo(et[7].x,et[7].y,et[8].x,et[8].y,et[9].x,et[9].y),_.bezierCurveTo(et[10].x,et[10].y,et[11].x,et[11].y,et[12].x,et[12].y),_.bezierCurveTo(et[13].x,et[13].y,et[14].x,et[14].y,et[15].x,et[15].y);let je=xe(new ut(G/2-G/6,H/3),W,Z,ae,K).map(Pt=>{let Yt=new Bi(Pt[0],Pt[1],0,1).applyMatrix4(Oe).applyMatrix4(Ye);return new ut(Yt.x,Yt.y)}),Se=new mg;Se.moveTo(je[0].x,je[0].y),Se.bezierCurveTo(je[1].x,je[1].y,je[2].x,je[2].y,je[3].x,je[3].y),Se.bezierCurveTo(je[4].x,je[4].y,je[5].x,je[5].y,je[6].x,je[6].y),Se.bezierCurveTo(je[7].x,je[7].y,je[8].x,je[8].y,je[9].x,je[9].y),Se.bezierCurveTo(je[10].x,je[10].y,je[11].x,je[11].y,je[12].x,je[12].y),_.holes.push(Se);let Ge=xe(new ut(G/2+G/6,H/3),W,Z,ae,K).map(Pt=>{let Yt=new Bi(Pt[0],Pt[1],0,1).applyMatrix4(Oe).applyMatrix4(Ye);return new ut(Yt.x,Yt.y)}),zt=new mg;zt.moveTo(Ge[0].x,Ge[0].y),zt.bezierCurveTo(Ge[1].x,Ge[1].y,Ge[2].x,Ge[2].y,Ge[3].x,Ge[3].y),zt.bezierCurveTo(Ge[4].x,Ge[4].y,Ge[5].x,Ge[5].y,Ge[6].x,Ge[6].y),zt.bezierCurveTo(Ge[7].x,Ge[7].y,Ge[8].x,Ge[8].y,Ge[9].x,Ge[9].y),zt.bezierCurveTo(Ge[10].x,Ge[10].y,Ge[11].x,Ge[11].y,Ge[12].x,Ge[12].y),_.holes.push(zt);let In=G/4*.6,ue=.9*G/4,ie=.2*In,it=.2*ue,vt=((Pt,Ft,$e,Yt,Wt)=>[[Ft/2,0],[Ft/2+Yt,0],[Ft,$e-Wt],[Ft,$e],[Ft,$e+Wt],[0,$e+Wt],[0,$e],[0,$e-Wt],[Ft/2-Yt,0],[Ft/2,0]].map(Ae=>[Ae[0]+Pt.x,Ae[1]+Pt.y]))(new ut(G/2+2*W*.16,H/3*2*.9),In,ue,ie,it).map(Pt=>{let Yt=new Bi(Pt[0],Pt[1],0,1).applyMatrix4(Oe).applyMatrix4(Ye);return new ut(Yt.x,Yt.y)}),Ut=new mg;return Ut.moveTo(vt[0].x,vt[0].y),Ut.bezierCurveTo(vt[1].x,vt[1].y,vt[2].x,vt[2].y,vt[3].x,vt[3].y),Ut.bezierCurveTo(vt[4].x,vt[4].y,vt[5].x,vt[5].y,vt[6].x,vt[6].y),Ut.bezierCurveTo(vt[7].x,vt[7].y,vt[8].x,vt[8].y,vt[9].x,vt[9].y),_.holes.push(Ut),this.extrudeShape(_)}createCrossParts(a,o=0,c=0,u=0,h=0,d=0,f=0,p=0,g=0,m=0){let v=[],y=c,b=u||a.width,C=h||a.height,x=a.delta/a.width*b,w=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),S=b*(d||w),M=m||Math.atan2(1-w,.5),T=S*(f||1-w),E=S*(p||1-w),k=S*(p||.25),R=g?C*g+k*Math.tan(M):C-S/2,D=u_.builder(),P=($,Y,O,V,B,G)=>{D.addPlaneXY(Y,O,V,B,G),v.push(D5.builder().setVertexes(D).setName($)),D=u_.builder()};P("\u043a\u0440\u0435\u0441\u0442",new ee(-x/2,C/2,0),x,C),P("\u043a\u0440\u0435\u0441\u0442",new ee(-S/2,C/2-(T-x/2),0),S,x),P("\u0418\u0438\u0441\u0443\u0441 \u041d\u0430\u0437\u043e\u0440\u0435\u0439 \u0426\u0430\u0440\u044c \u0418\u0443\u0434\u0435\u0439\u0441\u043a\u0438\u0439",new ee(-E/2,C/2-(y+(f?(S*(f||1-w)-x/2)/2:S*Math.pow(1-w,2))-x/2),0),E,x),P("\u043a\u0440\u0435\u0441\u0442",new ee(-k/2,C/2-(R-k/Math.cos(M)/2)-x,0),k,x/Math.cos(M),0,M);let F=.55*a.width,L=1.5/a.width;return P("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430",new ee(-F/2,-a.height/2+L,0),F,a.delta+L),P("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430",new ee(-F/2-a.delta/2*3,-a.height/2-a.delta+L,0),2.5*a.delta,a.delta+L),P("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430",new ee(+F/2-a.delta,-a.height/2-a.delta+L,0),2.5*a.delta,a.delta+L),P("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430",new ee(-F/2-a.delta/2*3,-a.height/2-2*a.delta+L,0),a.delta,a.delta+L),P("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430",new ee(+F/2+a.delta/2,-a.height/2-2*a.delta+L,0),a.delta,a.delta+L),v}createCross(a,o=0,c=0,u=0,h=0,d=0,f=0,p=0,g=0,m=0){let v=u_.builder();return v.vertexes=this.createCrossParts(a,o,c,u,h,d,f,p,g,m).flatMap(_=>_.vertexes.vertexes),v}createConfig(){return new gKe}createTextDirect(a,o,c,u,h){let y=new pKe(o,{font:a,size:c,height:c/10,curveSegments:4,bevelThickness:c/100,bevelSize:c/100,bevelEnabled:!1});y.computeBoundingBox(),y.computeVertexNormals();let b=0;switch(h){case Ei.Left:b=0;break;case Ei.Right:b=-(y.boundingBox.max.x-y.boundingBox.min.x);break;case Ei.Middle:b=-.5*(y.boundingBox.max.x-y.boundingBox.min.x)}const C=new Ps({color:16777215,transparent:!0});let x=new Vi(y,C);return x.position.x=u.x-y.boundingBox.min.x+b,x.position.y=u.y,x.position.z=u.z,x.rotation.x=0,x.rotation.y=0,x}createText(a,o,c,u=0,h=0,d=0,f=0,p=0,g=0,m=0,v=0,_=0){let y=(xe,ge,Me="",He=1,ke=0,Ie=0)=>{a(xe,ge,Me,He,ke,Ie)},b=d||c.width,C=f||c.height,x=c.delta/c.width*b,w=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),S=b*(p||w),M=_||Math.atan2(1-w,.5),T=S*(g||1-w),E=S*(m||1-w),k=S*(m||.25),R=v?C*v+k*Math.tan(M):C-S/2,D=0,P=C/2+4*x,F=this.createTextDirect(o,"\u0426\u0430\u0440\u044c \u0421\u043b\u0430\u0432\u044b",x,new ee(D,P,0),Ei.Middle),L=this.createTextDirect(o,"\u0418\u0438\u0441\u0443\u0441 \u0425\u0440\u0438\u0441\u0442\u043e\u0441",x,new ee(D,P,0),Ei.Middle),$=this.createTextDirect(o,"\u0421\u044b\u043d \u0411\u043e\u0436\u0438\u0439",x,new ee(D,P,0),Ei.Middle),Y=this.createTextDirect(o,"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c",x,new ee(D,P,0),Ei.Middle),O=this.createTextDirect(o,"\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430",x,new ee(D,P,0),Ei.Middle),V=this.createTextDirect(o,"\u043a\u043e\u043f\u0438\u0435",x,new ee(D,P,0),Ei.Middle),B=this.createTextDirect(o,"\u0442\u0440\u043e\u0441\u0442\u044c",x,new ee(D,P,0),Ei.Middle),G=this.createTextDirect(o,"\u0433\u043b\u0430\u0432\u0430 \u0410\u0434\u0430\u043c\u0430",x,new ee(D,P,0),Ei.Middle),H=this.createTextDirect(o,"\u043c\u0435\u0441\u0442\u043e \u043b\u043e\u0431\u043d\u043e\u0435",x,new ee(D,P,0),Ei.Middle),j=this.createTextDirect(o,"\u0440\u0430\u0441\u043f\u044f\u0442 \u0431\u044b\u0441\u0442\u044c",x,new ee(D,P,0),Ei.Middle);D=-E/2,P=C/2+x,y(this.createTextDirect(o,"\u0446\u0440\u0483\u044c",x,new ee(D,P,0),Ei.Right),F),y(this.createTextDirect(o,"\u0441\u043b\u0483\u0432\u044b",x,new ee(D+E,P,0),Ei.Left),F),D=-S/2,P=C/2-(T-x/2)+x/2,y(this.createTextDirect(o,"\u0406\u0421",x,new ee(D,P,0),Ei.Left),L),y(this.createTextDirect(o,"\u0483",x,new ee(D+.2*x,P+.6*x,0),Ei.Left),L),y(this.createTextDirect(o,"\u0425\u0421",x,new ee(D+S,P,0),Ei.Right),L),y(this.createTextDirect(o,"\u0483",x,new ee(D+S-1.1*x,P+.6*x,0),Ei.Left),L),P-=3*x,y(this.createTextDirect(o,"\u0441\u043d\u0483\u044a",x,new ee(D,P,0),Ei.Middle),$),y(this.createTextDirect(o,"\u0431\u0436\u0483\u0457\u0439",x,new ee(D+S,P,0),Ei.Middle),$),D=-x/2,P=(C/2-(R-k/Math.cos(M)/2)-x+C/2-(T-x/2)+x/2)/2-x/2,y(this.createTextDirect(o,"\u043d\u0438",x,new ee(D-x/2,P,0),Ei.Right),Y),y(this.createTextDirect(o,"\u043a\u0430",x,new ee(D+x+.3*x,P,0),Ei.Left),Y);let W=.55*c.width,Z=c.delta,K=Z/2*3/2;D=-W/2,P=-c.height/2,y(this.createTextDirect(o,"\u0433",x,new ee(D-K,P,0),Ei.Middle),O),y(this.createTextDirect(o,"\u0433",x,new ee(D+K+W,P,0),Ei.Middle),O),P=.3*-(T-x/2),y(this.createTextDirect(o,"\u043a",x,new ee(D-K,P,0),Ei.Middle),V),y(this.createTextDirect(o,"\u0442",x,new ee(D+K+W,P,0),Ei.Middle),B),D=-W/2*.5,P=-c.height/2-2.5*Z,y(this.createTextDirect(o,"\u0433",x,new ee(D,P,0),Ei.Middle),G),D=W/2*.5,y(this.createTextDirect(o,"\u0430",x,new ee(D,P,0),Ei.Middle),G);let ae=C/2-(R+k*Math.tan(M)/2+c.delta/Math.cos(M)/2),re=C/2-(c.height+R+k*Math.tan(M)/2+c.delta/Math.cos(M)/2)/2;D=-W/2*.5,P=ae-x/2,y(this.createTextDirect(o,"\u043c",x,new ee(D,P,0),Ei.Middle),H),D=W/2*.5,y(this.createTextDirect(o,"\u043b",x,new ee(D,P,0),Ei.Middle),H),D=-W/2*.5,P=re-x/2,y(this.createTextDirect(o,"\u0440",x,new ee(D,P,0),Ei.Middle),j),D=W/2*.5,y(this.createTextDirect(o,"\u0431",x,new ee(D,P,0),Ei.Middle),j)}createLeftArrow(a,o,c,u){return this.extrudePath([[o.x,o.y],[o.x,o.y-u],[o.x+a*c,o.y-u/2],[o.x,o.y]],0,0,0)}createRect(a,o,c,u){return this.extrudePath([[o.x,o.y],[o.x,o.y-u],[o.x+a*c,o.y-u],[o.x+a*c,o.y],[o.x,o.y]],0,0,0)}}class vKe{constructor(a,o={}){this.enabled=!0;const c=void 0!==o.defaultThickness?o.defaultThickness:.003,u=(new tn).fromArray(void 0!==o.defaultColor?o.defaultColor:[0,0,0]),d=void 0!==o.defaultKeepAlive&&o.defaultKeepAlive,f={},g={},m={},v={outlineThickness:{value:c},outlineColor:{value:u},outlineAlpha:{value:void 0!==o.defaultAlpha?o.defaultAlpha:1}},_=["#include <common>","#include <uv_pars_vertex>","#include <displacementmap_pars_vertex>","#include <fog_pars_vertex>","#include <morphtarget_pars_vertex>","#include <skinning_pars_vertex>","#include <logdepthbuf_pars_vertex>","#include <clipping_planes_pars_vertex>","uniform float outlineThickness;","vec4 calculateOutline( vec4 pos, vec3 normal, vec4 skinned ) {","\tfloat thickness = outlineThickness;","\tconst float ratio = 1.0;","\tvec4 pos2 = projectionMatrix * modelViewMatrix * vec4( skinned.xyz + normal, 1.0 );","\tvec4 norm = normalize( pos - pos2 );","\treturn pos + norm * thickness * pos.w * ratio;","}","void main() {","\t#include <uv_vertex>","\t#include <beginnormal_vertex>","\t#include <morphnormal_vertex>","\t#include <skinbase_vertex>","\t#include <skinnormal_vertex>","\t#include <begin_vertex>","\t#include <morphtarget_vertex>","\t#include <skinning_vertex>","\t#include <displacementmap_vertex>","\t#include <project_vertex>","\tvec3 outlineNormal = - objectNormal;","\tgl_Position = calculateOutline( gl_Position, outlineNormal, vec4( transformed, 1.0 ) );","\t#include <logdepthbuf_vertex>","\t#include <clipping_planes_vertex>","\t#include <fog_vertex>","}"].join("\n"),y=["#include <common>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","#include <clipping_planes_pars_fragment>","uniform vec3 outlineColor;","uniform float outlineAlpha;","void main() {","\t#include <clipping_planes_fragment>","\t#include <logdepthbuf_fragment>","\tgl_FragColor = vec4( outlineColor, outlineAlpha );","\t#include <tonemapping_fragment>","\t#include <encodings_fragment>","\t#include <fog_fragment>","\t#include <premultiplied_alpha_fragment>","}"].join("\n");function x(D){const P=function C(D){let P=f[D.uuid];return void 0===P&&(P={material:new jo({type:"OutlineEffect",uniforms:HM.merge([en.fog,en.displacementmap,v]),vertexShader:_,fragmentShader:y,side:1}),used:!0,keepAlive:d,count:0},f[D.uuid]=P),P.used=!0,P.material}(D);return g[P.uuid]=D,function k(D,P){if("invisible"===D.name)return;const F=P.userData.outlineParameters;D.fog=P.fog,D.toneMapped=P.toneMapped,D.premultipliedAlpha=P.premultipliedAlpha,D.displacementMap=P.displacementMap,void 0!==F?(D.visible=!1!==P.visible&&(void 0===F.visible||F.visible),D.transparent=void 0!==F.alpha&&F.alpha<1||P.transparent,void 0!==F.keepAlive&&(f[P.uuid].keepAlive=F.keepAlive)):(D.transparent=P.transparent,D.visible=P.visible),(!0===P.wireframe||!1===P.depthTest)&&(D.visible=!1),P.clippingPlanes&&(D.clipping=!0,D.clippingPlanes=P.clippingPlanes,D.clipIntersection=P.clipIntersection,D.clipShadows=P.clipShadows),D.version=P.version}(P,D),P}function w(D){const P=D.geometry;let F=!1;return void 0!==D.geometry&&(F=!P.isBufferGeometry||void 0!==P.attributes.normal),!0===D.isMesh&&void 0!==D.material&&!0===F}function S(D){if(!1!==w(D)){if(Array.isArray(D.material))for(let P=0,F=D.material.length;P<F;P++)D.material[P]=x(D.material[P]);else D.material=x(D.material);m[D.uuid]=D.onBeforeRender,D.onBeforeRender=T}}function M(D){if(!1!==w(D)){if(Array.isArray(D.material))for(let P=0,F=D.material.length;P<F;P++)D.material[P]=g[D.material[P].uuid];else D.material=g[D.material.uuid];D.onBeforeRender=m[D.uuid]}}function T(D,P,F,L,$){const Y=g[$.uuid];void 0!==Y&&function E(D,P){const F=P.userData.outlineParameters;D.uniforms.outlineAlpha.value=P.opacity,void 0!==F&&(void 0!==F.thickness&&(D.uniforms.outlineThickness.value=F.thickness),void 0!==F.color&&D.uniforms.outlineColor.value.fromArray(F.color),void 0!==F.alpha&&(D.uniforms.outlineAlpha.value=F.alpha)),P.displacementMap&&(D.uniforms.displacementMap.value=P.displacementMap,D.uniforms.displacementScale.value=P.displacementScale,D.uniforms.displacementBias.value=P.displacementBias)}($,Y)}this.render=function(D,P){let F,L=!1;if(void 0!==arguments[2]&&(console.warn("THREE.OutlineEffect.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),F=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.OutlineEffect.render(): the forceClear argument has been removed. Use .clear() instead."),L=arguments[3]),void 0!==F&&a.setRenderTarget(F),L&&a.clear(),!1===this.enabled)return void a.render(D,P);const $=a.autoClear;a.autoClear=this.autoClear,a.render(D,P),a.autoClear=$,this.renderOutline(D,P)},this.renderOutline=function(D,P){const F=a.autoClear,L=D.autoUpdate,$=D.background,Y=a.shadowMap.enabled;D.autoUpdate=!1,D.background=null,a.autoClear=!1,a.shadowMap.enabled=!1,D.traverse(S),a.render(D,P),D.traverse(M),function R(){let D;D=Object.keys(g);for(let P=0,F=D.length;P<F;P++)g[D[P]]=void 0;D=Object.keys(m);for(let P=0,F=D.length;P<F;P++)m[D[P]]=void 0;D=Object.keys(f);for(let P=0,F=D.length;P<F;P++){const L=D[P];!1===f[L].used?(f[L].count++,!1===f[L].keepAlive&&f[L].count>60&&delete f[L]):(f[L].used=!1,f[L].count=0)}}(),D.autoUpdate=L,D.background=$,a.autoClear=F,a.shadowMap.enabled=Y},this.autoClear=a.autoClear,this.domElement=a.domElement,this.shadowMap=a.shadowMap,this.clear=function(D,P,F){a.clear(D,P,F)},this.getPixelRatio=function(){return a.getPixelRatio()},this.setPixelRatio=function(D){a.setPixelRatio(D)},this.getSize=function(D){return a.getSize(D)},this.setSize=function(D,P,F){a.setSize(D,P,F)},this.setViewport=function(D,P,F,L){a.setViewport(D,P,F,L)},this.setScissor=function(D,P,F,L){a.setScissor(D,P,F,L)},this.setScissorTest=function(D){a.setScissorTest(D)},this.setRenderTarget=function(D){a.setRenderTarget(D)}}}class ZD{constructor(a,o){this.names=a,this.selected=o}static builder(){return new ZD([],"")}setNames(a){return this.names=a,this}setSelected(a){return this.selected=a,this}}class E5{constructor(a,o,c="",u=1,h=0,d=0){this.meshText=a,this.mesh=o,this.infoText=c,this.d=u,this.x=h,this.y=d}static builder(){return new E5(null,null)}setMeshText(a){return this.meshText=a,this}setMesh(a){return this.mesh=a,this}setInfoText(a){return this.infoText=a,this}setD(a){return this.d=a,this}setX(a){return this.x=a,this}setY(a){return this.y=a,this}}class XD{constructor(a,o,c,u){this.mesh=a,this.meshVisible=o,this.action=c,this.update=u}static builder(){return new XD(null,null,()=>{},()=>{})}setMesh(a){return this.mesh=a,this}setMeshVisible(a){return this.meshVisible=a,this}setAction(a){return this.action=a,this}setUpdate(a){return this.update=a,this}runAction(){return this.action(this),this}runUpdate(){return this.update(this),this}}class _Ke extends xx{constructor(){super(...arguments),this.modelGenerator=new mKe,this.renderer=null,this.camera=null,this.scene=null,this.light=null,this.cube=null,this.group=null,this.font=null,this.infoDelayed=[],this.frameId=null,this.config=null,this.raycaster=null,this.id2Mesh=new Map,this.infoObject=null,this.infoStartTime=0,this.infoAlphaTime=0,this.infoAlpha=0,this.infoAlphaIncrement=.001,this.infoAlphaFadeOutTime=5e3,this.effect=null,this.toonMaterial=null,this.particleLight=null,this.menuTextScaleTime=0,this.menuTextScale=1,this.menuTextScaleSpeed=.001,this.menuTextMesh=null,this.menuTextMeshes=[],this.menuTextMeshesUnderline=[],this.meshActions=[]}dispose(){null!=this.frameId&&cancelAnimationFrame(this.frameId),null!=this.renderer&&(this.renderer.dispose(),this.renderer=null)}getFovInRadians(a,o){let h=15/a;return h<22&&(h=22),2*Math.atan2(h/2,o)}init(a){this.renderer=a,this.menuTextMesh=null,this.menuTextMeshes=[],this.menuTextMeshesUnderline=[];let o=this.canvasWidth,c=this.canvasHeight;this.renderer.setSize(o,c),this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.outputEncoding=Qr,this.scene=new sx;let h=this.getFovInRadians(o/c,15);this.camera=new Rs(h/Math.PI*180,o/c,.1,1e3),this.camera.position.z=15,this.camera.lookAt(this.scene.position),this.scene.add(this.camera),this.light=new TD(16777215),this.light.position.z=10,this.scene.add(this.light),this.particleLight=new Vi(new o_(1,8,8),new Ps({color:16746632})),new Vie(16777215,2,50);const f=this.renderer.capabilities.isWebGL2?1028:1024,v=(new tn).setHSL(34/255,23/255,240/255),y=new Uint8Array(4);for(let x=0;x<=y.length;x++)y[x]=x/y.length*256;const b=new n_(y,y.length,1,f);b.needsUpdate=!0,this.toonMaterial=new kie({color:v,gradientMap:b}),this.effect=new vKe(this.renderer,{defaultThickness:.005}),this.createCrossMeshes().forEach((x,w)=>{0==w&&(this.cube=x),this.scene.add(x)}),this.createMenuMeshes().forEach((x,w)=>{this.scene.add(x)}),this.group=new Xv,this.group.position.y=0,this.scene.add(this.group),(new hKe).load("./fonts/PonomarUnicode.ttf",x=>{this.font=new qse(x),this.config&&(this.modelGenerator.createText((w,S,M="",T=1,E=0,k=0)=>this.pushInfo(w,S,M,T,E,k),this.font,this.config,0,0,0,0,1,1-.8,.27,.6,Math.PI/8),this.createMenuText(),this.runPushInfoDelayed(),this.calculateMenuArrows())}),this.raycaster=new x$e}onMouseMove(a){}onMouseClick(a){this.onMouseClickDIrect(a)}onMouseClickDIrect(a){if(!this.raycaster)return;const o=new ut(this.incrementX(a.clientX)/this.canvasWidth*2-1,-this.incrementY(a.clientY)/this.canvasHeight*2+1);this.raycaster.setFromCamera(o,this.camera);let c=[];this.id2Mesh.forEach((g,m,v)=>{c.push(g)});let u=this.scene.children.filter(g=>this.id2Mesh.has(g.uuid));const h=this.raycaster.intersectObjects(u,!1);let d="",f=!1;if(h.length>0){let g=h[0].object;f="\u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e"==g.userData.text,d=g.uuid}let p=this.meshActions.find(g=>{var m;return(null===(m=g.mesh)||void 0===m?void 0:m.uuid)==d});if(f)this.runMenuItemAction();else if(p)p.runAction();else if(d){let g=h[0].object;g.material.wireframe=!g.material.wireframe,g.material.opacity=this.infoAlpha=0;const m=new Date;this.infoStartTime=this.infoAlphaTime=m.getTime(),this.id2Mesh.forEach((v,_,y)=>{v.visible=!1}),this.id2Mesh.forEach((v,_,y)=>{_==d&&(v.visible=!0,this.infoObject=v)})}}onResize(){const a=this.canvasWidth,o=this.canvasHeight;this.camera.aspect=a/o,this.camera.updateProjectionMatrix(),this.renderer.setSize(a,o)}render(){if(this.frameId=requestAnimationFrame(()=>{this.render()}),this.camera&&(this.camera.fov=180/Math.PI*this.getFovInRadians(this.canvasWidth/this.canvasHeight,this.camera.position.z)),this.group&&this.cube&&(this.group.rotation.y=this.cube.rotation.y),this.infoObject){let c=this.infoObject;const u=new Date;let h=this.infoAlphaTime?u.getTime()-this.infoAlphaTime:0;this.infoAlphaTime=u.getTime(),this.infoAlpha+=h*this.infoAlphaIncrement*(this.infoAlphaTime-this.infoStartTime>this.infoAlphaFadeOutTime?-1:1),this.infoAlpha<0&&(this.infoAlpha=0),this.infoAlpha>1&&(this.infoAlpha=1),c.material.opacity=this.infoAlpha,this.infoAlphaTime-this.infoStartTime>this.infoAlphaFadeOutTime&&0==this.infoAlpha&&(this.infoObject.visible=!1,this.infoObject=null)}this.calculateMenuTextScale();const a=25e-5*Date.now();this.particleLight.position.x=13*Math.sin(7*a)/2,this.particleLight.position.y=14*Math.cos(5*a)/2,this.particleLight.position.z=13*Math.cos(3*a)/2,this.effect?this.effect.render(this.scene,this.camera):this.renderer.render(this.scene,this.camera)}getMenuItems(){let a=this.getParam("\u043f\u0443\u043d\u043a\u0442\u044b");return null==a&&(a=ZD.builder().setNames(["\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a","\u041a\u043d\u0438\u0433\u0438","\u041f\u0440\u0438\u043c\u0435\u0440\u044b 3D"]).setSelected("")),a}createMenuText(){let a=this.getMenuItems();a.names.forEach((o,c,u)=>this.addMenuText(o,o==a.selected||!!a.selected&&!this.menuTextMesh&&c+1==u.length||!a.selected&&0==c))}addMenuText(a,o){var c;let w=this.modelGenerator.createTextDirect(this.font,a,2.4,new ee(0,-10.066666666666666,0),Ei.Middle);null===(c=this.scene)||void 0===c||c.add(w),this.menuTextMeshes.push(w),w.visible=!1,w.userData={text:a},!this.menuTextMesh&&o&&(this.menuTextMesh=w,this.menuTextMesh.visible=!0)}calculateMenuTextScale(){if(!this.menuTextMesh)return;let g=.26666666666666666,_=(new Date).getTime(),y=this.menuTextScaleTime?_-this.menuTextScaleTime:0;if(this.menuTextScaleTime=_,this.menuTextMesh.geometry.boundingBox){let b=this.menuTextMesh.geometry.boundingBox.max.x-this.menuTextMesh.geometry.boundingBox.min.x;if(b>10-2*g){let C=(10-2*g)/b,x=C-this.menuTextScale,w=y*this.menuTextScaleSpeed*(x<0?-1:1);Math.abs(x)<Math.abs(w)?this.menuTextScale=C:this.menuTextScale+=w}else{let x=2.4/(this.menuTextMesh.geometry.boundingBox.max.y-this.menuTextMesh.geometry.boundingBox.min.y),w=x-this.menuTextScale,S=y*this.menuTextScaleSpeed*(w<0?-1:1);Math.abs(w)<Math.abs(S)?this.menuTextScale=x:this.menuTextScale+=S}this.menuTextMesh.position.x=(-b/2-this.menuTextMesh.geometry.boundingBox.min.x)*this.menuTextScale,this.menuTextMesh.position.y=-9.666666666666666}this.menuTextMesh.scale.set(this.menuTextScale,this.menuTextScale,this.menuTextScale)}createMenuMeshes(){let o=10/15,f=0,p=-5-4*o,g=2*o,m=4*o,v=[];const y=new Ps({color:16777215,wireframe:!0});let b=(w,S,M=!0)=>{const T=this.toonMaterial?this.toonMaterial:new Ps({color:16777215});let E=new Vi(w,T);return w.computeBoundingBox(),v.push(E),E.visible=M,E.userData={material:T,materialWireframe:y,text:S},this.pushInfoDelayed(E,null,S,o,0,7.666666666666666),E};f=-5,b(this.modelGenerator.createRect(1,new ee(f,p,0),10,m),"\u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e",!1);let C=m/10,x=m/10;return this.getMenuItems().names.forEach((w,S,M)=>{let E=(10-C)/M.length;this.menuTextMeshesUnderline.push(b(this.modelGenerator.createRect(1,new ee(f+E*S+C,p-m+x,0),E-C,x),"\u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e"))}),b(this.modelGenerator.createLeftArrow(-1,new ee(f,p,0),g,m),"\u043c\u0435\u043d\u044e \u0432\u043b\u0435\u0432\u043e"),f=5,b(this.modelGenerator.createLeftArrow(1,new ee(f,p,0),g,m),"\u043c\u0435\u043d\u044e \u0432\u043f\u0440\u0430\u0432\u043e"),v}createCrossMeshes(){let o=10/15,c=this.modelGenerator.createConfig().setWidth(10).setHeight(10).setDelta(o);this.config=c;let f=5+4*o;new Ps({color:0,wireframe:!0,transparent:!0});let m=this.modelGenerator.createCrossParts(c,0,0,0,0,1,1-.8,.27,.6,Math.PI/8).map(_=>{const y=new gi;y.setAttribute("position",new Jr(new Float32Array(_.vertexes.toPlainArray()),3)),y.setAttribute("normal",new Jr(new Float32Array(_.vertexes.toPlainArray(rd.Normals)),3)),y.setAttribute("uv",new Jr(new Float32Array(_.vertexes.toPlainArray(rd.UV)),2)),y.computeBoundingBox();const b=this.toonMaterial?this.toonMaterial:new Ps({color:16777215}),C=new Vi(y,b);return this.pushInfoDelayed(C,null,_.name,o,0,f),C}),v=(_,y)=>{const b=this.toonMaterial?this.toonMaterial:new Ps({color:16777215});let C=new Vi(_,b);_.computeBoundingBox(),m.push(C),this.pushInfoDelayed(C,null,y,o,0,f)};return v(this.modelGenerator.createTrost(c,1,1-.8,.27,.6,Math.PI/8),"\u0442\u0440\u043e\u0441\u0442\u044c"),v(this.modelGenerator.createTri1(1,c,1,1-.8,.27,.6,Math.PI/8),"\u0442\u0440\u043e\u0441\u0442\u044c"),v(this.modelGenerator.createTri2(1,c,1,1-.8,.27,.6,Math.PI/8),"\u0442\u0440\u043e\u0441\u0442\u044c"),v(this.modelGenerator.createKopie(c,-1,1-.8,.27,.6,Math.PI/8),"\u043a\u043e\u043f\u0438\u0435"),v(this.modelGenerator.createTri1(-1,c,1,1-.8,.27,.6,Math.PI/8),"\u043a\u043e\u043f\u0438\u0435"),v(this.modelGenerator.createTri2(-1,c,1,1-.8,.27,.6,Math.PI/8),"\u043a\u043e\u043f\u0438\u0435"),v(this.modelGenerator.createTrostNakonechnik(1,c,1,1-.8,.27,.6,Math.PI/8),"\u0442\u0440\u043e\u0441\u0442\u044c"),v(this.modelGenerator.createKopieNakonechnik(-1,c,1,1-.8,.27,.6,Math.PI/8),"\u043a\u043e\u043f\u0438\u0435"),v(this.modelGenerator.createSkull(-1,c,1,1-.8,.27,.6,Math.PI/8),"\u0433\u043b\u0430\u0432\u0430 \u0410\u0434\u0430\u043c\u0430"),m}pushInfoDelayed(a,o,c="",u=1,h=0,d=0){this.infoDelayed.push(E5.builder().setMeshText(a).setMesh(o).setInfoText(c).setD(u).setX(h).setY(d))}runPushInfoDelayed(){this.infoDelayed.forEach(a=>{a.meshText&&this.pushInfo(a.meshText,a.mesh,a.infoText,a.d,a.x,a.y)}),this.infoDelayed=[]}pushInfo(a,o,c="",u=1,h=0,d=0){var f,p,g;if(c&&(o=this.modelGenerator.createTextDirect(this.font,c,u,new ee(h,d,0),Ei.Middle)),!o)return;c||null===(f=this.scene)||void 0===f||f.add(a),o.visible=!1,null===(p=this.scene)||void 0===p||p.add(o);let m=a.geometry.boundingBox,v=u_.builder();v.addPlaneXY(new ee(m.min.x,m.max.y,m.min.z),m.max.x-m.min.x,m.max.y-m.min.y);let _=new gi;_.setAttribute("position",new Jr(new Float32Array(v.toPlainArray()),3));const y=new Ps({color:16777215,wireframe:!1});let b=new Vi(_,y);null===(g=this.scene)||void 0===g||g.add(b),b.position.add(a.position),b.visible=!1,b.userData={text:c},this.id2Mesh.set(b.uuid,o),"\u043c\u0435\u043d\u044e \u0432\u043b\u0435\u0432\u043e"==c&&this.meshActions.push(XD.builder().setMesh(b).setMeshVisible(a).setAction(()=>this.onPrevMenu()).setUpdate(x=>{if(this.menuTextMesh){let w=this.menuTextMeshes.indexOf(this.menuTextMesh);x.meshVisible&&(x.meshVisible.visible=this.menuTextMeshes.length>1,this.setMeshMaterial(0==w,x.meshVisible))}})),"\u043c\u0435\u043d\u044e \u0432\u043f\u0440\u0430\u0432\u043e"==c&&this.meshActions.push(XD.builder().setMesh(b).setMeshVisible(a).setAction(()=>this.onNextMenu()).setUpdate(x=>{if(this.menuTextMesh){let w=this.menuTextMeshes.indexOf(this.menuTextMesh);x.meshVisible&&(x.meshVisible.visible=this.menuTextMeshes.length>1,this.setMeshMaterial(w+1==this.menuTextMeshes.length,x.meshVisible))}}))}setMeshMaterial(a,o){a?o.material=o.userData.materialWireframe:o&&(o.material=o.userData.material)}calculateMenuArrows(){let a=this.menuTextMeshes.indexOf(this.menuTextMesh);this.menuTextMeshesUnderline.forEach((o,c)=>{this.setMeshMaterial(c!=a,o)}),this.meshActions.forEach(o=>o.runUpdate())}onPrevMenu(){let a=this.menuTextMeshes.indexOf(this.menuTextMesh);a>0&&(--a,this.menuTextMesh&&(this.menuTextMesh.visible=!1),this.menuTextMesh=this.menuTextMeshes[a],this.menuTextMesh.visible=!0,this.calculateMenuArrows())}onNextMenu(){let a=this.menuTextMeshes.indexOf(this.menuTextMesh);a+1<this.menuTextMeshes.length&&(++a,this.menuTextMesh&&(this.menuTextMesh.visible=!1),this.menuTextMesh=this.menuTextMeshes[a],this.menuTextMesh.visible=!0,this.calculateMenuArrows())}runMenuItemAction(){var a;let o=null===(a=this.menuTextMesh)||void 0===a?void 0:a.userData.text;this.runAction(o)}}let k5=(()=>{class l{constructor(o,c,u){this.uiConfig=o,this.config=c,this.router=u}onLoginCommand(o){let c=o;this.config.setShowNormal(),this.config.defaultApplication=c.id,this.uiConfig.ui.lastLoginApp.setStringValue(c.id);let u=pageRequestedRoute||this.uiConfig.ui.defaultAppRoute.getStringValue();pageRequestedRoute="",c.routes.find(h=>h.link==u)||(u=c.routes[0].link),this.uiConfig.ui.defaultAppRoute.setStringValue(u),this.router.navigate([u])}autoLogin(){let o=pageRequestedApp||this.uiConfig.ui.lastLoginApp.getStringValue(),c=this.config.environment.applications.filter(h=>h.applicationEnabled);if(!o&&1!=c.length)return;let u=null;c.forEach((h,d,f)=>{h.id==o&&(u=h)}),null==u&&1==c.length&&c.forEach((h,d,f)=>{u=h}),pageRequestedApp="",null!=u&&this.onLoginCommand(u)}}return l.\u0275fac=function(o){return new(o||l)(Fe($i),Fe(kn),Fe(as))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();const yKe=["myCanvas"];function bKe(l,a){if(1&l){const o=Bt();A(0,"button",6),pe("click",function(){return dt(o),J(2).routeToV1()}),we(1,"v1"),I()}}function xKe(l,a){if(1&l){const o=Bt();A(0,"div",4),Q(1,bKe,2,0,"button",5),A(2,"button",6),pe("click",function(){return dt(o),J().routeToLogo()}),we(3,"2D"),I(),I()}if(2&l){const o=J();z(1),U("ngIf",o.config.showOldVersions)}}class A5 extends xx{constructor(a,o,c){super(),this.scene=a,this.initialized=o,this.name=c}static builder(){return new A5(null,!1,"")}setScene(a){return this.scene=a,this}setInitialized(a){return this.initialized=a,this}setName(a){return this.name=a,this}get canvasWidth(){return this.scene?this.scene.canvasWidth:this.iCanvasWidth}get canvasHeight(){return this.scene?this.scene.canvasHeight:this.iCanvasHeight}get canvasPercentage(){return this.scene?this.scene.canvasPercentage:this.iPercentage}setWidthPixelIncrement(a){var o;return null===(o=this.scene)||void 0===o||o.setWidthPixelIncrement(a),super.setWidthPixelIncrement(a)}setHeightPixelIncrement(a){var o;return null===(o=this.scene)||void 0===o||o.setHeightPixelIncrement(a),super.setHeightPixelIncrement(a)}setXPixelIncrement(a){var o;return null===(o=this.scene)||void 0===o||o.setXPixelIncrement(a),super.setXPixelIncrement(a)}setYPixelIncrement(a){var o;return null===(o=this.scene)||void 0===o||o.setYPixelIncrement(a),super.setYPixelIncrement(a)}setCanvasWidth(a){var o;return null===(o=this.scene)||void 0===o||o.setCanvasWidth(a),super.setCanvasWidth(a)}setCanvasHeight(a){var o;return null===(o=this.scene)||void 0===o||o.setCanvasHeight(a),super.setCanvasHeight(a)}setPercentage(a){var o;return null===(o=this.scene)||void 0===o||o.setPercentage(a),super.setPercentage(a)}setLight(a){var o;return null===(o=this.scene)||void 0===o||o.setLight(a),super.setLight(a)}setActionHandler(a){var o;return null===(o=this.scene)||void 0===o||o.setActionHandler(a),super.setActionHandler(a)}setParam(a,o){var c;return null===(c=this.scene)||void 0===c||c.setParam(a,o),super.setParam(a,o)}dispose(){var a;this.initialized&&(null===(a=this.scene)||void 0===a||a.dispose(),this.initialized=!1)}init(a){var o;null===(o=this.scene)||void 0===o||o.init(a),this.initialized=!0}onMouseMove(a){var o;this.initialized&&(null===(o=this.scene)||void 0===o||o.onMouseMove(a))}onMouseClick(a){var o;this.initialized&&(null===(o=this.scene)||void 0===o||o.onMouseClick(a))}onResize(){var a;this.initialized&&(null===(a=this.scene)||void 0===a||a.onResize())}render(){var a;null===(a=this.scene)||void 0===a||a.render()}}let Yse=(()=>{class l{constructor(o,c,u,h,d){this.uiConfig=o,this.config=c,this.renderer2=u,this.themesSvc=h,this.autoLoginSvc=d,this.canvas=null,this.renderer=null,this.fullScreen=!1,this.allScenes=[],this.sceneIndex=-1,this.requestedSceneName="\u041a\u0440\u0435\u0441\u0442",this.iRequestedCanvasWidth=90,this.iRequestedCanvasHeight=100,this.iRequestedPercentage=!0,this.enabled=!0,this.sName="",this.scenes="\u041a\u0440\u0435\u0441\u0442"}set scenes(o){let c=o.split(",");0==c.length&&(c=["\u041a\u0440\u0435\u0441\u0442"]),this.allScenes=[],c.forEach(u=>{let h=A5.builder().setName(u);switch(u){default:case"\u041a\u0443\u0431":h.setScene(new P$e);break;case"\u0418\u043a\u043e\u0441\u0430\u0445\u0435\u0434\u0440\u043e\u043d":h.setScene(new O$e);break;case"\u0421\u0432\u0435\u0447\u0435\u043d\u0438\u0435":h.setScene(new z$e);break;case"\u041a\u0440\u0435\u0441\u0442":h.setScene(new _Ke)}this.allScenes.push(h)})}get scene(){return this.sceneIndex<0||this.sceneIndex>=this.allScenes.length?null:this.allScenes[this.sceneIndex]}get sceneName(){return this.sceneIndex<0||this.sceneIndex>=this.allScenes.length?this.requestedSceneName:this.allScenes[this.sceneIndex].name}set sceneName(o){this.renderer?this.selectSceneByName(o):this.requestedSceneName=o}get requestedCanvasWidth(){return this.iRequestedCanvasWidth}set requestedCanvasWidth(o){this.iRequestedCanvasWidth=o;let c=this.scene;c&&c.dispose()}get requestedCanvasHeight(){return this.iRequestedCanvasHeight}set requestedCanvasHeight(o){this.iRequestedCanvasHeight=o;let c=this.scene;c&&c.dispose()}get requestedPercentage(){return this.iRequestedPercentage}set requestedPercentage(o){this.iRequestedPercentage=o;let c=this.scene;c&&c.dispose()}selectScene(o){var c;o>=0&&o<this.allScenes.length&&o!=this.sceneIndex&&(null===(c=this.scene)||void 0===c||c.dispose(),this.sceneIndex=o,this.config.post(()=>{this.render()}))}selectSceneByName(o){let c=this.allScenes.findIndex(u=>u.name==o);this.selectScene(c)}set name(o){this.sName=o}get name(){return this.sName}onResize(){var o;null===(o=this.scene)||void 0===o||o.onResize()}onMouseMove(o){var c;null===(c=this.scene)||void 0===c||c.onMouseMove(o)}onMouseClick(o){var c;o.ctrlKey?this.selectScene((this.sceneIndex+1)%this.allScenes.length):null===(c=this.scene)||void 0===c||c.onMouseClick(o)}ngOnInit(){this.fullScreen&&this.addOverflowClass(),this.uiConfig.check(()=>{this.config.autoLoginApplication&&this.fullScreen&&this.autoLoginSvc.autoLogin()})}ngOnDestroy(){var o;this.fullScreen&&this.removeOverflowClass(),null===(o=this.scene)||void 0===o||o.dispose(),this.canvas=null}addOverflowClass(){this.renderer2.addClass(document.body,"overflowHidden")}removeOverflowClass(){this.renderer2.removeClass(document.body,"overflowHidden")}routeToV1(){window.location.href="./v1"}routeToLogo(){this.config.requestLogin3d(!1),this.config.setShowLogin(!1)}ngAfterViewInit(){this.canvas=this.myCanvasRef.nativeElement,this.canvas&&(this.renderer=new Gne({canvas:this.canvas,alpha:!0,antialias:!0}),this.config.post(()=>{this.selectSceneByName(this.requestedSceneName)}))}render(){var o,c,u,h;!(null===(o=this.scene)||void 0===o?void 0:o.initialized)&&this.renderer&&(!this.fullScreen&&this.canvas&&(null===(c=this.scene)||void 0===c||c.setCanvasWidth(this.requestedCanvasWidth).setCanvasHeight(this.requestedCanvasHeight).setPercentage(this.requestedPercentage).setHeightPixelIncrement(-60).setYPixelIncrement(-60)),null===(u=this.scene)||void 0===u||u.setLight(this.themesSvc.nowIsDay()).setParam("\u043f\u0443\u043d\u043a\u0442\u044b",this.getMenuItems()).setActionHandler(d=>this.runMenuItemClick(d)).init(this.renderer)),null===(h=this.scene)||void 0===h||h.render()}getMenuItems(){let o=this.config.environment.applications.filter(h=>h.applicationEnabled&&!h.applicationHidden).map(h=>h.name),c=this.uiConfig.ui.lastLoginApp.getStringValue(),u=this.config.environment.applications.find(h=>h.id==c);return ZD.builder().setNames(o).setSelected(u?u.name:"")}runMenuItemClick(o){let c=this.config.environment.applications.find(u=>u.name==o);c?this.autoLoginSvc.onLoginCommand(c):console.log(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435: "${o}".`)}}return l.\u0275fac=function(o){return new(o||l)(N($i),N(kn),N(oi),N(Vu),N(k5))},l.\u0275cmp=nt({type:l,selectors:[["app-three-logo"]],viewQuery:function(o,c){if(1&o&&An(yKe,5),2&o){let u;kt(u=At())&&(c.myCanvasRef=u.first)}},hostBindings:function(o,c){1&o&&pe("resize",function(h){return c.onResize(h.target)},!1,_C)("mousemove",function(h){return c.onMouseMove(h)},!1,_C)("click",function(h){return c.onMouseClick(h)},!1,_C)},inputs:{fullScreen:"fullScreen",scenes:"scenes",requestedSceneName:"requestedSceneName",sceneName:"sceneName",requestedCanvasWidth:"requestedCanvasWidth",requestedCanvasHeight:"requestedCanvasHeight",requestedPercentage:"requestedPercentage",enabled:"enabled",name:"name"},decls:4,vars:1,consts:[["class","flyout",4,"ngIf"],[1,"container","bgColor","fade-in-3"],[1,"centeredCanvas"],["myCanvas",""],[1,"flyout"],["class","btn btn-link btn-block whiteBtn fade-in-3",3,"click",4,"ngIf"],[1,"btn","btn-link","btn-block","whiteBtn","fade-in-3",3,"click"]],template:function(o,c){1&o&&(Q(0,xKe,4,1,"div",0),A(1,"div",1),ye(2,"canvas",2,3),I()),2&o&&U("ngIf",c.fullScreen)},directives:[Mn],styles:[".centeredCanvas[_ngcontent-%COMP%]{padding:0;margin:auto;display:block;width:90vw}.flyout[_ngcontent-%COMP%]{position:fixed;z-index:999;top:0;right:0;width:85px;height:35px;background:none;transition:all .3s ease-in-out}.whiteBtn[_ngcontent-%COMP%]{color:#fff!important}.container[_ngcontent-%COMP%]{width:100%}"]}),l})(),CKe=(()=>{class l{constructor(){this.scenes="\u041a\u0440\u0435\u0441\u0442,\u041a\u0443\u0431,\u0418\u043a\u043e\u0441\u0430\u0445\u0435\u0434\u0440\u043e\u043d,\u0421\u0432\u0435\u0447\u0435\u043d\u0438\u0435"}ngOnInit(){}ngAfterViewInit(){}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=nt({type:l,selectors:[["app-d3d-examples"]],decls:2,vars:6,consts:[[3,"fullScreen","sceneName","requestedCanvasWidth","requestedCanvasHeight","requestedPercentage","scenes"]],template:function(o,c){1&o&&(A(0,"div"),ye(1,"app-three-logo",0),I()),2&o&&(z(1),U("fullScreen",!1)("sceneName","\u041a\u0440\u0435\u0441\u0442")("requestedCanvasWidth",100)("requestedCanvasHeight",100)("requestedPercentage",!0)("scenes",c.scenes))},directives:[Yse],styles:[""]}),l})();function wKe(l,a){if(1&l){const o=Bt();A(0,"button",2),pe("click",function(){return dt(o),J().routeToV1()}),we(1,"v1"),I()}}let Zse=(()=>{class l{constructor(o,c,u,h){this.router=o,this.autologinSvc=c,this.config=u,this.uiConfig=h}ngOnInit(){this.uiConfig.check(()=>{this.config.autoLoginApplication&&this.autologinSvc.autoLogin()})}navigateTo(o,c){this.uiConfig.ui.defaultAppRoute.setStringValue(c),this.router.navigate([c])}isActive(o){return this.router.isActive(o,!1)}onLoginCommand(o){this.autologinSvc.onLoginCommand(o)}routeToV1(){window.location.href="./v1"}routeTo3D(){this.config.requestLogin3d(!0),this.config.setShowLogin(!1)}}return l.\u0275fac=function(o){return new(o||l)(N(as),N(k5),N(kn),N($i))},l.\u0275cmp=nt({type:l,selectors:[["app-login"]],decls:9,vars:8,consts:[[1,"flyout"],["class","btn btn-link btn-block whiteBtn fade-in-3",3,"click",4,"ngIf"],[1,"btn","btn-link","btn-block","whiteBtn","fade-in-3",3,"click"],[1,"main-container","bgColor","wh100"],[1,"content-container","centeredImage"],[1,"h80",3,"svgWidth","svgHeight","scene","genName"],[1,"login-footer"],[3,"svgWidth","svgHeight","genName","onCommand"]],template:function(o,c){1&o&&(A(0,"div",0),Q(1,wKe,2,0,"button",1),A(2,"button",2),pe("click",function(){return c.routeTo3D()}),we(3,"3d"),I(),I(),A(4,"div",3),A(5,"div",4),ye(6,"app-svg-js-image",5),I(),A(7,"div",6),A(8,"app-svg-js-image",7),pe("onCommand",function(h){return c.onLoginCommand(h)}),I(),I(),I()),2&o&&(z(1),U("ngIf",c.config.showOldVersions),z(5),U("svgWidth",512)("svgHeight",512)("scene","/scenes/cross.scene.txt")("genName","Logo"),z(2),U("svgWidth",512)("svgHeight",128)("genName","Menu"))},directives:[Mn,zu],styles:[".login-footer[_ngcontent-%COMP%]{height:20vh;padding-top:0;padding-bottom:5vh;padding-left:0}.centeredImage[_ngcontent-%COMP%]{top:0;bottom:0;left:0;right:0;max-width:100%;max-height:100%;margin:auto;overflow:auto}.wh100[_ngcontent-%COMP%]{width:100vw;height:100vh}.h80[_ngcontent-%COMP%]{height:78vh;width:78vh}flyout-toggle[_ngcontent-%COMP%]{position:absolute;transform:rotate(90deg);top:50%;left:-50px;z-index:998;width:85px;height:35px;font-size:13px;background:#92C7B8;border:solid #fff 1px}.flyout[_ngcontent-%COMP%]{position:fixed;z-index:999;top:0;right:0;width:85px;height:35px;background:none;transition:all .3s ease-in-out}.whiteBtn[_ngcontent-%COMP%]{color:#fff!important}"]}),l})();const SKe=[{path:"about",component:(()=>{class l{constructor(o,c,u){this.router=o,this.config=c,this.uiConfig=u,this.menuLinksOld=null}ngOnInit(){this.config.post(()=>{this.menuLinksOld=this.uiConfig.setAppRoutes([])},0)}ngOnDestroy(){this.menuLinksOld&&(this.menuLinksOld.unsubscribe(),this.menuLinksOld=null)}get version(){return this.config.environment.version}ngAfterViewInit(){}getOnOk(){return()=>this.onOk()}onOk(){this.config.post(()=>{this.config.setShowLogin(!1)})}}return l.\u0275fac=function(o){return new(o||l)(N(as),N(kn),N($i))},l.\u0275cmp=nt({type:l,selectors:[["app-about"]],decls:2,vars:5,consts:[[1,"ftext","fade-in-3","pad","fullHeight"],[3,"enabled","name","showAnyWay","type","menuClick"]],template:function(o,c){1&o&&(A(0,"div",0),ye(1,"app-print-logo",1),I()),2&o&&(z(1),U("enabled",!0)("name","\u0414\u0435\u0432\u0438\u0441\u043a\u0438\u043d")("showAnyWay",!0)("type",0)("menuClick",c.getOnOk()))},directives:[JL],styles:[".pad[_ngcontent-%COMP%]{padding:1em}.fullHeight[_ngcontent-%COMP%]{height:calc(100vh - 60px);background-color:#fff}"]}),l})()},{path:"main",component:Zse},{path:"main-test",component:(()=>{class l{constructor(o){this.router=o,this.logText=["\u041c\u043e\u043b\u0435\u0431\u0435\u043d"].join(", "),this.extraPages=[],this.horizontalPagesCount=2,this.verticalPagesCount=2}ngOnInit(){}onPagesCount(o){this.extraPages=[];let c=this.horizontalPagesCount*this.verticalPagesCount,u=o-c,h=0;for(;u>0;)u=Math.max(0,u-c),h+=c,this.extraPages.push(h)}}return l.\u0275fac=function(o){return new(o||l)(N(as))},l.\u0275cmp=nt({type:l,selectors:[["app-main"]],decls:2,vars:9,consts:[[1,"pageBreak"],[3,"svgWidth","svgHeight","scene","genName","logoText","type","startPageIndex","horizontalPagesCount","verticalPagesCount","pagesCount"]],template:function(o,c){1&o&&(A(0,"div",0),A(1,"app-svg-js-image",1),pe("pagesCount",function(h){return c.onPagesCount(h)}),I(),I()),2&o&&(z(1),U("svgWidth",210)("svgHeight",297)("scene","/scenes/parser.scene.txt")("genName","Js")("logoText",c.logText)("type",1)("startPageIndex",0)("horizontalPagesCount",c.horizontalPagesCount)("verticalPagesCount",c.verticalPagesCount))},directives:[zu],styles:[".h512[_ngcontent-%COMP%]{width:210px;height:297px;margin:auto}.centeredImage[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto}"]}),l})()},{path:"memorials-pages-editor",component:k8e},{path:"help",component:uDe},{path:"d3examples",component:b8e},{path:"d3Dexamples",component:CKe},{path:"books",component:bUe},{path:"dynamic-components-examples",component:Qze},{path:"tests",component:D8e},{path:"memorial",component:CUe},{path:"index.html",redirectTo:"/about",pathMatch:"full"},{path:"index.night.html",redirectTo:"/about",pathMatch:"full"},{path:"",redirectTo:"/about",pathMatch:"full"}];let TKe=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({imports:[[I9.forRoot(SKe)],I9]}),l})();function Xse(){return"undefined"!=typeof window&&void 0!==window.document}function I5(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function kf(l){switch(l.length){case 0:return new Nm;case 1:return l[0];default:return new cG(l)}}function Kse(l,a,o,c,u={},h={}){const d=[],f=[];let p=-1,g=null;if(c.forEach(m=>{const v=m.offset,_=v==p,y=_&&g||{};Object.keys(m).forEach(b=>{let C=b,x=m[b];if("offset"!==b)switch(C=a.normalizePropertyName(C,d),x){case"!":x=u[b];break;case xh:x=h[b];break;default:x=a.normalizeStyleValue(b,C,x,d)}y[C]=x}),_||f.push(y),g=y,p=v}),d.length){const m="\n - ";throw new Error(`Unable to animate due to the following errors:${m}${d.join(m)}`)}return f}function P5(l,a,o,c){switch(a){case"start":l.onStart(()=>c(o&&O5(o,"start",l)));break;case"done":l.onDone(()=>c(o&&O5(o,"done",l)));break;case"destroy":l.onDestroy(()=>c(o&&O5(o,"destroy",l)))}}function O5(l,a,o){const c=o.totalTime,h=R5(l.element,l.triggerName,l.fromState,l.toState,a||l.phaseName,null==c?l.totalTime:c,!!o.disabled),d=l._data;return null!=d&&(h._data=d),h}function R5(l,a,o,c,u="",h=0,d){return{element:l,triggerName:a,fromState:o,toState:c,phaseName:u,totalTime:h,disabled:!!d}}function Al(l,a,o){let c;return l instanceof Map?(c=l.get(a),c||l.set(a,c=o)):(c=l[a],c||(c=l[a]=o)),c}function Qse(l){const a=l.indexOf(":");return[l.substring(1,a),l.substr(a+1)]}let F5=(l,a)=>!1,Jse=(l,a,o)=>[];(I5()||"undefined"!=typeof Element)&&(F5=Xse()?(l,a)=>{for(;a&&a!==document.documentElement;){if(a===l)return!0;a=a.parentNode||a.host}return!1}:(l,a)=>l.contains(a),Jse=(l,a,o)=>{if(o)return Array.from(l.querySelectorAll(a));const c=l.querySelector(a);return c?[c]:[]});let Mg=null,eoe=!1;function L5(l){Mg||(Mg=function DKe(){return"undefined"!=typeof document?document.body:null}()||{},eoe=!!Mg.style&&"WebkitAppearance"in Mg.style);let a=!0;return Mg.style&&!function MKe(l){return"ebkit"==l.substring(1,6)}(l)&&(a=l in Mg.style,!a&&eoe&&(a="Webkit"+l.charAt(0).toUpperCase()+l.substr(1)in Mg.style)),a}const N5=F5,B5=Jse;function toe(l){const a={};return Object.keys(l).forEach(o=>{const c=o.replace(/([a-z])([A-Z])/g,"$1-$2");a[c]=l[o]}),a}let noe=(()=>{class l{validateStyleProperty(o){return L5(o)}matchesElement(o,c){return!1}containsElement(o,c){return N5(o,c)}query(o,c,u){return B5(o,c,u)}computeStyle(o,c,u){return u||""}animate(o,c,u,h,d,f=[],p){return new Nm(u,h)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})(),V5=(()=>{class l{}return l.NOOP=new noe,l})();const z5="ng-enter",KD="ng-leave",QD="ng-trigger",JD=".ng-trigger",roe="ng-animating",U5=".ng-animating";function Dg(l){if("number"==typeof l)return l;const a=l.match(/^(-?[\.\d]+)(m?s)/);return!a||a.length<2?0:H5(parseFloat(a[1]),a[2])}function H5(l,a){return"s"===a?1e3*l:l}function eE(l,a,o){return l.hasOwnProperty("duration")?l:function AKe(l,a,o){let u,h=0,d="";if("string"==typeof l){const f=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return a.push(`The provided timing value "${l}" is invalid.`),{duration:0,delay:0,easing:""};u=H5(parseFloat(f[1]),f[2]);const p=f[3];null!=p&&(h=H5(parseFloat(p),f[4]));const g=f[5];g&&(d=g)}else u=l;if(!o){let f=!1,p=a.length;u<0&&(a.push("Duration values below 0 are not allowed for this animation step."),f=!0),h<0&&(a.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&a.splice(p,0,`The provided timing value "${l}" is invalid.`)}return{duration:u,delay:h,easing:d}}(l,a,o)}function m_(l,a={}){return Object.keys(l).forEach(o=>{a[o]=l[o]}),a}function Af(l,a,o={}){if(a)for(let c in l)o[c]=l[c];else m_(l,o);return o}function ooe(l,a,o){return o?a+":"+o+";":""}function aoe(l){let a="";for(let o=0;o<l.style.length;o++){const c=l.style.item(o);a+=ooe(0,c,l.style.getPropertyValue(c))}for(const o in l.style)l.style.hasOwnProperty(o)&&!o.startsWith("_")&&(a+=ooe(0,OKe(o),l.style[o]));l.setAttribute("style",a)}function eh(l,a,o){l.style&&(Object.keys(a).forEach(c=>{const u=W5(c);o&&!o.hasOwnProperty(c)&&(o[c]=l.style[u]),l.style[u]=a[c]}),I5()&&aoe(l))}function Eg(l,a){l.style&&(Object.keys(a).forEach(o=>{const c=W5(o);l.style[c]=""}),I5()&&aoe(l))}function Rx(l){return Array.isArray(l)?1==l.length?l[0]:aG(l):l}const G5=new RegExp("{{\\s*(.+?)\\s*}}","g");function loe(l){let a=[];if("string"==typeof l){let o;for(;o=G5.exec(l);)a.push(o[1]);G5.lastIndex=0}return a}function tE(l,a,o){const c=l.toString(),u=c.replace(G5,(h,d)=>{let f=a[d];return a.hasOwnProperty(d)||(o.push(`Please provide a value for the animation param ${d}`),f=""),f.toString()});return u==c?l:u}function nE(l){const a=[];let o=l.next();for(;!o.done;)a.push(o.value),o=l.next();return a}const PKe=/-+([a-z0-9])/g;function W5(l){return l.replace(PKe,(...a)=>a[1].toUpperCase())}function OKe(l){return l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function coe(l,a){return 0===l||0===a}function uoe(l,a,o){const c=Object.keys(o);if(c.length&&a.length){let h=a[0],d=[];if(c.forEach(f=>{h.hasOwnProperty(f)||d.push(f),h[f]=o[f]}),d.length)for(var u=1;u<a.length;u++){let f=a[u];d.forEach(function(p){f[p]=j5(l,p)})}}return a}function Il(l,a,o){switch(a.type){case 7:return l.visitTrigger(a,o);case 0:return l.visitState(a,o);case 1:return l.visitTransition(a,o);case 2:return l.visitSequence(a,o);case 3:return l.visitGroup(a,o);case 4:return l.visitAnimate(a,o);case 5:return l.visitKeyframes(a,o);case 6:return l.visitStyle(a,o);case 8:return l.visitReference(a,o);case 9:return l.visitAnimateChild(a,o);case 10:return l.visitAnimateRef(a,o);case 11:return l.visitQuery(a,o);case 12:return l.visitStagger(a,o);default:throw new Error(`Unable to resolve animation metadata node #${a.type}`)}}function j5(l,a){return window.getComputedStyle(l)[a]}function RKe(l,a){const o=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(c=>function FKe(l,a,o){if(":"==l[0]){const p=function LKe(l,a){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,c)=>parseFloat(c)>parseFloat(o);case":decrement":return(o,c)=>parseFloat(c)<parseFloat(o);default:return a.push(`The transition alias value "${l}" is not supported`),"* => *"}}(l,o);if("function"==typeof p)return void a.push(p);l=p}const c=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return o.push(`The provided transition expression "${l}" is not supported`),a;const u=c[1],h=c[2],d=c[3];a.push(hoe(u,d));"<"==h[0]&&!("*"==u&&"*"==d)&&a.push(hoe(d,u))}(c,o,a)):o.push(l),o}const rE=new Set(["true","1"]),sE=new Set(["false","0"]);function hoe(l,a){const o=rE.has(l)||sE.has(l),c=rE.has(a)||sE.has(a);return(u,h)=>{let d="*"==l||l==u,f="*"==a||a==h;return!d&&o&&"boolean"==typeof u&&(d=u?rE.has(l):sE.has(l)),!f&&c&&"boolean"==typeof h&&(f=h?rE.has(a):sE.has(a)),d&&f}}const NKe=new RegExp("s*:selfs*,?","g");function $5(l,a,o){return new BKe(l).build(a,o)}class BKe{constructor(a){this._driver=a}build(a,o){const c=new UKe(o);return this._resetContextStyleTimingState(c),Il(this,Rx(a),c)}_resetContextStyleTimingState(a){a.currentQuerySelector="",a.collectedStyles={},a.collectedStyles[""]={},a.currentTime=0}visitTrigger(a,o){let c=o.queryCount=0,u=o.depCount=0;const h=[],d=[];return"@"==a.name.charAt(0)&&o.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),a.definitions.forEach(f=>{if(this._resetContextStyleTimingState(o),0==f.type){const p=f,g=p.name;g.toString().split(/\s*,\s*/).forEach(m=>{p.name=m,h.push(this.visitState(p,o))}),p.name=g}else if(1==f.type){const p=this.visitTransition(f,o);c+=p.queryCount,u+=p.depCount,d.push(p)}else o.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:a.name,states:h,transitions:d,queryCount:c,depCount:u,options:null}}visitState(a,o){const c=this.visitStyle(a.styles,o),u=a.options&&a.options.params||null;if(c.containsDynamicStyles){const h=new Set,d=u||{};if(c.styles.forEach(f=>{if(oE(f)){const p=f;Object.keys(p).forEach(g=>{loe(p[g]).forEach(m=>{d.hasOwnProperty(m)||h.add(m)})})}}),h.size){const f=nE(h.values());o.errors.push(`state("${a.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:a.name,style:c,options:u?{params:u}:null}}visitTransition(a,o){o.queryCount=0,o.depCount=0;const c=Il(this,Rx(a.animation),o);return{type:1,matchers:RKe(a.expr,o.errors),animation:c,queryCount:o.queryCount,depCount:o.depCount,options:kg(a.options)}}visitSequence(a,o){return{type:2,steps:a.steps.map(c=>Il(this,c,o)),options:kg(a.options)}}visitGroup(a,o){const c=o.currentTime;let u=0;const h=a.steps.map(d=>{o.currentTime=c;const f=Il(this,d,o);return u=Math.max(u,o.currentTime),f});return o.currentTime=u,{type:3,steps:h,options:kg(a.options)}}visitAnimate(a,o){const c=function GKe(l,a){let o=null;if(l.hasOwnProperty("duration"))o=l;else if("number"==typeof l)return q5(eE(l,a).duration,0,"");const c=l;if(c.split(/\s+/).some(h=>"{"==h.charAt(0)&&"{"==h.charAt(1))){const h=q5(0,0,"");return h.dynamic=!0,h.strValue=c,h}return o=o||eE(c,a),q5(o.duration,o.delay,o.easing)}(a.timings,o.errors);o.currentAnimateTimings=c;let u,h=a.styles?a.styles:Ci({});if(5==h.type)u=this.visitKeyframes(h,o);else{let d=a.styles,f=!1;if(!d){f=!0;const g={};c.easing&&(g.easing=c.easing),d=Ci(g)}o.currentTime+=c.duration+c.delay;const p=this.visitStyle(d,o);p.isEmptyStep=f,u=p}return o.currentAnimateTimings=null,{type:4,timings:c,style:u,options:null}}visitStyle(a,o){const c=this._makeStyleAst(a,o);return this._validateStyleAst(c,o),c}_makeStyleAst(a,o){const c=[];Array.isArray(a.styles)?a.styles.forEach(d=>{"string"==typeof d?d==xh?c.push(d):o.errors.push(`The provided style string value ${d} is not allowed.`):c.push(d)}):c.push(a.styles);let u=!1,h=null;return c.forEach(d=>{if(oE(d)){const f=d,p=f.easing;if(p&&(h=p,delete f.easing),!u)for(let g in f)if(f[g].toString().indexOf("{{")>=0){u=!0;break}}}),{type:6,styles:c,easing:h,offset:a.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(a,o){const c=o.currentAnimateTimings;let u=o.currentTime,h=o.currentTime;c&&h>0&&(h-=c.duration+c.delay),a.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void o.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const p=o.collectedStyles[o.currentQuerySelector],g=p[f];let m=!0;g&&(h!=u&&h>=g.startTime&&u<=g.endTime&&(o.errors.push(`The CSS property "${f}" that exists between the times of "${g.startTime}ms" and "${g.endTime}ms" is also being animated in a parallel animation between the times of "${h}ms" and "${u}ms"`),m=!1),h=g.startTime),m&&(p[f]={startTime:h,endTime:u}),o.options&&function IKe(l,a,o){const c=a.params||{},u=loe(l);u.length&&u.forEach(h=>{c.hasOwnProperty(h)||o.push(`Unable to resolve the local animation param ${h} in the given list of values`)})}(d[f],o.options,o.errors)})})}visitKeyframes(a,o){const c={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push("keyframes() must be placed inside of a call to animate()"),c;let h=0;const d=[];let f=!1,p=!1,g=0;const m=a.steps.map(w=>{const S=this._makeStyleAst(w,o);let M=null!=S.offset?S.offset:function HKe(l){if("string"==typeof l)return null;let a=null;if(Array.isArray(l))l.forEach(o=>{if(oE(o)&&o.hasOwnProperty("offset")){const c=o;a=parseFloat(c.offset),delete c.offset}});else if(oE(l)&&l.hasOwnProperty("offset")){const o=l;a=parseFloat(o.offset),delete o.offset}return a}(S.styles),T=0;return null!=M&&(h++,T=S.offset=M),p=p||T<0||T>1,f=f||T<g,g=T,d.push(T),S});p&&o.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&o.errors.push("Please ensure that all keyframe offsets are in order");const v=a.steps.length;let _=0;h>0&&h<v?o.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==h&&(_=1/(v-1));const y=v-1,b=o.currentTime,C=o.currentAnimateTimings,x=C.duration;return m.forEach((w,S)=>{const M=_>0?S==y?1:_*S:d[S],T=M*x;o.currentTime=b+C.delay+T,C.duration=T,this._validateStyleAst(w,o),w.offset=M,c.styles.push(w)}),c}visitReference(a,o){return{type:8,animation:Il(this,Rx(a.animation),o),options:kg(a.options)}}visitAnimateChild(a,o){return o.depCount++,{type:9,options:kg(a.options)}}visitAnimateRef(a,o){return{type:10,animation:this.visitReference(a.animation,o),options:kg(a.options)}}visitQuery(a,o){const c=o.currentQuerySelector,u=a.options||{};o.queryCount++,o.currentQuery=a;const[h,d]=function VKe(l){const a=!!l.split(/\s*,\s*/).find(o=>":self"==o);return a&&(l=l.replace(NKe,"")),l=l.replace(/@\*/g,JD).replace(/@\w+/g,o=>JD+"-"+o.substr(1)).replace(/:animating/g,U5),[l,a]}(a.selector);o.currentQuerySelector=c.length?c+" "+h:h,Al(o.collectedStyles,o.currentQuerySelector,{});const f=Il(this,Rx(a.animation),o);return o.currentQuery=null,o.currentQuerySelector=c,{type:11,selector:h,limit:u.limit||0,optional:!!u.optional,includeSelf:d,animation:f,originalSelector:a.selector,options:kg(a.options)}}visitStagger(a,o){o.currentQuery||o.errors.push("stagger() can only be used inside of query()");const c="full"===a.timings?{duration:0,delay:0,easing:"full"}:eE(a.timings,o.errors,!0);return{type:12,animation:Il(this,Rx(a.animation),o),timings:c,options:null}}}class UKe{constructor(a){this.errors=a,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function oE(l){return!Array.isArray(l)&&"object"==typeof l}function kg(l){return l?(l=m_(l)).params&&(l.params=function zKe(l){return l?m_(l):null}(l.params)):l={},l}function q5(l,a,o){return{duration:l,delay:a,easing:o}}function Y5(l,a,o,c,u,h,d=null,f=!1){return{type:1,element:l,keyframes:a,preStyleProps:o,postStyleProps:c,duration:u,delay:h,totalTime:u+h,easing:d,subTimeline:f}}class aE{constructor(){this._map=new Map}get(a){return this._map.get(a)||[]}append(a,o){let c=this._map.get(a);c||this._map.set(a,c=[]),c.push(...o)}has(a){return this._map.has(a)}clear(){this._map.clear()}}const $Ke=new RegExp(":enter","g"),YKe=new RegExp(":leave","g");function Z5(l,a,o,c,u,h={},d={},f,p,g=[]){return(new ZKe).buildKeyframes(l,a,o,c,u,h,d,f,p,g)}class ZKe{buildKeyframes(a,o,c,u,h,d,f,p,g,m=[]){g=g||new aE;const v=new X5(a,o,g,u,h,m,[]);v.options=p,v.currentTimeline.setStyles([d],null,v.errors,p),Il(this,c,v);const _=v.timelines.filter(y=>y.containsAnimation());if(Object.keys(f).length){let y;for(let b=_.length-1;b>=0;b--){const C=_[b];if(C.element===o){y=C;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([f],null,v.errors,p)}return _.length?_.map(y=>y.buildKeyframes()):[Y5(o,[],[],[],0,0,"",!1)]}visitTrigger(a,o){}visitState(a,o){}visitTransition(a,o){}visitAnimateChild(a,o){const c=o.subInstructions.get(o.element);if(c){const u=o.createSubContext(a.options),h=o.currentTimeline.currentTime,d=this._visitSubInstructions(c,u,u.options);h!=d&&o.transformIntoNewTimeline(d)}o.previousNode=a}visitAnimateRef(a,o){const c=o.createSubContext(a.options);c.transformIntoNewTimeline(),this.visitReference(a.animation,c),o.transformIntoNewTimeline(c.currentTimeline.currentTime),o.previousNode=a}_visitSubInstructions(a,o,c){let h=o.currentTimeline.currentTime;const d=null!=c.duration?Dg(c.duration):null,f=null!=c.delay?Dg(c.delay):null;return 0!==d&&a.forEach(p=>{const g=o.appendInstructionToTimeline(p,d,f);h=Math.max(h,g.duration+g.delay)}),h}visitReference(a,o){o.updateOptions(a.options,!0),Il(this,a.animation,o),o.previousNode=a}visitSequence(a,o){const c=o.subContextCount;let u=o;const h=a.options;if(h&&(h.params||h.delay)&&(u=o.createSubContext(h),u.transformIntoNewTimeline(),null!=h.delay)){6==u.previousNode.type&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=lE);const d=Dg(h.delay);u.delayNextStep(d)}a.steps.length&&(a.steps.forEach(d=>Il(this,d,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>c&&u.transformIntoNewTimeline()),o.previousNode=a}visitGroup(a,o){const c=[];let u=o.currentTimeline.currentTime;const h=a.options&&a.options.delay?Dg(a.options.delay):0;a.steps.forEach(d=>{const f=o.createSubContext(a.options);h&&f.delayNextStep(h),Il(this,d,f),u=Math.max(u,f.currentTimeline.currentTime),c.push(f.currentTimeline)}),c.forEach(d=>o.currentTimeline.mergeTimelineCollectedStyles(d)),o.transformIntoNewTimeline(u),o.previousNode=a}_visitTiming(a,o){if(a.dynamic){const c=a.strValue;return eE(o.params?tE(c,o.params,o.errors):c,o.errors)}return{duration:a.duration,delay:a.delay,easing:a.easing}}visitAnimate(a,o){const c=o.currentAnimateTimings=this._visitTiming(a.timings,o),u=o.currentTimeline;c.delay&&(o.incrementTime(c.delay),u.snapshotCurrentStyles());const h=a.style;5==h.type?this.visitKeyframes(h,o):(o.incrementTime(c.duration),this.visitStyle(h,o),u.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=a}visitStyle(a,o){const c=o.currentTimeline,u=o.currentAnimateTimings;!u&&c.getCurrentStyleProperties().length&&c.forwardFrame();const h=u&&u.easing||a.easing;a.isEmptyStep?c.applyEmptyStep(h):c.setStyles(a.styles,h,o.errors,o.options),o.previousNode=a}visitKeyframes(a,o){const c=o.currentAnimateTimings,u=o.currentTimeline.duration,h=c.duration,f=o.createSubContext().currentTimeline;f.easing=c.easing,a.styles.forEach(p=>{f.forwardTime((p.offset||0)*h),f.setStyles(p.styles,p.easing,o.errors,o.options),f.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(f),o.transformIntoNewTimeline(u+h),o.previousNode=a}visitQuery(a,o){const c=o.currentTimeline.currentTime,u=a.options||{},h=u.delay?Dg(u.delay):0;h&&(6===o.previousNode.type||0==c&&o.currentTimeline.getCurrentStyleProperties().length)&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=lE);let d=c;const f=o.invokeQuery(a.selector,a.originalSelector,a.limit,a.includeSelf,!!u.optional,o.errors);o.currentQueryTotal=f.length;let p=null;f.forEach((g,m)=>{o.currentQueryIndex=m;const v=o.createSubContext(a.options,g);h&&v.delayNextStep(h),g===o.element&&(p=v.currentTimeline),Il(this,a.animation,v),v.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,v.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(d),p&&(o.currentTimeline.mergeTimelineCollectedStyles(p),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=a}visitStagger(a,o){const c=o.parentContext,u=o.currentTimeline,h=a.timings,d=Math.abs(h.duration),f=d*(o.currentQueryTotal-1);let p=d*o.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":p=f-p;break;case"full":p=c.currentStaggerTime}const m=o.currentTimeline;p&&m.delayNextStep(p);const v=m.currentTime;Il(this,a.animation,o),o.previousNode=a,c.currentStaggerTime=u.currentTime-v+(u.startTime-c.currentTimeline.startTime)}}const lE={};class X5{constructor(a,o,c,u,h,d,f,p){this._driver=a,this.element=o,this.subInstructions=c,this._enterClassName=u,this._leaveClassName=h,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new cE(this._driver,o,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(a,o){if(!a)return;const c=a;let u=this.options;null!=c.duration&&(u.duration=Dg(c.duration)),null!=c.delay&&(u.delay=Dg(c.delay));const h=c.params;if(h){let d=u.params;d||(d=this.options.params={}),Object.keys(h).forEach(f=>{(!o||!d.hasOwnProperty(f))&&(d[f]=tE(h[f],d,this.errors))})}}_copyOptions(){const a={};if(this.options){const o=this.options.params;if(o){const c=a.params={};Object.keys(o).forEach(u=>{c[u]=o[u]})}}return a}createSubContext(a=null,o,c){const u=o||this.element,h=new X5(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,c||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(a),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(a){return this.previousNode=lE,this.currentTimeline=this.currentTimeline.fork(this.element,a),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(a,o,c){const u={duration:null!=o?o:a.duration,delay:this.currentTimeline.currentTime+(null!=c?c:0)+a.delay,easing:""},h=new XKe(this._driver,a.element,a.keyframes,a.preStyleProps,a.postStyleProps,u,a.stretchStartingKeyframe);return this.timelines.push(h),u}incrementTime(a){this.currentTimeline.forwardTime(this.currentTimeline.duration+a)}delayNextStep(a){a>0&&this.currentTimeline.delayNextStep(a)}invokeQuery(a,o,c,u,h,d){let f=[];if(u&&f.push(this.element),a.length>0){a=(a=a.replace($Ke,"."+this._enterClassName)).replace(YKe,"."+this._leaveClassName);let g=this._driver.query(this.element,a,1!=c);0!==c&&(g=c<0?g.slice(g.length+c,g.length):g.slice(0,c)),f.push(...g)}return!h&&0==f.length&&d.push(`\`query("${o}")\` returned zero elements. (Use \`query("${o}", { optional: true })\` if you wish to allow this.)`),f}}class cE{constructor(a,o,c,u){this._driver=a,this.element=o,this.startTime=c,this._elementTimelineStylesLookup=u,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(a){const o=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||o?(this.forwardTime(this.currentTime+a),o&&this.snapshotCurrentStyles()):this.startTime+=a}fork(a,o){return this.applyStylesToKeyframe(),new cE(this._driver,a,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(a){this.applyStylesToKeyframe(),this.duration=a,this._loadKeyframe()}_updateStyle(a,o){this._localTimelineStyles[a]=o,this._globalTimelineStyles[a]=o,this._styleSummary[a]={time:this.currentTime,value:o}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(a){a&&(this._previousKeyframe.easing=a),Object.keys(this._globalTimelineStyles).forEach(o=>{this._backFill[o]=this._globalTimelineStyles[o]||xh,this._currentKeyframe[o]=xh}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(a,o,c,u){o&&(this._previousKeyframe.easing=o);const h=u&&u.params||{},d=function KKe(l,a){const o={};let c;return l.forEach(u=>{"*"===u?(c=c||Object.keys(a),c.forEach(h=>{o[h]=xh})):Af(u,!1,o)}),o}(a,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const p=tE(d[f],h,c);this._pendingStyles[f]=p,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:xh),this._updateStyle(f,p)})}applyStylesToKeyframe(){const a=this._pendingStyles,o=Object.keys(a);0!=o.length&&(this._pendingStyles={},o.forEach(c=>{this._currentKeyframe[c]=a[c]}),Object.keys(this._localTimelineStyles).forEach(c=>{this._currentKeyframe.hasOwnProperty(c)||(this._currentKeyframe[c]=this._localTimelineStyles[c])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(a=>{const o=this._localTimelineStyles[a];this._pendingStyles[a]=o,this._updateStyle(a,o)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const a=[];for(let o in this._currentKeyframe)a.push(o);return a}mergeTimelineCollectedStyles(a){Object.keys(a._styleSummary).forEach(o=>{const c=this._styleSummary[o],u=a._styleSummary[o];(!c||u.time>c.time)&&this._updateStyle(o,u.value)})}buildKeyframes(){this.applyStylesToKeyframe();const a=new Set,o=new Set,c=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((f,p)=>{const g=Af(f,!0);Object.keys(g).forEach(m=>{const v=g[m];"!"==v?a.add(m):v==xh&&o.add(m)}),c||(g.offset=p/this.duration),u.push(g)});const h=a.size?nE(a.values()):[],d=o.size?nE(o.values()):[];if(c){const f=u[0],p=m_(f);f.offset=0,p.offset=1,u=[f,p]}return Y5(this.element,u,h,d,this.duration,this.startTime,this.easing,!1)}}class XKe extends cE{constructor(a,o,c,u,h,d,f=!1){super(a,o,d.delay),this.keyframes=c,this.preStyleProps=u,this.postStyleProps=h,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let a=this.keyframes,{delay:o,duration:c,easing:u}=this.timings;if(this._stretchStartingKeyframe&&o){const h=[],d=c+o,f=o/d,p=Af(a[0],!1);p.offset=0,h.push(p);const g=Af(a[0],!1);g.offset=poe(f),h.push(g);const m=a.length-1;for(let v=1;v<=m;v++){let _=Af(a[v],!1);_.offset=poe((o+_.offset*c)/d),h.push(_)}c=d,o=0,u="",a=h}return Y5(this.element,a,this.preStyleProps,this.postStyleProps,c,o,u,!0)}}function poe(l,a=3){const o=Math.pow(10,a-1);return Math.round(l*o)/o}class K5{}class QKe extends K5{normalizePropertyName(a,o){return W5(a)}normalizeStyleValue(a,o,c,u){let h="";const d=c.toString().trim();if(JKe[o]&&0!==c&&"0"!==c)if("number"==typeof c)h="px";else{const f=c.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&u.push(`Please provide a CSS unit value for ${a}:${c}`)}return d+h}}const JKe=(()=>function eQe(l){const a={};return l.forEach(o=>a[o]=!0),a}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function goe(l,a,o,c,u,h,d,f,p,g,m,v,_){return{type:0,element:l,triggerName:a,isRemovalTransition:u,fromState:o,fromStyles:h,toState:c,toStyles:d,timelines:f,queriedElements:p,preStyleProps:g,postStyleProps:m,totalTime:v,errors:_}}const Q5={};class moe{constructor(a,o,c){this._triggerName=a,this.ast=o,this._stateStyles=c}match(a,o,c,u){return function tQe(l,a,o,c,u){return l.some(h=>h(a,o,c,u))}(this.ast.matchers,a,o,c,u)}buildStyles(a,o,c){const u=this._stateStyles["*"],h=this._stateStyles[a],d=u?u.buildStyles(o,c):{};return h?h.buildStyles(o,c):d}build(a,o,c,u,h,d,f,p,g,m){const v=[],_=this.ast.options&&this.ast.options.params||Q5,b=this.buildStyles(c,f&&f.params||Q5,v),C=p&&p.params||Q5,x=this.buildStyles(u,C,v),w=new Set,S=new Map,M=new Map,T="void"===u,E={params:Object.assign(Object.assign({},_),C)},k=m?[]:Z5(a,o,this.ast.animation,h,d,b,x,E,g,v);let R=0;if(k.forEach(P=>{R=Math.max(P.duration+P.delay,R)}),v.length)return goe(o,this._triggerName,c,u,T,b,x,[],[],S,M,R,v);k.forEach(P=>{const F=P.element,L=Al(S,F,{});P.preStyleProps.forEach(Y=>L[Y]=!0);const $=Al(M,F,{});P.postStyleProps.forEach(Y=>$[Y]=!0),F!==o&&w.add(F)});const D=nE(w.values());return goe(o,this._triggerName,c,u,T,b,x,k,D,S,M,R)}}class nQe{constructor(a,o,c){this.styles=a,this.defaultParams=o,this.normalizer=c}buildStyles(a,o){const c={},u=m_(this.defaultParams);return Object.keys(a).forEach(h=>{const d=a[h];null!=d&&(u[h]=d)}),this.styles.styles.forEach(h=>{if("string"!=typeof h){const d=h;Object.keys(d).forEach(f=>{let p=d[f];p.length>1&&(p=tE(p,u,o));const g=this.normalizer.normalizePropertyName(f,o);p=this.normalizer.normalizeStyleValue(f,g,p,o),c[g]=p})}}),c}}class rQe{constructor(a,o,c){this.name=a,this.ast=o,this._normalizer=c,this.transitionFactories=[],this.states={},o.states.forEach(u=>{this.states[u.name]=new nQe(u.style,u.options&&u.options.params||{},c)}),voe(this.states,"true","1"),voe(this.states,"false","0"),o.transitions.forEach(u=>{this.transitionFactories.push(new moe(a,u,this.states))}),this.fallbackTransition=function sQe(l,a,o){return new moe(l,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},a)}(a,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(a,o,c,u){return this.transitionFactories.find(d=>d.match(a,o,c,u))||null}matchStyles(a,o,c){return this.fallbackTransition.buildStyles(a,o,c)}}function voe(l,a,o){l.hasOwnProperty(a)?l.hasOwnProperty(o)||(l[o]=l[a]):l.hasOwnProperty(o)&&(l[a]=l[o])}const oQe=new aE;class aQe{constructor(a,o,c){this.bodyNode=a,this._driver=o,this._normalizer=c,this._animations={},this._playersById={},this.players=[]}register(a,o){const c=[],u=$5(this._driver,o,c);if(c.length)throw new Error(`Unable to build the animation due to the following errors: ${c.join("\n")}`);this._animations[a]=u}_buildPlayer(a,o,c){const u=a.element,h=Kse(0,this._normalizer,0,a.keyframes,o,c);return this._driver.animate(u,h,a.duration,a.delay,a.easing,[],!0)}create(a,o,c={}){const u=[],h=this._animations[a];let d;const f=new Map;if(h?(d=Z5(this._driver,o,h,z5,KD,{},{},c,oQe,u),d.forEach(m=>{const v=Al(f,m.element,{});m.postStyleProps.forEach(_=>v[_]=null)})):(u.push("The requested animation doesn't exist or has already been destroyed"),d=[]),u.length)throw new Error(`Unable to create the animation due to the following errors: ${u.join("\n")}`);f.forEach((m,v)=>{Object.keys(m).forEach(_=>{m[_]=this._driver.computeStyle(v,_,xh)})});const g=kf(d.map(m=>{const v=f.get(m.element);return this._buildPlayer(m,{},v)}));return this._playersById[a]=g,g.onDestroy(()=>this.destroy(a)),this.players.push(g),g}destroy(a){const o=this._getPlayer(a);o.destroy(),delete this._playersById[a];const c=this.players.indexOf(o);c>=0&&this.players.splice(c,1)}_getPlayer(a){const o=this._playersById[a];if(!o)throw new Error(`Unable to find the timeline player referenced by ${a}`);return o}listen(a,o,c,u){const h=R5(o,"","","");return P5(this._getPlayer(a),c,h,u),()=>{}}command(a,o,c,u){if("register"==c)return void this.register(a,u[0]);if("create"==c)return void this.create(a,o,u[0]||{});const h=this._getPlayer(a);switch(c){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(a)}}}const _oe="ng-animate-queued",J5="ng-animate-disabled",dQe=[],yoe={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fQe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ec="__ng_removed";class e8{constructor(a,o=""){this.namespaceId=o;const c=a&&a.hasOwnProperty("value");if(this.value=function vQe(l){return null!=l?l:null}(c?a.value:a),c){const h=m_(a);delete h.value,this.options=h}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(a){const o=a.params;if(o){const c=this.options.params;Object.keys(o).forEach(u=>{null==c[u]&&(c[u]=o[u])})}}}const Fx="void",t8=new e8(Fx);class pQe{constructor(a,o,c){this.id=a,this.hostElement=o,this._engine=c,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+a,tc(o,this._hostClassName)}listen(a,o,c,u){if(!this._triggers.hasOwnProperty(o))throw new Error(`Unable to listen on the animation trigger event "${c}" because the animation trigger "${o}" doesn't exist!`);if(null==c||0==c.length)throw new Error(`Unable to listen on the animation trigger "${o}" because the provided event is undefined!`);if(!function _Qe(l){return"start"==l||"done"==l}(c))throw new Error(`The provided animation trigger event "${c}" for the animation trigger "${o}" is not supported!`);const h=Al(this._elementListeners,a,[]),d={name:o,phase:c,callback:u};h.push(d);const f=Al(this._engine.statesByElement,a,{});return f.hasOwnProperty(o)||(tc(a,QD),tc(a,QD+"-"+o),f[o]=t8),()=>{this._engine.afterFlush(()=>{const p=h.indexOf(d);p>=0&&h.splice(p,1),this._triggers[o]||delete f[o]})}}register(a,o){return!this._triggers[a]&&(this._triggers[a]=o,!0)}_getTrigger(a){const o=this._triggers[a];if(!o)throw new Error(`The provided animation trigger "${a}" has not been registered!`);return o}trigger(a,o,c,u=!0){const h=this._getTrigger(o),d=new n8(this.id,o,a);let f=this._engine.statesByElement.get(a);f||(tc(a,QD),tc(a,QD+"-"+o),this._engine.statesByElement.set(a,f={}));let p=f[o];const g=new e8(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&p&&g.absorbOptions(p.options),f[o]=g,p||(p=t8),g.value!==Fx&&p.value===g.value){if(!function xQe(l,a){const o=Object.keys(l),c=Object.keys(a);if(o.length!=c.length)return!1;for(let u=0;u<o.length;u++){const h=o[u];if(!a.hasOwnProperty(h)||l[h]!==a[h])return!1}return!0}(p.params,g.params)){const C=[],x=h.matchStyles(p.value,p.params,C),w=h.matchStyles(g.value,g.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{Eg(a,x),eh(a,w)})}return}const _=Al(this._engine.playersByElement,a,[]);_.forEach(C=>{C.namespaceId==this.id&&C.triggerName==o&&C.queued&&C.destroy()});let y=h.matchTransition(p.value,g.value,a,g.params),b=!1;if(!y){if(!u)return;y=h.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:o,transition:y,fromState:p,toState:g,player:d,isFallbackTransition:b}),b||(tc(a,_oe),d.onStart(()=>{v_(a,_oe)})),d.onDone(()=>{let C=this.players.indexOf(d);C>=0&&this.players.splice(C,1);const x=this._engine.playersByElement.get(a);if(x){let w=x.indexOf(d);w>=0&&x.splice(w,1)}}),this.players.push(d),_.push(d),d}deregister(a){delete this._triggers[a],this._engine.statesByElement.forEach((o,c)=>{delete o[a]}),this._elementListeners.forEach((o,c)=>{this._elementListeners.set(c,o.filter(u=>u.name!=a))})}clearElementCache(a){this._engine.statesByElement.delete(a),this._elementListeners.delete(a);const o=this._engine.playersByElement.get(a);o&&(o.forEach(c=>c.destroy()),this._engine.playersByElement.delete(a))}_signalRemovalForInnerTriggers(a,o){const c=this._engine.driver.query(a,JD,!0);c.forEach(u=>{if(u[ec])return;const h=this._engine.fetchNamespacesByElement(u);h.size?h.forEach(d=>d.triggerLeaveAnimation(u,o,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(a,o,c,u){const h=this._engine.statesByElement.get(a),d=new Map;if(h){const f=[];if(Object.keys(h).forEach(p=>{if(d.set(p,h[p].value),this._triggers[p]){const g=this.trigger(a,p,Fx,u);g&&f.push(g)}}),f.length)return this._engine.markElementAsRemoved(this.id,a,!0,o,d),c&&kf(f).onDone(()=>this._engine.processLeaveNode(a)),!0}return!1}prepareLeaveAnimationListeners(a){const o=this._elementListeners.get(a),c=this._engine.statesByElement.get(a);if(o&&c){const u=new Set;o.forEach(h=>{const d=h.name;if(u.has(d))return;u.add(d);const p=this._triggers[d].fallbackTransition,g=c[d]||t8,m=new e8(Fx),v=new n8(this.id,d,a);this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:d,transition:p,fromState:g,toState:m,player:v,isFallbackTransition:!0})})}}removeNode(a,o){const c=this._engine;if(a.childElementCount&&this._signalRemovalForInnerTriggers(a,o),this.triggerLeaveAnimation(a,o,!0))return;let u=!1;if(c.totalAnimations){const h=c.players.length?c.playersByQueriedElement.get(a):[];if(h&&h.length)u=!0;else{let d=a;for(;d=d.parentNode;)if(c.statesByElement.get(d)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(a),u)c.markElementAsRemoved(this.id,a,!1,o);else{const h=a[ec];(!h||h===yoe)&&(c.afterFlush(()=>this.clearElementCache(a)),c.destroyInnerAnimations(a),c._onRemovalComplete(a,o))}}insertNode(a,o){tc(a,this._hostClassName)}drainQueuedTransitions(a){const o=[];return this._queue.forEach(c=>{const u=c.player;if(u.destroyed)return;const h=c.element,d=this._elementListeners.get(h);d&&d.forEach(f=>{if(f.name==c.triggerName){const p=R5(h,c.triggerName,c.fromState.value,c.toState.value);p._data=a,P5(c.player,f.phase,p,f.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):o.push(c)}),this._queue=[],o.sort((c,u)=>{const h=c.transition.ast.depCount,d=u.transition.ast.depCount;return 0==h||0==d?h-d:this._engine.driver.containsElement(c.element,u.element)?1:-1})}destroy(a){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,a)}elementContainsData(a){let o=!1;return this._elementListeners.has(a)&&(o=!0),o=!!this._queue.find(c=>c.element===a)||o,o}}class gQe{constructor(a,o,c){this.bodyNode=a,this.driver=o,this._normalizer=c,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(u,h)=>{}}_onRemovalComplete(a,o){this.onRemovalComplete(a,o)}get queuedPlayers(){const a=[];return this._namespaceList.forEach(o=>{o.players.forEach(c=>{c.queued&&a.push(c)})}),a}createNamespace(a,o){const c=new pQe(a,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(c,o):(this.newHostElements.set(o,c),this.collectEnterElement(o)),this._namespaceLookup[a]=c}_balanceNamespaceList(a,o){const c=this._namespaceList.length-1;if(c>=0){let u=!1;for(let h=c;h>=0;h--)if(this.driver.containsElement(this._namespaceList[h].hostElement,o)){this._namespaceList.splice(h+1,0,a),u=!0;break}u||this._namespaceList.splice(0,0,a)}else this._namespaceList.push(a);return this.namespacesByHostElement.set(o,a),a}register(a,o){let c=this._namespaceLookup[a];return c||(c=this.createNamespace(a,o)),c}registerTrigger(a,o,c){let u=this._namespaceLookup[a];u&&u.register(o,c)&&this.totalAnimations++}destroy(a,o){if(!a)return;const c=this._fetchNamespace(a);this.afterFlush(()=>{this.namespacesByHostElement.delete(c.hostElement),delete this._namespaceLookup[a];const u=this._namespaceList.indexOf(c);u>=0&&this._namespaceList.splice(u,1)}),this.afterFlushAnimationsDone(()=>c.destroy(o))}_fetchNamespace(a){return this._namespaceLookup[a]}fetchNamespacesByElement(a){const o=new Set,c=this.statesByElement.get(a);if(c){const u=Object.keys(c);for(let h=0;h<u.length;h++){const d=c[u[h]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&o.add(f)}}}return o}trigger(a,o,c,u){if(uE(o)){const h=this._fetchNamespace(a);if(h)return h.trigger(o,c,u),!0}return!1}insertNode(a,o,c,u){if(!uE(o))return;const h=o[ec];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;const d=this.collectedLeaveElements.indexOf(o);d>=0&&this.collectedLeaveElements.splice(d,1)}if(a){const d=this._fetchNamespace(a);d&&d.insertNode(o,c)}u&&this.collectEnterElement(o)}collectEnterElement(a){this.collectedEnterElements.push(a)}markElementAsDisabled(a,o){o?this.disabledNodes.has(a)||(this.disabledNodes.add(a),tc(a,J5)):this.disabledNodes.has(a)&&(this.disabledNodes.delete(a),v_(a,J5))}removeNode(a,o,c,u){if(uE(o)){const h=a?this._fetchNamespace(a):null;if(h?h.removeNode(o,u):this.markElementAsRemoved(a,o,!1,u),c){const d=this.namespacesByHostElement.get(o);d&&d.id!==a&&d.removeNode(o,u)}}else this._onRemovalComplete(o,u)}markElementAsRemoved(a,o,c,u,h){this.collectedLeaveElements.push(o),o[ec]={namespaceId:a,setForRemoval:u,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:h}}listen(a,o,c,u,h){return uE(o)?this._fetchNamespace(a).listen(o,c,u,h):()=>{}}_buildInstruction(a,o,c,u,h){return a.transition.build(this.driver,a.element,a.fromState.value,a.toState.value,c,u,a.fromState.options,a.toState.options,o,h)}destroyInnerAnimations(a){let o=this.driver.query(a,JD,!0);o.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(a,U5,!0),o.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(a){const o=this.playersByElement.get(a);o&&o.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(a){const o=this.playersByQueriedElement.get(a);o&&o.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(a=>{if(this.players.length)return kf(this.players).onDone(()=>a());a()})}processLeaveNode(a){var o;const c=a[ec];if(c&&c.setForRemoval){if(a[ec]=yoe,c.namespaceId){this.destroyInnerAnimations(a);const u=this._fetchNamespace(c.namespaceId);u&&u.clearElementCache(a)}this._onRemovalComplete(a,c.setForRemoval)}(null===(o=a.classList)||void 0===o?void 0:o.contains(J5))&&this.markElementAsDisabled(a,!1),this.driver.query(a,".ng-animate-disabled",!0).forEach(u=>{this.markElementAsDisabled(u,!1)})}flush(a=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,u)=>this._balanceNamespaceList(c,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)tc(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{o=this._flushAnimations(c,a)}finally{for(let u=0;u<c.length;u++)c[u]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],o.length?kf(o).onDone(()=>{c.forEach(u=>u())}):c.forEach(u=>u())}}reportError(a){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${a.join("\n")}`)}_flushAnimations(a,o){const c=new aE,u=[],h=new Map,d=[],f=new Map,p=new Map,g=new Map,m=new Set;this.disabledNodes.forEach(B=>{m.add(B);const G=this.driver.query(B,".ng-animate-queued",!0);for(let H=0;H<G.length;H++)m.add(G[H])});const v=this.bodyNode,_=Array.from(this.statesByElement.keys()),y=Coe(_,this.collectedEnterElements),b=new Map;let C=0;y.forEach((B,G)=>{const H=z5+C++;b.set(G,H),B.forEach(j=>tc(j,H))});const x=[],w=new Set,S=new Set;for(let B=0;B<this.collectedLeaveElements.length;B++){const G=this.collectedLeaveElements[B],H=G[ec];H&&H.setForRemoval&&(x.push(G),w.add(G),H.hasAnimation?this.driver.query(G,".ng-star-inserted",!0).forEach(j=>w.add(j)):S.add(G))}const M=new Map,T=Coe(_,Array.from(w));T.forEach((B,G)=>{const H=KD+C++;M.set(G,H),B.forEach(j=>tc(j,H))}),a.push(()=>{y.forEach((B,G)=>{const H=b.get(G);B.forEach(j=>v_(j,H))}),T.forEach((B,G)=>{const H=M.get(G);B.forEach(j=>v_(j,H))}),x.forEach(B=>{this.processLeaveNode(B)})});const E=[],k=[];for(let B=this._namespaceList.length-1;B>=0;B--)this._namespaceList[B].drainQueuedTransitions(o).forEach(H=>{const j=H.player,W=H.element;if(E.push(j),this.collectedEnterElements.length){const Me=W[ec];if(Me&&Me.setForMove){if(Me.previousTriggersValues&&Me.previousTriggersValues.has(H.triggerName)){const He=Me.previousTriggersValues.get(H.triggerName),ke=this.statesByElement.get(H.element);ke&&ke[H.triggerName]&&(ke[H.triggerName].value=He)}return void j.destroy()}}const Z=!v||!this.driver.containsElement(v,W),K=M.get(W),ae=b.get(W),re=this._buildInstruction(H,c,ae,K,Z);if(re.errors&&re.errors.length)return void k.push(re);if(Z)return j.onStart(()=>Eg(W,re.fromStyles)),j.onDestroy(()=>eh(W,re.toStyles)),void u.push(j);if(H.isFallbackTransition)return j.onStart(()=>Eg(W,re.fromStyles)),j.onDestroy(()=>eh(W,re.toStyles)),void u.push(j);const xe=[];re.timelines.forEach(Me=>{Me.stretchStartingKeyframe=!0,this.disabledNodes.has(Me.element)||xe.push(Me)}),re.timelines=xe,c.append(W,re.timelines),d.push({instruction:re,player:j,element:W}),re.queriedElements.forEach(Me=>Al(f,Me,[]).push(j)),re.preStyleProps.forEach((Me,He)=>{const ke=Object.keys(Me);if(ke.length){let Ie=p.get(He);Ie||p.set(He,Ie=new Set),ke.forEach(qe=>Ie.add(qe))}}),re.postStyleProps.forEach((Me,He)=>{const ke=Object.keys(Me);let Ie=g.get(He);Ie||g.set(He,Ie=new Set),ke.forEach(qe=>Ie.add(qe))})});if(k.length){const B=[];k.forEach(G=>{B.push(`@${G.triggerName} has failed due to:\n`),G.errors.forEach(H=>B.push(`- ${H}\n`))}),E.forEach(G=>G.destroy()),this.reportError(B)}const R=new Map,D=new Map;d.forEach(B=>{const G=B.element;c.has(G)&&(D.set(G,G),this._beforeAnimationBuild(B.player.namespaceId,B.instruction,R))}),u.forEach(B=>{const G=B.element;this._getPreviousPlayers(G,!1,B.namespaceId,B.triggerName,null).forEach(j=>{Al(R,G,[]).push(j),j.destroy()})});const P=x.filter(B=>Soe(B,p,g)),F=new Map;xoe(F,this.driver,S,g,xh).forEach(B=>{Soe(B,p,g)&&P.push(B)});const $=new Map;y.forEach((B,G)=>{xoe($,this.driver,new Set(B),p,"!")}),P.forEach(B=>{const G=F.get(B),H=$.get(B);F.set(B,Object.assign(Object.assign({},G),H))});const Y=[],O=[],V={};d.forEach(B=>{const{element:G,player:H,instruction:j}=B;if(c.has(G)){if(m.has(G))return H.onDestroy(()=>eh(G,j.toStyles)),H.disabled=!0,H.overrideTotalTime(j.totalTime),void u.push(H);let W=V;if(D.size>1){let K=G;const ae=[];for(;K=K.parentNode;){const re=D.get(K);if(re){W=re;break}ae.push(K)}ae.forEach(re=>D.set(re,W))}const Z=this._buildAnimation(H.namespaceId,j,R,h,$,F);if(H.setRealPlayer(Z),W===V)Y.push(H);else{const K=this.playersByElement.get(W);K&&K.length&&(H.parentPlayer=kf(K)),u.push(H)}}else Eg(G,j.fromStyles),H.onDestroy(()=>eh(G,j.toStyles)),O.push(H),m.has(G)&&u.push(H)}),O.forEach(B=>{const G=h.get(B.element);if(G&&G.length){const H=kf(G);B.setRealPlayer(H)}}),u.forEach(B=>{B.parentPlayer?B.syncPlayerEvents(B.parentPlayer):B.destroy()});for(let B=0;B<x.length;B++){const G=x[B],H=G[ec];if(v_(G,KD),H&&H.hasAnimation)continue;let j=[];if(f.size){let Z=f.get(G);Z&&Z.length&&j.push(...Z);let K=this.driver.query(G,U5,!0);for(let ae=0;ae<K.length;ae++){let re=f.get(K[ae]);re&&re.length&&j.push(...re)}}const W=j.filter(Z=>!Z.destroyed);W.length?yQe(this,G,W):this.processLeaveNode(G)}return x.length=0,Y.forEach(B=>{this.players.push(B),B.onDone(()=>{B.destroy();const G=this.players.indexOf(B);this.players.splice(G,1)}),B.play()}),Y}elementContainsData(a,o){let c=!1;const u=o[ec];return u&&u.setForRemoval&&(c=!0),this.playersByElement.has(o)&&(c=!0),this.playersByQueriedElement.has(o)&&(c=!0),this.statesByElement.has(o)&&(c=!0),this._fetchNamespace(a).elementContainsData(o)||c}afterFlush(a){this._flushFns.push(a)}afterFlushAnimationsDone(a){this._whenQuietFns.push(a)}_getPreviousPlayers(a,o,c,u,h){let d=[];if(o){const f=this.playersByQueriedElement.get(a);f&&(d=f)}else{const f=this.playersByElement.get(a);if(f){const p=!h||h==Fx;f.forEach(g=>{g.queued||!p&&g.triggerName!=u||d.push(g)})}}return(c||u)&&(d=d.filter(f=>!(c&&c!=f.namespaceId||u&&u!=f.triggerName))),d}_beforeAnimationBuild(a,o,c){const h=o.element,d=o.isRemovalTransition?void 0:a,f=o.isRemovalTransition?void 0:o.triggerName;for(const p of o.timelines){const g=p.element,m=g!==h,v=Al(c,g,[]);this._getPreviousPlayers(g,m,d,f,o.toState).forEach(y=>{const b=y.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),y.destroy(),v.push(y)})}Eg(h,o.fromStyles)}_buildAnimation(a,o,c,u,h,d){const f=o.triggerName,p=o.element,g=[],m=new Set,v=new Set,_=o.timelines.map(b=>{const C=b.element;m.add(C);const x=C[ec];if(x&&x.removedBeforeQueried)return new Nm(b.duration,b.delay);const w=C!==p,S=function bQe(l){const a=[];return woe(l,a),a}((c.get(C)||dQe).map(R=>R.getRealPlayer())).filter(R=>!!R.element&&R.element===C),M=h.get(C),T=d.get(C),E=Kse(0,this._normalizer,0,b.keyframes,M,T),k=this._buildPlayer(b,E,S);if(b.subTimeline&&u&&v.add(C),w){const R=new n8(a,f,C);R.setRealPlayer(k),g.push(R)}return k});g.forEach(b=>{Al(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function mQe(l,a,o){let c;if(l instanceof Map){if(c=l.get(a),c){if(c.length){const u=c.indexOf(o);c.splice(u,1)}0==c.length&&l.delete(a)}}else if(c=l[a],c){if(c.length){const u=c.indexOf(o);c.splice(u,1)}0==c.length&&delete l[a]}return c}(this.playersByQueriedElement,b.element,b))}),m.forEach(b=>tc(b,roe));const y=kf(_);return y.onDestroy(()=>{m.forEach(b=>v_(b,roe)),eh(p,o.toStyles)}),v.forEach(b=>{Al(u,b,[]).push(y)}),y}_buildPlayer(a,o,c){return o.length>0?this.driver.animate(a.element,o,a.duration,a.delay,a.easing,c):new Nm(a.duration,a.delay)}}class n8{constructor(a,o,c){this.namespaceId=a,this.triggerName=o,this.element=c,this._player=new Nm,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(a){this._containsRealPlayer||(this._player=a,Object.keys(this._queuedCallbacks).forEach(o=>{this._queuedCallbacks[o].forEach(c=>P5(a,o,void 0,c))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(a.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(a){this.totalTime=a}syncPlayerEvents(a){const o=this._player;o.triggerCallback&&a.onStart(()=>o.triggerCallback("start")),a.onDone(()=>this.finish()),a.onDestroy(()=>this.destroy())}_queueEvent(a,o){Al(this._queuedCallbacks,a,[]).push(o)}onDone(a){this.queued&&this._queueEvent("done",a),this._player.onDone(a)}onStart(a){this.queued&&this._queueEvent("start",a),this._player.onStart(a)}onDestroy(a){this.queued&&this._queueEvent("destroy",a),this._player.onDestroy(a)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(a){this.queued||this._player.setPosition(a)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(a){const o=this._player;o.triggerCallback&&o.triggerCallback(a)}}function uE(l){return l&&1===l.nodeType}function boe(l,a){const o=l.style.display;return l.style.display=null!=a?a:"none",o}function xoe(l,a,o,c,u){const h=[];o.forEach(p=>h.push(boe(p)));const d=[];c.forEach((p,g)=>{const m={};p.forEach(v=>{const _=m[v]=a.computeStyle(g,v,u);(!_||0==_.length)&&(g[ec]=fQe,d.push(g))}),l.set(g,m)});let f=0;return o.forEach(p=>boe(p,h[f++])),d}function Coe(l,a){const o=new Map;if(l.forEach(f=>o.set(f,[])),0==a.length)return o;const u=new Set(a),h=new Map;function d(f){if(!f)return 1;let p=h.get(f);if(p)return p;const g=f.parentNode;return p=o.has(g)?g:u.has(g)?1:d(g),h.set(f,p),p}return a.forEach(f=>{const p=d(f);1!==p&&o.get(p).push(f)}),o}function tc(l,a){var o;null===(o=l.classList)||void 0===o||o.add(a)}function v_(l,a){var o;null===(o=l.classList)||void 0===o||o.remove(a)}function yQe(l,a,o){kf(o).onDone(()=>l.processLeaveNode(a))}function woe(l,a){for(let o=0;o<l.length;o++){const c=l[o];c instanceof cG?woe(c.players,a):a.push(c)}}function Soe(l,a,o){const c=o.get(l);if(!c)return!1;let u=a.get(l);return u?c.forEach(h=>u.add(h)):a.set(l,c),o.delete(l),!0}class hE{constructor(a,o,c){this.bodyNode=a,this._driver=o,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(u,h)=>{},this._transitionEngine=new gQe(a,o,c),this._timelineEngine=new aQe(a,o,c),this._transitionEngine.onRemovalComplete=(u,h)=>this.onRemovalComplete(u,h)}registerTrigger(a,o,c,u,h){const d=a+"-"+u;let f=this._triggerCache[d];if(!f){const p=[],g=$5(this._driver,h,p);if(p.length)throw new Error(`The animation trigger "${u}" has failed to build due to the following errors:\n - ${p.join("\n - ")}`);f=function iQe(l,a,o){return new rQe(l,a,o)}(u,g,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(o,u,f)}register(a,o){this._transitionEngine.register(a,o)}destroy(a,o){this._transitionEngine.destroy(a,o)}onInsert(a,o,c,u){this._transitionEngine.insertNode(a,o,c,u)}onRemove(a,o,c,u){this._transitionEngine.removeNode(a,o,u||!1,c)}disableAnimations(a,o){this._transitionEngine.markElementAsDisabled(a,o)}process(a,o,c,u){if("@"==c.charAt(0)){const[h,d]=Qse(c);this._timelineEngine.command(h,o,d,u)}else this._transitionEngine.trigger(a,o,c,u)}listen(a,o,c,u,h){if("@"==c.charAt(0)){const[d,f]=Qse(c);return this._timelineEngine.listen(d,o,f,h)}return this._transitionEngine.listen(a,o,c,u,h)}flush(a=-1){this._transitionEngine.flush(a)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Toe(l,a){let o=null,c=null;return Array.isArray(a)&&a.length?(o=i8(a[0]),a.length>1&&(c=i8(a[a.length-1]))):a&&(o=i8(a)),o||c?new CQe(l,o,c):null}let CQe=(()=>{class l{constructor(o,c,u){this._element=o,this._startStyles=c,this._endStyles=u,this._state=0;let h=l.initialStylesByElement.get(o);h||l.initialStylesByElement.set(o,h={}),this._initialStyles=h}start(){this._state<1&&(this._startStyles&&eh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(eh(this._element,this._initialStyles),this._endStyles&&(eh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(Eg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Eg(this._element,this._endStyles),this._endStyles=null),eh(this._element,this._initialStyles),this._state=3)}}return l.initialStylesByElement=new WeakMap,l})();function i8(l){let a=null;const o=Object.keys(l);for(let c=0;c<o.length;c++){const u=o[c];wQe(u)&&(a=a||{},a[u]=l[u])}return a}function wQe(l){return"display"===l||"position"===l}const Doe="animationend";class MQe{constructor(a,o,c,u,h,d,f){this._element=a,this._name=o,this._duration=c,this._delay=u,this._easing=h,this._fillMode=d,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=p=>this._handleCallback(p)}apply(){(function DQe(l,a){const o=s8(l,"").trim();let c=0;o.length&&(c=function kQe(l,a){let o=0;for(let c=0;c<l.length;c++)l.charAt(c)===a&&o++;return o}(o,",")+1,a=`${o}, ${a}`),dE(l,"",a)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Aoe(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Eoe(this._element,this._name,"paused")}resume(){Eoe(this._element,this._name,"running")}setPosition(a){const o=koe(this._element,this._name);this._position=a*this._duration,dE(this._element,"Delay",`-${this._position}ms`,o)}getPosition(){return this._position}_handleCallback(a){const o=a._ngTestManualTimestamp||Date.now(),c=1e3*parseFloat(a.elapsedTime.toFixed(3));a.animationName==this._name&&Math.max(o-this._startTime,0)>=this._delay&&c>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Aoe(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function EQe(l,a){const c=s8(l,"").split(","),u=r8(c,a);u>=0&&(c.splice(u,1),dE(l,"",c.join(",")))}(this._element,this._name))}}function Eoe(l,a,o){dE(l,"PlayState",o,koe(l,a))}function koe(l,a){const o=s8(l,"");return o.indexOf(",")>0?r8(o.split(","),a):r8([o],a)}function r8(l,a){for(let o=0;o<l.length;o++)if(l[o].indexOf(a)>=0)return o;return-1}function Aoe(l,a,o){o?l.removeEventListener(Doe,a):l.addEventListener(Doe,a)}function dE(l,a,o,c){const u="animation"+a;if(null!=c){const h=l.style[u];if(h.length){const d=h.split(",");d[c]=o,o=d.join(",")}}l.style[u]=o}function s8(l,a){return l.style["animation"+a]||""}class Ioe{constructor(a,o,c,u,h,d,f,p){this.element=a,this.keyframes=o,this.animationName=c,this._duration=u,this._delay=h,this._finalStyles=f,this._specialStyles=p,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=d||"linear",this.totalTime=u+h,this._buildStyler()}onStart(a){this._onStartFns.push(a)}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(a=>a()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(a){this._styler.setPosition(a)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new MQe(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(a){const o="start"==a?this._onStartFns:this._onDoneFns;o.forEach(c=>c()),o.length=0}beforeDestroy(){this.init();const a={};if(this.hasStarted()){const o=this._state>=3;Object.keys(this._finalStyles).forEach(c=>{"offset"!=c&&(a[c]=o?this._finalStyles[c]:j5(this.element,c))})}this.currentSnapshot=a}}class PQe extends Nm{constructor(a,o){super(),this.element=a,this._startingStyles={},this.__initialized=!1,this._styles=toe(o)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(a=>{this._startingStyles[a]=this.element.style[a]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(a=>this.element.style.setProperty(a,this._styles[a])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(a=>{const o=this._startingStyles[a];o?this.element.style.setProperty(a,o):this.element.style.removeProperty(a)}),this._startingStyles=null,super.destroy())}}class Ooe{constructor(){this._count=0}validateStyleProperty(a){return L5(a)}matchesElement(a,o){return!1}containsElement(a,o){return N5(a,o)}query(a,o,c){return B5(a,o,c)}computeStyle(a,o,c){return window.getComputedStyle(a)[o]}buildKeyframeElement(a,o,c){c=c.map(f=>toe(f));let u=`@keyframes ${o} {\n`,h="";c.forEach(f=>{h=" ";const p=parseFloat(f.offset);u+=`${h}${100*p}% {\n`,h+=" ",Object.keys(f).forEach(g=>{const m=f[g];switch(g){case"offset":return;case"easing":return void(m&&(u+=`${h}animation-timing-function: ${m};\n`));default:return void(u+=`${h}${g}: ${m};\n`)}}),u+=`${h}}\n`}),u+="}\n";const d=document.createElement("style");return d.textContent=u,d}animate(a,o,c,u,h,d=[],f){const p=d.filter(x=>x instanceof Ioe),g={};coe(c,u)&&p.forEach(x=>{let w=x.currentSnapshot;Object.keys(w).forEach(S=>g[S]=w[S])});const m=function FQe(l){let a={};return l&&(Array.isArray(l)?l:[l]).forEach(c=>{Object.keys(c).forEach(u=>{"offset"==u||"easing"==u||(a[u]=c[u])})}),a}(o=uoe(a,o,g));if(0==c)return new PQe(a,m);const v="gen_css_kf_"+this._count++,_=this.buildKeyframeElement(a,v,o);(function RQe(l){var a;const o=null===(a=l.getRootNode)||void 0===a?void 0:a.call(l);return"undefined"!=typeof ShadowRoot&&o instanceof ShadowRoot?o:document.head})(a).appendChild(_);const b=Toe(a,o),C=new Ioe(a,o,v,c,u,h,m,b);return C.onDestroy(()=>function LQe(l){l.parentNode.removeChild(l)}(_)),C}}class Foe{constructor(a,o,c,u){this.element=a,this.keyframes=o,this.options=c,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const a=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,a,this.options),this._finalKeyframe=a.length?a[a.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(a,o,c){return a.animate(o,c)}onStart(a){this._onStartFns.push(a)}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(a=>a()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}setPosition(a){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=a*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const a={};if(this.hasStarted()){const o=this._finalKeyframe;Object.keys(o).forEach(c=>{"offset"!=c&&(a[c]=this._finished?o[c]:j5(this.element,c))})}this.currentSnapshot=a}triggerCallback(a){const o="start"==a?this._onStartFns:this._onDoneFns;o.forEach(c=>c()),o.length=0}}class NQe{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Loe().toString()),this._cssKeyframesDriver=new Ooe}validateStyleProperty(a){return L5(a)}matchesElement(a,o){return!1}containsElement(a,o){return N5(a,o)}query(a,o,c){return B5(a,o,c)}computeStyle(a,o,c){return window.getComputedStyle(a)[o]}overrideWebAnimationsSupport(a){this._isNativeImpl=a}animate(a,o,c,u,h,d=[],f){if(!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(a,o,c,u,h,d);const m={duration:c,delay:u,fill:0==u?"both":"forwards"};h&&(m.easing=h);const v={},_=d.filter(b=>b instanceof Foe);coe(c,u)&&_.forEach(b=>{let C=b.currentSnapshot;Object.keys(C).forEach(x=>v[x]=C[x])});const y=Toe(a,o=uoe(a,o=o.map(b=>Af(b,!1)),v));return new Foe(a,o,m,y)}}function Loe(){return Xse()&&Element.prototype.animate||{}}let VQe=(()=>{class l extends oG{constructor(o,c){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(c.body,{id:"0",encapsulation:oc.None,styles:[],data:{animation:[]}})}build(o){const c=this._nextAnimationId.toString();this._nextAnimationId++;const u=Array.isArray(o)?aG(o):o;return Noe(this._renderer,null,c,"register",[u]),new zQe(c,this._renderer)}}return l.\u0275fac=function(o){return new(o||l)(Fe(Cm),Fe(Vr))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class zQe extends class qye{}{constructor(a,o){super(),this._id=a,this._renderer=o}create(a,o){return new UQe(this._id,a,o||{},this._renderer)}}class UQe{constructor(a,o,c,u){this.id=a,this.element=o,this._renderer=u,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",c)}_listen(a,o){return this._renderer.listen(this.element,`@@${this.id}:${a}`,o)}_command(a,...o){return Noe(this._renderer,this.element,this.id,a,o)}onDone(a){this._listen("done",a)}onStart(a){this._listen("start",a)}onDestroy(a){this._listen("destroy",a)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(a){this._command("setPosition",a)}getPosition(){var a,o;return null!==(o=null===(a=this._renderer.engine.players[+this.id])||void 0===a?void 0:a.getPosition())&&void 0!==o?o:0}}function Noe(l,a,o,c,u){return l.setProperty(a,`@@${o}:${c}`,u)}const Boe="@.disabled";let HQe=(()=>{class l{constructor(o,c,u){this.delegate=o,this.engine=c,this._zone=u,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),c.onRemovalComplete=(h,d)=>{const f=null==d?void 0:d.parentNode(h);f&&d.removeChild(f,h)}}createRenderer(o,c){const h=this.delegate.createRenderer(o,c);if(!(o&&c&&c.data&&c.data.animation)){let m=this._rendererCache.get(h);return m||(m=new Voe("",h,this.engine),this._rendererCache.set(h,m)),m}const d=c.id,f=c.id+"-"+this._currentId;this._currentId++,this.engine.register(f,o);const p=m=>{Array.isArray(m)?m.forEach(p):this.engine.registerTrigger(d,f,o,m.name,m)};return c.data.animation.forEach(p),new GQe(this,f,h,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,c,u){o>=0&&o<this._microtaskId?this._zone.run(()=>c(u)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(h=>{const[d,f]=h;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([c,u]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return l.\u0275fac=function(o){return new(o||l)(Fe(Cm),Fe(hE),Fe(sr))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class Voe{constructor(a,o,c){this.namespaceId=a,this.delegate=o,this.engine=c,this.destroyNode=this.delegate.destroyNode?u=>o.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(a,o){return this.delegate.createElement(a,o)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}appendChild(a,o){this.delegate.appendChild(a,o),this.engine.onInsert(this.namespaceId,o,a,!1)}insertBefore(a,o,c,u=!0){this.delegate.insertBefore(a,o,c),this.engine.onInsert(this.namespaceId,o,a,u)}removeChild(a,o,c){this.engine.onRemove(this.namespaceId,o,this.delegate,c)}selectRootElement(a,o){return this.delegate.selectRootElement(a,o)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,o,c,u){this.delegate.setAttribute(a,o,c,u)}removeAttribute(a,o,c){this.delegate.removeAttribute(a,o,c)}addClass(a,o){this.delegate.addClass(a,o)}removeClass(a,o){this.delegate.removeClass(a,o)}setStyle(a,o,c,u){this.delegate.setStyle(a,o,c,u)}removeStyle(a,o,c){this.delegate.removeStyle(a,o,c)}setProperty(a,o,c){"@"==o.charAt(0)&&o==Boe?this.disableAnimations(a,!!c):this.delegate.setProperty(a,o,c)}setValue(a,o){this.delegate.setValue(a,o)}listen(a,o,c){return this.delegate.listen(a,o,c)}disableAnimations(a,o){this.engine.disableAnimations(a,o)}}class GQe extends Voe{constructor(a,o,c,u){super(o,c,u),this.factory=a,this.namespaceId=o}setProperty(a,o,c){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Boe?this.disableAnimations(a,c=void 0===c||!!c):this.engine.process(this.namespaceId,a,o.substr(1),c):this.delegate.setProperty(a,o,c)}listen(a,o,c){if("@"==o.charAt(0)){const u=function WQe(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(a);let h=o.substr(1),d="";return"@"!=h.charAt(0)&&([h,d]=function jQe(l){const a=l.indexOf(".");return[l.substring(0,a),l.substr(a+1)]}(h)),this.engine.listen(this.namespaceId,u,h,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,c,f)})}return this.delegate.listen(a,o,c)}}let $Qe=(()=>{class l extends hE{constructor(o,c,u){super(o.body,c,u)}ngOnDestroy(){this.flush()}}return l.\u0275fac=function(o){return new(o||l)(Fe(Vr),Fe(V5),Fe(K5))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();const zoe=new Un("AnimationModuleType"),Uoe=[{provide:oG,useClass:VQe},{provide:K5,useFactory:function YQe(){return new QKe}},{provide:hE,useClass:$Qe},{provide:Cm,useFactory:function ZQe(l,a,o){return new HQe(l,a,o)},deps:[cw,hE,sr]}],Hoe=[{provide:V5,useFactory:function qQe(){return function BQe(){return"function"==typeof Loe()}()?new NQe:new Ooe}},{provide:zoe,useValue:"BrowserAnimations"},...Uoe],XQe=[{provide:V5,useClass:noe},{provide:zoe,useValue:"NoopAnimations"},...Uoe];let KQe=(()=>{class l{static withConfig(o){return{ngModule:l,providers:o.disableAnimations?XQe:Hoe}}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l}),l.\u0275inj=_n({providers:Hoe,imports:[C7]}),l})();function QQe(l,a){if(1&l){const o=Bt();A(0,"div",11),pe("click",function(){return dt(o),J().$implicit.onButtonClick()}),A(1,"button",12),we(2),I(),I()}if(2&l){const o=J().$implicit;z(2),Sn(o.buttonText)}}function JQe(l,a){if(1&l&&(A(0,"div",6),A(1,"div",7),ye(2,"clr-icon",8),I(),A(3,"div",9),we(4),I(),Q(5,QQe,3,1,"div",10),I()),2&l){const o=a.$implicit;z(4),Ai(" ",o.text," "),z(1),U("ngIf",o.buttonText)}}function eJe(l,a){if(1&l&&(A(0,"div",1),A(1,"div",2),Q(2,JQe,6,2,"div",3),I(),A(3,"button",4),ye(4,"clr-icon",5),I(),I()),2&l){const o=J();z(2),U("ngForOf",o.config.alerts)}}let tJe=(()=>{class l{constructor(o){this.config=o,this.id=0}isShowType(o){return this.config.showType==o}ngOnInit(){let o=++this.id,u=()=>{o===this.id&&(this.update(),this.config.post(u,1e3))};this.config.post(u,1e3)}ngOnDestroy(){++this.id}update(){!this.config.alerts||0==this.config.alerts.length||this.config.alerts.map(o=>o).forEach(o=>{o.update()||o.remove()})}}return l.\u0275fac=function(o){return new(o||l)(N(kn))},l.\u0275cmp=nt({type:l,selectors:[["app-alerts"]],decls:1,vars:1,consts:[["class","alert alert-app-level alert-info","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-app-level","alert-info"],[1,"alert-items"],["class","alert-item static",4,"ngFor","ngForOf"],["type","button","aria-label","Close",1,"close"],["aria-hidden","true","shape","close"],[1,"alert-item","static"],[1,"alert-icon-wrapper"],["shape","exclamation-circle",1,"alert-icon"],[1,"alert-text"],["class","alert-actions",3,"click",4,"ngIf"],[1,"alert-actions",3,"click"],[1,"btn","alert-action"]],template:function(o,c){1&o&&Q(0,eJe,5,1,"div",0),2&o&&U("ngIf",c.config.alerts.length>0)},directives:[Mn,or,Aa,MP],styles:[""]}),l})();const nJe=function(l){return{"nav-link":!0,"nav-icon":!0,active:l}},iJe=function(l,a){return{"has-badge":l,"has-alert":a}};function rJe(l,a){if(1&l){const o=Bt();A(0,"a",7),pe("click",function(u){const d=dt(o).$implicit;return J(2).navigateTo(u,d)}),ye(1,"clr-icon",1),I()}if(2&l){const o=a.$implicit,c=J(2);U("ngClass",Ss(3,nJe,c.isActive(o))),z(1),U("ngClass",gc(5,iJe,o.hasBadge,o.hasAlert)),Je("shape",o.shape)}}const sJe=function(l){return{header:!0,"header-6":!0,bgmaroon:l,"no-print":!0}};function oJe(l,a){if(1&l){const o=Bt();A(0,"header"),A(1,"div",3),pe("click",function(){return dt(o),J().onRootRoute()}),ye(2,"app-svg-js-image",4),I(),A(3,"div",5),Q(4,rJe,2,8,"a",6),I(),I()}if(2&l){const o=J();hA(Ss(6,sJe,o.isRedTheme())),z(2),U("svgWidth",128)("svgHeight",32)("logoText",o.getTitle()),z(2),U("ngForOf",o.getLinks())}}const aJe=function(l){return{"main-container":l}},lJe=function(l){return{"content-container":l}},cJe=function(l){return{"content-area":l}};let uJe=(()=>{class l{constructor(o,c,u){this.router=o,this.config=c,this.uiConfig=u,this.names=[Wi.builder().setLink("https://deviskin.github.io").setName("Deviskin")]}get applicationInfo(){return this.config.getApplication()}ngOnInit(){}navigateTo(o,c){c.onClick?c.onClick(c):(this.uiConfig.ui.defaultAppRoute.setStringValue(c.link),this.router.navigate([c.link]))}navigateToMain(o){this.router.navigate(["/main"])}isActive(o){return o.isActive?o.isActive(o):this.router.isActive(o.link,!1)}isUpperMenuEnabled(){return!0}isLeftBarEnabled(){return!1}isRightBarEnabled(){return!1}isFooterBarEnabled(){return!1}onCompiler(){this.router.navigate(["/compiler"])}isRedTheme(){return!1}onRootRoute(){this.config.setShowLogin(!1)}getTitle(){return this.applicationInfo.name}getLinks(){return this.uiConfig.appRoutes||this.applicationInfo.routes}isMainContainerEnabled(){return this.uiConfig.mainContainerEnabled}}return l.\u0275fac=function(o){return new(o||l)(N(as),N(kn),N($i))},l.\u0275cmp=nt({type:l,selectors:[["app-default"]],decls:6,vars:10,consts:[[1,"clr-example"],[3,"ngClass"],[3,"class",4,"ngIf"],[1,"logotypeImage","cursor",3,"click"],[3,"svgWidth","svgHeight","logoText"],[1,"header-nav"],["href","javascript://",3,"ngClass","click",4,"ngFor","ngForOf"],["href","javascript://",3,"ngClass","click"]],template:function(o,c){1&o&&(A(0,"div",0),A(1,"div",1),Q(2,oJe,5,8,"header",2),A(3,"div",1),A(4,"div",1),ye(5,"router-outlet"),I(),I(),I(),I()),2&o&&(z(1),U("ngClass",Ss(4,aJe,c.isMainContainerEnabled())),z(1),U("ngIf",c.isUpperMenuEnabled()),z(1),U("ngClass",Ss(6,lJe,c.isMainContainerEnabled())),z(1),U("ngClass",Ss(8,cJe,c.isMainContainerEnabled())))},directives:[Gi,Mn,zu,or,Aa,AI],styles:[".logotypeImage[_ngcontent-%COMP%]{width:150px;height:100%;padding-right:10px;padding-left:10px}.clr-example[_ngcontent-%COMP%]{padding:0;overflow:hidden}.clr-example[_ngcontent-%COMP%]   .example-aside-section[_ngcontent-%COMP%]{width:20%;padding:24px;border:1px solid}.clr-example[_ngcontent-%COMP%]   .example-footer[_ngcontent-%COMP%]{height:40px;padding-top:0;padding-bottom:10px;padding-left:24px}"]}),l})();function hJe(l,a){1&l&&ye(0,"app-default")}function dJe(l,a){1&l&&ye(0,"app-login")}function fJe(l,a){1&l&&ye(0,"app-three-logo",2),2&l&&U("fullScreen",!0)}let pJe=(()=>{class l{constructor(o,c,u){this.router=o,this.config=c,this.themeSvc=u}isShowType(o){return this.config.showType==o}ngOnInit(){this.themeSvc.applyTheme()}}return l.\u0275fac=function(o){return new(o||l)(N(as),N(kn),N(Vu))},l.\u0275cmp=nt({type:l,selectors:[["app-root"]],decls:4,vars:3,consts:[[4,"ngIf"],["class","fullSize",3,"fullScreen",4,"ngIf"],[1,"fullSize",3,"fullScreen"]],template:function(o,c){1&o&&(ye(0,"app-alerts"),Q(1,hJe,1,0,"app-default",0),Q(2,dJe,1,0,"app-login",0),Q(3,fJe,1,1,"app-three-logo",1)),2&o&&(z(1),U("ngIf",c.isShowType("normal")),z(1),U("ngIf",c.isShowType("login")),z(1),U("ngIf",c.isShowType("login3d")))},directives:[tJe,Mn,uJe,Zse,Yse],styles:[".fullSize[_ngcontent-%COMP%]{width:100vw;height:100vh}"]}),l})();const th=void 0,mJe=["ru",[["AM","PM"],th,th],th,[["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],th,["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],[["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]],[["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",th,th,th],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","\u043d\u0435\xa0\u0447\u0438\u0441\u043b\u043e",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RUB","\u20bd","\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",{GEL:[th,"\u10da"],PHP:[th,"\u20b1"],RON:[th,"L"],RUB:["\u20bd"],RUR:["\u0440."],THB:["\u0e3f"],TMT:["\u0422\u041c\u0422"],TWD:["NT$"],UAH:["\u20b4"],XXX:["XXXX"]},"ltr",function gJe(l){const o=Math.floor(Math.abs(l)),c=l.toString().replace(/^[^.]*\.?/,"").length;return 0===c&&o%10==1&&o%100!=11?1:0===c&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?3:0===c&&o%10==0||0===c&&o%10===Math.floor(o%10)&&o%10>=5&&o%10<=9||0===c&&o%100===Math.floor(o%100)&&o%100>=11&&o%100<=14?4:5}];let _Je=(()=>{class l{constructor(o){this.config=o}intercept(o,c){let u=o.headers.set("X-Requested-With","XMLHttpRequest");this.config.authBody&&(u=u.set("Authorization","Basic "+this.config.authBody),u=u.set(this.config.authIdKey,this.config.authId));const h=new Hh({encoder:new yJe,fromString:o.params.toString()});return o=o.clone({withCredentials:!0,headers:u,params:h}),c.handle(o)}}return l.\u0275fac=function(o){return new(o||l)(Fe(kn))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac}),l})();class yJe{encodeKey(a){return encodeURIComponent(a)}encodeValue(a){return encodeURIComponent(a)}decodeKey(a){return decodeURIComponent(a)}decodeValue(a){return decodeURIComponent(a)}}function bJe(l,a){1&l&&(A(0,"span"),we(1,"\u0421\u043e\u0431\u0440\u0430\u043d\u043e "),I())}function xJe(l,a){1&l&&ye(0,"clr-progress-bar",3),2&l&&U("clrValue",J().progressValue)}function CJe(l,a){if(1&l){const o=Bt();A(0,"clr-toggle-container",4),A(1,"label"),we(2,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:"),I(),A(3,"clr-toggle-wrapper"),A(4,"input",5),pe("ngModelChange",function(u){return dt(o),J().v.rawValue=u}),I(),A(5,"label"),we(6),I(),I(),I()}if(2&l){const o=J();z(4),U("name",o.v.name)("value",o.v.name)("ngModel",o.v.rawValue),z(2),Sn(o.v.description)}}let wJe=(()=>{class l{constructor(o,c,u){this.config=o,this.uiConfig=c,this.epubBuilder=u,this.progressValue=0,this.lastEvent="",this.fileEntries=[],this.workerSvc=Ho.builder(),this.bookServerSvc=new tL((h,d)=>{this.config.post(()=>{this.bookSvc.post(h,d)})}),this.bookSvc=new gN((h,d)=>{this.config.post(()=>{this.workerSvc.enabled()?this.workerSvc.sendMessage(d):this.bookServerSvc.post(h,d)})}),this.allBookslines=[],this.allBooksChapters=[],this.allBooksEmptyLines=[],this.allBooksNames=[]}get printEpubData(){return this.data}get v(){return this.uiConfig.ui.memorialPrintAllBook}get text(){return this.data&&this.data.text?this.data.text:""}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){this.workerSvc.enabled()?this.workerSvc.setOnMessage(o=>{this.config.post(()=>{this.bookSvc.post(null,o)})}):this.bookServerSvc.setCacheService(new eL(new Ew)),this.bookSvc.setConfig(this.config).setUIConfig(this.uiConfig),this.bookSvc.onPageLoadEvent.setOnEventHandler(o=>{this.onPageCompleted()}),this.printEpubData.printEventsEmitter.subscribe({next:o=>{this.onPrintEpubEvent(o)}})}onClick(o){this.data.onClick&&(this.data.onClick(this.data),o.stopPropagation())}getClasses(){return{}}clearAllItems(){this.fileEntries=[],this.allBookslines=[],this.allBooksChapters=[],this.allBooksEmptyLines=[],this.allBooksNames=[]}onPageCompleted(){this.config.post(()=>{var o,c;if(this.bookSvc.bookChapter){this.allBooksNames.length||(this.allBooksNames=[...this.bookSvc.bookLanguages]);let u=this.bookSvc.getChapterTitleName();this.allBooksChapters.push(u||this.bookSvc.bookChapter.name),this.allBooksEmptyLines.push(this.bookSvc.books.map(f=>f.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445\u0421\u0442\u0440\u043e\u043a)),this.allBookslines.push(this.bookSvc.books.map((f,p)=>{var g,m;let v=[],_=(b,C)=>b?b[C]:null;var b;return((null==(b=null===(m=_(null===(g=_(f.\u0441\u0442\u0440\u043e\u043a\u0438,0))||void 0===g?void 0:g.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b,0))||void 0===m?void 0:m.classes)?void 0:b.red)||(null==b?void 0:b.redDark))&&++this.allBooksEmptyLines[this.allBooksEmptyLines.length-1][p],f.\u0441\u0442\u0440\u043e\u043a\u0438.forEach(b=>{v.push(b.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b.map(C=>C.text).join(""))}),v}));let h=""+(+this.bookSvc.bookChapter.name+1),d=this.printEpubData.showSettings&&this.uiConfig.ui.memorialPrintAllBook.getBooleanValue();if(d&&null!=(null===(o=this.bookSvc.bookContent[0].parsed)||void 0===o?void 0:o.content.find((f,p,g)=>f.name==h)))this.lastEvent="loaded chapter: "+h,this.progressValue=Math.floor(+this.bookSvc.bookChapter.name/(null===(c=this.bookSvc.bookContent[0].parsed)||void 0===c?void 0:c.content.length)*100),this.config.post(()=>{this.bookSvc.loadPage(h)},1);else if(d){this.lastEvent="stopped after chapter: "+h,this.progressValue=100;let f=this.printEpubData.bookTitle;if(d){let p=f.indexOf(":");p>0&&(f=f.substring(0,p))}this.epubBuilder.generate(hv.builder().setName(f).setPsalomName("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c VZ_KU"==this.bookSvc.bookName?"\u041f\u0441\u0430\u043b\u043e\u043c":"\u0413\u043b\u0430\u0432\u0430").setAllBooks(this.allBookslines).setBookNames(this.allBooksNames).setAllBooksChapters(this.allBooksChapters).setEmptyFirstLines(this.allBooksEmptyLines).setShowLineIndexes(this.bookSvc.bookName.includes("VZ")||this.bookSvc.bookName.includes("NZ"))).then(p=>{this.printEpubData.printEventsEmitter.emit("stop")},p=>{this.config.addAlert(yr.of(`\u041e\u0448\u0438\u0431\u043a\u0430: ${p}`,"\u041e\u041a",15)),this.printEpubData.printEventsEmitter.emit("stop")})}else if(this.printEpubData.printerHandler){let f=mL.builder();this.printEpubData.printerHandler.print(f);let p=0,g=()=>{if(p>=f.requestsPack.length)this.progressValue=100,f.requestsPack.length>=1?this.epubBuilder.generate(f.requestsPack[0],!1,!1,!0).then(v=>{this.printEpubData.printEventsEmitter.emit("stop")}):this.printEpubData.printEventsEmitter.emit("stop");else{let m=p++;this.progressValue=Math.floor((m+1)/f.requestsPack.length*100);let v=f.requestsPack[m];this.epubBuilder.generate(v,0==m,v.showMiddleContent,!1).then(_=>{this.config.post(()=>g())})}};g()}else this.printEpubData.printEventsEmitter.emit("stop")}else this.printEpubData.printEventsEmitter.emit("stop")})}onPrintEpubEvent(o){"print"===(this.lastEvent=o,o)?(this.clearAllItems(),this.progressValue=1,this.bookSvc.loadBookByName(this.printEpubData.bookName,this.printEpubData.bookLanguages,this.uiConfig.ui.memorialPrintAllBook.getBooleanValue()?"1":this.printEpubData.bookChapter)):this.progressValue=0}}return l.\u0275fac=function(o){return new(o||l)(N(kn),N($i),N(Yee))},l.\u0275cmp=nt({type:l,selectors:[["app-dynamic-print-epub"]],inputs:{data:"data"},decls:6,vars:4,consts:[[4,"ngIf"],["clrMax","100","clrSuccess","","clrLabeled","",3,"clrValue",4,"ngIf"],["clrInline","",4,"ngIf"],["clrMax","100","clrSuccess","","clrLabeled","",3,"clrValue"],["clrInline",""],["type","checkbox","clrToggle","",3,"name","value","ngModel","ngModelChange"]],template:function(o,c){1&o&&(A(0,"div"),A(1,"div"),Q(2,bJe,2,0,"span",0),we(3),I(),Q(4,xJe,1,1,"clr-progress-bar",1),I(),Q(5,CJe,7,4,"clr-toggle-container",2)),2&o&&(z(2),U("ngIf",c.progressValue>0),z(1),Ai('"',c.printEpubData.bookTitle,'":'),z(1),U("ngIf",c.progressValue>0),z(1),U("ngIf",c.printEpubData.showSettings))},directives:[Mn,FP,Zw,ls,kd,_u,Ad,Ao,go],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]}),l})();!function pme(l,a,o){(function Ade(l,a,o){"string"!=typeof a&&(o=a,a=l[sn.LocaleId]),a=a.toLowerCase().replace(/_/g,"-"),ym[a]=l,o&&(ym[a][sn.ExtraData]=o)})(l,a,o)}(mJe,"ru",[[["\u043f\u043e\u043b\u043d.","\u043f\u043e\u043b\u0434.","\u0443\u0442\u0440\u0430","\u0434\u043d\u044f","\u0432\u0435\u0447.","\u043d\u043e\u0447\u0438"],["\u043f\u043e\u043b\u043d.","\u043f\u043e\u043b\u0434.","\u0443\u0442\u0440\u0430","\u0434\u043d\u044f","\u0432\u0435\u0447\u0435\u0440\u0430","\u043d\u043e\u0447\u0438"],["\u043f\u043e\u043b\u043d\u043e\u0447\u044c","\u043f\u043e\u043b\u0434\u0435\u043d\u044c","\u0443\u0442\u0440\u0430","\u0434\u043d\u044f","\u0432\u0435\u0447\u0435\u0440\u0430","\u043d\u043e\u0447\u0438"]],[["\u043f\u043e\u043b\u043d.","\u043f\u043e\u043b\u0434.","\u0443\u0442\u0440\u043e","\u0434\u0435\u043d\u044c","\u0432\u0435\u0447.","\u043d\u043e\u0447\u044c"],void 0,["\u043f\u043e\u043b\u043d\u043e\u0447\u044c","\u043f\u043e\u043b\u0434\u0435\u043d\u044c","\u0443\u0442\u0440\u043e","\u0434\u0435\u043d\u044c","\u0432\u0435\u0447\u0435\u0440","\u043d\u043e\u0447\u044c"]],["00:00","12:00",["04:00","12:00"],["12:00","18:00"],["18:00","22:00"],["22:00","04:00"]]]);let SJe=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=Cn({type:l,bootstrap:[pJe]}),l.\u0275inj=_n({providers:[kn,Vu,bF,Yp,YF,$i,VF,Iee,Pee,fv,Ho,cte,ute,WL,Gb,Jee,cv,qee,$ee,uv,dL,jee,jL,nte,ste,ote,QL,rte,iM,rM,gv,bo,Yee,k5,UI,[{provide:FF,useClass:_Je,multi:!0},{provide:uu,useValue:"ru"}]],imports:[[C7,TKe,cDe,KQe,j5e,Md]]}),l})();ME(cf,[JL,Mn,Gi,oM,bS,b1,h0,CS,yS,xS,ate,Aa,sM,tN,or,Wh,a0,l0,wJe],[]),ME(bL,[Aa,Gi,Mn,cf],[]),gu.production&&function Qpe(){IH=!1}(),g0e().bootstrapModule(SJe).catch(l=>console.error(l))},650:qo=>{qo.exports=function De(Ct,Be,le){function be(Pe,Ne){if(!Be[Pe]){if(!Ct[Pe]){if(ne)return ne(Pe,!0);var Le=new Error("Cannot find module '"+Pe+"'");throw Le.code="MODULE_NOT_FOUND",Le}var oe=Be[Pe]={exports:{}};Ct[Pe][0].call(oe.exports,function(Ce){return be(Ct[Pe][1][Ce]||Ce)},oe,oe.exports,De,Ct,Be,le)}return Be[Pe].exports}for(var ne=void 0,me=0;me<le.length;me++)be(le[me]);return be}({1:[function(De,Ct,Be){"use strict";var le=De("./utils"),be=De("./support"),ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";Be.encode=function(me){for(var Pe,Ne,Re,oe,Ce,Te,se=[],fe=0,_e=me.length,ze=_e,_t="string"!==le.getTypeOf(me);fe<me.length;)ze=_e-fe,Re=_t?(Pe=me[fe++],Ne=fe<_e?me[fe++]:0,fe<_e?me[fe++]:0):(Pe=me.charCodeAt(fe++),Ne=fe<_e?me.charCodeAt(fe++):0,fe<_e?me.charCodeAt(fe++):0),oe=(3&Pe)<<4|Ne>>4,Ce=1<ze?(15&Ne)<<2|Re>>6:64,Te=2<ze?63&Re:64,se.push(ne.charAt(Pe>>2)+ne.charAt(oe)+ne.charAt(Ce)+ne.charAt(Te));return se.join("")},Be.decode=function(me){var Pe,Ne,Re,Le,oe,Ce,Te=0,se=0;if("data:"===me.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var _e,ze=3*(me=me.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(me.charAt(me.length-1)===ne.charAt(64)&&ze--,me.charAt(me.length-2)===ne.charAt(64)&&ze--,ze%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_e=be.uint8array?new Uint8Array(0|ze):new Array(0|ze);Te<me.length;)Pe=ne.indexOf(me.charAt(Te++))<<2|(Le=ne.indexOf(me.charAt(Te++)))>>4,Ne=(15&Le)<<4|(oe=ne.indexOf(me.charAt(Te++)))>>2,Re=(3&oe)<<6|(Ce=ne.indexOf(me.charAt(Te++))),_e[se++]=Pe,64!==oe&&(_e[se++]=Ne),64!==Ce&&(_e[se++]=Re);return _e}},{"./support":30,"./utils":32}],2:[function(De,Ct,Be){"use strict";var le=De("./external"),be=De("./stream/DataWorker"),ne=De("./stream/Crc32Probe"),me=De("./stream/DataLengthProbe");function Pe(Ne,Re,Le,oe,Ce){this.compressedSize=Ne,this.uncompressedSize=Re,this.crc32=Le,this.compression=oe,this.compressedContent=Ce}Pe.prototype={getContentWorker:function(){var Ne=new be(le.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new me("data_length")),Re=this;return Ne.on("end",function(){if(this.streamInfo.data_length!==Re.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),Ne},getCompressedWorker:function(){return new be(le.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},Pe.createWorkerFrom=function(Ne,Re,Le){return Ne.pipe(new ne).pipe(new me("uncompressedSize")).pipe(Re.compressWorker(Le)).pipe(new me("compressedSize")).withStreamInfo("compression",Re)},Ct.exports=Pe},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(De,Ct,Be){"use strict";var le=De("./stream/GenericWorker");Be.STORE={magic:"\0\0",compressWorker:function(be){return new le("STORE compression")},uncompressWorker:function(){return new le("STORE decompression")}},Be.DEFLATE=De("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(De,Ct,Be){"use strict";var le=De("./utils"),be=function(){for(var ne,me=[],Pe=0;Pe<256;Pe++){ne=Pe;for(var Ne=0;Ne<8;Ne++)ne=1&ne?3988292384^ne>>>1:ne>>>1;me[Pe]=ne}return me}();Ct.exports=function(ne,me){return void 0!==ne&&ne.length?"string"!==le.getTypeOf(ne)?function(Pe,Ne,Re,Le){var oe=be,Ce=0+Re;Pe^=-1;for(var Te=0;Te<Ce;Te++)Pe=Pe>>>8^oe[255&(Pe^Ne[Te])];return-1^Pe}(0|me,ne,ne.length):function(Pe,Ne,Re,Le){var oe=be,Ce=0+Re;Pe^=-1;for(var Te=0;Te<Ce;Te++)Pe=Pe>>>8^oe[255&(Pe^Ne.charCodeAt(Te))];return-1^Pe}(0|me,ne,ne.length):0}},{"./utils":32}],5:[function(De,Ct,Be){"use strict";Be.base64=!1,Be.binary=!1,Be.dir=!1,Be.createFolders=!0,Be.date=null,Be.compression=null,Be.compressionOptions=null,Be.comment=null,Be.unixPermissions=null,Be.dosPermissions=null},{}],6:[function(De,Ct,Be){"use strict";var le;le="undefined"!=typeof Promise?Promise:De("lie"),Ct.exports={Promise:le}},{lie:37}],7:[function(De,Ct,Be){"use strict";var le="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,be=De("pako"),ne=De("./utils"),me=De("./stream/GenericWorker"),Pe=le?"uint8array":"array";function Ne(Re,Le){me.call(this,"FlateWorker/"+Re),this._pako=null,this._pakoAction=Re,this._pakoOptions=Le,this.meta={}}Be.magic="\b\0",ne.inherits(Ne,me),Ne.prototype.processChunk=function(Re){this.meta=Re.meta,null===this._pako&&this._createPako(),this._pako.push(ne.transformTo(Pe,Re.data),!1)},Ne.prototype.flush=function(){me.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},Ne.prototype.cleanUp=function(){me.prototype.cleanUp.call(this),this._pako=null},Ne.prototype._createPako=function(){this._pako=new be[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var Re=this;this._pako.onData=function(Le){Re.push({data:Le,meta:Re.meta})}},Be.compressWorker=function(Re){return new Ne("Deflate",Re)},Be.uncompressWorker=function(){return new Ne("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(De,Ct,Be){"use strict";function le(oe,Ce){var Te,se="";for(Te=0;Te<Ce;Te++)se+=String.fromCharCode(255&oe),oe>>>=8;return se}function be(oe,Ce,Te,se,fe,_e){var ze,_t,We=oe.file,Ot=oe.compression,St=_e!==Pe.utf8encode,qt=ne.transformTo("string",_e(We.name)),ht=ne.transformTo("string",Pe.utf8encode(We.name)),jt=We.comment,Bn=ne.transformTo("string",_e(jt)),Ee=ne.transformTo("string",Pe.utf8encode(jt)),mt=ht.length!==We.name.length,X=Ee.length!==jt.length,yt="",ei="",Vt="",dn=We.dir,Gt=We.date,Wn={crc32:0,compressedSize:0,uncompressedSize:0};Ce&&!Te||(Wn.crc32=oe.crc32,Wn.compressedSize=oe.compressedSize,Wn.uncompressedSize=oe.uncompressedSize);var st=0;Ce&&(st|=8),St||!mt&&!X||(st|=2048);var Qt,Ti,tt=0,pt=0;dn&&(tt|=16),"UNIX"===fe?(pt=798,tt|=(Ti=Qt=We.unixPermissions,Qt||(Ti=dn?16893:33204),(65535&Ti)<<16)):(pt=20,tt|=function(Qt){return 63&(Qt||0)}(We.dosPermissions)),ze=Gt.getUTCHours(),ze<<=6,ze|=Gt.getUTCMinutes(),ze<<=5,ze|=Gt.getUTCSeconds()/2,_t=Gt.getUTCFullYear()-1980,_t<<=4,_t|=Gt.getUTCMonth()+1,_t<<=5,_t|=Gt.getUTCDate(),mt&&(ei=le(1,1)+le(Ne(qt),4)+ht,yt+="up"+le(ei.length,2)+ei),X&&(Vt=le(1,1)+le(Ne(Bn),4)+Ee,yt+="uc"+le(Vt.length,2)+Vt);var un="";return un+="\n\0",un+=le(st,2),un+=Ot.magic,un+=le(ze,2),un+=le(_t,2),un+=le(Wn.crc32,4),un+=le(Wn.compressedSize,4),un+=le(Wn.uncompressedSize,4),un+=le(qt.length,2),un+=le(yt.length,2),{fileRecord:Re.LOCAL_FILE_HEADER+un+qt+yt,dirRecord:Re.CENTRAL_FILE_HEADER+le(pt,2)+un+le(Bn.length,2)+"\0\0\0\0"+le(tt,4)+le(se,4)+qt+yt+Bn}}var ne=De("../utils"),me=De("../stream/GenericWorker"),Pe=De("../utf8"),Ne=De("../crc32"),Re=De("../signature");function Le(oe,Ce,Te,se){me.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=Ce,this.zipPlatform=Te,this.encodeFileName=se,this.streamFiles=oe,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}ne.inherits(Le,me),Le.prototype.push=function(oe){var Ce=oe.meta.percent||0,Te=this.entriesCount,se=this._sources.length;this.accumulate?this.contentBuffer.push(oe):(this.bytesWritten+=oe.data.length,me.prototype.push.call(this,{data:oe.data,meta:{currentFile:this.currentFile,percent:Te?(Ce+100*(Te-se-1))/Te:100}}))},Le.prototype.openedSource=function(oe){this.currentSourceOffset=this.bytesWritten,this.currentFile=oe.file.name;var Ce=this.streamFiles&&!oe.file.dir;if(Ce){var Te=be(oe,Ce,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:Te.fileRecord,meta:{percent:0}})}else this.accumulate=!0},Le.prototype.closedSource=function(oe){this.accumulate=!1;var se,Ce=this.streamFiles&&!oe.file.dir,Te=be(oe,Ce,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(Te.dirRecord),Ce)this.push({data:(se=oe,Re.DATA_DESCRIPTOR+le(se.crc32,4)+le(se.compressedSize,4)+le(se.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:Te.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},Le.prototype.flush=function(){for(var oe=this.bytesWritten,Ce=0;Ce<this.dirRecords.length;Ce++)this.push({data:this.dirRecords[Ce],meta:{percent:100}});var fe,_e,ze,Ot,se=(fe=this.dirRecords.length,_e=this.bytesWritten-oe,ze=oe,Ot=ne.transformTo("string",(0,this.encodeFileName)(this.zipComment)),Re.CENTRAL_DIRECTORY_END+"\0\0\0\0"+le(fe,2)+le(fe,2)+le(_e,4)+le(ze,4)+le(Ot.length,2)+Ot);this.push({data:se,meta:{percent:100}})},Le.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},Le.prototype.registerPrevious=function(oe){this._sources.push(oe);var Ce=this;return oe.on("data",function(Te){Ce.processChunk(Te)}),oe.on("end",function(){Ce.closedSource(Ce.previous.streamInfo),Ce._sources.length?Ce.prepareNextSource():Ce.end()}),oe.on("error",function(Te){Ce.error(Te)}),this},Le.prototype.resume=function(){return!!me.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},Le.prototype.error=function(oe){var Ce=this._sources;if(!me.prototype.error.call(this,oe))return!1;for(var Te=0;Te<Ce.length;Te++)try{Ce[Te].error(oe)}catch(se){}return!0},Le.prototype.lock=function(){me.prototype.lock.call(this);for(var oe=this._sources,Ce=0;Ce<oe.length;Ce++)oe[Ce].lock()},Ct.exports=Le},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(De,Ct,Be){"use strict";var le=De("../compressions"),be=De("./ZipFileWorker");Be.generateWorker=function(ne,me,Pe){var Ne=new be(me.streamFiles,Pe,me.platform,me.encodeFileName),Re=0;try{ne.forEach(function(Le,oe){Re++;var Ce=function(_e,ze){var _t=_e||ze,We=le[_t];if(!We)throw new Error(_t+" is not a valid compression method !");return We}(oe.options.compression,me.compression),se=oe.dir,fe=oe.date;oe._compressWorker(Ce,oe.options.compressionOptions||me.compressionOptions||{}).withStreamInfo("file",{name:Le,dir:se,date:fe,comment:oe.comment||"",unixPermissions:oe.unixPermissions,dosPermissions:oe.dosPermissions}).pipe(Ne)}),Ne.entriesCount=Re}catch(Le){Ne.error(Le)}return Ne}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(De,Ct,Be){"use strict";function le(){if(!(this instanceof le))return new le;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var be=new le;for(var ne in this)"function"!=typeof this[ne]&&(be[ne]=this[ne]);return be}}(le.prototype=De("./object")).loadAsync=De("./load"),le.support=De("./support"),le.defaults=De("./defaults"),le.version="3.7.1",le.loadAsync=function(be,ne){return(new le).loadAsync(be,ne)},le.external=De("./external"),Ct.exports=le},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(De,Ct,Be){"use strict";var le=De("./utils"),be=De("./external"),ne=De("./utf8"),me=De("./zipEntries"),Pe=De("./stream/Crc32Probe"),Ne=De("./nodejsUtils");function Re(Le){return new be.Promise(function(oe,Ce){var Te=Le.decompressed.getContentWorker().pipe(new Pe);Te.on("error",function(se){Ce(se)}).on("end",function(){Te.streamInfo.crc32!==Le.decompressed.crc32?Ce(new Error("Corrupted zip : CRC32 mismatch")):oe()}).resume()})}Ct.exports=function(Le,oe){var Ce=this;return oe=le.extend(oe||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:ne.utf8decode}),Ne.isNode&&Ne.isStream(Le)?be.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):le.prepareContent("the loaded zip file",Le,!0,oe.optimizedBinaryString,oe.base64).then(function(Te){var se=new me(oe);return se.load(Te),se}).then(function(Te){var se=[be.Promise.resolve(Te)],fe=Te.files;if(oe.checkCRC32)for(var _e=0;_e<fe.length;_e++)se.push(Re(fe[_e]));return be.Promise.all(se)}).then(function(Te){for(var se=Te.shift(),fe=se.files,_e=0;_e<fe.length;_e++){var ze=fe[_e];Ce.file(ze.fileNameStr,ze.decompressed,{binary:!0,optimizedBinaryString:!0,date:ze.date,dir:ze.dir,comment:ze.fileCommentStr.length?ze.fileCommentStr:null,unixPermissions:ze.unixPermissions,dosPermissions:ze.dosPermissions,createFolders:oe.createFolders})}return se.zipComment.length&&(Ce.comment=se.zipComment),Ce})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(De,Ct,Be){"use strict";var le=De("../utils"),be=De("../stream/GenericWorker");function ne(me,Pe){be.call(this,"Nodejs stream input adapter for "+me),this._upstreamEnded=!1,this._bindStream(Pe)}le.inherits(ne,be),ne.prototype._bindStream=function(me){var Pe=this;(this._stream=me).pause(),me.on("data",function(Ne){Pe.push({data:Ne,meta:{percent:0}})}).on("error",function(Ne){Pe.isPaused?this.generatedError=Ne:Pe.error(Ne)}).on("end",function(){Pe.isPaused?Pe._upstreamEnded=!0:Pe.end()})},ne.prototype.pause=function(){return!!be.prototype.pause.call(this)&&(this._stream.pause(),!0)},ne.prototype.resume=function(){return!!be.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},Ct.exports=ne},{"../stream/GenericWorker":28,"../utils":32}],13:[function(De,Ct,Be){"use strict";var le=De("readable-stream").Readable;function be(ne,me,Pe){le.call(this,me),this._helper=ne;var Ne=this;ne.on("data",function(Re,Le){Ne.push(Re)||Ne._helper.pause(),Pe&&Pe(Le)}).on("error",function(Re){Ne.emit("error",Re)}).on("end",function(){Ne.push(null)})}De("../utils").inherits(be,le),be.prototype._read=function(){this._helper.resume()},Ct.exports=be},{"../utils":32,"readable-stream":16}],14:[function(De,Ct,Be){"use strict";Ct.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(le,be){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(le,be);if("number"==typeof le)throw new Error('The "data" argument must not be a number');return new Buffer(le,be)},allocBuffer:function(le){if(Buffer.alloc)return Buffer.alloc(le);var be=new Buffer(le);return be.fill(0),be},isBuffer:function(le){return Buffer.isBuffer(le)},isStream:function(le){return le&&"function"==typeof le.on&&"function"==typeof le.pause&&"function"==typeof le.resume}}},{}],15:[function(De,Ct,Be){"use strict";function le(We,Ot,St){var qt,ht=ne.getTypeOf(Ot),jt=ne.extend(St||{},Ne);jt.date=jt.date||new Date,null!==jt.compression&&(jt.compression=jt.compression.toUpperCase()),"string"==typeof jt.unixPermissions&&(jt.unixPermissions=parseInt(jt.unixPermissions,8)),jt.unixPermissions&&16384&jt.unixPermissions&&(jt.dir=!0),jt.dosPermissions&&16&jt.dosPermissions&&(jt.dir=!0),jt.dir&&(We=fe(We)),jt.createFolders&&(qt=se(We))&&_e.call(this,qt,!0),St&&void 0!==St.binary||(jt.binary=!("string"===ht&&!1===jt.binary&&!1===jt.base64)),(Ot instanceof Re&&0===Ot.uncompressedSize||jt.dir||!Ot||0===Ot.length)&&(jt.base64=!1,jt.binary=!0,Ot="",jt.compression="STORE",ht="string");var Ee;Ee=Ot instanceof Re||Ot instanceof me?Ot:Ce.isNode&&Ce.isStream(Ot)?new Te(We,Ot):ne.prepareContent(We,Ot,jt.binary,jt.optimizedBinaryString,jt.base64);var mt=new Le(We,Ee,jt);this.files[We]=mt}var be=De("./utf8"),ne=De("./utils"),me=De("./stream/GenericWorker"),Pe=De("./stream/StreamHelper"),Ne=De("./defaults"),Re=De("./compressedObject"),Le=De("./zipObject"),oe=De("./generate"),Ce=De("./nodejsUtils"),Te=De("./nodejs/NodejsStreamInputAdapter"),se=function(We){"/"===We.slice(-1)&&(We=We.substring(0,We.length-1));var Ot=We.lastIndexOf("/");return 0<Ot?We.substring(0,Ot):""},fe=function(We){return"/"!==We.slice(-1)&&(We+="/"),We},_e=function(We,Ot){return Ot=void 0!==Ot?Ot:Ne.createFolders,We=fe(We),this.files[We]||le.call(this,We,null,{dir:!0,createFolders:Ot}),this.files[We]};function ze(We){return"[object RegExp]"===Object.prototype.toString.call(We)}var _t={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(We){var Ot,St,qt;for(Ot in this.files)qt=this.files[Ot],(St=Ot.slice(this.root.length,Ot.length))&&Ot.slice(0,this.root.length)===this.root&&We(St,qt)},filter:function(We){var Ot=[];return this.forEach(function(St,qt){We(St,qt)&&Ot.push(qt)}),Ot},file:function(We,Ot,St){if(1!==arguments.length)return le.call(this,We=this.root+We,Ot,St),this;if(ze(We)){var qt=We;return this.filter(function(jt,Bn){return!Bn.dir&&qt.test(jt)})}var ht=this.files[this.root+We];return ht&&!ht.dir?ht:null},folder:function(We){if(!We)return this;if(ze(We))return this.filter(function(ht,jt){return jt.dir&&We.test(ht)});var St=_e.call(this,this.root+We),qt=this.clone();return qt.root=St.name,qt},remove:function(We){var Ot=this.files[We=this.root+We];if(Ot||("/"!==We.slice(-1)&&(We+="/"),Ot=this.files[We]),Ot&&!Ot.dir)delete this.files[We];else for(var St=this.filter(function(ht,jt){return jt.name.slice(0,We.length)===We}),qt=0;qt<St.length;qt++)delete this.files[St[qt].name];return this},generate:function(We){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(We){var Ot,St={};try{if((St=ne.extend(We||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:be.utf8encode})).type=St.type.toLowerCase(),St.compression=St.compression.toUpperCase(),"binarystring"===St.type&&(St.type="string"),!St.type)throw new Error("No output type specified.");ne.checkSupport(St.type),"darwin"!==St.platform&&"freebsd"!==St.platform&&"linux"!==St.platform&&"sunos"!==St.platform||(St.platform="UNIX"),"win32"===St.platform&&(St.platform="DOS"),Ot=oe.generateWorker(this,St,St.comment||this.comment||"")}catch(ht){(Ot=new me("error")).error(ht)}return new Pe(Ot,St.type||"string",St.mimeType)},generateAsync:function(We,Ot){return this.generateInternalStream(We).accumulate(Ot)},generateNodeStream:function(We,Ot){return(We=We||{}).type||(We.type="nodebuffer"),this.generateInternalStream(We).toNodejsStream(Ot)}};Ct.exports=_t},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(De,Ct,Be){Ct.exports=De("stream")},{stream:void 0}],17:[function(De,Ct,Be){"use strict";var le=De("./DataReader");function be(ne){le.call(this,ne);for(var me=0;me<this.data.length;me++)ne[me]=255&ne[me]}De("../utils").inherits(be,le),be.prototype.byteAt=function(ne){return this.data[this.zero+ne]},be.prototype.lastIndexOfSignature=function(ne){for(var me=ne.charCodeAt(0),Pe=ne.charCodeAt(1),Ne=ne.charCodeAt(2),Re=ne.charCodeAt(3),Le=this.length-4;0<=Le;--Le)if(this.data[Le]===me&&this.data[Le+1]===Pe&&this.data[Le+2]===Ne&&this.data[Le+3]===Re)return Le-this.zero;return-1},be.prototype.readAndCheckSignature=function(ne){var me=ne.charCodeAt(0),Pe=ne.charCodeAt(1),Ne=ne.charCodeAt(2),Re=ne.charCodeAt(3),Le=this.readData(4);return me===Le[0]&&Pe===Le[1]&&Ne===Le[2]&&Re===Le[3]},be.prototype.readData=function(ne){if(this.checkOffset(ne),0===ne)return[];var me=this.data.slice(this.zero+this.index,this.zero+this.index+ne);return this.index+=ne,me},Ct.exports=be},{"../utils":32,"./DataReader":18}],18:[function(De,Ct,Be){"use strict";var le=De("../utils");function be(ne){this.data=ne,this.length=ne.length,this.index=0,this.zero=0}be.prototype={checkOffset:function(ne){this.checkIndex(this.index+ne)},checkIndex:function(ne){if(this.length<this.zero+ne||ne<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+ne+"). Corrupted zip ?")},setIndex:function(ne){this.checkIndex(ne),this.index=ne},skip:function(ne){this.setIndex(this.index+ne)},byteAt:function(ne){},readInt:function(ne){var me,Pe=0;for(this.checkOffset(ne),me=this.index+ne-1;me>=this.index;me--)Pe=(Pe<<8)+this.byteAt(me);return this.index+=ne,Pe},readString:function(ne){return le.transformTo("string",this.readData(ne))},readData:function(ne){},lastIndexOfSignature:function(ne){},readAndCheckSignature:function(ne){},readDate:function(){var ne=this.readInt(4);return new Date(Date.UTC(1980+(ne>>25&127),(ne>>21&15)-1,ne>>16&31,ne>>11&31,ne>>5&63,(31&ne)<<1))}},Ct.exports=be},{"../utils":32}],19:[function(De,Ct,Be){"use strict";var le=De("./Uint8ArrayReader");function be(ne){le.call(this,ne)}De("../utils").inherits(be,le),be.prototype.readData=function(ne){this.checkOffset(ne);var me=this.data.slice(this.zero+this.index,this.zero+this.index+ne);return this.index+=ne,me},Ct.exports=be},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(De,Ct,Be){"use strict";var le=De("./DataReader");function be(ne){le.call(this,ne)}De("../utils").inherits(be,le),be.prototype.byteAt=function(ne){return this.data.charCodeAt(this.zero+ne)},be.prototype.lastIndexOfSignature=function(ne){return this.data.lastIndexOf(ne)-this.zero},be.prototype.readAndCheckSignature=function(ne){return ne===this.readData(4)},be.prototype.readData=function(ne){this.checkOffset(ne);var me=this.data.slice(this.zero+this.index,this.zero+this.index+ne);return this.index+=ne,me},Ct.exports=be},{"../utils":32,"./DataReader":18}],21:[function(De,Ct,Be){"use strict";var le=De("./ArrayReader");function be(ne){le.call(this,ne)}De("../utils").inherits(be,le),be.prototype.readData=function(ne){if(this.checkOffset(ne),0===ne)return new Uint8Array(0);var me=this.data.subarray(this.zero+this.index,this.zero+this.index+ne);return this.index+=ne,me},Ct.exports=be},{"../utils":32,"./ArrayReader":17}],22:[function(De,Ct,Be){"use strict";var le=De("../utils"),be=De("../support"),ne=De("./ArrayReader"),me=De("./StringReader"),Pe=De("./NodeBufferReader"),Ne=De("./Uint8ArrayReader");Ct.exports=function(Re){var Le=le.getTypeOf(Re);return le.checkSupport(Le),"string"!==Le||be.uint8array?"nodebuffer"===Le?new Pe(Re):be.uint8array?new Ne(le.transformTo("uint8array",Re)):new ne(le.transformTo("array",Re)):new me(Re)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(De,Ct,Be){"use strict";Be.LOCAL_FILE_HEADER="PK\x03\x04",Be.CENTRAL_FILE_HEADER="PK\x01\x02",Be.CENTRAL_DIRECTORY_END="PK\x05\x06",Be.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",Be.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",Be.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(De,Ct,Be){"use strict";var le=De("./GenericWorker"),be=De("../utils");function ne(me){le.call(this,"ConvertWorker to "+me),this.destType=me}be.inherits(ne,le),ne.prototype.processChunk=function(me){this.push({data:be.transformTo(this.destType,me.data),meta:me.meta})},Ct.exports=ne},{"../utils":32,"./GenericWorker":28}],25:[function(De,Ct,Be){"use strict";var le=De("./GenericWorker"),be=De("../crc32");function ne(){le.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}De("../utils").inherits(ne,le),ne.prototype.processChunk=function(me){this.streamInfo.crc32=be(me.data,this.streamInfo.crc32||0),this.push(me)},Ct.exports=ne},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(De,Ct,Be){"use strict";var le=De("../utils"),be=De("./GenericWorker");function ne(me){be.call(this,"DataLengthProbe for "+me),this.propName=me,this.withStreamInfo(me,0)}le.inherits(ne,be),ne.prototype.processChunk=function(me){me&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+me.data.length),be.prototype.processChunk.call(this,me)},Ct.exports=ne},{"../utils":32,"./GenericWorker":28}],27:[function(De,Ct,Be){"use strict";var le=De("../utils"),be=De("./GenericWorker");function ne(me){be.call(this,"DataWorker");var Pe=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,me.then(function(Ne){Pe.dataIsReady=!0,Pe.data=Ne,Pe.max=Ne&&Ne.length||0,Pe.type=le.getTypeOf(Ne),Pe.isPaused||Pe._tickAndRepeat()},function(Ne){Pe.error(Ne)})}le.inherits(ne,be),ne.prototype.cleanUp=function(){be.prototype.cleanUp.call(this),this.data=null},ne.prototype.resume=function(){return!!be.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,le.delay(this._tickAndRepeat,[],this)),!0)},ne.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(le.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},ne.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var me=null,Pe=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":me=this.data.substring(this.index,Pe);break;case"uint8array":me=this.data.subarray(this.index,Pe);break;case"array":case"nodebuffer":me=this.data.slice(this.index,Pe)}return this.index=Pe,this.push({data:me,meta:{percent:this.max?this.index/this.max*100:0}})},Ct.exports=ne},{"../utils":32,"./GenericWorker":28}],28:[function(De,Ct,Be){"use strict";function le(be){this.name=be||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}le.prototype={push:function(be){this.emit("data",be)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(be){this.emit("error",be)}return!0},error:function(be){return!this.isFinished&&(this.isPaused?this.generatedError=be:(this.isFinished=!0,this.emit("error",be),this.previous&&this.previous.error(be),this.cleanUp()),!0)},on:function(be,ne){return this._listeners[be].push(ne),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(be,ne){if(this._listeners[be])for(var me=0;me<this._listeners[be].length;me++)this._listeners[be][me].call(this,ne)},pipe:function(be){return be.registerPrevious(this)},registerPrevious:function(be){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=be.streamInfo,this.mergeStreamInfo(),this.previous=be;var ne=this;return be.on("data",function(me){ne.processChunk(me)}),be.on("end",function(){ne.end()}),be.on("error",function(me){ne.error(me)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var be=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),be=!0),this.previous&&this.previous.resume(),!be},flush:function(){},processChunk:function(be){this.push(be)},withStreamInfo:function(be,ne){return this.extraStreamInfo[be]=ne,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var be in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(be)&&(this.streamInfo[be]=this.extraStreamInfo[be])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var be="Worker "+this.name;return this.previous?this.previous+" -> "+be:be}},Ct.exports=le},{}],29:[function(De,Ct,Be){"use strict";var le=De("../utils"),be=De("./ConvertWorker"),ne=De("./GenericWorker"),me=De("../base64"),Pe=De("../support"),Ne=De("../external"),Re=null;if(Pe.nodestream)try{Re=De("../nodejs/NodejsStreamOutputAdapter")}catch(Ce){}function oe(Ce,Te,se){var fe=Te;switch(Te){case"blob":case"arraybuffer":fe="uint8array";break;case"base64":fe="string"}try{this._internalType=fe,this._outputType=Te,this._mimeType=se,le.checkSupport(fe),this._worker=Ce.pipe(new be(fe)),Ce.lock()}catch(_e){this._worker=new ne("error"),this._worker.error(_e)}}oe.prototype={accumulate:function(Ce){return function Le(Ce,Te){return new Ne.Promise(function(se,fe){var _e=[],ze=Ce._internalType,_t=Ce._outputType,We=Ce._mimeType;Ce.on("data",function(Ot,St){_e.push(Ot),Te&&Te(St)}).on("error",function(Ot){_e=[],fe(Ot)}).on("end",function(){try{var Ot=function(St,qt,ht){switch(St){case"blob":return le.newBlob(le.transformTo("arraybuffer",qt),ht);case"base64":return me.encode(qt);default:return le.transformTo(St,qt)}}(_t,function(St,qt){var ht,jt=0,Bn=null,Ee=0;for(ht=0;ht<qt.length;ht++)Ee+=qt[ht].length;switch(St){case"string":return qt.join("");case"array":return Array.prototype.concat.apply([],qt);case"uint8array":for(Bn=new Uint8Array(Ee),ht=0;ht<qt.length;ht++)Bn.set(qt[ht],jt),jt+=qt[ht].length;return Bn;case"nodebuffer":return Buffer.concat(qt);default:throw new Error("concat : unsupported type '"+St+"'")}}(ze,_e),We);se(Ot)}catch(St){fe(St)}_e=[]}).resume()})}(this,Ce)},on:function(Ce,Te){var se=this;return this._worker.on(Ce,"data"===Ce?function(fe){Te.call(se,fe.data,fe.meta)}:function(){le.delay(Te,arguments,se)}),this},resume:function(){return le.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(Ce){if(le.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new Re(this,{objectMode:"nodebuffer"!==this._outputType},Ce)}},Ct.exports=oe},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(De,Ct,Be){"use strict";if(Be.base64=!0,Be.array=!0,Be.string=!0,Be.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,Be.nodebuffer="undefined"!=typeof Buffer,Be.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)Be.blob=!1;else{var le=new ArrayBuffer(0);try{Be.blob=0===new Blob([le],{type:"application/zip"}).size}catch(ne){try{var be=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);be.append(le),Be.blob=0===be.getBlob("application/zip").size}catch(me){Be.blob=!1}}}try{Be.nodestream=!!De("readable-stream").Readable}catch(ne){Be.nodestream=!1}},{"readable-stream":16}],31:[function(De,Ct,Be){"use strict";for(var le=De("./utils"),be=De("./support"),ne=De("./nodejsUtils"),me=De("./stream/GenericWorker"),Pe=new Array(256),Ne=0;Ne<256;Ne++)Pe[Ne]=252<=Ne?6:248<=Ne?5:240<=Ne?4:224<=Ne?3:192<=Ne?2:1;function Re(){me.call(this,"utf-8 decode"),this.leftOver=null}function Le(){me.call(this,"utf-8 encode")}Pe[254]=Pe[254]=1,Be.utf8encode=function(oe){return be.nodebuffer?ne.newBufferFrom(oe,"utf-8"):function(Ce){var Te,se,fe,_e,ze,_t=Ce.length,We=0;for(_e=0;_e<_t;_e++)55296==(64512&(se=Ce.charCodeAt(_e)))&&_e+1<_t&&56320==(64512&(fe=Ce.charCodeAt(_e+1)))&&(se=65536+(se-55296<<10)+(fe-56320),_e++),We+=se<128?1:se<2048?2:se<65536?3:4;for(Te=be.uint8array?new Uint8Array(We):new Array(We),_e=ze=0;ze<We;_e++)55296==(64512&(se=Ce.charCodeAt(_e)))&&_e+1<_t&&56320==(64512&(fe=Ce.charCodeAt(_e+1)))&&(se=65536+(se-55296<<10)+(fe-56320),_e++),se<128?Te[ze++]=se:(se<2048?Te[ze++]=192|se>>>6:(se<65536?Te[ze++]=224|se>>>12:(Te[ze++]=240|se>>>18,Te[ze++]=128|se>>>12&63),Te[ze++]=128|se>>>6&63),Te[ze++]=128|63&se);return Te}(oe)},Be.utf8decode=function(oe){return be.nodebuffer?le.transformTo("nodebuffer",oe).toString("utf-8"):function(Ce){var Te,se,fe,_e,ze=Ce.length,_t=new Array(2*ze);for(Te=se=0;Te<ze;)if((fe=Ce[Te++])<128)_t[se++]=fe;else if(4<(_e=Pe[fe]))_t[se++]=65533,Te+=_e-1;else{for(fe&=2===_e?31:3===_e?15:7;1<_e&&Te<ze;)fe=fe<<6|63&Ce[Te++],_e--;1<_e?_t[se++]=65533:fe<65536?_t[se++]=fe:(_t[se++]=55296|(fe-=65536)>>10&1023,_t[se++]=56320|1023&fe)}return _t.length!==se&&(_t.subarray?_t=_t.subarray(0,se):_t.length=se),le.applyFromCharCode(_t)}(oe=le.transformTo(be.uint8array?"uint8array":"array",oe))},le.inherits(Re,me),Re.prototype.processChunk=function(oe){var Ce=le.transformTo(be.uint8array?"uint8array":"array",oe.data);if(this.leftOver&&this.leftOver.length){if(be.uint8array){var Te=Ce;(Ce=new Uint8Array(Te.length+this.leftOver.length)).set(this.leftOver,0),Ce.set(Te,this.leftOver.length)}else Ce=this.leftOver.concat(Ce);this.leftOver=null}var se=function(_e,ze){var _t;for((ze=ze||_e.length)>_e.length&&(ze=_e.length),_t=ze-1;0<=_t&&128==(192&_e[_t]);)_t--;return _t<0||0===_t?ze:_t+Pe[_e[_t]]>ze?_t:ze}(Ce),fe=Ce;se!==Ce.length&&(be.uint8array?(fe=Ce.subarray(0,se),this.leftOver=Ce.subarray(se,Ce.length)):(fe=Ce.slice(0,se),this.leftOver=Ce.slice(se,Ce.length))),this.push({data:Be.utf8decode(fe),meta:oe.meta})},Re.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:Be.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},Be.Utf8DecodeWorker=Re,le.inherits(Le,me),Le.prototype.processChunk=function(oe){this.push({data:Be.utf8encode(oe.data),meta:oe.meta})},Be.Utf8EncodeWorker=Le},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(De,Ct,Be){"use strict";var le=De("./support"),be=De("./base64"),ne=De("./nodejsUtils"),me=De("set-immediate-shim"),Pe=De("./external");function Ne(se){return se}function Re(se,fe){for(var _e=0;_e<se.length;++_e)fe[_e]=255&se.charCodeAt(_e);return fe}Be.newBlob=function(se,fe){Be.checkSupport("blob");try{return new Blob([se],{type:fe})}catch(ze){try{var _e=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _e.append(se),_e.getBlob(fe)}catch(_t){throw new Error("Bug : can't construct the Blob.")}}};var Le={stringifyByChunk:function(se,fe,_e){var ze=[],_t=0,We=se.length;if(We<=_e)return String.fromCharCode.apply(null,se);for(;_t<We;)ze.push(String.fromCharCode.apply(null,"array"===fe||"nodebuffer"===fe?se.slice(_t,Math.min(_t+_e,We)):se.subarray(_t,Math.min(_t+_e,We)))),_t+=_e;return ze.join("")},stringifyByChar:function(se){for(var fe="",_e=0;_e<se.length;_e++)fe+=String.fromCharCode(se[_e]);return fe},applyCanBeUsed:{uint8array:function(){try{return le.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(se){return!1}}(),nodebuffer:function(){try{return le.nodebuffer&&1===String.fromCharCode.apply(null,ne.allocBuffer(1)).length}catch(se){return!1}}()}};function oe(se){var fe=65536,_e=Be.getTypeOf(se),ze=!0;if("uint8array"===_e?ze=Le.applyCanBeUsed.uint8array:"nodebuffer"===_e&&(ze=Le.applyCanBeUsed.nodebuffer),ze)for(;1<fe;)try{return Le.stringifyByChunk(se,_e,fe)}catch(_t){fe=Math.floor(fe/2)}return Le.stringifyByChar(se)}function Ce(se,fe){for(var _e=0;_e<se.length;_e++)fe[_e]=se[_e];return fe}Be.applyFromCharCode=oe;var Te={};Te.string={string:Ne,array:function(se){return Re(se,new Array(se.length))},arraybuffer:function(se){return Te.string.uint8array(se).buffer},uint8array:function(se){return Re(se,new Uint8Array(se.length))},nodebuffer:function(se){return Re(se,ne.allocBuffer(se.length))}},Te.array={string:oe,array:Ne,arraybuffer:function(se){return new Uint8Array(se).buffer},uint8array:function(se){return new Uint8Array(se)},nodebuffer:function(se){return ne.newBufferFrom(se)}},Te.arraybuffer={string:function(se){return oe(new Uint8Array(se))},array:function(se){return Ce(new Uint8Array(se),new Array(se.byteLength))},arraybuffer:Ne,uint8array:function(se){return new Uint8Array(se)},nodebuffer:function(se){return ne.newBufferFrom(new Uint8Array(se))}},Te.uint8array={string:oe,array:function(se){return Ce(se,new Array(se.length))},arraybuffer:function(se){return se.buffer},uint8array:Ne,nodebuffer:function(se){return ne.newBufferFrom(se)}},Te.nodebuffer={string:oe,array:function(se){return Ce(se,new Array(se.length))},arraybuffer:function(se){return Te.nodebuffer.uint8array(se).buffer},uint8array:function(se){return Ce(se,new Uint8Array(se.length))},nodebuffer:Ne},Be.transformTo=function(se,fe){if(fe=fe||"",!se)return fe;Be.checkSupport(se);var _e=Be.getTypeOf(fe);return Te[_e][se](fe)},Be.getTypeOf=function(se){return"string"==typeof se?"string":"[object Array]"===Object.prototype.toString.call(se)?"array":le.nodebuffer&&ne.isBuffer(se)?"nodebuffer":le.uint8array&&se instanceof Uint8Array?"uint8array":le.arraybuffer&&se instanceof ArrayBuffer?"arraybuffer":void 0},Be.checkSupport=function(se){if(!le[se.toLowerCase()])throw new Error(se+" is not supported by this platform")},Be.MAX_VALUE_16BITS=65535,Be.MAX_VALUE_32BITS=-1,Be.pretty=function(se){var fe,_e,ze="";for(_e=0;_e<(se||"").length;_e++)ze+="\\x"+((fe=se.charCodeAt(_e))<16?"0":"")+fe.toString(16).toUpperCase();return ze},Be.delay=function(se,fe,_e){me(function(){se.apply(_e||null,fe||[])})},Be.inherits=function(se,fe){function _e(){}_e.prototype=fe.prototype,se.prototype=new _e},Be.extend=function(){var se,fe,_e={};for(se=0;se<arguments.length;se++)for(fe in arguments[se])arguments[se].hasOwnProperty(fe)&&void 0===_e[fe]&&(_e[fe]=arguments[se][fe]);return _e},Be.prepareContent=function(se,fe,_e,ze,_t){return Pe.Promise.resolve(fe).then(function(We){return le.blob&&(We instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(We)))&&"undefined"!=typeof FileReader?new Pe.Promise(function(Ot,St){var qt=new FileReader;qt.onload=function(ht){Ot(ht.target.result)},qt.onerror=function(ht){St(ht.target.error)},qt.readAsArrayBuffer(We)}):We}).then(function(We){var St,Ot=Be.getTypeOf(We);return Ot?("arraybuffer"===Ot?We=Be.transformTo("uint8array",We):"string"===Ot&&(_t?We=be.decode(We):_e&&!0!==ze&&(We=Re(St=We,le.uint8array?new Uint8Array(St.length):new Array(St.length)))),We):Pe.Promise.reject(new Error("Can't read the data of '"+se+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(De,Ct,Be){"use strict";var le=De("./reader/readerFor"),be=De("./utils"),ne=De("./signature"),me=De("./zipEntry"),Pe=(De("./utf8"),De("./support"));function Ne(Re){this.files=[],this.loadOptions=Re}Ne.prototype={checkSignature:function(Re){if(!this.reader.readAndCheckSignature(Re)){this.reader.index-=4;var Le=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+be.pretty(Le)+", expected "+be.pretty(Re)+")")}},isSignature:function(Re,Le){var oe=this.reader.index;this.reader.setIndex(Re);var Ce=this.reader.readString(4)===Le;return this.reader.setIndex(oe),Ce},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var Re=this.reader.readData(this.zipCommentLength),oe=be.transformTo(Pe.uint8array?"uint8array":"array",Re);this.zipComment=this.loadOptions.decodeFileName(oe)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var Re,Le,oe,Ce=this.zip64EndOfCentralSize-44;0<Ce;)Re=this.reader.readInt(2),Le=this.reader.readInt(4),oe=this.reader.readData(Le),this.zip64ExtensibleData[Re]={id:Re,length:Le,value:oe}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var Re,Le;for(Re=0;Re<this.files.length;Re++)this.reader.setIndex((Le=this.files[Re]).localHeaderOffset),this.checkSignature(ne.LOCAL_FILE_HEADER),Le.readLocalPart(this.reader),Le.handleUTF8(),Le.processAttributes()},readCentralDir:function(){var Re;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(ne.CENTRAL_FILE_HEADER);)(Re=new me({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(Re);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var Re=this.reader.lastIndexOfSignature(ne.CENTRAL_DIRECTORY_END);if(Re<0)throw this.isSignature(0,ne.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(Re);var Le=Re;if(this.checkSignature(ne.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===be.MAX_VALUE_16BITS||this.diskWithCentralDirStart===be.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===be.MAX_VALUE_16BITS||this.centralDirRecords===be.MAX_VALUE_16BITS||this.centralDirSize===be.MAX_VALUE_32BITS||this.centralDirOffset===be.MAX_VALUE_32BITS){if(this.zip64=!0,(Re=this.reader.lastIndexOfSignature(ne.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(Re),this.checkSignature(ne.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,ne.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(ne.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(ne.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var oe=this.centralDirOffset+this.centralDirSize;this.zip64&&(oe+=20,oe+=12+this.zip64EndOfCentralSize);var Ce=Le-oe;if(0<Ce)this.isSignature(Le,ne.CENTRAL_FILE_HEADER)||(this.reader.zero=Ce);else if(Ce<0)throw new Error("Corrupted zip: missing "+Math.abs(Ce)+" bytes.")},prepareReader:function(Re){this.reader=le(Re)},load:function(Re){this.prepareReader(Re),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},Ct.exports=Ne},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(De,Ct,Be){"use strict";var le=De("./reader/readerFor"),be=De("./utils"),ne=De("./compressedObject"),me=De("./crc32"),Pe=De("./utf8"),Ne=De("./compressions"),Re=De("./support");function Le(oe,Ce){this.options=oe,this.loadOptions=Ce}Le.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(oe){var Ce,Te;if(oe.skip(22),this.fileNameLength=oe.readInt(2),Te=oe.readInt(2),this.fileName=oe.readData(this.fileNameLength),oe.skip(Te),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(Ce=function(se){for(var fe in Ne)if(Ne.hasOwnProperty(fe)&&Ne[fe].magic===se)return Ne[fe];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+be.pretty(this.compressionMethod)+" unknown (inner file : "+be.transformTo("string",this.fileName)+")");this.decompressed=new ne(this.compressedSize,this.uncompressedSize,this.crc32,Ce,oe.readData(this.compressedSize))},readCentralPart:function(oe){this.versionMadeBy=oe.readInt(2),oe.skip(2),this.bitFlag=oe.readInt(2),this.compressionMethod=oe.readString(2),this.date=oe.readDate(),this.crc32=oe.readInt(4),this.compressedSize=oe.readInt(4),this.uncompressedSize=oe.readInt(4);var Ce=oe.readInt(2);if(this.extraFieldsLength=oe.readInt(2),this.fileCommentLength=oe.readInt(2),this.diskNumberStart=oe.readInt(2),this.internalFileAttributes=oe.readInt(2),this.externalFileAttributes=oe.readInt(4),this.localHeaderOffset=oe.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");oe.skip(Ce),this.readExtraFields(oe),this.parseZIP64ExtraField(oe),this.fileComment=oe.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var oe=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==oe&&(this.dosPermissions=63&this.externalFileAttributes),3==oe&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(oe){if(this.extraFields[1]){var Ce=le(this.extraFields[1].value);this.uncompressedSize===be.MAX_VALUE_32BITS&&(this.uncompressedSize=Ce.readInt(8)),this.compressedSize===be.MAX_VALUE_32BITS&&(this.compressedSize=Ce.readInt(8)),this.localHeaderOffset===be.MAX_VALUE_32BITS&&(this.localHeaderOffset=Ce.readInt(8)),this.diskNumberStart===be.MAX_VALUE_32BITS&&(this.diskNumberStart=Ce.readInt(4))}},readExtraFields:function(oe){var Ce,Te,se,fe=oe.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});oe.index+4<fe;)Ce=oe.readInt(2),Te=oe.readInt(2),se=oe.readData(Te),this.extraFields[Ce]={id:Ce,length:Te,value:se};oe.setIndex(fe)},handleUTF8:function(){var oe=Re.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Pe.utf8decode(this.fileName),this.fileCommentStr=Pe.utf8decode(this.fileComment);else{var Ce=this.findExtraFieldUnicodePath();if(null!==Ce)this.fileNameStr=Ce;else{var Te=be.transformTo(oe,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(Te)}var se=this.findExtraFieldUnicodeComment();if(null!==se)this.fileCommentStr=se;else{var fe=be.transformTo(oe,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(fe)}}},findExtraFieldUnicodePath:function(){var oe=this.extraFields[28789];if(oe){var Ce=le(oe.value);return 1!==Ce.readInt(1)||me(this.fileName)!==Ce.readInt(4)?null:Pe.utf8decode(Ce.readData(oe.length-5))}return null},findExtraFieldUnicodeComment:function(){var oe=this.extraFields[25461];if(oe){var Ce=le(oe.value);return 1!==Ce.readInt(1)||me(this.fileComment)!==Ce.readInt(4)?null:Pe.utf8decode(Ce.readData(oe.length-5))}return null}},Ct.exports=Le},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(De,Ct,Be){"use strict";function le(Ce,Te,se){this.name=Ce,this.dir=se.dir,this.date=se.date,this.comment=se.comment,this.unixPermissions=se.unixPermissions,this.dosPermissions=se.dosPermissions,this._data=Te,this._dataBinary=se.binary,this.options={compression:se.compression,compressionOptions:se.compressionOptions}}var be=De("./stream/StreamHelper"),ne=De("./stream/DataWorker"),me=De("./utf8"),Pe=De("./compressedObject"),Ne=De("./stream/GenericWorker");le.prototype={internalStream:function(Ce){var Te=null,se="string";try{if(!Ce)throw new Error("No output type specified.");var fe="string"===(se=Ce.toLowerCase())||"text"===se;"binarystring"!==se&&"text"!==se||(se="string"),Te=this._decompressWorker();var _e=!this._dataBinary;_e&&!fe&&(Te=Te.pipe(new me.Utf8EncodeWorker)),!_e&&fe&&(Te=Te.pipe(new me.Utf8DecodeWorker))}catch(ze){(Te=new Ne("error")).error(ze)}return new be(Te,se,"")},async:function(Ce,Te){return this.internalStream(Ce).accumulate(Te)},nodeStream:function(Ce,Te){return this.internalStream(Ce||"nodebuffer").toNodejsStream(Te)},_compressWorker:function(Ce,Te){if(this._data instanceof Pe&&this._data.compression.magic===Ce.magic)return this._data.getCompressedWorker();var se=this._decompressWorker();return this._dataBinary||(se=se.pipe(new me.Utf8EncodeWorker)),Pe.createWorkerFrom(se,Ce,Te)},_decompressWorker:function(){return this._data instanceof Pe?this._data.getContentWorker():this._data instanceof Ne?this._data:new ne(this._data)}};for(var Re=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Le=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},oe=0;oe<Re.length;oe++)le.prototype[Re[oe]]=Le;Ct.exports=le},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(De,Ct,Be){(function(le){"use strict";var be,ne,me=le.MutationObserver||le.WebKitMutationObserver;if(me){var Pe=0,Ne=new me(Ce),Re=le.document.createTextNode("");Ne.observe(Re,{characterData:!0}),be=function(){Re.data=Pe=++Pe%2}}else if(le.setImmediate||void 0===le.MessageChannel)be="document"in le&&"onreadystatechange"in le.document.createElement("script")?function(){var Te=le.document.createElement("script");Te.onreadystatechange=function(){Ce(),Te.onreadystatechange=null,Te.parentNode.removeChild(Te),Te=null},le.document.documentElement.appendChild(Te)}:function(){setTimeout(Ce,0)};else{var Le=new le.MessageChannel;Le.port1.onmessage=Ce,be=function(){Le.port2.postMessage(0)}}var oe=[];function Ce(){var Te,se;ne=!0;for(var fe=oe.length;fe;){for(se=oe,oe=[],Te=-1;++Te<fe;)se[Te]();fe=oe.length}ne=!1}Ct.exports=function(Te){1!==oe.push(Te)||ne||be()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(De,Ct,Be){"use strict";var le=De("immediate");function be(){}var ne={},me=["REJECTED"],Pe=["FULFILLED"],Ne=["PENDING"];function Re(fe){if("function"!=typeof fe)throw new TypeError("resolver must be a function");this.state=Ne,this.queue=[],this.outcome=void 0,fe!==be&&Te(this,fe)}function Le(fe,_e,ze){this.promise=fe,"function"==typeof _e&&(this.onFulfilled=_e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof ze&&(this.onRejected=ze,this.callRejected=this.otherCallRejected)}function oe(fe,_e,ze){le(function(){var _t;try{_t=_e(ze)}catch(We){return ne.reject(fe,We)}_t===fe?ne.reject(fe,new TypeError("Cannot resolve promise with itself")):ne.resolve(fe,_t)})}function Ce(fe){var _e=fe&&fe.then;if(fe&&("object"==typeof fe||"function"==typeof fe)&&"function"==typeof _e)return function(){_e.apply(fe,arguments)}}function Te(fe,_e){var ze=!1;function _t(St){ze||(ze=!0,ne.reject(fe,St))}function We(St){ze||(ze=!0,ne.resolve(fe,St))}var Ot=se(function(){_e(We,_t)});"error"===Ot.status&&_t(Ot.value)}function se(fe,_e){var ze={};try{ze.value=fe(_e),ze.status="success"}catch(_t){ze.status="error",ze.value=_t}return ze}(Ct.exports=Re).prototype.finally=function(fe){if("function"!=typeof fe)return this;var _e=this.constructor;return this.then(function(ze){return _e.resolve(fe()).then(function(){return ze})},function(ze){return _e.resolve(fe()).then(function(){throw ze})})},Re.prototype.catch=function(fe){return this.then(null,fe)},Re.prototype.then=function(fe,_e){if("function"!=typeof fe&&this.state===Pe||"function"!=typeof _e&&this.state===me)return this;var ze=new this.constructor(be);return this.state!==Ne?oe(ze,this.state===Pe?fe:_e,this.outcome):this.queue.push(new Le(ze,fe,_e)),ze},Le.prototype.callFulfilled=function(fe){ne.resolve(this.promise,fe)},Le.prototype.otherCallFulfilled=function(fe){oe(this.promise,this.onFulfilled,fe)},Le.prototype.callRejected=function(fe){ne.reject(this.promise,fe)},Le.prototype.otherCallRejected=function(fe){oe(this.promise,this.onRejected,fe)},ne.resolve=function(fe,_e){var ze=se(Ce,_e);if("error"===ze.status)return ne.reject(fe,ze.value);var _t=ze.value;if(_t)Te(fe,_t);else{fe.state=Pe,fe.outcome=_e;for(var We=-1,Ot=fe.queue.length;++We<Ot;)fe.queue[We].callFulfilled(_e)}return fe},ne.reject=function(fe,_e){fe.state=me,fe.outcome=_e;for(var ze=-1,_t=fe.queue.length;++ze<_t;)fe.queue[ze].callRejected(_e);return fe},Re.resolve=function(fe){return fe instanceof this?fe:ne.resolve(new this(be),fe)},Re.reject=function(fe){var _e=new this(be);return ne.reject(_e,fe)},Re.all=function(fe){var _e=this;if("[object Array]"!==Object.prototype.toString.call(fe))return this.reject(new TypeError("must be an array"));var ze=fe.length,_t=!1;if(!ze)return this.resolve([]);for(var We=new Array(ze),Ot=0,St=-1,qt=new this(be);++St<ze;)ht(fe[St],St);return qt;function ht(jt,Bn){_e.resolve(jt).then(function(Ee){We[Bn]=Ee,++Ot!==ze||_t||(_t=!0,ne.resolve(qt,We))},function(Ee){_t||(_t=!0,ne.reject(qt,Ee))})}},Re.race=function(fe){if("[object Array]"!==Object.prototype.toString.call(fe))return this.reject(new TypeError("must be an array"));var ze=fe.length,_t=!1;if(!ze)return this.resolve([]);for(var We=-1,Ot=new this(be);++We<ze;)this.resolve(fe[We]).then(function(qt){_t||(_t=!0,ne.resolve(Ot,qt))},function(qt){_t||(_t=!0,ne.reject(Ot,qt))});return Ot}},{immediate:36}],38:[function(De,Ct,Be){"use strict";var le={};(0,De("./lib/utils/common").assign)(le,De("./lib/deflate"),De("./lib/inflate"),De("./lib/zlib/constants")),Ct.exports=le},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(De,Ct,Be){"use strict";var le=De("./zlib/deflate"),be=De("./utils/common"),ne=De("./utils/strings"),me=De("./zlib/messages"),Pe=De("./zlib/zstream"),Ne=Object.prototype.toString;function Te(fe){if(!(this instanceof Te))return new Te(fe);this.options=be.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},fe||{});var _e=this.options;_e.raw&&0<_e.windowBits?_e.windowBits=-_e.windowBits:_e.gzip&&0<_e.windowBits&&_e.windowBits<16&&(_e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Pe,this.strm.avail_out=0;var ze=le.deflateInit2(this.strm,_e.level,_e.method,_e.windowBits,_e.memLevel,_e.strategy);if(0!==ze)throw new Error(me[ze]);if(_e.header&&le.deflateSetHeader(this.strm,_e.header),_e.dictionary){var _t;if(_t="string"==typeof _e.dictionary?ne.string2buf(_e.dictionary):"[object ArrayBuffer]"===Ne.call(_e.dictionary)?new Uint8Array(_e.dictionary):_e.dictionary,0!==(ze=le.deflateSetDictionary(this.strm,_t)))throw new Error(me[ze]);this._dict_set=!0}}function se(fe,_e){var ze=new Te(_e);if(ze.push(fe,!0),ze.err)throw ze.msg||me[ze.err];return ze.result}Te.prototype.push=function(fe,_e){var ze,_t,We=this.strm,Ot=this.options.chunkSize;if(this.ended)return!1;_t=_e===~~_e?_e:!0===_e?4:0,We.input="string"==typeof fe?ne.string2buf(fe):"[object ArrayBuffer]"===Ne.call(fe)?new Uint8Array(fe):fe,We.next_in=0,We.avail_in=We.input.length;do{if(0===We.avail_out&&(We.output=new be.Buf8(Ot),We.next_out=0,We.avail_out=Ot),1!==(ze=le.deflate(We,_t))&&0!==ze)return this.onEnd(ze),!(this.ended=!0);0!==We.avail_out&&(0!==We.avail_in||4!==_t&&2!==_t)||this.onData("string"===this.options.to?ne.buf2binstring(be.shrinkBuf(We.output,We.next_out)):be.shrinkBuf(We.output,We.next_out))}while((0<We.avail_in||0===We.avail_out)&&1!==ze);return 4===_t?(ze=le.deflateEnd(this.strm),this.onEnd(ze),this.ended=!0,0===ze):2!==_t||(this.onEnd(0),!(We.avail_out=0))},Te.prototype.onData=function(fe){this.chunks.push(fe)},Te.prototype.onEnd=function(fe){0===fe&&(this.result="string"===this.options.to?this.chunks.join(""):be.flattenChunks(this.chunks)),this.chunks=[],this.err=fe,this.msg=this.strm.msg},Be.Deflate=Te,Be.deflate=se,Be.deflateRaw=function(fe,_e){return(_e=_e||{}).raw=!0,se(fe,_e)},Be.gzip=function(fe,_e){return(_e=_e||{}).gzip=!0,se(fe,_e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(De,Ct,Be){"use strict";var le=De("./zlib/inflate"),be=De("./utils/common"),ne=De("./utils/strings"),me=De("./zlib/constants"),Pe=De("./zlib/messages"),Ne=De("./zlib/zstream"),Re=De("./zlib/gzheader"),Le=Object.prototype.toString;function oe(Te){if(!(this instanceof oe))return new oe(Te);this.options=be.assign({chunkSize:16384,windowBits:0,to:""},Te||{});var se=this.options;se.raw&&0<=se.windowBits&&se.windowBits<16&&(se.windowBits=-se.windowBits,0===se.windowBits&&(se.windowBits=-15)),!(0<=se.windowBits&&se.windowBits<16)||Te&&Te.windowBits||(se.windowBits+=32),15<se.windowBits&&se.windowBits<48&&0==(15&se.windowBits)&&(se.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ne,this.strm.avail_out=0;var fe=le.inflateInit2(this.strm,se.windowBits);if(fe!==me.Z_OK)throw new Error(Pe[fe]);this.header=new Re,le.inflateGetHeader(this.strm,this.header)}function Ce(Te,se){var fe=new oe(se);if(fe.push(Te,!0),fe.err)throw fe.msg||Pe[fe.err];return fe.result}oe.prototype.push=function(Te,se){var fe,_e,ze,_t,We,Ot,St=this.strm,qt=this.options.chunkSize,ht=this.options.dictionary,jt=!1;if(this.ended)return!1;_e=se===~~se?se:!0===se?me.Z_FINISH:me.Z_NO_FLUSH,St.input="string"==typeof Te?ne.binstring2buf(Te):"[object ArrayBuffer]"===Le.call(Te)?new Uint8Array(Te):Te,St.next_in=0,St.avail_in=St.input.length;do{if(0===St.avail_out&&(St.output=new be.Buf8(qt),St.next_out=0,St.avail_out=qt),(fe=le.inflate(St,me.Z_NO_FLUSH))===me.Z_NEED_DICT&&ht&&(Ot="string"==typeof ht?ne.string2buf(ht):"[object ArrayBuffer]"===Le.call(ht)?new Uint8Array(ht):ht,fe=le.inflateSetDictionary(this.strm,Ot)),fe===me.Z_BUF_ERROR&&!0===jt&&(fe=me.Z_OK,jt=!1),fe!==me.Z_STREAM_END&&fe!==me.Z_OK)return this.onEnd(fe),!(this.ended=!0);St.next_out&&(0!==St.avail_out&&fe!==me.Z_STREAM_END&&(0!==St.avail_in||_e!==me.Z_FINISH&&_e!==me.Z_SYNC_FLUSH)||("string"===this.options.to?(ze=ne.utf8border(St.output,St.next_out),_t=St.next_out-ze,We=ne.buf2string(St.output,ze),St.next_out=_t,St.avail_out=qt-_t,_t&&be.arraySet(St.output,St.output,ze,_t,0),this.onData(We)):this.onData(be.shrinkBuf(St.output,St.next_out)))),0===St.avail_in&&0===St.avail_out&&(jt=!0)}while((0<St.avail_in||0===St.avail_out)&&fe!==me.Z_STREAM_END);return fe===me.Z_STREAM_END&&(_e=me.Z_FINISH),_e===me.Z_FINISH?(fe=le.inflateEnd(this.strm),this.onEnd(fe),this.ended=!0,fe===me.Z_OK):_e!==me.Z_SYNC_FLUSH||(this.onEnd(me.Z_OK),!(St.avail_out=0))},oe.prototype.onData=function(Te){this.chunks.push(Te)},oe.prototype.onEnd=function(Te){Te===me.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):be.flattenChunks(this.chunks)),this.chunks=[],this.err=Te,this.msg=this.strm.msg},Be.Inflate=oe,Be.inflate=Ce,Be.inflateRaw=function(Te,se){return(se=se||{}).raw=!0,Ce(Te,se)},Be.ungzip=Ce},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(De,Ct,Be){"use strict";var le="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;Be.assign=function(me){for(var Pe=Array.prototype.slice.call(arguments,1);Pe.length;){var Ne=Pe.shift();if(Ne){if("object"!=typeof Ne)throw new TypeError(Ne+"must be non-object");for(var Re in Ne)Ne.hasOwnProperty(Re)&&(me[Re]=Ne[Re])}}return me},Be.shrinkBuf=function(me,Pe){return me.length===Pe?me:me.subarray?me.subarray(0,Pe):(me.length=Pe,me)};var be={arraySet:function(me,Pe,Ne,Re,Le){if(Pe.subarray&&me.subarray)me.set(Pe.subarray(Ne,Ne+Re),Le);else for(var oe=0;oe<Re;oe++)me[Le+oe]=Pe[Ne+oe]},flattenChunks:function(me){var Pe,Ne,Re,Le,oe,Ce;for(Pe=Re=0,Ne=me.length;Pe<Ne;Pe++)Re+=me[Pe].length;for(Ce=new Uint8Array(Re),Pe=Le=0,Ne=me.length;Pe<Ne;Pe++)Ce.set(oe=me[Pe],Le),Le+=oe.length;return Ce}},ne={arraySet:function(me,Pe,Ne,Re,Le){for(var oe=0;oe<Re;oe++)me[Le+oe]=Pe[Ne+oe]},flattenChunks:function(me){return[].concat.apply([],me)}};Be.setTyped=function(me){me?(Be.Buf8=Uint8Array,Be.Buf16=Uint16Array,Be.Buf32=Int32Array,Be.assign(Be,be)):(Be.Buf8=Array,Be.Buf16=Array,Be.Buf32=Array,Be.assign(Be,ne))},Be.setTyped(le)},{}],42:[function(De,Ct,Be){"use strict";var le=De("./common"),be=!0,ne=!0;try{String.fromCharCode.apply(null,[0])}catch(Re){be=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Re){ne=!1}for(var me=new le.Buf8(256),Pe=0;Pe<256;Pe++)me[Pe]=252<=Pe?6:248<=Pe?5:240<=Pe?4:224<=Pe?3:192<=Pe?2:1;function Ne(Re,Le){if(Le<65537&&(Re.subarray&&ne||!Re.subarray&&be))return String.fromCharCode.apply(null,le.shrinkBuf(Re,Le));for(var oe="",Ce=0;Ce<Le;Ce++)oe+=String.fromCharCode(Re[Ce]);return oe}me[254]=me[254]=1,Be.string2buf=function(Re){var Le,oe,Ce,Te,se,fe=Re.length,_e=0;for(Te=0;Te<fe;Te++)55296==(64512&(oe=Re.charCodeAt(Te)))&&Te+1<fe&&56320==(64512&(Ce=Re.charCodeAt(Te+1)))&&(oe=65536+(oe-55296<<10)+(Ce-56320),Te++),_e+=oe<128?1:oe<2048?2:oe<65536?3:4;for(Le=new le.Buf8(_e),Te=se=0;se<_e;Te++)55296==(64512&(oe=Re.charCodeAt(Te)))&&Te+1<fe&&56320==(64512&(Ce=Re.charCodeAt(Te+1)))&&(oe=65536+(oe-55296<<10)+(Ce-56320),Te++),oe<128?Le[se++]=oe:(oe<2048?Le[se++]=192|oe>>>6:(oe<65536?Le[se++]=224|oe>>>12:(Le[se++]=240|oe>>>18,Le[se++]=128|oe>>>12&63),Le[se++]=128|oe>>>6&63),Le[se++]=128|63&oe);return Le},Be.buf2binstring=function(Re){return Ne(Re,Re.length)},Be.binstring2buf=function(Re){for(var Le=new le.Buf8(Re.length),oe=0,Ce=Le.length;oe<Ce;oe++)Le[oe]=Re.charCodeAt(oe);return Le},Be.buf2string=function(Re,Le){var oe,Ce,Te,se,fe=Le||Re.length,_e=new Array(2*fe);for(oe=Ce=0;oe<fe;)if((Te=Re[oe++])<128)_e[Ce++]=Te;else if(4<(se=me[Te]))_e[Ce++]=65533,oe+=se-1;else{for(Te&=2===se?31:3===se?15:7;1<se&&oe<fe;)Te=Te<<6|63&Re[oe++],se--;1<se?_e[Ce++]=65533:Te<65536?_e[Ce++]=Te:(_e[Ce++]=55296|(Te-=65536)>>10&1023,_e[Ce++]=56320|1023&Te)}return Ne(_e,Ce)},Be.utf8border=function(Re,Le){var oe;for((Le=Le||Re.length)>Re.length&&(Le=Re.length),oe=Le-1;0<=oe&&128==(192&Re[oe]);)oe--;return oe<0||0===oe?Le:oe+me[Re[oe]]>Le?oe:Le}},{"./common":41}],43:[function(De,Ct,Be){"use strict";Ct.exports=function(le,be,ne,me){for(var Pe=65535&le|0,Ne=le>>>16&65535|0,Re=0;0!==ne;){for(ne-=Re=2e3<ne?2e3:ne;Ne=Ne+(Pe=Pe+be[me++]|0)|0,--Re;);Pe%=65521,Ne%=65521}return Pe|Ne<<16|0}},{}],44:[function(De,Ct,Be){"use strict";Ct.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(De,Ct,Be){"use strict";var le=function(){for(var be,ne=[],me=0;me<256;me++){be=me;for(var Pe=0;Pe<8;Pe++)be=1&be?3988292384^be>>>1:be>>>1;ne[me]=be}return ne}();Ct.exports=function(be,ne,me,Pe){var Ne=le,Re=Pe+me;be^=-1;for(var Le=Pe;Le<Re;Le++)be=be>>>8^Ne[255&(be^ne[Le])];return-1^be}},{}],46:[function(De,Ct,Be){"use strict";var le,be=De("../utils/common"),ne=De("./trees"),me=De("./adler32"),Pe=De("./crc32"),Ne=De("./messages"),jt=258,Bn=262;function dn(q,wt){return q.msg=Ne[wt],wt}function Gt(q){return(q<<1)-(4<q?9:0)}function Wn(q){for(var wt=q.length;0<=--wt;)q[wt]=0}function st(q){var wt=q.state,ct=wt.pending;ct>q.avail_out&&(ct=q.avail_out),0!==ct&&(be.arraySet(q.output,wt.pending_buf,wt.pending_out,ct,q.next_out),q.next_out+=ct,wt.pending_out+=ct,q.total_out+=ct,q.avail_out-=ct,wt.pending-=ct,0===wt.pending&&(wt.pending_out=0))}function tt(q,wt){ne._tr_flush_block(q,0<=q.block_start?q.block_start:-1,q.strstart-q.block_start,wt),q.block_start=q.strstart,st(q.strm)}function pt(q,wt){q.pending_buf[q.pending++]=wt}function un(q,wt){q.pending_buf[q.pending++]=wt>>>8&255,q.pending_buf[q.pending++]=255&wt}function Qt(q,wt){var ct,ve,de=q.max_chain_length,Ue=q.strstart,Dt=q.prev_length,Lt=q.nice_match,Xe=q.strstart>q.w_size-Bn?q.strstart-(q.w_size-Bn):0,$t=q.window,fn=q.w_mask,Ht=q.prev,Rn=q.strstart+jt,xr=$t[Ue+Dt-1],Ri=$t[Ue+Dt];q.prev_length>=q.good_match&&(de>>=2),Lt>q.lookahead&&(Lt=q.lookahead);do{if($t[(ct=wt)+Dt]===Ri&&$t[ct+Dt-1]===xr&&$t[ct]===$t[Ue]&&$t[++ct]===$t[Ue+1]){Ue+=2,ct++;do{}while($t[++Ue]===$t[++ct]&&$t[++Ue]===$t[++ct]&&$t[++Ue]===$t[++ct]&&$t[++Ue]===$t[++ct]&&$t[++Ue]===$t[++ct]&&$t[++Ue]===$t[++ct]&&$t[++Ue]===$t[++ct]&&$t[++Ue]===$t[++ct]&&Ue<Rn);if(ve=jt-(Rn-Ue),Ue=Rn-jt,Dt<ve){if(q.match_start=wt,Lt<=(Dt=ve))break;xr=$t[Ue+Dt-1],Ri=$t[Ue+Dt]}}}while((wt=Ht[wt&fn])>Xe&&0!=--de);return Dt<=q.lookahead?Dt:q.lookahead}function ci(q){var wt,ct,ve,de,Ue,Dt,Lt,Xe,$t,fn,Ht=q.w_size;do{if(de=q.window_size-q.lookahead-q.strstart,q.strstart>=Ht+(Ht-Bn)){for(be.arraySet(q.window,q.window,Ht,Ht,0),q.match_start-=Ht,q.strstart-=Ht,q.block_start-=Ht,wt=ct=q.hash_size;ve=q.head[--wt],q.head[wt]=Ht<=ve?ve-Ht:0,--ct;);for(wt=ct=Ht;ve=q.prev[--wt],q.prev[wt]=Ht<=ve?ve-Ht:0,--ct;);de+=Ht}if(0===q.strm.avail_in)break;if(Lt=q.window,Xe=q.strstart+q.lookahead,fn=void 0,($t=de)<(fn=(Dt=q.strm).avail_in)&&(fn=$t),ct=0===fn?0:(Dt.avail_in-=fn,be.arraySet(Lt,Dt.input,Dt.next_in,fn,Xe),1===Dt.state.wrap?Dt.adler=me(Dt.adler,Lt,fn,Xe):2===Dt.state.wrap&&(Dt.adler=Pe(Dt.adler,Lt,fn,Xe)),Dt.next_in+=fn,Dt.total_in+=fn,fn),q.lookahead+=ct,q.lookahead+q.insert>=3)for(q.ins_h=q.window[Ue=q.strstart-q.insert],q.ins_h=(q.ins_h<<q.hash_shift^q.window[Ue+1])&q.hash_mask;q.insert&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[Ue+3-1])&q.hash_mask,q.prev[Ue&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=Ue,Ue++,q.insert--,!(q.lookahead+q.insert<3)););}while(q.lookahead<Bn&&0!==q.strm.avail_in)}function Ti(q,wt){for(var ct,ve;;){if(q.lookahead<Bn){if(ci(q),q.lookahead<Bn&&0===wt)return 1;if(0===q.lookahead)break}if(ct=0,q.lookahead>=3&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,ct=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),0!==ct&&q.strstart-ct<=q.w_size-Bn&&(q.match_length=Qt(q,ct)),q.match_length>=3)if(ve=ne._tr_tally(q,q.strstart-q.match_start,q.match_length-3),q.lookahead-=q.match_length,q.match_length<=q.max_lazy_match&&q.lookahead>=3){for(q.match_length--;q.strstart++,q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,ct=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart,0!=--q.match_length;);q.strstart++}else q.strstart+=q.match_length,q.match_length=0,q.ins_h=q.window[q.strstart],q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+1])&q.hash_mask;else ve=ne._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++;if(ve&&(tt(q,!1),0===q.strm.avail_out))return 1}return q.insert=q.strstart<2?q.strstart:2,4===wt?(tt(q,!0),0===q.strm.avail_out?3:4):q.last_lit&&(tt(q,!1),0===q.strm.avail_out)?1:2}function an(q,wt){for(var ct,ve,de;;){if(q.lookahead<Bn){if(ci(q),q.lookahead<Bn&&0===wt)return 1;if(0===q.lookahead)break}if(ct=0,q.lookahead>=3&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,ct=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),q.prev_length=q.match_length,q.prev_match=q.match_start,q.match_length=2,0!==ct&&q.prev_length<q.max_lazy_match&&q.strstart-ct<=q.w_size-Bn&&(q.match_length=Qt(q,ct),q.match_length<=5&&(1===q.strategy||3===q.match_length&&4096<q.strstart-q.match_start)&&(q.match_length=2)),q.prev_length>=3&&q.match_length<=q.prev_length){for(de=q.strstart+q.lookahead-3,ve=ne._tr_tally(q,q.strstart-1-q.prev_match,q.prev_length-3),q.lookahead-=q.prev_length-1,q.prev_length-=2;++q.strstart<=de&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,ct=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),0!=--q.prev_length;);if(q.match_available=0,q.match_length=2,q.strstart++,ve&&(tt(q,!1),0===q.strm.avail_out))return 1}else if(q.match_available){if((ve=ne._tr_tally(q,0,q.window[q.strstart-1]))&&tt(q,!1),q.strstart++,q.lookahead--,0===q.strm.avail_out)return 1}else q.match_available=1,q.strstart++,q.lookahead--}return q.match_available&&(ve=ne._tr_tally(q,0,q.window[q.strstart-1]),q.match_available=0),q.insert=q.strstart<2?q.strstart:2,4===wt?(tt(q,!0),0===q.strm.avail_out?3:4):q.last_lit&&(tt(q,!1),0===q.strm.avail_out)?1:2}function zi(q,wt,ct,ve,de){this.good_length=q,this.max_lazy=wt,this.nice_length=ct,this.max_chain=ve,this.func=de}function Ns(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new be.Buf16(1146),this.dyn_dtree=new be.Buf16(122),this.bl_tree=new be.Buf16(78),Wn(this.dyn_ltree),Wn(this.dyn_dtree),Wn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new be.Buf16(16),this.heap=new be.Buf16(573),Wn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new be.Buf16(573),Wn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Lr(q){var wt;return q&&q.state?(q.total_in=q.total_out=0,q.data_type=2,(wt=q.state).pending=0,wt.pending_out=0,wt.wrap<0&&(wt.wrap=-wt.wrap),wt.status=wt.wrap?42:113,q.adler=2===wt.wrap?0:1,wt.last_flush=0,ne._tr_init(wt),0):dn(q,-2)}function nc(q){var ct,wt=Lr(q);return 0===wt&&((ct=q.state).window_size=2*ct.w_size,Wn(ct.head),ct.max_lazy_match=le[ct.level].max_lazy,ct.good_match=le[ct.level].good_length,ct.nice_match=le[ct.level].nice_length,ct.max_chain_length=le[ct.level].max_chain,ct.strstart=0,ct.block_start=0,ct.lookahead=0,ct.insert=0,ct.match_length=ct.prev_length=2,ct.match_available=0,ct.ins_h=0),wt}function ns(q,wt,ct,ve,de,Ue){if(!q)return-2;var Dt=1;if(-1===wt&&(wt=6),ve<0?(Dt=0,ve=-ve):15<ve&&(Dt=2,ve-=16),de<1||9<de||8!==ct||ve<8||15<ve||wt<0||9<wt||Ue<0||4<Ue)return dn(q,-2);8===ve&&(ve=9);var Lt=new Ns;return(q.state=Lt).strm=q,Lt.wrap=Dt,Lt.gzhead=null,Lt.w_bits=ve,Lt.w_size=1<<Lt.w_bits,Lt.w_mask=Lt.w_size-1,Lt.hash_bits=de+7,Lt.hash_size=1<<Lt.hash_bits,Lt.hash_mask=Lt.hash_size-1,Lt.hash_shift=~~((Lt.hash_bits+3-1)/3),Lt.window=new be.Buf8(2*Lt.w_size),Lt.head=new be.Buf16(Lt.hash_size),Lt.prev=new be.Buf16(Lt.w_size),Lt.lit_bufsize=1<<de+6,Lt.pending_buf_size=4*Lt.lit_bufsize,Lt.pending_buf=new be.Buf8(Lt.pending_buf_size),Lt.d_buf=1*Lt.lit_bufsize,Lt.l_buf=3*Lt.lit_bufsize,Lt.level=wt,Lt.strategy=Ue,Lt.method=ct,nc(q)}le=[new zi(0,0,0,0,function(q,wt){var ct=65535;for(ct>q.pending_buf_size-5&&(ct=q.pending_buf_size-5);;){if(q.lookahead<=1){if(ci(q),0===q.lookahead&&0===wt)return 1;if(0===q.lookahead)break}q.strstart+=q.lookahead,q.lookahead=0;var ve=q.block_start+ct;if((0===q.strstart||q.strstart>=ve)&&(q.lookahead=q.strstart-ve,q.strstart=ve,tt(q,!1),0===q.strm.avail_out)||q.strstart-q.block_start>=q.w_size-Bn&&(tt(q,!1),0===q.strm.avail_out))return 1}return q.insert=0,4===wt?(tt(q,!0),0===q.strm.avail_out?3:4):(q.strstart>q.block_start&&tt(q,!1),1)}),new zi(4,4,8,4,Ti),new zi(4,5,16,8,Ti),new zi(4,6,32,32,Ti),new zi(4,4,16,16,an),new zi(8,16,32,32,an),new zi(8,16,128,128,an),new zi(8,32,128,256,an),new zi(32,128,258,1024,an),new zi(32,258,258,4096,an)],Be.deflateInit=function(q,wt){return ns(q,wt,8,15,8,0)},Be.deflateInit2=ns,Be.deflateReset=nc,Be.deflateResetKeep=Lr,Be.deflateSetHeader=function(q,wt){return q&&q.state?2!==q.state.wrap?-2:(q.state.gzhead=wt,0):-2},Be.deflate=function(q,wt){var ct,ve,de,Ue;if(!q||!q.state||5<wt||wt<0)return q?dn(q,-2):-2;if(ve=q.state,!q.output||!q.input&&0!==q.avail_in||666===ve.status&&4!==wt)return dn(q,0===q.avail_out?-5:-2);if(ve.strm=q,ct=ve.last_flush,ve.last_flush=wt,42===ve.status)if(2===ve.wrap)q.adler=0,pt(ve,31),pt(ve,139),pt(ve,8),ve.gzhead?(pt(ve,(ve.gzhead.text?1:0)+(ve.gzhead.hcrc?2:0)+(ve.gzhead.extra?4:0)+(ve.gzhead.name?8:0)+(ve.gzhead.comment?16:0)),pt(ve,255&ve.gzhead.time),pt(ve,ve.gzhead.time>>8&255),pt(ve,ve.gzhead.time>>16&255),pt(ve,ve.gzhead.time>>24&255),pt(ve,9===ve.level?2:2<=ve.strategy||ve.level<2?4:0),pt(ve,255&ve.gzhead.os),ve.gzhead.extra&&ve.gzhead.extra.length&&(pt(ve,255&ve.gzhead.extra.length),pt(ve,ve.gzhead.extra.length>>8&255)),ve.gzhead.hcrc&&(q.adler=Pe(q.adler,ve.pending_buf,ve.pending,0)),ve.gzindex=0,ve.status=69):(pt(ve,0),pt(ve,0),pt(ve,0),pt(ve,0),pt(ve,0),pt(ve,9===ve.level?2:2<=ve.strategy||ve.level<2?4:0),pt(ve,3),ve.status=113);else{var Dt=8+(ve.w_bits-8<<4)<<8;Dt|=(2<=ve.strategy||ve.level<2?0:ve.level<6?1:6===ve.level?2:3)<<6,0!==ve.strstart&&(Dt|=32),Dt+=31-Dt%31,ve.status=113,un(ve,Dt),0!==ve.strstart&&(un(ve,q.adler>>>16),un(ve,65535&q.adler)),q.adler=1}if(69===ve.status)if(ve.gzhead.extra){for(de=ve.pending;ve.gzindex<(65535&ve.gzhead.extra.length)&&(ve.pending!==ve.pending_buf_size||(ve.gzhead.hcrc&&ve.pending>de&&(q.adler=Pe(q.adler,ve.pending_buf,ve.pending-de,de)),st(q),de=ve.pending,ve.pending!==ve.pending_buf_size));)pt(ve,255&ve.gzhead.extra[ve.gzindex]),ve.gzindex++;ve.gzhead.hcrc&&ve.pending>de&&(q.adler=Pe(q.adler,ve.pending_buf,ve.pending-de,de)),ve.gzindex===ve.gzhead.extra.length&&(ve.gzindex=0,ve.status=73)}else ve.status=73;if(73===ve.status)if(ve.gzhead.name){de=ve.pending;do{if(ve.pending===ve.pending_buf_size&&(ve.gzhead.hcrc&&ve.pending>de&&(q.adler=Pe(q.adler,ve.pending_buf,ve.pending-de,de)),st(q),de=ve.pending,ve.pending===ve.pending_buf_size)){Ue=1;break}Ue=ve.gzindex<ve.gzhead.name.length?255&ve.gzhead.name.charCodeAt(ve.gzindex++):0,pt(ve,Ue)}while(0!==Ue);ve.gzhead.hcrc&&ve.pending>de&&(q.adler=Pe(q.adler,ve.pending_buf,ve.pending-de,de)),0===Ue&&(ve.gzindex=0,ve.status=91)}else ve.status=91;if(91===ve.status)if(ve.gzhead.comment){de=ve.pending;do{if(ve.pending===ve.pending_buf_size&&(ve.gzhead.hcrc&&ve.pending>de&&(q.adler=Pe(q.adler,ve.pending_buf,ve.pending-de,de)),st(q),de=ve.pending,ve.pending===ve.pending_buf_size)){Ue=1;break}Ue=ve.gzindex<ve.gzhead.comment.length?255&ve.gzhead.comment.charCodeAt(ve.gzindex++):0,pt(ve,Ue)}while(0!==Ue);ve.gzhead.hcrc&&ve.pending>de&&(q.adler=Pe(q.adler,ve.pending_buf,ve.pending-de,de)),0===Ue&&(ve.status=103)}else ve.status=103;if(103===ve.status&&(ve.gzhead.hcrc?(ve.pending+2>ve.pending_buf_size&&st(q),ve.pending+2<=ve.pending_buf_size&&(pt(ve,255&q.adler),pt(ve,q.adler>>8&255),q.adler=0,ve.status=113)):ve.status=113),0!==ve.pending){if(st(q),0===q.avail_out)return ve.last_flush=-1,0}else if(0===q.avail_in&&Gt(wt)<=Gt(ct)&&4!==wt)return dn(q,-5);if(666===ve.status&&0!==q.avail_in)return dn(q,-5);if(0!==q.avail_in||0!==ve.lookahead||0!==wt&&666!==ve.status){var Lt=2===ve.strategy?function(Xe,$t){for(var fn;;){if(0===Xe.lookahead&&(ci(Xe),0===Xe.lookahead)){if(0===$t)return 1;break}if(Xe.match_length=0,fn=ne._tr_tally(Xe,0,Xe.window[Xe.strstart]),Xe.lookahead--,Xe.strstart++,fn&&(tt(Xe,!1),0===Xe.strm.avail_out))return 1}return Xe.insert=0,4===$t?(tt(Xe,!0),0===Xe.strm.avail_out?3:4):Xe.last_lit&&(tt(Xe,!1),0===Xe.strm.avail_out)?1:2}(ve,wt):3===ve.strategy?function(Xe,$t){for(var fn,Ht,Rn,xr,Ri=Xe.window;;){if(Xe.lookahead<=jt){if(ci(Xe),Xe.lookahead<=jt&&0===$t)return 1;if(0===Xe.lookahead)break}if(Xe.match_length=0,Xe.lookahead>=3&&0<Xe.strstart&&(Ht=Ri[Rn=Xe.strstart-1])===Ri[++Rn]&&Ht===Ri[++Rn]&&Ht===Ri[++Rn]){xr=Xe.strstart+jt;do{}while(Ht===Ri[++Rn]&&Ht===Ri[++Rn]&&Ht===Ri[++Rn]&&Ht===Ri[++Rn]&&Ht===Ri[++Rn]&&Ht===Ri[++Rn]&&Ht===Ri[++Rn]&&Ht===Ri[++Rn]&&Rn<xr);Xe.match_length=jt-(xr-Rn),Xe.match_length>Xe.lookahead&&(Xe.match_length=Xe.lookahead)}if(Xe.match_length>=3?(fn=ne._tr_tally(Xe,1,Xe.match_length-3),Xe.lookahead-=Xe.match_length,Xe.strstart+=Xe.match_length,Xe.match_length=0):(fn=ne._tr_tally(Xe,0,Xe.window[Xe.strstart]),Xe.lookahead--,Xe.strstart++),fn&&(tt(Xe,!1),0===Xe.strm.avail_out))return 1}return Xe.insert=0,4===$t?(tt(Xe,!0),0===Xe.strm.avail_out?3:4):Xe.last_lit&&(tt(Xe,!1),0===Xe.strm.avail_out)?1:2}(ve,wt):le[ve.level].func(ve,wt);if(3!==Lt&&4!==Lt||(ve.status=666),1===Lt||3===Lt)return 0===q.avail_out&&(ve.last_flush=-1),0;if(2===Lt&&(1===wt?ne._tr_align(ve):5!==wt&&(ne._tr_stored_block(ve,0,0,!1),3===wt&&(Wn(ve.head),0===ve.lookahead&&(ve.strstart=0,ve.block_start=0,ve.insert=0))),st(q),0===q.avail_out))return ve.last_flush=-1,0}return 4!==wt?0:ve.wrap<=0?1:(2===ve.wrap?(pt(ve,255&q.adler),pt(ve,q.adler>>8&255),pt(ve,q.adler>>16&255),pt(ve,q.adler>>24&255),pt(ve,255&q.total_in),pt(ve,q.total_in>>8&255),pt(ve,q.total_in>>16&255),pt(ve,q.total_in>>24&255)):(un(ve,q.adler>>>16),un(ve,65535&q.adler)),st(q),0<ve.wrap&&(ve.wrap=-ve.wrap),0!==ve.pending?0:1)},Be.deflateEnd=function(q){var wt;return q&&q.state?42!==(wt=q.state.status)&&69!==wt&&73!==wt&&91!==wt&&103!==wt&&113!==wt&&666!==wt?dn(q,-2):(q.state=null,113===wt?dn(q,-3):0):-2},Be.deflateSetDictionary=function(q,wt){var ct,ve,de,Ue,Dt,Lt,Xe,$t,fn=wt.length;if(!q||!q.state||2===(Ue=(ct=q.state).wrap)||1===Ue&&42!==ct.status||ct.lookahead)return-2;for(1===Ue&&(q.adler=me(q.adler,wt,fn,0)),ct.wrap=0,fn>=ct.w_size&&(0===Ue&&(Wn(ct.head),ct.strstart=0,ct.block_start=0,ct.insert=0),$t=new be.Buf8(ct.w_size),be.arraySet($t,wt,fn-ct.w_size,ct.w_size,0),wt=$t,fn=ct.w_size),Dt=q.avail_in,Lt=q.next_in,Xe=q.input,q.avail_in=fn,q.next_in=0,q.input=wt,ci(ct);ct.lookahead>=3;){for(ve=ct.strstart,de=ct.lookahead-2;ct.ins_h=(ct.ins_h<<ct.hash_shift^ct.window[ve+3-1])&ct.hash_mask,ct.prev[ve&ct.w_mask]=ct.head[ct.ins_h],ct.head[ct.ins_h]=ve,ve++,--de;);ct.strstart=ve,ct.lookahead=2,ci(ct)}return ct.strstart+=ct.lookahead,ct.block_start=ct.strstart,ct.insert=ct.lookahead,ct.lookahead=0,ct.match_length=ct.prev_length=2,ct.match_available=0,q.next_in=Lt,q.input=Xe,q.avail_in=Dt,ct.wrap=Ue,0},Be.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(De,Ct,Be){"use strict";Ct.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(De,Ct,Be){"use strict";Ct.exports=function(le,be){var ne,me,Pe,Ne,Re,Le,oe,Ce,Te,se,fe,_e,ze,_t,We,Ot,St,qt,ht,jt,Bn,Ee,mt,X,yt;X=le.input,Pe=(me=le.next_in)+(le.avail_in-5),yt=le.output,Re=(Ne=le.next_out)-(be-le.avail_out),Le=Ne+(le.avail_out-257),oe=(ne=le.state).dmax,Ce=ne.wsize,Te=ne.whave,se=ne.wnext,fe=ne.window,_e=ne.hold,ze=ne.bits,_t=ne.lencode,We=ne.distcode,Ot=(1<<ne.lenbits)-1,St=(1<<ne.distbits)-1;e:do{ze<15&&(_e+=X[me++]<<ze,_e+=X[me++]<<(ze+=8),ze+=8),qt=_t[_e&Ot];t:for(;;){if(_e>>>=ht=qt>>>24,ze-=ht,0==(ht=qt>>>16&255))yt[Ne++]=65535&qt;else{if(!(16&ht)){if(0==(64&ht)){qt=_t[(65535&qt)+(_e&(1<<ht)-1)];continue t}if(32&ht){ne.mode=12;break e}le.msg="invalid literal/length code",ne.mode=30;break e}jt=65535&qt,(ht&=15)&&(ze<ht&&(_e+=X[me++]<<ze,ze+=8),jt+=_e&(1<<ht)-1,_e>>>=ht,ze-=ht),ze<15&&(_e+=X[me++]<<ze,_e+=X[me++]<<(ze+=8),ze+=8),qt=We[_e&St];n:for(;;){if(_e>>>=ht=qt>>>24,ze-=ht,!(16&(ht=qt>>>16&255))){if(0==(64&ht)){qt=We[(65535&qt)+(_e&(1<<ht)-1)];continue n}le.msg="invalid distance code",ne.mode=30;break e}if(Bn=65535&qt,ze<(ht&=15)&&(_e+=X[me++]<<ze,(ze+=8)<ht&&(_e+=X[me++]<<ze,ze+=8)),oe<(Bn+=_e&(1<<ht)-1)){le.msg="invalid distance too far back",ne.mode=30;break e}if(_e>>>=ht,ze-=ht,(ht=Ne-Re)<Bn){if(Te<(ht=Bn-ht)&&ne.sane){le.msg="invalid distance too far back",ne.mode=30;break e}if(mt=fe,(Ee=0)===se){if(Ee+=Ce-ht,ht<jt){for(jt-=ht;yt[Ne++]=fe[Ee++],--ht;);Ee=Ne-Bn,mt=yt}}else if(se<ht){if(Ee+=Ce+se-ht,(ht-=se)<jt){for(jt-=ht;yt[Ne++]=fe[Ee++],--ht;);if(Ee=0,se<jt){for(jt-=ht=se;yt[Ne++]=fe[Ee++],--ht;);Ee=Ne-Bn,mt=yt}}}else if(Ee+=se-ht,ht<jt){for(jt-=ht;yt[Ne++]=fe[Ee++],--ht;);Ee=Ne-Bn,mt=yt}for(;2<jt;)yt[Ne++]=mt[Ee++],yt[Ne++]=mt[Ee++],yt[Ne++]=mt[Ee++],jt-=3;jt&&(yt[Ne++]=mt[Ee++],1<jt&&(yt[Ne++]=mt[Ee++]))}else{for(Ee=Ne-Bn;yt[Ne++]=yt[Ee++],yt[Ne++]=yt[Ee++],yt[Ne++]=yt[Ee++],2<(jt-=3););jt&&(yt[Ne++]=yt[Ee++],1<jt&&(yt[Ne++]=yt[Ee++]))}break}}break}}while(me<Pe&&Ne<Le);me-=jt=ze>>3,_e&=(1<<(ze-=jt<<3))-1,le.next_in=me,le.next_out=Ne,le.avail_in=me<Pe?Pe-me+5:5-(me-Pe),le.avail_out=Ne<Le?Le-Ne+257:257-(Ne-Le),ne.hold=_e,ne.bits=ze}},{}],49:[function(De,Ct,Be){"use strict";var le=De("../utils/common"),be=De("./adler32"),ne=De("./crc32"),me=De("./inffast"),Pe=De("./inftrees");function fe(Ee){return(Ee>>>24&255)+(Ee>>>8&65280)+((65280&Ee)<<8)+((255&Ee)<<24)}function _e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new le.Buf16(320),this.work=new le.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ze(Ee){var mt;return Ee&&Ee.state?(Ee.total_in=Ee.total_out=(mt=Ee.state).total=0,Ee.msg="",mt.wrap&&(Ee.adler=1&mt.wrap),mt.mode=1,mt.last=0,mt.havedict=0,mt.dmax=32768,mt.head=null,mt.hold=0,mt.bits=0,mt.lencode=mt.lendyn=new le.Buf32(852),mt.distcode=mt.distdyn=new le.Buf32(592),mt.sane=1,mt.back=-1,0):-2}function _t(Ee){var mt;return Ee&&Ee.state?((mt=Ee.state).wsize=0,mt.whave=0,mt.wnext=0,ze(Ee)):-2}function We(Ee,mt){var X,yt;return Ee&&Ee.state?(yt=Ee.state,mt<0?(X=0,mt=-mt):(X=1+(mt>>4),mt<48&&(mt&=15)),mt&&(mt<8||15<mt)?-2:(null!==yt.window&&yt.wbits!==mt&&(yt.window=null),yt.wrap=X,yt.wbits=mt,_t(Ee))):-2}function Ot(Ee,mt){var X,yt;return Ee?(yt=new _e,(Ee.state=yt).window=null,0!==(X=We(Ee,mt))&&(Ee.state=null),X):-2}var St,qt,ht=!0;function jt(Ee){if(ht){var mt;for(St=new le.Buf32(512),qt=new le.Buf32(32),mt=0;mt<144;)Ee.lens[mt++]=8;for(;mt<256;)Ee.lens[mt++]=9;for(;mt<280;)Ee.lens[mt++]=7;for(;mt<288;)Ee.lens[mt++]=8;for(Pe(1,Ee.lens,0,288,St,0,Ee.work,{bits:9}),mt=0;mt<32;)Ee.lens[mt++]=5;Pe(2,Ee.lens,0,32,qt,0,Ee.work,{bits:5}),ht=!1}Ee.lencode=St,Ee.lenbits=9,Ee.distcode=qt,Ee.distbits=5}function Bn(Ee,mt,X,yt){var ei,Vt=Ee.state;return null===Vt.window&&(Vt.wsize=1<<Vt.wbits,Vt.wnext=0,Vt.whave=0,Vt.window=new le.Buf8(Vt.wsize)),yt>=Vt.wsize?(le.arraySet(Vt.window,mt,X-Vt.wsize,Vt.wsize,0),Vt.wnext=0,Vt.whave=Vt.wsize):(yt<(ei=Vt.wsize-Vt.wnext)&&(ei=yt),le.arraySet(Vt.window,mt,X-yt,ei,Vt.wnext),(yt-=ei)?(le.arraySet(Vt.window,mt,X-yt,yt,0),Vt.wnext=yt,Vt.whave=Vt.wsize):(Vt.wnext+=ei,Vt.wnext===Vt.wsize&&(Vt.wnext=0),Vt.whave<Vt.wsize&&(Vt.whave+=ei))),0}Be.inflateReset=_t,Be.inflateReset2=We,Be.inflateResetKeep=ze,Be.inflateInit=function(Ee){return Ot(Ee,15)},Be.inflateInit2=Ot,Be.inflate=function(Ee,mt){var X,yt,ei,Vt,dn,Gt,Wn,st,tt,pt,un,Qt,ci,Ti,an,zi,Ns,Lr,nc,ns,q,wt,ct,ve,de=0,Ue=new le.Buf8(4),Dt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Ee||!Ee.state||!Ee.output||!Ee.input&&0!==Ee.avail_in)return-2;12===(X=Ee.state).mode&&(X.mode=13),dn=Ee.next_out,ei=Ee.output,Vt=Ee.next_in,yt=Ee.input,st=X.hold,tt=X.bits,pt=Gt=Ee.avail_in,un=Wn=Ee.avail_out,wt=0;e:for(;;)switch(X.mode){case 1:if(0===X.wrap){X.mode=13;break}for(;tt<16;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}if(2&X.wrap&&35615===st){Ue[X.check=0]=255&st,Ue[1]=st>>>8&255,X.check=ne(X.check,Ue,2,0),tt=st=0,X.mode=2;break}if(X.flags=0,X.head&&(X.head.done=!1),!(1&X.wrap)||(((255&st)<<8)+(st>>8))%31){Ee.msg="incorrect header check",X.mode=30;break}if(8!=(15&st)){Ee.msg="unknown compression method",X.mode=30;break}if(tt-=4,q=8+(15&(st>>>=4)),0===X.wbits)X.wbits=q;else if(q>X.wbits){Ee.msg="invalid window size",X.mode=30;break}X.dmax=1<<q,Ee.adler=X.check=1,X.mode=512&st?10:12,tt=st=0;break;case 2:for(;tt<16;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}if(X.flags=st,8!=(255&X.flags)){Ee.msg="unknown compression method",X.mode=30;break}if(57344&X.flags){Ee.msg="unknown header flags set",X.mode=30;break}X.head&&(X.head.text=st>>8&1),512&X.flags&&(Ue[0]=255&st,Ue[1]=st>>>8&255,X.check=ne(X.check,Ue,2,0)),tt=st=0,X.mode=3;case 3:for(;tt<32;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}X.head&&(X.head.time=st),512&X.flags&&(Ue[0]=255&st,Ue[1]=st>>>8&255,Ue[2]=st>>>16&255,Ue[3]=st>>>24&255,X.check=ne(X.check,Ue,4,0)),tt=st=0,X.mode=4;case 4:for(;tt<16;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}X.head&&(X.head.xflags=255&st,X.head.os=st>>8),512&X.flags&&(Ue[0]=255&st,Ue[1]=st>>>8&255,X.check=ne(X.check,Ue,2,0)),tt=st=0,X.mode=5;case 5:if(1024&X.flags){for(;tt<16;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}X.length=st,X.head&&(X.head.extra_len=st),512&X.flags&&(Ue[0]=255&st,Ue[1]=st>>>8&255,X.check=ne(X.check,Ue,2,0)),tt=st=0}else X.head&&(X.head.extra=null);X.mode=6;case 6:if(1024&X.flags&&(Gt<(Qt=X.length)&&(Qt=Gt),Qt&&(X.head&&(q=X.head.extra_len-X.length,X.head.extra||(X.head.extra=new Array(X.head.extra_len)),le.arraySet(X.head.extra,yt,Vt,Qt,q)),512&X.flags&&(X.check=ne(X.check,yt,Qt,Vt)),Gt-=Qt,Vt+=Qt,X.length-=Qt),X.length))break e;X.length=0,X.mode=7;case 7:if(2048&X.flags){if(0===Gt)break e;for(Qt=0;q=yt[Vt+Qt++],X.head&&q&&X.length<65536&&(X.head.name+=String.fromCharCode(q)),q&&Qt<Gt;);if(512&X.flags&&(X.check=ne(X.check,yt,Qt,Vt)),Gt-=Qt,Vt+=Qt,q)break e}else X.head&&(X.head.name=null);X.length=0,X.mode=8;case 8:if(4096&X.flags){if(0===Gt)break e;for(Qt=0;q=yt[Vt+Qt++],X.head&&q&&X.length<65536&&(X.head.comment+=String.fromCharCode(q)),q&&Qt<Gt;);if(512&X.flags&&(X.check=ne(X.check,yt,Qt,Vt)),Gt-=Qt,Vt+=Qt,q)break e}else X.head&&(X.head.comment=null);X.mode=9;case 9:if(512&X.flags){for(;tt<16;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}if(st!==(65535&X.check)){Ee.msg="header crc mismatch",X.mode=30;break}tt=st=0}X.head&&(X.head.hcrc=X.flags>>9&1,X.head.done=!0),Ee.adler=X.check=0,X.mode=12;break;case 10:for(;tt<32;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}Ee.adler=X.check=fe(st),tt=st=0,X.mode=11;case 11:if(0===X.havedict)return Ee.next_out=dn,Ee.avail_out=Wn,Ee.next_in=Vt,Ee.avail_in=Gt,X.hold=st,X.bits=tt,2;Ee.adler=X.check=1,X.mode=12;case 12:if(5===mt||6===mt)break e;case 13:if(X.last){st>>>=7&tt,tt-=7&tt,X.mode=27;break}for(;tt<3;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}switch(X.last=1&st,tt-=1,3&(st>>>=1)){case 0:X.mode=14;break;case 1:if(jt(X),X.mode=20,6!==mt)break;st>>>=2,tt-=2;break e;case 2:X.mode=17;break;case 3:Ee.msg="invalid block type",X.mode=30}st>>>=2,tt-=2;break;case 14:for(st>>>=7&tt,tt-=7&tt;tt<32;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}if((65535&st)!=(st>>>16^65535)){Ee.msg="invalid stored block lengths",X.mode=30;break}if(X.length=65535&st,tt=st=0,X.mode=15,6===mt)break e;case 15:X.mode=16;case 16:if(Qt=X.length){if(Gt<Qt&&(Qt=Gt),Wn<Qt&&(Qt=Wn),0===Qt)break e;le.arraySet(ei,yt,Vt,Qt,dn),Gt-=Qt,Vt+=Qt,Wn-=Qt,dn+=Qt,X.length-=Qt;break}X.mode=12;break;case 17:for(;tt<14;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}if(X.nlen=257+(31&st),tt-=5,X.ndist=1+(31&(st>>>=5)),tt-=5,X.ncode=4+(15&(st>>>=5)),st>>>=4,tt-=4,286<X.nlen||30<X.ndist){Ee.msg="too many length or distance symbols",X.mode=30;break}X.have=0,X.mode=18;case 18:for(;X.have<X.ncode;){for(;tt<3;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}X.lens[Dt[X.have++]]=7&st,st>>>=3,tt-=3}for(;X.have<19;)X.lens[Dt[X.have++]]=0;if(X.lencode=X.lendyn,X.lenbits=7,wt=Pe(0,X.lens,0,19,X.lencode,0,X.work,ct={bits:X.lenbits}),X.lenbits=ct.bits,wt){Ee.msg="invalid code lengths set",X.mode=30;break}X.have=0,X.mode=19;case 19:for(;X.have<X.nlen+X.ndist;){for(;zi=(de=X.lencode[st&(1<<X.lenbits)-1])>>>16&255,Ns=65535&de,!((an=de>>>24)<=tt);){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}if(Ns<16)st>>>=an,tt-=an,X.lens[X.have++]=Ns;else{if(16===Ns){for(ve=an+2;tt<ve;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}if(st>>>=an,tt-=an,0===X.have){Ee.msg="invalid bit length repeat",X.mode=30;break}q=X.lens[X.have-1],Qt=3+(3&st),st>>>=2,tt-=2}else if(17===Ns){for(ve=an+3;tt<ve;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}tt-=an,q=0,Qt=3+(7&(st>>>=an)),st>>>=3,tt-=3}else{for(ve=an+7;tt<ve;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}tt-=an,q=0,Qt=11+(127&(st>>>=an)),st>>>=7,tt-=7}if(X.have+Qt>X.nlen+X.ndist){Ee.msg="invalid bit length repeat",X.mode=30;break}for(;Qt--;)X.lens[X.have++]=q}}if(30===X.mode)break;if(0===X.lens[256]){Ee.msg="invalid code -- missing end-of-block",X.mode=30;break}if(X.lenbits=9,wt=Pe(1,X.lens,0,X.nlen,X.lencode,0,X.work,ct={bits:X.lenbits}),X.lenbits=ct.bits,wt){Ee.msg="invalid literal/lengths set",X.mode=30;break}if(X.distbits=6,X.distcode=X.distdyn,wt=Pe(2,X.lens,X.nlen,X.ndist,X.distcode,0,X.work,ct={bits:X.distbits}),X.distbits=ct.bits,wt){Ee.msg="invalid distances set",X.mode=30;break}if(X.mode=20,6===mt)break e;case 20:X.mode=21;case 21:if(6<=Gt&&258<=Wn){Ee.next_out=dn,Ee.avail_out=Wn,Ee.next_in=Vt,Ee.avail_in=Gt,X.hold=st,X.bits=tt,me(Ee,un),dn=Ee.next_out,ei=Ee.output,Wn=Ee.avail_out,Vt=Ee.next_in,yt=Ee.input,Gt=Ee.avail_in,st=X.hold,tt=X.bits,12===X.mode&&(X.back=-1);break}for(X.back=0;zi=(de=X.lencode[st&(1<<X.lenbits)-1])>>>16&255,Ns=65535&de,!((an=de>>>24)<=tt);){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}if(zi&&0==(240&zi)){for(Lr=an,nc=zi,ns=Ns;zi=(de=X.lencode[ns+((st&(1<<Lr+nc)-1)>>Lr)])>>>16&255,Ns=65535&de,!(Lr+(an=de>>>24)<=tt);){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}st>>>=Lr,tt-=Lr,X.back+=Lr}if(st>>>=an,tt-=an,X.back+=an,X.length=Ns,0===zi){X.mode=26;break}if(32&zi){X.back=-1,X.mode=12;break}if(64&zi){Ee.msg="invalid literal/length code",X.mode=30;break}X.extra=15&zi,X.mode=22;case 22:if(X.extra){for(ve=X.extra;tt<ve;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}X.length+=st&(1<<X.extra)-1,st>>>=X.extra,tt-=X.extra,X.back+=X.extra}X.was=X.length,X.mode=23;case 23:for(;zi=(de=X.distcode[st&(1<<X.distbits)-1])>>>16&255,Ns=65535&de,!((an=de>>>24)<=tt);){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}if(0==(240&zi)){for(Lr=an,nc=zi,ns=Ns;zi=(de=X.distcode[ns+((st&(1<<Lr+nc)-1)>>Lr)])>>>16&255,Ns=65535&de,!(Lr+(an=de>>>24)<=tt);){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}st>>>=Lr,tt-=Lr,X.back+=Lr}if(st>>>=an,tt-=an,X.back+=an,64&zi){Ee.msg="invalid distance code",X.mode=30;break}X.offset=Ns,X.extra=15&zi,X.mode=24;case 24:if(X.extra){for(ve=X.extra;tt<ve;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}X.offset+=st&(1<<X.extra)-1,st>>>=X.extra,tt-=X.extra,X.back+=X.extra}if(X.offset>X.dmax){Ee.msg="invalid distance too far back",X.mode=30;break}X.mode=25;case 25:if(0===Wn)break e;if(X.offset>(Qt=un-Wn)){if((Qt=X.offset-Qt)>X.whave&&X.sane){Ee.msg="invalid distance too far back",X.mode=30;break}ci=Qt>X.wnext?X.wsize-(Qt-=X.wnext):X.wnext-Qt,Qt>X.length&&(Qt=X.length),Ti=X.window}else Ti=ei,ci=dn-X.offset,Qt=X.length;for(Wn<Qt&&(Qt=Wn),Wn-=Qt,X.length-=Qt;ei[dn++]=Ti[ci++],--Qt;);0===X.length&&(X.mode=21);break;case 26:if(0===Wn)break e;ei[dn++]=X.length,Wn--,X.mode=21;break;case 27:if(X.wrap){for(;tt<32;){if(0===Gt)break e;Gt--,st|=yt[Vt++]<<tt,tt+=8}if(Ee.total_out+=un-=Wn,X.total+=un,un&&(Ee.adler=X.check=X.flags?ne(X.check,ei,un,dn-un):be(X.check,ei,un,dn-un)),un=Wn,(X.flags?st:fe(st))!==X.check){Ee.msg="incorrect data check",X.mode=30;break}tt=st=0}X.mode=28;case 28:if(X.wrap&&X.flags){for(;tt<32;){if(0===Gt)break e;Gt--,st+=yt[Vt++]<<tt,tt+=8}if(st!==(4294967295&X.total)){Ee.msg="incorrect length check",X.mode=30;break}tt=st=0}X.mode=29;case 29:wt=1;break e;case 30:wt=-3;break e;case 31:return-4;default:return-2}return Ee.next_out=dn,Ee.avail_out=Wn,Ee.next_in=Vt,Ee.avail_in=Gt,X.hold=st,X.bits=tt,(X.wsize||un!==Ee.avail_out&&X.mode<30&&(X.mode<27||4!==mt))&&Bn(Ee,Ee.output,Ee.next_out,un-Ee.avail_out)?(X.mode=31,-4):(un-=Ee.avail_out,Ee.total_in+=pt-=Ee.avail_in,Ee.total_out+=un,X.total+=un,X.wrap&&un&&(Ee.adler=X.check=X.flags?ne(X.check,ei,un,Ee.next_out-un):be(X.check,ei,un,Ee.next_out-un)),Ee.data_type=X.bits+(X.last?64:0)+(12===X.mode?128:0)+(20===X.mode||15===X.mode?256:0),(0==pt&&0===un||4===mt)&&0===wt&&(wt=-5),wt)},Be.inflateEnd=function(Ee){if(!Ee||!Ee.state)return-2;var mt=Ee.state;return mt.window&&(mt.window=null),Ee.state=null,0},Be.inflateGetHeader=function(Ee,mt){var X;return Ee&&Ee.state?0==(2&(X=Ee.state).wrap)?-2:((X.head=mt).done=!1,0):-2},Be.inflateSetDictionary=function(Ee,mt){var X,yt=mt.length;return Ee&&Ee.state?0!==(X=Ee.state).wrap&&11!==X.mode?-2:11===X.mode&&be(1,mt,yt,0)!==X.check?-3:Bn(Ee,mt,yt,yt)?(X.mode=31,-4):(X.havedict=1,0):-2},Be.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(De,Ct,Be){"use strict";var le=De("../utils/common"),be=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ne=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Pe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Ct.exports=function(Ne,Re,Le,oe,Ce,Te,se,fe){var _e,ze,_t,We,Ot,St,qt,ht,jt,Bn=fe.bits,Ee=0,mt=0,X=0,yt=0,ei=0,Vt=0,dn=0,Gt=0,Wn=0,st=0,tt=null,pt=0,un=new le.Buf16(16),Qt=new le.Buf16(16),ci=null,Ti=0;for(Ee=0;Ee<=15;Ee++)un[Ee]=0;for(mt=0;mt<oe;mt++)un[Re[Le+mt]]++;for(ei=Bn,yt=15;1<=yt&&0===un[yt];yt--);if(yt<ei&&(ei=yt),0===yt)return Ce[Te++]=20971520,Ce[Te++]=20971520,fe.bits=1,0;for(X=1;X<yt&&0===un[X];X++);for(ei<X&&(ei=X),Ee=Gt=1;Ee<=15;Ee++)if(Gt<<=1,(Gt-=un[Ee])<0)return-1;if(0<Gt&&(0===Ne||1!==yt))return-1;for(Qt[1]=0,Ee=1;Ee<15;Ee++)Qt[Ee+1]=Qt[Ee]+un[Ee];for(mt=0;mt<oe;mt++)0!==Re[Le+mt]&&(se[Qt[Re[Le+mt]]++]=mt);if(St=0===Ne?(tt=ci=se,19):1===Ne?(tt=be,pt-=257,ci=ne,Ti-=257,256):(tt=me,ci=Pe,-1),Ee=X,Ot=Te,dn=mt=st=0,_t=-1,We=(Wn=1<<(Vt=ei))-1,1===Ne&&852<Wn||2===Ne&&592<Wn)return 1;for(;;){for(qt=Ee-dn,jt=se[mt]<St?(ht=0,se[mt]):se[mt]>St?(ht=ci[Ti+se[mt]],tt[pt+se[mt]]):(ht=96,0),_e=1<<Ee-dn,X=ze=1<<Vt;Ce[Ot+(st>>dn)+(ze-=_e)]=qt<<24|ht<<16|jt|0,0!==ze;);for(_e=1<<Ee-1;st&_e;)_e>>=1;if(0!==_e?(st&=_e-1,st+=_e):st=0,mt++,0==--un[Ee]){if(Ee===yt)break;Ee=Re[Le+se[mt]]}if(ei<Ee&&(st&We)!==_t){for(0===dn&&(dn=ei),Ot+=X,Gt=1<<(Vt=Ee-dn);Vt+dn<yt&&!((Gt-=un[Vt+dn])<=0);)Vt++,Gt<<=1;if(Wn+=1<<Vt,1===Ne&&852<Wn||2===Ne&&592<Wn)return 1;Ce[_t=st&We]=ei<<24|Vt<<16|Ot-Te|0}}return 0!==st&&(Ce[Ot+st]=Ee-dn<<24|64<<16|0),fe.bits=ei,0}},{"../utils/common":41}],51:[function(De,Ct,Be){"use strict";Ct.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(De,Ct,Be){"use strict";var le=De("../utils/common");function me(de){for(var Ue=de.length;0<=--Ue;)de[Ue]=0}var St=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],qt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ht=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],jt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Bn=new Array(576);me(Bn);var Ee=new Array(60);me(Ee);var mt=new Array(512);me(mt);var X=new Array(256);me(X);var yt=new Array(29);me(yt);var ei,Vt,dn,Gt=new Array(30);function Wn(de,Ue,Dt,Lt,Xe){this.static_tree=de,this.extra_bits=Ue,this.extra_base=Dt,this.elems=Lt,this.max_length=Xe,this.has_stree=de&&de.length}function st(de,Ue){this.dyn_tree=de,this.max_code=0,this.stat_desc=Ue}function tt(de){return de<256?mt[de]:mt[256+(de>>>7)]}function pt(de,Ue){de.pending_buf[de.pending++]=255&Ue,de.pending_buf[de.pending++]=Ue>>>8&255}function un(de,Ue,Dt){de.bi_valid>16-Dt?(de.bi_buf|=Ue<<de.bi_valid&65535,pt(de,de.bi_buf),de.bi_buf=Ue>>16-de.bi_valid,de.bi_valid+=Dt-16):(de.bi_buf|=Ue<<de.bi_valid&65535,de.bi_valid+=Dt)}function Qt(de,Ue,Dt){un(de,Dt[2*Ue],Dt[2*Ue+1])}function ci(de,Ue){for(var Dt=0;Dt|=1&de,de>>>=1,Dt<<=1,0<--Ue;);return Dt>>>1}function Ti(de,Ue,Dt){var Lt,Xe,$t=new Array(16),fn=0;for(Lt=1;Lt<=15;Lt++)$t[Lt]=fn=fn+Dt[Lt-1]<<1;for(Xe=0;Xe<=Ue;Xe++){var Ht=de[2*Xe+1];0!==Ht&&(de[2*Xe]=ci($t[Ht]++,Ht))}}function an(de){var Ue;for(Ue=0;Ue<286;Ue++)de.dyn_ltree[2*Ue]=0;for(Ue=0;Ue<30;Ue++)de.dyn_dtree[2*Ue]=0;for(Ue=0;Ue<19;Ue++)de.bl_tree[2*Ue]=0;de.dyn_ltree[512]=1,de.opt_len=de.static_len=0,de.last_lit=de.matches=0}function zi(de){8<de.bi_valid?pt(de,de.bi_buf):0<de.bi_valid&&(de.pending_buf[de.pending++]=de.bi_buf),de.bi_buf=0,de.bi_valid=0}function Ns(de,Ue,Dt,Lt){var Xe=2*Ue,$t=2*Dt;return de[Xe]<de[$t]||de[Xe]===de[$t]&&Lt[Ue]<=Lt[Dt]}function Lr(de,Ue,Dt){for(var Lt=de.heap[Dt],Xe=Dt<<1;Xe<=de.heap_len&&(Xe<de.heap_len&&Ns(Ue,de.heap[Xe+1],de.heap[Xe],de.depth)&&Xe++,!Ns(Ue,Lt,de.heap[Xe],de.depth));)de.heap[Dt]=de.heap[Xe],Dt=Xe,Xe<<=1;de.heap[Dt]=Lt}function nc(de,Ue,Dt){var Lt,Xe,$t,fn,Ht=0;if(0!==de.last_lit)for(;Lt=de.pending_buf[de.d_buf+2*Ht]<<8|de.pending_buf[de.d_buf+2*Ht+1],Xe=de.pending_buf[de.l_buf+Ht],Ht++,0===Lt?Qt(de,Xe,Ue):(Qt(de,($t=X[Xe])+256+1,Ue),0!==(fn=St[$t])&&un(de,Xe-=yt[$t],fn),Qt(de,$t=tt(--Lt),Dt),0!==(fn=qt[$t])&&un(de,Lt-=Gt[$t],fn)),Ht<de.last_lit;);Qt(de,256,Ue)}function ns(de,Ue){var Dt,Lt,Xe,$t=Ue.dyn_tree,fn=Ue.stat_desc.static_tree,Ht=Ue.stat_desc.has_stree,Rn=Ue.stat_desc.elems,xr=-1;for(de.heap_len=0,de.heap_max=573,Dt=0;Dt<Rn;Dt++)0!==$t[2*Dt]?(de.heap[++de.heap_len]=xr=Dt,de.depth[Dt]=0):$t[2*Dt+1]=0;for(;de.heap_len<2;)$t[2*(Xe=de.heap[++de.heap_len]=xr<2?++xr:0)]=1,de.depth[Xe]=0,de.opt_len--,Ht&&(de.static_len-=fn[2*Xe+1]);for(Ue.max_code=xr,Dt=de.heap_len>>1;1<=Dt;Dt--)Lr(de,$t,Dt);for(Xe=Rn;Dt=de.heap[1],de.heap[1]=de.heap[de.heap_len--],Lr(de,$t,1),Lt=de.heap[1],de.heap[--de.heap_max]=Dt,de.heap[--de.heap_max]=Lt,$t[2*Xe]=$t[2*Dt]+$t[2*Lt],de.depth[Xe]=(de.depth[Dt]>=de.depth[Lt]?de.depth[Dt]:de.depth[Lt])+1,$t[2*Dt+1]=$t[2*Lt+1]=Xe,de.heap[1]=Xe++,Lr(de,$t,1),2<=de.heap_len;);de.heap[--de.heap_max]=de.heap[1],function(Ri,Ga){var Pf,ic,Ig,is,x_,Of,Pl=Ga.dyn_tree,C_=Ga.max_code,Vx=Ga.stat_desc.static_tree,zx=Ga.stat_desc.has_stree,gE=Ga.stat_desc.extra_bits,w_=Ga.stat_desc.extra_base,ld=Ga.stat_desc.max_length,Rf=0;for(is=0;is<=15;is++)Ri.bl_count[is]=0;for(Pl[2*Ri.heap[Ri.heap_max]+1]=0,Pf=Ri.heap_max+1;Pf<573;Pf++)ld<(is=Pl[2*Pl[2*(ic=Ri.heap[Pf])+1]+1]+1)&&(is=ld,Rf++),Pl[2*ic+1]=is,C_<ic||(Ri.bl_count[is]++,x_=0,w_<=ic&&(x_=gE[ic-w_]),Ri.opt_len+=(Of=Pl[2*ic])*(is+x_),zx&&(Ri.static_len+=Of*(Vx[2*ic+1]+x_)));if(0!==Rf){do{for(is=ld-1;0===Ri.bl_count[is];)is--;Ri.bl_count[is]--,Ri.bl_count[is+1]+=2,Ri.bl_count[ld]--,Rf-=2}while(0<Rf);for(is=ld;0!==is;is--)for(ic=Ri.bl_count[is];0!==ic;)C_<(Ig=Ri.heap[--Pf])||(Pl[2*Ig+1]!==is&&(Ri.opt_len+=(is-Pl[2*Ig+1])*Pl[2*Ig],Pl[2*Ig+1]=is),ic--)}}(de,Ue),Ti($t,xr,de.bl_count)}function q(de,Ue,Dt){var Lt,Xe,$t=-1,fn=Ue[1],Ht=0,Rn=7,xr=4;for(0===fn&&(Rn=138,xr=3),Ue[2*(Dt+1)+1]=65535,Lt=0;Lt<=Dt;Lt++)Xe=fn,fn=Ue[2*(Lt+1)+1],++Ht<Rn&&Xe===fn||(Ht<xr?de.bl_tree[2*Xe]+=Ht:0!==Xe?(Xe!==$t&&de.bl_tree[2*Xe]++,de.bl_tree[32]++):Ht<=10?de.bl_tree[34]++:de.bl_tree[36]++,$t=Xe,xr=(Ht=0)===fn?(Rn=138,3):Xe===fn?(Rn=6,3):(Rn=7,4))}function wt(de,Ue,Dt){var Lt,Xe,$t=-1,fn=Ue[1],Ht=0,Rn=7,xr=4;for(0===fn&&(Rn=138,xr=3),Lt=0;Lt<=Dt;Lt++)if(Xe=fn,fn=Ue[2*(Lt+1)+1],!(++Ht<Rn&&Xe===fn)){if(Ht<xr)for(;Qt(de,Xe,de.bl_tree),0!=--Ht;);else 0!==Xe?(Xe!==$t&&(Qt(de,Xe,de.bl_tree),Ht--),Qt(de,16,de.bl_tree),un(de,Ht-3,2)):Ht<=10?(Qt(de,17,de.bl_tree),un(de,Ht-3,3)):(Qt(de,18,de.bl_tree),un(de,Ht-11,7));$t=Xe,xr=(Ht=0)===fn?(Rn=138,3):Xe===fn?(Rn=6,3):(Rn=7,4)}}me(Gt);var ct=!1;function ve(de,Ue,Dt,Lt){var Xe,$t,fn;un(de,0+(Lt?1:0),3),$t=Ue,fn=Dt,zi(Xe=de),pt(Xe,fn),pt(Xe,~fn),le.arraySet(Xe.pending_buf,Xe.window,$t,fn,Xe.pending),Xe.pending+=fn}Be._tr_init=function(de){ct||(function(){var Ue,Dt,Lt,Xe,$t,fn=new Array(16);for(Xe=Lt=0;Xe<28;Xe++)for(yt[Xe]=Lt,Ue=0;Ue<1<<St[Xe];Ue++)X[Lt++]=Xe;for(X[Lt-1]=Xe,Xe=$t=0;Xe<16;Xe++)for(Gt[Xe]=$t,Ue=0;Ue<1<<qt[Xe];Ue++)mt[$t++]=Xe;for($t>>=7;Xe<30;Xe++)for(Gt[Xe]=$t<<7,Ue=0;Ue<1<<qt[Xe]-7;Ue++)mt[256+$t++]=Xe;for(Dt=0;Dt<=15;Dt++)fn[Dt]=0;for(Ue=0;Ue<=143;)Bn[2*Ue+1]=8,Ue++,fn[8]++;for(;Ue<=255;)Bn[2*Ue+1]=9,Ue++,fn[9]++;for(;Ue<=279;)Bn[2*Ue+1]=7,Ue++,fn[7]++;for(;Ue<=287;)Bn[2*Ue+1]=8,Ue++,fn[8]++;for(Ti(Bn,287,fn),Ue=0;Ue<30;Ue++)Ee[2*Ue+1]=5,Ee[2*Ue]=ci(Ue,5);ei=new Wn(Bn,St,257,286,15),Vt=new Wn(Ee,qt,0,30,15),dn=new Wn(new Array(0),ht,0,19,7)}(),ct=!0),de.l_desc=new st(de.dyn_ltree,ei),de.d_desc=new st(de.dyn_dtree,Vt),de.bl_desc=new st(de.bl_tree,dn),de.bi_buf=0,de.bi_valid=0,an(de)},Be._tr_stored_block=ve,Be._tr_flush_block=function(de,Ue,Dt,Lt){var Xe,$t,fn=0;0<de.level?(2===de.strm.data_type&&(de.strm.data_type=function(Ht){var Rn,xr=4093624447;for(Rn=0;Rn<=31;Rn++,xr>>>=1)if(1&xr&&0!==Ht.dyn_ltree[2*Rn])return 0;if(0!==Ht.dyn_ltree[18]||0!==Ht.dyn_ltree[20]||0!==Ht.dyn_ltree[26])return 1;for(Rn=32;Rn<256;Rn++)if(0!==Ht.dyn_ltree[2*Rn])return 1;return 0}(de)),ns(de,de.l_desc),ns(de,de.d_desc),fn=function(Ht){var Rn;for(q(Ht,Ht.dyn_ltree,Ht.l_desc.max_code),q(Ht,Ht.dyn_dtree,Ht.d_desc.max_code),ns(Ht,Ht.bl_desc),Rn=18;3<=Rn&&0===Ht.bl_tree[2*jt[Rn]+1];Rn--);return Ht.opt_len+=3*(Rn+1)+5+5+4,Rn}(de),($t=de.static_len+3+7>>>3)<=(Xe=de.opt_len+3+7>>>3)&&(Xe=$t)):Xe=$t=Dt+5,Dt+4<=Xe&&-1!==Ue?ve(de,Ue,Dt,Lt):4===de.strategy||$t===Xe?(un(de,2+(Lt?1:0),3),nc(de,Bn,Ee)):(un(de,4+(Lt?1:0),3),function(Ht,Rn,xr,Ri){var Ga;for(un(Ht,Rn-257,5),un(Ht,xr-1,5),un(Ht,Ri-4,4),Ga=0;Ga<Ri;Ga++)un(Ht,Ht.bl_tree[2*jt[Ga]+1],3);wt(Ht,Ht.dyn_ltree,Rn-1),wt(Ht,Ht.dyn_dtree,xr-1)}(de,de.l_desc.max_code+1,de.d_desc.max_code+1,fn+1),nc(de,de.dyn_ltree,de.dyn_dtree)),an(de),Lt&&zi(de)},Be._tr_tally=function(de,Ue,Dt){return de.pending_buf[de.d_buf+2*de.last_lit]=Ue>>>8&255,de.pending_buf[de.d_buf+2*de.last_lit+1]=255&Ue,de.pending_buf[de.l_buf+de.last_lit]=255&Dt,de.last_lit++,0===Ue?de.dyn_ltree[2*Dt]++:(de.matches++,Ue--,de.dyn_ltree[2*(X[Dt]+256+1)]++,de.dyn_dtree[2*tt(Ue)]++),de.last_lit===de.lit_bufsize-1},Be._tr_align=function(de){var Ue;un(de,2,3),Qt(de,256,Bn),16===(Ue=de).bi_valid?(pt(Ue,Ue.bi_buf),Ue.bi_buf=0,Ue.bi_valid=0):8<=Ue.bi_valid&&(Ue.pending_buf[Ue.pending++]=255&Ue.bi_buf,Ue.bi_buf>>=8,Ue.bi_valid-=8)}},{"../utils/common":41}],53:[function(De,Ct,Be){"use strict";Ct.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(De,Ct,Be){"use strict";Ct.exports="function"==typeof setImmediate?setImmediate:function(){var le=[].slice.apply(arguments);le.splice(1,0,0),setTimeout.apply(null,le)}},{}]},{},[10])(10)}},qo=>{qo(qo.s=723)}]);