(()=>{var wt={104:(I,Se,z)=>{"use strict";function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function u(t,e,r){return(e=function bt(t){var e=function Et(t,e){if("object"!==ee(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ee(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class K{constructor(e,r){u(this,"workerId",void 0),u(this,"message",void 0),this.workerId=e,this.message=r}static builder(){return new K(-1,null)}setWorkerId(e){return this.workerId=e,this}setMessage(e){return this.message=e,this}}let Pe=(()=>{class t{constructor(r){u(this,"type",void 0),u(this,"id",0),u(this,"callbackId",-1),this.type=r,this.id=t.newId()}static newId(){return t.staticId++}setCallbackId(r){return this.callbackId=r,this}}return u(t,"staticId",0),t})(),_t=(()=>{class t extends Pe{constructor(r){super(t.TYPE),u(this,"pageLoadedFrom",void 0),this.pageLoadedFrom=r}static builder(){return new t("")}setPageLoadedFrom(r){return this.pageLoadedFrom=r,this}}return u(t,"TYPE","SetupWorkerRequest"),t})(),Re=(()=>{class t extends Pe{constructor(r){super(t.TYPE),u(this,"formula",void 0),this.formula=r}static builder(){return new t("")}setFormula(r){return this.formula=r,this}}return u(t,"TYPE","CalculateWorkerRequest"),t})();class W extends Pe{}let kt=(()=>{class t extends W{constructor(r,n){super(t.TYPE),u(this,"libraryRef",void 0),u(this,"libraryType",void 0),this.libraryRef=r,this.libraryType=n}static builder(){return new t("","")}setLibraryRef(r){return this.libraryRef=r,this}setLibraryType(r){return this.libraryType=r,this}}return u(t,"TYPE","LibraryInfoRequest"),t})(),St=(()=>{class t extends W{constructor(r,n,s){super(t.TYPE),u(this,"libraryType",void 0),u(this,"bookRef",void 0),u(this,"loadBooksEnabled",void 0),this.libraryType=r,this.bookRef=n,this.loadBooksEnabled=s}static builder(){return new t("","",!0)}setLibraryType(r){return this.libraryType=r,this}setBookRef(r){return this.bookRef=r,this}setLoadBooksEnabled(r){return this.loadBooksEnabled=r,this}}return u(t,"TYPE","BookInfoRequest"),t})(),Pt=(()=>{class t extends W{constructor(r,n,s){super(t.TYPE),u(this,"libraryType",void 0),u(this,"bookRef",void 0),u(this,"languages",void 0),this.libraryType=r,this.bookRef=n,this.languages=s}static builder(){return new t("","",[])}setLibraryType(r){return this.libraryType=r,this}setBookRef(r){return this.bookRef=r,this}setLanguages(r){return this.languages=r,this}addLanguage(r){return this.languages.push(r),this}}return u(t,"TYPE","BookRequest"),t})(),Rt=(()=>{class t extends W{constructor(r){super(t.TYPE),u(this,"pages",void 0),this.pages=r}static builder(){return new t([])}setBookPages(r){return this.pages=r,this}addBookPage(r){return this.pages.push(r),this}}return u(t,"TYPE","PagesRequest"),t})(),Tt=(()=>{class t extends W{constructor(r){super(t.TYPE),u(this,"pages",void 0),this.pages=r}static builder(){return new t([])}setPages(r){return this.pages=r,this}addPage(r){return this.pages.push(r),this}}return u(t,"TYPE","PagesResponse"),t})();class Te{constructor(e,r,n){u(this,"bookRef",void 0),u(this,"path",void 0),u(this,"content",void 0),this.bookRef=e,this.path=r,this.content=n}static builder(){return new Te("","","")}setBookRef(e){return this.bookRef=e,this}setPath(e){return this.path=e,this}setContent(e){return this.content=e,this}}let At=(()=>{class t extends W{constructor(r){super(t.TYPE),u(this,"metaBooks",void 0),this.metaBooks=r}static builder(){return new t([])}setMetaBooks(r){return this.metaBooks=r,this}addMetaBook(r){return this.metaBooks.push(r),this}}return u(t,"TYPE","BookResponse"),t})(),Mt=(()=>{class t extends W{constructor(r,n,s){super(t.TYPE),u(this,"bookRef",void 0),u(this,"metaContent",void 0),u(this,"loadBooksEnabled",void 0),this.bookRef=r,this.metaContent=n,this.loadBooksEnabled=s}static builder(){return new t("","",!0)}setBookRef(r){return this.bookRef=r,this}setMetaContent(r){return this.metaContent=r,this}setLoadBooksEnabled(r){return this.loadBooksEnabled=r,this}}return u(t,"TYPE","BookInfoResponse"),t})(),Lt=(()=>{class t extends W{constructor(r,n){super(t.TYPE),u(this,"libraryRef",void 0),u(this,"metaContent",void 0),this.libraryRef=r,this.metaContent=n}static builder(){return new t("","")}setLibraryRef(r){return this.libraryRef=r,this}setMetaContent(r){return this.metaContent=r,this}}return u(t,"TYPE","LibraryInfoResponse"),t})();class Dt{constructor(e=null){u(this,"messageSender",void 0),u(this,"requests",new Map),this.messageSender=e}send(e,r){return this.messageSender&&(this.requests.set(r.type,r),this.messageSender(e,r)),this}post(e,r){return this}runAll(e,r,n){let s=0,o=()=>{if(s>=e.length)return void(n&&n(!0));let a=e[s++];r(a,l=>{l?o():n&&n(!1)})};o()}}class le{static merge(e,r){if(!e&&!r)return"";if(!e)return r;if(!r)return e;let n=e.endsWith("/"),s=r.startsWith("/"),o=e;return n!=s?o+=r:n?o+=s?r.substring(1):r:o?o+="/"+r:o=r,o}}class Ye{static dtr(e,r){for(var n=r>=0?r:47,s=new ArrayBuffer(e.length-1),o=new Uint8Array(s),a=n,l=0;l<e.length;++l){var g=255&(e[l]^a);l>0&&(o[l-1]=g),a=255&(a+g^5)}return o}static fromByteArray(e){let r="";for(let n=0;n<e.length;n+=2)r+=String.fromCharCode(e[n+1]<<8|e[n]);return r}}const We="2.0.512",Nt=[{id:"deviskin",name:"Deviskin",nameSortOrder:"Deviskin",link:"http://deviskin.github.io"}];class x{constructor(e,r,n,s,o,a,l,c,g,E,_){u(this,"id",void 0),u(this,"name",void 0),u(this,"shape",void 0),u(this,"menuShape",void 0),u(this,"routes",void 0),u(this,"routeEnabled",void 0),u(this,"applicationEnabled",void 0),u(this,"applicationHidden",void 0),u(this,"applicationLogoText",void 0),u(this,"libraryType",void 0),u(this,"libraryRef",void 0),this.id=e,this.name=r,this.shape=n,this.menuShape=s,this.routes=o,this.routeEnabled=a,this.applicationEnabled=l,this.applicationHidden=c,this.applicationLogoText=g,this.libraryType=E,this.libraryRef=_}static builder(){return new x("","","","",[],!1,!1,!1,"","prod","book")}setId(e){return this.id=e,this}setName(e){return this.name=e,this}setShape(e){return this.shape=e,this}setMenuShape(e){return this.menuShape=e,this}setRoutes(e){return this.routes=e,this}setRouteEnabled(e){return this.routeEnabled=e,this}setApplicatioinEnabled(e){return this.applicationEnabled=e,this}setApplicationLogoText(e){return this.applicationLogoText=e,this}setLibraryType(e){return this.libraryType=e,this}setLibraryRef(e){return this.libraryRef=e,this}enable(e=!0){return this.routeEnabled=e,this.applicationEnabled=e,this}hide(e=!0){return this.applicationHidden=e,this}disable(){return this.routeEnabled=!1,this.applicationEnabled=!1,this}}class A{constructor(e,r,n,s,o,a=null,l=null,c=null){u(this,"link",void 0),u(this,"name",void 0),u(this,"shape",void 0),u(this,"hasBadge",void 0),u(this,"hasAlert",void 0),u(this,"onClick",void 0),u(this,"isActive",void 0),u(this,"isHidden",void 0),this.link=e,this.name=r,this.shape=n,this.hasBadge=s,this.hasAlert=o,this.onClick=a,this.isActive=l,this.isHidden=c}static builder(){return new A("","","",!1,!1)}setIsActive(e){return this.isActive=e,this}setIsHidden(e){return this.isHidden=e,this}setOnClick(e){return this.onClick=e,this}setLink(e){return this.link=e,this}setName(e){return this.name=e,this}setShape(e){return this.shape=e,this}setHasBadge(e){return this.hasBadge=e,this}setHasAlert(e){return this.hasAlert=e,this}runOnClick(){this.onClick&&this.onClick(this)}}class Bt{constructor(){u(this,"version",""),u(this,"applicationId","memorial"),u(this,"applicationName","Memorial"),u(this,"developers",Nt),u(this,"production",!0),u(this,"platform","Web"),u(this,"relativeCacheService",!0),u(this,"serviceAPIHost",""),u(this,"redirectToServerAfterItIsReadyAdress",""),u(this,"portAutoDetection",!0),u(this,"portAutoIncrementValue",0),u(this,"defaultRoute","/compiler"),u(this,"coding",!0),u(this,"showOldVersions",!0),u(this,"useDictionaries",!1),u(this,"themeName","blue"),u(this,"serverType","rest"),u(this,"applications",[]),this.addApplication(x.builder().setId("about").setName("\u041e \u0441\u0430\u0439\u0442\u0435").setShape("home").setRoutes([A.builder().setLink("about").setName("\u041e \u0441\u0430\u0439\u0442\u0435").setShape("home")]).hide()).addApplication(x.builder().setId("logos").setName("\u041b\u043e\u0433\u043e").setShape("scroll").setApplicationLogoText("\u041f\u0435\u0447\u0430\u0442\u044c|\u043b\u043e\u0433\u043e\u0442\u0438\u043f\u043e\u0432").setRoutes([A.builder().setLink("logos").setName("\u041b\u043e\u0433\u043e").setShape("print")]).hide()).addApplication(x.builder().setId("d3examples").setName("\u041f\u0440\u0438\u043c\u0435\u0440\u044b D3").setShape("check-circle").setApplicationLogoText("D3|\u043f\u0440\u0438\u043c\u0435\u0440\u044b").setRoutes([A.builder().setLink("main-test").setName("\u041c\u043e\u043b\u0435\u0431\u0435\u043d").setShape("calendar"),A.builder().setLink("memorials-pages-editor").setName("\u0417\u0430\u043f\u0438\u0441\u043a\u0438").setShape("event"),A.builder().setLink("d3examples").setName("\u041f\u0440\u0438\u043c\u0435\u0440\u044b D3").setShape("image"),A.builder().setLink("dynamic-components-examples").setName("\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0414\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442").setShape("blocks-group"),A.builder().setLink("help").setName("\u041f\u043e\u043c\u043e\u0449\u044c").setShape("help"),A.builder().setLink("tests").setName("\u0422\u0435\u0441\u0442\u044b").setShape("check-circle")]).hide()).addApplication(x.builder().setId("d3Dexamples").setName("\u041f\u0440\u0438\u043c\u0435\u0440\u044b 3D").setShape("scroll").setApplicationLogoText("Three.JS|\u043f\u0440\u0438\u043c\u0435\u0440\u044b").setRoutes([A.builder().setLink("d3Dexamples").setName("Three 3D").setShape("scroll")]).hide()).addApplication(x.builder().setId("books").setName("\u041a\u043d\u0438\u0433\u0438").setShape("my-logo-icon").setMenuShape("book").setLibraryType("prod").setLibraryRef("biblia").setRoutes([A.builder().setLink("books").setName("\u041a\u043d\u0438\u0433\u0438").setShape("book")])).addApplication(x.builder().setId("memorial").setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a").setShape("my-logo-icon").setMenuShape("form").setLibraryType("mprod").setLibraryRef("ps").setRoutes([A.builder().setLink("memorial").setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a").setShape("users")])).addApplication(x.builder().setId("calendar").setName("\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c").setShape("calendar").setLibraryType("clndrprod").setLibraryRef("clndr").setRoutes([A.builder().setLink("calendar").setName("\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c").setShape("calendar")]).hide()).addApplication(x.builder().setId("cross").setName("\u041a\u0440\u0435\u0441\u0442").setShape("my-logo-icon").setLibraryType("crossprod").setLibraryRef("cross").setRoutes([A.builder().setLink("cross").setName("\u041a\u0440\u0435\u0441\u0442").setShape("my-logo-icon")])).addApplication(x.builder().setId("compiler").setName("\u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440").setShape("bug").setLibraryType("compprod").setLibraryRef("comp").setApplicationLogoText("C-Js|\u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440").setRoutes([A.builder().setLink("compiler").setName("\u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440").setShape("bug")]).hide()).addApplication(x.builder().setId("scheduler").setName("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435").setShape("alarm-clock").setLibraryType("schprod").setLibraryRef("sch").setRoutes([A.builder().setLink("scheduler").setName("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435").setShape("alarm-clock")])).addApplication(x.builder().setId("calculator").setName("\u0420\u0435\u0448IDE").setShape("calculator").setLibraryType("cprod").setLibraryRef("calc").setApplicationLogoText("\u0420\u0435\u0448IDE|\u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440").setRoutes([A.builder().setLink("calculator").setName("\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440").setShape("calculator")])).addApplication(x.builder().setId("chess").setName("\u0428\u0430\u0445\u043c\u0430\u0442\u044b").setShape("chess-white-king").setLibraryType("chessprod").setLibraryRef("chess").setApplicationLogoText("\u0428\u0430\u0445\u043c\u0430\u0442\u044b|\u0438\u0433\u0440\u0430").setRoutes([A.builder().setLink("chess").setName("\u0428\u0430\u0445\u043c\u0430\u0442\u044b").setShape("chess-white-king")]).hide()).setVersion("BV."+We),this.afterConstruct()}addApplication(e){if(null!=this.applications.find(r=>r.id==e.id))throw new Error(`\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 "${e.id}" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.`);return this.applications.push(e),this}setVersion(e){return this.version=e,this}setProduction(e){return this.production=e,this}setPlatform(e){return this.platform=e,this}setRelativeCacheService(e){return this.relativeCacheService=e,this}setServiceAPIHost(e){return this.serviceAPIHost=e,this}setRedirectToServerAfterItIsReadyAdress(e){return this.redirectToServerAfterItIsReadyAdress=e,this}setPortAutoDetection(e){return this.portAutoDetection=e,this}setPortAutoIncrementValue(e){return this.portAutoIncrementValue=e,this}setDefaultRoute(e){return this.defaultRoute=e,this}setServerType(e){return this.serverType=e,this}setCoding(e){return this.coding=e,this}setShowOldVersions(e){return this.showOldVersions=e,this}setUseDictionaries(e){return this.useDictionaries=e,this}afterConstruct(){}}class Ae extends Bt{afterConstruct(){super.afterConstruct(),this.setVersion("WPR."+We).setProduction(!0).setServiceAPIHost("").setRedirectToServerAfterItIsReadyAdress("").setPortAutoDetection(!0).setPortAutoIncrementValue(0).setDefaultRoute("/help").setServerType("memory"),this.applications.forEach((e,r,n)=>e.enable())}static builder(){return new Ae}}const U=Ae.builder();class Me{constructor(e,r){u(this,"id",void 0),u(this,"handler",void 0),this.id=e,this.handler=r}static builder(){return new Me(-1,()=>{})}setId(e){return this.id=e,this}setHandler(e){return this.handler=e,this}}class Ot{constructor(){u(this,"id",1),u(this,"handlers",new Map),u(this,"targetHandlers",new Map),u(this,"messagesToTarget",new Map),u(this,"messagesTimeoutMs",18e4)}newId(){return this.id++}putMessage(e){let r=e.target,n=this.messagesToTarget.get(r);return null==n&&(n=[]),n.push(e),n=this.removeOld(n),n?this.messagesToTarget.set(r,n):this.messagesToTarget.delete(r),this}getMessages(e,r=!0){let n=this.messagesToTarget.get(e),s=this.removeOld(n);return null==n&&r&&this.messagesToTarget.delete(e),s}removeAllOld(){let e=[];return this.messagesToTarget.forEach((r,n,s)=>{e.push(n)}),e.forEach(r=>{this.getMessages(r,!1)}),this}removeOld(e){if(void 0===e)return;let r=Date.now(),n=e.findIndex(o=>o.time+this.messagesTimeoutMs>r),s=e;return n>0&&(s=e.splice(0,n)),s}sendMessage(e){this.handlers.forEach((n,s,o)=>{n(e)});let r=this.targetHandlers.get(e.target);r&&r.forEach(n=>{n.handler(e)})}addHandler(e){let r=this.newId();this.handlers.set(r,e);let n=this;return{unsubscribe(){n.removeHandler(r)}}}addTargetHandler(e,r){let n=this.newId(),s=this.targetHandlers.get(e);null==s&&(s=[],this.targetHandlers.set(e,s)),s.push(Me.builder().setId(n).setHandler(r));let o=this;return{unsubscribe(){o.removeTargetHandler(e,n)}}}removeAllTargetHandlers(e){return this.targetHandlers.delete(e),this}removeHandler(e){this.handlers.delete(e)}removeTargetHandler(e,r){let n=this.targetHandlers.get(e);if(n){let s=n.filter((o,a,l)=>o.id!=r);s.length?this.targetHandlers.set(e,s):this.targetHandlers.delete(e)}}}I=z.hmd(I);let te=new class Ft extends Dt{constructor(e=null){super(e),u(this,"cacheService",null)}getCacheService(){return this.cacheService}setCacheService(e){return this.cacheService=e,this}post(e,r){switch(r.type){case kt.TYPE:this.onLibraryInfoRequest(e,r);break;case St.TYPE:this.onBookInfoRequest(e,r);break;case Pt.TYPE:this.onBookRequest(e,r);break;case Rt.TYPE:this.onPagesRequest(e,r);break;default:throw new Error(`Unknown message type: ${r.type}.`)}return this}onLibraryInfoRequest(e,r){let n=Lt.builder().setCallbackId(r.id);r.libraryRef?this.loadLibraryInfo(r,n,r.libraryType+"/"+r.libraryRef+".library.txt",s=>{this.send(e,n)}):this.send(e,n)}loadLibraryInfo(e,r,n,s=null){let o=this.cacheService.getRestPoint(n,null);this.cacheService.getTextRestcallUrl(o,a=>{r.setMetaContent(a||"").setLibraryRef(e.libraryRef),s&&s(!!a)})}onBookInfoRequest(e,r){let n=Mt.builder().setCallbackId(r.id);r.bookRef?this.loadBookInfo(r,n,r.libraryType+"/"+r.bookRef+".book.txt",s=>{this.send(e,n)}):this.send(e,n)}loadBookInfo(e,r,n,s=null){let o=this.cacheService.getRestPoint(n,null);this.cacheService.getTextRestcallUrl(o,a=>{r.setMetaContent(a||"").setBookRef(e.bookRef),s&&s(!!a)})}onBookRequest(e,r){let n=At.builder().setCallbackId(r.id),s=r.languages.map(o=>o);s.length||s.push("CS","Sinodal"),s=s.map(o=>le.merge("/"+r.libraryType,r.bookRef+"_"+o+"/index.txt")),r.bookRef?this.runAll(s,(o,a)=>{this.loadBookPath(r,n,o,a)},o=>{this.send(e,n)}):this.send(e,n)}loadBookPath(e,r,n,s=null){let o=this.cacheService.getRestPoint(n,null);this.cacheService.getTextRestcallUrl(o,a=>{r.addMetaBook(Te.builder().setBookRef(e.bookRef).setPath(n).setContent(a||"")),s&&s(!!a)})}onPagesRequest(e,r){let n=Tt.builder().setCallbackId(r.id);this.runAll(r.pages,(s,o)=>{let a=this.findPathPrefix(s.bookPath),l=this.cacheService.getRestPoint(le.merge(a,s.bookPage),null);this.cacheService.getTextRestcallUrl(l,c=>{n.addPage(c||""),o(!0)})},s=>{this.send(e,n)})}findPathPrefix(e){let r=e.lastIndexOf("/");return e.substring(0,r)}}((t,e)=>{postMessage(t?K.builder().setWorkerId(t.workerId).setMessage(e):e)}),Xe=new class Ht{setDictionaries(e){return this.dictionaries=e,this}isShowLogin(){return this.showType==this.defaultLoginType}isShowNormal(){return"normal"==this.showType}isUseDictionaries(){return this.useDictionaries}setShowNormal(){return this.showType="normal",this}setShowLogin(e=null){return null!=e&&(this.autoLoginApplication=e),this.showType=this.defaultLoginType,this}get version(){return this.environment.version}get developerId(){let e="";return this.environment.developers.forEach(r=>{e=e+(e?"_":"")+r.id}),e}get developerName(){let e="";return this.environment.developers.forEach(r=>{e=e+(e?", ":"")+r.name}),e}get developerNameSortOrder(){let e="";return this.environment.developers.forEach(r=>{e=e+(e?", ":"")+r.nameSortOrder}),e}get developerLink(){return this.environment.developers[0].link}setPageLoadedFrom(e,r=!1){return this.pageLoadedFrom=e,r&&this.runPortAutoDetection(),this.setupBaseHref(),this}constructor(){u(this,"cache",new Map),u(this,"environment",U),u(this,"themeName",U.themeName),u(this,"serviceAPIHost",U.serviceAPIHost),u(this,"redirectToServerAfterItIsReadyAdress",U.redirectToServerAfterItIsReadyAdress),u(this,"portAutoDetection",U.portAutoDetection),u(this,"portAutoIncrementValue",U.portAutoIncrementValue),u(this,"messageBus",new Ot),u(this,"alerts",[]),u(this,"upperMenuEnabled",!0),u(this,"pageLoadedFrom",""),u(this,"authId",""),u(this,"authIdKey","authId"),u(this,"authBody",""),u(this,"baseHref",""),u(this,"waitingIOOperationCount",0),u(this,"waitingIOOperationValue",0),u(this,"waitingIOOperationValueMax",100),u(this,"outletOnly",!1),u(this,"autoLoginApplication",!0),u(this,"defaultApplication",""),u(this,"defaultLoginType","login"),u(this,"showType",this.defaultLoginType),u(this,"enableDefaultPersons",!0),u(this,"coding",U.coding),u(this,"showOldVersions",U.showOldVersions),u(this,"useDictionaries",U.useDictionaries),u(this,"dictionaries",null),typeof pageLoadedFrom<"u"&&this.setPageLoadedFrom(pageLoadedFrom),this.runPortAutoDetection(),this.setupBaseHref()}setupBaseHref(){let e=this.pageLoadedFrom;e.endsWith("/")&&(e=e.substring(0,e.length-1)),this.baseHref=e}runPortAutoDetection(){this.portAutoDetection&&(this.serviceAPIHost=this.doPortAutoDetection(this.serviceAPIHost?this.serviceAPIHost:this.pageLoadedFrom),this.redirectToServerAfterItIsReadyAdress=this.doPortAutoDetection(this.redirectToServerAfterItIsReadyAdress))}doPortAutoDetection(e){const r=e.lastIndexOf(":");if(r<0)return e;let n="";for(let a=r+1;a<e.length&&"0123456789".indexOf(e.charAt(a))>=0;++a)n+=e.charAt(a);return isNaN(+n)?e:e.substring(0,r)+":"+(+location.port+U.portAutoIncrementValue)+e.substring(r+1+n.length,e.length)}addAlert(e){e.setConfig(this),this.alerts.push(e)}removeAlert(e){const r=this.alerts.findIndex((n,s,o)=>n===e);r>=0&&this.alerts.splice(r,1)}isPlatformAndroid(){return"Android"===this.environment.platform}isPlatformWeb(){return"Web"===this.environment.platform}isPlatform(e){return this.environment.platform===e}isRelativeCacheService(){return this.environment.relativeCacheService}isRestServerType(){return"rest"===this.environment.serverType}isMemoryServerType(){return"memory"===this.environment.serverType}isServerType(e){return this.environment.serverType===e}isRedTheme(){return"red"===this.themeName}isBlueTheme(){return"blue"===this.themeName}isTheme(e){return this.themeName===e}isWaitingIO(){return this.waitingIOOperationCount>0}incWaitingIO(){return this.waitingIOOperationCount++}decWaitingIO(){return this.waitingIOOperationCount--}clearWaitingIO(){this.waitingIOOperationCount=0}post(e,r=0){setTimeout(()=>{e()},r)}getApplication(){let e=null;return this.environment.applications.forEach(r=>{r.id==this.defaultApplication&&(e=r)}),e}getApplicationByNameOrNull(e){let r=null;return this.environment.applications.forEach(n=>{n.name==e&&(r=n)}),r}getSingleAppOrNull(){let e=null,r=this.environment.applications.filter(n=>n.applicationEnabled&&!n.applicationHidden);return 1==r.length&&(e=r[0]),e}};te.setCacheService(new class It{get coding(){return this.config.coding}get restPoint(){return this.coding?"/staticb":this.sRestPoint}constructor(e,r="/static"){u(this,"config",void 0),u(this,"sRestPoint",void 0),u(this,"textCache",new Map),u(this,"waitingTextCache",new Map),this.config=e,this.sRestPoint=r}getRestPoint(e,r,n=null){const s=this.config.isRelativeCacheService()||this.config.isMemoryServerType()?this.config.baseHref:this.config.serviceAPIHost;return le.merge(le.merge(r||s,n??this.restPoint),e)}completeOnDone(e,r){let n=this.waitingTextCache.get(e);n&&(n.forEach(s=>{this.config.post(()=>{s&&s(r)})}),this.waitingTextCache.delete(e))}getTextRestcallUrl(e,r){if(this.coding){if(this.textCache.has(e)){let n=this.textCache.get(e);if(null!=n)return void this.config.post(()=>{r&&r(n)})}return this.waitingTextCache.has(e)?void(r&&this.waitingTextCache.get(e).push(r)):(r&&this.waitingTextCache.set(e,[r]),this.getBinRestcallUrlRaw(e,n=>{if(n){let s=new Uint8Array(n),o=Ye.fromByteArray(s);this.completeOnDone(e,o)}else r&&r(null)}))}return this.getTextRestcallUrlRaw(e,r)}getTextRestcallUrlRaw(e,r){if(this.textCache.has(e)){let s=this.textCache.get(e);if(null!=s)return void this.config.post(()=>{r&&r(s)})}if(this.waitingTextCache.has(e))r&&this.waitingTextCache.get(e).push(r);else{r&&this.waitingTextCache.set(e,[r]);var n=new XMLHttpRequest;n.onload=()=>{if(r){let s=4===n.readyState&&200===n.status?n.responseText:null;null!=s?this.textCache.set(e,s):this.textCache.delete(e),this.completeOnDone(e,s)}},n.open("get",e,!0),n.send()}}getBinRestcallUrlRaw(e,r,n=!0){let s=e;if(this.coding){let a=s.lastIndexOf(".");a>=0&&(s=s.substring(0,a)+".bin")}var o=new XMLHttpRequest;o.onload=()=>{if(r){let l=new Uint8Array(4===o.readyState&&200===o.status?o.response:null),c=n?Ye.dtr(l,-1):l;r&&r(c)}},o.open("get",s,!0),o.responseType="arraybuffer",o.send()}}(Xe));let $e=!1;addEventListener("message",({data:t})=>{let e=t;if("string"==typeof e.message){const r=`worker response to ${t}`;postMessage(K.builder().setWorkerId(e.workerId).setMessage(r))}else if(e.message.type===_t.TYPE)Xe.setPageLoadedFrom(e.message.pageLoadedFrom,!0);else if(e.message.type===Re.TYPE){let r=()=>{if(d&&d._Calculate){let n=e.message;const s=2048,o=d._malloc(s),a=20480,l=d._malloc(a);ge(n.formula,d.HEAP8,o,s),d._Calculate(o,a,l);const c=G(d.HEAP8,l,a);d._free(l),d._free(o),postMessage(K.builder().setWorkerId(e.workerId).setMessage(Re.builder().setFormula(c)))}else postMessage(K.builder().setWorkerId(e.workerId).setMessage(Re.builder().setFormula("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e. \u0415\u0449\u0451 \u0438\u0434\u0451\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430..")))};$e?r():te.getCacheService()?.getBinRestcallUrlRaw(te.getCacheService()?.getRestPoint("data/memorial.bin"),n=>{if(null!=n){const s=n.byteLength,o=d._malloc(s);d.HEAP8.set(n,o),d._Setup(o,s),d._free(o),$e=!0,r()}},te.getCacheService()?.coding)}else te.post(e,e.message)});var re,ne,he,d=typeof d<"u"?d:{},Ge=Object.assign({},d),Le="./this.program",ue=(t,e)=>{throw e},Je="object"==typeof window,J="function"==typeof importScripts,de="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,B="";if(de){var De=z(652),Ie=z(832);B=J?Ie.dirname(B)+"/":__dirname+"/",re=(t,e)=>(t=pe(t)?new URL(t):Ie.normalize(t),De.readFileSync(t,e?void 0:"utf8")),he=t=>{var e=re(t,!0);return e.buffer||(e=new Uint8Array(e)),e},ne=(t,e,r,n=!0)=>{t=pe(t)?new URL(t):Ie.normalize(t),De.readFile(t,n?void 0:"utf8",(s,o)=>{s?r(s):e(n?o.buffer:o)})},!d.thisProgram&&process.argv.length>1&&(Le=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),I.exports=d,process.on("uncaughtException",t=>{if(!("unwind"===t||t instanceof ve||t.context instanceof ve))throw t}),ue=(t,e)=>{throw process.exitCode=t,e},d.inspect=()=>"[Emscripten Module object]"}else(Je||J)&&(J?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",re=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},J&&(he=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),ne=(t,e,r)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?e(n.response):r()},n.onerror=r,n.send(null)});var ie,Fe=d.print||console.log.bind(console),q=d.printErr||console.error.bind(console);Object.assign(d,Ge),Ge=null,d.thisProgram&&(Le=d.thisProgram),d.quit&&(ue=d.quit),d.wasmBinary&&(ie=d.wasmBinary);var Yt=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&$("no native wasm support detected");var Qe,N,ce,F,V,se,y,T,Ce=!1,Ze=[],et=[],Gt=[],tt=[],X=0,xe=null,oe=null;function Ne(t){X++,d.monitorRunDependencies&&d.monitorRunDependencies(X)}function fe(t){if(X--,d.monitorRunDependencies&&d.monitorRunDependencies(X),0==X&&(null!==xe&&(clearInterval(xe),xe=null),oe)){var e=oe;oe=null,e()}}function $(t){throw d.onAbort&&d.onAbort(t),q(t="Aborted("+t+")"),Ce=!0,ce=1,t+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(t)}var Q,m,R;function rt(t){return t.startsWith("data:application/octet-stream;base64,")}function pe(t){return t.startsWith("file://")}function nt(t){if(t==Q&&ie)return new Uint8Array(ie);if(he)return he(t);throw"both async and sync fetching of the wasm failed"}function it(t,e,r){return function ar(t){if(!ie&&(Je||J)){if("function"==typeof fetch&&!pe(t))return fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()}).catch(()=>nt(t));if(ne)return new Promise((e,r)=>{ne(t,n=>e(new Uint8Array(n)),r)})}return Promise.resolve().then(()=>nt(t))}(t).then(n=>WebAssembly.instantiate(n,e)).then(n=>n).then(r,n=>{q("failed to asynchronously prepare wasm: "+n),$(n)})}function ve(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}rt(Q="mathapp.wasm")||(Q=function Ut(t){return d.locateFile?d.locateFile(t,B):B+t}(Q));var me=t=>{for(;t.length>0;)t.shift()(d)},st=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,G=(t,e,r)=>{for(var n=e+r,s=e;t[s]&&!(s>=n);)++s;if(s-e>16&&t.buffer&&st)return st.decode(t.subarray(e,s));for(var o="";e<s;){var a=t[e++];if(128&a){var l=63&t[e++];if(192!=(224&a)){var c=63&t[e++];if((a=224==(240&a)?(15&a)<<12|l<<6|c:(7&a)<<18|l<<12|c<<6|63&t[e++])<65536)o+=String.fromCharCode(a);else{var g=a-65536;o+=String.fromCharCode(55296|g>>10,56320|1023&g)}}else o+=String.fromCharCode((31&a)<<6|l)}else o+=String.fromCharCode(a)}return o},Z=(t,e)=>t?G(V,t,e):"";function hr(t){this.excPtr=t,this.ptr=t-24,this.set_type=function(e){T[this.ptr+4>>2]=e},this.get_type=function(){return T[this.ptr+4>>2]},this.set_destructor=function(e){T[this.ptr+8>>2]=e},this.get_destructor=function(){return T[this.ptr+8>>2]},this.set_caught=function(e){F[this.ptr+12>>0]=e=e?1:0},this.get_caught=function(){return 0!=F[this.ptr+12>>0]},this.set_rethrown=function(e){F[this.ptr+13>>0]=e=e?1:0},this.get_rethrown=function(){return 0!=F[this.ptr+13>>0]},this.init=function(e,r){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(r)},this.set_adjusted_ptr=function(e){T[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return T[this.ptr+16>>2]},this.get_exception_ptr=function(){if(mt(this.get_type()))return T[this.excPtr>>2];var r=this.get_adjusted_ptr();return 0!==r?r:this.excPtr}}var S={isAbs:t=>"/"===t.charAt(0),splitPath:t=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1),normalizeArray:(t,e)=>{for(var r=0,n=t.length-1;n>=0;n--){var s=t[n];"."===s?t.splice(n,1):".."===s?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r;r--)t.unshift("..");return t},normalize:t=>{var e=S.isAbs(t),r="/"===t.substr(-1);return!(t=S.normalizeArray(t.split("/").filter(n=>!!n),!e).join("/"))&&!e&&(t="."),t&&r&&(t+="/"),(e?"/":"")+t},dirname:t=>{var e=S.splitPath(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:t=>{if("/"===t)return"/";var e=(t=(t=S.normalize(t)).replace(/\/$/,"")).lastIndexOf("/");return-1===e?t:t.substr(e+1)},join:function(){var t=Array.prototype.slice.call(arguments);return S.normalize(t.join("/"))},join2:(t,e)=>S.normalize(t+"/"+e)},at=t=>(at=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return n=>crypto.getRandomValues(n);if(de)try{var t=z(827);if(t.randomFillSync)return n=>t.randomFillSync(n);var r=t.randomBytes;return n=>(n.set(r(n.byteLength)),n)}catch{}$("initRandomDevice")})())(t),Y={resolve:function(){for(var t="",e=!1,r=arguments.length-1;r>=-1&&!e;r--){var n=r>=0?arguments[r]:i.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";t=n+"/"+t,e=S.isAbs(n)}return(e?"/":"")+(t=S.normalizeArray(t.split("/").filter(s=>!!s),!e).join("/"))||"."},relative:(t,e)=>{function r(g){for(var E=0;E<g.length&&""===g[E];E++);for(var _=g.length-1;_>=0&&""===g[_];_--);return E>_?[]:g.slice(E,_-E+1)}t=Y.resolve(t).substr(1),e=Y.resolve(e).substr(1);for(var n=r(t.split("/")),s=r(e.split("/")),o=Math.min(n.length,s.length),a=o,l=0;l<o;l++)if(n[l]!==s[l]){a=l;break}var c=[];for(l=a;l<n.length;l++)c.push("..");return(c=c.concat(s.slice(a))).join("/")}},Be=[],lt=t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e},ge=(t,e,r,n)=>{if(!(n>0))return 0;for(var s=r,o=r+n-1,a=0;a<t.length;++a){var l=t.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&t.charCodeAt(++a)),l<=127){if(r>=o)break;e[r++]=l}else if(l<=2047){if(r+1>=o)break;e[r++]=192|l>>6,e[r++]=128|63&l}else if(l<=65535){if(r+2>=o)break;e[r++]=224|l>>12,e[r++]=128|l>>6&63,e[r++]=128|63&l}else{if(r+3>=o)break;e[r++]=240|l>>18,e[r++]=128|l>>12&63,e[r++]=128|l>>6&63,e[r++]=128|63&l}}return e[r]=0,r-s};function ye(t,e,r){var n=r>0?r:lt(t)+1,s=new Array(n),o=ge(t,s,0,s.length);return e&&(s.length=o),s}var j={ttys:[],init:function(){},shutdown:function(){},register:function(t,e){j.ttys[t]={input:[],output:[],ops:e},i.registerDevice(t,j.stream_ops)},stream_ops:{open:function(t){var e=j.ttys[t.node.rdev];if(!e)throw new i.ErrnoError(43);t.tty=e,t.seekable=!1},close:function(t){t.tty.ops.fsync(t.tty)},fsync:function(t){t.tty.ops.fsync(t.tty)},read:function(t,e,r,n,s){if(!t.tty||!t.tty.ops.get_char)throw new i.ErrnoError(60);for(var o=0,a=0;a<n;a++){var l;try{l=t.tty.ops.get_char(t.tty)}catch{throw new i.ErrnoError(29)}if(void 0===l&&0===o)throw new i.ErrnoError(6);if(null==l)break;o++,e[r+a]=l}return o&&(t.node.timestamp=Date.now()),o},write:function(t,e,r,n,s){if(!t.tty||!t.tty.ops.put_char)throw new i.ErrnoError(60);try{for(var o=0;o<n;o++)t.tty.ops.put_char(t.tty,e[r+o])}catch{throw new i.ErrnoError(29)}return n&&(t.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(t){return(()=>{if(!Be.length){var t=null;if(de){var r=Buffer.alloc(256),n=0,s=process.stdin.fd;try{n=De.readSync(s,r,0,256,-1)}catch(o){if(!o.toString().includes("EOF"))throw o;n=0}t=n>0?r.slice(0,n).toString("utf-8"):null}else typeof window<"u"&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;Be=ye(t,!0)}return Be.shift()})()},put_char:function(t,e){null===e||10===e?(Fe(G(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},fsync:function(t){t.output&&t.output.length>0&&(Fe(G(t.output,0)),t.output=[])},ioctl_tcgets:function(t){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets:function(t,e,r){return 0},ioctl_tiocgwinsz:function(t){return[24,80]}},default_tty1_ops:{put_char:function(t,e){null===e||10===e?(q(G(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},fsync:function(t){t.output&&t.output.length>0&&(q(G(t.output,0)),t.output=[])}}},ut=t=>{t=((t,e)=>65536*Math.ceil(t/65536))(t);var e=vt(65536,t);return e?((t,e)=>(V.fill(0,t,t+e),t))(e,t):0},w={ops_table:null,mount:t=>w.createNode(null,"/",16895,0),createNode(t,e,r,n){if(i.isBlkdev(r)||i.isFIFO(r))throw new i.ErrnoError(63);w.ops_table||(w.ops_table={dir:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr,lookup:w.node_ops.lookup,mknod:w.node_ops.mknod,rename:w.node_ops.rename,unlink:w.node_ops.unlink,rmdir:w.node_ops.rmdir,readdir:w.node_ops.readdir,symlink:w.node_ops.symlink},stream:{llseek:w.stream_ops.llseek}},file:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr},stream:{llseek:w.stream_ops.llseek,read:w.stream_ops.read,write:w.stream_ops.write,allocate:w.stream_ops.allocate,mmap:w.stream_ops.mmap,msync:w.stream_ops.msync}},link:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr,readlink:w.node_ops.readlink},stream:{}},chrdev:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr},stream:i.chrdev_stream_ops}});var s=i.createNode(t,e,r,n);return i.isDir(s.mode)?(s.node_ops=w.ops_table.dir.node,s.stream_ops=w.ops_table.dir.stream,s.contents={}):i.isFile(s.mode)?(s.node_ops=w.ops_table.file.node,s.stream_ops=w.ops_table.file.stream,s.usedBytes=0,s.contents=null):i.isLink(s.mode)?(s.node_ops=w.ops_table.link.node,s.stream_ops=w.ops_table.link.stream):i.isChrdev(s.mode)&&(s.node_ops=w.ops_table.chrdev.node,s.stream_ops=w.ops_table.chrdev.stream),s.timestamp=Date.now(),t&&(t.contents[e]=s,t.timestamp=s.timestamp),s},getFileDataAsTypedArray:t=>t.contents?t.contents.subarray?t.contents.subarray(0,t.usedBytes):new Uint8Array(t.contents):new Uint8Array(0),expandFileStorage(t,e){var r=t.contents?t.contents.length:0;if(!(r>=e)){e=Math.max(e,r*(r<1048576?2:1.125)>>>0),0!=r&&(e=Math.max(e,256));var s=t.contents;t.contents=new Uint8Array(e),t.usedBytes>0&&t.contents.set(s.subarray(0,t.usedBytes),0)}},resizeFileStorage(t,e){if(t.usedBytes!=e)if(0==e)t.contents=null,t.usedBytes=0;else{var r=t.contents;t.contents=new Uint8Array(e),r&&t.contents.set(r.subarray(0,Math.min(e,t.usedBytes))),t.usedBytes=e}},node_ops:{getattr(t){var e={};return e.dev=i.isChrdev(t.mode)?t.id:1,e.ino=t.id,e.mode=t.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=t.rdev,e.size=i.isDir(t.mode)?4096:i.isFile(t.mode)?t.usedBytes:i.isLink(t.mode)?t.link.length:0,e.atime=new Date(t.timestamp),e.mtime=new Date(t.timestamp),e.ctime=new Date(t.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&w.resizeFileStorage(t,e.size)},lookup(t,e){throw i.genericErrors[44]},mknod:(t,e,r,n)=>w.createNode(t,e,r,n),rename(t,e,r){if(i.isDir(t.mode)){var n;try{n=i.lookupNode(e,r)}catch{}if(n)for(var s in n.contents)throw new i.ErrnoError(55)}delete t.parent.contents[t.name],t.parent.timestamp=Date.now(),t.name=r,e.contents[r]=t,e.timestamp=t.parent.timestamp,t.parent=e},unlink(t,e){delete t.contents[e],t.timestamp=Date.now()},rmdir(t,e){var r=i.lookupNode(t,e);for(var n in r.contents)throw new i.ErrnoError(55);delete t.contents[e],t.timestamp=Date.now()},readdir(t){var e=[".",".."];for(var r in t.contents)t.contents.hasOwnProperty(r)&&e.push(r);return e},symlink(t,e,r){var n=w.createNode(t,e,41471,0);return n.link=r,n},readlink(t){if(!i.isLink(t.mode))throw new i.ErrnoError(28);return t.link}},stream_ops:{read(t,e,r,n,s){var o=t.node.contents;if(s>=t.node.usedBytes)return 0;var a=Math.min(t.node.usedBytes-s,n);if(a>8&&o.subarray)e.set(o.subarray(s,s+a),r);else for(var l=0;l<a;l++)e[r+l]=o[s+l];return a},write(t,e,r,n,s,o){if(!n)return 0;var a=t.node;if(a.timestamp=Date.now(),e.subarray&&(!a.contents||a.contents.subarray)){if(o)return a.contents=e.subarray(r,r+n),a.usedBytes=n,n;if(0===a.usedBytes&&0===s)return a.contents=e.slice(r,r+n),a.usedBytes=n,n;if(s+n<=a.usedBytes)return a.contents.set(e.subarray(r,r+n),s),n}if(w.expandFileStorage(a,s+n),a.contents.subarray&&e.subarray)a.contents.set(e.subarray(r,r+n),s);else for(var l=0;l<n;l++)a.contents[s+l]=e[r+l];return a.usedBytes=Math.max(a.usedBytes,s+n),n},llseek(t,e,r){var n=e;if(1===r?n+=t.position:2===r&&i.isFile(t.node.mode)&&(n+=t.node.usedBytes),n<0)throw new i.ErrnoError(28);return n},allocate(t,e,r){w.expandFileStorage(t.node,e+r),t.node.usedBytes=Math.max(t.node.usedBytes,e+r)},mmap(t,e,r,n,s){if(!i.isFile(t.node.mode))throw new i.ErrnoError(43);var o,a,l=t.node.contents;if(2&s||l.buffer!==F.buffer){if((r>0||r+e<l.length)&&(l=l.subarray?l.subarray(r,r+e):Array.prototype.slice.call(l,r,r+e)),a=!0,!(o=ut(e)))throw new i.ErrnoError(48);F.set(l,o)}else a=!1,o=l.byteOffset;return{ptr:o,allocated:a}},msync:(t,e,r,n,s)=>(w.stream_ops.write(t,e,0,n,r,!1),0)}},Er=d.preloadPlugins||[];function Oe(t,e){var r=0;return t&&(r|=365),e&&(r|=146),r}var i={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(t,e={})=>{if(!(t=Y.resolve(t)))return{path:"",node:null};if((e=Object.assign({follow_mount:!0,recurse_count:0},e)).recurse_count>8)throw new i.ErrnoError(32);for(var n=t.split("/").filter(_=>!!_),s=i.root,o="/",a=0;a<n.length;a++){var l=a===n.length-1;if(l&&e.parent)break;if(s=i.lookupNode(s,n[a]),o=S.join2(o,n[a]),i.isMountpoint(s)&&(!l||l&&e.follow_mount)&&(s=s.mounted.root),!l||e.follow)for(var c=0;i.isLink(s.mode);){var g=i.readlink(o);if(o=Y.resolve(S.dirname(o),g),s=i.lookupPath(o,{recurse_count:e.recurse_count+1}).node,c++>40)throw new i.ErrnoError(32)}}return{path:o,node:s}},getPath:t=>{for(var e;;){if(i.isRoot(t)){var r=t.mount.mountpoint;return e?"/"!==r[r.length-1]?`${r}/${e}`:r+e:r}e=e?`${t.name}/${e}`:t.name,t=t.parent}},hashName:(t,e)=>{for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n)|0;return(t+r>>>0)%i.nameTable.length},hashAddNode:t=>{var e=i.hashName(t.parent.id,t.name);t.name_next=i.nameTable[e],i.nameTable[e]=t},hashRemoveNode:t=>{var e=i.hashName(t.parent.id,t.name);if(i.nameTable[e]===t)i.nameTable[e]=t.name_next;else for(var r=i.nameTable[e];r;){if(r.name_next===t){r.name_next=t.name_next;break}r=r.name_next}},lookupNode:(t,e)=>{var r=i.mayLookup(t);if(r)throw new i.ErrnoError(r,t);for(var n=i.hashName(t.id,e),s=i.nameTable[n];s;s=s.name_next)if(s.parent.id===t.id&&s.name===e)return s;return i.lookup(t,e)},createNode:(t,e,r,n)=>{var s=new i.FSNode(t,e,r,n);return i.hashAddNode(s),s},destroyNode:t=>{i.hashRemoveNode(t)},isRoot:t=>t===t.parent,isMountpoint:t=>!!t.mounted,isFile:t=>32768==(61440&t),isDir:t=>16384==(61440&t),isLink:t=>40960==(61440&t),isChrdev:t=>8192==(61440&t),isBlkdev:t=>24576==(61440&t),isFIFO:t=>4096==(61440&t),isSocket:t=>49152==(49152&t),flagsToPermissionString:t=>{var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e},nodePermissions:(t,e)=>i.ignorePermissions?0:e.includes("r")&&!(292&t.mode)||e.includes("w")&&!(146&t.mode)||e.includes("x")&&!(73&t.mode)?2:0,mayLookup:t=>i.nodePermissions(t,"x")||(t.node_ops.lookup?0:2),mayCreate:(t,e)=>{try{return i.lookupNode(t,e),20}catch{}return i.nodePermissions(t,"wx")},mayDelete:(t,e,r)=>{var n;try{n=i.lookupNode(t,e)}catch(o){return o.errno}var s=i.nodePermissions(t,"wx");if(s)return s;if(r){if(!i.isDir(n.mode))return 54;if(i.isRoot(n)||i.getPath(n)===i.cwd())return 10}else if(i.isDir(n.mode))return 31;return 0},mayOpen:(t,e)=>t?i.isLink(t.mode)?32:i.isDir(t.mode)&&("r"!==i.flagsToPermissionString(e)||512&e)?31:i.nodePermissions(t,i.flagsToPermissionString(e)):44,MAX_OPEN_FDS:4096,nextfd:()=>{for(var t=0;t<=i.MAX_OPEN_FDS;t++)if(!i.streams[t])return t;throw new i.ErrnoError(33)},getStreamChecked:t=>{var e=i.getStream(t);if(!e)throw new i.ErrnoError(8);return e},getStream:t=>i.streams[t],createStream:(t,e=-1)=>(i.FSStream||(i.FSStream=function(){this.shared={}},i.FSStream.prototype={},Object.defineProperties(i.FSStream.prototype,{object:{get(){return this.node},set(r){this.node=r}},isRead:{get(){return 1!=(2097155&this.flags)}},isWrite:{get(){return 0!=(2097155&this.flags)}},isAppend:{get(){return 1024&this.flags}},flags:{get(){return this.shared.flags},set(r){this.shared.flags=r}},position:{get(){return this.shared.position},set(r){this.shared.position=r}}})),t=Object.assign(new i.FSStream,t),-1==e&&(e=i.nextfd()),t.fd=e,i.streams[e]=t,t),closeStream:t=>{i.streams[t]=null},chrdev_stream_ops:{open:t=>{var e=i.getDevice(t.node.rdev);t.stream_ops=e.stream_ops,t.stream_ops.open&&t.stream_ops.open(t)},llseek:()=>{throw new i.ErrnoError(70)}},major:t=>t>>8,minor:t=>255&t,makedev:(t,e)=>t<<8|e,registerDevice:(t,e)=>{i.devices[t]={stream_ops:e}},getDevice:t=>i.devices[t],getMounts:t=>{for(var e=[],r=[t];r.length;){var n=r.pop();e.push(n),r.push.apply(r,n.mounts)}return e},syncfs:(t,e)=>{"function"==typeof t&&(e=t,t=!1),i.syncFSRequests++,i.syncFSRequests>1&&q(`warning: ${i.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var r=i.getMounts(i.root.mount),n=0;function s(a){return i.syncFSRequests--,e(a)}function o(a){if(a)return o.errored?void 0:(o.errored=!0,s(a));++n>=r.length&&s(null)}r.forEach(a=>{if(!a.type.syncfs)return o(null);a.type.syncfs(a,t,o)})},mount:(t,e,r)=>{var o,n="/"===r,s=!r;if(n&&i.root)throw new i.ErrnoError(10);if(!n&&!s){var a=i.lookupPath(r,{follow_mount:!1});if(r=a.path,i.isMountpoint(o=a.node))throw new i.ErrnoError(10);if(!i.isDir(o.mode))throw new i.ErrnoError(54)}var l={type:t,opts:e,mountpoint:r,mounts:[]},c=t.mount(l);return c.mount=l,l.root=c,n?i.root=c:o&&(o.mounted=l,o.mount&&o.mount.mounts.push(l)),c},unmount:t=>{var e=i.lookupPath(t,{follow_mount:!1});if(!i.isMountpoint(e.node))throw new i.ErrnoError(28);var r=e.node,n=r.mounted,s=i.getMounts(n);Object.keys(i.nameTable).forEach(a=>{for(var l=i.nameTable[a];l;){var c=l.name_next;s.includes(l.mount)&&i.destroyNode(l),l=c}}),r.mounted=null;var o=r.mount.mounts.indexOf(n);r.mount.mounts.splice(o,1)},lookup:(t,e)=>t.node_ops.lookup(t,e),mknod:(t,e,r)=>{var s=i.lookupPath(t,{parent:!0}).node,o=S.basename(t);if(!o||"."===o||".."===o)throw new i.ErrnoError(28);var a=i.mayCreate(s,o);if(a)throw new i.ErrnoError(a);if(!s.node_ops.mknod)throw new i.ErrnoError(63);return s.node_ops.mknod(s,o,e,r)},create:(t,e)=>(e=void 0!==e?e:438,e&=4095,i.mknod(t,e|=32768,0)),mkdir:(t,e)=>(e=void 0!==e?e:511,e&=1023,i.mknod(t,e|=16384,0)),mkdirTree:(t,e)=>{for(var r=t.split("/"),n="",s=0;s<r.length;++s)if(r[s]){n+="/"+r[s];try{i.mkdir(n,e)}catch(o){if(20!=o.errno)throw o}}},mkdev:(t,e,r)=>(typeof r>"u"&&(r=e,e=438),i.mknod(t,e|=8192,r)),symlink:(t,e)=>{if(!Y.resolve(t))throw new i.ErrnoError(44);var n=i.lookupPath(e,{parent:!0}).node;if(!n)throw new i.ErrnoError(44);var s=S.basename(e),o=i.mayCreate(n,s);if(o)throw new i.ErrnoError(o);if(!n.node_ops.symlink)throw new i.ErrnoError(63);return n.node_ops.symlink(n,s,t)},rename:(t,e)=>{var l,c,r=S.dirname(t),n=S.dirname(e),s=S.basename(t),o=S.basename(e);if(l=i.lookupPath(t,{parent:!0}).node,c=i.lookupPath(e,{parent:!0}).node,!l||!c)throw new i.ErrnoError(44);if(l.mount!==c.mount)throw new i.ErrnoError(75);var _,g=i.lookupNode(l,s),E=Y.relative(t,n);if("."!==E.charAt(0))throw new i.ErrnoError(28);if("."!==(E=Y.relative(e,r)).charAt(0))throw new i.ErrnoError(55);try{_=i.lookupNode(c,o)}catch{}if(g!==_){var v=i.isDir(g.mode),f=i.mayDelete(l,s,v);if(f)throw new i.ErrnoError(f);if(f=_?i.mayDelete(c,o,v):i.mayCreate(c,o))throw new i.ErrnoError(f);if(!l.node_ops.rename)throw new i.ErrnoError(63);if(i.isMountpoint(g)||_&&i.isMountpoint(_))throw new i.ErrnoError(10);if(c!==l&&(f=i.nodePermissions(l,"w")))throw new i.ErrnoError(f);i.hashRemoveNode(g);try{l.node_ops.rename(g,c,o)}catch(b){throw b}finally{i.hashAddNode(g)}}},rmdir:t=>{var r=i.lookupPath(t,{parent:!0}).node,n=S.basename(t),s=i.lookupNode(r,n),o=i.mayDelete(r,n,!0);if(o)throw new i.ErrnoError(o);if(!r.node_ops.rmdir)throw new i.ErrnoError(63);if(i.isMountpoint(s))throw new i.ErrnoError(10);r.node_ops.rmdir(r,n),i.destroyNode(s)},readdir:t=>{var r=i.lookupPath(t,{follow:!0}).node;if(!r.node_ops.readdir)throw new i.ErrnoError(54);return r.node_ops.readdir(r)},unlink:t=>{var r=i.lookupPath(t,{parent:!0}).node;if(!r)throw new i.ErrnoError(44);var n=S.basename(t),s=i.lookupNode(r,n),o=i.mayDelete(r,n,!1);if(o)throw new i.ErrnoError(o);if(!r.node_ops.unlink)throw new i.ErrnoError(63);if(i.isMountpoint(s))throw new i.ErrnoError(10);r.node_ops.unlink(r,n),i.destroyNode(s)},readlink:t=>{var r=i.lookupPath(t).node;if(!r)throw new i.ErrnoError(44);if(!r.node_ops.readlink)throw new i.ErrnoError(28);return Y.resolve(i.getPath(r.parent),r.node_ops.readlink(r))},stat:(t,e)=>{var n=i.lookupPath(t,{follow:!e}).node;if(!n)throw new i.ErrnoError(44);if(!n.node_ops.getattr)throw new i.ErrnoError(63);return n.node_ops.getattr(n)},lstat:t=>i.stat(t,!0),chmod:(t,e,r)=>{var n;if(!(n="string"==typeof t?i.lookupPath(t,{follow:!r}).node:t).node_ops.setattr)throw new i.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&e|-4096&n.mode,timestamp:Date.now()})},lchmod:(t,e)=>{i.chmod(t,e,!0)},fchmod:(t,e)=>{var r=i.getStreamChecked(t);i.chmod(r.node,e)},chown:(t,e,r,n)=>{var s;if(!(s="string"==typeof t?i.lookupPath(t,{follow:!n}).node:t).node_ops.setattr)throw new i.ErrnoError(63);s.node_ops.setattr(s,{timestamp:Date.now()})},lchown:(t,e,r)=>{i.chown(t,e,r,!0)},fchown:(t,e,r)=>{var n=i.getStreamChecked(t);i.chown(n.node,e,r)},truncate:(t,e)=>{if(e<0)throw new i.ErrnoError(28);var r;if(!(r="string"==typeof t?i.lookupPath(t,{follow:!0}).node:t).node_ops.setattr)throw new i.ErrnoError(63);if(i.isDir(r.mode))throw new i.ErrnoError(31);if(!i.isFile(r.mode))throw new i.ErrnoError(28);var s=i.nodePermissions(r,"w");if(s)throw new i.ErrnoError(s);r.node_ops.setattr(r,{size:e,timestamp:Date.now()})},ftruncate:(t,e)=>{var r=i.getStreamChecked(t);if(!(2097155&r.flags))throw new i.ErrnoError(28);i.truncate(r.node,e)},utime:(t,e,r)=>{var s=i.lookupPath(t,{follow:!0}).node;s.node_ops.setattr(s,{timestamp:Math.max(e,r)})},open:(t,e,r)=>{if(""===t)throw new i.ErrnoError(44);var n;if(e="string"==typeof e?function kr(t){var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof r>"u")throw new Error(`Unknown file open mode: ${t}`);return r}(e):e,r=typeof r>"u"?438:r,r=64&e?4095&r|32768:0,"object"==typeof t)n=t;else{t=S.normalize(t);try{n=i.lookupPath(t,{follow:!(131072&e)}).node}catch{}}var o=!1;if(64&e)if(n){if(128&e)throw new i.ErrnoError(20)}else n=i.mknod(t,r,0),o=!0;if(!n)throw new i.ErrnoError(44);if(i.isChrdev(n.mode)&&(e&=-513),65536&e&&!i.isDir(n.mode))throw new i.ErrnoError(54);if(!o){var a=i.mayOpen(n,e);if(a)throw new i.ErrnoError(a)}512&e&&!o&&i.truncate(n,0),e&=-131713;var l=i.createStream({node:n,path:i.getPath(n),flags:e,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return l.stream_ops.open&&l.stream_ops.open(l),d.logReadFiles&&!(1&e)&&(i.readFiles||(i.readFiles={}),t in i.readFiles||(i.readFiles[t]=1)),l},close:t=>{if(i.isClosed(t))throw new i.ErrnoError(8);t.getdents&&(t.getdents=null);try{t.stream_ops.close&&t.stream_ops.close(t)}catch(e){throw e}finally{i.closeStream(t.fd)}t.fd=null},isClosed:t=>null===t.fd,llseek:(t,e,r)=>{if(i.isClosed(t))throw new i.ErrnoError(8);if(!t.seekable||!t.stream_ops.llseek)throw new i.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new i.ErrnoError(28);return t.position=t.stream_ops.llseek(t,e,r),t.ungotten=[],t.position},read:(t,e,r,n,s)=>{if(n<0||s<0)throw new i.ErrnoError(28);if(i.isClosed(t))throw new i.ErrnoError(8);if(1==(2097155&t.flags))throw new i.ErrnoError(8);if(i.isDir(t.node.mode))throw new i.ErrnoError(31);if(!t.stream_ops.read)throw new i.ErrnoError(28);var o=typeof s<"u";if(o){if(!t.seekable)throw new i.ErrnoError(70)}else s=t.position;var a=t.stream_ops.read(t,e,r,n,s);return o||(t.position+=a),a},write:(t,e,r,n,s,o)=>{if(n<0||s<0)throw new i.ErrnoError(28);if(i.isClosed(t))throw new i.ErrnoError(8);if(!(2097155&t.flags))throw new i.ErrnoError(8);if(i.isDir(t.node.mode))throw new i.ErrnoError(31);if(!t.stream_ops.write)throw new i.ErrnoError(28);t.seekable&&1024&t.flags&&i.llseek(t,0,2);var a=typeof s<"u";if(a){if(!t.seekable)throw new i.ErrnoError(70)}else s=t.position;var l=t.stream_ops.write(t,e,r,n,s,o);return a||(t.position+=l),l},allocate:(t,e,r)=>{if(i.isClosed(t))throw new i.ErrnoError(8);if(e<0||r<=0)throw new i.ErrnoError(28);if(!(2097155&t.flags))throw new i.ErrnoError(8);if(!i.isFile(t.node.mode)&&!i.isDir(t.node.mode))throw new i.ErrnoError(43);if(!t.stream_ops.allocate)throw new i.ErrnoError(138);t.stream_ops.allocate(t,e,r)},mmap:(t,e,r,n,s)=>{if(2&n&&!(2&s)&&2!=(2097155&t.flags))throw new i.ErrnoError(2);if(1==(2097155&t.flags))throw new i.ErrnoError(2);if(!t.stream_ops.mmap)throw new i.ErrnoError(43);return t.stream_ops.mmap(t,e,r,n,s)},msync:(t,e,r,n,s)=>t.stream_ops.msync?t.stream_ops.msync(t,e,r,n,s):0,munmap:t=>0,ioctl:(t,e,r)=>{if(!t.stream_ops.ioctl)throw new i.ErrnoError(59);return t.stream_ops.ioctl(t,e,r)},readFile:(t,e={})=>{if(e.flags=e.flags||0,e.encoding=e.encoding||"binary","utf8"!==e.encoding&&"binary"!==e.encoding)throw new Error(`Invalid encoding type "${e.encoding}"`);var r,n=i.open(t,e.flags),o=i.stat(t).size,a=new Uint8Array(o);return i.read(n,a,0,o,0),"utf8"===e.encoding?r=G(a,0):"binary"===e.encoding&&(r=a),i.close(n),r},writeFile:(t,e,r={})=>{r.flags=r.flags||577;var n=i.open(t,r.flags,r.mode);if("string"==typeof e){var s=new Uint8Array(lt(e)+1),o=ge(e,s,0,s.length);i.write(n,s,0,o,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(e))throw new Error("Unsupported data type");i.write(n,e,0,e.byteLength,void 0,r.canOwn)}i.close(n)},cwd:()=>i.currentPath,chdir:t=>{var e=i.lookupPath(t,{follow:!0});if(null===e.node)throw new i.ErrnoError(44);if(!i.isDir(e.node.mode))throw new i.ErrnoError(54);var r=i.nodePermissions(e.node,"x");if(r)throw new i.ErrnoError(r);i.currentPath=e.path},createDefaultDirectories:()=>{i.mkdir("/tmp"),i.mkdir("/home"),i.mkdir("/home/web_user")},createDefaultDevices:()=>{i.mkdir("/dev"),i.registerDevice(i.makedev(1,3),{read:()=>0,write:(n,s,o,a,l)=>a}),i.mkdev("/dev/null",i.makedev(1,3)),j.register(i.makedev(5,0),j.default_tty_ops),j.register(i.makedev(6,0),j.default_tty1_ops),i.mkdev("/dev/tty",i.makedev(5,0)),i.mkdev("/dev/tty1",i.makedev(6,0));var t=new Uint8Array(1024),e=0,r=()=>(0===e&&(e=at(t).byteLength),t[--e]);i.createDevice("/dev","random",r),i.createDevice("/dev","urandom",r),i.mkdir("/dev/shm"),i.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{i.mkdir("/proc");var t=i.mkdir("/proc/self");i.mkdir("/proc/self/fd"),i.mount({mount:()=>{var e=i.createNode(t,"fd",16895,73);return e.node_ops={lookup:(r,n)=>{var o=i.getStreamChecked(+n),a={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>o.path}};return a.parent=a,a}},e}},{},"/proc/self/fd")},createStandardStreams:()=>{d.stdin?i.createDevice("/dev","stdin",d.stdin):i.symlink("/dev/tty","/dev/stdin"),d.stdout?i.createDevice("/dev","stdout",null,d.stdout):i.symlink("/dev/tty","/dev/stdout"),d.stderr?i.createDevice("/dev","stderr",null,d.stderr):i.symlink("/dev/tty1","/dev/stderr"),i.open("/dev/stdin",0),i.open("/dev/stdout",1),i.open("/dev/stderr",1)},ensureErrnoError:()=>{i.ErrnoError||(i.ErrnoError=function(e,r){this.name="ErrnoError",this.node=r,this.setErrno=function(n){this.errno=n},this.setErrno(e),this.message="FS error"},i.ErrnoError.prototype=new Error,i.ErrnoError.prototype.constructor=i.ErrnoError,[44].forEach(t=>{i.genericErrors[t]=new i.ErrnoError(t),i.genericErrors[t].stack="<generic error, no stack>"}))},staticInit:()=>{i.ensureErrnoError(),i.nameTable=new Array(4096),i.mount(w,{},"/"),i.createDefaultDirectories(),i.createDefaultDevices(),i.createSpecialDirectories(),i.filesystems={MEMFS:w}},init:(t,e,r)=>{i.init.initialized=!0,i.ensureErrnoError(),d.stdin=t||d.stdin,d.stdout=e||d.stdout,d.stderr=r||d.stderr,i.createStandardStreams()},quit:()=>{i.init.initialized=!1;for(var t=0;t<i.streams.length;t++){var e=i.streams[t];e&&i.close(e)}},findObject:(t,e)=>{var r=i.analyzePath(t,e);return r.exists?r.object:null},analyzePath:(t,e)=>{try{t=(r=i.lookupPath(t,{follow:!e})).path}catch{}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=i.lookupPath(t,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=S.basename(t),r=i.lookupPath(t,{follow:!e}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(s){n.error=s.errno}return n},createPath:(t,e,r,n)=>{t="string"==typeof t?t:i.getPath(t);for(var s=e.split("/").reverse();s.length;){var o=s.pop();if(o){var a=S.join2(t,o);try{i.mkdir(a)}catch{}t=a}}return a},createFile:(t,e,r,n,s)=>{var o=S.join2("string"==typeof t?t:i.getPath(t),e),a=Oe(n,s);return i.create(o,a)},createDataFile:(t,e,r,n,s,o)=>{var a=e;t&&(t="string"==typeof t?t:i.getPath(t),a=e?S.join2(t,e):t);var l=Oe(n,s),c=i.create(a,l);if(r){if("string"==typeof r){for(var g=new Array(r.length),E=0,_=r.length;E<_;++E)g[E]=r.charCodeAt(E);r=g}i.chmod(c,146|l);var v=i.open(c,577);i.write(v,r,0,r.length,0,o),i.close(v),i.chmod(c,l)}return c},createDevice:(t,e,r,n)=>{var s=S.join2("string"==typeof t?t:i.getPath(t),e),o=Oe(!!r,!!n);i.createDevice.major||(i.createDevice.major=64);var a=i.makedev(i.createDevice.major++,0);return i.registerDevice(a,{open:l=>{l.seekable=!1},close:l=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(l,c,g,E,_)=>{for(var v=0,f=0;f<E;f++){var b;try{b=r()}catch{throw new i.ErrnoError(29)}if(void 0===b&&0===v)throw new i.ErrnoError(6);if(null==b)break;v++,c[g+f]=b}return v&&(l.node.timestamp=Date.now()),v},write:(l,c,g,E,_)=>{for(var v=0;v<E;v++)try{n(c[g+v])}catch{throw new i.ErrnoError(29)}return E&&(l.node.timestamp=Date.now()),v}}),i.mkdev(s,o,a)},forceLoadFile:t=>{if(t.isDevice||t.isFolder||t.link||t.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!re)throw new Error("Cannot load without read() or XMLHttpRequest.");try{t.contents=ye(re(t.url),!0),t.usedBytes=t.contents.length}catch{throw new i.ErrnoError(29)}},createLazyFile:(t,e,r,n,s)=>{function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(f){if(!(f>this.length-1||f<0)){var b=f%this.chunkSize;return this.getter(f/this.chunkSize|0)[b]}},o.prototype.setDataGetter=function(f){this.getter=f},o.prototype.cacheLength=function(){var f=new XMLHttpRequest;if(f.open("HEAD",r,!1),f.send(null),!(f.status>=200&&f.status<300||304===f.status))throw new Error("Couldn't load "+r+". Status: "+f.status);var D,b=Number(f.getResponseHeader("Content-length")),O=(D=f.getResponseHeader("Accept-Ranges"))&&"bytes"===D,C=(D=f.getResponseHeader("Content-Encoding"))&&"gzip"===D,h=1048576;O||(h=b);var L=this;L.setDataGetter(P=>{var H=P*h,M=(P+1)*h-1;if(M=Math.min(M,b-1),typeof L.chunks[P]>"u"&&(L.chunks[P]=((P,H)=>{if(P>H)throw new Error("invalid range ("+P+", "+H+") or no bytes requested!");if(H>b-1)throw new Error("only "+b+" bytes available! programmer error!");var M=new XMLHttpRequest;if(M.open("GET",r,!1),b!==h&&M.setRequestHeader("Range","bytes="+P+"-"+H),M.responseType="arraybuffer",M.overrideMimeType&&M.overrideMimeType("text/plain; charset=x-user-defined"),M.send(null),!(M.status>=200&&M.status<300||304===M.status))throw new Error("Couldn't load "+r+". Status: "+M.status);return void 0!==M.response?new Uint8Array(M.response||[]):ye(M.responseText||"",!0)})(H,M)),typeof L.chunks[P]>"u")throw new Error("doXHR failed!");return L.chunks[P]}),(C||!b)&&(h=b=1,b=this.getter(0).length,h=b,Fe("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=b,this._chunkSize=h,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!J)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var l={isDevice:!1,contents:a}}else l={isDevice:!1,url:r};var c=i.createFile(t,e,l,n,s);l.contents?c.contents=l.contents:l.url&&(c.contents=null,c.url=l.url),Object.defineProperties(c,{usedBytes:{get:function(){return this.contents.length}}});var g={};function _(v,f,b,D,O){var C=v.node.contents;if(O>=C.length)return 0;var h=Math.min(C.length-O,D);if(C.slice)for(var p=0;p<h;p++)f[b+p]=C[O+p];else for(p=0;p<h;p++)f[b+p]=C.get(O+p);return h}return Object.keys(c.stream_ops).forEach(v=>{var f=c.stream_ops[v];g[v]=function(){return i.forceLoadFile(c),f.apply(null,arguments)}}),g.read=(v,f,b,D,O)=>(i.forceLoadFile(c),_(v,f,b,D,O)),g.mmap=(v,f,b,D,O)=>{i.forceLoadFile(c);var C=ut(f);if(!C)throw new i.ErrnoError(48);return _(v,F,C,f,b),{ptr:C,allocated:!0}},c.stream_ops=g,c}},k={DEFAULT_POLLMASK:5,calculateAt:function(t,e,r){if(S.isAbs(e))return e;var n;if(n=-100===t?i.cwd():k.getStreamFromFD(t).path,0==e.length){if(!r)throw new i.ErrnoError(44);return n}return S.join2(n,e)},doStat:function(t,e,r){try{var n=t(e)}catch(l){if(l&&l.node&&S.normalize(e)!==S.normalize(i.getPath(l.node)))return-54;throw l}y[r>>2]=n.dev,y[r+4>>2]=n.mode,T[r+8>>2]=n.nlink,y[r+12>>2]=n.uid,y[r+16>>2]=n.gid,y[r+20>>2]=n.rdev,R=[n.size>>>0,(m=n.size,+Math.abs(m)>=1?m>0?+Math.floor(m/4294967296)>>>0:~~+Math.ceil((m-+(~~m>>>0))/4294967296)>>>0:0)],y[r+24>>2]=R[0],y[r+28>>2]=R[1],y[r+32>>2]=4096,y[r+36>>2]=n.blocks;var s=n.atime.getTime(),o=n.mtime.getTime(),a=n.ctime.getTime();return R=[Math.floor(s/1e3)>>>0,(m=Math.floor(s/1e3),+Math.abs(m)>=1?m>0?+Math.floor(m/4294967296)>>>0:~~+Math.ceil((m-+(~~m>>>0))/4294967296)>>>0:0)],y[r+40>>2]=R[0],y[r+44>>2]=R[1],T[r+48>>2]=s%1e3*1e3,R=[Math.floor(o/1e3)>>>0,(m=Math.floor(o/1e3),+Math.abs(m)>=1?m>0?+Math.floor(m/4294967296)>>>0:~~+Math.ceil((m-+(~~m>>>0))/4294967296)>>>0:0)],y[r+56>>2]=R[0],y[r+60>>2]=R[1],T[r+64>>2]=o%1e3*1e3,R=[Math.floor(a/1e3)>>>0,(m=Math.floor(a/1e3),+Math.abs(m)>=1?m>0?+Math.floor(m/4294967296)>>>0:~~+Math.ceil((m-+(~~m>>>0))/4294967296)>>>0:0)],y[r+72>>2]=R[0],y[r+76>>2]=R[1],T[r+80>>2]=a%1e3*1e3,R=[n.ino>>>0,(m=n.ino,+Math.abs(m)>=1?m>0?+Math.floor(m/4294967296)>>>0:~~+Math.ceil((m-+(~~m>>>0))/4294967296)>>>0:0)],y[r+88>>2]=R[0],y[r+92>>2]=R[1],0},doMsync:function(t,e,r,n,s){if(!i.isFile(e.node.mode))throw new i.ErrnoError(43);if(2&n)return 0;var o=V.slice(t,t+r);i.msync(e,o,s,r,n)},varargs:void 0,get:()=>(k.varargs+=4,y[k.varargs-4>>2]),getStr:t=>Z(t),getStreamFromFD:function(t){return i.getStreamChecked(t)}},Rr=(t,e,r)=>ge(t,V,e,r),He={},ae=()=>{if(!ae.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Le||"./this.program"};for(var r in He)void 0===He[r]?delete e[r]:e[r]=He[r];var n=[];for(var r in e)n.push(`${r}=${e[r]}`);ae.strings=n}return ae.strings},we=t=>t%4==0&&(t%100!=0||t%400==0),dt=[31,29,31,30,31,30,31,31,30,31,30,31],ht=[31,28,31,30,31,30,31,31,30,31,30,31],en=(t,e)=>{ce=t,(t=>{ce=t,function Qt(){return Yt||!1}()||(d.onExit&&d.onExit(t),Ce=!0),ue(t,new ve(t))})(t)},ct=function(t,e,r,n){t||(t=this),this.parent=t,this.mount=t.mount,this.mounted=null,this.id=i.nextInode++,this.name=e,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n};Object.defineProperties(ct.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(t){t?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return i.isDir(this.mode)}},isDevice:{get:function(){return i.isChrdev(this.mode)}}}),i.FSNode=ct,i.createPreloadedFile=function _r(t,e,r,n,s,o,a,l,c,g){var E=e?Y.resolve(S.join2(t,e)):t;function v(f){function b(D){g&&g(),l||i.createDataFile(t,e,D,n,s,c),o&&o(),fe()}(function br(t,e,r,n){typeof Browser<"u"&&Browser.init();var s=!1;return Er.forEach(function(o){s||o.canHandle(e)&&(o.handle(t,e,r,n),s=!0)}),s})(f,E,b,()=>{a&&a(),fe()})||b(f)}Ne(),"string"==typeof r?((t,e,r,n)=>{var s=n?"":`al ${t}`;ne(t,o=>{(function Wt(t,e){t||$(e)})(o,`Loading data file "${t}" failed (no arrayBuffer).`),e(new Uint8Array(o)),s&&fe()},o=>{if(!r)throw`Loading data file "${t}" failed.`;r()}),s&&Ne()})(r,f=>v(f),a):v(r)},i.staticInit();var _e,rn={b:(t,e,r,n)=>{$(`Assertion failed: ${Z(t)}, at: `+[e?Z(e):"unknown filename",r,n?Z(n):"unknown function"])},a:function fr(t,e,r){throw new hr(t).init(e,r),t},d:function Sr(t,e,r){k.varargs=r;try{var n=k.getStreamFromFD(t);switch(e){case 0:return(s=k.get())<0?-28:i.createStream(n,s).fd;case 1:case 2:case 6:case 7:return 0;case 3:return n.flags;case 4:var s=k.get();return n.flags|=s,0;case 5:return s=k.get(),se[s+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return y[pt()>>2]=28,-1}}catch(l){if(typeof i>"u"||"ErrnoError"!==l.name)throw l;return-l.errno}},i:function Pr(t,e){try{var r=k.getStreamFromFD(t);return k.doStat(i.stat,r.path,e)}catch(n){if(typeof i>"u"||"ErrnoError"!==n.name)throw n;return-n.errno}},o:function Tr(t,e,r){try{var n=k.getStreamFromFD(t);n.getdents||(n.getdents=i.readdir(n.path));for(var s=280,o=0,a=i.llseek(n,0,1),l=Math.floor(a/s);l<n.getdents.length&&o+s<=r;){var c,g,E=n.getdents[l];if("."===E)c=n.node.id,g=4;else if(".."===E)c=i.lookupPath(n.path,{parent:!0}).node.id,g=4;else{var v=i.lookupNode(n.node,E);c=v.id,g=i.isChrdev(v.mode)?2:i.isDir(v.mode)?4:i.isLink(v.mode)?10:8}R=[c>>>0,(m=c,+Math.abs(m)>=1?m>0?+Math.floor(m/4294967296)>>>0:~~+Math.ceil((m-+(~~m>>>0))/4294967296)>>>0:0)],y[e+o>>2]=R[0],y[e+o+4>>2]=R[1],R=[(l+1)*s>>>0,(m=(l+1)*s,+Math.abs(m)>=1?m>0?+Math.floor(m/4294967296)>>>0:~~+Math.ceil((m-+(~~m>>>0))/4294967296)>>>0:0)],y[e+o+8>>2]=R[0],y[e+o+12>>2]=R[1],se[e+o+16>>1]=280,F[e+o+18>>0]=g,Rr(E,e+o+19,256),o+=s,l+=1}return i.llseek(n,l*s,0),o}catch(f){if(typeof i>"u"||"ErrnoError"!==f.name)throw f;return-f.errno}},k:function Ar(t,e,r){k.varargs=r;try{var n=k.getStreamFromFD(t);switch(e){case 21509:case 21510:case 21511:case 21512:case 21524:case 21515:return n.tty?0:-59;case 21505:if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var s=n.tty.ops.ioctl_tcgets(n),o=k.get();y[o>>2]=s.c_iflag||0,y[o+4>>2]=s.c_oflag||0,y[o+8>>2]=s.c_cflag||0,y[o+12>>2]=s.c_lflag||0;for(var a=0;a<32;a++)F[o+a+17>>0]=s.c_cc[a]||0;return 0}return 0;case 21506:case 21507:case 21508:if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){o=k.get();var l=y[o>>2],c=y[o+4>>2],g=y[o+8>>2],E=y[o+12>>2],_=[];for(a=0;a<32;a++)_.push(F[o+a+17>>0]);return n.tty.ops.ioctl_tcsets(n.tty,e,{c_iflag:l,c_oflag:c,c_cflag:g,c_lflag:E,c_cc:_})}return 0;case 21519:return n.tty?(o=k.get(),y[o>>2]=0,0):-59;case 21520:return n.tty?-28:-59;case 21531:return o=k.get(),i.ioctl(n,e,o);case 21523:if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var v=n.tty.ops.ioctl_tiocgwinsz(n.tty);o=k.get(),se[o>>1]=v[0],se[o+2>>1]=v[1]}return 0;default:return-28}}catch(f){if(typeof i>"u"||"ErrnoError"!==f.name)throw f;return-f.errno}},r:function Mr(t,e){try{return t=k.getStr(t),k.doStat(i.lstat,t,e)}catch(r){if(typeof i>"u"||"ErrnoError"!==r.name)throw r;return-r.errno}},s:function Lr(t,e,r,n){try{e=k.getStr(e);var s=256&n,o=4096&n;return n&=-6401,e=k.calculateAt(t,e,o),k.doStat(s?i.lstat:i.stat,e,r)}catch(a){if(typeof i>"u"||"ErrnoError"!==a.name)throw a;return-a.errno}},h:function Dr(t,e,r,n){k.varargs=n;try{e=k.getStr(e),e=k.calculateAt(t,e);var s=n?k.get():0;return i.open(e,r,s).fd}catch(o){if(typeof i>"u"||"ErrnoError"!==o.name)throw o;return-o.errno}},t:function Ir(t,e){try{return t=k.getStr(t),k.doStat(i.stat,t,e)}catch(r){if(typeof i>"u"||"ErrnoError"!==r.name)throw r;return-r.errno}},f:()=>{$("")},l:(t,e,r)=>V.copyWithin(t,e,e+r),n:t=>{$("OOM")},p:(t,e)=>{var r=0;return ae().forEach(function(n,s){var o=e+r;T[t+4*s>>2]=o,((t,e)=>{for(var r=0;r<t.length;++r)F[e++>>0]=t.charCodeAt(r);F[e>>0]=0})(n,o),r+=n.length+1}),0},q:(t,e)=>{var r=ae();T[t>>2]=r.length;var n=0;return r.forEach(function(s){n+=s.length+1}),T[e>>2]=n,0},e:function zr(t){try{var e=k.getStreamFromFD(t);return i.close(e),0}catch(r){if(typeof i>"u"||"ErrnoError"!==r.name)throw r;return r.errno}},j:function Wr(t,e,r,n){try{var o=((t,e,r,n)=>{for(var s=0,o=0;o<r;o++){var a=T[e>>2],l=T[e+4>>2];e+=8;var c=i.read(t,F,a,l,n);if(c<0)return-1;if(s+=c,c<l)break;typeof n<"u"&&(n+=c)}return s})(k.getStreamFromFD(t),e,r);return T[n>>2]=o,0}catch(a){if(typeof i>"u"||"ErrnoError"!==a.name)throw a;return a.errno}},m:function jr(t,e,r,n,s){var o=function qr(t,e){return e+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*e:NaN}(e,r);try{if(isNaN(o))return 61;var a=k.getStreamFromFD(t);return i.llseek(a,o,n),R=[a.position>>>0,(m=a.position,+Math.abs(m)>=1?m>0?+Math.floor(m/4294967296)>>>0:~~+Math.ceil((m-+(~~m>>>0))/4294967296)>>>0:0)],y[s>>2]=R[0],y[s+4>>2]=R[1],a.getdents&&0===o&&0===n&&(a.getdents=null),0}catch(l){if(typeof i>"u"||"ErrnoError"!==l.name)throw l;return l.errno}},g:function Xr(t,e,r,n){try{var o=((t,e,r,n)=>{for(var s=0,o=0;o<r;o++){var a=T[e>>2],l=T[e+4>>2];e+=8;var c=i.write(t,F,a,l,n);if(c<0)return-1;s+=c,typeof n<"u"&&(n+=c)}return s})(k.getStreamFromFD(t),e,r);return T[n>>2]=o,0}catch(a){if(typeof i>"u"||"ErrnoError"!==a.name)throw a;return a.errno}},c:(t,e,r,n,s)=>((t,e,r,n)=>{var s=y[n+40>>2],o={tm_sec:y[n>>2],tm_min:y[n+4>>2],tm_hour:y[n+8>>2],tm_mday:y[n+12>>2],tm_mon:y[n+16>>2],tm_year:y[n+20>>2],tm_wday:y[n+24>>2],tm_yday:y[n+28>>2],tm_isdst:y[n+32>>2],tm_gmtoff:y[n+36>>2],tm_zone:s?Z(s):""},a=Z(r),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var c in l)a=a.replace(new RegExp(c,"g"),l[c]);var g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],E=["January","February","March","April","May","June","July","August","September","October","November","December"];function _(h,p,L){for(var P="number"==typeof h?h.toString():h||"";P.length<p;)P=L[0]+P;return P}function v(h,p){return _(h,p,"0")}function f(h,p){function L(H){return H<0?-1:H>0?1:0}var P;return 0===(P=L(h.getFullYear()-p.getFullYear()))&&0===(P=L(h.getMonth()-p.getMonth()))&&(P=L(h.getDate()-p.getDate())),P}function b(h){switch(h.getDay()){case 0:return new Date(h.getFullYear()-1,11,29);case 1:return h;case 2:return new Date(h.getFullYear(),0,3);case 3:return new Date(h.getFullYear(),0,2);case 4:return new Date(h.getFullYear(),0,1);case 5:return new Date(h.getFullYear()-1,11,31);case 6:return new Date(h.getFullYear()-1,11,30)}}function D(h){var p=((t,e)=>{for(var r=new Date(t.getTime());e>0;){var n=we(r.getFullYear()),s=r.getMonth(),o=(n?dt:ht)[s];if(!(e>o-r.getDate()))return r.setDate(r.getDate()+e),r;e-=o-r.getDate()+1,r.setDate(1),s<11?r.setMonth(s+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r})(new Date(h.tm_year+1900,0,1),h.tm_yday),L=new Date(p.getFullYear(),0,4),P=new Date(p.getFullYear()+1,0,4),H=b(L),M=b(P);return f(H,p)<=0?f(M,p)<=0?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var O={"%a":h=>g[h.tm_wday].substring(0,3),"%A":h=>g[h.tm_wday],"%b":h=>E[h.tm_mon].substring(0,3),"%B":h=>E[h.tm_mon],"%C":h=>v((h.tm_year+1900)/100|0,2),"%d":h=>v(h.tm_mday,2),"%e":h=>_(h.tm_mday,2," "),"%g":h=>D(h).toString().substring(2),"%G":h=>D(h),"%H":h=>v(h.tm_hour,2),"%I":h=>{var p=h.tm_hour;return 0==p?p=12:p>12&&(p-=12),v(p,2)},"%j":h=>v(h.tm_mday+((t,e)=>{for(var r=0,n=0;n<=e;r+=t[n++]);return r})(we(h.tm_year+1900)?dt:ht,h.tm_mon-1),3),"%m":h=>v(h.tm_mon+1,2),"%M":h=>v(h.tm_min,2),"%n":()=>"\n","%p":h=>h.tm_hour>=0&&h.tm_hour<12?"AM":"PM","%S":h=>v(h.tm_sec,2),"%t":()=>"\t","%u":h=>h.tm_wday||7,"%U":h=>v(Math.floor((h.tm_yday+7-h.tm_wday)/7),2),"%V":h=>{var p=Math.floor((h.tm_yday+7-(h.tm_wday+6)%7)/7);if((h.tm_wday+371-h.tm_yday-2)%7<=2&&p++,p){if(53==p){var P=(h.tm_wday+371-h.tm_yday)%7;4!=P&&(3!=P||!we(h.tm_year))&&(p=1)}}else{p=52;var L=(h.tm_wday+7-h.tm_yday-1)%7;(4==L||5==L&&we(h.tm_year%400-1))&&p++}return v(p,2)},"%w":h=>h.tm_wday,"%W":h=>v(Math.floor((h.tm_yday+7-(h.tm_wday+6)%7)/7),2),"%y":h=>(h.tm_year+1900).toString().substring(2),"%Y":h=>h.tm_year+1900,"%z":h=>{var p=h.tm_gmtoff;return(p>=0?"+":"-")+("0000"+(p=(p=Math.abs(p)/60)/60*100+p%60)).slice(-4)},"%Z":h=>h.tm_zone,"%%":()=>"%"};for(var c in a=a.replace(/%%/g,"\0\0"),O)a.includes(c)&&(a=a.replace(new RegExp(c,"g"),O[c](o)));var C=ye(a=a.replace(/\0\0/g,"%"),!1);return C.length>e?0:(((t,e)=>{F.set(t,e)})(C,t),C.length-1)})(t,e,r,n)},ft=(function ur(){var t={a:rn};function e(n,s){var o=n.exports;return Qe=(N=o).u,function Xt(){var t=Qe.buffer;d.HEAP8=F=new Int8Array(t),d.HEAP16=se=new Int16Array(t),d.HEAP32=y=new Int32Array(t),d.HEAPU8=V=new Uint8Array(t),d.HEAPU16=new Uint16Array(t),d.HEAPU32=T=new Uint32Array(t),d.HEAPF32=new Float32Array(t),d.HEAPF64=new Float64Array(t)}(),function ir(t){et.unshift(t)}(N.v),fe(),o}if(Ne(),d.instantiateWasm)try{return d.instantiateWasm(t,e)}catch(n){return q("Module.instantiateWasm callback failed with error: "+n),!1}(function lr(t,e,r,n){t||"function"!=typeof WebAssembly.instantiateStreaming||rt(e)||pe(e)||de||"function"!=typeof fetch?it(e,r,n):fetch(e,{credentials:"same-origin"}).then(s=>WebAssembly.instantiateStreaming(s,r).then(n,function(a){return q("wasm streaming compile failed: "+a),q("falling back to ArrayBuffer instantiation"),it(e,r,n)}))})(ie,Q,t,function r(n){e(n.instance)})}(),d._Setup=(t,e)=>(d._Setup=N.w)(t,e),d._Calculate=(t,e,r)=>(d._Calculate=N.x)(t,e,r),d._main=(t,e)=>(ft=d._main=N.y)(t,e)),pt=(d._malloc=t=>(d._malloc=N.A)(t),d._free=t=>(d._free=N.B)(t),()=>(pt=N.C)()),vt=(t,e)=>(vt=N.D)(t,e),mt=t=>(mt=N.E)(t);function gt(){function t(){_e||(_e=!0,d.calledRun=!0,!Ce&&(function er(){!d.noFSInit&&!i.init.initialized&&i.init(),i.ignorePermissions=!1,j.init(),me(et)}(),function tr(){me(Gt)}(),d.onRuntimeInitialized&&d.onRuntimeInitialized(),yt&&function un(){var t=ft;try{var n=t(0,0);return en(n),n}catch(s){return(t=>{if(t instanceof ve||"unwind"==t)return ce;ue(1,t)})(s)}}(),function rr(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)t=d.postRun.shift(),tt.unshift(t);var t;me(tt)}()))}X>0||(function Zt(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)t=d.preRun.shift(),Ze.unshift(t);var t;me(Ze)}(),X>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),t()},1)):t())}if(oe=function t(){_e||gt(),_e||(oe=t)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var yt=!0;d.noInitialRun&&(yt=!1),gt()},827:()=>{},652:()=>{},832:()=>{}},Ue={};function ke(I){var Se=Ue[I];if(void 0!==Se)return Se.exports;var z=Ue[I]={id:I,loaded:!1,exports:{}};return wt[I](z,z.exports,ke),z.loaded=!0,z.exports}ke.hmd=I=>((I=Object.create(I)).children||(I.children=[]),Object.defineProperty(I,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+I.id)}}),I),ke(104)})();