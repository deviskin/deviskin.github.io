(self.webpackChunkscheduler13=self.webpackChunkscheduler13||[]).push([[179],{776:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{N:()=>JsStandardService});class JsStandardService{\u0434\u0432\u0438\u0436\u043e\u043a\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d=!1;\u0441\u0442\u0430\u0440\u044b\u0439\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a="";\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u043f\u0443\u0441\u043a\u0430=null;run(src,\u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u0430\u044f\u041f\u0430\u043c\u044f\u0442\u044c=null,\u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435=null,\u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0439\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442=null){let codeFunc0=null,codeFunc=()=>this.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u043f\u0443\u0441\u043a\u0430.\u0433\u043b\u0430\u0432\u043d\u044b\u0439\u041c\u0435\u0442\u043e\u0434();this.\u0441\u0442\u0430\u0440\u044b\u0439\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a!=src&&(codeFunc0=()=>this.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u043f\u0443\u0441\u043a\u0430.\u0441\u0431\u0440\u043e\u0441\u041d\u0430\u0441\u0442\u0440\u043e\u0435\u043a(),this.\u0441\u0442\u0430\u0440\u044b\u0439\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a=src,\u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c\u0413\u0440\u0430\u0444\u0438\u043a=!0,this.\u0434\u0432\u0438\u0436\u043e\u043a\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d=!1),this.\u0434\u0432\u0438\u0436\u043e\u043a\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d||(this.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u043f\u0443\u0441\u043a\u0430=eval(`(function(){\n        ${this.\u0441\u0442\u0430\u0440\u044b\u0439\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a}\n        return {\u0433\u043b\u0430\u0432\u043d\u044b\u0439\u041c\u0435\u0442\u043e\u0434:\u0433\u043b\u0430\u0432\u043d\u044b\u0439\u041c\u0435\u0442\u043e\u0434,\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430\u0413\u0440\u0430\u0444\u0438\u043a\u0438:\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430\u0413\u0440\u0430\u0444\u0438\u043a\u0438};\n      })();`)),this.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u043f\u0443\u0441\u043a\u0430.\u043f\u0430\u043c\u044f\u0442\u044c=\u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u0430\u044f\u041f\u0430\u043c\u044f\u0442\u044c,this.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u043f\u0443\u0441\u043a\u0430.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435=\u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u043f\u0443\u0441\u043a\u0430.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442=\u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0439\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442,this.\u0434\u0432\u0438\u0436\u043e\u043a\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d||(codeFunc=()=>this.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u043f\u0443\u0441\u043a\u0430.\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430\u0413\u0440\u0430\u0444\u0438\u043a\u0438(),this.\u0434\u0432\u0438\u0436\u043e\u043a\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d=!0),codeFunc0&&codeFunc0(),codeFunc()}}},345:(oS,je,Ut)=>{"use strict";var Ke={};function ye(c){return"function"==typeof c}function Te(c){const a=c(h=>{Error.call(h),h.stack=(new Error).stack});return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a}Ut.r(Ke),Ut.d(Ke,{Adder:()=>Jo,Delaunay:()=>cB,FormatSpecifier:()=>iM,InternMap:()=>N2,InternSet:()=>Y0,Node:()=>w1,Path:()=>J2,Voronoi:()=>yae,ZoomTransform:()=>nf,active:()=>M$e,arc:()=>ZV,area:()=>XV,areaRadial:()=>Phe,ascending:()=>js,autoType:()=>OUe,axisBottom:()=>mBe,axisLeft:()=>vBe,axisRight:()=>gBe,axisTop:()=>pBe,bin:()=>mse,bisect:()=>G0,bisectCenter:()=>f7e,bisectLeft:()=>d7e,bisectRight:()=>ese,bisector:()=>nD,blob:()=>XUe,blur:()=>p7e,blur2:()=>tse,blurImage:()=>g7e,brush:()=>U$e,brushSelection:()=>V$e,brushX:()=>$$e,brushY:()=>z$e,buffer:()=>qUe,chord:()=>H$e,chordDirected:()=>Z$e,chordTranspose:()=>W$e,cluster:()=>gWe,color:()=>Fh,contourDensity:()=>Oze,contours:()=>R7,count:()=>rD,create:()=>xXe,creator:()=>gD,cross:()=>C7e,csv:()=>eQe,csvFormat:()=>uUe,csvFormatBody:()=>hUe,csvFormatRow:()=>fUe,csvFormatRows:()=>dUe,csvFormatValue:()=>pUe,csvParse:()=>wae,csvParseRows:()=>cUe,cubehelix:()=>zh,cumsum:()=>S7e,curveBasis:()=>$w,curveBasisClosed:()=>iYe,curveBasisOpen:()=>rYe,curveBumpX:()=>qV,curveBumpY:()=>Ihe,curveBundle:()=>sYe,curveCardinal:()=>oYe,curveCardinalClosed:()=>aYe,curveCardinalOpen:()=>lYe,curveCatmullRom:()=>cYe,curveCatmullRomClosed:()=>uYe,curveCatmullRomOpen:()=>hYe,curveLinear:()=>dE,curveLinearClosed:()=>dYe,curveMonotoneX:()=>fYe,curveMonotoneY:()=>pYe,curveNatural:()=>o9,curveStep:()=>gYe,curveStepAfter:()=>mYe,curveStepBefore:()=>a9,descending:()=>Kre,deviation:()=>rse,difference:()=>nBe,disjoint:()=>iBe,dispatch:()=>ky,drag:()=>bae,dragDisable:()=>mD,dragEnable:()=>vD,dsv:()=>JUe,dsvFormat:()=>KD,easeBack:()=>Iae,easeBackIn:()=>HUe,easeBackInOut:()=>Iae,easeBackOut:()=>WUe,easeBounce:()=>lw,easeBounceIn:()=>UUe,easeBounceInOut:()=>QUe,easeBounceOut:()=>lw,easeCircle:()=>Aae,easeCircleIn:()=>AUe,easeCircleInOut:()=>Aae,easeCircleOut:()=>IUe,easeCubic:()=>g7,easeCubicIn:()=>S$e,easeCubicInOut:()=>g7,easeCubicOut:()=>w$e,easeElastic:()=>Rae,easeElasticIn:()=>ZUe,easeElasticInOut:()=>jUe,easeElasticOut:()=>Rae,easeExp:()=>Pae,easeExpIn:()=>EUe,easeExpInOut:()=>Pae,easeExpOut:()=>PUe,easeLinear:()=>SUe,easePoly:()=>kae,easePolyIn:()=>TUe,easePolyInOut:()=>kae,easePolyOut:()=>kUe,easeQuad:()=>Tae,easeQuadIn:()=>wUe,easeQuadInOut:()=>Tae,easeQuadOut:()=>xUe,easeSin:()=>Eae,easeSinIn:()=>DUe,easeSinInOut:()=>Eae,easeSinOut:()=>MUe,every:()=>Y7e,extent:()=>X0,fcumsum:()=>x7e,filter:()=>K7e,flatGroup:()=>T7e,flatRollup:()=>k7e,forceCenter:()=>lQe,forceCollide:()=>kQe,forceLink:()=>MQe,forceManyBody:()=>BQe,forceRadial:()=>VQe,forceSimulation:()=>FQe,forceX:()=>$Qe,forceY:()=>zQe,format:()=>sM,formatDefaultLocale:()=>jae,formatLocale:()=>Zae,formatPrefix:()=>OB,formatSpecifier:()=>qy,fsum:()=>w7e,geoAlbers:()=>uce,geoAlbersUsa:()=>jHe,geoArea:()=>qQe,geoAzimuthalEqualArea:()=>GHe,geoAzimuthalEqualAreaRaw:()=>oV,geoAzimuthalEquidistant:()=>XHe,geoAzimuthalEquidistantRaw:()=>aV,geoBounds:()=>tHe,geoCentroid:()=>aHe,geoCircle:()=>lHe,geoClipAntimeridian:()=>VB,geoClipCircle:()=>Mle,geoClipExtent:()=>gHe,geoClipRectangle:()=>TM,geoConicConformal:()=>qHe,geoConicConformalRaw:()=>fce,geoConicEqualArea:()=>VM,geoConicEqualAreaRaw:()=>cce,geoConicEquidistant:()=>JHe,geoConicEquidistantRaw:()=>pce,geoContains:()=>CHe,geoDistance:()=>MM,geoEqualEarth:()=>tWe,geoEqualEarthRaw:()=>lV,geoEquirectangular:()=>KHe,geoEquirectangularRaw:()=>Sw,geoGnomonic:()=>nWe,geoGnomonicRaw:()=>cV,geoGraticule:()=>Vle,geoGraticule10:()=>SHe,geoIdentity:()=>iWe,geoInterpolate:()=>wHe,geoLength:()=>Ele,geoMercator:()=>YHe,geoMercatorRaw:()=>Cw,geoNaturalEarth1:()=>rWe,geoNaturalEarth1Raw:()=>uV,geoOrthographic:()=>sWe,geoOrthographicRaw:()=>hV,geoPath:()=>FHe,geoProjection:()=>Jd,geoProjectionMutator:()=>rV,geoRotation:()=>Ole,geoStereographic:()=>oWe,geoStereographicRaw:()=>dV,geoStream:()=>Hh,geoTransform:()=>BHe,geoTransverseMercator:()=>aWe,geoTransverseMercatorRaw:()=>fV,gray:()=>sze,greatest:()=>vse,greatestIndex:()=>Z7e,group:()=>lse,groupSort:()=>E7e,groups:()=>cse,hcl:()=>FD,hierarchy:()=>pV,histogram:()=>mse,hsl:()=>bD,html:()=>oQe,image:()=>nQe,index:()=>D7e,indexes:()=>M7e,interpolate:()=>Fg,interpolateArray:()=>d9e,interpolateBasis:()=>Xse,interpolateBasisClosed:()=>Yse,interpolateBlues:()=>oXe,interpolateBrBG:()=>VGe,interpolateBuGn:()=>GGe,interpolateBuPu:()=>XGe,interpolateCividis:()=>dXe,interpolateCool:()=>gXe,interpolateCubehelix:()=>_Ze,interpolateCubehelixDefault:()=>fXe,interpolateCubehelixLong:()=>GM,interpolateDate:()=>noe,interpolateDiscrete:()=>lZe,interpolateGnBu:()=>YGe,interpolateGreens:()=>aXe,interpolateGreys:()=>lXe,interpolateHcl:()=>mZe,interpolateHclLong:()=>vZe,interpolateHsl:()=>fZe,interpolateHslLong:()=>pZe,interpolateHue:()=>cZe,interpolateInferno:()=>SXe,interpolateLab:()=>gZe,interpolateMagma:()=>CXe,interpolateNumber:()=>Xu,interpolateNumberArray:()=>i7,interpolateObject:()=>ioe,interpolateOrRd:()=>qGe,interpolateOranges:()=>hXe,interpolatePRGn:()=>$Ge,interpolatePiYG:()=>zGe,interpolatePlasma:()=>wXe,interpolatePuBu:()=>JGe,interpolatePuBuGn:()=>KGe,interpolatePuOr:()=>UGe,interpolatePuRd:()=>eXe,interpolatePurples:()=>cXe,interpolateRainbow:()=>mXe,interpolateRdBu:()=>QGe,interpolateRdGy:()=>HGe,interpolateRdPu:()=>tXe,interpolateRdYlBu:()=>WGe,interpolateRdYlGn:()=>ZGe,interpolateReds:()=>uXe,interpolateRgb:()=>W2,interpolateRgbBasis:()=>Jse,interpolateRgbBasisClosed:()=>h9e,interpolateRound:()=>jM,interpolateSinebow:()=>yXe,interpolateSpectral:()=>jGe,interpolateString:()=>o7,interpolateTransformCss:()=>poe,interpolateTransformSvg:()=>goe,interpolateTurbo:()=>bXe,interpolateViridis:()=>OXe,interpolateWarm:()=>pXe,interpolateYlGn:()=>iXe,interpolateYlGnBu:()=>nXe,interpolateYlOrBr:()=>rXe,interpolateYlOrRd:()=>sXe,interpolateZoom:()=>Rce,interrupt:()=>s1,intersection:()=>rBe,interval:()=>RYe,isoFormat:()=>EYe,isoParse:()=>IYe,json:()=>rQe,lab:()=>ND,lch:()=>oze,least:()=>W7e,leastIndex:()=>bse,line:()=>jh,lineRadial:()=>Ehe,link:()=>fE,linkHorizontal:()=>WXe,linkRadial:()=>jXe,linkVertical:()=>ZXe,local:()=>whe,map:()=>J7e,matcher:()=>G6,max:()=>F2,maxIndex:()=>Q6,mean:()=>F7e,median:()=>B7e,medianIndex:()=>V7e,merge:()=>W6,min:()=>aD,minIndex:()=>H6,mode:()=>z7e,namespace:()=>z2,namespaces:()=>Y6,nice:()=>z6,now:()=>Y2,pack:()=>WWe,packEnclose:()=>VWe,packSiblings:()=>QWe,pairs:()=>U7e,partition:()=>ZWe,path:()=>ew,pathRound:()=>X$e,permute:()=>pse,pie:()=>$Xe,piecewise:()=>Bce,pointRadial:()=>Vw,pointer:()=>eu,pointers:()=>kXe,polygonArea:()=>bZe,polygonCentroid:()=>OZe,polygonContains:()=>xZe,polygonHull:()=>wZe,polygonLength:()=>TZe,precisionFixed:()=>Gae,precisionPrefix:()=>Xae,precisionRound:()=>Yae,quadtree:()=>tM,quantile:()=>V2,quantileIndex:()=>yse,quantileSorted:()=>_se,quantize:()=>yZe,quickselect:()=>lD,radialArea:()=>Phe,radialLine:()=>Ehe,randomBates:()=>EZe,randomBernoulli:()=>IZe,randomBeta:()=>Uce,randomBinomial:()=>Qce,randomCauchy:()=>LZe,randomExponential:()=>PZe,randomGamma:()=>SV,randomGeometric:()=>zce,randomInt:()=>DZe,randomIrwinHall:()=>$ce,randomLcg:()=>$Ze,randomLogNormal:()=>MZe,randomLogistic:()=>NZe,randomNormal:()=>CV,randomPareto:()=>AZe,randomPoisson:()=>FZe,randomUniform:()=>kZe,randomWeibull:()=>RZe,range:()=>Gu,rank:()=>H7e,reduce:()=>eBe,reverse:()=>tBe,rgb:()=>gp,ribbon:()=>k7,ribbonArrow:()=>ize,rollup:()=>hse,rollups:()=>dse,scaleBand:()=>TV,scaleDiverging:()=>Gue,scaleDivergingLog:()=>Xue,scaleDivergingPow:()=>HV,scaleDivergingSqrt:()=>DGe,scaleDivergingSymlog:()=>Yue,scaleIdentity:()=>Gce,scaleImplicit:()=>wV,scaleLinear:()=>ob,scaleLog:()=>Jce,scaleOrdinal:()=>xV,scalePoint:()=>zZe,scalePow:()=>AV,scaleQuantile:()=>oue,scaleQuantize:()=>aue,scaleRadial:()=>sue,scaleSequential:()=>Hue,scaleSequentialLog:()=>Wue,scaleSequentialPow:()=>QV,scaleSequentialQuantile:()=>jue,scaleSequentialSqrt:()=>kGe,scaleSequentialSymlog:()=>Zue,scaleSqrt:()=>JZe,scaleSymlog:()=>nue,scaleThreshold:()=>lue,scaleTime:()=>xGe,scaleUtc:()=>TGe,scan:()=>j7e,schemeAccent:()=>EGe,schemeBlues:()=>_he,schemeBrBG:()=>que,schemeBuGn:()=>ohe,schemeBuPu:()=>ahe,schemeCategory10:()=>MGe,schemeDark2:()=>PGe,schemeGnBu:()=>lhe,schemeGreens:()=>yhe,schemeGreys:()=>bhe,schemeOrRd:()=>che,schemeOranges:()=>She,schemePRGn:()=>Kue,schemePaired:()=>AGe,schemePastel1:()=>IGe,schemePastel2:()=>RGe,schemePiYG:()=>Jue,schemePuBu:()=>hhe,schemePuBuGn:()=>uhe,schemePuOr:()=>ehe,schemePuRd:()=>dhe,schemePurples:()=>Ohe,schemeRdBu:()=>the,schemeRdGy:()=>nhe,schemeRdPu:()=>fhe,schemeRdYlBu:()=>ihe,schemeRdYlGn:()=>rhe,schemeReds:()=>Che,schemeSet1:()=>LGe,schemeSet2:()=>NGe,schemeSet3:()=>FGe,schemeSpectral:()=>she,schemeTableau10:()=>BGe,schemeYlGn:()=>ghe,schemeYlGnBu:()=>phe,schemeYlOrBr:()=>mhe,schemeYlOrRd:()=>vhe,select:()=>Io,selectAll:()=>DXe,selection:()=>Dy,selector:()=>fD,selectorAll:()=>j6,shuffle:()=>Ose,shuffler:()=>Cse,some:()=>q7e,sort:()=>B6,stack:()=>yYe,stackOffsetDiverging:()=>OYe,stackOffsetExpand:()=>bYe,stackOffsetNone:()=>fb,stackOffsetSilhouette:()=>CYe,stackOffsetWiggle:()=>SYe,stackOrderAppearance:()=>lde,stackOrderAscending:()=>cde,stackOrderDescending:()=>xYe,stackOrderInsideOut:()=>TYe,stackOrderNone:()=>pb,stackOrderReverse:()=>kYe,stratify:()=>YWe,style:()=>J0,subset:()=>oBe,sum:()=>G7e,superset:()=>xse,svg:()=>aQe,symbol:()=>nYe,symbolAsterisk:()=>Rhe,symbolCircle:()=>pE,symbolCross:()=>Lhe,symbolDiamond:()=>Fhe,symbolDiamond2:()=>Bhe,symbolPlus:()=>Vhe,symbolSquare:()=>$he,symbolSquare2:()=>zhe,symbolStar:()=>Qhe,symbolTimes:()=>e9,symbolTriangle:()=>Hhe,symbolTriangle2:()=>Whe,symbolWye:()=>Zhe,symbolX:()=>e9,symbols:()=>jhe,symbolsFill:()=>jhe,symbolsStroke:()=>tYe,text:()=>eM,thresholdFreedmanDiaconis:()=>L7e,thresholdScott:()=>N7e,thresholdSturges:()=>U6,tickFormat:()=>jce,tickIncrement:()=>K0,tickStep:()=>oD,ticks:()=>q0,timeDay:()=>lb,timeDays:()=>sje,timeFormat:()=>$V,timeFormatDefaultLocale:()=>Que,timeFormatLocale:()=>kue,timeFriday:()=>pue,timeFridays:()=>dje,timeHour:()=>JM,timeHours:()=>ije,timeInterval:()=>Ro,timeMillisecond:()=>ab,timeMilliseconds:()=>uue,timeMinute:()=>qM,timeMinutes:()=>tje,timeMonday:()=>Aw,timeMondays:()=>lje,timeMonth:()=>tE,timeMonths:()=>bje,timeParse:()=>Uue,timeSaturday:()=>gue,timeSaturdays:()=>fje,timeSecond:()=>xp,timeSeconds:()=>hue,timeSunday:()=>cb,timeSundays:()=>mue,timeThursday:()=>k1,timeThursdays:()=>hje,timeTickInterval:()=>Tue,timeTicks:()=>xue,timeTuesday:()=>due,timeTuesdays:()=>cje,timeWednesday:()=>fue,timeWednesdays:()=>uje,timeWeek:()=>cb,timeWeeks:()=>mue,timeYear:()=>ef,timeYears:()=>Cje,timeout:()=>l7,timer:()=>kD,timerFlush:()=>aoe,transition:()=>_oe,transpose:()=>Sse,tree:()=>iZe,treemap:()=>rZe,treemapBinary:()=>sZe,treemapDice:()=>Mw,treemapResquarify:()=>aZe,treemapSlice:()=>ZM,treemapSliceDice:()=>oZe,treemapSquarify:()=>Ace,tsv:()=>tQe,tsvFormat:()=>mUe,tsvFormatBody:()=>vUe,tsvFormatRow:()=>yUe,tsvFormatRows:()=>_Ue,tsvFormatValue:()=>bUe,tsvParse:()=>xae,tsvParseRows:()=>gUe,union:()=>aBe,unixDay:()=>FV,unixDays:()=>aje,utcDay:()=>Pw,utcDays:()=>oje,utcFormat:()=>iE,utcFriday:()=>yue,utcFridays:()=>_je,utcHour:()=>eE,utcHours:()=>rje,utcMillisecond:()=>ab,utcMilliseconds:()=>uue,utcMinute:()=>KM,utcMinutes:()=>nje,utcMonday:()=>Iw,utcMondays:()=>pje,utcMonth:()=>nE,utcMonths:()=>Oje,utcParse:()=>zV,utcSaturday:()=>bue,utcSaturdays:()=>yje,utcSecond:()=>xp,utcSeconds:()=>hue,utcSunday:()=>ub,utcSundays:()=>Oue,utcThursday:()=>M1,utcThursdays:()=>vje,utcTickInterval:()=>wue,utcTicks:()=>Sue,utcTuesday:()=>vue,utcTuesdays:()=>gje,utcWednesday:()=>_ue,utcWednesdays:()=>mje,utcWeek:()=>ub,utcWeeks:()=>Oue,utcYear:()=>tf,utcYears:()=>Sje,variance:()=>ise,window:()=>q6,xml:()=>sQe,zip:()=>wse,zoom:()=>zYe,zoomIdentity:()=>OE,zoomTransform:()=>dde});const me=Te(c=>function(a){c(this),this.message=a?`${a.length} errors occurred during unsubscription:\n${a.map((h,d)=>`${d+1}) ${h.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=a});function De(c,l){if(c){const a=c.indexOf(l);0<=a&&c.splice(a,1)}}class Fe{constructor(l){this.initialTeardown=l,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let l;if(!this.closed){this.closed=!0;const{_parentage:a}=this;if(a)if(this._parentage=null,Array.isArray(a))for(const f of a)f.remove(this);else a.remove(this);const{initialTeardown:h}=this;if(ye(h))try{h()}catch(f){l=f instanceof me?f.errors:[f]}const{_finalizers:d}=this;if(d){this._finalizers=null;for(const f of d)try{He(f)}catch(p){l=l??[],p instanceof me?l=[...l,...p.errors]:l.push(p)}}if(l)throw new me(l)}}add(l){var a;if(l&&l!==this)if(this.closed)He(l);else{if(l instanceof Fe){if(l.closed||l._hasParent(this))return;l._addParent(this)}(this._finalizers=null!==(a=this._finalizers)&&void 0!==a?a:[]).push(l)}}_hasParent(l){const{_parentage:a}=this;return a===l||Array.isArray(a)&&a.includes(l)}_addParent(l){const{_parentage:a}=this;this._parentage=Array.isArray(a)?(a.push(l),a):a?[a,l]:l}_removeParent(l){const{_parentage:a}=this;a===l?this._parentage=null:Array.isArray(a)&&De(a,l)}remove(l){const{_finalizers:a}=this;a&&De(a,l),l instanceof Fe&&l._removeParent(this)}}Fe.EMPTY=(()=>{const c=new Fe;return c.closed=!0,c})();const Ge=Fe.EMPTY;function Ue(c){return c instanceof Fe||c&&"closed"in c&&ye(c.remove)&&ye(c.add)&&ye(c.unsubscribe)}function He(c){ye(c)?c():c.unsubscribe()}const ve={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Pe={setTimeout(c,l,...a){const{delegate:h}=Pe;return h?.setTimeout?h.setTimeout(c,l,...a):setTimeout(c,l,...a)},clearTimeout(c){const{delegate:l}=Pe;return(l?.clearTimeout||clearTimeout)(c)},delegate:void 0};function pe(c){Pe.setTimeout(()=>{const{onUnhandledError:l}=ve;if(!l)throw c;l(c)})}function Me(){}const be=ht("C",void 0,void 0);function ht(c,l,a){return{kind:c,value:l,error:a}}let st=null;function Bt(c){if(ve.useDeprecatedSynchronousErrorHandling){const l=!st;if(l&&(st={errorThrown:!1,error:null}),c(),l){const{errorThrown:a,error:h}=st;if(st=null,a)throw h}}else c()}class rn extends Fe{constructor(l){super(),this.isStopped=!1,l?(this.destination=l,Ue(l)&&l.add(this)):this.destination=Ri}static create(l,a,h){return new ze(l,a,h)}next(l){this.isStopped?Nt(function Xe(c){return ht("N",c,void 0)}(l),this):this._next(l)}error(l){this.isStopped?Nt(function Le(c){return ht("E",void 0,c)}(l),this):(this.isStopped=!0,this._error(l))}complete(){this.isStopped?Nt(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(l){this.destination.next(l)}_error(l){try{this.destination.error(l)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Dt=Function.prototype.bind;function un(c,l){return Dt.call(c,l)}class _i{constructor(l){this.partialObserver=l}next(l){const{partialObserver:a}=this;if(a.next)try{a.next(l)}catch(h){Mt(h)}}error(l){const{partialObserver:a}=this;if(a.error)try{a.error(l)}catch(h){Mt(h)}else Mt(l)}complete(){const{partialObserver:l}=this;if(l.complete)try{l.complete()}catch(a){Mt(a)}}}class ze extends rn{constructor(l,a,h){let d;if(super(),ye(l)||!l)d={next:l??void 0,error:a??void 0,complete:h??void 0};else{let f;this&&ve.useDeprecatedNextContext?(f=Object.create(l),f.unsubscribe=()=>this.unsubscribe(),d={next:l.next&&un(l.next,f),error:l.error&&un(l.error,f),complete:l.complete&&un(l.complete,f)}):d=l}this.destination=new _i(d)}}function Mt(c){ve.useDeprecatedSynchronousErrorHandling?function At(c){ve.useDeprecatedSynchronousErrorHandling&&st&&(st.errorThrown=!0,st.error=c)}(c):pe(c)}function Nt(c,l){const{onStoppedNotification:a}=ve;a&&Pe.setTimeout(()=>a(c,l))}const Ri={closed:!0,next:Me,error:function oe(c){throw c},complete:Me},tn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ti(c){return c}function bi(c){return 0===c.length?Ti:1===c.length?c[0]:function(a){return c.reduce((h,d)=>d(h),a)}}let at=(()=>{class c{constructor(a){a&&(this._subscribe=a)}lift(a){const h=new c;return h.source=this,h.operator=a,h}subscribe(a,h,d){const f=function Ln(c){return c&&c instanceof rn||function gi(c){return c&&ye(c.next)&&ye(c.error)&&ye(c.complete)}(c)&&Ue(c)}(a)?a:new ze(a,h,d);return Bt(()=>{const{operator:p,source:g}=this;f.add(p?p.call(f,g):g?this._subscribe(f):this._trySubscribe(f))}),f}_trySubscribe(a){try{return this._subscribe(a)}catch(h){a.error(h)}}forEach(a,h){return new(h=mt(h))((d,f)=>{const p=new ze({next:g=>{try{a(g)}catch(m){f(m),p.unsubscribe()}},error:f,complete:d});this.subscribe(p)})}_subscribe(a){var h;return null===(h=this.source)||void 0===h?void 0:h.subscribe(a)}[tn](){return this}pipe(...a){return bi(a)(this)}toPromise(a){return new(a=mt(a))((h,d)=>{let f;this.subscribe(p=>f=p,p=>d(p),()=>h(f))})}}return c.create=l=>new c(l),c})();function mt(c){var l;return null!==(l=c??ve.Promise)&&void 0!==l?l:Promise}const vn=Te(c=>function(){c(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Pt=(()=>{class c extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(a){const h=new Wo(this,this);return h.operator=a,h}_throwIfClosed(){if(this.closed)throw new vn}next(a){Bt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const h of this.currentObservers)h.next(a)}})}error(a){Bt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=a;const{observers:h}=this;for(;h.length;)h.shift().error(a)}})}complete(){Bt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:a}=this;for(;a.length;)a.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var a;return(null===(a=this.observers)||void 0===a?void 0:a.length)>0}_trySubscribe(a){return this._throwIfClosed(),super._trySubscribe(a)}_subscribe(a){return this._throwIfClosed(),this._checkFinalizedStatuses(a),this._innerSubscribe(a)}_innerSubscribe(a){const{hasError:h,isStopped:d,observers:f}=this;return h||d?Ge:(this.currentObservers=null,f.push(a),new Fe(()=>{this.currentObservers=null,De(f,a)}))}_checkFinalizedStatuses(a){const{hasError:h,thrownError:d,isStopped:f}=this;h?a.error(d):f&&a.complete()}asObservable(){const a=new at;return a.source=this,a}}return c.create=(l,a)=>new Wo(l,a),c})();class Wo extends Pt{constructor(l,a){super(),this.destination=l,this.source=a}next(l){var a,h;null===(h=null===(a=this.destination)||void 0===a?void 0:a.next)||void 0===h||h.call(a,l)}error(l){var a,h;null===(h=null===(a=this.destination)||void 0===a?void 0:a.error)||void 0===h||h.call(a,l)}complete(){var l,a;null===(a=null===(l=this.destination)||void 0===l?void 0:l.complete)||void 0===a||a.call(l)}_subscribe(l){var a,h;return null!==(h=null===(a=this.source)||void 0===a?void 0:a.subscribe(l))&&void 0!==h?h:Ge}}function fr(c){return ye(c?.lift)}function hi(c){return l=>{if(fr(l))return l.lift(function(a){try{return c(a,this)}catch(h){this.error(h)}});throw new TypeError("Unable to lift unknown Observable type")}}function Wi(c,l,a,h,d){return new Ws(c,l,a,h,d)}class Ws extends rn{constructor(l,a,h,d,f,p){super(l),this.onFinalize=f,this.shouldUnsubscribe=p,this._next=a?function(g){try{a(g)}catch(m){l.error(m)}}:super._next,this._error=d?function(g){try{d(g)}catch(m){l.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=h?function(){try{h()}catch(g){l.error(g)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var l;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:a}=this;super.unsubscribe(),!a&&(null===(l=this.onFinalize)||void 0===l||l.call(this))}}}function Oi(c,l){return hi((a,h)=>{let d=0;a.subscribe(Wi(h,f=>{h.next(c.call(l,f,d++))}))})}function Ce(c,l,a,h){var p,d=arguments.length,f=d<3?l:null===h?h=Object.getOwnPropertyDescriptor(l,a):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(c,l,a,h);else for(var g=c.length-1;g>=0;g--)(p=c[g])&&(f=(d<3?p(f):d>3?p(l,a,f):p(l,a))||f);return d>3&&f&&Object.defineProperty(l,a,f),f}function Xr(c){return this instanceof Xr?(this.v=c,this):new Xr(c)}function Vu(c){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,l=c[Symbol.asyncIterator];return l?l.call(c):(c=function lr(c){var l="function"==typeof Symbol&&Symbol.iterator,a=l&&c[l],h=0;if(a)return a.call(c);if(c&&"number"==typeof c.length)return{next:function(){return c&&h>=c.length&&(c=void 0),{value:c&&c[h++],done:!c}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),a={},h("next"),h("throw"),h("return"),a[Symbol.asyncIterator]=function(){return this},a);function h(f){a[f]=c[f]&&function(p){return new Promise(function(g,m){!function d(f,p,g,m){Promise.resolve(m).then(function(v){f({value:v,done:g})},p)}(g,m,(p=c[f](p)).done,p.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const VL=c=>c&&"number"==typeof c.length&&"function"!=typeof c;function eY(c){return ye(c?.then)}function tY(c){return ye(c[tn])}function nY(c){return Symbol.asyncIterator&&ye(c?.[Symbol.asyncIterator])}function iY(c){return new TypeError(`You provided ${null!==c&&"object"==typeof c?"an invalid object":`'${c}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const rY=function v4e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function sY(c){return ye(c?.[rY])}function oY(c){return function k0(c,l,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d,h=a.apply(c,l||[]),f=[];return d={},p("next"),p("throw"),p("return"),d[Symbol.asyncIterator]=function(){return this},d;function p(b){h[b]&&(d[b]=function(O){return new Promise(function(C,S){f.push([b,O,C,S])>1||g(b,O)})})}function g(b,O){try{!function m(b){b.value instanceof Xr?Promise.resolve(b.value.v).then(v,_):y(f[0][2],b)}(h[b](O))}catch(C){y(f[0][3],C)}}function v(b){g("next",b)}function _(b){g("throw",b)}function y(b,O){b(O),f.shift(),f.length&&g(f[0][0],f[0][1])}}(this,arguments,function*(){const a=c.getReader();try{for(;;){const{value:h,done:d}=yield Xr(a.read());if(d)return yield Xr(void 0);yield yield Xr(h)}}finally{a.releaseLock()}})}function aY(c){return ye(c?.getReader)}function Al(c){if(c instanceof at)return c;if(null!=c){if(tY(c))return function _4e(c){return new at(l=>{const a=c[tn]();if(ye(a.subscribe))return a.subscribe(l);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(c);if(VL(c))return function y4e(c){return new at(l=>{for(let a=0;a<c.length&&!l.closed;a++)l.next(c[a]);l.complete()})}(c);if(eY(c))return function b4e(c){return new at(l=>{c.then(a=>{l.closed||(l.next(a),l.complete())},a=>l.error(a)).then(null,pe)})}(c);if(nY(c))return lY(c);if(sY(c))return function O4e(c){return new at(l=>{for(const a of c)if(l.next(a),l.closed)return;l.complete()})}(c);if(aY(c))return function C4e(c){return lY(oY(c))}(c)}throw iY(c)}function lY(c){return new at(l=>{(function S4e(c,l){var a,h,d,f;return function In(c,l,a,h){return new(a||(a=Promise))(function(f,p){function g(_){try{v(h.next(_))}catch(y){p(y)}}function m(_){try{v(h.throw(_))}catch(y){p(y)}}function v(_){_.done?f(_.value):function d(f){return f instanceof a?f:new a(function(p){p(f)})}(_.value).then(g,m)}v((h=h.apply(c,l||[])).next())})}(this,void 0,void 0,function*(){try{for(a=Vu(c);!(h=yield a.next()).done;)if(l.next(h.value),l.closed)return}catch(p){d={error:p}}finally{try{h&&!h.done&&(f=a.return)&&(yield f.call(a))}finally{if(d)throw d.error}}l.complete()})})(c,l).catch(a=>l.error(a))})}function Jf(c,l,a,h=0,d=!1){const f=l.schedule(function(){a(),d?c.add(this.schedule(null,h)):this.unsubscribe()},h);if(c.add(f),!d)return f}function ma(c,l,a=1/0){return ye(l)?ma((h,d)=>Oi((f,p)=>l(h,f,d,p))(Al(c(h,d))),a):("number"==typeof l&&(a=l),hi((h,d)=>function w4e(c,l,a,h,d,f,p,g){const m=[];let v=0,_=0,y=!1;const b=()=>{y&&!m.length&&!v&&l.complete()},O=S=>v<h?C(S):m.push(S),C=S=>{f&&l.next(S),v++;let w=!1;Al(a(S,_++)).subscribe(Wi(l,x=>{d?.(x),f?O(x):l.next(x)},()=>{w=!0},void 0,()=>{if(w)try{for(v--;m.length&&v<h;){const x=m.shift();p?Jf(l,p,()=>C(x)):C(x)}b()}catch(x){l.error(x)}}))};return c.subscribe(Wi(l,O,()=>{y=!0,b()})),()=>{g?.()}}(h,d,c,a)))}function u_(c=1/0){return ma(Ti,c)}const kd=new at(c=>c.complete());function $L(c){return c[c.length-1]}function uY(c){return ye($L(c))?c.pop():void 0}function lS(c){return function cY(c){return c&&ye(c.schedule)}($L(c))?c.pop():void 0}function hY(c,l=0){return hi((a,h)=>{a.subscribe(Wi(h,d=>Jf(h,c,()=>h.next(d),l),()=>Jf(h,c,()=>h.complete(),l),d=>Jf(h,c,()=>h.error(d),l)))})}function dY(c,l=0){return hi((a,h)=>{h.add(c.schedule(()=>a.subscribe(h),l))})}function fY(c,l){if(!c)throw new Error("Iterable cannot be null");return new at(a=>{Jf(a,l,()=>{const h=c[Symbol.asyncIterator]();Jf(a,l,()=>{h.next().then(d=>{d.done?a.complete():a.next(d.value)})},0,!0)})})}function Zo(c,l){return l?function A4e(c,l){if(null!=c){if(tY(c))return function k4e(c,l){return Al(c).pipe(dY(l),hY(l))}(c,l);if(VL(c))return function M4e(c,l){return new at(a=>{let h=0;return l.schedule(function(){h===c.length?a.complete():(a.next(c[h++]),a.closed||this.schedule())})})}(c,l);if(eY(c))return function D4e(c,l){return Al(c).pipe(dY(l),hY(l))}(c,l);if(nY(c))return fY(c,l);if(sY(c))return function E4e(c,l){return new at(a=>{let h;return Jf(a,l,()=>{h=c[rY](),Jf(a,l,()=>{let d,f;try{({value:d,done:f}=h.next())}catch(p){return void a.error(p)}f?a.complete():a.next(d)},0,!0)}),()=>ye(h?.return)&&h.return()})}(c,l);if(aY(c))return function P4e(c,l){return fY(oY(c),l)}(c,l)}throw iY(c)}(c,l):Al(c)}class fs extends Pt{constructor(l){super(),this._value=l}get value(){return this.getValue()}_subscribe(l){const a=super._subscribe(l);return!a.closed&&l.next(this._value),a}getValue(){const{hasError:l,thrownError:a,_value:h}=this;if(l)throw a;return this._throwIfClosed(),h}next(l){super.next(this._value=l)}}function di(...c){return Zo(c,lS(c))}function pY(c={}){const{connector:l=(()=>new Pt),resetOnError:a=!0,resetOnComplete:h=!0,resetOnRefCountZero:d=!0}=c;return f=>{let p,g,m,v=0,_=!1,y=!1;const b=()=>{g?.unsubscribe(),g=void 0},O=()=>{b(),p=m=void 0,_=y=!1},C=()=>{const S=p;O(),S?.unsubscribe()};return hi((S,w)=>{v++,!y&&!_&&b();const x=m=m??l();w.add(()=>{v--,0===v&&!y&&!_&&(g=zL(C,d))}),x.subscribe(w),!p&&v>0&&(p=new ze({next:T=>x.next(T),error:T=>{y=!0,b(),g=zL(O,a,T),x.error(T)},complete:()=>{_=!0,b(),g=zL(O,h),x.complete()}}),Al(S).subscribe(p))})(f)}}function zL(c,l,...a){if(!0===l)return void c();if(!1===l)return;const h=new ze({next:()=>{h.unsubscribe(),c()}});return Al(l(...a)).subscribe(h)}function mc(c,l){return hi((a,h)=>{let d=null,f=0,p=!1;const g=()=>p&&!d&&h.complete();a.subscribe(Wi(h,m=>{d?.unsubscribe();let v=0;const _=f++;Al(c(m,_)).subscribe(d=Wi(h,y=>h.next(l?l(m,y,_,v++):y),()=>{d=null,g()}))},()=>{p=!0,g()}))})}function I4e(c,l){return c===l}function ns(c){for(let l in c)if(c[l]===ns)return l;throw Error("Could not find renamed property on target object.")}function Jk(c,l){for(const a in l)l.hasOwnProperty(a)&&!c.hasOwnProperty(a)&&(c[a]=l[a])}function jo(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(jo).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const l=c.toString();if(null==l)return""+l;const a=l.indexOf("\n");return-1===a?l:l.substring(0,a)}function UL(c,l){return null==c||""===c?null===l?"":l:null==l||""===l?c:c+" "+l}const R4e=ns({__forward_ref__:ns});function Os(c){return c.__forward_ref__=Os,c.toString=function(){return jo(this())},c}function ki(c){return QL(c)?c():c}function QL(c){return"function"==typeof c&&c.hasOwnProperty(R4e)&&c.__forward_ref__===Os}function HL(c){return c&&!!c.\u0275providers}const mY="https://g.co/ng/security#xss";class Ct extends Error{constructor(l,a){super(function e4(c,l){return`NG0${Math.abs(c)}${l?": "+l:""}`}(l,a)),this.code=l}}function Li(c){return"string"==typeof c?c:null==c?"":String(c)}function WL(c,l){throw new Ct(-201,!1)}function $u(c,l){null==c&&function wi(c,l,a,h){throw new Error(`ASSERTION ERROR: ${c}`+(null==h?"":` [Expected=> ${a} ${h} ${l} <=Actual]`))}(l,c,null,"!=")}function Ye(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function Wn(c){return{providers:c.providers||[],imports:c.imports||[]}}function t4(c){return vY(c,i4)||vY(c,_Y)}function vY(c,l){return c.hasOwnProperty(l)?c[l]:null}function n4(c){return c&&(c.hasOwnProperty(ZL)||c.hasOwnProperty(U4e))?c[ZL]:null}const i4=ns({\u0275prov:ns}),ZL=ns({\u0275inj:ns}),_Y=ns({ngInjectableDef:ns}),U4e=ns({ngInjectorDef:ns});var pr=function(c){return c[c.Default=0]="Default",c[c.Host=1]="Host",c[c.Self=2]="Self",c[c.SkipSelf=4]="SkipSelf",c[c.Optional=8]="Optional",c}(pr||{});let jL;function vc(c){const l=jL;return jL=c,l}function bY(c,l,a){const h=t4(c);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:a&pr.Optional?null:void 0!==l?l:void WL(jo(c))}const Cs=globalThis;class an{constructor(l,a){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Ye({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const uS={},KL="__NG_DI_FLAG__",r4="ngTempTokenPath",W4e=/\n/gm,CY="__source";let h_;function yg(c){const l=h_;return h_=c,l}function G4e(c,l=pr.Default){if(void 0===h_)throw new Ct(-203,!1);return null===h_?bY(c,void 0,l):h_.get(c,l&pr.Optional?null:void 0,l)}function Ee(c,l=pr.Default){return(function yY(){return jL}()||G4e)(ki(c),l)}function Dn(c,l=pr.Default){return Ee(c,s4(l))}function s4(c){return typeof c>"u"||"number"==typeof c?c:0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)}function JL(c){const l=[];for(let a=0;a<c.length;a++){const h=ki(c[a]);if(Array.isArray(h)){if(0===h.length)throw new Ct(900,!1);let d,f=pr.Default;for(let p=0;p<h.length;p++){const g=h[p],m=X4e(g);"number"==typeof m?-1===m?d=g.token:f|=m:d=g}l.push(Ee(d,f))}else l.push(Ee(h))}return l}function hS(c,l){return c[KL]=l,c.prototype[KL]=l,c}function X4e(c){return c[KL]}function ep(c){return{toString:c}.toString()}var o4=function(c){return c[c.OnPush=0]="OnPush",c[c.Default=1]="Default",c}(o4||{}),zu=function(c){return c[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",c}(zu||{});const Dd={},Fr=[],a4=ns({\u0275cmp:ns}),eN=ns({\u0275dir:ns}),tN=ns({\u0275pipe:ns}),wY=ns({\u0275mod:ns}),tp=ns({\u0275fac:ns}),dS=ns({__NG_ELEMENT_ID__:ns}),xY=ns({__NG_ENV_ID__:ns});function TY(c,l,a){let h=c.length;for(;;){const d=c.indexOf(l,a);if(-1===d)return d;if(0===d||c.charCodeAt(d-1)<=32){const f=l.length;if(d+f===h||c.charCodeAt(d+f)<=32)return d}a=d+1}}function nN(c,l,a){let h=0;for(;h<a.length;){const d=a[h];if("number"==typeof d){if(0!==d)break;h++;const f=a[h++],p=a[h++],g=a[h++];c.setAttribute(l,p,g,f)}else{const f=d,p=a[++h];DY(f)?c.setProperty(l,f,p):c.setAttribute(l,f,p),h++}}return h}function kY(c){return 3===c||4===c||6===c}function DY(c){return 64===c.charCodeAt(0)}function fS(c,l){if(null!==l&&0!==l.length)if(null===c||0===c.length)c=l.slice();else{let a=-1;for(let h=0;h<l.length;h++){const d=l[h];"number"==typeof d?a=d:0===a||MY(c,a,d,null,-1===a||2===a?l[++h]:null)}}return c}function MY(c,l,a,h,d){let f=0,p=c.length;if(-1===l)p=-1;else for(;f<c.length;){const g=c[f++];if("number"==typeof g){if(g===l){p=-1;break}if(g>l){p=f-1;break}}}for(;f<c.length;){const g=c[f];if("number"==typeof g)break;if(g===a){if(null===h)return void(null!==d&&(c[f+1]=d));if(h===c[f+1])return void(c[f+2]=d)}f++,null!==h&&f++,null!==d&&f++}-1!==p&&(c.splice(p,0,l),f=p+1),c.splice(f++,0,a),null!==h&&c.splice(f++,0,h),null!==d&&c.splice(f++,0,d)}const EY="ng-template";function K4e(c,l,a){let h=0,d=!0;for(;h<c.length;){let f=c[h++];if("string"==typeof f&&d){const p=c[h++];if(a&&"class"===f&&-1!==TY(p.toLowerCase(),l,0))return!0}else{if(1===f){for(;h<c.length&&"string"==typeof(f=c[h++]);)if(f.toLowerCase()===l)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function PY(c){return 4===c.type&&c.value!==EY}function J4e(c,l,a){return l===(4!==c.type||a?c.value:EY)}function e3e(c,l,a){let h=4;const d=c.attrs||[],f=function i3e(c){for(let l=0;l<c.length;l++)if(kY(c[l]))return l;return c.length}(d);let p=!1;for(let g=0;g<l.length;g++){const m=l[g];if("number"!=typeof m){if(!p)if(4&h){if(h=2|1&h,""!==m&&!J4e(c,m,a)||""===m&&1===l.length){if(xh(h))return!1;p=!0}}else{const v=8&h?m:l[++g];if(8&h&&null!==c.attrs){if(!K4e(c.attrs,v,a)){if(xh(h))return!1;p=!0}continue}const y=t3e(8&h?"class":m,d,PY(c),a);if(-1===y){if(xh(h))return!1;p=!0;continue}if(""!==v){let b;b=y>f?"":d[y+1].toLowerCase();const O=8&h?b:null;if(O&&-1!==TY(O,v,0)||2&h&&v!==b){if(xh(h))return!1;p=!0}}}}else{if(!p&&!xh(h)&&!xh(m))return!1;if(p&&xh(m))continue;p=!1,h=m|1&h}}return xh(h)||p}function xh(c){return 0==(1&c)}function t3e(c,l,a,h){if(null===l)return-1;let d=0;if(h||!a){let f=!1;for(;d<l.length;){const p=l[d];if(p===c)return d;if(3===p||6===p)f=!0;else{if(1===p||2===p){let g=l[++d];for(;"string"==typeof g;)g=l[++d];continue}if(4===p)break;if(0===p){d+=4;continue}}d+=f?1:2}return-1}return function r3e(c,l){let a=c.indexOf(4);if(a>-1)for(a++;a<c.length;){const h=c[a];if("number"==typeof h)return-1;if(h===l)return a;a++}return-1}(l,c)}function AY(c,l,a=!1){for(let h=0;h<l.length;h++)if(e3e(c,l[h],a))return!0;return!1}function s3e(c,l){e:for(let a=0;a<l.length;a++){const h=l[a];if(c.length===h.length){for(let d=0;d<c.length;d++)if(c[d]!==h[d])continue e;return!0}}return!1}function IY(c,l){return c?":not("+l.trim()+")":l}function o3e(c){let l=c[0],a=1,h=2,d="",f=!1;for(;a<c.length;){let p=c[a];if("string"==typeof p)if(2&h){const g=c[++a];d+="["+p+(g.length>0?'="'+g+'"':"")+"]"}else 8&h?d+="."+p:4&h&&(d+=" "+p);else""!==d&&!xh(p)&&(l+=IY(f,d),d=""),h=p,f=f||!xh(h);a++}return""!==d&&(l+=IY(f,d)),l}function qe(c){return ep(()=>{const l=LY(c),a={...l,decls:c.decls,vars:c.vars,template:c.template,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,onPush:c.changeDetection===o4.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&c.dependencies||null,getStandaloneInjector:null,signals:c.signals??!1,data:c.data||{},encapsulation:c.encapsulation||zu.Emulated,styles:c.styles||Fr,_:null,schemas:c.schemas||null,tView:null,id:""};NY(a);const h=c.dependencies;return a.directiveDefs=c4(h,!1),a.pipeDefs=c4(h,!0),a.id=function f3e(c){let l=0;const a=[c.selectors,c.ngContentSelectors,c.hostVars,c.hostAttrs,c.consts,c.vars,c.decls,c.encapsulation,c.standalone,c.signals,c.exportAs,JSON.stringify(c.inputs),JSON.stringify(c.outputs),Object.getOwnPropertyNames(c.type.prototype),!!c.contentQueries,!!c.viewQuery].join("|");for(const d of a)l=Math.imul(31,l)+d.charCodeAt(0)<<0;return l+=2147483648,"c"+l}(a),a})}function l4(c,l,a){const h=c.\u0275cmp;h.directiveDefs=c4(l,!1),h.pipeDefs=c4(a,!0)}function c3e(c){return Mr(c)||Pa(c)}function u3e(c){return null!==c}function jn(c){return ep(()=>({type:c.type,bootstrap:c.bootstrap||Fr,declarations:c.declarations||Fr,imports:c.imports||Fr,exports:c.exports||Fr,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null}))}function RY(c,l){if(null==c)return Dd;const a={};for(const h in c)if(c.hasOwnProperty(h)){let d=c[h],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=h,l&&(l[d]=f)}return a}function wt(c){return ep(()=>{const l=LY(c);return NY(l),l})}function _c(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,standalone:!0===c.standalone,onDestroy:c.type.prototype.ngOnDestroy||null}}function Mr(c){return c[a4]||null}function Pa(c){return c[eN]||null}function Il(c){return c[tN]||null}function Xc(c,l){const a=c[wY]||null;if(!a&&!0===l)throw new Error(`Type ${jo(c)} does not have '\u0275mod' property.`);return a}function LY(c){const l={};return{type:c.type,providersResolver:null,factory:null,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:l,inputTransforms:null,inputConfig:c.inputs||Dd,exportAs:c.exportAs||null,standalone:!0===c.standalone,signals:!0===c.signals,selectors:c.selectors||Fr,viewQuery:c.viewQuery||null,features:c.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:RY(c.inputs,l),outputs:RY(c.outputs)}}function NY(c){c.features?.forEach(l=>l(c))}function c4(c,l){if(!c)return null;const a=l?Il:c3e;return()=>("function"==typeof c?c():c).map(h=>a(h)).filter(u3e)}const oo=0,Tn=1,Zi=2,Rs=3,Th=4,pS=5,Ja=6,f_=7,Oo=8,bg=9,p_=10,Ni=11,gS=12,FY=13,g_=14,Co=15,mS=16,m_=17,Md=18,vS=19,BY=20,Og=21,np=22,_S=23,yS=24,gr=25,iN=1,VY=2,Ed=7,v_=9,Aa=11;function yc(c){return Array.isArray(c)&&"object"==typeof c[iN]}function Rl(c){return Array.isArray(c)&&!0===c[iN]}function rN(c){return 0!=(4&c.flags)}function E0(c){return c.componentOffset>-1}function h4(c){return 1==(1&c.flags)}function kh(c){return!!c.template}function sN(c){return 0!=(512&c[Zi])}function P0(c,l){return c.hasOwnProperty(tp)?c[tp]:null}let Ia=null,d4=!1;function Uu(c){const l=Ia;return Ia=c,l}const UY={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function HY(c){if(!OS(c)||c.dirty){if(!c.producerMustRecompute(c)&&!jY(c))return void(c.dirty=!1);c.producerRecomputeValue(c),c.dirty=!1}}function ZY(c){c.dirty=!0,function WY(c){if(void 0===c.liveConsumerNode)return;const l=d4;d4=!0;try{for(const a of c.liveConsumerNode)a.dirty||ZY(a)}finally{d4=l}}(c),c.consumerMarkedDirty?.(c)}function aN(c){return c&&(c.nextProducerIndex=0),Uu(c)}function lN(c,l){if(Uu(l),c&&void 0!==c.producerNode&&void 0!==c.producerIndexOfThis&&void 0!==c.producerLastReadVersion){if(OS(c))for(let a=c.nextProducerIndex;a<c.producerNode.length;a++)f4(c.producerNode[a],c.producerIndexOfThis[a]);for(;c.producerNode.length>c.nextProducerIndex;)c.producerNode.pop(),c.producerLastReadVersion.pop(),c.producerIndexOfThis.pop()}}function jY(c){__(c);for(let l=0;l<c.producerNode.length;l++){const a=c.producerNode[l],h=c.producerLastReadVersion[l];if(h!==a.version||(HY(a),h!==a.version))return!0}return!1}function GY(c){if(__(c),OS(c))for(let l=0;l<c.producerNode.length;l++)f4(c.producerNode[l],c.producerIndexOfThis[l]);c.producerNode.length=c.producerLastReadVersion.length=c.producerIndexOfThis.length=0,c.liveConsumerNode&&(c.liveConsumerNode.length=c.liveConsumerIndexOfThis.length=0)}function f4(c,l){if(function YY(c){c.liveConsumerNode??=[],c.liveConsumerIndexOfThis??=[]}(c),__(c),1===c.liveConsumerNode.length)for(let h=0;h<c.producerNode.length;h++)f4(c.producerNode[h],c.producerIndexOfThis[h]);const a=c.liveConsumerNode.length-1;if(c.liveConsumerNode[l]=c.liveConsumerNode[a],c.liveConsumerIndexOfThis[l]=c.liveConsumerIndexOfThis[a],c.liveConsumerNode.length--,c.liveConsumerIndexOfThis.length--,l<c.liveConsumerNode.length){const h=c.liveConsumerIndexOfThis[l],d=c.liveConsumerNode[l];__(d),d.producerIndexOfThis[h]=l}}function OS(c){return c.consumerIsAlwaysLive||(c?.liveConsumerNode?.length??0)>0}function __(c){c.producerNode??=[],c.producerIndexOfThis??=[],c.producerLastReadVersion??=[]}let qY=null;function eq(c){const l=Uu(null);try{return c()}finally{Uu(l)}}const tq=()=>{},T3e=(()=>({...UY,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:c=>{c.schedule(c.ref)},hasRun:!1,cleanupFn:tq}))();class k3e{constructor(l,a,h){this.previousValue=l,this.currentValue=a,this.firstChange=h}isFirstChange(){return this.firstChange}}function So(){return nq}function nq(c){return c.type.prototype.ngOnChanges&&(c.setInput=M3e),D3e}function D3e(){const c=rq(this),l=c?.current;if(l){const a=c.previous;if(a===Dd)c.previous=l;else for(let h in l)a[h]=l[h];c.current=null,this.ngOnChanges(l)}}function M3e(c,l,a,h){const d=this.declaredInputs[a],f=rq(c)||function E3e(c,l){return c[iq]=l}(c,{previous:Dd,current:null}),p=f.current||(f.current={}),g=f.previous,m=g[d];p[d]=new k3e(m&&m.currentValue,l,g===Dd),c[h]=l}So.ngInherit=!0;const iq="__ngSimpleChanges__";function rq(c){return c[iq]||null}const Pd=function(c,l,a){},sq="svg";function Ss(c){for(;Array.isArray(c);)c=c[oo];return c}function p4(c,l){return Ss(l[c])}function bc(c,l){return Ss(l[c.index])}function aq(c,l){return c.data[l]}function y_(c,l){return c[l]}function Yc(c,l){const a=l[c];return yc(a)?a:a[oo]}function Sg(c,l){return null==l?null:c[l]}function lq(c){c[m_]=0}function N3e(c){1024&c[Zi]||(c[Zi]|=1024,uq(c,1))}function cq(c){1024&c[Zi]&&(c[Zi]&=-1025,uq(c,-1))}function uq(c,l){let a=c[Rs];if(null===a)return;a[pS]+=l;let h=a;for(a=a[Rs];null!==a&&(1===l&&1===h[pS]||-1===l&&0===h[pS]);)a[pS]+=l,h=a,a=a[Rs]}const xi={lFrame:Oq(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fq(){return xi.bindingsEnabled}function b_(){return null!==xi.skipHydrationRootTNode}function Vt(){return xi.lFrame.lView}function Er(){return xi.lFrame.tView}function ce(c){return xi.lFrame.contextLView=c,c[Oo]}function ue(c){return xi.lFrame.contextLView=null,c}function Ra(){let c=pq();for(;null!==c&&64===c.type;)c=c.parent;return c}function pq(){return xi.lFrame.currentTNode}function Ad(c,l){const a=xi.lFrame;a.currentTNode=c,a.isParent=l}function fN(){return xi.lFrame.isParent}function pN(){xi.lFrame.isParent=!1}function Ll(){const c=xi.lFrame;let l=c.bindingRootIndex;return-1===l&&(l=c.bindingRootIndex=c.tView.bindingStartIndex),l}function ip(){return xi.lFrame.bindingIndex}function O_(){return xi.lFrame.bindingIndex++}function rp(c){const l=xi.lFrame,a=l.bindingIndex;return l.bindingIndex=l.bindingIndex+c,a}function G3e(c,l){const a=xi.lFrame;a.bindingIndex=a.bindingRootIndex=c,gN(l)}function gN(c){xi.lFrame.currentDirectiveIndex=c}function _q(){return xi.lFrame.currentQueryIndex}function vN(c){xi.lFrame.currentQueryIndex=c}function Y3e(c){const l=c[Tn];return 2===l.type?l.declTNode:1===l.type?c[Ja]:null}function yq(c,l,a){if(a&pr.SkipSelf){let d=l,f=c;for(;!(d=d.parent,null!==d||a&pr.Host||(d=Y3e(f),null===d||(f=f[g_],10&d.type))););if(null===d)return!1;l=d,c=f}const h=xi.lFrame=bq();return h.currentTNode=l,h.lView=c,!0}function _N(c){const l=bq(),a=c[Tn];xi.lFrame=l,l.currentTNode=a.firstChild,l.lView=c,l.tView=a,l.contextLView=c,l.bindingIndex=a.bindingStartIndex,l.inI18n=!1}function bq(){const c=xi.lFrame,l=null===c?null:c.child;return null===l?Oq(c):l}function Oq(c){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=l),l}function Cq(){const c=xi.lFrame;return xi.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const Sq=Cq;function yN(){const c=Cq();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function Nl(){return xi.lFrame.selectedIndex}function A0(c){xi.lFrame.selectedIndex=c}function Zs(){const c=xi.lFrame;return aq(c.tView,c.selectedIndex)}function Go(){xi.lFrame.currentNamespace=sq}function SS(){!function eDe(){xi.lFrame.currentNamespace=null}()}let xq=!0;function g4(){return xq}function wg(c){xq=c}function m4(c,l){for(let a=l.directiveStart,h=l.directiveEnd;a<h;a++){const f=c.data[a].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:g,ngAfterViewInit:m,ngAfterViewChecked:v,ngOnDestroy:_}=f;p&&(c.contentHooks??=[]).push(-a,p),g&&((c.contentHooks??=[]).push(a,g),(c.contentCheckHooks??=[]).push(a,g)),m&&(c.viewHooks??=[]).push(-a,m),v&&((c.viewHooks??=[]).push(a,v),(c.viewCheckHooks??=[]).push(a,v)),null!=_&&(c.destroyHooks??=[]).push(a,_)}}function v4(c,l,a){Tq(c,l,3,a)}function _4(c,l,a,h){(3&c[Zi])===a&&Tq(c,l,a,h)}function bN(c,l){let a=c[Zi];(3&a)===l&&(a&=8191,a+=1,c[Zi]=a)}function Tq(c,l,a,h){const f=h??-1,p=l.length-1;let g=0;for(let m=void 0!==h?65535&c[m_]:0;m<p;m++)if("number"==typeof l[m+1]){if(g=l[m],null!=h&&g>=h)break}else l[m]<0&&(c[m_]+=65536),(g<f||-1==f)&&(nDe(c,a,l,m),c[m_]=(4294901760&c[m_])+m+2),m++}function kq(c,l){Pd(4,c,l);const a=Uu(null);try{l.call(c)}finally{Uu(a),Pd(5,c,l)}}function nDe(c,l,a,h){const d=a[h]<0,f=a[h+1],g=c[d?-a[h]:a[h]];d?c[Zi]>>13<c[m_]>>16&&(3&c[Zi])===l&&(c[Zi]+=8192,kq(g,f)):kq(g,f)}const C_=-1;class wS{constructor(l,a,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=h}}function CN(c){return c!==C_}function xS(c){return 32767&c}function TS(c,l){let a=function oDe(c){return c>>16}(c),h=l;for(;a>0;)h=h[g_],a--;return h}let SN=!0;function y4(c){const l=SN;return SN=c,l}const Dq=255,Mq=5;let aDe=0;const Id={};function b4(c,l){const a=Eq(c,l);if(-1!==a)return a;const h=l[Tn];h.firstCreatePass&&(c.injectorIndex=l.length,wN(h.data,c),wN(l,null),wN(h.blueprint,null));const d=O4(c,l),f=c.injectorIndex;if(CN(d)){const p=xS(d),g=TS(d,l),m=g[Tn].data;for(let v=0;v<8;v++)l[f+v]=g[p+v]|m[p+v]}return l[f+8]=d,f}function wN(c,l){c.push(0,0,0,0,0,0,0,0,l)}function Eq(c,l){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===l[c.injectorIndex+8]?-1:c.injectorIndex}function O4(c,l){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let a=0,h=null,d=l;for(;null!==d;){if(h=Fq(d),null===h)return C_;if(a++,d=d[g_],-1!==h.injectorIndex)return h.injectorIndex|a<<16}return C_}function xN(c,l,a){!function lDe(c,l,a){let h;"string"==typeof a?h=a.charCodeAt(0)||0:a.hasOwnProperty(dS)&&(h=a[dS]),null==h&&(h=a[dS]=aDe++);const d=h&Dq;l.data[c+(d>>Mq)]|=1<<d}(c,l,a)}function Pq(c,l,a){if(a&pr.Optional||void 0!==c)return c;WL()}function Aq(c,l,a,h){if(a&pr.Optional&&void 0===h&&(h=null),!(a&(pr.Self|pr.Host))){const d=c[bg],f=vc(void 0);try{return d?d.get(l,h,a&pr.Optional):bY(l,h,a&pr.Optional)}finally{vc(f)}}return Pq(h,0,a)}function Iq(c,l,a,h=pr.Default,d){if(null!==c){if(2048&l[Zi]&&!(h&pr.Self)){const p=function pDe(c,l,a,h,d){let f=c,p=l;for(;null!==f&&null!==p&&2048&p[Zi]&&!(512&p[Zi]);){const g=Rq(f,p,a,h|pr.Self,Id);if(g!==Id)return g;let m=f.parent;if(!m){const v=p[BY];if(v){const _=v.get(a,Id,h);if(_!==Id)return _}m=Fq(p),p=p[g_]}f=m}return d}(c,l,a,h,Id);if(p!==Id)return p}const f=Rq(c,l,a,h,Id);if(f!==Id)return f}return Aq(l,a,h,d)}function Rq(c,l,a,h,d){const f=function hDe(c){if("string"==typeof c)return c.charCodeAt(0)||0;const l=c.hasOwnProperty(dS)?c[dS]:void 0;return"number"==typeof l?l>=0?l&Dq:fDe:l}(a);if("function"==typeof f){if(!yq(l,c,h))return h&pr.Host?Pq(d,0,h):Aq(l,a,h,d);try{let p;if(p=f(h),null!=p||h&pr.Optional)return p;WL()}finally{Sq()}}else if("number"==typeof f){let p=null,g=Eq(c,l),m=C_,v=h&pr.Host?l[Co][Ja]:null;for((-1===g||h&pr.SkipSelf)&&(m=-1===g?O4(c,l):l[g+8],m!==C_&&Nq(h,!1)?(p=l[Tn],g=xS(m),l=TS(m,l)):g=-1);-1!==g;){const _=l[Tn];if(Lq(f,g,_.data)){const y=uDe(g,l,a,p,h,v);if(y!==Id)return y}m=l[g+8],m!==C_&&Nq(h,l[Tn].data[g+8]===v)&&Lq(f,g,l)?(p=_,g=xS(m),l=TS(m,l)):g=-1}}return d}function uDe(c,l,a,h,d,f){const p=l[Tn],g=p.data[c+8],_=C4(g,p,a,null==h?E0(g)&&SN:h!=p&&0!=(3&g.type),d&pr.Host&&f===g);return null!==_?I0(l,p,_,g):Id}function C4(c,l,a,h,d){const f=c.providerIndexes,p=l.data,g=1048575&f,m=c.directiveStart,_=f>>20,b=d?g+_:c.directiveEnd;for(let O=h?g:g+_;O<b;O++){const C=p[O];if(O<m&&a===C||O>=m&&C.type===a)return O}if(d){const O=p[m];if(O&&kh(O)&&O.type===a)return m}return null}function I0(c,l,a,h){let d=c[a];const f=l.data;if(function iDe(c){return c instanceof wS}(d)){const p=d;p.resolving&&function L4e(c,l){const a=l?`. Dependency path: ${l.join(" > ")} > ${c}`:"";throw new Ct(-200,`Circular dependency in DI detected for ${c}${a}`)}(function Yr(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():Li(c)}(f[a]));const g=y4(p.canSeeViewProviders);p.resolving=!0;const v=p.injectImpl?vc(p.injectImpl):null;yq(c,h,pr.Default);try{d=c[a]=p.factory(void 0,f,c,h),l.firstCreatePass&&a>=h.directiveStart&&function tDe(c,l,a){const{ngOnChanges:h,ngOnInit:d,ngDoCheck:f}=l.type.prototype;if(h){const p=nq(l);(a.preOrderHooks??=[]).push(c,p),(a.preOrderCheckHooks??=[]).push(c,p)}d&&(a.preOrderHooks??=[]).push(0-c,d),f&&((a.preOrderHooks??=[]).push(c,f),(a.preOrderCheckHooks??=[]).push(c,f))}(a,f[a],l)}finally{null!==v&&vc(v),y4(g),p.resolving=!1,Sq()}}return d}function Lq(c,l,a){return!!(a[l+(c>>Mq)]&1<<c)}function Nq(c,l){return!(c&pr.Self||c&pr.Host&&l)}class Fl{constructor(l,a){this._tNode=l,this._lView=a}get(l,a,h){return Iq(this._tNode,this._lView,l,s4(h),a)}}function fDe(){return new Fl(Ra(),Vt())}function us(c){return ep(()=>{const l=c.prototype.constructor,a=l[tp]||TN(l),h=Object.prototype;let d=Object.getPrototypeOf(c.prototype).constructor;for(;d&&d!==h;){const f=d[tp]||TN(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function TN(c){return QL(c)?()=>{const l=TN(ki(c));return l&&l()}:P0(c)}function Fq(c){const l=c[Tn],a=l.type;return 2===a?l.declTNode:1===a?c[Ja]:null}const w_="__parameters__";function T_(c,l,a){return ep(()=>{const h=function kN(c){return function(...a){if(c){const h=c(...a);for(const d in h)this[d]=h[d]}}}(l);function d(...f){if(this instanceof d)return h.apply(this,f),this;const p=new d(...f);return g.annotation=p,g;function g(m,v,_){const y=m.hasOwnProperty(w_)?m[w_]:Object.defineProperty(m,w_,{value:[]})[w_];for(;y.length<=_;)y.push(null);return(y[_]=y[_]||[]).push(p),m}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=c,d.annotationCls=d,d})}const Vq=Function;function D_(c,l){c.forEach(a=>Array.isArray(a)?D_(a,l):l(a))}function $q(c,l,a){l>=c.length?c.push(a):c.splice(l,0,a)}function S4(c,l){return l>=c.length-1?c.pop():c.splice(l,1)[0]}function ES(c,l){const a=[];for(let h=0;h<c;h++)a.push(l);return a}function qc(c,l,a){let h=M_(c,l);return h>=0?c[1|h]=a:(h=~h,function bDe(c,l,a,h){let d=c.length;if(d==l)c.push(a,h);else if(1===d)c.push(h,c[0]),c[0]=a;else{for(d--,c.push(c[d-1],c[d]);d>l;)c[d]=c[d-2],d--;c[l]=a,c[l+1]=h}}(c,h,l,a)),h}function DN(c,l){const a=M_(c,l);if(a>=0)return c[1|a]}function M_(c,l){return function zq(c,l,a){let h=0,d=c.length>>a;for(;d!==h;){const f=h+(d-h>>1),p=c[f<<a];if(l===p)return f<<a;p>l?d=f:h=f+1}return~(d<<a)}(c,l,1)}const R0=hS(T_("Optional"),8),L0=hS(T_("SkipSelf"),4);function M4(c){return 128==(128&c.flags)}var xg=function(c){return c[c.Important=1]="Important",c[c.DashCase=2]="DashCase",c}(xg||{});const zDe=/^>|^->|<!--|-->|--!>|<!-$/g,UDe=/(<|>)/g,QDe="\u200b$1\u200b";const IN=new Map;let HDe=0;const LN="__ngContext__";function el(c,l){yc(l)?(c[LN]=l[vS],function ZDe(c){IN.set(c[vS],c)}(l)):c[LN]=l}let NN;function FN(c,l){return NN(c,l)}function IS(c){const l=c[Rs];return Rl(l)?l[Rs]:l}function aK(c){return cK(c[gS])}function lK(c){return cK(c[Th])}function cK(c){for(;null!==c&&!Rl(c);)c=c[Th];return c}function A_(c,l,a,h,d){if(null!=h){let f,p=!1;Rl(h)?f=h:yc(h)&&(p=!0,h=h[oo]);const g=Ss(h);0===c&&null!==a?null==d?fK(l,a,g):N0(l,a,g,d||null,!0):1===c&&null!==a?N0(l,a,g,d||null,!0):2===c?function N4(c,l,a){const h=R4(c,l);h&&function hMe(c,l,a,h){c.removeChild(l,a,h)}(c,h,l,a)}(l,g,p):3===c&&l.destroyNode(g),null!=f&&function pMe(c,l,a,h,d){const f=a[Ed];f!==Ss(a)&&A_(l,c,h,f,d);for(let g=Aa;g<a.length;g++){const m=a[g];LS(m[Tn],m,c,l,h,f)}}(l,c,f,a,d)}}function BN(c,l){return c.createComment(function Jq(c){return c.replace(zDe,l=>l.replace(UDe,QDe))}(l))}function A4(c,l,a){return c.createElement(l,a)}function hK(c,l){const a=c[v_],h=a.indexOf(l);cq(l),a.splice(h,1)}function I4(c,l){if(c.length<=Aa)return;const a=Aa+l,h=c[a];if(h){const d=h[mS];null!==d&&d!==c&&hK(d,h),l>0&&(c[a-1][Th]=h[Th]);const f=S4(c,Aa+l);!function iMe(c,l){LS(c,l,l[Ni],2,null,null),l[oo]=null,l[Ja]=null}(h[Tn],h);const p=f[Md];null!==p&&p.detachView(f[Tn]),h[Rs]=null,h[Th]=null,h[Zi]&=-129}return h}function VN(c,l){if(!(256&l[Zi])){const a=l[Ni];l[_S]&&GY(l[_S]),l[yS]&&GY(l[yS]),a.destroyNode&&LS(c,l,a,3,null,null),function oMe(c){let l=c[gS];if(!l)return $N(c[Tn],c);for(;l;){let a=null;if(yc(l))a=l[gS];else{const h=l[Aa];h&&(a=h)}if(!a){for(;l&&!l[Th]&&l!==c;)yc(l)&&$N(l[Tn],l),l=l[Rs];null===l&&(l=c),yc(l)&&$N(l[Tn],l),a=l&&l[Th]}l=a}}(l)}}function $N(c,l){if(!(256&l[Zi])){l[Zi]&=-129,l[Zi]|=256,function uMe(c,l){let a;if(null!=c&&null!=(a=c.destroyHooks))for(let h=0;h<a.length;h+=2){const d=l[a[h]];if(!(d instanceof wS)){const f=a[h+1];if(Array.isArray(f))for(let p=0;p<f.length;p+=2){const g=d[f[p]],m=f[p+1];Pd(4,g,m);try{m.call(g)}finally{Pd(5,g,m)}}else{Pd(4,d,f);try{f.call(d)}finally{Pd(5,d,f)}}}}}(c,l),function cMe(c,l){const a=c.cleanup,h=l[f_];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const p=a[f+3];p>=0?h[p]():h[-p].unsubscribe(),f+=2}else a[f].call(h[a[f+1]]);null!==h&&(l[f_]=null);const d=l[Og];if(null!==d){l[Og]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(c,l),1===l[Tn].type&&l[Ni].destroy();const a=l[mS];if(null!==a&&Rl(l[Rs])){a!==l[Rs]&&hK(a,l);const h=l[Md];null!==h&&h.detachView(c)}!function jDe(c){IN.delete(c[vS])}(l)}}function zN(c,l,a){return function dK(c,l,a){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return a[oo];{const{componentOffset:d}=h;if(d>-1){const{encapsulation:f}=c.data[h.directiveStart+d];if(f===zu.None||f===zu.Emulated)return null}return bc(h,a)}}(c,l.parent,a)}function N0(c,l,a,h,d){c.insertBefore(l,a,h,d)}function fK(c,l,a){c.appendChild(l,a)}function pK(c,l,a,h,d){null!==h?N0(c,l,a,h,d):fK(c,l,a)}function R4(c,l){return c.parentNode(l)}function gK(c,l,a){return vK(c,l,a)}let UN,ZN,vK=function mK(c,l,a){return 40&c.type?bc(c,a):null};function L4(c,l,a,h){const d=zN(c,h,l),f=l[Ni],g=gK(h.parent||l[Ja],h,l);if(null!=d)if(Array.isArray(a))for(let m=0;m<a.length;m++)pK(f,d,a[m],g,!1);else pK(f,d,a,g,!1);void 0!==UN&&UN(f,h,l,a,d)}function RS(c,l){if(null!==l){const a=l.type;if(3&a)return bc(l,c);if(4&a)return QN(-1,c[l.index]);if(8&a){const h=l.child;if(null!==h)return RS(c,h);{const d=c[l.index];return Rl(d)?QN(-1,d):Ss(d)}}if(32&a)return FN(l,c)()||Ss(c[l.index]);{const h=yK(c,l);return null!==h?Array.isArray(h)?h[0]:RS(IS(c[Co]),h):RS(c,l.next)}}return null}function yK(c,l){return null!==l?c[Co][Ja].projection[l.projection]:null}function QN(c,l){const a=Aa+c+1;if(a<l.length){const h=l[a],d=h[Tn].firstChild;if(null!==d)return RS(h,d)}return l[Ed]}function HN(c,l,a,h,d,f,p){for(;null!=a;){const g=h[a.index],m=a.type;if(p&&0===l&&(g&&el(Ss(g),h),a.flags|=2),32!=(32&a.flags))if(8&m)HN(c,l,a.child,h,d,f,!1),A_(l,c,d,g,f);else if(32&m){const v=FN(a,h);let _;for(;_=v();)A_(l,c,d,_,f);A_(l,c,d,g,f)}else 16&m?OK(c,l,h,a,d,f):A_(l,c,d,g,f);a=p?a.projectionNext:a.next}}function LS(c,l,a,h,d,f){HN(a,h,c.firstChild,l,d,f,!1)}function OK(c,l,a,h,d,f){const p=a[Co],m=p[Ja].projection[h.projection];if(Array.isArray(m))for(let v=0;v<m.length;v++)A_(l,c,d,m[v],f);else{let v=m;const _=p[Rs];M4(h)&&(v.flags|=128),HN(c,l,v,_,d,f,!0)}}function CK(c,l,a){""===a?c.removeAttribute(l,"class"):c.setAttribute(l,"class",a)}function SK(c,l,a){const{mergedAttrs:h,classes:d,styles:f}=a;null!==h&&nN(c,l,h),null!==d&&CK(c,l,d),null!==f&&function mMe(c,l,a){c.setAttribute(l,"style",a)}(c,l,f)}class kK{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mY})`}}function Tg(c){return c instanceof kK?c.changingThisBreaksApplicationSecurity:c}const EMe=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var L_=function(c){return c[c.NONE=0]="NONE",c[c.HTML=1]="HTML",c[c.STYLE=2]="STYLE",c[c.SCRIPT=3]="SCRIPT",c[c.URL=4]="URL",c[c.RESOURCE_URL=5]="RESOURCE_URL",c}(L_||{});function Rd(c){const l=function BS(){const c=Vt();return c&&c[p_].sanitizer}();return l?l.sanitize(L_.URL,c)||"":function NS(c,l){const a=function TMe(c){return c instanceof kK&&c.getTypeName()||null}(c);if(null!=a&&a!==l){if("ResourceURL"===a&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${a} (see ${mY})`)}return a===l}(c,"URL")?Tg(c):function GN(c){return(c=String(c)).match(EMe)?c:"unsafe:"+c}(Li(c))}const VS=new an("ENVIRONMENT_INITIALIZER"),NK=new an("INJECTOR",-1),FK=new an("INJECTOR_DEF_TYPES");class KN{get(l,a=uS){if(a===uS){const h=new Error(`NullInjectorError: No provider for ${jo(l)}!`);throw h.name="NullInjectorError",h}return a}}function QMe(...c){return{\u0275providers:BK(0,c),\u0275fromNgModule:!0}}function BK(c,...l){const a=[],h=new Set;let d;const f=p=>{a.push(p)};return D_(l,p=>{const g=p;$4(g,f,[],h)&&(d||=[],d.push(g))}),void 0!==d&&VK(d,f),a}function VK(c,l){for(let a=0;a<c.length;a++){const{ngModule:h,providers:d}=c[a];eF(d,f=>{l(f,h)})}}function $4(c,l,a,h){if(!(c=ki(c)))return!1;let d=null,f=n4(c);const p=!f&&Mr(c);if(f||p){if(p&&!p.standalone)return!1;d=c}else{const m=c.ngModule;if(f=n4(m),!f)return!1;d=m}const g=h.has(d);if(p){if(g)return!1;if(h.add(d),p.dependencies){const m="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const v of m)$4(v,l,a,h)}}else{if(!f)return!1;{if(null!=f.imports&&!g){let v;h.add(d);try{D_(f.imports,_=>{$4(_,l,a,h)&&(v||=[],v.push(_))})}finally{}void 0!==v&&VK(v,l)}if(!g){const v=P0(d)||(()=>new d);l({provide:d,useFactory:v,deps:Fr},d),l({provide:FK,useValue:d,multi:!0},d),l({provide:VS,useValue:()=>Ee(d),multi:!0},d)}const m=f.providers;if(null!=m&&!g){const v=c;eF(m,_=>{l(_,v)})}}}return d!==c&&void 0!==c.providers}function eF(c,l){for(let a of c)HL(a)&&(a=a.\u0275providers),Array.isArray(a)?eF(a,l):l(a)}const HMe=ns({provide:String,useValue:ns});function tF(c){return null!==c&&"object"==typeof c&&HMe in c}function F0(c){return"function"==typeof c}const nF=new an("Set Injector scope."),z4={},ZMe={};let iF;function U4(){return void 0===iF&&(iF=new KN),iF}class Kc{}class N_ extends Kc{get destroyed(){return this._destroyed}constructor(l,a,h,d){super(),this.parent=a,this.source=h,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sF(l,p=>this.processProvider(p)),this.records.set(NK,F_(void 0,this)),d.has("environment")&&this.records.set(Kc,F_(void 0,this));const f=this.records.get(nF);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(FK.multi,Fr,pr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of l)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(l){return this.assertNotDestroyed(),this._onDestroyHooks.push(l),()=>this.removeOnDestroy(l)}runInContext(l){this.assertNotDestroyed();const a=yg(this),h=vc(void 0);try{return l()}finally{yg(a),vc(h)}}get(l,a=uS,h=pr.Default){if(this.assertNotDestroyed(),l.hasOwnProperty(xY))return l[xY](this);h=s4(h);const f=yg(this),p=vc(void 0);try{if(!(h&pr.SkipSelf)){let m=this.records.get(l);if(void 0===m){const v=function qMe(c){return"function"==typeof c||"object"==typeof c&&c instanceof an}(l)&&t4(l);m=v&&this.injectableDefInScope(v)?F_(rF(l),z4):null,this.records.set(l,m)}if(null!=m)return this.hydrate(l,m)}return(h&pr.Self?U4():this.parent).get(l,a=h&pr.Optional&&a===uS?null:a)}catch(g){if("NullInjectorError"===g.name){if((g[r4]=g[r4]||[]).unshift(jo(l)),f)throw g;return function Y4e(c,l,a,h){const d=c[r4];throw l[CY]&&d.unshift(l[CY]),c.message=function q4e(c,l,a,h=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.slice(2):c;let d=jo(l);if(Array.isArray(l))d=l.map(jo).join(" -> ");else if("object"==typeof l){let f=[];for(let p in l)if(l.hasOwnProperty(p)){let g=l[p];f.push(p+":"+("string"==typeof g?JSON.stringify(g):jo(g)))}d=`{${f.join(", ")}}`}return`${a}${h?"("+h+")":""}[${d}]: ${c.replace(W4e,"\n  ")}`}("\n"+c.message,d,a,h),c.ngTokenPath=d,c[r4]=null,c}(g,l,"R3InjectorError",this.source)}throw g}finally{vc(p),yg(f)}}resolveInjectorInitializers(){const l=yg(this),a=vc(void 0);try{const d=this.get(VS.multi,Fr,pr.Self);for(const f of d)f()}finally{yg(l),vc(a)}}toString(){const l=[],a=this.records;for(const h of a.keys())l.push(jo(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ct(205,!1)}processProvider(l){let a=F0(l=ki(l))?l:ki(l&&l.provide);const h=function GMe(c){return tF(c)?F_(void 0,c.useValue):F_(UK(c),z4)}(l);if(F0(l)||!0!==l.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=F_(void 0,z4,!0),d.factory=()=>JL(d.multi),this.records.set(a,d)),a=l,d.multi.push(l)}this.records.set(a,h)}hydrate(l,a){return a.value===z4&&(a.value=ZMe,a.value=a.factory()),"object"==typeof a.value&&a.value&&function YMe(c){return null!==c&&"object"==typeof c&&"function"==typeof c.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(l){if(!l.providedIn)return!1;const a=ki(l.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(l){const a=this._onDestroyHooks.indexOf(l);-1!==a&&this._onDestroyHooks.splice(a,1)}}function rF(c){const l=t4(c),a=null!==l?l.factory:P0(c);if(null!==a)return a;if(c instanceof an)throw new Ct(204,!1);if(c instanceof Function)return function jMe(c){const l=c.length;if(l>0)throw ES(l,"?"),new Ct(204,!1);const a=function z4e(c){return c&&(c[i4]||c[_Y])||null}(c);return null!==a?()=>a.factory(c):()=>new c}(c);throw new Ct(204,!1)}function UK(c,l,a){let h;if(F0(c)){const d=ki(c);return P0(d)||rF(d)}if(tF(c))h=()=>ki(c.useValue);else if(function zK(c){return!(!c||!c.useFactory)}(c))h=()=>c.useFactory(...JL(c.deps||[]));else if(function $K(c){return!(!c||!c.useExisting)}(c))h=()=>Ee(ki(c.useExisting));else{const d=ki(c&&(c.useClass||c.provide));if(!function XMe(c){return!!c.deps}(c))return P0(d)||rF(d);h=()=>new d(...JL(c.deps))}return h}function F_(c,l,a=!1){return{factory:c,value:l,multi:a?[]:void 0}}function sF(c,l){for(const a of c)Array.isArray(a)?sF(a,l):a&&HL(a)?sF(a.\u0275providers,l):l(a)}const Q4=new an("AppId",{providedIn:"root",factory:()=>KMe}),KMe="ng",QK=new an("Platform Initializer"),hs=new an("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),HK=new an("AnimationModuleType"),WK=new an("CSP nonce",{providedIn:"root",factory:()=>function R_(){if(void 0!==ZN)return ZN;if(typeof document<"u")return document;throw new Ct(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ZK=(c,l,a)=>null;function fF(c,l,a=!1){return ZK(c,l,a)}class lEe{}class XK{}class uEe{resolveComponentFactory(l){throw function cEe(c){const l=Error(`No component factory found for ${jo(c)}.`);return l.ngComponent=c,l}(l)}}let $_=(()=>{class c{static#e=this.NULL=new uEe}return c})();function hEe(){return z_(Ra(),Vt())}function z_(c,l){return new Rn(bc(c,l))}let Rn=(()=>{class c{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=hEe}return c})();function dEe(c){return c instanceof Rn?c.nativeElement:c}class U_{}let ji=(()=>{class c{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function fEe(){const c=Vt(),a=Yc(Ra().index,c);return(yc(a)?a:c)[Ni]}()}return c})(),pEe=(()=>{class c{static#e=this.\u0275prov=Ye({token:c,providedIn:"root",factory:()=>null})}return c})();class US{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const gEe=new US("16.2.12"),mF={};function eJ(c,l=null,a=null,h){const d=tJ(c,l,a,h);return d.resolveInjectorInitializers(),d}function tJ(c,l=null,a=null,h,d=new Set){const f=[a||Fr,QMe(c)];return h=h||("object"==typeof c?void 0:jo(c)),new N_(f,l||U4(),h||null,d)}let ws=(()=>{class c{static#e=this.THROW_IF_NOT_FOUND=uS;static#t=this.NULL=new KN;static create(a,h){if(Array.isArray(a))return eJ({name:""},h,a,"");{const d=a.name??"";return eJ({name:d},a.parent,a.providers,d)}}static#n=this.\u0275prov=Ye({token:c,providedIn:"any",factory:()=>Ee(NK)});static#i=this.__NG_ELEMENT_ID__=-1}return c})();function _F(c){return c.ngOriginalError}class op{constructor(){this._console=console}handleError(l){const a=this._findOriginalError(l);this._console.error("ERROR",l),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(l){let a=l&&_F(l);for(;a&&_F(a);)a=_F(a);return a||null}}function bF(c){return l=>{setTimeout(c,void 0,l)}}const Tt=class CEe extends Pt{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,a,h){let d=l,f=a||(()=>null),p=h;if(l&&"object"==typeof l){const m=l;d=m.next?.bind(m),f=m.error?.bind(m),p=m.complete?.bind(m)}this.__isAsync&&(f=bF(f),d&&(d=bF(d)),p&&(p=bF(p)));const g=super.subscribe({next:d,error:f,complete:p});return l instanceof Fe&&l.add(g),g}};function iJ(...c){}class Di{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tt(!1),this.onMicrotaskEmpty=new Tt(!1),this.onStable=new Tt(!1),this.onError=new Tt(!1),typeof Zone>"u")throw new Ct(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!h&&a,d.shouldCoalesceRunChangeDetection=h,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function SEe(){const c="function"==typeof Cs.requestAnimationFrame;let l=Cs[c?"requestAnimationFrame":"setTimeout"],a=Cs[c?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&l&&a){const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function TEe(c){const l=()=>{!function xEe(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(Cs,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,CF(c),c.isCheckStableRunning=!0,OF(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),CF(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,h,d,f,p,g)=>{if(function DEe(c){return!(!Array.isArray(c)||1!==c.length)&&!0===c[0].data?.__ignore_ng_zone__}(g))return a.invokeTask(d,f,p,g);try{return rJ(c),a.invokeTask(d,f,p,g)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||c.shouldCoalesceRunChangeDetection)&&l(),sJ(c)}},onInvoke:(a,h,d,f,p,g,m)=>{try{return rJ(c),a.invoke(d,f,p,g,m)}finally{c.shouldCoalesceRunChangeDetection&&l(),sJ(c)}},onHasTask:(a,h,d,f)=>{a.hasTask(d,f),h===d&&("microTask"==f.change?(c._hasPendingMicrotasks=f.microTask,CF(c),OF(c)):"macroTask"==f.change&&(c.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,h,d,f)=>(a.handleError(d,f),c.runOutsideAngular(()=>c.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Di.isInAngularZone())throw new Ct(909,!1)}static assertNotInAngularZone(){if(Di.isInAngularZone())throw new Ct(909,!1)}run(l,a,h){return this._inner.run(l,a,h)}runTask(l,a,h,d){const f=this._inner,p=f.scheduleEventTask("NgZoneEvent: "+d,l,wEe,iJ,iJ);try{return f.runTask(p,a,h)}finally{f.cancelTask(p)}}runGuarded(l,a,h){return this._inner.runGuarded(l,a,h)}runOutsideAngular(l){return this._outer.run(l)}}const wEe={};function OF(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function CF(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function rJ(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function sJ(c){c._nesting--,OF(c)}class kEe{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tt,this.onMicrotaskEmpty=new Tt,this.onStable=new Tt,this.onError=new Tt}run(l,a,h){return l.apply(a,h)}runGuarded(l,a,h){return l.apply(a,h)}runOutsideAngular(l){return l()}runTask(l,a,h,d){return l.apply(a,h)}}const oJ=new an("",{providedIn:"root",factory:aJ});function aJ(){const c=Dn(Di);let l=!0;return function cS(...c){const l=lS(c),a=function T4e(c,l){return"number"==typeof $L(c)?c.pop():l}(c,1/0),h=c;return h.length?1===h.length?Al(h[0]):u_(a)(Zo(h,l)):kd}(new at(d=>{l=c.isStable&&!c.hasPendingMacrotasks&&!c.hasPendingMicrotasks,c.runOutsideAngular(()=>{d.next(l),d.complete()})}),new at(d=>{let f;c.runOutsideAngular(()=>{f=c.onStable.subscribe(()=>{Di.assertNotInAngularZone(),queueMicrotask(()=>{!l&&!c.hasPendingMacrotasks&&!c.hasPendingMicrotasks&&(l=!0,d.next(!0))})})});const p=c.onUnstable.subscribe(()=>{Di.assertInAngularZone(),l&&(l=!1,c.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),p.unsubscribe()}}).pipe(pY()))}function ap(c){return c.ownerDocument.defaultView}function SF(c){return c.ownerDocument}function lp(c){return c instanceof Function?c():c}let wF=(()=>{class c{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ye({token:c,providedIn:"root",factory:()=>new c})}return c})();function QS(c){for(;c;){c[Zi]|=64;const l=IS(c);if(sN(c)&&!l)return c;c=l}return null}const dJ=new an("",{providedIn:"root",factory:()=>!1});let Y4=null;function mJ(c,l){return c[l]??yJ()}function vJ(c,l){const a=yJ();a.producerNode?.length&&(c[l]=Y4,a.lView=c,Y4=_J())}const NEe={...UY,consumerIsAlwaysLive:!0,consumerMarkedDirty:c=>{QS(c.lView)},lView:null};function _J(){return Object.create(NEe)}function yJ(){return Y4??=_J(),Y4}const zi={};function I(c){bJ(Er(),Vt(),Nl()+c,!1)}function bJ(c,l,a,h){if(!h)if(3==(3&l[Zi])){const f=c.preOrderCheckHooks;null!==f&&v4(l,f,a)}else{const f=c.preOrderHooks;null!==f&&_4(l,f,0,a)}A0(a)}function V(c,l=pr.Default){const a=Vt();return null===a?Ee(c,l):Iq(Ra(),a,ki(c),l)}function q4(c,l,a,h,d,f,p,g,m,v,_){const y=l.blueprint.slice();return y[oo]=d,y[Zi]=140|h,(null!==v||c&&2048&c[Zi])&&(y[Zi]|=2048),lq(y),y[Rs]=y[g_]=c,y[Oo]=a,y[p_]=p||c&&c[p_],y[Ni]=g||c&&c[Ni],y[bg]=m||c&&c[bg]||null,y[Ja]=f,y[vS]=function WDe(){return HDe++}(),y[np]=_,y[BY]=v,y[Co]=2==l.type?c[Co]:y,y}function W_(c,l,a,h,d){let f=c.data[l];if(null===f)f=function xF(c,l,a,h,d){const f=pq(),p=fN(),m=c.data[l]=function HEe(c,l,a,h,d,f){let p=l?l.injectorIndex:-1,g=0;return b_()&&(g|=128),{type:a,index:h,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:g,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?f:f&&f.parent,a,l,h,d);return null===c.firstChild&&(c.firstChild=m),null!==f&&(p?null==f.child&&null!==m.parent&&(f.child=m):null===f.next&&(f.next=m,m.prev=f)),m}(c,l,a,h,d),function j3e(){return xi.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=h,f.attrs=d;const p=function CS(){const c=xi.lFrame,l=c.currentTNode;return c.isParent?l:l.parent}();f.injectorIndex=null===p?-1:p.injectorIndex}return Ad(f,!0),f}function HS(c,l,a,h){if(0===a)return-1;const d=l.length;for(let f=0;f<a;f++)l.push(h),c.blueprint.push(h),c.data.push(null);return d}function CJ(c,l,a,h,d){const f=mJ(l,_S),p=Nl(),g=2&h;try{A0(-1),g&&l.length>gr&&bJ(c,l,gr,!1),Pd(g?2:0,d);const v=g?f:null,_=aN(v);try{null!==v&&(v.dirty=!1),a(h,d)}finally{lN(v,_)}}finally{g&&null===l[_S]&&vJ(l,_S),A0(p),Pd(g?3:1,d)}}function TF(c,l,a){if(rN(l)){const h=Uu(null);try{const f=l.directiveEnd;for(let p=l.directiveStart;p<f;p++){const g=c.data[p];g.contentQueries&&g.contentQueries(1,a[p],p)}}finally{Uu(h)}}}function kF(c,l,a){fq()&&(function qEe(c,l,a,h){const d=a.directiveStart,f=a.directiveEnd;E0(a)&&function rPe(c,l,a){const h=bc(l,c),d=SJ(a);let p=16;a.signals?p=4096:a.onPush&&(p=64);const g=K4(c,q4(c,d,null,p,h,l,null,c[p_].rendererFactory.createRenderer(h,a),null,null,null));c[l.index]=g}(l,a,c.data[d+a.componentOffset]),c.firstCreatePass||b4(a,l),el(h,l);const p=a.initialInputs;for(let g=d;g<f;g++){const m=c.data[g],v=I0(l,c,g,a);el(v,l),null!==p&&sPe(0,g-d,v,m,0,p),kh(m)&&(Yc(a.index,l)[Oo]=I0(l,c,g,a))}}(c,l,a,bc(a,l)),64==(64&a.flags)&&DJ(c,l,a))}function DF(c,l,a=bc){const h=l.localNames;if(null!==h){let d=l.index+1;for(let f=0;f<h.length;f+=2){const p=h[f+1],g=-1===p?a(l,c):c[p];c[d++]=g}}}function SJ(c){const l=c.tView;return null===l||l.incompleteFirstPass?c.tView=MF(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts,c.id):l}function MF(c,l,a,h,d,f,p,g,m,v,_){const y=gr+h,b=y+d,O=function BEe(c,l){const a=[];for(let h=0;h<l;h++)a.push(h<c?null:zi);return a}(y,b),C="function"==typeof v?v():v;return O[Tn]={type:c,blueprint:O,template:a,queries:null,viewQuery:g,declTNode:l,data:O.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:m,consts:C,incompleteFirstPass:!1,ssrId:_}}let wJ=c=>null;function xJ(c,l,a,h){for(let d in c)if(c.hasOwnProperty(d)){a=null===a?{}:a;const f=c[d];null===h?TJ(a,l,d,f):h.hasOwnProperty(d)&&TJ(a,l,h[d],f)}return a}function TJ(c,l,a,h){c.hasOwnProperty(a)?c[a].push(l,h):c[a]=[l,h]}function Jc(c,l,a,h,d,f,p,g){const m=bc(l,a);let _,v=l.inputs;!g&&null!=v&&(_=v[h])?(RF(c,a,_,h,d),E0(l)&&function jEe(c,l){const a=Yc(l,c);16&a[Zi]||(a[Zi]|=64)}(a,l.index)):3&l.type&&(h=function ZEe(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(h),d=null!=p?p(d,l.value||"",h):d,f.setProperty(m,h,d))}function EF(c,l,a,h){if(fq()){const d=null===h?null:{"":-1},f=function JEe(c,l){const a=c.directiveRegistry;let h=null,d=null;if(a)for(let f=0;f<a.length;f++){const p=a[f];if(AY(l,p.selectors,!1))if(h||(h=[]),kh(p))if(null!==p.findHostDirectiveDefs){const g=[];d=d||new Map,p.findHostDirectiveDefs(p,g,d),h.unshift(...g,p),PF(c,l,g.length)}else h.unshift(p),PF(c,l,0);else d=d||new Map,p.findHostDirectiveDefs?.(p,h,d),h.push(p)}return null===h?null:[h,d]}(c,a);let p,g;null===f?p=g=null:[p,g]=f,null!==p&&kJ(c,l,a,p,d,g),d&&function ePe(c,l,a){if(l){const h=c.localNames=[];for(let d=0;d<l.length;d+=2){const f=a[l[d+1]];if(null==f)throw new Ct(-301,!1);h.push(l[d],f)}}}(a,h,d)}a.mergedAttrs=fS(a.mergedAttrs,a.attrs)}function kJ(c,l,a,h,d,f){for(let v=0;v<h.length;v++)xN(b4(a,l),c,h[v].type);!function nPe(c,l,a){c.flags|=1,c.directiveStart=l,c.directiveEnd=l+a,c.providerIndexes=l}(a,c.data.length,h.length);for(let v=0;v<h.length;v++){const _=h[v];_.providersResolver&&_.providersResolver(_)}let p=!1,g=!1,m=HS(c,l,h.length,null);for(let v=0;v<h.length;v++){const _=h[v];a.mergedAttrs=fS(a.mergedAttrs,_.hostAttrs),iPe(c,a,l,m,_),tPe(m,_,d),null!==_.contentQueries&&(a.flags|=4),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(a.flags|=64);const y=_.type.prototype;!p&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((c.preOrderHooks??=[]).push(a.index),p=!0),!g&&(y.ngOnChanges||y.ngDoCheck)&&((c.preOrderCheckHooks??=[]).push(a.index),g=!0),m++}!function WEe(c,l,a){const d=l.directiveEnd,f=c.data,p=l.attrs,g=[];let m=null,v=null;for(let _=l.directiveStart;_<d;_++){const y=f[_],b=a?a.get(y):null,C=b?b.outputs:null;m=xJ(y.inputs,_,m,b?b.inputs:null),v=xJ(y.outputs,_,v,C);const S=null===m||null===p||PY(l)?null:oPe(m,_,p);g.push(S)}null!==m&&(m.hasOwnProperty("class")&&(l.flags|=8),m.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=g,l.inputs=m,l.outputs=v}(c,a,f)}function DJ(c,l,a){const h=a.directiveStart,d=a.directiveEnd,f=a.index,p=function X3e(){return xi.lFrame.currentDirectiveIndex}();try{A0(f);for(let g=h;g<d;g++){const m=c.data[g],v=l[g];gN(g),(null!==m.hostBindings||0!==m.hostVars||null!==m.hostAttrs)&&KEe(m,v)}}finally{A0(-1),gN(p)}}function KEe(c,l){null!==c.hostBindings&&c.hostBindings(1,l)}function PF(c,l,a){l.componentOffset=a,(c.components??=[]).push(l.index)}function tPe(c,l,a){if(a){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)a[l.exportAs[h]]=c;kh(l)&&(a[""]=c)}}function iPe(c,l,a,h,d){c.data[h]=d;const f=d.factory||(d.factory=P0(d.type)),p=new wS(f,kh(d),V);c.blueprint[h]=p,a[h]=p,function XEe(c,l,a,h,d){const f=d.hostBindings;if(f){let p=c.hostBindingOpCodes;null===p&&(p=c.hostBindingOpCodes=[]);const g=~l.index;(function YEe(c){let l=c.length;for(;l>0;){const a=c[--l];if("number"==typeof a&&a<0)return a}return 0})(p)!=g&&p.push(g),p.push(a,h,f)}}(c,l,h,HS(c,a,d.hostVars,zi),d)}function Ld(c,l,a,h,d,f){const p=bc(c,l);!function AF(c,l,a,h,d,f,p){if(null==f)c.removeAttribute(l,d,a);else{const g=null==p?Li(f):p(f,h||"",d);c.setAttribute(l,d,g,a)}}(l[Ni],p,f,c.value,a,h,d)}function sPe(c,l,a,h,d,f){const p=f[l];if(null!==p)for(let g=0;g<p.length;)MJ(h,a,p[g++],p[g++],p[g++])}function MJ(c,l,a,h,d){const f=Uu(null);try{const p=c.inputTransforms;null!==p&&p.hasOwnProperty(h)&&(d=p[h].call(l,d)),null!==c.setInput?c.setInput(l,d,a,h):l[h]=d}finally{Uu(f)}}function oPe(c,l,a){let h=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(c.hasOwnProperty(f)){null===h&&(h=[]);const p=c[f];for(let g=0;g<p.length;g+=2)if(p[g]===l){h.push(f,p[g+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return h}function EJ(c,l,a,h){return[c,!0,!1,l,null,0,h,a,null,null,null]}function PJ(c,l){const a=c.contentQueries;if(null!==a)for(let h=0;h<a.length;h+=2){const f=a[h+1];if(-1!==f){const p=c.data[f];vN(a[h]),p.contentQueries(2,l[f],f)}}}function K4(c,l){return c[gS]?c[FY][Th]=l:c[gS]=l,c[FY]=l,l}function IF(c,l,a){vN(0);const h=Uu(null);try{l(c,a)}finally{Uu(h)}}function AJ(c){return c[f_]||(c[f_]=[])}function IJ(c){return c.cleanup||(c.cleanup=[])}function LJ(c,l){const a=c[bg],h=a?a.get(op,null):null;h&&h.handleError(l)}function RF(c,l,a,h,d){for(let f=0;f<a.length;){const p=a[f++],g=a[f++];MJ(c.data[p],l[p],h,g,d)}}function cp(c,l,a){const h=p4(l,c);!function uK(c,l,a){c.setValue(l,a)}(c[Ni],h,a)}function aPe(c,l){const a=Yc(l,c),h=a[Tn];!function lPe(c,l){for(let a=l.length;a<c.blueprint.length;a++)l.push(c.blueprint[a])}(h,a);const d=a[oo];null!==d&&null===a[np]&&(a[np]=fF(d,a[bg])),LF(h,a,a[Oo])}function LF(c,l,a){_N(l);try{const h=c.viewQuery;null!==h&&IF(1,h,a);const d=c.template;null!==d&&CJ(c,l,d,1,a),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&PJ(c,l),c.staticViewQueries&&IF(2,c.viewQuery,a);const f=c.components;null!==f&&function cPe(c,l){for(let a=0;a<l.length;a++)aPe(c,l[a])}(l,f)}catch(h){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),h}finally{l[Zi]&=-5,yN()}}let NJ=(()=>{class c{constructor(){this.all=new Set,this.queue=new Map}create(a,h,d){const f=typeof Zone>"u"?null:Zone.current,p=function x3e(c,l,a){const h=Object.create(T3e);a&&(h.consumerAllowSignalWrites=!0),h.fn=c,h.schedule=l;const d=p=>{h.cleanupFn=p};return h.ref={notify:()=>ZY(h),run:()=>{if(h.dirty=!1,h.hasRun&&!jY(h))return;h.hasRun=!0;const p=aN(h);try{h.cleanupFn(),h.cleanupFn=tq,h.fn(d)}finally{lN(h,p)}},cleanup:()=>h.cleanupFn()},h.ref}(a,v=>{this.all.has(v)&&this.queue.set(v,f)},d);let g;this.all.add(p),p.notify();const m=()=>{p.cleanup(),g?.(),this.all.delete(p),this.queue.delete(p)};return g=h?.onDestroy(m),{destroy:m}}flush(){if(0!==this.queue.size)for(const[a,h]of this.queue)this.queue.delete(a),h?h.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ye({token:c,providedIn:"root",factory:()=>new c})}return c})();function J4(c,l,a){let h=a?c.styles:null,d=a?c.classes:null,f=0;if(null!==l)for(let p=0;p<l.length;p++){const g=l[p];"number"==typeof g?f=g:1==f?d=UL(d,g):2==f&&(h=UL(h,g+": "+l[++p]+";"))}a?c.styles=h:c.stylesWithoutHost=h,a?c.classes=d:c.classesWithoutHost=d}function WS(c,l,a,h,d=!1){for(;null!==a;){const f=l[a.index];null!==f&&h.push(Ss(f)),Rl(f)&&FJ(f,h);const p=a.type;if(8&p)WS(c,l,a.child,h);else if(32&p){const g=FN(a,l);let m;for(;m=g();)h.push(m)}else if(16&p){const g=yK(l,a);if(Array.isArray(g))h.push(...g);else{const m=IS(l[Co]);WS(m[Tn],m,g,h,!0)}}a=d?a.projectionNext:a.next}return h}function FJ(c,l){for(let a=Aa;a<c.length;a++){const h=c[a],d=h[Tn].firstChild;null!==d&&WS(h[Tn],h,d,l)}c[Ed]!==c[oo]&&l.push(c[Ed])}function e3(c,l,a,h=!0){const d=l[p_],f=d.rendererFactory,p=d.afterRenderEventManager;f.begin?.(),p?.begin();try{BJ(c,l,c.template,a)}catch(m){throw h&&LJ(l,m),m}finally{f.end?.(),d.effectManager?.flush(),p?.end()}}function BJ(c,l,a,h){const d=l[Zi];if(256!=(256&d)){l[p_].effectManager?.flush(),_N(l);try{lq(l),function mq(c){return xi.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==a&&CJ(c,l,a,2,h);const p=3==(3&d);if(p){const v=c.preOrderCheckHooks;null!==v&&v4(l,v,null)}else{const v=c.preOrderHooks;null!==v&&_4(l,v,0,null),bN(l,0)}if(function dPe(c){for(let l=aK(c);null!==l;l=lK(l)){if(!l[VY])continue;const a=l[v_];for(let h=0;h<a.length;h++){N3e(a[h])}}}(l),VJ(l,2),null!==c.contentQueries&&PJ(c,l),p){const v=c.contentCheckHooks;null!==v&&v4(l,v)}else{const v=c.contentHooks;null!==v&&_4(l,v,1),bN(l,1)}!function FEe(c,l){const a=c.hostBindingOpCodes;if(null===a)return;const h=mJ(l,yS);try{for(let d=0;d<a.length;d++){const f=a[d];if(f<0)A0(~f);else{const p=f,g=a[++d],m=a[++d];G3e(g,p),h.dirty=!1;const v=aN(h);try{m(2,l[p])}finally{lN(h,v)}}}}finally{null===l[yS]&&vJ(l,yS),A0(-1)}}(c,l);const g=c.components;null!==g&&zJ(l,g,0);const m=c.viewQuery;if(null!==m&&IF(2,m,h),p){const v=c.viewCheckHooks;null!==v&&v4(l,v)}else{const v=c.viewHooks;null!==v&&_4(l,v,2),bN(l,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),l[Zi]&=-73,cq(l)}finally{yN()}}}function VJ(c,l){for(let a=aK(c);null!==a;a=lK(a))for(let h=Aa;h<a.length;h++)$J(a[h],l)}function fPe(c,l,a){$J(Yc(l,c),a)}function $J(c,l){if(!function R3e(c){return 128==(128&c[Zi])}(c))return;const a=c[Tn],h=c[Zi];if(80&h&&0===l||1024&h||2===l)BJ(a,c,a.template,c[Oo]);else if(c[pS]>0){VJ(c,1);const d=a.components;null!==d&&zJ(c,d,1)}}function zJ(c,l,a){for(let h=0;h<l.length;h++)fPe(c,l[h],a)}class ZS{get rootNodes(){const l=this._lView,a=l[Tn];return WS(a,l,a.firstChild,[])}constructor(l,a){this._lView=l,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Oo]}set context(l){this._lView[Oo]=l}get destroyed(){return 256==(256&this._lView[Zi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[Rs];if(Rl(l)){const a=l[8],h=a?a.indexOf(this):-1;h>-1&&(I4(l,h),S4(a,h))}this._attachedToViewContainer=!1}VN(this._lView[Tn],this._lView)}onDestroy(l){!function hq(c,l){if(256==(256&c[Zi]))throw new Ct(911,!1);null===c[Og]&&(c[Og]=[]),c[Og].push(l)}(this._lView,l)}markForCheck(){QS(this._cdRefInjectingView||this._lView)}detach(){this._lView[Zi]&=-129}reattach(){this._lView[Zi]|=128}detectChanges(){e3(this._lView[Tn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ct(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sMe(c,l){LS(c,l,l[Ni],2,null,null)}(this._lView[Tn],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ct(902,!1);this._appRef=l}}class pPe extends ZS{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;e3(l[Tn],l,l[Oo],!1)}checkNoChanges(){}get context(){return null}}class UJ extends $_{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const a=Mr(l);return new jS(a,this.ngModule)}}function QJ(c){const l=[];for(let a in c)c.hasOwnProperty(a)&&l.push({propName:c[a],templateName:a});return l}class mPe{constructor(l,a){this.injector=l,this.parentInjector=a}get(l,a,h){h=s4(h);const d=this.injector.get(l,mF,h);return d!==mF||a===mF?d:this.parentInjector.get(l,a,h)}}class jS extends XK{get inputs(){const l=this.componentDef,a=l.inputTransforms,h=QJ(l.inputs);if(null!==a)for(const d of h)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return h}get outputs(){return QJ(this.componentDef.outputs)}constructor(l,a){super(),this.componentDef=l,this.ngModule=a,this.componentType=l.type,this.selector=function a3e(c){return c.map(o3e).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!a}create(l,a,h,d){let f=(d=d||this.ngModule)instanceof Kc?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const p=f?new mPe(l,f):l,g=p.get(U_,null);if(null===g)throw new Ct(407,!1);const y={rendererFactory:g,sanitizer:p.get(pEe,null),effectManager:p.get(NJ,null),afterRenderEventManager:p.get(wF,null)},b=g.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",C=h?function VEe(c,l,a,h){const f=h.get(dJ,!1)||a===zu.ShadowDom,p=c.selectRootElement(l,f);return function $Ee(c){wJ(c)}(p),p}(b,h,this.componentDef.encapsulation,p):A4(b,O,function gPe(c){const l=c.toLowerCase();return"svg"===l?sq:"math"===l?"math":null}(O)),x=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let T=null;null!==C&&(T=fF(C,p,!0));const D=MF(0,null,null,1,0,null,null,null,null,null,null),k=q4(null,D,null,x,null,null,y,b,p,null,T);let P,N;_N(k);try{const F=this.componentDef;let L,$=null;F.findHostDirectiveDefs?(L=[],$=new Map,F.findHostDirectiveDefs(F,L,$),L.push(F)):L=[F];const U=function _Pe(c,l){const a=c[Tn],h=gr;return c[h]=l,W_(a,h,2,"#host",null)}(k,C),z=function yPe(c,l,a,h,d,f,p){const g=d[Tn];!function bPe(c,l,a,h){for(const d of c)l.mergedAttrs=fS(l.mergedAttrs,d.hostAttrs);null!==l.mergedAttrs&&(J4(l,l.mergedAttrs,!0),null!==a&&SK(h,a,l))}(h,c,l,p);let m=null;null!==l&&(m=fF(l,d[bg]));const v=f.rendererFactory.createRenderer(l,a);let _=16;a.signals?_=4096:a.onPush&&(_=64);const y=q4(d,SJ(a),null,_,d[c.index],c,f,v,null,null,m);return g.firstCreatePass&&PF(g,c,h.length-1),K4(d,y),d[c.index]=y}(U,C,F,L,k,y,b);N=aq(D,gr),C&&function CPe(c,l,a,h){if(h)nN(c,a,["ng-version",gEe.full]);else{const{attrs:d,classes:f}=function l3e(c){const l=[],a=[];let h=1,d=2;for(;h<c.length;){let f=c[h];if("string"==typeof f)2===d?""!==f&&l.push(f,c[++h]):8===d&&a.push(f);else{if(!xh(d))break;d=f}h++}return{attrs:l,classes:a}}(l.selectors[0]);d&&nN(c,a,d),f&&f.length>0&&CK(c,a,f.join(" "))}}(b,F,C,h),void 0!==a&&function SPe(c,l,a){const h=c.projection=[];for(let d=0;d<l.length;d++){const f=a[d];h.push(null!=f?Array.from(f):null)}}(N,this.ngContentSelectors,a),P=function OPe(c,l,a,h,d,f){const p=Ra(),g=d[Tn],m=bc(p,d);kJ(g,d,p,a,null,h);for(let _=0;_<a.length;_++)el(I0(d,g,p.directiveStart+_,p),d);DJ(g,d,p),m&&el(m,d);const v=I0(d,g,p.directiveStart+p.componentOffset,p);if(c[Oo]=d[Oo]=v,null!==f)for(const _ of f)_(v,l);return TF(g,p,c),v}(z,F,L,$,k,[wPe]),LF(D,k,null)}finally{yN()}return new vPe(this.componentType,P,z_(N,k),k,N)}}class vPe extends lEe{constructor(l,a,h,d,f){super(),this.location=h,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new pPe(d),this.componentType=l}setInput(l,a){const h=this._tNode.inputs;let d;if(null!==h&&(d=h[l])){if(this.previousInputValues??=new Map,this.previousInputValues.has(l)&&Object.is(this.previousInputValues.get(l),a))return;const f=this._rootLView;RF(f[Tn],f,d,l,a),this.previousInputValues.set(l,a),QS(Yc(this._tNode.index,f))}}get injector(){return new Fl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function wPe(){const c=Ra();m4(Vt()[Tn],c)}function _n(c){let l=function HJ(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),a=!0;const h=[c];for(;l;){let d;if(kh(c))d=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ct(903,!1);d=l.\u0275dir}if(d){if(a){h.push(d);const p=c;p.inputs=t3(c.inputs),p.inputTransforms=t3(c.inputTransforms),p.declaredInputs=t3(c.declaredInputs),p.outputs=t3(c.outputs);const g=d.hostBindings;g&&DPe(c,g);const m=d.viewQuery,v=d.contentQueries;if(m&&TPe(c,m),v&&kPe(c,v),Jk(c.inputs,d.inputs),Jk(c.declaredInputs,d.declaredInputs),Jk(c.outputs,d.outputs),null!==d.inputTransforms&&(null===p.inputTransforms&&(p.inputTransforms={}),Jk(p.inputTransforms,d.inputTransforms)),kh(d)&&d.data.animation){const _=c.data;_.animation=(_.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let p=0;p<f.length;p++){const g=f[p];g&&g.ngInherit&&g(c),g===_n&&(a=!1)}}l=Object.getPrototypeOf(l)}!function xPe(c){let l=0,a=null;for(let h=c.length-1;h>=0;h--){const d=c[h];d.hostVars=l+=d.hostVars,d.hostAttrs=fS(d.hostAttrs,a=fS(a,d.hostAttrs))}}(h)}function t3(c){return c===Dd?{}:c===Fr?[]:c}function TPe(c,l){const a=c.viewQuery;c.viewQuery=a?(h,d)=>{l(h,d),a(h,d)}:l}function kPe(c,l){const a=c.contentQueries;c.contentQueries=a?(h,d,f)=>{l(h,d,f),a(h,d,f)}:l}function DPe(c,l){const a=c.hostBindings;c.hostBindings=a?(h,d)=>{l(h,d),a(h,d)}:l}function Hu(c){return l=>{l.findHostDirectiveDefs=WJ,l.hostDirectives=(Array.isArray(c)?c:c()).map(a=>"function"==typeof a?{directive:ki(a),inputs:Dd,outputs:Dd}:{directive:ki(a.directive),inputs:ZJ(a.inputs),outputs:ZJ(a.outputs)})}}function WJ(c,l,a){if(null!==c.hostDirectives)for(const h of c.hostDirectives){const d=Pa(h.directive);APe(d.declaredInputs,h.inputs),WJ(d,l,a),a.set(d,h),l.push(d)}}function ZJ(c){if(void 0===c||0===c.length)return Dd;const l={};for(let a=0;a<c.length;a+=2)l[c[a]]=c[a+1];return l}function APe(c,l){for(const a in l)l.hasOwnProperty(a)&&(c[l[a]]=c[a])}function n3(c){return!!NF(c)&&(Array.isArray(c)||!(c instanceof Map)&&Symbol.iterator in c)}function NF(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function Nd(c,l,a){return c[l]=a}function GS(c,l){return c[l]}function tl(c,l,a){return!Object.is(c[l],a)&&(c[l]=a,!0)}function B0(c,l,a,h){const d=tl(c,l,a);return tl(c,l+1,h)||d}function i3(c,l,a,h,d){const f=B0(c,l,a,h);return tl(c,l+2,d)||f}function Wu(c,l,a,h,d,f){const p=B0(c,l,a,h);return B0(c,l+2,d,f)||p}function Je(c,l,a,h){const d=Vt();return tl(d,O_(),l)&&(Er(),Ld(Zs(),d,c,l,a,h)),Je}function j_(c,l,a,h){return tl(c,O_(),a)?l+Li(a)+h:zi}function X(c,l,a,h,d,f,p,g){const m=Vt(),v=Er(),_=c+gr,y=v.firstCreatePass?function KPe(c,l,a,h,d,f,p,g,m){const v=l.consts,_=W_(l,c,4,p||null,Sg(v,g));EF(l,a,_,Sg(v,m)),m4(l,_);const y=_.tView=MF(2,_,h,d,f,l.directiveRegistry,l.pipeRegistry,null,l.schemas,v,null);return null!==l.queries&&(l.queries.template(l,_),y.queries=l.queries.embeddedTView(_)),_}(_,v,m,l,a,h,d,f,p):v.data[_];Ad(y,!1);const b=aee(v,m,y,c);g4()&&L4(v,m,b,y),el(b,m),K4(m,m[_]=EJ(b,m,b,y)),h4(y)&&kF(v,m,y),null!=p&&DF(m,y,g)}let aee=function lee(c,l,a,h){return wg(!0),l[Ni].createComment("")};function Po(c){return y_(function Z3e(){return xi.lFrame.contextLView}(),gr+c)}function R(c,l,a){const h=Vt();return tl(h,O_(),l)&&Jc(Er(),Zs(),h,c,l,h[Ni],a,!1),R}function UF(c,l,a,h,d){const p=d?"class":"style";RF(c,a,l.inputs[p],p,h)}function E(c,l,a,h){const d=Vt(),f=Er(),p=gr+c,g=d[Ni],m=f.firstCreatePass?function nAe(c,l,a,h,d,f){const p=l.consts,m=W_(l,c,2,h,Sg(p,d));return EF(l,a,m,Sg(p,f)),null!==m.attrs&&J4(m,m.attrs,!1),null!==m.mergedAttrs&&J4(m,m.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,m),m}(p,f,d,l,a,h):f.data[p],v=cee(f,d,m,g,l,c);d[p]=v;const _=h4(m);return Ad(m,!0),SK(g,v,m),32!=(32&m.flags)&&g4()&&L4(f,d,v,m),0===function B3e(){return xi.lFrame.elementDepthCount}()&&el(v,d),function V3e(){xi.lFrame.elementDepthCount++}(),_&&(kF(f,d,m),TF(f,m,d)),null!==h&&DF(d,m),E}function M(){let c=Ra();fN()?pN():(c=c.parent,Ad(c,!1));const l=c;(function z3e(c){return xi.skipHydrationRootTNode===c})(l)&&function W3e(){xi.skipHydrationRootTNode=null}(),function $3e(){xi.lFrame.elementDepthCount--}();const a=Er();return a.firstCreatePass&&(m4(a,c),rN(c)&&a.queries.elementEnd(c)),null!=l.classesWithoutHost&&function rDe(c){return 0!=(8&c.flags)}(l)&&UF(a,l,Vt(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function sDe(c){return 0!=(16&c.flags)}(l)&&UF(a,l,Vt(),l.stylesWithoutHost,!1),M}function se(c,l,a,h){return E(c,l,a,h),M(),se}let cee=(c,l,a,h,d,f)=>(wg(!0),A4(h,d,function wq(){return xi.lFrame.currentNamespace}()));function ps(c,l,a){const h=Vt(),d=Er(),f=c+gr,p=d.firstCreatePass?function sAe(c,l,a,h,d){const f=l.consts,p=Sg(f,h),g=W_(l,c,8,"ng-container",p);return null!==p&&J4(g,p,!0),EF(l,a,g,Sg(f,d)),null!==l.queries&&l.queries.elementStart(l,g),g}(f,d,h,l,a):d.data[f];Ad(p,!0);const g=uee(d,h,p,c);return h[f]=g,g4()&&L4(d,h,g,p),el(g,h),h4(p)&&(kF(d,h,p),TF(d,p,h)),null!=a&&DF(h,p),ps}function gs(){let c=Ra();const l=Er();return fN()?pN():(c=c.parent,Ad(c,!1)),l.firstCreatePass&&(m4(l,c),rN(c)&&l.queries.elementEnd(c)),gs}function va(c,l,a){return ps(c,l,a),gs(),va}let uee=(c,l,a,h)=>(wg(!0),BN(l[Ni],""));function Ae(){return Vt()}function KS(c){return!!c&&"function"==typeof c.then}function hee(c){return!!c&&"function"==typeof c.subscribe}function Y(c,l,a,h){const d=Vt(),f=Er(),p=Ra();return function dee(c,l,a,h,d,f,p){const g=h4(h),v=c.firstCreatePass&&IJ(c),_=l[Oo],y=AJ(l);let b=!0;if(3&h.type||p){const S=bc(h,l),w=p?p(S):S,x=y.length,T=p?k=>p(Ss(k[h.index])):h.index;let D=null;if(!p&&g&&(D=function lAe(c,l,a,h){const d=c.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const p=d[f];if(p===a&&d[f+1]===h){const g=l[f_],m=d[f+2];return g.length>m?g[m]:null}"string"==typeof p&&(f+=2)}return null}(c,l,d,h.index)),null!==D)(D.__ngLastListenerFn__||D).__ngNextListenerFn__=f,D.__ngLastListenerFn__=f,b=!1;else{f=pee(h,l,_,f,!1);const k=a.listen(w,d,f);y.push(f,k),v&&v.push(d,T,x,x+1)}}else f=pee(h,l,_,f,!1);const O=h.outputs;let C;if(b&&null!==O&&(C=O[d])){const S=C.length;if(S)for(let w=0;w<S;w+=2){const P=l[C[w]][C[w+1]].subscribe(f),N=y.length;y.push(f,P),v&&v.push(d,h.index,N,-(N+1))}}}(f,d,d[Ni],p,c,l,h),Y}function fee(c,l,a,h){try{return Pd(6,l,a),!1!==a(h)}catch(d){return LJ(c,d),!1}finally{Pd(7,l,a)}}function pee(c,l,a,h,d){return function f(p){if(p===Function)return h;QS(c.componentOffset>-1?Yc(c.index,l):l);let m=fee(l,a,h,p),v=f.__ngNextListenerFn__;for(;v;)m=fee(l,a,v,p)&&m,v=v.__ngNextListenerFn__;return d&&!1===m&&p.preventDefault(),m}}function Q(c=1){return function q3e(c){return(xi.lFrame.contextLView=function K3e(c,l){for(;c>0;)l=l[g_],c--;return l}(c,xi.lFrame.contextLView))[Oo]}(c)}function cAe(c,l){let a=null;const h=function n3e(c){const l=c.attrs;if(null!=l){const a=l.indexOf(5);if(!(1&a))return l[a+1]}return null}(c);for(let d=0;d<l.length;d++){const f=l[d];if("*"!==f){if(null===h?AY(c,f,!0):s3e(h,f))return d}else a=d}return a}function yn(c){const l=Vt()[Co][Ja];if(!l.projection){const h=l.projection=ES(c?c.length:1,null),d=h.slice();let f=l.child;for(;null!==f;){const p=c?cAe(f,c):0;null!==p&&(d[p]?d[p].projectionNext=f:h[p]=f,d[p]=f),f=f.next}}}function St(c,l=0,a){const h=Vt(),d=Er(),f=W_(d,gr+c,16,null,a||null);null===f.projection&&(f.projection=l),pN(),(!h[np]||b_())&&32!=(32&f.flags)&&function fMe(c,l,a){OK(l[Ni],0,l,a,zN(c,a,l),gK(a.parent||l[Ja],a,l))}(d,h,f)}function Cc(c,l,a){return ty(c,"",l,"",a),Cc}function ty(c,l,a,h,d){const f=Vt(),p=j_(f,l,a,h);return p!==zi&&Jc(Er(),Zs(),f,c,p,f[Ni],d,!1),ty}function a3(c,l){return c<<17|l<<2}function kg(c){return c>>17&32767}function HF(c){return 2|c}function V0(c){return(131068&c)>>2}function WF(c,l){return-131069&c|l<<2}function ZF(c){return 1|c}function See(c,l,a,h,d){const f=c[a+1],p=null===l;let g=h?kg(f):V0(f),m=!1;for(;0!==g&&(!1===m||p);){const _=c[g+1];gAe(c[g],l)&&(m=!0,c[g+1]=h?ZF(_):HF(_)),g=h?kg(_):V0(_)}m&&(c[a+1]=h?HF(f):ZF(f))}function gAe(c,l){return null===c||null==l||(Array.isArray(c)?c[1]:c)===l||!(!Array.isArray(c)||"string"!=typeof l)&&M_(c,l)>=0}const Yo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wee(c){return c.substring(Yo.key,Yo.keyEnd)}function xee(c,l){const a=Yo.textEnd;return a===l?-1:(l=Yo.keyEnd=function yAe(c,l,a){for(;l<a&&c.charCodeAt(l)>32;)l++;return l}(c,Yo.key=l,a),ny(c,l,a))}function ny(c,l,a){for(;l<a&&c.charCodeAt(l)<=32;)l++;return l}function JS(c,l,a){return Dh(c,l,a,!1),JS}function $t(c,l){return Dh(c,l,null,!0),$t}function l3(c){!function Mh(c,l,a,h){const d=Er(),f=rp(2);d.firstUpdatePass&&Pee(d,null,f,h);const p=Vt();if(a!==zi&&tl(p,f,a)){const g=d.data[Nl()];if(Lee(g,h)&&!Eee(d,f)){let m=h?g.classesWithoutHost:g.stylesWithoutHost;null!==m&&(a=UL(m,a||"")),UF(d,g,p,a,h)}else!function MAe(c,l,a,h,d,f,p,g){d===zi&&(d=Fr);let m=0,v=0,_=0<d.length?d[0]:null,y=0<f.length?f[0]:null;for(;null!==_||null!==y;){const b=m<d.length?d[m+1]:void 0,O=v<f.length?f[v+1]:void 0;let S,C=null;_===y?(m+=2,v+=2,b!==O&&(C=y,S=O)):null===y||null!==_&&_<y?(m+=2,C=_):(v+=2,C=y,S=O),null!==C&&Iee(c,l,a,h,C,S,p,g),_=m<d.length?d[m]:null,y=v<f.length?f[v]:null}}(d,g,p,p[Ni],p[f+1],p[f+1]=function kAe(c,l,a){if(null==a||""===a)return Fr;const h=[],d=Tg(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)c(h,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&c(h,f,d[f]);else"string"==typeof d&&l(h,d);return h}(c,l,a),h,f)}}(DAe,Bd,c,!0)}function Bd(c,l){for(let a=function vAe(c){return function kee(c){Yo.key=0,Yo.keyEnd=0,Yo.value=0,Yo.valueEnd=0,Yo.textEnd=c.length}(c),xee(c,ny(c,0,Yo.textEnd))}(l);a>=0;a=xee(l,a))qc(c,wee(l),!0)}function Dh(c,l,a,h){const d=Vt(),f=Er(),p=rp(2);f.firstUpdatePass&&Pee(f,c,p,h),l!==zi&&tl(d,p,l)&&Iee(f,f.data[Nl()],d,d[Ni],c,d[p+1]=function EAe(c,l){return null==c||""===c||("string"==typeof l?c+=l:"object"==typeof c&&(c=jo(Tg(c)))),c}(l,a),h,p)}function Eee(c,l){return l>=c.expandoStartIndex}function Pee(c,l,a,h){const d=c.data;if(null===d[a+1]){const f=d[Nl()],p=Eee(c,a);Lee(f,h)&&null===l&&!p&&(l=!1),l=function SAe(c,l,a,h){const d=function mN(c){const l=xi.lFrame.currentDirectiveIndex;return-1===l?null:c[l]}(c);let f=h?l.residualClasses:l.residualStyles;if(null===d)0===(h?l.classBindings:l.styleBindings)&&(a=e2(a=jF(null,c,l,a,h),l.attrs,h),f=null);else{const p=l.directiveStylingLast;if(-1===p||c[p]!==d)if(a=jF(d,c,l,a,h),null===f){let m=function wAe(c,l,a){const h=a?l.classBindings:l.styleBindings;if(0!==V0(h))return c[kg(h)]}(c,l,h);void 0!==m&&Array.isArray(m)&&(m=jF(null,c,l,m[1],h),m=e2(m,l.attrs,h),function xAe(c,l,a,h){c[kg(a?l.classBindings:l.styleBindings)]=h}(c,l,h,m))}else f=function TAe(c,l,a){let h;const d=l.directiveEnd;for(let f=1+l.directiveStylingLast;f<d;f++)h=e2(h,c[f].hostAttrs,a);return e2(h,l.attrs,a)}(c,l,h)}return void 0!==f&&(h?l.residualClasses=f:l.residualStyles=f),a}(d,f,l,h),function fAe(c,l,a,h,d,f){let p=f?l.classBindings:l.styleBindings,g=kg(p),m=V0(p);c[h]=a;let _,v=!1;if(Array.isArray(a)?(_=a[1],(null===_||M_(a,_)>0)&&(v=!0)):_=a,d)if(0!==m){const b=kg(c[g+1]);c[h+1]=a3(b,g),0!==b&&(c[b+1]=WF(c[b+1],h)),c[g+1]=function hAe(c,l){return 131071&c|l<<17}(c[g+1],h)}else c[h+1]=a3(g,0),0!==g&&(c[g+1]=WF(c[g+1],h)),g=h;else c[h+1]=a3(m,0),0===g?g=h:c[m+1]=WF(c[m+1],h),m=h;v&&(c[h+1]=HF(c[h+1])),See(c,_,h,!0),See(c,_,h,!1),function pAe(c,l,a,h,d){const f=d?c.residualClasses:c.residualStyles;null!=f&&"string"==typeof l&&M_(f,l)>=0&&(a[h+1]=ZF(a[h+1]))}(l,_,c,h,f),p=a3(g,m),f?l.classBindings=p:l.styleBindings=p}(d,f,l,a,p,h)}}function jF(c,l,a,h,d){let f=null;const p=a.directiveEnd;let g=a.directiveStylingLast;for(-1===g?g=a.directiveStart:g++;g<p&&(f=l[g],h=e2(h,f.hostAttrs,d),f!==c);)g++;return null!==c&&(a.directiveStylingLast=g),h}function e2(c,l,a){const h=a?1:2;let d=-1;if(null!==l)for(let f=0;f<l.length;f++){const p=l[f];"number"==typeof p?d=p:d===h&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),qc(c,p,!!a||l[++f]))}return void 0===c?null:c}function DAe(c,l,a){const h=String(l);""!==h&&!h.includes(" ")&&qc(c,h,a)}function Iee(c,l,a,h,d,f,p,g){if(!(3&l.type))return;const m=c.data,v=m[g+1],_=function dAe(c){return 1==(1&c)}(v)?Ree(m,l,a,d,V0(v),p):void 0;c3(_)||(c3(f)||function uAe(c){return 2==(2&c)}(v)&&(f=Ree(m,null,a,d,g,p)),function gMe(c,l,a,h,d){if(l)d?c.addClass(a,h):c.removeClass(a,h);else{let f=-1===h.indexOf("-")?void 0:xg.DashCase;null==d?c.removeStyle(a,h,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=xg.Important),c.setStyle(a,h,d,f))}}(h,p,p4(Nl(),a),d,f))}function Ree(c,l,a,h,d,f){const p=null===l;let g;for(;d>0;){const m=c[d],v=Array.isArray(m),_=v?m[1]:m,y=null===_;let b=a[d+1];b===zi&&(b=y?Fr:void 0);let O=y?DN(b,h):_===h?b:void 0;if(v&&!c3(O)&&(O=DN(m,h)),c3(O)&&(g=O,p))return g;const C=c[d+1];d=p?kg(C):V0(C)}if(null!==l){let m=f?l.residualClasses:l.residualStyles;null!=m&&(g=DN(m,h))}return g}function c3(c){return void 0!==c}function Lee(c,l){return 0!=(c.flags&(l?8:16))}function H(c,l=""){const a=Vt(),h=Er(),d=c+gr,f=h.firstCreatePass?W_(h,d,1,l,null):h.data[d],p=Nee(h,a,f,l,c);a[d]=p,g4()&&L4(h,a,p,f),Ad(f,!1)}let Nee=(c,l,a,h,d)=>(wg(!0),function P4(c,l){return c.createText(l)}(l[Ni],h));function ut(c){return Kt("",c,""),ut}function Kt(c,l,a){const h=Vt(),d=j_(h,c,l,a);return d!==zi&&cp(h,Nl(),d),Kt}function $0(c,l,a,h,d){const f=Vt(),p=function G_(c,l,a,h,d,f){const g=B0(c,ip(),a,d);return rp(2),g?l+Li(a)+h+Li(d)+f:zi}(f,c,l,a,h,d);return p!==zi&&cp(f,Nl(),p),$0}function u3(c,l,a,h,d,f,p){const g=Vt(),m=function X_(c,l,a,h,d,f,p,g){const v=i3(c,ip(),a,d,p);return rp(3),v?l+Li(a)+h+Li(d)+f+Li(p)+g:zi}(g,c,l,a,h,d,f,p);return m!==zi&&cp(g,Nl(),m),u3}function Vd(c,l,a){const h=Vt();return tl(h,O_(),l)&&Jc(Er(),Zs(),h,c,l,h[Ni],a,!0),Vd}let iy={};var ms=function(c){return c[c.LocaleId=0]="LocaleId",c[c.DayPeriodsFormat=1]="DayPeriodsFormat",c[c.DayPeriodsStandalone=2]="DayPeriodsStandalone",c[c.DaysFormat=3]="DaysFormat",c[c.DaysStandalone=4]="DaysStandalone",c[c.MonthsFormat=5]="MonthsFormat",c[c.MonthsStandalone=6]="MonthsStandalone",c[c.Eras=7]="Eras",c[c.FirstDayOfWeek=8]="FirstDayOfWeek",c[c.WeekendRange=9]="WeekendRange",c[c.DateFormat=10]="DateFormat",c[c.TimeFormat=11]="TimeFormat",c[c.DateTimeFormat=12]="DateTimeFormat",c[c.NumberSymbols=13]="NumberSymbols",c[c.NumberFormats=14]="NumberFormats",c[c.CurrencyCode=15]="CurrencyCode",c[c.CurrencySymbol=16]="CurrencySymbol",c[c.CurrencyName=17]="CurrencyName",c[c.Currencies=18]="Currencies",c[c.Directionality=19]="Directionality",c[c.PluralCase=20]="PluralCase",c[c.ExtraData=21]="ExtraData",c}(ms||{});const ry="en-US";let ete=ry;function qF(c,l,a,h,d){if(c=ki(c),Array.isArray(c))for(let f=0;f<c.length;f++)qF(c[f],l,a,h,d);else{const f=Er(),p=Vt(),g=Ra();let m=F0(c)?c:ki(c.provide);const v=UK(c),_=1048575&g.providerIndexes,y=g.directiveStart,b=g.providerIndexes>>20;if(F0(c)||!c.multi){const O=new wS(v,d,V),C=JF(m,l,d?_:_+b,y);-1===C?(xN(b4(g,p),f,m),KF(f,c,l.length),l.push(m),g.directiveStart++,g.directiveEnd++,d&&(g.providerIndexes+=1048576),a.push(O),p.push(O)):(a[C]=O,p[C]=O)}else{const O=JF(m,l,_+b,y),C=JF(m,l,_,_+b),w=C>=0&&a[C];if(d&&!w||!d&&!(O>=0&&a[O])){xN(b4(g,p),f,m);const x=function KIe(c,l,a,h,d){const f=new wS(c,a,V);return f.multi=[],f.index=l,f.componentProviders=0,xte(f,d,h&&!a),f}(d?qIe:YIe,a.length,d,h,v);!d&&w&&(a[C].providerFactory=x),KF(f,c,l.length,0),l.push(m),g.directiveStart++,g.directiveEnd++,d&&(g.providerIndexes+=1048576),a.push(x),p.push(x)}else KF(f,c,O>-1?O:C,xte(a[d?C:O],v,!d&&h));!d&&h&&w&&a[C].componentProviders++}}}function KF(c,l,a,h){const d=F0(l),f=function WMe(c){return!!c.useClass}(l);if(d||f){const m=(f?ki(l.useClass):l).prototype.ngOnDestroy;if(m){const v=c.destroyHooks||(c.destroyHooks=[]);if(!d&&l.multi){const _=v.indexOf(a);-1===_?v.push(a,[h,m]):v[_+1].push(h,m)}else v.push(a,m)}}}function xte(c,l,a){return a&&c.componentProviders++,c.multi.push(l)-1}function JF(c,l,a,h){for(let d=a;d<h;d++)if(l[d]===c)return d;return-1}function YIe(c,l,a,h){return e8(this.multi,[])}function qIe(c,l,a,h){const d=this.multi;let f;if(this.providerFactory){const p=this.providerFactory.componentProviders,g=I0(a,a[Tn],this.providerFactory.index,h);f=g.slice(0,p),e8(d,f);for(let m=p;m<g.length;m++)f.push(g[m])}else f=[],e8(d,f);return f}function e8(c,l){for(let a=0;a<c.length;a++)l.push((0,c[a])());return l}function kn(c,l=[]){return a=>{a.providersResolver=(h,d)=>function XIe(c,l,a){const h=Er();if(h.firstCreatePass){const d=kh(c);qF(a,h.data,h.blueprint,d,!0),qF(l,h.data,h.blueprint,d,!1)}}(h,d?d(c):c,l)}}class U0{}class Tte{}class t8 extends U0{constructor(l,a,h){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new UJ(this);const d=Xc(l);this._bootstrapComponents=lp(d.bootstrap),this._r3Injector=tJ(l,a,[{provide:U0,useValue:this},{provide:$_,useValue:this.componentFactoryResolver},...h],jo(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class n8 extends Tte{constructor(l){super(),this.moduleType=l}create(l){return new t8(this.moduleType,l,[])}}class kte extends U0{constructor(l){super(),this.componentFactoryResolver=new UJ(this),this.instance=null;const a=new N_([...l.providers,{provide:U0,useValue:this},{provide:$_,useValue:this.componentFactoryResolver}],l.parent||U4(),l.debugName,new Set(["environment"]));this.injector=a,l.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function i8(c,l,a=null){return new kte({providers:c,parent:l,debugName:a,runEnvironmentInitializers:!0}).injector}let t5e=(()=>{class c{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const h=BK(0,a.type),d=h.length>0?i8([h],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ye({token:c,providedIn:"environment",factory:()=>new c(Ee(Kc))})}return c})();function Dte(c){c.getStandaloneInjector=l=>l.get(t5e).getOrCreateStandaloneInjector(c)}function Fi(c,l,a){const h=Ll()+c,d=Vt();return d[h]===zi?Nd(d,h,a?l.call(a):l()):GS(d,h)}function xr(c,l,a,h){return Nte(Vt(),Ll(),c,l,a,h)}function mr(c,l,a,h,d){return function Fte(c,l,a,h,d,f,p){const g=l+a;return B0(c,g,d,f)?Nd(c,g+2,p?h.call(p,d,f):h(d,f)):l2(c,g+2)}(Vt(),Ll(),c,l,a,h,d)}function a2(c,l,a,h,d,f){return function Bte(c,l,a,h,d,f,p,g){const m=l+a;return i3(c,m,d,f,p)?Nd(c,m+3,g?h.call(g,d,f,p):h(d,f,p)):l2(c,m+3)}(Vt(),Ll(),c,l,a,h,d,f)}function Dg(c,l,a,h,d,f,p){return function Vte(c,l,a,h,d,f,p,g,m){const v=l+a;return Wu(c,v,d,f,p,g)?Nd(c,v+4,m?h.call(m,d,f,p,g):h(d,f,p,g)):l2(c,v+4)}(Vt(),Ll(),c,l,a,h,d,f,p)}function l2(c,l){const a=c[l];return a===zi?void 0:a}function Nte(c,l,a,h,d,f){const p=l+a;return tl(c,p,d)?Nd(c,p+1,f?h.call(f,d):h(d)):l2(c,p+1)}function c2(c,l){const a=Er();let h;const d=c+gr;a.firstCreatePass?(h=function p5e(c,l){if(l)for(let a=l.length-1;a>=0;a--){const h=l[a];if(c===h.name)return h}}(l,a.pipeRegistry),a.data[d]=h,h.onDestroy&&(a.destroyHooks??=[]).push(d,h.onDestroy)):h=a.data[d];const f=h.factory||(h.factory=P0(h.type)),g=vc(V);try{const m=y4(!1),v=f();return y4(m),function tAe(c,l,a,h){a>=c.data.length&&(c.data[a]=null,c.blueprint[a]=null),l[a]=h}(a,Vt(),d,v),v}finally{vc(g)}}function u2(c,l,a){const h=c+gr,d=Vt(),f=y_(d,h);return function h2(c,l){return c[Tn].data[l].pure}(d,h)?Nte(d,Ll(),l,f.transform,a,f):f.transform(a)}function y5e(){return this._results[Symbol.iterator]()}class s8{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Tt)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=s8.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=y5e)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,a){return this._results.reduce(l,a)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,a){const h=this;h.dirty=!1;const d=function Qu(c){return c.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function _De(c,l,a){if(c.length!==l.length)return!1;for(let h=0;h<c.length;h++){let d=c[h],f=l[h];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(h._results,d,a))&&(h._results=d,h.length=d.length,h.last=d[this.length-1],h.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function O5e(c,l,a,h=!0){const d=l[Tn];if(function aMe(c,l,a,h){const d=Aa+h,f=a.length;h>0&&(a[d-1][Th]=l),h<f-Aa?(l[Th]=a[d],$q(a,Aa+h,l)):(a.push(l),l[Th]=null),l[Rs]=a;const p=l[mS];null!==p&&a!==p&&function lMe(c,l){const a=c[v_];l[Co]!==l[Rs][Rs][Co]&&(c[VY]=!0),null===a?c[v_]=[l]:a.push(l)}(p,l);const g=l[Md];null!==g&&g.insertView(c),l[Zi]|=128}(d,l,c,a),h){const f=QN(a,c),p=l[Ni],g=R4(p,c[Ed]);null!==g&&function rMe(c,l,a,h,d,f){h[oo]=d,h[Ja]=l,LS(c,h,a,1,d,f)}(d,c[Ja],p,l,g,f)}}let Ls=(()=>{class c{static#e=this.__NG_ELEMENT_ID__=w5e}return c})();const C5e=Ls,S5e=class extends C5e{constructor(l,a,h){super(),this._declarationLView=l,this._declarationTContainer=a,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(l,a){return this.createEmbeddedViewImpl(l,a)}createEmbeddedViewImpl(l,a,h){const d=function b5e(c,l,a,h){const d=l.tView,g=q4(c,d,a,4096&c[Zi]?4096:16,null,l,null,null,null,h?.injector??null,h?.hydrationInfo??null);g[mS]=c[l.index];const v=c[Md];return null!==v&&(g[Md]=v.createEmbeddedView(d)),LF(d,g,a),g}(this._declarationLView,this._declarationTContainer,l,{injector:a,hydrationInfo:h});return new ZS(d)}};function w5e(){return g3(Ra(),Vt())}function g3(c,l){return 4&c.type?new S5e(l,c,z_(c,l)):null}let ir=(()=>{class c{static#e=this.__NG_ELEMENT_ID__=E5e}return c})();function E5e(){return jte(Ra(),Vt())}const P5e=ir,Wte=class extends P5e{constructor(l,a,h){super(),this._lContainer=l,this._hostTNode=a,this._hostLView=h}get element(){return z_(this._hostTNode,this._hostLView)}get injector(){return new Fl(this._hostTNode,this._hostLView)}get parentInjector(){const l=O4(this._hostTNode,this._hostLView);if(CN(l)){const a=TS(l,this._hostLView),h=xS(l);return new Fl(a[Tn].data[h+8],a)}return new Fl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const a=Zte(this._lContainer);return null!==a&&a[l]||null}get length(){return this._lContainer.length-Aa}createEmbeddedView(l,a,h){let d,f;"number"==typeof h?d=h:null!=h&&(d=h.index,f=h.injector);const g=l.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(g,d,false),g}createComponent(l,a,h,d,f){const p=l&&!function MS(c){return"function"==typeof c}(l);let g;if(p)g=a;else{const S=a||{};g=S.index,h=S.injector,d=S.projectableNodes,f=S.environmentInjector||S.ngModuleRef}const m=p?l:new jS(Mr(l)),v=h||this.parentInjector;if(!f&&null==m.ngModule){const w=(p?v:this.parentInjector).get(Kc,null);w&&(f=w)}Mr(m.componentType??{});const O=m.create(v,d,null,f);return this.insertImpl(O.hostView,g,false),O}insert(l,a){return this.insertImpl(l,a,!1)}insertImpl(l,a,h){const d=l._lView;if(function L3e(c){return Rl(c[Rs])}(d)){const m=this.indexOf(l);if(-1!==m)this.detach(m);else{const v=d[Rs],_=new Wte(v,v[Ja],v[Rs]);_.detach(_.indexOf(l))}}const p=this._adjustIndex(a),g=this._lContainer;return O5e(g,d,p,!h),l.attachToViewContainerRef(),$q(o8(g),p,l),l}move(l,a){return this.insert(l,a)}indexOf(l){const a=Zte(this._lContainer);return null!==a?a.indexOf(l):-1}remove(l){const a=this._adjustIndex(l,-1),h=I4(this._lContainer,a);h&&(S4(o8(this._lContainer),a),VN(h[Tn],h))}detach(l){const a=this._adjustIndex(l,-1),h=I4(this._lContainer,a);return h&&null!=S4(o8(this._lContainer),a)?new ZS(h):null}_adjustIndex(l,a=0){return l??this.length+a}};function Zte(c){return c[8]}function o8(c){return c[8]||(c[8]=[])}function jte(c,l){let a;const h=l[c.index];return Rl(h)?a=h:(a=EJ(h,l,null,c),l[c.index]=a,K4(l,a)),Gte(a,l,c,h),new Wte(a,c,l)}let Gte=function Xte(c,l,a,h){if(c[Ed])return;let d;d=8&a.type?Ss(h):function A5e(c,l){const a=c[Ni],h=a.createComment(""),d=bc(l,c);return N0(a,R4(a,d),h,function dMe(c,l){return c.nextSibling(l)}(a,d),!1),h}(l,a),c[Ed]=d};class a8{constructor(l){this.queryList=l,this.matches=null}clone(){return new a8(this.queryList)}setDirty(){this.queryList.setDirty()}}class l8{constructor(l=[]){this.queries=l}createEmbeddedView(l){const a=l.queries;if(null!==a){const h=null!==l.contentQueries?l.contentQueries[0]:a.length,d=[];for(let f=0;f<h;f++){const p=a.getByIndex(f);d.push(this.queries[p.indexInDeclarationView].clone())}return new l8(d)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let a=0;a<this.queries.length;a++)null!==ene(l,a).matches&&this.queries[a].setDirty()}}class Yte{constructor(l,a,h=null){this.predicate=l,this.flags=a,this.read=h}}class c8{constructor(l=[]){this.queries=l}elementStart(l,a){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,a)}elementEnd(l){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(l)}embeddedTView(l){let a=null;for(let h=0;h<this.length;h++){const d=null!==a?a.length:0,f=this.getByIndex(h).embeddedTView(l,d);f&&(f.indexInDeclarationView=h,null!==a?a.push(f):a=[f])}return null!==a?new c8(a):null}template(l,a){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,a)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class u8{constructor(l,a=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(l,a){this.isApplyingToNode(a)&&this.matchTNode(l,a)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,a){this.elementStart(l,a)}embeddedTView(l,a){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,a),new u8(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==a;)h=h.parent;return a===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,a){const h=this.metadata.predicate;if(Array.isArray(h))for(let d=0;d<h.length;d++){const f=h[d];this.matchTNodeWithReadOption(l,a,L5e(a,f)),this.matchTNodeWithReadOption(l,a,C4(a,l,f,!1,!1))}else h===Ls?4&a.type&&this.matchTNodeWithReadOption(l,a,-1):this.matchTNodeWithReadOption(l,a,C4(a,l,h,!1,!1))}matchTNodeWithReadOption(l,a,h){if(null!==h){const d=this.metadata.read;if(null!==d)if(d===Rn||d===ir||d===Ls&&4&a.type)this.addMatch(a.index,-2);else{const f=C4(a,l,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,h)}}addMatch(l,a){null===this.matches?this.matches=[l,a]:this.matches.push(l,a)}}function L5e(c,l){const a=c.localNames;if(null!==a)for(let h=0;h<a.length;h+=2)if(a[h]===l)return a[h+1];return null}function F5e(c,l,a,h){return-1===a?function N5e(c,l){return 11&c.type?z_(c,l):4&c.type?g3(c,l):null}(l,c):-2===a?function B5e(c,l,a){return a===Rn?z_(l,c):a===Ls?g3(l,c):a===ir?jte(l,c):void 0}(c,l,h):I0(c,c[Tn],a,l)}function qte(c,l,a,h){const d=l[Md].queries[h];if(null===d.matches){const f=c.data,p=a.matches,g=[];for(let m=0;m<p.length;m+=2){const v=p[m];g.push(v<0?null:F5e(l,f[v],p[m+1],a.metadata.read))}d.matches=g}return d.matches}function h8(c,l,a,h){const d=c.queries.getByIndex(a),f=d.matches;if(null!==f){const p=qte(c,l,d,a);for(let g=0;g<f.length;g+=2){const m=f[g];if(m>0)h.push(p[g/2]);else{const v=f[g+1],_=l[-m];for(let y=Aa;y<_.length;y++){const b=_[y];b[mS]===b[Rs]&&h8(b[Tn],b,v,h)}if(null!==_[v_]){const y=_[v_];for(let b=0;b<y.length;b++){const O=y[b];h8(O[Tn],O,v,h)}}}}}return h}function Ht(c){const l=Vt(),a=Er(),h=_q();vN(h+1);const d=ene(a,h);if(c.dirty&&function I3e(c){return 4==(4&c[Zi])}(l)===(2==(2&d.metadata.flags))){if(null===d.matches)c.reset([]);else{const f=d.crossesNgTemplate?h8(a,l,h,[]):qte(a,l,d,h);c.reset(f,dEe),c.notifyOnChanges()}return!0}return!1}function si(c,l,a){const h=Er();h.firstCreatePass&&(Jte(h,new Yte(c,l,a),-1),2==(2&l)&&(h.staticViewQueries=!0)),Kte(h,Vt(),l)}function Ci(c,l,a,h){const d=Er();if(d.firstCreatePass){const f=Ra();Jte(d,new Yte(l,a,h),f.index),function $5e(c,l){const a=c.contentQueries||(c.contentQueries=[]);l!==(a.length?a[a.length-1]:-1)&&a.push(c.queries.length-1,l)}(d,c),2==(2&a)&&(d.staticContentQueries=!0)}Kte(d,Vt(),a)}function Wt(){return function V5e(c,l){return c[Md].queries[l].queryList}(Vt(),_q())}function Kte(c,l,a){const h=new s8(4==(4&a));(function QEe(c,l,a,h){const d=AJ(l);d.push(a),c.firstCreatePass&&IJ(c).push(h,d.length-1)})(c,l,h,h.destroy),null===l[Md]&&(l[Md]=new l8),l[Md].queries.push(new a8(h))}function Jte(c,l,a){null===c.queries&&(c.queries=new c8),c.queries.track(new u8(l,a))}function ene(c,l){return c.queries.getByIndex(l)}function La(c,l){return g3(c,l)}const v8=new an("Application Initializer");let _8=(()=>{class c{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,h)=>{this.resolve=a,this.reject=h}),this.appInits=Dn(v8,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const f=d();if(KS(f))a.push(f);else if(hee(f)){const p=new Promise((g,m)=>{f.subscribe({complete:g,error:m})});a.push(p)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{h()}).catch(d=>{this.reject(d)}),0===a.length&&h(),this.initialized=!0}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),vne=(()=>{class c{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"platform"})}return c})();const Eh=new an("LocaleId",{providedIn:"root",factory:()=>Dn(Eh,pr.Optional|pr.SkipSelf)||function aRe(){return typeof $localize<"u"&&$localize.locale||ry}()});let _3=(()=>{class c{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fs(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();class uRe{constructor(l,a){this.ngModuleFactory=l,this.componentFactories=a}}let _ne=(()=>{class c{compileModuleSync(a){return new n8(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const h=this.compileModuleSync(a),f=lp(Xc(a).declarations).reduce((p,g)=>{const m=Mr(g);return m&&p.push(new jS(m)),p},[]);return new uRe(h,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const Cne=new an(""),b3=new an("");let S8,O8=(()=>{class c{constructor(a,h,d){this._ngZone=a,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,S8||(function ARe(c){S8=c}(d),d.addToWindow(h)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Di.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(a)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,h,d){let f=-1;h&&h>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==f),a(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,h,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,h,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,h,d){return[]}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(Di),Ee(C8),Ee(b3))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),C8=(()=>{class c{constructor(){this._applications=new Map}registerApplication(a,h){this._applications.set(a,h)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,h=!0){return S8?.findTestabilityInTree(this,a,h)??null}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"platform"})}return c})(),Mg=null;const Sne=new an("AllowMultipleToken"),w8=new an("PlatformDestroyListeners"),x8=new an("appBootstrapListener");class xne{constructor(l,a){this.name=l,this.token=a}}function kne(c,l,a=[]){const h=`Platform: ${l}`,d=new an(h);return(f=[])=>{let p=T8();if(!p||p.injector.get(Sne,!1)){const g=[...a,...f,{provide:d,useValue:!0}];c?c(g):function LRe(c){if(Mg&&!Mg.get(Sne,!1))throw new Ct(400,!1);(function wne(){!function b3e(c){qY=c}(()=>{throw new Ct(600,!1)})})(),Mg=c;const l=c.get(Mne);(function Tne(c){c.get(QK,null)?.forEach(a=>a())})(c)}(function Dne(c=[],l){return ws.create({name:l,providers:[{provide:nF,useValue:"platform"},{provide:w8,useValue:new Set([()=>Mg=null])},...c]})}(g,h))}return function FRe(c){const l=T8();if(!l)throw new Ct(401,!1);return l}()}}function T8(){return Mg?.get(Mne)??null}let Mne=(()=>{class c{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,h){const d=function BRe(c="zone.js",l){return"noop"===c?new kEe:"zone.js"===c?new Di(l):c}(h?.ngZone,function Ene(c){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:c?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:c?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return d.run(()=>{const f=function e5e(c,l,a){return new t8(c,l,a)}(a.moduleType,this.injector,function Lne(c){return[{provide:Di,useFactory:c},{provide:VS,multi:!0,useFactory:()=>{const l=Dn($Re,{optional:!0});return()=>l.initialize()}},{provide:Rne,useFactory:VRe},{provide:oJ,useFactory:aJ}]}(()=>d)),p=f.injector.get(op,null);return d.runOutsideAngular(()=>{const g=d.onError.subscribe({next:m=>{p.handleError(m)}});f.onDestroy(()=>{O3(this._modules,f),g.unsubscribe()})}),function Pne(c,l,a){try{const h=a();return KS(h)?h.catch(d=>{throw l.runOutsideAngular(()=>c.handleError(d)),d}):h}catch(h){throw l.runOutsideAngular(()=>c.handleError(h)),h}}(p,d,()=>{const g=f.injector.get(_8);return g.runInitializers(),g.donePromise.then(()=>(function tte(c){$u(c,"Expected localeId to be defined"),"string"==typeof c&&(ete=c.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Eh,ry)||ry),this._moduleDoBootstrap(f),f))})})}bootstrapModule(a,h=[]){const d=Ane({},h);return function IRe(c,l,a){const h=new n8(a);return Promise.resolve(h)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const h=a.injector.get(Q0);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>h.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Ct(-403,!1);a.instance.ngDoBootstrap(h)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ct(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const a=this._injector.get(w8,null);a&&(a.forEach(h=>h()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(ws))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"platform"})}return c})();function Ane(c,l){return Array.isArray(l)?l.reduce(Ane,c):{...c,...l}}let Q0=(()=>{class c{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Dn(Rne),this.zoneIsStable=Dn(oJ),this.componentTypes=[],this.components=[],this.isStable=Dn(_3).hasPendingTasks.pipe(mc(a=>a?di(!1):this.zoneIsStable),function gY(c,l=Ti){return c=c??I4e,hi((a,h)=>{let d,f=!0;a.subscribe(Wi(h,p=>{const g=l(p);(f||!c(d,g))&&(f=!1,d=g,h.next(p))}))})}(),pY()),this._injector=Dn(Kc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,h){const d=a instanceof XK;if(!this._injector.get(_8).done)throw!d&&function d_(c){const l=Mr(c)||Pa(c)||Il(c);return null!==l&&l.standalone}(a),new Ct(405,!1);let p;p=d?a:this._injector.get($_).resolveComponentFactory(a),this.componentTypes.push(p.componentType);const g=function RRe(c){return c.isBoundToModule}(p)?void 0:this._injector.get(U0),v=p.create(ws.NULL,[],h||p.selector,g),_=v.location.nativeElement,y=v.injector.get(Cne,null);return y?.registerApplication(_),v.onDestroy(()=>{this.detachView(v.hostView),O3(this.components,v),y?.unregisterApplication(_)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Ct(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const h=a;this._views.push(h),h.attachToAppRef(this)}detachView(a){const h=a;O3(this._views,h),h.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const h=this._injector.get(x8,[]);h.push(...this._bootstrapListeners),h.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>O3(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ct(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function O3(c,l){const a=c.indexOf(l);a>-1&&c.splice(a,1)}const Rne=new an("",{providedIn:"root",factory:()=>Dn(op).handleError.bind(void 0)});function VRe(){const c=Dn(Di),l=Dn(op);return a=>c.runOutsideAngular(()=>l.handleError(a))}let $Re=(()=>{class c{constructor(){this.zone=Dn(Di),this.applicationRef=Dn(Q0)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();let wo=(()=>{class c{static#e=this.__NG_ELEMENT_ID__=URe}return c})();function URe(c){return function QRe(c,l,a){if(E0(c)&&!a){const h=Yc(c.index,l);return new ZS(h,h)}return 47&c.type?new ZS(l[Co],l):null}(Ra(),Vt(),16==(16&c))}class Vne{constructor(){}supports(l){return n3(l)}create(l){return new XRe(l)}}const GRe=(c,l)=>l;class XRe{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||GRe}forEachItem(l){let a;for(a=this._itHead;null!==a;a=a._next)l(a)}forEachOperation(l){let a=this._itHead,h=this._removalsHead,d=0,f=null;for(;a||h;){const p=!h||a&&a.currentIndex<zne(h,d,f)?a:h,g=zne(p,d,f),m=p.currentIndex;if(p===h)d--,h=h._nextRemoved;else if(a=a._next,null==p.previousIndex)d++;else{f||(f=[]);const v=g-d,_=m-d;if(v!=_){for(let b=0;b<v;b++){const O=b<f.length?f[b]:f[b]=0,C=O+b;_<=C&&C<v&&(f[b]=O+1)}f[p.previousIndex]=_-v}}g!==m&&l(p,g,m)}}forEachPreviousItem(l){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)l(a)}forEachAddedItem(l){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)l(a)}forEachMovedItem(l){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)l(a)}forEachRemovedItem(l){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)l(a)}forEachIdentityChange(l){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)l(a)}diff(l){if(null==l&&(l=[]),!n3(l))throw new Ct(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let d,f,p,a=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let g=0;g<this.length;g++)f=l[g],p=this._trackByFn(g,f),null!==a&&Object.is(a.trackById,p)?(h&&(a=this._verifyReinsertion(a,f,p,g)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,p,g),h=!0),a=a._next}else d=0,function RPe(c,l){if(Array.isArray(c))for(let a=0;a<c.length;a++)l(c[a]);else{const a=c[Symbol.iterator]();let h;for(;!(h=a.next()).done;)l(h.value)}}(l,g=>{p=this._trackByFn(d,g),null!==a&&Object.is(a.trackById,p)?(h&&(a=this._verifyReinsertion(a,g,p,d)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,p,d),h=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,a,h,d){let f;return null===l?f=this._itTail:(f=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,a)||this._addIdentityChange(l,a),this._reinsertAfter(l,f,d)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,d))?(Object.is(l.item,a)||this._addIdentityChange(l,a),this._moveAfter(l,f,d)):l=this._addAfter(new YRe(a,h),f,d),l}_verifyReinsertion(l,a,h,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==f?l=this._reinsertAfter(f,l._prev,d):l.currentIndex!=d&&(l.currentIndex=d,this._addToMoves(l,d)),l}_truncate(l){for(;null!==l;){const a=l._next;this._addToRemovals(this._unlink(l)),l=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,a,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const d=l._prevRemoved,f=l._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(l,a,h),this._addToMoves(l,h),l}_moveAfter(l,a,h){return this._unlink(l),this._insertAfter(l,a,h),this._addToMoves(l,h),l}_addAfter(l,a,h){return this._insertAfter(l,a,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,a,h){const d=null===a?this._itHead:a._next;return l._next=d,l._prev=a,null===d?this._itTail=l:d._prev=l,null===a?this._itHead=l:a._next=l,null===this._linkedRecords&&(this._linkedRecords=new $ne),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const a=l._prev,h=l._next;return null===a?this._itHead=h:a._next=h,null===h?this._itTail=a:h._prev=a,l}_addToMoves(l,a){return l.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $ne),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,a){return l.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class YRe{constructor(l,a){this.item=l,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qRe{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,a){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===a||a<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const a=l._prevDup,h=l._nextDup;return null===a?this._head=h:a._nextDup=h,null===h?this._tail=a:h._prevDup=a,null===this._head}}class $ne{constructor(){this.map=new Map}put(l){const a=l.trackById;let h=this.map.get(a);h||(h=new qRe,this.map.set(a,h)),h.add(l)}get(l,a){const d=this.map.get(l);return d?d.get(l,a):null}remove(l){const a=l.trackById;return this.map.get(a).remove(l)&&this.map.delete(a),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zne(c,l,a){const h=c.previousIndex;if(null===h)return h;let d=0;return a&&h<a.length&&(d=a[h]),h+l+d}class Une{constructor(){}supports(l){return l instanceof Map||NF(l)}create(){return new KRe}}class KRe{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let a;for(a=this._mapHead;null!==a;a=a._next)l(a)}forEachPreviousItem(l){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)l(a)}forEachChangedItem(l){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)l(a)}forEachAddedItem(l){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)l(a)}forEachRemovedItem(l){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)l(a)}diff(l){if(l){if(!(l instanceof Map||NF(l)))throw new Ct(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,h),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,h);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let h=a;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,a){if(l){const h=l._prev;return a._next=l,a._prev=h,l._prev=a,h&&(h._next=a),l===this._mapHead&&(this._mapHead=a),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(l,a){if(this._records.has(l)){const d=this._records.get(l);this._maybeAddToChanges(d,a);const f=d._prev,p=d._next;return f&&(f._next=p),p&&(p._prev=f),d._next=null,d._prev=null,d}const h=new JRe(l);return this._records.set(l,h),h.currentValue=a,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,a){Object.is(a,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=a,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,a){l instanceof Map?l.forEach(a):Object.keys(l).forEach(h=>a(l[h],h))}}class JRe{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qne(){return new ay([new Vne])}let ay=(()=>{class c{static#e=this.\u0275prov=Ye({token:c,providedIn:"root",factory:Qne});constructor(a){this.factories=a}static create(a,h){if(null!=h){const d=h.factories.slice();a=a.concat(d)}return new c(a)}static extend(a){return{provide:c,useFactory:h=>c.create(a,h||Qne()),deps:[[c,new L0,new R0]]}}find(a){const h=this.factories.find(d=>d.supports(a));if(null!=h)return h;throw new Ct(901,!1)}}return c})();function Hne(){return new p2([new Une])}let p2=(()=>{class c{static#e=this.\u0275prov=Ye({token:c,providedIn:"root",factory:Hne});constructor(a){this.factories=a}static create(a,h){if(h){const d=h.factories.slice();a=a.concat(d)}return new c(a)}static extend(a){return{provide:c,useFactory:h=>c.create(a,h||Hne()),deps:[[c,new L0,new R0]]}}find(a){const h=this.factories.find(d=>d.supports(a));if(h)return h;throw new Ct(901,!1)}}return c})();const nLe=kne(null,"core",[]);let iLe=(()=>{class c{constructor(a){}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(Q0))};static#t=this.\u0275mod=jn({type:c});static#n=this.\u0275inj=Wn({})}return c})();function ly(c){return"boolean"==typeof c?c:null!=c&&"false"!==c}let A8=null;function Eg(){return A8}class vLe{}const Pr=new an("DocumentToken");let I8=(()=>{class c{historyGo(a){throw new Error("Not implemented")}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:function(){return Dn(yLe)},providedIn:"platform"})}return c})();const _Le=new an("Location Initialized");let yLe=(()=>{class c extends I8{constructor(){super(),this._doc=Dn(Pr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Eg().getBaseHref(this._doc)}onPopState(a){const h=Eg().getGlobalEventTarget(this._doc,"window");return h.addEventListener("popstate",a,!1),()=>h.removeEventListener("popstate",a)}onHashChange(a){const h=Eg().getGlobalEventTarget(this._doc,"window");return h.addEventListener("hashchange",a,!1),()=>h.removeEventListener("hashchange",a)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(a){this._location.pathname=a}pushState(a,h,d){this._history.pushState(a,h,d)}replaceState(a,h,d){this._history.replaceState(a,h,d)}forward(){this._history.forward()}back(){this._history.back()}historyGo(a=0){this._history.go(a)}getState(){return this._history.state}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:function(){return new c},providedIn:"platform"})}return c})();function R8(c,l){if(0==c.length)return l;if(0==l.length)return c;let a=0;return c.endsWith("/")&&a++,l.startsWith("/")&&a++,2==a?c+l.substring(1):1==a?c+l:c+"/"+l}function Jne(c){const l=c.match(/#|\?|$/),a=l&&l.index||c.length;return c.slice(0,a-("/"===c[a-1]?1:0))+c.slice(a)}function up(c){return c&&"?"!==c[0]?"?"+c:c}let W0=(()=>{class c{historyGo(a){throw new Error("Not implemented")}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:function(){return Dn(tie)},providedIn:"root"})}return c})();const eie=new an("appBaseHref");let tie=(()=>{class c extends W0{constructor(a,h){super(),this._platformLocation=a,this._removeListenerFns=[],this._baseHref=h??this._platformLocation.getBaseHrefFromDOM()??Dn(Pr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}getBaseHref(){return this._baseHref}prepareExternalUrl(a){return R8(this._baseHref,a)}path(a=!1){const h=this._platformLocation.pathname+up(this._platformLocation.search),d=this._platformLocation.hash;return d&&a?`${h}${d}`:h}pushState(a,h,d,f){const p=this.prepareExternalUrl(d+up(f));this._platformLocation.pushState(a,h,p)}replaceState(a,h,d,f){const p=this.prepareExternalUrl(d+up(f));this._platformLocation.replaceState(a,h,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(a=0){this._platformLocation.historyGo?.(a)}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(I8),Ee(eie,8))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),bLe=(()=>{class c extends W0{constructor(a,h){super(),this._platformLocation=a,this._baseHref="",this._removeListenerFns=[],null!=h&&(this._baseHref=h)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}getBaseHref(){return this._baseHref}path(a=!1){let h=this._platformLocation.hash;return null==h&&(h="#"),h.length>0?h.substring(1):h}prepareExternalUrl(a){const h=R8(this._baseHref,a);return h.length>0?"#"+h:h}pushState(a,h,d,f){let p=this.prepareExternalUrl(d+up(f));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(a,h,p)}replaceState(a,h,d,f){let p=this.prepareExternalUrl(d+up(f));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(a,h,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(a=0){this._platformLocation.historyGo?.(a)}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(I8),Ee(eie,8))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),L8=(()=>{class c{constructor(a){this._subject=new Tt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=a;const h=this._locationStrategy.getBaseHref();this._basePath=function SLe(c){if(new RegExp("^(https?:)?//").test(c)){const[,a]=c.split(/\/\/[^\/]+/);return a}return c}(Jne(nie(h))),this._locationStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(a=!1){return this.normalize(this._locationStrategy.path(a))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(a,h=""){return this.path()==this.normalize(a+up(h))}normalize(a){return c.stripTrailingSlash(function CLe(c,l){if(!c||!l.startsWith(c))return l;const a=l.substring(c.length);return""===a||["/",";","?","#"].includes(a[0])?a:l}(this._basePath,nie(a)))}prepareExternalUrl(a){return a&&"/"!==a[0]&&(a="/"+a),this._locationStrategy.prepareExternalUrl(a)}go(a,h="",d=null){this._locationStrategy.pushState(d,"",a,h),this._notifyUrlChangeListeners(this.prepareExternalUrl(a+up(h)),d)}replaceState(a,h="",d=null){this._locationStrategy.replaceState(d,"",a,h),this._notifyUrlChangeListeners(this.prepareExternalUrl(a+up(h)),d)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(a=0){this._locationStrategy.historyGo?.(a)}onUrlChange(a){return this._urlChangeListeners.push(a),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(h=>{this._notifyUrlChangeListeners(h.url,h.state)})),()=>{const h=this._urlChangeListeners.indexOf(a);this._urlChangeListeners.splice(h,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(a="",h){this._urlChangeListeners.forEach(d=>d(a,h))}subscribe(a,h,d){return this._subject.subscribe({next:a,error:h,complete:d})}static#e=this.normalizeQueryParams=up;static#t=this.joinWithSlash=R8;static#n=this.stripTrailingSlash=Jne;static#i=this.\u0275fac=function(h){return new(h||c)(Ee(W0))};static#r=this.\u0275prov=Ye({token:c,factory:function(){return function OLe(){return new L8(Ee(W0))}()},providedIn:"root"})}return c})();function nie(c){return c.replace(/\/index.html$/,"")}function hie(c,l){l=encodeURIComponent(l);for(const a of c.split(";")){const h=a.indexOf("="),[d,f]=-1==h?[a,""]:[a.slice(0,h),a.slice(h+1)];if(d.trim()===l)return decodeURIComponent(f)}return null}const j8=/\s+/,die=[];let ei=(()=>{class c{constructor(a,h,d,f){this._iterableDiffers=a,this._keyValueDiffers=h,this._ngEl=d,this._renderer=f,this.initialClasses=die,this.stateMap=new Map}set klass(a){this.initialClasses=null!=a?a.trim().split(j8):die}set ngClass(a){this.rawClass="string"==typeof a?a.trim().split(j8):a}ngDoCheck(){for(const h of this.initialClasses)this._updateState(h,!0);const a=this.rawClass;if(Array.isArray(a)||a instanceof Set)for(const h of a)this._updateState(h,!0);else if(null!=a)for(const h of Object.keys(a))this._updateState(h,!!a[h]);this._applyStateDiff()}_updateState(a,h){const d=this.stateMap.get(a);void 0!==d?(d.enabled!==h&&(d.changed=!0,d.enabled=h),d.touched=!0):this.stateMap.set(a,{enabled:h,changed:!0,touched:!0})}_applyStateDiff(){for(const a of this.stateMap){const h=a[0],d=a[1];d.changed?(this._toggleClass(h,d.enabled),d.changed=!1):d.touched||(d.enabled&&this._toggleClass(h,!1),this.stateMap.delete(h)),d.touched=!1}}_toggleClass(a,h){(a=a.trim()).length>0&&a.split(j8).forEach(d=>{h?this._renderer.addClass(this._ngEl.nativeElement,d):this._renderer.removeClass(this._ngEl.nativeElement,d)})}static#e=this.\u0275fac=function(h){return new(h||c)(V(ay),V(p2),V(Rn),V(ji))};static#t=this.\u0275dir=wt({type:c,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return c})();class lNe{constructor(l,a,h,d){this.$implicit=l,this.ngForOf=a,this.index=h,this.count=d}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gn=(()=>{class c{set ngForOf(a){this._ngForOf=a,this._ngForOfDirty=!0}set ngForTrackBy(a){this._trackByFn=a}get ngForTrackBy(){return this._trackByFn}constructor(a,h,d){this._viewContainer=a,this._template=h,this._differs=d,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(a){a&&(this._template=a)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const a=this._ngForOf;!this._differ&&a&&(this._differ=this._differs.find(a).create(this.ngForTrackBy))}if(this._differ){const a=this._differ.diff(this._ngForOf);a&&this._applyChanges(a)}}_applyChanges(a){const h=this._viewContainer;a.forEachOperation((d,f,p)=>{if(null==d.previousIndex)h.createEmbeddedView(this._template,new lNe(d.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)h.remove(null===f?void 0:f);else if(null!==f){const g=h.get(f);h.move(g,p),pie(g,d)}});for(let d=0,f=h.length;d<f;d++){const g=h.get(d).context;g.index=d,g.count=f,g.ngForOf=this._ngForOf}a.forEachIdentityChange(d=>{pie(h.get(d.currentIndex),d)})}static ngTemplateContextGuard(a,h){return!0}static#e=this.\u0275fac=function(h){return new(h||c)(V(ir),V(Ls),V(ay))};static#t=this.\u0275dir=wt({type:c,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return c})();function pie(c,l){c.context.$implicit=l.item}let mn=(()=>{class c{constructor(a,h){this._viewContainer=a,this._context=new cNe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=h}set ngIf(a){this._context.$implicit=this._context.ngIf=a,this._updateView()}set ngIfThen(a){gie("ngIfThen",a),this._thenTemplateRef=a,this._thenViewRef=null,this._updateView()}set ngIfElse(a){gie("ngIfElse",a),this._elseTemplateRef=a,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(a,h){return!0}static#e=this.\u0275fac=function(h){return new(h||c)(V(ir),V(Ls))};static#t=this.\u0275dir=wt({type:c,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return c})();class cNe{constructor(){this.$implicit=null,this.ngIf=null}}function gie(c,l){if(l&&!l.createEmbeddedView)throw new Error(`${c} must be a TemplateRef, but received '${jo(l)}'.`)}class G8{constructor(l,a){this._viewContainerRef=l,this._templateRef=a,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(l){l&&!this._created?this.create():!l&&this._created&&this.destroy()}}let R3=(()=>{class c{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(a){this._ngSwitch=a,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(a){this._defaultViews.push(a)}_matchCase(a){const h=a==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||h,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),h}_updateDefaultCases(a){if(this._defaultViews.length>0&&a!==this._defaultUsed){this._defaultUsed=a;for(const h of this._defaultViews)h.enforceState(a)}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275dir=wt({type:c,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return c})(),mie=(()=>{class c{constructor(a,h,d){this.ngSwitch=d,d._addCase(),this._view=new G8(a,h)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(h){return new(h||c)(V(ir),V(Ls),V(R3,9))};static#t=this.\u0275dir=wt({type:c,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return c})(),Ah=(()=>{class c{constructor(a){this._viewContainerRef=a,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(a){if(a.ngTemplateOutlet||a.ngTemplateOutletInjector){const h=this._viewContainerRef;if(this._viewRef&&h.remove(h.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:d,ngTemplateOutletContext:f,ngTemplateOutletInjector:p}=this;this._viewRef=h.createEmbeddedView(d,f,p?{injector:p}:void 0)}else this._viewRef=null}else this._viewRef&&a.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(h){return new(h||c)(V(ir))};static#t=this.\u0275dir=wt({type:c,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[So]})}return c})();class fNe{createSubscription(l,a){return eq(()=>l.subscribe({next:a,error:h=>{throw h}}))}dispose(l){eq(()=>l.unsubscribe())}}class pNe{createSubscription(l,a){return l.then(a,h=>{throw h})}dispose(l){}}const gNe=new pNe,mNe=new fNe;let X8=(()=>{class c{constructor(a){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=a}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(a){return this._obj?a!==this._obj?(this._dispose(),this.transform(a)):this._latestValue:(a&&this._subscribe(a),this._latestValue)}_subscribe(a){this._obj=a,this._strategy=this._selectStrategy(a),this._subscription=this._strategy.createSubscription(a,h=>this._updateLatestValue(a,h))}_selectStrategy(a){if(KS(a))return gNe;if(hee(a))return mNe;throw function Ih(c,l){return new Ct(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(a,h){a===this._obj&&(this._latestValue=h,this._ref.markForCheck())}static#e=this.\u0275fac=function(h){return new(h||c)(V(wo,16))};static#t=this.\u0275pipe=_c({name:"async",type:c,pure:!1,standalone:!0})}return c})(),qi=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=jn({type:c});static#n=this.\u0275inj=Wn({})}return c})();function Zr(c){return"browser"===c}function bie(c){return"server"===c}let FNe=(()=>{class c{static#e=this.\u0275prov=Ye({token:c,providedIn:"root",factory:()=>new BNe(Ee(Pr),window)})}return c})();class BNe{constructor(l,a){this.document=l,this.window=a,this.offset=()=>[0,0]}setOffset(l){this.offset=Array.isArray(l)?()=>l:l}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(l){this.supportsScrolling()&&this.window.scrollTo(l[0],l[1])}scrollToAnchor(l){if(!this.supportsScrolling())return;const a=function VNe(c,l){const a=c.getElementById(l)||c.getElementsByName(l)[0];if(a)return a;if("function"==typeof c.createTreeWalker&&c.body&&"function"==typeof c.body.attachShadow){const h=c.createTreeWalker(c.body,NodeFilter.SHOW_ELEMENT);let d=h.currentNode;for(;d;){const f=d.shadowRoot;if(f){const p=f.getElementById(l)||f.querySelector(`[name="${l}"]`);if(p)return p}d=h.nextNode()}}return null}(this.document,l);a&&(this.scrollToElement(a),a.focus())}setHistoryScrollRestoration(l){this.supportsScrolling()&&(this.window.history.scrollRestoration=l)}scrollToElement(l){const a=l.getBoundingClientRect(),h=a.left+this.window.pageXOffset,d=a.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(h-f[0],d-f[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Oie{}class lFe extends vLe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class e6 extends lFe{static makeCurrent(){!function mLe(c){A8||(A8=c)}(new e6)}onAndCancel(l,a,h){return l.addEventListener(a,h),()=>{l.removeEventListener(a,h)}}dispatchEvent(l,a){l.dispatchEvent(a)}remove(l){l.parentNode&&l.parentNode.removeChild(l)}createElement(l,a){return(a=a||this.getDefaultDocument()).createElement(l)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(l){return l.nodeType===Node.ELEMENT_NODE}isShadowRoot(l){return l instanceof DocumentFragment}getGlobalEventTarget(l,a){return"window"===a?window:"document"===a?l:"body"===a?l.body:null}getBaseHref(l){const a=function cFe(){return y2=y2||document.querySelector("base"),y2?y2.getAttribute("href"):null}();return null==a?null:function uFe(c){F3=F3||document.createElement("a"),F3.setAttribute("href",c);const l=F3.pathname;return"/"===l.charAt(0)?l:`/${l}`}(a)}resetBaseElement(){y2=null}getUserAgent(){return window.navigator.userAgent}getCookie(l){return hie(document.cookie,l)}}let F3,y2=null,dFe=(()=>{class c{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();const t6=new an("EventManagerPlugins");let Tie=(()=>{class c{constructor(a,h){this._zone=h,this._eventNameToPlugin=new Map,a.forEach(d=>{d.manager=this}),this._plugins=a.slice().reverse()}addEventListener(a,h,d){return this._findPluginFor(h).addEventListener(a,h,d)}getZone(){return this._zone}_findPluginFor(a){let h=this._eventNameToPlugin.get(a);if(h)return h;if(h=this._plugins.find(f=>f.supports(a)),!h)throw new Ct(5101,!1);return this._eventNameToPlugin.set(a,h),h}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(t6),Ee(Di))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class kie{constructor(l){this._doc=l}}const n6="ng-app-id";let Die=(()=>{class c{constructor(a,h,d,f={}){this.doc=a,this.appId=h,this.nonce=d,this.platformId=f,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bie(f),this.resetHostNodes()}addStyles(a){for(const h of a)1===this.changeUsageCount(h,1)&&this.onStyleAdded(h)}removeStyles(a){for(const h of a)this.changeUsageCount(h,-1)<=0&&this.onStyleRemoved(h)}ngOnDestroy(){const a=this.styleNodesInDOM;a&&(a.forEach(h=>h.remove()),a.clear());for(const h of this.getAllStyles())this.onStyleRemoved(h);this.resetHostNodes()}addHost(a){this.hostNodes.add(a);for(const h of this.getAllStyles())this.addStyleToHost(a,h)}removeHost(a){this.hostNodes.delete(a)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(a){for(const h of this.hostNodes)this.addStyleToHost(h,a)}onStyleRemoved(a){const h=this.styleRef;h.get(a)?.elements?.forEach(d=>d.remove()),h.delete(a)}collectServerRenderedStyles(){const a=this.doc.head?.querySelectorAll(`style[${n6}="${this.appId}"]`);if(a?.length){const h=new Map;return a.forEach(d=>{null!=d.textContent&&h.set(d.textContent,d)}),h}return null}changeUsageCount(a,h){const d=this.styleRef;if(d.has(a)){const f=d.get(a);return f.usage+=h,f.usage}return d.set(a,{usage:h,elements:[]}),h}getStyleElement(a,h){const d=this.styleNodesInDOM,f=d?.get(h);if(f?.parentNode===a)return d.delete(h),f.removeAttribute(n6),f;{const p=this.doc.createElement("style");return this.nonce&&p.setAttribute("nonce",this.nonce),p.textContent=h,this.platformIsServer&&p.setAttribute(n6,this.appId),p}}addStyleToHost(a,h){const d=this.getStyleElement(a,h);a.appendChild(d);const f=this.styleRef,p=f.get(h)?.elements;p?p.push(d):f.set(h,{elements:[d],usage:1})}resetHostNodes(){const a=this.hostNodes;a.clear(),a.add(this.doc.head)}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(Pr),Ee(Q4),Ee(WK,8),Ee(hs))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();const i6={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},r6=/%COMP%/g,mFe=new an("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Eie(c,l){return l.map(a=>a.replace(r6,c))}let s6=(()=>{class c{constructor(a,h,d,f,p,g,m,v=null){this.eventManager=a,this.sharedStylesHost=h,this.appId=d,this.removeStylesOnCompDestroy=f,this.doc=p,this.platformId=g,this.ngZone=m,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=bie(g),this.defaultRenderer=new o6(a,p,m,this.platformIsServer)}createRenderer(a,h){if(!a||!h)return this.defaultRenderer;this.platformIsServer&&h.encapsulation===zu.ShadowDom&&(h={...h,encapsulation:zu.Emulated});const d=this.getOrCreateRenderer(a,h);return d instanceof Aie?d.applyToHost(a):d instanceof a6&&d.applyStyles(),d}getOrCreateRenderer(a,h){const d=this.rendererByCompId;let f=d.get(h.id);if(!f){const p=this.doc,g=this.ngZone,m=this.eventManager,v=this.sharedStylesHost,_=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(h.encapsulation){case zu.Emulated:f=new Aie(m,v,h,this.appId,_,p,g,y);break;case zu.ShadowDom:return new bFe(m,v,a,h,p,g,this.nonce,y);default:f=new a6(m,v,h,_,p,g,y)}d.set(h.id,f)}return f}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(Tie),Ee(Die),Ee(Q4),Ee(mFe),Ee(Pr),Ee(hs),Ee(Di),Ee(WK))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class o6{constructor(l,a,h,d){this.eventManager=l,this.doc=a,this.ngZone=h,this.platformIsServer=d,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(l,a){return a?this.doc.createElementNS(i6[a]||a,l):this.doc.createElement(l)}createComment(l){return this.doc.createComment(l)}createText(l){return this.doc.createTextNode(l)}appendChild(l,a){(Pie(l)?l.content:l).appendChild(a)}insertBefore(l,a,h){l&&(Pie(l)?l.content:l).insertBefore(a,h)}removeChild(l,a){l&&l.removeChild(a)}selectRootElement(l,a){let h="string"==typeof l?this.doc.querySelector(l):l;if(!h)throw new Ct(-5104,!1);return a||(h.textContent=""),h}parentNode(l){return l.parentNode}nextSibling(l){return l.nextSibling}setAttribute(l,a,h,d){if(d){a=d+":"+a;const f=i6[d];f?l.setAttributeNS(f,a,h):l.setAttribute(a,h)}else l.setAttribute(a,h)}removeAttribute(l,a,h){if(h){const d=i6[h];d?l.removeAttributeNS(d,a):l.removeAttribute(`${h}:${a}`)}else l.removeAttribute(a)}addClass(l,a){l.classList.add(a)}removeClass(l,a){l.classList.remove(a)}setStyle(l,a,h,d){d&(xg.DashCase|xg.Important)?l.style.setProperty(a,h,d&xg.Important?"important":""):l.style[a]=h}removeStyle(l,a,h){h&xg.DashCase?l.style.removeProperty(a):l.style[a]=""}setProperty(l,a,h){l[a]=h}setValue(l,a){l.nodeValue=a}listen(l,a,h){if("string"==typeof l&&!(l=Eg().getGlobalEventTarget(this.doc,l)))throw new Error(`Unsupported event target ${l} for event ${a}`);return this.eventManager.addEventListener(l,a,this.decoratePreventDefault(h))}decoratePreventDefault(l){return a=>{if("__ngUnwrap__"===a)return l;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>l(a)):l(a))&&a.preventDefault()}}}function Pie(c){return"TEMPLATE"===c.tagName&&void 0!==c.content}class bFe extends o6{constructor(l,a,h,d,f,p,g,m){super(l,f,p,m),this.sharedStylesHost=a,this.hostEl=h,this.shadowRoot=h.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=Eie(d.id,d.styles);for(const _ of v){const y=document.createElement("style");g&&y.setAttribute("nonce",g),y.textContent=_,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(l){return l===this.hostEl?this.shadowRoot:l}appendChild(l,a){return super.appendChild(this.nodeOrShadowRoot(l),a)}insertBefore(l,a,h){return super.insertBefore(this.nodeOrShadowRoot(l),a,h)}removeChild(l,a){return super.removeChild(this.nodeOrShadowRoot(l),a)}parentNode(l){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(l)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class a6 extends o6{constructor(l,a,h,d,f,p,g,m){super(l,f,p,g),this.sharedStylesHost=a,this.removeStylesOnCompDestroy=d,this.styles=m?Eie(m,h.styles):h.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Aie extends a6{constructor(l,a,h,d,f,p,g,m){const v=d+"-"+h.id;super(l,a,h,f,p,g,m,v),this.contentAttr=function vFe(c){return"_ngcontent-%COMP%".replace(r6,c)}(v),this.hostAttr=function _Fe(c){return"_nghost-%COMP%".replace(r6,c)}(v)}applyToHost(l){this.applyStyles(),this.setAttribute(l,this.hostAttr,"")}createElement(l,a){const h=super.createElement(l,a);return super.setAttribute(h,this.contentAttr,""),h}}let OFe=(()=>{class c extends kie{constructor(a){super(a)}supports(a){return!0}addEventListener(a,h,d){return a.addEventListener(h,d,!1),()=>this.removeEventListener(a,h,d)}removeEventListener(a,h,d){return a.removeEventListener(h,d)}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(Pr))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();const Iie=["alt","control","meta","shift"],CFe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SFe={alt:c=>c.altKey,control:c=>c.ctrlKey,meta:c=>c.metaKey,shift:c=>c.shiftKey};let wFe=(()=>{class c extends kie{constructor(a){super(a)}supports(a){return null!=c.parseEventName(a)}addEventListener(a,h,d){const f=c.parseEventName(h),p=c.eventCallback(f.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Eg().onAndCancel(a,f.domEventName,p))}static parseEventName(a){const h=a.toLowerCase().split("."),d=h.shift();if(0===h.length||"keydown"!==d&&"keyup"!==d)return null;const f=c._normalizeKey(h.pop());let p="",g=h.indexOf("code");if(g>-1&&(h.splice(g,1),p="code."),Iie.forEach(v=>{const _=h.indexOf(v);_>-1&&(h.splice(_,1),p+=v+".")}),p+=f,0!=h.length||0===f.length)return null;const m={};return m.domEventName=d,m.fullKey=p,m}static matchEventFullKeyCode(a,h){let d=CFe[a.key]||a.key,f="";return h.indexOf("code.")>-1&&(d=a.code,f="code."),!(null==d||!d)&&(d=d.toLowerCase()," "===d?d="space":"."===d&&(d="dot"),Iie.forEach(p=>{p!==d&&(0,SFe[p])(a)&&(f+=p+".")}),f+=d,f===h)}static eventCallback(a,h,d){return f=>{c.matchEventFullKeyCode(f,a)&&d.runGuarded(()=>h(f))}}static _normalizeKey(a){return"esc"===a?"escape":a}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(Pr))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();const Lie=[{provide:hs,useValue:"browser"},{provide:QK,useValue:function xFe(){e6.makeCurrent()},multi:!0},{provide:Pr,useFactory:function kFe(){return function bMe(c){ZN=c}(document),document},deps:[]}],DFe=kne(nLe,"browser",Lie),MFe=new an(""),Nie=[{provide:b3,useClass:class hFe{addToWindow(l){Cs.getAngularTestability=(h,d=!0)=>{const f=l.findTestabilityInTree(h,d);if(null==f)throw new Ct(5103,!1);return f},Cs.getAllAngularTestabilities=()=>l.getAllTestabilities(),Cs.getAllAngularRootElements=()=>l.getAllRootElements(),Cs.frameworkStabilizers||(Cs.frameworkStabilizers=[]),Cs.frameworkStabilizers.push(h=>{const d=Cs.getAllAngularTestabilities();let f=d.length,p=!1;const g=function(m){p=p||m,f--,0==f&&h(p)};d.forEach(m=>{m.whenStable(g)})})}findTestabilityInTree(l,a,h){return null==a?null:l.getTestability(a)??(h?Eg().isShadowRoot(a)?this.findTestabilityInTree(l,a.host,!0):this.findTestabilityInTree(l,a.parentElement,!0):null)}},deps:[]},{provide:Cne,useClass:O8,deps:[Di,C8,b3]},{provide:O8,useClass:O8,deps:[Di,C8,b3]}],Fie=[{provide:nF,useValue:"root"},{provide:op,useFactory:function TFe(){return new op},deps:[]},{provide:t6,useClass:OFe,multi:!0,deps:[Pr,Di,hs]},{provide:t6,useClass:wFe,multi:!0,deps:[Pr]},s6,Die,Tie,{provide:U_,useExisting:s6},{provide:Oie,useClass:dFe,deps:[]},[]];let Bie=(()=>{class c{constructor(a){}static withServerTransition(a){return{ngModule:c,providers:[{provide:Q4,useValue:a.appId}]}}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(MFe,12))};static#t=this.\u0275mod=jn({type:c});static#n=this.\u0275inj=Wn({providers:[...Fie,...Nie],imports:[qi,iLe]})}return c})(),Vie=(()=>{class c{constructor(a){this._doc=a}getTitle(){return this._doc.title}setTitle(a){this._doc.title=a||""}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(Pr))};static#t=this.\u0275prov=Ye({token:c,factory:function(h){let d=null;return d=h?new h:function PFe(){return new Vie(Ee(Pr))}(),d},providedIn:"root"})}return c})();function c6(c){return!!c&&(c instanceof at||ye(c.lift)&&ye(c.subscribe))}typeof window<"u"&&window;const{isArray:NFe}=Array,{getPrototypeOf:FFe,prototype:BFe,keys:VFe}=Object;function Qie(c){if(1===c.length){const l=c[0];if(NFe(l))return{args:l,keys:null};if(function $Fe(c){return c&&"object"==typeof c&&FFe(c)===BFe}(l)){const a=VFe(l);return{args:a.map(h=>l[h]),keys:a}}}return{args:c,keys:null}}const{isArray:zFe}=Array;function u6(c){return Oi(l=>function UFe(c,l){return zFe(l)?c(...l):c(l)}(c,l))}function Hie(c,l){return c.reduce((a,h,d)=>(a[h]=l[d],a),{})}function uy(...c){const l=lS(c),a=uY(c),{args:h,keys:d}=Qie(c);if(0===h.length)return Zo([],l);const f=new at(function QFe(c,l,a=Ti){return h=>{Wie(l,()=>{const{length:d}=c,f=new Array(d);let p=d,g=d;for(let m=0;m<d;m++)Wie(l,()=>{const v=Zo(c[m],l);let _=!1;v.subscribe(Wi(h,y=>{f[m]=y,_||(_=!0,g--),g||h.next(a(f.slice()))},()=>{--p||h.complete()}))},h)},h)}}(h,l,d?p=>Hie(d,p):Ti));return a?f.pipe(u6(a)):f}function Wie(c,l,a){c?Jf(a,c,l):l()}const B3=Te(c=>function(){c(this),this.name="EmptyError",this.message="no elements in sequence"});function h6(...c){return function HFe(){return u_(1)}()(Zo(c,lS(c)))}function Zie(c){return new at(l=>{Al(c()).subscribe(l)})}function hy(c,l){const a=ye(c)?c:()=>c,h=d=>d.error(a());return new at(l?d=>l.schedule(h,0,d):h)}function d6(){return hi((c,l)=>{let a=null;c._refCount++;const h=Wi(l,void 0,void 0,void 0,()=>{if(!c||c._refCount<=0||0<--c._refCount)return void(a=null);const d=c._connection,f=a;a=null,d&&(!f||d===f)&&d.unsubscribe(),l.unsubscribe()});c.subscribe(h),h.closed||(a=c.connect())})}class jie extends at{constructor(l,a){super(),this.source=l,this.subjectFactory=a,this._subject=null,this._refCount=0,this._connection=null,fr(l)&&(this.lift=l.lift)}_subscribe(l){return this.getSubject().subscribe(l)}getSubject(){const l=this._subject;return(!l||l.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:l}=this;this._subject=this._connection=null,l?.unsubscribe()}connect(){let l=this._connection;if(!l){l=this._connection=new Fe;const a=this.getSubject();l.add(this.source.subscribe(Wi(a,void 0,()=>{this._teardown(),a.complete()},h=>{this._teardown(),a.error(h)},()=>this._teardown()))),l.closed&&(this._connection=null,l=Fe.EMPTY)}return l}refCount(){return d6()(this)}}function Rh(c){return c<=0?()=>kd:hi((l,a)=>{let h=0;l.subscribe(Wi(a,d=>{++h<=c&&(a.next(d),c<=h&&a.complete())}))})}function Ag(...c){const l=lS(c);return hi((a,h)=>{(l?h6(c,a,l):h6(c,a)).subscribe(h)})}function vs(c,l){return hi((a,h)=>{let d=0;a.subscribe(Wi(h,f=>c.call(l,f,d++)&&h.next(f)))})}function V3(c){return hi((l,a)=>{let h=!1;l.subscribe(Wi(a,d=>{h=!0,a.next(d)},()=>{h||a.next(c),a.complete()}))})}function Gie(c=WFe){return hi((l,a)=>{let h=!1;l.subscribe(Wi(a,d=>{h=!0,a.next(d)},()=>h?a.complete():a.error(c())))})}function WFe(){return new B3}function Ig(c,l){const a=arguments.length>=2;return h=>h.pipe(c?vs((d,f)=>c(d,f,h)):Ti,Rh(1),a?V3(l):Gie(()=>new B3))}function dy(c,l){return ye(l)?ma(c,l,1):ma(c,1)}function Ko(c,l,a){const h=ye(c)||l||a?{next:c,error:l,complete:a}:c;return h?hi((d,f)=>{var p;null===(p=h.subscribe)||void 0===p||p.call(h);let g=!0;d.subscribe(Wi(f,m=>{var v;null===(v=h.next)||void 0===v||v.call(h,m),f.next(m)},()=>{var m;g=!1,null===(m=h.complete)||void 0===m||m.call(h),f.complete()},m=>{var v;g=!1,null===(v=h.error)||void 0===v||v.call(h,m),f.error(m)},()=>{var m,v;g&&(null===(m=h.unsubscribe)||void 0===m||m.call(h)),null===(v=h.finalize)||void 0===v||v.call(h)}))}):Ti}function vr(c){return hi((l,a)=>{let f,h=null,d=!1;h=l.subscribe(Wi(a,void 0,void 0,p=>{f=Al(c(p,vr(c)(l))),h?(h.unsubscribe(),h=null,f.subscribe(a)):d=!0})),d&&(h.unsubscribe(),h=null,f.subscribe(a))})}function f6(c){return c<=0?()=>kd:hi((l,a)=>{let h=[];l.subscribe(Wi(a,d=>{h.push(d),c<h.length&&h.shift()},()=>{for(const d of h)a.next(d);a.complete()},void 0,()=>{h=null}))})}function b2(c){return hi((l,a)=>{try{l.subscribe(a)}finally{a.add(c)}})}function Lh(c){return hi((l,a)=>{Al(c).subscribe(Wi(a,()=>a.complete(),Me)),!a.closed&&l.subscribe(a)})}const Yi="primary",O2=Symbol("RouteTitle");class YFe{constructor(l){this.params=l||{}}has(l){return Object.prototype.hasOwnProperty.call(this.params,l)}get(l){if(this.has(l)){const a=this.params[l];return Array.isArray(a)?a[0]:a}return null}getAll(l){if(this.has(l)){const a=this.params[l];return Array.isArray(a)?a:[a]}return[]}get keys(){return Object.keys(this.params)}}function fy(c){return new YFe(c)}function qFe(c,l,a){const h=a.path.split("/");if(h.length>c.length||"full"===a.pathMatch&&(l.hasChildren()||h.length<c.length))return null;const d={};for(let f=0;f<h.length;f++){const p=h[f],g=c[f];if(p.startsWith(":"))d[p.substring(1)]=g;else if(p!==g.path)return null}return{consumed:c.slice(0,h.length),posParams:d}}function $d(c,l){const a=c?Object.keys(c):void 0,h=l?Object.keys(l):void 0;if(!a||!h||a.length!=h.length)return!1;let d;for(let f=0;f<a.length;f++)if(d=a[f],!Xie(c[d],l[d]))return!1;return!0}function Xie(c,l){if(Array.isArray(c)&&Array.isArray(l)){if(c.length!==l.length)return!1;const a=[...c].sort(),h=[...l].sort();return a.every((d,f)=>h[f]===d)}return c===l}function Yie(c){return c.length>0?c[c.length-1]:null}function Rg(c){return c6(c)?c:KS(c)?Zo(Promise.resolve(c)):di(c)}const JFe={exact:function Jie(c,l,a){if(!Z0(c.segments,l.segments)||!$3(c.segments,l.segments,a)||c.numberOfChildren!==l.numberOfChildren)return!1;for(const h in l.children)if(!c.children[h]||!Jie(c.children[h],l.children[h],a))return!1;return!0},subset:ere},qie={exact:function e8e(c,l){return $d(c,l)},subset:function t8e(c,l){return Object.keys(l).length<=Object.keys(c).length&&Object.keys(l).every(a=>Xie(c[a],l[a]))},ignored:()=>!0};function Kie(c,l,a){return JFe[a.paths](c.root,l.root,a.matrixParams)&&qie[a.queryParams](c.queryParams,l.queryParams)&&!("exact"===a.fragment&&c.fragment!==l.fragment)}function ere(c,l,a){return tre(c,l,l.segments,a)}function tre(c,l,a,h){if(c.segments.length>a.length){const d=c.segments.slice(0,a.length);return!(!Z0(d,a)||l.hasChildren()||!$3(d,a,h))}if(c.segments.length===a.length){if(!Z0(c.segments,a)||!$3(c.segments,a,h))return!1;for(const d in l.children)if(!c.children[d]||!ere(c.children[d],l.children[d],h))return!1;return!0}{const d=a.slice(0,c.segments.length),f=a.slice(c.segments.length);return!!(Z0(c.segments,d)&&$3(c.segments,d,h)&&c.children[Yi])&&tre(c.children[Yi],l,f,h)}}function $3(c,l,a){return l.every((h,d)=>qie[a](c[d].parameters,h.parameters))}class py{constructor(l=new is([],{}),a={},h=null){this.root=l,this.queryParams=a,this.fragment=h}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fy(this.queryParams)),this._queryParamMap}toString(){return r8e.serialize(this)}}class is{constructor(l,a){this.segments=l,this.children=a,this.parent=null,Object.values(a).forEach(h=>h.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return z3(this)}}class C2{constructor(l,a){this.path=l,this.parameters=a}get parameterMap(){return this._parameterMap||(this._parameterMap=fy(this.parameters)),this._parameterMap}toString(){return rre(this)}}function Z0(c,l){return c.length===l.length&&c.every((a,h)=>a.path===l[h].path)}let S2=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:function(){return new p6},providedIn:"root"})}return c})();class p6{parse(l){const a=new g8e(l);return new py(a.parseRootSegment(),a.parseQueryParams(),a.parseFragment())}serialize(l){const a=`/${w2(l.root,!0)}`,h=function a8e(c){const l=Object.keys(c).map(a=>{const h=c[a];return Array.isArray(h)?h.map(d=>`${U3(a)}=${U3(d)}`).join("&"):`${U3(a)}=${U3(h)}`}).filter(a=>!!a);return l.length?`?${l.join("&")}`:""}(l.queryParams);return`${a}${h}${"string"==typeof l.fragment?`#${function s8e(c){return encodeURI(c)}(l.fragment)}`:""}`}}const r8e=new p6;function z3(c){return c.segments.map(l=>rre(l)).join("/")}function w2(c,l){if(!c.hasChildren())return z3(c);if(l){const a=c.children[Yi]?w2(c.children[Yi],!1):"",h=[];return Object.entries(c.children).forEach(([d,f])=>{d!==Yi&&h.push(`${d}:${w2(f,!1)}`)}),h.length>0?`${a}(${h.join("//")})`:a}{const a=function i8e(c,l){let a=[];return Object.entries(c.children).forEach(([h,d])=>{h===Yi&&(a=a.concat(l(d,h)))}),Object.entries(c.children).forEach(([h,d])=>{h!==Yi&&(a=a.concat(l(d,h)))}),a}(c,(h,d)=>d===Yi?[w2(c.children[Yi],!1)]:[`${d}:${w2(h,!1)}`]);return 1===Object.keys(c.children).length&&null!=c.children[Yi]?`${z3(c)}/${a[0]}`:`${z3(c)}/(${a.join("//")})`}}function nre(c){return encodeURIComponent(c).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function U3(c){return nre(c).replace(/%3B/gi,";")}function g6(c){return nre(c).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Q3(c){return decodeURIComponent(c)}function ire(c){return Q3(c.replace(/\+/g,"%20"))}function rre(c){return`${g6(c.path)}${function o8e(c){return Object.keys(c).map(l=>`;${g6(l)}=${g6(c[l])}`).join("")}(c.parameters)}`}const l8e=/^[^\/()?;#]+/;function m6(c){const l=c.match(l8e);return l?l[0]:""}const c8e=/^[^\/()?;=#]+/,h8e=/^[^=?&#]+/,f8e=/^[^&#]+/;class g8e{constructor(l){this.url=l,this.remaining=l}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new is([],{}):new is([],this.parseChildren())}parseQueryParams(){const l={};if(this.consumeOptional("?"))do{this.parseQueryParam(l)}while(this.consumeOptional("&"));return l}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const l=[];for(this.peekStartsWith("(")||l.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),l.push(this.parseSegment());let a={};this.peekStartsWith("/(")&&(this.capture("/"),a=this.parseParens(!0));let h={};return this.peekStartsWith("(")&&(h=this.parseParens(!1)),(l.length>0||Object.keys(a).length>0)&&(h[Yi]=new is(l,a)),h}parseSegment(){const l=m6(this.remaining);if(""===l&&this.peekStartsWith(";"))throw new Ct(4009,!1);return this.capture(l),new C2(Q3(l),this.parseMatrixParams())}parseMatrixParams(){const l={};for(;this.consumeOptional(";");)this.parseParam(l);return l}parseParam(l){const a=function u8e(c){const l=c.match(c8e);return l?l[0]:""}(this.remaining);if(!a)return;this.capture(a);let h="";if(this.consumeOptional("=")){const d=m6(this.remaining);d&&(h=d,this.capture(h))}l[Q3(a)]=Q3(h)}parseQueryParam(l){const a=function d8e(c){const l=c.match(h8e);return l?l[0]:""}(this.remaining);if(!a)return;this.capture(a);let h="";if(this.consumeOptional("=")){const p=function p8e(c){const l=c.match(f8e);return l?l[0]:""}(this.remaining);p&&(h=p,this.capture(h))}const d=ire(a),f=ire(h);if(l.hasOwnProperty(d)){let p=l[d];Array.isArray(p)||(p=[p],l[d]=p),p.push(f)}else l[d]=f}parseParens(l){const a={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const h=m6(this.remaining),d=this.remaining[h.length];if("/"!==d&&")"!==d&&";"!==d)throw new Ct(4010,!1);let f;h.indexOf(":")>-1?(f=h.slice(0,h.indexOf(":")),this.capture(f),this.capture(":")):l&&(f=Yi);const p=this.parseChildren();a[f]=1===Object.keys(p).length?p[Yi]:new is([],p),this.consumeOptional("//")}return a}peekStartsWith(l){return this.remaining.startsWith(l)}consumeOptional(l){return!!this.peekStartsWith(l)&&(this.remaining=this.remaining.substring(l.length),!0)}capture(l){if(!this.consumeOptional(l))throw new Ct(4011,!1)}}function sre(c){return c.segments.length>0?new is([],{[Yi]:c}):c}function ore(c){const l={};for(const h of Object.keys(c.children)){const f=ore(c.children[h]);if(h===Yi&&0===f.segments.length&&f.hasChildren())for(const[p,g]of Object.entries(f.children))l[p]=g;else(f.segments.length>0||f.hasChildren())&&(l[h]=f)}return function m8e(c){if(1===c.numberOfChildren&&c.children[Yi]){const l=c.children[Yi];return new is(c.segments.concat(l.segments),l.children)}return c}(new is(c.segments,l))}function j0(c){return c instanceof py}function are(c){let l;const d=sre(function a(f){const p={};for(const m of f.children){const v=a(m);p[m.outlet]=v}const g=new is(f.url,p);return f===c&&(l=g),g}(c.root));return l??d}function lre(c,l,a,h){let d=c;for(;d.parent;)d=d.parent;if(0===l.length)return v6(d,d,d,a,h);const f=function _8e(c){if("string"==typeof c[0]&&1===c.length&&"/"===c[0])return new ure(!0,0,c);let l=0,a=!1;const h=c.reduce((d,f,p)=>{if("object"==typeof f&&null!=f){if(f.outlets){const g={};return Object.entries(f.outlets).forEach(([m,v])=>{g[m]="string"==typeof v?v.split("/"):v}),[...d,{outlets:g}]}if(f.segmentPath)return[...d,f.segmentPath]}return"string"!=typeof f?[...d,f]:0===p?(f.split("/").forEach((g,m)=>{0==m&&"."===g||(0==m&&""===g?a=!0:".."===g?l++:""!=g&&d.push(g))}),d):[...d,f]},[]);return new ure(a,l,h)}(l);if(f.toRoot())return v6(d,d,new is([],{}),a,h);const p=function y8e(c,l,a){if(c.isAbsolute)return new W3(l,!0,0);if(!a)return new W3(l,!1,NaN);if(null===a.parent)return new W3(a,!0,0);const h=H3(c.commands[0])?0:1;return function b8e(c,l,a){let h=c,d=l,f=a;for(;f>d;){if(f-=d,h=h.parent,!h)throw new Ct(4005,!1);d=h.segments.length}return new W3(h,!1,d-f)}(a,a.segments.length-1+h,c.numberOfDoubleDots)}(f,d,c),g=p.processChildren?T2(p.segmentGroup,p.index,f.commands):hre(p.segmentGroup,p.index,f.commands);return v6(d,p.segmentGroup,g,a,h)}function H3(c){return"object"==typeof c&&null!=c&&!c.outlets&&!c.segmentPath}function x2(c){return"object"==typeof c&&null!=c&&c.outlets}function v6(c,l,a,h,d){let p,f={};h&&Object.entries(h).forEach(([m,v])=>{f[m]=Array.isArray(v)?v.map(_=>`${_}`):`${v}`}),p=c===l?a:cre(c,l,a);const g=sre(ore(p));return new py(g,f,d)}function cre(c,l,a){const h={};return Object.entries(c.children).forEach(([d,f])=>{h[d]=f===l?a:cre(f,l,a)}),new is(c.segments,h)}class ure{constructor(l,a,h){if(this.isAbsolute=l,this.numberOfDoubleDots=a,this.commands=h,l&&h.length>0&&H3(h[0]))throw new Ct(4003,!1);const d=h.find(x2);if(d&&d!==Yie(h))throw new Ct(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class W3{constructor(l,a,h){this.segmentGroup=l,this.processChildren=a,this.index=h}}function hre(c,l,a){if(c||(c=new is([],{})),0===c.segments.length&&c.hasChildren())return T2(c,l,a);const h=function C8e(c,l,a){let h=0,d=l;const f={match:!1,pathIndex:0,commandIndex:0};for(;d<c.segments.length;){if(h>=a.length)return f;const p=c.segments[d],g=a[h];if(x2(g))break;const m=`${g}`,v=h<a.length-1?a[h+1]:null;if(d>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!fre(m,v,p))return f;h+=2}else{if(!fre(m,{},p))return f;h++}d++}return{match:!0,pathIndex:d,commandIndex:h}}(c,l,a),d=a.slice(h.commandIndex);if(h.match&&h.pathIndex<c.segments.length){const f=new is(c.segments.slice(0,h.pathIndex),{});return f.children[Yi]=new is(c.segments.slice(h.pathIndex),c.children),T2(f,0,d)}return h.match&&0===d.length?new is(c.segments,{}):h.match&&!c.hasChildren()?_6(c,l,a):h.match?T2(c,0,d):_6(c,l,a)}function T2(c,l,a){if(0===a.length)return new is(c.segments,{});{const h=function O8e(c){return x2(c[0])?c[0].outlets:{[Yi]:c}}(a),d={};if(Object.keys(h).some(f=>f!==Yi)&&c.children[Yi]&&1===c.numberOfChildren&&0===c.children[Yi].segments.length){const f=T2(c.children[Yi],l,a);return new is(c.segments,f.children)}return Object.entries(h).forEach(([f,p])=>{"string"==typeof p&&(p=[p]),null!==p&&(d[f]=hre(c.children[f],l,p))}),Object.entries(c.children).forEach(([f,p])=>{void 0===h[f]&&(d[f]=p)}),new is(c.segments,d)}}function _6(c,l,a){const h=c.segments.slice(0,l);let d=0;for(;d<a.length;){const f=a[d];if(x2(f)){const m=S8e(f.outlets);return new is(h,m)}if(0===d&&H3(a[0])){h.push(new C2(c.segments[l].path,dre(a[0]))),d++;continue}const p=x2(f)?f.outlets[Yi]:`${f}`,g=d<a.length-1?a[d+1]:null;p&&g&&H3(g)?(h.push(new C2(p,dre(g))),d+=2):(h.push(new C2(p,{})),d++)}return new is(h,{})}function S8e(c){const l={};return Object.entries(c).forEach(([a,h])=>{"string"==typeof h&&(h=[h]),null!==h&&(l[a]=_6(new is([],{}),0,h))}),l}function dre(c){const l={};return Object.entries(c).forEach(([a,h])=>l[a]=`${h}`),l}function fre(c,l,a){return c==a.path&&$d(l,a.parameters)}const k2="imperative";class zd{constructor(l,a){this.id=l,this.url=a}}class Z3 extends zd{constructor(l,a,h="imperative",d=null){super(l,a),this.type=0,this.navigationTrigger=h,this.restoredState=d}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lg extends zd{constructor(l,a,h){super(l,a),this.urlAfterRedirects=h,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class D2 extends zd{constructor(l,a,h,d){super(l,a),this.reason=h,this.code=d,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gy extends zd{constructor(l,a,h,d){super(l,a),this.reason=h,this.code=d,this.type=16}}class j3 extends zd{constructor(l,a,h,d){super(l,a),this.error=h,this.target=d,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pre extends zd{constructor(l,a,h,d){super(l,a),this.urlAfterRedirects=h,this.state=d,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w8e extends zd{constructor(l,a,h,d){super(l,a),this.urlAfterRedirects=h,this.state=d,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x8e extends zd{constructor(l,a,h,d,f){super(l,a),this.urlAfterRedirects=h,this.state=d,this.shouldActivate=f,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class T8e extends zd{constructor(l,a,h,d){super(l,a),this.urlAfterRedirects=h,this.state=d,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k8e extends zd{constructor(l,a,h,d){super(l,a),this.urlAfterRedirects=h,this.state=d,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D8e{constructor(l){this.route=l,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class M8e{constructor(l){this.route=l,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class E8e{constructor(l){this.snapshot=l,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P8e{constructor(l){this.snapshot=l,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A8e{constructor(l){this.snapshot=l,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I8e{constructor(l){this.snapshot=l,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gre{constructor(l,a,h){this.routerEvent=l,this.position=a,this.anchor=h,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class y6{}class b6{constructor(l){this.url=l}}class R8e{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new M2,this.attachRef=null}}let M2=(()=>{class c{constructor(){this.contexts=new Map}onChildOutletCreated(a,h){const d=this.getOrCreateContext(a);d.outlet=h,this.contexts.set(a,d)}onChildOutletDestroyed(a){const h=this.getContext(a);h&&(h.outlet=null,h.attachRef=null)}onOutletDeactivated(){const a=this.contexts;return this.contexts=new Map,a}onOutletReAttached(a){this.contexts=a}getOrCreateContext(a){let h=this.getContext(a);return h||(h=new R8e,this.contexts.set(a,h)),h}getContext(a){return this.contexts.get(a)||null}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();class mre{constructor(l){this._root=l}get root(){return this._root.value}parent(l){const a=this.pathFromRoot(l);return a.length>1?a[a.length-2]:null}children(l){const a=O6(l,this._root);return a?a.children.map(h=>h.value):[]}firstChild(l){const a=O6(l,this._root);return a&&a.children.length>0?a.children[0].value:null}siblings(l){const a=C6(l,this._root);return a.length<2?[]:a[a.length-2].children.map(d=>d.value).filter(d=>d!==l)}pathFromRoot(l){return C6(l,this._root).map(a=>a.value)}}function O6(c,l){if(c===l.value)return l;for(const a of l.children){const h=O6(c,a);if(h)return h}return null}function C6(c,l){if(c===l.value)return[l];for(const a of l.children){const h=C6(c,a);if(h.length)return h.unshift(l),h}return[]}class fp{constructor(l,a){this.value=l,this.children=a}toString(){return`TreeNode(${this.value})`}}function my(c){const l={};return c&&c.children.forEach(a=>l[a.value.outlet]=a),l}class vre extends mre{constructor(l,a){super(l),this.snapshot=a,S6(this,l)}toString(){return this.snapshot.toString()}}function _re(c,l){const a=function L8e(c,l){const p=new G3([],{},{},"",{},Yi,l,null,{});return new bre("",new fp(p,[]))}(0,l),h=new fs([new C2("",{})]),d=new fs({}),f=new fs({}),p=new fs({}),g=new fs(""),m=new vy(h,d,p,g,f,Yi,l,a.root);return m.snapshot=a.root,new vre(new fp(m,[]),a)}class vy{constructor(l,a,h,d,f,p,g,m){this.urlSubject=l,this.paramsSubject=a,this.queryParamsSubject=h,this.fragmentSubject=d,this.dataSubject=f,this.outlet=p,this.component=g,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(Oi(v=>v[O2]))??di(void 0),this.url=l,this.params=a,this.queryParams=h,this.fragment=d,this.data=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oi(l=>fy(l)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oi(l=>fy(l)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yre(c,l="emptyOnly"){const a=c.pathFromRoot;let h=0;if("always"!==l)for(h=a.length-1;h>=1;){const d=a[h],f=a[h-1];if(d.routeConfig&&""===d.routeConfig.path)h--;else{if(f.component)break;h--}}return function N8e(c){return c.reduce((l,a)=>({params:{...l.params,...a.params},data:{...l.data,...a.data},resolve:{...a.data,...l.resolve,...a.routeConfig?.data,...a._resolvedData}}),{params:{},data:{},resolve:{}})}(a.slice(h))}class G3{get title(){return this.data?.[O2]}constructor(l,a,h,d,f,p,g,m,v){this.url=l,this.params=a,this.queryParams=h,this.fragment=d,this.data=f,this.outlet=p,this.component=g,this.routeConfig=m,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(h=>h.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bre extends mre{constructor(l,a){super(a),this.url=l,S6(this,a)}toString(){return Ore(this._root)}}function S6(c,l){l.value._routerState=c,l.children.forEach(a=>S6(c,a))}function Ore(c){const l=c.children.length>0?` { ${c.children.map(Ore).join(", ")} } `:"";return`${c.value}${l}`}function w6(c){if(c.snapshot){const l=c.snapshot,a=c._futureSnapshot;c.snapshot=a,$d(l.queryParams,a.queryParams)||c.queryParamsSubject.next(a.queryParams),l.fragment!==a.fragment&&c.fragmentSubject.next(a.fragment),$d(l.params,a.params)||c.paramsSubject.next(a.params),function KFe(c,l){if(c.length!==l.length)return!1;for(let a=0;a<c.length;++a)if(!$d(c[a],l[a]))return!1;return!0}(l.url,a.url)||c.urlSubject.next(a.url),$d(l.data,a.data)||c.dataSubject.next(a.data)}else c.snapshot=c._futureSnapshot,c.dataSubject.next(c._futureSnapshot.data)}function x6(c,l){const a=$d(c.params,l.params)&&function n8e(c,l){return Z0(c,l)&&c.every((a,h)=>$d(a.parameters,l[h].parameters))}(c.url,l.url);return a&&!(!c.parent!=!l.parent)&&(!c.parent||x6(c.parent,l.parent))}let T6=(()=>{class c{constructor(){this.activated=null,this._activatedRoute=null,this.name=Yi,this.activateEvents=new Tt,this.deactivateEvents=new Tt,this.attachEvents=new Tt,this.detachEvents=new Tt,this.parentContexts=Dn(M2),this.location=Dn(ir),this.changeDetector=Dn(wo),this.environmentInjector=Dn(Kc),this.inputBinder=Dn(X3,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(a){if(a.name){const{firstChange:h,previousValue:d}=a.name;if(h)return;this.isTrackedInParentContexts(d)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(d)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(a){return this.parentContexts.getContext(a)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const a=this.parentContexts.getContext(this.name);a?.route&&(a.attachRef?this.attach(a.attachRef,a.route):this.activateWith(a.route,a.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ct(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ct(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ct(4012,!1);this.location.detach();const a=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(a.instance),a}attach(a,h){this.activated=a,this._activatedRoute=h,this.location.insert(a.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(a.instance)}deactivate(){if(this.activated){const a=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(a)}}activateWith(a,h){if(this.isActivated)throw new Ct(4013,!1);this._activatedRoute=a;const d=this.location,p=a.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,m=new F8e(a,g,d.injector);this.activated=d.createComponent(p,{index:d.length,injector:m,environmentInjector:h??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275dir=wt({type:c,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[So]})}return c})();class F8e{constructor(l,a,h){this.route=l,this.childContexts=a,this.parent=h}get(l,a){return l===vy?this.route:l===M2?this.childContexts:this.parent.get(l,a)}}const X3=new an("");let Cre=(()=>{class c{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(a){this.unsubscribeFromRouteData(a),this.subscribeToRouteData(a)}unsubscribeFromRouteData(a){this.outletDataSubscriptions.get(a)?.unsubscribe(),this.outletDataSubscriptions.delete(a)}subscribeToRouteData(a){const{activatedRoute:h}=a,d=uy([h.queryParams,h.params,h.data]).pipe(mc(([f,p,g],m)=>(g={...f,...p,...g},0===m?di(g):Promise.resolve(g)))).subscribe(f=>{if(!a.isActivated||!a.activatedComponentRef||a.activatedRoute!==h||null===h.component)return void this.unsubscribeFromRouteData(a);const p=function gLe(c){const l=Mr(c);if(!l)return null;const a=new jS(l);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return l.standalone},get isSignal(){return l.signals}}}(h.component);if(p)for(const{templateName:g}of p.inputs)a.activatedComponentRef.setInput(g,f[g]);else this.unsubscribeFromRouteData(a)});this.outletDataSubscriptions.set(a,d)}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();function E2(c,l,a){if(a&&c.shouldReuseRoute(l.value,a.value.snapshot)){const h=a.value;h._futureSnapshot=l.value;const d=function V8e(c,l,a){return l.children.map(h=>{for(const d of a.children)if(c.shouldReuseRoute(h.value,d.value.snapshot))return E2(c,h,d);return E2(c,h)})}(c,l,a);return new fp(h,d)}{if(c.shouldAttach(l.value)){const f=c.retrieve(l.value);if(null!==f){const p=f.route;return p.value._futureSnapshot=l.value,p.children=l.children.map(g=>E2(c,g)),p}}const h=function $8e(c){return new vy(new fs(c.url),new fs(c.params),new fs(c.queryParams),new fs(c.fragment),new fs(c.data),c.outlet,c.component,c)}(l.value),d=l.children.map(f=>E2(c,f));return new fp(h,d)}}const k6="ngNavigationCancelingError";function Sre(c,l){const{redirectTo:a,navigationBehaviorOptions:h}=j0(l)?{redirectTo:l,navigationBehaviorOptions:void 0}:l,d=wre(!1,0,l);return d.url=a,d.navigationBehaviorOptions=h,d}function wre(c,l,a){const h=new Error("NavigationCancelingError: "+(c||""));return h[k6]=!0,h.cancellationCode=l,a&&(h.url=a),h}function xre(c){return c&&c[k6]}let Tre=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=qe({type:c,selectors:[["ng-component"]],standalone:!0,features:[Dte],decls:1,vars:0,template:function(h,d){1&h&&se(0,"router-outlet")},dependencies:[T6],encapsulation:2})}return c})();function D6(c){const l=c.children&&c.children.map(D6),a=l?{...c,children:l}:{...c};return!a.component&&!a.loadComponent&&(l||a.loadChildren)&&a.outlet&&a.outlet!==Yi&&(a.component=Tre),a}function Nh(c){return c.outlet||Yi}function P2(c){if(!c)return null;if(c.routeConfig?._injector)return c.routeConfig._injector;for(let l=c.parent;l;l=l.parent){const a=l.routeConfig;if(a?._loadedInjector)return a._loadedInjector;if(a?._injector)return a._injector}return null}class G8e{constructor(l,a,h,d,f){this.routeReuseStrategy=l,this.futureState=a,this.currState=h,this.forwardEvent=d,this.inputBindingEnabled=f}activate(l){const a=this.futureState._root,h=this.currState?this.currState._root:null;this.deactivateChildRoutes(a,h,l),w6(this.futureState.root),this.activateChildRoutes(a,h,l)}deactivateChildRoutes(l,a,h){const d=my(a);l.children.forEach(f=>{const p=f.value.outlet;this.deactivateRoutes(f,d[p],h),delete d[p]}),Object.values(d).forEach(f=>{this.deactivateRouteAndItsChildren(f,h)})}deactivateRoutes(l,a,h){const d=l.value,f=a?a.value:null;if(d===f)if(d.component){const p=h.getContext(d.outlet);p&&this.deactivateChildRoutes(l,a,p.children)}else this.deactivateChildRoutes(l,a,h);else f&&this.deactivateRouteAndItsChildren(a,h)}deactivateRouteAndItsChildren(l,a){l.value.component&&this.routeReuseStrategy.shouldDetach(l.value.snapshot)?this.detachAndStoreRouteSubtree(l,a):this.deactivateRouteAndOutlet(l,a)}detachAndStoreRouteSubtree(l,a){const h=a.getContext(l.value.outlet),d=h&&l.value.component?h.children:a,f=my(l);for(const p of Object.keys(f))this.deactivateRouteAndItsChildren(f[p],d);if(h&&h.outlet){const p=h.outlet.detach(),g=h.children.onOutletDeactivated();this.routeReuseStrategy.store(l.value.snapshot,{componentRef:p,route:l,contexts:g})}}deactivateRouteAndOutlet(l,a){const h=a.getContext(l.value.outlet),d=h&&l.value.component?h.children:a,f=my(l);for(const p of Object.keys(f))this.deactivateRouteAndItsChildren(f[p],d);h&&(h.outlet&&(h.outlet.deactivate(),h.children.onOutletDeactivated()),h.attachRef=null,h.route=null)}activateChildRoutes(l,a,h){const d=my(a);l.children.forEach(f=>{this.activateRoutes(f,d[f.value.outlet],h),this.forwardEvent(new I8e(f.value.snapshot))}),l.children.length&&this.forwardEvent(new P8e(l.value.snapshot))}activateRoutes(l,a,h){const d=l.value,f=a?a.value:null;if(w6(d),d===f)if(d.component){const p=h.getOrCreateContext(d.outlet);this.activateChildRoutes(l,a,p.children)}else this.activateChildRoutes(l,a,h);else if(d.component){const p=h.getOrCreateContext(d.outlet);if(this.routeReuseStrategy.shouldAttach(d.snapshot)){const g=this.routeReuseStrategy.retrieve(d.snapshot);this.routeReuseStrategy.store(d.snapshot,null),p.children.onOutletReAttached(g.contexts),p.attachRef=g.componentRef,p.route=g.route.value,p.outlet&&p.outlet.attach(g.componentRef,g.route.value),w6(g.route.value),this.activateChildRoutes(l,null,p.children)}else{const g=P2(d.snapshot);p.attachRef=null,p.route=d,p.injector=g,p.outlet&&p.outlet.activateWith(d,p.injector),this.activateChildRoutes(l,null,p.children)}}else this.activateChildRoutes(l,null,h)}}class kre{constructor(l){this.path=l,this.route=this.path[this.path.length-1]}}class Y3{constructor(l,a){this.component=l,this.route=a}}function X8e(c,l,a){const h=c._root;return A2(h,l?l._root:null,a,[h.value])}function _y(c,l){const a=Symbol(),h=l.get(c,a);return h===a?"function"!=typeof c||function $4e(c){return null!==t4(c)}(c)?l.get(c):c:h}function A2(c,l,a,h,d={canDeactivateChecks:[],canActivateChecks:[]}){const f=my(l);return c.children.forEach(p=>{(function q8e(c,l,a,h,d={canDeactivateChecks:[],canActivateChecks:[]}){const f=c.value,p=l?l.value:null,g=a?a.getContext(c.value.outlet):null;if(p&&f.routeConfig===p.routeConfig){const m=function K8e(c,l,a){if("function"==typeof a)return a(c,l);switch(a){case"pathParamsChange":return!Z0(c.url,l.url);case"pathParamsOrQueryParamsChange":return!Z0(c.url,l.url)||!$d(c.queryParams,l.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!x6(c,l)||!$d(c.queryParams,l.queryParams);default:return!x6(c,l)}}(p,f,f.routeConfig.runGuardsAndResolvers);m?d.canActivateChecks.push(new kre(h)):(f.data=p.data,f._resolvedData=p._resolvedData),A2(c,l,f.component?g?g.children:null:a,h,d),m&&g&&g.outlet&&g.outlet.isActivated&&d.canDeactivateChecks.push(new Y3(g.outlet.component,p))}else p&&I2(l,g,d),d.canActivateChecks.push(new kre(h)),A2(c,null,f.component?g?g.children:null:a,h,d)})(p,f[p.value.outlet],a,h.concat([p.value]),d),delete f[p.value.outlet]}),Object.entries(f).forEach(([p,g])=>I2(g,a.getContext(p),d)),d}function I2(c,l,a){const h=my(c),d=c.value;Object.entries(h).forEach(([f,p])=>{I2(p,d.component?l?l.children.getContext(f):null:l,a)}),a.canDeactivateChecks.push(new Y3(d.component&&l&&l.outlet&&l.outlet.isActivated?l.outlet.component:null,d))}function R2(c){return"function"==typeof c}function Dre(c){return c instanceof B3||"EmptyError"===c?.name}const q3=Symbol("INITIAL_VALUE");function yy(){return mc(c=>uy(c.map(l=>l.pipe(Rh(1),Ag(q3)))).pipe(Oi(l=>{for(const a of l)if(!0!==a){if(a===q3)return q3;if(!1===a||a instanceof py)return a}return!0}),vs(l=>l!==q3),Rh(1)))}function Mre(c){return function ln(...c){return bi(c)}(Ko(l=>{if(j0(l))throw Sre(0,l)}),Oi(l=>!0===l))}class K3{constructor(l){this.segmentGroup=l||null}}class Ere{constructor(l){this.urlTree=l}}function by(c){return hy(new K3(c))}function Pre(c){return hy(new Ere(c))}class _6e{constructor(l,a){this.urlSerializer=l,this.urlTree=a}noMatchError(l){return new Ct(4002,!1)}lineralizeSegments(l,a){let h=[],d=a.root;for(;;){if(h=h.concat(d.segments),0===d.numberOfChildren)return di(h);if(d.numberOfChildren>1||!d.children[Yi])return hy(new Ct(4e3,!1));d=d.children[Yi]}}applyRedirectCommands(l,a,h){return this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),l,h)}applyRedirectCreateUrlTree(l,a,h,d){const f=this.createSegmentGroup(l,a.root,h,d);return new py(f,this.createQueryParams(a.queryParams,this.urlTree.queryParams),a.fragment)}createQueryParams(l,a){const h={};return Object.entries(l).forEach(([d,f])=>{if("string"==typeof f&&f.startsWith(":")){const g=f.substring(1);h[d]=a[g]}else h[d]=f}),h}createSegmentGroup(l,a,h,d){const f=this.createSegments(l,a.segments,h,d);let p={};return Object.entries(a.children).forEach(([g,m])=>{p[g]=this.createSegmentGroup(l,m,h,d)}),new is(f,p)}createSegments(l,a,h,d){return a.map(f=>f.path.startsWith(":")?this.findPosParam(l,f,d):this.findOrReturn(f,h))}findPosParam(l,a,h){const d=h[a.path.substring(1)];if(!d)throw new Ct(4001,!1);return d}findOrReturn(l,a){let h=0;for(const d of a){if(d.path===l.path)return a.splice(h),d;h++}return l}}const M6={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function y6e(c,l,a,h,d){const f=E6(c,l,a);return f.matched?(h=function U8e(c,l){return c.providers&&!c._injector&&(c._injector=i8(c.providers,l,`Route: ${c.path}`)),c._injector??l}(l,h),function g6e(c,l,a,h){const d=l.canMatch;return d&&0!==d.length?di(d.map(p=>{const g=_y(p,c);return Rg(function r6e(c){return c&&R2(c.canMatch)}(g)?g.canMatch(l,a):c.runInContext(()=>g(l,a)))})).pipe(yy(),Mre()):di(!0)}(h,l,a).pipe(Oi(p=>!0===p?f:{...M6}))):di(f)}function E6(c,l,a){if(""===l.path)return"full"===l.pathMatch&&(c.hasChildren()||a.length>0)?{...M6}:{matched:!0,consumedSegments:[],remainingSegments:a,parameters:{},positionalParamSegments:{}};const d=(l.matcher||qFe)(a,c,l);if(!d)return{...M6};const f={};Object.entries(d.posParams??{}).forEach(([g,m])=>{f[g]=m.path});const p=d.consumed.length>0?{...f,...d.consumed[d.consumed.length-1].parameters}:f;return{matched:!0,consumedSegments:d.consumed,remainingSegments:a.slice(d.consumed.length),parameters:p,positionalParamSegments:d.posParams??{}}}function Are(c,l,a,h){return a.length>0&&function C6e(c,l,a){return a.some(h=>J3(c,l,h)&&Nh(h)!==Yi)}(c,a,h)?{segmentGroup:new is(l,O6e(h,new is(a,c.children))),slicedSegments:[]}:0===a.length&&function S6e(c,l,a){return a.some(h=>J3(c,l,h))}(c,a,h)?{segmentGroup:new is(c.segments,b6e(c,0,a,h,c.children)),slicedSegments:a}:{segmentGroup:new is(c.segments,c.children),slicedSegments:a}}function b6e(c,l,a,h,d){const f={};for(const p of h)if(J3(c,a,p)&&!d[Nh(p)]){const g=new is([],{});f[Nh(p)]=g}return{...d,...f}}function O6e(c,l){const a={};a[Yi]=l;for(const h of c)if(""===h.path&&Nh(h)!==Yi){const d=new is([],{});a[Nh(h)]=d}return a}function J3(c,l,a){return(!(c.hasChildren()||l.length>0)||"full"!==a.pathMatch)&&""===a.path}class k6e{constructor(l,a,h,d,f,p,g){this.injector=l,this.configLoader=a,this.rootComponentType=h,this.config=d,this.urlTree=f,this.paramsInheritanceStrategy=p,this.urlSerializer=g,this.allowRedirects=!0,this.applyRedirects=new _6e(this.urlSerializer,this.urlTree)}noMatchError(l){return new Ct(4002,!1)}recognize(){const l=Are(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,l,Yi).pipe(vr(a=>{if(a instanceof Ere)return this.allowRedirects=!1,this.urlTree=a.urlTree,this.match(a.urlTree);throw a instanceof K3?this.noMatchError(a):a}),Oi(a=>{const h=new G3([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Yi,this.rootComponentType,null,{}),d=new fp(h,a),f=new bre("",d),p=function v8e(c,l,a=null,h=null){return lre(are(c),l,a,h)}(h,[],this.urlTree.queryParams,this.urlTree.fragment);return p.queryParams=this.urlTree.queryParams,f.url=this.urlSerializer.serialize(p),this.inheritParamsAndData(f._root),{state:f,tree:p}}))}match(l){return this.processSegmentGroup(this.injector,this.config,l.root,Yi).pipe(vr(h=>{throw h instanceof K3?this.noMatchError(h):h}))}inheritParamsAndData(l){const a=l.value,h=yre(a,this.paramsInheritanceStrategy);a.params=Object.freeze(h.params),a.data=Object.freeze(h.data),l.children.forEach(d=>this.inheritParamsAndData(d))}processSegmentGroup(l,a,h,d){return 0===h.segments.length&&h.hasChildren()?this.processChildren(l,a,h):this.processSegment(l,a,h,h.segments,d,!0)}processChildren(l,a,h){const d=[];for(const f of Object.keys(h.children))"primary"===f?d.unshift(f):d.push(f);return Zo(d).pipe(dy(f=>{const p=h.children[f],g=function Z8e(c,l){const a=c.filter(h=>Nh(h)===l);return a.push(...c.filter(h=>Nh(h)!==l)),a}(a,f);return this.processSegmentGroup(l,g,p,f)}),function jFe(c,l){return hi(function ZFe(c,l,a,h,d){return(f,p)=>{let g=a,m=l,v=0;f.subscribe(Wi(p,_=>{const y=v++;m=g?c(m,_,y):(g=!0,_),h&&p.next(m)},d&&(()=>{g&&p.next(m),p.complete()})))}}(c,l,arguments.length>=2,!0))}((f,p)=>(f.push(...p),f)),V3(null),function GFe(c,l){const a=arguments.length>=2;return h=>h.pipe(c?vs((d,f)=>c(d,f,h)):Ti,f6(1),a?V3(l):Gie(()=>new B3))}(),ma(f=>{if(null===f)return by(h);const p=Ire(f);return function D6e(c){c.sort((l,a)=>l.value.outlet===Yi?-1:a.value.outlet===Yi?1:l.value.outlet.localeCompare(a.value.outlet))}(p),di(p)}))}processSegment(l,a,h,d,f,p){return Zo(a).pipe(dy(g=>this.processSegmentAgainstRoute(g._injector??l,a,g,h,d,f,p).pipe(vr(m=>{if(m instanceof K3)return di(null);throw m}))),Ig(g=>!!g),vr(g=>{if(Dre(g))return function x6e(c,l,a){return 0===l.length&&!c.children[a]}(h,d,f)?di([]):by(h);throw g}))}processSegmentAgainstRoute(l,a,h,d,f,p,g){return function w6e(c,l,a,h){return!!(Nh(c)===h||h!==Yi&&J3(l,a,c))&&("**"===c.path||E6(l,c,a).matched)}(h,d,f,p)?void 0===h.redirectTo?this.matchSegmentAgainstRoute(l,d,h,f,p,g):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(l,d,a,h,f,p):by(d):by(d)}expandSegmentAgainstRouteUsingRedirect(l,a,h,d,f,p){return"**"===d.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(l,h,d,p):this.expandRegularSegmentAgainstRouteUsingRedirect(l,a,h,d,f,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(l,a,h,d){const f=this.applyRedirects.applyRedirectCommands([],h.redirectTo,{});return h.redirectTo.startsWith("/")?Pre(f):this.applyRedirects.lineralizeSegments(h,f).pipe(ma(p=>{const g=new is(p,{});return this.processSegment(l,a,g,p,d,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(l,a,h,d,f,p){const{matched:g,consumedSegments:m,remainingSegments:v,positionalParamSegments:_}=E6(a,d,f);if(!g)return by(a);const y=this.applyRedirects.applyRedirectCommands(m,d.redirectTo,_);return d.redirectTo.startsWith("/")?Pre(y):this.applyRedirects.lineralizeSegments(d,y).pipe(ma(b=>this.processSegment(l,h,a,b.concat(v),p,!1)))}matchSegmentAgainstRoute(l,a,h,d,f,p){let g;if("**"===h.path){const m=d.length>0?Yie(d).parameters:{};g=di({snapshot:new G3(d,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Rre(h),Nh(h),h.component??h._loadedComponent??null,h,Lre(h)),consumedSegments:[],remainingSegments:[]}),a.children={}}else g=y6e(a,h,d,l).pipe(Oi(({matched:m,consumedSegments:v,remainingSegments:_,parameters:y})=>m?{snapshot:new G3(v,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Rre(h),Nh(h),h.component??h._loadedComponent??null,h,Lre(h)),consumedSegments:v,remainingSegments:_}:null));return g.pipe(mc(m=>null===m?by(a):this.getChildConfig(l=h._injector??l,h,d).pipe(mc(({routes:v})=>{const _=h._loadedInjector??l,{snapshot:y,consumedSegments:b,remainingSegments:O}=m,{segmentGroup:C,slicedSegments:S}=Are(a,b,O,v);if(0===S.length&&C.hasChildren())return this.processChildren(_,v,C).pipe(Oi(x=>null===x?null:[new fp(y,x)]));if(0===v.length&&0===S.length)return di([new fp(y,[])]);const w=Nh(h)===f;return this.processSegment(_,v,C,S,w?Yi:f,!0).pipe(Oi(x=>[new fp(y,x)]))}))))}getChildConfig(l,a,h){return a.children?di({routes:a.children,injector:l}):a.loadChildren?void 0!==a._loadedRoutes?di({routes:a._loadedRoutes,injector:a._loadedInjector}):function p6e(c,l,a,h){const d=l.canLoad;return void 0===d||0===d.length?di(!0):di(d.map(p=>{const g=_y(p,c);return Rg(function e6e(c){return c&&R2(c.canLoad)}(g)?g.canLoad(l,a):c.runInContext(()=>g(l,a)))})).pipe(yy(),Mre())}(l,a,h).pipe(ma(d=>d?this.configLoader.loadChildren(l,a).pipe(Ko(f=>{a._loadedRoutes=f.routes,a._loadedInjector=f.injector})):function v6e(c){return hy(wre(!1,3))}())):di({routes:[],injector:l})}}function M6e(c){const l=c.value.routeConfig;return l&&""===l.path}function Ire(c){const l=[],a=new Set;for(const h of c){if(!M6e(h)){l.push(h);continue}const d=l.find(f=>h.value.routeConfig===f.value.routeConfig);void 0!==d?(d.children.push(...h.children),a.add(d)):l.push(h)}for(const h of a){const d=Ire(h.children);l.push(new fp(h.value,d))}return l.filter(h=>!a.has(h))}function Rre(c){return c.data||{}}function Lre(c){return c.resolve||{}}function Nre(c){return"string"==typeof c.title||null===c.title}function P6(c){return mc(l=>{const a=c(l);return a?Zo(a).pipe(Oi(()=>l)):di(l)})}const Oy=new an("ROUTES");let A6=(()=>{class c{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Dn(_ne)}loadComponent(a){if(this.componentLoaders.get(a))return this.componentLoaders.get(a);if(a._loadedComponent)return di(a._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(a);const h=Rg(a.loadComponent()).pipe(Oi(Fre),Ko(f=>{this.onLoadEndListener&&this.onLoadEndListener(a),a._loadedComponent=f}),b2(()=>{this.componentLoaders.delete(a)})),d=new jie(h,()=>new Pt).pipe(d6());return this.componentLoaders.set(a,d),d}loadChildren(a,h){if(this.childrenLoaders.get(h))return this.childrenLoaders.get(h);if(h._loadedRoutes)return di({routes:h._loadedRoutes,injector:h._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(h);const f=function N6e(c,l,a,h){return Rg(c.loadChildren()).pipe(Oi(Fre),ma(d=>d instanceof Tte||Array.isArray(d)?di(d):Zo(l.compileModuleAsync(d))),Oi(d=>{h&&h(c);let f,p,g=!1;return Array.isArray(d)?(p=d,!0):(f=d.create(a).injector,p=f.get(Oy,[],{optional:!0,self:!0}).flat()),{routes:p.map(D6),injector:f}}))}(h,this.compiler,a,this.onLoadEndListener).pipe(b2(()=>{this.childrenLoaders.delete(h)})),p=new jie(f,()=>new Pt).pipe(d6());return this.childrenLoaders.set(h,p),p}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function Fre(c){return function F6e(c){return c&&"object"==typeof c&&"default"in c}(c)?c.default:c}let eD=(()=>{class c{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pt,this.transitionAbortSubject=new Pt,this.configLoader=Dn(A6),this.environmentInjector=Dn(Kc),this.urlSerializer=Dn(S2),this.rootContexts=Dn(M2),this.inputBindingEnabled=null!==Dn(X3,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>di(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=d=>this.events.next(new M8e(d)),this.configLoader.onLoadStartListener=d=>this.events.next(new D8e(d))}complete(){this.transitions?.complete()}handleNavigationRequest(a){const h=++this.navigationId;this.transitions?.next({...this.transitions.value,...a,id:h})}setupNavigations(a,h,d){return this.transitions=new fs({id:0,currentUrlTree:h,currentRawUrl:h,currentBrowserUrl:h,extractedUrl:a.urlHandlingStrategy.extract(h),urlAfterRedirects:a.urlHandlingStrategy.extract(h),rawUrl:h,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:k2,restoredState:null,currentSnapshot:d.snapshot,targetSnapshot:null,currentRouterState:d,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vs(f=>0!==f.id),Oi(f=>({...f,extractedUrl:a.urlHandlingStrategy.extract(f.rawUrl)})),mc(f=>{this.currentTransition=f;let p=!1,g=!1;return di(f).pipe(Ko(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),mc(m=>{const v=m.currentBrowserUrl.toString(),_=!a.navigated||m.extractedUrl.toString()!==v||v!==m.currentUrlTree.toString();if(!_&&"reload"!==(m.extras.onSameUrlNavigation??a.onSameUrlNavigation)){const b="";return this.events.next(new gy(m.id,this.urlSerializer.serialize(m.rawUrl),b,0)),m.resolve(null),kd}if(a.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return di(m).pipe(mc(b=>{const O=this.transitions?.getValue();return this.events.next(new Z3(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),O!==this.transitions?.getValue()?kd:Promise.resolve(b)}),function E6e(c,l,a,h,d,f){return ma(p=>function T6e(c,l,a,h,d,f,p="emptyOnly"){return new k6e(c,l,a,h,d,p,f).recognize()}(c,l,a,h,p.extractedUrl,d,f).pipe(Oi(({state:g,tree:m})=>({...p,targetSnapshot:g,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,a.config,this.urlSerializer,a.paramsInheritanceStrategy),Ko(b=>{f.targetSnapshot=b.targetSnapshot,f.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects};const O=new pre(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(O)}));if(_&&a.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:b,extractedUrl:O,source:C,restoredState:S,extras:w}=m,x=new Z3(b,this.urlSerializer.serialize(O),C,S);this.events.next(x);const T=_re(0,this.rootComponentType).snapshot;return this.currentTransition=f={...m,targetSnapshot:T,urlAfterRedirects:O,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},di(f)}{const b="";return this.events.next(new gy(m.id,this.urlSerializer.serialize(m.extractedUrl),b,1)),m.resolve(null),kd}}),Ko(m=>{const v=new w8e(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),Oi(m=>(this.currentTransition=f={...m,guards:X8e(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},f)),function o6e(c,l){return ma(a=>{const{targetSnapshot:h,currentSnapshot:d,guards:{canActivateChecks:f,canDeactivateChecks:p}}=a;return 0===p.length&&0===f.length?di({...a,guardsResult:!0}):function a6e(c,l,a,h){return Zo(c).pipe(ma(d=>function f6e(c,l,a,h,d){const f=l&&l.routeConfig?l.routeConfig.canDeactivate:null;return f&&0!==f.length?di(f.map(g=>{const m=P2(l)??d,v=_y(g,m);return Rg(function i6e(c){return c&&R2(c.canDeactivate)}(v)?v.canDeactivate(c,l,a,h):m.runInContext(()=>v(c,l,a,h))).pipe(Ig())})).pipe(yy()):di(!0)}(d.component,d.route,a,l,h)),Ig(d=>!0!==d,!0))}(p,h,d,c).pipe(ma(g=>g&&function J8e(c){return"boolean"==typeof c}(g)?function l6e(c,l,a,h){return Zo(l).pipe(dy(d=>h6(function u6e(c,l){return null!==c&&l&&l(new E8e(c)),di(!0)}(d.route.parent,h),function c6e(c,l){return null!==c&&l&&l(new A8e(c)),di(!0)}(d.route,h),function d6e(c,l,a){const h=l[l.length-1],f=l.slice(0,l.length-1).reverse().map(p=>function Y8e(c){const l=c.routeConfig?c.routeConfig.canActivateChild:null;return l&&0!==l.length?{node:c,guards:l}:null}(p)).filter(p=>null!==p).map(p=>Zie(()=>di(p.guards.map(m=>{const v=P2(p.node)??a,_=_y(m,v);return Rg(function n6e(c){return c&&R2(c.canActivateChild)}(_)?_.canActivateChild(h,c):v.runInContext(()=>_(h,c))).pipe(Ig())})).pipe(yy())));return di(f).pipe(yy())}(c,d.path,a),function h6e(c,l,a){const h=l.routeConfig?l.routeConfig.canActivate:null;if(!h||0===h.length)return di(!0);const d=h.map(f=>Zie(()=>{const p=P2(l)??a,g=_y(f,p);return Rg(function t6e(c){return c&&R2(c.canActivate)}(g)?g.canActivate(l,c):p.runInContext(()=>g(l,c))).pipe(Ig())}));return di(d).pipe(yy())}(c,d.route,a))),Ig(d=>!0!==d,!0))}(h,f,c,l):di(g)),Oi(g=>({...a,guardsResult:g})))})}(this.environmentInjector,m=>this.events.next(m)),Ko(m=>{if(f.guardsResult=m.guardsResult,j0(m.guardsResult))throw Sre(0,m.guardsResult);const v=new x8e(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(v)}),vs(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",3),!1)),P6(m=>{if(m.guards.canActivateChecks.length)return di(m).pipe(Ko(v=>{const _=new T8e(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(_)}),mc(v=>{let _=!1;return di(v).pipe(function P6e(c,l){return ma(a=>{const{targetSnapshot:h,guards:{canActivateChecks:d}}=a;if(!d.length)return di(a);let f=0;return Zo(d).pipe(dy(p=>function A6e(c,l,a,h){const d=c.routeConfig,f=c._resolve;return void 0!==d?.title&&!Nre(d)&&(f[O2]=d.title),function I6e(c,l,a,h){const d=function R6e(c){return[...Object.keys(c),...Object.getOwnPropertySymbols(c)]}(c);if(0===d.length)return di({});const f={};return Zo(d).pipe(ma(p=>function L6e(c,l,a,h){const d=P2(l)??h,f=_y(c,d);return Rg(f.resolve?f.resolve(l,a):d.runInContext(()=>f(l,a)))}(c[p],l,a,h).pipe(Ig(),Ko(g=>{f[p]=g}))),f6(1),function XFe(c){return Oi(()=>c)}(f),vr(p=>Dre(p)?kd:hy(p)))}(f,c,l,h).pipe(Oi(p=>(c._resolvedData=p,c.data=yre(c,a).resolve,d&&Nre(d)&&(c.data[O2]=d.title),null)))}(p.route,h,c,l)),Ko(()=>f++),f6(1),ma(p=>f===d.length?di(a):kd))})}(a.paramsInheritanceStrategy,this.environmentInjector),Ko({next:()=>_=!0,complete:()=>{_||this.cancelNavigationTransition(v,"",2)}}))}),Ko(v=>{const _=new k8e(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(_)}))}),P6(m=>{const v=_=>{const y=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(_.routeConfig).pipe(Ko(b=>{_.component=b}),Oi(()=>{})));for(const b of _.children)y.push(...v(b));return y};return uy(v(m.targetSnapshot.root)).pipe(V3(),Rh(1))}),P6(()=>this.afterPreactivation()),Oi(m=>{const v=function B8e(c,l,a){const h=E2(c,l._root,a?a._root:void 0);return new vre(h,l)}(a.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=f={...m,targetRouterState:v},f}),Ko(()=>{this.events.next(new y6)}),((c,l,a,h)=>Oi(d=>(new G8e(l,d.targetRouterState,d.currentRouterState,a,h).activate(c),d)))(this.rootContexts,a.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),Rh(1),Ko({next:m=>{p=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Lg(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),a.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{p=!0}}),Lh(this.transitionAbortSubject.pipe(Ko(m=>{throw m}))),b2(()=>{p||g||this.cancelNavigationTransition(f,"",1),this.currentNavigation?.id===f.id&&(this.currentNavigation=null)}),vr(m=>{if(g=!0,xre(m))this.events.next(new D2(f.id,this.urlSerializer.serialize(f.extractedUrl),m.message,m.cancellationCode)),function z8e(c){return xre(c)&&j0(c.url)}(m)?this.events.next(new b6(m.url)):f.resolve(!1);else{this.events.next(new j3(f.id,this.urlSerializer.serialize(f.extractedUrl),m,f.targetSnapshot??void 0));try{f.resolve(a.errorHandler(m))}catch(v){f.reject(v)}}return kd}))}))}cancelNavigationTransition(a,h,d){const f=new D2(a.id,this.urlSerializer.serialize(a.extractedUrl),h,d);this.events.next(f),a.resolve(!1)}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function Bre(c){return c!==k2}let Vre=(()=>{class c{buildTitle(a){let h,d=a.root;for(;void 0!==d;)h=this.getResolvedTitleForRoute(d)??h,d=d.children.find(f=>f.outlet===Yi);return h}getResolvedTitleForRoute(a){return a.data[O2]}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:function(){return Dn(B6e)},providedIn:"root"})}return c})(),B6e=(()=>{class c extends Vre{constructor(a){super(),this.title=a}updateTitle(a){const h=this.buildTitle(a);void 0!==h&&this.title.setTitle(h)}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(Vie))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),V6e=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:function(){return Dn(z6e)},providedIn:"root"})}return c})();class $6e{shouldDetach(l){return!1}store(l,a){}shouldAttach(l){return!1}retrieve(l){return null}shouldReuseRoute(l,a){return l.routeConfig===a.routeConfig}}let z6e=(()=>{class c extends $6e{static#e=this.\u0275fac=function(){let a;return function(d){return(a||(a=us(c)))(d||c)}}();static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const tD=new an("",{providedIn:"root",factory:()=>({})});let U6e=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:function(){return Dn(Q6e)},providedIn:"root"})}return c})(),Q6e=(()=>{class c{shouldProcessUrl(a){return!0}extract(a){return a}merge(a,h){return a}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();var L2=function(c){return c[c.COMPLETE=0]="COMPLETE",c[c.FAILED=1]="FAILED",c[c.REDIRECTING=2]="REDIRECTING",c}(L2||{});function $re(c,l){c.events.pipe(vs(a=>a instanceof Lg||a instanceof D2||a instanceof j3||a instanceof gy),Oi(a=>a instanceof Lg||a instanceof gy?L2.COMPLETE:a instanceof D2&&(0===a.code||1===a.code)?L2.REDIRECTING:L2.FAILED),vs(a=>a!==L2.REDIRECTING),Rh(1)).subscribe(()=>{l()})}function H6e(c){throw c}function W6e(c,l,a){return l.parse("/")}const Z6e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},j6e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lo=(()=>{class c{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Dn(vne),this.isNgZoneEnabled=!1,this._events=new Pt,this.options=Dn(tD,{optional:!0})||{},this.pendingTasks=Dn(_3),this.errorHandler=this.options.errorHandler||H6e,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||W6e,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Dn(U6e),this.routeReuseStrategy=Dn(V6e),this.titleStrategy=Dn(Vre),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Dn(Oy,{optional:!0})?.flat()??[],this.navigationTransitions=Dn(eD),this.urlSerializer=Dn(S2),this.location=Dn(L8),this.componentInputBindingEnabled=!!Dn(X3,{optional:!0}),this.eventsSubscription=new Fe,this.isNgZoneEnabled=Dn(Di)instanceof Di&&Di.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new py,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_re(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(a=>{this.lastSuccessfulId=a.id,this.currentPageId=this.browserPageId},a=>{this.console.warn(`Unhandled Navigation Error: ${a}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const a=this.navigationTransitions.events.subscribe(h=>{try{const{currentTransition:d}=this.navigationTransitions;if(null===d)return void(zre(h)&&this._events.next(h));if(h instanceof Z3)Bre(d.source)&&(this.browserUrlTree=d.extractedUrl);else if(h instanceof gy)this.rawUrlTree=d.rawUrl;else if(h instanceof pre){if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}}else if(h instanceof y6)this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects);else if(h instanceof D2)0!==h.code&&1!==h.code&&(this.navigated=!0),(3===h.code||2===h.code)&&this.restoreHistory(d);else if(h instanceof b6){const f=this.urlHandlingStrategy.merge(h.url,d.currentRawUrl),p={skipLocationChange:d.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Bre(d.source)};this.scheduleNavigation(f,k2,null,p,{resolve:d.resolve,reject:d.reject,promise:d.promise})}h instanceof j3&&this.restoreHistory(d,!0),h instanceof Lg&&(this.navigated=!0),zre(h)&&this._events.next(h)}catch(d){this.navigationTransitions.transitionAbortSubject.next(d)}});this.eventsSubscription.add(a)}resetRootComponentType(a){this.routerState.root.component=a,this.navigationTransitions.rootComponentType=a}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const a=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),k2,a)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(a=>{const h="popstate"===a.type?"popstate":"hashchange";"popstate"===h&&setTimeout(()=>{this.navigateToSyncWithBrowser(a.url,h,a.state)},0)}))}navigateToSyncWithBrowser(a,h,d){const f={replaceUrl:!0},p=d?.navigationId?d:null;if(d){const m={...d};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(f.state=m)}const g=this.parseUrl(a);this.scheduleNavigation(g,h,p,f)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(a){this.config=a.map(D6),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(a,h={}){const{relativeTo:d,queryParams:f,fragment:p,queryParamsHandling:g,preserveFragment:m}=h,v=m?this.currentUrlTree.fragment:p;let y,_=null;switch(g){case"merge":_={...this.currentUrlTree.queryParams,...f};break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=f||null}null!==_&&(_=this.removeEmptyProps(_));try{y=are(d?d.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof a[0]||!a[0].startsWith("/"))&&(a=[]),y=this.currentUrlTree.root}return lre(y,a,_,v??null)}navigateByUrl(a,h={skipLocationChange:!1}){const d=j0(a)?a:this.parseUrl(a),f=this.urlHandlingStrategy.merge(d,this.rawUrlTree);return this.scheduleNavigation(f,k2,null,h)}navigate(a,h={skipLocationChange:!1}){return function G6e(c){for(let l=0;l<c.length;l++)if(null==c[l])throw new Ct(4008,!1)}(a),this.navigateByUrl(this.createUrlTree(a,h),h)}serializeUrl(a){return this.urlSerializer.serialize(a)}parseUrl(a){let h;try{h=this.urlSerializer.parse(a)}catch(d){h=this.malformedUriErrorHandler(d,this.urlSerializer,a)}return h}isActive(a,h){let d;if(d=!0===h?{...Z6e}:!1===h?{...j6e}:h,j0(a))return Kie(this.currentUrlTree,a,d);const f=this.parseUrl(a);return Kie(this.currentUrlTree,f,d)}removeEmptyProps(a){return Object.keys(a).reduce((h,d)=>{const f=a[d];return null!=f&&(h[d]=f),h},{})}scheduleNavigation(a,h,d,f,p){if(this.disposed)return Promise.resolve(!1);let g,m,v;p?(g=p.resolve,m=p.reject,v=p.promise):v=new Promise((y,b)=>{g=y,m=b});const _=this.pendingTasks.add();return $re(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_))}),this.navigationTransitions.handleNavigationRequest({source:h,restoredState:d,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:a,extras:f,resolve:g,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(y=>Promise.reject(y))}setBrowserUrl(a,h){const d=this.urlSerializer.serialize(a);if(this.location.isCurrentPathEqualTo(d)||h.extras.replaceUrl){const p={...h.extras.state,...this.generateNgRouterState(h.id,this.browserPageId)};this.location.replaceState(d,"",p)}else{const f={...h.extras.state,...this.generateNgRouterState(h.id,this.browserPageId+1)};this.location.go(d,"",f)}}restoreHistory(a,h=!1){if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-this.browserPageId;0!==f?this.location.historyGo(f):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===f&&(this.resetState(a),this.browserUrlTree=a.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(h&&this.resetState(a),this.resetUrlToCurrentUrlTree())}resetState(a){this.routerState=a.currentRouterState,this.currentUrlTree=a.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,a.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(a,h){return"computed"===this.canceledNavigationResolution?{navigationId:a,\u0275routerPageId:h}:{navigationId:a}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function zre(c){return!(c instanceof y6||c instanceof b6)}class Qre{}let Y6e=(()=>{class c{constructor(a,h,d,f,p){this.router=a,this.injector=d,this.preloadingStrategy=f,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(vs(a=>a instanceof Lg),dy(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(a,h){const d=[];for(const f of h){f.providers&&!f._injector&&(f._injector=i8(f.providers,a,`Route: ${f.path}`));const p=f._injector??a,g=f._loadedInjector??p;(f.loadChildren&&!f._loadedRoutes&&void 0===f.canLoad||f.loadComponent&&!f._loadedComponent)&&d.push(this.preloadConfig(p,f)),(f.children||f._loadedRoutes)&&d.push(this.processRoutes(g,f.children??f._loadedRoutes))}return Zo(d).pipe(u_())}preloadConfig(a,h){return this.preloadingStrategy.preload(h,()=>{let d;d=h.loadChildren&&void 0===h.canLoad?this.loader.loadChildren(a,h):di(null);const f=d.pipe(ma(p=>null===p?di(void 0):(h._loadedRoutes=p.routes,h._loadedInjector=p.injector,this.processRoutes(p.injector??a,p.routes))));return h.loadComponent&&!h._loadedComponent?Zo([f,this.loader.loadComponent(h)]).pipe(u_()):f})}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(lo),Ee(_ne),Ee(Kc),Ee(Qre),Ee(A6))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const R6=new an("");let Hre=(()=>{class c{constructor(a,h,d,f,p={}){this.urlSerializer=a,this.transitions=h,this.viewportScroller=d,this.zone=f,this.options=p,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},p.scrollPositionRestoration=p.scrollPositionRestoration||"disabled",p.anchorScrolling=p.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(a=>{a instanceof Z3?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=a.navigationTrigger,this.restoredId=a.restoredState?a.restoredState.navigationId:0):a instanceof Lg?(this.lastId=a.id,this.scheduleScrollEvent(a,this.urlSerializer.parse(a.urlAfterRedirects).fragment)):a instanceof gy&&0===a.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(a,this.urlSerializer.parse(a.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(a=>{a instanceof gre&&(a.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(a.position):a.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(a.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(a,h){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gre(a,"popstate"===this.lastSource?this.store[this.restoredId]:null,h))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(h){!function OJ(){throw new Error("invalid")}()};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();function pp(c,l){return{\u0275kind:c,\u0275providers:l}}function Zre(){const c=Dn(ws);return l=>{const a=c.get(Q0);if(l!==a.components[0])return;const h=c.get(lo),d=c.get(jre);1===c.get(L6)&&h.initialNavigation(),c.get(Gre,null,pr.Optional)?.setUpPreloading(),c.get(R6,null,pr.Optional)?.init(),h.resetRootComponentType(a.componentTypes[0]),d.closed||(d.next(),d.complete(),d.unsubscribe())}}const jre=new an("",{factory:()=>new Pt}),L6=new an("",{providedIn:"root",factory:()=>1}),Gre=new an("");function e7e(c){return pp(0,[{provide:Gre,useExisting:Y6e},{provide:Qre,useExisting:c}])}const Xre=new an("ROUTER_FORROOT_GUARD"),n7e=[L8,{provide:S2,useClass:p6},lo,M2,{provide:vy,useFactory:function Wre(c){return c.routerState.root},deps:[lo]},A6,[]];function i7e(){return new xne("Router",lo)}let Yre=(()=>{class c{constructor(a){}static forRoot(a,h){return{ngModule:c,providers:[n7e,[],{provide:Oy,multi:!0,useValue:a},{provide:Xre,useFactory:a7e,deps:[[lo,new R0,new L0]]},{provide:tD,useValue:h||{}},h?.useHash?{provide:W0,useClass:bLe}:{provide:W0,useClass:tie},{provide:R6,useFactory:()=>{const c=Dn(FNe),l=Dn(Di),a=Dn(tD),h=Dn(eD),d=Dn(S2);return a.scrollOffset&&c.setOffset(a.scrollOffset),new Hre(d,h,c,l,a)}},h?.preloadingStrategy?e7e(h.preloadingStrategy).\u0275providers:[],{provide:xne,multi:!0,useFactory:i7e},h?.initialNavigation?l7e(h):[],h?.bindToComponentInputs?pp(8,[Cre,{provide:X3,useExisting:Cre}]).\u0275providers:[],[{provide:qre,useFactory:Zre},{provide:x8,multi:!0,useExisting:qre}]]}}static forChild(a){return{ngModule:c,providers:[{provide:Oy,multi:!0,useValue:a}]}}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(Xre,8))};static#t=this.\u0275mod=jn({type:c});static#n=this.\u0275inj=Wn({})}return c})();function a7e(c){return"guarded"}function l7e(c){return["disabled"===c.initialNavigation?pp(3,[{provide:v8,multi:!0,useFactory:()=>{const l=Dn(lo);return()=>{l.setUpLocationChangeListener()}}},{provide:L6,useValue:2}]).\u0275providers:[],"enabledBlocking"===c.initialNavigation?pp(2,[{provide:L6,useValue:0},{provide:v8,multi:!0,deps:[ws],useFactory:l=>{const a=l.get(_Le,Promise.resolve());return()=>a.then(()=>new Promise(h=>{const d=l.get(lo),f=l.get(jre);$re(d,()=>{h(!0)}),l.get(eD).afterPreactivation=()=>(h(!0),f.closed?di(void 0):f),d.initialNavigation()}))}}]).\u0275providers:[]]}const qre=new an("");function js(c,l){return null==c||null==l?NaN:c<l?-1:c>l?1:c>=l?0:NaN}function Kre(c,l){return null==c||null==l?NaN:l<c?-1:l>c?1:l>=c?0:NaN}function nD(c){let l,a,h;function d(g,m,v=0,_=g.length){if(v<_){if(0!==l(m,m))return _;do{const y=v+_>>>1;a(g[y],m)<0?v=y+1:_=y}while(v<_)}return v}return 2!==c.length?(l=js,a=(g,m)=>js(c(g),m),h=(g,m)=>c(g)-m):(l=c===js||c===Kre?c:u7e,a=c,h=c),{left:d,center:function p(g,m,v=0,_=g.length){const y=d(g,m,v,_-1);return y>v&&h(g[y-1],m)>-h(g[y],m)?y-1:y},right:function f(g,m,v=0,_=g.length){if(v<_){if(0!==l(m,m))return _;do{const y=v+_>>>1;a(g[y],m)<=0?v=y+1:_=y}while(v<_)}return v}}}function u7e(){return 0}function iD(c){return null===c?NaN:+c}const Jre=nD(js),ese=Jre.right,d7e=Jre.left,f7e=nD(iD).center,G0=ese;function p7e(c,l){if(!((l=+l)>=0))throw new RangeError("invalid r");let a=c.length;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid length");if(!a||!l)return c;const h=N6(l),d=c.slice();return h(c,d,0,a,1),h(d,c,0,a,1),h(c,d,0,a,1),c}const tse=nse(N6),g7e=nse(function m7e(c){const l=N6(c);return(a,h,d,f,p)=>{l(a,h,0+(d<<=2),0+(f<<=2),p<<=2),l(a,h,d+1,f+1,p),l(a,h,d+2,f+2,p),l(a,h,d+3,f+3,p)}});function nse(c){return function(l,a,h=a){if(!((a=+a)>=0))throw new RangeError("invalid rx");if(!((h=+h)>=0))throw new RangeError("invalid ry");let{data:d,width:f,height:p}=l;if(!((f=Math.floor(f))>=0))throw new RangeError("invalid width");if(!((p=Math.floor(void 0!==p?p:d.length/f))>=0))throw new RangeError("invalid height");if(!f||!p||!a&&!h)return l;const g=a&&c(a),m=h&&c(h),v=d.slice();return g&&m?(Cy(g,v,d,f,p),Cy(g,d,v,f,p),Cy(g,v,d,f,p),Sy(m,d,v,f,p),Sy(m,v,d,f,p),Sy(m,d,v,f,p)):g?(Cy(g,d,v,f,p),Cy(g,v,d,f,p),Cy(g,d,v,f,p)):m&&(Sy(m,d,v,f,p),Sy(m,v,d,f,p),Sy(m,d,v,f,p)),l}}function Cy(c,l,a,h,d){for(let f=0,p=h*d;f<p;)c(l,a,f,f+=h,1)}function Sy(c,l,a,h,d){for(let f=0,p=h*d;f<h;++f)c(l,a,f,f+p,h)}function N6(c){const l=Math.floor(c);if(l===c)return function v7e(c){const l=2*c+1;return(a,h,d,f,p)=>{if(!((f-=p)>=d))return;let g=c*h[d];const m=p*c;for(let v=d,_=d+m;v<_;v+=p)g+=h[Math.min(f,v)];for(let v=d,_=f;v<=_;v+=p)g+=h[Math.min(f,v+m)],a[v]=g/l,g-=h[Math.max(d,v-m)]}}(c);const a=c-l,h=2*c+1;return(d,f,p,g,m)=>{if(!((g-=m)>=p))return;let v=l*f[p];const _=m*l,y=_+m;for(let b=p,O=p+_;b<O;b+=m)v+=f[Math.min(g,b)];for(let b=p,O=g;b<=O;b+=m)v+=f[Math.min(g,b+_)],d[b]=(v+a*(f[Math.max(p,b-y)]+f[Math.min(g,b+y)]))/h,v-=f[Math.max(p,b-_)]}}function rD(c,l){let a=0;if(void 0===l)for(let h of c)null!=h&&(h=+h)>=h&&++a;else{let h=-1;for(let d of c)null!=(d=l(d,++h,c))&&(d=+d)>=d&&++a}return a}function _7e(c){return 0|c.length}function y7e(c){return!(c>0)}function b7e(c){return"object"!=typeof c||"length"in c?c:Array.from(c)}function C7e(...c){const l="function"==typeof c[c.length-1]&&function O7e(c){return l=>c(...l)}(c.pop()),a=(c=c.map(b7e)).map(_7e),h=c.length-1,d=new Array(h+1).fill(0),f=[];if(h<0||a.some(y7e))return f;for(;;){f.push(d.map((g,m)=>c[m][g]));let p=h;for(;++d[p]===a[p];){if(0===p)return l?f.map(l):f;d[p--]=0}}}function S7e(c,l){var a=0,h=0;return Float64Array.from(c,void 0===l?d=>a+=+d||0:d=>a+=+l(d,h++,c)||0)}function ise(c,l){let h,a=0,d=0,f=0;if(void 0===l)for(let p of c)null!=p&&(p=+p)>=p&&(h=p-d,d+=h/++a,f+=h*(p-d));else{let p=-1;for(let g of c)null!=(g=l(g,++p,c))&&(g=+g)>=g&&(h=g-d,d+=h/++a,f+=h*(g-d))}if(a>1)return f/(a-1)}function rse(c,l){const a=ise(c,l);return a&&Math.sqrt(a)}function X0(c,l){let a,h;if(void 0===l)for(const d of c)null!=d&&(void 0===a?d>=d&&(a=h=d):(a>d&&(a=d),h<d&&(h=d)));else{let d=-1;for(let f of c)null!=(f=l(f,++d,c))&&(void 0===a?f>=f&&(a=h=f):(a>f&&(a=f),h<f&&(h=f)))}return[a,h]}class Jo{constructor(){this._partials=new Float64Array(32),this._n=0}add(l){const a=this._partials;let h=0;for(let d=0;d<this._n&&d<32;d++){const f=a[d],p=l+f,g=Math.abs(l)<Math.abs(f)?l-(p-f):f-(p-l);g&&(a[h++]=g),l=p}return a[h]=l,this._n=h+1,this}valueOf(){const l=this._partials;let h,d,f,a=this._n,p=0;if(a>0){for(p=l[--a];a>0&&(h=p,d=l[--a],p=h+d,f=d-(p-h),!f););a>0&&(f<0&&l[a-1]<0||f>0&&l[a-1]>0)&&(d=2*f,h=p+d,d==h-p&&(p=h))}return p}}function w7e(c,l){const a=new Jo;if(void 0===l)for(let h of c)(h=+h)&&a.add(h);else{let h=-1;for(let d of c)(d=+l(d,++h,c))&&a.add(d)}return+a}function x7e(c,l){const a=new Jo;let h=-1;return Float64Array.from(c,void 0===l?d=>a.add(+d||0):d=>a.add(+l(d,++h,c)||0))}class N2 extends Map{constructor(l,a=ase){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),null!=l)for(const[h,d]of l)this.set(h,d)}get(l){return super.get(F6(this,l))}has(l){return super.has(F6(this,l))}set(l,a){return super.set(sse(this,l),a)}delete(l){return super.delete(ose(this,l))}}class Y0 extends Set{constructor(l,a=ase){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),null!=l)for(const h of l)this.add(h)}has(l){return super.has(F6(this,l))}add(l){return super.add(sse(this,l))}delete(l){return super.delete(ose(this,l))}}function F6({_intern:c,_key:l},a){const h=l(a);return c.has(h)?c.get(h):a}function sse({_intern:c,_key:l},a){const h=l(a);return c.has(h)?c.get(h):(c.set(h,a),a)}function ose({_intern:c,_key:l},a){const h=l(a);return c.has(h)&&(a=c.get(h),c.delete(h)),a}function ase(c){return null!==c&&"object"==typeof c?c.valueOf():c}function wy(c){return c}function lse(c,...l){return xy(c,wy,wy,l)}function cse(c,...l){return xy(c,Array.from,wy,l)}function use(c,l){for(let a=1,h=l.length;a<h;++a)c=c.flatMap(d=>d.pop().map(([f,p])=>[...d,f,p]));return c}function T7e(c,...l){return use(cse(c,...l),l)}function k7e(c,l,...a){return use(dse(c,l,...a),a)}function hse(c,l,...a){return xy(c,wy,l,a)}function dse(c,l,...a){return xy(c,Array.from,l,a)}function D7e(c,...l){return xy(c,wy,fse,l)}function M7e(c,...l){return xy(c,Array.from,fse,l)}function fse(c){if(1!==c.length)throw new Error("duplicate key");return c[0]}function xy(c,l,a,h){return function d(f,p){if(p>=h.length)return a(f);const g=new N2,m=h[p++];let v=-1;for(const _ of f){const y=m(_,++v,f),b=g.get(y);b?b.push(_):g.set(y,[_])}for(const[_,y]of g)g.set(_,d(y,p));return l(g)}(c,0)}function pse(c,l){return Array.from(l,a=>c[a])}function B6(c,...l){if("function"!=typeof c[Symbol.iterator])throw new TypeError("values is not iterable");c=Array.from(c);let[a]=l;if(a&&2!==a.length||l.length>1){const h=Uint32Array.from(c,(d,f)=>f);return l.length>1?(l=l.map(d=>c.map(d)),h.sort((d,f)=>{for(const p of l){const g=Ty(p[d],p[f]);if(g)return g}})):(a=c.map(a),h.sort((d,f)=>Ty(a[d],a[f]))),pse(c,h)}return c.sort(V6(a))}function V6(c=js){if(c===js)return Ty;if("function"!=typeof c)throw new TypeError("compare is not a function");return(l,a)=>{const h=c(l,a);return h||0===h?h:(0===c(a,a))-(0===c(l,l))}}function Ty(c,l){return(null==c||!(c>=c))-(null==l||!(l>=l))||(c<l?-1:c>l?1:0)}function E7e(c,l,a){return(2!==l.length?B6(hse(c,l,a),([h,d],[f,p])=>js(d,p)||js(h,f)):B6(lse(c,a),([h,d],[f,p])=>l(d,p)||js(h,f))).map(([h])=>h)}var P7e=Array.prototype.slice;function $6(c){return()=>c}const A7e=Math.sqrt(50),I7e=Math.sqrt(10),R7e=Math.sqrt(2);function sD(c,l,a){const h=(l-c)/Math.max(0,a),d=Math.floor(Math.log10(h)),f=h/Math.pow(10,d),p=f>=A7e?10:f>=I7e?5:f>=R7e?2:1;let g,m,v;return d<0?(v=Math.pow(10,-d)/p,g=Math.round(c*v),m=Math.round(l*v),g/v<c&&++g,m/v>l&&--m,v=-v):(v=Math.pow(10,d)*p,g=Math.round(c/v),m=Math.round(l/v),g*v<c&&++g,m*v>l&&--m),m<g&&.5<=a&&a<2?sD(c,l,2*a):[g,m,v]}function q0(c,l,a){if(!((a=+a)>0))return[];if((c=+c)==(l=+l))return[c];const h=l<c,[d,f,p]=h?sD(l,c,a):sD(c,l,a);if(!(f>=d))return[];const g=f-d+1,m=new Array(g);if(h)if(p<0)for(let v=0;v<g;++v)m[v]=(f-v)/-p;else for(let v=0;v<g;++v)m[v]=(f-v)*p;else if(p<0)for(let v=0;v<g;++v)m[v]=(d+v)/-p;else for(let v=0;v<g;++v)m[v]=(d+v)*p;return m}function K0(c,l,a){return sD(c=+c,l=+l,a=+a)[2]}function oD(c,l,a){a=+a;const h=(l=+l)<(c=+c),d=h?K0(l,c,a):K0(c,l,a);return(h?-1:1)*(d<0?1/-d:d)}function z6(c,l,a){let h;for(;;){const d=K0(c,l,a);if(d===h||0===d||!isFinite(d))return[c,l];d>0?(c=Math.floor(c/d)*d,l=Math.ceil(l/d)*d):d<0&&(c=Math.ceil(c*d)/d,l=Math.floor(l*d)/d),h=d}}function U6(c){return Math.max(1,Math.ceil(Math.log(rD(c))/Math.LN2)+1)}function mse(){var c=wy,l=X0,a=U6;function h(d){Array.isArray(d)||(d=Array.from(d));var f,g,m,p=d.length,v=new Array(p);for(f=0;f<p;++f)v[f]=c(d[f],f,d);var _=l(v),y=_[0],b=_[1],O=a(v,y,b);if(!Array.isArray(O)){const D=b,k=+O;if(l===X0&&([y,b]=z6(y,b,k)),(O=q0(y,b,k))[0]<=y&&(m=K0(y,b,k)),O[O.length-1]>=b)if(D>=b&&l===X0){const P=K0(y,b,k);isFinite(P)&&(P>0?b=(Math.floor(b/P)+1)*P:P<0&&(b=(Math.ceil(b*-P)+1)/-P))}else O.pop()}for(var C=O.length,S=0,w=C;O[S]<=y;)++S;for(;O[w-1]>b;)--w;(S||w<C)&&(O=O.slice(S,w),C=w-S);var T,x=new Array(C+1);for(f=0;f<=C;++f)(T=x[f]=[]).x0=f>0?O[f-1]:y,T.x1=f<C?O[f]:b;if(isFinite(m)){if(m>0)for(f=0;f<p;++f)null!=(g=v[f])&&y<=g&&g<=b&&x[Math.min(C,Math.floor((g-y)/m))].push(d[f]);else if(m<0)for(f=0;f<p;++f)if(null!=(g=v[f])&&y<=g&&g<=b){const D=Math.floor((y-g)*m);x[Math.min(C,D+(O[D]<=g))].push(d[f])}}else for(f=0;f<p;++f)null!=(g=v[f])&&y<=g&&g<=b&&x[G0(O,g,0,C)].push(d[f]);return x}return h.value=function(d){return arguments.length?(c="function"==typeof d?d:$6(d),h):c},h.domain=function(d){return arguments.length?(l="function"==typeof d?d:$6([d[0],d[1]]),h):l},h.thresholds=function(d){return arguments.length?(a="function"==typeof d?d:$6(Array.isArray(d)?P7e.call(d):d),h):a},h}function F2(c,l){let a;if(void 0===l)for(const h of c)null!=h&&(a<h||void 0===a&&h>=h)&&(a=h);else{let h=-1;for(let d of c)null!=(d=l(d,++h,c))&&(a<d||void 0===a&&d>=d)&&(a=d)}return a}function Q6(c,l){let a,h=-1,d=-1;if(void 0===l)for(const f of c)++d,null!=f&&(a<f||void 0===a&&f>=f)&&(a=f,h=d);else for(let f of c)null!=(f=l(f,++d,c))&&(a<f||void 0===a&&f>=f)&&(a=f,h=d);return h}function aD(c,l){let a;if(void 0===l)for(const h of c)null!=h&&(a>h||void 0===a&&h>=h)&&(a=h);else{let h=-1;for(let d of c)null!=(d=l(d,++h,c))&&(a>d||void 0===a&&d>=d)&&(a=d)}return a}function H6(c,l){let a,h=-1,d=-1;if(void 0===l)for(const f of c)++d,null!=f&&(a>f||void 0===a&&f>=f)&&(a=f,h=d);else for(let f of c)null!=(f=l(f,++d,c))&&(a>f||void 0===a&&f>=f)&&(a=f,h=d);return h}function lD(c,l,a=0,h=1/0,d){if(l=Math.floor(l),a=Math.floor(Math.max(0,a)),h=Math.floor(Math.min(c.length-1,h)),!(a<=l&&l<=h))return c;for(d=void 0===d?Ty:V6(d);h>a;){if(h-a>600){const m=h-a+1,v=l-a+1,_=Math.log(m),y=.5*Math.exp(2*_/3),b=.5*Math.sqrt(_*y*(m-y)/m)*(v-m/2<0?-1:1);lD(c,l,Math.max(a,Math.floor(l-v*y/m+b)),Math.min(h,Math.floor(l+(m-v)*y/m+b)),d)}const f=c[l];let p=a,g=h;for(B2(c,a,l),d(c[h],f)>0&&B2(c,a,h);p<g;){for(B2(c,p,g),++p,--g;d(c[p],f)<0;)++p;for(;d(c[g],f)>0;)--g}0===d(c[a],f)?B2(c,a,g):(++g,B2(c,g,h)),g<=l&&(a=g+1),l<=g&&(h=g-1)}return c}function B2(c,l,a){const h=c[l];c[l]=c[a],c[a]=h}function vse(c,l=js){let a,h=!1;if(1===l.length){let d;for(const f of c){const p=l(f);(h?js(p,d)>0:0===js(p,p))&&(a=f,d=p,h=!0)}}else for(const d of c)(h?l(d,a)>0:0===l(d,d))&&(a=d,h=!0);return a}function V2(c,l,a){if(c=Float64Array.from(function*h7e(c,l){if(void 0===l)for(let a of c)null!=a&&(a=+a)>=a&&(yield a);else{let a=-1;for(let h of c)null!=(h=l(h,++a,c))&&(h=+h)>=h&&(yield h)}}(c,a)),(h=c.length)&&!isNaN(l=+l)){if(l<=0||h<2)return aD(c);if(l>=1)return F2(c);var h,d=(h-1)*l,f=Math.floor(d),p=F2(lD(c,f).subarray(0,f+1));return p+(aD(c.subarray(f+1))-p)*(d-f)}}function _se(c,l,a=iD){if((h=c.length)&&!isNaN(l=+l)){if(l<=0||h<2)return+a(c[0],0,c);if(l>=1)return+a(c[h-1],h-1,c);var h,d=(h-1)*l,f=Math.floor(d),p=+a(c[f],f,c);return p+(+a(c[f+1],f+1,c)-p)*(d-f)}}function yse(c,l,a=iD){if(!isNaN(l=+l)){if(h=Float64Array.from(c,(g,m)=>iD(a(c[m],m,c))),l<=0)return H6(h);if(l>=1)return Q6(h);var h,d=Uint32Array.from(c,(g,m)=>m),f=h.length-1,p=Math.floor(f*l);return lD(d,p,0,f,(g,m)=>Ty(h[g],h[m])),(p=vse(d.subarray(0,p+1),g=>h[g]))>=0?p:-1}}function L7e(c,l,a){const h=rD(c),d=V2(c,.75)-V2(c,.25);return h&&d?Math.ceil((a-l)/(2*d*Math.pow(h,-1/3))):1}function N7e(c,l,a){const h=rD(c),d=rse(c);return h&&d?Math.ceil((a-l)*Math.cbrt(h)/(3.49*d)):1}function F7e(c,l){let a=0,h=0;if(void 0===l)for(let d of c)null!=d&&(d=+d)>=d&&(++a,h+=d);else{let d=-1;for(let f of c)null!=(f=l(f,++d,c))&&(f=+f)>=f&&(++a,h+=f)}if(a)return h/a}function B7e(c,l){return V2(c,.5,l)}function V7e(c,l){return yse(c,.5,l)}function W6(c){return Array.from(function*$7e(c){for(const l of c)yield*l}(c))}function z7e(c,l){const a=new N2;if(void 0===l)for(let f of c)null!=f&&f>=f&&a.set(f,(a.get(f)||0)+1);else{let f=-1;for(let p of c)null!=(p=l(p,++f,c))&&p>=p&&a.set(p,(a.get(p)||0)+1)}let h,d=0;for(const[f,p]of a)p>d&&(d=p,h=f);return h}function U7e(c,l=Q7e){const a=[];let h,d=!1;for(const f of c)d&&a.push(l(h,f)),h=f,d=!0;return a}function Q7e(c,l){return[c,l]}function Gu(c,l,a){c=+c,l=+l,a=(d=arguments.length)<2?(l=c,c=0,1):d<3?1:+a;for(var h=-1,d=0|Math.max(0,Math.ceil((l-c)/a)),f=new Array(d);++h<d;)f[h]=c+h*a;return f}function H7e(c,l=js){if("function"!=typeof c[Symbol.iterator])throw new TypeError("values is not iterable");let a=Array.from(c);const h=new Float64Array(a.length);2!==l.length&&(a=a.map(l),l=js);const d=(g,m)=>l(a[g],a[m]);let f,p;return(c=Uint32Array.from(a,(g,m)=>m)).sort(l===js?(g,m)=>Ty(a[g],a[m]):V6(d)),c.forEach((g,m)=>{const v=d(g,void 0===f?g:f);v>=0?((void 0===f||v>0)&&(f=g,p=m),h[g]=p):h[g]=NaN}),h}function W7e(c,l=js){let a,h=!1;if(1===l.length){let d;for(const f of c){const p=l(f);(h?js(p,d)<0:0===js(p,p))&&(a=f,d=p,h=!0)}}else for(const d of c)(h?l(d,a)<0:0===l(d,d))&&(a=d,h=!0);return a}function bse(c,l=js){if(1===l.length)return H6(c,l);let a,h=-1,d=-1;for(const f of c)++d,(h<0?0===l(f,f):l(f,a)<0)&&(a=f,h=d);return h}function Z7e(c,l=js){if(1===l.length)return Q6(c,l);let a,h=-1,d=-1;for(const f of c)++d,(h<0?0===l(f,f):l(f,a)>0)&&(a=f,h=d);return h}function j7e(c,l){const a=bse(c,l);return a<0?void 0:a}const Ose=Cse(Math.random);function Cse(c){return function(a,h=0,d=a.length){let f=d-(h=+h);for(;f;){const p=c()*f--|0,g=a[f+h];a[f+h]=a[p+h],a[p+h]=g}return a}}function G7e(c,l){let a=0;if(void 0===l)for(let h of c)(h=+h)&&(a+=h);else{let h=-1;for(let d of c)(d=+l(d,++h,c))&&(a+=d)}return a}function Sse(c){if(!(f=c.length))return[];for(var l=-1,a=aD(c,X7e),h=new Array(a);++l<a;)for(var f,d=-1,p=h[l]=new Array(f);++d<f;)p[d]=c[d][l];return h}function X7e(c){return c.length}function wse(){return Sse(arguments)}function Y7e(c,l){if("function"!=typeof l)throw new TypeError("test is not a function");let a=-1;for(const h of c)if(!l(h,++a,c))return!1;return!0}function q7e(c,l){if("function"!=typeof l)throw new TypeError("test is not a function");let a=-1;for(const h of c)if(l(h,++a,c))return!0;return!1}function K7e(c,l){if("function"!=typeof l)throw new TypeError("test is not a function");const a=[];let h=-1;for(const d of c)l(d,++h,c)&&a.push(d);return a}function J7e(c,l){if("function"!=typeof c[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof l)throw new TypeError("mapper is not a function");return Array.from(c,(a,h)=>l(a,h,c))}function eBe(c,l,a){if("function"!=typeof l)throw new TypeError("reducer is not a function");const h=c[Symbol.iterator]();let d,f,p=-1;if(arguments.length<3){if(({done:d,value:a}=h.next()),d)return;++p}for(;({done:d,value:f}=h.next()),!d;)a=l(a,f,++p,c);return a}function tBe(c){if("function"!=typeof c[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(c).reverse()}function nBe(c,...l){c=new Y0(c);for(const a of l)for(const h of a)c.delete(h);return c}function iBe(c,l){const a=l[Symbol.iterator](),h=new Y0;for(const d of c){if(h.has(d))return!1;let f,p;for(;({value:f,done:p}=a.next())&&!p;){if(Object.is(d,f))return!1;h.add(f)}}return!0}function rBe(c,...l){c=new Y0(c),l=l.map(sBe);e:for(const a of c)for(const h of l)if(!h.has(a)){c.delete(a);continue e}return c}function sBe(c){return c instanceof Y0?c:new Y0(c)}function xse(c,l){const a=c[Symbol.iterator](),h=new Set;for(const d of l){const f=Tse(d);if(h.has(f))continue;let p,g;for(;({value:p,done:g}=a.next());){if(g)return!1;const m=Tse(p);if(h.add(m),Object.is(f,m))break}}return!0}function Tse(c){return null!==c&&"object"==typeof c?c.valueOf():c}function oBe(c,l){return xse(l,c)}function aBe(...c){const l=new Y0;for(const a of c)for(const h of a)l.add(h);return l}function lBe(c){return c}var cD=1,uD=2,Z6=3,$2=4,kse=1e-6;function cBe(c){return"translate("+c+",0)"}function uBe(c){return"translate(0,"+c+")"}function hBe(c){return l=>+c(l)}function dBe(c,l){return l=Math.max(0,c.bandwidth()-2*l)/2,c.round()&&(l=Math.round(l)),a=>+c(a)+l}function fBe(){return!this.__axis}function hD(c,l){var a=[],h=null,d=null,f=6,p=6,g=3,m=typeof window<"u"&&window.devicePixelRatio>1?0:.5,v=c===cD||c===$2?-1:1,_=c===$2||c===uD?"x":"y",y=c===cD||c===Z6?cBe:uBe;function b(O){var C=h??(l.ticks?l.ticks.apply(l,a):l.domain()),S=d??(l.tickFormat?l.tickFormat.apply(l,a):lBe),w=Math.max(f,0)+g,x=l.range(),T=+x[0]+m,D=+x[x.length-1]+m,k=(l.bandwidth?dBe:hBe)(l.copy(),m),P=O.selection?O.selection():O,N=P.selectAll(".domain").data([null]),F=P.selectAll(".tick").data(C,l).order(),L=F.exit(),$=F.enter().append("g").attr("class","tick"),U=F.select("line"),z=F.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),F=F.merge($),U=U.merge($.append("line").attr("stroke","currentColor").attr(_+"2",v*f)),z=z.merge($.append("text").attr("fill","currentColor").attr(_,v*w).attr("dy",c===cD?"0em":c===Z6?"0.71em":"0.32em")),O!==P&&(N=N.transition(O),F=F.transition(O),U=U.transition(O),z=z.transition(O),L=L.transition(O).attr("opacity",kse).attr("transform",function(ee){return isFinite(ee=k(ee))?y(ee+m):this.getAttribute("transform")}),$.attr("opacity",kse).attr("transform",function(ee){var te=this.parentNode.__axis;return y((te&&isFinite(te=te(ee))?te:k(ee))+m)})),L.remove(),N.attr("d",c===$2||c===uD?p?"M"+v*p+","+T+"H"+m+"V"+D+"H"+v*p:"M"+m+","+T+"V"+D:p?"M"+T+","+v*p+"V"+m+"H"+D+"V"+v*p:"M"+T+","+m+"H"+D),F.attr("opacity",1).attr("transform",function(ee){return y(k(ee)+m)}),U.attr(_+"2",v*f),z.attr(_,v*w).text(S),P.filter(fBe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",c===uD?"start":c===$2?"end":"middle"),P.each(function(){this.__axis=k})}return b.scale=function(O){return arguments.length?(l=O,b):l},b.ticks=function(){return a=Array.from(arguments),b},b.tickArguments=function(O){return arguments.length?(a=null==O?[]:Array.from(O),b):a.slice()},b.tickValues=function(O){return arguments.length?(h=null==O?null:Array.from(O),b):h&&h.slice()},b.tickFormat=function(O){return arguments.length?(d=O,b):d},b.tickSize=function(O){return arguments.length?(f=p=+O,b):f},b.tickSizeInner=function(O){return arguments.length?(f=+O,b):f},b.tickSizeOuter=function(O){return arguments.length?(p=+O,b):p},b.tickPadding=function(O){return arguments.length?(g=+O,b):g},b.offset=function(O){return arguments.length?(m=+O,b):m},b}function pBe(c){return hD(cD,c)}function gBe(c){return hD(uD,c)}function mBe(c){return hD(Z6,c)}function vBe(c){return hD($2,c)}var _Be={value:()=>{}};function Dse(){for(var h,c=0,l=arguments.length,a={};c<l;++c){if(!(h=arguments[c]+"")||h in a||/[\s.]/.test(h))throw new Error("illegal type: "+h);a[h]=[]}return new dD(a)}function dD(c){this._=c}function bBe(c,l){for(var d,a=0,h=c.length;a<h;++a)if((d=c[a]).name===l)return d.value}function Mse(c,l,a){for(var h=0,d=c.length;h<d;++h)if(c[h].name===l){c[h]=_Be,c=c.slice(0,h).concat(c.slice(h+1));break}return null!=a&&c.push({name:l,value:a}),c}dD.prototype=Dse.prototype={constructor:dD,on:function(c,l){var d,a=this._,h=function yBe(c,l){return c.trim().split(/^|\s+/).map(function(a){var h="",d=a.indexOf(".");if(d>=0&&(h=a.slice(d+1),a=a.slice(0,d)),a&&!l.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:h}})}(c+"",a),f=-1,p=h.length;if(!(arguments.length<2)){if(null!=l&&"function"!=typeof l)throw new Error("invalid callback: "+l);for(;++f<p;)if(d=(c=h[f]).type)a[d]=Mse(a[d],c.name,l);else if(null==l)for(d in a)a[d]=Mse(a[d],c.name,null);return this}for(;++f<p;)if((d=(c=h[f]).type)&&(d=bBe(a[d],c.name)))return d},copy:function(){var c={},l=this._;for(var a in l)c[a]=l[a].slice();return new dD(c)},call:function(c,l){if((d=arguments.length-2)>0)for(var d,f,a=new Array(d),h=0;h<d;++h)a[h]=arguments[h+2];if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(h=0,d=(f=this._[c]).length;h<d;++h)f[h].value.apply(l,a)},apply:function(c,l,a){if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(var h=this._[c],d=0,f=h.length;d<f;++d)h[d].value.apply(l,a)}};const ky=Dse;function OBe(){}function fD(c){return null==c?OBe:function(){return this.querySelector(c)}}function Ese(c){return null==c?[]:Array.isArray(c)?c:Array.from(c)}function SBe(){return[]}function j6(c){return null==c?SBe:function(){return this.querySelectorAll(c)}}function G6(c){return function(){return this.matches(c)}}function Pse(c){return function(l){return l.matches(c)}}var TBe=Array.prototype.find;function DBe(){return this.firstElementChild}var EBe=Array.prototype.filter;function PBe(){return Array.from(this.children)}function Ase(c){return new Array(c.length)}function pD(c,l){this.ownerDocument=c.ownerDocument,this.namespaceURI=c.namespaceURI,this._next=null,this._parent=c,this.__data__=l}function FBe(c,l,a,h,d,f){for(var g,p=0,m=l.length,v=f.length;p<v;++p)(g=l[p])?(g.__data__=f[p],h[p]=g):a[p]=new pD(c,f[p]);for(;p<m;++p)(g=l[p])&&(d[p]=g)}function BBe(c,l,a,h,d,f,p){var g,m,O,v=new Map,_=l.length,y=f.length,b=new Array(_);for(g=0;g<_;++g)(m=l[g])&&(b[g]=O=p.call(m,m.__data__,g,l)+"",v.has(O)?d[g]=m:v.set(O,m));for(g=0;g<y;++g)O=p.call(c,f[g],g,f)+"",(m=v.get(O))?(h[g]=m,m.__data__=f[g],v.delete(O)):a[g]=new pD(c,f[g]);for(g=0;g<_;++g)(m=l[g])&&v.get(b[g])===m&&(d[g]=m)}function VBe(c){return c.__data__}function zBe(c){return"object"==typeof c&&"length"in c?c:Array.from(c)}function jBe(c,l){return c<l?-1:c>l?1:c>=l?0:NaN}pD.prototype={constructor:pD,appendChild:function(c){return this._parent.insertBefore(c,this._next)},insertBefore:function(c,l){return this._parent.insertBefore(c,l)},querySelector:function(c){return this._parent.querySelector(c)},querySelectorAll:function(c){return this._parent.querySelectorAll(c)}};var X6="http://www.w3.org/1999/xhtml";const Y6={svg:"http://www.w3.org/2000/svg",xhtml:X6,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function z2(c){var l=c+="",a=l.indexOf(":");return a>=0&&"xmlns"!==(l=c.slice(0,a))&&(c=c.slice(a+1)),Y6.hasOwnProperty(l)?{space:Y6[l],local:c}:c}function eVe(c){return function(){this.removeAttribute(c)}}function tVe(c){return function(){this.removeAttributeNS(c.space,c.local)}}function nVe(c,l){return function(){this.setAttribute(c,l)}}function iVe(c,l){return function(){this.setAttributeNS(c.space,c.local,l)}}function rVe(c,l){return function(){var a=l.apply(this,arguments);null==a?this.removeAttribute(c):this.setAttribute(c,a)}}function sVe(c,l){return function(){var a=l.apply(this,arguments);null==a?this.removeAttributeNS(c.space,c.local):this.setAttributeNS(c.space,c.local,a)}}function q6(c){return c.ownerDocument&&c.ownerDocument.defaultView||c.document&&c||c.defaultView}function aVe(c){return function(){this.style.removeProperty(c)}}function lVe(c,l,a){return function(){this.style.setProperty(c,l,a)}}function cVe(c,l,a){return function(){var h=l.apply(this,arguments);null==h?this.style.removeProperty(c):this.style.setProperty(c,h,a)}}function J0(c,l){return c.style.getPropertyValue(l)||q6(c).getComputedStyle(c,null).getPropertyValue(l)}function hVe(c){return function(){delete this[c]}}function dVe(c,l){return function(){this[c]=l}}function fVe(c,l){return function(){var a=l.apply(this,arguments);null==a?delete this[c]:this[c]=a}}function Ise(c){return c.trim().split(/^|\s+/)}function K6(c){return c.classList||new Rse(c)}function Rse(c){this._node=c,this._names=Ise(c.getAttribute("class")||"")}function Lse(c,l){for(var a=K6(c),h=-1,d=l.length;++h<d;)a.add(l[h])}function Nse(c,l){for(var a=K6(c),h=-1,d=l.length;++h<d;)a.remove(l[h])}function gVe(c){return function(){Lse(this,c)}}function mVe(c){return function(){Nse(this,c)}}function vVe(c,l){return function(){(l.apply(this,arguments)?Lse:Nse)(this,c)}}function yVe(){this.textContent=""}function bVe(c){return function(){this.textContent=c}}function OVe(c){return function(){var l=c.apply(this,arguments);this.textContent=l??""}}function SVe(){this.innerHTML=""}function wVe(c){return function(){this.innerHTML=c}}function xVe(c){return function(){var l=c.apply(this,arguments);this.innerHTML=l??""}}function kVe(){this.nextSibling&&this.parentNode.appendChild(this)}function MVe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function PVe(c){return function(){var l=this.ownerDocument,a=this.namespaceURI;return a===X6&&l.documentElement.namespaceURI===X6?l.createElement(c):l.createElementNS(a,c)}}function AVe(c){return function(){return this.ownerDocument.createElementNS(c.space,c.local)}}function gD(c){var l=z2(c);return(l.local?AVe:PVe)(l)}function RVe(){return null}function NVe(){var c=this.parentNode;c&&c.removeChild(this)}function BVe(){var c=this.cloneNode(!1),l=this.parentNode;return l?l.insertBefore(c,this.nextSibling):c}function VVe(){var c=this.cloneNode(!0),l=this.parentNode;return l?l.insertBefore(c,this.nextSibling):c}function HVe(c){return function(){var l=this.__on;if(l){for(var f,a=0,h=-1,d=l.length;a<d;++a)f=l[a],c.type&&f.type!==c.type||f.name!==c.name?l[++h]=f:this.removeEventListener(f.type,f.listener,f.options);++h?l.length=h:delete this.__on}}}function WVe(c,l,a){return function(){var d,h=this.__on,f=function UVe(c){return function(l){c.call(this,l,this.__data__)}}(l);if(h)for(var p=0,g=h.length;p<g;++p)if((d=h[p]).type===c.type&&d.name===c.name)return this.removeEventListener(d.type,d.listener,d.options),this.addEventListener(d.type,d.listener=f,d.options=a),void(d.value=l);this.addEventListener(c.type,f,a),d={type:c.type,name:c.name,value:l,listener:f,options:a},h?h.push(d):this.__on=[d]}}function Fse(c,l,a){var h=q6(c),d=h.CustomEvent;"function"==typeof d?d=new d(l,a):(d=h.document.createEvent("Event"),a?(d.initEvent(l,a.bubbles,a.cancelable),d.detail=a.detail):d.initEvent(l,!1,!1)),c.dispatchEvent(d)}function jVe(c,l){return function(){return Fse(this,c,l)}}function GVe(c,l){return function(){return Fse(this,c,l.apply(this,arguments))}}Rse.prototype={add:function(c){this._names.indexOf(c)<0&&(this._names.push(c),this._node.setAttribute("class",this._names.join(" ")))},remove:function(c){var l=this._names.indexOf(c);l>=0&&(this._names.splice(l,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(c){return this._names.indexOf(c)>=0}};var J6=[null];function Vl(c,l){this._groups=c,this._parents=l}function Bse(){return new Vl([[document.documentElement]],J6)}Vl.prototype=Bse.prototype={constructor:Vl,select:function CBe(c){"function"!=typeof c&&(c=fD(c));for(var l=this._groups,a=l.length,h=new Array(a),d=0;d<a;++d)for(var m,v,f=l[d],p=f.length,g=h[d]=new Array(p),_=0;_<p;++_)(m=f[_])&&(v=c.call(m,m.__data__,_,f))&&("__data__"in m&&(v.__data__=m.__data__),g[_]=v);return new Vl(h,this._parents)},selectAll:function xBe(c){c="function"==typeof c?function wBe(c){return function(){return Ese(c.apply(this,arguments))}}(c):j6(c);for(var l=this._groups,a=l.length,h=[],d=[],f=0;f<a;++f)for(var m,p=l[f],g=p.length,v=0;v<g;++v)(m=p[v])&&(h.push(c.call(m,m.__data__,v,p)),d.push(m));return new Vl(h,d)},selectChild:function MBe(c){return this.select(null==c?DBe:function kBe(c){return function(){return TBe.call(this.children,c)}}("function"==typeof c?c:Pse(c)))},selectChildren:function IBe(c){return this.selectAll(null==c?PBe:function ABe(c){return function(){return EBe.call(this.children,c)}}("function"==typeof c?c:Pse(c)))},filter:function RBe(c){"function"!=typeof c&&(c=G6(c));for(var l=this._groups,a=l.length,h=new Array(a),d=0;d<a;++d)for(var m,f=l[d],p=f.length,g=h[d]=[],v=0;v<p;++v)(m=f[v])&&c.call(m,m.__data__,v,f)&&g.push(m);return new Vl(h,this._parents)},data:function $Be(c,l){if(!arguments.length)return Array.from(this,VBe);var a=l?BBe:FBe,h=this._parents,d=this._groups;"function"!=typeof c&&(c=function NBe(c){return function(){return c}}(c));for(var f=d.length,p=new Array(f),g=new Array(f),m=new Array(f),v=0;v<f;++v){var _=h[v],y=d[v],b=y.length,O=zBe(c.call(_,_&&_.__data__,v,h)),C=O.length,S=g[v]=new Array(C),w=p[v]=new Array(C);a(_,y,S,w,m[v]=new Array(b),O,l);for(var k,P,T=0,D=0;T<C;++T)if(k=S[T]){for(T>=D&&(D=T+1);!(P=w[D])&&++D<C;);k._next=P||null}}return(p=new Vl(p,h))._enter=g,p._exit=m,p},enter:function LBe(){return new Vl(this._enter||this._groups.map(Ase),this._parents)},exit:function UBe(){return new Vl(this._exit||this._groups.map(Ase),this._parents)},join:function QBe(c,l,a){var h=this.enter(),d=this,f=this.exit();return"function"==typeof c?(h=c(h))&&(h=h.selection()):h=h.append(c+""),null!=l&&(d=l(d))&&(d=d.selection()),null==a?f.remove():a(f),h&&d?h.merge(d).order():d},merge:function HBe(c){for(var l=c.selection?c.selection():c,a=this._groups,h=l._groups,d=a.length,p=Math.min(d,h.length),g=new Array(d),m=0;m<p;++m)for(var O,v=a[m],_=h[m],y=v.length,b=g[m]=new Array(y),C=0;C<y;++C)(O=v[C]||_[C])&&(b[C]=O);for(;m<d;++m)g[m]=a[m];return new Vl(g,this._parents)},selection:function qVe(){return this},order:function WBe(){for(var c=this._groups,l=-1,a=c.length;++l<a;)for(var p,h=c[l],d=h.length-1,f=h[d];--d>=0;)(p=h[d])&&(f&&4^p.compareDocumentPosition(f)&&f.parentNode.insertBefore(p,f),f=p);return this},sort:function ZBe(c){function l(y,b){return y&&b?c(y.__data__,b.__data__):!y-!b}c||(c=jBe);for(var a=this._groups,h=a.length,d=new Array(h),f=0;f<h;++f){for(var v,p=a[f],g=p.length,m=d[f]=new Array(g),_=0;_<g;++_)(v=p[_])&&(m[_]=v);m.sort(l)}return new Vl(d,this._parents).order()},call:function GBe(){var c=arguments[0];return arguments[0]=this,c.apply(null,arguments),this},nodes:function XBe(){return Array.from(this)},node:function YBe(){for(var c=this._groups,l=0,a=c.length;l<a;++l)for(var h=c[l],d=0,f=h.length;d<f;++d){var p=h[d];if(p)return p}return null},size:function qBe(){let c=0;for(const l of this)++c;return c},empty:function KBe(){return!this.node()},each:function JBe(c){for(var l=this._groups,a=0,h=l.length;a<h;++a)for(var g,d=l[a],f=0,p=d.length;f<p;++f)(g=d[f])&&c.call(g,g.__data__,f,d);return this},attr:function oVe(c,l){var a=z2(c);if(arguments.length<2){var h=this.node();return a.local?h.getAttributeNS(a.space,a.local):h.getAttribute(a)}return this.each((null==l?a.local?tVe:eVe:"function"==typeof l?a.local?sVe:rVe:a.local?iVe:nVe)(a,l))},style:function uVe(c,l,a){return arguments.length>1?this.each((null==l?aVe:"function"==typeof l?cVe:lVe)(c,l,a??"")):J0(this.node(),c)},property:function pVe(c,l){return arguments.length>1?this.each((null==l?hVe:"function"==typeof l?fVe:dVe)(c,l)):this.node()[c]},classed:function _Ve(c,l){var a=Ise(c+"");if(arguments.length<2){for(var h=K6(this.node()),d=-1,f=a.length;++d<f;)if(!h.contains(a[d]))return!1;return!0}return this.each(("function"==typeof l?vVe:l?gVe:mVe)(a,l))},text:function CVe(c){return arguments.length?this.each(null==c?yVe:("function"==typeof c?OVe:bVe)(c)):this.node().textContent},html:function TVe(c){return arguments.length?this.each(null==c?SVe:("function"==typeof c?xVe:wVe)(c)):this.node().innerHTML},raise:function DVe(){return this.each(kVe)},lower:function EVe(){return this.each(MVe)},append:function IVe(c){var l="function"==typeof c?c:gD(c);return this.select(function(){return this.appendChild(l.apply(this,arguments))})},insert:function LVe(c,l){var a="function"==typeof c?c:gD(c),h=null==l?RVe:"function"==typeof l?l:fD(l);return this.select(function(){return this.insertBefore(a.apply(this,arguments),h.apply(this,arguments)||null)})},remove:function FVe(){return this.each(NVe)},clone:function $Ve(c){return this.select(c?VVe:BVe)},datum:function zVe(c){return arguments.length?this.property("__data__",c):this.node().__data__},on:function ZVe(c,l,a){var d,p,h=function QVe(c){return c.trim().split(/^|\s+/).map(function(l){var a="",h=l.indexOf(".");return h>=0&&(a=l.slice(h+1),l=l.slice(0,h)),{type:l,name:a}})}(c+""),f=h.length;if(!(arguments.length<2)){for(g=l?WVe:HVe,d=0;d<f;++d)this.each(g(h[d],l,a));return this}var g=this.node().__on;if(g)for(var _,m=0,v=g.length;m<v;++m)for(d=0,_=g[m];d<f;++d)if((p=h[d]).type===_.type&&p.name===_.name)return _.value},dispatch:function XVe(c,l){return this.each(("function"==typeof l?GVe:jVe)(c,l))},[Symbol.iterator]:function*YVe(){for(var c=this._groups,l=0,a=c.length;l<a;++l)for(var p,h=c[l],d=0,f=h.length;d<f;++d)(p=h[d])&&(yield p)}};const Dy=Bse;function Io(c){return"string"==typeof c?new Vl([[document.querySelector(c)]],[document.documentElement]):new Vl([[c]],J6)}const KVe={passive:!1},U2={capture:!0,passive:!1};function e7(c){c.stopImmediatePropagation()}function My(c){c.preventDefault(),c.stopImmediatePropagation()}function mD(c){var l=c.document.documentElement,a=Io(c).on("dragstart.drag",My,U2);"onselectstart"in l?a.on("selectstart.drag",My,U2):(l.__noselect=l.style.MozUserSelect,l.style.MozUserSelect="none")}function vD(c,l){var a=c.document.documentElement,h=Io(c).on("dragstart.drag",null);l&&(h.on("click.drag",My,U2),setTimeout(function(){h.on("click.drag",null)},0)),"onselectstart"in a?h.on("selectstart.drag",null):(a.style.MozUserSelect=a.__noselect,delete a.__noselect)}function Ey(c,l,a){c.prototype=l.prototype=a,a.constructor=c}function Q2(c,l){var a=Object.create(c.prototype);for(var h in l)a[h]=l[h];return a}function Ng(){}var Py=1/.7,Ay="\\s*([+-]?\\d+)\\s*",H2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ud="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JVe=/^#([0-9a-f]{3,8})$/,e9e=new RegExp(`^rgb\\(${Ay},${Ay},${Ay}\\)$`),t9e=new RegExp(`^rgb\\(${Ud},${Ud},${Ud}\\)$`),n9e=new RegExp(`^rgba\\(${Ay},${Ay},${Ay},${H2}\\)$`),i9e=new RegExp(`^rgba\\(${Ud},${Ud},${Ud},${H2}\\)$`),r9e=new RegExp(`^hsl\\(${H2},${Ud},${Ud}\\)$`),s9e=new RegExp(`^hsla\\(${H2},${Ud},${Ud},${H2}\\)$`),Vse={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $se(){return this.rgb().formatHex()}function zse(){return this.rgb().formatRgb()}function Fh(c){var l,a;return c=(c+"").trim().toLowerCase(),(l=JVe.exec(c))?(a=l[1].length,l=parseInt(l[1],16),6===a?Use(l):3===a?new _a(l>>8&15|l>>4&240,l>>4&15|240&l,(15&l)<<4|15&l,1):8===a?_D(l>>24&255,l>>16&255,l>>8&255,(255&l)/255):4===a?_D(l>>12&15|l>>8&240,l>>8&15|l>>4&240,l>>4&15|240&l,((15&l)<<4|15&l)/255):null):(l=e9e.exec(c))?new _a(l[1],l[2],l[3],1):(l=t9e.exec(c))?new _a(255*l[1]/100,255*l[2]/100,255*l[3]/100,1):(l=n9e.exec(c))?_D(l[1],l[2],l[3],l[4]):(l=i9e.exec(c))?_D(255*l[1]/100,255*l[2]/100,255*l[3]/100,l[4]):(l=r9e.exec(c))?Wse(l[1],l[2]/100,l[3]/100,1):(l=s9e.exec(c))?Wse(l[1],l[2]/100,l[3]/100,l[4]):Vse.hasOwnProperty(c)?Use(Vse[c]):"transparent"===c?new _a(NaN,NaN,NaN,0):null}function Use(c){return new _a(c>>16&255,c>>8&255,255&c,1)}function _D(c,l,a,h){return h<=0&&(c=l=a=NaN),new _a(c,l,a,h)}function t7(c){return c instanceof Ng||(c=Fh(c)),c?new _a((c=c.rgb()).r,c.g,c.b,c.opacity):new _a}function gp(c,l,a,h){return 1===arguments.length?t7(c):new _a(c,l,a,h??1)}function _a(c,l,a,h){this.r=+c,this.g=+l,this.b=+a,this.opacity=+h}function Qse(){return`#${n1(this.r)}${n1(this.g)}${n1(this.b)}`}function Hse(){const c=yD(this.opacity);return`${1===c?"rgb(":"rgba("}${t1(this.r)}, ${t1(this.g)}, ${t1(this.b)}${1===c?")":`, ${c})`}`}function yD(c){return isNaN(c)?1:Math.max(0,Math.min(1,c))}function t1(c){return Math.max(0,Math.min(255,Math.round(c)||0))}function n1(c){return((c=t1(c))<16?"0":"")+c.toString(16)}function Wse(c,l,a,h){return h<=0?c=l=a=NaN:a<=0||a>=1?c=l=NaN:l<=0&&(c=NaN),new Bh(c,l,a,h)}function Zse(c){if(c instanceof Bh)return new Bh(c.h,c.s,c.l,c.opacity);if(c instanceof Ng||(c=Fh(c)),!c)return new Bh;if(c instanceof Bh)return c;var l=(c=c.rgb()).r/255,a=c.g/255,h=c.b/255,d=Math.min(l,a,h),f=Math.max(l,a,h),p=NaN,g=f-d,m=(f+d)/2;return g?(p=l===f?(a-h)/g+6*(a<h):a===f?(h-l)/g+2:(l-a)/g+4,g/=m<.5?f+d:2-f-d,p*=60):g=m>0&&m<1?0:p,new Bh(p,g,m,c.opacity)}function bD(c,l,a,h){return 1===arguments.length?Zse(c):new Bh(c,l,a,h??1)}function Bh(c,l,a,h){this.h=+c,this.s=+l,this.l=+a,this.opacity=+h}function jse(c){return(c=(c||0)%360)<0?c+360:c}function OD(c){return Math.max(0,Math.min(1,c||0))}function n7(c,l,a){return 255*(c<60?l+(a-l)*c/60:c<180?a:c<240?l+(a-l)*(240-c)/60:l)}function Gse(c,l,a,h,d){var f=c*c,p=f*c;return((1-3*c+3*f-p)*l+(4-6*f+3*p)*a+(1+3*c+3*f-3*p)*h+p*d)/6}function Xse(c){var l=c.length-1;return function(a){var h=a<=0?a=0:a>=1?(a=1,l-1):Math.floor(a*l),d=c[h],f=c[h+1];return Gse((a-h/l)*l,h>0?c[h-1]:2*d-f,d,f,h<l-1?c[h+2]:2*f-d)}}function Yse(c){var l=c.length;return function(a){var h=Math.floor(((a%=1)<0?++a:a)*l);return Gse((a-h/l)*l,c[(h+l-1)%l],c[h%l],c[(h+1)%l],c[(h+2)%l])}}Ey(Ng,Fh,{copy(c){return Object.assign(new this.constructor,this,c)},displayable(){return this.rgb().displayable()},hex:$se,formatHex:$se,formatHex8:function o9e(){return this.rgb().formatHex8()},formatHsl:function a9e(){return Zse(this).formatHsl()},formatRgb:zse,toString:zse}),Ey(_a,gp,Q2(Ng,{brighter(c){return c=null==c?Py:Math.pow(Py,c),new _a(this.r*c,this.g*c,this.b*c,this.opacity)},darker(c){return c=null==c?.7:Math.pow(.7,c),new _a(this.r*c,this.g*c,this.b*c,this.opacity)},rgb(){return this},clamp(){return new _a(t1(this.r),t1(this.g),t1(this.b),yD(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qse,formatHex:Qse,formatHex8:function l9e(){return`#${n1(this.r)}${n1(this.g)}${n1(this.b)}${n1(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Hse,toString:Hse})),Ey(Bh,bD,Q2(Ng,{brighter(c){return c=null==c?Py:Math.pow(Py,c),new Bh(this.h,this.s,this.l*c,this.opacity)},darker(c){return c=null==c?.7:Math.pow(.7,c),new Bh(this.h,this.s,this.l*c,this.opacity)},rgb(){var c=this.h%360+360*(this.h<0),l=isNaN(c)||isNaN(this.s)?0:this.s,a=this.l,h=a+(a<.5?a:1-a)*l,d=2*a-h;return new _a(n7(c>=240?c-240:c+120,d,h),n7(c,d,h),n7(c<120?c+240:c-120,d,h),this.opacity)},clamp(){return new Bh(jse(this.h),OD(this.s),OD(this.l),yD(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const c=yD(this.opacity);return`${1===c?"hsl(":"hsla("}${jse(this.h)}, ${100*OD(this.s)}%, ${100*OD(this.l)}%${1===c?")":`, ${c})`}`}}));const CD=c=>()=>c;function qse(c,l){return function(a){return c+a*l}}function SD(c,l){var a=l-c;return a?qse(c,a>180||a<-180?a-360*Math.round(a/360):a):CD(isNaN(c)?l:c)}function ya(c,l){var a=l-c;return a?qse(c,a):CD(isNaN(c)?l:c)}const W2=function c(l){var a=function u9e(c){return 1==(c=+c)?ya:function(l,a){return a-l?function c9e(c,l,a){return c=Math.pow(c,a),l=Math.pow(l,a)-c,a=1/a,function(h){return Math.pow(c+h*l,a)}}(l,a,c):CD(isNaN(l)?a:l)}}(l);function h(d,f){var p=a((d=gp(d)).r,(f=gp(f)).r),g=a(d.g,f.g),m=a(d.b,f.b),v=ya(d.opacity,f.opacity);return function(_){return d.r=p(_),d.g=g(_),d.b=m(_),d.opacity=v(_),d+""}}return h.gamma=c,h}(1);function Kse(c){return function(l){var p,g,a=l.length,h=new Array(a),d=new Array(a),f=new Array(a);for(p=0;p<a;++p)g=gp(l[p]),h[p]=g.r||0,d[p]=g.g||0,f[p]=g.b||0;return h=c(h),d=c(d),f=c(f),g.opacity=1,function(m){return g.r=h(m),g.g=d(m),g.b=f(m),g+""}}}var Jse=Kse(Xse),h9e=Kse(Yse);function i7(c,l){l||(l=[]);var d,a=c?Math.min(l.length,c.length):0,h=l.slice();return function(f){for(d=0;d<a;++d)h[d]=c[d]*(1-f)+l[d]*f;return h}}function eoe(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)}function d9e(c,l){return(eoe(l)?i7:toe)(c,l)}function toe(c,l){var p,a=l?l.length:0,h=c?Math.min(a,c.length):0,d=new Array(h),f=new Array(a);for(p=0;p<h;++p)d[p]=Fg(c[p],l[p]);for(;p<a;++p)f[p]=l[p];return function(g){for(p=0;p<h;++p)f[p]=d[p](g);return f}}function noe(c,l){var a=new Date;return c=+c,l=+l,function(h){return a.setTime(c*(1-h)+l*h),a}}function Xu(c,l){return c=+c,l=+l,function(a){return c*(1-a)+l*a}}function ioe(c,l){var d,a={},h={};for(d in(null===c||"object"!=typeof c)&&(c={}),(null===l||"object"!=typeof l)&&(l={}),l)d in c?a[d]=Fg(c[d],l[d]):h[d]=l[d];return function(f){for(d in a)h[d]=a[d](f);return h}}var r7=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s7=new RegExp(r7.source,"g");function o7(c,l){var h,d,f,a=r7.lastIndex=s7.lastIndex=0,p=-1,g=[],m=[];for(c+="",l+="";(h=r7.exec(c))&&(d=s7.exec(l));)(f=d.index)>a&&(f=l.slice(a,f),g[p]?g[p]+=f:g[++p]=f),(h=h[0])===(d=d[0])?g[p]?g[p]+=d:g[++p]=d:(g[++p]=null,m.push({i:p,x:Xu(h,d)})),a=s7.lastIndex;return a<l.length&&(f=l.slice(a),g[p]?g[p]+=f:g[++p]=f),g.length<2?m[0]?function p9e(c){return function(l){return c(l)+""}}(m[0].x):function f9e(c){return function(){return c}}(l):(l=m.length,function(v){for(var y,_=0;_<l;++_)g[(y=m[_]).i]=y.x(v);return g.join("")})}function Fg(c,l){var h,a=typeof l;return null==l||"boolean"===a?CD(l):("number"===a?Xu:"string"===a?(h=Fh(l))?(l=h,W2):o7:l instanceof Fh?W2:l instanceof Date?noe:eoe(l)?i7:Array.isArray(l)?toe:"function"!=typeof l.valueOf&&"function"!=typeof l.toString||isNaN(l)?ioe:Xu)(c,l)}function roe(c){let l;for(;l=c.sourceEvent;)c=l;return c}function eu(c,l){if(c=roe(c),void 0===l&&(l=c.currentTarget),l){var a=l.ownerSVGElement||l;if(a.createSVGPoint){var h=a.createSVGPoint();return h.x=c.clientX,h.y=c.clientY,[(h=h.matrixTransform(l.getScreenCTM().inverse())).x,h.y]}if(l.getBoundingClientRect){var d=l.getBoundingClientRect();return[c.clientX-d.left-l.clientLeft,c.clientY-d.top-l.clientTop]}}return[c.pageX,c.pageY]}var wD,G2,Iy=0,Z2=0,j2=0,soe=1e3,xD=0,r1=0,TD=0,X2="object"==typeof performance&&performance.now?performance:Date,ooe="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(c){setTimeout(c,17)};function Y2(){return r1||(ooe(g9e),r1=X2.now()+TD)}function g9e(){r1=0}function q2(){this._call=this._time=this._next=null}function kD(c,l,a){var h=new q2;return h.restart(c,l,a),h}function aoe(){Y2(),++Iy;for(var l,c=wD;c;)(l=r1-c._time)>=0&&c._call.call(void 0,l),c=c._next;--Iy}function loe(){r1=(xD=X2.now())+TD,Iy=Z2=0;try{aoe()}finally{Iy=0,function v9e(){for(var c,a,l=wD,h=1/0;l;)l._call?(h>l._time&&(h=l._time),c=l,l=l._next):(a=l._next,l._next=null,l=c?c._next=a:wD=a);G2=c,a7(h)}(),r1=0}}function m9e(){var c=X2.now(),l=c-xD;l>soe&&(TD-=l,xD=c)}function a7(c){Iy||(Z2&&(Z2=clearTimeout(Z2)),c-r1>24?(c<1/0&&(Z2=setTimeout(loe,c-X2.now()-TD)),j2&&(j2=clearInterval(j2))):(j2||(xD=X2.now(),j2=setInterval(m9e,soe)),Iy=1,ooe(loe)))}function l7(c,l,a){var h=new q2;return h.restart(d=>{h.stop(),c(d+l)},l=null==l?0:+l,a),h}q2.prototype=kD.prototype={constructor:q2,restart:function(c,l,a){if("function"!=typeof c)throw new TypeError("callback is not a function");a=(null==a?Y2():+a)+(null==l?0:+l),!this._next&&G2!==this&&(G2?G2._next=this:wD=this,G2=this),this._call=c,this._time=a,a7()},stop:function(){this._call&&(this._call=null,this._time=1/0,a7())}};var _9e=ky("start","end","cancel","interrupt"),y9e=[],coe=0,c7=1,u7=2,DD=3,h7=5,MD=6;function ED(c,l,a,h,d,f){var p=c.__transition;if(p){if(a in p)return}else c.__transition={};!function b9e(c,l,a){var d,h=c.__transition;function p(v){var _,y,b,O;if(a.state!==c7)return m();for(_ in h)if((O=h[_]).name===a.name){if(O.state===DD)return l7(p);4===O.state?(O.state=MD,O.timer.stop(),O.on.call("interrupt",c,c.__data__,O.index,O.group),delete h[_]):+_<l&&(O.state=MD,O.timer.stop(),O.on.call("cancel",c,c.__data__,O.index,O.group),delete h[_])}if(l7(function(){a.state===DD&&(a.state=4,a.timer.restart(g,a.delay,a.time),g(v))}),a.state=u7,a.on.call("start",c,c.__data__,a.index,a.group),a.state===u7){for(a.state=DD,d=new Array(b=a.tween.length),_=0,y=-1;_<b;++_)(O=a.tween[_].value.call(c,c.__data__,a.index,a.group))&&(d[++y]=O);d.length=y+1}}function g(v){for(var _=v<a.duration?a.ease.call(null,v/a.duration):(a.timer.restart(m),a.state=h7,1),y=-1,b=d.length;++y<b;)d[y].call(c,_);a.state===h7&&(a.on.call("end",c,c.__data__,a.index,a.group),m())}function m(){for(var v in a.state=MD,a.timer.stop(),delete h[l],h)return;delete c.__transition}h[l]=a,a.timer=kD(function f(v){a.state=c7,a.timer.restart(p,a.delay,a.time),a.delay<=v&&p(v-a.delay)},0,a.time)}(c,a,{name:l,index:h,group:d,on:_9e,tween:y9e,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:coe})}function d7(c,l){var a=Vh(c,l);if(a.state>coe)throw new Error("too late; already scheduled");return a}function Qd(c,l){var a=Vh(c,l);if(a.state>DD)throw new Error("too late; already running");return a}function Vh(c,l){var a=c.__transition;if(!a||!(a=a[l]))throw new Error("transition not found");return a}function s1(c,l){var h,d,p,a=c.__transition,f=!0;if(a){for(p in l=null==l?null:l+"",a)(h=a[p]).name===l?(d=h.state>u7&&h.state<h7,h.state=MD,h.timer.stop(),h.on.call(d?"interrupt":"cancel",c,c.__data__,h.index,h.group),delete a[p]):f=!1;f&&delete c.__transition}}var PD,hoe=180/Math.PI,f7={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function doe(c,l,a,h,d,f){var p,g,m;return(p=Math.sqrt(c*c+l*l))&&(c/=p,l/=p),(m=c*a+l*h)&&(a-=c*m,h-=l*m),(g=Math.sqrt(a*a+h*h))&&(a/=g,h/=g,m/=g),c*h<l*a&&(c=-c,l=-l,m=-m,p=-p),{translateX:d,translateY:f,rotate:Math.atan2(l,c)*hoe,skewX:Math.atan(m)*hoe,scaleX:p,scaleY:g}}function foe(c,l,a,h){function d(v){return v.length?v.pop()+" ":""}return function(v,_){var y=[],b=[];return v=c(v),_=c(_),function f(v,_,y,b,O,C){if(v!==y||_!==b){var S=O.push("translate(",null,l,null,a);C.push({i:S-4,x:Xu(v,y)},{i:S-2,x:Xu(_,b)})}else(y||b)&&O.push("translate("+y+l+b+a)}(v.translateX,v.translateY,_.translateX,_.translateY,y,b),function p(v,_,y,b){v!==_?(v-_>180?_+=360:_-v>180&&(v+=360),b.push({i:y.push(d(y)+"rotate(",null,h)-2,x:Xu(v,_)})):_&&y.push(d(y)+"rotate("+_+h)}(v.rotate,_.rotate,y,b),function g(v,_,y,b){v!==_?b.push({i:y.push(d(y)+"skewX(",null,h)-2,x:Xu(v,_)}):_&&y.push(d(y)+"skewX("+_+h)}(v.skewX,_.skewX,y,b),function m(v,_,y,b,O,C){if(v!==y||_!==b){var S=O.push(d(O)+"scale(",null,",",null,")");C.push({i:S-4,x:Xu(v,y)},{i:S-2,x:Xu(_,b)})}else(1!==y||1!==b)&&O.push(d(O)+"scale("+y+","+b+")")}(v.scaleX,v.scaleY,_.scaleX,_.scaleY,y,b),v=_=null,function(O){for(var w,C=-1,S=b.length;++C<S;)y[(w=b[C]).i]=w.x(O);return y.join("")}}}var poe=foe(function C9e(c){const l=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(c+"");return l.isIdentity?f7:doe(l.a,l.b,l.c,l.d,l.e,l.f)},"px, ","px)","deg)"),goe=foe(function S9e(c){return null!=c&&(PD||(PD=document.createElementNS("http://www.w3.org/2000/svg","g")),PD.setAttribute("transform",c),c=PD.transform.baseVal.consolidate())?doe((c=c.matrix).a,c.b,c.c,c.d,c.e,c.f):f7},", ",")",")");function w9e(c,l){var a,h;return function(){var d=Qd(this,c),f=d.tween;if(f!==a)for(var p=0,g=(h=a=f).length;p<g;++p)if(h[p].name===l){(h=h.slice()).splice(p,1);break}d.tween=h}}function x9e(c,l,a){var h,d;if("function"!=typeof a)throw new Error;return function(){var f=Qd(this,c),p=f.tween;if(p!==h){d=(h=p).slice();for(var g={name:l,value:a},m=0,v=d.length;m<v;++m)if(d[m].name===l){d[m]=g;break}m===v&&d.push(g)}f.tween=d}}function p7(c,l,a){var h=c._id;return c.each(function(){var d=Qd(this,h);(d.value||(d.value={}))[l]=a.apply(this,arguments)}),function(d){return Vh(d,h).value[l]}}function moe(c,l){var a;return("number"==typeof l?Xu:l instanceof Fh?W2:(a=Fh(l))?(l=a,W2):o7)(c,l)}function k9e(c){return function(){this.removeAttribute(c)}}function D9e(c){return function(){this.removeAttributeNS(c.space,c.local)}}function M9e(c,l,a){var h,f,d=a+"";return function(){var p=this.getAttribute(c);return p===d?null:p===h?f:f=l(h=p,a)}}function E9e(c,l,a){var h,f,d=a+"";return function(){var p=this.getAttributeNS(c.space,c.local);return p===d?null:p===h?f:f=l(h=p,a)}}function P9e(c,l,a){var h,d,f;return function(){var p,m,g=a(this);return null==g?void this.removeAttribute(c):(p=this.getAttribute(c))===(m=g+"")?null:p===h&&m===d?f:(d=m,f=l(h=p,g))}}function A9e(c,l,a){var h,d,f;return function(){var p,m,g=a(this);return null==g?void this.removeAttributeNS(c.space,c.local):(p=this.getAttributeNS(c.space,c.local))===(m=g+"")?null:p===h&&m===d?f:(d=m,f=l(h=p,g))}}function N9e(c,l){var a,h;function d(){var f=l.apply(this,arguments);return f!==h&&(a=(h=f)&&function L9e(c,l){return function(a){this.setAttributeNS(c.space,c.local,l.call(this,a))}}(c,f)),a}return d._value=l,d}function F9e(c,l){var a,h;function d(){var f=l.apply(this,arguments);return f!==h&&(a=(h=f)&&function R9e(c,l){return function(a){this.setAttribute(c,l.call(this,a))}}(c,f)),a}return d._value=l,d}function V9e(c,l){return function(){d7(this,c).delay=+l.apply(this,arguments)}}function $9e(c,l){return l=+l,function(){d7(this,c).delay=l}}function U9e(c,l){return function(){Qd(this,c).duration=+l.apply(this,arguments)}}function Q9e(c,l){return l=+l,function(){Qd(this,c).duration=l}}var r$e=Dy.prototype.constructor;function voe(c){return function(){this.style.removeProperty(c)}}var C$e=0;function Hd(c,l,a,h){this._groups=c,this._parents=l,this._name=a,this._id=h}function _oe(c){return Dy().transition(c)}function yoe(){return++C$e}var mp=Dy.prototype;function S$e(c){return c*c*c}function w$e(c){return--c*c*c+1}function g7(c){return((c*=2)<=1?c*c*c:(c-=2)*c*c+2)/2}Hd.prototype=_oe.prototype={constructor:Hd,select:function n$e(c){var l=this._name,a=this._id;"function"!=typeof c&&(c=fD(c));for(var h=this._groups,d=h.length,f=new Array(d),p=0;p<d;++p)for(var _,y,g=h[p],m=g.length,v=f[p]=new Array(m),b=0;b<m;++b)(_=g[b])&&(y=c.call(_,_.__data__,b,g))&&("__data__"in _&&(y.__data__=_.__data__),v[b]=y,ED(v[b],l,a,b,v,Vh(_,a)));return new Hd(f,this._parents,l,a)},selectAll:function i$e(c){var l=this._name,a=this._id;"function"!=typeof c&&(c=j6(c));for(var h=this._groups,d=h.length,f=[],p=[],g=0;g<d;++g)for(var _,m=h[g],v=m.length,y=0;y<v;++y)if(_=m[y]){for(var O,b=c.call(_,_.__data__,y,m),C=Vh(_,a),S=0,w=b.length;S<w;++S)(O=b[S])&&ED(O,l,a,S,b,C);f.push(b),p.push(_)}return new Hd(f,p,l,a)},selectChild:mp.selectChild,selectChildren:mp.selectChildren,filter:function X9e(c){"function"!=typeof c&&(c=G6(c));for(var l=this._groups,a=l.length,h=new Array(a),d=0;d<a;++d)for(var m,f=l[d],p=f.length,g=h[d]=[],v=0;v<p;++v)(m=f[v])&&c.call(m,m.__data__,v,f)&&g.push(m);return new Hd(h,this._parents,this._name,this._id)},merge:function Y9e(c){if(c._id!==this._id)throw new Error;for(var l=this._groups,a=c._groups,h=l.length,f=Math.min(h,a.length),p=new Array(h),g=0;g<f;++g)for(var b,m=l[g],v=a[g],_=m.length,y=p[g]=new Array(_),O=0;O<_;++O)(b=m[O]||v[O])&&(y[O]=b);for(;g<h;++g)p[g]=l[g];return new Hd(p,this._parents,this._name,this._id)},selection:function s$e(){return new r$e(this._groups,this._parents)},transition:function b$e(){for(var c=this._name,l=this._id,a=yoe(),h=this._groups,d=h.length,f=0;f<d;++f)for(var m,p=h[f],g=p.length,v=0;v<g;++v)if(m=p[v]){var _=Vh(m,l);ED(m,c,a,v,p,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new Hd(h,this._parents,c,a)},call:mp.call,nodes:mp.nodes,node:mp.node,size:mp.size,empty:mp.empty,each:mp.each,on:function J9e(c,l){var a=this._id;return arguments.length<2?Vh(this.node(),a).on.on(c):this.each(function K9e(c,l,a){var h,d,f=function q9e(c){return(c+"").trim().split(/^|\s+/).every(function(l){var a=l.indexOf(".");return a>=0&&(l=l.slice(0,a)),!l||"start"===l})}(l)?d7:Qd;return function(){var p=f(this,c),g=p.on;g!==h&&(d=(h=g).copy()).on(l,a),p.on=d}}(a,c,l))},attr:function I9e(c,l){var a=z2(c),h="transform"===a?goe:moe;return this.attrTween(c,"function"==typeof l?(a.local?A9e:P9e)(a,h,p7(this,"attr."+c,l)):null==l?(a.local?D9e:k9e)(a):(a.local?E9e:M9e)(a,h,l))},attrTween:function B9e(c,l){var a="attr."+c;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==l)return this.tween(a,null);if("function"!=typeof l)throw new Error;var h=z2(c);return this.tween(a,(h.local?N9e:F9e)(h,l))},style:function u$e(c,l,a){var h="transform"==(c+="")?poe:moe;return null==l?this.styleTween(c,function o$e(c,l){var a,h,d;return function(){var f=J0(this,c),p=(this.style.removeProperty(c),J0(this,c));return f===p?null:f===a&&p===h?d:d=l(a=f,h=p)}}(c,h)).on("end.style."+c,voe(c)):"function"==typeof l?this.styleTween(c,function l$e(c,l,a){var h,d,f;return function(){var p=J0(this,c),g=a(this),m=g+"";return null==g&&(this.style.removeProperty(c),m=g=J0(this,c)),p===m?null:p===h&&m===d?f:(d=m,f=l(h=p,g))}}(c,h,p7(this,"style."+c,l))).each(function c$e(c,l){var a,h,d,g,f="style."+l,p="end."+f;return function(){var m=Qd(this,c),v=m.on,_=null==m.value[f]?g||(g=voe(l)):void 0;(v!==a||d!==_)&&(h=(a=v).copy()).on(p,d=_),m.on=h}}(this._id,c)):this.styleTween(c,function a$e(c,l,a){var h,f,d=a+"";return function(){var p=J0(this,c);return p===d?null:p===h?f:f=l(h=p,a)}}(c,h,l),a).on("end.style."+c,null)},styleTween:function f$e(c,l,a){var h="style."+(c+="");if(arguments.length<2)return(h=this.tween(h))&&h._value;if(null==l)return this.tween(h,null);if("function"!=typeof l)throw new Error;return this.tween(h,function d$e(c,l,a){var h,d;function f(){var p=l.apply(this,arguments);return p!==d&&(h=(d=p)&&function h$e(c,l,a){return function(h){this.style.setProperty(c,l.call(this,h),a)}}(c,p,a)),h}return f._value=l,f}(c,l,a??""))},text:function m$e(c){return this.tween("text","function"==typeof c?function g$e(c){return function(){var l=c(this);this.textContent=l??""}}(p7(this,"text",c)):function p$e(c){return function(){this.textContent=c}}(null==c?"":c+""))},textTween:function y$e(c){var l="text";if(arguments.length<1)return(l=this.tween(l))&&l._value;if(null==c)return this.tween(l,null);if("function"!=typeof c)throw new Error;return this.tween(l,function _$e(c){var l,a;function h(){var d=c.apply(this,arguments);return d!==a&&(l=(a=d)&&function v$e(c){return function(l){this.textContent=c.call(this,l)}}(d)),l}return h._value=c,h}(c))},remove:function t$e(){return this.on("end.remove",function e$e(c){return function(){var l=this.parentNode;for(var a in this.__transition)if(+a!==c)return;l&&l.removeChild(this)}}(this._id))},tween:function T9e(c,l){var a=this._id;if(c+="",arguments.length<2){for(var p,h=Vh(this.node(),a).tween,d=0,f=h.length;d<f;++d)if((p=h[d]).name===c)return p.value;return null}return this.each((null==l?w9e:x9e)(a,c,l))},delay:function z9e(c){var l=this._id;return arguments.length?this.each(("function"==typeof c?V9e:$9e)(l,c)):Vh(this.node(),l).delay},duration:function H9e(c){var l=this._id;return arguments.length?this.each(("function"==typeof c?U9e:Q9e)(l,c)):Vh(this.node(),l).duration},ease:function Z9e(c){var l=this._id;return arguments.length?this.each(function W9e(c,l){if("function"!=typeof l)throw new Error;return function(){Qd(this,c).ease=l}}(l,c)):Vh(this.node(),l).ease},easeVarying:function G9e(c){if("function"!=typeof c)throw new Error;return this.each(function j9e(c,l){return function(){var a=l.apply(this,arguments);if("function"!=typeof a)throw new Error;Qd(this,c).ease=a}}(this._id,c))},end:function O$e(){var c,l,a=this,h=a._id,d=a.size();return new Promise(function(f,p){var g={value:p},m={value:function(){0==--d&&f()}};a.each(function(){var v=Qd(this,h),_=v.on;_!==c&&((l=(c=_).copy())._.cancel.push(g),l._.interrupt.push(g),l._.end.push(m)),v.on=l}),0===d&&f()})},[Symbol.iterator]:mp[Symbol.iterator]};var x$e={time:null,delay:0,duration:250,ease:g7};function T$e(c,l){for(var a;!(a=c.__transition)||!(a=a[l]);)if(!(c=c.parentNode))throw new Error(`transition ${l} not found`);return a}Dy.prototype.interrupt=function O9e(c){return this.each(function(){s1(this,c)})},Dy.prototype.transition=function k$e(c){var l,a;c instanceof Hd?(l=c._id,c=c._name):(l=yoe(),(a=x$e).time=Y2(),c=null==c?null:c+"");for(var h=this._groups,d=h.length,f=0;f<d;++f)for(var m,p=h[f],g=p.length,v=0;v<g;++v)(m=p[v])&&ED(m,c,l,v,p,a||T$e(m,l));return new Hd(h,this._parents,c,l)};var D$e=[null];function M$e(c,l){var h,d,a=c.__transition;if(a)for(d in l=null==l?null:l+"",a)if((h=a[d]).state>c7&&h.name===l)return new Hd([[c]],D$e,l,+d);return null}const m7=c=>()=>c;function E$e(c,{sourceEvent:l,target:a,selection:h,mode:d,dispatch:f}){Object.defineProperties(this,{type:{value:c,enumerable:!0,configurable:!0},sourceEvent:{value:l,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},selection:{value:h,enumerable:!0,configurable:!0},mode:{value:d,enumerable:!0,configurable:!0},_:{value:f}})}function v7(c){c.preventDefault(),c.stopImmediatePropagation()}var boe={name:"drag"},_7={name:"space"},Ry={name:"handle"},Ly={name:"center"};const{abs:Ooe,max:il,min:rl}=Math;function Coe(c){return[+c[0],+c[1]]}function y7(c){return[Coe(c[0]),Coe(c[1])]}var AD={name:"x",handles:["w","e"].map(K2),input:function(c,l){return null==c?null:[[+c[0],l[0][1]],[+c[1],l[1][1]]]},output:function(c){return c&&[c[0][0],c[1][0]]}},ID={name:"y",handles:["n","s"].map(K2),input:function(c,l){return null==c?null:[[l[0][0],+c[0]],[l[1][0],+c[1]]]},output:function(c){return c&&[c[0][1],c[1][1]]}},A$e={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(K2),input:function(c){return null==c?null:y7(c)},output:function(c){return c}},vp={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Soe={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},woe={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},I$e={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},R$e={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function K2(c){return{type:c}}function L$e(c){return!c.ctrlKey&&!c.button}function N$e(){var c=this.ownerSVGElement||this;return c.hasAttribute("viewBox")?[[(c=c.viewBox.baseVal).x,c.y],[c.x+c.width,c.y+c.height]]:[[0,0],[c.width.baseVal.value,c.height.baseVal.value]]}function F$e(){return navigator.maxTouchPoints||"ontouchstart"in this}function b7(c){for(;!c.__brush;)if(!(c=c.parentNode))return;return c.__brush}function V$e(c){var l=c.__brush;return l?l.dim.output(l.selection):null}function $$e(){return O7(AD)}function z$e(){return O7(ID)}function U$e(){return O7(A$e)}function O7(c){var g,l=N$e,a=L$e,h=F$e,d=!0,f=ky("start","brush","end"),p=6;function m(w){var x=w.property("__brush",S).selectAll(".overlay").data([K2("overlay")]);x.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",vp.overlay).merge(x).each(function(){var D=b7(this).extent;Io(this).attr("x",D[0][0]).attr("y",D[0][1]).attr("width",D[1][0]-D[0][0]).attr("height",D[1][1]-D[0][1])}),w.selectAll(".selection").data([K2("selection")]).enter().append("rect").attr("class","selection").attr("cursor",vp.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var T=w.selectAll(".handle").data(c.handles,function(D){return D.type});T.exit().remove(),T.enter().append("rect").attr("class",function(D){return"handle handle--"+D.type}).attr("cursor",function(D){return vp[D.type]}),w.each(v).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",b).filter(h).on("touchstart.brush",b).on("touchmove.brush",O).on("touchend.brush touchcancel.brush",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(){var w=Io(this),x=b7(this).selection;x?(w.selectAll(".selection").style("display",null).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1]),w.selectAll(".handle").style("display",null).attr("x",function(T){return"e"===T.type[T.type.length-1]?x[1][0]-p/2:x[0][0]-p/2}).attr("y",function(T){return"s"===T.type[0]?x[1][1]-p/2:x[0][1]-p/2}).attr("width",function(T){return"n"===T.type||"s"===T.type?x[1][0]-x[0][0]+p:p}).attr("height",function(T){return"e"===T.type||"w"===T.type?x[1][1]-x[0][1]+p:p})):w.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function _(w,x,T){var D=w.__brush.emitter;return!D||T&&D.clean?new y(w,x,T):D}function y(w,x,T){this.that=w,this.args=x,this.state=w.__brush,this.active=0,this.clean=T}function b(w){if((!g||w.touches)&&a.apply(this,arguments)){var U,z,te,B,W,q,K,J,he,ke,xe,x=this,T=w.target.__data__.type,D="selection"===(d&&w.metaKey?T="overlay":T)?boe:d&&w.altKey?Ly:Ry,k=c===ID?null:I$e[T],P=c===AD?null:R$e[T],N=b7(x),F=N.extent,L=N.selection,$=F[0][0],ee=F[0][1],j=F[1][0],G=F[1][1],ie=0,re=0,de=k&&P&&d&&w.shiftKey,Ie=Array.from(w.touches||[w],Re=>{const ot=Re.identifier;return(Re=eu(Re,x)).point0=Re.slice(),Re.identifier=ot,Re});s1(x);var Ze=_(x,arguments,!0).beforestart();if("overlay"===T){L&&(he=!0);const Re=[Ie[0],Ie[1]||Ie[0]];N.selection=L=[[U=c===ID?$:rl(Re[0][0],Re[1][0]),te=c===AD?ee:rl(Re[0][1],Re[1][1])],[W=c===ID?j:il(Re[0][0],Re[1][0]),K=c===AD?G:il(Re[0][1],Re[1][1])]],Ie.length>1&&$e(w)}else U=L[0][0],te=L[0][1],W=L[1][0],K=L[1][1];z=U,B=te,q=W,J=K;var Ne=Io(x).attr("pointer-events","none"),Ve=Ne.selectAll(".overlay").attr("cursor",vp[T]);if(w.touches)Ze.moved=_e,Ze.ended=it;else{var nt=Io(w.view).on("mousemove.brush",_e,!0).on("mouseup.brush",it,!0);d&&nt.on("keydown.brush",function pt(Re){switch(Re.keyCode){case 16:de=k&&P;break;case 18:D===Ry&&(k&&(W=q-ie*k,U=z+ie*k),P&&(K=J-re*P,te=B+re*P),D=Ly,$e(Re));break;case 32:(D===Ry||D===Ly)&&(k<0?W=q-ie:k>0&&(U=z-ie),P<0?K=J-re:P>0&&(te=B-re),D=_7,Ve.attr("cursor",vp.selection),$e(Re));break;default:return}v7(Re)},!0).on("keyup.brush",function rt(Re){switch(Re.keyCode){case 16:de&&(ke=xe=de=!1,$e(Re));break;case 18:D===Ly&&(k<0?W=q:k>0&&(U=z),P<0?K=J:P>0&&(te=B),D=Ry,$e(Re));break;case 32:D===_7&&(Re.altKey?(k&&(W=q-ie*k,U=z+ie*k),P&&(K=J-re*P,te=B+re*P),D=Ly):(k<0?W=q:k>0&&(U=z),P<0?K=J:P>0&&(te=B),D=Ry),Ve.attr("cursor",vp[T]),$e(Re));break;default:return}v7(Re)},!0),mD(w.view)}v.call(x),Ze.start(w,D.name)}function _e(Re){for(const ot of Re.changedTouches||[Re])for(const nn of Ie)nn.identifier===ot.identifier&&(nn.cur=eu(ot,x));if(de&&!ke&&!xe&&1===Ie.length){const ot=Ie[0];Ooe(ot.cur[0]-ot[0])>Ooe(ot.cur[1]-ot[1])?xe=!0:ke=!0}for(const ot of Ie)ot.cur&&(ot[0]=ot.cur[0],ot[1]=ot.cur[1]);he=!0,v7(Re),$e(Re)}function $e(Re){const ot=Ie[0],nn=ot.point0;var An;switch(ie=ot[0]-nn[0],re=ot[1]-nn[1],D){case _7:case boe:k&&(ie=il($-U,rl(j-W,ie)),z=U+ie,q=W+ie),P&&(re=il(ee-te,rl(G-K,re)),B=te+re,J=K+re);break;case Ry:Ie[1]?(k&&(z=il($,rl(j,Ie[0][0])),q=il($,rl(j,Ie[1][0])),k=1),P&&(B=il(ee,rl(G,Ie[0][1])),J=il(ee,rl(G,Ie[1][1])),P=1)):(k<0?(ie=il($-U,rl(j-U,ie)),z=U+ie,q=W):k>0&&(ie=il($-W,rl(j-W,ie)),z=U,q=W+ie),P<0?(re=il(ee-te,rl(G-te,re)),B=te+re,J=K):P>0&&(re=il(ee-K,rl(G-K,re)),B=te,J=K+re));break;case Ly:k&&(z=il($,rl(j,U-ie*k)),q=il($,rl(j,W+ie*k))),P&&(B=il(ee,rl(G,te-re*P)),J=il(ee,rl(G,K+re*P)))}q<z&&(k*=-1,An=U,U=W,W=An,An=z,z=q,q=An,T in Soe&&Ve.attr("cursor",vp[T=Soe[T]])),J<B&&(P*=-1,An=te,te=K,K=An,An=B,B=J,J=An,T in woe&&Ve.attr("cursor",vp[T=woe[T]])),N.selection&&(L=N.selection),ke&&(z=L[0][0],q=L[1][0]),xe&&(B=L[0][1],J=L[1][1]),(L[0][0]!==z||L[0][1]!==B||L[1][0]!==q||L[1][1]!==J)&&(N.selection=[[z,B],[q,J]],v.call(x),Ze.brush(Re,D.name))}function it(Re){if(function P$e(c){c.stopImmediatePropagation()}(Re),Re.touches){if(Re.touches.length)return;g&&clearTimeout(g),g=setTimeout(function(){g=null},500)}else vD(Re.view,he),nt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ne.attr("pointer-events","all"),Ve.attr("cursor",vp.overlay),N.selection&&(L=N.selection),function B$e(c){return c[0][0]===c[1][0]||c[0][1]===c[1][1]}(L)&&(N.selection=null,v.call(x)),Ze.end(Re,D.name)}}function O(w){_(this,arguments).moved(w)}function C(w){_(this,arguments).ended(w)}function S(){var w=this.__brush||{selection:null};return w.extent=y7(l.apply(this,arguments)),w.dim=c,w}return m.move=function(w,x,T){w.tween?w.on("start.brush",function(D){_(this,arguments).beforestart().start(D)}).on("interrupt.brush end.brush",function(D){_(this,arguments).end(D)}).tween("brush",function(){var D=this,k=D.__brush,P=_(D,arguments),N=k.selection,F=c.input("function"==typeof x?x.apply(this,arguments):x,k.extent),L=Fg(N,F);function $(U){k.selection=1===U&&null===F?null:L(U),v.call(D),P.brush()}return null!==N&&null!==F?$:$(1)}):w.each(function(){var D=this,k=arguments,P=D.__brush,N=c.input("function"==typeof x?x.apply(D,k):x,P.extent),F=_(D,k).beforestart();s1(D),P.selection=null===N?null:N,v.call(D),F.start(T).brush(T).end(T)})},m.clear=function(w,x){m.move(w,null,x)},y.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(w,x){return this.starting?(this.starting=!1,this.emit("start",w,x)):this.emit("brush",w),this},brush:function(w,x){return this.emit("brush",w,x),this},end:function(w,x){return 0==--this.active&&(delete this.state.emitter,this.emit("end",w,x)),this},emit:function(w,x,T){var D=Io(this.that).datum();f.call(w,this.that,new E$e(w,{sourceEvent:x,target:m,selection:c.output(this.state.selection),mode:T,dispatch:f}),D)}},m.extent=function(w){return arguments.length?(l="function"==typeof w?w:m7(y7(w)),m):l},m.filter=function(w){return arguments.length?(a="function"==typeof w?w:m7(!!w),m):a},m.touchable=function(w){return arguments.length?(h="function"==typeof w?w:m7(!!w),m):h},m.handleSize=function(w){return arguments.length?(p=+w,m):p},m.keyModifiers=function(w){return arguments.length?(d=!!w,m):d},m.on=function(){var w=f.on.apply(f,arguments);return w===f?m:w},m}var xoe=Math.abs,Ny=Math.cos,Fy=Math.sin,Toe=Math.PI,RD=Toe/2,koe=2*Toe,Doe=Math.max,C7=1e-12;function S7(c,l){return Array.from({length:l-c},(a,h)=>c+h)}function H$e(){return w7(!1,!1)}function W$e(){return w7(!1,!0)}function Z$e(){return w7(!0,!1)}function w7(c,l){var a=0,h=null,d=null,f=null;function p(g){var C,m=g.length,v=new Array(m),_=S7(0,m),y=new Array(m*m),b=new Array(m),O=0;g=Float64Array.from({length:m*m},l?(S,w)=>g[w%m][w/m|0]:(S,w)=>g[w/m|0][w%m]);for(let S=0;S<m;++S){let w=0;for(let x=0;x<m;++x)w+=g[S*m+x]+c*g[x*m+S];O+=v[S]=w}C=(O=Doe(0,koe-a*m)/O)?a:koe/m;{let S=0;h&&_.sort((w,x)=>h(v[w],v[x]));for(const w of _){const x=S;if(c){const T=S7(1+~m,m).filter(D=>D<0?g[~D*m+w]:g[w*m+D]);d&&T.sort((D,k)=>d(D<0?-g[~D*m+w]:g[w*m+D],k<0?-g[~k*m+w]:g[w*m+k]));for(const D of T)D<0?(y[~D*m+w]||(y[~D*m+w]={source:null,target:null})).target={index:w,startAngle:S,endAngle:S+=g[~D*m+w]*O,value:g[~D*m+w]}:(y[w*m+D]||(y[w*m+D]={source:null,target:null})).source={index:w,startAngle:S,endAngle:S+=g[w*m+D]*O,value:g[w*m+D]};b[w]={index:w,startAngle:x,endAngle:S,value:v[w]}}else{const T=S7(0,m).filter(D=>g[w*m+D]||g[D*m+w]);d&&T.sort((D,k)=>d(g[w*m+D],g[w*m+k]));for(const D of T){let k;if(w<D?(k=y[w*m+D]||(y[w*m+D]={source:null,target:null}),k.source={index:w,startAngle:S,endAngle:S+=g[w*m+D]*O,value:g[w*m+D]}):(k=y[D*m+w]||(y[D*m+w]={source:null,target:null}),k.target={index:w,startAngle:S,endAngle:S+=g[w*m+D]*O,value:g[w*m+D]},w===D&&(k.source=k.target)),k.source&&k.target&&k.source.value<k.target.value){const P=k.source;k.source=k.target,k.target=P}}b[w]={index:w,startAngle:x,endAngle:S,value:v[w]}}S+=C}}return(y=Object.values(y)).groups=b,f?y.sort(f):y}return p.padAngle=function(g){return arguments.length?(a=Doe(0,g),p):a},p.sortGroups=function(g){return arguments.length?(h=g,p):h},p.sortSubgroups=function(g){return arguments.length?(d=g,p):d},p.sortChords=function(g){return arguments.length?(null==g?f=null:(f=function Q$e(c){return function(l,a){return c(l.source.value+l.target.value,a.source.value+a.target.value)}}(g))._=g,p):f&&f._},p}const x7=Math.PI,T7=2*x7,o1=1e-6,j$e=T7-o1;function Moe(c){this._+=c[0];for(let l=1,a=c.length;l<a;++l)this._+=arguments[l]+c[l]}class J2{constructor(l){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==l?Moe:function G$e(c){let l=Math.floor(c);if(!(l>=0))throw new Error(`invalid digits: ${c}`);if(l>15)return Moe;const a=10**l;return function(h){this._+=h[0];for(let d=1,f=h.length;d<f;++d)this._+=Math.round(arguments[d]*a)/a+h[d]}}(l)}moveTo(l,a){this._append`M${this._x0=this._x1=+l},${this._y0=this._y1=+a}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(l,a){this._append`L${this._x1=+l},${this._y1=+a}`}quadraticCurveTo(l,a,h,d){this._append`Q${+l},${+a},${this._x1=+h},${this._y1=+d}`}bezierCurveTo(l,a,h,d,f,p){this._append`C${+l},${+a},${+h},${+d},${this._x1=+f},${this._y1=+p}`}arcTo(l,a,h,d,f){if(l=+l,a=+a,h=+h,d=+d,(f=+f)<0)throw new Error(`negative radius: ${f}`);let p=this._x1,g=this._y1,m=h-l,v=d-a,_=p-l,y=g-a,b=_*_+y*y;if(null===this._x1)this._append`M${this._x1=l},${this._y1=a}`;else if(b>o1)if(Math.abs(y*m-v*_)>o1&&f){let O=h-p,C=d-g,S=m*m+v*v,w=O*O+C*C,x=Math.sqrt(S),T=Math.sqrt(b),D=f*Math.tan((x7-Math.acos((S+b-w)/(2*x*T)))/2),k=D/T,P=D/x;Math.abs(k-1)>o1&&this._append`L${l+k*_},${a+k*y}`,this._append`A${f},${f},0,0,${+(y*O>_*C)},${this._x1=l+P*m},${this._y1=a+P*v}`}else this._append`L${this._x1=l},${this._y1=a}`}arc(l,a,h,d,f,p){if(l=+l,a=+a,p=!!p,(h=+h)<0)throw new Error(`negative radius: ${h}`);let g=h*Math.cos(d),m=h*Math.sin(d),v=l+g,_=a+m,y=1^p,b=p?d-f:f-d;null===this._x1?this._append`M${v},${_}`:(Math.abs(this._x1-v)>o1||Math.abs(this._y1-_)>o1)&&this._append`L${v},${_}`,h&&(b<0&&(b=b%T7+T7),b>j$e?this._append`A${h},${h},0,1,${y},${l-g},${a-m}A${h},${h},0,1,${y},${this._x1=v},${this._y1=_}`:b>o1&&this._append`A${h},${h},0,${+(b>=x7)},${y},${this._x1=l+h*Math.cos(f)},${this._y1=a+h*Math.sin(f)}`)}rect(l,a,h,d){this._append`M${this._x0=this._x1=+l},${this._y0=this._y1=+a}h${h=+h}v${+d}h${-h}Z`}toString(){return this._}}function ew(){return new J2}function X$e(c=3){return new J2(+c)}ew.prototype=J2.prototype;var Y$e=Array.prototype.slice;function a1(c){return function(){return c}}function q$e(c){return c.source}function K$e(c){return c.target}function Eoe(c){return c.radius}function J$e(c){return c.startAngle}function eze(c){return c.endAngle}function tze(){return 0}function nze(){return 10}function Poe(c){var l=q$e,a=K$e,h=Eoe,d=Eoe,f=J$e,p=eze,g=tze,m=null;function v(){var _,y=l.apply(this,arguments),b=a.apply(this,arguments),O=g.apply(this,arguments)/2,C=Y$e.call(arguments),S=+h.apply(this,(C[0]=y,C)),w=f.apply(this,C)-RD,x=p.apply(this,C)-RD,T=+d.apply(this,(C[0]=b,C)),D=f.apply(this,C)-RD,k=p.apply(this,C)-RD;if(m||(m=_=ew()),O>C7&&(xoe(x-w)>2*O+C7?x>w?(w+=O,x-=O):(w-=O,x+=O):w=x=(w+x)/2,xoe(k-D)>2*O+C7?k>D?(D+=O,k-=O):(D-=O,k+=O):D=k=(D+k)/2),m.moveTo(S*Ny(w),S*Fy(w)),m.arc(0,0,S,w,x),w!==D||x!==k)if(c){var N=T-+c.apply(this,arguments),F=(D+k)/2;m.quadraticCurveTo(0,0,N*Ny(D),N*Fy(D)),m.lineTo(T*Ny(F),T*Fy(F)),m.lineTo(N*Ny(k),N*Fy(k))}else m.quadraticCurveTo(0,0,T*Ny(D),T*Fy(D)),m.arc(0,0,T,D,k);if(m.quadraticCurveTo(0,0,S*Ny(w),S*Fy(w)),m.closePath(),_)return m=null,_+""||null}return c&&(v.headRadius=function(_){return arguments.length?(c="function"==typeof _?_:a1(+_),v):c}),v.radius=function(_){return arguments.length?(h=d="function"==typeof _?_:a1(+_),v):h},v.sourceRadius=function(_){return arguments.length?(h="function"==typeof _?_:a1(+_),v):h},v.targetRadius=function(_){return arguments.length?(d="function"==typeof _?_:a1(+_),v):d},v.startAngle=function(_){return arguments.length?(f="function"==typeof _?_:a1(+_),v):f},v.endAngle=function(_){return arguments.length?(p="function"==typeof _?_:a1(+_),v):p},v.padAngle=function(_){return arguments.length?(g="function"==typeof _?_:a1(+_),v):g},v.source=function(_){return arguments.length?(l=_,v):l},v.target=function(_){return arguments.length?(a=_,v):a},v.context=function(_){return arguments.length?(m=_??null,v):m},v}function k7(){return Poe()}function ize(){return Poe(nze)}const Aoe=Math.PI/180,Ioe=180/Math.PI,Roe=.96422,Loe=1,Noe=.82521,Foe=4/29,By=6/29,Boe=3*By*By,rze=By*By*By;function Voe(c){if(c instanceof $h)return new $h(c.l,c.a,c.b,c.opacity);if(c instanceof Wd)return zoe(c);c instanceof _a||(c=t7(c));var f,p,l=P7(c.r),a=P7(c.g),h=P7(c.b),d=D7((.2225045*l+.7168786*a+.0606169*h)/Loe);return l===a&&a===h?f=p=d:(f=D7((.4360747*l+.3850649*a+.1430804*h)/Roe),p=D7((.0139322*l+.0971045*a+.7141733*h)/Noe)),new $h(116*d-16,500*(f-d),200*(d-p),c.opacity)}function sze(c,l){return new $h(c,0,0,l??1)}function ND(c,l,a,h){return 1===arguments.length?Voe(c):new $h(c,l,a,h??1)}function $h(c,l,a,h){this.l=+c,this.a=+l,this.b=+a,this.opacity=+h}function D7(c){return c>rze?Math.pow(c,1/3):c/Boe+Foe}function M7(c){return c>By?c*c*c:Boe*(c-Foe)}function E7(c){return 255*(c<=.0031308?12.92*c:1.055*Math.pow(c,1/2.4)-.055)}function P7(c){return(c/=255)<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function $oe(c){if(c instanceof Wd)return new Wd(c.h,c.c,c.l,c.opacity);if(c instanceof $h||(c=Voe(c)),0===c.a&&0===c.b)return new Wd(NaN,0<c.l&&c.l<100?0:NaN,c.l,c.opacity);var l=Math.atan2(c.b,c.a)*Ioe;return new Wd(l<0?l+360:l,Math.sqrt(c.a*c.a+c.b*c.b),c.l,c.opacity)}function oze(c,l,a,h){return 1===arguments.length?$oe(c):new Wd(a,l,c,h??1)}function FD(c,l,a,h){return 1===arguments.length?$oe(c):new Wd(c,l,a,h??1)}function Wd(c,l,a,h){this.h=+c,this.c=+l,this.l=+a,this.opacity=+h}function zoe(c){if(isNaN(c.h))return new $h(c.l,0,0,c.opacity);var l=c.h*Aoe;return new $h(c.l,Math.cos(l)*c.c,Math.sin(l)*c.c,c.opacity)}Ey($h,ND,Q2(Ng,{brighter(c){return new $h(this.l+18*(c??1),this.a,this.b,this.opacity)},darker(c){return new $h(this.l-18*(c??1),this.a,this.b,this.opacity)},rgb(){var c=(this.l+16)/116,l=isNaN(this.a)?c:c+this.a/500,a=isNaN(this.b)?c:c-this.b/200;return new _a(E7(3.1338561*(l=Roe*M7(l))-1.6168667*(c=Loe*M7(c))-.4906146*(a=Noe*M7(a))),E7(-.9787684*l+1.9161415*c+.033454*a),E7(.0719453*l-.2289914*c+1.4052427*a),this.opacity)}})),Ey(Wd,FD,Q2(Ng,{brighter(c){return new Wd(this.h,this.c,this.l+18*(c??1),this.opacity)},darker(c){return new Wd(this.h,this.c,this.l-18*(c??1),this.opacity)},rgb(){return zoe(this).rgb()}}));var A7=1.78277,I7=-.29227,BD=-.90649,tw=1.97294,Qoe=tw*BD,Hoe=tw*A7,Woe=A7*I7- -.14861*BD;function zh(c,l,a,h){return 1===arguments.length?function aze(c){if(c instanceof l1)return new l1(c.h,c.s,c.l,c.opacity);c instanceof _a||(c=t7(c));var a=c.g/255,h=c.b/255,d=(Woe*h+Qoe*(c.r/255)-Hoe*a)/(Woe+Qoe-Hoe),f=h-d,p=(tw*(a-d)-I7*f)/BD,g=Math.sqrt(p*p+f*f)/(tw*d*(1-d)),m=g?Math.atan2(p,f)*Ioe-120:NaN;return new l1(m<0?m+360:m,g,d,c.opacity)}(c):new l1(c,l,a,h??1)}function l1(c,l,a,h){this.h=+c,this.s=+l,this.l=+a,this.opacity=+h}Ey(l1,zh,Q2(Ng,{brighter(c){return c=null==c?Py:Math.pow(Py,c),new l1(this.h,this.s,this.l*c,this.opacity)},darker(c){return c=null==c?.7:Math.pow(.7,c),new l1(this.h,this.s,this.l*c,this.opacity)},rgb(){var c=isNaN(this.h)?0:(this.h+120)*Aoe,l=+this.l,a=isNaN(this.s)?0:this.s*l*(1-l),h=Math.cos(c),d=Math.sin(c);return new _a(255*(l+a*(-.14861*h+A7*d)),255*(l+a*(I7*h+BD*d)),255*(l+a*(tw*h)),this.opacity)}}));var Zoe=Array.prototype.slice;function cze(c,l){return c-l}const Bg=c=>()=>c;function hze(c,l){for(var d,a=-1,h=l.length;++a<h;)if(d=dze(c,l[a]))return d;return 0}function dze(c,l){for(var a=l[0],h=l[1],d=-1,f=0,p=c.length,g=p-1;f<p;g=f++){var m=c[f],v=m[0],_=m[1],y=c[g],b=y[0],O=y[1];if(fze(m,y,l))return 0;_>h!=O>h&&a<(b-v)*(h-_)/(O-_)+v&&(d=-d)}return d}function fze(c,l,a){var h;return function pze(c,l,a){return(l[0]-c[0])*(a[1]-c[1])==(a[0]-c[0])*(l[1]-c[1])}(c,l,a)&&function gze(c,l,a){return c<=l&&l<=a||a<=l&&l<=c}(c[h=+(c[0]===l[0])],a[h],l[h])}function mze(){}var _p=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function R7(){var c=1,l=1,a=U6,h=m;function d(v){var _=a(v);if(Array.isArray(_))_=_.slice().sort(cze);else{const y=X0(v,vze);for(_=q0(...z6(y[0],y[1],_),_);_[_.length-1]>=y[1];)_.pop();for(;_[1]<y[0];)_.shift()}return _.map(y=>f(v,y))}function f(v,_){const y=null==_?NaN:+_;if(isNaN(y))throw new Error(`invalid value: ${_}`);var b=[],O=[];return function p(v,_,y){var C,S,w,x,T,D,b=new Array,O=new Array;for(C=S=-1,x=c1(v[0],_),_p[x<<1].forEach(k);++C<c-1;)w=x,x=c1(v[C+1],_),_p[w|x<<1].forEach(k);for(_p[x<<0].forEach(k);++S<l-1;){for(C=-1,x=c1(v[S*c+c],_),T=c1(v[S*c],_),_p[x<<1|T<<2].forEach(k);++C<c-1;)w=x,x=c1(v[S*c+c+C+1],_),D=T,T=c1(v[S*c+C+1],_),_p[w|x<<1|T<<2|D<<3].forEach(k);_p[x|T<<3].forEach(k)}for(C=-1,_p[(T=v[S*c]>=_)<<2].forEach(k);++C<c-1;)D=T,T=c1(v[S*c+C+1],_),_p[T<<2|D<<3].forEach(k);function k(P){var U,z,N=[P[0][0]+C,P[0][1]+S],F=[P[1][0]+C,P[1][1]+S],L=g(N),$=g(F);(U=O[L])?(z=b[$])?(delete O[U.end],delete b[z.start],U===z?(U.ring.push(F),y(U.ring)):b[U.start]=O[z.end]={start:U.start,end:z.end,ring:U.ring.concat(z.ring)}):(delete O[U.end],U.ring.push(F),O[U.end=$]=U):(U=b[$])?(z=O[L])?(delete b[U.start],delete O[z.end],U===z?(U.ring.push(F),y(U.ring)):b[z.start]=O[U.end]={start:z.start,end:U.end,ring:z.ring.concat(U.ring)}):(delete b[U.start],U.ring.unshift(N),b[U.start=L]=U):b[L]=O[$]={start:L,end:$,ring:[N,F]}}_p[T<<3].forEach(k)}(v,y,function(C){h(C,v,y),function uze(c){for(var l=0,a=c.length,h=c[a-1][1]*c[0][0]-c[a-1][0]*c[0][1];++l<a;)h+=c[l-1][1]*c[l][0]-c[l-1][0]*c[l][1];return h}(C)>0?b.push([C]):O.push(C)}),O.forEach(function(C){for(var x,S=0,w=b.length;S<w;++S)if(-1!==hze((x=b[S])[0],C))return void x.push(C)}),{type:"MultiPolygon",value:_,coordinates:b}}function g(v){return 2*v[0]+v[1]*(c+1)*4}function m(v,_,y){v.forEach(function(b){var O=b[0],C=b[1],S=0|O,w=0|C,x=L7(_[w*c+S]);O>0&&O<c&&S===O&&(b[0]=joe(O,L7(_[w*c+S-1]),x,y)),C>0&&C<l&&w===C&&(b[1]=joe(C,L7(_[(w-1)*c+S]),x,y))})}return d.contour=f,d.size=function(v){if(!arguments.length)return[c,l];var _=Math.floor(v[0]),y=Math.floor(v[1]);if(!(_>=0&&y>=0))throw new Error("invalid size");return c=_,l=y,d},d.thresholds=function(v){return arguments.length?(a="function"==typeof v?v:Array.isArray(v)?Bg(Zoe.call(v)):Bg(v),d):a},d.smooth=function(v){return arguments.length?(h=v?m:mze,d):h===m},d}function vze(c){return isFinite(c)?c:NaN}function c1(c,l){return null!=c&&+c>=l}function L7(c){return null==c||isNaN(c=+c)?-1/0:c}function joe(c,l,a,h){const d=h-l,f=a-l,p=isFinite(d)||isFinite(f)?d/f:Math.sign(d)/Math.sign(f);return isNaN(p)?c:c+p-.5}function _ze(c){return c[0]}function yze(c){return c[1]}function bze(){return 1}function Oze(){var c=_ze,l=yze,a=bze,h=960,d=500,f=20,p=2,g=3*f,m=h+2*g>>p,v=d+2*g>>p,_=Bg(20);function y(T){var D=new Float32Array(m*v),k=Math.pow(2,-p),P=-1;for(const te of T){var N=(c(te,++P,T)+g)*k,F=(l(te,P,T)+g)*k,L=+a(te,P,T);if(L&&N>=0&&N<m&&F>=0&&F<v){var $=Math.floor(N),U=Math.floor(F),z=N-$-.5,ee=F-U-.5;D[$+U*m]+=(1-z)*(1-ee)*L,D[$+1+U*m]+=z*(1-ee)*L,D[$+1+(U+1)*m]+=z*ee*L,D[$+(U+1)*m]+=(1-z)*ee*L}}return tse({data:D,width:m,height:v},f*k),D}function b(T){var D=y(T),k=_(D),P=Math.pow(2,2*p);return Array.isArray(k)||(k=q0(Number.MIN_VALUE,F2(D)/P,k)),R7().size([m,v]).thresholds(k.map(N=>N*P))(D).map((N,F)=>(N.value=+k[F],O(N)))}function O(T){return T.coordinates.forEach(C),T}function C(T){T.forEach(S)}function S(T){T.forEach(w)}function w(T){T[0]=T[0]*Math.pow(2,p)-g,T[1]=T[1]*Math.pow(2,p)-g}function x(){return m=h+2*(g=3*f)>>p,v=d+2*g>>p,b}return b.contours=function(T){var D=y(T),k=R7().size([m,v]),P=Math.pow(2,2*p),N=F=>{var L=O(k.contour(D,(F=+F)*P));return L.value=F,L};return Object.defineProperty(N,"max",{get:()=>F2(D)/P}),N},b.x=function(T){return arguments.length?(c="function"==typeof T?T:Bg(+T),b):c},b.y=function(T){return arguments.length?(l="function"==typeof T?T:Bg(+T),b):l},b.weight=function(T){return arguments.length?(a="function"==typeof T?T:Bg(+T),b):a},b.size=function(T){if(!arguments.length)return[h,d];var D=+T[0],k=+T[1];if(!(D>=0&&k>=0))throw new Error("invalid size");return h=D,d=k,x()},b.cellSize=function(T){if(!arguments.length)return 1<<p;if(!((T=+T)>=1))throw new Error("invalid cell size");return p=Math.floor(Math.log(T)/Math.LN2),x()},b.thresholds=function(T){return arguments.length?(_="function"==typeof T?T:Array.isArray(T)?Bg(Zoe.call(T)):Bg(T),b):_},b.bandwidth=function(T){if(!arguments.length)return Math.sqrt(f*(f+1));if(!((T=+T)>=0))throw new Error("invalid bandwidth");return f=(Math.sqrt(4*T*T+1)-1)/2,x()},b}const ea=134217729;function nw(c,l,a,h,d){let f,p,g,m,v=l[0],_=h[0],y=0,b=0;_>v==_>-v?(f=v,v=l[++y]):(f=_,_=h[++b]);let O=0;if(y<c&&b<a)for(_>v==_>-v?(p=v+f,g=f-(p-v),v=l[++y]):(p=_+f,g=f-(p-_),_=h[++b]),f=p,0!==g&&(d[O++]=g);y<c&&b<a;)_>v==_>-v?(p=f+v,m=p-f,g=f-(p-m)+(v-m),v=l[++y]):(p=f+_,m=p-f,g=f-(p-m)+(_-m),_=h[++b]),f=p,0!==g&&(d[O++]=g);for(;y<c;)p=f+v,m=p-f,g=f-(p-m)+(v-m),v=l[++y],f=p,0!==g&&(d[O++]=g);for(;b<a;)p=f+_,m=p-f,g=f-(p-m)+(_-m),_=h[++b],f=p,0!==g&&(d[O++]=g);return(0!==f||0===O)&&(d[O++]=f),O}function qt(c){return new Float64Array(c)}const Vy=qt(4),Goe=qt(8),Xoe=qt(12),Yoe=qt(16),$l=qt(4);function VD(c,l,a,h,d,f){const p=(l-f)*(a-d),g=(c-d)*(h-f),m=p-g,v=Math.abs(p+g);return Math.abs(m)>=33306690738754716e-32*v?m:-function kze(c,l,a,h,d,f,p){let g,m,v,_,y,b,O,C,S,w,x,T,D,k,P,N,F,L;const $=c-d,U=a-d,z=l-f,ee=h-f;k=$*ee,b=ea*$,O=b-(b-$),C=$-O,b=ea*ee,S=b-(b-ee),w=ee-S,P=C*w-(k-O*S-C*S-O*w),N=z*U,b=ea*z,O=b-(b-z),C=z-O,b=ea*U,S=b-(b-U),w=U-S,F=C*w-(N-O*S-C*S-O*w),x=P-F,y=P-x,Vy[0]=P-(x+y)+(y-F),T=k+x,y=T-k,D=k-(T-y)+(x-y),x=D-N,y=D-x,Vy[1]=D-(x+y)+(y-N),L=T+x,y=L-T,Vy[2]=T-(L-y)+(x-y),Vy[3]=L;let te=function Sze(c,l){let a=l[0];for(let h=1;h<c;h++)a+=l[h];return a}(4,Vy),B=22204460492503146e-32*p;if(te>=B||-te>=B||(y=c-$,g=c-($+y)+(y-d),y=a-U,v=a-(U+y)+(y-d),y=l-z,m=l-(z+y)+(y-f),y=h-ee,_=h-(ee+y)+(y-f),0===g&&0===m&&0===v&&0===_)||(B=11093356479670487e-47*p+33306690738754706e-32*Math.abs(te),te+=$*_+ee*g-(z*v+U*m),te>=B||-te>=B))return te;k=g*ee,b=ea*g,O=b-(b-g),C=g-O,b=ea*ee,S=b-(b-ee),w=ee-S,P=C*w-(k-O*S-C*S-O*w),N=m*U,b=ea*m,O=b-(b-m),C=m-O,b=ea*U,S=b-(b-U),w=U-S,F=C*w-(N-O*S-C*S-O*w),x=P-F,y=P-x,$l[0]=P-(x+y)+(y-F),T=k+x,y=T-k,D=k-(T-y)+(x-y),x=D-N,y=D-x,$l[1]=D-(x+y)+(y-N),L=T+x,y=L-T,$l[2]=T-(L-y)+(x-y),$l[3]=L;const j=nw(4,Vy,4,$l,Goe);k=$*_,b=ea*$,O=b-(b-$),C=$-O,b=ea*_,S=b-(b-_),w=_-S,P=C*w-(k-O*S-C*S-O*w),N=z*v,b=ea*z,O=b-(b-z),C=z-O,b=ea*v,S=b-(b-v),w=v-S,F=C*w-(N-O*S-C*S-O*w),x=P-F,y=P-x,$l[0]=P-(x+y)+(y-F),T=k+x,y=T-k,D=k-(T-y)+(x-y),x=D-N,y=D-x,$l[1]=D-(x+y)+(y-N),L=T+x,y=L-T,$l[2]=T-(L-y)+(x-y),$l[3]=L;const W=nw(j,Goe,4,$l,Xoe);k=g*_,b=ea*g,O=b-(b-g),C=g-O,b=ea*_,S=b-(b-_),w=_-S,P=C*w-(k-O*S-C*S-O*w),N=m*v,b=ea*m,O=b-(b-m),C=m-O,b=ea*v,S=b-(b-v),w=v-S,F=C*w-(N-O*S-C*S-O*w),x=P-F,y=P-x,$l[0]=P-(x+y)+(y-F),T=k+x,y=T-k,D=k-(T-y)+(x-y),x=D-N,y=D-x,$l[1]=D-(x+y)+(y-N),L=T+x,y=L-T,$l[2]=T-(L-y)+(x-y),$l[3]=L;const q=nw(W,Xoe,4,$l,Yoe);return Yoe[q-1]}(c,l,a,h,d,f,v)}qt(4),qt(4),qt(4),qt(4),qt(4),qt(4),qt(4),qt(4),qt(4),qt(8),qt(8),qt(8),qt(4),qt(8),qt(8),qt(8),qt(12),qt(192),qt(192),qt(4),qt(4),qt(4),qt(4),qt(4),qt(4),qt(4),qt(4),qt(8),qt(8),qt(8),qt(8),qt(8),qt(8),qt(8),qt(8),qt(8),qt(4),qt(4),qt(4),qt(8),qt(16),qt(16),qt(16),qt(32),qt(32),qt(48),qt(64),qt(1152),qt(1152),qt(4),qt(4),qt(4),qt(4),qt(4),qt(4),qt(4),qt(4),qt(4),qt(4),qt(24),qt(24),qt(24),qt(24),qt(24),qt(24),qt(24),qt(24),qt(24),qt(24),qt(1152),qt(1152),qt(1152),qt(1152),qt(1152),qt(2304),qt(2304),qt(3456),qt(5760),qt(8),qt(8),qt(8),qt(16),qt(24),qt(48),qt(48),qt(96),qt(192),qt(384),qt(384),qt(384),qt(768),qt(96),qt(96),qt(96),qt(1152);const vae=Math.pow(2,-52),XD=new Uint32Array(512);class YD{static from(l,a=jze,h=Gze){const d=l.length,f=new Float64Array(2*d);for(let p=0;p<d;p++){const g=l[p];f[2*p]=a(g),f[2*p+1]=h(g)}return new YD(f)}constructor(l){const a=l.length>>1;if(a>0&&"number"!=typeof l[0])throw new Error("Expected coords to contain numbers.");this.coords=l;const h=Math.max(2*a-5,0);this._triangles=new Uint32Array(3*h),this._halfedges=new Int32Array(3*h),this._hashSize=Math.ceil(Math.sqrt(a)),this._hullPrev=new Uint32Array(a),this._hullNext=new Uint32Array(a),this._hullTri=new Uint32Array(a),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(a),this._dists=new Float64Array(a),this.update()}update(){const{coords:l,_hullPrev:a,_hullNext:h,_hullTri:d,_hullHash:f}=this,p=l.length>>1;let g=1/0,m=1/0,v=-1/0,_=-1/0;for(let U=0;U<p;U++){const z=l[2*U],ee=l[2*U+1];z<g&&(g=z),ee<m&&(m=ee),z>v&&(v=z),ee>_&&(_=ee),this._ids[U]=U}const y=(g+v)/2,b=(m+_)/2;let C,S,w,O=1/0;for(let U=0;U<p;U++){const z=aB(y,b,l[2*U],l[2*U+1]);z<O&&(C=U,O=z)}const x=l[2*C],T=l[2*C+1];O=1/0;for(let U=0;U<p;U++){if(U===C)continue;const z=aB(x,T,l[2*U],l[2*U+1]);z<O&&z>0&&(S=U,O=z)}let D=l[2*S],k=l[2*S+1],P=1/0;for(let U=0;U<p;U++){if(U===C||U===S)continue;const z=Wze(x,T,D,k,l[2*U],l[2*U+1]);z<P&&(w=U,P=z)}let N=l[2*w],F=l[2*w+1];if(P===1/0){for(let ee=0;ee<p;ee++)this._dists[ee]=l[2*ee]-l[0]||l[2*ee+1]-l[1];jy(this._ids,this._dists,0,p-1);const U=new Uint32Array(p);let z=0;for(let ee=0,te=-1/0;ee<p;ee++){const B=this._ids[ee];this._dists[B]>te&&(U[z++]=B,te=this._dists[B])}return this.hull=U.subarray(0,z),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(VD(x,T,D,k,N,F)<0){const U=S,z=D,ee=k;S=w,D=N,k=F,w=U,N=z,F=ee}const L=function Zze(c,l,a,h,d,f){const p=a-c,g=h-l,m=d-c,v=f-l,_=p*p+g*g,y=m*m+v*v,b=.5/(p*v-g*m);return{x:c+(v*_-g*y)*b,y:l+(p*y-m*_)*b}}(x,T,D,k,N,F);this._cx=L.x,this._cy=L.y;for(let U=0;U<p;U++)this._dists[U]=aB(l[2*U],l[2*U+1],L.x,L.y);jy(this._ids,this._dists,0,p-1),this._hullStart=C;let $=3;h[C]=a[w]=S,h[S]=a[C]=w,h[w]=a[S]=C,d[C]=0,d[S]=1,d[w]=2,f.fill(-1),f[this._hashKey(x,T)]=C,f[this._hashKey(D,k)]=S,f[this._hashKey(N,F)]=w,this.trianglesLen=0,this._addTriangle(C,S,w,-1,-1,-1);for(let z,ee,U=0;U<this._ids.length;U++){const te=this._ids[U],B=l[2*te],j=l[2*te+1];if(U>0&&Math.abs(B-z)<=vae&&Math.abs(j-ee)<=vae||(z=B,ee=j,te===C||te===S||te===w))continue;let W=0;for(let ie=0,re=this._hashKey(B,j);ie<this._hashSize&&(W=f[(re+ie)%this._hashSize],-1===W||W===h[W]);ie++);W=a[W];let G,q=W;for(;G=h[q],VD(B,j,l[2*q],l[2*q+1],l[2*G],l[2*G+1])>=0;)if(q=G,q===W){q=-1;break}if(-1===q)continue;let K=this._addTriangle(q,te,h[q],-1,-1,d[q]);d[te]=this._legalize(K+2),d[q]=K,$++;let J=h[q];for(;G=h[J],VD(B,j,l[2*J],l[2*J+1],l[2*G],l[2*G+1])<0;)K=this._addTriangle(J,te,G,d[te],-1,d[J]),d[te]=this._legalize(K+2),h[J]=J,$--,J=G;if(q===W)for(;G=a[q],VD(B,j,l[2*G],l[2*G+1],l[2*q],l[2*q+1])<0;)K=this._addTriangle(G,te,q,-1,d[q],d[G]),this._legalize(K+2),d[G]=K,h[q]=q,$--,q=G;this._hullStart=a[te]=q,h[q]=a[J]=te,h[te]=J,f[this._hashKey(B,j)]=te,f[this._hashKey(l[2*q],l[2*q+1])]=q}this.hull=new Uint32Array($);for(let U=0,z=this._hullStart;U<$;U++)this.hull[U]=z,z=h[z];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(l,a){return Math.floor(function Qze(c,l){const a=c/(Math.abs(c)+Math.abs(l));return(l>0?3-a:1+a)/4}(l-this._cx,a-this._cy)*this._hashSize)%this._hashSize}_legalize(l){const{_triangles:a,_halfedges:h,coords:d}=this;let f=0,p=0;for(;;){const g=h[l],m=l-l%3;if(p=m+(l+2)%3,-1===g){if(0===f)break;l=XD[--f];continue}const v=g-g%3,y=v+(g+2)%3,b=a[p],O=a[l],C=a[m+(l+1)%3],S=a[y];if(Hze(d[2*b],d[2*b+1],d[2*O],d[2*O+1],d[2*C],d[2*C+1],d[2*S],d[2*S+1])){a[l]=S,a[g]=b;const x=h[y];if(-1===x){let D=this._hullStart;do{if(this._hullTri[D]===y){this._hullTri[D]=l;break}D=this._hullPrev[D]}while(D!==this._hullStart)}this._link(l,x),this._link(g,h[p]),this._link(p,y),f<XD.length&&(XD[f++]=v+(g+1)%3)}else{if(0===f)break;l=XD[--f]}}return p}_link(l,a){this._halfedges[l]=a,-1!==a&&(this._halfedges[a]=l)}_addTriangle(l,a,h,d,f,p){const g=this.trianglesLen;return this._triangles[g]=l,this._triangles[g+1]=a,this._triangles[g+2]=h,this._link(g,d),this._link(g+1,f),this._link(g+2,p),this.trianglesLen+=3,g}}function aB(c,l,a,h){const d=c-a,f=l-h;return d*d+f*f}function Hze(c,l,a,h,d,f,p,g){const m=c-p,v=l-g,_=a-p,y=h-g,b=d-p,O=f-g,S=_*_+y*y,w=b*b+O*O;return m*(y*w-S*O)-v*(_*w-S*b)+(m*m+v*v)*(_*O-y*b)<0}function Wze(c,l,a,h,d,f){const p=a-c,g=h-l,m=d-c,v=f-l,_=p*p+g*g,y=m*m+v*v,b=.5/(p*v-g*m),O=(v*_-g*y)*b,C=(p*y-m*_)*b;return O*O+C*C}function jy(c,l,a,h){if(h-a<=20)for(let d=a+1;d<=h;d++){const f=c[d],p=l[f];let g=d-1;for(;g>=a&&l[c[g]]>p;)c[g+1]=c[g--];c[g+1]=f}else{let f=a+1,p=h;ow(c,a+h>>1,f),l[c[a]]>l[c[h]]&&ow(c,a,h),l[c[f]]>l[c[h]]&&ow(c,f,h),l[c[a]]>l[c[f]]&&ow(c,a,f);const g=c[f],m=l[g];for(;;){do{f++}while(l[c[f]]<m);do{p--}while(l[c[p]]>m);if(p<f)break;ow(c,f,p)}c[a+1]=c[p],c[p]=g,h-f+1>=p-a?(jy(c,l,f,h),jy(c,l,a,p-1)):(jy(c,l,a,p-1),jy(c,l,f,h))}}function ow(c,l,a){const h=c[l];c[l]=c[a],c[a]=h}function jze(c){return c[0]}function Gze(c){return c[1]}class _1{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(l,a){this._+=`M${this._x0=this._x1=+l},${this._y0=this._y1=+a}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(l,a){this._+=`L${this._x1=+l},${this._y1=+a}`}arc(l,a,h){const d=(l=+l)+(h=+h),f=a=+a;if(h<0)throw new Error("negative radius");null===this._x1?this._+=`M${d},${f}`:(Math.abs(this._x1-d)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+d+","+f),h&&(this._+=`A${h},${h},0,1,1,${l-h},${a}A${h},${h},0,1,1,${this._x1=d},${this._y1=f}`)}rect(l,a,h,d){this._+=`M${this._x0=this._x1=+l},${this._y0=this._y1=+a}h${+h}v${+d}h${-h}Z`}value(){return this._||null}}class lB{constructor(){this._=[]}moveTo(l,a){this._.push([l,a])}closePath(){this._.push(this._[0].slice())}lineTo(l,a){this._.push([l,a])}value(){return this._.length?this._:null}}class yae{constructor(l,[a,h,d,f]=[0,0,960,500]){if(!((d=+d)>=(a=+a)&&(f=+f)>=(h=+h)))throw new Error("invalid bounds");this.delaunay=l,this._circumcenters=new Float64Array(2*l.points.length),this.vectors=new Float64Array(2*l.points.length),this.xmax=d,this.xmin=a,this.ymax=f,this.ymin=h,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:l,hull:a,triangles:h},vectors:d}=this;let f,p;const g=this.circumcenters=this._circumcenters.subarray(0,h.length/3*2);for(let T,D,S=0,w=0,x=h.length;S<x;S+=3,w+=2){const k=2*h[S],P=2*h[S+1],N=2*h[S+2],F=l[k],L=l[k+1],z=l[N],ee=l[N+1],te=l[P]-F,B=l[P+1]-L,j=z-F,W=ee-L,q=2*(te*W-B*j);if(Math.abs(q)<1e-9){if(void 0===f){f=p=0;for(const K of a)f+=l[2*K],p+=l[2*K+1];f/=a.length,p/=a.length}const G=1e9*Math.sign((f-F)*W-(p-L)*j);T=(F+z)/2-G*W,D=(L+ee)/2+G*j}else{const G=1/q,K=te*te+B*B,J=j*j+W*W;T=F+(W*K-B*J)*G,D=L+(te*J-j*K)*G}g[w]=T,g[w+1]=D}let v,y,O,m=a[a.length-1],_=4*m,b=l[2*m],C=l[2*m+1];d.fill(0);for(let S=0;S<a.length;++S)m=a[S],v=_,y=b,O=C,_=4*m,b=l[2*m],C=l[2*m+1],d[v+2]=d[_]=O-C,d[v+3]=d[_+1]=b-y}render(l){const a=null==l?l=new _1:void 0,{delaunay:{halfedges:h,inedges:d,hull:f},circumcenters:p,vectors:g}=this;if(f.length<=1)return null;for(let _=0,y=h.length;_<y;++_){const b=h[_];if(b<_)continue;const O=2*Math.floor(_/3),C=2*Math.floor(b/3);this._renderSegment(p[O],p[O+1],p[C],p[C+1],l)}let m,v=f[f.length-1];for(let _=0;_<f.length;++_){m=v,v=f[_];const y=2*Math.floor(d[v]/3),b=p[y],O=p[y+1],C=4*m,S=this._project(b,O,g[C+2],g[C+3]);S&&this._renderSegment(b,O,S[0],S[1],l)}return a&&a.value()}renderBounds(l){const a=null==l?l=new _1:void 0;return l.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),a&&a.value()}renderCell(l,a){const h=null==a?a=new _1:void 0,d=this._clip(l);if(null===d||!d.length)return;a.moveTo(d[0],d[1]);let f=d.length;for(;d[0]===d[f-2]&&d[1]===d[f-1]&&f>1;)f-=2;for(let p=2;p<f;p+=2)(d[p]!==d[p-2]||d[p+1]!==d[p-1])&&a.lineTo(d[p],d[p+1]);return a.closePath(),h&&h.value()}*cellPolygons(){const{delaunay:{points:l}}=this;for(let a=0,h=l.length/2;a<h;++a){const d=this.cellPolygon(a);d&&(d.index=a,yield d)}}cellPolygon(l){const a=new lB;return this.renderCell(l,a),a.value()}_renderSegment(l,a,h,d,f){let p;const g=this._regioncode(l,a),m=this._regioncode(h,d);0===g&&0===m?(f.moveTo(l,a),f.lineTo(h,d)):(p=this._clipSegment(l,a,h,d,g,m))&&(f.moveTo(p[0],p[1]),f.lineTo(p[2],p[3]))}contains(l,a,h){return(a=+a)==a&&(h=+h)==h&&this.delaunay._step(l,a,h)===l}*neighbors(l){const a=this._clip(l);if(a)for(const h of this.delaunay.neighbors(l)){const d=this._clip(h);if(d)e:for(let f=0,p=a.length;f<p;f+=2)for(let g=0,m=d.length;g<m;g+=2)if(a[f]===d[g]&&a[f+1]===d[g+1]&&a[(f+2)%p]===d[(g+m-2)%m]&&a[(f+3)%p]===d[(g+m-1)%m]){yield h;break e}}}_cell(l){const{circumcenters:a,delaunay:{inedges:h,halfedges:d,triangles:f}}=this,p=h[l];if(-1===p)return null;const g=[];let m=p;do{const v=Math.floor(m/3);if(g.push(a[2*v],a[2*v+1]),m=m%3==2?m-2:m+1,f[m]!==l)break;m=d[m]}while(m!==p&&-1!==m);return g}_clip(l){if(0===l&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const a=this._cell(l);if(null===a)return null;const{vectors:h}=this,d=4*l;return this._simplify(h[d]||h[d+1]?this._clipInfinite(l,a,h[d],h[d+1],h[d+2],h[d+3]):this._clipFinite(l,a))}_clipFinite(l,a){const h=a.length;let f,p,v,y,d=null,g=a[h-2],m=a[h-1],_=this._regioncode(g,m),b=0;for(let O=0;O<h;O+=2)if(f=g,p=m,g=a[O],m=a[O+1],v=_,_=this._regioncode(g,m),0===v&&0===_)y=b,b=0,d?d.push(g,m):d=[g,m];else{let C,S,w,x,T;if(0===v){if(null===(C=this._clipSegment(f,p,g,m,v,_)))continue;[S,w,x,T]=C}else{if(null===(C=this._clipSegment(g,m,f,p,_,v)))continue;[x,T,S,w]=C,y=b,b=this._edgecode(S,w),y&&b&&this._edge(l,y,b,d,d.length),d?d.push(S,w):d=[S,w]}y=b,b=this._edgecode(x,T),y&&b&&this._edge(l,y,b,d,d.length),d?d.push(x,T):d=[x,T]}if(d)y=b,b=this._edgecode(d[0],d[1]),y&&b&&this._edge(l,y,b,d,d.length);else if(this.contains(l,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return d}_clipSegment(l,a,h,d,f,p){const g=f<p;for(g&&([l,a,h,d,f,p]=[h,d,l,a,p,f]);;){if(0===f&&0===p)return g?[h,d,l,a]:[l,a,h,d];if(f&p)return null;let m,v,_=f||p;8&_?(m=l+(h-l)*(this.ymax-a)/(d-a),v=this.ymax):4&_?(m=l+(h-l)*(this.ymin-a)/(d-a),v=this.ymin):2&_?(v=a+(d-a)*(this.xmax-l)/(h-l),m=this.xmax):(v=a+(d-a)*(this.xmin-l)/(h-l),m=this.xmin),f?f=this._regioncode(l=m,a=v):p=this._regioncode(h=m,d=v)}}_clipInfinite(l,a,h,d,f,p){let m,g=Array.from(a);if((m=this._project(g[0],g[1],h,d))&&g.unshift(m[0],m[1]),(m=this._project(g[g.length-2],g[g.length-1],f,p))&&g.push(m[0],m[1]),g=this._clipFinite(l,g))for(let y,v=0,_=g.length,b=this._edgecode(g[_-2],g[_-1]);v<_;v+=2)y=b,b=this._edgecode(g[v],g[v+1]),y&&b&&(v=this._edge(l,y,b,g,v),_=g.length);else this.contains(l,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(g=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return g}_edge(l,a,h,d,f){for(;a!==h;){let p,g;switch(a){case 5:a=4;continue;case 4:a=6,p=this.xmax,g=this.ymin;break;case 6:a=2;continue;case 2:a=10,p=this.xmax,g=this.ymax;break;case 10:a=8;continue;case 8:a=9,p=this.xmin,g=this.ymax;break;case 9:a=1;continue;case 1:a=5,p=this.xmin,g=this.ymin}(d[f]!==p||d[f+1]!==g)&&this.contains(l,p,g)&&(d.splice(f,0,p,g),f+=2)}return f}_project(l,a,h,d){let p,g,m,f=1/0;if(d<0){if(a<=this.ymin)return null;(p=(this.ymin-a)/d)<f&&(m=this.ymin,g=l+(f=p)*h)}else if(d>0){if(a>=this.ymax)return null;(p=(this.ymax-a)/d)<f&&(m=this.ymax,g=l+(f=p)*h)}if(h>0){if(l>=this.xmax)return null;(p=(this.xmax-l)/h)<f&&(g=this.xmax,m=a+(f=p)*d)}else if(h<0){if(l<=this.xmin)return null;(p=(this.xmin-l)/h)<f&&(g=this.xmin,m=a+(f=p)*d)}return[g,m]}_edgecode(l,a){return(l===this.xmin?1:l===this.xmax?2:0)|(a===this.ymin?4:a===this.ymax?8:0)}_regioncode(l,a){return(l<this.xmin?1:l>this.xmax?2:0)|(a<this.ymin?4:a>this.ymax?8:0)}_simplify(l){if(l&&l.length>4){for(let a=0;a<l.length;a+=2){const h=(a+2)%l.length,d=(a+4)%l.length;(l[a]===l[h]&&l[h]===l[d]||l[a+1]===l[h+1]&&l[h+1]===l[d+1])&&(l.splice(h,2),a-=2)}l.length||(l=null)}return l}}const Xze=2*Math.PI,Gy=Math.pow;function Yze(c){return c[0]}function qze(c){return c[1]}function Jze(c,l,a){return[c+Math.sin(c+l)*a,l+Math.cos(c-l)*a]}class cB{static from(l,a=Yze,h=qze,d){return new cB("length"in l?function eUe(c,l,a,h){const d=c.length,f=new Float64Array(2*d);for(let p=0;p<d;++p){const g=c[p];f[2*p]=l.call(h,g,p,c),f[2*p+1]=a.call(h,g,p,c)}return f}(l,a,h,d):Float64Array.from(function*tUe(c,l,a,h){let d=0;for(const f of c)yield l.call(h,f,d,c),yield a.call(h,f,d,c),++d}(l,a,h,d)))}constructor(l){this._delaunator=new YD(l),this.inedges=new Int32Array(l.length/2),this._hullIndex=new Int32Array(l.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const l=this._delaunator,a=this.points;if(l.hull&&l.hull.length>2&&function Kze(c){const{triangles:l,coords:a}=c;for(let h=0;h<l.length;h+=3){const d=2*l[h],f=2*l[h+1],p=2*l[h+2];if((a[p]-a[d])*(a[f+1]-a[d+1])-(a[f]-a[d])*(a[p+1]-a[d+1])>1e-10)return!1}return!0}(l)){this.collinear=Int32Array.from({length:a.length/2},(b,O)=>O).sort((b,O)=>a[2*b]-a[2*O]||a[2*b+1]-a[2*O+1]);const m=this.collinear[0],v=this.collinear[this.collinear.length-1],_=[a[2*m],a[2*m+1],a[2*v],a[2*v+1]],y=1e-8*Math.hypot(_[3]-_[1],_[2]-_[0]);for(let b=0,O=a.length/2;b<O;++b){const C=Jze(a[2*b],a[2*b+1],y);a[2*b]=C[0],a[2*b+1]=C[1]}this._delaunator=new YD(a)}else delete this.collinear;const h=this.halfedges=this._delaunator.halfedges,d=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,p=this.inedges.fill(-1),g=this._hullIndex.fill(-1);for(let m=0,v=h.length;m<v;++m){const _=f[m%3==2?m-2:m+1];(-1===h[m]||-1===p[_])&&(p[_]=m)}for(let m=0,v=d.length;m<v;++m)g[d[m]]=m;d.length<=2&&d.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=d[0],p[d[0]]=1,2===d.length&&(p[d[1]]=0,this.triangles[1]=d[1],this.triangles[2]=d[1]))}voronoi(l){return new yae(this,l)}*neighbors(l){const{inedges:a,hull:h,_hullIndex:d,halfedges:f,triangles:p,collinear:g}=this;if(g){const y=g.indexOf(l);return y>0&&(yield g[y-1]),void(y<g.length-1&&(yield g[y+1]))}const m=a[l];if(-1===m)return;let v=m,_=-1;do{if(yield _=p[v],v=v%3==2?v-2:v+1,p[v]!==l)return;if(v=f[v],-1===v){const y=h[(d[l]+1)%h.length];return void(y!==_&&(yield y))}}while(v!==m)}find(l,a,h=0){if((l=+l)!=l||(a=+a)!=a)return-1;const d=h;let f;for(;(f=this._step(h,l,a))>=0&&f!==h&&f!==d;)h=f;return f}_step(l,a,h){const{inedges:d,hull:f,_hullIndex:p,halfedges:g,triangles:m,points:v}=this;if(-1===d[l]||!v.length)return(l+1)%(v.length>>1);let _=l,y=Gy(a-v[2*l],2)+Gy(h-v[2*l+1],2);const b=d[l];let O=b;do{let C=m[O];const S=Gy(a-v[2*C],2)+Gy(h-v[2*C+1],2);if(S<y&&(y=S,_=C),O=O%3==2?O-2:O+1,m[O]!==l)break;if(O=g[O],-1===O){if(O=f[(p[l]+1)%f.length],O!==C&&Gy(a-v[2*O],2)+Gy(h-v[2*O+1],2)<y)return O;break}}while(O!==b);return _}render(l){const a=null==l?l=new _1:void 0,{points:h,halfedges:d,triangles:f}=this;for(let p=0,g=d.length;p<g;++p){const m=d[p];if(m<p)continue;const v=2*f[p],_=2*f[m];l.moveTo(h[v],h[v+1]),l.lineTo(h[_],h[_+1])}return this.renderHull(l),a&&a.value()}renderPoints(l,a){void 0===a&&(!l||"function"!=typeof l.moveTo)&&(a=l,l=null),a=null==a?2:+a;const h=null==l?l=new _1:void 0,{points:d}=this;for(let f=0,p=d.length;f<p;f+=2){const g=d[f],m=d[f+1];l.moveTo(g+a,m),l.arc(g,m,a,0,Xze)}return h&&h.value()}renderHull(l){const a=null==l?l=new _1:void 0,{hull:h,points:d}=this,f=2*h[0],p=h.length;l.moveTo(d[f],d[f+1]);for(let g=1;g<p;++g){const m=2*h[g];l.lineTo(d[m],d[m+1])}return l.closePath(),a&&a.value()}hullPolygon(){const l=new lB;return this.renderHull(l),l.value()}renderTriangle(l,a){const h=null==a?a=new _1:void 0,{points:d,triangles:f}=this,p=2*f[l*=3],g=2*f[l+1],m=2*f[l+2];return a.moveTo(d[p],d[p+1]),a.lineTo(d[g],d[g+1]),a.lineTo(d[m],d[m+1]),a.closePath(),h&&h.value()}*trianglePolygons(){const{triangles:l}=this;for(let a=0,h=l.length/3;a<h;++a)yield this.trianglePolygon(a)}trianglePolygon(l){const a=new lB;return this.renderTriangle(l,a),a.value()}}const qD=c=>()=>c;function uB(c,{sourceEvent:l,subject:a,target:h,identifier:d,active:f,x:p,y:g,dx:m,dy:v,dispatch:_}){Object.defineProperties(this,{type:{value:c,enumerable:!0,configurable:!0},sourceEvent:{value:l,enumerable:!0,configurable:!0},subject:{value:a,enumerable:!0,configurable:!0},target:{value:h,enumerable:!0,configurable:!0},identifier:{value:d,enumerable:!0,configurable:!0},active:{value:f,enumerable:!0,configurable:!0},x:{value:p,enumerable:!0,configurable:!0},y:{value:g,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:v,enumerable:!0,configurable:!0},_:{value:_}})}function nUe(c){return!c.ctrlKey&&!c.button}function iUe(){return this.parentNode}function rUe(c,l){return l??{x:c.x,y:c.y}}function sUe(){return navigator.maxTouchPoints||"ontouchstart"in this}function bae(){var g,m,v,_,c=nUe,l=iUe,a=rUe,h=sUe,d={},f=ky("start","drag","end"),p=0,y=0;function b(k){k.on("mousedown.drag",O).filter(h).on("touchstart.drag",w).on("touchmove.drag",x,KVe).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function O(k,P){if(!_&&c.call(this,k,P)){var N=D(this,l.call(this,k,P),k,P,"mouse");N&&(Io(k.view).on("mousemove.drag",C,U2).on("mouseup.drag",S,U2),mD(k.view),e7(k),v=!1,g=k.clientX,m=k.clientY,N("start",k))}}function C(k){if(My(k),!v){var P=k.clientX-g,N=k.clientY-m;v=P*P+N*N>y}d.mouse("drag",k)}function S(k){Io(k.view).on("mousemove.drag mouseup.drag",null),vD(k.view,v),My(k),d.mouse("end",k)}function w(k,P){if(c.call(this,k,P)){var $,U,N=k.changedTouches,F=l.call(this,k,P),L=N.length;for($=0;$<L;++$)(U=D(this,F,k,P,N[$].identifier,N[$]))&&(e7(k),U("start",k,N[$]))}}function x(k){var F,L,P=k.changedTouches,N=P.length;for(F=0;F<N;++F)(L=d[P[F].identifier])&&(My(k),L("drag",k,P[F]))}function T(k){var F,L,P=k.changedTouches,N=P.length;for(_&&clearTimeout(_),_=setTimeout(function(){_=null},500),F=0;F<N;++F)(L=d[P[F].identifier])&&(e7(k),L("end",k,P[F]))}function D(k,P,N,F,L,$){var ee,te,B,U=f.copy(),z=eu($||N,P);if(null!=(B=a.call(k,new uB("beforestart",{sourceEvent:N,target:b,identifier:L,active:p,x:z[0],y:z[1],dx:0,dy:0,dispatch:U}),F)))return ee=B.x-z[0]||0,te=B.y-z[1]||0,function j(W,q,G){var J,K=z;switch(W){case"start":d[L]=j,J=p++;break;case"end":delete d[L],--p;case"drag":z=eu(G||q,P),J=p}U.call(W,k,new uB(W,{sourceEvent:q,subject:B,target:b,identifier:L,active:J,x:z[0]+ee,y:z[1]+te,dx:z[0]-K[0],dy:z[1]-K[1],dispatch:U}),F)}}return b.filter=function(k){return arguments.length?(c="function"==typeof k?k:qD(!!k),b):c},b.container=function(k){return arguments.length?(l="function"==typeof k?k:qD(k),b):l},b.subject=function(k){return arguments.length?(a="function"==typeof k?k:qD(k),b):a},b.touchable=function(k){return arguments.length?(h="function"==typeof k?k:qD(!!k),b):h},b.on=function(){var k=f.on.apply(f,arguments);return k===f?b:k},b.clickDistance=function(k){return arguments.length?(y=(k=+k)*k,b):Math.sqrt(y)},b}uB.prototype.on=function(){var c=this._.on.apply(this._,arguments);return c===this._?this:c};var Oae={},hB={},dB=34,aw=10,fB=13;function Cae(c){return new Function("d","return {"+c.map(function(l,a){return JSON.stringify(l)+": d["+a+'] || ""'}).join(",")+"}")}function Sae(c){var l=Object.create(null),a=[];return c.forEach(function(h){for(var d in h)d in l||a.push(l[d]=d)}),a}function Dc(c,l){var a=c+"",h=a.length;return h<l?new Array(l-h+1).join(0)+a:a}function KD(c){var l=new RegExp('["'+c+"\n\r]"),a=c.charCodeAt(0);function d(y,b){var x,O=[],C=y.length,S=0,w=0,T=C<=0,D=!1;function k(){if(T)return hB;if(D)return D=!1,Oae;var N,L,F=S;if(y.charCodeAt(F)===dB){for(;S++<C&&y.charCodeAt(S)!==dB||y.charCodeAt(++S)===dB;);return(N=S)>=C?T=!0:(L=y.charCodeAt(S++))===aw?D=!0:L===fB&&(D=!0,y.charCodeAt(S)===aw&&++S),y.slice(F+1,N-1).replace(/""/g,'"')}for(;S<C;){if((L=y.charCodeAt(N=S++))===aw)D=!0;else if(L===fB)D=!0,y.charCodeAt(S)===aw&&++S;else if(L!==a)continue;return y.slice(F,N)}return T=!0,y.slice(F,C)}for(y.charCodeAt(C-1)===aw&&--C,y.charCodeAt(C-1)===fB&&--C;(x=k())!==hB;){for(var P=[];x!==Oae&&x!==hB;)P.push(x),x=k();b&&null==(P=b(P,w++))||O.push(P)}return O}function f(y,b){return y.map(function(O){return b.map(function(C){return _(O[C])}).join(c)})}function v(y){return y.map(_).join(c)}function _(y){return null==y?"":y instanceof Date?function lUe(c){var l=c.getUTCHours(),a=c.getUTCMinutes(),h=c.getUTCSeconds(),d=c.getUTCMilliseconds();return isNaN(c)?"Invalid Date":function aUe(c){return c<0?"-"+Dc(-c,6):c>9999?"+"+Dc(c,6):Dc(c,4)}(c.getUTCFullYear())+"-"+Dc(c.getUTCMonth()+1,2)+"-"+Dc(c.getUTCDate(),2)+(d?"T"+Dc(l,2)+":"+Dc(a,2)+":"+Dc(h,2)+"."+Dc(d,3)+"Z":h?"T"+Dc(l,2)+":"+Dc(a,2)+":"+Dc(h,2)+"Z":a||l?"T"+Dc(l,2)+":"+Dc(a,2)+"Z":"")}(y):l.test(y+="")?'"'+y.replace(/"/g,'""')+'"':y}return{parse:function h(y,b){var O,C,S=d(y,function(w,x){if(O)return O(w,x-1);C=w,O=b?function oUe(c,l){var a=Cae(c);return function(h,d){return l(a(h),d,c)}}(w,b):Cae(w)});return S.columns=C||[],S},parseRows:d,format:function p(y,b){return null==b&&(b=Sae(y)),[b.map(_).join(c)].concat(f(y,b)).join("\n")},formatBody:function g(y,b){return null==b&&(b=Sae(y)),f(y,b).join("\n")},formatRows:function m(y){return y.map(v).join("\n")},formatRow:v,formatValue:_}}var y1=KD(","),wae=y1.parse,cUe=y1.parseRows,uUe=y1.format,hUe=y1.formatBody,dUe=y1.formatRows,fUe=y1.formatRow,pUe=y1.formatValue,b1=KD("\t"),xae=b1.parse,gUe=b1.parseRows,mUe=b1.format,vUe=b1.formatBody,_Ue=b1.formatRows,yUe=b1.formatRow,bUe=b1.formatValue;function OUe(c){for(var l in c){var h,d,a=c[l].trim();if(a)if("true"===a)a=!0;else if("false"===a)a=!1;else if("NaN"===a)a=NaN;else if(isNaN(h=+a)){if(!(d=a.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;CUe&&d[4]&&!d[7]&&(a=a.replace(/-/g,"/").replace(/T/," ")),a=new Date(a)}else a=h;else a=null;c[l]=a}return c}const CUe=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),SUe=c=>+c;function wUe(c){return c*c}function xUe(c){return c*(2-c)}function Tae(c){return((c*=2)<=1?c*c:--c*(2-c)+1)/2}var TUe=function c(l){function a(h){return Math.pow(h,l)}return l=+l,a.exponent=c,a}(3),kUe=function c(l){function a(h){return 1-Math.pow(1-h,l)}return l=+l,a.exponent=c,a}(3),kae=function c(l){function a(h){return((h*=2)<=1?Math.pow(h,l):2-Math.pow(2-h,l))/2}return l=+l,a.exponent=c,a}(3),Dae=Math.PI,Mae=Dae/2;function DUe(c){return 1==+c?1:1-Math.cos(c*Mae)}function MUe(c){return Math.sin(c*Mae)}function Eae(c){return(1-Math.cos(Dae*c))/2}function Hg(c){return 1.0009775171065494*(Math.pow(2,-10*c)-.0009765625)}function EUe(c){return Hg(1-+c)}function PUe(c){return 1-Hg(c)}function Pae(c){return((c*=2)<=1?Hg(1-c):2-Hg(c-1))/2}function AUe(c){return 1-Math.sqrt(1-c*c)}function IUe(c){return Math.sqrt(1- --c*c)}function Aae(c){return((c*=2)<=1?1-Math.sqrt(1-c*c):Math.sqrt(1-(c-=2)*c)+1)/2}var gB=4/11,RUe=6/11,LUe=8/11,NUe=3/4,FUe=9/11,BUe=10/11,VUe=15/16,$Ue=21/22,zUe=63/64,JD=1/gB/gB;function UUe(c){return 1-lw(1-c)}function lw(c){return(c=+c)<gB?JD*c*c:c<LUe?JD*(c-=RUe)*c+NUe:c<BUe?JD*(c-=FUe)*c+VUe:JD*(c-=$Ue)*c+zUe}function QUe(c){return((c*=2)<=1?1-lw(1-c):lw(c-1)+1)/2}var mB=1.70158,HUe=function c(l){function a(h){return(h=+h)*h*(l*(h-1)+h)}return l=+l,a.overshoot=c,a}(mB),WUe=function c(l){function a(h){return--h*h*((h+1)*l+h)+1}return l=+l,a.overshoot=c,a}(mB),Iae=function c(l){function a(h){return((h*=2)<1?h*h*((l+1)*h-l):(h-=2)*h*((l+1)*h+l)+2)/2}return l=+l,a.overshoot=c,a}(mB),Xy=2*Math.PI,ZUe=function c(l,a){var h=Math.asin(1/(l=Math.max(1,l)))*(a/=Xy);function d(f){return l*Hg(- --f)*Math.sin((h-f)/a)}return d.amplitude=function(f){return c(f,a*Xy)},d.period=function(f){return c(l,f)},d}(1,.3),Rae=function c(l,a){var h=Math.asin(1/(l=Math.max(1,l)))*(a/=Xy);function d(f){return 1-l*Hg(f=+f)*Math.sin((f+h)/a)}return d.amplitude=function(f){return c(f,a*Xy)},d.period=function(f){return c(l,f)},d}(1,.3),jUe=function c(l,a){var h=Math.asin(1/(l=Math.max(1,l)))*(a/=Xy);function d(f){return((f=2*f-1)<0?l*Hg(-f)*Math.sin((h-f)/a):2-l*Hg(f)*Math.sin((h+f)/a))/2}return d.amplitude=function(f){return c(f,a*Xy)},d.period=function(f){return c(l,f)},d}(1,.3);function GUe(c){if(!c.ok)throw new Error(c.status+" "+c.statusText);return c.blob()}function XUe(c,l){return fetch(c,l).then(GUe)}function YUe(c){if(!c.ok)throw new Error(c.status+" "+c.statusText);return c.arrayBuffer()}function qUe(c,l){return fetch(c,l).then(YUe)}function KUe(c){if(!c.ok)throw new Error(c.status+" "+c.statusText);return c.text()}function eM(c,l){return fetch(c,l).then(KUe)}function Lae(c){return function(l,a,h){return 2===arguments.length&&"function"==typeof a&&(h=a,a=void 0),eM(l,a).then(function(d){return c(d,h)})}}function JUe(c,l,a,h){3===arguments.length&&"function"==typeof a&&(h=a,a=void 0);var d=KD(c);return eM(l,a).then(function(f){return d.parse(f,h)})}var eQe=Lae(wae),tQe=Lae(xae);function nQe(c,l){return new Promise(function(a,h){var d=new Image;for(var f in l)d[f]=l[f];d.onerror=h,d.onload=function(){a(d)},d.src=c})}function iQe(c){if(!c.ok)throw new Error(c.status+" "+c.statusText);if(204!==c.status&&205!==c.status)return c.json()}function rQe(c,l){return fetch(c,l).then(iQe)}function yB(c){return(l,a)=>eM(l,a).then(h=>(new DOMParser).parseFromString(h,c))}const sQe=yB("application/xml");var oQe=yB("text/html"),aQe=yB("image/svg+xml");function lQe(c,l){var a,h=1;function d(){var f,g,p=a.length,m=0,v=0;for(f=0;f<p;++f)m+=(g=a[f]).x,v+=g.y;for(m=(m/p-c)*h,v=(v/p-l)*h,f=0;f<p;++f)(g=a[f]).x-=m,g.y-=v}return null==c&&(c=0),null==l&&(l=0),d.initialize=function(f){a=f},d.x=function(f){return arguments.length?(c=+f,d):c},d.y=function(f){return arguments.length?(l=+f,d):l},d.strength=function(f){return arguments.length?(h=+f,d):h},d}function Nae(c,l,a,h){if(isNaN(l)||isNaN(a))return c;var d,y,b,O,C,S,w,x,T,f=c._root,p={data:h},g=c._x0,m=c._y0,v=c._x1,_=c._y1;if(!f)return c._root=p,c;for(;f.length;)if((S=l>=(y=(g+v)/2))?g=y:v=y,(w=a>=(b=(m+_)/2))?m=b:_=b,d=f,!(f=f[x=w<<1|S]))return d[x]=p,c;if(O=+c._x.call(null,f.data),C=+c._y.call(null,f.data),l===O&&a===C)return p.next=f,d?d[x]=p:c._root=p,c;do{d=d?d[x]=new Array(4):c._root=new Array(4),(S=l>=(y=(g+v)/2))?g=y:v=y,(w=a>=(b=(m+_)/2))?m=b:_=b}while((x=w<<1|S)==(T=(C>=b)<<1|O>=y));return d[T]=f,d[x]=p,c}function Ql(c,l,a,h,d){this.node=c,this.x0=l,this.y0=a,this.x1=h,this.y1=d}function OQe(c){return c[0]}function SQe(c){return c[1]}function tM(c,l,a){var h=new bB(l??OQe,a??SQe,NaN,NaN,NaN,NaN);return null==c?h:h.addAll(c)}function bB(c,l,a,h,d,f){this._x=c,this._y=l,this._x0=a,this._y0=h,this._x1=d,this._y1=f,this._root=void 0}function Fae(c){for(var l={data:c.data},a=l;c=c.next;)a=a.next={data:c.data};return l}var Hl=tM.prototype=bB.prototype;function ta(c){return function(){return c}}function Wg(c){return 1e-6*(c()-.5)}function xQe(c){return c.x+c.vx}function TQe(c){return c.y+c.vy}function kQe(c){var l,a,h,d=1,f=1;function p(){for(var v,y,b,O,C,S,w,_=l.length,x=0;x<f;++x)for(y=tM(l,xQe,TQe).visitAfter(g),v=0;v<_;++v)w=(S=a[(b=l[v]).index])*S,O=b.x+b.vx,C=b.y+b.vy,y.visit(T);function T(D,k,P,N,F){var L=D.data,$=D.r,U=S+$;if(!L)return k>O+U||N<O-U||P>C+U||F<C-U;if(L.index>b.index){var z=O-L.x-L.vx,ee=C-L.y-L.vy,te=z*z+ee*ee;te<U*U&&(0===z&&(te+=(z=Wg(h))*z),0===ee&&(te+=(ee=Wg(h))*ee),te=(U-(te=Math.sqrt(te)))/te*d,b.vx+=(z*=te)*(U=($*=$)/(w+$)),b.vy+=(ee*=te)*U,L.vx-=z*(U=1-U),L.vy-=ee*U)}}}function g(v){if(v.data)return v.r=a[v.data.index];for(var _=v.r=0;_<4;++_)v[_]&&v[_].r>v.r&&(v.r=v[_].r)}function m(){if(l){var v,y,_=l.length;for(a=new Array(_),v=0;v<_;++v)a[(y=l[v]).index]=+c(y,v,l)}}return"function"!=typeof c&&(c=ta(null==c?1:+c)),p.initialize=function(v,_){l=v,h=_,m()},p.iterations=function(v){return arguments.length?(f=+v,p):f},p.strength=function(v){return arguments.length?(d=+v,p):d},p.radius=function(v){return arguments.length?(c="function"==typeof v?v:ta(+v),m(),p):c},p}function DQe(c){return c.index}function Bae(c,l){var a=c.get(l);if(!a)throw new Error("node not found: "+l);return a}function MQe(c){var h,f,p,g,m,v,l=DQe,a=function y(w){return 1/Math.min(g[w.source.index],g[w.target.index])},d=ta(30),_=1;function b(w){for(var x=0,T=c.length;x<_;++x)for(var k,P,N,F,L,$,U,D=0;D<T;++D)F=(N=(k=c[D]).target).x+N.vx-(P=k.source).x-P.vx||Wg(v),L=N.y+N.vy-P.y-P.vy||Wg(v),L*=$=(($=Math.sqrt(F*F+L*L))-f[D])/$*w*h[D],N.vx-=(F*=$)*(U=m[D]),N.vy-=L*U,P.vx+=F*(U=1-U),P.vy+=L*U}function O(){if(p){var w,k,x=p.length,T=c.length,D=new Map(p.map((P,N)=>[l(P,N,p),P]));for(w=0,g=new Array(x);w<T;++w)(k=c[w]).index=w,"object"!=typeof k.source&&(k.source=Bae(D,k.source)),"object"!=typeof k.target&&(k.target=Bae(D,k.target)),g[k.source.index]=(g[k.source.index]||0)+1,g[k.target.index]=(g[k.target.index]||0)+1;for(w=0,m=new Array(T);w<T;++w)m[w]=g[(k=c[w]).source.index]/(g[k.source.index]+g[k.target.index]);h=new Array(T),C(),f=new Array(T),S()}}function C(){if(p)for(var w=0,x=c.length;w<x;++w)h[w]=+a(c[w],w,c)}function S(){if(p)for(var w=0,x=c.length;w<x;++w)f[w]=+d(c[w],w,c)}return null==c&&(c=[]),b.initialize=function(w,x){p=w,v=x,O()},b.links=function(w){return arguments.length?(c=w,O(),b):c},b.id=function(w){return arguments.length?(l=w,b):l},b.iterations=function(w){return arguments.length?(_=+w,b):_},b.strength=function(w){return arguments.length?(a="function"==typeof w?w:ta(+w),C(),b):a},b.distance=function(w){return arguments.length?(d="function"==typeof w?w:ta(+w),S(),b):d},b}Hl.copy=function(){var a,h,c=new bB(this._x,this._y,this._x0,this._y0,this._x1,this._y1),l=this._root;if(!l)return c;if(!l.length)return c._root=Fae(l),c;for(a=[{source:l,target:c._root=new Array(4)}];l=a.pop();)for(var d=0;d<4;++d)(h=l.source[d])&&(h.length?a.push({source:h,target:l.target[d]=new Array(4)}):l.target[d]=Fae(h));return c},Hl.add=function cQe(c){const l=+this._x.call(null,c),a=+this._y.call(null,c);return Nae(this.cover(l,a),l,a,c)},Hl.addAll=function uQe(c){var l,a,d,f,h=c.length,p=new Array(h),g=new Array(h),m=1/0,v=1/0,_=-1/0,y=-1/0;for(a=0;a<h;++a)isNaN(d=+this._x.call(null,l=c[a]))||isNaN(f=+this._y.call(null,l))||(p[a]=d,g[a]=f,d<m&&(m=d),d>_&&(_=d),f<v&&(v=f),f>y&&(y=f));if(m>_||v>y)return this;for(this.cover(m,v).cover(_,y),a=0;a<h;++a)Nae(this,p[a],g[a],c[a]);return this},Hl.cover=function hQe(c,l){if(isNaN(c=+c)||isNaN(l=+l))return this;var a=this._x0,h=this._y0,d=this._x1,f=this._y1;if(isNaN(a))d=(a=Math.floor(c))+1,f=(h=Math.floor(l))+1;else{for(var m,v,p=d-a||1,g=this._root;a>c||c>=d||h>l||l>=f;)switch(v=(l<h)<<1|c<a,m=new Array(4),m[v]=g,g=m,p*=2,v){case 0:d=a+p,f=h+p;break;case 1:a=d-p,f=h+p;break;case 2:d=a+p,h=f-p;break;case 3:a=d-p,h=f-p}this._root&&this._root.length&&(this._root=g)}return this._x0=a,this._y0=h,this._x1=d,this._y1=f,this},Hl.data=function dQe(){var c=[];return this.visit(function(l){if(!l.length)do{c.push(l.data)}while(l=l.next)}),c},Hl.extent=function fQe(c){return arguments.length?this.cover(+c[0][0],+c[0][1]).cover(+c[1][0],+c[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Hl.find=function pQe(c,l,a){var h,p,g,m,v,C,S,d=this._x0,f=this._y0,_=this._x1,y=this._y1,b=[],O=this._root;for(O&&b.push(new Ql(O,d,f,_,y)),null==a?a=1/0:(d=c-a,f=l-a,_=c+a,y=l+a,a*=a);C=b.pop();)if(!(!(O=C.node)||(p=C.x0)>_||(g=C.y0)>y||(m=C.x1)<d||(v=C.y1)<f))if(O.length){var w=(p+m)/2,x=(g+v)/2;b.push(new Ql(O[3],w,x,m,v),new Ql(O[2],p,x,w,v),new Ql(O[1],w,g,m,x),new Ql(O[0],p,g,w,x)),(S=(l>=x)<<1|c>=w)&&(C=b[b.length-1],b[b.length-1]=b[b.length-1-S],b[b.length-1-S]=C)}else{var T=c-+this._x.call(null,O.data),D=l-+this._y.call(null,O.data),k=T*T+D*D;if(k<a){var P=Math.sqrt(a=k);d=c-P,f=l-P,_=c+P,y=l+P,h=O.data}}return h},Hl.remove=function gQe(c){if(isNaN(_=+this._x.call(null,c))||isNaN(y=+this._y.call(null,c)))return this;var l,h,d,f,_,y,b,O,C,S,w,x,a=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!a)return this;if(a.length)for(;;){if((C=_>=(b=(p+m)/2))?p=b:m=b,(S=y>=(O=(g+v)/2))?g=O:v=O,l=a,!(a=a[w=S<<1|C]))return this;if(!a.length)break;(l[w+1&3]||l[w+2&3]||l[w+3&3])&&(h=l,x=w)}for(;a.data!==c;)if(d=a,!(a=a.next))return this;return(f=a.next)&&delete a.next,d?(f?d.next=f:delete d.next,this):l?(f?l[w]=f:delete l[w],(a=l[0]||l[1]||l[2]||l[3])&&a===(l[3]||l[2]||l[1]||l[0])&&!a.length&&(h?h[x]=a:this._root=a),this):(this._root=f,this)},Hl.removeAll=function mQe(c){for(var l=0,a=c.length;l<a;++l)this.remove(c[l]);return this},Hl.root=function vQe(){return this._root},Hl.size=function _Qe(){var c=0;return this.visit(function(l){if(!l.length)do{++c}while(l=l.next)}),c},Hl.visit=function yQe(c){var a,d,f,p,g,m,l=[],h=this._root;for(h&&l.push(new Ql(h,this._x0,this._y0,this._x1,this._y1));a=l.pop();)if(!c(h=a.node,f=a.x0,p=a.y0,g=a.x1,m=a.y1)&&h.length){var v=(f+g)/2,_=(p+m)/2;(d=h[3])&&l.push(new Ql(d,v,_,g,m)),(d=h[2])&&l.push(new Ql(d,f,_,v,m)),(d=h[1])&&l.push(new Ql(d,v,p,g,_)),(d=h[0])&&l.push(new Ql(d,f,p,v,_))}return this},Hl.visitAfter=function bQe(c){var h,l=[],a=[];for(this._root&&l.push(new Ql(this._root,this._x0,this._y0,this._x1,this._y1));h=l.pop();){var d=h.node;if(d.length){var f,p=h.x0,g=h.y0,m=h.x1,v=h.y1,_=(p+m)/2,y=(g+v)/2;(f=d[0])&&l.push(new Ql(f,p,g,_,y)),(f=d[1])&&l.push(new Ql(f,_,g,m,y)),(f=d[2])&&l.push(new Ql(f,p,y,_,v)),(f=d[3])&&l.push(new Ql(f,_,y,m,v))}a.push(h)}for(;h=a.pop();)c(h.node,h.x0,h.y0,h.x1,h.y1);return this},Hl.x=function CQe(c){return arguments.length?(this._x=c,this):this._x},Hl.y=function wQe(c){return arguments.length?(this._y=c,this):this._y};const EQe=1664525,PQe=1013904223,Vae=4294967296;function IQe(c){return c.x}function RQe(c){return c.y}var LQe=10,NQe=Math.PI*(3-Math.sqrt(5));function FQe(c){var l,a=1,h=.001,d=1-Math.pow(h,1/300),f=0,p=.6,g=new Map,m=kD(y),v=ky("tick","end"),_=function AQe(){let c=1;return()=>(c=(EQe*c+PQe)%Vae)/Vae}();function y(){b(),v.call("tick",l),a<h&&(m.stop(),v.call("end",l))}function b(S){var w,T,x=c.length;void 0===S&&(S=1);for(var D=0;D<S;++D)for(a+=(f-a)*d,g.forEach(function(k){k(a)}),w=0;w<x;++w)null==(T=c[w]).fx?T.x+=T.vx*=p:(T.x=T.fx,T.vx=0),null==T.fy?T.y+=T.vy*=p:(T.y=T.fy,T.vy=0);return l}function O(){for(var x,S=0,w=c.length;S<w;++S){if((x=c[S]).index=S,null!=x.fx&&(x.x=x.fx),null!=x.fy&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var T=LQe*Math.sqrt(.5+S),D=S*NQe;x.x=T*Math.cos(D),x.y=T*Math.sin(D)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function C(S){return S.initialize&&S.initialize(c,_),S}return null==c&&(c=[]),O(),l={tick:b,restart:function(){return m.restart(y),l},stop:function(){return m.stop(),l},nodes:function(S){return arguments.length?(c=S,O(),g.forEach(C),l):c},alpha:function(S){return arguments.length?(a=+S,l):a},alphaMin:function(S){return arguments.length?(h=+S,l):h},alphaDecay:function(S){return arguments.length?(d=+S,l):+d},alphaTarget:function(S){return arguments.length?(f=+S,l):f},velocityDecay:function(S){return arguments.length?(p=1-S,l):1-p},randomSource:function(S){return arguments.length?(_=S,g.forEach(C),l):_},force:function(S,w){return arguments.length>1?(null==w?g.delete(S):g.set(S,C(w)),l):g.get(S)},find:function(S,w,x){var k,P,N,F,L,T=0,D=c.length;for(null==x?x=1/0:x*=x,T=0;T<D;++T)(N=(k=S-(F=c[T]).x)*k+(P=w-F.y)*P)<x&&(L=F,x=N);return L},on:function(S,w){return arguments.length>1?(v.on(S,w),l):v.on(S)}}}function BQe(){var c,l,a,h,f,d=ta(-30),p=1,g=1/0,m=.81;function v(O){var C,S=c.length,w=tM(c,IQe,RQe).visitAfter(y);for(h=O,C=0;C<S;++C)l=c[C],w.visit(b)}function _(){if(c){var O,S,C=c.length;for(f=new Array(C),O=0;O<C;++O)f[(S=c[O]).index]=+d(S,O,c)}}function y(O){var S,w,T,D,k,C=0,x=0;if(O.length){for(T=D=k=0;k<4;++k)(S=O[k])&&(w=Math.abs(S.value))&&(C+=S.value,x+=w,T+=w*S.x,D+=w*S.y);O.x=T/x,O.y=D/x}else{(S=O).x=S.data.x,S.y=S.data.y;do{C+=f[S.data.index]}while(S=S.next)}O.value=C}function b(O,C,S,w){if(!O.value)return!0;var x=O.x-l.x,T=O.y-l.y,D=w-C,k=x*x+T*T;if(D*D/m<k)return k<g&&(0===x&&(k+=(x=Wg(a))*x),0===T&&(k+=(T=Wg(a))*T),k<p&&(k=Math.sqrt(p*k)),l.vx+=x*O.value*h/k,l.vy+=T*O.value*h/k),!0;if(!(O.length||k>=g)){(O.data!==l||O.next)&&(0===x&&(k+=(x=Wg(a))*x),0===T&&(k+=(T=Wg(a))*T),k<p&&(k=Math.sqrt(p*k)));do{O.data!==l&&(l.vx+=x*(D=f[O.data.index]*h/k),l.vy+=T*D)}while(O=O.next)}}return v.initialize=function(O,C){c=O,a=C,_()},v.strength=function(O){return arguments.length?(d="function"==typeof O?O:ta(+O),_(),v):d},v.distanceMin=function(O){return arguments.length?(p=O*O,v):Math.sqrt(p)},v.distanceMax=function(O){return arguments.length?(g=O*O,v):Math.sqrt(g)},v.theta=function(O){return arguments.length?(m=O*O,v):Math.sqrt(m)},v}function VQe(c,l,a){var h,f,p,d=ta(.1);function g(v){for(var _=0,y=h.length;_<y;++_){var b=h[_],O=b.x-l||1e-6,C=b.y-a||1e-6,S=Math.sqrt(O*O+C*C),w=(p[_]-S)*f[_]*v/S;b.vx+=O*w,b.vy+=C*w}}function m(){if(h){var v,_=h.length;for(f=new Array(_),p=new Array(_),v=0;v<_;++v)p[v]=+c(h[v],v,h),f[v]=isNaN(p[v])?0:+d(h[v],v,h)}}return"function"!=typeof c&&(c=ta(+c)),null==l&&(l=0),null==a&&(a=0),g.initialize=function(v){h=v,m()},g.strength=function(v){return arguments.length?(d="function"==typeof v?v:ta(+v),m(),g):d},g.radius=function(v){return arguments.length?(c="function"==typeof v?v:ta(+v),m(),g):c},g.x=function(v){return arguments.length?(l=+v,g):l},g.y=function(v){return arguments.length?(a=+v,g):a},g}function $Qe(c){var a,h,d,l=ta(.1);function f(g){for(var _,m=0,v=a.length;m<v;++m)(_=a[m]).vx+=(d[m]-_.x)*h[m]*g}function p(){if(a){var g,m=a.length;for(h=new Array(m),d=new Array(m),g=0;g<m;++g)h[g]=isNaN(d[g]=+c(a[g],g,a))?0:+l(a[g],g,a)}}return"function"!=typeof c&&(c=ta(null==c?0:+c)),f.initialize=function(g){a=g,p()},f.strength=function(g){return arguments.length?(l="function"==typeof g?g:ta(+g),p(),f):l},f.x=function(g){return arguments.length?(c="function"==typeof g?g:ta(+g),p(),f):c},f}function zQe(c){var a,h,d,l=ta(.1);function f(g){for(var _,m=0,v=a.length;m<v;++m)(_=a[m]).vy+=(d[m]-_.y)*h[m]*g}function p(){if(a){var g,m=a.length;for(h=new Array(m),d=new Array(m),g=0;g<m;++g)h[g]=isNaN(d[g]=+c(a[g],g,a))?0:+l(a[g],g,a)}}return"function"!=typeof c&&(c=ta(null==c?0:+c)),f.initialize=function(g){a=g,p()},f.strength=function(g){return arguments.length?(l="function"==typeof g?g:ta(+g),p(),f):l},f.y=function(g){return arguments.length?(c="function"==typeof g?g:ta(+g),p(),f):c},f}function nM(c,l){if((a=(c=l?c.toExponential(l-1):c.toExponential()).indexOf("e"))<0)return null;var a,h=c.slice(0,a);return[h.length>1?h[0]+h.slice(2):h,+c.slice(a+1)]}function Yy(c){return(c=nM(Math.abs(c)))?c[1]:NaN}var $ae,WQe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qy(c){if(!(l=WQe.exec(c)))throw new Error("invalid format: "+c);var l;return new iM({fill:l[1],align:l[2],sign:l[3],symbol:l[4],zero:l[5],width:l[6],comma:l[7],precision:l[8]&&l[8].slice(1),trim:l[9],type:l[10]})}function iM(c){this.fill=void 0===c.fill?" ":c.fill+"",this.align=void 0===c.align?">":c.align+"",this.sign=void 0===c.sign?"-":c.sign+"",this.symbol=void 0===c.symbol?"":c.symbol+"",this.zero=!!c.zero,this.width=void 0===c.width?void 0:+c.width,this.comma=!!c.comma,this.precision=void 0===c.precision?void 0:+c.precision,this.trim=!!c.trim,this.type=void 0===c.type?"":c.type+""}function zae(c,l){var a=nM(c,l);if(!a)return c+"";var h=a[0],d=a[1];return d<0?"0."+new Array(-d).join("0")+h:h.length>d+1?h.slice(0,d+1)+"."+h.slice(d+1):h+new Array(d-h.length+2).join("0")}qy.prototype=iM.prototype,iM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Uae={"%":(c,l)=>(100*c).toFixed(l),b:c=>Math.round(c).toString(2),c:c=>c+"",d:function UQe(c){return Math.abs(c=Math.round(c))>=1e21?c.toLocaleString("en").replace(/,/g,""):c.toString(10)},e:(c,l)=>c.toExponential(l),f:(c,l)=>c.toFixed(l),g:(c,l)=>c.toPrecision(l),o:c=>Math.round(c).toString(8),p:(c,l)=>zae(100*c,l),r:zae,s:function jQe(c,l){var a=nM(c,l);if(!a)return c+"";var h=a[0],d=a[1],f=d-($ae=3*Math.max(-8,Math.min(8,Math.floor(d/3))))+1,p=h.length;return f===p?h:f>p?h+new Array(f-p+1).join("0"):f>0?h.slice(0,f)+"."+h.slice(f):"0."+new Array(1-f).join("0")+nM(c,Math.max(0,l+f-1))[0]},X:c=>Math.round(c).toString(16).toUpperCase(),x:c=>Math.round(c).toString(16)};function Qae(c){return c}var rM,sM,OB,Hae=Array.prototype.map,Wae=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Zae(c){var l=void 0===c.grouping||void 0===c.thousands?Qae:function QQe(c,l){return function(a,h){for(var d=a.length,f=[],p=0,g=c[0],m=0;d>0&&g>0&&(m+g+1>h&&(g=Math.max(1,h-m)),f.push(a.substring(d-=g,d+g)),!((m+=g+1)>h));)g=c[p=(p+1)%c.length];return f.reverse().join(l)}}(Hae.call(c.grouping,Number),c.thousands+""),a=void 0===c.currency?"":c.currency[0]+"",h=void 0===c.currency?"":c.currency[1]+"",d=void 0===c.decimal?".":c.decimal+"",f=void 0===c.numerals?Qae:function HQe(c){return function(l){return l.replace(/[0-9]/g,function(a){return c[+a]})}}(Hae.call(c.numerals,String)),p=void 0===c.percent?"%":c.percent+"",g=void 0===c.minus?"\u2212":c.minus+"",m=void 0===c.nan?"NaN":c.nan+"";function v(y){var b=(y=qy(y)).fill,O=y.align,C=y.sign,S=y.symbol,w=y.zero,x=y.width,T=y.comma,D=y.precision,k=y.trim,P=y.type;"n"===P?(T=!0,P="g"):Uae[P]||(void 0===D&&(D=12),k=!0,P="g"),(w||"0"===b&&"="===O)&&(w=!0,b="0",O="=");var N="$"===S?a:"#"===S&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",F="$"===S?h:/[%p]/.test(P)?p:"",L=Uae[P],$=/[defgprs%]/.test(P);function U(z){var B,j,W,ee=N,te=F;if("c"===P)te=L(z)+te,z="";else{var q=(z=+z)<0||1/z<0;if(z=isNaN(z)?m:L(Math.abs(z),D),k&&(z=function ZQe(c){e:for(var d,l=c.length,a=1,h=-1;a<l;++a)switch(c[a]){case".":h=d=a;break;case"0":0===h&&(h=a),d=a;break;default:if(!+c[a])break e;h>0&&(h=0)}return h>0?c.slice(0,h)+c.slice(d+1):c}(z)),q&&0==+z&&"+"!==C&&(q=!1),ee=(q?"("===C?C:g:"-"===C||"("===C?"":C)+ee,te=("s"===P?Wae[8+$ae/3]:"")+te+(q&&"("===C?")":""),$)for(B=-1,j=z.length;++B<j;)if(48>(W=z.charCodeAt(B))||W>57){te=(46===W?d+z.slice(B+1):z.slice(B))+te,z=z.slice(0,B);break}}T&&!w&&(z=l(z,1/0));var G=ee.length+z.length+te.length,K=G<x?new Array(x-G+1).join(b):"";switch(T&&w&&(z=l(K+z,K.length?x-te.length:1/0),K=""),O){case"<":z=ee+z+te+K;break;case"=":z=ee+K+z+te;break;case"^":z=K.slice(0,G=K.length>>1)+ee+z+te+K.slice(G);break;default:z=K+ee+z+te}return f(z)}return D=void 0===D?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D)),U.toString=function(){return y+""},U}return{format:v,formatPrefix:function _(y,b){var O=v(((y=qy(y)).type="f",y)),C=3*Math.max(-8,Math.min(8,Math.floor(Yy(b)/3))),S=Math.pow(10,-C),w=Wae[8+C/3];return function(x){return O(S*x)+w}}}}function jae(c){return rM=Zae(c),sM=rM.format,OB=rM.formatPrefix,rM}function Gae(c){return Math.max(0,-Yy(Math.abs(c)))}function Xae(c,l){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Yy(l)/3)))-Yy(Math.abs(c)))}function Yae(c,l){return c=Math.abs(c),l=Math.abs(l)-c,Math.max(0,Yy(l)-Yy(c))+1}jae({thousands:",",grouping:[3],currency:["$",""]});var ci=1e-6,cw=1e-12,cr=Math.PI,co=cr/2,oM=cr/4,Wl=2*cr,_s=180/cr,fi=cr/180,Sr=Math.abs,Ky=Math.atan,Zl=Math.atan2,Jn=Math.cos,aM=Math.ceil,qae=Math.exp,CB=(Math,Math.hypot),lM=Math.log,SB=Math.pow,Nn=Math.sin,Yu=Math.sign||function(c){return c>0?1:c<0?-1:0},ba=Math.sqrt,wB=Math.tan;function Kae(c){return c>1?0:c<-1?cr:Math.acos(c)}function jl(c){return c>1?co:c<-1?-co:Math.asin(c)}function Jae(c){return(c=Nn(c/2))*c}function Gs(){}function cM(c,l){c&&tle.hasOwnProperty(c.type)&&tle[c.type](c,l)}var ele={Feature:function(c,l){cM(c.geometry,l)},FeatureCollection:function(c,l){for(var a=c.features,h=-1,d=a.length;++h<d;)cM(a[h].geometry,l)}},tle={Sphere:function(c,l){l.sphere()},Point:function(c,l){l.point((c=c.coordinates)[0],c[1],c[2])},MultiPoint:function(c,l){for(var a=c.coordinates,h=-1,d=a.length;++h<d;)l.point((c=a[h])[0],c[1],c[2])},LineString:function(c,l){xB(c.coordinates,l,0)},MultiLineString:function(c,l){for(var a=c.coordinates,h=-1,d=a.length;++h<d;)xB(a[h],l,0)},Polygon:function(c,l){nle(c.coordinates,l)},MultiPolygon:function(c,l){for(var a=c.coordinates,h=-1,d=a.length;++h<d;)nle(a[h],l)},GeometryCollection:function(c,l){for(var a=c.geometries,h=-1,d=a.length;++h<d;)cM(a[h],l)}};function xB(c,l,a){var f,h=-1,d=c.length-a;for(l.lineStart();++h<d;)l.point((f=c[h])[0],f[1],f[2]);l.lineEnd()}function nle(c,l){var a=-1,h=c.length;for(l.polygonStart();++a<h;)xB(c[a],l,1);l.polygonEnd()}function Hh(c,l){c&&ele.hasOwnProperty(c.type)?ele[c.type](c,l):cM(c,l)}var ile,rle,TB,kB,DB,uM=new Jo,hM=new Jo,Yd={point:Gs,lineStart:Gs,lineEnd:Gs,polygonStart:function(){uM=new Jo,Yd.lineStart=GQe,Yd.lineEnd=XQe},polygonEnd:function(){var c=+uM;hM.add(c<0?Wl+c:c),this.lineStart=this.lineEnd=this.point=Gs},sphere:function(){hM.add(Wl)}};function GQe(){Yd.point=YQe}function XQe(){sle(ile,rle)}function YQe(c,l){Yd.point=sle,ile=c,rle=l,TB=c*=fi,kB=Jn(l=(l*=fi)/2+oM),DB=Nn(l)}function sle(c,l){var a=(c*=fi)-TB,h=a>=0?1:-1,d=h*a,f=Jn(l=(l*=fi)/2+oM),p=Nn(l),g=DB*p,m=kB*f+g*Jn(d),v=g*h*Nn(d);uM.add(Zl(v,m)),TB=c,kB=f,DB=p}function qQe(c){return hM=new Jo,Hh(c,Yd),2*hM}function dM(c){return[Zl(c[1],c[0]),jl(c[2])]}function O1(c){var l=c[0],a=c[1],h=Jn(a);return[h*Jn(l),h*Nn(l),Nn(a)]}function fM(c,l){return c[0]*l[0]+c[1]*l[1]+c[2]*l[2]}function Jy(c,l){return[c[1]*l[2]-c[2]*l[1],c[2]*l[0]-c[0]*l[2],c[0]*l[1]-c[1]*l[0]]}function MB(c,l){c[0]+=l[0],c[1]+=l[1],c[2]+=l[2]}function pM(c,l){return[c[0]*l,c[1]*l,c[2]*l]}function gM(c){var l=ba(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]);c[0]/=l,c[1]/=l,c[2]/=l}var Xs,Mc,uo,au,C1,ole,ale,eb,uw,Zg,yp,bp={point:EB,lineStart:cle,lineEnd:ule,polygonStart:function(){bp.point=hle,bp.lineStart=KQe,bp.lineEnd=JQe,uw=new Jo,Yd.polygonStart()},polygonEnd:function(){Yd.polygonEnd(),bp.point=EB,bp.lineStart=cle,bp.lineEnd=ule,uM<0?(Xs=-(uo=180),Mc=-(au=90)):uw>ci?au=90:uw<-ci&&(Mc=-90),yp[0]=Xs,yp[1]=uo},sphere:function(){Xs=-(uo=180),Mc=-(au=90)}};function EB(c,l){Zg.push(yp=[Xs=c,uo=c]),l<Mc&&(Mc=l),l>au&&(au=l)}function lle(c,l){var a=O1([c*fi,l*fi]);if(eb){var h=Jy(eb,a),f=Jy([h[1],-h[0],0],h);gM(f),f=dM(f);var v,p=c-C1,g=p>0?1:-1,m=f[0]*_s*g,_=Sr(p)>180;_^(g*C1<m&&m<g*c)?(v=f[1]*_s)>au&&(au=v):_^(g*C1<(m=(m+360)%360-180)&&m<g*c)?(v=-f[1]*_s)<Mc&&(Mc=v):(l<Mc&&(Mc=l),l>au&&(au=l)),_?c<C1?lu(Xs,c)>lu(Xs,uo)&&(uo=c):lu(c,uo)>lu(Xs,uo)&&(Xs=c):uo>=Xs?(c<Xs&&(Xs=c),c>uo&&(uo=c)):c>C1?lu(Xs,c)>lu(Xs,uo)&&(uo=c):lu(c,uo)>lu(Xs,uo)&&(Xs=c)}else Zg.push(yp=[Xs=c,uo=c]);l<Mc&&(Mc=l),l>au&&(au=l),eb=a,C1=c}function cle(){bp.point=lle}function ule(){yp[0]=Xs,yp[1]=uo,bp.point=EB,eb=null}function hle(c,l){if(eb){var a=c-C1;uw.add(Sr(a)>180?a+(a>0?360:-360):a)}else ole=c,ale=l;Yd.point(c,l),lle(c,l)}function KQe(){Yd.lineStart()}function JQe(){hle(ole,ale),Yd.lineEnd(),Sr(uw)>ci&&(Xs=-(uo=180)),yp[0]=Xs,yp[1]=uo,eb=null}function lu(c,l){return(l-=c)<0?l+360:l}function eHe(c,l){return c[0]-l[0]}function dle(c,l){return c[0]<=c[1]?c[0]<=l&&l<=c[1]:l<c[0]||c[1]<l}function tHe(c){var l,a,h,d,f,p,g;if(au=uo=-(Xs=Mc=1/0),Zg=[],Hh(c,bp),a=Zg.length){for(Zg.sort(eHe),l=1,f=[h=Zg[0]];l<a;++l)dle(h,(d=Zg[l])[0])||dle(h,d[1])?(lu(h[0],d[1])>lu(h[0],h[1])&&(h[1]=d[1]),lu(d[0],h[1])>lu(h[0],h[1])&&(h[0]=d[0])):f.push(h=d);for(p=-1/0,l=0,h=f[a=f.length-1];l<=a;h=d,++l)(g=lu(h[1],(d=f[l])[0]))>p&&(p=g,Xs=d[0],uo=h[1])}return Zg=yp=null,Xs===1/0||Mc===1/0?[[NaN,NaN],[NaN,NaN]]:[[Xs,Mc],[uo,au]]}var hw,mM,vM,_M,yM,bM,OM,CM,PB,AB,IB,fle,ple,Gl,Xl,Yl,Wh={sphere:Gs,point:RB,lineStart:gle,lineEnd:mle,polygonStart:function(){Wh.lineStart=rHe,Wh.lineEnd=sHe},polygonEnd:function(){Wh.lineStart=gle,Wh.lineEnd=mle}};function RB(c,l){c*=fi;var a=Jn(l*=fi);dw(a*Jn(c),a*Nn(c),Nn(l))}function dw(c,l,a){++hw,vM+=(c-vM)/hw,_M+=(l-_M)/hw,yM+=(a-yM)/hw}function gle(){Wh.point=nHe}function nHe(c,l){c*=fi;var a=Jn(l*=fi);Gl=a*Jn(c),Xl=a*Nn(c),Yl=Nn(l),Wh.point=iHe,dw(Gl,Xl,Yl)}function iHe(c,l){c*=fi;var a=Jn(l*=fi),h=a*Jn(c),d=a*Nn(c),f=Nn(l),p=Zl(ba((p=Xl*f-Yl*d)*p+(p=Yl*h-Gl*f)*p+(p=Gl*d-Xl*h)*p),Gl*h+Xl*d+Yl*f);mM+=p,bM+=p*(Gl+(Gl=h)),OM+=p*(Xl+(Xl=d)),CM+=p*(Yl+(Yl=f)),dw(Gl,Xl,Yl)}function mle(){Wh.point=RB}function rHe(){Wh.point=oHe}function sHe(){vle(fle,ple),Wh.point=RB}function oHe(c,l){fle=c,ple=l,c*=fi,l*=fi,Wh.point=vle;var a=Jn(l);Gl=a*Jn(c),Xl=a*Nn(c),Yl=Nn(l),dw(Gl,Xl,Yl)}function vle(c,l){c*=fi;var a=Jn(l*=fi),h=a*Jn(c),d=a*Nn(c),f=Nn(l),p=Xl*f-Yl*d,g=Yl*h-Gl*f,m=Gl*d-Xl*h,v=CB(p,g,m),_=jl(v),y=v&&-_/v;PB.add(y*p),AB.add(y*g),IB.add(y*m),mM+=_,bM+=_*(Gl+(Gl=h)),OM+=_*(Xl+(Xl=d)),CM+=_*(Yl+(Yl=f)),dw(Gl,Xl,Yl)}function aHe(c){hw=mM=vM=_M=yM=bM=OM=CM=0,PB=new Jo,AB=new Jo,IB=new Jo,Hh(c,Wh);var l=+PB,a=+AB,h=+IB,d=CB(l,a,h);return d<cw&&(l=bM,a=OM,h=CM,mM<ci&&(l=vM,a=_M,h=yM),(d=CB(l,a,h))<cw)?[NaN,NaN]:[Zl(a,l)*_s,jl(h/d)*_s]}function tb(c){return function(){return c}}function LB(c,l){function a(h,d){return h=c(h,d),l(h[0],h[1])}return c.invert&&l.invert&&(a.invert=function(h,d){return(h=l.invert(h,d))&&c.invert(h[0],h[1])}),a}function NB(c,l){return Sr(c)>cr&&(c-=Math.round(c/Wl)*Wl),[c,l]}function FB(c,l,a){return(c%=Wl)?l||a?LB(yle(c),ble(l,a)):yle(c):l||a?ble(l,a):NB}function _le(c){return function(l,a){return Sr(l+=c)>cr&&(l-=Math.round(l/Wl)*Wl),[l,a]}}function yle(c){var l=_le(c);return l.invert=_le(-c),l}function ble(c,l){var a=Jn(c),h=Nn(c),d=Jn(l),f=Nn(l);function p(g,m){var v=Jn(m),_=Jn(g)*v,y=Nn(g)*v,b=Nn(m),O=b*a+_*h;return[Zl(y*d-O*f,_*a-b*h),jl(O*d+y*f)]}return p.invert=function(g,m){var v=Jn(m),_=Jn(g)*v,y=Nn(g)*v,b=Nn(m),O=b*d-y*f;return[Zl(y*d+b*f,_*a+O*h),jl(O*a-_*h)]},p}function Ole(c){function l(a){return(a=c(a[0]*fi,a[1]*fi))[0]*=_s,a[1]*=_s,a}return c=FB(c[0]*fi,c[1]*fi,c.length>2?c[2]*fi:0),l.invert=function(a){return(a=c.invert(a[0]*fi,a[1]*fi))[0]*=_s,a[1]*=_s,a},l}function Cle(c,l,a,h,d,f){if(a){var p=Jn(l),g=Nn(l),m=h*a;null==d?(d=l+h*Wl,f=l-m/2):(d=Sle(p,d),f=Sle(p,f),(h>0?d<f:d>f)&&(d+=h*Wl));for(var v,_=d;h>0?_>f:_<f;_-=m)v=dM([p,-g*Jn(_),-g*Nn(_)]),c.point(v[0],v[1])}}function Sle(c,l){(l=O1(l))[0]-=c,gM(l);var a=Kae(-l[1]);return((-l[2]<0?-a:a)+Wl-ci)%Wl}function lHe(){var h,d,c=tb([0,0]),l=tb(90),a=tb(6),f={point:function p(m,v){h.push(m=d(m,v)),m[0]*=_s,m[1]*=_s}};function g(){var m=c.apply(this,arguments),v=l.apply(this,arguments)*fi,_=a.apply(this,arguments)*fi;return h=[],d=FB(-m[0]*fi,-m[1]*fi,0).invert,Cle(f,v,_,1),m={type:"Polygon",coordinates:[h]},h=d=null,m}return g.center=function(m){return arguments.length?(c="function"==typeof m?m:tb([+m[0],+m[1]]),g):c},g.radius=function(m){return arguments.length?(l="function"==typeof m?m:tb(+m),g):l},g.precision=function(m){return arguments.length?(a="function"==typeof m?m:tb(+m),g):a},g}function wle(){var l,c=[];return{point:function(a,h,d){l.push([a,h,d])},lineStart:function(){c.push(l=[])},lineEnd:Gs,rejoin:function(){c.length>1&&c.push(c.pop().concat(c.shift()))},result:function(){var a=c;return c=[],l=null,a}}}function SM(c,l){return Sr(c[0]-l[0])<ci&&Sr(c[1]-l[1])<ci}function wM(c,l,a,h){this.x=c,this.z=l,this.o=a,this.e=h,this.v=!1,this.n=this.p=null}function xle(c,l,a,h,d){var g,m,f=[],p=[];if(c.forEach(function(C){if(!((S=C.length-1)<=0)){var S,T,w=C[0],x=C[S];if(SM(w,x)){if(!w[2]&&!x[2]){for(d.lineStart(),g=0;g<S;++g)d.point((w=C[g])[0],w[1]);return void d.lineEnd()}x[0]+=2*ci}f.push(T=new wM(w,C,null,!0)),p.push(T.o=new wM(w,null,T,!1)),f.push(T=new wM(x,C,null,!1)),p.push(T.o=new wM(x,null,T,!0))}}),f.length){for(p.sort(l),Tle(f),Tle(p),g=0,m=p.length;g<m;++g)p[g].e=a=!a;for(var _,y,v=f[0];;){for(var b=v,O=!0;b.v;)if((b=b.n)===v)return;_=b.z,d.lineStart();do{if(b.v=b.o.v=!0,b.e){if(O)for(g=0,m=_.length;g<m;++g)d.point((y=_[g])[0],y[1]);else h(b.x,b.n.x,1,d);b=b.n}else{if(O)for(g=(_=b.p.z).length-1;g>=0;--g)d.point((y=_[g])[0],y[1]);else h(b.x,b.p.x,-1,d);b=b.p}_=(b=b.o).z,O=!O}while(!b.v);d.lineEnd()}}}function Tle(c){if(l=c.length){for(var l,d,a=0,h=c[0];++a<l;)h.n=d=c[a],d.p=h,h=d;h.n=d=c[0],d.p=h}}function BB(c){return Sr(c[0])<=cr?c[0]:Yu(c[0])*((Sr(c[0])+cr)%Wl-cr)}function kle(c,l){var a=BB(l),h=l[1],d=Nn(h),f=[Nn(a),-Jn(a),0],p=0,g=0,m=new Jo;1===d?h=co+ci:-1===d&&(h=-co-ci);for(var v=0,_=c.length;v<_;++v)if(b=(y=c[v]).length)for(var y,b,O=y[b-1],C=BB(O),S=O[1]/2+oM,w=Nn(S),x=Jn(S),T=0;T<b;++T,C=k,w=N,x=F,O=D){var D=y[T],k=BB(D),P=D[1]/2+oM,N=Nn(P),F=Jn(P),L=k-C,$=L>=0?1:-1,U=$*L,z=U>cr,ee=w*N;if(m.add(Zl(ee*$*Nn(U),x*F+ee*Jn(U))),p+=z?L+$*Wl:L,z^C>=a^k>=a){var te=Jy(O1(O),O1(D));gM(te);var B=Jy(f,te);gM(B);var j=(z^L>=0?-1:1)*jl(B[2]);(h>j||h===j&&(te[0]||te[1]))&&(g+=z^L>=0?1:-1)}}return(p<-ci||p<ci&&m<-cw)^1&g}function Dle(c,l,a,h){return function(d){var v,_,y,f=l(d),p=wle(),g=l(p),m=!1,b={point:O,lineStart:S,lineEnd:w,polygonStart:function(){b.point=x,b.lineStart=T,b.lineEnd=D,_=[],v=[]},polygonEnd:function(){b.point=O,b.lineStart=S,b.lineEnd=w,_=W6(_);var k=kle(v,h);_.length?(m||(d.polygonStart(),m=!0),xle(_,uHe,k,a,d)):k&&(m||(d.polygonStart(),m=!0),d.lineStart(),a(null,null,1,d),d.lineEnd()),m&&(d.polygonEnd(),m=!1),_=v=null},sphere:function(){d.polygonStart(),d.lineStart(),a(null,null,1,d),d.lineEnd(),d.polygonEnd()}};function O(k,P){c(k,P)&&d.point(k,P)}function C(k,P){f.point(k,P)}function S(){b.point=C,f.lineStart()}function w(){b.point=O,f.lineEnd()}function x(k,P){y.push([k,P]),g.point(k,P)}function T(){g.lineStart(),y=[]}function D(){x(y[0][0],y[0][1]),g.lineEnd();var N,L,$,U,k=g.clean(),P=p.result(),F=P.length;if(y.pop(),v.push(y),y=null,F){if(1&k){if((L=($=P[0]).length-1)>0){for(m||(d.polygonStart(),m=!0),d.lineStart(),N=0;N<L;++N)d.point((U=$[N])[0],U[1]);d.lineEnd()}return}F>1&&2&k&&P.push(P.pop().concat(P.shift())),_.push(P.filter(cHe))}}return b}}function cHe(c){return c.length>1}function uHe(c,l){return((c=c.x)[0]<0?c[1]-co-ci:co-c[1])-((l=l.x)[0]<0?l[1]-co-ci:co-l[1])}NB.invert=NB;const VB=Dle(function(){return!0},function hHe(c){var d,l=NaN,a=NaN,h=NaN;return{lineStart:function(){c.lineStart(),d=1},point:function(f,p){var g=f>0?cr:-cr,m=Sr(f-l);Sr(m-cr)<ci?(c.point(l,a=(a+p)/2>0?co:-co),c.point(h,a),c.lineEnd(),c.lineStart(),c.point(g,a),c.point(f,a),d=0):h!==g&&m>=cr&&(Sr(l-h)<ci&&(l-=h*ci),Sr(f-g)<ci&&(f-=g*ci),a=function dHe(c,l,a,h){var d,f,p=Nn(c-a);return Sr(p)>ci?Ky((Nn(l)*(f=Jn(h))*Nn(a)-Nn(h)*(d=Jn(l))*Nn(c))/(d*f*p)):(l+h)/2}(l,a,f,p),c.point(h,a),c.lineEnd(),c.lineStart(),c.point(g,a),d=0),c.point(l=f,a=p),h=g},lineEnd:function(){c.lineEnd(),l=a=NaN},clean:function(){return 2-d}}},function fHe(c,l,a,h){var d;if(null==c)h.point(-cr,d=a*co),h.point(0,d),h.point(cr,d),h.point(cr,0),h.point(cr,-d),h.point(0,-d),h.point(-cr,-d),h.point(-cr,0),h.point(-cr,d);else if(Sr(c[0]-l[0])>ci){var f=c[0]<l[0]?cr:-cr;h.point(-f,d=a*f/2),h.point(0,d),h.point(f,d)}else h.point(l[0],l[1])},[-cr,-co]);function Mle(c){var l=Jn(c),a=6*fi,h=l>0,d=Sr(l)>ci;function p(_,y){return Jn(_)*Jn(y)>l}function m(_,y,b){var S=[1,0,0],w=Jy(O1(_),O1(y)),x=fM(w,w),T=w[0],D=x-T*T;if(!D)return!b&&_;var k=l*x/D,P=-l*T/D,N=Jy(S,w),F=pM(S,k);MB(F,pM(w,P));var $=N,U=fM(F,$),z=fM($,$),ee=U*U-z*(fM(F,F)-1);if(!(ee<0)){var te=ba(ee),B=pM($,(-U-te)/z);if(MB(B,F),B=dM(B),!b)return B;var K,j=_[0],W=y[0],q=_[1],G=y[1];W<j&&(K=j,j=W,W=K);var J=W-j,ie=Sr(J-cr)<ci;if(!ie&&G<q&&(K=q,q=G,G=K),ie||J<ci?ie?q+G>0^B[1]<(Sr(B[0]-j)<ci?q:G):q<=B[1]&&B[1]<=G:J>cr^(j<=B[0]&&B[0]<=W)){var he=pM($,(-U+te)/z);return MB(he,F),[B,dM(he)]}}}function v(_,y){var b=h?c:cr-c,O=0;return _<-b?O|=1:_>b&&(O|=2),y<-b?O|=4:y>b&&(O|=8),O}return Dle(p,function g(_){var y,b,O,C,S;return{lineStart:function(){C=O=!1,S=1},point:function(w,x){var D,T=[w,x],k=p(w,x),P=h?k?0:v(w,x):k?v(w+(w<0?cr:-cr),x):0;if(!y&&(C=O=k)&&_.lineStart(),k!==O&&(!(D=m(y,T))||SM(y,D)||SM(T,D))&&(T[2]=1),k!==O)S=0,k?(_.lineStart(),D=m(T,y),_.point(D[0],D[1])):(D=m(y,T),_.point(D[0],D[1],2),_.lineEnd()),y=D;else if(d&&y&&h^k){var N;!(P&b)&&(N=m(T,y,!0))&&(S=0,h?(_.lineStart(),_.point(N[0][0],N[0][1]),_.point(N[1][0],N[1][1]),_.lineEnd()):(_.point(N[1][0],N[1][1]),_.lineEnd(),_.lineStart(),_.point(N[0][0],N[0][1],3)))}k&&(!y||!SM(y,T))&&_.point(T[0],T[1]),y=T,O=k,b=P},lineEnd:function(){O&&_.lineEnd(),y=null},clean:function(){return S|(C&&O)<<1}}},function f(_,y,b,O){Cle(O,c,a,b,_,y)},h?[0,-c]:[-cr,c-cr])}var fw=1e9,xM=-fw;function TM(c,l,a,h){function d(v,_){return c<=v&&v<=a&&l<=_&&_<=h}function f(v,_,y,b){var O=0,C=0;if(null==v||(O=p(v,y))!==(C=p(_,y))||m(v,_)<0^y>0)do{b.point(0===O||3===O?c:a,O>1?h:l)}while((O=(O+y+4)%4)!==C);else b.point(_[0],_[1])}function p(v,_){return Sr(v[0]-c)<ci?_>0?0:3:Sr(v[0]-a)<ci?_>0?2:1:Sr(v[1]-l)<ci?_>0?1:0:_>0?3:2}function g(v,_){return m(v.x,_.x)}function m(v,_){var y=p(v,1),b=p(_,1);return y!==b?y-b:0===y?_[1]-v[1]:1===y?v[0]-_[0]:2===y?v[1]-_[1]:_[0]-v[0]}return function(v){var b,O,C,S,w,x,T,D,k,P,N,_=v,y=wle(),F={point:L,lineStart:function ee(){F.point=B,O&&O.push(C=[]),P=!0,k=!1,T=D=NaN},lineEnd:function te(){b&&(B(S,w),x&&k&&y.rejoin(),b.push(y.result())),F.point=L,k&&_.lineEnd()},polygonStart:function U(){_=y,b=[],O=[],N=!0},polygonEnd:function z(){var j=function $(){for(var j=0,W=0,q=O.length;W<q;++W)for(var re,he,G=O[W],K=1,J=G.length,ie=G[0],de=ie[0],ke=ie[1];K<J;++K)re=de,he=ke,de=(ie=G[K])[0],ke=ie[1],he<=h?ke>h&&(de-re)*(h-he)>(ke-he)*(c-re)&&++j:ke<=h&&(de-re)*(h-he)<(ke-he)*(c-re)&&--j;return j}(),W=N&&j,q=(b=W6(b)).length;(W||q)&&(v.polygonStart(),W&&(v.lineStart(),f(null,null,1,v),v.lineEnd()),q&&xle(b,g,j,f,v),v.polygonEnd()),_=v,b=O=C=null}};function L(j,W){d(j,W)&&_.point(j,W)}function B(j,W){var q=d(j,W);if(O&&C.push([j,W]),P)S=j,w=W,x=q,P=!1,q&&(_.lineStart(),_.point(j,W));else if(q&&k)_.point(j,W);else{var G=[T=Math.max(xM,Math.min(fw,T)),D=Math.max(xM,Math.min(fw,D))],K=[j=Math.max(xM,Math.min(fw,j)),W=Math.max(xM,Math.min(fw,W))];!function pHe(c,l,a,h,d,f){var C,p=c[0],g=c[1],_=0,y=1,b=l[0]-p,O=l[1]-g;if(C=a-p,b||!(C>0)){if(C/=b,b<0){if(C<_)return;C<y&&(y=C)}else if(b>0){if(C>y)return;C>_&&(_=C)}if(C=d-p,b||!(C<0)){if(C/=b,b<0){if(C>y)return;C>_&&(_=C)}else if(b>0){if(C<_)return;C<y&&(y=C)}if(C=h-g,O||!(C>0)){if(C/=O,O<0){if(C<_)return;C<y&&(y=C)}else if(O>0){if(C>y)return;C>_&&(_=C)}if(C=f-g,O||!(C<0)){if(C/=O,O<0){if(C>y)return;C>_&&(_=C)}else if(O>0){if(C<_)return;C<y&&(y=C)}return _>0&&(c[0]=p+_*b,c[1]=g+_*O),y<1&&(l[0]=p+y*b,l[1]=g+y*O),!0}}}}}(G,K,c,l,a,h)?q&&(_.lineStart(),_.point(j,W),N=!1):(k||(_.lineStart(),_.point(G[0],G[1])),_.point(K[0],K[1]),q||_.lineEnd(),N=!1)}T=j,D=W,k=q}return F}}function gHe(){var d,f,p,c=0,l=0,a=960,h=500;return p={stream:function(g){return d&&f===g?d:d=TM(c,l,a,h)(f=g)},extent:function(g){return arguments.length?(c=+g[0][0],l=+g[0][1],a=+g[1][0],h=+g[1][1],d=f=null,p):[[c,l],[a,h]]}}}var $B,zB,kM,DM,nb={sphere:Gs,point:Gs,lineStart:function mHe(){nb.point=_He,nb.lineEnd=vHe},lineEnd:Gs,polygonStart:Gs,polygonEnd:Gs};function vHe(){nb.point=nb.lineEnd=Gs}function _He(c,l){zB=c*=fi,kM=Nn(l*=fi),DM=Jn(l),nb.point=yHe}function yHe(c,l){c*=fi;var a=Nn(l*=fi),h=Jn(l),d=Sr(c-zB),f=Jn(d),g=h*Nn(d),m=DM*a-kM*h*f,v=kM*a+DM*h*f;$B.add(Zl(ba(g*g+m*m),v)),zB=c,kM=a,DM=h}function Ele(c){return $B=new Jo,Hh(c,nb),+$B}var UB=[null,null],bHe={type:"LineString",coordinates:UB};function MM(c,l){return UB[0]=c,UB[1]=l,Ele(bHe)}var Ple={Feature:function(c,l){return EM(c.geometry,l)},FeatureCollection:function(c,l){for(var a=c.features,h=-1,d=a.length;++h<d;)if(EM(a[h].geometry,l))return!0;return!1}},Ale={Sphere:function(){return!0},Point:function(c,l){return Ile(c.coordinates,l)},MultiPoint:function(c,l){for(var a=c.coordinates,h=-1,d=a.length;++h<d;)if(Ile(a[h],l))return!0;return!1},LineString:function(c,l){return Rle(c.coordinates,l)},MultiLineString:function(c,l){for(var a=c.coordinates,h=-1,d=a.length;++h<d;)if(Rle(a[h],l))return!0;return!1},Polygon:function(c,l){return Lle(c.coordinates,l)},MultiPolygon:function(c,l){for(var a=c.coordinates,h=-1,d=a.length;++h<d;)if(Lle(a[h],l))return!0;return!1},GeometryCollection:function(c,l){for(var a=c.geometries,h=-1,d=a.length;++h<d;)if(EM(a[h],l))return!0;return!1}};function EM(c,l){return!(!c||!Ale.hasOwnProperty(c.type))&&Ale[c.type](c,l)}function Ile(c,l){return 0===MM(c,l)}function Rle(c,l){for(var a,h,d,f=0,p=c.length;f<p;f++){if(0===(h=MM(c[f],l))||f>0&&(d=MM(c[f],c[f-1]))>0&&a<=d&&h<=d&&(a+h-d)*(1-Math.pow((a-h)/d,2))<cw*d)return!0;a=h}return!1}function Lle(c,l){return!!kle(c.map(OHe),Nle(l))}function OHe(c){return(c=c.map(Nle)).pop(),c}function Nle(c){return[c[0]*fi,c[1]*fi]}function CHe(c,l){return(c&&Ple.hasOwnProperty(c.type)?Ple[c.type]:EM)(c,l)}function Fle(c,l,a){var h=Gu(c,l-ci,a).concat(l);return function(d){return h.map(function(f){return[d,f]})}}function Ble(c,l,a){var h=Gu(c,l-ci,a).concat(l);return function(d){return h.map(function(f){return[f,d]})}}function Vle(){var c,l,a,h,d,f,p,g,b,O,C,S,m=10,v=m,_=90,y=360,w=2.5;function x(){return{type:"MultiLineString",coordinates:T()}}function T(){return Gu(aM(h/_)*_,a,_).map(C).concat(Gu(aM(g/y)*y,p,y).map(S)).concat(Gu(aM(l/m)*m,c,m).filter(function(D){return Sr(D%_)>ci}).map(b)).concat(Gu(aM(f/v)*v,d,v).filter(function(D){return Sr(D%y)>ci}).map(O))}return x.lines=function(){return T().map(function(D){return{type:"LineString",coordinates:D}})},x.outline=function(){return{type:"Polygon",coordinates:[C(h).concat(S(p).slice(1),C(a).reverse().slice(1),S(g).reverse().slice(1))]}},x.extent=function(D){return arguments.length?x.extentMajor(D).extentMinor(D):x.extentMinor()},x.extentMajor=function(D){return arguments.length?(g=+D[0][1],p=+D[1][1],(h=+D[0][0])>(a=+D[1][0])&&(D=h,h=a,a=D),g>p&&(D=g,g=p,p=D),x.precision(w)):[[h,g],[a,p]]},x.extentMinor=function(D){return arguments.length?(f=+D[0][1],d=+D[1][1],(l=+D[0][0])>(c=+D[1][0])&&(D=l,l=c,c=D),f>d&&(D=f,f=d,d=D),x.precision(w)):[[l,f],[c,d]]},x.step=function(D){return arguments.length?x.stepMajor(D).stepMinor(D):x.stepMinor()},x.stepMajor=function(D){return arguments.length?(_=+D[0],y=+D[1],x):[_,y]},x.stepMinor=function(D){return arguments.length?(m=+D[0],v=+D[1],x):[m,v]},x.precision=function(D){return arguments.length?(w=+D,b=Fle(f,d,90),O=Ble(l,c,w),C=Fle(g,p,90),S=Ble(h,a,w),x):w},x.extentMajor([[-180,-90+ci],[180,90-ci]]).extentMinor([[-180,-80-ci],[180,80+ci]])}function SHe(){return Vle()()}function wHe(c,l){var a=c[0]*fi,h=c[1]*fi,d=l[0]*fi,f=l[1]*fi,p=Jn(h),g=Nn(h),m=Jn(f),v=Nn(f),_=p*Jn(a),y=p*Nn(a),b=m*Jn(d),O=m*Nn(d),C=2*jl(ba(Jae(f-h)+p*m*Jae(d-a))),S=Nn(C),w=C?function(x){var T=Nn(x*=C)/S,D=Nn(C-x)/S,k=D*_+T*b,P=D*y+T*O,N=D*g+T*v;return[Zl(P,k)*_s,Zl(N,ba(k*k+P*P))*_s]}:function(){return[a*_s,h*_s]};return w.distance=C,w}const pw=c=>c;var $le,zle,WB,ZB,QB=new Jo,HB=new Jo,jg={point:Gs,lineStart:Gs,lineEnd:Gs,polygonStart:function(){jg.lineStart=xHe,jg.lineEnd=kHe},polygonEnd:function(){jg.lineStart=jg.lineEnd=jg.point=Gs,QB.add(Sr(HB)),HB=new Jo},result:function(){var c=QB/2;return QB=new Jo,c}};function xHe(){jg.point=THe}function THe(c,l){jg.point=Ule,$le=WB=c,zle=ZB=l}function Ule(c,l){HB.add(ZB*c-WB*l),WB=c,ZB=l}function kHe(){Ule($le,zle)}const Qle=jg;var ib=1/0,PM=ib,gw=-ib,AM=gw,DHe={point:function MHe(c,l){c<ib&&(ib=c),c>gw&&(gw=c),l<PM&&(PM=l),l>AM&&(AM=l)},lineStart:Gs,lineEnd:Gs,polygonStart:Gs,polygonEnd:Gs,result:function(){var c=[[ib,PM],[gw,AM]];return gw=AM=-(PM=ib=1/0),c}};const IM=DHe;var Hle,Wle,qd,Kd,jB=0,GB=0,mw=0,RM=0,LM=0,rb=0,XB=0,YB=0,vw=0,Zh={point:S1,lineStart:Zle,lineEnd:jle,polygonStart:function(){Zh.lineStart=AHe,Zh.lineEnd=IHe},polygonEnd:function(){Zh.point=S1,Zh.lineStart=Zle,Zh.lineEnd=jle},result:function(){var c=vw?[XB/vw,YB/vw]:rb?[RM/rb,LM/rb]:mw?[jB/mw,GB/mw]:[NaN,NaN];return jB=GB=mw=RM=LM=rb=XB=YB=vw=0,c}};function S1(c,l){jB+=c,GB+=l,++mw}function Zle(){Zh.point=EHe}function EHe(c,l){Zh.point=PHe,S1(qd=c,Kd=l)}function PHe(c,l){var a=c-qd,h=l-Kd,d=ba(a*a+h*h);RM+=d*(qd+c)/2,LM+=d*(Kd+l)/2,rb+=d,S1(qd=c,Kd=l)}function jle(){Zh.point=S1}function AHe(){Zh.point=RHe}function IHe(){Gle(Hle,Wle)}function RHe(c,l){Zh.point=Gle,S1(Hle=qd=c,Wle=Kd=l)}function Gle(c,l){var a=c-qd,h=l-Kd,d=ba(a*a+h*h);RM+=d*(qd+c)/2,LM+=d*(Kd+l)/2,rb+=d,XB+=(d=Kd*c-qd*l)*(qd+c),YB+=d*(Kd+l),vw+=3*d,S1(qd=c,Kd=l)}const Xle=Zh;function Yle(c){this._context=c}Yle.prototype={_radius:4.5,pointRadius:function(c){return this._radius=c,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(c,l){switch(this._point){case 0:this._context.moveTo(c,l),this._point=1;break;case 1:this._context.lineTo(c,l);break;default:this._context.moveTo(c+this._radius,l),this._context.arc(c,l,this._radius,0,Wl)}},result:Gs};var KB,qle,Kle,_w,yw,qB=new Jo,NM={point:Gs,lineStart:function(){NM.point=LHe},lineEnd:function(){KB&&Jle(qle,Kle),NM.point=Gs},polygonStart:function(){KB=!0},polygonEnd:function(){KB=null},result:function(){var c=+qB;return qB=new Jo,c}};function LHe(c,l){NM.point=Jle,qle=_w=c,Kle=yw=l}function Jle(c,l){qB.add(ba((_w-=c)*_w+(yw-=l)*yw)),_w=c,yw=l}const ece=NM;let tce,FM,nce,ice;class rce{constructor(l){this._append=null==l?sce:function NHe(c){const l=Math.floor(c);if(!(l>=0))throw new RangeError(`invalid digits: ${c}`);if(l>15)return sce;if(l!==tce){const a=10**l;tce=l,FM=function(d){let f=1;this._+=d[0];for(const p=d.length;f<p;++f)this._+=Math.round(arguments[f]*a)/a+d[f]}}return FM}(l),this._radius=4.5,this._=""}pointRadius(l){return this._radius=+l,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(l,a){switch(this._point){case 0:this._append`M${l},${a}`,this._point=1;break;case 1:this._append`L${l},${a}`;break;default:if(this._append`M${l},${a}`,this._radius!==nce||this._append!==FM){const h=this._radius,d=this._;this._="",this._append`m0,${h}a${h},${h} 0 1,1 0,${-2*h}a${h},${h} 0 1,1 0,${2*h}z`,nce=h,FM=this._append,ice=this._,this._=d}this._+=ice}}result(){const l=this._;return this._="",l.length?l:null}}function sce(c){let l=1;this._+=c[0];for(const a=c.length;l<a;++l)this._+=arguments[l]+c[l]}function FHe(c,l){let d,f,a=3,h=4.5;function p(g){return g&&("function"==typeof h&&f.pointRadius(+h.apply(this,arguments)),Hh(g,d(f))),f.result()}return p.area=function(g){return Hh(g,d(Qle)),Qle.result()},p.measure=function(g){return Hh(g,d(ece)),ece.result()},p.bounds=function(g){return Hh(g,d(IM)),IM.result()},p.centroid=function(g){return Hh(g,d(Xle)),Xle.result()},p.projection=function(g){return arguments.length?(d=null==g?(c=null,pw):(c=g).stream,p):c},p.context=function(g){return arguments.length?(f=null==g?(l=null,new rce(a)):new Yle(l=g),"function"!=typeof h&&f.pointRadius(h),p):l},p.pointRadius=function(g){return arguments.length?(h="function"==typeof g?g:(f.pointRadius(+g),+g),p):h},p.digits=function(g){if(!arguments.length)return a;if(null==g)a=null;else{const m=Math.floor(g);if(!(m>=0))throw new RangeError(`invalid digits: ${g}`);a=m}return null===l&&(f=new rce(a)),p},p.projection(c).digits(a).context(l)}function BHe(c){return{stream:bw(c)}}function bw(c){return function(l){var a=new JB;for(var h in c)a[h]=c[h];return a.stream=l,a}}function JB(){}function eV(c,l,a){var h=c.clipExtent&&c.clipExtent();return c.scale(150).translate([0,0]),null!=h&&c.clipExtent(null),Hh(a,c.stream(IM)),l(IM.result()),null!=h&&c.clipExtent(h),c}function BM(c,l,a){return eV(c,function(h){var d=l[1][0]-l[0][0],f=l[1][1]-l[0][1],p=Math.min(d/(h[1][0]-h[0][0]),f/(h[1][1]-h[0][1])),g=+l[0][0]+(d-p*(h[1][0]+h[0][0]))/2,m=+l[0][1]+(f-p*(h[1][1]+h[0][1]))/2;c.scale(150*p).translate([g,m])},a)}function tV(c,l,a){return BM(c,[[0,0],l],a)}function nV(c,l,a){return eV(c,function(h){var d=+l,f=d/(h[1][0]-h[0][0]),p=(d-f*(h[1][0]+h[0][0]))/2,g=-f*h[0][1];c.scale(150*f).translate([p,g])},a)}function iV(c,l,a){return eV(c,function(h){var d=+l,f=d/(h[1][1]-h[0][1]),p=-f*h[0][0],g=(d-f*(h[1][1]+h[0][1]))/2;c.scale(150*f).translate([p,g])},a)}JB.prototype={constructor:JB,point:function(c,l){this.stream.point(c,l)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var oce=16,VHe=Jn(30*fi);function ace(c,l){return+l?function zHe(c,l){function a(h,d,f,p,g,m,v,_,y,b,O,C,S,w){var x=v-h,T=_-d,D=x*x+T*T;if(D>4*l&&S--){var k=p+b,P=g+O,N=m+C,F=ba(k*k+P*P+N*N),L=jl(N/=F),$=Sr(Sr(N)-1)<ci||Sr(f-y)<ci?(f+y)/2:Zl(P,k),U=c($,L),z=U[0],ee=U[1],te=z-h,B=ee-d,j=T*te-x*B;(j*j/D>l||Sr((x*te+T*B)/D-.5)>.3||p*b+g*O+m*C<VHe)&&(a(h,d,f,p,g,m,z,ee,$,k/=F,P/=F,N,S,w),w.point(z,ee),a(z,ee,$,k,P,N,v,_,y,b,O,C,S,w))}}return function(h){var d,f,p,g,m,v,_,y,b,O,C,S,w={point:x,lineStart:T,lineEnd:k,polygonStart:function(){h.polygonStart(),w.lineStart=P},polygonEnd:function(){h.polygonEnd(),w.lineStart=T}};function x(L,$){L=c(L,$),h.point(L[0],L[1])}function T(){y=NaN,w.point=D,h.lineStart()}function D(L,$){var U=O1([L,$]),z=c(L,$);a(y,b,_,O,C,S,y=z[0],b=z[1],_=L,O=U[0],C=U[1],S=U[2],oce,h),h.point(y,b)}function k(){w.point=x,h.lineEnd()}function P(){T(),w.point=N,w.lineEnd=F}function N(L,$){D(d=L,$),f=y,p=b,g=O,m=C,v=S,w.point=D}function F(){a(y,b,_,O,C,S,f,p,d,g,m,v,oce,h),w.lineEnd=k,k()}return w}}(c,l):function $He(c){return bw({point:function(l,a){l=c(l,a),this.stream.point(l[0],l[1])}})}(c)}var UHe=bw({point:function(c,l){this.stream.point(c*fi,l*fi)}});function lce(c,l,a,h,d,f){if(!f)return function HHe(c,l,a,h,d){function f(p,g){return[l+c*(p*=h),a-c*(g*=d)]}return f.invert=function(p,g){return[(p-l)/c*h,(a-g)/c*d]},f}(c,l,a,h,d);var p=Jn(f),g=Nn(f),m=p*c,v=g*c,_=p/c,y=g/c,b=(g*a-p*l)/c,O=(g*l+p*a)/c;function C(S,w){return[m*(S*=h)-v*(w*=d)+l,a-v*S-m*w]}return C.invert=function(S,w){return[h*(_*S-y*w+b),d*(O-y*S-_*w)]},C}function Jd(c){return rV(function(){return c})()}function rV(c){var l,_,x,T,D,N,F,L,$,U,a=150,h=480,d=250,f=0,p=0,g=0,m=0,v=0,y=0,b=1,O=1,C=null,S=VB,w=null,k=pw,P=.5;function z(j){return L(j[0]*fi,j[1]*fi)}function ee(j){return(j=L.invert(j[0],j[1]))&&[j[0]*_s,j[1]*_s]}function te(){var j=lce(a,0,0,b,O,y).apply(null,l(f,p)),W=lce(a,h-j[0],d-j[1],b,O,y);return _=FB(g,m,v),F=LB(l,W),L=LB(_,F),N=ace(F,P),B()}function B(){return $=U=null,z}return z.stream=function(j){return $&&U===j?$:$=UHe(function QHe(c){return bw({point:function(l,a){var h=c(l,a);return this.stream.point(h[0],h[1])}})}(_)(S(N(k(U=j)))))},z.preclip=function(j){return arguments.length?(S=j,C=void 0,B()):S},z.postclip=function(j){return arguments.length?(k=j,w=x=T=D=null,B()):k},z.clipAngle=function(j){return arguments.length?(S=+j?Mle(C=j*fi):(C=null,VB),B()):C*_s},z.clipExtent=function(j){return arguments.length?(k=null==j?(w=x=T=D=null,pw):TM(w=+j[0][0],x=+j[0][1],T=+j[1][0],D=+j[1][1]),B()):null==w?null:[[w,x],[T,D]]},z.scale=function(j){return arguments.length?(a=+j,te()):a},z.translate=function(j){return arguments.length?(h=+j[0],d=+j[1],te()):[h,d]},z.center=function(j){return arguments.length?(f=j[0]%360*fi,p=j[1]%360*fi,te()):[f*_s,p*_s]},z.rotate=function(j){return arguments.length?(g=j[0]%360*fi,m=j[1]%360*fi,v=j.length>2?j[2]%360*fi:0,te()):[g*_s,m*_s,v*_s]},z.angle=function(j){return arguments.length?(y=j%360*fi,te()):y*_s},z.reflectX=function(j){return arguments.length?(b=j?-1:1,te()):b<0},z.reflectY=function(j){return arguments.length?(O=j?-1:1,te()):O<0},z.precision=function(j){return arguments.length?(N=ace(F,P=j*j),B()):ba(P)},z.fitExtent=function(j,W){return BM(z,j,W)},z.fitSize=function(j,W){return tV(z,j,W)},z.fitWidth=function(j,W){return nV(z,j,W)},z.fitHeight=function(j,W){return iV(z,j,W)},function(){return l=c.apply(this,arguments),z.invert=l.invert&&ee,te()}}function sV(c){var l=0,a=cr/3,h=rV(c),d=h(l,a);return d.parallels=function(f){return arguments.length?h(l=f[0]*fi,a=f[1]*fi):[l*_s,a*_s]},d}function cce(c,l){var a=Nn(c),h=(a+Nn(l))/2;if(Sr(h)<ci)return function WHe(c){var l=Jn(c);function a(h,d){return[h*l,Nn(d)/l]}return a.invert=function(h,d){return[h/l,jl(d*l)]},a}(c);var d=1+a*(2*h-a),f=ba(d)/h;function p(g,m){var v=ba(d-2*h*Nn(m))/h;return[v*Nn(g*=h),f-v*Jn(g)]}return p.invert=function(g,m){var v=f-m,_=Zl(g,Sr(v))*Yu(v);return v*h<0&&(_-=cr*Yu(g)*Yu(v)),[_/h,jl((d-(g*g+v*v)*h*h)/(2*h))]},p}function VM(){return sV(cce).scale(155.424).center([0,33.6442])}function uce(){return VM().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function jHe(){var c,l,h,f,g,m,a=uce(),d=VM().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p=VM().rotate([157,0]).center([-3,19.9]).parallels([8,18]),v={point:function(b,O){m=[b,O]}};function _(b){var O=b[0],C=b[1];return m=null,h.point(O,C),m||(f.point(O,C),m)||(g.point(O,C),m)}function y(){return c=l=null,_}return _.invert=function(b){var O=a.scale(),C=a.translate(),S=(b[0]-C[0])/O,w=(b[1]-C[1])/O;return(w>=.12&&w<.234&&S>=-.425&&S<-.214?d:w>=.166&&w<.234&&S>=-.214&&S<-.115?p:a).invert(b)},_.stream=function(b){return c&&l===b?c:c=function ZHe(c){var l=c.length;return{point:function(a,h){for(var d=-1;++d<l;)c[d].point(a,h)},sphere:function(){for(var a=-1;++a<l;)c[a].sphere()},lineStart:function(){for(var a=-1;++a<l;)c[a].lineStart()},lineEnd:function(){for(var a=-1;++a<l;)c[a].lineEnd()},polygonStart:function(){for(var a=-1;++a<l;)c[a].polygonStart()},polygonEnd:function(){for(var a=-1;++a<l;)c[a].polygonEnd()}}}([a.stream(l=b),d.stream(b),p.stream(b)])},_.precision=function(b){return arguments.length?(a.precision(b),d.precision(b),p.precision(b),y()):a.precision()},_.scale=function(b){return arguments.length?(a.scale(b),d.scale(.35*b),p.scale(b),_.translate(a.translate())):a.scale()},_.translate=function(b){if(!arguments.length)return a.translate();var O=a.scale(),C=+b[0],S=+b[1];return h=a.translate(b).clipExtent([[C-.455*O,S-.238*O],[C+.455*O,S+.238*O]]).stream(v),f=d.translate([C-.307*O,S+.201*O]).clipExtent([[C-.425*O+ci,S+.12*O+ci],[C-.214*O-ci,S+.234*O-ci]]).stream(v),g=p.translate([C-.205*O,S+.212*O]).clipExtent([[C-.214*O+ci,S+.166*O+ci],[C-.115*O-ci,S+.234*O-ci]]).stream(v),y()},_.fitExtent=function(b,O){return BM(_,b,O)},_.fitSize=function(b,O){return tV(_,b,O)},_.fitWidth=function(b,O){return nV(_,b,O)},_.fitHeight=function(b,O){return iV(_,b,O)},_.scale(1070)}function hce(c){return function(l,a){var h=Jn(l),d=Jn(a),f=c(h*d);return f===1/0?[2,0]:[f*d*Nn(l),f*Nn(a)]}}function Ow(c){return function(l,a){var h=ba(l*l+a*a),d=c(h),f=Nn(d),p=Jn(d);return[Zl(l*f,h*p),jl(h&&a*f/h)]}}var oV=hce(function(c){return ba(2/(1+c))});function GHe(){return Jd(oV).scale(124.75).clipAngle(179.999)}oV.invert=Ow(function(c){return 2*jl(c/2)});var aV=hce(function(c){return(c=Kae(c))&&c/Nn(c)});function XHe(){return Jd(aV).scale(79.4188).clipAngle(179.999)}function Cw(c,l){return[c,lM(wB((co+l)/2))]}function YHe(){return dce(Cw).scale(961/Wl)}function dce(c){var g,m,v,l=Jd(c),a=l.center,h=l.scale,d=l.translate,f=l.clipExtent,p=null;function _(){var y=cr*h(),b=l(Ole(l.rotate()).invert([0,0]));return f(null==p?[[b[0]-y,b[1]-y],[b[0]+y,b[1]+y]]:c===Cw?[[Math.max(b[0]-y,p),g],[Math.min(b[0]+y,m),v]]:[[p,Math.max(b[1]-y,g)],[m,Math.min(b[1]+y,v)]])}return l.scale=function(y){return arguments.length?(h(y),_()):h()},l.translate=function(y){return arguments.length?(d(y),_()):d()},l.center=function(y){return arguments.length?(a(y),_()):a()},l.clipExtent=function(y){return arguments.length?(null==y?p=g=m=v=null:(p=+y[0][0],g=+y[0][1],m=+y[1][0],v=+y[1][1]),_()):null==p?null:[[p,g],[m,v]]},_()}function $M(c){return wB((co+c)/2)}function fce(c,l){var a=Jn(c),h=c===l?Nn(c):lM(a/Jn(l))/lM($M(l)/$M(c)),d=a*SB($M(c),h)/h;if(!h)return Cw;function f(p,g){d>0?g<-co+ci&&(g=-co+ci):g>co-ci&&(g=co-ci);var m=d/SB($M(g),h);return[m*Nn(h*p),d-m*Jn(h*p)]}return f.invert=function(p,g){var m=d-g,v=Yu(h)*ba(p*p+m*m),_=Zl(p,Sr(m))*Yu(m);return m*h<0&&(_-=cr*Yu(p)*Yu(m)),[_/h,2*Ky(SB(d/v,1/h))-co]},f}function qHe(){return sV(fce).scale(109.5).parallels([30,30])}function Sw(c,l){return[c,l]}function KHe(){return Jd(Sw).scale(152.63)}function pce(c,l){var a=Jn(c),h=c===l?Nn(c):(a-Jn(l))/(l-c),d=a/h+c;if(Sr(h)<ci)return Sw;function f(p,g){var m=d-g,v=h*p;return[m*Nn(v),d-m*Jn(v)]}return f.invert=function(p,g){var m=d-g,v=Zl(p,Sr(m))*Yu(m);return m*h<0&&(v-=cr*Yu(p)*Yu(m)),[v/h,d-Yu(h)*ba(p*p+m*m)]},f}function JHe(){return sV(pce).scale(131.154).center([0,13.9389])}aV.invert=Ow(function(c){return c}),Cw.invert=function(c,l){return[c,2*Ky(qae(l))-co]},Sw.invert=Sw;var ww=1.340264,xw=-.081106,Tw=893e-6,kw=.003796,zM=ba(3)/2;function lV(c,l){var a=jl(zM*Nn(l)),h=a*a,d=h*h*h;return[c*Jn(a)/(zM*(ww+3*xw*h+d*(7*Tw+9*kw*h))),a*(ww+xw*h+d*(Tw+kw*h))]}function tWe(){return Jd(lV).scale(177.158)}function cV(c,l){var a=Jn(l),h=Jn(c)*a;return[a*Nn(c)/h,Nn(l)/h]}function nWe(){return Jd(cV).scale(144.049).clipAngle(60)}function iWe(){var p,g,v,_,y,w,x,c=1,l=0,a=0,h=1,d=1,f=0,m=null,b=1,O=1,C=bw({point:function(k,P){var N=D([k,P]);this.stream.point(N[0],N[1])}}),S=pw;function T(){return b=c*h,O=c*d,w=x=null,D}function D(k){var P=k[0]*b,N=k[1]*O;if(f){var F=N*p-P*g;P=P*p+N*g,N=F}return[P+l,N+a]}return D.invert=function(k){var P=k[0]-l,N=k[1]-a;if(f){var F=N*p+P*g;P=P*p-N*g,N=F}return[P/b,N/O]},D.stream=function(k){return w&&x===k?w:w=C(S(x=k))},D.postclip=function(k){return arguments.length?(S=k,m=v=_=y=null,T()):S},D.clipExtent=function(k){return arguments.length?(S=null==k?(m=v=_=y=null,pw):TM(m=+k[0][0],v=+k[0][1],_=+k[1][0],y=+k[1][1]),T()):null==m?null:[[m,v],[_,y]]},D.scale=function(k){return arguments.length?(c=+k,T()):c},D.translate=function(k){return arguments.length?(l=+k[0],a=+k[1],T()):[l,a]},D.angle=function(k){return arguments.length?(g=Nn(f=k%360*fi),p=Jn(f),T()):f*_s},D.reflectX=function(k){return arguments.length?(h=k?-1:1,T()):h<0},D.reflectY=function(k){return arguments.length?(d=k?-1:1,T()):d<0},D.fitExtent=function(k,P){return BM(D,k,P)},D.fitSize=function(k,P){return tV(D,k,P)},D.fitWidth=function(k,P){return nV(D,k,P)},D.fitHeight=function(k,P){return iV(D,k,P)},D}function uV(c,l){var a=l*l,h=a*a;return[c*(.8707-.131979*a+h*(h*(.003971*a-.001529*h)-.013791)),l*(1.007226+a*(.015085+h*(.028874*a-.044475-.005916*h)))]}function rWe(){return Jd(uV).scale(175.295)}function hV(c,l){return[Jn(l)*Nn(c),Nn(l)]}function sWe(){return Jd(hV).scale(249.5).clipAngle(90+ci)}function dV(c,l){var a=Jn(l),h=1+Jn(c)*a;return[a*Nn(c)/h,Nn(l)/h]}function oWe(){return Jd(dV).scale(250).clipAngle(142)}function fV(c,l){return[lM(wB((co+l)/2)),-c]}function aWe(){var c=dce(fV),l=c.center,a=c.rotate;return c.center=function(h){return arguments.length?l([-h[1],h[0]]):[(h=l())[1],-h[0]]},c.rotate=function(h){return arguments.length?a([h[0],h[1],h.length>2?h[2]+90:90]):[(h=a())[0],h[1],h[2]-90]},a([0,0,90]).scale(159.155)}function lWe(c,l){return c.parent===l.parent?1:2}function uWe(c,l){return c+l.x}function dWe(c,l){return Math.max(c,l.y)}function gWe(){var c=lWe,l=1,a=1,h=!1;function d(f){var p,g=0;f.eachAfter(function(b){var O=b.children;O?(b.x=function cWe(c){return c.reduce(uWe,0)/c.length}(O),b.y=function hWe(c){return 1+c.reduce(dWe,0)}(O)):(b.x=p?g+=c(b,p):0,b.y=0,p=b)});var m=function fWe(c){for(var l;l=c.children;)c=l[0];return c}(f),v=function pWe(c){for(var l;l=c.children;)c=l[l.length-1];return c}(f),_=m.x-c(m,v)/2,y=v.x+c(v,m)/2;return f.eachAfter(h?function(b){b.x=(b.x-f.x)*l,b.y=(f.y-b.y)*a}:function(b){b.x=(b.x-_)/(y-_)*l,b.y=(1-(f.y?b.y/f.y:1))*a})}return d.separation=function(f){return arguments.length?(c=f,d):c},d.size=function(f){return arguments.length?(h=!1,l=+f[0],a=+f[1],d):h?null:[l,a]},d.nodeSize=function(f){return arguments.length?(h=!0,l=+f[0],a=+f[1],d):h?[l,a]:null},d}function mWe(c){var l=0,a=c.children,h=a&&a.length;if(h)for(;--h>=0;)l+=a[h].value;else l=1;c.value=l}function pV(c,l){c instanceof Map?(c=[void 0,c],void 0===l&&(l=IWe)):void 0===l&&(l=AWe);for(var h,f,p,g,m,a=new w1(c),d=[a];h=d.pop();)if((p=l(h.data))&&(m=(p=Array.from(p)).length))for(h.children=p,g=m-1;g>=0;--g)d.push(f=p[g]=new w1(p[g])),f.parent=h,f.depth=h.depth+1;return a.eachBefore(gce)}function AWe(c){return c.children}function IWe(c){return Array.isArray(c)?c[1]:null}function RWe(c){void 0!==c.data.value&&(c.value=c.data.value),c.data=c.data.data}function gce(c){var l=0;do{c.height=l}while((c=c.parent)&&c.height<++l)}function w1(c){this.data=c,this.depth=this.height=0,this.parent=null}function UM(c){return null==c?null:mce(c)}function mce(c){if("function"!=typeof c)throw new Error;return c}function x1(){return 0}function sb(c){return function(){return c}}lV.invert=function(c,l){for(var p,a=l,h=a*a,d=h*h*h,f=0;f<12&&(d=(h=(a-=p=(a*(ww+xw*h+d*(Tw+kw*h))-l)/(ww+3*xw*h+d*(7*Tw+9*kw*h)))*a)*h*h,!(Sr(p)<cw));++f);return[zM*c*(ww+3*xw*h+d*(7*Tw+9*kw*h))/Jn(a),jl(Nn(a)/zM)]},cV.invert=Ow(Ky),uV.invert=function(c,l){var d,a=l,h=25;do{var f=a*a,p=f*f;a-=d=(a*(1.007226+f*(.015085+p*(.028874*f-.044475-.005916*p)))-l)/(1.007226+f*(.045255+p*(.259866*f-.311325-.005916*11*p)))}while(Sr(d)>ci&&--h>0);return[c/(.8707+(f=a*a)*(f*(f*f*f*(.003971-.001529*f)-.013791)-.131979)),a]},hV.invert=Ow(jl),dV.invert=Ow(function(c){return 2*Ky(c)}),fV.invert=function(c,l){return[-l,2*Ky(qae(c))-co]},w1.prototype=pV.prototype={constructor:w1,count:function vWe(){return this.eachAfter(mWe)},each:function _We(c,l){let a=-1;for(const h of this)c.call(l,h,++a,this);return this},eachAfter:function bWe(c,l){for(var f,p,g,a=this,h=[a],d=[],m=-1;a=h.pop();)if(d.push(a),f=a.children)for(p=0,g=f.length;p<g;++p)h.push(f[p]);for(;a=d.pop();)c.call(l,a,++m,this);return this},eachBefore:function yWe(c,l){for(var d,f,a=this,h=[a],p=-1;a=h.pop();)if(c.call(l,a,++p,this),d=a.children)for(f=d.length-1;f>=0;--f)h.push(d[f]);return this},find:function OWe(c,l){let a=-1;for(const h of this)if(c.call(l,h,++a,this))return h},sum:function CWe(c){return this.eachAfter(function(l){for(var a=+c(l.data)||0,h=l.children,d=h&&h.length;--d>=0;)a+=h[d].value;l.value=a})},sort:function SWe(c){return this.eachBefore(function(l){l.children&&l.children.sort(c)})},path:function wWe(c){for(var l=this,a=function xWe(c,l){if(c===l)return c;var a=c.ancestors(),h=l.ancestors(),d=null;for(c=a.pop(),l=h.pop();c===l;)d=c,c=a.pop(),l=h.pop();return d}(l,c),h=[l];l!==a;)h.push(l=l.parent);for(var d=h.length;c!==a;)h.splice(d,0,c),c=c.parent;return h},ancestors:function TWe(){for(var c=this,l=[c];c=c.parent;)l.push(c);return l},descendants:function kWe(){return Array.from(this)},leaves:function DWe(){var c=[];return this.eachBefore(function(l){l.children||c.push(l)}),c},links:function MWe(){var c=this,l=[];return c.each(function(a){a!==c&&l.push({source:a.parent,target:a})}),l},copy:function PWe(){return pV(this).eachBefore(RWe)},[Symbol.iterator]:function*EWe(){var l,h,d,f,c=this,a=[c];do{for(l=a.reverse(),a=[];c=l.pop();)if(yield c,h=c.children)for(d=0,f=h.length;d<f;++d)a.push(h[d])}while(a.length)}};const LWe=1664525,NWe=1013904223,vce=4294967296;function gV(){let c=1;return()=>(c=(LWe*c+NWe)%vce)/vce}function VWe(c){return _ce(c,gV())}function _ce(c,l){for(var f,p,a=0,h=(c=function BWe(c,l){let h,d,a=c.length;for(;a;)d=l()*a--|0,h=c[a],c[a]=c[d],c[d]=h;return c}(Array.from(c),l)).length,d=[];a<h;)f=c[a],p&&yce(p,f)?++a:(p=zWe(d=$We(d,f)),a=0);return p}function $We(c,l){var a,h;if(mV(l,c))return[l];for(a=0;a<c.length;++a)if(QM(l,c[a])&&mV(Dw(c[a],l),c))return[c[a],l];for(a=0;a<c.length-1;++a)for(h=a+1;h<c.length;++h)if(QM(Dw(c[a],c[h]),l)&&QM(Dw(c[a],l),c[h])&&QM(Dw(c[h],l),c[a])&&mV(bce(c[a],c[h],l),c))return[c[a],c[h],l];throw new Error}function QM(c,l){var a=c.r-l.r,h=l.x-c.x,d=l.y-c.y;return a<0||a*a<h*h+d*d}function yce(c,l){var a=c.r-l.r+1e-9*Math.max(c.r,l.r,1),h=l.x-c.x,d=l.y-c.y;return a>0&&a*a>h*h+d*d}function mV(c,l){for(var a=0;a<l.length;++a)if(!yce(c,l[a]))return!1;return!0}function zWe(c){switch(c.length){case 1:return function UWe(c){return{x:c.x,y:c.y,r:c.r}}(c[0]);case 2:return Dw(c[0],c[1]);case 3:return bce(c[0],c[1],c[2])}}function Dw(c,l){var a=c.x,h=c.y,d=c.r,f=l.x,p=l.y,g=l.r,m=f-a,v=p-h,_=g-d,y=Math.sqrt(m*m+v*v);return{x:(a+f+m/y*_)/2,y:(h+p+v/y*_)/2,r:(y+d+g)/2}}function bce(c,l,a){var h=c.x,d=c.y,f=c.r,p=l.x,g=l.y,m=l.r,v=a.x,_=a.y,y=a.r,b=h-p,O=h-v,C=d-g,S=d-_,w=m-f,x=y-f,T=h*h+d*d-f*f,D=T-p*p-g*g+m*m,k=T-v*v-_*_+y*y,P=O*C-b*S,N=(C*k-S*D)/(2*P)-h,F=(S*w-C*x)/P,L=(O*D-b*k)/(2*P)-d,$=(b*x-O*w)/P,U=F*F+$*$-1,z=2*(f+N*F+L*$),ee=N*N+L*L-f*f,te=-(Math.abs(U)>1e-6?(z+Math.sqrt(z*z-4*U*ee))/(2*U):ee/z);return{x:h+N+F*te,y:d+L+$*te,r:te}}function Oce(c,l,a){var d,f,g,m,h=c.x-l.x,p=c.y-l.y,v=h*h+p*p;v?(f=l.r+a.r,m=c.r+a.r,(f*=f)>(m*=m)?(d=(v+m-f)/(2*v),g=Math.sqrt(Math.max(0,m/v-d*d)),a.x=c.x-d*h-g*p,a.y=c.y-d*p+g*h):(d=(v+f-m)/(2*v),g=Math.sqrt(Math.max(0,f/v-d*d)),a.x=l.x+d*h-g*p,a.y=l.y+d*p+g*h)):(a.x=l.x+a.r,a.y=l.y)}function Cce(c,l){var a=c.r+l.r-1e-6,h=l.x-c.x,d=l.y-c.y;return a>0&&a*a>h*h+d*d}function Sce(c){var l=c._,a=c.next._,h=l.r+a.r,d=(l.x*a.r+a.x*l.r)/h,f=(l.y*a.r+a.y*l.r)/h;return d*d+f*f}function HM(c){this._=c,this.next=null,this.previous=null}function wce(c,l){if(!(f=(c=function FWe(c){return"object"==typeof c&&"length"in c?c:Array.from(c)}(c)).length))return 0;var a,h,d,f,p,g,m,v,_,y,b;if((a=c[0]).x=0,a.y=0,!(f>1))return a.r;if(a.x=-(h=c[1]).r,h.x=a.r,h.y=0,!(f>2))return a.r+h.r;Oce(h,a,d=c[2]),a=new HM(a),h=new HM(h),d=new HM(d),a.next=d.previous=h,h.next=a.previous=d,d.next=h.previous=a;e:for(m=3;m<f;++m){Oce(a._,h._,d=c[m]),d=new HM(d),v=h.next,_=a.previous,y=h._.r,b=a._.r;do{if(y<=b){if(Cce(v._,d._)){a.next=h=v,h.previous=a,--m;continue e}y+=v._.r,v=v.next}else{if(Cce(_._,d._)){(a=_).next=h,h.previous=a,--m;continue e}b+=_._.r,_=_.previous}}while(v!==_.next);for(d.previous=a,d.next=h,a.next=h.previous=h=d,p=Sce(a);(d=d.next)!==h;)(g=Sce(d))<p&&(a=d,p=g);h=a.next}for(a=[h._],d=h;(d=d.next)!==h;)a.push(d._);for(d=_ce(a,l),m=0;m<f;++m)(a=c[m]).x-=d.x,a.y-=d.y;return d.r}function QWe(c){return wce(c,gV()),c}function HWe(c){return Math.sqrt(c.value)}function WWe(){var c=null,l=1,a=1,h=x1;function d(f){const p=gV();return f.x=l/2,f.y=a/2,c?f.eachBefore(xce(c)).eachAfter(vV(h,.5,p)).eachBefore(Tce(1)):f.eachBefore(xce(HWe)).eachAfter(vV(x1,1,p)).eachAfter(vV(h,f.r/Math.min(l,a),p)).eachBefore(Tce(Math.min(l,a)/(2*f.r))),f}return d.radius=function(f){return arguments.length?(c=UM(f),d):c},d.size=function(f){return arguments.length?(l=+f[0],a=+f[1],d):[l,a]},d.padding=function(f){return arguments.length?(h="function"==typeof f?f:sb(+f),d):h},d}function xce(c){return function(l){l.children||(l.r=Math.max(0,+c(l)||0))}}function vV(c,l,a){return function(h){if(d=h.children){var d,f,m,p=d.length,g=c(h)*l||0;if(g)for(f=0;f<p;++f)d[f].r+=g;if(m=wce(d,a),g)for(f=0;f<p;++f)d[f].r-=g;h.r=m+g}}}function Tce(c){return function(l){var a=l.parent;l.r*=c,a&&(l.x=a.x+c*l.x,l.y=a.y+c*l.y)}}function kce(c){c.x0=Math.round(c.x0),c.y0=Math.round(c.y0),c.x1=Math.round(c.x1),c.y1=Math.round(c.y1)}function Mw(c,l,a,h,d){for(var p,f=c.children,g=-1,m=f.length,v=c.value&&(h-l)/c.value;++g<m;)(p=f[g]).y0=a,p.y1=d,p.x0=l,p.x1=l+=p.value*v}function ZWe(){var c=1,l=1,a=0,h=!1;function d(p){var g=p.height+1;return p.x0=p.y0=a,p.x1=c,p.y1=l/g,p.eachBefore(function f(p,g){return function(m){m.children&&Mw(m,m.x0,p*(m.depth+1)/g,m.x1,p*(m.depth+2)/g);var v=m.x0,_=m.y0,y=m.x1-a,b=m.y1-a;y<v&&(v=y=(v+y)/2),b<_&&(_=b=(_+b)/2),m.x0=v,m.y0=_,m.x1=y,m.y1=b}}(l,g)),h&&p.eachBefore(kce),p}return d.round=function(p){return arguments.length?(h=!!p,d):h},d.size=function(p){return arguments.length?(c=+p[0],l=+p[1],d):[c,l]},d.padding=function(p){return arguments.length?(a=+p,d):a},d}var jWe={depth:-1},Dce={},_V={};function GWe(c){return c.id}function XWe(c){return c.parentId}function YWe(){var a,c=GWe,l=XWe;function h(d){var m,v,_,y,b,O,C,S,f=Array.from(d),p=c,g=l,w=new Map;if(null!=a){const x=f.map((k,P)=>function qWe(c){let l=(c=`${c}`).length;return yV(c,l-1)&&!yV(c,l-2)&&(c=c.slice(0,-1)),"/"===c[0]?c:`/${c}`}(a(k,P,d))),T=x.map(Mce),D=new Set(x).add("");for(const k of T)D.has(k)||(D.add(k),x.push(k),T.push(Mce(k)),f.push(_V));p=(k,P)=>x[P],g=(k,P)=>T[P]}for(_=0,m=f.length;_<m;++_)O=f[_]=new w1(v=f[_]),null!=(C=p(v,_,d))&&(C+="")&&(S=O.id=C,w.set(S,w.has(S)?Dce:O)),null!=(C=g(v,_,d))&&(C+="")&&(O.parent=C);for(_=0;_<m;++_)if(C=(O=f[_]).parent){if(!(b=w.get(C)))throw new Error("missing: "+C);if(b===Dce)throw new Error("ambiguous: "+C);b.children?b.children.push(O):b.children=[O],O.parent=b}else{if(y)throw new Error("multiple roots");y=O}if(!y)throw new Error("no root");if(null!=a){for(;y.data===_V&&1===y.children.length;)y=y.children[0],--m;for(let x=f.length-1;x>=0&&(O=f[x]).data===_V;--x)O.data=null}if(y.parent=jWe,y.eachBefore(function(x){x.depth=x.parent.depth+1,--m}).eachBefore(gce),y.parent=null,m>0)throw new Error("cycle");return y}return h.id=function(d){return arguments.length?(c=UM(d),h):c},h.parentId=function(d){return arguments.length?(l=UM(d),h):l},h.path=function(d){return arguments.length?(a=UM(d),h):a},h}function Mce(c){let l=c.length;if(l<2)return"";for(;--l>1&&!yV(c,l););return c.slice(0,l)}function yV(c,l){if("/"===c[l]){let a=0;for(;l>0&&"\\"===c[--l];)++a;if(!(1&a))return!0}return!1}function KWe(c,l){return c.parent===l.parent?1:2}function bV(c){var l=c.children;return l?l[0]:c.t}function OV(c){var l=c.children;return l?l[l.length-1]:c.t}function JWe(c,l,a){var h=a/(l.i-c.i);l.c-=h,l.s+=a,c.c+=h,l.z+=a,l.m+=a}function tZe(c,l,a){return c.a.parent===l.parent?c.a:a}function WM(c,l){this._=c,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=l}function iZe(){var c=KWe,l=1,a=1,h=null;function d(v){var _=function nZe(c){for(var a,d,f,p,g,l=new WM(c,0),h=[l];a=h.pop();)if(f=a._.children)for(a.children=new Array(g=f.length),p=g-1;p>=0;--p)h.push(d=a.children[p]=new WM(f[p],p)),d.parent=a;return(l.parent=new WM(null,0)).children=[l],l}(v);if(_.eachAfter(f),_.parent.m=-_.z,_.eachBefore(p),h)v.eachBefore(m);else{var y=v,b=v,O=v;v.eachBefore(function(T){T.x<y.x&&(y=T),T.x>b.x&&(b=T),T.depth>O.depth&&(O=T)});var C=y===b?1:c(y,b)/2,S=C-y.x,w=l/(b.x+C+S),x=a/(O.depth||1);v.eachBefore(function(T){T.x=(T.x+S)*w,T.y=T.depth*x})}return v}function f(v){var _=v.children,y=v.parent.children,b=v.i?y[v.i-1]:null;if(_){!function eZe(c){for(var f,l=0,a=0,h=c.children,d=h.length;--d>=0;)(f=h[d]).z+=l,f.m+=l,l+=f.s+(a+=f.c)}(v);var O=(_[0].z+_[_.length-1].z)/2;b?(v.z=b.z+c(v._,b._),v.m=v.z-O):v.z=O}else b&&(v.z=b.z+c(v._,b._));v.parent.A=function g(v,_,y){if(_){for(var k,b=v,O=v,C=_,S=b.parent.children[0],w=b.m,x=O.m,T=C.m,D=S.m;C=OV(C),b=bV(b),C&&b;)S=bV(S),(O=OV(O)).a=v,(k=C.z+T-b.z-w+c(C._,b._))>0&&(JWe(tZe(C,v,y),v,k),w+=k,x+=k),T+=C.m,w+=b.m,D+=S.m,x+=O.m;C&&!OV(O)&&(O.t=C,O.m+=T-x),b&&!bV(S)&&(S.t=b,S.m+=w-D,y=v)}return y}(v,b,v.parent.A||y[0])}function p(v){v._.x=v.z+v.parent.m,v.m+=v.parent.m}function m(v){v.x*=l,v.y=v.depth*a}return d.separation=function(v){return arguments.length?(c=v,d):c},d.size=function(v){return arguments.length?(h=!1,l=+v[0],a=+v[1],d):h?null:[l,a]},d.nodeSize=function(v){return arguments.length?(h=!0,l=+v[0],a=+v[1],d):h?[l,a]:null},d}function ZM(c,l,a,h,d){for(var p,f=c.children,g=-1,m=f.length,v=c.value&&(d-a)/c.value;++g<m;)(p=f[g]).x0=l,p.x1=h,p.y0=a,p.y1=a+=p.value*v}WM.prototype=Object.create(w1.prototype);var Ece=(1+Math.sqrt(5))/2;function Pce(c,l,a,h,d,f){for(var m,v,O,C,w,x,T,D,k,P,N,p=[],g=l.children,_=0,y=0,b=g.length,S=l.value;_<b;){O=d-a,C=f-h;do{w=g[y++].value}while(!w&&y<b);for(x=T=w,N=w*w*(P=Math.max(C/O,O/C)/(S*c)),k=Math.max(T/N,N/x);y<b;++y){if(w+=v=g[y].value,v<x&&(x=v),v>T&&(T=v),N=w*w*P,(D=Math.max(T/N,N/x))>k){w-=v;break}k=D}p.push(m={value:w,dice:O<C,children:g.slice(_,y)}),m.dice?Mw(m,a,h,d,S?h+=C*w/S:f):ZM(m,a,h,S?a+=O*w/S:d,f),S-=w,_=y}return p}const Ace=function c(l){function a(h,d,f,p,g){Pce(l,h,d,f,p,g)}return a.ratio=function(h){return c((h=+h)>1?h:1)},a}(Ece);function rZe(){var c=Ace,l=!1,a=1,h=1,d=[0],f=x1,p=x1,g=x1,m=x1,v=x1;function _(b){return b.x0=b.y0=0,b.x1=a,b.y1=h,b.eachBefore(y),d=[0],l&&b.eachBefore(kce),b}function y(b){var O=d[b.depth],C=b.x0+O,S=b.y0+O,w=b.x1-O,x=b.y1-O;w<C&&(C=w=(C+w)/2),x<S&&(S=x=(S+x)/2),b.x0=C,b.y0=S,b.x1=w,b.y1=x,b.children&&(O=d[b.depth+1]=f(b)/2,C+=v(b)-O,S+=p(b)-O,(w-=g(b)-O)<C&&(C=w=(C+w)/2),(x-=m(b)-O)<S&&(S=x=(S+x)/2),c(b,C,S,w,x))}return _.round=function(b){return arguments.length?(l=!!b,_):l},_.size=function(b){return arguments.length?(a=+b[0],h=+b[1],_):[a,h]},_.tile=function(b){return arguments.length?(c=mce(b),_):c},_.padding=function(b){return arguments.length?_.paddingInner(b).paddingOuter(b):_.paddingInner()},_.paddingInner=function(b){return arguments.length?(f="function"==typeof b?b:sb(+b),_):f},_.paddingOuter=function(b){return arguments.length?_.paddingTop(b).paddingRight(b).paddingBottom(b).paddingLeft(b):_.paddingTop()},_.paddingTop=function(b){return arguments.length?(p="function"==typeof b?b:sb(+b),_):p},_.paddingRight=function(b){return arguments.length?(g="function"==typeof b?b:sb(+b),_):g},_.paddingBottom=function(b){return arguments.length?(m="function"==typeof b?b:sb(+b),_):m},_.paddingLeft=function(b){return arguments.length?(v="function"==typeof b?b:sb(+b),_):v},_}function sZe(c,l,a,h,d){var p,m,f=c.children,g=f.length,v=new Array(g+1);for(v[0]=m=p=0;p<g;++p)v[p+1]=m+=f[p].value;!function _(y,b,O,C,S,w,x){if(y>=b-1){var T=f[y];return T.x0=C,T.y0=S,T.x1=w,void(T.y1=x)}for(var D=v[y],k=O/2+D,P=y+1,N=b-1;P<N;){var F=P+N>>>1;v[F]<k?P=F+1:N=F}k-v[P-1]<v[P]-k&&y+1<P&&--P;var L=v[P]-D,$=O-L;if(w-C>x-S){var U=O?(C*$+w*L)/O:w;_(y,P,L,C,S,U,x),_(P,b,$,U,S,w,x)}else{var z=O?(S*$+x*L)/O:x;_(y,P,L,C,S,w,z),_(P,b,$,C,z,w,x)}}(0,g,c.value,l,a,h,d)}function oZe(c,l,a,h,d){(1&c.depth?ZM:Mw)(c,l,a,h,d)}const aZe=function c(l){function a(h,d,f,p,g){if((m=h._squarify)&&m.ratio===l)for(var m,v,_,y,O,b=-1,C=m.length,S=h.value;++b<C;){for(_=(v=m[b]).children,y=v.value=0,O=_.length;y<O;++y)v.value+=_[y].value;v.dice?Mw(v,d,f,p,S?f+=(g-f)*v.value/S:g):ZM(v,d,f,S?d+=(p-d)*v.value/S:p,g),S-=v.value}else h._squarify=m=Pce(l,h,d,f,p,g),m.ratio=l}return a.ratio=function(h){return c((h=+h)>1?h:1)},a}(Ece);function lZe(c){var l=c.length;return function(a){return c[Math.max(0,Math.min(l-1,Math.floor(a*l)))]}}function cZe(c,l){var a=SD(+c,+l);return function(h){var d=a(h);return d-360*Math.floor(d/360)}}function jM(c,l){return c=+c,l=+l,function(a){return Math.round(c*(1-a)+l*a)}}function Ice(c){return((c=Math.exp(c))+1/c)/2}const Rce=function c(l,a,h){function d(f,p){var w,x,g=f[0],m=f[1],v=f[2],b=p[2],O=p[0]-g,C=p[1]-m,S=O*O+C*C;if(S<1e-12)x=Math.log(b/v)/l,w=function(F){return[g+F*O,m+F*C,v*Math.exp(l*F*x)]};else{var T=Math.sqrt(S),D=(b*b-v*v+h*S)/(2*v*a*T),k=(b*b-v*v-h*S)/(2*b*a*T),P=Math.log(Math.sqrt(D*D+1)-D),N=Math.log(Math.sqrt(k*k+1)-k);x=(N-P)/l,w=function(F){var L=F*x,$=Ice(P),U=v/(a*T)*($*function dZe(c){return((c=Math.exp(2*c))-1)/(c+1)}(l*L+P)-function hZe(c){return((c=Math.exp(c))-1/c)/2}(P));return[g+U*O,m+U*C,v*$/Ice(l*L+P)]}}return w.duration=1e3*x*l/Math.SQRT2,w}return d.rho=function(f){var p=Math.max(.001,+f),g=p*p;return c(p,g,g*g)},d}(Math.SQRT2,2,4);function Lce(c){return function(l,a){var h=c((l=bD(l)).h,(a=bD(a)).h),d=ya(l.s,a.s),f=ya(l.l,a.l),p=ya(l.opacity,a.opacity);return function(g){return l.h=h(g),l.s=d(g),l.l=f(g),l.opacity=p(g),l+""}}}const fZe=Lce(SD);var pZe=Lce(ya);function gZe(c,l){var a=ya((c=ND(c)).l,(l=ND(l)).l),h=ya(c.a,l.a),d=ya(c.b,l.b),f=ya(c.opacity,l.opacity);return function(p){return c.l=a(p),c.a=h(p),c.b=d(p),c.opacity=f(p),c+""}}function Nce(c){return function(l,a){var h=c((l=FD(l)).h,(a=FD(a)).h),d=ya(l.c,a.c),f=ya(l.l,a.l),p=ya(l.opacity,a.opacity);return function(g){return l.h=h(g),l.c=d(g),l.l=f(g),l.opacity=p(g),l+""}}}const mZe=Nce(SD);var vZe=Nce(ya);function Fce(c){return function l(a){function h(d,f){var p=c((d=zh(d)).h,(f=zh(f)).h),g=ya(d.s,f.s),m=ya(d.l,f.l),v=ya(d.opacity,f.opacity);return function(_){return d.h=p(_),d.s=g(_),d.l=m(Math.pow(_,a)),d.opacity=v(_),d+""}}return a=+a,h.gamma=l,h}(1)}const _Ze=Fce(SD);var GM=Fce(ya);function Bce(c,l){void 0===l&&(l=c,c=Fg);for(var a=0,h=l.length-1,d=l[0],f=new Array(h<0?0:h);a<h;)f[a]=c(d,d=l[++a]);return function(p){var g=Math.max(0,Math.min(h-1,Math.floor(p*=h)));return f[g](p-g)}}function yZe(c,l){for(var a=new Array(l),h=0;h<l;++h)a[h]=c(h/(l-1));return a}function bZe(c){for(var h,l=-1,a=c.length,d=c[a-1],f=0;++l<a;)f+=(h=d)[1]*(d=c[l])[0]-h[0]*d[1];return f/2}function OZe(c){for(var f,g,l=-1,a=c.length,h=0,d=0,p=c[a-1],m=0;++l<a;)m+=g=(f=p)[0]*(p=c[l])[1]-p[0]*f[1],h+=(f[0]+p[0])*g,d+=(f[1]+p[1])*g;return[h/(m*=3),d/m]}function CZe(c,l,a){return(l[0]-c[0])*(a[1]-c[1])-(l[1]-c[1])*(a[0]-c[0])}function SZe(c,l){return c[0]-l[0]||c[1]-l[1]}function Vce(c){const l=c.length,a=[0,1];let d,h=2;for(d=2;d<l;++d){for(;h>1&&CZe(c[a[h-2]],c[a[h-1]],c[d])<=0;)--h;a[h++]=d}return a.slice(0,h)}function wZe(c){if((a=c.length)<3)return null;var l,a,h=new Array(a),d=new Array(a);for(l=0;l<a;++l)h[l]=[+c[l][0],+c[l][1],l];for(h.sort(SZe),l=0;l<a;++l)d[l]=[h[l][0],-h[l][1]];var f=Vce(h),p=Vce(d),g=p[0]===f[0],m=p[p.length-1]===f[f.length-1],v=[];for(l=f.length-1;l>=0;--l)v.push(c[h[f[l]][2]]);for(l=+g;l<p.length-m;++l)v.push(c[h[p[l]][2]]);return v}function xZe(c,l){for(var m,v,a=c.length,h=c[a-1],d=l[0],f=l[1],p=h[0],g=h[1],_=!1,y=0;y<a;++y)m=(h=c[y])[0],(v=h[1])>f!=g>f&&d<(p-m)*(f-v)/(g-v)+m&&(_=!_),p=m,g=v;return _}function TZe(c){for(var d,f,l=-1,a=c.length,h=c[a-1],p=h[0],g=h[1],m=0;++l<a;)d=p,f=g,d-=p=(h=c[l])[0],f-=g=h[1],m+=Math.hypot(d,f);return m}const Na=Math.random,kZe=function c(l){function a(h,d){return h=null==h?0:+h,d=null==d?1:+d,1===arguments.length?(d=h,h=0):d-=h,function(){return l()*d+h}}return a.source=c,a}(Na),DZe=function c(l){function a(h,d){return arguments.length<2&&(d=h,h=0),h=Math.floor(h),d=Math.floor(d)-h,function(){return Math.floor(l()*d+h)}}return a.source=c,a}(Na),CV=function c(l){function a(h,d){var f,p;return h=null==h?0:+h,d=null==d?1:+d,function(){var g;if(null!=f)g=f,f=null;else do{f=2*l()-1,g=2*l()-1,p=f*f+g*g}while(!p||p>1);return h+d*g*Math.sqrt(-2*Math.log(p)/p)}}return a.source=c,a}(Na),MZe=function c(l){var a=CV.source(l);function h(){var d=a.apply(this,arguments);return function(){return Math.exp(d())}}return h.source=c,h}(Na),$ce=function c(l){function a(h){return(h=+h)<=0?()=>0:function(){for(var d=0,f=h;f>1;--f)d+=l();return d+f*l()}}return a.source=c,a}(Na),EZe=function c(l){var a=$ce.source(l);function h(d){if(0==(d=+d))return l;var f=a(d);return function(){return f()/d}}return h.source=c,h}(Na),PZe=function c(l){function a(h){return function(){return-Math.log1p(-l())/h}}return a.source=c,a}(Na),AZe=function c(l){function a(h){if((h=+h)<0)throw new RangeError("invalid alpha");return h=1/-h,function(){return Math.pow(1-l(),h)}}return a.source=c,a}(Na),IZe=function c(l){function a(h){if((h=+h)<0||h>1)throw new RangeError("invalid p");return function(){return Math.floor(l()+h)}}return a.source=c,a}(Na),zce=function c(l){function a(h){if((h=+h)<0||h>1)throw new RangeError("invalid p");return 0===h?()=>1/0:1===h?()=>1:(h=Math.log1p(-h),function(){return 1+Math.floor(Math.log1p(-l())/h)})}return a.source=c,a}(Na),SV=function c(l){var a=CV.source(l)();function h(d,f){if((d=+d)<0)throw new RangeError("invalid k");if(0===d)return()=>0;if(f=null==f?1:+f,1===d)return()=>-Math.log1p(-l())*f;var p=(d<1?d+1:d)-1/3,g=1/(3*Math.sqrt(p)),m=d<1?()=>Math.pow(l(),1/d):()=>1;return function(){do{do{var v=a(),_=1+g*v}while(_<=0);_*=_*_;var y=1-l()}while(y>=1-.0331*v*v*v*v&&Math.log(y)>=.5*v*v+p*(1-_+Math.log(_)));return p*_*m()*f}}return h.source=c,h}(Na),Uce=function c(l){var a=SV.source(l);function h(d,f){var p=a(d),g=a(f);return function(){var m=p();return 0===m?0:m/(m+g())}}return h.source=c,h}(Na),Qce=function c(l){var a=zce.source(l),h=Uce.source(l);function d(f,p){return f=+f,(p=+p)>=1?()=>f:p<=0?()=>0:function(){for(var g=0,m=f,v=p;m*v>16&&m*(1-v)>16;){var _=Math.floor((m+1)*v),y=h(_,m-_+1)();y<=v?(g+=_,m-=_,v=(v-y)/(1-y)):(m=_-1,v/=y)}for(var b=v<.5,C=a(b?v:1-v),S=C(),w=0;S<=m;++w)S+=C();return g+(b?w:m-w)}}return d.source=c,d}(Na),RZe=function c(l){function a(h,d,f){var p;return 0==(h=+h)?p=g=>-Math.log(g):(h=1/h,p=g=>Math.pow(g,h)),d=null==d?0:+d,f=null==f?1:+f,function(){return d+f*p(-Math.log1p(-l()))}}return a.source=c,a}(Na),LZe=function c(l){function a(h,d){return h=null==h?0:+h,d=null==d?1:+d,function(){return h+d*Math.tan(Math.PI*l())}}return a.source=c,a}(Na),NZe=function c(l){function a(h,d){return h=null==h?0:+h,d=null==d?1:+d,function(){var f=l();return h+d*Math.log(f/(1-f))}}return a.source=c,a}(Na),FZe=function c(l){var a=SV.source(l),h=Qce.source(l);function d(f){return function(){for(var p=0,g=f;g>16;){var m=Math.floor(.875*g),v=a(m)();if(v>g)return p+h(m-1,g/v)();p+=m,g-=v}for(var _=-Math.log1p(-l()),y=0;_<=g;++y)_-=Math.log1p(-l());return p+y}}return d.source=c,d}(Na),BZe=1664525,VZe=1013904223,Hce=1/4294967296;function $Ze(c=Math.random()){let l=0|(0<=c&&c<1?c/Hce:Math.abs(c));return()=>(l=BZe*l+VZe|0,Hce*(l>>>0))}function qu(c,l){switch(arguments.length){case 0:break;case 1:this.range(c);break;default:this.range(l).domain(c)}return this}function Op(c,l){switch(arguments.length){case 0:break;case 1:"function"==typeof c?this.interpolator(c):this.range(c);break;default:this.domain(c),"function"==typeof l?this.interpolator(l):this.range(l)}return this}const wV=Symbol("implicit");function xV(){var c=new N2,l=[],a=[],h=wV;function d(f){let p=c.get(f);if(void 0===p){if(h!==wV)return h;c.set(f,p=l.push(f)-1)}return a[p%a.length]}return d.domain=function(f){if(!arguments.length)return l.slice();l=[],c=new N2;for(const p of f)c.has(p)||c.set(p,l.push(p)-1);return d},d.range=function(f){return arguments.length?(a=Array.from(f),d):a.slice()},d.unknown=function(f){return arguments.length?(h=f,d):h},d.copy=function(){return xV(l,a).unknown(h)},qu.apply(d,arguments),d}function TV(){var f,p,c=xV().unknown(void 0),l=c.domain,a=c.range,h=0,d=1,g=!1,m=0,v=0,_=.5;function y(){var b=l().length,O=d<h,C=O?d:h,S=O?h:d;f=(S-C)/Math.max(1,b-m+2*v),g&&(f=Math.floor(f)),C+=(S-C-f*(b-m))*_,p=f*(1-m),g&&(C=Math.round(C),p=Math.round(p));var w=Gu(b).map(function(x){return C+f*x});return a(O?w.reverse():w)}return delete c.unknown,c.domain=function(b){return arguments.length?(l(b),y()):l()},c.range=function(b){return arguments.length?([h,d]=b,h=+h,d=+d,y()):[h,d]},c.rangeRound=function(b){return[h,d]=b,h=+h,d=+d,g=!0,y()},c.bandwidth=function(){return p},c.step=function(){return f},c.round=function(b){return arguments.length?(g=!!b,y()):g},c.padding=function(b){return arguments.length?(m=Math.min(1,v=+b),y()):m},c.paddingInner=function(b){return arguments.length?(m=Math.min(1,b),y()):m},c.paddingOuter=function(b){return arguments.length?(v=+b,y()):v},c.align=function(b){return arguments.length?(_=Math.max(0,Math.min(1,b)),y()):_},c.copy=function(){return TV(l(),[h,d]).round(g).paddingInner(m).paddingOuter(v).align(_)},qu.apply(y(),arguments)}function Wce(c){var l=c.copy;return c.padding=c.paddingOuter,delete c.paddingInner,delete c.paddingOuter,c.copy=function(){return Wce(l())},c}function zZe(){return Wce(TV.apply(null,arguments).paddingInner(1))}function XM(c){return+c}var Zce=[0,1];function ql(c){return c}function kV(c,l){return(l-=c=+c)?function(a){return(a-c)/l}:function UZe(c){return function(){return c}}(isNaN(l)?NaN:.5)}function HZe(c,l,a){var h=c[0],d=c[1],f=l[0],p=l[1];return d<h?(h=kV(d,h),f=a(p,f)):(h=kV(h,d),f=a(f,p)),function(g){return f(h(g))}}function WZe(c,l,a){var h=Math.min(c.length,l.length)-1,d=new Array(h),f=new Array(h),p=-1;for(c[h]<c[0]&&(c=c.slice().reverse(),l=l.slice().reverse());++p<h;)d[p]=kV(c[p],c[p+1]),f[p]=a(l[p],l[p+1]);return function(g){var m=G0(c,g,1,h)-1;return f[m](d[m](g))}}function Ew(c,l){return l.domain(c.domain()).range(c.range()).interpolate(c.interpolate()).clamp(c.clamp()).unknown(c.unknown())}function YM(){var h,d,f,g,m,v,c=Zce,l=Zce,a=Fg,p=ql;function _(){var b=Math.min(c.length,l.length);return p!==ql&&(p=function QZe(c,l){var a;return c>l&&(a=c,c=l,l=a),function(h){return Math.max(c,Math.min(l,h))}}(c[0],c[b-1])),g=b>2?WZe:HZe,m=v=null,y}function y(b){return null==b||isNaN(b=+b)?f:(m||(m=g(c.map(h),l,a)))(h(p(b)))}return y.invert=function(b){return p(d((v||(v=g(l,c.map(h),Xu)))(b)))},y.domain=function(b){return arguments.length?(c=Array.from(b,XM),_()):c.slice()},y.range=function(b){return arguments.length?(l=Array.from(b),_()):l.slice()},y.rangeRound=function(b){return l=Array.from(b),a=jM,_()},y.clamp=function(b){return arguments.length?(p=!!b||ql,_()):p!==ql},y.interpolate=function(b){return arguments.length?(a=b,_()):a},y.unknown=function(b){return arguments.length?(f=b,y):f},function(b,O){return h=b,d=O,_()}}function DV(){return YM()(ql,ql)}function jce(c,l,a,h){var f,d=oD(c,l,a);switch((h=qy(h??",f")).type){case"s":var p=Math.max(Math.abs(c),Math.abs(l));return null==h.precision&&!isNaN(f=Xae(d,p))&&(h.precision=f),OB(h,p);case"":case"e":case"g":case"p":case"r":null==h.precision&&!isNaN(f=Yae(d,Math.max(Math.abs(c),Math.abs(l))))&&(h.precision=f-("e"===h.type));break;case"f":case"%":null==h.precision&&!isNaN(f=Gae(d))&&(h.precision=f-2*("%"===h.type))}return sM(h)}function Gg(c){var l=c.domain;return c.ticks=function(a){var h=l();return q0(h[0],h[h.length-1],a??10)},c.tickFormat=function(a,h){var d=l();return jce(d[0],d[d.length-1],a??10,h)},c.nice=function(a){null==a&&(a=10);var m,v,h=l(),d=0,f=h.length-1,p=h[d],g=h[f],_=10;for(g<p&&(v=p,p=g,g=v,v=d,d=f,f=v);_-- >0;){if((v=K0(p,g,a))===m)return h[d]=p,h[f]=g,l(h);if(v>0)p=Math.floor(p/v)*v,g=Math.ceil(g/v)*v;else{if(!(v<0))break;p=Math.ceil(p*v)/v,g=Math.floor(g*v)/v}m=v}return c},c}function ob(){var c=DV();return c.copy=function(){return Ew(c,ob())},qu.apply(c,arguments),Gg(c)}function Gce(c){var l;function a(h){return null==h||isNaN(h=+h)?l:h}return a.invert=a,a.domain=a.range=function(h){return arguments.length?(c=Array.from(h,XM),a):c.slice()},a.unknown=function(h){return arguments.length?(l=h,a):l},a.copy=function(){return Gce(c).unknown(l)},c=arguments.length?Array.from(c,XM):[0,1],Gg(a)}function Xce(c,l){var p,a=0,h=(c=c.slice()).length-1,d=c[a],f=c[h];return f<d&&(p=a,a=h,h=p,p=d,d=f,f=p),c[a]=l.floor(d),c[h]=l.ceil(f),c}function Yce(c){return Math.log(c)}function qce(c){return Math.exp(c)}function ZZe(c){return-Math.log(-c)}function jZe(c){return-Math.exp(-c)}function GZe(c){return isFinite(c)?+("1e"+c):c<0?0:c}function Kce(c){return(l,a)=>-c(-l,a)}function MV(c){const l=c(Yce,qce),a=l.domain;let d,f,h=10;function p(){return d=function YZe(c){return c===Math.E?Math.log:10===c&&Math.log10||2===c&&Math.log2||(c=Math.log(c),l=>Math.log(l)/c)}(h),f=function XZe(c){return 10===c?GZe:c===Math.E?Math.exp:l=>Math.pow(c,l)}(h),a()[0]<0?(d=Kce(d),f=Kce(f),c(ZZe,jZe)):c(Yce,qce),l}return l.base=function(g){return arguments.length?(h=+g,p()):h},l.domain=function(g){return arguments.length?(a(g),p()):a()},l.ticks=g=>{const m=a();let v=m[0],_=m[m.length-1];const y=_<v;y&&([v,_]=[_,v]);let C,S,b=d(v),O=d(_);const w=null==g?10:+g;let x=[];if(!(h%1)&&O-b<w){if(b=Math.floor(b),O=Math.ceil(O),v>0){for(;b<=O;++b)for(C=1;C<h;++C)if(S=b<0?C/f(-b):C*f(b),!(S<v)){if(S>_)break;x.push(S)}}else for(;b<=O;++b)for(C=h-1;C>=1;--C)if(S=b>0?C/f(-b):C*f(b),!(S<v)){if(S>_)break;x.push(S)}2*x.length<w&&(x=q0(v,_,w))}else x=q0(b,O,Math.min(O-b,w)).map(f);return y?x.reverse():x},l.tickFormat=(g,m)=>{if(null==g&&(g=10),null==m&&(m=10===h?"s":","),"function"!=typeof m&&(!(h%1)&&null==(m=qy(m)).precision&&(m.trim=!0),m=sM(m)),g===1/0)return m;const v=Math.max(1,h*g/l.ticks().length);return _=>{let y=_/f(Math.round(d(_)));return y*h<h-.5&&(y*=h),y<=v?m(_):""}},l.nice=()=>a(Xce(a(),{floor:g=>f(Math.floor(d(g))),ceil:g=>f(Math.ceil(d(g)))})),l}function Jce(){const c=MV(YM()).domain([1,10]);return c.copy=()=>Ew(c,Jce()).base(c.base()),qu.apply(c,arguments),c}function eue(c){return function(l){return Math.sign(l)*Math.log1p(Math.abs(l/c))}}function tue(c){return function(l){return Math.sign(l)*Math.expm1(Math.abs(l))*c}}function EV(c){var l=1,a=c(eue(l),tue(l));return a.constant=function(h){return arguments.length?c(eue(l=+h),tue(l)):l},Gg(a)}function nue(){var c=EV(YM());return c.copy=function(){return Ew(c,nue()).constant(c.constant())},qu.apply(c,arguments)}function iue(c){return function(l){return l<0?-Math.pow(-l,c):Math.pow(l,c)}}function qZe(c){return c<0?-Math.sqrt(-c):Math.sqrt(c)}function KZe(c){return c<0?-c*c:c*c}function PV(c){var l=c(ql,ql),a=1;return l.exponent=function(d){return arguments.length?(a=+d,function h(){return 1===a?c(ql,ql):.5===a?c(qZe,KZe):c(iue(a),iue(1/a))}()):a},Gg(l)}function AV(){var c=PV(YM());return c.copy=function(){return Ew(c,AV()).exponent(c.exponent())},qu.apply(c,arguments),c}function JZe(){return AV.apply(null,arguments).exponent(.5)}function rue(c){return Math.sign(c)*c*c}function sue(){var h,c=DV(),l=[0,1],a=!1;function d(f){var p=function eje(c){return Math.sign(c)*Math.sqrt(Math.abs(c))}(c(f));return isNaN(p)?h:a?Math.round(p):p}return d.invert=function(f){return c.invert(rue(f))},d.domain=function(f){return arguments.length?(c.domain(f),d):c.domain()},d.range=function(f){return arguments.length?(c.range((l=Array.from(f,XM)).map(rue)),d):l.slice()},d.rangeRound=function(f){return d.range(f).round(!0)},d.round=function(f){return arguments.length?(a=!!f,d):a},d.clamp=function(f){return arguments.length?(c.clamp(f),d):c.clamp()},d.unknown=function(f){return arguments.length?(h=f,d):h},d.copy=function(){return sue(c.domain(),l).round(a).clamp(c.clamp()).unknown(h)},qu.apply(d,arguments),Gg(d)}function oue(){var h,c=[],l=[],a=[];function d(){var p=0,g=Math.max(1,l.length);for(a=new Array(g-1);++p<g;)a[p-1]=_se(c,p/g);return f}function f(p){return null==p||isNaN(p=+p)?h:l[G0(a,p)]}return f.invertExtent=function(p){var g=l.indexOf(p);return g<0?[NaN,NaN]:[g>0?a[g-1]:c[0],g<a.length?a[g]:c[c.length-1]]},f.domain=function(p){if(!arguments.length)return c.slice();c=[];for(let g of p)null!=g&&!isNaN(g=+g)&&c.push(g);return c.sort(js),d()},f.range=function(p){return arguments.length?(l=Array.from(p),d()):l.slice()},f.unknown=function(p){return arguments.length?(h=p,f):h},f.quantiles=function(){return a.slice()},f.copy=function(){return oue().domain(c).range(l).unknown(h)},qu.apply(f,arguments)}function aue(){var f,c=0,l=1,a=1,h=[.5],d=[0,1];function p(m){return null!=m&&m<=m?d[G0(h,m,0,a)]:f}function g(){var m=-1;for(h=new Array(a);++m<a;)h[m]=((m+1)*l-(m-a)*c)/(a+1);return p}return p.domain=function(m){return arguments.length?([c,l]=m,c=+c,l=+l,g()):[c,l]},p.range=function(m){return arguments.length?(a=(d=Array.from(m)).length-1,g()):d.slice()},p.invertExtent=function(m){var v=d.indexOf(m);return v<0?[NaN,NaN]:v<1?[c,h[0]]:v>=a?[h[a-1],l]:[h[v-1],h[v]]},p.unknown=function(m){return arguments.length&&(f=m),p},p.thresholds=function(){return h.slice()},p.copy=function(){return aue().domain([c,l]).range(d).unknown(f)},qu.apply(Gg(p),arguments)}function lue(){var a,c=[.5],l=[0,1],h=1;function d(f){return null!=f&&f<=f?l[G0(c,f,0,h)]:a}return d.domain=function(f){return arguments.length?(c=Array.from(f),h=Math.min(c.length,l.length-1),d):c.slice()},d.range=function(f){return arguments.length?(l=Array.from(f),h=Math.min(c.length,l.length-1),d):l.slice()},d.invertExtent=function(f){var p=l.indexOf(f);return[c[p-1],c[p]]},d.unknown=function(f){return arguments.length?(a=f,d):a},d.copy=function(){return lue().domain(c).range(l).unknown(a)},qu.apply(d,arguments)}const Cp=1e3,Ku=6e4,Sp=60*Ku,wp=24*Sp,IV=7*wp,RV=365*wp,LV=new Date,NV=new Date;function Ro(c,l,a,h){function d(f){return c(f=0===arguments.length?new Date:new Date(+f)),f}return d.floor=f=>(c(f=new Date(+f)),f),d.ceil=f=>(c(f=new Date(f-1)),l(f,1),c(f),f),d.round=f=>{const p=d(f),g=d.ceil(f);return f-p<g-f?p:g},d.offset=(f,p)=>(l(f=new Date(+f),null==p?1:Math.floor(p)),f),d.range=(f,p,g)=>{const m=[];if(f=d.ceil(f),g=null==g?1:Math.floor(g),!(f<p&&g>0))return m;let v;do{m.push(v=new Date(+f)),l(f,g),c(f)}while(v<f&&f<p);return m},d.filter=f=>Ro(p=>{if(p>=p)for(;c(p),!f(p);)p.setTime(p-1)},(p,g)=>{if(p>=p)if(g<0)for(;++g<=0;)for(;l(p,-1),!f(p););else for(;--g>=0;)for(;l(p,1),!f(p););}),a&&(d.count=(f,p)=>(LV.setTime(+f),NV.setTime(+p),c(LV),c(NV),Math.floor(a(LV,NV))),d.every=f=>(f=Math.floor(f),isFinite(f)&&f>0?f>1?d.filter(h?p=>h(p)%f==0:p=>d.count(0,p)%f==0):d:null)),d}const ab=Ro(()=>{},(c,l)=>{c.setTime(+c+l)},(c,l)=>l-c);ab.every=c=>(c=Math.floor(c),isFinite(c)&&c>0?c>1?Ro(l=>{l.setTime(Math.floor(l/c)*c)},(l,a)=>{l.setTime(+l+a*c)},(l,a)=>(a-l)/c):ab:null);const uue=ab.range,xp=Ro(c=>{c.setTime(c-c.getMilliseconds())},(c,l)=>{c.setTime(+c+l*Cp)},(c,l)=>(l-c)/Cp,c=>c.getUTCSeconds()),hue=xp.range,qM=Ro(c=>{c.setTime(c-c.getMilliseconds()-c.getSeconds()*Cp)},(c,l)=>{c.setTime(+c+l*Ku)},(c,l)=>(l-c)/Ku,c=>c.getMinutes()),tje=qM.range,KM=Ro(c=>{c.setUTCSeconds(0,0)},(c,l)=>{c.setTime(+c+l*Ku)},(c,l)=>(l-c)/Ku,c=>c.getUTCMinutes()),nje=KM.range,JM=Ro(c=>{c.setTime(c-c.getMilliseconds()-c.getSeconds()*Cp-c.getMinutes()*Ku)},(c,l)=>{c.setTime(+c+l*Sp)},(c,l)=>(l-c)/Sp,c=>c.getHours()),ije=JM.range,eE=Ro(c=>{c.setUTCMinutes(0,0,0)},(c,l)=>{c.setTime(+c+l*Sp)},(c,l)=>(l-c)/Sp,c=>c.getUTCHours()),rje=eE.range,lb=Ro(c=>c.setHours(0,0,0,0),(c,l)=>c.setDate(c.getDate()+l),(c,l)=>(l-c-(l.getTimezoneOffset()-c.getTimezoneOffset())*Ku)/wp,c=>c.getDate()-1),sje=lb.range,Pw=Ro(c=>{c.setUTCHours(0,0,0,0)},(c,l)=>{c.setUTCDate(c.getUTCDate()+l)},(c,l)=>(l-c)/wp,c=>c.getUTCDate()-1),oje=Pw.range,FV=Ro(c=>{c.setUTCHours(0,0,0,0)},(c,l)=>{c.setUTCDate(c.getUTCDate()+l)},(c,l)=>(l-c)/wp,c=>Math.floor(c/wp)),aje=FV.range;function T1(c){return Ro(l=>{l.setDate(l.getDate()-(l.getDay()+7-c)%7),l.setHours(0,0,0,0)},(l,a)=>{l.setDate(l.getDate()+7*a)},(l,a)=>(a-l-(a.getTimezoneOffset()-l.getTimezoneOffset())*Ku)/IV)}const cb=T1(0),Aw=T1(1),due=T1(2),fue=T1(3),k1=T1(4),pue=T1(5),gue=T1(6),mue=cb.range,lje=Aw.range,cje=due.range,uje=fue.range,hje=k1.range,dje=pue.range,fje=gue.range;function D1(c){return Ro(l=>{l.setUTCDate(l.getUTCDate()-(l.getUTCDay()+7-c)%7),l.setUTCHours(0,0,0,0)},(l,a)=>{l.setUTCDate(l.getUTCDate()+7*a)},(l,a)=>(a-l)/IV)}const ub=D1(0),Iw=D1(1),vue=D1(2),_ue=D1(3),M1=D1(4),yue=D1(5),bue=D1(6),Oue=ub.range,pje=Iw.range,gje=vue.range,mje=_ue.range,vje=M1.range,_je=yue.range,yje=bue.range,tE=Ro(c=>{c.setDate(1),c.setHours(0,0,0,0)},(c,l)=>{c.setMonth(c.getMonth()+l)},(c,l)=>l.getMonth()-c.getMonth()+12*(l.getFullYear()-c.getFullYear()),c=>c.getMonth()),bje=tE.range,nE=Ro(c=>{c.setUTCDate(1),c.setUTCHours(0,0,0,0)},(c,l)=>{c.setUTCMonth(c.getUTCMonth()+l)},(c,l)=>l.getUTCMonth()-c.getUTCMonth()+12*(l.getUTCFullYear()-c.getUTCFullYear()),c=>c.getUTCMonth()),Oje=nE.range,ef=Ro(c=>{c.setMonth(0,1),c.setHours(0,0,0,0)},(c,l)=>{c.setFullYear(c.getFullYear()+l)},(c,l)=>l.getFullYear()-c.getFullYear(),c=>c.getFullYear());ef.every=c=>isFinite(c=Math.floor(c))&&c>0?Ro(l=>{l.setFullYear(Math.floor(l.getFullYear()/c)*c),l.setMonth(0,1),l.setHours(0,0,0,0)},(l,a)=>{l.setFullYear(l.getFullYear()+a*c)}):null;const Cje=ef.range,tf=Ro(c=>{c.setUTCMonth(0,1),c.setUTCHours(0,0,0,0)},(c,l)=>{c.setUTCFullYear(c.getUTCFullYear()+l)},(c,l)=>l.getUTCFullYear()-c.getUTCFullYear(),c=>c.getUTCFullYear());tf.every=c=>isFinite(c=Math.floor(c))&&c>0?Ro(l=>{l.setUTCFullYear(Math.floor(l.getUTCFullYear()/c)*c),l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0)},(l,a)=>{l.setUTCFullYear(l.getUTCFullYear()+a*c)}):null;const Sje=tf.range;function Cue(c,l,a,h,d,f){const p=[[xp,1,Cp],[xp,5,5e3],[xp,15,15e3],[xp,30,3e4],[f,1,Ku],[f,5,5*Ku],[f,15,15*Ku],[f,30,30*Ku],[d,1,Sp],[d,3,3*Sp],[d,6,6*Sp],[d,12,12*Sp],[h,1,wp],[h,2,2*wp],[a,1,IV],[l,1,2592e6],[l,3,7776e6],[c,1,RV]];function m(v,_,y){const b=Math.abs(_-v)/y,O=nD(([,,w])=>w).right(p,b);if(O===p.length)return c.every(oD(v/RV,_/RV,y));if(0===O)return ab.every(Math.max(oD(v,_,y),1));const[C,S]=p[b/p[O-1][2]<p[O][2]/b?O-1:O];return C.every(S)}return[function g(v,_,y){const b=_<v;b&&([v,_]=[_,v]);const O=y&&"function"==typeof y.range?y:m(v,_,y),C=O?O.range(v,+_+1):[];return b?C.reverse():C},m]}const[Sue,wue]=Cue(tf,nE,ub,FV,eE,KM),[xue,Tue]=Cue(ef,tE,cb,lb,JM,qM);function BV(c){if(0<=c.y&&c.y<100){var l=new Date(-1,c.m,c.d,c.H,c.M,c.S,c.L);return l.setFullYear(c.y),l}return new Date(c.y,c.m,c.d,c.H,c.M,c.S,c.L)}function VV(c){if(0<=c.y&&c.y<100){var l=new Date(Date.UTC(-1,c.m,c.d,c.H,c.M,c.S,c.L));return l.setUTCFullYear(c.y),l}return new Date(Date.UTC(c.y,c.m,c.d,c.H,c.M,c.S,c.L))}function Rw(c,l,a){return{y:c,m:l,d:a,H:0,M:0,S:0,L:0}}function kue(c){var l=c.dateTime,a=c.date,h=c.time,d=c.periods,f=c.days,p=c.shortDays,g=c.months,m=c.shortMonths,v=Lw(d),_=Nw(d),y=Lw(f),b=Nw(f),O=Lw(p),C=Nw(p),S=Lw(g),w=Nw(g),x=Lw(m),T=Nw(m),D={a:function q(Ne){return p[Ne.getDay()]},A:function G(Ne){return f[Ne.getDay()]},b:function K(Ne){return m[Ne.getMonth()]},B:function J(Ne){return g[Ne.getMonth()]},c:null,d:Iue,e:Iue,f:Zje,g:nGe,G:rGe,H:Qje,I:Hje,j:Wje,L:Rue,m:jje,M:Gje,p:function ie(Ne){return d[+(Ne.getHours()>=12)]},q:function re(Ne){return 1+~~(Ne.getMonth()/3)},Q:$ue,s:zue,S:Xje,u:Yje,U:qje,V:Kje,w:Jje,W:eGe,x:null,X:null,y:tGe,Y:iGe,Z:sGe,"%":Vue},k={a:function he(Ne){return p[Ne.getUTCDay()]},A:function de(Ne){return f[Ne.getUTCDay()]},b:function ke(Ne){return m[Ne.getUTCMonth()]},B:function xe(Ne){return g[Ne.getUTCMonth()]},c:null,d:Nue,e:Nue,f:cGe,g:yGe,G:OGe,H:oGe,I:aGe,j:lGe,L:Fue,m:uGe,M:hGe,p:function Ie(Ne){return d[+(Ne.getUTCHours()>=12)]},q:function Ze(Ne){return 1+~~(Ne.getUTCMonth()/3)},Q:$ue,s:zue,S:dGe,u:fGe,U:pGe,V:gGe,w:mGe,W:vGe,x:null,X:null,y:_Ge,Y:bGe,Z:CGe,"%":Vue},P={a:function U(Ne,Ve,nt){var _e=O.exec(Ve.slice(nt));return _e?(Ne.w=C.get(_e[0].toLowerCase()),nt+_e[0].length):-1},A:function z(Ne,Ve,nt){var _e=y.exec(Ve.slice(nt));return _e?(Ne.w=b.get(_e[0].toLowerCase()),nt+_e[0].length):-1},b:function ee(Ne,Ve,nt){var _e=x.exec(Ve.slice(nt));return _e?(Ne.m=T.get(_e[0].toLowerCase()),nt+_e[0].length):-1},B:function te(Ne,Ve,nt){var _e=S.exec(Ve.slice(nt));return _e?(Ne.m=w.get(_e[0].toLowerCase()),nt+_e[0].length):-1},c:function B(Ne,Ve,nt){return L(Ne,l,Ve,nt)},d:Pue,e:Pue,f:Vje,g:Eue,G:Mue,H:Aue,I:Aue,j:Lje,L:Bje,m:Rje,M:Nje,p:function $(Ne,Ve,nt){var _e=v.exec(Ve.slice(nt));return _e?(Ne.p=_.get(_e[0].toLowerCase()),nt+_e[0].length):-1},q:Ije,Q:zje,s:Uje,S:Fje,u:Dje,U:Mje,V:Eje,w:kje,W:Pje,x:function j(Ne,Ve,nt){return L(Ne,a,Ve,nt)},X:function W(Ne,Ve,nt){return L(Ne,h,Ve,nt)},y:Eue,Y:Mue,Z:Aje,"%":$je};function N(Ne,Ve){return function(nt){var rt,Re,ot,_e=[],$e=-1,it=0,pt=Ne.length;for(nt instanceof Date||(nt=new Date(+nt));++$e<pt;)37===Ne.charCodeAt($e)&&(_e.push(Ne.slice(it,$e)),null!=(Re=Due[rt=Ne.charAt(++$e)])?rt=Ne.charAt(++$e):Re="e"===rt?" ":"0",(ot=Ve[rt])&&(rt=ot(nt,Re)),_e.push(rt),it=$e+1);return _e.push(Ne.slice(it,$e)),_e.join("")}}function F(Ne,Ve){return function(nt){var it,pt,_e=Rw(1900,void 0,1);if(L(_e,Ne,nt+="",0)!=nt.length)return null;if("Q"in _e)return new Date(_e.Q);if("s"in _e)return new Date(1e3*_e.s+("L"in _e?_e.L:0));if(Ve&&!("Z"in _e)&&(_e.Z=0),"p"in _e&&(_e.H=_e.H%12+12*_e.p),void 0===_e.m&&(_e.m="q"in _e?_e.q:0),"V"in _e){if(_e.V<1||_e.V>53)return null;"w"in _e||(_e.w=1),"Z"in _e?(pt=(it=VV(Rw(_e.y,0,1))).getUTCDay(),it=pt>4||0===pt?Iw.ceil(it):Iw(it),it=Pw.offset(it,7*(_e.V-1)),_e.y=it.getUTCFullYear(),_e.m=it.getUTCMonth(),_e.d=it.getUTCDate()+(_e.w+6)%7):(pt=(it=BV(Rw(_e.y,0,1))).getDay(),it=pt>4||0===pt?Aw.ceil(it):Aw(it),it=lb.offset(it,7*(_e.V-1)),_e.y=it.getFullYear(),_e.m=it.getMonth(),_e.d=it.getDate()+(_e.w+6)%7)}else("W"in _e||"U"in _e)&&("w"in _e||(_e.w="u"in _e?_e.u%7:"W"in _e?1:0),pt="Z"in _e?VV(Rw(_e.y,0,1)).getUTCDay():BV(Rw(_e.y,0,1)).getDay(),_e.m=0,_e.d="W"in _e?(_e.w+6)%7+7*_e.W-(pt+5)%7:_e.w+7*_e.U-(pt+6)%7);return"Z"in _e?(_e.H+=_e.Z/100|0,_e.M+=_e.Z%100,VV(_e)):BV(_e)}}function L(Ne,Ve,nt,_e){for(var rt,Re,$e=0,it=Ve.length,pt=nt.length;$e<it;){if(_e>=pt)return-1;if(37===(rt=Ve.charCodeAt($e++))){if(rt=Ve.charAt($e++),!(Re=P[rt in Due?Ve.charAt($e++):rt])||(_e=Re(Ne,nt,_e))<0)return-1}else if(rt!=nt.charCodeAt(_e++))return-1}return _e}return D.x=N(a,D),D.X=N(h,D),D.c=N(l,D),k.x=N(a,k),k.X=N(h,k),k.c=N(l,k),{format:function(Ne){var Ve=N(Ne+="",D);return Ve.toString=function(){return Ne},Ve},parse:function(Ne){var Ve=F(Ne+="",!1);return Ve.toString=function(){return Ne},Ve},utcFormat:function(Ne){var Ve=N(Ne+="",k);return Ve.toString=function(){return Ne},Ve},utcParse:function(Ne){var Ve=F(Ne+="",!0);return Ve.toString=function(){return Ne},Ve}}}var hb,$V,Uue,iE,zV,Due={"-":"",_:" ",0:"0"},Oa=/^\s*\d+/,wje=/^%/,xje=/[\\^$*+?|[\]().{}]/g;function Br(c,l,a){var h=c<0?"-":"",d=(h?-c:c)+"",f=d.length;return h+(f<a?new Array(a-f+1).join(l)+d:d)}function Tje(c){return c.replace(xje,"\\$&")}function Lw(c){return new RegExp("^(?:"+c.map(Tje).join("|")+")","i")}function Nw(c){return new Map(c.map((l,a)=>[l.toLowerCase(),a]))}function kje(c,l,a){var h=Oa.exec(l.slice(a,a+1));return h?(c.w=+h[0],a+h[0].length):-1}function Dje(c,l,a){var h=Oa.exec(l.slice(a,a+1));return h?(c.u=+h[0],a+h[0].length):-1}function Mje(c,l,a){var h=Oa.exec(l.slice(a,a+2));return h?(c.U=+h[0],a+h[0].length):-1}function Eje(c,l,a){var h=Oa.exec(l.slice(a,a+2));return h?(c.V=+h[0],a+h[0].length):-1}function Pje(c,l,a){var h=Oa.exec(l.slice(a,a+2));return h?(c.W=+h[0],a+h[0].length):-1}function Mue(c,l,a){var h=Oa.exec(l.slice(a,a+4));return h?(c.y=+h[0],a+h[0].length):-1}function Eue(c,l,a){var h=Oa.exec(l.slice(a,a+2));return h?(c.y=+h[0]+(+h[0]>68?1900:2e3),a+h[0].length):-1}function Aje(c,l,a){var h=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(l.slice(a,a+6));return h?(c.Z=h[1]?0:-(h[2]+(h[3]||"00")),a+h[0].length):-1}function Ije(c,l,a){var h=Oa.exec(l.slice(a,a+1));return h?(c.q=3*h[0]-3,a+h[0].length):-1}function Rje(c,l,a){var h=Oa.exec(l.slice(a,a+2));return h?(c.m=h[0]-1,a+h[0].length):-1}function Pue(c,l,a){var h=Oa.exec(l.slice(a,a+2));return h?(c.d=+h[0],a+h[0].length):-1}function Lje(c,l,a){var h=Oa.exec(l.slice(a,a+3));return h?(c.m=0,c.d=+h[0],a+h[0].length):-1}function Aue(c,l,a){var h=Oa.exec(l.slice(a,a+2));return h?(c.H=+h[0],a+h[0].length):-1}function Nje(c,l,a){var h=Oa.exec(l.slice(a,a+2));return h?(c.M=+h[0],a+h[0].length):-1}function Fje(c,l,a){var h=Oa.exec(l.slice(a,a+2));return h?(c.S=+h[0],a+h[0].length):-1}function Bje(c,l,a){var h=Oa.exec(l.slice(a,a+3));return h?(c.L=+h[0],a+h[0].length):-1}function Vje(c,l,a){var h=Oa.exec(l.slice(a,a+6));return h?(c.L=Math.floor(h[0]/1e3),a+h[0].length):-1}function $je(c,l,a){var h=wje.exec(l.slice(a,a+1));return h?a+h[0].length:-1}function zje(c,l,a){var h=Oa.exec(l.slice(a));return h?(c.Q=+h[0],a+h[0].length):-1}function Uje(c,l,a){var h=Oa.exec(l.slice(a));return h?(c.s=+h[0],a+h[0].length):-1}function Iue(c,l){return Br(c.getDate(),l,2)}function Qje(c,l){return Br(c.getHours(),l,2)}function Hje(c,l){return Br(c.getHours()%12||12,l,2)}function Wje(c,l){return Br(1+lb.count(ef(c),c),l,3)}function Rue(c,l){return Br(c.getMilliseconds(),l,3)}function Zje(c,l){return Rue(c,l)+"000"}function jje(c,l){return Br(c.getMonth()+1,l,2)}function Gje(c,l){return Br(c.getMinutes(),l,2)}function Xje(c,l){return Br(c.getSeconds(),l,2)}function Yje(c){var l=c.getDay();return 0===l?7:l}function qje(c,l){return Br(cb.count(ef(c)-1,c),l,2)}function Lue(c){var l=c.getDay();return l>=4||0===l?k1(c):k1.ceil(c)}function Kje(c,l){return c=Lue(c),Br(k1.count(ef(c),c)+(4===ef(c).getDay()),l,2)}function Jje(c){return c.getDay()}function eGe(c,l){return Br(Aw.count(ef(c)-1,c),l,2)}function tGe(c,l){return Br(c.getFullYear()%100,l,2)}function nGe(c,l){return Br((c=Lue(c)).getFullYear()%100,l,2)}function iGe(c,l){return Br(c.getFullYear()%1e4,l,4)}function rGe(c,l){var a=c.getDay();return Br((c=a>=4||0===a?k1(c):k1.ceil(c)).getFullYear()%1e4,l,4)}function sGe(c){var l=c.getTimezoneOffset();return(l>0?"-":(l*=-1,"+"))+Br(l/60|0,"0",2)+Br(l%60,"0",2)}function Nue(c,l){return Br(c.getUTCDate(),l,2)}function oGe(c,l){return Br(c.getUTCHours(),l,2)}function aGe(c,l){return Br(c.getUTCHours()%12||12,l,2)}function lGe(c,l){return Br(1+Pw.count(tf(c),c),l,3)}function Fue(c,l){return Br(c.getUTCMilliseconds(),l,3)}function cGe(c,l){return Fue(c,l)+"000"}function uGe(c,l){return Br(c.getUTCMonth()+1,l,2)}function hGe(c,l){return Br(c.getUTCMinutes(),l,2)}function dGe(c,l){return Br(c.getUTCSeconds(),l,2)}function fGe(c){var l=c.getUTCDay();return 0===l?7:l}function pGe(c,l){return Br(ub.count(tf(c)-1,c),l,2)}function Bue(c){var l=c.getUTCDay();return l>=4||0===l?M1(c):M1.ceil(c)}function gGe(c,l){return c=Bue(c),Br(M1.count(tf(c),c)+(4===tf(c).getUTCDay()),l,2)}function mGe(c){return c.getUTCDay()}function vGe(c,l){return Br(Iw.count(tf(c)-1,c),l,2)}function _Ge(c,l){return Br(c.getUTCFullYear()%100,l,2)}function yGe(c,l){return Br((c=Bue(c)).getUTCFullYear()%100,l,2)}function bGe(c,l){return Br(c.getUTCFullYear()%1e4,l,4)}function OGe(c,l){var a=c.getUTCDay();return Br((c=a>=4||0===a?M1(c):M1.ceil(c)).getUTCFullYear()%1e4,l,4)}function CGe(){return"+0000"}function Vue(){return"%"}function $ue(c){return+c}function zue(c){return Math.floor(+c/1e3)}function Que(c){return hb=kue(c),$V=hb.format,Uue=hb.parse,iE=hb.utcFormat,zV=hb.utcParse,hb}function SGe(c){return new Date(c)}function wGe(c){return c instanceof Date?+c:+new Date(+c)}function UV(c,l,a,h,d,f,p,g,m,v){var _=DV(),y=_.invert,b=_.domain,O=v(".%L"),C=v(":%S"),S=v("%I:%M"),w=v("%I %p"),x=v("%a %d"),T=v("%b %d"),D=v("%B"),k=v("%Y");function P(N){return(m(N)<N?O:g(N)<N?C:p(N)<N?S:f(N)<N?w:h(N)<N?d(N)<N?x:T:a(N)<N?D:k)(N)}return _.invert=function(N){return new Date(y(N))},_.domain=function(N){return arguments.length?b(Array.from(N,wGe)):b().map(SGe)},_.ticks=function(N){var F=b();return c(F[0],F[F.length-1],N??10)},_.tickFormat=function(N,F){return null==F?P:v(F)},_.nice=function(N){var F=b();return(!N||"function"!=typeof N.range)&&(N=l(F[0],F[F.length-1],N??10)),N?b(Xce(F,N)):_},_.copy=function(){return Ew(_,UV(c,l,a,h,d,f,p,g,m,v))},_}function xGe(){return qu.apply(UV(xue,Tue,ef,tE,cb,lb,JM,qM,xp,$V).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function TGe(){return qu.apply(UV(Sue,wue,tf,nE,ub,Pw,eE,KM,xp,iE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rE(){var a,h,d,f,m,c=0,l=1,p=ql,g=!1;function v(y){return null==y||isNaN(y=+y)?m:p(0===d?.5:(y=(f(y)-a)*d,g?Math.max(0,Math.min(1,y)):y))}function _(y){return function(b){var O,C;return arguments.length?([O,C]=b,p=y(O,C),v):[p(0),p(1)]}}return v.domain=function(y){return arguments.length?([c,l]=y,a=f(c=+c),h=f(l=+l),d=a===h?0:1/(h-a),v):[c,l]},v.clamp=function(y){return arguments.length?(g=!!y,v):g},v.interpolator=function(y){return arguments.length?(p=y,v):p},v.range=_(Fg),v.rangeRound=_(jM),v.unknown=function(y){return arguments.length?(m=y,v):m},function(y){return f=y,a=y(c),h=y(l),d=a===h?0:1/(h-a),v}}function Xg(c,l){return l.domain(c.domain()).interpolator(c.interpolator()).clamp(c.clamp()).unknown(c.unknown())}function Hue(){var c=Gg(rE()(ql));return c.copy=function(){return Xg(c,Hue())},Op.apply(c,arguments)}function Wue(){var c=MV(rE()).domain([1,10]);return c.copy=function(){return Xg(c,Wue()).base(c.base())},Op.apply(c,arguments)}function Zue(){var c=EV(rE());return c.copy=function(){return Xg(c,Zue()).constant(c.constant())},Op.apply(c,arguments)}function QV(){var c=PV(rE());return c.copy=function(){return Xg(c,QV()).exponent(c.exponent())},Op.apply(c,arguments)}function kGe(){return QV.apply(null,arguments).exponent(.5)}function jue(){var c=[],l=ql;function a(h){if(null!=h&&!isNaN(h=+h))return l((G0(c,h,1)-1)/(c.length-1))}return a.domain=function(h){if(!arguments.length)return c.slice();c=[];for(let d of h)null!=d&&!isNaN(d=+d)&&c.push(d);return c.sort(js),a},a.interpolator=function(h){return arguments.length?(l=h,a):l},a.range=function(){return c.map((h,d)=>l(d/(c.length-1)))},a.quantiles=function(h){return Array.from({length:h+1},(d,f)=>V2(c,f/h))},a.copy=function(){return jue(l).domain(c)},Op.apply(a,arguments)}function sE(){var d,f,p,g,m,_,b,c=0,l=.5,a=1,h=1,v=ql,y=!1;function O(S){return isNaN(S=+S)?b:(S=.5+((S=+_(S))-f)*(h*S<h*f?g:m),v(y?Math.max(0,Math.min(1,S)):S))}function C(S){return function(w){var x,T,D;return arguments.length?([x,T,D]=w,v=Bce(S,[x,T,D]),O):[v(0),v(.5),v(1)]}}return O.domain=function(S){return arguments.length?([c,l,a]=S,d=_(c=+c),f=_(l=+l),p=_(a=+a),g=d===f?0:.5/(f-d),m=f===p?0:.5/(p-f),h=f<d?-1:1,O):[c,l,a]},O.clamp=function(S){return arguments.length?(y=!!S,O):y},O.interpolator=function(S){return arguments.length?(v=S,O):v},O.range=C(Fg),O.rangeRound=C(jM),O.unknown=function(S){return arguments.length?(b=S,O):b},function(S){return _=S,d=S(c),f=S(l),p=S(a),g=d===f?0:.5/(f-d),m=f===p?0:.5/(p-f),h=f<d?-1:1,O}}function Gue(){var c=Gg(sE()(ql));return c.copy=function(){return Xg(c,Gue())},Op.apply(c,arguments)}function Xue(){var c=MV(sE()).domain([.1,1,10]);return c.copy=function(){return Xg(c,Xue()).base(c.base())},Op.apply(c,arguments)}function Yue(){var c=EV(sE());return c.copy=function(){return Xg(c,Yue()).constant(c.constant())},Op.apply(c,arguments)}function HV(){var c=PV(sE());return c.copy=function(){return Xg(c,HV()).exponent(c.exponent())},Op.apply(c,arguments)}function DGe(){return HV.apply(null,arguments).exponent(.5)}function Ki(c){for(var l=c.length/6|0,a=new Array(l),h=0;h<l;)a[h]="#"+c.slice(6*h,6*++h);return a}Que({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const MGe=Ki("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),EGe=Ki("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),PGe=Ki("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),AGe=Ki("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),IGe=Ki("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),RGe=Ki("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),LGe=Ki("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),NGe=Ki("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),FGe=Ki("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),BGe=Ki("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ys=c=>Jse(c[c.length-1]);var que=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ki);const VGe=ys(que);var Kue=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ki);const $Ge=ys(Kue);var Jue=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ki);const zGe=ys(Jue);var ehe=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ki);const UGe=ys(ehe);var the=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ki);const QGe=ys(the);var nhe=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ki);const HGe=ys(nhe);var ihe=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ki);const WGe=ys(ihe);var rhe=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ki);const ZGe=ys(rhe);var she=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ki);const jGe=ys(she);var ohe=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ki);const GGe=ys(ohe);var ahe=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ki);const XGe=ys(ahe);var lhe=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ki);const YGe=ys(lhe);var che=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ki);const qGe=ys(che);var uhe=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ki);const KGe=ys(uhe);var hhe=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ki);const JGe=ys(hhe);var dhe=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ki);const eXe=ys(dhe);var fhe=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ki);const tXe=ys(fhe);var phe=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ki);const nXe=ys(phe);var ghe=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ki);const iXe=ys(ghe);var mhe=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ki);const rXe=ys(mhe);var vhe=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ki);const sXe=ys(vhe);var _he=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ki);const oXe=ys(_he);var yhe=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ki);const aXe=ys(yhe);var bhe=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ki);const lXe=ys(bhe);var Ohe=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ki);const cXe=ys(Ohe);var Che=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ki);const uXe=ys(Che);var She=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ki);const hXe=ys(She);function dXe(c){return c=Math.max(0,Math.min(1,c)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-c*(35.34-c*(2381.73-c*(6402.7-c*(7024.72-2710.57*c)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+c*(170.73+c*(52.82-c*(131.46-c*(176.58-67.37*c)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+c*(442.36-c*(2482.43-c*(6167.24-c*(6614.94-2475.67*c)))))))+")"}const fXe=GM(zh(300,.5,0),zh(-240,.5,1));var pXe=GM(zh(-100,.75,.35),zh(80,1.5,.8)),gXe=GM(zh(260,.75,.35),zh(80,1.5,.8)),oE=zh();function mXe(c){(c<0||c>1)&&(c-=Math.floor(c));var l=Math.abs(c-.5);return oE.h=360*c-100,oE.s=1.5-1.5*l,oE.l=.8-.9*l,oE+""}var aE=gp(),vXe=Math.PI/3,_Xe=2*Math.PI/3;function yXe(c){var l;return c=(.5-c)*Math.PI,aE.r=255*(l=Math.sin(c))*l,aE.g=255*(l=Math.sin(c+vXe))*l,aE.b=255*(l=Math.sin(c+_Xe))*l,aE+""}function bXe(c){return c=Math.max(0,Math.min(1,c)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+c*(1172.33-c*(10793.56-c*(33300.12-c*(38394.49-14825.05*c)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+c*(557.33+c*(1225.33-c*(3574.96-c*(1073.77+707.56*c)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+c*(3211.1-c*(15327.97-c*(27814-c*(22569.18-6838.66*c)))))))+")"}function lE(c){var l=c.length;return function(a){return c[Math.max(0,Math.min(l-1,Math.floor(a*l)))]}}const OXe=lE(Ki("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var CXe=lE(Ki("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),SXe=lE(Ki("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),wXe=lE(Ki("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function xXe(c){return Io(gD(c).call(document.documentElement))}var TXe=0;function whe(){return new WV}function WV(){this._="@"+(++TXe).toString(36)}function kXe(c,l){return c.target&&(c=roe(c),void 0===l&&(l=c.currentTarget),c=c.touches||[c]),Array.from(c,a=>eu(a,l))}function DXe(c){return"string"==typeof c?new Vl([document.querySelectorAll(c)],[document.documentElement]):new Vl([Ese(c)],J6)}function Gi(c){return function(){return c}}WV.prototype=whe.prototype={constructor:WV,get:function(c){for(var l=this._;!(l in c);)if(!(c=c.parentNode))return;return c[l]},set:function(c,l){return c[this._]=l},remove:function(c){return this._ in c&&delete c[this._]},toString:function(){return this._}};const xhe=Math.abs,sl=Math.atan2,Tp=Math.cos,MXe=Math.max,db=Math.min,Ec=Math.sin,Ms=Math.sqrt,ol=1e-12,Yg=Math.PI,cE=Yg/2,qg=2*Yg;function The(c){return c>=1?cE:c<=-1?-cE:Math.asin(c)}function Fw(c){let l=3;return c.digits=function(a){if(!arguments.length)return l;if(null==a)l=null;else{const h=Math.floor(a);if(!(h>=0))throw new RangeError(`invalid digits: ${a}`);l=h}return c},()=>new J2(l)}function PXe(c){return c.innerRadius}function AXe(c){return c.outerRadius}function IXe(c){return c.startAngle}function RXe(c){return c.endAngle}function LXe(c){return c&&c.padAngle}function uE(c,l,a,h,d,f,p){var g=c-a,m=l-h,v=(p?f:-f)/Ms(g*g+m*m),_=v*m,y=-v*g,b=c+_,O=l+y,C=a+_,S=h+y,w=(b+C)/2,x=(O+S)/2,T=C-b,D=S-O,k=T*T+D*D,P=d-f,N=b*S-C*O,F=(D<0?-1:1)*Ms(MXe(0,P*P*k-N*N)),L=(N*D-T*F)/k,$=(-N*T-D*F)/k,U=(N*D+T*F)/k,z=(-N*T+D*F)/k,ee=L-w,te=$-x,B=U-w,j=z-x;return ee*ee+te*te>B*B+j*j&&(L=U,$=z),{cx:L,cy:$,x01:-_,y01:-y,x11:L*(d/P-1),y11:$*(d/P-1)}}function ZV(){var c=PXe,l=AXe,a=Gi(0),h=null,d=IXe,f=RXe,p=LXe,g=null,m=Fw(v);function v(){var _,y,b=+c.apply(this,arguments),O=+l.apply(this,arguments),C=d.apply(this,arguments)-cE,S=f.apply(this,arguments)-cE,w=xhe(S-C),x=S>C;if(g||(g=_=m()),O<b&&(y=O,O=b,b=y),O>ol)if(w>qg-ol)g.moveTo(O*Tp(C),O*Ec(C)),g.arc(0,0,O,C,S,!x),b>ol&&(g.moveTo(b*Tp(S),b*Ec(S)),g.arc(0,0,b,S,C,x));else{var te,B,T=C,D=S,k=C,P=S,N=w,F=w,L=p.apply(this,arguments)/2,$=L>ol&&(h?+h.apply(this,arguments):Ms(b*b+O*O)),U=db(xhe(O-b)/2,+a.apply(this,arguments)),z=U,ee=U;if($>ol){var j=The($/b*Ec(L)),W=The($/O*Ec(L));(N-=2*j)>ol?(k+=j*=x?1:-1,P-=j):(N=0,k=P=(C+S)/2),(F-=2*W)>ol?(T+=W*=x?1:-1,D-=W):(F=0,T=D=(C+S)/2)}var q=O*Tp(T),G=O*Ec(T),K=b*Tp(P),J=b*Ec(P);if(U>ol){var ke,ie=O*Tp(D),re=O*Ec(D),he=b*Tp(k),de=b*Ec(k);if(w<Yg)if(ke=function NXe(c,l,a,h,d,f,p,g){var m=a-c,v=h-l,_=p-d,y=g-f,b=y*m-_*v;if(!(b*b<ol))return[c+(b=(_*(l-f)-y*(c-d))/b)*m,l+b*v]}(q,G,he,de,ie,re,K,J)){var xe=q-ke[0],Ie=G-ke[1],Ze=ie-ke[0],Ne=re-ke[1],Ve=1/Ec(function EXe(c){return c>1?0:c<-1?Yg:Math.acos(c)}((xe*Ze+Ie*Ne)/(Ms(xe*xe+Ie*Ie)*Ms(Ze*Ze+Ne*Ne)))/2),nt=Ms(ke[0]*ke[0]+ke[1]*ke[1]);z=db(U,(b-nt)/(Ve-1)),ee=db(U,(O-nt)/(Ve+1))}else z=ee=0}F>ol?ee>ol?(te=uE(he,de,q,G,O,ee,x),B=uE(ie,re,K,J,O,ee,x),g.moveTo(te.cx+te.x01,te.cy+te.y01),ee<U?g.arc(te.cx,te.cy,ee,sl(te.y01,te.x01),sl(B.y01,B.x01),!x):(g.arc(te.cx,te.cy,ee,sl(te.y01,te.x01),sl(te.y11,te.x11),!x),g.arc(0,0,O,sl(te.cy+te.y11,te.cx+te.x11),sl(B.cy+B.y11,B.cx+B.x11),!x),g.arc(B.cx,B.cy,ee,sl(B.y11,B.x11),sl(B.y01,B.x01),!x))):(g.moveTo(q,G),g.arc(0,0,O,T,D,!x)):g.moveTo(q,G),b>ol&&N>ol?z>ol?(te=uE(K,J,ie,re,b,-z,x),B=uE(q,G,he,de,b,-z,x),g.lineTo(te.cx+te.x01,te.cy+te.y01),z<U?g.arc(te.cx,te.cy,z,sl(te.y01,te.x01),sl(B.y01,B.x01),!x):(g.arc(te.cx,te.cy,z,sl(te.y01,te.x01),sl(te.y11,te.x11),!x),g.arc(0,0,b,sl(te.cy+te.y11,te.cx+te.x11),sl(B.cy+B.y11,B.cx+B.x11),x),g.arc(B.cx,B.cy,z,sl(B.y11,B.x11),sl(B.y01,B.x01),!x))):g.arc(0,0,b,P,k,x):g.lineTo(K,J)}else g.moveTo(0,0);if(g.closePath(),_)return g=null,_+""||null}return v.centroid=function(){var _=(+c.apply(this,arguments)+ +l.apply(this,arguments))/2,y=(+d.apply(this,arguments)+ +f.apply(this,arguments))/2-Yg/2;return[Tp(y)*_,Ec(y)*_]},v.innerRadius=function(_){return arguments.length?(c="function"==typeof _?_:Gi(+_),v):c},v.outerRadius=function(_){return arguments.length?(l="function"==typeof _?_:Gi(+_),v):l},v.cornerRadius=function(_){return arguments.length?(a="function"==typeof _?_:Gi(+_),v):a},v.padRadius=function(_){return arguments.length?(h=null==_?null:"function"==typeof _?_:Gi(+_),v):h},v.startAngle=function(_){return arguments.length?(d="function"==typeof _?_:Gi(+_),v):d},v.endAngle=function(_){return arguments.length?(f="function"==typeof _?_:Gi(+_),v):f},v.padAngle=function(_){return arguments.length?(p="function"==typeof _?_:Gi(+_),v):p},v.context=function(_){return arguments.length?(g=_??null,v):g},v}var FXe=Array.prototype.slice;function hE(c){return"object"==typeof c&&"length"in c?c:Array.from(c)}function khe(c){this._context=c}function dE(c){return new khe(c)}function jV(c){return c[0]}function GV(c){return c[1]}function jh(c,l){var a=Gi(!0),h=null,d=dE,f=null,p=Fw(g);function g(m){var v,y,O,_=(m=hE(m)).length,b=!1;for(null==h&&(f=d(O=p())),v=0;v<=_;++v)!(v<_&&a(y=m[v],v,m))===b&&((b=!b)?f.lineStart():f.lineEnd()),b&&f.point(+c(y,v,m),+l(y,v,m));if(O)return f=null,O+""||null}return c="function"==typeof c?c:void 0===c?jV:Gi(c),l="function"==typeof l?l:void 0===l?GV:Gi(l),g.x=function(m){return arguments.length?(c="function"==typeof m?m:Gi(+m),g):c},g.y=function(m){return arguments.length?(l="function"==typeof m?m:Gi(+m),g):l},g.defined=function(m){return arguments.length?(a="function"==typeof m?m:Gi(!!m),g):a},g.curve=function(m){return arguments.length?(d=m,null!=h&&(f=d(h)),g):d},g.context=function(m){return arguments.length?(null==m?h=f=null:f=d(h=m),g):h},g}function XV(c,l,a){var h=null,d=Gi(!0),f=null,p=dE,g=null,m=Fw(v);function v(y){var b,O,C,w,T,S=(y=hE(y)).length,x=!1,D=new Array(S),k=new Array(S);for(null==f&&(g=p(T=m())),b=0;b<=S;++b){if(!(b<S&&d(w=y[b],b,y))===x)if(x=!x)O=b,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),C=b-1;C>=O;--C)g.point(D[C],k[C]);g.lineEnd(),g.areaEnd()}x&&(D[b]=+c(w,b,y),k[b]=+l(w,b,y),g.point(h?+h(w,b,y):D[b],a?+a(w,b,y):k[b]))}if(T)return g=null,T+""||null}function _(){return jh().defined(d).curve(p).context(f)}return c="function"==typeof c?c:void 0===c?jV:Gi(+c),l="function"==typeof l?l:Gi(void 0===l?0:+l),a="function"==typeof a?a:void 0===a?GV:Gi(+a),v.x=function(y){return arguments.length?(c="function"==typeof y?y:Gi(+y),h=null,v):c},v.x0=function(y){return arguments.length?(c="function"==typeof y?y:Gi(+y),v):c},v.x1=function(y){return arguments.length?(h=null==y?null:"function"==typeof y?y:Gi(+y),v):h},v.y=function(y){return arguments.length?(l="function"==typeof y?y:Gi(+y),a=null,v):l},v.y0=function(y){return arguments.length?(l="function"==typeof y?y:Gi(+y),v):l},v.y1=function(y){return arguments.length?(a=null==y?null:"function"==typeof y?y:Gi(+y),v):a},v.lineX0=v.lineY0=function(){return _().x(c).y(l)},v.lineY1=function(){return _().x(c).y(a)},v.lineX1=function(){return _().x(h).y(l)},v.defined=function(y){return arguments.length?(d="function"==typeof y?y:Gi(!!y),v):d},v.curve=function(y){return arguments.length?(p=y,null!=f&&(g=p(f)),v):p},v.context=function(y){return arguments.length?(null==y?f=g=null:g=p(f=y),v):f},v}function BXe(c,l){return l<c?-1:l>c?1:l>=c?0:NaN}function VXe(c){return c}function $Xe(){var c=VXe,l=BXe,a=null,h=Gi(0),d=Gi(qg),f=Gi(0);function p(g){var m,_,y,x,k,v=(g=hE(g)).length,b=0,O=new Array(v),C=new Array(v),S=+h.apply(this,arguments),w=Math.min(qg,Math.max(-qg,d.apply(this,arguments)-S)),T=Math.min(Math.abs(w)/v,f.apply(this,arguments)),D=T*(w<0?-1:1);for(m=0;m<v;++m)(k=C[O[m]=m]=+c(g[m],m,g))>0&&(b+=k);for(null!=l?O.sort(function(P,N){return l(C[P],C[N])}):null!=a&&O.sort(function(P,N){return a(g[P],g[N])}),m=0,y=b?(w-v*D)/b:0;m<v;++m,S=x)C[_=O[m]]={data:g[_],index:m,value:k=C[_],startAngle:S,endAngle:x=S+(k>0?k*y:0)+D,padAngle:T};return C}return p.value=function(g){return arguments.length?(c="function"==typeof g?g:Gi(+g),p):c},p.sortValues=function(g){return arguments.length?(l=g,a=null,p):l},p.sort=function(g){return arguments.length?(a=g,l=null,p):a},p.startAngle=function(g){return arguments.length?(h="function"==typeof g?g:Gi(+g),p):h},p.endAngle=function(g){return arguments.length?(d="function"==typeof g?g:Gi(+g),p):d},p.padAngle=function(g){return arguments.length?(f="function"==typeof g?g:Gi(+g),p):f},p}khe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(c,l){switch(c=+c,l=+l,this._point){case 0:this._point=1,this._line?this._context.lineTo(c,l):this._context.moveTo(c,l);break;case 1:this._point=2;default:this._context.lineTo(c,l)}}};var Dhe=YV(dE);function Mhe(c){this._curve=c}function YV(c){function l(a){return new Mhe(c(a))}return l._curve=c,l}function Bw(c){var l=c.curve;return c.angle=c.x,delete c.x,c.radius=c.y,delete c.y,c.curve=function(a){return arguments.length?l(YV(a)):l()._curve},c}function Ehe(){return Bw(jh().curve(Dhe))}function Phe(){var c=XV().curve(Dhe),l=c.curve,a=c.lineX0,h=c.lineX1,d=c.lineY0,f=c.lineY1;return c.angle=c.x,delete c.x,c.startAngle=c.x0,delete c.x0,c.endAngle=c.x1,delete c.x1,c.radius=c.y,delete c.y,c.innerRadius=c.y0,delete c.y0,c.outerRadius=c.y1,delete c.y1,c.lineStartAngle=function(){return Bw(a())},delete c.lineX0,c.lineEndAngle=function(){return Bw(h())},delete c.lineX1,c.lineInnerRadius=function(){return Bw(d())},delete c.lineY0,c.lineOuterRadius=function(){return Bw(f())},delete c.lineY1,c.curve=function(p){return arguments.length?l(YV(p)):l()._curve},c}function Vw(c,l){return[(l=+l)*Math.cos(c-=Math.PI/2),l*Math.sin(c)]}Mhe.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(c,l){this._curve.point(l*Math.sin(c),l*-Math.cos(c))}};class Ahe{constructor(l,a){this._context=l,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(l,a){switch(l=+l,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(l,a):this._context.moveTo(l,a);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+l)/2,this._y0,this._x0,a,l,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,l,this._y0,l,a)}this._x0=l,this._y0=a}}class zXe{constructor(l){this._context=l}lineStart(){this._point=0}lineEnd(){}point(l,a){if(l=+l,a=+a,0===this._point)this._point=1;else{const h=Vw(this._x0,this._y0),d=Vw(this._x0,this._y0=(this._y0+a)/2),f=Vw(l,this._y0),p=Vw(l,a);this._context.moveTo(...h),this._context.bezierCurveTo(...d,...f,...p)}this._x0=l,this._y0=a}}function qV(c){return new Ahe(c,!0)}function Ihe(c){return new Ahe(c,!1)}function UXe(c){return new zXe(c)}function QXe(c){return c.source}function HXe(c){return c.target}function fE(c){let l=QXe,a=HXe,h=jV,d=GV,f=null,p=null,g=Fw(m);function m(){let v;const _=FXe.call(arguments),y=l.apply(this,_),b=a.apply(this,_);if(null==f&&(p=c(v=g())),p.lineStart(),_[0]=y,p.point(+h.apply(this,_),+d.apply(this,_)),_[0]=b,p.point(+h.apply(this,_),+d.apply(this,_)),p.lineEnd(),v)return p=null,v+""||null}return m.source=function(v){return arguments.length?(l=v,m):l},m.target=function(v){return arguments.length?(a=v,m):a},m.x=function(v){return arguments.length?(h="function"==typeof v?v:Gi(+v),m):h},m.y=function(v){return arguments.length?(d="function"==typeof v?v:Gi(+v),m):d},m.context=function(v){return arguments.length?(null==v?f=p=null:p=c(f=v),m):f},m}function WXe(){return fE(qV)}function ZXe(){return fE(Ihe)}function jXe(){const c=fE(UXe);return c.angle=c.x,delete c.x,c.radius=c.y,delete c.y,c}const GXe=Ms(3),Rhe={draw(c,l){const a=.59436*Ms(l+db(l/28,.75)),h=a/2,d=h*GXe;c.moveTo(0,a),c.lineTo(0,-a),c.moveTo(-d,-h),c.lineTo(d,h),c.moveTo(-d,h),c.lineTo(d,-h)}},pE={draw(c,l){const a=Ms(l/Yg);c.moveTo(a,0),c.arc(0,0,a,0,qg)}},Lhe={draw(c,l){const a=Ms(l/5)/2;c.moveTo(-3*a,-a),c.lineTo(-a,-a),c.lineTo(-a,-3*a),c.lineTo(a,-3*a),c.lineTo(a,-a),c.lineTo(3*a,-a),c.lineTo(3*a,a),c.lineTo(a,a),c.lineTo(a,3*a),c.lineTo(-a,3*a),c.lineTo(-a,a),c.lineTo(-3*a,a),c.closePath()}},Nhe=Ms(1/3),XXe=2*Nhe,Fhe={draw(c,l){const a=Ms(l/XXe),h=a*Nhe;c.moveTo(0,-a),c.lineTo(h,0),c.lineTo(0,a),c.lineTo(-h,0),c.closePath()}},Bhe={draw(c,l){const a=.62625*Ms(l);c.moveTo(0,-a),c.lineTo(a,0),c.lineTo(0,a),c.lineTo(-a,0),c.closePath()}},Vhe={draw(c,l){const a=.87559*Ms(l-db(l/7,2));c.moveTo(-a,0),c.lineTo(a,0),c.moveTo(0,a),c.lineTo(0,-a)}},$he={draw(c,l){const a=Ms(l),h=-a/2;c.rect(h,h,a,a)}},zhe={draw(c,l){const a=.4431*Ms(l);c.moveTo(a,a),c.lineTo(a,-a),c.lineTo(-a,-a),c.lineTo(-a,a),c.closePath()}},Uhe=Ec(Yg/10)/Ec(7*Yg/10),qXe=Ec(qg/10)*Uhe,KXe=-Tp(qg/10)*Uhe,Qhe={draw(c,l){const a=Ms(.8908130915292852*l),h=qXe*a,d=KXe*a;c.moveTo(0,-a),c.lineTo(h,d);for(let f=1;f<5;++f){const p=qg*f/5,g=Tp(p),m=Ec(p);c.lineTo(m*a,-g*a),c.lineTo(g*h-m*d,m*h+g*d)}c.closePath()}},KV=Ms(3),Hhe={draw(c,l){const a=-Ms(l/(3*KV));c.moveTo(0,2*a),c.lineTo(-KV*a,-a),c.lineTo(KV*a,-a),c.closePath()}},JXe=Ms(3),Whe={draw(c,l){const a=.6824*Ms(l),h=a/2,d=a*JXe/2;c.moveTo(0,-a),c.lineTo(d,h),c.lineTo(-d,h),c.closePath()}},Ju=-.5,eh=Ms(3)/2,JV=1/Ms(12),eYe=3*(JV/2+1),Zhe={draw(c,l){const a=Ms(l/eYe),h=a/2,d=a*JV,f=h,p=a*JV+a,g=-f,m=p;c.moveTo(h,d),c.lineTo(f,p),c.lineTo(g,m),c.lineTo(Ju*h-eh*d,eh*h+Ju*d),c.lineTo(Ju*f-eh*p,eh*f+Ju*p),c.lineTo(Ju*g-eh*m,eh*g+Ju*m),c.lineTo(Ju*h+eh*d,Ju*d-eh*h),c.lineTo(Ju*f+eh*p,Ju*p-eh*f),c.lineTo(Ju*g+eh*m,Ju*m-eh*g),c.closePath()}},e9={draw(c,l){const a=.6189*Ms(l-db(l/6,1.7));c.moveTo(-a,-a),c.lineTo(a,a),c.moveTo(-a,a),c.lineTo(a,-a)}},jhe=[pE,Lhe,Fhe,$he,Qhe,Hhe,Zhe],tYe=[pE,Vhe,e9,Whe,Rhe,zhe,Bhe];function nYe(c,l){let a=null,h=Fw(d);function d(){let f;if(a||(a=f=h()),c.apply(this,arguments).draw(a,+l.apply(this,arguments)),f)return a=null,f+""||null}return c="function"==typeof c?c:Gi(c||pE),l="function"==typeof l?l:Gi(void 0===l?64:+l),d.type=function(f){return arguments.length?(c="function"==typeof f?f:Gi(f),d):c},d.size=function(f){return arguments.length?(l="function"==typeof f?f:Gi(+f),d):l},d.context=function(f){return arguments.length?(a=f??null,d):a},d}function Kg(){}function gE(c,l,a){c._context.bezierCurveTo((2*c._x0+c._x1)/3,(2*c._y0+c._y1)/3,(c._x0+2*c._x1)/3,(c._y0+2*c._y1)/3,(c._x0+4*c._x1+l)/6,(c._y0+4*c._y1+a)/6)}function mE(c){this._context=c}function $w(c){return new mE(c)}function Ghe(c){this._context=c}function iYe(c){return new Ghe(c)}function Xhe(c){this._context=c}function rYe(c){return new Xhe(c)}function Yhe(c,l){this._basis=new mE(c),this._beta=l}mE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(c,l){switch(c=+c,l=+l,this._point){case 0:this._point=1,this._line?this._context.lineTo(c,l):this._context.moveTo(c,l);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gE(this,c,l)}this._x0=this._x1,this._x1=c,this._y0=this._y1,this._y1=l}},Ghe.prototype={areaStart:Kg,areaEnd:Kg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(c,l){switch(c=+c,l=+l,this._point){case 0:this._point=1,this._x2=c,this._y2=l;break;case 1:this._point=2,this._x3=c,this._y3=l;break;case 2:this._point=3,this._x4=c,this._y4=l,this._context.moveTo((this._x0+4*this._x1+c)/6,(this._y0+4*this._y1+l)/6);break;default:gE(this,c,l)}this._x0=this._x1,this._x1=c,this._y0=this._y1,this._y1=l}},Xhe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(c,l){switch(c=+c,l=+l,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+c)/6,h=(this._y0+4*this._y1+l)/6;this._line?this._context.lineTo(a,h):this._context.moveTo(a,h);break;case 3:this._point=4;default:gE(this,c,l)}this._x0=this._x1,this._x1=c,this._y0=this._y1,this._y1=l}},Yhe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var c=this._x,l=this._y,a=c.length-1;if(a>0)for(var m,h=c[0],d=l[0],f=c[a]-h,p=l[a]-d,g=-1;++g<=a;)this._basis.point(this._beta*c[g]+(1-this._beta)*(h+(m=g/a)*f),this._beta*l[g]+(1-this._beta)*(d+m*p));this._x=this._y=null,this._basis.lineEnd()},point:function(c,l){this._x.push(+c),this._y.push(+l)}};const sYe=function c(l){function a(h){return 1===l?new mE(h):new Yhe(h,l)}return a.beta=function(h){return c(+h)},a}(.85);function vE(c,l,a){c._context.bezierCurveTo(c._x1+c._k*(c._x2-c._x0),c._y1+c._k*(c._y2-c._y0),c._x2+c._k*(c._x1-l),c._y2+c._k*(c._y1-a),c._x2,c._y2)}function t9(c,l){this._context=c,this._k=(1-l)/6}t9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:vE(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(c,l){switch(c=+c,l=+l,this._point){case 0:this._point=1,this._line?this._context.lineTo(c,l):this._context.moveTo(c,l);break;case 1:this._point=2,this._x1=c,this._y1=l;break;case 2:this._point=3;default:vE(this,c,l)}this._x0=this._x1,this._x1=this._x2,this._x2=c,this._y0=this._y1,this._y1=this._y2,this._y2=l}};const oYe=function c(l){function a(h){return new t9(h,l)}return a.tension=function(h){return c(+h)},a}(0);function n9(c,l){this._context=c,this._k=(1-l)/6}n9.prototype={areaStart:Kg,areaEnd:Kg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(c,l){switch(c=+c,l=+l,this._point){case 0:this._point=1,this._x3=c,this._y3=l;break;case 1:this._point=2,this._context.moveTo(this._x4=c,this._y4=l);break;case 2:this._point=3,this._x5=c,this._y5=l;break;default:vE(this,c,l)}this._x0=this._x1,this._x1=this._x2,this._x2=c,this._y0=this._y1,this._y1=this._y2,this._y2=l}};const aYe=function c(l){function a(h){return new n9(h,l)}return a.tension=function(h){return c(+h)},a}(0);function i9(c,l){this._context=c,this._k=(1-l)/6}i9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(c,l){switch(c=+c,l=+l,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:vE(this,c,l)}this._x0=this._x1,this._x1=this._x2,this._x2=c,this._y0=this._y1,this._y1=this._y2,this._y2=l}};const lYe=function c(l){function a(h){return new i9(h,l)}return a.tension=function(h){return c(+h)},a}(0);function r9(c,l,a){var h=c._x1,d=c._y1,f=c._x2,p=c._y2;if(c._l01_a>ol){var g=2*c._l01_2a+3*c._l01_a*c._l12_a+c._l12_2a,m=3*c._l01_a*(c._l01_a+c._l12_a);h=(h*g-c._x0*c._l12_2a+c._x2*c._l01_2a)/m,d=(d*g-c._y0*c._l12_2a+c._y2*c._l01_2a)/m}if(c._l23_a>ol){var v=2*c._l23_2a+3*c._l23_a*c._l12_a+c._l12_2a,_=3*c._l23_a*(c._l23_a+c._l12_a);f=(f*v+c._x1*c._l23_2a-l*c._l12_2a)/_,p=(p*v+c._y1*c._l23_2a-a*c._l12_2a)/_}c._context.bezierCurveTo(h,d,f,p,c._x2,c._y2)}function qhe(c,l){this._context=c,this._alpha=l}qhe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(c,l){if(c=+c,l=+l,this._point){var a=this._x2-c,h=this._y2-l;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+h*h,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(c,l):this._context.moveTo(c,l);break;case 1:this._point=2;break;case 2:this._point=3;default:r9(this,c,l)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=c,this._y0=this._y1,this._y1=this._y2,this._y2=l}};const cYe=function c(l){function a(h){return l?new qhe(h,l):new t9(h,0)}return a.alpha=function(h){return c(+h)},a}(.5);function Khe(c,l){this._context=c,this._alpha=l}Khe.prototype={areaStart:Kg,areaEnd:Kg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(c,l){if(c=+c,l=+l,this._point){var a=this._x2-c,h=this._y2-l;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+h*h,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=c,this._y3=l;break;case 1:this._point=2,this._context.moveTo(this._x4=c,this._y4=l);break;case 2:this._point=3,this._x5=c,this._y5=l;break;default:r9(this,c,l)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=c,this._y0=this._y1,this._y1=this._y2,this._y2=l}};const uYe=function c(l){function a(h){return l?new Khe(h,l):new n9(h,0)}return a.alpha=function(h){return c(+h)},a}(.5);function Jhe(c,l){this._context=c,this._alpha=l}Jhe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(c,l){if(c=+c,l=+l,this._point){var a=this._x2-c,h=this._y2-l;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+h*h,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:r9(this,c,l)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=c,this._y0=this._y1,this._y1=this._y2,this._y2=l}};const hYe=function c(l){function a(h){return l?new Jhe(h,l):new i9(h,0)}return a.alpha=function(h){return c(+h)},a}(.5);function ede(c){this._context=c}function dYe(c){return new ede(c)}function tde(c){return c<0?-1:1}function nde(c,l,a){var h=c._x1-c._x0,d=l-c._x1,f=(c._y1-c._y0)/(h||d<0&&-0),p=(a-c._y1)/(d||h<0&&-0),g=(f*d+p*h)/(h+d);return(tde(f)+tde(p))*Math.min(Math.abs(f),Math.abs(p),.5*Math.abs(g))||0}function ide(c,l){var a=c._x1-c._x0;return a?(3*(c._y1-c._y0)/a-l)/2:l}function s9(c,l,a){var h=c._x0,f=c._x1,p=c._y1,g=(f-h)/3;c._context.bezierCurveTo(h+g,c._y0+g*l,f-g,p-g*a,f,p)}function _E(c){this._context=c}function rde(c){this._context=new sde(c)}function sde(c){this._context=c}function fYe(c){return new _E(c)}function pYe(c){return new rde(c)}function ode(c){this._context=c}function ade(c){var l,h,a=c.length-1,d=new Array(a),f=new Array(a),p=new Array(a);for(d[0]=0,f[0]=2,p[0]=c[0]+2*c[1],l=1;l<a-1;++l)d[l]=1,f[l]=4,p[l]=4*c[l]+2*c[l+1];for(d[a-1]=2,f[a-1]=7,p[a-1]=8*c[a-1]+c[a],l=1;l<a;++l)f[l]-=h=d[l]/f[l-1],p[l]-=h*p[l-1];for(d[a-1]=p[a-1]/f[a-1],l=a-2;l>=0;--l)d[l]=(p[l]-d[l+1])/f[l];for(f[a-1]=(c[a]+d[a-1])/2,l=0;l<a-1;++l)f[l]=2*c[l+1]-d[l+1];return[d,f]}function o9(c){return new ode(c)}function yE(c,l){this._context=c,this._t=l}function gYe(c){return new yE(c,.5)}function a9(c){return new yE(c,0)}function mYe(c){return new yE(c,1)}function fb(c,l){if((p=c.length)>1)for(var h,d,p,a=1,f=c[l[0]],g=f.length;a<p;++a)for(d=f,f=c[l[a]],h=0;h<g;++h)f[h][1]+=f[h][0]=isNaN(d[h][1])?d[h][0]:d[h][1]}function pb(c){for(var l=c.length,a=new Array(l);--l>=0;)a[l]=l;return a}function vYe(c,l){return c[l]}function _Ye(c){const l=[];return l.key=c,l}function yYe(){var c=Gi([]),l=pb,a=fb,h=vYe;function d(f){var g,_,p=Array.from(c.apply(this,arguments),_Ye),m=p.length,v=-1;for(const y of f)for(g=0,++v;g<m;++g)(p[g][v]=[0,+h(y,p[g].key,v,f)]).data=y;for(g=0,_=hE(l(p));g<m;++g)p[_[g]].index=g;return a(p,_),p}return d.keys=function(f){return arguments.length?(c="function"==typeof f?f:Gi(Array.from(f)),d):c},d.value=function(f){return arguments.length?(h="function"==typeof f?f:Gi(+f),d):h},d.order=function(f){return arguments.length?(l=null==f?pb:"function"==typeof f?f:Gi(Array.from(f)),d):l},d.offset=function(f){return arguments.length?(a=f??fb,d):a},d}function bYe(c,l){if((h=c.length)>0){for(var a,h,p,d=0,f=c[0].length;d<f;++d){for(p=a=0;a<h;++a)p+=c[a][d][1]||0;if(p)for(a=0;a<h;++a)c[a][d][1]/=p}fb(c,l)}}function OYe(c,l){if((m=c.length)>0)for(var a,d,f,p,g,m,h=0,v=c[l[0]].length;h<v;++h)for(p=g=0,a=0;a<m;++a)(f=(d=c[l[a]][h])[1]-d[0])>0?(d[0]=p,d[1]=p+=f):f<0?(d[1]=g,d[0]=g+=f):(d[0]=0,d[1]=f)}function CYe(c,l){if((d=c.length)>0){for(var d,a=0,h=c[l[0]],f=h.length;a<f;++a){for(var p=0,g=0;p<d;++p)g+=c[p][a][1]||0;h[a][1]+=h[a][0]=-g/2}fb(c,l)}}function SYe(c,l){if((p=c.length)>0&&(f=(d=c[l[0]]).length)>0){for(var d,f,p,a=0,h=1;h<f;++h){for(var g=0,m=0,v=0;g<p;++g){for(var _=c[l[g]],y=_[h][1]||0,O=(y-(_[h-1][1]||0))/2,C=0;C<g;++C){var S=c[l[C]];O+=(S[h][1]||0)-(S[h-1][1]||0)}m+=y,v+=O*y}d[h-1][1]+=d[h-1][0]=a,m&&(a-=v/m)}d[h-1][1]+=d[h-1][0]=a,fb(c,l)}}function lde(c){var l=c.map(wYe);return pb(c).sort(function(a,h){return l[a]-l[h]})}function wYe(c){for(var d,l=-1,a=0,h=c.length,f=-1/0;++l<h;)(d=+c[l][1])>f&&(f=d,a=l);return a}function cde(c){var l=c.map(ude);return pb(c).sort(function(a,h){return l[a]-l[h]})}function ude(c){for(var d,l=0,a=-1,h=c.length;++a<h;)(d=+c[a][1])&&(l+=d);return l}function xYe(c){return cde(c).reverse()}function TYe(c){var a,h,l=c.length,d=c.map(ude),f=lde(c),p=0,g=0,m=[],v=[];for(a=0;a<l;++a)h=f[a],p<g?(p+=d[h],m.push(h)):(g+=d[h],v.push(h));return v.reverse().concat(m)}function kYe(c){return pb(c).reverse()}ede.prototype={areaStart:Kg,areaEnd:Kg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(c,l){c=+c,l=+l,this._point?this._context.lineTo(c,l):(this._point=1,this._context.moveTo(c,l))}},_E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:s9(this,this._t0,ide(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(c,l){var a=NaN;if(l=+l,(c=+c)!==this._x1||l!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(c,l):this._context.moveTo(c,l);break;case 1:this._point=2;break;case 2:this._point=3,s9(this,ide(this,a=nde(this,c,l)),a);break;default:s9(this,this._t0,a=nde(this,c,l))}this._x0=this._x1,this._x1=c,this._y0=this._y1,this._y1=l,this._t0=a}}},(rde.prototype=Object.create(_E.prototype)).point=function(c,l){_E.prototype.point.call(this,l,c)},sde.prototype={moveTo:function(c,l){this._context.moveTo(l,c)},closePath:function(){this._context.closePath()},lineTo:function(c,l){this._context.lineTo(l,c)},bezierCurveTo:function(c,l,a,h,d,f){this._context.bezierCurveTo(l,c,h,a,f,d)}},ode.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var c=this._x,l=this._y,a=c.length;if(a)if(this._line?this._context.lineTo(c[0],l[0]):this._context.moveTo(c[0],l[0]),2===a)this._context.lineTo(c[1],l[1]);else for(var h=ade(c),d=ade(l),f=0,p=1;p<a;++f,++p)this._context.bezierCurveTo(h[0][f],d[0][f],h[1][f],d[1][f],c[p],l[p]);(this._line||0!==this._line&&1===a)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(c,l){this._x.push(+c),this._y.push(+l)}},yE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(c,l){switch(c=+c,l=+l,this._point){case 0:this._point=1,this._line?this._context.lineTo(c,l):this._context.moveTo(c,l);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,l),this._context.lineTo(c,l);else{var a=this._x*(1-this._t)+c*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,l)}}this._x=c,this._y=l}};var hde="%Y-%m-%dT%H:%M:%S.%LZ",MYe=Date.prototype.toISOString?function DYe(c){return c.toISOString()}:iE(hde);const EYe=MYe;var AYe=+new Date("2000-01-01T00:00:00.000Z")?function PYe(c){var l=new Date(c);return isNaN(l)?null:l}:zV(hde);const IYe=AYe;function RYe(c,l,a){var h=new q2,d=l;return null==l?(h.restart(c,l,a),h):(h._restart=h.restart,h.restart=function(f,p,g){p=+p,g=null==g?Y2():+g,h._restart(function m(v){v+=d,h._restart(m,d+=p,g),f(v)},p,g)},h.restart(c,l,a),h)}const bE=c=>()=>c;function LYe(c,{sourceEvent:l,target:a,transform:h,dispatch:d}){Object.defineProperties(this,{type:{value:c,enumerable:!0,configurable:!0},sourceEvent:{value:l,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},transform:{value:h,enumerable:!0,configurable:!0},_:{value:d}})}function nf(c,l,a){this.k=c,this.x=l,this.y=a}nf.prototype={constructor:nf,scale:function(c){return 1===c?this:new nf(this.k*c,this.x,this.y)},translate:function(c,l){return 0===c&0===l?this:new nf(this.k,this.x+this.k*c,this.y+this.k*l)},apply:function(c){return[c[0]*this.k+this.x,c[1]*this.k+this.y]},applyX:function(c){return c*this.k+this.x},applyY:function(c){return c*this.k+this.y},invert:function(c){return[(c[0]-this.x)/this.k,(c[1]-this.y)/this.k]},invertX:function(c){return(c-this.x)/this.k},invertY:function(c){return(c-this.y)/this.k},rescaleX:function(c){return c.copy().domain(c.range().map(this.invertX,this).map(c.invert,c))},rescaleY:function(c){return c.copy().domain(c.range().map(this.invertY,this).map(c.invert,c))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var OE=new nf(1,0,0);function dde(c){for(;!c.__zoom;)if(!(c=c.parentNode))return OE;return c.__zoom}function l9(c){c.stopImmediatePropagation()}function zw(c){c.preventDefault(),c.stopImmediatePropagation()}function NYe(c){return!(c.ctrlKey&&"wheel"!==c.type||c.button)}function FYe(){var c=this;return c instanceof SVGElement?(c=c.ownerSVGElement||c).hasAttribute("viewBox")?[[(c=c.viewBox.baseVal).x,c.y],[c.x+c.width,c.y+c.height]]:[[0,0],[c.width.baseVal.value,c.height.baseVal.value]]:[[0,0],[c.clientWidth,c.clientHeight]]}function fde(){return this.__zoom||OE}function BYe(c){return-c.deltaY*(1===c.deltaMode?.05:c.deltaMode?1:.002)*(c.ctrlKey?10:1)}function VYe(){return navigator.maxTouchPoints||"ontouchstart"in this}function $Ye(c,l,a){var h=c.invertX(l[0][0])-a[0][0],d=c.invertX(l[1][0])-a[1][0],f=c.invertY(l[0][1])-a[0][1],p=c.invertY(l[1][1])-a[1][1];return c.translate(d>h?(h+d)/2:Math.min(0,h)||Math.max(0,d),p>f?(f+p)/2:Math.min(0,f)||Math.max(0,p))}function zYe(){var _,y,b,c=NYe,l=FYe,a=$Ye,h=BYe,d=VYe,f=[0,1/0],p=[[-1/0,-1/0],[1/0,1/0]],g=250,m=Rce,v=ky("start","zoom","end"),O=500,C=150,S=0,w=10;function x(B){B.property("__zoom",fde).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",U).filter(d).on("touchstart.zoom",z).on("touchmove.zoom",ee).on("touchend.zoom touchcancel.zoom",te).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function T(B,j){return(j=Math.max(f[0],Math.min(f[1],j)))===B.k?B:new nf(j,B.x,B.y)}function D(B,j,W){var q=j[0]-W[0]*B.k,G=j[1]-W[1]*B.k;return q===B.x&&G===B.y?B:new nf(B.k,q,G)}function k(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function P(B,j,W,q){B.on("start.zoom",function(){N(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(q).end()}).tween("zoom",function(){var G=this,K=arguments,J=N(G,K).event(q),ie=l.apply(G,K),re=null==W?k(ie):"function"==typeof W?W.apply(G,K):W,he=Math.max(ie[1][0]-ie[0][0],ie[1][1]-ie[0][1]),de=G.__zoom,ke="function"==typeof j?j.apply(G,K):j,xe=m(de.invert(re).concat(he/de.k),ke.invert(re).concat(he/ke.k));return function(Ie){if(1===Ie)Ie=ke;else{var Ze=xe(Ie),Ne=he/Ze[2];Ie=new nf(Ne,re[0]-Ze[0]*Ne,re[1]-Ze[1]*Ne)}J.zoom(null,Ie)}})}function N(B,j,W){return!W&&B.__zooming||new F(B,j)}function F(B,j){this.that=B,this.args=j,this.active=0,this.sourceEvent=null,this.extent=l.apply(B,j),this.taps=0}function L(B,...j){if(c.apply(this,arguments)){var W=N(this,j).event(B),q=this.__zoom,G=Math.max(f[0],Math.min(f[1],q.k*Math.pow(2,h.apply(this,arguments)))),K=eu(B);if(W.wheel)(W.mouse[0][0]!==K[0]||W.mouse[0][1]!==K[1])&&(W.mouse[1]=q.invert(W.mouse[0]=K)),clearTimeout(W.wheel);else{if(q.k===G)return;W.mouse=[K,q.invert(K)],s1(this),W.start()}zw(B),W.wheel=setTimeout(function J(){W.wheel=null,W.end()},C),W.zoom("mouse",a(D(T(q,G),W.mouse[0],W.mouse[1]),W.extent,p))}}function $(B,...j){if(!b&&c.apply(this,arguments)){var W=B.currentTarget,q=N(this,j,!0).event(B),G=Io(B.view).on("mousemove.zoom",function re(de){if(zw(de),!q.moved){var ke=de.clientX-J,xe=de.clientY-ie;q.moved=ke*ke+xe*xe>S}q.event(de).zoom("mouse",a(D(q.that.__zoom,q.mouse[0]=eu(de,W),q.mouse[1]),q.extent,p))},!0).on("mouseup.zoom",function he(de){G.on("mousemove.zoom mouseup.zoom",null),vD(de.view,q.moved),zw(de),q.event(de).end()},!0),K=eu(B,W),J=B.clientX,ie=B.clientY;mD(B.view),l9(B),q.mouse=[K,this.__zoom.invert(K)],s1(this),q.start()}}function U(B,...j){if(c.apply(this,arguments)){var W=this.__zoom,q=eu(B.changedTouches?B.changedTouches[0]:B,this),G=W.invert(q),J=a(D(T(W,W.k*(B.shiftKey?.5:2)),q,G),l.apply(this,j),p);zw(B),g>0?Io(this).transition().duration(g).call(P,J,q,B):Io(this).call(x.transform,J,q,B)}}function z(B,...j){if(c.apply(this,arguments)){var K,J,ie,re,W=B.touches,q=W.length,G=N(this,j,B.changedTouches.length===q).event(B);for(l9(B),J=0;J<q;++J)re=[re=eu(ie=W[J],this),this.__zoom.invert(re),ie.identifier],G.touch0?!G.touch1&&G.touch0[2]!==re[2]&&(G.touch1=re,G.taps=0):(G.touch0=re,K=!0,G.taps=1+!!_);_&&(_=clearTimeout(_)),K&&(G.taps<2&&(y=re[0],_=setTimeout(function(){_=null},O)),s1(this),G.start())}}function ee(B,...j){if(this.__zooming){var K,J,ie,re,W=N(this,j).event(B),q=B.changedTouches,G=q.length;for(zw(B),K=0;K<G;++K)ie=eu(J=q[K],this),W.touch0&&W.touch0[2]===J.identifier?W.touch0[0]=ie:W.touch1&&W.touch1[2]===J.identifier&&(W.touch1[0]=ie);if(J=W.that.__zoom,W.touch1){var he=W.touch0[0],de=W.touch0[1],ke=W.touch1[0],xe=W.touch1[1],Ie=(Ie=ke[0]-he[0])*Ie+(Ie=ke[1]-he[1])*Ie,Ze=(Ze=xe[0]-de[0])*Ze+(Ze=xe[1]-de[1])*Ze;J=T(J,Math.sqrt(Ie/Ze)),ie=[(he[0]+ke[0])/2,(he[1]+ke[1])/2],re=[(de[0]+xe[0])/2,(de[1]+xe[1])/2]}else{if(!W.touch0)return;ie=W.touch0[0],re=W.touch0[1]}W.zoom("touch",a(D(J,ie,re),W.extent,p))}}function te(B,...j){if(this.__zooming){var K,J,W=N(this,j).event(B),q=B.changedTouches,G=q.length;for(l9(B),b&&clearTimeout(b),b=setTimeout(function(){b=null},O),K=0;K<G;++K)J=q[K],W.touch0&&W.touch0[2]===J.identifier?delete W.touch0:W.touch1&&W.touch1[2]===J.identifier&&delete W.touch1;if(W.touch1&&!W.touch0&&(W.touch0=W.touch1,delete W.touch1),W.touch0)W.touch0[1]=this.__zoom.invert(W.touch0[0]);else if(W.end(),2===W.taps&&(J=eu(J,this),Math.hypot(y[0]-J[0],y[1]-J[1])<w)){var ie=Io(this).on("dblclick.zoom");ie&&ie.apply(this,arguments)}}}return x.transform=function(B,j,W,q){var G=B.selection?B.selection():B;G.property("__zoom",fde),B!==G?P(B,j,W,q):G.interrupt().each(function(){N(this,arguments).event(q).start().zoom(null,"function"==typeof j?j.apply(this,arguments):j).end()})},x.scaleBy=function(B,j,W,q){x.scaleTo(B,function(){return this.__zoom.k*("function"==typeof j?j.apply(this,arguments):j)},W,q)},x.scaleTo=function(B,j,W,q){x.transform(B,function(){var G=l.apply(this,arguments),K=this.__zoom,J=null==W?k(G):"function"==typeof W?W.apply(this,arguments):W,ie=K.invert(J),re="function"==typeof j?j.apply(this,arguments):j;return a(D(T(K,re),J,ie),G,p)},W,q)},x.translateBy=function(B,j,W,q){x.transform(B,function(){return a(this.__zoom.translate("function"==typeof j?j.apply(this,arguments):j,"function"==typeof W?W.apply(this,arguments):W),l.apply(this,arguments),p)},null,q)},x.translateTo=function(B,j,W,q,G){x.transform(B,function(){var K=l.apply(this,arguments),J=this.__zoom,ie=null==q?k(K):"function"==typeof q?q.apply(this,arguments):q;return a(OE.translate(ie[0],ie[1]).scale(J.k).translate("function"==typeof j?-j.apply(this,arguments):-j,"function"==typeof W?-W.apply(this,arguments):-W),K,p)},q,G)},F.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,j){return this.mouse&&"mouse"!==B&&(this.mouse[1]=j.invert(this.mouse[0])),this.touch0&&"touch"!==B&&(this.touch0[1]=j.invert(this.touch0[0])),this.touch1&&"touch"!==B&&(this.touch1[1]=j.invert(this.touch1[0])),this.that.__zoom=j,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var j=Io(this.that).datum();v.call(B,this.that,new LYe(B,{sourceEvent:this.sourceEvent,target:x,type:B,transform:this.that.__zoom,dispatch:v}),j)}},x.wheelDelta=function(B){return arguments.length?(h="function"==typeof B?B:bE(+B),x):h},x.filter=function(B){return arguments.length?(c="function"==typeof B?B:bE(!!B),x):c},x.touchable=function(B){return arguments.length?(d="function"==typeof B?B:bE(!!B),x):d},x.extent=function(B){return arguments.length?(l="function"==typeof B?B:bE([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),x):l},x.scaleExtent=function(B){return arguments.length?(f[0]=+B[0],f[1]=+B[1],x):[f[0],f[1]]},x.translateExtent=function(B){return arguments.length?(p[0][0]=+B[0][0],p[1][0]=+B[1][0],p[0][1]=+B[0][1],p[1][1]=+B[1][1],x):[[p[0][0],p[0][1]],[p[1][0],p[1][1]]]},x.constrain=function(B){return arguments.length?(a=B,x):a},x.duration=function(B){return arguments.length?(g=+B,x):g},x.interpolate=function(B){return arguments.length?(m=B,x):m},x.on=function(){var B=v.on.apply(v,arguments);return B===v?x:B},x.clickDistance=function(B){return arguments.length?(S=(B=+B)*B,x):Math.sqrt(S)},x.tapDistance=function(B){return arguments.length?(w=+B,x):w},x}dde.prototype=nf.prototype;class E1{first;second;third;constructor(l,a,h){this.first=l,this.second=a,this.third=h}isSecond(){return!!this.second}isThird(){return!!this.third}toArrays(){let l=[this.first];return this.second&&l.push(this.second),this.third&&l.push(this.third),l}}class P1{\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u041a\u0440\u0435\u0441\u0442;\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b;\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0421\u0435\u0442\u043a\u0443;\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439;scale;width;height;delta;lineWidth;lineSizeExtra;colorBackground;colorMain;colorText;colorCircles;colorLines;colorLinesHighlighted;colorLinesSecondary;svgImage;rects=[];lines=[];linesPlate=[];texts=[];circles=[];ellipses=[];pathes=[];onItemSelected=null;params=new Map;fontLineRelativeOffset=.75;fontSize=20;fontWeight=700;menuWidthDivider=23;constructor(l,a,h,d,f,p,g,m,v,_,y,b,O,C,S,w,x,T){this.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u041a\u0440\u0435\u0441\u0442=l,this.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b=a,this.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0421\u0435\u0442\u043a\u0443=h,this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439=d,this.scale=f,this.width=p,this.height=g,this.delta=m,this.lineWidth=v,this.lineSizeExtra=_,this.colorBackground=y,this.colorMain=b,this.colorText=O,this.colorCircles=C,this.colorLines=S,this.colorLinesHighlighted=w,this.colorLinesSecondary=x,this.svgImage=T}addParam(l,a){return this.params.set(l,a),this}getParam(l){return this.params.get(l)}setColorBackground(l){return this.colorBackground=l,this}setColorMain(l){return this.colorMain=l,this}setColorText(l){return this.colorText=l,this}setColorLines(l){return this.colorLines=l,this}setWidth(l){return this.width=l,this}setHeight(l){return this.height=l,this}setFontSize(l){return this.fontSize=l,this}setFontLineRelativeOffset(l){return this.fontLineRelativeOffset=l,this}setFontWeight(l){return this.fontWeight=l,this}setLineWidth(l){return this.lineWidth=l,this}setMenuWidthDevider(l){return this.menuWidthDivider=l,this}static builder(){return new P1(!0,!0,!1,!0,.5,512,512,Math.min(512,512)/15,2,Math.min(512,512)/20,"black","gold","firebrick","red","white","green","cyan",null)}clearAll(){return this.rects=[],this.lines=[],this.linesPlate=[],this.texts=[],this.circles=[],this.ellipses=[],this.pathes=[],this}}class rr{x;y;constructor(l,a){this.x=l,this.y=a}}class CE{name;x;y;constructor(l,a,h){this.name=l,this.x=a,this.y=h}static builder(){return new CE("translate",0,0)}setName(l){return this.name=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}}class SE{name;x;y;constructor(l,a,h){this.name=l,this.x=a,this.y=h}static builder(){return new SE("scale",0,0)}setName(l){return this.name=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}}class c9{name;angle;x;y;constructor(l,a,h=0,d=0){this.name=l,this.angle=a,this.x=h,this.y=d}static builder(){return new c9("rotate",0)}setName(l){return this.name=l,this}setAngle(l){return this.angle=l,this}setRotationX(l){return this.x=l,this}setRotationY(l){return this.y=l,this}}class u9{name;angle;constructor(l,a){this.name=l,this.angle=a}static builder(){return new u9("skewY",0)}setName(l){return this.name=l,this}setAngle(l){return this.angle=l,this}}class h9{name;angle;constructor(l,a){this.name=l,this.angle=a}static builder(){return new h9("skewX",0)}setName(l){return this.name=l,this}setAngle(l){return this.angle=l,this}}class sr{name;func;constructor(l,a){this.name=l,this.func=a}static builder(){return new sr("",null)}setName(l){return this.name=l,this}setFunc(l){return this.func=l,this}}class gb{transform;classes;events;visible;transitions;d3Object=null;constructor(l,a=[],h=[],d=!0,f=null){this.transform=l,this.classes=a,this.events=h,this.visible=d,this.transitions=f}transformToString(l=null){return(l||this.transform).map((h,d)=>{let f=`${h.name}(`;return"translate"==h.name||"scale"==h.name?f+=`${h.x},${h.y}`:"rotate"==h.name?(f+=h.angle,(h.x||h.y)&&(f+=`,${h.x},${h.y}`)):("skewY"==h.name||"skewX"==h.name)&&(f+=h.angle),f+=")",f}).join(" ")}apply(l,a,h=null,d=null){var f=h||this.d3Object;if(null==f)return null;var p=f.transition().delay(l).duration(a);return d&&(p=p.on("end",d)),this.applyToD3Object(p)}applyToD3Object(l=null){return null}applyEventsToD3Object(l=null){var a=this,h=l;if(a.events.forEach(d=>{h=h.on(d.name,d.func)}),a.d3Object=h,a.transitions&&a.transitions.length){let d=!1,f=()=>{let p=null;d&&a.transitions&&a.transitions.length&&a.transitions.shift(),a.transitions&&a.transitions.length>0&&(p=a.transitions[0]),null!=p&&(d=!0,p.data.clone(a),h=(h=p.apply(h)).on("end",f))};f()}return h}emulateCollapseTransitions(){return this.transitions&&this.transitions.length>0&&(this.d3Object.interrupt(),this.transitions[this.transitions.length-1].data.cloneTo(this),this.transitions=[]),this}setTransforms(l){return this.transform=l,this}translate(l,a){return this.transform.push(CE.builder().setX(l).setY(a)),this}scale(l,a){return this.transform.push(SE.builder().setX(l).setY(a)),this}rotate(l,a=0,h=0){return this.transform.push(c9.builder().setAngle(l).setRotationX(a).setRotationY(h)),this}skewY(l){return this.transform.push(u9.builder().setAngle(l)),this}skewX(l){return this.transform.push(h9.builder().setAngle(l)),this}setClasses(l){return this.classes=l,this}addClass(l){return this.classes.indexOf(l)<0&&this.classes.push(l),this}removeClass(l){let a=this.classes.indexOf(l);return a>=0&&this.classes.splice(a,1),this}addEvent(l){return this.events.push(l),this}setVisible(l){return this.visible=l,this}getVisible(){return this.visible}setTransitions(l){return this.transitions=l,this}addTransition(l){return null==this.transitions&&(this.transitions=[]),this.transitions.push(l),this}}class wE{data;delay;duration;constructor(l,a=0,h=1e3){this.data=l,this.delay=a,this.duration=h}static builder(){return new wE(null)}setData(l){return this.data=l,this}setDelay(l){return this.delay=l,this}setDuration(l){return this.duration=l,this}apply(l=null){return this.data.apply(this.delay,this.duration,l)}}class Mi extends gb{text;x;y;color;strokeColor;strokeWidth;angle;fontSize;textAnchor;fontWeight;constructor(l,a,h,d,f,p,g,m,v,_,y=300){super(_),this.text=l,this.x=a,this.y=h,this.color=d,this.strokeColor=f,this.strokeWidth=p,this.angle=g,this.fontSize=m,this.textAnchor=v,this.fontWeight=y}applyToD3Object(l=null){var h=this;return(l||this.d3Object).attr("x",0*h.x).attr("y",0*h.y).attr("font-size",h.fontSize).attr("font-weight",h.fontWeight).attr("text-anchor",h.textAnchor).attr("transform",this.transformToString(h.transform||[])).style("stroke",h.strokeColor).style("stroke-width",h.strokeWidth).style("fill",h.color).attr("class",h.classes.join(" ")).style("visibility",h.visible?"visible":"hidden")}clone(l=null){return(l||Mi.builder()).setText(this.text).setX(this.x).setY(this.y).setColor(this.color).setStrokeColor(this.strokeColor).setStrokeWidth(this.strokeWidth).setAngle(this.angle).setFontSize(this.fontSize).setTextAnchor(this.textAnchor).setFontWeight(this.fontWeight).setTransitions(null).setTransforms([...this.transform]).setClasses([...this.classes])}static builder(){return new Mi("\u0422\u0435\u043a\u0441\u0442",0,0,"firebrick","black",0,0,"20px","start",[])}setBold(l=!0){return this.fontWeight=l?700:300,this}setFontWeight(l){return this.fontWeight=l,this}setText(l){return this.text=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setColor(l){return this.color=l,this}setStrokeColor(l){return this.strokeColor=l,this}setStrokeWidth(l){return this.strokeWidth=l,this}setAngle(l){return this.angle=l,this}setTextAnchor(l){return this.textAnchor=l,this}setFontSize(l){return this.fontSize=l,this}}class Jg extends gb{r;fillColor;fillOpacity;strokeColor;strokeWidth;constructor(l,a,h,d,f,p){super(p),this.r=l,this.fillColor=a,this.fillOpacity=h,this.strokeColor=d,this.strokeWidth=f}clone(l=null){return(l||Jg.builder()).setR(this.r).setFillColor(this.fillColor).setFillOpacity(this.fillOpacity).setStrokeColor(this.strokeColor).setStrokeWidth(this.strokeWidth).setTransforms([...this.transform]).setTransitions(null).setClasses([...this.classes])}applyToD3Object(l=null){var h=this;return(l||this.d3Object).attr("cx",0).attr("cy",0).attr("r",h.r).attr("fill",h.fillColor).attr("fill-opacity",h.fillOpacity).attr("stroke",h.strokeColor).attr("stroke-width",h.strokeWidth).attr("transform",this.transformToString(h&&h.transform||[])).attr("class",h.classes.join(" ")).style("visibility",h.visible?"visible":"hidden")}static builder(){return new Jg(100,"green",1,"white",2,[])}setR(l){return this.r=l,this}setFillColor(l){return this.fillColor=l,this}setFillOpacity(l){return this.fillOpacity=l,this}setStrokeColor(l){return this.strokeColor=l,this}setStrokeWidth(l){return this.strokeWidth=l,this}}class d9 extends gb{rx;ry;fillColor;fillOpacity;strokeColor;strokeWidth;constructor(l,a,h,d,f,p,g){super(g),this.rx=l,this.ry=a,this.fillColor=h,this.fillOpacity=d,this.strokeColor=f,this.strokeWidth=p}static builder(){return new d9(100,50,"green",1,"white",2,[])}setRx(l){return this.rx=l,this}setRy(l){return this.ry=l,this}setFillColor(l){return this.fillColor=l,this}setFillOpacity(l){return this.fillOpacity=l,this}setStrokeColor(l){return this.strokeColor=l,this}setStrokeWidth(l){return this.strokeWidth=l,this}}class Pi extends gb{x1;y1;x2;y2;color;width;startArrow;endArrow;constructor(l,a,h,d,f,p,g,m,v){super(v),this.x1=l,this.y1=a,this.x2=h,this.y2=d,this.color=f,this.width=p,this.startArrow=g,this.endArrow=m}clone(){return Pi.builder().setX1(this.x1).setY1(this.y1).setX2(this.x2).setY2(this.y2).setColor(this.color).setWidth(this.width).setStartArrow(this.startArrow).setEndArrow(this.endArrow).setTransforms(this.transform?[...this.transform]:[]).setTransitions(null)}static builder(){return new Pi(0,0,0,0,"white",1,"","",[])}setX1(l){return this.x1=l,this}setY1(l){return this.y1=l,this}setX2(l){return this.x2=l,this}setY2(l){return this.y2=l,this}setColor(l){return this.color=l,this}setWidth(l){return this.width=l,this}setStartArrow(l){return this.startArrow=l,this}setEndArrow(l){return this.endArrow=l,this}}class Bs extends gb{x;y;rx;ry;width;height;fillColor;fillOpacity;strokeColor;strokeOpacity;strokeWidth;locked;constructor(l,a,h,d,f,p,g,m,v,_,y,b,O){super(O),this.x=l,this.y=a,this.rx=h,this.ry=d,this.width=f,this.height=p,this.fillColor=g,this.fillOpacity=m,this.strokeColor=v,this.strokeOpacity=_,this.strokeWidth=y,this.locked=b}static builder(){return new Bs(0,0,0,0,100,100,"white",1,"",1,0,!1,[])}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setWidth(l){return this.width=l,this}setHeight(l){return this.height=l,this}setRx(l){return this.rx=l,this}setRy(l){return this.ry=l,this}setFillColor(l){return this.fillColor=l,this}setFillOpacity(l){return this.fillOpacity=l,this}setStrokeColor(l){return this.strokeColor=l,this}setStrokeOpacity(l){return this.strokeOpacity=l,this}setStrokeWidth(l){return this.strokeWidth=l,this}setLocked(l){return this.locked=l,this}}class Es extends gb{datum;d;strokeColor;strokeWidth;strokeOpacity;fillColor;fillOpacity;renderHandler;constructor(l,a,h,d,f,p,g,m,v){super(m),this.datum=l,this.d=a,this.strokeColor=h,this.strokeWidth=d,this.strokeOpacity=f,this.fillColor=p,this.fillOpacity=g,this.renderHandler=v}clone(l=null){return(l||Es.builder()).setD(this.datum).setD(this.d).setStrokeColor(this.strokeColor).setStrokeWidth(this.strokeWidth).setStrokeOpacity(this.strokeOpacity).setFillColor(this.fillColor).setFillOpacity(this.fillOpacity).setTransforms([...this.transform]).setTransitions(null).setRenderHandler(this.renderHandler).setClasses([...this.classes])}applyToD3Object(l=null){var h=this;return(l||this.d3Object).attr("d",h.d).attr("fill",h.fillColor).attr("fill-opacity",h.fillOpacity).attr("stroke",h.strokeColor).attr("stroke-width",h.strokeWidth).attr("stroke-opacity",h.strokeOpacity||1).attr("transform",this.transformToString(h.transform||[])).attr("class",h.classes.join(" ")).style("visibility",h.visible?"visible":"hidden")}static builder(){return new Es(null,null,"steelblue",2,1,"none",1,[],null)}setDatum(l){return this.datum=l,this}setD(l){return this.d=l,this}setStrokeColor(l){return this.strokeColor=l,this}setStrokeWidth(l){return this.strokeWidth=l,this}setStrokeOpacity(l){return this.strokeOpacity=l,this}setFillColor(l){return this.fillColor=l,this}setFillOpacity(l){return this.fillOpacity=l,this}setRenderHandler(l){return this.renderHandler=l,this}}let mb=(()=>{class c{\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(a){return 1/(a*(Math.sqrt(5)+1)/2)}createDataScale(a,h,d){let f=h(a),p=a.scale,g=a.width*(1-p)/2,m=a.height*(1-p)/2;return f.toArrays().forEach(v=>{v.forEach(_=>{_.locked||(_.transform=_.transform||[],_.transform.unshift(CE.builder().setX(g).setY(m),SE.builder().setX(p).setY(p)))})}),d(a,f),f}get createDataPtr(){return a=>this.createData(a)}get createLogoDataPtr(){return a=>this.createData(a,.75,.46-.05,.5,.53+.07,Math.PI/8)}get createGolgofaDataPtr(){return a=>this.createData(a,1,1-.8,.27,.6,Math.PI/8)}createBackground(a,h=1){return Bs.builder().setX(0).setY(0).setWidth(a.width).setHeight(a.height).setFillColor(a.colorBackground).setFillOpacity(h).setLocked(!0)}createCrossText(a,h=0,d=0,f=0,p=0,g=0){let m=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),v=a.width*(h||m),_=g||Math.atan2(1-m,.5),y=v*(d||1-m),b=v*(f||1-m),O=v*(f||.25),C=p?a.height*p+O*Math.tan(_):a.height-v/2,S=C+O*Math.tan(_)/2+a.delta/Math.cos(_)/2,w=(a.height+C+O*Math.tan(_)/2+a.delta/Math.cos(_)/2)/2,x=+(a.height-(C+O*Math.tan(_)/2+a.delta/Math.cos(_)/2)-a.height/12)/2/2,T=.55*a.width,D=[Mi.builder().setText("\u0446\u0440\u0483\u044c").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("end").setColor(a.colorMain).translate(a.width/2-b/2,(d?(v*(d||1-m)-a.delta/2)/2:v*Math.pow(1-m,2))-2*a.delta).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0426\u0430\u0440\u044c \u0421\u043b\u0430\u0432\u044b")})),Mi.builder().setText("\u0441\u043b\u0483\u0432\u044b").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("start").setColor(a.colorMain).translate(a.width/2+b/2,(d?(v*(d||1-m)-a.delta/2)/2:v*Math.pow(1-m,2))-2*a.delta).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0426\u0430\u0440\u044c \u0421\u043b\u0430\u0432\u044b")})),Mi.builder().setText("\u0406\u0483\u0421").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("start").setColor(a.colorMain).translate((a.width-v)/2,y-a.delta).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0418\u0438\u0441\u0443\u0441 \u0425\u0440\u0438\u0441\u0442\u043e\u0441")})),Mi.builder().setText("\u0425\u0483\u0421").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("end").setColor(a.colorMain).translate((a.width+v)/2,y-a.delta).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0418\u0438\u0441\u0443\u0441 \u0425\u0440\u0438\u0441\u0442\u043e\u0441")})),Mi.builder().setText("\u0441\u043d\u0483\u044a").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(a.colorMain).translate((a.width-v)/2,y+2*a.delta).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0421\u044b\u043d \u0411\u043e\u0436\u0438\u0439")})),Mi.builder().setText("\u0431\u0436\u0483\u0457\u0439").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(a.colorMain).translate((a.width+v)/2,y+2*a.delta).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0421\u044b\u043d \u0411\u043e\u0436\u0438\u0439")})),Mi.builder().setText("\u043d\u0438").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("start").setColor(a.colorMain).translate((a.width-O)/2,(C-O/Math.cos(_)/2+(y+2*a.delta))/2-a.height/12/2).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c")})),Mi.builder().setText("\u043a\u0430").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("end").setColor(a.colorMain).translate((a.width+O)/2,(C-O/Math.cos(_)/2+(y+2*a.delta))/2-a.height/12/2).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c")})),Mi.builder().setText("\u043c").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(a.colorMain).translate((a.width-O)/2,S+x).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u043c\u0435\u0441\u0442\u043e \u043b\u043e\u0431\u043d\u043e\u0435")})),Mi.builder().setText("\u043b").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(a.colorMain).translate((a.width+O)/2,S+x).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u043c\u0435\u0441\u0442\u043e \u043b\u043e\u0431\u043d\u043e\u0435")})),Mi.builder().setText("\u0440").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(a.colorMain).translate((a.width-O)/2,w+x).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0440\u0430\u0441\u043f\u044f\u0442 \u0431\u044b\u0441\u0442\u044c")})),Mi.builder().setText("\u0431").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(a.colorMain).translate((a.width+O)/2,w+x).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0440\u0430\u0441\u043f\u044f\u0442 \u0431\u044b\u0441\u0442\u044c")})),Mi.builder().setText("\u0433").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(a.colorMain).translate(a.width/2-(T/2+a.delta/2*3/2),a.height).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430")})),Mi.builder().setText("\u0433").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(a.colorMain).translate(a.width/2+(T/2+a.delta/2*3/2),a.height).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430")})),Mi.builder().setText("\u043a").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(a.colorMain).translate(a.width/2-(T/2+a.delta/2*3/2),y+.3*(a.height-y)+a.height/12).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u043a\u043e\u043f\u0438\u0435")})),Mi.builder().setText("\u0442").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(a.colorMain).translate(a.width/2+(T/2+a.delta/2*3/2),y+.3*(a.height-y)+a.height/12).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0442\u0440\u043e\u0441\u0442\u044c")})),Mi.builder().setText("\u0433").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(a.colorMain).translate((a.width-O)/2,a.height+2*a.delta+a.height/12/2).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0433\u043b\u0430\u0432\u0430 \u0410\u0434\u0430\u043c\u0430")})),Mi.builder().setText("\u0430").setFontSize(a.height/12+"px").addClass("cs").setBold().setTextAnchor("middle").setColor(a.colorMain).translate((a.width+O)/2,a.height+2*a.delta+a.height/12/2).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0433\u043b\u0430\u0432\u0430 \u0410\u0434\u0430\u043c\u0430")}))];return[D].forEach(k=>k.forEach(P=>P.addClass("cursor"))),[D]}createKopie(a,h=0,d=0,f=0,p=0,g=0){let m=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),_=g||Math.atan2(1-m,.5),S=(p&&Math.tan(_),[]),w=a.delta/2/4,x=a.height*(1-d)*.8,P=[a.width/2-a.delta/2*5,a.height+a.delta/2],F=(z,ee,te="gold")=>{let B=(z=>({dd:z||[[0,0],[1,1],[1,-1],[0,0]],path:jh().x(B=>B[0]).y(B=>B[1])}))(ee);return((z,ee,te)=>z.rotate(-9,te[0],te[1]))(Es.builder().setDatum(B.dd).setD(B.path).setStrokeColor(te).setStrokeWidth(1).setFillColor(te).translate(z[0],z[1]),0,P)},L=(z,ee,te,B)=>{let j=[];return z.forEach(W=>{let q=[];q.push(W[0]*ee+te),q.push(W[1]*ee+B),j.push(q)}),j},$=a.colorMain,U=[F([0,0],L([[-w,0],[-w,-x],[w,-x],[w,0],[-w,0]],1,P[0],P[1]),$),F([0,0],L([[0,2*w-x],[2*-w,-x-2*w],[0,-x-16*w],[2*+w,-x-2*w],[0,2*w-x]],1,P[0],P[1]),$),F([0,0],L([[3*-w/2,2*w-x],[0,-x-2*w],[3*+w/2,2*w-x],[3*-w/2,2*w-x]],1,P[0],P[1]),$),F([0,0],L([[3*-w/2,6*w-x],[0,2*w-x],[3*+w/2,6*w-x],[3*-w/2,6*w-x]],1,P[0],P[1]),$)];return[S,U].forEach(z=>z.forEach(ee=>ee.addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u043a\u043e\u043f\u0438\u0435")})).addClass("cursor"))),new E1(S,U)}createTrost(a,h=0,d=0,f=0,p=0,g=0){let m=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),_=g||Math.atan2(1-m,.5),w=(p&&Math.tan(_),a.delta/2/4),x=a.height*(1-d)*.8,k=[a.width/2+a.delta/2*5,a.height+a.delta/2],N=(U,z,ee="gold",te=!1)=>{let B=((U,z=!1)=>{let ee=U||[[0,0],[1,1],[1,-1],[0,0]];const te=jh().x(B=>B[0]).y(B=>B[1]);return{dd:ee,path:z?te.curve($w):te}})(z,te);return((U,z,ee)=>U.rotate(9,ee[0],ee[1]))(Es.builder().setDatum(B.dd).setD(B.path).setStrokeColor(ee).setStrokeWidth(1).setFillColor(ee).translate(U[0],U[1]),0,k)},F=(U,z,ee,te)=>{let B=[];return U.forEach(j=>{let W=[];W.push(j[0]*z+ee),W.push(j[1]*z+te),B.push(W)}),B},L=a.colorMain,$=[N([0,0],F([[-w,0],[-w,-x-3*w],[w,-x-3*w],[w,0],[-w,0]],1,k[0],k[1]),L),N([0,0],F([[0,-x-2*w],[5*-w,-x-2*w],[5*-w,-x-16*w],[0,-x-16*w],[5*+w,-x-16*w],[5*+w,-x-2*w],[0,-x-2*w]],1,k[0],k[1]),L,!0),N([0,0],F([[3*-w/2,2*w-x],[0,-x-2*w],[3*+w/2,2*w-x],[3*-w/2,2*w-x]],1,k[0],k[1]),L),N([0,0],F([[3*-w/2,6*w-x],[0,2*w-x],[3*+w/2,6*w-x],[3*-w/2,6*w-x]],1,k[0],k[1]),L)];return $.forEach(U=>U.addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0442\u0440\u043e\u0441\u0442\u044c")})).addClass("cursor")),new E1([],$)}createSkull(a,h=0,d=0,f=0,p=0,g=0){let m=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),_=g||Math.atan2(1-m,.5),S=(p&&Math.tan(_),[]),w=.55*a.width,T=0*a.delta/4/2,D=a.delta/4/2,k=(Re,ot)=>ot*(1.75*a.delta+2*Re),P=(Re,ot)=>ot*(1.75*a.delta+2*Re),N=.5,$=.5,U=(Re,ot)=>$*k(Re,ot)/2/2,z=1.15,B=(Re,ot)=>k(Re,ot)*$/3.8,j=(Re,ot)=>k(Re,ot)*$/2.25,G=1/5.7,K=(Re,ot)=>k(Re,ot)/2,J=(Re,ot)=>k(Re,ot)/2,de=(k(T,1),k(T,1),2*D),ke=(Re,ot,nn,An)=>Re.setX(ot[0]).setY(ot[1]).rotate(nn,An[0],An[1]),Ie=Re=>[a.width/2-k(T,Re)/2+K(T,Re),a.height+a.delta-T+D+de+J(T,Re)],Ze=1.5;S.push(Bs.builder().setX(a.width/2-w/2).setY(a.height-Ze).setWidth(w).setHeight(a.delta+Ze).setFillColor(a.colorMain),Bs.builder().setX(a.width/2-w/2-a.delta/2*3).setY(a.height+a.delta-Ze).setWidth(2.5*a.delta).setHeight(a.delta+Ze).setFillColor(a.colorMain),Bs.builder().setX(a.width/2+w/2-a.delta).setY(a.height+a.delta-Ze).setWidth(2.5*a.delta).setHeight(a.delta+Ze).setFillColor(a.colorMain),Bs.builder().setX(a.width/2-w/2-a.delta/2*3).setY(a.height+2*a.delta-Ze).setWidth(a.delta).setHeight(a.delta+Ze).setFillColor(a.colorMain),Bs.builder().setX(a.width/2+w/2+a.delta/2).setY(a.height+2*a.delta-Ze).setWidth(a.delta).setHeight(a.delta+Ze).setFillColor(a.colorMain)),S.forEach(Re=>Re.addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430")})).addClass("cursor"));let Ve=(Re,ot)=>{S.push(ke(Bs.builder().setRx(.7*k(T,Re)/2*.9).setRy(.7*P(T,Re)/2*.9).setWidth(k(T,Re)).setHeight(.7*P(T,Re)).setFillColor(ot?a.colorBackground:a.colorMain),[a.width/2-k(T,Re)/2,a.height+a.delta+T+D+de],-45,Ie(Re)),ke(Bs.builder().setRx(.4*P(T,Re)/2*.8).setRy(.4*P(T,Re)/2*.8).setWidth($*k(T,Re)).setHeight(.4*P(T,Re)).setFillColor(ot?a.colorBackground:a.colorMain),[a.width/2-$*k(T,Re)/2+U(T,Re),a.height+a.delta+T+D+P(T,Re)*N+de],-45,Ie(Re)),ke(Bs.builder().setRx(j(T,Re)/2).setRy(j(T,Re)/2).setWidth(j(T,Re)*z).setHeight(j(T,Re)).setFillColor(ot?a.colorMain:a.colorBackground),[a.width/2+U(T,Re)-B(T,Re)/2+B(T,Re)/2-j(T,Re)*z/2-k(T,Re)*G*1,a.height+a.delta+T+D+P(T,Re)*N/2+de],-45,Ie(Re)),ke(Bs.builder().setRx(j(T,Re)/2).setRy(j(T,Re)/2).setWidth(j(T,Re)*z).setHeight(j(T,Re)).setFillColor(ot?a.colorMain:a.colorBackground),[a.width/2+U(T,Re)-B(T,Re)/2+B(T,Re)/2-j(T,Re)*z/2+k(T,Re)*G,a.height+a.delta+T+D+P(T,Re)*N/2+de],-45,Ie(Re)))};"white"==a.colorBackground&&Ve(1.15,!1),Ve(1,"white"==a.colorBackground);let pt=[],rt=(Re,ot)=>{pt.push(((Re,ot,nn="gold",An=1)=>{let ri=(Re=>({dd:Re||[[0,0],[1,1],[1,-1],[0,0]],path:jh().x(An=>An[0]).y(An=>An[1]).curve($w)}))(ot);return((Re,ot,nn)=>Re.rotate(-45,nn[0],nn[1]))(Es.builder().setDatum(ri.dd).setD(ri.path).setStrokeColor(nn).setStrokeWidth(1).setFillColor(nn).translate(Re[0],Re[1]),0,Ie(An))})([0,0],((Re,ot,nn,An)=>{let ri=[];return[[.5,0],[1,1],[0,1],[.5,0]].forEach(Oe=>{let ge=[];ge.push(Oe[0]*ot+nn),ge.push(Oe[1]*ot+An),ri.push(ge)}),ri})(0,1.35*B(T,Re),a.width/2+U(T,Re)-B(T,Re)/2,a.height+a.delta+T+D+P(T,Re)*N+de),ot?a.colorMain:a.colorBackground,Re))};return"white"==a.colorBackground&&rt(1.15,!1),rt(1,"white"==a.colorBackground),[S,pt].forEach(Re=>Re.forEach(ot=>{0==ot.events.length&&ot.addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0433\u043b\u0430\u0432\u0430 \u0410\u0434\u0430\u043c\u0430")})).addClass("cursor")})),new E1(S,pt)}createCross(a,h=!0,d=0,f=0,p=0,g=0,m=0,v=0,_=0,y=0,b=0){let O=d,C=f,S=p||a.width,w=g||a.height,x=a.delta/a.width*S,T=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),D=S*(m||T),k=b||Math.atan2(1-T,.5),P=D*(v||1-T),N=D*(_||1-T),F=D*(_||.25),L=y?w*y+F*Math.tan(k):w-D/2,$=h?[Bs.builder().setX(O).setY(C).setWidth(S).setHeight(w).setFillColor(a.colorBackground).setLocked(!0)]:[];return $.push(Bs.builder().setX(O+S/2-x/2).setY(C).setWidth(x).setHeight(w).setFillColor(a.colorMain).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u043a\u0440\u0435\u0441\u0442")})),Bs.builder().setX(O+(S-D)/2).setY(C+P-x/2).setWidth(D).setHeight(x).setFillColor(a.colorMain).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u043a\u0440\u0435\u0441\u0442")})),Bs.builder().setX(0).setY(0).setWidth(N).setHeight(x).setFillColor(a.colorMain).translate(O+(S-N)/2,C+(v?(D*(v||1-T)-x/2)/2:D*Math.pow(1-T,2))-x/2).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u0418\u0438\u0441\u0443\u0441 \u041d\u0430\u0437\u043e\u0440\u0435\u0439 \u0426\u0430\u0440\u044c \u0418\u0443\u0434\u0435\u0439\u0441\u043a\u0438\u0439")})),Bs.builder().setX(0).setY(0).setWidth(F).setHeight(x/Math.cos(k)).setFillColor(a.colorMain).translate(O+(S-F)/2,C+L-F/Math.cos(k)/2).skewY(this.toDegrees(k)).addEvent(sr.builder().setName("click").setFunc(()=>{a.onItemSelected&&a.onItemSelected("\u043a\u0440\u0435\u0441\u0442")}))),$}createData(a,h=0,d=0,f=0,p=0,g=0){let m=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),_=g||Math.atan2(1-m,.5),S=(p&&Math.tan(_),this.createCross(a,!0,0,0,0,0,h,d,f,p,g));[S].forEach(D=>D.forEach((k,P)=>{P&&k.addClass("cursor")}));let w=a.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b?new E1([],[]):this.createSkull(a,h,d,f,p,g);S.push(...w.first);let x=w.second;w=a.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b?w:this.createKopie(a,h,d,f,p,g),S.push(...w.first),x.push(...w.second),w=a.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b?w:this.createTrost(a,h,d,f,p,g),S.push(...w.first),x.push(...w.second);let T=a.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b?[[],[]]:this.createCrossText(a,h,d,f,p,g);return new E1(S,x,T[0])}createSizeHorizontalArrows(a,h,d,f,p,g=!0,m=!0,v="",_=""){let y=h.y<d.y?h:d,b=h.y<d.y?d:h,O=a.lineSizeExtra*(y.x<f.x?1:-1),C=[],S=[Pi.builder().setX1(y.x).setY1(y.y).setX2(f.x+O).setY2(y.y).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth),Pi.builder().setX1(b.x).setY1(b.y).setX2(f.x+O).setY2(b.y).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth)];if(y.y<=f.y&&f.y<=b.y){if(S.push(Pi.builder().setX1(f.x).setY1(y.y).setX2(f.x).setY2(b.y).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth).setStartArrow(g?"arrowN":"arrow").setEndArrow(g?"arrowN":"arrow")),v){let w=Math.abs(O),x=w/2*v.length/2;C.push(Mi.builder().setText(v).setFontSize(`${w}px`).translate(f.x-Math.abs(O)/2,(y.y+b.y)/2+x).rotate(-90).setColor("white"))}}else{let w=f.y<y.y?y.y-f.y:f.y-b.y;if(S.push(Pi.builder().setX1(f.x).setY1(y.y-w).setX2(f.x).setY2(y.y).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth).setEndArrow(g?"arrowN":"arrow"),Pi.builder().setX1(f.x).setY1(b.y+w).setX2(f.x).setY2(b.y).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth).setEndArrow(g?"arrowN":"arrow")),v){let x=Math.abs(O),T=-x/2*3;C.push(Mi.builder().setText(v).setFontSize(`${x}px`).translate(f.x-Math.abs(O)/2,y.y+T).rotate(-90).setColor("white"))}if(_){let x=Math.abs(O),T=x/2*(_.length+3);C.push(Mi.builder().setText(_).setFontSize(`${x}px`).translate(f.x-Math.abs(O)/2,b.y+T).rotate(-90).setColor("white"))}m&&(p?S.push(Pi.builder().setX1(f.x).setY1(y.y).setX2(f.x).setY2(p.y).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth).setEndArrow(g?"pointN":"pointH"),Pi.builder().setX1(f.x).setY1(b.y).setX2(f.x).setY2(p.y).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth).setEndArrow(g?"pointN":"pointH"),Pi.builder().setX1(p.x).setY1(p.y).setX2(f.x+O).setY2(p.y).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth)):S.push(Pi.builder().setX1(f.x).setY1(y.y).setX2(f.x).setY2(b.y).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth)))}return[S,C]}createSizeVirtualArrows(a,h,d,f,p,g=!0,m=!0,v="",_=""){let y=h.x<d.x?h:d,b=h.x<d.x?d:h,O=a.lineSizeExtra*(y.y<f.y?1:-1),C=[],S=[Pi.builder().setX1(y.x).setY1(y.y).setX2(y.x).setY2(f.y+O).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth),Pi.builder().setX1(b.x).setY1(b.y).setX2(b.x).setY2(f.y+O).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth)];if(y.x<=f.x&&f.x<=b.x){if(S.push(Pi.builder().setX1(y.x).setY1(f.y).setX2(b.x).setY2(f.y).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth).setStartArrow(g?"arrowN":"arrow").setEndArrow(g?"arrowN":"arrow")),v){let w=Math.abs(O),x=w/2*v.length/2;C.push(Mi.builder().setText(v).setFontSize(`${w}px`).translate((y.x+b.x)/2-x,f.y-Math.abs(O)/2).rotate(0).setColor("white"))}}else{let w=f.x<y.x?y.x-f.x:f.x-b.x;if(S.push(Pi.builder().setX1(y.x-w).setY1(f.y).setX2(y.x).setY2(f.y).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth).setEndArrow(g?"arrowN":"arrow"),Pi.builder().setX1(b.x+w).setY1(f.y).setX2(b.x).setY2(f.y).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth).setEndArrow(g?"arrowN":"arrow")),m)if(p){if(S.push(Pi.builder().setX1(y.x).setY1(f.y).setX2(p.x).setY2(f.y).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth).setEndArrow(g?"pointN":"pointH"),Pi.builder().setX1(b.x).setY1(f.y).setX2(p.x).setY2(f.y).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth).setEndArrow(g?"pointN":"pointH"),Pi.builder().setX1(p.x).setY1(p.y).setX2(p.x).setY2(f.y+O).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth)),v){let x=Math.abs(O),T=-x/2*(_.length+3);C.push(Mi.builder().setText(v).setFontSize(`${x}px`).translate(y.x+T,f.y-Math.abs(O)/2).rotate(0).setColor("white"))}if(_){let x=Math.abs(O),T=x/2*3;C.push(Mi.builder().setText(_).setFontSize(`${x}px`).translate(b.x+T,f.y-Math.abs(O)/2).rotate(0).setColor("white"))}}else S.push(Pi.builder().setX1(y.x).setY1(f.y).setX2(b.x).setY2(f.y).setColor(g?a.colorLines:a.colorLinesHighlighted).setWidth(a.lineWidth))}return[S,C]}get createLinesPlateDataPtr(){return a=>this.createLinesPlateData(a)}createLinesPlateData(a){let h=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),d=a.width*h,f=(a.width-d)/2,g=(Math.atan2(1-h,.5),a.lineWidth),m=[],y=a.height/13,b=d/8;for(let O=0;O<=13;O++)m.push(Pi.builder().setX1(f).setY1(y*O).setX2(a.width-f).setY2(y*O).setColor(a.colorLinesSecondary).setWidth(g));for(let O=0;O<=8;O++)m.push(Pi.builder().setX1(f+b*O).setY1(0).setX2(f+b*O).setY2(a.height).setColor(a.colorLinesSecondary).setWidth(g));return m.push(Pi.builder().setX1(a.width/2).setY1(0).setX2(f).setY2(3*y).setColor(a.colorLinesSecondary).setWidth(g)),m.push(Pi.builder().setX1(a.width/2).setY1(0).setX2(a.width-f).setY2(3*y).setColor(a.colorLinesSecondary).setWidth(g)),new E1(m)}get createLinesDataPtr(){return a=>this.createLinesData(a)}createLinesData(a){let h=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),d=a.width*h,f=(a.width-d)/2,p=Math.atan2(1-h,.5),g=a.lineWidth,m=[],v=[Pi.builder().setX1(f).setY1(0).setX2(a.width-f).setY2(0).setColor(a.colorLinesHighlighted).setWidth(g),Pi.builder().setX1(f).setY1(a.height).setX2(a.width-f).setY2(a.height).setColor(a.colorLinesHighlighted).setWidth(g),Pi.builder().setX1(f).setY1(0).setX2(f).setY2(a.height).setColor(a.colorLinesHighlighted).setWidth(g),Pi.builder().setX1(a.width/2).setY1(0).setX2(a.width/2).setY2(a.height).setColor(a.colorLinesHighlighted).setWidth(g),Pi.builder().setX1(a.width-f).setY1(0).setX2(a.width-f).setY2(a.height).setColor(a.colorLinesHighlighted).setWidth(g),Pi.builder().setX1(f).setY1(d*(1-h)).setX2(a.width-f).setY2(d*(1-h)).setColor(a.colorLinesHighlighted).setWidth(g),Pi.builder().setX1((a.width-d*(1-h))/2).setY1(d*Math.pow(1-h,2)).setX2((a.width-d*(1-h))/2+d*(1-h)).setY2(d*Math.pow(1-h,2)).setColor(a.colorLinesHighlighted).setWidth(g),Pi.builder().setX1(f).setY1(a.height-.5*d).setX2(a.width-f).setY2(a.height-.5*d).setColor(a.colorLinesHighlighted).setWidth(g),Pi.builder().setX1(f).setY1(a.height-d*(1-h+.5)).setX2(a.width-f).setY2(a.height-d*(.5-(1-h))).setColor(a.colorLinesHighlighted).setWidth(g),Pi.builder().setX1(f).setY1(a.height-d*(1-h+.5)).setX2(a.width-f).setY2(a.height-d*(1-h+.5)).setColor(a.colorLinesHighlighted).setWidth(g),Pi.builder().setX1(f).setY1(a.height-d*(.5-(1-h))).setX2(a.width-f).setY2(a.height-d*(.5-(1-h))).setColor(a.colorLinesHighlighted).setWidth(g)],_=O=>{v.push(...O[0]),m.push(...O[1])},y=Math.min(a.width,a.height)/10;return _(this.createSizeVirtualArrows(a,new rr(f,a.height),new rr(a.width-f,a.height),new rr(a.width/2,a.height+3*y),null,!0,!0,"1.0")),_(this.createSizeVirtualArrows(a,new rr(f,a.height),new rr(a.width/2,a.height),new rr(a.width/2,a.height+2*y),null,!0,!0,"0.5")),_(this.createSizeVirtualArrows(a,new rr(a.width/2,a.height),new rr(a.width-f,a.height),new rr(a.width/2,a.height+2*y),null,!0,!0,"0.5")),_(this.createSizeVirtualArrows(a,new rr(a.width/2-.125*d,a.height-.5*d-.25*d/Math.cos(p)/2+a.delta/Math.cos(p)),new rr(a.width/2+.125*d,a.height-.5*d+.25*d/Math.cos(p)/2),new rr(1.2*f,a.height+1*y),new rr(a.width/2,a.height+1*y),!0,!0,"0.125","0.125")),_(this.createSizeVirtualArrows(a,new rr((a.width-d*(1-h))/2,d*Math.pow(1-h,2)-a.delta/2),new rr((a.width+d*(1-h))/2,d*Math.pow(1-h,2)-a.delta/2),new rr(a.width/2,0-2*y),null,!0,!0,"0.382")),_(this.createSizeVirtualArrows(a,new rr((a.width-d*(1-h))/2,d*Math.pow(1-h,2)-a.delta/2),new rr((a.width+d*(1-h))/2,d*Math.pow(1-h,2)-a.delta/2),new rr(1.2*f,0-1*y),new rr(a.width/2,0),!0,!0,"0.192","0.192")),_(this.createSizeHorizontalArrows(a,new rr(f,0),new rr(f,a.height),new rr(f-2*y,a.height/2),null,!0,!0,"1.618")),_(this.createSizeHorizontalArrows(a,new rr(f,0),new rr(f,d*(1-h)),new rr(f-1*y,d*(1-h)/2),null,!0,!0,"0.146")),_(this.createSizeHorizontalArrows(a,new rr(f,a.height),new rr(f,a.height-.5*d),new rr(f-1*y,a.height-.5*d/2),null,!0,!0,"0.5")),_(this.createSizeHorizontalArrows(a,new rr(f,a.height-.5*d),new rr(f,a.height-d*(1-h+.5)),new rr(f-1*y,a.height-d*(.5+(1-h)/2)),null,!0,!0,"0.382")),_(this.createSizeHorizontalArrows(a,new rr(a.width-f,0),new rr(a.width-f,d*(1-h)),new rr(a.width-f+1*y,-f),new rr((a.width-d*(1-h))/2+d*(1-h),d*Math.pow(1-h,2)),!0,!0,"0.146","0.236")),_(this.createSizeHorizontalArrows(a,new rr(a.width-f,a.height),new rr(a.width-f,a.height-.5*d),new rr(a.width-f+1*y,a.height+f),new rr(a.width-f,a.height-d*(.5-(1-h))),!0,!0,"0.382","0.118")),new E1(v,m)}toDegrees(a){return a/Math.PI*180}transformToString(a){return a.map((h,d)=>{let f=`${h.name}(`;return"translate"==h.name||"scale"==h.name?f+=`${h.x},${h.y}`:"rotate"==h.name?(f+=h.angle,(h.x||h.y)&&(f+=`,${h.x},${h.y}`)):("skewY"==h.name||"skewX"==h.name)&&(f+=h.angle),f+=")",f}).join(" ")}render(a,h){let d=h.rects,f=h.lines,p=h.linesPlate,g=h.texts,m=h.circles,v=h.ellipses,_=h.pathes,y=Math.min(h.width,h.height)/20*h.scale,b=y,O=y/2,C=0*b,S=O/2,T=[[0,0],[0,O],[b,O/2]];if(h.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439){a.append("defs").append("marker").attr("id","arrow").attr("viewBox",[0,0,b,O]).attr("refX",C).attr("refY",S).attr("markerWidth",b).attr("markerHeight",O).attr("orient","auto-start-reverse").append("path").attr("d",jh()(T)).attr("fill",h.colorLinesHighlighted),a.select("defs").append("marker").attr("id","arrowN").attr("viewBox",[0,0,b,O]).attr("refX",C).attr("refY",S).attr("markerWidth",b).attr("markerHeight",O).attr("orient","auto-start-reverse").append("path").attr("d",jh()(T)).attr("fill",h.colorLines);let k=y,P=y,F=($,U,z)=>"M "+$+" "+U+" m -"+z+", 0 a "+z+","+z+" 0 1,0 "+2*z+",0 a "+z+","+z+" 0 1,0 -"+2*z+",0";a.select("defs").append("marker").attr("id","pointH").attr("viewBox",[0,0,k,P]).attr("refX",k/2).attr("refY",P/2).attr("markerWidth",y).attr("markerHeight",y).attr("orient","auto-start-reverse").append("path").attr("d",F(y/2,y/2,y/4)).attr("fill",h.colorLinesHighlighted),a.select("defs").append("marker").attr("id","pointN").attr("viewBox",[0,0,k,P]).attr("refX",k/2).attr("refY",P/2).attr("markerWidth",y).attr("markerHeight",y).attr("orient","auto-start-reverse").append("path").attr("d",F(y/2,y/2,y/4)).attr("fill",h.colorLines)}h.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u041a\u0440\u0435\u0441\u0442&&d.forEach(k=>{var P=a.append("rect").attr("x",k.x).attr("y",k.y).attr("rx",k.rx).attr("ry",k.ry).attr("transform",this.transformToString(k.transform||[])).attr("width",k.width).attr("height",k.height).style("fill",k.fillColor||"black").attr("fill-opacity",k.fillOpacity||1).style("stroke",k.strokeColor||"black").style("stroke-width",k.strokeWidth).attr("stroke-opacity",k.strokeOpacity||1).attr("class",k.classes.join(" ")).style("visibility",k.visible?"visible":"hidden");k.events.forEach(N=>{P.on(N.name,N.func)}),k.d3Object=P});let D=[];if(h.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b&&D.push(...f),h.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0421\u0435\u0442\u043a\u0443&&D.push(...p),D){let k=F=>y/h.scale*Math.cos(Math.atan2(F.y2-F.y1,F.x2-F.x1)),P=F=>y/h.scale*Math.sin(Math.atan2(F.y2-F.y1,F.x2-F.x1)),N=F=>F&&F.startsWith("arrow");D.forEach(F=>{let L=a.append("line"),$=(U,z)=>U.style("stroke",z.color).style("stroke-width",z.width).attr("x1",z.x1+(N(z.startArrow)?k(z):0)).attr("y1",z.y1+(N(z.startArrow)?P(z):0)).attr("x2",z.x2-(N(z.endArrow)?k(z):0)).attr("y2",z.y2-(N(z.endArrow)?P(z):0)).attr("transform",this.transformToString(z.transform||[])).attr("marker-start",z.startArrow?"url(#"+z.startArrow+")":"").attr("marker-end",z.endArrow?"url(#"+z.endArrow+")":"").attr("class",z.classes.join(" ")).style("visibility",z.visible?"visible":"hidden");L=$(L,F),F.transitions&&F.transitions.forEach(U=>{L=$(L.transition().delay(U.delay).duration(U.duration),U.data)})})}m.forEach(k=>{let P=a.append("circle");P=k.applyToD3Object(P),P=k.applyEventsToD3Object(P)}),a.selectAll("ellipse").data(v).enter().append("ellipse").attr("cx",0).attr("cy",0).attr("rx",k=>k.rx).attr("ry",k=>k.ry).attr("fill",k=>k.fillColor).attr("fill-opacity",k=>k.fillOpacity).attr("stroke",k=>k.strokeColor).attr("stroke-width",k=>k.strokeWidth).attr("transform",k=>this.transformToString(k&&k.transform||[])).attr("class",k=>k.classes.join(" ")).style("visibility",k=>k.visible?"visible":"hidden"),_.forEach(k=>{if(k.renderHandler)k.renderHandler(a,k);else{let P=a.append("path").datum(k.datum);P=k.applyToD3Object(P),P=k.applyEventsToD3Object(P)}}),g.forEach(k=>{let P=a.append("text").text(k.text);P=k.applyToD3Object(P),P=k.applyEventsToD3Object(P)})}textSizeDirect(a,h,d){if(Ke){var f=Io("body").append("svg");f.append("text").attr("x",-99999).attr("y",-99999).attr("font-size",h).attr("font-weight",d).text(a);var g=f.node().getBBox();return f.remove(),{width:g.width,height:g.height}}}textSize(a,h){if(Ke){var d=Io("body").append("svg");a.append("text").text(h.text).attr("x",-99999).attr("y",-99999).attr("font-size",h.fontSize).attr("font-weight",h.fontWeight).attr("text-anchor",h.textAnchor).style("fill",h.color).attr("class",h.classes.join(" ")).style("visibility",h.visible?"visible":"hidden");var p=d.node().getBBox();return d.remove(),{width:p.width,height:p.height}}}static \u0275fac=function(h){return new(h||c)};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class A1{logoWidth;logoHeight;d3Svc;mySvgRef;generator;delayedRun;d3Config;delta=1;g;svg=null;constructor(l,a,h,d,f=null,p=null,g=null){this.logoWidth=l,this.logoHeight=a,this.d3Svc=h,this.mySvgRef=d,this.generator=f,this.delayedRun=p,this.d3Config=g,this.delta=Math.min(l,a)/10,null==this.d3Config&&this.regenerateConfig()}regenerateConfig(){return this.d3Config=new P1(!0,!0,!1,!0,.5,this.logoWidth,this.logoHeight,Math.min(this.logoWidth,this.logoHeight)/15,2,Math.min(this.logoWidth,this.logoHeight)/20,"black","gold","firebrick","red","white","green","cyan",this),this}getGenerator(){return this.generator}setGenerator(l){return this.generator&&this.clear().regenerateConfig(),this.generator=l,this}createD3Config(l){this.generator?this.generator.generate(this.d3Svc,this.d3Config,l)&&l():(this.d3Svc.createDataScale(this.d3Config,this.d3Svc.createDataPtr,(a,h)=>a.rects=h.first),this.d3Svc.createDataScale(this.d3Config,this.d3Svc.createLinesDataPtr,(a,h)=>{a.lines=h.first,h.second&&a.texts.push(...h.second)}),this.d3Svc.createDataScale(this.d3Config,this.d3Svc.createLinesPlateDataPtr,(a,h)=>a.linesPlate=h.first),l())}clear(){return this.removeExistingSvgFromParent(),this.generator.clear(),this}clearDelayed(){this.delayedRun(()=>this.clear(),0)}clearAll(){this.g.selectAll("*").remove()}updateSvg(l=(()=>{})){return this.svg||this.createSvgImage(l),this}createSvgImage(l){this.createD3Config(()=>{this.afterCreateSvgImage(l)})}afterCreateSvgImage(l){this.applySizeAfterGeneration(),this.removeExistingSvgFromParent(),this.setSvgDimensions(),this.addGraphicsElement(),this.createAreaSvg(),l&&l()}applySizeAfterGeneration(){this.generator&&(this.logoWidth=this.generator.getWidth(),this.logoHeight=this.generator.getHeight())}removeExistingSvgFromParent(){Io(this.mySvgRef.nativeElement).select("svg").remove(),this.svg=null,this.g=null}addGraphicsElement(){this.g=this.svg.append("g").attr("transform","translate(0,0)")}createAreaSvg(){this.d3Svc.render(this.g,this.d3Config)}setSvgDimensions(){let l=this.generator.getHeight(),a=this.generator.getWidth();this.svg=Io(this.mySvgRef.nativeElement).append("svg").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 "+a+" "+l)}}class al{name;width;height;constructor(l='\u041a\u0440\u0435\u0441\u0442 \u043f\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u0443 "\u0437\u043e\u043b\u043e\u0442\u043e\u0433\u043e \u0441\u0435\u0447\u0435\u043d\u0438\u044f".',a=512,h=512){this.name=l,this.width=a,this.height=h}clear(){return this}regenerate(){return this}getWidth(){return this.width}getHeight(){return this.height}generate(l,a,h){return l.createDataScale(a,l.createDataPtr,(d,f)=>d.rects=f.first),l.createDataScale(a,l.createLinesDataPtr,(d,f)=>{d.lines=f.first,d.texts.push(...f.second)}),l.createDataScale(a,l.createLinesPlateDataPtr,(d,f)=>d.linesPlate=f.first),a.texts.push(Mi.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(a.width/2,50).rotate(0).setColor("gold")),!0}}class pde extends al{constructor(l="\u041f\u0440\u0438\u043c\u0435\u0440 \u0442\u0435\u043a\u0441\u0442\u0430.",a=512,h=512){super(l,a,h)}generate(l,a,h){a.rects.push(l.createBackground(a)),a.texts.push(Mi.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(a.width/2,50).rotate(0).setColor("firebrick"));for(let f=0;f<10;f++)a.texts.push(Mi.builder().setText("\u041f\u0440\u0438\u043c\u0435\u0440 \u0442\u0435\u043a\u0441\u0442\u0430: "+f).setFontSize("20px").translate(a.width/2,a.height/2).rotate(36*f).setColor("white"));return!0}}class gde extends al{constructor(l="\u041f\u0440\u0438\u043c\u0435\u0440 \u043e\u043a\u0440\u0443\u0436\u043d\u043e\u0441\u0442\u0435\u0439.",a=512,h=512){super(l,a,h)}generate(l,a,h){a.rects.push(l.createBackground(a)),a.texts.push(Mi.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(a.width/2,50).rotate(0).setColor("firebrick")),a.circles.push(Jg.builder().setR(100).translate(a.width/2,a.height/2).rotate(0).setFillColor("gold"));for(let p=0;p<12;p++)a.circles.push(Jg.builder().setR(10).translate(a.width/2,a.height/2).rotate(30*p).setFillColor("gold").translate(130,0));return!0}}class mde extends al{constructor(l="\u041f\u0440\u0438\u043c\u0435\u0440 \u044d\u043b\u043b\u0438\u043f\u0441\u043e\u0432.",a=512,h=512){super(l,a,h)}generate(l,a,h){a.rects.push(l.createBackground(a)),a.texts.push(Mi.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(a.width/2,50).rotate(0).setColor("firebrick"));for(let f=0;f<3;f++)a.ellipses.push(d9.builder().setRx(50).setRy(100).translate(a.width/2,a.height/2).rotate(60*f).setFillColor("gold").setFillOpacity(.5));return!0}}class vde extends al{constructor(l="\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a\u043e\u0432.",a=512,h=512){super(l,a,h)}generate(l,a,h){a.rects.push(l.createBackground(a)),a.texts.push(Mi.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(a.width/2,50).rotate(0).setColor("firebrick"));for(let f=0;f<5;f++)a.rects.push(Bs.builder().setX(100*f).setY(0).setWidth(100).setHeight(100).setRx(5*f).setRy(5*f).translate(6,a.height/3).rotate(0).setFillColor("gold").setStrokeColor("firebrick").setStrokeWidth(2));return a.rects.push(Bs.builder().setX(0).setY(0).setWidth(200).setHeight(200).translate(a.width/2-100,a.height/3*1.5).rotate(0).setFillColor("gold").setStrokeColor("firebrick").setStrokeWidth(2).addClass("rxanimated")),!0}}class _de extends al{constructor(l="\u041f\u0440\u0438\u043c\u0435\u0440 \u0433\u0440\u0430\u0444\u0438\u043a\u043e\u0432.",a=512,h=512){super(l,a,h)}generate(l,a,h){a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439=!1,a.rects.push(l.createBackground(a)),a.texts.push(Mi.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(a.width/2,50).rotate(0).setColor("firebrick"));let f=()=>{const v=Gu(0,10).map(O=>[.5*O*Math.PI,Math.sin(.5*O*Math.PI)]),_=ob().range([0,a.width/2]).domain(X0(v,O=>O[0])),y=ob().range([a.height/2-20,0]).domain([-1,1]);return{sine:v,line:jh().x(O=>_(O[0])).y(O=>y(O[1])),x:_,y}},p=[10,a.height/4];{let v=f();a.pathes.push(Es.builder().setDatum(v.sine).setD(v.line).setStrokeColor("steelblue").setStrokeWidth(2).setFillColor("none").translate(p[0],p[1]))}{let v=f();a.pathes.push(Es.builder().setDatum(v.sine).setD(v.line.curve(a9)).setStrokeColor("green").setStrokeWidth(2).setFillColor("none").translate(p[0],p[1]))}{let v=f();a.pathes.push(Es.builder().setDatum(v.sine).setD(v.line.curve($w)).setStrokeColor("red").setStrokeWidth(2).setFillColor("none").translate(p[0],p[1]))}{let v=f();a.pathes.push(Es.builder().setDatum(v.sine).setD(v.line.curve(qV)).setStrokeColor("cyan").setStrokeWidth(2).setFillColor("none").translate(p[0],p[1]))}{let v=f();a.pathes.push(Es.builder().setDatum(v.sine).setD(v.line.curve(o9)).setStrokeColor("gold").setStrokeWidth(2).setFillColor("none").translate(p[0],p[1]))}let g=()=>{const v=Gu(0,10).map(O=>[.5*O*Math.PI,Math.sin(.5*O*Math.PI)]),_=ob().range([a.width/2+10,a.width-20]).domain(X0(v,O=>O[0])),y=ob().range([a.height/2-20,0]).domain([-1,1]);return{sine:v,area:XV().x(O=>_(O[0])).y0(a.height/4-10).y1(O=>y(O[1]))}};{let v=g();a.pathes.push(Es.builder().setDatum(v.sine).setD(v.area.curve(a9)).setStrokeColor("green").setStrokeWidth(2).setFillColor("green").setFillOpacity(.5).translate(p[0],p[1]))}{let v=g();a.pathes.push(Es.builder().setDatum(v.sine).setD(v.area.curve(o9)).setStrokeColor("gold").setStrokeWidth(2).setFillColor("gold").setFillOpacity(.5).translate(p[0],p[1]))}{let v=g();a.pathes.push(Es.builder().setDatum(v.sine).setD(v.area.curve($w)).setStrokeColor("steelblue").setStrokeWidth(2).setFillColor("steelblue").setFillOpacity(.5).translate(p[0],p[1]))}{let v=ZV();a.pathes.push(Es.builder().setD(v({outerRadius:100,innerRadius:50,startAngle:.25*-Math.PI,endAngle:.25*Math.PI})).setStrokeColor("green").setStrokeWidth(2).setFillColor("green").setFillOpacity(.5).translate(100,a.height))}a.pathes.push(Es.builder().setRenderHandler((v,_)=>{v.append("path").attr("d",k7()({source:{radius:50,startAngle:.3*-Math.PI,endAngle:.2*-Math.PI},target:{radius:50,startAngle:.3*Math.PI,endAngle:.3*Math.PI}})).attr("stroke",_.strokeColor).attr("stroke-width",_.strokeWidth).attr("fill",_.fillColor).attr("transform",(y,b)=>l.transformToString(_.transform||[]))}).setStrokeColor("steelblue").setStrokeWidth(2).setFillColor("steelblue").setFillOpacity(.5).translate(a.width/2,a.height-50));{const v=wse(Gu(0,12),Ose(Gu(0,12))),_=["linen","lightsteelblue","lightcyan","lavender","honeydew","gainsboro"],y=100;a.pathes.push(Es.builder().setRenderHandler((b,O)=>{v.forEach((C,S)=>{let w=C[0],x=C[1];b.append("path").attr("d",k7()({source:{radius:y,startAngle:-2*Math.PI*(1/v.length)*w,endAngle:-2*Math.PI*(1/v.length)*(w-1)%v.length},target:{radius:y,startAngle:-2*Math.PI*(1/v.length)*x,endAngle:-2*Math.PI*(1/v.length)*(x-1)%v.length}})).attr("stroke",_[(S+1)%_.length]).attr("stroke-width",O.strokeWidth).attr("fill",_[(S+0)%_.length]).attr("transform",(T,D)=>l.transformToString(O.transform||[]))})}).setStrokeColor("steelblue").setStrokeWidth(2).setFillColor("steelblue").setFillOpacity(.5).translate(a.width/4*3+50,a.height-y))}return!0}}class yde extends al{constructor(l="\u041f\u0440\u0438\u043c\u0435\u0440 \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u0439.",a=512,h=512){super(l,a,h)}generate(l,a,h){return a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439=!1,a.rects.push(l.createBackground(a)),a.texts.push(Mi.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(a.width/2,50).rotate(0).setColor("firebrick")),["easeLinear","easeQuadIn","easeQuadInOut","easeQuadOut","easeCubicIn","easeSinIn","easeCircleIn","easeBounceIn","easeCubicIn","easeCubicOut","easeCubicInOut"].forEach((d,f)=>{let p=100+30*f;a.pathes.push(Es.builder().setRenderHandler((m,v)=>{let _=Jg.builder().setR(10).translate(a.width/2,p),y=m.append("circle").attr("cx",0).attr("cy",0).attr("r",_.r).attr("fill",_.fillColor).attr("fill-opacity",_.fillOpacity).attr("stroke",_.strokeColor).attr("stroke-width",_.strokeWidth).attr("transform",l.transformToString(_&&_.transform||[])),b=m.append("text").attr("x",0).attr("y",p).text(d).attr("font-size",20).attr("text-anchor","start").attr("stroke","yellow").style("fill","red"),C=a.width/2-10,S=(T,D)=>{T.transition().duration(3e3).ease(Ke[d]).attr("x",C).attr("cx",C).attr("stroke","gold").attr("fill","red").transition().duration(3e3).ease(Ke[d]).attr("x",0).attr("cx",0).attr("stroke","red").attr("fill","blue").on("end",D)},w=null;w=()=>S(y,w);let x=null;x=()=>S(b,x),w(),x()}))}),!0}}class bde extends al{constructor(l="\u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 UI.",a=512,h=512){super(l,a,h)}generate(l,a,h){a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439=!1,a.rects.push(l.createBackground(a)),a.texts.push(Mi.builder().setText("UI interaction demo.").setTextAnchor("middle").setFontSize("20px").translate(a.width/2,50).rotate(0).setColor("firebrick"));let d=100;return[{easeFunc:"easeCubicOut",r:10},{easeFunc:"easeCubic",r:10},{easeFunc:"drag circle: ",r:50,drag:!0}].forEach((f,p)=>{let g=d+f.r+10,m=f.r;a.pathes.push(Es.builder().setRenderHandler((v,_)=>{let y=Jg.builder().setR(m).translate(a.width/2,g),b=0,O=v.append("circle").attr("cx",b).attr("cy",0).attr("r",y.r).attr("fill",y.fillColor).attr("fill-opacity",y.fillOpacity).attr("stroke",y.strokeColor).attr("stroke-width",y.strokeWidth).attr("transform",l.transformToString(y&&y.transform||[])),C=v.append("text").attr("x",0).attr("y",g).text(f.easeFunc).attr("font-size",20).attr("text-anchor","start").attr("stroke","yellow").style("fill","red"),w=a.width/2-m,x=(P,N)=>{P.transition().duration(3e3).ease(Ke[f.easeFunc]).attr("x",w).attr("cx",w).attr("stroke","gold").attr("fill","red").transition().duration(3e3).ease(Ke[f.easeFunc]).attr("x",0).attr("cx",0).attr("stroke","red").attr("fill","blue")},T=null;T=()=>x(O);let D=null;D=()=>x(C);let k=()=>{T(),D()};if(f.drag){let P=bae().on("drag",N=>{const F=Math.round(1e3*N.dx)/1e3;C.text("drag: dx: "+F);let L=b+F;L<0?L=0:L>a.width/2&&(L=a.width/2),b=L,O.attr("cx",b)});O.call(P)}else O.on("click",k),C.on("click",k)})),d+=2*f.r+20}),!0}}var cu=function(c){return c[c.Default=0]="Default",c[c.Dark=1]="Dark",c[c.Light=2]="Light",c[c.Dark2=3]="Dark2",c[c.Light2=4]="Light2",c}(cu||{});class vb{theme;name;width;height;constructor(l=cu.Default,a="\u041a\u0440\u0435\u0441\u0442.",h=512,d=512){this.theme=l,this.name=a,this.width=h,this.height=d}clear(){return this}regenerate(){return this}getWidth(){return this.width}getHeight(){return this.height}updateThemeConfig(l){switch(this.theme){case cu.Dark:l.colorBackground="#0d233a",l.colorMain="white";break;case cu.Light:l.colorBackground="#00364D",l.colorMain="white";break;case cu.Dark2:l.colorBackground="white",l.colorMain="#0d233a";break;case cu.Light2:l.colorBackground="white",l.colorMain="#00364D"}}generate(l,a,h){a.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b=!1,this.updateThemeConfig(a),l.createDataScale(a,l.createGolgofaDataPtr,(f,p)=>{f.rects=p.first,p.isSecond()&&(f.pathes=p.second),p.isThird()&&(f.texts=p.third)});var d=Mi.builder().setText(this.name).setTextAnchor("middle").setFontSize("20px").translate(a.width/2,50).rotate(0).setColor("none");return a.texts.push(d),a.onItemSelected=f=>{d.d3Object&&d.d3Object.interrupt().transition(100).attr("fill-opacity",0).style("fill",a.colorMain).transition().duration(2e3).attr("fill-opacity",1).text(f).transition().delay(1e3).transition().duration(1e3).attr("fill-opacity",0)},!0}}var Fa=function(c){return c[c.Default=0]="Default",c[c.Dark=1]="Dark",c[c.Light=2]="Light",c[c.Dark2=3]="Dark2",c[c.Light2=4]="Light2",c}(Fa||{});class Ba{name;tag;constructor(l,a){this.name=l,this.tag=a}static builder(){return new Ba("",null)}setName(l){return this.name=l,this}setTag(l){return this.tag=l,this}}class em{genName="Menu";commands=[];printOnly=!1;constructor(){}static builder(){return new em}setGenName(l){return this.genName=l,this}setCommands(l){return this.commands=l,this}setPrintOnly(l){return this.printOnly=l,this}addCommand(l){return this.commands.push(l),this}}class Ode extends al{theme;svgImage=null;onCommandHandler=null;onPreviewCommandHandler=null;autoClickOnChangeEnabled=!1;strokeInvisible=!0;updateAll=null;updateText=null;updateAllPds=null;updateAllRects=null;commands=[Ba.builder().setName("\u0418\u043c\u044f"),Ba.builder().setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a"),Ba.builder().setName("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),Ba.builder().setName("\u041c\u0438\u0440")];currentIndex=0;constructor(l=Fa.Default,a=512,h=128){super("\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u043c\u0435\u043d\u044e.",a,h),this.theme=l}regenerate(){return super.regenerate(),this.updateAll&&this.updateAll(),this}setAutoClickOnChange(l){return this.autoClickOnChangeEnabled=l,this}setCommands(l,a=null){return this.commands=l,this.currentIndex=a?this.commands.indexOf(a):-1,this.currentIndex>=this.commands.length&&(this.currentIndex=this.commands.length-1),this.currentIndex<0&&(this.currentIndex=0),this}setOnCommandHandler(l){return this.onCommandHandler=l,this}setOnPreviewCommandHandler(l){return this.onPreviewCommandHandler=l,this}setTheme(l){return this.theme=l,this}setSvgImages(l){return this.svgImage=l,this}updateThemeConfig(l){switch(this.theme){case Fa.Dark:this.strokeInvisible=!0,l.colorBackground="#0d233a",l.colorMain="white";break;case Fa.Light:this.strokeInvisible=!0,l.colorBackground="#00364D",l.colorMain="white";break;case Fa.Dark2:this.strokeInvisible=!0,l.colorBackground="#0d233a",l.colorMain="white";break;case Fa.Light2:this.strokeInvisible=!0,l.colorBackground="white",l.colorMain="#00364D"}}isLight(){let l=!0;switch(this.theme){case Fa.Light2:case Fa.Light:break;default:l=!1}return l}runOnCommand(l){return this.onCommandHandler&&this.onCommandHandler(l),this}runOnPreviewCommand(l){return this.onPreviewCommandHandler&&this.onPreviewCommandHandler(l),this}isGenerated(){return!!this.updateAll}generate(l,a,h){if(this.updateAll)return this.updateAll(),!0;a.clearAll(),this.updateThemeConfig(a);let d=j=>{let W=Fh(j);return W.r<<16|W.g<<8|W.b},f=(j,W)=>{W?j.transition().duration(1).style("visibility","visible").transition().duration(1e3).attr("fill-opacity",1).attr("stroke-opacity",1):j.transition().duration(1e3).attr("fill-opacity",0).attr("stroke-opacity",0).transition().duration(1).style("visibility","hidden")},p=d(a.colorMain),m=.8,v=.3;a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439=!1;let C=(j,W=1,q)=>{let G=(16711680&j)>>16,K=(65280&j)>>8,J=255&j;W<1&&0==G&&0==K&&0==J&&(G=K=J=255);let ie=G*W&255,re=K*W&255,he=J*W&255;if(W<1){let ke=d(a.colorBackground);ie=(16711680&ke)>>16,re=(65280&ke)>>8,he=255&ke}return gp(ie,re,he,q).formatHex()},w=a.height/32*1,x=a.height/32*1,T=Math.round(.8*a.height),D=()=>a.width/8*6,k=j=>{let W=Math.round(.8*a.height),q=l.textSizeDirect(j,W,300),G=.8*D();return q.width>G&&(W=W*G/q.width),W},P=Mi.builder().setText(this.commands[this.currentIndex].name).setTextAnchor("middle").setFontSize(`${k(this.commands[this.currentIndex].name)}px`).translate(a.width/2+w,a.height/2+T/4+x).rotate(0).setColor(C(p,v)).setStrokeColor(C(p,v)).setStrokeWidth(1).setVisible(!0).addEvent(sr.builder().setName("click").setFunc(()=>{this.runOnCommand(this.commands[this.currentIndex])})).addClass("cursor"),N=Mi.builder().setText(this.commands[this.currentIndex].name).setTextAnchor("middle").setFontSize(`${k(this.commands[this.currentIndex].name)}px`).translate(a.width/2,a.height/2+T/4).rotate(0).setColor(C(p)).setStrokeColor(C(p,this.strokeInvisible?1:v)).setStrokeWidth(1).addEvent(sr.builder().setName("click").setFunc(()=>{this.runOnCommand(this.commands[this.currentIndex])})).addClass("cursor");a.texts.push(P),a.texts.push(N),this.updateText=j=>{P.d3Object.transition().duration(150).style("fill","#00000000").style("stroke","#00000000").transition().duration(1e3).style("fill",C(p,v)).style("stroke",C(p,v)).attr("font-size",`${k(this.commands[this.currentIndex].name)}px`).text(j),N.d3Object.transition().duration(150).style("fill","#00000000").style("stroke","#00000000").transition().duration(1e3).style("fill",C(p)).style("stoke",C(p)).attr("font-size",`${k(this.commands[this.currentIndex].name)}px`).text(j)};let $=[];this.updateAllPds=()=>{$.forEach(j=>{j.shadow?f(j.pd.d3Object,this.commands.length>1):(j.leftArrow&&0==this.currentIndex?f(j.pd.d3Object,!1):j.leftArrow&&f(j.pd.d3Object,!0),j.leftArrow||this.currentIndex+1!=this.commands.length?j.leftArrow||f(j.pd.d3Object,!0):f(j.pd.d3Object,!1))})},this.updateAll=()=>{let j=this.commands[this.currentIndex];this.updateText&&j&&this.updateText(j.name),this.updateAllPds&&this.updateAllPds(),this.updateAllRects&&this.updateAllRects(),this.runOnPreviewCommand(j)};let U=(j,W=null,q="gold",G="white",K=!0,J=!1)=>{let ie=((j=null)=>({dd:j||[[0,0],[1,1],[1,-1],[0,0]],line:jh().x(G=>G[0]*(a.width/8)).y(G=>(G[1]/2+.5)*(a.height-2))}))(W),re=Es.builder().setDatum(ie.dd).setD(ie.line).setStrokeColor(G).setStrokeWidth(1).setFillColor(q).translate(j[0],j[1]+1).addEvent(sr.builder().setName("click").setFunc(()=>{K?--this.currentIndex<0&&(this.currentIndex=0):++this.currentIndex>=this.commands.length&&(this.currentIndex=this.commands.length-1),this.updateAll&&this.updateAll(),this.onChange()})).setVisible(J&&this.commands.length>1||K&&this.currentIndex>0||!K&&this.currentIndex+1<this.commands.length);J||re.addClass("cursor"),$.push({leftArrow:K,pd:re,shadow:J}),a.pathes.push(re)},z=(j,W,q,G)=>{let K=[];return j.forEach(J=>{let ie=[];ie.push(J[0]*W+q/(a.width/8)),ie.push(J[1]*W+G/a.height),K.push(ie)}),K};U([0,0],z([[0,0],[1,1],[1,-1],[0,0]],m,w,x),C(p,v),C(p,1),!0,!0),U([a.width/8*7,0],z([[0,1],[1,0],[0,-1],[0,1]],m,w,x),C(p,v),C(p,1),!1,!0),U([0,0],z([[0,0],[1,1],[1,-1],[0,0]],m,0,0),C(p,1),C(d(C(p,1)),v),!0),U([a.width/8*7,0],z([[0,1],[1,0],[0,-1],[0,1]],m,0,0),C(p,1),C(d(C(p,1)),v),!1);let ee=this.commands.length,te=.9*D(),B=[];this.updateAllRects=()=>{B.forEach((j,W)=>{j.forEach((q,G)=>{if(0==G)return f(q[0].d3Object,!0),void f(q[1].d3Object,!0);W==this.currentIndex?(f(q[0].d3Object,!0),f(q[1].d3Object,!0)):(f(q[0].d3Object,!1),f(q[1].d3Object,!1))})})};for(let j=0;j<ee;j++){let W=te/ee,q=.9,G=(a.width-te)/2+W*j+W*(1-q)/2,K=[Bs.builder().setFillColor("none").setStrokeColor(C(p,1)).setStrokeWidth(1).setWidth(W*q).setHeight(a.height/10*1).translate(G+w,a.height/10*8+x).setVisible(!0),Bs.builder().setFillColor(C(p,v)).setStrokeColor(C(p,1)).setStrokeWidth(1).setWidth(W*q).setHeight(a.height/10*1).translate(G+w,a.height/10*8+x).setVisible(!0)],J=[Bs.builder().setFillColor("none").setStrokeColor(C(p,1)).setStrokeWidth(1).setWidth(W*q).setHeight(a.height/10*1).translate(G,a.height/10*8).setVisible(j==this.currentIndex),Bs.builder().setFillColor(C(p,1)).setStrokeColor(C(p,1)).setStrokeWidth(1).setWidth(W*q).setHeight(a.height/10*1).translate(G,a.height/10*8).setVisible(j==this.currentIndex)];a.rects.push(...K),a.rects.push(...J),B.push([K,J])}return!0}onChange(){this.autoClickOnChangeEnabled&&this.runOnCommand(this.commands[this.currentIndex])}}var Vs=function(c){return c[c.Default=0]="Default",c[c.Dark=1]="Dark",c[c.Light=2]="Light",c[c.Dark2=3]="Dark2",c[c.Light2=4]="Light2",c[c.Dark3=5]="Dark3",c[c.Light3=6]="Light3",c}(Vs||{});class Gh{name;tag;constructor(l,a){this.name=l,this.tag=a}static builder(){return new Gh("",null)}setName(l){return this.name=l,this}setTag(l){return this.tag=l,this}}class I1 extends al{theme;svgImage;onCommandHandler;autoClickOnChangeEnabled=!1;strokeInvisible=!0;useShadow=!0;commands=[Gh.builder().setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a"),Gh.builder().setName("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),Gh.builder().setName("\u041c\u0438\u0440")];currentIndex=0;constructor(l=Vs.Default){super("\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u043c\u0435\u043d\u044e.",512,512),this.theme=l}setShadowEnabled(l){return this.useShadow=l,this}setAutoClickOnChange(l){return this.autoClickOnChangeEnabled=l,this}setCommands(l,a){return this.commands=l,this.currentIndex=this.commands.indexOf(a),this.currentIndex>=this.commands.length&&(this.currentIndex=this.commands.length-1),this.currentIndex<0&&(this.currentIndex=0),this}setOnCommandHandler(l){return this.onCommandHandler=l,this}setTheme(l){return this.theme=l,this}setSvgImages(l){return this.svgImage=l,this}updateThemeConfig(l){switch(this.theme){case Vs.Dark:this.strokeInvisible=!0,l.colorBackground="#0d233a",l.colorMain="white";break;case Vs.Light:this.strokeInvisible=!0,l.colorBackground="#00364D",l.colorMain="white";break;case Vs.Dark2:this.strokeInvisible=!0,l.colorBackground="#0d233a",l.colorMain="white";break;case Vs.Light2:this.strokeInvisible=!0,l.colorBackground="white",l.colorMain="#00364D";break;case Vs.Dark3:this.strokeInvisible=!0,l.colorBackground="#0d233a",l.colorMain="#4AAED9";break;case Vs.Light3:this.strokeInvisible=!0,l.colorBackground="white",l.colorMain="#0072A3"}}isLight(){let l=!0;switch(this.theme){case Vs.Light3:case Vs.Light2:case Vs.Light:break;default:l=!1}return l}runOnCommand(l){return this.onCommandHandler&&this.onCommandHandler(l,this),this}generate(l,a,h){this.updateThemeConfig(a);let d=ie=>{let re=Fh(ie);return re.r<<16|re.g<<8|re.b},f=(ie,re)=>{re?ie.transition().duration(1).style("visibility","visible").transition().duration(1e3).attr("fill-opacity",1).attr("stroke-opacity",1):ie.transition().duration(1e3).attr("fill-opacity",0).attr("stroke-opacity",0).transition().duration(1).style("visibility","hidden")},p=d(a.colorMain),g=this.useShadow,v=.3;a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439=!1;let C=(ie,re=1,he)=>{let de=(16711680&ie)>>16,ke=(65280&ie)>>8,xe=255&ie;re<1&&0==de&&0==ke&&0==xe&&(de=ke=xe=255);let Ie=de*re&255,Ze=ke*re&255,Ne=xe*re&255;if(re<1){let nt=d(a.colorBackground);Ie=(16711680&nt)>>16,Ze=(65280&nt)>>8,Ne=255&nt}return gp(Ie,Ze,Ne,he).formatHex()},w=a.width/32*1,x=a.height/32*1,P=(Math.round(.8*a.height),1/3),N=2/3,L=ie=>{let re=Math.round(.8*a.height),he=l.textSizeDirect(ie,re,300),de=a.width/24*22*.8,ke=a.height/3*.8;return he.width>de&&(re=re*de/he.width,he=l.textSizeDirect(ie,re,300)),he.height>ke&&(re=re*ke/he.height),re},$=L(this.commands[this.currentIndex].name),U=Mi.builder().setText(this.commands[this.currentIndex].name).setTextAnchor("middle").setFontSize(`${$}px`).translate(a.width/2+w,a.height/2+$/4+x).rotate(0).setColor(C(p,v)).setStrokeColor(C(p,v)).setStrokeWidth(1).setVisible(g).addEvent(sr.builder().setName("click").setFunc(()=>{this.runOnCommand(this.commands[this.currentIndex])})).addClass("cursor"),z=Mi.builder().setText(this.commands[this.currentIndex].name).setTextAnchor("middle").setFontSize(`${$}px`).translate(a.width/2,a.height/2+$/4).rotate(0).setColor(C(p)).setStrokeColor(C(p,this.strokeInvisible?1:v)).setStrokeWidth(1).addEvent(sr.builder().setName("click").setFunc(()=>{this.runOnCommand(this.commands[this.currentIndex])})).addClass("cursor");a.texts.push(U),a.texts.push(z);let ee=ie=>{U.d3Object.transition().duration(1e3).attr("font-size",`${L(this.commands[this.currentIndex].name)}px`).text(ie),z.d3Object.transition().duration(1e3).attr("font-size",`${L(this.commands[this.currentIndex].name)}px`).text(ie)},j=[],W=()=>{j.forEach(ie=>{ie.shadow?f(ie.pd.d3Object,!0):(ie.upArrow||0!=this.currentIndex?ie.upArrow||f(ie.pd.d3Object,!0):f(ie.pd.d3Object,!1),ie.upArrow&&this.currentIndex+1==this.commands.length?f(ie.pd.d3Object,!1):ie.upArrow&&f(ie.pd.d3Object,!0))})},q=(ie,re,he="gold",de="white",ke=!0,xe=!1)=>{let Ie=(ie=>({dd:ie||[[0,0],[1,1],[1,-1],[0,0]],line:jh().x(de=>(0+de[0])*a.width).y(de=>(1-de[1])*(a.height-24))}))(re),Ze=Es.builder().setDatum(Ie.dd).setD(Ie.line).setStrokeColor(de).setStrokeWidth(1).setFillColor(he).translate(ie[0]+0*(xe?w:0),ie[1]+1+(xe?x:0)).addEvent(sr.builder().setName("click").setFunc(()=>{ke?(this.currentIndex+1<this.commands.length&&++this.currentIndex,this.currentIndex>=this.commands.length&&(this.currentIndex=this.commands.length-1)):(this.currentIndex>0&&--this.currentIndex,this.currentIndex<0&&(this.currentIndex=0)),ee(this.commands[this.currentIndex].name),W(),this.onChange()})).setVisible(!0);xe||Ze.addClass("cursor"),j.push({upArrow:ke,pd:Ze,shadow:xe}),a.pathes.push(Ze)},G=(ie,re,he,de,ke)=>{let xe=[];return ie.forEach(Ie=>{let Ze=[];Ze.push(Ie[0]*re+de),Ze.push(Ie[1]*he+ke),xe.push(Ze)}),xe};return g&&(q([0,0],G([[0,0],[.5,1],[1,0],[0,0]],1,P,0,N),C(p,v),C(p,1),!0,!0),q([0,N],G([[0,1],[.5,0],[1,1],[0,1]],1,P,0,0),C(p,v),C(p,1),!1,!0)),q([0,0],G([[0,0],[.5,1],[1,0],[0,0]],1,1*P,0,N),C(p,1),C(d(C(p,1)),v),!0),q([0,N],G([[0,1],[.5,0],[1,1],[0,1]],1,1*P,0,0),C(p,1),C(d(C(p,1)),v),!1),!0}onChange(){this.autoClickOnChangeEnabled&&this.runOnCommand(this.commands[this.currentIndex])}}var Ca=function(c){return c[c.Default=0]="Default",c[c.Dark=1]="Dark",c[c.Light=2]="Light",c[c.Dark2=3]="Dark2",c[c.Light2=4]="Light2",c[c.Dark3=5]="Dark3",c[c.Light3=6]="Light3",c}(Ca||{});class Va{name;index;iWidth;tag;rect=null;text=null;classes="";constructor(l,a,h,d){this.name=l,this.index=a,this.iWidth=h,this.tag=d}static builder(){return new Va("",0,1,null)}setName(l){return this.name=l,this}setTag(l){return this.tag=l,this}setIndex(l){return this.index=l,this}setIWidth(l){return this.iWidth=l,this}setClasses(l){return this.classes=l,this}}class f9 extends al{theme;svgImage=null;onCommandHandler=null;autoClickOnChangeEnabled=!1;strokeInvisible=!0;useShadow=!0;useBackgroundColor=!0;commands=[Va.builder().setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a"),Va.builder().setName("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),Va.builder().setName("\u041c\u0438\u0440")];currentIndex=0;linesOfMonth=7;columnsCount=7;columnsOffsets=[];constructor(l=Ca.Default,a="\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u043c\u0435\u043d\u044e.",h=512,d=512){super(a,h,d),this.theme=l}addColumnOffset(l){return this.columnsOffsets.push(l),this}setShadowEnabled(l){return this.useShadow=l,this}setAutoClickOnChange(l){return this.autoClickOnChangeEnabled=l,this}setCommands(l,a=null){return this.commands=l,this.currentIndex=a?this.commands.indexOf(a):-1,this.currentIndex>=this.commands.length&&(this.currentIndex=this.commands.length-1),this.currentIndex<0&&(this.currentIndex=0),this}setOnCommandHandler(l){return this.onCommandHandler=l,this}setTheme(l){return this.theme=l,this}setSvgImages(l){return this.svgImage=l,this}updateThemeConfig(l){switch(this.theme){case Ca.Dark:this.strokeInvisible=!0,l.colorBackground="#0d233a",l.colorMain="white";break;case Ca.Light:this.strokeInvisible=!0,l.colorBackground="#00364D",l.colorMain="white";break;case Ca.Dark2:this.strokeInvisible=!0,l.colorBackground="#0d233a",l.colorMain="white";break;case Ca.Light2:this.strokeInvisible=!0,l.colorBackground="white",l.colorMain="#00364D";break;case Ca.Dark3:this.strokeInvisible=!0,l.colorBackground="#0d233a",l.colorMain="#4AAED9";break;case Ca.Light3:this.strokeInvisible=!0,l.colorBackground="white",l.colorMain="#0072A3"}}isLight(){let l=!0;switch(this.theme){case Ca.Light3:case Ca.Light2:case Ca.Light:break;default:l=!1}return l}runOnCommand(l){return this.onCommandHandler&&this.onCommandHandler(l,this),this}color(l,a,h=1,d){let f=(16711680&a)>>16,p=(65280&a)>>8,g=255&a;h<1&&0==f&&0==p&&0==g&&(f=p=g=255);let m=f*h&255,v=p*h&255,_=g*h&255;if(this.useBackgroundColor&&h<1){let b=this.colorValueToNumber(l.colorBackground);m=(16711680&b)>>16,v=(65280&b)>>8,_=255&b}return gp(m,v,_,d).formatHex()}colorValueToNumber(l){let a=Fh(l);return a.r<<16|a.g<<8|a.b}textRecommendedWidth(l){return l.width/this.columnsCount}getFontHeightForText(l,a,h,d){let p=Math.round(a.height/this.linesOfMonth*.7),g=l.textSizeDirect(h,p,300),m=.7*d,v=a.height/this.linesOfMonth*.7;return g.width>m&&(p=p*m/g.width,g=l.textSizeDirect(h,p,300)),g.height>v&&(p=p*v/g.height,g=l.textSizeDirect(h,p,300)),g}generate(l,a,h){return this.updateThemeConfig(a),a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0430\u0440\u043a\u0435\u0440\u044b\u041b\u0438\u043d\u0438\u0439=!1,this.commands.forEach(f=>{this.drawRect(l,a,f)}),!0}getLineOfIndex(l){return Math.floor(l/this.columnsCount)}getRelativeX(l){let a=l%this.columnsCount,h=this.getLineOfIndex(l);return a+=h<this.columnsOffsets.length?this.columnsOffsets[h]:0,a}drawRect(l,a,h){if(!h.name)return;let d=this.colorValueToNumber(a.colorMain),p=h.name,g=h.index,m=h.iWidth,v=Math.floor(a.width/this.columnsCount)*m,_=1*Math.floor(a.width/this.columnsCount),y=Math.floor(a.height/this.linesOfMonth),b=Bs.builder().setX(_*this.getRelativeX(g)).setY(y*this.getLineOfIndex(g)).setRx(v/m/10).setRy(y/10).setWidth(v).setHeight(y).setFillColor(a.colorBackground).setStrokeWidth(2).setStrokeColor(a.colorMain).addEvent(sr.builder().setName("click").setFunc(()=>{this.runOnCommand(h)})),O=this.getFontHeightForText(l,a,p,this.textRecommendedWidth(a)*m),C=Mi.builder().setText(p).setTextAnchor("middle").setFontSize(`${O.height}px`).translate(_*this.getRelativeX(g)+.5*v,y*(3/4+this.getLineOfIndex(g))).rotate(0).setColor(this.color(a,d)).setStrokeColor(this.color(a,d,this.strokeInvisible?1:.3)).setStrokeWidth(1).addEvent(sr.builder().setName("click").setFunc(()=>{this.runOnCommand(h)})).addClass("cursor"+(h.classes?" "+h.classes:""));h.rect=b,a.rects.push(h.rect),h.text=C,a.texts.push(h.text)}onChange(){this.autoClickOnChangeEnabled&&this.runOnCommand(this.commands[this.currentIndex])}}class Ai{\u0438\u043c\u044f;\u043a\u043b\u0430\u0441\u0441;constructor(l,a){this.\u0438\u043c\u044f=l,this.\u043a\u043b\u0430\u0441\u0441=a}static \u043d\u043e\u0432\u044b\u0439(){return new Ai("",null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(l){return this.\u0438\u043c\u044f=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043b\u0430\u0441\u0441(l){return this.\u043a\u043b\u0430\u0441\u0441=l,this}}class R1{\u0444\u0443\u043d\u043a\u0446\u0438\u044f;constructor(l){this.\u0444\u0443\u043d\u043a\u0446\u0438\u044f=l}static \u043d\u043e\u0432\u0430\u044f(){return new R1(null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(l){return this.\u0444\u0443\u043d\u043a\u0446\u0438\u044f=l,this}}class En{\u043e\u0431\u044a\u0435\u043a\u0442;constructor(l){this.\u043e\u0431\u044a\u0435\u043a\u0442=l}static \u043d\u043e\u0432\u044b\u0439(){return new En(null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(l){return this.\u043e\u0431\u044a\u0435\u043a\u0442=l,this}}class We{\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f;\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435;\u043a\u0430\u0440\u0442\u0430;constructor(l,a,h=null){this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f=l,this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435=a,this.\u043a\u0430\u0440\u0442\u0430=h}static \u043d\u043e\u0432\u044b\u0439(){return new We(null,null,null)}static \u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return new We(null,null,null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(l){return this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(l){return this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435=l,this}\u0435\u0441\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(){return!!this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f(){return this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f"===this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f}\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442(){return this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0437\u0430\u0445\u0432\u0430\u0442"===this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f}\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c(){return this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c"===this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f}\u044d\u0442\u043e\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430(){return this.\u044d\u0442\u043e\u041e\u0431\u044a\u0435\u043a\u0442()}\u044d\u0442\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430(){return this.\u044d\u0442\u043e\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430()&&this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u043a\u043e\u043c\u0430\u043d\u0434\u0430"===this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f}\u043a\u0430\u043a\u0424\u0443\u043d\u043a\u0446\u0438\u044f(){return this.\u044d\u0442\u043e\u0424\u0443\u043d\u043a\u0446\u0438\u044f()||this.\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041e\u0448\u0438\u0431\u043a\u0443("\u0424\u0443\u043d\u043a\u0446\u0438\u044f"),this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u0424\u0443\u043d\u043a\u0446\u0438\u044f(){return We.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0424\u0443\u043d\u043a\u0446\u0438\u044f(this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0424\u0443\u043d\u043a\u0446\u0438\u044f(l){return null!=l&&"object"==typeof l&&l.constructor===R1}\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432(l=!1){return!l&&!this.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432()&&this.\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041e\u0448\u0438\u0431\u043a\u0443("\u041c\u0430\u0441\u0441\u0438\u0432"),this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432(){return Array.isArray(this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430(){return this.\u043a\u0430\u0440\u0442\u0430}\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430(){return We.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u041a\u0430\u0440\u0442\u0430(this.\u043a\u0430\u0440\u0442\u0430)}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u041a\u0430\u0440\u0442\u0430(l){return null!=l&&"object"==typeof l&&l.constructor===Map}\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442(){return this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u041e\u0431\u044a\u0435\u043a\u0442(){return We.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u041e\u0431\u044a\u0435\u043a\u0442(this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}\u044d\u0442\u043e\u041d\u0443\u043b\u044c(){return null==this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&null==this.\u043a\u0430\u0440\u0442\u0430}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u041e\u0431\u044a\u0435\u043a\u0442(l){return null!=l&&"object"==typeof l&&(l.constructor===We||l.constructor===ll)}\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return this.\u044d\u0442\u043e\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()||this.\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041e\u0448\u0438\u0431\u043a\u0443("\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442"),this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return We.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(l){return null!=l&&"object"==typeof l&&l.constructor===En}\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(){return this.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()||this.\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041e\u0448\u0438\u0431\u043a\u0443("number"),this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e(){return We.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0427\u0438\u0441\u043b\u043e(this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0427\u0438\u0441\u043b\u043e(l){return null!=l&&"number"==typeof l}\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e(){return this.\u044d\u0442\u043e\u0411\u0443\u043b\u0435\u0432\u043e()||this.\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041e\u0448\u0438\u0431\u043a\u0443("boolean"),this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u0411\u0443\u043b\u0435\u0432\u043e(){return We.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0411\u0443\u043b\u0435\u0432\u043e(this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0411\u0443\u043b\u0435\u0432\u043e(l){return null!=l&&"boolean"==typeof l}\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041e\u0448\u0438\u0431\u043a\u0443(l){throw new Error(`\u041d\u0435\u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0442\u0438\u043f\u0430: \u043e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f ${l}, \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d \u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f: ${this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:"null"}; \u0442\u0438\u043f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f: ${typeof this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}.`)}\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(){return this.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()||this.\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041e\u0448\u0438\u0431\u043a\u0443("string"),this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430(){return We.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0421\u0442\u0440\u043e\u043a\u0430(this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return We.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0421\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(this)}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0421\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(l){return null!=l&&"string"==typeof l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&(l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0441\u0442\u0440\u043e\u043a\u0430"===l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f||l.constructor===L1)}static \u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0421\u0442\u0440\u043e\u043a\u0430(l){return null!=l&&"string"==typeof l}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(l,a=!1,h=!1){var d=We.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0418\u0437\u041e\u0431\u044a\u0435\u043a\u0442\u0430(this,l,!1);if(null==d&&this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441&&(d=this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(l,!1)),null==d&&a)throw new Error(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043f\u043e\u043b\u0435 "${l}" \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 \u0442\u0438\u043f\u0430: "${this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:typeof this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}".`);return null==d&&h&&(d=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)),d}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0418\u0437\u041c\u0430\u0441\u0441\u0438\u0432\u0430(l,a=!1,h=!1){var d=We.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0418\u0437\u041c\u0430\u0441\u0441\u0438\u0432\u0430(this,l,!1);if(null==d&&a)throw new Error(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043f\u043e\u043b\u0435 "${l}" \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 \u0442\u0438\u043f\u0430: "${this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:typeof this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}".`);return null==d&&h&&(d=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)),d||null}static \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0418\u0437\u041e\u0431\u044a\u0435\u043a\u0442\u0430(l,a,h=!1){var d=null;if(l.\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430())d=l.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get(a)||null;else if(h)throw new Error(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043f\u043e\u043b\u0435 "${a}" \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 \u0442\u0438\u043f\u0430: "${typeof l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}".`);return d}static \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0418\u0437\u041c\u0430\u0441\u0441\u0438\u0432\u0430(l,a,h=!1){var d=void 0;if(l.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432())d=l.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432()[a];else if(h)throw new Error(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0438\u043d\u0434\u0435\u043a\u0441 \u043c\u0430\u0441\u0441\u0438\u0432\u0430 "${a}" \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 \u0442\u0438\u043f\u0430: "${typeof l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}".`);return d}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c(l,a=!1){var h=We.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0418\u0437\u041e\u0431\u044a\u0435\u043a\u0442\u0430(this,l,!1);if(null==h&&this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441&&(h=this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c(l,!1)),null==h&&a)throw new Error(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043f\u043e\u043b\u0435 "${l}" \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 \u0442\u0438\u043f\u0430: "${typeof this.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}".`);return h}static \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0418\u0437\u041e\u0431\u044a\u0435\u043a\u0442\u0430(l,a,h=!1){var d=void 0;if(l.\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430())d=l.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get(a);else if(l.\u044d\u0442\u043e\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442())d=l.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442[a];else if(h)throw new Error(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043f\u043e\u043b\u0435 "${a}" \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 \u0442\u0438\u043f\u0430: "${typeof l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435}".`);return d}\u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0438\u0442\u044c\u0412\u0441\u0435\u041f\u043e\u043b\u044f(l){if(this.\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430())this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().forEach((p,g,m)=>{l(g,p)});else if(this.\u044d\u0442\u043e\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()){var a=this.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442;for(var h in a){var d=a[h],f="object"==typeof d;l(h,We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f?En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(d):d))}}}\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(l){return We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(l))}}class ll extends We{constructor(l){super(l,null,new Map)}static \u043d\u043e\u0432\u044b\u0439(){return new ll(null)}static \u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return new ll(null)}}class xE extends We{constructor(l){super(l,null,new Map)}static \u043d\u043e\u0432\u044b\u0439(){return new xE(null)}static \u043d\u043e\u0432\u044b\u0439\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return new xE(null)}}class L1 extends We{constructor(l){super(l,null,new Map)}static \u043d\u043e\u0432\u044b\u0439(){return new L1(null)}static \u043d\u043e\u0432\u044b\u0439\u0421\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return new L1(null)}}class TE extends We{constructor(l){super(l,null,new Map)}static \u043d\u043e\u0432\u044b\u0439(){return new TE(null)}static \u043d\u043e\u0432\u044b\u0439\u0411\u0443\u043b\u0435\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return new TE(null)}}class Uw extends We{constructor(l){super(l,null,new Map)}static \u043d\u043e\u0432\u044b\u0439(){return new Uw(null)}static \u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432\u041e\u0431\u044a\u0435\u043a\u0442(){return new Uw(null)}}class es extends We{constructor(){super(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041e\u0431\u044a\u0435\u043a\u0442\u044b"),null,new Map)}static \u043d\u043e\u0432\u044b\u0439(){return new es}static \u043d\u043e\u0432\u044b\u0435(){return new es}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u044b(l){this.\u043a\u0430\u0440\u0442\u0430=l}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c(l,a){return this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(l,a),this}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c(l){return this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get(l)||null}\u0435\u0441\u0442\u044c(l){return this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().has(l)}\u0443\u0434\u0430\u043b\u0438\u0442\u044c(l){return this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().delete(l)}}let UYe=(()=>{class c{\u043a\u043e\u043c\u0430\u043d\u0434\u0430;\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b;\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432;\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435;\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b;\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445;\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=null;static \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439=0;\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439=-1;constructor(a,h,d,f=null,p=0,g=!0){this.\u043a\u043e\u043c\u0430\u043d\u0434\u0430=a,this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b=h,this.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432=d,this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435=f,this.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b=p,this.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445=g}static \u043d\u043e\u0432\u044b\u0439(){return new c(null,null,null,null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(a){return this.\u043a\u043e\u043c\u0430\u043d\u0434\u0430=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(a){return this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432(a){return this.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435(a){return this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b(a){return this.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442(a){return this.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=a,this}\u0435\u0441\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f(a){return null!=this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435&&this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435.\u0435\u0441\u0442\u044c(a)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(a,h){null==this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435&&(this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435=new es);let d=null;return null===h?this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435.\u0443\u0434\u0430\u043b\u0438\u0442\u044c(a):(d=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f")).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h),this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c(a,d)),d}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445(a){return this.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445=a,this}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(a){return null==this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435?null:this.\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c(a)}\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439\u0418\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b(){var a=this.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b++;return this.\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439=this.\u043d\u043e\u0432\u044b\u0439\u0418\u0434\u0435\u043a\u0441\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439(),a}\u043d\u043e\u0432\u044b\u0439\u0418\u0434\u0435\u043a\u0441\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439(){return c.\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439++}}return c})();class Jt extends We{\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b;\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432;constructor(l,a,h){super(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u043e\u043c\u0430\u043d\u0434\u0430"),l?We.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0421\u0442\u0440\u043e\u043a\u0430(l)?l:R1.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(l):null),this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b=a,this.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432=h}\u044d\u0442\u043e\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430(){return!0}static \u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430(){return new Jt(null,null,null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(l){return this.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(We.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0421\u0442\u0440\u043e\u043a\u0430(l)?l:R1.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(l)),this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(l){return this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432(l){return this.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432=l,this}}class m9 extends We{\u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b;\u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445\u0412\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0435;constructor(l,a,h){super(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u0444\u0443\u043d\u043a\u0446\u0438\u044f"),l),this.\u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b=a,this.\u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445\u0412\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0435=h}static \u043d\u043e\u0432\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f(){return new m9(null,!0,!1)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(l){return this.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(l),this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432(l){return this.\u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u044f\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445(l){return this.\u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445\u0412\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0435=l,this}}class v9 extends We{canvas2D;constructor(l){super(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041e\u0431\u044a\u0435\u043a\u0442\u0414\u0432\u0443\u043c\u0435\u0440\u043d\u043e\u0433\u043e\u0425\u043e\u043b\u0441\u0442\u0430"),null),this.canvas2D=l}static \u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442\u0414\u0432\u0443\u043c\u0435\u0440\u043d\u043e\u0433\u043e\u0425\u043e\u043b\u0441\u0442\u0430(){return new v9(null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0425\u043e\u043b\u0441\u0442(l){return this.canvas2D=l,this}}class _9 extends We{imageData;constructor(l){super(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041e\u0431\u044a\u0435\u043a\u0442\u0414\u0430\u043d\u043d\u044b\u0435\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"),null),this.imageData=l}static \u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442\u0414\u0430\u043d\u043d\u044b\u0435\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f(){return new _9(null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0430\u043d\u043d\u044b\u0435(l){return this.imageData=l,this}}class y9 extends We{data;constructor(l){super(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041e\u0431\u044a\u0435\u043a\u0442\u0411\u0430\u0439\u0442\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432"),null),this.data=l}static \u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442\u0411\u0430\u0439\u0442\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432(){return new y9(null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0430\u043d\u043d\u044b\u0435(l){return this.data=l,this}}class Bn{\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430;\u0442\u0435\u043b\u043e;constructor(l,a){this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430=l,this.\u0442\u0435\u043b\u043e=a}static \u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434(){return new Bn(null,null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(l){return this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(l){return this.\u0442\u0435\u043b\u043e=l,this}}class b9{\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u0418\u043d\u0438\u0446\u0438\u0438\u0440\u0443\u044e\u0449\u0435\u0433\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f;constructor(l){this.\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u0418\u043d\u0438\u0446\u0438\u0438\u0440\u0443\u044e\u0449\u0435\u0433\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f=l}static \u043d\u043e\u0432\u043e\u0435\u041f\u043e\u043b\u0435(){return new b9(null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u0418\u043d\u0438\u0446\u0438\u0438\u0440\u0443\u044e\u0449\u0435\u0433\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f(l){return this.\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u0418\u043d\u0438\u0446\u0438\u0438\u0440\u0443\u044e\u0449\u0435\u0433\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f=l,this}}class O9{\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430;\u0438\u043c\u044f\u041f\u043e\u043b\u044f;constructor(l,a){this.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430=l,this.\u0438\u043c\u044f\u041f\u043e\u043b\u044f=a}static \u043d\u043e\u0432\u044b\u0439\u0417\u0430\u0445\u0432\u0430\u0442(){return new O9(null,null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430(l){return this.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f\u041f\u043e\u043b\u044f(l){return this.\u0438\u043c\u044f\u041f\u043e\u043b\u044f=l,this}}class kE{\u043e\u0431\u044a\u0435\u043a\u0442;constructor(l){this.\u043e\u0431\u044a\u0435\u043a\u0442=l}static \u043d\u043e\u0432\u044b\u0439\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c(){return new kE(null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(l){return this.\u043e\u0431\u044a\u0435\u043a\u0442=l,this}}class QYe{\u0434\u043b\u0438\u043d\u0430=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[0]);return We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().length)};\u043f\u043e\u0434\u0441\u0442\u0440\u043e\u043a\u0430=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[0]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]),f=a.length>2?l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[2]):null;return We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().substr(d?d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e():0,f?f.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e():void 0))};\u0440\u0430\u0437\u0431\u0438\u0442\u044c=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[0]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]),f=h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().split(new RegExp(d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()));return l.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f.filter(g=>null!=g).map(g=>l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g.trim())))};\u0432\u0435\u0440\u0445\u043d\u0438\u0439\u0420\u0435\u0433\u0438\u0441\u0442\u0440=(l,a)=>{var h=a[0];return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().toUpperCase())};\u043d\u0438\u0436\u043d\u0438\u0439\u0420\u0435\u0433\u0438\u0441\u0442\u0440=(l,a)=>{var h=a[0];return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().toLowerCase())};\u0432\u0427\u0438\u0441\u043b\u043e=(l,a)=>{var h=a[0];return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(+h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())};\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u0421\u043b\u0435\u0432\u0430=(l,a)=>{for(var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]),f=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[2]),p=h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),g=f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),m=d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e();p.length<m&&g.length>0;)p=g+p;return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p)};\u0441\u043e\u043a\u0440\u0430\u0442\u0438\u0442\u044c=(l,a)=>{var h=a[0];return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().trim())};\u0438\u043d\u0434\u0435\u043a\u0441\u0414\u043b\u044f=(l,a)=>{var h=a[0],d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0438\u043d\u0434\u0435\u043a\u0441").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().indexOf(d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()))};\u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c\u0412\u0441\u0435=(l,a)=>{for(var h=a[0],d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]),f=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[2]),p=h.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),g=new RegExp(d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),m=p.replace(g,f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());m!=p;)m=(p=m).replace(g,f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0438\u043d\u0434\u0435\u043a\u0441").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p)}}class HYe{\u0434\u043b\u0438\u043d\u0430=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[0]);return We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().length)};\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[0]),d=a.length>1?l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]):null;return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map(p=>""+p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435).join(d?d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430():""))};\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[0]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]);return h.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().push(d),h};\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0418\u0437\u041c\u0430\u0441\u0441\u0438\u0432\u0430=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[0]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]);return h.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().push(...d.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432()),h}}class $s{static builder(){return $s.setup(new $s)}static convertToObject(l){var a=null;return l.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()||l.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()||l.\u044d\u0442\u043e\u0411\u0443\u043b\u0435\u0432\u043e()?a=l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:l.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432()?a=l.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map(h=>$s.convertToObject(h)):l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0414\u0430\u043d\u043d\u044b\u0435\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"==l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f?a=l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435.imageData:l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0411\u0430\u0439\u0442\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432"==l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f?a=l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435.data:l.\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430()&&(a={},l.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.forEach((h,d,f)=>{a[d]=$s.convertToObject(h)})),a}static \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0412\u041e\u0431\u044a\u0435\u043a\u0442(l,a){if("boolean"==typeof a)return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a);if("number"==typeof a)return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a);if("string"==typeof a)return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a);if(Array.isArray(a)){for(var h=l.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432"),d=[],f=0;f<a.length;++f)d.push($s.\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0412\u041e\u0431\u044a\u0435\u043a\u0442(l,a[f]));return h.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d),h}if("object"==typeof a){if(a.constructor&&"ImageData"==a.constructor.name){let v=_9.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442\u0414\u0430\u043d\u043d\u044b\u0435\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0430\u043d\u043d\u044b\u0435(a);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442\u0421\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u043e\u043c("\u0414\u0430\u043d\u043d\u044b\u0435\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f","\u0414\u0430\u043d\u043d\u044b\u0435\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(v)}var p=l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(a&&a.constructor?a.constructor.name:"\u043e\u0431\u044a\u0435\u043a\u0442");for(var g in a){var m=a[g];p.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.set(g,$s.\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0412\u041e\u0431\u044a\u0435\u043a\u0442(l,m))}return p}return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("null")}static addMethod(l,a){return a[l]=(h,d)=>{var p=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[0]).\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();if(!p.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c())throw new Error("\u041e\u0431\u044a\u0435\u043a\u0442 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0414\u0432\u0443\u043c\u0435\u0440\u043d\u044b\u043c\u0425\u043e\u043b\u0441\u0442\u043e\u043c.");var m=h.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(p)),v=d.filter((y,b)=>b>0).map(y=>$s.convertToObject(h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(y))),_=m.canvas2D[l].apply(m.canvas2D,v);return $s.\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0412\u041e\u0431\u044a\u0435\u043a\u0442(h,_)},a}static addGetter(l,a){return a["get"+this.upFirstLetter(l)]=(f,p)=>{var m=f.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(p[0]).\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();if(!m.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c())throw new Error("\u041e\u0431\u044a\u0435\u043a\u0442 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0414\u0432\u0443\u043c\u0435\u0440\u043d\u044b\u043c\u0425\u043e\u043b\u0441\u0442\u043e\u043c.");var v=f.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(m));return $s.\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0412\u041e\u0431\u044a\u0435\u043a\u0442(f,v.canvas2D[l])},a}static addSetter(l,a){return a["set"+this.upFirstLetter(l)]=(f,p)=>{var g=f.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(p[1]),m=f.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(p[0]),v=m.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();if(!v.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c())throw new Error("\u041e\u0431\u044a\u0435\u043a\u0442 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0414\u0432\u0443\u043c\u0435\u0440\u043d\u044b\u043c\u0425\u043e\u043b\u0441\u0442\u043e\u043c.");return f.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(v)).canvas2D[l]=$s.convertToObject(g),m},a}static upFirstLetter(l){return l.substring(0,1).toUpperCase()+l.substring(1)}static setup(l){return["kx","ky","width","height","virtualWidth","virtualHeight"].concat(...this.allCanvasProps()).forEach(a=>{a.endsWith("()")?$s.addMethod(a.substring(0,a.length-2),l):($s.addGetter(a,l),$s.addSetter(a,l))}),l}static allCanvasProps(){return["isContextLost()","clearRect()","fillRect()","strokeRect()","fillText()","strokeText()","measureText()","lineWidth","lineCap","lineJoin","miterLimit","getLineDash()","setLineDash()","lineDashOffset","font","textAlign","textBaseline","direction","letterSpacing","fontKerning","fontStretch","fontVariantCaps","textRendering","wordSpacing","fillStyle","strokeStyle","createConicGradient()","createLinearGradient()","createRadialGradient()","createPattern()","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","beginPath()","closePath()","moveTo()","lineTo()","bezierCurveTo()","quadraticCurveTo()","arc()","arcTo()","ellipse()","rect()","roundRect()","fill()","stroke()","drawFocusIfNeeded()","scrollPathIntoView()","clip()","isPointInPath()","isPointInStroke()","getTransform()","rotate()","scale()","translate()","transform()","setTransform()","resetTransform()","globalAlpha","globalCompositeOperation","drawImage()","createImageData()","getImageData()","putImageData()","imageSmoothingEnabled","imageSmoothingQuality","save()","restore()","canvas","getContextAttributes()","reset()","isContextLost()","filter"]}}class WYe{\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c=(l,a)=>l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u0422\u0435\u043a\u0441\u0442(l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[0]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]),f=d?$s.convertToObject(d):JSON.stringify(d,null,2);return console.log(f),h};\u043e\u0431\u044a\u0435\u043a\u0442\u0418\u043c\u0435\u0435\u0442\u041f\u043e\u043b\u0435=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[2]),f=h&&h.\u043a\u0430\u0440\u0442\u0430&&h.\u043a\u0430\u0440\u0442\u0430.has(d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());return f&&(f=!0),l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!!f)};\u0432\u0440\u0435\u043c\u044f\u0412\u041c\u0438\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445=(l,a)=>{var h=Date.now();return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h)};\u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c\u0412\u0440\u0435\u043c\u044f\u0412\u0421\u0442\u0440\u043e\u043a\u0443=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]),d=h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()%1e3,f=Math.floor(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()/1e3),p=Math.floor(f/60);f-=60*p;var g=Math.floor(p/60);p-=60*g;var m=(v,_)=>{for(var y=""+v;y.length<_;)y="0"+y;return y};return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`${m(g,2)}:${m(p,2)}:${m(f,2)}.${m(d,3)}`)};\u043c\u0438\u043d\u0438\u043c\u0443\u043c=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[2]);return h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()<=d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()?h:d};\u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[2]);return h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()>=d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()?h:d};\u043e\u043a\u0440\u0443\u0433\u043b\u0438\u0442\u044c=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.round(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};floor=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.floor(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};ceil=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.ceil(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};sqrt=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.sqrt(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};pow=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[2]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.pow(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};cos=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.cos(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};sin=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.sin(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};atan2=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[2]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.atan2(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};\u0410\u0421\u0414=(l,a)=>{var h=a.length>1?l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]):null,d=l.\u043d\u043e\u0432\u044b\u0439\u0410\u0421\u0414("\u0410\u0421\u0414");return null!=h&&d.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h),d};\u0441\u0442\u043e\u043f=(l,a)=>a.length>1?a[1]:a[0]}class ZYe{\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[0]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]);return l.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(l.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d)),h};\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[0]);return l.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(l.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h).\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442())};\u0435\u0441\u0442\u044c\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[0]);return l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(a[1]),l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0411\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!!l.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)};\u0442\u0438\u043f=(l,a)=>{var d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]).\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();if(!d.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c())return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e");var f=l.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(d));return f.\u044d\u0442\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430()?l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043a\u043e\u043c\u0430\u043d\u0434\u0430"):f.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c()?l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c"):f.\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442()?l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0437\u0430\u0445\u0432\u0430\u0442"):f.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0441\u0442\u0440\u043e\u043a\u0430"):f.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()?l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442"):f.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432()?l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043c\u0430\u0441\u0441\u0438\u0432"):f.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()?l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0447\u0438\u0441\u043b\u043e"):f.\u044d\u0442\u043e\u041e\u0431\u044a\u0435\u043a\u0442()?l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043e\u0431\u044a\u0435\u043a\u0442"):f.\u044d\u0442\u043e\u0411\u0443\u043b\u0435\u0432\u043e()?l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0431\u0443\u043b\u0435\u0432\u043e"):f.\u044d\u0442\u043e\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()?l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442"):f.\u044d\u0442\u043e\u0424\u0443\u043d\u043a\u0446\u0438\u044f()?l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0444\u0443\u043d\u043a\u0446\u0438\u044f"):l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e")};\u043a\u043e\u043c\u0430\u043d\u0434\u0430=(l,a)=>{var d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]).\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();if(!d.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c())return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e");var f=l.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(d)),p="";return f.\u044d\u0442\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430()&&(p=f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p)};\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435=(l,a)=>{var d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]).\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();return d.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c()?l.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(d)):l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e")};\u0438\u043c\u044f\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u0430=(l,a)=>{var d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]).\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();if(!d.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c())return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e");var f=l.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(d));if(f.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430())return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f&&f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:"");if(f.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432())return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f&&f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:"");if(f.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e())return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f&&f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:"");if(f.\u044d\u0442\u043e\u041e\u0431\u044a\u0435\u043a\u0442())return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f&&f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:"");if(f.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c()){var p=l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(f);return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p&&p.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?p.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:"")}return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("")};\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432=(l,a)=>{var d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]).\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();if(!d.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c())return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0);var f=l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(d);if(!f||!f.\u044d\u0442\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430())return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0);var p=f;return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b?p.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.length:0)};\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440=(l,a)=>{var m=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]),h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(l.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1])),d=l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(m.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442());if(!(d instanceof Jt))throw new Error("\u041e\u0431\u044a\u0435\u043a\u0442 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u041a\u043e\u043c\u0430\u043d\u0434\u043e\u0439.");var f=d,p=h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),g=-1==p?f:f.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b?f.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[p]:null;return m=l.\u043d\u043e\u0432\u044b\u0439\u0410\u0421\u0414("\u0410\u0421\u0414"),null!=g&&m.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(l.\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c\u041d\u0430\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g)),m};\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(l.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1])),f=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(l.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[2])),p=l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(h.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442());if(!(p instanceof Jt))throw new Error("\u041e\u0431\u044a\u0435\u043a\u0442 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u041a\u043e\u043c\u0430\u043d\u0434\u043e\u0439.");var g=p,m=d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e();return-1==m?g.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043e\u0431\u044a\u0435\u043a\u0442").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([f]):g.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b&&(g.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[m]=f),f};\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]),d=l.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(l.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(h.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442()));if(!d.\u044d\u0442\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430())throw new Error("\u041e\u0431\u044a\u0435\u043a\u0442 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u041a\u043e\u043c\u0430\u043d\u0434\u043e\u0439.");return l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d)}}class th{static \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u0430\u0442\u044c(l){return l&&l.\u044d\u0442\u043e\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f()?l.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442():l}static useSetOperation(l,a,h){var d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]),f=null,p=null;a[0].\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442()?f=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]):(p=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]),f=l.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(l.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())));var g=h(th.\u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u0430\u0442\u044c(f).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435,th.\u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u0430\u0442\u044c(d).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435);if(d=("string"==typeof g?l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430"):We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g),f&&f.\u044d\u0442\u043e\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f())f.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d);else if(p)l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),d);else{let m=a[0].\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442;m.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(m.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),d)}return d}static \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e\u0412\u0414\u0432\u0438\u0436\u043e\u043a(l){l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043d\u0435\u0442 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",(a,h)=>null,!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0431\u0440\u043e\u0441\u0438\u0442\u044c",(a,h)=>{throw a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0].\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442())},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]);if(!a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(h[0],null,d)){var p=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]);a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(null,p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),d)}return d},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u043b\u043e\u0436\u0438\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(a,h)=>th.useSetOperation(a,h,(d,f)=>d+f),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0432\u044b\u0447\u0435\u0441\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(a,h)=>th.useSetOperation(a,h,(d,f)=>d-f),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0443\u043c\u043d\u043e\u0436\u0438\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(a,h)=>th.useSetOperation(a,h,(d,f)=>d*f),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(a,h)=>th.useSetOperation(a,h,(d,f)=>d/f),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043c\u043e\u0434\u0443\u043b\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(a,h)=>th.useSetOperation(a,h,(d,f)=>d%f),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0434\u0432\u0438\u0433 \u0432\u043b\u0435\u0432\u043e \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(a,h)=>th.useSetOperation(a,h,(d,f)=>d<<f),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0434\u0432\u0438\u0433 \u0432\u043f\u0440\u0430\u0432\u043e \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(a,h)=>th.useSetOperation(a,h,(d,f)=>d>>f),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0434\u0432\u0438\u0433 \u0432\u043f\u0440\u0430\u0432\u043e \u0441 \u043d\u0443\u043b\u0451\u043c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(a,h)=>th.useSetOperation(a,h,(d,f)=>d>>>f),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=a.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());if(!f)throw new Error(`\u041d\u0435 \u043c\u043e\u0433\u0443 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e: "${d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()}".`);return f&&f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f"===f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f?f.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442():f},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043e\u0431\u044a\u0435\u043a\u0442",(a,h)=>a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043c\u0430\u0441\u0441\u0438\u0432",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]);return a.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([...d.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map(p=>a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(p)))])},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0438\u0437 \u043c\u0430\u0441\u0441\u0438\u0432\u0430",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]);return a.\u0437\u0430\u0445\u0432\u0430\u0442\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d,f)},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0442\u0440\u043e\u043a\u0430",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]);return a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u043c\u0438\u043d\u0443\u0441",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=null;if(d.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e())f=a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(-d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e());else{if(!d.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430())throw new Error("\u041d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: "+d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435);f=a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(-d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())}return f},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u043f\u043b\u044e\u0441",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=null;if(d.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e())f=a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e());else{if(!d.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430())throw new Error("\u041d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: "+d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435);f=a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(+d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())}return f},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0438\u043d\u043a\u0440\u0435\u043c\u0435\u043d\u0442",(a,h)=>{var f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()?a.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()):h[0],p=null;if(f&&f.\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442()){var g=a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f);p=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()+1),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(f,null,p)}else if(f&&"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f"===f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var m=f.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();p=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(m.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()+1),f.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p)}return p},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u043e\u0441\u0442\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0438\u043d\u043a\u0440\u0435\u043c\u0435\u043d\u0442",(a,h)=>{var f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()?a.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()):h[0],p=null;if(f&&f.\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442()){var g=a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f);p=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(f,null,We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()+1))}else if(f&&"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f"===f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var m=f.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();p=m,f.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(m.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()+1))}return p},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0434\u0435\u043a\u0440\u0435\u043c\u0435\u043d\u0442",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=a.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),p=null;if(f&&f.\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442()){var g=a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f);p=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()-1),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(f,null,p)}else if(f&&"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f"===f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var m=f.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();p=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(m.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()-1),f.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p)}return p},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u043e\u0441\u0442\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0434\u0435\u043a\u0440\u0435\u043c\u0435\u043d\u0442",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=a.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),p=null;if(f&&f.\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442()){var g=a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f);p=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(f,null,We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()-1))}else if(f&&"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f"===f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var m=f.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();p=m,f.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(m.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()-1))}return p},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=a.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),p=null;if(f&&f.\u044d\u0442\u043e\u0417\u0430\u0445\u0432\u0430\u0442()){var g=a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f);p=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()-1),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(f,null,p)}else if(f&&"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f"===f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var m=f.\u043a\u0430\u043a\u041e\u0431\u044a\u0435\u043a\u0442();p=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(m.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()-1),f.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p)}return p},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435",(a,h)=>We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()*a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0447\u0430\u0441\u0442\u043d\u043e\u0435",(a,h)=>We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()/a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043c\u043e\u0434\u0443\u043b\u044c",(a,h)=>We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()%a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0443\u043c\u043c\u0430",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]);return d.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()?We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()+f.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()):a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(""+$s.convertToObject(d)+$s.convertToObject(f))},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c",(a,h)=>We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()-a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0440\u0430\u0432\u043d\u043e",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(h[0]),f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(h[1]);return We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!!((!d||null==d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&null==d.\u043a\u0430\u0440\u0442\u0430)&&(!f||null==f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&null==f.\u043a\u0430\u0440\u0442\u0430)||d&&f&&(null!=d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435==f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435||null==d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&null==f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&(d.\u043a\u0430\u0440\u0442\u0430==f.\u043a\u0430\u0440\u0442\u0430||d.\u043a\u0430\u0440\u0442\u0430&&f.\u043a\u0430\u0440\u0442\u0430&&0==d.\u043a\u0430\u0440\u0442\u0430.size&&0==f.\u043a\u0430\u0440\u0442\u0430.size))))},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043d\u0435 \u0440\u0430\u0432\u043d\u043e",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(h[0]),f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(h[1]);return We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!((!d||null==d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&null==d.\u043a\u0430\u0440\u0442\u0430)&&(!f||null==f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&null==f.\u043a\u0430\u0440\u0442\u0430)||d&&f&&(null!=d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435==f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435||null==d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&null==f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&(d.\u043a\u0430\u0440\u0442\u0430==f.\u043a\u0430\u0440\u0442\u0430||d.\u043a\u0430\u0440\u0442\u0430&&f.\u043a\u0430\u0440\u0442\u0430&&0==d.\u043a\u0430\u0440\u0442\u0430.size&&0==f.\u043a\u0430\u0440\u0442\u0430.size))))},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0442\u0440\u043e\u0433\u043e \u0440\u0430\u0432\u043d\u043e",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(h[0]),f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(h[1]);return We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435((d&&d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)===(f&&f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)&&(d&&d.\u043a\u0430\u0440\u0442\u0430)===(f&&f.\u043a\u0430\u0440\u0442\u0430))},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0442\u0440\u043e\u0433\u043e \u043d\u0435 \u0440\u0430\u0432\u043d\u043e",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(h[0]),f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(h[1]);return We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!((d&&d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)===(f&&f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)&&(d&&d.\u043a\u0430\u0440\u0442\u0430)===(f&&f.\u043a\u0430\u0440\u0442\u0430)))},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0431\u043e\u043b\u044c\u0448\u0435",(a,h)=>We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435>a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043c\u0435\u043d\u044c\u0448\u0435",(a,h)=>We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435<a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e",(a,h)=>We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435>=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e",(a,h)=>We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435<=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e \u0438\u043b\u0438 \u0431\u043e\u043b\u044c\u0448\u0435",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]);return d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435<f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(-1):d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435>f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1):We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0)},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f="\u043d\u0443\u043b\u044c";return null==d?f="\u043d\u0443\u043b\u044c":d.\u044d\u0442\u043e\u0424\u0443\u043d\u043a\u0446\u0438\u044f()?f="\u0444\u0443\u043d\u043a\u0446\u0438\u044f":d.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()?f="\u0447\u0438\u0441\u043b\u043e":d.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?f="\u0441\u0442\u0440\u043e\u043a\u0430":d.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432()?f="\u043c\u0430\u0441\u0441\u0438\u0432":d.\u044d\u0442\u043e\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()?f=d.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442 instanceof Bn?"\u043c\u0435\u0442\u043e\u0434":"\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442":d.\u044d\u0442\u043e\u0411\u0443\u043b\u0435\u0432\u043e()?f="\u0431\u0443\u043b\u0435\u0432\u043e":(d.\u044d\u0442\u043e\u041e\u0431\u044a\u0435\u043a\u0442()||d.\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430())&&(f="\u043e\u0431\u044a\u0435\u043a\u0442"),L1.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f)},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043e\u0442\u0440\u0438\u0446\u0430\u043d\u0438\u0435",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=d&&(d.\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430()&&d.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().size||d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435);return TE.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!f)},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0434\u0432\u0438\u0433 \u0432\u043b\u0435\u0432\u043e",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]);return a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435((d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?+d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:0)<<(f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?+f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:0))},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0434\u0432\u0438\u0433 \u0432\u043f\u0440\u0430\u0432\u043e",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]);return a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435((d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?+d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:0)>>(f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?+f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:0))},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0434\u0432\u0438\u0433 \u0432\u043f\u0440\u0430\u0432\u043e \u0441 \u043d\u0443\u043b\u0451\u043c",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]);return a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435((d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?+d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:0)>>>(f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?+f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:0))},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0431\u0438\u043d\u0430\u0440\u043d\u043e\u0435 \u0438\u043b\u0438",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]);return a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435((d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?+d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:0)|(f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?+f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:0))},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0431\u0438\u043d\u0430\u0440\u043d\u043e\u0435 \u0438",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]);return a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435((d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?+d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:0)&(f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?+f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:0))},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0431\u0438\u043d\u0430\u0440\u043d\u043e\u0435 \u043d\u0435",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]);return a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435((d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?+d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:0)^(f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?+f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:0))},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0438\u043b\u0438",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]);return d.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?d:a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1])},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0438",(a,h)=>{if(!a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)return a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!1);var f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]);return a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!!f.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u044d\u043d\u0435\u0440\u0433\u0438\u0447\u043d\u043e\u0435 \u0438\u043b\u0438",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]);return d||f||We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!1)},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0447\u0438\u0441\u043b\u0430 \u043c\u0438\u043d",(a,h)=>We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.min(+a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435,+a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0447\u0438\u0441\u043b\u0430 \u043c\u0430\u043a\u0441",(a,h)=>We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.max(+a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435,+a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[1]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)),!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0435\u0441\u043b\u0438",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=h[1],p=h[2],g=d.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()?f:p;return null==g?null:a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(g,null,null,!0,!1,!1,null)},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u043e\u043a\u0440\u0430\u0449\u0451\u043d\u043d\u043e\u0435 \u0435\u0441\u043b\u0438",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]),f=h[1],p=h[2],g=d.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()?f:p;return null==g?null:a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(g,null,null,!0,!1,!1,null)},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u043e\u043a\u0430",(a,h)=>{var d=!1,f=null;try{var p=h[0];do{if(p&&(d=!!a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(p).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435),!d)break;var g=h[1];if(g){try{f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(g,null,null,!0,!1,!1,null)}catch(m){if(m&&m.constructor!==PE)throw m}if(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430)break}}while(d)}catch(m){if(m&&m.constructor!==EE)throw m}return f},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0434\u0435\u043b\u0430\u0442\u044c",(a,h)=>{var d=!1,f=null;try{var p=h[0],g=h[1];do{if(g){try{f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(g,null,null,!0,!1,!1,null)}catch(m){if(m&&m.constructor!==PE)throw m}if(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430)break}p&&(d=!!a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(p).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}while(d)}catch(m){if(m&&m.constructor!==EE)throw m}return f},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u043e\u0437\u0438\u0446\u0438\u044f",(a,h)=>{if(!a.\u0435\u0441\u0442\u044c\u041e\u0442\u043b\u0430\u0434\u0447\u0438\u043a())return null;var f=h[0].\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442;return a.\u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c\u041f\u043e\u0437\u0438\u0446\u0438\u044e(f),null},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0437\u0430\u043f\u044f\u0442\u0430\u044f",(a,h)=>{var d=null;for(let p of h)d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(p)||null;return d},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0446\u0438\u043a\u043b",(a,h)=>{var d=!0,f=null,p=h[0],g=h[1],m=h[2],v=h[3];let _=()=>{p&&(d=!!a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(p).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435);try{for(;d;){if(g){try{f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(g,null,null,!0,!1,!1,null)}catch(y){if(y&&y.constructor!==PE)throw y}if(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430)break}v&&a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(v,null,null,!0,!1,!1,null),p&&(d=!!a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(p).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)}}catch(y){if(y&&y.constructor!==EE)throw y}return f};return m?a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(m,null,null,!0,!1,!1,_):_(),f},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c",(a,h)=>{var d=null,f=h[0],p=h[1],g=h[2],m=h[3];try{f&&(d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(f,null,null,!0,!1,!1,null)),m&&(d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(m,null,null,!0,!1,!1,null))}catch(v){if(g)try{a.\u043d\u0430\u0447\u0430\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(null,null,null,!0,!1,!1),a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),We.\u044d\u0442\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0421\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(v)?v:We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(""+v)),a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(g,null,null,!0,!1,!1,null),a.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,!1),d=a.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442}catch(_){throw a.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,!1),m&&(d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(m,null,null,!0,!1,!1,null)),_}m&&(d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(m,null,null,!0,!1,!1,null))}return d},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043a\u043b\u0430\u0441\u0441",(a,h)=>{var d=h[0].\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432(),f=a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043a\u043b\u0430\u0441\u0441");f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441=ll.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442();var p=f.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();return d.forEach(g=>{a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0412\u041a\u043b\u0430\u0441\u0441\u041c\u0435\u0442\u043e\u0434\u0418\u043b\u0438\u0414\u0430\u043d\u043d\u044b\u0435(g,p)}),f},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c",(a,h)=>a.\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c\u041d\u0430\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h[0]),!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0432\u0435\u0440\u043d\u0443\u0442\u044c",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h[0]);return a.\u0432\u043e\u0437\u0432\u0440\u0430\u0442(d),d},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043a\u043e\u043f\u0438\u044f",(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(h[0]);return null==d?null:a.\u043a\u043e\u043f\u0438\u044f\u041e\u0431\u044a\u0435\u043a\u0442\u0430(d)},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u044d\u0442\u043e",(a,h)=>a.\u044d\u0442\u043e\u0442\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0412\u044b\u0437\u043e\u0432\u0430.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0],!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u0440\u0435\u0440\u0432\u0430\u0442\u044c",(a,h)=>{throw new EE},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",(a,h)=>{throw new PE},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044e",(a,h)=>{var f=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(h[0]),p=null;if(f&&f.\u044d\u0442\u043e\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c()){var g=f.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442.\u043e\u0431\u044a\u0435\u043a\u0442;p=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(a.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(g),null,null,!1,!1,!1,null)}return p},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0432\u044b\u0437\u0432\u0430\u0442\u044c",(a,h)=>{var d=!1;do{d=!1;var p=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(h[0],null,null,!0,!1,!1,null),g=null,m=null,v=null,_=null;if(p&&p.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0437\u0430\u0445\u0432\u0430\u0442"==p.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f&&(_=p.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442).\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430&&_.\u0438\u043c\u044f\u041f\u043e\u043b\u044f){v=_.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430();var y=_.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c(v);m=_.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430,p=y}var b=!1;if(p&&p.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f)if("\u043a\u043b\u0430\u0441\u0441"===p.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){b=!0,(g=a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043e\u0431\u044a\u0435\u043a\u0442")).\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441=p;var O=p;if(O&&O.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&O.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441&&(O.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441.\u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0438\u0442\u044c\u0412\u0441\u0435\u041f\u043e\u043b\u044f((F,L)=>{if("\u043f\u043e\u043b\u0435"==L.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var $=L.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442,U=a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438($.\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u0418\u043d\u0438\u0446\u0438\u0438\u0440\u0443\u044e\u0449\u0435\u0433\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f,null,null,!0,!1,!1,null));g.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(F,U)}}),O.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u043a\u043b\u0430\u0441\u0441.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c("\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"))){var S=[a.\u0437\u0430\u0445\u0432\u0430\u0442\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(g,"\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"),We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0)];for(let F=2;F<a.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.length;F++)S.push(a.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[F]);var w=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(S);a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(w)}}else if("\u043c\u0435\u0442\u043e\u0434"==p.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){b=!0;var x=h[1].\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e(),T=h[2],D=[m||We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()];if(T)for(let F=2;F<h.length;F++){var P=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(h[F],null,null,!0,!1,!1,null);D.push(P)}var N=p.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442;g=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(N.\u0442\u0435\u043b\u043e,D,N.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432(!0),!1,x,x,null)}if(!b&&!d)throw a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(v?`\u041d\u0435 \u043c\u043e\u0433\u0443 \u0432\u044b\u0437\u0432\u0430\u0442\u044c "${v}".`:`\u041d\u0435 \u043c\u043e\u0433\u0443 \u0432\u044b\u0437\u0432\u0430\u0442\u044c "${p?p.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?p.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f:p.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:null}".`)}while(d);return g},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u043e\u043b\u044e",(a,h)=>{var f=h[1],p=a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(h[0],null,null,!0,!1,!1,null)),m=a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(f,null,null,!0,!1,!1,null));return a.\u0437\u0430\u0445\u0432\u0430\u0442\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p,m)},!1)}}class jYe{\u0432\u0421\u0442\u0440\u043e\u043a\u0443\u0427\u0438\u0441\u043b\u043e=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[2]);return l.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.floor(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()).toString(d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};isNaN=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Number.isNaN(h.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435))};isInteger=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Number.isInteger(h.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435))};isFinite=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Number.isFinite(h.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435))};isSafeInteger=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Number.isSafeInteger(h.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435))};sign=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()<0?-1:1)};floor=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.floor(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};ceil=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.ceil(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};round=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.round(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};max=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[2]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.max(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};min=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[2]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.min(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};abs=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.abs(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};pow=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[2]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.pow(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};sqrt=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.sqrt(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};sin=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.sin(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};cos=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.cos(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};tan=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.tan(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};ctg=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1/Math.tan(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};exp=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.exp(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))};ln=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.log(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e())/Math.exp(1))};lg=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.log(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e())/Math.LN10)};log=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.log(h.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))}}class DE{static builder(){return DE.setup(new DE)}static setup(l){return l}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0414\u0430\u043d\u043d\u044b\u0435=(l,a)=>{var f=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435.imageData.data,p=y9.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442\u0411\u0430\u0439\u0442\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0430\u043d\u043d\u044b\u0435(f);return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442\u0421\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u043e\u043c("\u0411\u0430\u0439\u0442\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432","\u0411\u0430\u0439\u0442\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p)};\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0428\u0438\u0440\u0438\u043d\u0443=(l,a)=>{var d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435;return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d.imageData.width)};\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0412\u044b\u0441\u043e\u0442\u0443=(l,a)=>{var d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435;return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d.imageData.height)}}class ME{static builder(){return ME.setup(new ME)}static setup(l){return l}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]),f=h.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435;return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f.data[d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()])};\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c=(l,a)=>{var h=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]),d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[1]),f=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[2]);return h.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435.data[d.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()]=f.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),h};\u0434\u043b\u0438\u043d\u0430=(l,a)=>{var d=l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(a[0]).\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435;return l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d.data.length)}}class EE{}class PE{}class Qw{\u043f\u0430\u0440\u0441\u0435\u0440=null;\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b=[];\u0444\u0443\u043d\u043a\u0446\u0438\u0438=new Map;\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b=new es;\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430=1;\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430=0;\u0437\u0430\u043f\u0430\u0441\u043d\u044b\u0435\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u044f\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430=[];\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430=!1;\u043e\u0442\u043b\u0430\u0434\u0447\u0438\u043a=null;constructor(){this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b()}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0441\u0435\u0440(l){return this.\u043f\u0430\u0440\u0441\u0435\u0440=l,this}\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(){return++this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430,this}\u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(){return--this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430,this}get \u0435\u0441\u0442\u044c\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442(){return this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b.length>0}get \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442(){return this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b[0]}get \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442(){return this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b[this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430]}get \u044d\u0442\u043e\u0442\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0412\u044b\u0437\u043e\u0432\u0430(){return this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b[this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430]}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442(l){this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b.unshift(l)}\u0443\u0434\u0430\u043b\u0438\u0442\u044c\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442(){this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b.shift()}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0435\u0442\u043e\u0434\u0412\u041e\u0431\u044a\u0435\u043a\u0442(l,a,h,d){let f=l.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();if(null==f)throw new Error(`\u041e\u0431\u044a\u0435\u043a\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0439, \u0430 \u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f: "${l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?.\u0438\u043c\u044f}".`);if(f.has(a))throw new Error(`\u0423\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0441 \u0438\u043c\u0435\u043d\u0435\u043c: "${a}".`);return f.set(a,this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(h))))),l}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435(l){return this.\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435=l,this}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435(){return this.\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(l,a,h){if(this.\u0444\u0443\u043d\u043a\u0446\u0438\u0438.has(l))throw new Error(`\u0423\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0441 \u0438\u043c\u0435\u043d\u0435\u043c: "${l}".`);return this.\u0444\u0443\u043d\u043a\u0446\u0438\u0438.set(l,m9.\u043d\u043e\u0432\u0430\u044f\u0424\u0443\u043d\u043a\u0446\u0438\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(R1.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(a)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432(h)),this}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(l){let a=this.\u0444\u0443\u043d\u043a\u0446\u0438\u0438.get(l);if(!a)throw new Error(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f: "${l}".`);return a}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0412\u041a\u043b\u0430\u0441\u0441\u041c\u0435\u0442\u043e\u0434\u0418\u043b\u0438\u0414\u0430\u043d\u043d\u044b\u0435(l,a){var h=l.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b;let d=h[0].\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),p=null;return h[1].\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()?(p=this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(h[2]).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(h[3]))),a?.set(d,p)):(p=this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043f\u043e\u043b\u0435").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(b9.\u043d\u043e\u0432\u043e\u0435\u041f\u043e\u043b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u0418\u043d\u0438\u0446\u0438\u0438\u0440\u0443\u044e\u0449\u0435\u0433\u043e\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f(h[2]))),a?.set(d,p)),p}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(l){var a=null;for(let y=0;y<this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b.length;y++){var h=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b[y];if(!(y<this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430)||h.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445){if(a=h.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(l))break;if(h.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445&&h.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.length){var d=h.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0],f=d;if(d.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0437\u0430\u0445\u0432\u0430\u0442"==d.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var p=d.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442;f=p.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(p.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())}if(f.\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430()&&(a=f.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(l))&&(a=this.\u0437\u0430\u0445\u0432\u0430\u0442\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f,l)),a)break}if(h.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432){for(var g=-1,m=0;m<h.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432.length;m++)if(h.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432[m].\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()==l){g=m+1;break}if(g>=0&&(a=h.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[g]),a)break}if(!a&&h.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445){if(y+1<this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b.length){y=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b.length-2;continue}if(this.\u0444\u0443\u043d\u043a\u0446\u0438\u0438.has(l)){var v=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b[2];a=this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(l).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(v.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b&&v.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.length>=2?[...v.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.filter((b,O)=>O>=2)]:null))))}else{var _=this.\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get(l);_&&(a=_)}}if(a||h.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445)break}}return a}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0445\u0432\u0430\u0442\u0418\u043b\u0438\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(l,a,h){let d=!1;if(l&&l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0437\u0430\u0445\u0432\u0430\u0442"===l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var f=l.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442;f.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?f.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(f.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),h):f.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()&&(f.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432()[f.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()]=h),d=!0}else a&&(this.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(a,h),d=!0);return d}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\u0418\u0437\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(l,a){let h=null;for(let f=0;f<this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b.length;f++){let p=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b[f];if(!(f<this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430)||p.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445){if(h=p.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(l),h)break;if(p.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445&&p.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.length){var d=p.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0];if(d.\u044d\u0442\u043e\u041a\u0430\u0440\u0442\u0430()&&d.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().has(l))return d.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(l,a),a;if(h)break}if(h||p.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445)break}}if(null==h&&(h=this.\u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(l,a)),h)h.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435=a;else if(null!=a)throw new Error(`\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c: "${l}".`);return h}\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(l){return this.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(l))}\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(l){return this.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(this.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(l)))}\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(l){if(null==l)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430: \u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d \u043d\u0443\u043b\u0435\u0432\u043e\u0439 \u043e\u0431\u044a\u0435\u043a\u0442.");return l}\u043a\u043e\u043f\u0438\u044f\u041e\u0431\u044a\u0435\u043a\u0442\u0430(l){var a=l;return l.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?a=this.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(l.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()):l.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()?a=this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(l.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()):l.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432()&&(a=this.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(l.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().concat([]))),a}\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u0422\u0435\u043a\u0441\u0442(l,a=!1){if(!this.\u043f\u0430\u0440\u0441\u0435\u0440)throw new Error("\u041f\u0430\u0440\u0441\u0435\u0440 \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d.");let h=this.\u043f\u0430\u0440\u0441\u0435\u0440.\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(l,a);return this.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h),null,null,!0,!0,!1,null))}\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(l){var a=null;if(l.\u044d\u0442\u043e\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u041a\u043e\u043c\u0430\u043d\u0434\u0430())if(l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u043a\u043e\u043c\u0430\u043d\u0434\u0430"===l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){let f=l;if(f.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()){var h=this.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(l.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),d=h.\u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b?this.\u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(f.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b):f.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b;h.\u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b||this.\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430();try{a=this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(h,d,f.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432,!1,h.\u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445\u0412\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0435,!1,null),h.\u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b||this.\u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430()}catch(p){throw h.\u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b||this.\u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430(),p}}else l.\u044d\u0442\u043e\u0424\u0443\u043d\u043a\u0446\u0438\u044f()&&(a=this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(l,f.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b,f.\u0438\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432,!0,!0,!1,null))}else a=l;else a=l;return a}\u043d\u0430\u0447\u0430\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(l,a,h,d=!0,f=!0,p=!1){var g=d?this.\u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(a):a;return this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442(UYe.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(l).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(g).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u0435\u043d\u0430\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432(h).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445(f)),p?(this.\u0437\u0430\u043f\u0430\u0441\u043d\u044b\u0435\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u044f\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430.push({\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435:this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430,\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u0412\u044b\u0437\u043e\u0432\u0430:this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430}),this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430=1,this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430=0):this.\u0437\u0430\u043f\u0430\u0441\u043d\u044b\u0435\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u044f\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430.length&&++this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430,this}\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(l=!1,a=!1){var h=!!l&&this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442,d=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0412\u0441\u043f\u043b\u044b\u0442\u0438\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445;if(this.\u0443\u0434\u0430\u043b\u0438\u0442\u044c\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442(),l&&h&&this.\u0435\u0441\u0442\u044c\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442&&(this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=h),this.\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430&&d?this.\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430=!1:this.\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430&&this.\u0435\u0441\u0442\u044c\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442&&(this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b=Number.MAX_VALUE),a){var f=this.\u0437\u0430\u043f\u0430\u0441\u043d\u044b\u0435\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u044f\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430.pop();this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430=f.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435,this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430=f.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u0412\u044b\u0437\u043e\u0432\u0430}else this.\u0437\u0430\u043f\u0430\u0441\u043d\u044b\u0435\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u044f\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430.length&&--this.\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u042d\u0442\u043e\u0433\u043e\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430;return this}\u0435\u0441\u0442\u044c\u041e\u0442\u043b\u0430\u0434\u0447\u0438\u043a(){return!!this.\u043e\u0442\u043b\u0430\u0434\u0447\u0438\u043a}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0442\u043b\u0430\u0434\u0447\u0438\u043a(l){return this.\u043e\u0442\u043b\u0430\u0434\u0447\u0438\u043a=l,this}\u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c\u041f\u043e\u0437\u0438\u0446\u0438\u044e(l){return this.\u043e\u0442\u043b\u0430\u0434\u0447\u0438\u043a?this.\u043e\u0442\u043b\u0430\u0434\u0447\u0438\u043a(this,l):this}\u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(l){return null==l?null:l.map(a=>this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(a))}\u0432\u043e\u0437\u0432\u0440\u0430\u0442(l){return this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=l,this.\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430=!0,this}\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(l){var a=null;if(l&&l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u0437\u0430\u0445\u0432\u0430\u0442"===l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f){var h=l.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442;h.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?a=h.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(h.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()):h.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u044d\u0442\u043e\u0427\u0438\u0441\u043b\u043e()&&(a=h.\u043e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0418\u0437\u041c\u0430\u0441\u0441\u0438\u0432\u0430(h.\u0438\u043c\u044f\u041f\u043e\u043b\u044f.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))}else a=l;return a}\u0437\u0430\u0445\u0432\u0430\u0442\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(l,a){return this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0437\u0430\u0445\u0432\u0430\u0442").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(O9.\u043d\u043e\u0432\u044b\u0439\u0417\u0430\u0445\u0432\u0430\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442\u0417\u0430\u0445\u0432\u0430\u0442\u0430(l).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f\u041f\u043e\u043b\u044f("string"!=typeof a?a:this.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a))))}\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c\u041d\u0430\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(l){return this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(kE.\u043d\u043e\u0432\u044b\u0439\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(l)))}\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f(l){var a=l.\u043a\u0430\u043a\u041d\u0430\u0442\u0438\u0432\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u043e\u0431\u044a\u0435\u043a\u0442;if(!(a instanceof kE))throw new Error(`\u041e\u0431\u044a\u0435\u043a\u0442 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0435\u043c. \u0418\u043c\u044f \u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u0430: '${l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f?.\u0438\u043c\u044f}'.`);return a.\u043e\u0431\u044a\u0435\u043a\u0442}\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(){var l=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442,a=l.\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439,h=!1,d=null;try{if(l.\u043a\u043e\u043c\u0430\u043d\u0434\u0430.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432()){var f=l.\u043a\u043e\u043c\u0430\u043d\u0434\u0430.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432();if(l.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b<f.length){let p=f[l.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b++];h=l.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043e\u043c\u0430\u043d\u0434\u044b<f.length,l.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(p)}}else l.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=l.\u043a\u043e\u043c\u0430\u043d\u0434\u0430}catch(p){d=p}if(a!==l.\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439&&(h=!0),d)throw d;return h}\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(l,a,h,d,f,p,g){var m=null;if(l.\u044d\u0442\u043e\u0424\u0443\u043d\u043a\u0446\u0438\u044f())try{var v=l.\u043a\u0430\u043a\u0424\u0443\u043d\u043a\u0446\u0438\u044f().\u0444\u0443\u043d\u043a\u0446\u0438\u044f;this.\u043d\u0430\u0447\u0430\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(l,a,h,d,f,p),this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=v(this,this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b),g&&(this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=g()),m=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442,this.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,p)}catch(_){throw this.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,p),_}else if(l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f&&"\u043a\u043e\u043c\u0430\u043d\u0434\u0430"===l.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.\u0438\u043c\u044f)try{this.\u043d\u0430\u0447\u0430\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(l,a,h,d,f,p),this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(l),g&&(this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=g()),m=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442,this.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,p)}catch(_){throw this.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,p),_}else if(l.\u044d\u0442\u043e\u041c\u0430\u0441\u0441\u0438\u0432())try{for(this.\u043d\u0430\u0447\u0430\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(l,a,h,!0,f,p);this.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(););g&&(this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442=g()),m=this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0442\u0435\u043a\u0443\u0449\u0438\u0439\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442,this.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,p)}catch(_){throw this.\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438(!0,p),_}else m=this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(l),g&&(m=g());return null==m&&(m=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()),m}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(l,a){return this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(l,a),this}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(l,a){return this.\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e(l)}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e(){return th.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e\u0412\u0414\u0432\u0438\u0436\u043e\u043a(this),Qw.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0445\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445\u0412\u0414\u0432\u0438\u0436\u043e\u043a(this),this}\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442\u041f\u043e\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u0443(l,a="\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e"){return ll.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(l).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043b\u0430\u0441\u0441(this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c(a)))}\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(l){return ll.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(l))}\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442\u0421\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u043e\u043c(l,a=""){return ll.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(a?Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(l).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043b\u0430\u0441\u0441(this.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c(a))):Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(l))}\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430(l){return L1.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(l).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043b\u0430\u0441\u0441(this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c("\u0441\u0442\u0440\u043e\u043a\u0430")))}\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432(l){return Uw.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(l).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043b\u0430\u0441\u0441(this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c("\u043c\u0430\u0441\u0441\u0438\u0432")))}\u043d\u043e\u0432\u044b\u0439\u0410\u0421\u0414(l){return this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442\u0421\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u043e\u043c(l,"\u0410\u0421\u0414")}\u043d\u043e\u0432\u044b\u0439\u0414\u0432\u0443\u043c\u0435\u0440\u043d\u044b\u0439\u0425\u043e\u043b\u0441\u0442(l){return this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442\u0421\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u043e\u043c(l,"\u0414\u0432\u0443\u043c\u0435\u0440\u043d\u044b\u0439\u0425\u043e\u043b\u0441\u0442")}static \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0445\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445\u0412\u0414\u0432\u0438\u0436\u043e\u043a(l){var a=l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442\u041f\u043e\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u0443("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e");l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435(l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043a\u0430\u0440\u0442\u0430")).\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435().\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.set("\u0441\u0438\u0441\u0442\u0435\u043c\u0430",a),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e",(d,f)=>a,!0);var h=l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442\u041f\u043e\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u0443("\u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430","\u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430");h.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.set("PI",l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.PI)),h.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.set("E",l.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(Math.E)),l.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435().\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.set("\u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430",h),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0441\u0442\u043e\u043f",(d,f)=>(d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(f[0]),f.length?f[0]:We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()),!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(d,f)=>{var p=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(f[0]),g=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(f[1]);return a.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),g),g},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c",(d,f)=>{var p=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(f[0]);return a.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get(p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())},!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",(d,f)=>{var p=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(f[0]),g=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(f[1]);return a.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),g),g},!1),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c",(d,f)=>{var p=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443(f[0]);return a.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get(p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())},!1)}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0412\u0441\u0435\u041c\u0435\u0442\u043e\u0434\u044b\u041e\u0431\u044a\u0435\u043a\u0442\u0430\u0412\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(l,a){for(let h in l)this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041c\u0435\u0442\u043e\u0434\u0412\u041e\u0431\u044a\u0435\u043a\u0442(a,h,l[h],!1);return a}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b(){this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c("\u0441\u0442\u0440\u043e\u043a\u0430",this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0412\u0441\u0435\u041c\u0435\u0442\u043e\u0434\u044b\u041e\u0431\u044a\u0435\u043a\u0442\u0430\u0412\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(new QYe,ll.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442())),this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c("\u043c\u0430\u0441\u0441\u0438\u0432",this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0412\u0441\u0435\u041c\u0435\u0442\u043e\u0434\u044b\u041e\u0431\u044a\u0435\u043a\u0442\u0430\u0412\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(new HYe,ll.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442()));{let l=new WYe;l.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c=(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(h[1]);if(!this.\u043f\u0430\u0440\u0441\u0435\u0440)throw"\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u043f\u0430\u0440\u0441\u0435\u0440.";let f=this.\u043f\u0430\u0440\u0441\u0435\u0440.\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());return a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(f[0])},l.\u0444\u0430\u0431\u0440\u0438\u043a\u0430\u0417\u0430\u043c\u0435\u043d\u044b\u041a\u043e\u043f\u0438\u0439=(a,h)=>{if(!this.\u043f\u0430\u0440\u0441\u0435\u0440)throw"\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u043f\u0430\u0440\u0441\u0435\u0440.";let d=this.\u043f\u0430\u0440\u0441\u0435\u0440.\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a("\n              \u0440\u0430\u0437\u0431\u043e\u0440 \u043a\u043b\u0430\u0441\u0441\u0430 \u043a\u043b\u0430\u0441\u0441 {\n                \u0438\u043d\u043b\u0430\u0439\u043d\u0417\u0430\u043c\u0435\u043d\u0430\u041a\u043e\u043f\u0438\u0439(\u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u0417\u0430\u043c\u0435\u043d\u044b\u041a\u043e\u043f\u0438\u0439)\n                {\n                  \u043f\u0430\u043c\u044f\u0442\u044c\u041a\u043e\u043f\u0438\u044f = \u043a\u043b\u0430\u0441\u0441 {\n                    \u0430\u0441\u0434 = 0;\n                    \u0438\u043d\u0434\u0435\u043a\u0441 = 0;\n                    \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440(_\u0430\u0441\u0434, _\u0438\u043d\u0434\u0435\u043a\u0441) {\n                      \u0430\u0441\u0434 = _\u0430\u0441\u0434;\n                      \u0438\u043d\u0434\u0435\u043a\u0441 = _\u0438\u043d\u0434\u0435\u043a\u0441;\n                    }\n                  };\n                  \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0449\u0438\u043a = \u043a\u043b\u0430\u0441\u0441 {\n                    \u0441\u0434\u0435\u043b\u0430\u0442\u044c\u041a\u043e\u043f\u0438\u044e(\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435) {\n                      \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435;\n                    }\n                    \u0441\u043f\u0438\u0441\u043e\u043a\u041a\u043e\u043f\u0438\u0439(\u0430\u0441\u0434, \u043a\u043e\u043f\u0438\u044f, \u0441\u043f\u0438\u0441\u043e\u043a) {\n                      \u043f\u0430\u043c\u044f\u0442\u044c\u041a\u043e\u043f\u0438\u044f = \u043a\u043b\u0430\u0441\u0441 {\n                        \u0430\u0441\u0434 = 0;\n                        \u0438\u043d\u0434\u0435\u043a\u0441 = 0;\n                        \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440(_\u0430\u0441\u0434, _\u0438\u043d\u0434\u0435\u043a\u0441) {\n                          \u0430\u0441\u0434 = _\u0430\u0441\u0434;\n                          \u0438\u043d\u0434\u0435\u043a\u0441 = _\u0438\u043d\u0434\u0435\u043a\u0441;\n                        }\n                      };\n                      \u0442\u0438\u043f\u041e\u0431\u044a\u0435\u043a\u0442\u0430 = \u0430\u0441\u0434.\u0442\u0438\u043f();\n                      \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 = \u0430\u0441\u0434.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432();\n                      if (\u0442\u0438\u043f\u041e\u0431\u044a\u0435\u043a\u0442\u0430 === '\u043a\u043e\u043c\u0430\u043d\u0434\u0430'){\n                        if (\u0430\u0441\u0434.\u043a\u043e\u043c\u0430\u043d\u0434\u0430() === '\u043a\u043e\u043f\u0438\u044f') {\n                          \u0441\u043f\u0438\u0441\u043e\u043a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c(\u043a\u043e\u043f\u0438\u044f);\n                          \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 = 0;\n                        }\n                      }\n                      for(i = 0; i < \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432; ++i) {\n                       \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 = \u0430\u0441\u0434.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440(i);\n                       \u0441\u043f\u0438\u0441\u043e\u043a\u041a\u043e\u043f\u0438\u0439(\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440, \u043f\u0430\u043c\u044f\u0442\u044c\u041a\u043e\u043f\u0438\u044f(\u0430\u0441\u0434, i),  \u0441\u043f\u0438\u0441\u043e\u043a);\n                      }\n                    }\n                  };\n                  //\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c('\u0437\u0430\u043c\u0435\u043d\u0430\u041a\u043e\u043f\u0438\u0439 = \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438;...');\n                  \u0430\u0441\u0434 = \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0410\u0421\u0414(\u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u0417\u0430\u043c\u0435\u043d\u044b\u041a\u043e\u043f\u0438\u0439);\n                  //\u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c\u0410\u0421\u0414(\u0430\u0441\u0434, '');\n                  \u0441\u043f\u0438\u0441\u043e\u043a = [];\n                  \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0449\u0438\u043a.\u0441\u043f\u0438\u0441\u043e\u043a\u041a\u043e\u043f\u0438\u0439(\u0430\u0441\u0434, \u043f\u0430\u043c\u044f\u0442\u044c\u041a\u043e\u043f\u0438\u044f(\u0430\u0441\u0434, -1), \u0441\u043f\u0438\u0441\u043e\u043a);\n                  //\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c('\u0414\u043b\u0438\u043d\u0430 \u0441\u043f\u0438\u0441\u043a\u0430: ' + \u0441\u043f\u0438\u0441\u043e\u043a.\u0434\u043b\u0438\u043d\u0430());\n                  for(i = 0; i < \u0441\u043f\u0438\u0441\u043e\u043a.\u0434\u043b\u0438\u043d\u0430(); ++i){\n                    \u043f\u0430\u0440\u0430 = \u0441\u043f\u0438\u0441\u043e\u043a[i];\n                    //\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c('\u043f\u0430\u0440\u0430: [' + \u043f\u0430\u0440\u0430.\u0438\u043d\u0434\u0435\u043a\u0441 + '];');\n                    \u0440\u0435\u0437 = \u043f\u0430\u0440\u0430.\u0438\u043d\u0434\u0435\u043a\u0441 == -1 ? \u043f\u0430\u0440\u0430.\u0430\u0441\u0434.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c() :\n                      \u0412\u042b\u0417\u041e\u0412 \u043f\u0430\u0440\u0430.\u0430\u0441\u0434.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440(\u043f\u0430\u0440\u0430.\u0438\u043d\u0434\u0435\u043a\u0441).\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c();\n                    \u043f\u0430\u0440\u0430.\u0430\u0441\u0434.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440(\u043f\u0430\u0440\u0430.\u0438\u043d\u0434\u0435\u043a\u0441, \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0449\u0438\u043a.\u0441\u0434\u0435\u043b\u0430\u0442\u044c\u041a\u043e\u043f\u0438\u044e(\u0440\u0435\u0437));\n                  }\n                }\n              }");return a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[0])},l.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u043eHttp=(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(h[1]),f=pageLoadedFrom+d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430();let p=new XMLHttpRequest;p.open("GET",f,!1);var g=null;try{if(p.send(),200!=p.status)throw`\u041e\u0448\u0438\u0431\u043a\u0430 ${p.status}: ${p.statusText}`;g=a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(p.response)}catch{throw`\u041e\u0448\u0438\u0431\u043a\u0430 ${p.status}: ${p.statusText}`}return g},l.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f=(a,h)=>{var d=a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(h[1]),f=this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c(d.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());return null==f&&(f=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)),f},l.\u0432\u0440\u0435\u043c\u044f=(a,h)=>{var d=Date.now();return a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d)},this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c("\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e",this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0412\u0441\u0435\u041c\u0435\u0442\u043e\u0434\u044b\u041e\u0431\u044a\u0435\u043a\u0442\u0430\u0412\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(l,ll.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442()))}this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c("\u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430",this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0412\u0441\u0435\u041c\u0435\u0442\u043e\u0434\u044b\u041e\u0431\u044a\u0435\u043a\u0442\u0430\u0412\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(new jYe,ll.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442())),this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c("\u0410\u0421\u0414",this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0412\u0441\u0435\u041c\u0435\u0442\u043e\u0434\u044b\u041e\u0431\u044a\u0435\u043a\u0442\u0430\u0412\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(new ZYe,ll.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442())),this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c("\u0414\u0432\u0443\u043c\u0435\u0440\u043d\u044b\u0439\u0425\u043e\u043b\u0441\u0442",this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0412\u0441\u0435\u041c\u0435\u0442\u043e\u0434\u044b\u041e\u0431\u044a\u0435\u043a\u0442\u0430\u0412\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f($s.builder(),ll.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442())),this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c("\u0414\u0430\u043d\u043d\u044b\u0435\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0412\u0441\u0435\u041c\u0435\u0442\u043e\u0434\u044b\u041e\u0431\u044a\u0435\u043a\u0442\u0430\u0412\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(DE.builder(),ll.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442())),this.\u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u044b.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c("\u0411\u0430\u0439\u0442\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432",this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0412\u0441\u0435\u041c\u0435\u0442\u043e\u0434\u044b\u041e\u0431\u044a\u0435\u043a\u0442\u0430\u0412\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(ME.builder(),ll.\u043d\u043e\u0432\u044b\u0439\u041f\u0440\u043e\u0441\u0442\u043e\u0439\u041e\u0431\u044a\u0435\u043a\u0442()))}}class GYe{static \u043d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0443(l){for(var a="",h=!1,d=0;d<l.length;++d){var f=l.charAt(d);if(h){switch(f){case"\\":a+="\\";break;case'"':a+='"';break;case"'":a+="'";break;case"r":a+="\r";break;case"n":a+="\n";break;case"t":a+="\t";break;default:a+=f}h=!1}else(h="\\"==f)||(a+=f)}return a}}class C9{op;exp;location;constructor(l,a,h){this.op=l,this.exp=a,this.location=h}static builder(){return new C9("",null,null)}setExp(l){return this.exp=l,this}setOp(l){return this.op=l,this}setLocation(l){return this.location=l,this}\u043d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0443(l){return GYe.\u043d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0443(l)}done(){let l=this.exp;switch(this.op){case"!":l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043e\u0442\u0440\u0438\u0446\u0430\u043d\u0438\u0435").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp]);break;case"+i":{let a=this.exp;l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u043f\u043b\u044e\u0441").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([a])}break;case"-i":{let a=this.exp;l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u043c\u0438\u043d\u0443\u0441").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([a])}break;case"++i":{let a=this.exp,h=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1);"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c"==a.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()&&a.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0].\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?a=a.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0]:(l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430(),h.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0)),l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0438\u043d\u043a\u0440\u0435\u043c\u0435\u043d\u0442").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([a,h])}break;case"i++":{let a=this.exp,h=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1);"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c"==a.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()&&a.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0].\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?a=a.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0]:(l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430(),h.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0)),l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u0441\u0442\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0438\u043d\u043a\u0440\u0435\u043c\u0435\u043d\u0442").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([a,h])}break;case"--i":{let a=this.exp,h=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1);"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c"==a.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()&&a.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0].\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?a=a.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0]:(l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430(),h.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0)),l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0434\u0435\u043a\u0440\u0435\u043c\u0435\u043d\u0442").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([a,h])}break;case"i--":{let a=this.exp,h=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(1);"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c"==a.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()&&a.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0].\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?a=a.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0]:(l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430(),h.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(0)),l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u0441\u0442\u0444\u0438\u043a\u0441\u043d\u044b\u0439 \u0434\u0435\u043a\u0440\u0435\u043c\u0435\u043d\u0442").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([a,h])}break;case";":l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u043e\u043c\u0430\u043d\u0434\u0430")).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043d\u0435\u0442 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438");break;case"{;}":case"number":case"\u043f\u043e\u043b\u044f":l=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.exp);break;case"(,)":break;case"{,}":{let a=[];this.exp&&this.exp.forEach(h=>{a.push(h)}),l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043a\u043b\u0430\u0441\u0441").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a)]),l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([l])}break;case"object":l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043e\u0431\u044a\u0435\u043a\u0442").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp]);break;case"array":l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043c\u0430\u0441\u0441\u0438\u0432").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp]);break;case"string":l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([L1.\u043d\u043e\u0432\u044b\u0439\u0421\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.exp)]);break;case"\u044d\u0442\u043e":l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u044d\u0442\u043e");break;case"\u043d\u0443\u043b\u044c":l=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null);break;case"\u0438\u0441\u0442\u0438\u043d\u0430":l=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0);break;case"\u043b\u043e\u0436\u044c":l=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!1);break;case"id":l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.exp)]);break;case"\u0431\u0440\u043e\u0441\u0438\u0442\u044c":l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0431\u0440\u043e\u0441\u0438\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.exp)]);break;case"\u043a\u043b\u0430\u0441\u0441":{let a=[];this.exp&&this.exp.forEach(h=>{a.push(h)}),l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043a\u043b\u0430\u0441\u0441").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a)])}break;case"[,]":l=Uw.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.exp?this.exp:[]);break;case"#":l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp]);break;case"\u0432\u0435\u0440\u043d\u0443\u0442\u044c":l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u0435\u0440\u043d\u0443\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp?this.exp:We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(null)]);break;case"\u043f\u0440\u0435\u0440\u0432\u0430\u0442\u044c":l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u0440\u0435\u0440\u0432\u0430\u0442\u044c");break;case"\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c":l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c");break;case"\u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f":l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp]);break;case"\u0432\u044b\u0437\u043e\u0432":l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp]);break;case"{{{?}}}":l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043a\u043e\u043f\u0438\u044f").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.exp]);break;default:throw new Error(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u0443\u043d\u0430\u0440\u043d\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f "${this.op}".`)}return l}}class S9{left;op;right;location;debug;constructor(l,a,h,d,f){this.left=l,this.op=a,this.right=h,this.location=d,this.debug=f}static builder(){return new S9(null,"",null,null,!1)}setLeft(l){return this.left=l,this}setRight(l){return this.right=l,this}setOp(l){return this.op=l,this}setLocation(l){return this.location=l,this}setDebug(l){return this.debug=l,this}done(){let l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430(),a=d=>{let f=this.left;"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c"==f.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()&&typeof f.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0].\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()&&(f=f.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b[0]),l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(d).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([f,this.right])},h=this.debug;switch(this.op){case"(.)":{h=!1;let d=this.right?this.right:[];d.unshift(this.left,We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0)),l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(d)}break;case"((.))":{h=!1;let d=this.right?this.right:[];d.unshift(this.left,We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!1)),l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(d)}break;case"[.]":h=!1,l=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0438\u0437 \u043c\u0430\u0441\u0441\u0438\u0432\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"=":a("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c");break;case"+=":a("\u0441\u043b\u043e\u0436\u0438\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c");break;case"-=":a("\u0432\u044b\u0447\u0435\u0441\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c");break;case"*=":a("\u0443\u043c\u043d\u043e\u0436\u0438\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c");break;case"/=":a("\u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c");break;case"%=":a("\u043c\u043e\u0434\u0443\u043b\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c");break;case"<<=":a("\u0441\u0434\u0432\u0438\u0433 \u0432\u043b\u0435\u0432\u043e \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c");break;case">>=":a("\u0441\u0434\u0432\u0438\u0433 \u0432\u043f\u0440\u0430\u0432\u043e \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c");break;case">>>=":a("\u0441\u0434\u0432\u0438\u0433 \u0432\u043f\u0440\u0430\u0432\u043e \u0441 \u043d\u0443\u043b\u0451\u043c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c");break;case"+":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0443\u043c\u043c\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"-":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"*":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"/":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0447\u0430\u0441\u0442\u043d\u043e\u0435").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"%":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043c\u043e\u0434\u0443\u043b\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"|":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0431\u0438\u043d\u0430\u0440\u043d\u043e\u0435 \u0438\u043b\u0438").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"&":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0431\u0438\u043d\u0430\u0440\u043d\u043e\u0435 \u0438").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"^":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0431\u0438\u043d\u0430\u0440\u043d\u043e\u0435 \u043d\u0435").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"<<":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0434\u0432\u0438\u0433 \u0432\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case">>":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0434\u0432\u0438\u0433 \u0432\u043f\u0440\u0430\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case">>>":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0434\u0432\u0438\u0433 \u0432\u043f\u0440\u0430\u0432\u043e \u0441 \u043d\u0443\u043b\u0451\u043c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"||":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0438\u043b\u0438").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"&&":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0438").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"==":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0440\u0430\u0432\u043d\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"!=":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043d\u0435 \u0440\u0430\u0432\u043d\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"===":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0442\u0440\u043e\u0433\u043e \u0440\u0430\u0432\u043d\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"!==":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u0442\u0440\u043e\u0433\u043e \u043d\u0435 \u0440\u0430\u0432\u043d\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case">":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0431\u043e\u043b\u044c\u0448\u0435").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"<":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043c\u0435\u043d\u044c\u0448\u0435").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case">=":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"<=":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"<=>":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e \u0438\u043b\u0438 \u0431\u043e\u043b\u044c\u0448\u0435").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"?":{h=!1;let f=[...this.right];f.unshift(this.left),l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0441\u043e\u043a\u0440\u0430\u0449\u0451\u043d\u043d\u043e\u0435 \u0435\u0441\u043b\u0438").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(f)}break;case"\u0435\u0441\u043b\u0438":{let d=this.right?this.right:[];d.unshift(this.left),l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0435\u0441\u043b\u0438").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(d)}break;case"\u043f\u043e\u043a\u0430":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"\u0434\u0435\u043b\u0430\u0442\u044c":l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0434\u0435\u043b\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;case"\u0446\u0438\u043a\u043b":{let d=this.right?this.right:[];d.unshift(this.left),l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0446\u0438\u043a\u043b").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(d)}break;case"\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c":{h=!1;let d=this.right?this.right:[];d[0]=We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d[0]),d.unshift(this.left),l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(d)}break;case"\u043c\u0435\u0442\u043e\u0434":{h=!1;let d=this.right?this.right:[];d[0]&&d[0].\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435&&d[0].\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d[0].\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435.map(f=>We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f.name))),d.unshift(...[this.left,!0].map(f=>We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f))),l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(this.left).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(d.map(f=>f||We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(f)))}break;case"\u043f\u043e\u043b\u0435":h=!1,l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443(this.left).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.left),We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!1),this.right]);break;case".":h=!1,l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u043e\u043b\u044e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.right)]);break;case",":h=!1,l.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0437\u0430\u043f\u044f\u0442\u0430\u044f").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([this.left,this.right]);break;default:throw new Error(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u0431\u0438\u043d\u0430\u0440\u043d\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f: "${this.op}".`)}if(h&&this.location){let d=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430(),f=[xE.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(this.location))];d.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u043f\u043e\u0437\u0438\u0446\u0438\u044f").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(f);let p=Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430();p.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0437\u0430\u043f\u044f\u0442\u0430\u044f").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b([d,l]),l=p}return l}}class w9{\u0434\u0432\u0438\u0436\u043e\u043a=new Qw;\u0442\u0435\u043a\u0441\u0442="";\u043f\u043e\u0437\u0438\u0446\u0438\u044f\u0422\u0435\u043a\u0441\u0442\u0430=0;constructor(){this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0441\u0435\u0440(this)}\u0435\u0441\u0442\u044c\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439\u0421\u0438\u043c\u0432\u043e\u043b(){return this.\u043f\u043e\u0437\u0438\u0446\u0438\u044f\u0422\u0435\u043a\u0441\u0442\u0430<this.\u0442\u0435\u043a\u0441\u0442.length}\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439\u0421\u0438\u043c\u0432\u043e\u043b(){if(!this.\u0435\u0441\u0442\u044c\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439\u0421\u0438\u043c\u0432\u043e\u043b())throw new Error("\u0412\u0441\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u044b. \u041a\u043e\u043d\u0435\u0446 \u0442\u0435\u043a\u0441\u0442\u0430.");return this.\u0442\u0435\u043a\u0441\u0442[++this.\u043f\u043e\u0437\u0438\u0446\u0438\u044f\u0422\u0435\u043a\u0441\u0442\u0430]}\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c(l){for(this.\u0442\u0435\u043a\u0441\u0442=l,this.\u043f\u043e\u0437\u0438\u0446\u0438\u044f\u0422\u0435\u043a\u0441\u0442\u0430=0;this.\u0435\u0441\u0442\u044c\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439\u0421\u0438\u043c\u0432\u043e\u043b();)this.\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439\u0421\u0438\u043c\u0432\u043e\u043b()}\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(l,a=!1){for(var h={BinOpBuilder:()=>S9.builder().setDebug(a),UnOpBuilder:()=>C9.builder()},d=null;null==d;)try{return universalParserStatic.parse(l,{builder:h})}catch(f){d=f}throw d}}class tm{\u043e\u0431\u044a\u0435\u043a\u0442;\u0438\u043c\u044f;constructor(l,a){this.\u043e\u0431\u044a\u0435\u043a\u0442=l,this.\u0438\u043c\u044f=a}static \u043d\u043e\u0432\u044b\u0439\u0418\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(){return new tm(null,"")}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(l){return this.\u043e\u0431\u044a\u0435\u043a\u0442=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(l){return this.\u0438\u043c\u044f=l,this}}class AE{d3Config;d3Svc;\u0434\u0432\u0438\u0436\u043e\u043a;\u043f\u0430\u043c\u044f\u0442\u044c;\u043d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434;\u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440;\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b;\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b;\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438;\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438;\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0418\u043c\u0451\u043d\u041d\u0430\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0435;constructor(l,a,h,d,f,p,g=0,m=!0,v=1,_=1,y=10){this.d3Config=l,this.d3Svc=a,this.\u0434\u0432\u0438\u0436\u043e\u043a=h,this.\u043f\u0430\u043c\u044f\u0442\u044c=d,this.\u043d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434=f,this.\u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440=p,this.\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b=g,this.\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b=m,this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438=v,this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438=_,this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0418\u043c\u0451\u043d\u041d\u0430\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0435=y}static \u043d\u043e\u0432\u0430\u044f(){return new AE}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446(){if(null==this.\u043f\u0430\u043c\u044f\u0442\u044c)return 1;let l=this.\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u043e\u0431\u0449\u0435\u0435\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446");return null==l?1:l.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438(l){return this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438(l){return this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b(l){return this.\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0418\u043c\u0451\u043d\u041d\u0430\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0435(l){return this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0418\u043c\u0451\u043d\u041d\u0430\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0435=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u043e\u043a\u0430\u0437\u041f\u043e\u0434\u0432\u0430\u043b\u0430(l){return this.\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440(l){return this.\u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u0425\u043e\u043b\u0441\u0442\u0430(l,a){return this.d3Config.width=l,this.d3Config.height=a,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433(l){return this.d3Config=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0435\u0440\u0432\u0438\u0441(l){return this.d3Svc=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0432\u0438\u0436\u043e\u043a(l){return this.\u0434\u0432\u0438\u0436\u043e\u043a=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u043c\u044f\u0442\u044c(l){return this.\u043f\u0430\u043c\u044f\u0442\u044c=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434(l){return this.\u043d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434=l,this}\u0437\u0430\u043f\u0443\u0441\u043a(l=[]){return this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434),[We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(),this.\u043f\u0430\u043c\u044f\u0442\u044c,this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0437\u0430\u043f\u0443\u0441\u043a"),this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b),this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438),this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438),this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0418\u043c\u0451\u043d\u041d\u0430\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0435),this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b)].concat(l.map(h=>h.\u043e\u0431\u044a\u0435\u043a\u0442)),[We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0430\u043c\u044f\u0442\u044c"),We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0440\u0435\u0436\u0438\u043c"),We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b"),We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438"),We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438"),We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0418\u043c\u0451\u043d\u041d\u0430\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0435"),We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b")].concat(l.map(h=>We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u0438\u043c\u044f))),!0,!0,!1,null))}\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435(l=[]){return this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434),[We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(),this.\u043f\u0430\u043c\u044f\u0442\u044c,this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435"),this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b),this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b)].concat(l.map(h=>h.\u043e\u0431\u044a\u0435\u043a\u0442)),[We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0430\u043c\u044f\u0442\u044c"),We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0440\u0435\u0436\u0438\u043c"),We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b"),We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b")].concat(l.map(h=>We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(h.\u0438\u043c\u044f))),!0,!0,!1,null))}}class Hw{\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430;\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c;\u0442\u0435\u043a\u0441\u0442;\u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b=new Map;\u0441\u043e\u0431\u044b\u0442\u0438\u044f=new Map;constructor(l=0,a=0){this.\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430=l,this.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c=a}static \u043d\u043e\u0432\u044b\u0439(){return new Hw}}class x9{\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b=[Hw.\u043d\u043e\u0432\u044b\u0439()];d3Element=null;d3ElementTransition=null;constructor(){}static \u043d\u043e\u0432\u0430\u044f(){return new x9}get \u043f\u0435\u0440\u0435\u0445\u043e\u0434(){return this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b[this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b.length-1]}transition(){return this.d3Element?this.d3ElementTransition=this.d3Element.transition():this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b.push(Hw.\u043d\u043e\u0432\u044b\u0439()),this}resetTransition(){return this.d3Element?this.d3ElementTransition=null:this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b.push(Hw.\u043d\u043e\u0432\u044b\u0439()),this}duration(l){return this.d3Element?this.d3ElementTransition&&(this.d3ElementTransition=this.d3ElementTransition.duration(l)):this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c=l,this}delay(l){return this.d3Element?this.d3ElementTransition&&(this.d3ElementTransition=this.d3ElementTransition.delay(l)):this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434.\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430=l,this}attr(l,a){return this.d3Element?this.d3ElementTransition?this.d3ElementTransition=this.d3ElementTransition.attr(l,a):this.d3Element=this.d3Element.attr(l,a):this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434.\u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b.set(l,a),this}text(l){return this.d3Element?this.d3ElementTransition?this.d3ElementTransition=this.d3ElementTransition.text(l):this.d3Element=this.d3Element.text(l):this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434.\u0442\u0435\u043a\u0441\u0442=l,this}event(l,a){return this.d3Element?this.d3ElementTransition?this.d3ElementTransition=this.d3ElementTransition.on(l,a(this.d3Element)):this.d3Element=this.d3Element.on(l,a(this.d3Element)):this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434.\u0441\u043e\u0431\u044b\u0442\u0438\u044f.set(l,a),this}apply(l){this.d3Element=l;let a=this.d3Element;return this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b.forEach((h,d)=>{d&&(a=a.transition().duration(h.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c),h.\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430&&(a=a.delay(h.\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430))),h.\u0441\u043e\u0431\u044b\u0442\u0438\u044f.forEach((f,p,g)=>{a=a.on(p,f(a))}),h.\u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b.forEach((f,p,g)=>{a=a.attr(p,f)}),h.\u0442\u0435\u043a\u0441\u0442&&(a=a.text(h.\u0442\u0435\u043a\u0441\u0442)),d||(this.d3Element=a)}),this}}class IE extends We{\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f;\u043f\u0422\u0435\u043a\u0441\u0442;constructor(l,a){super(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u0422\u0435\u043a\u0441\u0442 D3"),null,new Map),this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=l,this.\u043f\u0422\u0435\u043a\u0441\u0442=a,this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438()}get \u0442\u0435\u043a\u0441\u0442(){return this.\u043f\u0422\u0435\u043a\u0441\u0442}set \u0442\u0435\u043a\u0441\u0442(l){this.\u043f\u0422\u0435\u043a\u0441\u0442=l}get \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(){return this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f}set \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(l){this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=l}static \u043d\u043e\u0432\u044b\u0439(){return new IE(null,null)}static \u043d\u043e\u0432\u044b\u0439\u0422\u0435\u043a\u0441\u0442(){return new IE(null,null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e(l){return this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0440\u0443\u0433(l){return this.\u0442\u0435\u043a\u0441\u0442=l,this}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438(){let l=this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();l.set("\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u041a\u043b\u0430\u0441\u0441",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("class",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1])).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),l.set("\u0442\u0435\u043a\u0441\u0442",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u0442\u0435\u043a\u0441\u0442.text(h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(h.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1])).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),l.set("\u043f\u043e\u0437\u0438\u0446\u0438\u044f",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("x",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this.\u0442\u0435\u043a\u0441\u0442.attr("y",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),l.set("\u0440\u0430\u0437\u043c\u0435\u0440",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("font-size",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),l.set("\u0436\u0438\u0440\u043d\u044b\u0439",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("font-weight",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()?700:300),this)))))),l.set("\u0437\u0430\u043b\u0438\u0432\u043a\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("fill",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),l.set("\u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("fill-opacity",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),l.set("\u043a\u043e\u043d\u0442\u0443\u0440",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("stroke",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),l.set("\u0442\u043e\u043b\u0449\u0438\u043d\u0430\u041a\u043e\u043d\u0442\u0443\u0440\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("stroke-width",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),l.set("\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439\u042f\u043a\u043e\u0440\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u0442\u0435\u043a\u0441\u0442.attr("text-anchor",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this))))));let a=h=>this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((d,f)=>{let g=[f[1],We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0),this];f.length>2&&g.push(...f.splice(2));let m=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(g.map(v=>d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(v))));return this.\u0442\u0435\u043a\u0441\u0442.event(h,v=>()=>{this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435([tm.\u043d\u043e\u0432\u044b\u0439\u0418\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(m).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a")])}),this}))));l.set("\u043f\u043e\u041d\u0430\u0436\u0430\u0442\u0438\u044e",a("click")),l.set("\u043f\u043e\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0438",a("end")),l.set("\u043f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u0442\u0435\u043a\u0441\u0442.transition(),this)))))),l.set("\u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u0442\u0435\u043a\u0441\u0442.resetTransition(),this)))))),l.set("\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>{let p=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]);return this.\u0442\u0435\u043a\u0441\u0442.duration(p.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this}))))),l.set("\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>{let p=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]);return this.\u0442\u0435\u043a\u0441\u0442.delay(p.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this})))))}}class RE extends We{\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f;\u043f\u041a\u0440\u0443\u0433;constructor(l,a){super(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041a\u0440\u0443\u0433 D3"),null,new Map),this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=l,this.\u043f\u041a\u0440\u0443\u0433=a,this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438()}get \u043a\u0440\u0443\u0433(){return this.\u043f\u041a\u0440\u0443\u0433}set \u043a\u0440\u0443\u0433(l){this.\u043f\u041a\u0440\u0443\u0433=l}get \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(){return this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f}set \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(l){this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=l}static \u043d\u043e\u0432\u044b\u0439(){return new RE}static \u043d\u043e\u0432\u044b\u0439\u041a\u0440\u0443\u0433(){return new RE}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e(l){return this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0440\u0443\u0433(l){return this.\u043a\u0440\u0443\u0433=l,this}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438(){let l=this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();l.set("\u0440\u0430\u0434\u0438\u0443\u0441",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043a\u0440\u0443\u0433.attr("r",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),l.set("\u043f\u043e\u0437\u0438\u0446\u0438\u044f",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043a\u0440\u0443\u0433.attr("cx",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this.\u043a\u0440\u0443\u0433.attr("cy",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),l.set("\u0437\u0430\u043b\u0438\u0432\u043a\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043a\u0440\u0443\u0433.attr("fill",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),l.set("\u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043a\u0440\u0443\u0433.attr("fill-opacity",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),l.set("\u043a\u043e\u043d\u0442\u0443\u0440",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043a\u0440\u0443\u0433.attr("stroke",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),l.set("\u0442\u043e\u043b\u0449\u0438\u043d\u0430\u041a\u043e\u043d\u0442\u0443\u0440\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043a\u0440\u0443\u0433.attr("stroke-width",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this))))));let a=h=>this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((d,f)=>{let g=[f[1],We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0),this];f.length>2&&g.push(...f.splice(2));let m=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(g.map(v=>d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(v))));return this.\u043a\u0440\u0443\u0433.event(h,v=>()=>{this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435([tm.\u043d\u043e\u0432\u044b\u0439\u0418\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(m).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a")])}),this}))));l.set("\u043f\u043e\u041d\u0430\u0436\u0430\u0442\u0438\u044e",a("click")),l.set("\u043f\u043e\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0438",a("end")),l.set("\u043f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043a\u0440\u0443\u0433.transition(),this)))))),l.set("\u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043a\u0440\u0443\u0433.resetTransition(),this)))))),l.set("\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>{let p=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]);return this.\u043a\u0440\u0443\u0433.duration(p.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this}))))),l.set("\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>{let p=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]);return this.\u043a\u0440\u0443\u0433.delay(p.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this})))))}}class LE extends We{\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f;\u043f\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a;constructor(l,a){super(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a D3"),null,new Map),this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=l,this.\u043f\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a=a,this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438()}get \u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a(){return this.\u043f\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a}set \u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a(l){this.\u043f\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a=l}get \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(){return this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f}set \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(l){this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=l}static \u043d\u043e\u0432\u044b\u0439(){return new LE}static \u043d\u043e\u0432\u044b\u0439\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a(){return new LE}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e(l){return this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0440\u0443\u0433(l){return this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a=l,this}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438(){let l=this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();l.set("\u0448\u0438\u0440\u0438\u043d\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("width",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),l.set("\u0432\u044b\u0441\u043e\u0442\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("height",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),l.set("\u043f\u043e\u0437\u0438\u0446\u0438\u044f",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("x",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("y",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),l.set("\u0442\u0440\u0430\u043d\u0441\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("transform",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),l.set("\u0441\u043a\u0440\u0443\u0433\u043b\u0435\u043d\u0438\u044f",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("rx",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("ry",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),l.set("\u0437\u0430\u043b\u0438\u0432\u043a\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("fill",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),l.set("\u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("fill-opacity",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),l.set("\u043a\u043e\u043d\u0442\u0443\u0440",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("stroke",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),l.set("\u0442\u043e\u043b\u0449\u0438\u043d\u0430\u041a\u043e\u043d\u0442\u0443\u0440\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.attr("stroke-width",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this))))));let a=h=>this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((d,f)=>{let g=[f[1],We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0),this];f.length>2&&g.push(...f.splice(2));let m=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(g.map(v=>d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(v))));return this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.event(h,v=>()=>{this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435([tm.\u043d\u043e\u0432\u044b\u0439\u0418\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(m).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a")])}),this}))));l.set("\u043f\u043e\u041d\u0430\u0436\u0430\u0442\u0438\u044e",a("click")),l.set("\u043f\u043e\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0438",a("end")),l.set("\u043f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.transition(),this)))))),l.set("\u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.resetTransition(),this)))))),l.set("\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>{let p=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]);return this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.duration(p.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this}))))),l.set("\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>{let p=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]);return this.\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a.delay(p.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this})))))}}class NE extends We{\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f;\u043f\u041b\u0438\u043d\u0438\u044f;constructor(l,a){super(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041b\u0438\u043d\u0438\u044f D3"),null,new Map),this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=l,this.\u043f\u041b\u0438\u043d\u0438\u044f=a,this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438()}get \u043b\u0438\u043d\u0438\u044f(){return this.\u043f\u041b\u0438\u043d\u0438\u044f}set \u043b\u0438\u043d\u0438\u044f(l){this.\u043f\u041b\u0438\u043d\u0438\u044f=l}get \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(){return this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f}set \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(l){this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=l}static \u043d\u043e\u0432\u044b\u0439(){return new NE}static \u043d\u043e\u0432\u0430\u044f\u041b\u0438\u043d\u0438\u044f(){return new NE}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e(l){return this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0440\u0443\u0433(l){return this.\u043b\u0438\u043d\u0438\u044f=l,this}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438(){let l=this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();l.set("\u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043b\u0438\u043d\u0438\u044f.attr("x1",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this.\u043b\u0438\u043d\u0438\u044f.attr("y1",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this.\u043b\u0438\u043d\u0438\u044f.attr("x2",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[3]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this.\u043b\u0438\u043d\u0438\u044f.attr("y2",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[4]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),l.set("\u0442\u0440\u0430\u043d\u0441\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043b\u0438\u043d\u0438\u044f.attr("transform",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),l.set("\u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043b\u0438\u043d\u0438\u044f.attr("fill-opacity",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this)))))),l.set("\u043a\u043e\u043d\u0442\u0443\u0440",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043b\u0438\u043d\u0438\u044f.attr("stroke",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this)))))),l.set("\u0442\u043e\u043b\u0449\u0438\u043d\u0430\u041a\u043e\u043d\u0442\u0443\u0440\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043b\u0438\u043d\u0438\u044f.attr("stroke-width",h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this))))));let a=h=>this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((d,f)=>{let g=[f[1],We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0),this];f.length>2&&g.push(...f.splice(2));let m=d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443("\u0432\u044b\u0437\u0432\u0430\u0442\u044c").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(g.map(v=>d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(v))));return this.\u043b\u0438\u043d\u0438\u044f.event(h,v=>()=>{this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435([tm.\u043d\u043e\u0432\u044b\u0439\u0418\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(m).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a")])}),this}))));l.set("\u043f\u043e\u041d\u0430\u0436\u0430\u0442\u0438\u044e",a("click")),l.set("\u043f\u043e\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0438",a("end")),l.set("\u043f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043b\u0438\u043d\u0438\u044f.transition(),this)))))),l.set("\u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c\u041f\u0435\u0440\u0435\u0445\u043e\u0434",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043b\u0438\u043d\u0438\u044f.resetTransition(),this)))))),l.set("\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>{let p=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]);return this.\u043b\u0438\u043d\u0438\u044f.duration(p.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this}))))),l.set("\u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>{let p=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]);return this.\u043b\u0438\u043d\u0438\u044f.delay(p.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),this})))))}}class Ww extends We{\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f;constructor(l){super(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041f\u0440\u0438\u043c\u0435\u0440 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432"),null,new Map),this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=l,this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438()}get \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(){return this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f}set \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f(l){this.\u043f\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=l}static \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u0412\u0414\u0432\u0438\u0436\u043e\u043a(l,a){let h=Ww.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e(a);l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443D3",(d,f)=>h,!0),l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u0425\u043e\u043b\u0441\u0442\u0430",(d,f)=>(h.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u0425\u043e\u043b\u0441\u0442\u0430(d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(f[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),d.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(f[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),h),!0)}static \u043d\u043e\u0432\u0430\u044f(){return new Ww}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e(l){return this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f=l,this}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438(){let l=this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();l.set("\u043c\u0435\u0442\u0440\u0438\u043a\u0430\u0422\u0435\u043a\u0441\u0442\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>{let p=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),g=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),v=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[3]).\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()?700:300,_=this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.d3Svc.textSizeDirect(p,g,v),y=h.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u0440\u0438\u043a\u0430");return y.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0448\u0438\u0440\u0438\u043d\u0430",h.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0448\u0438\u0440\u0438\u043d\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(_.width)),y.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0432\u044b\u0441\u043e\u0442\u0430",h.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0432\u044b\u0441\u043e\u0442\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(_.height)),y}))))),l.set("\u0448\u0438\u0440\u0438\u043d\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>h.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.d3Config.width)))))),l.set("\u0432\u044b\u0441\u043e\u0442\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>h.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.d3Config.height))))));let a=(h,d)=>this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((f,p)=>{let m=x9.\u043d\u043e\u0432\u0430\u044f();return this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.d3Config.pathes.push(Es.builder().setRenderHandler((v,_)=>{m.apply(v.append(d))})),h.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e(this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0440\u0443\u0433(m)}))));l.set("\u043a\u0440\u0443\u0433",a(RE,"circle")),l.set("\u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a",a(LE,"rect")),l.set("\u0442\u0435\u043a\u0441\u0442",a(IE,"text")),l.set("\u043b\u0438\u043d\u0438\u044f",a(NE,"line")),l.set("\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u0425\u043e\u043b\u0441\u0442\u0430",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u0425\u043e\u043b\u0441\u0442\u0430(h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[2]).\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),d[0])))))),l.set("\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c\u0412\u0441\u0451",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.d3Config.svgImage?.clearAll(),this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.d3Config.clearAll(),d[0])))))),l.set("\u043f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u0442\u044c",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((h,d)=>(this.\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f.\u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440.regenerate(),d[0]))))))}}class Cde extends al{\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439="";\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d=!1;\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f=null;d3SvcSaved=null;d3ConfigSaved=null;cacheService=null;\u043f\u0430\u043c\u044f\u0442\u044c=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));constructor(){super("\u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 JS.")}regenerate(){return this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(),this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0435\u0448(l){return this.cacheService=l,this.\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(),this}\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(l="/scenes/logo.scene.txt"){let a=this.cacheService.getRestPoint(l,null);this.cacheService.getTextRestcallUrl(a,h=>{this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439=h,this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c()})}clear(){return super.clear(),this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d=!1,this}\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c(){if(this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d)return!1;this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d=!0;let a=(new w9).\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439),h=new Qw,d=AE.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433(this.d3ConfigSaved).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0435\u0440\u0432\u0438\u0441(this.d3SvcSaved).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0432\u0438\u0436\u043e\u043a(h).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u043c\u044f\u0442\u044c(this.\u043f\u0430\u043c\u044f\u0442\u044c).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434(a).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440(this);return h.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e(),Ww.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u0412\u0414\u0432\u0438\u0436\u043e\u043a(h,d),d.\u0437\u0430\u043f\u0443\u0441\u043a(),this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f&&this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(),!0}generate(l,a,h){return this.d3SvcSaved=l,this.d3ConfigSaved=a,this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439?this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c():(this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f=h,!1)}}class FE extends We{\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435="\n\u0420\u0410\u0421\u041f\u0418\u0421\u0410\u041d\u0418\u0415 \u0411\u041e\u0413\u041e\u0421\u041b\u0423\u0416\u0415\u041d\u0418\u0419{\u043a}\n\u042f \u041d \u0412 \u0410 \u0420 \u042c{\u043a}\n===\n1\n\u0421\u0411\n--\n\u0421\u0423\u0411\u0411\u041e\u0422\u0410 \u041f\u0420\u0415\u0414 \u0420\u041e\u0416\u0414\u0415\u0421\u0422\u0412\u041e\u041c\n\u0425\u0420\u0418\u0421\u0422\u041e\u0412\u042b\u041c.\n\u041c\u0423\u0427\u0415\u041d\u0418\u041a\u0410 \u0412\u041e\u041d\u0418\u0424\u0410\u0422\u0418\u042f\n--\n\u0412\u0421\u0415\u041d\u041e\u0429\u041d\u041e\u0415 \u0411\u0414\u0415\u041d\u0418\u0415{\u043a}\n--\n17.00{\u043a}\n===\n2{\u043a}\n\u0412\u0421{\u043a}\n--\n\u041d\u0415\u0414\u0415\u041b\u042f 28-\u042f{\u043a}\n\u041f\u041e \u041f\u042f\u0422\u0418\u0414\u0415\u0421\u042f\u0422\u041d\u0418\u0426\u0415,{\u043a}\n\u041f\u0420\u0415\u0414 \u0420\u041e\u0416\u0414\u0415\u0421\u0422\u0412\u041e\u041c \u0425\u0420\u0418\u0421\u0422\u041e\u0412\u042b\u041c,{\u043a}\n\u0421\u0412\u042f\u0422\u042b\u0425 \u041e\u0422\u0415\u0426.{\u043a}\n\u041f\u0420\u0410\u0412. \u0418\u041e\u0410\u041d\u041d\u0410 \u041a\u0420\u041e\u041d\u0428\u0422\u0410\u0414\u0422\u0421\u041a\u041e\u0413\u041e{\u043a}\n--\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f{\u043a}\n\u041b\u0438\u0442\u0438\u044f{\u043a}\n\u0412\u043e\u0434\u043e\u0441\u0432\u044f\u0442\u043d\u044b\u0439 \u043c\u043e\u043b\u0435\u0431\u0435\u043d.{\u043a}\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f{\u043a}\n\u041b\u0438\u0442\u0438\u044f{\u043a}\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f. \u0423\u0422\u0420\u0415\u041d\u042f. 1 \u0427\u0410\u0421{\u0437}\n--\n6.00{\u043a}\n\n8.00{\u043a}\n8.40{\u043a}\n\n17.00{\u0437}\n===\n3{\u0437}\n\u041f\u041d{\u0437}\n--\n\u0421\u0412\u0422. \u041f\u0415\u0422\u0420\u0410, \u041c\u0418\u0422\u0420. \u041a\u0418\u0415\u0412\u0421\u041a\u041e\u0413\u041e,{\u0437}\n\u041c\u041e\u0421\u041a\u041e\u0412\u0421\u041a\u041e\u0413\u041e \u0418 \u0412\u0421\u0415\u042f \u0420\u0423\u0421\u0418,{\u0437}\n\u0427\u0423\u0414\u041e\u0422\u0412\u041e\u0420\u0426\u0410{\u0437}\n--\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f{\u0437}\n\u041c\u043e\u043b\u0435\u0431\u0435\u043d. \u041b\u0438\u0442\u0438\u044f{\u0437}\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f. \u0423\u0422\u0420\u0415\u041d\u042f. 1 \u0427\u0410\u0421\n--\n8.40\n\n17.00\n===\n4\n\u0412\u0422\n--\n\u0412\u041c\u0426. \u0410\u041d\u0410\u0421\u0422\u0410\u0421\u0418\u0418 \u0423\u0417\u041e\u0420\u0415\u0428\u0418\u0422\u0415\u041b\u042c\u041d\u0418\u0426\u042b\n--\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f\n\u041c\u043e\u043b\u0435\u0431\u0435\u043d. \u041b\u0438\u0442\u0438\u044f\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f. \u0423\u0422\u0420\u0415\u041d\u042f. 1 \u0427\u0410\u0421\n--\n8.40\n\n17.00\n===\n5\n\u0421\u0420\n--\n\u0414\u0415\u0421\u042f\u0422\u0418 \u041c\u0423\u0427\u0415\u041d\u0418\u041a\u041e\u0412, \u0418\u0416\u0415 \u0412 \u041a\u0420\u0418\u0422\u0415\n--\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f\n\u041c\u043e\u043b\u0435\u0431\u0435\u043d. \u041b\u0438\u0442\u0438\u044f\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f. \u0423\u0422\u0420\u0415\u041d\u042f.\n--\n8.40\n\n17.00\n===\n6\n\u0427\u0422\n--\n\u041d\u0410\u0412\u0415\u0427\u0415\u0420\u0418\u0415\n\u0420\u041e\u0416\u0414\u0415\u0421\u0422\u0412\u0410 \u0425\u0420\u0418\u0421\u0422\u041e\u0412\u0410.\n\u0420\u041e\u0416\u0414\u0415\u0421\u0422\u0412\u0415\u041d\u0421\u041a\u0418\u0419 \u0421\u041e\u0427\u0415\u041b\u042c\u041d\u0418\u041a\n\u041f\u0420\u041c\u0426. \u0415\u0412\u0413\u0415\u041d\u0418\u0418\n--\n\u0426\u0410\u0420\u0421\u041a\u0418\u0415 \u0427\u0410\u0421\u042b.\n\u0418\u0417\u041e\u0411\u0420\u0410\u0417\u0418\u0422\u0415\u041b\u042c\u041d\u042b.\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f \u0421 \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u0415\u0419\n\u0421\u0412\u0422. \u0412\u0410\u0421\u0418\u041b\u0418\u042f \u0412\u0415\u041b\u0418\u041a\u041e\u0413\u041e\n\u0412\u0421\u0415\u041d\u041e\u0429\u041d\u041e\u0415 \u0411\u0414\u0415\u041d\u0418\u0415{\u043a}\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f{\u043a}\n--\n8.00\n\n\n\n17.00{\u043a}\n23.00{\u043a}\n===\n7{\u043a}\n\u041f\u0422{\u043a}\n--\n\u0420\u041e\u0416\u0414\u0415\u0421\u0422\u0412\u041e \u0413\u041e\u0421\u041f\u041e\u0414\u0410 \u0411\u041e\u0413\u0410 \u0418 \u0421\u041f\u0410\u0421\u0410{\u043a}\n\u041d\u0410\u0428\u0415\u0413\u041e \u0418\u0418\u0421\u0423\u0421\u0410 \u0425\u0420\u0418\u0421\u0422\u0410{\u043a}\n--\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f{\u043a}\n\u0412\u0415\u041b\u0418\u041a\u0410\u042f \u0412\u0415\u0427\u0415\u0420\u041d\u042f{\u0441}\n--\n8.40{\u043a}\n17.00{\u0441}\n===\n8{\u0441}\n\u0421\u0411{\u0441}\n--\n\u0421\u0423\u0411\u0411\u041e\u0422\u0410 \u041f\u041e \u0420\u041e\u0416\u0414\u0415\u0421\u0422\u0412\u0415 \u0425\u0420\u0418\u0421\u0422\u041e\u0412\u041e\u041c.{\u0441}\n\u0421\u041e\u0411\u041e\u0420 \u041f\u0420\u0415\u0421\u0412\u042f\u0422\u041e\u0419 \u0411\u041e\u0413\u041e\u0420\u041e\u0414\u0418\u0426\u042b{\u0441}\n--\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f{\u0441}\n\u041f\u0430\u043d\u0438\u0445\u0438\u0434\u0430{\u0441}\n\u0412\u0421\u0415\u041d\u041e\u0429\u041d\u041e\u0415 \u0411\u0414\u0415\u041d\u0418\u0415{\u043a}\n--\n8.40{\u0441}\n\n17.00{\u043a}\n===\n\u0414\u043e\u0440\u043e\u0433\u0438\u0435 \u0431\u0440\u0430\u0442\u044c\u044f \u0438 \u0441\u0435\u0441\u0442\u0440\u044b!\n\u0422\u0410\u0418\u041d\u0421\u0422\u0412\u041e \u0418\u0421\u041f\u041e\u0412\u0415\u0414\u0418\n\u0441\u043e\u0432\u0435\u0440\u0448\u0430\u0435\u0442\u0441\u044f \u0432 \u043d\u0430\u0448\u0435\u043c \u0445\u0440\u0430\u043c\u0435 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0432\u0435\u0447\u0435\u0440\u043d\u0435\u0433\u043e \u0431\u043e\u0433\u043e\u0441\u043b\u0443\u0436\u0435\u043d\u0438\u044f\n\u0438\u043b\u0438 \u043f\u043e \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0441\u043e \u0441\u043b\u0443\u0436\u0430\u0449\u0438\u043c \u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u043e\u043c.\n\u0423\u0437\u043d\u0430\u0442\u044c, \u043a\u0442\u043e \u0441\u043b\u0443\u0436\u0438\u0442, \u043c\u043e\u0436\u043d\u043e \u0437\u0430 \u0441\u0432\u0435\u0447\u043d\u044b\u043c \u044f\u0449\u0438\u043a\u043e\u043c \u0438\u043b\u0438 \u043f\u043e\n\u0442\u0435\u043b. +7 (495) 322-223\n                      ";constructor(){super(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432"),null,new Map),this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438()}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435(l){return this.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435=l,this}static \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u0412\u0414\u0432\u0438\u0436\u043e\u043a(l){let a=FE.\u043d\u043e\u0432\u0430\u044f();l.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e("\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432",(h,d)=>a,!0)}static \u043d\u043e\u0432\u0430\u044f(){return new FE}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438(){this.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0442\u0435\u043a\u0441\u0442\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f",this.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([])).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(Jt.\u043d\u043e\u0432\u0430\u044f\u041a\u043e\u043c\u0430\u043d\u0434\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443((a,h)=>a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435))))))}}class T9 extends al{\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439="";\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435=null;\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d=!1;\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f=null;\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0438\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f=null;\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b=0;\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438=0;\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438=0;\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0418\u043c\u0451\u043d\u041d\u0430\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0435=10;\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b=!0;d3SvcSaved=null;d3ConfigSaved=null;cacheService=null;\u043f\u0430\u043c\u044f\u0442\u044c=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b=new Map;constructor(l=210,a=297){super("\u041f\u0440\u0438\u043c\u0435\u0440 \u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f JS.",l,a)}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0443\u0412\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b(l,a){return this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.set(l,a),this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438(l){return this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438(l){return this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0418\u043c\u0451\u043d\u041d\u0430\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0435(l){return this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0418\u043c\u0451\u043d\u041d\u0430\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0435=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b(l){return this.\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u043e\u043a\u0430\u0437\u041f\u043e\u0434\u0432\u0430\u043b\u0430(l){return this.\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435(l){return this.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435=l,this}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446(){if(null==this.\u043f\u0430\u043c\u044f\u0442\u044c)return 1;let l=this.\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u043e\u0431\u0449\u0435\u0435\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446");return null==l?1:l.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()}regenerate(){return this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(),this}getWidth(){return this.d3ConfigSaved?this.d3ConfigSaved.width:this.width}getHeight(){return this.d3ConfigSaved?this.d3ConfigSaved.height:this.height}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0435\u0448(l,a="/scenes/scheduler.scene.txt"){return this.cacheService=l,this.\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(a),this}\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(l="/scenes/scheduler.scene.txt",a="/scenes/scheduler4.txt"){let h=this.cacheService.getRestPoint(l,null),d=this.cacheService.getRestPoint(a,null);this.cacheService.getTextRestcallUrl(h,f=>{this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439=f,null!=this.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435?this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c():this.cacheService.getTextRestcallUrl(d,p=>{this.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435=p,this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c()})})}clear(){return super.clear(),this.d3ConfigSaved.clearAll(),this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d=!1,this}\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c(){if(this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d)return!1;this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d=!0;let l=new w9,a=l.\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439),h=l.\u0434\u0432\u0438\u0436\u043e\u043a,d=FE.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435(this.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435),f=AE.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043d\u0444\u0438\u0433(this.d3ConfigSaved).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0435\u0440\u0432\u0438\u0441(this.d3SvcSaved).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0432\u0438\u0436\u043e\u043a(h).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u043c\u044f\u0442\u044c(this.\u043f\u0430\u043c\u044f\u0442\u044c).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434(a).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440(this).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b(this.\u0438\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438(this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438(this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0418\u043c\u0451\u043d\u041d\u0430\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0435(this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0418\u043c\u0451\u043d\u041d\u0430\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0435).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u043e\u043a\u0430\u0437\u041f\u043e\u0434\u0432\u0430\u043b\u0430(this.\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u043e\u0434\u0432\u0430\u043b);h.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e(),Ww.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u0412\u0414\u0432\u0438\u0436\u043e\u043a(h,f);let p=[tm.\u043d\u043e\u0432\u044b\u0439\u0418\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(d).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438")];return this.\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.forEach((m,v)=>p.push(tm.\u043d\u043e\u0432\u044b\u0439\u0418\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(h.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(m)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f(v))),f.\u0437\u0430\u043f\u0443\u0441\u043a(p),this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f&&this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f(),!0}generate(l,a,h){return this.d3SvcSaved=l,this.d3ConfigSaved=a,this.\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439?this.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c():(this.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u041f\u043e\u0441\u043b\u0435\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u044f=h,!1)}}class ho{static saveData(l,a){const h=document.createElement("a"),d=window.URL.createObjectURL(l);h.href=d,h.download=a,h.click(),window.URL.revokeObjectURL(d)}static startDownload(l,a){const h=document.createElement("a");h.setAttribute("href",l),h.setAttribute("download",a),h.click(),h.remove()}}var nm=Ut(965);class XYe{StatementValue(){return BE.builder()}VariableValue(){return VE.builder()}UnaryOp(){return UE.builder()}BinaryOp(){return QE.builder()}NumberValue(){return $E.builder()}IdValue(){return jw.builder()}FuncValue(){return zE.builder()}}var Lo=function(c){return c[c.Number=0]="Number",c[c.Id=1]="Id",c[c.Function=2]="Function",c[c.UnaryOp=3]="UnaryOp",c[c.BinaryOp=4]="BinaryOp",c}(Lo||{});class BE{value;variables;constructor(l,a){this.value=l,this.variables=a}static builder(){return new BE(null,[])}setValue(l){return this.value=l,this}setVariables(l){return this.variables=l,this}toString(){let l=this.variables.map(a=>a.toString()).join("\r\n");return`${this.value?.toString()};`+(l?` \u0433\u0434\u0435\n      ${l}\n`:"")+"\n."}clone(){return BE.builder().setValue(this.value?this.value.clone():null).setVariables(this.variables.map(l=>l.clone()))}}class VE{name;constant;type;constructor(l,a,h){this.name=l,this.constant=a,this.type=h}static builder(){return new VE(jw.builder(),!1,"")}setName(l){return this.name=l,this}setConstant(l){return this.constant=l,this}setType(l){return this.type=l,this}toString(){return`${this.name}: ${this.constant?"\u043f\u043e\u0441\u0442 ":""}${this.type};`}clone(){return VE.builder().setName(this.name).setConstant(this.constant).setType(this.type)}}class Zw{type;constructor(l){this.type=l}getType(){return this.type}toString(){return""}isId(){return this.getType()==Lo.Id}isFunction(){return this.getType()==Lo.Function}isUnary(){return this.getType()==Lo.UnaryOp}isBinary(){return this.getType()==Lo.BinaryOp}}class $E extends Zw{value;constructor(l){super(Lo.Number),this.value=l}static builder(){return new $E(0)}setValue(l){return this.value=l,this}toString(){return`${this.value}`}clone(){return $E.builder().setValue(this.value)}}class jw extends Zw{name;constructor(l){return super(Lo.Id),this.name=l,this}static builder(){return new jw("")}setName(l){return this.name=l,this}toString(){return`${this.name}`}clone(){return jw.builder().setName(this.name)}}class zE extends Zw{name;params;constructor(l,a){super(Lo.Function),this.name=l,this.params=a}static builder(){return new zE("",[])}setName(l){return this.name=l,this}setParams(l){return this.params=l,this}isIntegralName(l){let a=!1;switch(l){case"integrate":case"integral":case"\u0438\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c":case"\u0438\u043d\u0442\u0435\u0433\u0440\u0430\u043b":a=!0}return a}isDiffName(l){let a=!1;switch(l){case"diff":case"differentiate":case"\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u043d\u0430\u044f":a=!0}return a}toString(){return this.isDiffName(this.name)&&2==this.params.length?`diff(${this.params.map(l=>l.toString()).join(",")})`:this.isIntegralName(this.name)&&2==this.params.length?`integrate(${this.params.map(l=>l.toString()).join(",")},1)`:this.isIntegralName(this.name)&&3==this.params.length?`integrate(${this.params.map(l=>l.toString()).join(",")})`:`${this.name}(${this.params.map(l=>l.toString()).join(",")})`}clone(){return zE.builder().setName(this.name).setParams(this.params.map(l=>l.clone()))}}class UE extends Zw{name;value;constructor(l,a){return super(Lo.UnaryOp),this.name=l,this.value=a,this}static builder(){return new UE("",null)}setName(l){return this.name=l,this}setValue(l){return this.value=l,this}toString(){return"()"==this.name?`(${this.value?.toString()})`:`${this.name}${this.value?.toString()}`}clone(){return UE.builder().setName(this.name).setValue(this.value?this.value.clone():null)}}class QE extends Zw{left;name;right;constructor(l,a,h){return super(Lo.BinaryOp),this.left=l,this.name=a,this.right=h,this}static builder(){return new QE(null,"",null)}setLeft(l){return this.left=l,this}setName(l){return this.name=l,this}setRight(l){return this.right=l,this}toString(){return`${this.left?.toString()} ${this.name} ${this.right?.toString()}`}clone(){return QE.builder().setName(this.name).setLeft(this.left?this.left.clone():null).setRight(this.right?this.right.clone():null)}}class YYe{visitNumberValue(l){return!0}visitIdValue(l){return!0}visitFuncValue(l){return!0}visitBinaryOp(l){return!0}visitUnaryOp(l){return!0}}class qYe{static visit(l,a){for(var h=[l];h.length;){var d=h.pop();if(null!=d)switch(d.getType()){case Lo.Id:if(!a.visitIdValue(d))return;break;case Lo.Number:if(!a.visitNumberValue(d))return;break;case Lo.Function:{let f=d;if(!a.visitFuncValue(f))return;h.push(...f.params)}break;case Lo.UnaryOp:{let f=d;if(!a.visitUnaryOp(f))return;f.value&&h.push(f.value)}break;case Lo.BinaryOp:{let f=d;if(!a.visitBinaryOp(f))return;f.left&&h.push(f.left),f.right&&h.push(f.right)}break;default:throw new Error(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0442\u0438\u043f ${d.getType()}`)}}}}class HE{parse(l){return formulasParserStatic.parse(l,{builder:new XYe})}}class rs{width;height;underline=!1;overline=!1;system=!1;space=!1;constructor(l,a){this.width=l,this.height=a}static builder(){return new rs(0,0)}setWidth(l){return this.width=l,this}setHeight(l){return this.height=l,this}setUnderline(l){return this.underline=l,this}setOverline(l){return this.overline=l,this}setSystem(l){return this.system=l,this}setSpace(l){return this.space=l,this}calculateFor(l,a){this.width=this.space?a.fontSize/10:0,this.height=0}drawFor(l,a,h,d,f,p){this.overline&&p.lines.push(Pi.builder().setWidth(p.lineWidth).setColor(p.colorLines).setX1(l).setY1(a).setX2(l+h).setY2(a)),this.underline&&p.lines.push(Pi.builder().setWidth(p.lineWidth).setColor(p.colorLines).setX1(l).setY1(a+d).setX2(l+h).setY2(a+d))}}class Pc extends rs{text;constructor(l){super(0,0),this.text=l}static builder(){return new Pc("")}setText(l){return this.text=l,this}calculateFor(l,a){let h=l.textSizeDirect(this.text,a.fontSize,a.fontWeight);h&&this.setWidth(h.width).setHeight(h.height)}drawFor(l,a,h,d,f,p){super.drawFor(l,a,h,d,f,p),p.texts.push(Mi.builder().setText(this.text).setTextAnchor("left").setFontSize(p.fontSize+"px").translate(l,a+d-this.height*(1-p.fontLineRelativeOffset)).rotate(0).setColor(p.colorLines))}}class nh extends rs{childs;centerDy=0;constructor(l){super(0,0),this.childs=l}static builder(){return new nh([])}setChilds(l){return this.childs=l,this}getCurCenterDy(l,a){return Sde.getCurCenterDy(l,a)}calculateFor(l,a){this.childs.forEach(f=>f.calculateFor(l,a));let h=0,d=0;this.centerDy=0,this.childs.forEach(f=>{h+=f.width;let p=this.getCurCenterDy(f,a);if(this.centerDy<p){let g=this.centerDy,m=d-g,v=p,_=f.height-v;this.centerDy=p,d=Math.max(g,v)+Math.max(m,_)}else d=Math.max(d,f.height+(p-this.centerDy))}),this.setWidth(h).setHeight(d)}drawFor(l,a,h,d,f,p){super.drawFor(l,a,h,d,f,p);let g=l,m=a,y=h-0;this.childs.forEach(O=>{let C=this.getCurCenterDy(O,p);0==C&&(C=this.centerDy>0?(O.system?d:O.height)/2:0),O.drawFor(g,m+(O.system?0:this.centerDy-C),O.width,O.system?d:O.height,f,p),g+=O.width,y-=O.width})}}class im extends rs{opened;constructor(l){super(0,0),this.opened=l}static builder(){return new im(!0)}setOpened(l){return this.opened=l,this}getDivHeight(l){return l.lineWidth}calculateFor(l,a){this.setWidth(a.fontSize/4).setHeight(0).setSystem(!0)}drawFor(l,a,h,d,f,p){super.drawFor(l,a,h,d,f,p);let m=p.fontSize/4*(p.fontSize/d),v=a+d-p.fontSize*(1-p.fontLineRelativeOffset),_=a+p.fontSize*(1-p.fontLineRelativeOffset),y=(_+v)/2,C=(v-_)/4,S=_+C,w=S+C,x=w+C;p.pathes.push(Es.builder().setRenderHandler((T,D)=>{let k=ew();this.opened?(k.moveTo(m,_),k.bezierCurveTo(0,S,0,w,0,y),k.bezierCurveTo(0,w,0,x,m,v)):(k.moveTo(0,_),k.bezierCurveTo(m,S,m,w,m,y),k.bezierCurveTo(m,w,m,x,0,v)),T.append("path").attr("d",k).attr("stroke",p.colorMain).attr("stroke-width",D.strokeWidth).attr("fill","none").attr("transform",(P,N)=>f.transformToString(D.transform||[]))}).setStrokeColor(p.colorMain).setStrokeWidth(1).setFillColor("none").setFillOpacity(.5).translate(l+1,0))}}class WE extends rs{childs;constructor(l){super(0,0),this.childs=l}static builder(){return new WE([])}setChilds(l){return this.childs=l,this}getUpPartHeight(){let l=0;for(let a=0;a<this.childs.length;++a)if(!this.childs[a].system){l=this.childs[a].height;break}return l}calculateFor(l,a){this.childs.forEach(f=>f.calculateFor(l,a));let h=0,d=0;this.childs.forEach(f=>{d+=f.height,h=Math.max(h,f.width)}),this.setWidth(h).setHeight(d)}drawFor(l,a,h,d,f,p){super.drawFor(l,a,h,d,f,p);let g=l,m=a;g+=0,m+=d>this.height?d-this.height:0,this.childs.forEach(y=>{let b=0==y.width?0:h>y.width?(h-y.width)/2:0;y.drawFor(g+b,m,y.width?y.width:h-b,y.height,f,p),m+=y.height})}}class ZE extends rs{underRootValue;constructor(l){super(0,0),this.underRootValue=l}static builder(){return new ZE(rs.builder())}setUnderRootValue(l){return this.underRootValue=l,this}getDivHeight(l){return 2*l.lineWidth}calculateFor(l,a){this.underRootValue.calculateFor(l,a),this.setWidth(a.fontSize/2+this.underRootValue.width).setHeight(this.underRootValue.height+2*this.getDivHeight(a))}drawFor(l,a,h,d,f,p){super.drawFor(l,a,h,d,f,p);let g=p.fontSize/2,m=a+this.getDivHeight(p),v=a+d-p.fontSize*(1-p.fontLineRelativeOffset);p.lines.push(Pi.builder().setColor(p.colorLines).setWidth(p.lineWidth).setX1(l).setY1(m+d/2).setX2(l+g/3).setY2(m+d/2),Pi.builder().setColor(p.colorLines).setWidth(p.lineWidth).setX1(l+g/3).setY1(m+d/2).setX2(l+2*g/3).setY2(v),Pi.builder().setColor(p.colorLines).setWidth(p.lineWidth).setX1(l+2*g/3).setY1(v).setX2(l+g).setY2(m),Pi.builder().setColor(p.colorLines).setWidth(p.lineWidth).setX1(l+g).setY1(m).setX2(l+h).setY2(m));let _=this.getDivHeight(p);this.underRootValue.drawFor(l+g,m+_,h-g,d-2*_,f,p)}}class jE extends rs{rootNumberValue;underRootValue;constructor(l,a){super(0,0),this.rootNumberValue=l,this.underRootValue=a}static builder(){return new jE(rs.builder(),rs.builder())}setUnderRootValue(l){return this.underRootValue=l,this}setNumberRootValue(l){return this.rootNumberValue=l,this}getDivHeight(l){return 2*l.lineWidth}getCenterDy(l){let a=this.getDivHeight(l),d=this.rootNumberValue.height;return this.underRootValue.height/2<d&&(a+=d),a}calculateFor(l,a){this.underRootValue.calculateFor(l,a),this.rootNumberValue.calculateFor(l,a);let h=a.fontSize/2,d=this.underRootValue.height,f=this.rootNumberValue.height,p=d/2,g=this.underRootValue.height+2*this.getDivHeight(a);if(d<=a.fontSize)g=d+f;else if(f>p){let m=a.fontSize+f+2*this.getDivHeight(a);g=g<m?m:g}this.setWidth(h+this.underRootValue.width+this.rootNumberValue.width).setHeight(g)}drawFor(l,a,h,d,f,p){super.drawFor(l,a,h,d,f,p);let g=p.fontSize/2,m=a+this.getDivHeight(p),v=a+d-p.fontSize*(1-p.fontLineRelativeOffset),_=this.underRootValue.height,y=this.rootNumberValue.height,b=_/2,O=b<y?y:d/2;_<=p.fontSize?O=y:y>b&&(O=y+2*this.getDivHeight(p)),this.rootNumberValue.drawFor(l+g/3,m+O-this.rootNumberValue.height,this.rootNumberValue.width,this.rootNumberValue.height,f,p);let C=l+this.rootNumberValue.width;p.lines.push(Pi.builder().setColor(p.colorLines).setWidth(p.lineWidth).setX1(l).setY1(m+O).setX2(C+g/3).setY2(m+O),Pi.builder().setColor(p.colorLines).setWidth(p.lineWidth).setX1(C+g/3).setY1(m+O).setX2(C+2*g/3).setY2(v),Pi.builder().setColor(p.colorLines).setWidth(p.lineWidth).setX1(C+2*g/3).setY1(v).setX2(C+g).setY2(m),Pi.builder().setColor(p.colorLines).setWidth(p.lineWidth).setX1(C+g).setY1(m).setX2(C+h-this.rootNumberValue.width).setY2(m)),this.underRootValue.drawFor(l+g+this.rootNumberValue.width,v-this.underRootValue.height,h-g-this.rootNumberValue.width,this.underRootValue.height,f,p)}}class Gw extends rs{underRootValue;constructor(l){super(0,0),this.underRootValue=l}static builder(){return new Gw(rs.builder())}setUnderRootValue(l){return this.underRootValue=l,this}getDivHeight(l){return l.lineWidth}calculateFor(l,a){this.underRootValue.calculateFor(l,a);let h=a.fontSize/2;this.setWidth(h/2+h+this.underRootValue.width).setHeight(this.underRootValue.height+this.getDivHeight(a))}drawFor(l,a,h,d,f,p){super.drawFor(l,a,h,d,f,p);let g=p.fontSize/2,m=g/2,v=g/2,_=a+d-p.fontSize*(1-p.fontLineRelativeOffset),y=a+p.fontSize*(1-p.fontLineRelativeOffset);p.pathes.push(Es.builder().setRenderHandler((b,O)=>{let C=ew();C.moveTo(0,_-v),C.bezierCurveTo(0,_,v,_,v,_-v),C.lineTo(v,y+v),C.bezierCurveTo(v,y,g,y,g,y+v),b.append("path").attr("d",C).attr("stroke",p.colorMain).attr("stroke-width",O.strokeWidth).attr("fill","none").attr("transform",(S,w)=>f.transformToString(O.transform||[]))}).setStrokeColor(p.colorMain).setStrokeWidth(1).setFillColor("none").setFillOpacity(.5).translate(l+1,0)),this.underRootValue.drawFor(l+g+m,a+this.getDivHeight(p),h-g,d,f,p)}}class GE extends rs{power;value;constructor(l,a){super(0,0),this.power=l,this.value=a}static builder(){return new GE(rs.builder(),rs.builder())}setValue(l){return this.value=l,this}setPower(l){return this.power=l,this}calculateFor(l,a){this.value.calculateFor(l,a),this.power.calculateFor(l,a);let g=this.value.height+this.power.height-a.fontSize/4*3;this.setWidth(0*a.fontSize/4+this.value.width+this.power.width).setHeight(g)}drawFor(l,a,h,d,f,p){super.drawFor(l,a,h,d,f,p);let m=0*p.fontSize/4;this.value.drawFor(l,a+(this.power.height-p.fontSize/4*3),this.value.width,this.value.height,f,p),this.power.drawFor(l+this.value.width+m,a,this.power.width,this.power.height,f,p)}getCenterDy(l){return this.power.height-l.fontSize/4*3+this.value.height/2}}class XE extends rs{diffOp;byVar;value;constructor(l,a,h){super(0,0),this.diffOp=l,this.byVar=a,this.value=h}static builder(){return new XE(rs.builder(),rs.builder(),rs.builder())}setValue(l){return this.value=l,this}setDiffOp(l){return this.diffOp=l,this}setByVar(l){return this.byVar=l,this}calculateFor(l,a){this.value.calculateFor(l,a),this.byVar.calculateFor(l,a),this.diffOp.calculateFor(l,a);let p=this.value.height+this.byVar.height/2+this.diffOp.height/2;this.setWidth(this.value.width+Math.max(this.diffOp.width,this.byVar.width)).setHeight(p)}drawFor(l,a,h,d,f,p){super.drawFor(l,a,h,d,f,p);let _=this.byVar.height;this.value.drawFor(l,a+this.diffOp.height/2,this.value.width,this.value.height,f,p),this.diffOp.drawFor(l+this.value.width,a,this.diffOp.width,this.diffOp.height,f,p),this.byVar.drawFor(l+this.value.width,a+d-_,this.byVar.width,this.byVar.height,f,p)}getCenterDy(l){let d=this.diffOp.height,f=Sde.getCurCenterDy(this.value,l);return f=f||this.value.height/2,f+d/2}}class Sde{static getCurCenterDy(l,a){let h=0;return l instanceof WE?h=l.getUpPartHeight():l instanceof nh?h=l.centerDy:l instanceof Gw||l instanceof ZE?h=this.getCurCenterDy(l.underRootValue,a):(l instanceof jE||l instanceof GE||l instanceof XE)&&(h=l.getCenterDy(a)),h}}class KYe{divHight;constructor(l=3){this.divHight=l}convert(l){switch(l.getType()){case Lo.Id:return this.getId(l);case Lo.Number:return this.getNumber(l);case Lo.Function:return this.getFunction(l);case Lo.UnaryOp:return this.getUnary(l);case Lo.BinaryOp:return this.getBinary(l);default:throw new Error(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0442\u0438\u043f: ${l.getType()}`)}}getId(l){return Pc.builder().setText(l.name)}getNumber(l){return Pc.builder().setText(""+l.value)}getUnary(l){return"()"==l.name?nh.builder().setChilds([im.builder().setOpened(!0),this.convertValueOrNull(l.value),im.builder().setOpened(!1)]):nh.builder().setChilds([Pc.builder().setText(l.name),this.convertValueOrNull(l.value)])}getBinary(l){return"/"==l.name?WE.builder().setChilds([this.convertValueOrNull(l.left),rs.builder().setOverline(!0).setSystem(!0).setHeight(this.divHight),this.convertValueOrNull(l.right)]):"*"==l.name||"+"==l.name||"-"==l.name||"="==l.name?nh.builder().setChilds([this.convertValueOrNull(l.left),rs.builder().setSpace(!0),Pc.builder().setText(l.name),rs.builder().setSpace(!0),this.convertValueOrNull(l.right)]):nh.builder().setChilds([this.convertValueOrNull(l.left),Pc.builder().setText(l.name),this.convertValueOrNull(l.right)])}convertValueOrNull(l){return l?this.convert(l):Pc.builder().setText("null")}getFunction(l){return"pow"==l.name&&2==l.params.length?GE.builder().setValue(this.convertValueOrNull(l.params[0])).setPower(this.convertValueOrNull(l.params[1])):"sqrt"==l.name&&1==l.params.length?ZE.builder().setUnderRootValue(this.convertValueOrNull(l.params[0])):"root"==l.name&&2==l.params.length?jE.builder().setUnderRootValue(this.convertValueOrNull(l.params[0])).setNumberRootValue(this.convertValueOrNull(l.params[1])):"diff"==l.name&&2==l.params.length?XE.builder().setValue(nh.builder().setChilds([im.builder().setOpened(!0),this.convertValueOrNull(l.params[0]),im.builder().setOpened(!1)])).setByVar(this.convertValueOrNull(l.params[1])).setDiffOp(Pc.builder().setText("'")):"integral"==l.name&&2==l.params.length||"integrate"==l.name&&3==l.params.length?Gw.builder().setUnderRootValue(nh.builder().setChilds([this.convertValueOrNull(l.params[0]),rs.builder().setSpace(!0),rs.builder().setSpace(!0),Pc.builder().setText("d"),rs.builder().setSpace(!0),this.convertValueOrNull(l.params[1])])):nh.builder().setChilds([Pc.builder().setText(l.name),im.builder().setOpened(!0),nh.builder().setChilds(l.params.flatMap((a,h)=>h>0?[Pc.builder().setText(","),this.convertValueOrNull(a)]:[this.convertValueOrNull(a)])),im.builder().setOpened(!1)])}}class YE extends al{getFormula(l){let a=l.getParam("\u0442\u0435\u043a\u0441\u0442"),h=null;try{let f=(new HE).parse(a),p=new KYe,g=f[f.length-1];g.value&&(h=p.convert(g.value))}catch{let f=!1;h=Pc.builder().setText(f?"\u041e\u0448\u0438\u0431\u043a\u0430: "+a:"")}return h}constructor(l="\u041f\u0440\u0438\u043c\u0435\u0440 \u0444\u043e\u0440\u043c\u0443\u043b.",a=512,h=512){super(l,a,h)}generate(l,a,h){let d=this.getFormula(a);return d.calculateFor(l,a),this.width=a.width=d.width,this.height=a.height=d.height,a.colorBackground&&a.rects.push(l.createBackground(a)),d.drawFor(0,0,d.width,d.height,l,a),!0}}const tqe=[{id:"deviskin",name:"Deviskin",nameSortOrder:"Deviskin",link:"http://deviskin.github.io",semail:"ZXZnZW55LmFsaXNraW5AZ21haWwuY29t"}];class Ac{id;name;shape;menuShape;routes;routeEnabled;applicationEnabled;applicationHidden;applicationLogoText;libraryType;libraryRef;constructor(l,a,h,d,f,p,g,m,v,_,y){this.id=l,this.name=a,this.shape=h,this.menuShape=d,this.routes=f,this.routeEnabled=p,this.applicationEnabled=g,this.applicationHidden=m,this.applicationLogoText=v,this.libraryType=_,this.libraryRef=y}static builder(){return new Ac("","","","",[],!1,!1,!1,"","prod","book")}setId(l){return this.id=l,this}setName(l){return this.name=l,this}setShape(l){return this.shape=l,this}setMenuShape(l){return this.menuShape=l,this}setRoutes(l){return this.routes=l,this}setRouteEnabled(l){return this.routeEnabled=l,this}setApplicatioinEnabled(l){return this.applicationEnabled=l,this}setApplicationLogoText(l){return this.applicationLogoText=l,this}setLibraryType(l){return this.libraryType=l,this}setLibraryRef(l){return this.libraryRef=l,this}enable(l=!0){return this.routeEnabled=l,this.applicationEnabled=l,this}hide(l=!0){return this.applicationHidden=l,this}disable(){return this.routeEnabled=!1,this.applicationEnabled=!1,this}}class Ft{onClick;isActive;isHidden;syncHandler;sLink="";sName="";sShape="";bHasBadge=!1;bHasAlert=!1;workingSync=0;constructor(l,a,h,d,f,p=null,g=null,m=null,v=null){this.onClick=p,this.isActive=g,this.isHidden=m,this.syncHandler=v,this.setLink(l),this.setName(a),this.setShape(h),this.setHasBadge(d),this.setHasAlert(f)}static builder(){return new Ft("","","",!1,!1,null)}setSyncHandler(l){return this.syncHandler=l,this}setIsActive(l){return this.isActive=l,this}setIsHidden(l){return this.isHidden=l,this}setOnClick(l){return this.onClick=l,this}sync(){if(!(this.workingSync>0)){try{++this.workingSync,this.syncHandler&&this.syncHandler(this)}catch{}--this.workingSync}}get link(){return this.sync(),this.sLink}set link(l){this.sLink=l}get name(){return this.sync(),this.sName}set name(l){this.sName=l}get shape(){return this.sync(),this.sShape}set shape(l){this.sShape=l}get hasBadge(){return this.sync(),this.bHasBadge}set hasBadge(l){this.bHasBadge=l}get hasAlert(){return this.sync(),this.bHasAlert}set hasAlert(l){this.bHasAlert=l}setLink(l){return this.link=l,this}setName(l){return this.name=l,this}setShape(l){return this.shape=l,this}setHasBadge(l){return this.hasBadge=l,this}setHasAlert(l){return this.hasAlert=l,this}runOnClick(){this.onClick&&this.onClick(this)}}class nqe{version="";applicationId="memorial";applicationName="Memorial";developers=tqe;production=!0;platform="Web";relativeCacheService=!0;serviceAPIHost="";redirectToServerAfterItIsReadyAdress="";portAutoDetection=!0;portAutoIncrementValue=0;defaultRoute="/compiler";coding=!0;showOldVersions=!1;oldVersionsName="V1";useDictionaries=!1;useCJsLang=!0;useJsLang=!0;useCyrillicLang=!0;themeName="blue";serverType="rest";applications=[];constructor(){this.addApplication(Ac.builder().setId("about").setName("\u041e \u0441\u0430\u0439\u0442\u0435").setShape("home").setRoutes([Ft.builder().setLink("about").setName("\u041e \u0441\u0430\u0439\u0442\u0435").setShape("home")]).hide()).addApplication(Ac.builder().setId("logos").setName("\u041b\u043e\u0433\u043e").setShape("scroll").setApplicationLogoText("\u041f\u0435\u0447\u0430\u0442\u044c|\u043b\u043e\u0433\u043e\u0442\u0438\u043f\u043e\u0432").setRoutes([Ft.builder().setLink("logos").setName("\u041b\u043e\u0433\u043e").setShape("print")]).hide()).addApplication(Ac.builder().setId("d3examples").setName("\u041f\u0440\u0438\u043c\u0435\u0440\u044b D3").setShape("check-circle").setApplicationLogoText("D3|\u043f\u0440\u0438\u043c\u0435\u0440\u044b").setRoutes([Ft.builder().setLink("main-test").setName("\u041c\u043e\u043b\u0435\u0431\u0435\u043d").setShape("calendar"),Ft.builder().setLink("memorials-pages-editor").setName("\u0417\u0430\u043f\u0438\u0441\u043a\u0438").setShape("event"),Ft.builder().setLink("d3examples").setName("\u041f\u0440\u0438\u043c\u0435\u0440\u044b D3").setShape("image"),Ft.builder().setLink("tests").setName("\u0422\u0435\u0441\u0442\u044b").setShape("check-circle")]).hide()).addApplication(Ac.builder().setId("d3Dexamples").setName("\u041f\u0440\u0438\u043c\u0435\u0440\u044b 3D").setShape("scroll").setApplicationLogoText("Three.JS|\u043f\u0440\u0438\u043c\u0435\u0440\u044b").setRoutes([Ft.builder().setLink("d3Dexamples").setName("Three 3D").setShape("scroll")]).hide()).addApplication(Ac.builder().setId("books").setName("\u041a\u043d\u0438\u0433\u0438").setShape("my-logo-icon").setMenuShape("book").setLibraryType("prod").setLibraryRef("biblia").setRoutes([Ft.builder().setLink("books").setName("\u041a\u043d\u0438\u0433\u0438").setShape("book")])).addApplication(Ac.builder().setId("memorial").setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a").setShape("my-logo-icon").setMenuShape("form").setLibraryType("mprod").setLibraryRef("ps").setRoutes([Ft.builder().setLink("memorial").setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a").setShape("users")])).addApplication(Ac.builder().setId("calendar").setName("\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c").setShape("calendar").setLibraryType("clndrprod").setLibraryRef("clndr").setRoutes([Ft.builder().setLink("calendar").setName("\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c").setShape("calendar")])).addApplication(Ac.builder().setId("cross").setName("\u041a\u0440\u0435\u0441\u0442").setShape("my-logo-icon").setLibraryType("crossprod").setLibraryRef("cross").setRoutes([Ft.builder().setLink("cross").setName("\u041a\u0440\u0435\u0441\u0442").setShape("my-logo-icon")])).addApplication(Ac.builder().setId("compiler").setName("\u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440").setShape("bug").setLibraryType("compprod").setLibraryRef("comp").setApplicationLogoText("C-Js|\u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440").setRoutes([Ft.builder().setLink("compiler").setName("\u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440").setShape("bug")]).hide()).addApplication(Ac.builder().setId("scheduler").setName("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435").setShape("alarm-clock").setLibraryType("schprod").setLibraryRef("sch").setRoutes([Ft.builder().setLink("scheduler").setName("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435").setShape("alarm-clock")])).addApplication(Ac.builder().setId("calculator").setName("\u0420\u0435\u0448IDE").setShape("calculator").setLibraryType("cprod").setLibraryRef("calc").setApplicationLogoText("\u0420\u0435\u0448IDE|\u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440").setRoutes([Ft.builder().setLink("calculator").setName("\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440").setShape("calculator")])).addApplication(Ac.builder().setId("chess").setName("\u0428\u0430\u0445\u043c\u0430\u0442\u044b").setShape("chess-white-king").setLibraryType("chessprod").setLibraryRef("chess").setApplicationLogoText("\u0428\u0430\u0445\u043c\u0430\u0442\u044b|\u0438\u0433\u0440\u0430").setRoutes([Ft.builder().setLink("chess").setName("\u0428\u0430\u0445\u043c\u0430\u0442\u044b").setShape("chess-white-king")])).setVersion("BV.2.0.716"),this.afterConstruct()}addApplication(l){if(null!=this.applications.find(a=>a.id==l.id))throw new Error(`\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 "${l.id}" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.`);return this.applications.push(l),this}setVersion(l){return this.version=l,this}setProduction(l){return this.production=l,this}setPlatform(l){return this.platform=l,this}setRelativeCacheService(l){return this.relativeCacheService=l,this}setServiceAPIHost(l){return this.serviceAPIHost=l,this}setRedirectToServerAfterItIsReadyAdress(l){return this.redirectToServerAfterItIsReadyAdress=l,this}setPortAutoDetection(l){return this.portAutoDetection=l,this}setPortAutoIncrementValue(l){return this.portAutoIncrementValue=l,this}setDefaultRoute(l){return this.defaultRoute=l,this}setServerType(l){return this.serverType=l,this}setCoding(l){return this.coding=l,this}setShowOldVersions(l){return this.showOldVersions=l,this}setUseDictionaries(l){return this.useDictionaries=l,this}afterConstruct(){}}class k9 extends nqe{afterConstruct(){super.afterConstruct(),this.setVersion("WPR.2.0.716").setProduction(!0).setServiceAPIHost("").setRedirectToServerAfterItIsReadyAdress("").setPortAutoDetection(!0).setPortAutoIncrementValue(0).setDefaultRoute("/help").setServerType("memory"),this.applications.forEach((l,a,h)=>l.enable())}static builder(){return new k9}}const Kl=k9.builder();class cl{type;time;sender;target;subType;text;tag;constructor(l="",a=Date.now(),h="",d="",f="",p="",g=null){this.type=l,this.time=a,this.sender=h,this.target=d,this.subType=f,this.text=p,this.tag=g}static builder(){return new cl}setType(l){return this.type=l,this}setTime(l){return this.time=l,this}setSender(l){return this.sender=l,this}setTarget(l){return this.target=l,this}setSubType(l){return this.subType=l,this}setText(l){return this.text=l,this}setTag(l){return this.tag=l,this}}class D9{id;handler;constructor(l,a){this.id=l,this.handler=a}static builder(){return new D9(-1,()=>{})}setId(l){return this.id=l,this}setHandler(l){return this.handler=l,this}}class iqe{id=1;handlers=new Map;targetHandlers=new Map;messagesToTarget=new Map;messagesTimeoutMs=18e4;newId(){return this.id++}putMessage(l){let a=l.target,h=this.messagesToTarget.get(a);return null==h&&(h=[]),h.push(l),h=this.removeOld(h),h?this.messagesToTarget.set(a,h):this.messagesToTarget.delete(a),this}getMessages(l,a=!0){let h=this.messagesToTarget.get(l),d=this.removeOld(h);return null==h&&a&&this.messagesToTarget.delete(l),d}removeAllOld(){let l=[];return this.messagesToTarget.forEach((a,h,d)=>{l.push(h)}),l.forEach(a=>{this.getMessages(a,!1)}),this}removeOld(l){if(void 0===l)return;let a=Date.now(),h=l.findIndex(f=>f.time+this.messagesTimeoutMs>a),d=l;return h>0&&(d=l.splice(0,h)),d}sendMessage(l){this.handlers.forEach((h,d,f)=>{h(l)});let a=this.targetHandlers.get(l.target);a&&a.forEach(h=>{h.handler(l)})}addHandler(l){let a=this.newId();this.handlers.set(a,l);let h=this;return{unsubscribe(){h.removeHandler(a)}}}addTargetHandler(l,a){let h=this.newId(),d=this.targetHandlers.get(l);null==d&&(d=[],this.targetHandlers.set(l,d)),d.push(D9.builder().setId(h).setHandler(a));let f=this;return{unsubscribe(){f.removeTargetHandler(l,h)}}}removeAllTargetHandlers(l){return this.targetHandlers.delete(l),this}removeHandler(l){this.handlers.delete(l)}removeTargetHandler(l,a){let h=this.targetHandlers.get(l);if(h){let d=h.filter((f,p,g)=>f.id!=a);d.length?this.targetHandlers.set(l,d):this.targetHandlers.delete(l)}}}class Bi{text;innerButtonText;timeout;buttonText="";config=null;static of(l,a,h){return new Bi(l,a,h)}constructor(l,a,h){this.text=l,this.innerButtonText=a,this.timeout=h,this.update()}setConfig(l){this.config=l}update(){return this.buttonText=this.innerButtonText+" ("+this.timeout--+"s)",this.timeout>=0}onButtonClick(){this.remove()}remove(){this.config.removeAlert(this)}}class xde{action;delayMS;delayRequest;requestedAction=!1;runTimer=!1;onDones=[];constructor(l,a,h){this.action=l,this.delayMS=a,this.delayRequest=h}requestAction(l){this.requestedAction=!0,this.runTimer||this.delayRequest(this.delayMS,()=>{this.checkAction()}),l&&this.onDones.push(l)}checkAction(){if(this.requestedAction)this.runTimer||(this.delayRequest(this.delayMS,()=>this.checkAction()),this.runTimer=!0);else{let l=this.onDones;this.onDones=[],this.action?this.action(l):l&&l.forEach(a=>a(!0)),this.runTimer=!1}this.requestedAction=!1}}class Xw{config;waitingForSenderId;enabled=!1;checkTimeoutMs=100;constructor(l,a){this.config=l,this.waitingForSenderId=a}static builder(){return new Xw(null,"")}setConfig(l){return this.config=l,this}setWaitingForSenderId(l){return this.waitingForSenderId=l,this.enabled=!this.waitingForSenderId,this}setCheckTimeout(l){return this.checkTimeoutMs=l,this}checkEnabled(){return!(!this.enabled&&this.config)||(this.config.messageBus.getMessages(this.waitingForSenderId)?.length?this.config.post(()=>{this.enabled=!0}):this.checkLatter(),this.enabled)}checkLatter(){return!(!this.enabled&&this.config)||(this.config.post(()=>this.checkEnabled(),this.checkTimeoutMs),this.enabled)}setEnabled(l){return this.enabled=l,this}}class qE{breakpoints=null;debugPositionsToLineMap=null;debugScriptRunning=!1;debugVar=null;cache=new Map;environment=Kl;themeName=Kl.themeName;serviceAPIHost=Kl.serviceAPIHost;redirectToServerAfterItIsReadyAdress=Kl.redirectToServerAfterItIsReadyAdress;portAutoDetection=Kl.portAutoDetection;portAutoIncrementValue=Kl.portAutoIncrementValue;messageBus=new iqe;alerts=[];pageLoadedFrom="";authId="";authIdKey="authId";authBody="";baseHref="";waitingIOOperationCount=0;waitingIOOperationValue=0;waitingIOOperationValueMax=100;outletOnly=!1;autoLoginApplication=!0;defaultApplication="";defaultLoginType="login";showType=this.defaultLoginType;enableDefaultPersons=!0;coding=Kl.coding;showOldVersions=Kl.showOldVersions;oldVersionsName=Kl.oldVersionsName;useDictionaries=Kl.useDictionaries;useCJsLang=Kl.useCJsLang;useJsLang=Kl.useJsLang;useCyrillicLang=Kl.useCyrillicLang;dictionaries=null;setDictionaries(l){return this.dictionaries=l,this}isShowLogin(){return this.showType==this.defaultLoginType}isShowNormal(){return"normal"==this.showType}isUseDictionaries(){return this.useDictionaries}setShowNormal(){return this.showType="normal",this}setShowLogin(l=null){return null!=l&&(this.autoLoginApplication=l),this.showType=this.defaultLoginType,this}get version(){return this.environment.version}get developerId(){let l="";return this.environment.developers.forEach(a=>{l=l+(l?"_":"")+a.id}),l}get developerName(){let l="";return this.environment.developers.forEach(a=>{l=l+(l?", ":"")+a.name}),l}get developerNameSortOrder(){let l="";return this.environment.developers.forEach(a=>{l=l+(l?", ":"")+a.nameSortOrder}),l}get developerLink(){return this.environment.developers[0].link}get developerSemail(){return this.environment.developers[0].semail}getDeveloperSemail(l){let a=this.environment.developers.filter(h=>h.id==l);return a.length>0?a[0].semail:this.developerSemail}setPageLoadedFrom(l,a=!1){return this.pageLoadedFrom=l,a&&this.runPortAutoDetection(),this.setupBaseHref(),this}constructor(){typeof pageLoadedFrom<"u"&&this.setPageLoadedFrom(pageLoadedFrom),this.runPortAutoDetection(),this.setupBaseHref()}setupBaseHref(){let l=this.pageLoadedFrom;l.endsWith("/")&&(l=l.substring(0,l.length-1)),this.baseHref=l}runPortAutoDetection(){this.portAutoDetection&&(this.serviceAPIHost=this.doPortAutoDetection(this.serviceAPIHost?this.serviceAPIHost:this.pageLoadedFrom),this.redirectToServerAfterItIsReadyAdress=this.doPortAutoDetection(this.redirectToServerAfterItIsReadyAdress))}doPortAutoDetection(l){const a=l.lastIndexOf(":");if(a<0)return l;let h="";for(let p=a+1;p<l.length&&"0123456789".indexOf(l.charAt(p))>=0;++p)h+=l.charAt(p);return isNaN(+h)?l:l.substring(0,a)+":"+(+location.port+Kl.portAutoIncrementValue)+l.substring(a+1+h.length,l.length)}addAlert(l){l.setConfig(this),this.alerts.push(l)}removeAlert(l){const a=this.alerts.findIndex((h,d,f)=>h===l);a>=0&&this.alerts.splice(a,1)}isPlatformAndroid(){return"Android"===this.environment.platform}isPlatformWeb(){return"Web"===this.environment.platform}isPlatform(l){return this.environment.platform===l}isRelativeCacheService(){return this.environment.relativeCacheService}isRestServerType(){return"rest"===this.environment.serverType}isMemoryServerType(){return"memory"===this.environment.serverType}isServerType(l){return this.environment.serverType===l}isRedTheme(){return"red"===this.themeName}isBlueTheme(){return"blue"===this.themeName}isTheme(l){return this.themeName===l}isWaitingIO(){return this.waitingIOOperationCount>0}incWaitingIO(){return this.waitingIOOperationCount++}decWaitingIO(){return this.waitingIOOperationCount--}clearWaitingIO(){this.waitingIOOperationCount=0}post(l,a=0){setTimeout(()=>{l()},a)}getApplication(){let l=null;return this.environment.applications.forEach(a=>{a.id==this.defaultApplication&&(l=a)}),l}getApplicationByNameOrNull(l){let a=null;return this.environment.applications.forEach(h=>{h.name==l&&(a=h)}),a}getSingleAppOrNull(){let l=null,a=this.environment.applications.filter(h=>h.applicationEnabled&&!h.applicationHidden);return 1==a.length&&(l=a[0]),l}}const Tde=class rqe{static isWebGLAvailable(){try{const l=document.createElement("canvas");return!(!window.WebGLRenderingContext||!l.getContext("webgl")&&!l.getContext("experimental-webgl"))}catch{return!1}}static isWebGL2Available(){try{const l=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!l.getContext("webgl2"))}catch{return!1}}static getWebGLErrorMessage(){return this.getErrorMessage(1)}static getWebGL2ErrorMessage(){return this.getErrorMessage(2)}static getErrorMessage(l){const h={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext};let d='Your $0 does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">$1</a>';const f=document.createElement("div");return f.id="webglmessage",f.style.fontFamily="monospace",f.style.fontSize="13px",f.style.fontWeight="normal",f.style.textAlign="center",f.style.background="#fff",f.style.color="#000",f.style.padding="1.5em",f.style.width="400px",f.style.margin="5em auto 0",d=d.replace("$0",h[l]?"graphics card":"browser"),d=d.replace("$1",{1:"WebGL",2:"WebGL 2"}[l]),f.innerHTML=d,f}};let M9=(()=>{class c{getStorage(a){try{return localStorage.getItem(a)}catch{}return""}setStorage(a,h){try{localStorage.setItem(a,h)}catch{}}static \u0275fac=function(h){return new(h||c)};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),Zt=(()=>{class c extends qE{localStorageSvc;loginTypeLSName="login";login3dValue="3d";themesSvc=null;constructor(a){super(),this.localStorageSvc=a,this.setDefaultLoginType(this.isLogin3dRequested()),this.showType=this.defaultLoginType}setThemesSvc(a){return this.themesSvc=a,this}isThemesSvc(a){return this.themesSvc==a}setDefaultLoginType(a){this.defaultLoginType=Tde.isWebGLAvailable()&&a?"login3d":"login"}requestLogin3d(a){this.setDefaultLoginType(a),this.localStorageSvc.setStorage(this.loginTypeLSName,Tde.isWebGLAvailable()&&a?this.login3dValue:"no")}isLogin3dRequested(){return this.localStorageSvc.getStorage(this.loginTypeLSName)==this.login3dValue}static \u0275fac=function(h){return new(h||c)(Ee(M9))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class uu{_id;key;value;constructor(l,a,h){this._id=l,this.key=a,this.value=h}static create(l){return l?new uu(l._id,l.key,l.value):new uu(-1,"","")}static of(l,a){return new uu(0,l,a)}}class rm{success;error;item;constructor(l,a,h){this.success=l,this.error=a,this.item=h}static create(l){return new rm(l.success,l.error,uu.create(l.item))}}class kp{static addBodyClass(l){let a=window.document.body.getAttribute("class");a&&a.split(" ").filter(d=>d==l).length>0||window.document.body.setAttribute("class",(a?a+" ":"")+l)}static removeBodyClass(l){let a=window.document.body.getAttribute("class"),h=a?a.split(" "):null;h&&h.filter(f=>f==l).length>0&&h&&window.document.body.setAttribute("class",h.filter(f=>f!=l).join(" "))}static addBodyClasses(l){l.split(" ").forEach(a=>kp.addBodyClass(a))}static scrollToTop(){document.body.scrollTop=document.documentElement.scrollTop=0}}let Ys=(()=>{class c{config;localstorageSvc;autoThemeKey="autotheme";themeKey="theme";constructor(a,h){this.config=a,this.localstorageSvc=h,this.config.setThemesSvc(this),this.requestThemesCheck()}requestThemesCheck(){this.config.isThemesSvc(this)&&(this.applyTheme(),this.config.post(()=>this.requestThemesCheck(),3e4))}themeName(a=!0){return this.config.baseHref+(a?"/index.html":"/index.night.html")}nowIsNight(){return this.isNight(!0)}nowIsDay(){return this.isLight(!0)}isAutoLight(){let a=!1,h=new Date;return a=h.getHours()>=6&&h.getHours()<18,a}isLight(a=!1){return this.isAutoTheme()?a&&this.isAutoLight():this.localstorageSvc.getStorage(this.themeKey)==this.themeName(!0)}isNight(a=!1){return this.isAutoTheme()?a&&!this.isAutoLight():this.localstorageSvc.getStorage(this.themeKey)==this.themeName(!1)}isAutoTheme(){return"true"==this.localstorageSvc.getStorage(this.autoThemeKey)}checkThemeSettings(){let a=this.isLight(),h=this.isNight();!a&&!h&&this.localstorageSvc.setStorage(this.autoThemeKey,""+!0)}onToggleAutoTheme(){let a=this.isLight(),h=this.isNight();(a||h||!a&&!h)&&(this.localstorageSvc.setStorage(this.autoThemeKey,""+!0),this.themeName(a),this.applyTheme())}switchToLight(){let a=this.themeName(!0);(this.localstorageSvc.getStorage(this.themeKey)!=a||this.isAutoTheme())&&(this.localstorageSvc.setStorage(this.themeKey,this.themeName(!0)),this.localstorageSvc.setStorage(this.autoThemeKey,"false"),this.applyTheme())}switchToNight(){let a=this.themeName(!1);(this.localstorageSvc.getStorage(this.themeKey)!=a||this.isAutoTheme())&&(this.localstorageSvc.setStorage(this.themeKey,this.themeName(!1)),this.localstorageSvc.setStorage(this.autoThemeKey,"false"),this.applyTheme())}applyTheme(){this.checkThemeSettings();let a=this.nowIsDay(),h=document.querySelector('meta[name="theme-color"]'),d=!1;if(h){let v=a?"#00364D":"#0d233a";h.getAttribute("content")!=v&&(h.setAttribute("content",v),d=!0)}!a!==window.document.body.hasAttribute("cds-theme")&&(a?window.document.body.removeAttribute("cds-theme"):window.document.body.setAttribute("cds-theme","dark"),d=!0);let f=window.document.body.getAttribute("class"),p=f?f.split(" ").filter(m=>"schedulerLight"==m||"schedulerNight"==m):null;f=p&&p.length?p[0]:"",(a?"schedulerLight":"schedulerNight")!=f&&(a?(kp.removeBodyClass("schedulerNight"),kp.addBodyClass("schedulerLight")):(kp.removeBodyClass("schedulerLight"),kp.addBodyClass("schedulerNight")),d=!0);let g=window.ThemeHandler;if(g)try{let m=this.nowIsDay()?"day":"night";d&&g.setTheme(m)}catch{}}printWindow(a){let h=!1,d=window.ThemeHandler;if(d)try{d.printWindow(a),h=!0}catch{}return h}getAudioRootFolder(){let a=window.ThemeHandler,h="./";if(a)try{h=a.getAudioRootFolder()}catch{}return h}static \u0275fac=function(h){return new(h||c)(Ee(Zt),Ee(M9))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class Ui{static handleError(l,a){let h="";return h=l.error instanceof ErrorEvent?`Message: ${l.error.message}`:`Code: ${l.status}; Message: ${l.message}`,hy(()=>"Something bad happened; please try again later. Error: "+h)}static callOnDone(l,a){null==a?l&&l(null):l&&("string"==typeof a||ArrayBuffer,l(a))}}class pi{static merge(l,a){if(!l&&!a)return"";if(!l)return a;if(!a)return l;let h=l.endsWith("/"),d=a.startsWith("/"),f=l;return h!=d?f+=a:h?f+=d?a.substring(1):a:f?f+="/"+a:f=a,f}}class KE{}class JE{}class rf{constructor(l){this.normalizedNames=new Map,this.lazyUpdate=null,l?"string"==typeof l?this.lazyInit=()=>{this.headers=new Map,l.split("\n").forEach(a=>{const h=a.indexOf(":");if(h>0){const d=a.slice(0,h),f=d.toLowerCase(),p=a.slice(h+1).trim();this.maybeSetNormalizedName(d,f),this.headers.has(f)?this.headers.get(f).push(p):this.headers.set(f,[p])}})}:typeof Headers<"u"&&l instanceof Headers?(this.headers=new Map,l.forEach((a,h)=>{this.setHeaderEntries(h,a)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(l).forEach(([a,h])=>{this.setHeaderEntries(a,h)})}:this.headers=new Map}has(l){return this.init(),this.headers.has(l.toLowerCase())}get(l){this.init();const a=this.headers.get(l.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(l){return this.init(),this.headers.get(l.toLowerCase())||null}append(l,a){return this.clone({name:l,value:a,op:"a"})}set(l,a){return this.clone({name:l,value:a,op:"s"})}delete(l,a){return this.clone({name:l,value:a,op:"d"})}maybeSetNormalizedName(l,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,l)}init(){this.lazyInit&&(this.lazyInit instanceof rf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(l=>this.applyUpdate(l)),this.lazyUpdate=null))}copyFrom(l){l.init(),Array.from(l.headers.keys()).forEach(a=>{this.headers.set(a,l.headers.get(a)),this.normalizedNames.set(a,l.normalizedNames.get(a))})}clone(l){const a=new rf;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof rf?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([l]),a}applyUpdate(l){const a=l.name.toLowerCase();switch(l.op){case"a":case"s":let h=l.value;if("string"==typeof h&&(h=[h]),0===h.length)return;this.maybeSetNormalizedName(l.name,a);const d=("a"===l.op?this.headers.get(a):void 0)||[];d.push(...h),this.headers.set(a,d);break;case"d":const f=l.value;if(f){let p=this.headers.get(a);if(!p)return;p=p.filter(g=>-1===f.indexOf(g)),0===p.length?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,p)}else this.headers.delete(a),this.normalizedNames.delete(a)}}setHeaderEntries(l,a){const h=(Array.isArray(a)?a:[a]).map(f=>f.toString()),d=l.toLowerCase();this.headers.set(d,h),this.maybeSetNormalizedName(l,d)}forEach(l){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>l(this.normalizedNames.get(a),this.headers.get(a)))}}class sqe{encodeKey(l){return kde(l)}encodeValue(l){return kde(l)}decodeKey(l){return decodeURIComponent(l)}decodeValue(l){return decodeURIComponent(l)}}const aqe=/%(\d[a-f0-9])/gi,lqe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kde(c){return encodeURIComponent(c).replace(aqe,(l,a)=>lqe[a]??l)}function eP(c){return`${c}`}class Dp{constructor(l={}){if(this.updates=null,this.cloneFrom=null,this.encoder=l.encoder||new sqe,l.fromString){if(l.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function oqe(c,l){const a=new Map;return c.length>0&&c.replace(/^\?/,"").split("&").forEach(d=>{const f=d.indexOf("="),[p,g]=-1==f?[l.decodeKey(d),""]:[l.decodeKey(d.slice(0,f)),l.decodeValue(d.slice(f+1))],m=a.get(p)||[];m.push(g),a.set(p,m)}),a}(l.fromString,this.encoder)}else l.fromObject?(this.map=new Map,Object.keys(l.fromObject).forEach(a=>{const h=l.fromObject[a],d=Array.isArray(h)?h.map(eP):[eP(h)];this.map.set(a,d)})):this.map=null}has(l){return this.init(),this.map.has(l)}get(l){this.init();const a=this.map.get(l);return a?a[0]:null}getAll(l){return this.init(),this.map.get(l)||null}keys(){return this.init(),Array.from(this.map.keys())}append(l,a){return this.clone({param:l,value:a,op:"a"})}appendAll(l){const a=[];return Object.keys(l).forEach(h=>{const d=l[h];Array.isArray(d)?d.forEach(f=>{a.push({param:h,value:f,op:"a"})}):a.push({param:h,value:d,op:"a"})}),this.clone(a)}set(l,a){return this.clone({param:l,value:a,op:"s"})}delete(l,a){return this.clone({param:l,value:a,op:"d"})}toString(){return this.init(),this.keys().map(l=>{const a=this.encoder.encodeKey(l);return this.map.get(l).map(h=>a+"="+this.encoder.encodeValue(h)).join("&")}).filter(l=>""!==l).join("&")}clone(l){const a=new Dp({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(l),a}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(l=>this.map.set(l,this.cloneFrom.map.get(l))),this.updates.forEach(l=>{switch(l.op){case"a":case"s":const a=("a"===l.op?this.map.get(l.param):void 0)||[];a.push(eP(l.value)),this.map.set(l.param,a);break;case"d":if(void 0===l.value){this.map.delete(l.param);break}{let h=this.map.get(l.param)||[];const d=h.indexOf(eP(l.value));-1!==d&&h.splice(d,1),h.length>0?this.map.set(l.param,h):this.map.delete(l.param)}}}),this.cloneFrom=this.updates=null)}}class cqe{constructor(){this.map=new Map}set(l,a){return this.map.set(l,a),this}get(l){return this.map.has(l)||this.map.set(l,l.defaultValue()),this.map.get(l)}delete(l){return this.map.delete(l),this}has(l){return this.map.has(l)}keys(){return this.map.keys()}}function Dde(c){return typeof ArrayBuffer<"u"&&c instanceof ArrayBuffer}function Mde(c){return typeof Blob<"u"&&c instanceof Blob}function Ede(c){return typeof FormData<"u"&&c instanceof FormData}class Yw{constructor(l,a,h,d){let f;if(this.url=a,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=l.toUpperCase(),function uqe(c){switch(c){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||d?(this.body=void 0!==h?h:null,f=d):f=h,f&&(this.reportProgress=!!f.reportProgress,this.withCredentials=!!f.withCredentials,f.responseType&&(this.responseType=f.responseType),f.headers&&(this.headers=f.headers),f.context&&(this.context=f.context),f.params&&(this.params=f.params)),this.headers||(this.headers=new rf),this.context||(this.context=new cqe),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=a;else{const g=a.indexOf("?");this.urlWithParams=a+(-1===g?"?":g<a.length-1?"&":"")+p}}else this.params=new Dp,this.urlWithParams=a}serializeBody(){return null===this.body?null:Dde(this.body)||Mde(this.body)||Ede(this.body)||function hqe(c){return typeof URLSearchParams<"u"&&c instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Dp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ede(this.body)?null:Mde(this.body)?this.body.type||null:Dde(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Dp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(l={}){const a=l.method||this.method,h=l.url||this.url,d=l.responseType||this.responseType,f=void 0!==l.body?l.body:this.body,p=void 0!==l.withCredentials?l.withCredentials:this.withCredentials,g=void 0!==l.reportProgress?l.reportProgress:this.reportProgress;let m=l.headers||this.headers,v=l.params||this.params;const _=l.context??this.context;return void 0!==l.setHeaders&&(m=Object.keys(l.setHeaders).reduce((y,b)=>y.set(b,l.setHeaders[b]),m)),l.setParams&&(v=Object.keys(l.setParams).reduce((y,b)=>y.set(b,l.setParams[b]),v)),new Yw(a,h,f,{params:v,headers:m,context:_,reportProgress:g,responseType:d,withCredentials:p})}}var _b=function(c){return c[c.Sent=0]="Sent",c[c.UploadProgress=1]="UploadProgress",c[c.ResponseHeader=2]="ResponseHeader",c[c.DownloadProgress=3]="DownloadProgress",c[c.Response=4]="Response",c[c.User=5]="User",c}(_b||{});class E9{constructor(l,a=200,h="OK"){this.headers=l.headers||new rf,this.status=void 0!==l.status?l.status:a,this.statusText=l.statusText||h,this.url=l.url||null,this.ok=this.status>=200&&this.status<300}}class P9 extends E9{constructor(l={}){super(l),this.type=_b.ResponseHeader}clone(l={}){return new P9({headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class yb extends E9{constructor(l={}){super(l),this.type=_b.Response,this.body=void 0!==l.body?l.body:null}clone(l={}){return new yb({body:void 0!==l.body?l.body:this.body,headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class Pde extends E9{constructor(l){super(l,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${l.url||"(unknown url)"}`:`Http failure response for ${l.url||"(unknown url)"}: ${l.status} ${l.statusText}`,this.error=l.error||null}}function A9(c,l){return{body:l,headers:c.headers,context:c.context,observe:c.observe,params:c.params,reportProgress:c.reportProgress,responseType:c.responseType,withCredentials:c.withCredentials}}let hu=(()=>{class c{constructor(a){this.handler=a}request(a,h,d={}){let f;if(a instanceof Yw)f=a;else{let m,v;m=d.headers instanceof rf?d.headers:new rf(d.headers),d.params&&(v=d.params instanceof Dp?d.params:new Dp({fromObject:d.params})),f=new Yw(a,h,void 0!==d.body?d.body:null,{headers:m,context:d.context,params:v,reportProgress:d.reportProgress,responseType:d.responseType||"json",withCredentials:d.withCredentials})}const p=di(f).pipe(dy(m=>this.handler.handle(m)));if(a instanceof Yw||"events"===d.observe)return p;const g=p.pipe(vs(m=>m instanceof yb));switch(d.observe||"body"){case"body":switch(f.responseType){case"arraybuffer":return g.pipe(Oi(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return g.pipe(Oi(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return g.pipe(Oi(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return g.pipe(Oi(m=>m.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${d.observe}}`)}}delete(a,h={}){return this.request("DELETE",a,h)}get(a,h={}){return this.request("GET",a,h)}head(a,h={}){return this.request("HEAD",a,h)}jsonp(a,h){return this.request("JSONP",a,{params:(new Dp).append(h,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(a,h={}){return this.request("OPTIONS",a,h)}patch(a,h,d={}){return this.request("PATCH",a,A9(d,h))}post(a,h,d={}){return this.request("POST",a,A9(d,h))}put(a,h,d={}){return this.request("PUT",a,A9(d,h))}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(KE))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();function Rde(c,l){return l(c)}function fqe(c,l){return(a,h)=>l.intercept(a,{handle:d=>c(d,h)})}const Lde=new an(""),qw=new an(""),Nde=new an("");function gqe(){let c=null;return(l,a)=>{null===c&&(c=(Dn(Lde,{optional:!0})??[]).reduceRight(fqe,Rde));const h=Dn(_3),d=h.add();return c(l,a).pipe(b2(()=>h.remove(d)))}}let Fde=(()=>{class c extends KE{constructor(a,h){super(),this.backend=a,this.injector=h,this.chain=null,this.pendingTasks=Dn(_3)}handle(a){if(null===this.chain){const d=Array.from(new Set([...this.injector.get(qw),...this.injector.get(Nde,[])]));this.chain=d.reduceRight((f,p)=>function pqe(c,l,a){return(h,d)=>a.runInContext(()=>l(h,f=>c(f,d)))}(f,p,this.injector),Rde)}const h=this.pendingTasks.add();return this.chain(a,d=>this.backend.handle(d)).pipe(b2(()=>this.pendingTasks.remove(h)))}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(JE),Ee(Kc))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();const yqe=/^\)\]\}',?\n/;let Vde=(()=>{class c{constructor(a){this.xhrFactory=a}handle(a){if("JSONP"===a.method)throw new Ct(-2800,!1);const h=this.xhrFactory;return(h.\u0275loadImpl?Zo(h.\u0275loadImpl()):di(null)).pipe(mc(()=>new at(f=>{const p=h.build();if(p.open(a.method,a.urlWithParams),a.withCredentials&&(p.withCredentials=!0),a.headers.forEach((S,w)=>p.setRequestHeader(S,w.join(","))),a.headers.has("Accept")||p.setRequestHeader("Accept","application/json, text/plain, */*"),!a.headers.has("Content-Type")){const S=a.detectContentTypeHeader();null!==S&&p.setRequestHeader("Content-Type",S)}if(a.responseType){const S=a.responseType.toLowerCase();p.responseType="json"!==S?S:"text"}const g=a.serializeBody();let m=null;const v=()=>{if(null!==m)return m;const S=p.statusText||"OK",w=new rf(p.getAllResponseHeaders()),x=function bqe(c){return"responseURL"in c&&c.responseURL?c.responseURL:/^X-Request-URL:/m.test(c.getAllResponseHeaders())?c.getResponseHeader("X-Request-URL"):null}(p)||a.url;return m=new P9({headers:w,status:p.status,statusText:S,url:x}),m},_=()=>{let{headers:S,status:w,statusText:x,url:T}=v(),D=null;204!==w&&(D=typeof p.response>"u"?p.responseText:p.response),0===w&&(w=D?200:0);let k=w>=200&&w<300;if("json"===a.responseType&&"string"==typeof D){const P=D;D=D.replace(yqe,"");try{D=""!==D?JSON.parse(D):null}catch(N){D=P,k&&(k=!1,D={error:N,text:D})}}k?(f.next(new yb({body:D,headers:S,status:w,statusText:x,url:T||void 0})),f.complete()):f.error(new Pde({error:D,headers:S,status:w,statusText:x,url:T||void 0}))},y=S=>{const{url:w}=v(),x=new Pde({error:S,status:p.status||0,statusText:p.statusText||"Unknown Error",url:w||void 0});f.error(x)};let b=!1;const O=S=>{b||(f.next(v()),b=!0);let w={type:_b.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(w.total=S.total),"text"===a.responseType&&p.responseText&&(w.partialText=p.responseText),f.next(w)},C=S=>{let w={type:_b.UploadProgress,loaded:S.loaded};S.lengthComputable&&(w.total=S.total),f.next(w)};return p.addEventListener("load",_),p.addEventListener("error",y),p.addEventListener("timeout",y),p.addEventListener("abort",y),a.reportProgress&&(p.addEventListener("progress",O),null!==g&&p.upload&&p.upload.addEventListener("progress",C)),p.send(g),f.next({type:_b.Sent}),()=>{p.removeEventListener("error",y),p.removeEventListener("abort",y),p.removeEventListener("load",_),p.removeEventListener("timeout",y),a.reportProgress&&(p.removeEventListener("progress",O),null!==g&&p.upload&&p.upload.removeEventListener("progress",C)),p.readyState!==p.DONE&&p.abort()}})))}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(Oie))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();const I9=new an("XSRF_ENABLED"),$de=new an("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zde=new an("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ude{}let Sqe=(()=>{class c{constructor(a,h,d){this.doc=a,this.platform=h,this.cookieName=d,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const a=this.doc.cookie||"";return a!==this.lastCookieString&&(this.parseCount++,this.lastToken=hie(a,this.cookieName),this.lastCookieString=a),this.lastToken}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(Pr),Ee(hs),Ee($de))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();function wqe(c,l){const a=c.url.toLowerCase();if(!Dn(I9)||"GET"===c.method||"HEAD"===c.method||a.startsWith("http://")||a.startsWith("https://"))return l(c);const h=Dn(Ude).getToken(),d=Dn(zde);return null!=h&&!c.headers.has(d)&&(c=c.clone({headers:c.headers.set(d,h)})),l(c)}var sm=function(c){return c[c.Interceptors=0]="Interceptors",c[c.LegacyInterceptors=1]="LegacyInterceptors",c[c.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",c[c.NoXsrfProtection=3]="NoXsrfProtection",c[c.JsonpSupport=4]="JsonpSupport",c[c.RequestsMadeViaParent=5]="RequestsMadeViaParent",c[c.Fetch=6]="Fetch",c}(sm||{});function xqe(...c){const l=[hu,Vde,Fde,{provide:KE,useExisting:Fde},{provide:JE,useExisting:Vde},{provide:qw,useValue:wqe,multi:!0},{provide:I9,useValue:!0},{provide:Ude,useClass:Sqe}];for(const a of c)l.push(...a.\u0275providers);return function JN(c){return{\u0275providers:c}}(l)}const Qde=new an("LEGACY_INTERCEPTOR_FN");function Tqe(){return function N1(c,l){return{\u0275kind:c,\u0275providers:l}}(sm.LegacyInterceptors,[{provide:Qde,useFactory:gqe},{provide:qw,useExisting:Qde,multi:!0}])}let kqe=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=jn({type:c});static#n=this.\u0275inj=Wn({providers:[xqe(Tqe())]})}return c})(),Hde=(()=>{class c{http;config;restPoint="/settings";getRestPoint(a,h){return pi.merge(pi.merge(h||this.config.serviceAPIHost,this.restPoint),a)}constructor(a,h){this.http=a,this.config=h}handleError(a,h){return Ui.handleError(a,h)}findKey(a,h){const d={_id:0,key:a,value:""};this.http.post(this.getRestPoint("/find",null),d,{}).pipe(vr(this.handleError)).subscribe({next:p=>{Ui.callOnDone(h,rm.create(p))},error:p=>{Ui.callOnDone(h,null)}})}insertKey(a,h){this.http.post(this.getRestPoint("/insert",null),a,{}).pipe(vr(this.handleError)).subscribe({next:f=>{Ui.callOnDone(h,rm.create(f))},error:f=>{Ui.callOnDone(h,null)}})}updateKey(a,h){this.http.post(this.getRestPoint("/update",null),a,{}).pipe(vr(this.handleError)).subscribe({next:f=>{Ui.callOnDone(h,rm.create(f))},error:f=>{Ui.callOnDone(h,null)}})}static \u0275fac=function(h){return new(h||c)(Ee(hu),Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),Wde=(()=>{class c{config;kvs=null;localStorageName="";constructor(a){this.config=a,this.localStorageName=a.serviceAPIHost+"KVSvc"}checkOrloadData(){if(this.kvs)return;const a=localStorage.getItem(this.localStorageName);if(a)try{this.kvs=JSON.parse(a)}catch{}this.kvs||(this.kvs={})}saveData(){const a=JSON.stringify(this.kvs);localStorage.setItem(this.localStorageName,a)}findKey(a,h){this.checkOrloadData();const d=this.kvs[a],f=null!=d;return this.config.post(()=>{Ui.callOnDone(h,new rm(f,f?null:"Not found",f?new uu(-1,a,d):null))}),d}insertKey(a,h){this.checkOrloadData(),this.kvs[a.key]=a.value,this.saveData(),this.config.post(()=>{Ui.callOnDone(h,new rm(!0,null,a))})}updateKey(a,h){this.checkOrloadData(),this.kvs[a.key]=a.value,this.saveData(),this.config.post(()=>{Ui.callOnDone(h,new rm(!0,null,a))})}static \u0275fac=function(h){return new(h||c)(Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),R9=(()=>{class c{kvRest;kvMemory;config;kv=null;constructor(a,h,d){this.kvRest=a,this.kvMemory=h,this.config=d,this.config.isMemoryServerType()&&(this.kv=this.kvMemory),(null==this.kv||this.config.isRestServerType())&&(this.kv=this.kvRest)}findKey(a,h){this.kv.findKey(a,h)}insertKey(a,h){this.kv.insertKey(a,h)}updateKey(a,h){this.kv.updateKey(a,h)}static \u0275fac=function(h){return new(h||c)(Ee(Hde),Ee(Wde),Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class L9{name;value;constructor(l,a){this.name=l,this.value=a}equalsTo(l){return this.name==l.name&&this.value==l.value}static cloneFrom(l){return new L9(l.name,l.value)}}var tt=function(c){return c[c.Number=0]="Number",c[c.String=1]="String",c[c.Boolean=2]="Boolean",c}(tt||{});class lt{name;description;type;cfg;saver;defaultValue;static uiTypeToString(l){return["Number","String","Boolean"][l]}constructor(l,a,h,d,f,p){this.name=l,this.description=a,this.type=h,this.cfg=d,this.saver=f,this.defaultValue=p}static builder(){return new lt("","",tt.String,()=>null,()=>{},null)}setName(l){return this.name=l,this}setDescription(l){return this.description=l,this}setType(l){return this.type=l,this}setDefaultValue(l){return this.defaultValue=l,this}setCfg(l){return this.cfg=l,this}setSaver(l){return this.saver=l,this}get stype(){return lt.uiTypeToString(this.type)}init(){let l=this.cfg();return null==l[this.name]&&(l[this.name]=this.defaultValue),this}getStringValue(){if(this.type!==tt.String)throw new Error(`\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 \u0442\u0438\u043f, \u0430 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d: ${this.stype}.`);return this.cfg()[this.name]}getAndVerifyStringValue(l=null,a=""){let h=l??this.cfg();if(this.type!==tt.String)throw new Error(`\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 \u0442\u0438\u043f, \u0430 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d: ${this.stype}.`);let d=h[this.name];return("string"!=typeof d||null==d)&&(d=a??(null==this.defaultValue?"":this.defaultValue)),d}getNumberValue(){if(this.type!==tt.Number)throw new Error(`\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u0442\u0438\u043f, \u0430 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d: ${this.stype}.`);return this.cfg()[this.name]}getAndVerifyNumberValue(l=null,a=0){let h=l??this.cfg();if(this.type!==tt.Number)throw new Error(`\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u0442\u0438\u043f, \u0430 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d: ${this.stype}.`);let d=h[this.name];return("number"!=typeof d||null==d)&&(d=a??(null==this.defaultValue?0:this.defaultValue)),d}getBooleanValue(){if(this.type!==tt.Boolean)throw new Error(`\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0431\u0443\u043b\u0435\u0432\u044b\u0439 \u0442\u0438\u043f, \u0430 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d: ${this.stype}.`);return this.cfg()[this.name]}getAndVerifyBooleanValue(l=null,a=0){let h=l??this.cfg();if(this.type!==tt.Boolean)throw new Error(`\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0431\u0443\u043b\u0435\u0432\u044b\u0439 \u0442\u0438\u043f, \u0430 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d: ${this.stype}.`);let d=h[this.name];return("boolean"!=typeof d||null==d)&&(d=a??(null!=this.defaultValue&&this.defaultValue)),d}getAndVerifyValue(l=null,a=null){let h=null;switch(this.type){case tt.String:h=this.getAndVerifyStringValue(l,a);break;case tt.Number:h=this.getAndVerifyNumberValue(l,a);break;case tt.Boolean:h=this.getAndVerifyBooleanValue(l,a);break;default:throw new Error(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u044b\u043d\u0439 \u0442\u0438\u043f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f: ${this.stype}.`)}return h}setStringValue(l){if(this.type!==tt.String)throw new Error(`\u041d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0438\u0441\u0432\u043e\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 \u0442\u0438\u043f \u0442\u0438\u043f\u0443: ${this.stype}.`);this.cfg()[this.name]=l,this.save()}setNumberValue(l){if(this.type!==tt.Number)throw new Error(`\u041d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0438\u0441\u0432\u043e\u0438\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u0442\u0438\u043f \u0442\u0438\u043f\u0443: ${this.stype}.`);this.cfg()[this.name]=l,this.save()}setBooleanValue(l){if(this.type!==tt.Boolean)throw new Error(`\u041d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0438\u0441\u0432\u043e\u0438\u0442\u044c \u0431\u0443\u043b\u0435\u0432\u044b\u0439 \u0442\u0438\u043f \u0442\u0438\u043f\u0443: ${this.stype}.`);this.cfg()[this.name]=l,this.save()}setValue(l,a=null){return(a??this.cfg())[this.name]=l,null==a&&this.save(),this}get rawValue(){let l=this.cfg()[this.name];return null==l&&(this.cfg()[this.name]=this.defaultValue,l=this.cfg()[this.name]),l}set rawValue(l){this.cfg()[this.name]=l,this.save()}save(){this.saver&&this.saver()}}class Iqe{lastLoginApp=lt.builder().setType(tt.String).setDescription("\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435").setDefaultValue("");defaultAppRoute=lt.builder().setType(tt.String).setDescription("\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e").setDefaultValue("");stopServiceFlag=lt.builder().setType(tt.Boolean).setDescription("\u0412\u044b\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441").setDefaultValue(!0);autoDownloadAudioFiles=lt.builder().setType(tt.Boolean).setDescription("\u041a\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u0443\u0434\u0438\u043e").setDefaultValue(!1);parallel=lt.builder().setType(tt.Boolean).setDescription("\u041f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u043a\u0430\u0437").setDefaultValue(!0);fineText=lt.builder().setType(tt.Boolean).setDescription("\u0420\u0430\u0441\u0442\u044f\u0433\u0438\u0432\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442").setDefaultValue(!1);lineBreaks=lt.builder().setType(tt.Boolean).setDescription("\u0420\u0430\u0437\u0440\u044b\u0432\u044b \u0441\u0442\u0440\u043e\u043a").setDefaultValue(!0);coloredTranslations=lt.builder().setType(tt.Boolean).setDescription("\u0426\u0432\u0435\u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u043e\u0432").setDefaultValue(!0);fontSize=lt.builder().setType(tt.String).setDescription("\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430").setDefaultValue("0");fixedWidth=lt.builder().setType(tt.Boolean).setDescription("\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0432\u0430\u0442\u044c \u0448\u0438\u0440\u0438\u043d\u0443").setDefaultValue(!0);visitedBooksHelp=lt.builder().setType(tt.String).setDescription("\u041f\u043e\u0441\u0435\u0449\u0451\u043d\u043d\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u043a\u0430 \u041a\u043d\u0438\u0433").setDefaultValue("");visitedMemorialHelp=lt.builder().setType(tt.String).setDescription("\u041f\u043e\u0441\u0435\u0449\u0451\u043d\u043d\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u043a\u0430 \u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0430").setDefaultValue("");visitedCalculatorHelp=lt.builder().setType(tt.String).setDescription("\u041f\u043e\u0441\u0435\u0449\u0451\u043d\u043d\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u043a\u0430 \u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440\u0430").setDefaultValue("");visitedChessHelp=lt.builder().setType(tt.String).setDescription("\u041f\u043e\u0441\u0435\u0449\u0451\u043d\u043d\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u043a\u0430 \u0428\u0430\u0445\u043c\u0430\u0442").setDefaultValue("");visitedCalendarHelp=lt.builder().setType(tt.String).setDescription("\u041f\u043e\u0441\u0435\u0449\u0451\u043d\u043d\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u043a\u0430 \u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f").setDefaultValue("");visitedCrossHelp=lt.builder().setType(tt.String).setDescription("\u041f\u043e\u0441\u0435\u0449\u0451\u043d\u043d\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u043a\u0430 \u041a\u0440\u0435\u0441\u0442\u0430").setDefaultValue("");visitedCompilerHelp=lt.builder().setType(tt.String).setDescription("\u041f\u043e\u0441\u0435\u0449\u0451\u043d\u043d\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u043a\u0430 \u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440\u0430").setDefaultValue("");visitedSchedulerHelp=lt.builder().setType(tt.String).setDescription("\u041f\u043e\u0441\u0435\u0449\u0451\u043d\u043d\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u043a\u0430 \u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f").setDefaultValue("");currentBook=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043d\u0438\u0433\u0430").setDefaultValue("");currentBookName=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0438\u043c\u044f \u043a\u043d\u0438\u0433\u0438").setDefaultValue("");currentBookLink=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430 \u043a\u043d\u0438\u0433\u0438").setDefaultValue("");currentChapter=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430").setDefaultValue("");currentLanguages=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u044f\u0437\u044b\u043a\u0438").setDefaultValue("");bookmarks=lt.builder().setType(tt.String).setDescription("\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438").setDefaultValue("");currentMemorial=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a").setDefaultValue("");currentMemorialPage=lt.builder().setType(tt.Number).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430").setDefaultValue(1);currentMemorialPsalom=lt.builder().setType(tt.Number).setDescription("\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0441\u0430\u043b\u043e\u043c").setDefaultValue(0);memorialChapterRequested=lt.builder().setType(tt.Number).setDescription("\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u044b\u0439 \u043f\u0441\u0430\u043b\u043e\u043c").setDefaultValue(-1);memorialPageSize=lt.builder().setType(tt.String).setDescription("\u0420\u0430\u0437\u043c\u0435\u0440 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b").setDefaultValue("30");sortPersonsPriests=lt.builder().setType(tt.Boolean).setDescription("\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u0430\u043c").setDefaultValue(!1);sortPersonsNames=lt.builder().setType(tt.Boolean).setDescription("\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u043c\u0435\u043d\u0430").setDefaultValue(!1);memorialVerticalView=lt.builder().setType(tt.Boolean).setDescription("\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0432\u0438\u0434").setDefaultValue(!1);mergeNameOnImport=lt.builder().setType(tt.Boolean).setDescription("\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0442\u044c \u0438\u043c\u0435\u043d\u0430").setDefaultValue(!1);showMolitvy=lt.builder().setType(tt.Boolean).setDescription("\u041f\u043e\u043a\u0430\u0437 \u043c\u043e\u043b\u0438\u0442\u0432").setDefaultValue(!0);addCommentToName=lt.builder().setType(tt.Boolean).setDescription("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0432 \u0438\u043c\u0435\u043d\u0438").setDefaultValue(!0);personAffixes=lt.builder().setType(tt.String).setDescription("\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u0430\u0444\u0444\u0438\u043a\u0441\u043e\u0432 \u0438\u043c\u0451\u043d").setDefaultValue("");addCommentToNameTags=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u0433\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432").setDefaultValue("\u0442\u0435\u043a\u0441\u0442");addCommentsSeparator=lt.builder().setType(tt.String).setDescription("\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432").setDefaultValue(",");addRepeatCommentToName=lt.builder().setType(tt.Boolean).setDescription("\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u0432\u0442\u043e\u0440\u044b").setDefaultValue(!1);currentOffset=lt.builder().setType(tt.Number).setDescription("\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435").setDefaultValue(0);currentPersonOffset=lt.builder().setType(tt.Number).setDescription("\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u044b").setDefaultValue(1);memorialBook=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043d\u0438\u0433\u0430").setDefaultValue("");memorialChapter=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430").setDefaultValue("");memorialLine=lt.builder().setType(tt.Number).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043b\u0438\u043d\u0438\u044f").setDefaultValue(1);memorialsTitleRemark=lt.builder().setType(tt.String).setDescription("\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0437\u0430\u043f\u0438\u0441\u043e\u043a").setDefaultValue("");memorialSlava1Zdrav=lt.builder().setType(tt.Boolean).setDescription('"\u041e \u0437\u0434\u0440\u0430\u0432\u0438\u0438"').setDefaultValue(!0);memorialSlava2Zdrav=lt.builder().setType(tt.Boolean).setDescription('"\u041e \u0437\u0434\u0440\u0430\u0432\u0438\u0438"').setDefaultValue(!0);memorialSlava3Zdrav=lt.builder().setType(tt.Boolean).setDescription('"\u041e \u0437\u0434\u0440\u0430\u0432\u0438\u0438"').setDefaultValue(!0);memorialSlava1Upok=lt.builder().setType(tt.Boolean).setDescription('"\u041e \u0443\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438"').setDefaultValue(!0);memorialSlava2Upok=lt.builder().setType(tt.Boolean).setDescription('"\u041e \u0443\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438"').setDefaultValue(!0);memorialSlava3Upok=lt.builder().setType(tt.Boolean).setDescription('"\u041e \u0443\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438"').setDefaultValue(!0);memorialPsaltir=lt.builder().setType(tt.Boolean).setDescription("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c").setDefaultValue(!0);memorialAllTags=lt.builder().setType(tt.String).setDescription("\u041c\u0435\u0442\u043a\u0438").setDefaultValue("");memorialSlava1Tags=lt.builder().setType(tt.String).setDescription("\u041c\u0435\u0442\u043a\u0438 1-\u043e\u0439 \u0441\u043b\u0430\u0432\u044b").setDefaultValue("");memorialSlava2Tags=lt.builder().setType(tt.String).setDescription("\u041c\u0435\u0442\u043a\u0438 2-\u043e\u0439 \u0441\u043b\u0430\u0432\u044b").setDefaultValue("");memorialSlava3Tags=lt.builder().setType(tt.String).setDescription("\u041c\u0435\u0442\u043a\u0438 3-\u043e\u0439 \u0441\u043b\u0430\u0432\u044b").setDefaultValue("");showFacePage=lt.builder().setType(tt.Boolean).setDescription("\u041e\u0431\u043b\u043e\u0436\u043a\u0430").setDefaultValue(!1);memorialPrintAllBook=lt.builder().setType(tt.Boolean).setDescription("\u041f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0432\u0441\u044e \u043a\u043d\u0438\u0433\u0443").setDefaultValue(!1);memorialUITooltips=lt.builder().setType(tt.Boolean).setDescription("\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430").setDefaultValue(!0);memorialExportTemplate=lt.builder().setType(tt.String).setDescription("\u0428\u0430\u0431\u043b\u043e\u043d \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430").setDefaultValue("");memorialExportTemplateTypeName=lt.builder().setType(tt.String).setDescription("\u0422\u0438\u043f \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430").setDefaultValue("mustache");memorialExportCurrentSettingsName=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0438\u043c\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430").setDefaultValue("");memorialExportAllVariants=lt.builder().setType(tt.String).setDescription("\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0430").setDefaultValue("");audioValue=lt.builder().setType(tt.String).setDescription("\u0417\u0432\u0443\u043a\u043e\u0432\u043e\u0435 \u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435").setDefaultValue("1");calculatorBook=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043d\u0438\u0433\u0430").setDefaultValue("");calculatorChapter=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430").setDefaultValue("");calculatorLine=lt.builder().setType(tt.Number).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043b\u0438\u043d\u0438\u044f").setDefaultValue(1);calculatorFormulaText=lt.builder().setType(tt.String).setDescription("\u0424\u043e\u0440\u043c\u0443\u043b\u0430").setDefaultValue("");calculatorScaleX=lt.builder().setType(tt.Number).setDescription("\u041c\u0430\u0441\u0448\u0442\u0430\u0431 X").setDefaultValue(1);calculatorScaleY=lt.builder().setType(tt.Number).setDescription("\u041c\u0430\u0441\u0448\u0442\u0430\u0431 Y").setDefaultValue(1);calculatorZeroX=lt.builder().setType(tt.Number).setDescription("\u041d\u0443\u043b\u044c X").setDefaultValue(0);calculatorZeroY=lt.builder().setType(tt.Number).setDescription("\u041d\u0443\u043b\u044c Y").setDefaultValue(0);calculatorOffsetX=lt.builder().setType(tt.Number).setDescription("\u0412\u0438\u0434 X").setDefaultValue(0);calculatorOffsetY=lt.builder().setType(tt.Number).setDescription("\u0412\u0438\u0434 Y").setDefaultValue(0);calculatorViewWidth=lt.builder().setType(tt.Number).setDescription("\u0428\u0438\u0440\u0438\u043d\u0430").setDefaultValue(24);calculatorVAlign=lt.builder().setType(tt.String).setDescription("\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435").setDefaultValue("\u043d\u0443\u043b\u044c");calculatorIncrement=lt.builder().setType(tt.Number).setDescription("\u0418\u043d\u043a\u0440\u0435\u043c\u0435\u043d\u0442").setDefaultValue(.1);chessBook=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043d\u0438\u0433\u0430").setDefaultValue("");chessChapter=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430").setDefaultValue("");chessLine=lt.builder().setType(tt.Number);calendarBook=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043d\u0438\u0433\u0430").setDefaultValue("");calendarChapter=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430").setDefaultValue("");calendarLine=lt.builder().setType(tt.Number).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043b\u0438\u043d\u0438\u044f").setDefaultValue(1);calendarText=lt.builder().setType(tt.String).setDescription("\u0424\u043e\u0440\u043c\u0443\u043b\u0430").setDefaultValue("");crossBook=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043d\u0438\u0433\u0430").setDefaultValue("");crossChapter=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430").setDefaultValue("");crossLine=lt.builder().setType(tt.Number).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043b\u0438\u043d\u0438\u044f").setDefaultValue(1);crossSettings=lt.builder().setType(tt.String).setDescription("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438").setDefaultValue("");compilerBook=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043d\u0438\u0433\u0430").setDefaultValue("");compilerChapter=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430").setDefaultValue("");compilerLine=lt.builder().setType(tt.Number).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043b\u0438\u043d\u0438\u044f").setDefaultValue(1);compilerSourceText=lt.builder().setType(tt.String).setDescription("\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a").setDefaultValue("");compilerSourceAppendText=lt.builder().setType(tt.String).setDescription("\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a").setDefaultValue("");compilerSourceLanguage=lt.builder().setType(tt.String).setDescription("\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a").setDefaultValue("");compilerShowRunMode=lt.builder().setType(tt.Number).setDescription("\u0420\u0435\u0436\u0438\u043c \u043f\u043e\u043a\u0430\u0437\u0430").setDefaultValue(0);compilerDebug=lt.builder().setType(tt.Boolean).setDescription("\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u043e\u0442\u043b\u0430\u0434\u043a\u0443").setDefaultValue(!0);compilerMentor=lt.builder().setType(tt.String).setDescription("\u041c\u0435\u043d\u0442\u043e\u0440").setDefaultValue("");compilerMentorLanguage=lt.builder().setType(tt.String).setDescription("\u042f\u0437\u044b\u043a \u043c\u0435\u043d\u0442\u043e\u0440\u0430").setDefaultValue("");compilerLessonBookName=lt.builder().setType(tt.String).setDescription("\u041a\u043d\u0438\u0433\u0430 \u0443\u0440\u043e\u043a\u0430").setDefaultValue("");compilerLessonBookChapter=lt.builder().setType(tt.String).setDescription("\u0413\u043b\u0430\u0432\u0430 \u043a\u043d\u0438\u0433\u0438 \u0443\u0440\u043e\u043a\u0430").setDefaultValue("");compilerLessonNumber=lt.builder().setType(tt.Number).setDescription("\u041d\u043e\u043c\u0435\u0440 \u0443\u0440\u043e\u043a\u0430").setDefaultValue(0);compilerLearningJsES6Lessons=lt.builder().setType(tt.String).setDescription("\u0423\u0440\u043e\u043a\u0438 JS ES6").setDefaultValue("");compilerLearningJsES5Lessons=lt.builder().setType(tt.String).setDescription("\u0423\u0440\u043e\u043a\u0438 JS ES5").setDefaultValue("");compilerLearningCJsLessons=lt.builder().setType(tt.String).setDescription("\u0423\u0440\u043e\u043a\u0438 C-Js").setDefaultValue("");compilerLearningCyrillicLessons=lt.builder().setType(tt.String).setDescription("\u0423\u0440\u043e\u043a\u0438 \u041a\u0438\u0440\u0438\u043b\u043b\u0438\u0446\u044b").setDefaultValue("");schedulerBook=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043d\u0438\u0433\u0430").setDefaultValue("");schedulerChapter=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430").setDefaultValue("");schedulerLine=lt.builder().setType(tt.Number).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043b\u0438\u043d\u0438\u044f").setDefaultValue(1);schedulerSourceText=lt.builder().setType(tt.String).setDescription("\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a").setDefaultValue("");calendarCurrentDate=lt.builder().setType(tt.String).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0434\u0430\u0442\u0430").setDefaultValue("");schedulerCurrentSettingsName=lt.builder().setType(tt.String).setDescription("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f").setDefaultValue("");schedulerText=lt.builder().setType(tt.String).setDescription("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435").setDefaultValue("");schedulerAllVariants=lt.builder().setType(tt.String).setDescription("\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f").setDefaultValue("");schedulerServices=lt.builder().setType(tt.String).setDescription("\u0421\u043b\u0443\u0436\u0431\u044b \u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f").setDefaultValue("");schedulerClerics=lt.builder().setType(tt.String).setDescription("\u0421\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u0438 \u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f").setDefaultValue("");systemUpdates=lt.builder().setType(tt.Boolean).setDescription("\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432\u0435\u0440\u0441\u0438\u0438").setDefaultValue(!1);lastUpdateVersion=lt.builder().setType(tt.String).setDescription("\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0432\u0435\u0440\u0441\u0438\u044f").setDefaultValue("");lastUpdateVersionCheckTime=lt.builder().setType(tt.Number).setDescription("\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438").setDefaultValue(0);updateCheckPeriod=lt.builder().setType(tt.Number).setDescription("\u041f\u0435\u0440\u0438\u043e\u0434 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438").setDefaultValue(3);calendarViewResultEnabled=lt.builder().setType(tt.Boolean).setDescription("\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442").setDefaultValue(!0);calendarLineWidth=lt.builder().setType(tt.Number).setDescription("\u0422\u043e\u043b\u0449\u0438\u043d\u0430 \u043b\u0438\u043d\u0438\u0439").setDefaultValue(1);calendarColumnsCount=lt.builder().setType(tt.Number).setDescription("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432").setDefaultValue(3);calendarDaysDelta=lt.builder().setType(tt.Number).setDescription("\u0414\u043d\u0435\u0432\u043d\u043e\u0439 \u043f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043e\u043a").setDefaultValue(0);calendarDaysDeltaPosition=lt.builder().setType(tt.String).setDescription("\u041f\u043e\u0437\u0438\u0446\u0438\u044f \u043f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043a\u0430").setDefaultValue("\u043b\u044e\u0431\u043e\u0435");calendarMonthesDays=lt.builder().setType(tt.Number).setDescription("\u0414\u043d\u0435\u0439 \u043c\u0435\u0441\u044f\u0446\u0430").setDefaultValue(7);calendarDrawVerticalYears=lt.builder().setType(tt.Boolean).setDescription("\u0413\u043e\u0434\u0430 \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435").setDefaultValue(!1);calendarDrawVerticalMonthes=lt.builder().setType(tt.Boolean).setDescription("\u041c\u0435\u0441\u044f\u0446\u044b \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435").setDefaultValue(!1);calendarWhiteColor=lt.builder().setType(tt.Boolean).setDescription("\u0411\u0435\u043b\u044b\u0439 \u0444\u043e\u043d").setDefaultValue(!1);calendarVertical=lt.builder().setType(tt.Boolean).setDescription("\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439").setDefaultValue(!0);calendarDrawEmptyMonthsLines=lt.builder().setType(tt.Number).setDescription("\u041b\u0438\u043d\u0438\u0439 \u043c\u0435\u0441\u044f\u0446\u0430").setDefaultValue(7);calendarUpName=lt.builder().setType(tt.Boolean).setDescription("\u0418\u043c\u044f \u0441\u0432\u0435\u0440\u0445\u0443").setDefaultValue(!0);calendarInline=lt.builder().setType(tt.Boolean).setDescription("\u0412\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u043c\u0435\u0441\u044f\u0446").setDefaultValue(!1);calendarIncrementYear=lt.builder().setType(tt.Boolean).setDescription("\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0442\u044c \u0433\u043e\u0434").setDefaultValue(!0);calendarWeekdaysAhead=lt.builder().setType(tt.Boolean).setDescription("\u0414\u043d\u0438 \u0432 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430\u0445").setDefaultValue(!0);calendarPageLayoutEnabled=lt.builder().setType(tt.Boolean).setDescription("\u0421\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u0430\u044f \u0440\u0430\u0437\u043c\u0435\u0442\u043a\u0430").setDefaultValue(!0);calendarLiturgiyaColorsEnabled=lt.builder().setType(tt.Boolean).setDescription("\u0426\u0432\u0435\u0442\u0430 \u041b\u0438\u0442\u0443\u0440\u0433\u0438\u0438").setDefaultValue(!1);calendarTechnicalMonthEnabled=lt.builder().setType(tt.Boolean).setDescription("\u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043c\u0435\u0441\u044f\u0446").setDefaultValue(!1);calendarAccuratePeriodEnabled=lt.builder().setType(tt.Boolean).setDescription("\u0422\u043e\u0447\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434").setDefaultValue(!1);calendarWithoutFrameEnabled=lt.builder().setType(tt.Boolean).setDescription("\u0411\u0435\u0437 \u0440\u0430\u043c\u043a\u0438").setDefaultValue(!1);calendarXcount=lt.builder().setType(tt.Number).setDescription("X-\u043f\u043e\u0432\u0442\u043e\u0440\u043e\u0432").setDefaultValue(1);calendarYcount=lt.builder().setType(tt.Number).setDescription("Y-\u043f\u043e\u0432\u0442\u043e\u0440\u043e\u0432").setDefaultValue(1);calendarMonthes=lt.builder().setType(tt.String).setDescription("\u041c\u0435\u0441\u044f\u0446\u044b").setDefaultValue("1,2,3,4,5,6,7,8,9,10,11,12");calendarLinesArrange=lt.builder().setType(tt.String).setDescription("\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u043b\u0438\u043d\u0438\u0439").setDefaultValue("middle");calendarTitle=lt.builder().setType(tt.String).setDescription("\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a").setDefaultValue("\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c %\u0413\u041e\u0414%");calendarCurrentSettingsName=lt.builder().setType(tt.String).setDescription("\u0418\u043c\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a").setDefaultValue("");calendarAllPageLayouts=lt.builder().setType(tt.String).setDescription("\u0412\u0441\u0435 \u043e\u0442\u0441\u0442\u0443\u043f\u044b").setDefaultValue("1,1,1,1/0,0,1,1/1,1,1,1");calendarScheduler=lt.builder().setType(tt.String).setDescription("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435").setDefaultValue("[]");calendarAllVariants=lt.builder().setType(tt.String).setDescription("\u0412\u0441\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b").setDefaultValue("");calendarIntervals=lt.builder().setType(tt.String).setDescription("\u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u044b").setDefaultValue("");calendarHelpVisited=lt.builder().setType(tt.String).setDescription("\u0421\u043f\u0440\u0430\u0432\u043a\u0430 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0430").setDefaultValue("");chessMovesHistory=lt.builder().setType(tt.String).setDescription("\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0445\u043e\u0434\u043e\u0432").setDefaultValue("");chessHumanWhiteOrderEnabled=lt.builder().setType(tt.Boolean).setDescription("\u0425\u043e\u0434\u0438\u0442\u044c \u0431\u0435\u043b\u044b\u043c\u0438").setDefaultValue(!0);chessAiThinkTime=lt.builder().setType(tt.String).setDescription("\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0445\u043e\u0434\u0430 \u0418\u0418").setDefaultValue("10");chessAiSkillLevel=lt.builder().setType(tt.Number).setDescription("\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0418\u0418").setDefaultValue(20);chessCurrentAiWhiteMoveOrder=lt.builder().setType(tt.Boolean).setDescription("\u0418\u0418 \u0437\u0430 \u0431\u0435\u043b\u044b\u0445").setDefaultValue(!1);chessCurrentAiThinkTime=lt.builder().setType(tt.Number).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0445\u043e\u0434\u0430 \u0418\u0418").setDefaultValue(1e4);chessCurrentAiSkillLevel=lt.builder().setType(tt.Number).setDescription("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0418\u0418").setDefaultValue(20);chessCurrentHumanMoveTime=lt.builder().setType(tt.Number).setDescription("\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0445\u043e\u0434\u0430 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430").setDefaultValue(0);chessCurrentGameRunMode=lt.builder().setType(tt.Boolean).setDescription("\u0420\u0435\u0436\u0438\u043c \u0438\u0433\u0440\u044b").setDefaultValue(!0);chessStatistics=lt.builder().setType(tt.String).setDescription("\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430").setDefaultValue("")}class Rqe{onChange;saveCfg={};metaCfg=new Iqe;values=new Map;constructor(l){this.onChange=l,this.setup()}get ui(){return this.metaCfg}cloneSaveCfg(l){let a={};return this.values.forEach((h,d,f)=>{h.setValue(h.getAndVerifyValue(l,null),a)}),a}add(l){return this.values.set(l.name,l.setCfg(()=>this.saveCfg).setSaver(()=>this.save())),l.init(),this}setup(){for(let l in this.metaCfg)this.add(this.metaCfg[l].setName(l))}getByName(l){return this.values.get(l)}forceSave(){this.save()}save(){this.onChange&&this.onChange(JSON.stringify(this.saveCfg))}get readonly(){return!!pageRequestedReadonly}load(l){try{const a=JSON.parse(l);this.saveCfg=this.cloneSaveCfg(a)}catch{}}toString(){return JSON.stringify(this.saveCfg)}}class F1{enabled;onChange;constructor(l,a){this.enabled=l,this.onChange=a}static builder(){return new F1(!1,l=>l)}setEnabled(l,a=!0){return this.enabled=l,a&&this.onChange(this),this}setOnChange(l){return this.onChange=l,this}}class nP{settings;constructor(l){this.settings=l}static builder(){return new nP([])}add(l){return this.settings.push(l.setOnChange(a=>this.resetOther(a))),this}resetOther(l){l.enabled&&this.settings.forEach(a=>{a!==l&&a.setEnabled(!1,!1)})}}class Rr{uiValue;oldRawValue=null;constructor(l){this.uiValue=l}static builder(){return new Rr(null)}setUIValue(l){return this.uiValue=l,this}resetDetector(){return this.oldRawValue=null,this}checkAndUpdate(l=null){let a=this.oldRawValue!==(l??this.uiValue?.rawValue);return this.oldRawValue=l??this.uiValue?.rawValue,a}}let wn=(()=>{class c{themesService;kv;config;key="uiConfig20";keyKafizma="kafizmyOffset";keyBooks="booksLink";ready=!1;pui=new Rqe(a=>{this.save(a)});appRoutesId=0;appRoutes=null;sideMenuCommandsId=0;titleMenuCommands=null;titleMenuCommandsId=0;sideMenuCommands=null;mainContainerEnabled=!1;upperMenuEnabled=!0;verticalMenuEnabled=!0;appParams=new Map;colorPaper=!0;hideOverflowCount=0;versions=[];installed=[];currentVersion="";setColorPaper(a){return this.colorPaper=a,this}incHideOverflow(){let a=0==this.hideOverflowCount;++this.hideOverflowCount,a&&kp.addBodyClass("overflowHidden")}decHideOverflow(){this.hideOverflowCount>0&&--this.hideOverflowCount,0==this.hideOverflowCount&&kp.removeBodyClass("overflowHidden")}getAppParam(a,h={}){return this.appParams.has(a)||this.appParams.set(a,h),this.appParams.get(a)}enableUpperMenu(a){return this.upperMenuEnabled=a,this}enableMainContainer(a){return this.mainContainerEnabled=a,this}enableVerticalMenu(a){return this.verticalMenuEnabled=a,this}setAppRoutes(a){let h=this.appRoutes;this.appRoutes=a;let d=++this.appRoutesId,f=this;return{unsubscribe(){f.config.post(()=>{d==f.appRoutesId&&(f.appRoutes=h)})}}}setTitleMenuCommands(a){this.titleMenuCommands=a;let d=++this.titleMenuCommandsId,f=this;return{unsubscribe(){f.config.post(()=>{d==f.titleMenuCommandsId&&(f.titleMenuCommands=null)})}}}setSideMenuCommands(a){this.sideMenuCommands=a;let d=++this.sideMenuCommandsId,f=this;return{unsubscribe(){f.config.post(()=>{d==f.sideMenuCommandsId&&(f.sideMenuCommands=null)})}}}get ui(){return this.pui.ui}get readonly(){return this.pui.readonly}constructor(a,h,d){this.themesService=a,this.kv=h,this.config=d,this.check()}check(a,h=!1){!this.ready||h?this.kv.findKey(this.key,d=>{d&&d.success&&this.pui.load(d.item.value),this.ready=!0,this.applyServiceFlag(),a&&a()}):a&&a()}applyServiceFlag(){let a=window.ThemeHandler;if(a)try{a.requestStopServiceOnExitFlag&&a.requestStopServiceOnExitFlag(this.ui.stopServiceFlag.getBooleanValue())}catch{}}downloadAudioFile(a,h){let d=window.ThemeHandler;if(d)try{if(this.ui.autoDownloadAudioFiles.getBooleanValue()&&d.downloadAudioFile)return d.downloadAudioFile(a,h)}catch{}return""}getAudioTranslations(){let a=window.ThemeHandler;if(a)try{if(a.getAudioTranslations){let h=a.getAudioTranslations(),d=JSON.parse(h),f=[];for(let p=0;p<d.length;++p)f.push(L9.cloneFrom(d[p]));return f}}catch{}return[]}deleteAudioTranslation(a){let h=window.ThemeHandler;if(h)try{h.deleteAudioTranslation&&h.deleteAudioTranslation(a)}catch{}return""}downloadUpdateVersionFile(a,h,d){let f=window.ThemeHandler;if(f)try{return f.downloadUpdateVersionFile(a,h,d)}catch{}else null!=this.versions.find(p=>p==h)&&null==this.installed.find(p=>p==h)&&this.installed.push(h);return""}deleteUpdateVersionFile(a){let h=window.ThemeHandler;if(h)try{return h.deleteUpdateVersionFile(a)}catch{}else null!=this.installed.find(d=>d==a)&&(this.installed=this.installed.filter(d=>d!=a));return""}getUpdateSecUrl(){let a=window.ThemeHandler;if(a)try{return a.getUpdateSecUrl()}catch{}return""}getUpdateExt(){let a=window.ThemeHandler;if(a)try{return a.getUpdateExt()}catch{}return""}getUpdateVersionsList(a){let h=window.ThemeHandler;if(h)try{let d=h.getUpdateVersionsListString(a);return JSON.parse(d)}catch{}return[...this.versions]}getInstalledVersionsList(){let a=window.ThemeHandler;if(a)try{let h=a.getInstalledVersionsListString();return JSON.parse(h)}catch{}return[...this.installed]}getUpdateVersion(){let a=window.ThemeHandler;if(a)try{return a.getUpdateVersion()}catch{}return this.currentVersion}setUpdateVersion(a){let h=window.ThemeHandler;if(h)try{return h.setUpdateVersion(a)}catch{}else this.currentVersion=a;return""}setUIReady(){let a=window.UIHandler;if(a)try{a.onUIReady&&a.onUIReady(!0)}catch{}}save(a){if(this.readonly)return;const h=a||this.ui.toString(),d=uu.of(this.key,h),f=v=>{};this.kv.findKey(this.key,v=>{v&&v.success?(d._id=v.item._id,this.kv.updateKey(d,f)):this.kv.insertKey(d,f),this.applyServiceFlag()});let g=()=>{if("books"!=this.config.getApplication().id)return;let v=this.ui.currentBookName.getStringValue(),_=this.ui.currentBookLink.getStringValue();if(!v)return;const b=uu.of(this.keyBooks,JSON.stringify({link:_,name:v}));this.kv.findKey(this.keyBooks,O=>{O&&O.success&&O.item?(b._id=O.item._id,this.kv.updateKey(b,C=>{})):this.kv.insertKey(b,C=>{})})},m=()=>{if("memorial"!=this.config.getApplication().id)return;let v=this.ui.currentOffset.getNumberValue();v<0&&(v=this.ui.currentPersonOffset.getNumberValue());let _={offset:17,personOffset:v,theme:this.themesService.isAutoTheme()?0:this.themesService.isLight()?1:-1};const y=uu.of(this.keyKafizma,JSON.stringify(_));this.kv.findKey(this.keyKafizma,b=>{b&&b.success&&b.item?(y._id=b.item._id,this.kv.updateKey(y,O=>{this.config.post(g,1)})):this.kv.insertKey(y,O=>{this.config.post(g,1)})})};switch(this.config.getApplication().id){case"books":g();break;case"memorial":m();break;case"d3examples":case"d3Dexamples":case"calculator":case"chess":case"calendar":case"cross":case"compiler":case"scheduler":case"logos":case"about":break;default:throw new Error(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f: ${this.config.getApplication().id}.`)}}static getKafizmNumberBy(a,h){if(h<0)return 0;const d=new Date,f=d.getTime()-6e4*d.getTimezoneOffset(),p=Math.floor(f/1e3),g=Math.floor(p/60),m=Math.floor(g/60);return(Math.floor(m/24)%20+a+h)%20+1}static getOffsetByKafizmNumber(a,h){if(h<=0)return-1;const d=new Date,f=d.getTime()-6e4*d.getTimezoneOffset(),p=Math.floor(f/1e3),g=Math.floor(p/60),m=Math.floor(g/60);let y=(Math.floor(m/24)%20+a+0)%20+1;return h>=y?h-y:h-y+20}static \u0275fac=function(h){return new(h||c)(Ee(Ys),Ee(R9),Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class iP{static dtr(l,a){for(var h=a>=0?a:47,d=new ArrayBuffer(l.length-1),f=new Uint8Array(d),p=h,g=0;g<l.length;++g){var v=255&(l[g]^p);g>0&&(f[g-1]=v),p=255&(p+v^5)}return f}static fromByteArray(l){let a="";for(let h=0;h<l.length;h+=2)a+=String.fromCharCode(l[h+1]<<8|l[h]);return a}}let Jl=(()=>{class c{http;config;get coding(){return this.config.coding}relativeCacheService=!0;get restPoint(){return this.coding?"/staticb":"/static"}cache=new Map;cacheTextWaiting=new Map;cacheZip=null;loaded=!1;loading=!1;failOnCacheMiss=!1;requests=[];getRestPoint(a,h,d=null){const f=this.relativeCacheService||this.config.isMemoryServerType()?this.config.baseHref:this.config.serviceAPIHost;return pi.merge(pi.merge(h||f,d??this.restPoint),a)}getLinkTo(a,h){const d=this.config.isMemoryServerType()?this.config.baseHref:this.config.serviceAPIHost;return(h||d)+a}constructor(a,h){this.http=a,this.config=h,this.cache=h.cache,this.loaded=0!==this.cache.size}handleError(a,h){return Ui.handleError(a,h)}getText(a,h){this.loaded?this.getTextDirect(a,h):this.loading?this.requests.push(()=>{this.getTextDirect(a,h)}):this.startLoadingStatic(a,!0,h)}getBinary(a,h){this.loaded?this.zipLoadOrReturnFalse(a,!1,h)||this.getBlobRestcall(a,h):this.loading?this.requests.push(()=>{this.zipLoadOrReturnFalse(a,!1,h)}):this.startLoadingStatic(a,!1,h)}startLoadingStatic(a,h,d){this.loading=!0,this.getBlobRestcall("/static.zip",f=>{let p=()=>{this.loaded=!0,this.loading=!1,h?this.getTextDirect(a,d):this.getBinaryDirect(a,d),this.requests.forEach(g=>{g()}),this.requests=[]};if(f){this.failOnCacheMiss=!0;let g=new Blob([new Uint8Array(f,0,f.byteLength)]);this.onLoadZipFile(g,p,()=>{this.cacheZip=null,this.failOnCacheMiss=!1,p()})}else this.failOnCacheMiss=!1,p()})}zipLoadOrReturnFalse(a,h,d){if(!this.cacheZip)return!1;let f=!1,p=a.startsWith("/")?a.substr(1):a,g=this.cacheZip.file(p);return g&&(f=!0,g.async(h?"string":"arraybuffer").then(m=>{Ui.callOnDone(d,m)}).catch(()=>{Ui.callOnDone(d,null)})),f}getTextDirect(a,h){if(!this.zipLoadOrReturnFalse(a,!0,h))if(this.cache.has(a)){const d=this.cache.get(a);setTimeout(()=>{Ui.callOnDone(h,d)},0)}else this.failOnCacheMiss?Ui.callOnDone(h,null):this.getTextRestcall(a,h)}getBinaryDirect(a,h){this.zipLoadOrReturnFalse(a,!1,h)||this.getBinaryRestcall(a,h)}getTextRestcall(a,h){let d=this.getRestPoint(a,null);return this.getTextRestcallUrl(d,h)}getBinaryRestcall(a,h){let d=this.getRestPoint(a,null);return this.getBinaryRestcallUrl(d,h)}completeTextOnDone(a,h){let d=this.cacheTextWaiting.get(a);d&&(d.forEach(f=>{this.config.post(()=>{f&&f(h)})}),this.cacheTextWaiting.delete(a))}readArrayBufferToString(a,h){var d=new Blob([new Uint8Array(a)]),f=new FileReader;f.onload=function(p){h&&h(p.target?.result)},f.readAsText(d)}getTextRestcallUrl(a,h){return this.coding?this.getBlobRestcallUrl(a,d=>{if(d)if(a.endsWith(".txt")||a.endsWith(".xhtml")){let p=new Uint8Array(d),g=iP.fromByteArray(p);h&&h(g)}else this.readArrayBufferToString(d,h);else h&&h(null)}):this.getTextRestcallUrlRaw(a,h)}getBinaryRestcallUrl(a,h){return this.getBlobRestcallUrl(a,d=>{h&&h(d)})}getTextRestcallUrlRaw(a,h){if(this.cache&&this.cache.has(a)){if(h){let d=this.cache.get(a);this.config.post(()=>{Ui.callOnDone(h,d)})}}else this.cacheTextWaiting.has(a)?h&&this.cacheTextWaiting.get(a).push(h):(h&&this.cacheTextWaiting.set(a,[h]),this.http.get(a,{responseType:"text"}).pipe(vr(this.handleError)).subscribe({next:d=>{d&&this.cache.set(a,d),this.completeTextOnDone(a,d)},error:d=>{this.completeTextOnDone(a,null)}}))}getBlobRestcall(a,h){return this.getBlobRestcallUrl(this.getRestPoint(a,null),h)}getBlobRestcallUrl(a,h){let d=a;if(this.coding){let f=d.lastIndexOf(".");f>=0&&(d=d.substring(0,f)+".bin")}return this.getBlobRestcallUrlRaw(d,f=>{if(f)if(this.coding){let p=new Uint8Array(f),g=iP.dtr(p,-1);h&&h(g)}else h&&h(f);else h&&h(null)})}getBlobRestcallUrlRaw(a,h){this.http.get(a,{responseType:"arraybuffer"}).pipe(vr(this.handleError)).subscribe(d=>{Ui.callOnDone(h,d)},d=>{Ui.callOnDone(h,null)})}save(){const a=new nm;a.file("version.txt","v.1.0"),this.cache.forEach((h,d,f)=>{a.file(d,h)}),a.generateAsync({type:"blob"}).then(h=>{new TextEncoder;const f=new Blob([h],{type:"octet/stream"}),g=`Static.Cache.${(new Date).toISOString().split("T")[0]}.zip`;ho.saveData(f,g)})}onLoadZipFile(a,h,d){const f=new FileReader;f.onload=p=>{const g=m=>{this.cacheZip=null,this.failOnCacheMiss=!1,h()};try{nm.loadAsync(f.result).then(m=>{this.cacheZip=m,h()}).catch(g)}catch(m){g()}},f.readAsArrayBuffer(a)}unpackZip(a,h){const d=this.cacheZip.file(/^.*$/);let f=0;d.forEach(p=>{p.async("string").then(g=>{this.cache.set((p.name.startsWith("/")?"":"/")+p.name,g),++f==d.length&&a()}).catch(h)})}static \u0275fac=function(h){return new(h||c)(Ee(hu),Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class F9{prefixes;name;postfixes;constructor(l=[],a=[],h=[]){this.prefixes=l,this.name=a,this.postfixes=h}static builder(){return new F9}setPrefixes(l){return this.prefixes=l,this}setName(l){return this.name=l,this}setPostfixes(l){return this.postfixes=l,this}joinPrefixes(){return this.prefixes.join(" ")}joinName(){return this.name.join(" ")}joinPostfixes(){return this.postfixes.join(" ")}fullName(){return[this.joinPrefixes(),this.joinName(),this.joinPostfixes()].filter(l=>!!l).join(" ")}}let Ii=(()=>{class c{vId;vName;vDescription;vOffset;vLive;vTags;vDirty=!1;vPerson=null;vOnDirty=null;static prefixes={"\u043f\u0430\u0442\u0440.":200,"\u0441\u0445\u0438\u043c\u0438\u0442\u0440.":100,"\u043c\u0438\u0442\u0440.":100,"\u0441\u0445\u0438\u0430\u0440\u0445\u0438\u0435\u043f.":97,"\u0430\u0440\u0445\u0438\u0435\u043f.":96,"\u0441\u0445\u0438\u0435\u043f.":95,"\u0435\u043f.":90,"\u0432\u0438\u043a.":89,"\u0441\u0445\u0438\u0430\u0440\u0445\u0438\u043c.":81,"\u0430\u0440\u0445\u0438\u043c.":80,"\u043f\u0440\u043e\u0442\u043e\u043f\u0440.":75,"\u0441\u0445\u0438\u0438\u0433\u0443\u043c.":70,"\u0438\u0433\u0443\u043c.":70,"\u043f\u0440\u043e\u0442.":60,"\u0438\u0435\u0440\u043e\u0441\u0445\u0438\u043c.":56,"\u0438\u0435\u0440\u043e\u043c.":55,"\u0438\u0435\u0440.":50,"\u0441\u0445\u0438\u0430\u0440\u0445\u0438\u0434.":48,"\u0430\u0440\u0445\u0438\u0434.":47,"\u043f\u0440\u043e\u0442\u043e\u0434\u0438\u0430\u043a.":46,"\u0438\u0435\u0440\u043e\u0441\u0445\u0438\u0434.":45,"\u0438\u0435\u0440\u043e\u0434.":44,"\u0434\u0438\u0430\u043a.":43,"\u0441\u0445\u0438\u043c.":35,"\u043c\u043e\u043d.":30,"\u0438\u043d.":25,"\u0438\u043f\u043e\u0434\u0438\u0430\u043a.":20,"\u0447\u0442.":10};constructor(a,h,d,f,p,g){this.vId=a,this.vName=h,this.vDescription=d,this.vOffset=f,this.vLive=p,this.vTags=g}static isPriest(a){return c.getIndex(a)>0}static getIndex(a,h=null){const d=a.name.split(" ");if(d.length<=1)return-1;const f=h||c.prefixes;let p=0;return d.forEach(g=>{const m=f[g];void 0!==m&&(h?p|=m:p<m&&(p=m))}),p}static sort(a,h,d=!1,f=!0){c.sortPersons(a,h,p=>p,d,f)}static namesCompare(a,h){return c.trimPrefixes(a).localeCompare(c.trimPrefixes(h))}static parseName(a){let h=a.split(" ").map(p=>p.trim()).filter(p=>!!p),d=F9.builder(),f="pre";return h.forEach(p=>{switch(f){case"pre":p.endsWith(".")?d.prefixes.push(p):(d.name.push(p),f="name");break;case"name":p.endsWith(".")?(d.postfixes.push(p),f="post"):d.name.push(p);break;case"post":d.postfixes.push(p);break;default:throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c: "+f)}}),d}static trimPrefixes(a){return a.split(" ").filter(d=>!d.trim().endsWith(".")).join(" ")}static getPrefixesArray(a){return a.split(" ").filter(d=>d.trim().endsWith("."))}static isStandardPrefix(a){return void 0!==c.prefixes[a]}static namesSortFunction(a){return(h,d)=>{let f=a(h),p=a(d);return c.namesCompare(f.name,p.name)}}static fullSortFunction(a,h=!0,d=""){let f={};return d.split(",").map((g,m,v)=>{m<=30&&(f[g]=1<<30-m)}),(g,m)=>{let v=a(g),_=a(m);if(v.live!==_.live)return v.live?-1:1;const y=c.getIndex(v),b=c.getIndex(_);if(y>0||b>0){let w=b-y;if(0!=w)return w}const O=c.getIndex(v,f),C=c.getIndex(_,f);if(O>0||C>0){let w=C-O;if(0!=w)return w}let S=0;return 0==S&&h&&(S=c.namesCompare(v.name,_.name)),0===S?0:S<0?-1:1}}static sortPersons(a,h,d,f=!1,p=!0){return p?a.sort(c.fullSortFunction(d,f,h)):f&&a.sort(c.namesSortFunction(d)),a}setOnDirty(a){return this.vOnDirty=a,this}revertDirty(){this.vPerson&&(this.vName=this.vPerson.name,this.vOffset=this.vPerson.offset,this.vDescription=this.vPerson.description,this.vLive=this.vPerson.live,this.vTags=this.vPerson.tags,this.vPerson=null),this.dirty=!1}clearDirty(){this.dirty=!1,this.vPerson=null}setDirty(){this.dirty=!0,null==this.vPerson&&(this.vPerson=new c(this._id,this.name,this.description,this.offset,this.live,this.tags))}onDirty(){this.vOnDirty&&this.vOnDirty(this)}get old(){return this.vPerson}get dirty(){return this.vDirty}set dirty(a){this.vDirty=a}get _id(){return this.vId}set _id(a){this.setDirty(),this.vId=a,this.onDirty()}get name(){return this.vName}set name(a){this.setDirty(),this.vName=a,this.onDirty()}get description(){return this.vDescription}set description(a){this.setDirty(),this.vDescription=a,this.onDirty()}get offset(){return this.vOffset}set offset(a){this.setDirty(),this.vOffset=a,this.onDirty()}get live(){return this.vLive}set live(a){this.setDirty(),this.vLive=a,this.onDirty()}get tags(){return this.vTags}set tags(a){this.setDirty(),this.vTags=a,this.onDirty()}get kafizma(){return wn.getKafizmNumberBy(17,this.offset)}}return c})();class bb{items;handler=null;handlerNewPerson=null;handlerDeletePerson=null;constructor(l){this.items=l}clone(){let l=new bb([...this.items]);return l.handler=this.handler,l.handlerNewPerson=this.handlerNewPerson,l.handlerDeletePerson=this.handlerDeletePerson,l}setOnDirty(l){return this.handler=l,this.items.forEach(a=>{a.setOnDirty(l)}),this}setNewPersonHandler(l){return this.handlerNewPerson=l,this}setDeletePersonHandler(l){return this.handlerDeletePerson=l,this}newPerson(l,a){if(!this.handlerNewPerson)throw new Error("handlerNewPerson is null.");return this.handlerNewPerson(l,a)}deletePerson(l,a){if(!this.handlerDeletePerson)throw new Error("handlerDeletePerson is null.");return this.handlerDeletePerson(l)}}class B9{_id;name;description;offset;live;tags;constructor(l,a,h,d,f,p){this._id=l,this.name=a,this.description=h,this.offset=d,this.live=f,this.tags=p}}class du{success;error;constructor(l,a){this.success=l,this.error=a}static builder(){return new du(!1,"")}setSuccess(l){return this.success=l,this}setError(l){return this.error=l,this}}class V9{success;error;fileName;constructor(l,a,h){this.success=l,this.error=a,this.fileName=h}static builder(){return new V9(!1,"","")}setSuccess(l){return this.success=l,this}setError(l){return this.error=l,this}setFileName(l){return this.fileName=l,this}}class $9{success;text;constructor(l,a){this.success=l,this.text=a}static builder(){return new $9(!1,"")}setSuccess(l){return this.success=l,this}setText(l){return this.text=l,this}}class z9{items;constructor(l){this.items=l}static toPersons(l,a,h,d){const f=[];return l.items.forEach(p=>{f.push(new Ii(p._id,p.name,p.description,p.offset,!!p.live,p.tags))}),new bb(f).setOnDirty(a).setNewPersonHandler(h).setDeletePersonHandler(d)}}class Lqe{memkey;id;name;description;offset;live;tags;constructor(l,a,h,d,f,p,g){this.memkey=l,this.id=a,this.name=h,this.description=d,this.offset=f,this.live=p,this.tags=g}}class Nqe{handler=()=>{};onChangesEvent=new Pt;enabled=!0;setDetectChangesHandler(l){return this.handler=l,this}enableChangeDetector(l){this.enabled=l}getChangeDetector(){return this.onChangesEvent.asObservable()}detectedChanges(l){this.enabled&&(this.onChangesEvent.next(l),this.handler())}}let fo=(()=>{class c{static tagsHasFlag(a,h){const d=a.split(",");let f=!1;return d.forEach(p=>{p===h&&(f=!0)}),f}static addTagsToTags(a,h){let d=h.split(",").map(p=>p.trim()),f=a;for(let p=0;p<d.length;p++)f=c.toggleTagInTags(f,d[p],!0);return f}static toggleTagInTags(a,h,d=!1){const f=a.split(","),p=[];let g=!1;return f.forEach(m=>{m!==h?m&&p.push(m):(d&&m&&p.push(m),g=!0)}),g||p.push(h),p.join(",")}static removeModificators(a){const h=a.split(","),d="\u0421\u043b\u0430\u0432\u0430 1,\u0421\u043b\u0430\u0432\u0430 2,\u0421\u043b\u0430\u0432\u0430 3,\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u043d\u044b\u0439".split(",");let f=[];return h.forEach(p=>{d.findIndex(g=>g===p)<0&&f.push(p)}),f.join(",")}static removeTag(a,h){const d=a.split(",");let f=[];return d.forEach(p=>{p!=h&&f.push(p)}),f.join(",")}static intersectTags(a,h){let f=h;return a.split(",").filter(g=>c.tagsHasFlag(f,g)).join(",")}intersectTagsMap=new Map;intersectTags(a,h){let d=this.intersectTagsMap.get(a);if(d){let p=d.get(h);if(null!=p)return p}let f=c.intersectTags(a,h);return d||(d=new Map,this.intersectTagsMap.set(a,d)),d.set(h,f),f}tagsHasFlagMap=new Map;tagsHasFlag(a,h){let d=this.tagsHasFlagMap.get(a);if(d){let p=d.get(h);if(null!=p)return p}let f=c.tagsHasFlag(a,h);return d||(d=new Map,this.tagsHasFlagMap.set(a,d)),d.set(h,f),f}static \u0275fac=function(h){return new(h||c)};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),Zde=(()=>{class c{http;config;persons=[];restPoint="/kafizmy";canSave=null;personSaved=new Tt;personsSubscribersMap=new Map;setCanSave(a){this.canSave=a}getRestPoint(a,h){return pi.merge(pi.merge(h||this.config.serviceAPIHost,this.restPoint),a)}getRestPointRaw(a,h){return pi.merge(h||this.config.serviceAPIHost,a)}constructor(a,h){this.http=a,this.config=h}getAllPromise(a,h){let d=h||-1;const f=this.personsSubscribersMap.has(d);f||this.personsSubscribersMap.set(d,[]);const p=this.personsSubscribersMap.get(d);if(f)p.push(a);else{p.push(a);{const g=null!=d&&(d>=0||-1===d),m={params:{_memkey:""+d}},v={params:{}};this.http.get(this.getRestPoint(g?"/mempersons":"/persons",null),g?m:v).pipe(vr(Ui.handleError)).subscribe({next:_=>{const y=this.personsSubscribersMap.get(d);null!=y&&(y.forEach(b=>{b(z9.toPersons(_,O=>{},(O,C)=>{this.newPerson(d,new Ii(-1,O.name,O.description,O.offset,O.live,O.tags)).then(S=>{C&&C(S)},S=>{C&&C(du.builder().setSuccess(!1).setError(S))})},O=>{this.deletePerson(d,O)}),null)}),this.personsSubscribersMap.delete(d))},error:_=>{const y=this.personsSubscribersMap.get(d);null!=y&&(y.forEach(b=>{b(null,_)}),this.personsSubscribersMap.delete(d))}})}}}getAll(){return new Promise((a,h)=>{this.getAllPromise((d,f)=>{d?a(d):h(f)})})}getPersons(a){return new Promise((h,d)=>{this.getAllPromise((f,p)=>{f?h(f):d(p)},a)})}save(a,h,d){if(!d&&this.canSave&&!this.canSave(h))return new Promise((p,g)=>{this.config.post(()=>{p(du.builder().setSuccess(!0))})});const f={params:{__id:""+h._id,_memkey:""+a,_name:h.old.name,_description:h.old.description,_offset:""+h.old.offset,_live:h.old.live?"1":"0",_newName:h.name,_newDescription:h.description,_newOffset:""+h.offset,_newLive:h.live?"1":"0",_tags:h.tags}};return new Promise((p,g)=>{this.http.get(this.getRestPoint("/updatePerson",null),f).pipe(vr(Ui.handleError)).subscribe({next:m=>{p(m)},error:m=>{g(""+m)}}),h.clearDirty(),this.personSaved.emit(h)})}newPerson(a,h){const d={params:{_memkey:""+a,_name:h.name,_description:h.description,_offset:""+h.offset,_live:h.live?"1":"0",_tags:h.tags}};return new Promise((f,p)=>{this.http.get(this.getRestPoint("/addPerson",null),d).pipe(vr(Ui.handleError)).subscribe({next:g=>{f(g)},error:g=>{p(""+g)}}),h.clearDirty()})}newPersons(a){let d=[];a.forEach(g=>{d.push((g=>({memkey:g.memkey,name:g.name,description:g.description,offset:g.offset,live:g.live?1:0,tags:g.tags}))(g))});let f={persons:d};const p={params:{}};return new Promise((g,m)=>{this.http.post(this.getRestPoint("/addPersons",null),f,p).pipe(vr(Ui.handleError)).subscribe({next:v=>{g(v)},error:v=>{m(""+v)}})})}deletePerson(a,h){const d={params:{_personId:""+h._id}};this.http.get(this.getRestPoint("/deletePersonById",null),d).pipe(vr(Ui.handleError)).subscribe(f=>{},f=>{}),h.clearDirty()}deletePersons(a,h){const d={};let f=[];return a.forEach(p=>{f.push(p._id)}),new Promise((p,g)=>{this.http.post(this.getRestPoint("/deletePersons",null),{ids:f},d).pipe(vr(Ui.handleError)).subscribe({next:m=>{p(m)},error:m=>{g(""+m)}})})}deleteAll(a){const h=null!=a&&a>=0,d={params:{_memkey:""+a}},f={params:{}};return new Promise((p,g)=>{this.http.get(this.getRestPoint(h?"/deleteMemorialPersons":"/deleteAllPersons",null),h?d:f).pipe(vr(Ui.handleError)).subscribe({next:m=>{p(m)},error:m=>{g(""+m)}})})}addTempFile(a,h){const d={params:{_name:a}};return new Promise((f,p)=>{this.http.post(this.getRestPoint("/addFile",null),h,d).pipe(vr(Ui.handleError)).subscribe({next:g=>{f(V9.builder().setSuccess(!0).setFileName(this.getRestPointRaw("/temp/"+a,null)))},error:g=>{p(null)}})})}static \u0275fac=function(h){return new(h||c)(Ee(hu),Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class Mp{result=!1;errors="";static build(){return new Mp}setResult(l){return this.result=l,this}setErrors(l){return this.errors=l,this}}class U9{valid=!1;added=!1;authId="noId";static build(){return new U9}setValid(l){return this.valid=l,this}setAdded(l){return this.added=l,this}setAuthId(l){return this.authId=l,this}}class Q9{errors="";result=!1;status="";static build(){return new Q9}setResult(l){return this.result=l,this}setErrors(l){return this.errors=l,this}setStatus(l){return this.status=l,this}}class Kw{username;password;authId;constructor(l,a,h){this.username=l,this.password=a,this.authId=h}static clone(l){return new Kw(l.username,l.password,l.authId)}static cloneArray(l){const a=[];return l.forEach(h=>{a.push(Kw.clone(h))}),a}}let Jw=(()=>{class c{config;bLoggedIn=!1;participants=[];nextNewAuthId=1;localStorageName="";constructor(a){this.config=a,this.localStorageName=a.serviceAPIHost+"AuthSvc",this.loadData()}loadData(){const a=localStorage.getItem(this.localStorageName);if(a)try{const h=JSON.parse(a);this.participants=Kw.cloneArray(h)}catch(h){this.config.addAlert(Bi.of("Error: "+h,"OK",10))}}saveData(){const a=JSON.stringify(this.participants);localStorage.setItem(this.localStorageName,a)}isLoggedIn(){return new Promise((a,h)=>{this.config.post(()=>{a(Mp.build().setResult(this.bLoggedIn))})})}login(){return this.bLoggedIn=!0,new Promise((a,h)=>{this.config.post(()=>{a(Mp.build().setResult(!0))})})}logout(){return this.bLoggedIn=!1,new Promise((a,h)=>{this.config.post(()=>{a(Mp.build().setResult(!0))})})}handleError(a,h){return Ui.handleError(a,h)}requestForUser(a,h){const d=U9.build().setValid(!1);let f=!1;if(this.participants.forEach(p=>{p.username===a&&(f=!0,d.setValid(h===p.password),d.setAuthId(p.authId=this.newAuthId()),d.setAdded(!1))}),!f&&a){const p=new Kw(a,h,this.newAuthId());this.participants.push(p),d.setValid(!0),d.setAuthId(p.authId),d.setAdded(!0)}return this.saveData(),new Promise((p,g)=>{this.config.post(()=>{p(d)})})}logoutAll(){this.participants.forEach(h=>{h.authId=""});const a=Mp.build();return a.setErrors(""),a.setResult(!0),new Promise((h,d)=>{this.config.post(()=>{h(a)})})}requestVersion(){this.participants.forEach(h=>{h.authId=""});const a=Q9.build();return a.setErrors(""),a.setResult(!0),a.setStatus("memory.version"),new Promise((h,d)=>{this.config.post(()=>{h(a)})})}newAuthId(){return"MAT"+this.nextNewAuthId++}getParticipant(a){let h=null;return this.participants.forEach(d=>{d.authId===a&&(h=d)}),h}static \u0275fac=function(h){return new(h||c)(Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),H9=(()=>{class c{auth;config;memkey=-1;authedPersons=null;nextPersonId=1;localStorageName="";constructor(a,h){this.auth=a,this.config=h,this.localStorageName=h.serviceAPIHost+"KafSvc"}getUserId(){const h=this.auth.getParticipant(this.config.authId);if(!h)throw new Error("\u041d\u0435\u0442 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.");return h.username}get persons(){const a=this.getUserId();return this.checkOrLoadData(),this.authedPersons[a]||(this.authedPersons[a]=new z9([])),this.authedPersons[a]}checkOrLoadData(){if(this.authedPersons)return;const a=localStorage.getItem(this.localStorageName);if(a)try{const h=JSON.parse(a);h&&(this.authedPersons=h)}catch(h){this.authedPersons={},this.config.addAlert(Bi.of("Error: "+h,"OK",10))}else this.authedPersons={};this.nextPersonId=1,this.persons.items.forEach(h=>{h._id>this.nextPersonId&&(this.nextPersonId=h._id+1)})}getNextPersonId(){return++this.nextPersonId}saveData(){const a=JSON.stringify(this.authedPersons);localStorage.setItem(this.localStorageName,a)}deleteAll(a){return this.checkOrLoadData(),this.persons.items=[],this.saveData(),new Promise((h,d)=>{h(du.builder().setSuccess(!0))})}deletePersons(a,h){return this.checkOrLoadData(),a.forEach(d=>{let f=this.persons.items.findIndex(p=>p._id===d._id);f>=0&&this.persons.items.splice(f,1)}),this.saveData(),new Promise((d,f)=>{d(du.builder().setSuccess(!0))})}checkAndAddDefaultHramvkostino(){let a="hramvkostino";this.persons.items.findIndex(h=>h.tags.indexOf(a)>=0)<0&&(this.addDefaultHramvkostino(this.persons,a),this.saveData())}checkAndAddDefaultAuthors(){let a="\u0430\u0432\u0442\u043e\u0440\u044b";this.persons.items.findIndex(h=>h.tags.indexOf(a)>=0)<0&&(this.addDefaultAuthors(this.persons,a),this.saveData())}addDefaultHramvkostino(a,h="\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439"){const f="\u0438\u0435\u0440. \u0414\u0438\u043c\u0438\u0442\u0440\u0438\u044f|-1|true\n\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430|-1|true\n\u0438\u0435\u0440. \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430|-1|true\n\u0438\u0435\u0440. \u0414\u0438\u043e\u043d\u0438\u0441\u0438\u044f|1|true\n\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430|-1|true\n\u0412\u0430\u043b\u0435\u0440\u0438\u044f|0|true\n\u0421\u0435\u0440\u0433\u0438\u044f|2|true\n\u041c\u0430\u0440\u0438\u0438|3|true\n\u0422\u0430\u0442\u0438\u0430\u043d\u044b|4|true\n\u0422\u0430\u0442\u0438\u0430\u043d\u044b|5|true\n\u0413\u0430\u043b\u0438\u043d\u044b|6|true\n\u041f\u0430\u0432\u043b\u0430|7|true\n\u041c\u0438\u0445\u0430\u0438\u043b\u0430|8|true\n\u0415\u043b\u0435\u043d\u044b|9|true\n\u0412\u0430\u043b\u0435\u0440\u0438\u044f|10|true\n\u041b\u044e\u0431\u043e\u0432\u0438|11|true\n\u041d\u0430\u0434\u0435\u0436\u0434\u044b|12|true\n\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430|13|true\n\u041b\u044e\u0434\u043c\u0438\u043b\u044b|14|true\n\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d\u0430|15|true\n\u041c\u0438\u0445\u0430\u0438\u043b\u0430|16|true\n\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430|17|true\n\u0410\u043d\u0434\u0440\u0435\u044f|18|true\n\u041c\u0430\u0440\u0438\u043d\u044b|19|true\n\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430|-1|false\n\u0412\u0438\u043a\u0442\u043e\u0440\u0430|-1|false\n\u0424\u043e\u0442\u0438\u043d\u0438\u0438|-1|false".split("\n"),p=h;f.forEach((g,m)=>{const v=g.trim().split("|");0!==v.length&&a.items.push(new B9(this.getNextPersonId(),v[0],"",+v[1],"true"===v[2],p))})}addDefaultAuthors(a,h="\u0430\u0432\u0442\u043e\u0440\u044b"){const f="\u0415\u0432\u0433\u0435\u043d\u0438\u044f|-1|true\n\u0410\u043d\u0434\u0440\u0435\u044f|-1|true".split("\n"),p=h;f.forEach((g,m)=>{const v=g.trim().split("|");0!==v.length&&a.items.push(new B9(this.getNextPersonId(),v[0],"",+v[1],"true"===v[2],p))})}getPersons(a){this.checkOrLoadData();const h=z9.toPersons(this.persons,d=>{},(d,f)=>{this.newPerson(this.memkey,new Ii(-1,d.name,d.description,d.offset,d.live,d.tags)).then(p=>{f&&f(p)},p=>{f&&f(du.builder().setSuccess(!1).setError(""+p))})},(d,f)=>{this.deletePerson(this.memkey,d,f)});return new Promise((d,f)=>{this.config.post(()=>{d(h)})})}newPersons(a,h){return new Promise((d,f)=>{this.config.post(()=>{a.forEach(p=>{this.newPersonSync(p.memkey,new Ii(p.id,p.name,p.description,p.offset,p.live,p.tags),h)}),d(du.builder().setSuccess(!0))},0)})}newPerson(a,h,d){return new Promise((f,p)=>{this.config.post(()=>{this.newPersonSync(a,h,d).then(g=>f(g))},0)})}newPersonSync(a,h,d){return this.checkOrLoadData(),this.persons.items.push(new B9(this.getNextPersonId(),h.name,h.description,h.offset,h.live,h.tags)),this.saveData(),new Promise((f,p)=>{f(du.builder().setSuccess(!0))})}save(a,h,d,f){this.checkOrLoadData();let p=!1;return this.persons.items.forEach(g=>{g._id===h._id&&(g.name=h.name,g.description=h.description,g.tags=h.tags,g.offset=h.offset,g.live=h.live,p=!0)}),p&&this.saveData(),h.clearDirty(),f&&f(new du(p,p?"OK":"Not found")),new Promise((g,m)=>{g(new du(p,p?"OK":"Not found"))})}deletePerson(a,h,d){this.checkOrLoadData();const f=this.persons.items.findIndex(g=>g._id===h._id),p=f>=0;return p&&(this.persons.items.splice(f,1),this.saveData()),h.clearDirty(),d&&d(new du(p,p?"OK":"Not found")),new Promise((g,m)=>{g(new du(p,p?"OK":"Not found"))})}addTempFile(a,h){return new Promise((d,f)=>{this.config.post(()=>{f("\u041d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f.")})})}static \u0275fac=function(h){return new(h||c)(Ee(Jw),Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class Ob{vId;vName;vMode;vTags;vDirty=!1;vMemorial=null;vOnDirty=null;clazz={};clazzBadge={};constructor(l,a,h,d){this.vId=l,this.vName=a,this.vMode=h,this.vTags=d}getOnDirty(){return this.vOnDirty}setOnDirty(l){return this.vOnDirty=l,this}revertDirty(){this.vMemorial&&(this.vName=this.vMemorial.name,this.vMode=this.vMemorial.mode,this.vMemorial=null),this.dirty=!1}clearDirty(){this.dirty=!1,this.vMemorial=null}setDirty(){this.dirty=!0,null==this.vMemorial&&(this.vMemorial=new Ob(this._id,this.name,this.mode,this.tags))}onDirty(){this.vOnDirty&&this.vOnDirty(this)}get old(){return this.vMemorial}get dirty(){return this.vDirty}set dirty(l){this.vDirty=l}get _id(){return this.vId}set _id(l){this.setDirty(),this.vId=l,this.onDirty()}get name(){return this.vName}set name(l){this.setDirty(),this.vName=l,this.onDirty()}get mode(){return this.vMode}set mode(l){this.setDirty(),this.vMode=l,this.onDirty()}get tags(){return this.vTags}set tags(l){this.setDirty(),this.vTags=l,this.onDirty()}get enabled(){return"on"===this.mode}set enabled(l){this.mode=l?"on":"off"}}class Fqe{items;handler=null;handlerNewMemorial=null;handlerDeleteMemorial=null;constructor(l){this.items=l}setOnDirty(l){return this.handler=l,this.items.forEach(a=>{a.setOnDirty(l)}),this}setNewMemorialHandler(l){return this.handlerNewMemorial=l,this}addNewMemorialHandler(l){if(this.handlerNewMemorial){const a=this.handlerNewMemorial;this.handlerNewMemorial=(h,d)=>{a(h,f=>{l(h,f.success?d:void 0),!f.success&&d&&d(f)})}}else this.handlerNewMemorial=l;return this}setDeleteMemorialHandler(l){return this.handlerDeleteMemorial=l,this}addDeleteMemorialHandler(l){if(this.handlerDeleteMemorial){const a=this.handlerDeleteMemorial;this.handlerDeleteMemorial=(h,d)=>{a(h,f=>{l(h,f.success?d:void 0),!f.success&&d&&d(f)})}}else this.handlerDeleteMemorial=l;return this}newMemorial(l,a){if(this.handlerNewMemorial)return this.handlerNewMemorial(l,a);a&&a(No.builder().setSuccess(!1).setError("\u041d\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430."))}deleteMemorial(l,a){if(this.handlerDeleteMemorial)return this.handlerDeleteMemorial(l,a);a&&a(No.builder().setSuccess(!1).setError("\u041d\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430."))}}class No{success;error;constructor(l,a){this.success=l,this.error=a}static builder(){return new No(!1,"")}setSuccess(l){return this.success=l,this}setError(l){return this.error=l,this}}class Bqe{_id;name;mode;tags;constructor(l,a,h,d){this._id=l,this.name=a,this.mode=h,this.tags=d}}class rP{items;constructor(l){this.items=l}static toMemorials(l,a,h,d){const f=[];return l.items.forEach(p=>{f.push(new Ob(p._id,p.name,p.mode,p.tags))}),new Fqe(f).setOnDirty(a).setNewMemorialHandler(h).setDeleteMemorialHandler(d)}}let jde=(()=>{class c{http;config;auth;restPoint="/kafizmy";canSave=null;memorialsSubscribers=null;memorialSaved=new Tt;setCanSave(a){this.canSave=a}getRestPoint(a,h){return pi.merge(pi.merge(h||this.config.serviceAPIHost,this.restPoint),a)}getRestPointRaw(a,h){return pi.merge(h||this.config.serviceAPIHost,a)}constructor(a,h,d){this.http=a,this.config=h,this.auth=d}getAllSubscribe(){return new Promise((a,h)=>{if(null!=this.memorialsSubscribers)this.memorialsSubscribers.push((d,f)=>{d?a(d):h(f)});else{this.memorialsSubscribers=[],this.memorialsSubscribers.push((f,p)=>{f?a(f):h(p)});const d={params:{}};this.http.get(this.getRestPoint("/memorials",null),d).pipe(vr(Ui.handleError)).subscribe({next:f=>{if(null==this.memorialsSubscribers)return;const p=this.memorialsSubscribers;this.memorialsSubscribers=null,p.forEach(g=>{g(rP.toMemorials(f,m=>{this.save(m)},(m,v)=>{this.newMemorial(new Ob(-1,m,"on","")).then(_=>v?v(_):null,_=>v?v(No.builder().setError(_)):null)},(m,v)=>{this.deleteMemorial(m).then(_=>v?v(_):null,_=>v?v(No.builder().setError(_)):null)}),null)})},error:f=>{if(null==this.memorialsSubscribers)return;const p=this.memorialsSubscribers;this.memorialsSubscribers=null,p.forEach(g=>{g(null,f)})}})}})}isReady(){return new Promise((a,h)=>{this.config.post(()=>{const f=this.auth.getParticipant(this.config.authId);a(No.builder().setSuccess(!!f))})})}getAll(){return this.getAllSubscribe()}save(a,h){if(!h&&this.canSave&&!this.canSave(a)||!a.dirty)return new Promise((f,p)=>{this.config.post(()=>{f(No.builder().setSuccess(!0))})});const d={params:{_name:a.old.name,_mode:a.old.mode,_newName:a.name,_newMode:a.mode,_newTags:a.tags}};return new Promise((f,p)=>{this.http.get(this.getRestPoint("/updateMemorial",null),d).pipe(vr(Ui.handleError)).subscribe({next:g=>{f(g)},error:g=>{p(null)}}),a.clearDirty(),this.memorialSaved.emit(a)})}newMemorial(a,h){const d={params:{_name:a.name,_mode:a.mode}};return new Promise((f,p)=>{this.http.get(this.getRestPoint("/addMemorial",null),d).pipe(vr(Ui.handleError)).subscribe({next:g=>{f(g)},error:g=>{p(null)}}),a.clearDirty()})}deleteMemorial(a,h){const d={params:{_name:a.name,_mode:a.mode}};return new Promise((f,p)=>{this.http.get(this.getRestPoint("/deleteMemorial",null),d).pipe(vr(Ui.handleError)).subscribe({next:g=>{f(g)},error:g=>{p(null)}}),a.clearDirty()})}deleteAll(){const a={params:{}};return new Promise((h,d)=>{this.http.get(this.getRestPoint("/deleteAllMemorials",null),a).pipe(vr(Ui.handleError)).subscribe({next:f=>{h(f)},error:f=>{d(null)}})})}static \u0275fac=function(h){return new(h||c)(Ee(hu),Ee(Zt),Ee(Jw))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),Gde=(()=>{class c{kafizmSvc;auth;config;memkey=-1;authedMemorials=null;localStorageName="";nextMemorialId=1;constructor(a,h,d){this.kafizmSvc=a,this.auth=h,this.config=d,this.localStorageName=d.serviceAPIHost+"MemSvc"}isReady(){return new Promise((a,h)=>{this.config.post(()=>{const f=this.auth.getParticipant(this.config.authId);a(No.builder().setSuccess(!!f))})})}getUserId(){const h=this.auth.getParticipant(this.config.authId);if(!h)throw new Error("\u041d\u0435\u0442 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.");return h.username}get memorials(){const a=this.getUserId();return this.authedMemorials[a]||(this.authedMemorials[a]=new rP([])),this.authedMemorials[a]}getNextMemorialId(){return++this.nextMemorialId}checkOrloadData(){const a=()=>{let d=!0;this.memorials.items.forEach(p=>{"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439"===p.name&&(d=!1)})};if(this.authedMemorials)return void a();const h=localStorage.getItem(this.localStorageName);if(h)try{const d=JSON.parse(h);this.authedMemorials=d||{}}catch(d){this.authedMemorials={},this.config.addAlert(Bi.of("Error: "+d,"OK",10))}this.authedMemorials||(this.authedMemorials={}),a(),this.nextMemorialId=1,this.memorials.items.forEach(d=>{d._id>this.nextMemorialId&&(this.nextMemorialId=d._id+1)})}saveData(){const a=JSON.stringify(this.authedMemorials);localStorage.setItem(this.localStorageName,a)}addTempFile(a,h,d){this.checkOrloadData()}deleteAll(){return new Promise((a,h)=>{this.config.post(()=>{this.checkOrloadData(),this.memorials.items=[],this.saveData(),a(No.builder().setSuccess(!0))})})}deleteMemorial(a){return new Promise((h,d)=>{this.config.post(()=>{this.checkOrloadData();const f=this.memorials.items.findIndex(g=>g._id===a._id),p=f>=0;p&&this.memorials.items.splice(f,1),this.saveData(),a.clearDirty(),h(new No(p,""))})})}getAll(){return new Promise((a,h)=>{this.config.post(()=>{this.checkOrloadData();const d=rP.toMemorials(this.memorials,f=>{},(f,p)=>{this.newMemorial(new Ob(-1,f,"on","")).then(g=>p?p(g):null,g=>p?p(No.builder().setError(g)):null)},(f,p)=>{this.deleteMemorial(f).then(g=>p?p(g):null,g=>p?p(No.builder().setError(g)):null)});a(d)})})}getAllSubscribe(){return new Promise((a,h)=>{this.config.post(()=>{this.checkOrloadData();const d=rP.toMemorials(this.memorials,f=>{},(f,p)=>{this.newMemorial(new Ob(-1,f,"on","")).then(g=>p?p(g):null,g=>p?p(No.builder().setError(g)):null)},(f,p)=>{this.deleteMemorial(f).then(g=>p?p(g):null,g=>p?p(No.builder().setError(g)):null)});a(d)})})}newMemorial(a){return new Promise((h,d)=>{this.config.post(()=>{if(this.checkOrloadData(),null!=this.memorials.items.find(p=>p.name==a.name))return void d(`\u0423\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c: '${a.name}'.`);let f=a.tags;f||(f+=a.name+",\u0421\u043b\u0430\u0432\u0430 1,\u0421\u043b\u0430\u0432\u0430 2,\u0421\u043b\u0430\u0432\u0430 3"),this.memorials.items.push(new Bqe(this.getNextMemorialId(),a.name,a.mode,f)),this.saveData(),"hramvkostino"==a.name?this.kafizmSvc.checkAndAddDefaultHramvkostino():"\u0430\u0432\u0442\u043e\u0440\u044b"==a.name&&this.kafizmSvc.checkAndAddDefaultAuthors(),h(new No(!0,""))})})}save(a,h){return new Promise((d,f)=>{this.config.post(()=>{this.checkOrloadData();let p=!1;this.memorials.items.forEach(g=>{g._id===a._id&&(g.name=a.name,g.tags=a.tags,g.mode=a.mode,p=!0)}),p&&this.saveData(),"hramvkostino"==a.name?this.kafizmSvc.checkAndAddDefaultHramvkostino():"\u0430\u0432\u0442\u043e\u0440\u044b"==a.name&&this.kafizmSvc.checkAndAddDefaultAuthors(),a.clearDirty(),d(new No(p,p?"OK":"Not found"))})})}static \u0275fac=function(h){return new(h||c)(Ee(H9),Ee(Jw),Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),Cb=(()=>{class c{msRest;msMemory;config;memorials=null;subscribers=null;ms=null;updateMemorialsAction=new xde(a=>{this.getAll().then(h=>{a?.map(d=>d(!0))})},100,(a,h)=>this.config.post(h,a));constructor(a,h,d){this.msRest=a,this.msMemory=h,this.config=d,this.config.isMemoryServerType()&&(this.ms=this.msMemory),(!this.ms||this.config.isRestServerType())&&(this.ms=this.msRest)}getMemorials(){return this.memorials}getActivePredefinedMemorialsRaw(){return["\u0430\u0432\u0442\u043e\u0440\u044b","hramvkostino"]}getActivePredefinedMemorials(){let a=[],h=this.getActivePredefinedMemorialsRaw();return this.memorials&&this.memorials.items&&this.memorials.items.forEach(d=>{h.forEach(f=>{f==d.name&&a.indexOf(f)<0&&a.push(f)})}),a}setMemorials(a){this.memorials=a,this.memorials.addDeleteMemorialHandler((h,d)=>{this.reloadMemorials(),d&&d(new No(!0,""))}),this.memorials.addNewMemorialHandler((h,d)=>{this.reloadMemorials(()=>{d&&d(new No(!0,""))})})}isReady(){return this.ms?this.ms.isReady():new Promise((a,h)=>{this.config.post(()=>{h(No.builder().setSuccess(!1).setError("\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u0433\u043e\u0442\u043e\u0432."))})})}getAll(){return new Promise((a,h)=>{if(null==this.subscribers)if(null!=this.memorials)a(this.memorials);else{this.subscribers=[(f,p)=>{f?a(f):p&&h(p)}];const d=(f,p)=>{if(f&&this.setMemorials(f),null!=this.subscribers){let g=this.subscribers;this.subscribers=null,g.forEach(m=>{p?m(null,p):m(this.memorials,null)})}};this.ms.getAll().then(f=>{d(f,null)},f=>{d(null,f)})}else this.subscribers.push((d,f)=>{d?a(d):f&&h(f)})})}save(a,h){return new Promise((d,f)=>{this.ms.save(a,h).then(p=>{this.reloadMemorials(),d(p)},p=>{f(p)})})}newMemorial(a){return new Promise((h,d)=>{this.ms.newMemorial(a).then(f=>{this.reloadMemorials(p=>{f&&f.success?h(f):d(`\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0430: "${a.name}"`)})},f=>{d(f)})})}deleteMemorial(a){return new Promise((h,d)=>{this.ms.deleteMemorial(a).then(f=>{this.reloadMemorials(p=>{f&&f.success?h(f):d(`\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0430: "${a.name}"`)})},f=>{d(f)})})}deleteAll(){return new Promise((a,h)=>{this.ms.deleteAll().then(d=>{this.reloadMemorials(f=>{d&&d.success?a(d):h('\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u043e\u0432."')})},d=>{h(d)})})}reloadMemorials(a){this.memorials=null,this.updateMemorialsAction.requestAction(a)}static \u0275fac=function(h){return new(h||c)(Ee(jde),Ee(Gde),Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),Xh=(()=>{class c extends Nqe{ksRest;ksMemory;config;memorialsSvc;memkey=-1;persons=null;subscribers=null;ks=null;predefinedPersons=null;activePredefinedMemorialTags="";changesId=0;virtualIdBase=1e8;newChangesId(){return++this.changesId}constructor(a,h,d,f){super(),this.ksRest=a,this.ksMemory=h,this.config=d,this.memorialsSvc=f,this.config.isMemoryServerType()&&(this.ks=this.ksMemory),(!this.ks||this.config.isRestServerType())&&(this.ks=this.ksRest),this.setupPredefinedPersons()}getPersonsDirect(){return this.persons}reloadPersons(){this.persons=null,this.getPersons(-1)}getPersons(a){return new Promise((h,d)=>{let f=(p,g)=>{p?h(p):d(""+g)};null==this.subscribers?null!=this.persons?h(this.persons):(this.subscribers=[f],this.ks?.getPersons(this.memkey).then(p=>{if(this.persons=this.filterPersonsAndPredefined(p),null!=this.subscribers){const g=this.subscribers;this.subscribers=null,g.forEach(m=>{m(this.persons,null)})}this.config.post(()=>{this.runDetectAnyChanges()})},p=>{if(null!=this.subscribers){const g=this.subscribers;this.subscribers=null,g.forEach(m=>{m(null,""+p)})}})):this.subscribers.push(f)})}autoRejectOnFail(a){return this.ks?a(this.ks):new Promise((h,d)=>{this.config.post(()=>{d("\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.")})})}runDetectAnyChanges(){return this.detectedChanges(new Ii(-1,"","",-1,!0,"")),this}runChangeDetector(a){return new Promise((h,d)=>{a.then(f=>{h(f),this.runDetectAnyChanges()},f=>{d(d),this.runDetectAnyChanges()})})}save(a,h,d){return this.autoRejectOnFail(f=>this.runChangeDetector(f.save(this.memkey,h,d)))}deleteAll(a){return this.autoRejectOnFail(h=>this.runChangeDetector(h.deleteAll(this.memkey)))}deletePersons(a){return this.autoRejectOnFail(h=>this.runChangeDetector(h.deletePersons(a,this.memkey)))}newPerson(a,h,d){return this.autoRejectOnFail(f=>this.runChangeDetector(f.newPerson(this.memkey,h,d)))}newPersons(a,h){return this.autoRejectOnFail(d=>this.runChangeDetector(d.newPersons(a,h)))}addTempFile(a,h){return this.autoRejectOnFail(d=>d.addTempFile(a,h))}filterPersonsAndPredefined(a,h=!0){let d=a.items,f=a;f.items=[];let p=new bb([]),g=!1;d.forEach(v=>{this.isValidPerson(v)?f.items.push(v):v._id<this.virtualIdBase&&(g=!0,this.removePredefinedTags(v)?(this.ks.save(this.memkey,v,!0),f.items.push(v)):p.items.push(v))}),g&&this.config.addAlert(Bi.of("\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0437\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438.","OK",30));let m=this.memorialsSvc.getActivePredefinedMemorials();return this.activePredefinedMemorialTags=m.join(","),this.predefinedPersons.forEach((v,_)=>{m.forEach(y=>{y==_&&f.items.push(...v.clone().items)})}),p.items.length>0&&h&&this.deletePersons(p.items).then(v=>{this.config.addAlert(Bi.of(v.success?"\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0437\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438.":v.error,"OK",30))},v=>{this.config.addAlert(Bi.of(v,"OK",30))}),a}removePredefinedTags(a){let h=!1,d=a.tags;["\u0430\u0432\u0442\u043e\u0440\u044b","hramvkostino"].forEach(m=>{let v=fo.removeTag(d,m);v!=d&&(h=!0,d=v)});let g=""!=fo.removeModificators(d);return g&&(a.tags=d),g}isValidPerson(a){let h=fo.removeModificators(a.tags),f=!1;return["\u0430\u0432\u0442\u043e\u0440\u044b","hramvkostino"].forEach(p=>{let g=fo.removeTag(h,p);g!=h&&(f=!0),h=g}),!f}setupPredefinedPersons(){this.predefinedPersons=new Map;let a=this.virtualIdBase,h=()=>++a,d="\u0430\u0432\u0442\u043e\u0440\u044b";this.predefinedPersons.set(d,new bb([new Ii(h(),"\u0415\u0432\u0433\u0435\u043d\u0438\u044f","",-1,!0,d),new Ii(h(),"\u0410\u043d\u0434\u0440\u0435\u044f","",-1,!0,d)])),d="hramvkostino",this.predefinedPersons.set(d,new bb([new Ii(h(),"\u0438\u0435\u0440. \u0414\u0438\u043c\u0438\u0442\u0440\u0438\u044f","",-1,!0,d),new Ii(h(),"\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","",-1,!0,d),new Ii(h(),"\u0438\u0435\u0440. \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430","",-1,!0,d),new Ii(h(),"\u0438\u0435\u0440. \u0414\u0438\u043e\u043d\u0438\u0441\u0438\u044f","",1,!0,d),new Ii(h(),"\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","",-1,!0,d),new Ii(h(),"\u0434\u0438\u0430\u043a. \u0413\u0435\u043e\u0440\u0433\u0438\u044f","",-1,!0,d),new Ii(h(),"\u0412\u0430\u043b\u0435\u0440\u0438\u044f","",0,!0,d),new Ii(h(),"\u0421\u0435\u0440\u0433\u0438\u044f","",2,!0,d),new Ii(h(),"\u041c\u0430\u0440\u0438\u0438","",3,!0,d),new Ii(h(),"\u0422\u0430\u0442\u0438\u0430\u043d\u044b","",4,!0,d),new Ii(h(),"\u0422\u0430\u0442\u0438\u0430\u043d\u044b","",5,!0,d),new Ii(h(),"\u0413\u0430\u043b\u0438\u043d\u044b","",6,!0,d),new Ii(h(),"\u041f\u0430\u0432\u043b\u0430","",7,!0,d),new Ii(h(),"\u041c\u0438\u0445\u0430\u0438\u043b\u0430","",8,!0,d),new Ii(h(),"\u0415\u043b\u0435\u043d\u044b","",9,!0,d),new Ii(h(),"\u0412\u0430\u043b\u0435\u0440\u0438\u044f","",10,!0,d),new Ii(h(),"\u041b\u044e\u0431\u043e\u0432\u0438","",11,!0,d),new Ii(h(),"\u041d\u0430\u0434\u0435\u0436\u0434\u044b","",12,!0,d),new Ii(h(),"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430","",13,!0,d),new Ii(h(),"\u041b\u044e\u0434\u043c\u0438\u043b\u044b","",14,!0,d),new Ii(h(),"\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d\u0430","",15,!0,d),new Ii(h(),"\u041c\u0438\u0445\u0430\u0438\u043b\u0430","",16,!0,d),new Ii(h(),"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430","",17,!0,d),new Ii(h(),"\u0410\u043d\u0434\u0440\u0435\u044f","",18,!0,d),new Ii(h(),"\u041c\u0430\u0440\u0438\u043d\u044b","",19,!0,d),new Ii(h(),"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430","",-1,!1,d),new Ii(h(),"\u0412\u0438\u043a\u0442\u043e\u0440\u0430","",-1,!1,d),new Ii(h(),"\u0424\u043e\u0442\u0438\u043d\u0438\u0438","",-1,!1,d)]))}static \u0275fac=function(h){return new(h||c)(Ee(Zde),Ee(H9),Ee(Zt),Ee(Cb))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),Xde=(()=>{class c{http;config;bLoggedIn=!1;restPoint="/participant";getRestPoint(a,h){const d=this.config.isMemoryServerType()?this.config.baseHref:this.config.serviceAPIHost;return pi.merge(pi.merge(h||d,this.restPoint),a)}constructor(a,h){this.http=a,this.config=h}isLoggedIn(){return new Promise((a,h)=>{this.config.post(()=>{a(Mp.build().setResult(this.bLoggedIn))})})}login(){return this.bLoggedIn=!0,new Promise((a,h)=>{this.config.post(()=>{a(Mp.build().setResult(!0))})})}logout(){return this.bLoggedIn=!1,new Promise((a,h)=>{this.config.post(()=>{a(Mp.build().setResult(!0))})})}requestForUser(a,h){const d={params:{username:a,password:h}};return new Promise((f,p)=>{this.http.get(this.getRestPoint("/login",null),d).pipe(vr(Ui.handleError)).subscribe({next:g=>f(g),error:g=>p(g)})})}logoutAll(){const a={params:{}};return new Promise((h,d)=>{this.http.get(this.getRestPoint("/logoutAll",null),a).pipe(vr(Ui.handleError)).subscribe({next:f=>h(f),error:f=>d(f)})})}requestVersion(){const a={params:{}};return new Promise((h,d)=>{this.http.get(this.getRestPoint("/version",null),a).pipe(vr(Ui.handleError)).subscribe({next:f=>h(f),error:f=>d(f)})})}static \u0275fac=function(h){return new(h||c)(Ee(hu),Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),fu=(()=>{class c{config;authRest;authMemory;auth=null;constructor(a,h,d){this.config=a,this.authRest=h,this.authMemory=d,this.config.isMemoryServerType()&&(this.auth=d),(!this.auth||this.config.isRestServerType())&&(this.auth=h)}autoRejectOnFail(a){return this.auth?a(this.auth):new Promise((h,d)=>{this.config.post(()=>{d("\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.")})})}isLoggedIn(){return this.autoRejectOnFail(a=>a.isLoggedIn())}login(){return this.autoRejectOnFail(a=>a.login())}logout(){return this.autoRejectOnFail(a=>a.logout())}requestForUser(a,h){return this.autoRejectOnFail(d=>d.requestForUser(a,h))}logoutAll(){return this.autoRejectOnFail(a=>a.logoutAll())}requestVersion(){return this.autoRejectOnFail(a=>a.requestVersion())}static \u0275fac=function(h){return new(h||c)(Ee(Zt),Ee(Xde),Ee(Jw))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class om{data;constructor(l){this.data=l}static builder(){return new om(null)}setData(l){return this.data=l,this}}class ti{text;onClick;tag;constructor(l,a,h){this.text=l,this.onClick=a,this.tag=h}static builder(){return new ti("",null,null)}setText(l){return this.text=l,this}setOnClick(l){return this.onClick=l,this}setTag(l){return this.tag=l,this}click(l){this.onClick&&this.onClick(l)}}let sf=(()=>{class c{config;uiConfig;authSvc;aComponents=[];menuLinksOld=null;menuLinks=[];serviceReady=!1;get components(){return this.syncComponents(),this.aComponents}set components(a){this.aComponents=a}constructor(a,h,d){this.config=a,this.uiConfig=h,this.authSvc=d}isComponentType(a,h){if(this.components.length<=0)return!1;let d=this.components[0].data instanceof a;return d&&null!=h?this.components[0].data.component?.data instanceof h:d}isComponentTypeName(a,h,d){if(this.components.length<=0)return null;let f=this.components[0].data instanceof a;if(f=f||null,f&&null!=h){let p=this.components[0].data;return p.component?.data instanceof h?(p.component?.data)[d]:null}return f}addMenuLink(a){return this.menuLinks.push(a),this}applyMenuAppRoutes(a=!1){let h=this.uiConfig.setAppRoutes(this.menuLinks);a||(this.menuLinksOld=h)}ngOnInit(){this.menuLinks.length&&this.config.post(()=>{this.menuLinksOld=this.uiConfig.setAppRoutes(this.menuLinks)},0)}ngOnDestroy(){this.menuLinksOld&&this.config.post(()=>{this.menuLinksOld&&this.menuLinksOld.unsubscribe()},0)}ngAfterViewInit(){this.menuLinks.length&&this.config.post(()=>{this.menuLinksOld=this.uiConfig.setAppRoutes(this.menuLinks)},0)}syncComponents(){}doLogin(a){this.authSvc.isLoggedIn().then(h=>{h.result?(this.serviceReady=!1,a&&a(this.serviceReady)):this.authSvc.login().then(d=>{if(d.result){let f="hramvkostino",p="hramvkostino";this.authSvc.requestForUser(f,p).then(g=>{this.serviceReady=g.valid,this.config.authId=g.authId,this.config.authBody=btoa(f+":"+p),a&&a(this.serviceReady)})}})})}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(fu))};static \u0275cmp=qe({type:c,selectors:[["ng-component"]],decls:0,vars:0,template:function(h,d){},encapsulation:2})}return c})();var bt=function(c){return c.NZ_KZ="NZ_KZ",c.NZ_KI="NZ_KI",c.NZ_KU="NZ_KU",c.NZ_KP="NZ_KP",c.VZ_KZ="VZ_KZ",c.VZ_KI="VZ_KI",c.VZ_KU="VZ_KU",c.VZ_KP="VZ_KP",c.SL_OV="SL_OV",c.SL_BL="SL_BL",c.SL_LG="SL_LG",c.SL_TF="SL_TF",c}(bt||{});class W9{static builder(){return new W9}build(l,a,h,d,f,p,g,m){let v=sP.builder(),y=b=>{v.switchState(b,a,m,()=>{v.hideOrShowMainMenu(b,a,m,()=>{b.complementedByMenuName&&v.hideOrShowStateByType(b.complementedByMenuName,b.on,null,a,m,[b.complementedByMenuName]);let O=h();O&&O(b)})})};return new Yde(v,a,l,d,f,p,g,Math.PI,m).add(Qe.builder().setText("\u041d\u043e\u0432\u044b\u0439 \u0417\u0430\u0432\u0435\u0442").setSize(Math.PI).setOnClick(y)).add(Qe.builder().setText("\u0412\u0435\u0442\u0445\u0438\u0439 \u0417\u0430\u0432\u0435\u0442").setOnClick(y).setTypeName(Vr.DOWN)).newLine().add(Qe.builder().setText("\u041a\u043d\u0438\u0433\u0438 \u0437\u0430\u043a\u043e\u043d\u043e\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435").setSize(Math.PI).setComplementedByTypeName(bt.NZ_KZ).setOnClick(y)).add(Qe.builder().setText("\u041a\u043d\u0438\u0433\u0438 \u0437\u0430\u043a\u043e\u043d\u043e\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435").setComplementedByTypeName(bt.VZ_KZ).setOnClick(y).setTypeName(Vr.DOWN)).newLine().add(Qe.builder().setText("\u041a\u043d\u0438\u0433\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0430\u044f").setSize(Math.PI).setComplementedByTypeName(bt.NZ_KI).setOnClick(y)).add(Qe.builder().setText("\u041a\u043d\u0438\u0433\u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0435").setComplementedByTypeName(bt.VZ_KI).setOnClick(y).setTypeName(Vr.DOWN)).newLine().add(Qe.builder().setText("\u041a\u043d\u0438\u0433\u0438 \u0443\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435").setSize(Math.PI/2).setComplementedByTypeName(bt.NZ_KU).setOnClick(y)).add(Qe.builder().setText("\u041a\u043d\u0438\u0433\u0430 \u043f\u0440\u043e\u0440\u043e\u0447\u0435\u0441\u043a\u0430\u044f").setComplementedByTypeName(bt.NZ_KP).setSize(Math.PI/2).setOnClick(y)).add(Qe.builder().setText("\u041a\u043d\u0438\u0433\u0438 \u043f\u0440\u043e\u0440\u043e\u0447\u0435\u0441\u043a\u0438\u0435").setSize(Math.PI/2).setComplementedByTypeName(bt.VZ_KP).setOnClick(y).setTypeName(Vr.DOWN)).add(Qe.builder().setText("\u041a\u043d\u0438\u0433\u0438 \u0443\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435").setComplementedByTypeName(bt.VZ_KU).setOnClick(y).setTypeName(Vr.DOWN)).newLine().setAlpha0(Math.PI/6*4).add(Qe.builder().setText("   \u041e \u0432\u0435\u0440\u0435   ").setComplementedByTypeName(bt.SL_OV).setTypeName(Vr.AROUND).setSize(Math.PI/6*2).setOnClick(y)).add(Qe.builder().setText("\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0430\u044f \u0431\u043e\u0433\u043e\u0441\u043b\u0443\u0436\u0435\u0431\u043d\u0430\u044f \u043b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430").setTypeName(Vr.AROUND).setSize(Math.PI/6*4).setDelayIndex(3).setComplementedByTypeName(bt.SL_BL).setOnClick(y)).add(Qe.builder().setText("   \u042f\u0437\u044b\u043a   ").setTypeName(Vr.AROUND).setSize(Math.PI/6*2).setDelayIndex(1).setOnClick(y)).add(Qe.builder().setText("\u0422\u043e\u043b\u043a\u043e\u0432\u0430\u043d\u0438\u044f \u0424\u0435\u043e\u0444\u0438\u043b\u0430\u043a\u0442\u0430 \u0411\u043e\u043b\u0433\u0430\u0440\u0441\u043a\u043e\u0433\u043e").setTypeName(Vr.AROUND).setDelayIndex(2).setComplementedByTypeName(bt.SL_TF).setOnClick(y)).newLine(!0,!0).setAlpha0(0).newLine().add(Qe.builder().setText("\u0415\u0432\u0430\u043d\u0433\u0435\u043b\u0438\u0435").setSize(Math.PI).setForceOn(!0).setOnClick(y).setTypeName(bt.NZ_KZ)).newLine().add(Qe.builder().setText("\u043e\u0442 \u041c\u0430\u0440\u043a\u0430").setSize(Math.PI/2).setOnClick(y).setTypeName(bt.NZ_KZ)).add(Qe.builder().setText("\u043e\u0442 \u041c\u0430\u0442\u0444\u0435\u044f").setSize(Math.PI/2).setOnClick(y).setTypeName(bt.NZ_KZ)).newLine().add(Qe.builder().setText("\u043e\u0442 \u0418\u043e\u0430\u043d\u043d\u0430").setSize(Math.PI/2).setOnClick(y).setTypeName(bt.NZ_KZ)).add(Qe.builder().setText("\u043e\u0442 \u041b\u0443\u043a\u0438").setSize(Math.PI/2).setOnClick(y).setTypeName(bt.NZ_KZ)).newLine(!0,!0).newLine().newLine().setAlpha0(0).add(Qe.builder().setText("\u0414\u0435\u044f\u043d\u0438\u044f \u0430\u043f\u043e\u0441\u0442\u043e\u043b\u043e\u0432").setSize(Math.PI).setOnClick(y).setTypeName(bt.NZ_KI)).newLine(!0,!0).setAlpha0(0).setRadialSize(Math.PI).newLine().add(Qe.builder().setText("\u0421\u043e\u0431\u043e\u0440\u043d\u044b\u0435 \u043f\u043e\u0441\u043b\u0430\u043d\u0438\u044f").setSize(Math.PI).setForceOn(!0).setOnClick(y).setTypeName(bt.NZ_KU)).newLine().add(Qe.builder().setText("2 \u041f\u0435\u0442\u0440\u0430").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("1 \u041f\u0435\u0442\u0440\u0430").setSize(Math.PI/2).setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("\u0418\u0430\u043a\u043e\u0432\u0430").setOnClick(y).setTypeName(bt.NZ_KU)).newLine().add(Qe.builder().setText("\u0418\u0443\u0434\u044b").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("3 \u0418\u043e\u0430\u043d\u043d\u0430").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("2 \u0418\u043e\u0430\u043d\u043d\u0430").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("1 \u0418\u043e\u0430\u043d\u043d\u0430").setOnClick(y).setTypeName(bt.NZ_KU)).newLine().setRadialSize(2*Math.PI).setAlpha0(2*Math.PI-Math.PI/4).add(Qe.builder().setText("\u041f\u043e\u0441\u043b\u0430\u043d\u0438\u044f \u0430\u043f\u043e\u0441\u0442\u043e\u043b\u0430 \u041f\u0430\u0432\u043b\u0430").setSize(Math.PI/4*2).setForceOn(!0).setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("\u0440\u0438\u043c\u043b\u044f\u043d\u0430\u043c").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("1 \u043a\u043e\u0440\u0438\u043d\u0444\u044f\u043d\u0430\u043c").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("2 \u043a\u043e\u0440\u0438\u043d\u0444\u044f\u043d\u0430\u043c").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("\u0433\u0430\u043b\u0430\u0442\u0430\u043c").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("\u0435\u0444\u0435\u0441\u044f\u043d\u0430\u043c").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("\u0444\u0438\u043b\u0438\u043f\u0438\u0439\u0446\u0430\u043c").setOnClick(y).setTypeName(bt.NZ_KU)).newLine().setAlpha0(Math.PI/4*5).add(Qe.builder().setText("\u043a\u043e\u043b\u043e\u0441\u0441\u044f\u043d\u0430\u043c").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("1 \u0444\u0435\u0441\u0441\u043e\u043b\u043e\u043d\u0438\u043a\u0438\u0439\u0446\u0430\u043c").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("2 \u0444\u0435\u0441\u0441\u043e\u043b\u043e\u043d\u0438\u043a\u0438\u0439\u0446\u0430\u043c").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("1 \u0422\u0438\u043c\u043e\u0444\u0435\u044e").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("2 \u0422\u0438\u043c\u043e\u0444\u0435\u044e").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("\u0422\u0438\u0442\u0443").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("\u0424\u0438\u043b\u0438\u043c\u043e\u043d\u0443").setOnClick(y).setTypeName(bt.NZ_KU)).add(Qe.builder().setText("\u0435\u0432\u0440\u0435\u044f\u043c").setOnClick(y).setTypeName(bt.NZ_KU)).newLine(!0,!0).setAlpha0(0).setRadialSize(Math.PI).newLine().newLine().newLine().add(Qe.builder().setText("\u041e\u0442\u043a\u0440\u043e\u0432\u0435\u043d\u0438\u0435 \u0418\u043e\u0430\u043d\u043d\u0430 \u0411\u043e\u0433\u043e\u0441\u043b\u043e\u0432\u0430").setOnClick(y).setTypeName(bt.NZ_KP)).newLine(!0,!0).setAlpha0(Math.PI).setRadialSize(Math.PI).newLine().add(Qe.builder().setText("\u041a\u043d\u0438\u0433\u0430 \u0411\u044b\u0442\u0438\u044f").setOnClick(y).setTypeName(bt.VZ_KZ)).newLine().add(Qe.builder().setText("\u0418\u0441\u0445\u043e\u0434").setOnClick(y).setTypeName(bt.VZ_KZ)).add(Qe.builder().setText("\u041b\u0435\u0432\u0438\u0442").setOnClick(y).setTypeName(bt.VZ_KZ)).newLine().add(Qe.builder().setText("\u0427\u0438\u0441\u043b\u0430").setOnClick(y).setTypeName(bt.VZ_KZ)).add(Qe.builder().setText("\u0412\u0442\u043e\u0440\u043e\u0437\u0430\u043a\u043e\u043d\u0438\u0435").setOnClick(y).setTypeName(bt.VZ_KZ)).newLine(!0,!0).setAlpha0(Math.PI).setRadialSize(Math.PI).add(Qe.builder().setText("\u0418\u0438\u0441\u0443\u0441\u0430 \u041d\u0430\u0432\u0438\u043d\u0430").setOnClick(y).setTypeName(bt.VZ_KI)).newLine().add(Qe.builder().setText("\u0421\u0443\u0434\u0435\u0439 \u0418\u0437\u0440\u0430\u0438\u043b\u0435\u0432\u044b\u0445").setOnClick(y).setTypeName(bt.VZ_KI)).add(Qe.builder().setText("\u0420\u0443\u0444\u0438").setOnClick(y).setTypeName(bt.VZ_KI)).newLine().add(Qe.builder().setText("1 \u0426\u0430\u0440\u0441\u0442\u0432").setOnClick(y).setTypeName(bt.VZ_KI)).add(Qe.builder().setText("2 \u0426\u0430\u0440\u0441\u0442\u0432").setOnClick(y).setTypeName(bt.VZ_KI)).add(Qe.builder().setText("3 \u0426\u0430\u0440\u0441\u0442\u0432").setOnClick(y).setTypeName(bt.VZ_KI)).add(Qe.builder().setText("4 \u0426\u0430\u0440\u0441\u0442\u0432").setOnClick(y).setTypeName(bt.VZ_KI)).newLine().add(Qe.builder().setText("1 \u041f\u0430\u0440\u0430\u043b\u0438\u043f\u043e\u043c\u0435\u043d\u043e\u043d").setOnClick(y).setTypeName(bt.VZ_KI)).add(Qe.builder().setText("2 \u041f\u0430\u0440\u0430\u043b\u0438\u043f\u043e\u043c\u0435\u043d\u043e\u043d").setOnClick(y).setTypeName(bt.VZ_KI)).add(Qe.builder().setText("1 \u0415\u0437\u0434\u0440\u044b").setOnClick(y).setTypeName(bt.VZ_KI)).add(Qe.builder().setText("\u041d\u0435\u0435\u043c\u0438\u0438").setOnClick(y).setTypeName(bt.VZ_KI)).newLine().setRadialSize(Math.PI).add(Qe.builder().setText("2 \u0415\u0437\u0434\u0440\u044b").setOnClick(y).setTypeName(bt.VZ_KI)).add(Qe.builder().setText("\u0422\u043e\u0432\u0438\u0442\u0430").setOnClick(y).setTypeName(bt.VZ_KI)).add(Qe.builder().setText("\u0418\u0443\u0434\u0438\u0444\u0438").setOnClick(y).setTypeName(bt.VZ_KI)).add(Qe.builder().setText("\u0415\u0441\u0444\u0438\u0440\u0438").setOnClick(y).setTypeName(bt.VZ_KI)).newLine(!0,!1,!1).setRadialSize(Math.PI).setAlpha0(0).add(Qe.builder().setText("1 \u041c\u0430\u043a\u043a\u0430\u0432\u0435\u0439\u0441\u043a\u0430\u044f").setOnClick(y).setTypeName(bt.VZ_KI)).add(Qe.builder().setText("2 \u041c\u0430\u043a\u043a\u0430\u0432\u0435\u0439\u0441\u043a\u0430\u044f").setOnClick(y).setTypeName(bt.VZ_KI)).add(Qe.builder().setText("3 \u041c\u0430\u043a\u043a\u0430\u0432\u0435\u0439\u0441\u043a\u0430\u044f").setOnClick(y).setTypeName(bt.VZ_KI)).newLine(!0,!0).setAlpha0(Math.PI).setRadialSize(Math.PI).add(Qe.builder().setText(" \u0418\u043e\u0432\u0430 ").setOnClick(y).setTypeName(bt.VZ_KU)).newLine().setAlpha0(Math.PI).setRadialSize(Math.PI).add(Qe.builder().setText("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c").setOnClick(y).setTypeName(bt.VZ_KU)).add(Qe.builder().setText("\u041f\u0440\u0438\u0442\u0447\u0435\u0439 \u0421\u043e\u043b\u043e\u043c\u043e\u043d\u043e\u0432\u044b\u0445").setOnClick(y).setTypeName(bt.VZ_KU)).newLine().add(Qe.builder().setText("\u042d\u043a\u043a\u043b\u0435\u0437\u0438\u0430\u0441\u0442").setOnClick(y).setTypeName(bt.VZ_KU)).add(Qe.builder().setText("\u041f\u0435\u0441\u043d\u044c \u041f\u0435\u0441\u043d\u0435\u0439 \u0421\u043e\u043b\u043e\u043c\u043e\u043d\u043e\u0432\u044b\u0445").setOnClick(y).setTypeName(bt.VZ_KU)).newLine().add(Qe.builder().setText("\u041f\u0440\u0435\u043c\u0443\u0434\u0440\u043e\u0441\u0442\u0438 \u0421\u043e\u043b\u043e\u043c\u043e\u043d\u0430").setOnClick(y).setTypeName(bt.VZ_KU)).add(Qe.builder().setText("\u041f\u0440\u0435\u043c\u0443\u0434\u0440\u043e\u0441\u0442\u0438 \u0418\u0438\u0441\u0443\u0441\u0430").setOnClick(y).setTypeName(bt.VZ_KU)).newLine(!0,!0).setRadialSize(Math.PI).add(Qe.builder().setText(" \u0418\u0441\u0430\u0438\u0438 ").setOnClick(y).setTypeName(bt.VZ_KP)).add(Qe.builder().setText("\u0418\u0435\u0440\u0435\u043c\u0438\u0438").setOnClick(y).setTypeName(bt.VZ_KP)).newLine().add(Qe.builder().setText("\u041f\u043b\u0430\u0447 \u0418\u0435\u0440\u0435\u043c\u0438\u0438").setOnClick(y).setTypeName(bt.VZ_KP)).add(Qe.builder().setText("\u041f\u043e\u0441\u043b\u0430\u043d\u0438\u0435 \u0418\u0435\u0440\u0435\u043c\u0438\u0438").setOnClick(y).setTypeName(bt.VZ_KP)).newLine().add(Qe.builder().setText("\u0412\u0430\u0440\u0443\u0445\u0430").setOnClick(y).setTypeName(bt.VZ_KP)).add(Qe.builder().setText("\u0418\u0435\u0437\u0435\u043a\u0438\u043b\u044f").setOnClick(y).setTypeName(bt.VZ_KP)).add(Qe.builder().setText("\u0414\u0430\u043d\u0438\u0438\u043b\u0430").setOnClick(y).setTypeName(bt.VZ_KP)).add(Qe.builder().setText("\u041e\u0441\u0438\u0438").setOnClick(y).setTypeName(bt.VZ_KP)).newLine().add(Qe.builder().setText("\u0418\u043e\u0438\u043b\u044f").setOnClick(y).setTypeName(bt.VZ_KP)).add(Qe.builder().setText("\u0410\u043c\u043e\u0441\u0430").setOnClick(y).setTypeName(bt.VZ_KP)).add(Qe.builder().setText("\u0410\u0432\u0434\u0438\u044f").setOnClick(y).setTypeName(bt.VZ_KP)).add(Qe.builder().setText("\u0418\u043e\u043d\u044b").setOnClick(y).setTypeName(bt.VZ_KP)).newLine().setRadialSize(2*Math.PI).add(Qe.builder().setText("\u041c\u0438\u0445\u0435\u044f").setOnClick(y).setTypeName(bt.VZ_KP)).add(Qe.builder().setText("\u041d\u0430\u0443\u043c\u0430").setOnClick(y).setTypeName(bt.VZ_KP)).add(Qe.builder().setText("\u0410\u0432\u0432\u0430\u043a\u0443\u043c\u0430").setOnClick(y).setTypeName(bt.VZ_KP)).add(Qe.builder().setText("\u0421\u043e\u0444\u043e\u043d\u0438\u0438").setOnClick(y).setTypeName(bt.VZ_KP)).add(Qe.builder().setText("\u0410\u0433\u0433\u0435\u044f").setOnClick(y).setTypeName(bt.VZ_KP)).add(Qe.builder().setText("\u0417\u0430\u0445\u0430\u0440\u0438\u0438").setOnClick(y).setTypeName(bt.VZ_KP)).add(Qe.builder().setText("\u041c\u0430\u043b\u0430\u0445\u0438\u0438").setOnClick(y).setTypeName(bt.VZ_KP)).add(Qe.builder().setText("3 \u0415\u0437\u0434\u0440\u044b").setOnClick(y).setTypeName(bt.VZ_KP)).newLine(!0,!0).setRadialSize(Math.PI).newLine().newLine().setRadialSize(2*Math.PI).add(Qe.builder().setText("\u041e\u0431\u044a\u044f\u0441\u043d\u0435\u043d\u0438\u0435 \u0421\u0438\u043c\u0432\u043e\u043b\u0430 \u0432\u0435\u0440\u044b").setOnClick(y).setTypeName(bt.SL_OV)).add(Qe.builder().setText("\u0422\u043e\u0447\u043d\u043e\u0435 \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u043e\u0441\u043b\u0430\u0432\u043d\u043e\u0439 \u0432\u0435\u0440\u044b").setOnClick(y).setTypeName(bt.SL_OV)).newLine().add(Qe.builder().setText("\u041f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u043d\u044b\u0439 \u0425\u0440\u0438\u0441\u0442\u0438\u0430\u043d\u0441\u043a\u0438\u0439 \u041a\u0430\u0442\u0435\u0445\u0438\u0437\u0438\u0441").setOnClick(y).setTypeName(bt.SL_OV)).add(Qe.builder().setText("\u041a\u0430\u0442\u0435\u0445\u0438\u0437\u0438\u0441 \u0412\u043e\u0441\u0442\u043e\u0447\u043d\u043e\u0439 \u043f\u0440\u0430\u0432\u043e\u0441\u043b\u0430\u0432\u043d\u043e\u0439 \u0426\u0435\u0440\u043a\u0432\u0438").setOnClick(y).setTypeName(bt.SL_OV)).newLine().newLine(!0,!0).setRadialSize(2*Math.PI).add(Qe.builder().setText("\u041c\u043e\u043b\u0438\u0442\u0432\u043e\u0441\u043b\u043e\u0432").setOnClick(y).setSize(Math.PI).setTypeName(bt.SL_BL)).add(Qe.builder().setText("\u0427\u0430\u0441\u043e\u0441\u043b\u043e\u0432").setOnClick(y).setSize(Math.PI).setTypeName(bt.SL_BL)).newLine().setAlpha0(Math.PI).setRadialSize(2*Math.PI).add(Qe.builder().setText("\u0411\u043e\u0433\u043e\u0441\u043b\u0443\u0436\u0435\u0431\u043d\u044b\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f").setOnClick(y).setTypeName(bt.SL_BL)).add(Qe.builder().setText("\u041c\u0435\u0441\u044f\u0446\u0435\u0441\u043b\u043e\u0432").setOnClick(y).setTypeName(bt.SL_BL)).newLine().add(Qe.builder().setText("\u0422\u0440\u043e\u043f\u0430\u0440\u0438, \u043a\u043e\u043d\u0434\u0430\u043a\u0438 \u0438 \u0432\u0435\u043b\u0438\u0447\u0430\u043d\u0438\u044f \u043e\u0431\u0449\u0438\u0435").setOnClick(y).setTypeName(bt.SL_BL)).add(Qe.builder().setText("\u0422\u0440\u043e\u043f\u0430\u0440\u0438 \u0438 \u043a\u043e\u043d\u0434\u0430\u043a\u0438 \u0434\u043d\u0435\u0432\u043d\u044b\u0435").setOnClick(y).setTypeName(bt.SL_BL)).newLine().add(Qe.builder().setText("\u0422\u0440\u043e\u043f\u0430\u0440\u0438 \u0438 \u043a\u043e\u043d\u0434\u0430\u043a\u0438 \u0432\u043e\u0441\u043a\u0440\u0435\u0441\u043d\u044b\u0435").setOnClick(y).setTypeName(bt.SL_BL)).add(Qe.builder().setText("\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0414\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435").setOnClick(y).setTypeName(bt.SL_BL)).newLine().newLine().setAlpha0(0).setRadialSize(Math.PI).add(Qe.builder().setText("\u0412\u0441\u0435\u043d\u043e\u0449\u043d\u043e\u0435 \u0431\u0434\u0435\u043d\u0438\u0435 \u0438 \u041b\u0438\u0442\u0443\u0440\u0433\u0438\u044f").setOnClick(y).setTypeName(bt.SL_BL)).newLine(!0,!0).setRadialSize(2*Math.PI).setAlpha0(Math.PI).add(Qe.builder().setText("\u0415\u0432\u0430\u043d\u0433\u0435\u043b\u0438\u0435").setSize(Math.PI).setForceOn(!0).setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("\u0422\u043e\u043b\u043a\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0430").setSize(Math.PI).setForceOn(!0).setOnClick(y).setTypeName(bt.SL_TF)).newLine().add(Qe.builder().setText("\u043e\u0442 \u041c\u0430\u0442\u0444\u0435\u044f").setSize(Math.PI/2).setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("\u043e\u0442 \u041c\u0430\u0440\u043a\u0430").setSize(Math.PI/2).setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("\u0421\u043e\u0431\u043e\u0440\u043d\u044b\u0435 \u043f\u043e\u0441\u043b\u0430\u043d\u0438\u044f").setSize(Math.PI).setForceOn(!0).setOnClick(y).setTypeName(bt.SL_TF)).newLine().add(Qe.builder().setText("\u043e\u0442 \u041b\u0443\u043a\u0438").setSize(Math.PI/2).setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("\u043e\u0442 \u0418\u043e\u0430\u043d\u043d\u0430").setSize(Math.PI/2).setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("2 \u041f\u0435\u0442\u0440\u0430").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("1 \u041f\u0435\u0442\u0440\u0430").setSize(Math.PI/2).setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("\u0418\u0430\u043a\u043e\u0432\u0430").setOnClick(y).setTypeName(bt.SL_TF)).newLine().add(Qe.builder().setText("\u0414\u0435\u044f\u043d\u0438\u044f \u0430\u043f\u043e\u0441\u0442\u043e\u043b\u043e\u0432").setSize(Math.PI).setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("\u0418\u0443\u0434\u044b").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("3 \u0418\u043e\u0430\u043d\u043d\u0430").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("2 \u0418\u043e\u0430\u043d\u043d\u0430").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("1 \u0418\u043e\u0430\u043d\u043d\u0430").setOnClick(y).setTypeName(bt.SL_TF)).newLine().newLine().setRadialSize(2*Math.PI).setAlpha0(2*Math.PI-Math.PI/4).add(Qe.builder().setText("\u041f\u043e\u0441\u043b\u0430\u043d\u0438\u044f \u0430\u043f\u043e\u0441\u0442\u043e\u043b\u0430 \u041f\u0430\u0432\u043b\u0430").setSize(Math.PI/4*2).setForceOn(!0).setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("\u0440\u0438\u043c\u043b\u044f\u043d\u0430\u043c").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("1 \u043a\u043e\u0440\u0438\u043d\u0444\u044f\u043d\u0430\u043c").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("2 \u043a\u043e\u0440\u0438\u043d\u0444\u044f\u043d\u0430\u043c").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("\u0433\u0430\u043b\u0430\u0442\u0430\u043c").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("\u0435\u0444\u0435\u0441\u044f\u043d\u0430\u043c").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("\u0444\u0438\u043b\u0438\u043f\u0438\u0439\u0446\u0430\u043c").setOnClick(y).setTypeName(bt.SL_TF)).newLine().setAlpha0(Math.PI/4*5).add(Qe.builder().setText("\u043a\u043e\u043b\u043e\u0441\u0441\u044f\u043d\u0430\u043c").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("1 \u0444\u0435\u0441\u0441\u043e\u043b\u043e\u043d\u0438\u043a\u0438\u0439\u0446\u0430\u043c").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("2 \u0444\u0435\u0441\u0441\u043e\u043b\u043e\u043d\u0438\u043a\u0438\u0439\u0446\u0430\u043c").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("1 \u0422\u0438\u043c\u043e\u0444\u0435\u044e").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("2 \u0422\u0438\u043c\u043e\u0444\u0435\u044e").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("\u0422\u0438\u0442\u0443").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("\u0424\u0438\u043b\u0438\u043c\u043e\u043d\u0443").setOnClick(y).setTypeName(bt.SL_TF)).add(Qe.builder().setText("\u0435\u0432\u0440\u0435\u044f\u043c").setOnClick(y).setTypeName(bt.SL_TF)).newLine(),v}}var Yh=function(c){return c[c.Default=0]="Default",c[c.Dark=1]="Dark",c[c.Light=2]="Light",c[c.Dark2=3]="Dark2",c[c.Light2=4]="Light2",c}(Yh||{});class Z9{back;texts;currentOn=!1;on=!1;forceOn=!1;complementedByMenuName="";text="";typeName="";constructor(l,a=[]){this.back=l,this.texts=a}static builder(){return new Z9(null)}setTypeName(l){return this.typeName=l,this}isToggledOn(){return this.on&&!this.forceOn}setBack(l){return this.back=l,this}addText(l){return this.text+=l.text,this.texts.push(l),this}setTexts(l){return this.texts=l,this}setOn(l){return this.on=l,this}setForceOn(l){return this.forceOn=l,this}setComplementedByMenuName(l){return this.complementedByMenuName=l,this}isVisible(){return!!this.back?.visible}setVisible(l,a,h=null){this.back.emulateCollapseTransitions().setVisible(l),this.back.apply(0,a,null,h),this.texts.forEach(d=>{d.emulateCollapseTransitions().setVisible(l),d.apply(0,a)})}setAndSwitchState(l,a,h,d=null,f="",p=""){this.on=l||this.forceOn,(l||this.back.visible)&&(this.back.emulateCollapseTransitions().setFillColor(l?f||a.colorMain:p||"#00000000"),this.back.setStrokeColor(l?f||a.colorMain:p||a.colorMain),this.back.apply(0,h,null,d),this.texts.forEach(g=>{g.emulateCollapseTransitions().setColor(l?f||a.colorBackground:p||a.colorMain).apply(0,h)}))}}var Vr=function(c){return c.UP="UP",c.DOWN="DOWN",c.AROUND="AROUND",c.SKIP="SKIP",c}(Vr||{});class sP{menuName="";alternative=new Map;static builder(){return new sP}getAlternative(l){let a=this.alternative.get(l);return null==a&&(a=[],this.alternative.set(l,a)),a}isPrimaryType(l){return l==Vr.UP||l==Vr.DOWN||l==Vr.AROUND}get up(){return this.getAlternative(Vr.UP)}get down(){return this.getAlternative(Vr.DOWN)}get around(){return this.getAlternative(Vr.AROUND)}findType(l){let a="";return null!=l&&this.alternative.forEach((h,d)=>{h.indexOf(l)>=0&&(a=d)}),a||this.menuName}switchState(l,a,h,d=null){if(l&&l.on&&l.forceOn)return;let f=this.findType(l),p=m=>{m.complementedByMenuName&&this.hideOrShowStateByType(m.complementedByMenuName,m.on,null,a,h,[m.complementedByMenuName])};l&&(l.on=l.forceOn?l.forceOn:!l.on,this.getAlternative(f).forEach(m=>{let v=!0;m!=l&&(v=m.on,m.on=m.forceOn),v&&p(m)}),this.isPrimaryType(f)||l.on?this.hideOrShowStateByType(f,!1,l,a,h,[f]):this.hideOrShowStateByType(f,!1,null,a,h,[f])),this.alternative.forEach((m,v)=>{((m,v)=>{m.forEach(_=>{if(_!=l||null==l){let y=_.on;_.on=_.forceOn,y&&_.complementedByMenuName&&p(_)}})})(m)}),l&&(this.menuName=f),d&&d()}hideOrShowMainMenu(l,a,h,d=null){let f=this.findType(l);return f&&!this.isPrimaryType(f)&&(this.getAlternative(f).filter(v=>v.isToggledOn()).length>0||this.hideOrShowStateByType(f,!1,null,a,h,[f])),this.hideOrShowStateByType(f,!((!l||l.on)&&l),l,a,h,[Vr.UP,Vr.DOWN,Vr.AROUND],d)}hideOrShowStateByType(l,a,h,d,f,p=[],g=null){let m=!1,v=()=>m?null:(m=!0,g);p.forEach(y=>{((y,b)=>{let O=y.filter(C=>C.isToggledOn()).length>0;y.forEach(C=>{O||b||a?C.setVisible(!0,0,()=>{C.setAndSwitchState(C.on,d,f,C==h?v():null)}):C.setAndSwitchState(!1,d,f,C==h?v():()=>{C.setVisible(!1,0,v())},"#00000000","#00000000")})})(this.getAlternative(y),a&&l==y)}),!m&&g&&(m=!0,g())}addAlt(l,a){return this.getAlternative(l).push(a),this}addUp(l){return this.up.push(l),this}addDown(l){return this.down.push(l),this}addAround(l){return this.around.push(l),this}addText(l,a,h,d,f,p,g,m,v,_,y,b,O,C,S=null,w,x=!0){let T=j=>S??(j>=0&&j<=Math.PI),D=Z9.builder().setTypeName(d),k=f,P=_-v,N=(_+v)/2,F=!0,L=a.textSizeDirect("_"+h+"_",m,300),$=(f+p)/2+(g+m/2)*(T(N)?1:-1),U=Math.abs(P)*$,z=m;L.width>U&&(z=Math.ceil(U/L.width*z));let ee=l.width/512*15/$;ee*=P<0?-1:1;for(let j=0;j<=h.length;j++){k=f;let W=h.substring(j,j+1),K=(j+0)/(h.length-1)*(P-2*ee)+v+ee,J=T(K);F=J;let ie=Mi.builder().setText(W).setTextAnchor("middle").setFontSize(`${z}px`).translate(l.width/2,l.height/2).translate(k*Math.cos(K),-k*Math.sin(K)).rotate(90-K/Math.PI*180+(J?0:-180)).setColor("#00000000").addClass("cursor").setVisible(x).addEvent(sr.builder().setName("click").setFunc(()=>{w&&w(D)}));k=p+g*(J?1:-1),ie.addTransition(wE.builder().setData(ie.clone().setColor(l.colorMain).setTransforms([]).setVisible(x).translate(l.width/2,l.height/2).translate(k*Math.cos(K),-k*Math.sin(K)).rotate(90-K/Math.PI*180+(J?0:-180))).setDelay(y).setDuration(b)),l.texts.push(ie),D.addText(ie)}k=f;let te=k+(F?O:-O);return l.pathes.push((W=y,q=b,(j=Es.builder().setDatum([]).setD(ZV().innerRadius(Math.min(k,te)).outerRadius(Math.max(k,te)).startAngle(-Math.min(v,_)+Math.PI/2).endAngle(-Math.max(v,_)+Math.PI/2)).setStrokeWidth(l.lineWidth).setStrokeColor("#00000000").setFillColor("#00000000").setVisible(x).translate(l.width/2,l.height/2).addClass("cursor").addEvent(sr.builder().setName("click").setFunc(()=>{w&&w(D)}))).addTransition(wE.builder().setDelay(W).setDuration(q).setData(j.clone().setStrokeColor(l.colorMain).setVisible(x))),D.setBack(j),j)),D;var j,W,q}}class Qe{text;size;alpha0;typeName;complementedByTypeName;delayIndex;forceOn;onClick;constructor(l,a,h,d,f,p,g,m){this.text=l,this.size=a,this.alpha0=h,this.typeName=d,this.complementedByTypeName=f,this.delayIndex=p,this.forceOn=g,this.onClick=m}static builder(){return new Qe("",0,0,Vr.UP,"",0,!1,null)}setText(l){return this.text=l,this}setSize(l){return this.size=l,this}setAlpha0(l){return this.alpha0=l,this}setTypeName(l){return this.typeName=l,this}setComplementedByTypeName(l){return this.complementedByTypeName=l,this}setDelayIndex(l){return this.delayIndex=l,this}setForceOn(l){return this.forceOn=l,this}setOnClick(l){return this.onClick=l,this}}class Yde{menu;d3Config;d3Svc;r;dr;textDr;textHeight;alpha0;delta;items=[];lineIndex=0;currentR=0;radialSize=2*Math.PI;constructor(l,a,h,d,f,p,g,m,v){this.menu=l,this.d3Config=a,this.d3Svc=h,this.r=d,this.dr=f,this.textDr=p,this.textHeight=g,this.alpha0=m,this.delta=v,this.currentR=this.r}newLine(l=!0,a=!1,h=!0){return l&&this.addLine(h),this.items=[],a&&(this.currentR=this.r),this}setAlpha0(l){return this.alpha0=l,this}setRadialSize(l){return this.radialSize=l,this}add(l){return this.items.push(l),this}addLine(l=!0){let a=this.radialSize;a-=this.items.filter(p=>p.size>0).map(p=>p.size).reduce((p,g)=>p+g,0);let d=a/this.items.filter(p=>p.size<=0).length,f=this.alpha0;return this.items.forEach(p=>{let g=p.size>0?p.size:d,m=f,v=m-g,_=Math.PI/180,y=Math.PI+_>=m&&v>=-_,b=y?this.currentR:this.currentR+this.dr;if(!y&&m>v){let C=m;m=v,v=C}let O=p.typeName==Vr.UP||p.typeName==Vr.DOWN||p.typeName==Vr.AROUND;if(p.typeName!=Vr.SKIP){let C=this.menu.addText(this.d3Config,this.d3Svc,p.text,p.typeName,b,b,this.textDr,this.textHeight,m,v,(O?1:0)*(this.lineIndex+p.delayIndex)*this.delta,2*this.delta,this.dr,this.d3Config.lineWidth,y,p.onClick,O).setComplementedByMenuName(p.complementedByTypeName).setForceOn(p.forceOn);this.menu.addAlt(p.typeName,C)}f-=g}),l&&(this.currentR+=this.dr),++this.lineIndex,this}}class j9{onSelect;constructor(l=null){this.onSelect=l}static builder(){return new j9}}class G9 extends ti{menuState;genName="BibleMenu";crossEnabled=!0;menuWidthDivider=0;constructor(l,a,h,d){super(l,a,h),this.menuState=d}static builder(){return new G9("",null,null,j9.builder())}setGenName(l){return this.genName=l,this}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}enableCross(l){return this.crossEnabled=l,this}setOnSelect(l=null){return this.menuState.onSelect=l,this}setMenuWidthDivider(l){return this.menuWidthDivider=l,this}}class qde{theme;name;width;height;data;menuBuilder;constructor(l=Yh.Default,a="\u0411\u0438\u0431\u043b\u0438\u044f",h=512,d=512,f=null,p=W9.builder()){this.theme=l,this.name=a,this.width=h,this.height=d,this.data=f,this.menuBuilder=p}clear(){return this}regenerate(){return this}getWidth(){return this.width}getHeight(){return this.height}updateThemeConfig(l){switch(this.theme){case Yh.Dark:l.colorBackground="#0d233a",l.colorMain="white";break;case Yh.Light:l.colorBackground="#00364D",l.colorMain="white";break;case Yh.Dark2:l.colorBackground="white",l.colorMain="#0d233a";break;case Yh.Light2:l.colorBackground="white",l.colorMain="#00364D"}}getFontHeight(l){return Math.ceil(l.width/l.menuWidthDivider)}generate(l,a,h){a.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u0420\u0430\u0437\u043c\u0435\u0440\u044b=!0,a.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u041a\u0440\u0435\u0441\u0442=!!this.data?.crossEnabled,this.data?.menuWidthDivider&&a.setMenuWidthDevider(this.data.menuWidthDivider),this.updateThemeConfig(a),a.rects=[l.createBackground(a)];let f=this.name,p=this.getFontHeight(a),g=Math.ceil(p/10*3),m=l.textSizeDirect(f.substring(0,1),p,300),v=m.height;a.circles=[];let y=50-m?.height,b=y;a.\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c\u041a\u0440\u0435\u0441\u0442&&a.rects.push(...l.createCross(a,!1,a.width/2-y/2,a.height/2-b-m?.height/2,y,b));let S=()=>{x.switchState(null,a,w),x.hideOrShowMainMenu(null,a,w,null),this.data&&this.data.menuState&&this.data.menuState.onSelect&&this.data.menuState.onSelect(null)};a.texts.push(Mi.builder().setText(f).setTextAnchor("middle").setFontSize(`${p}px`).translate(a.width/2,a.height/2+m.height/4).rotate(0).setColor(a.colorMain).addClass("cursor").addEvent(sr.builder().setName("click").setFunc(S))),a.circles.push(Jg.builder().translate(a.width/2,a.height/2).setR(50).setFillColor("#00000000").setStrokeColor(a.colorMain).addClass("cursor").addEvent(sr.builder().setName("click").setFunc(S)));let w=400,x=this.menuBuilder.build(l,a,()=>this.data&&this.data.menuState&&this.data.menuState.onSelect?this.data.menuState.onSelect:null,50,v,g,p,w);var T=Mi.builder().setText(this.name).setTextAnchor("middle").setFontSize(`${p}px`).translate(a.width/2,50).rotate(0).setColor("none");return a.texts.push(T),a.onItemSelected=D=>{T.d3Object&&T.d3Object.interrupt().transition(100).attr("fill-opacity",0).style("fill",a.colorMain).transition().duration(2e3).attr("fill-opacity",1).text(D).transition().delay(1e3).transition().duration(1e3).attr("fill-opacity",0)},!0}}class Vqe extends al{constructor(l="\u041f\u0440\u0438\u043c\u0435\u0440 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430 \u0442\u0435\u043a\u0441\u0442\u0430.",a=512,h=512){super(l,a,h)}generate(l,a,h){a.rects.push(l.createBackground(a));let d=this.height/14,f=this.height/d;for(let p=0;p<d;p++)a.texts.push(Mi.builder().setText("\u041f\u0440\u0438\u043c\u0435\u0440 \u0442\u0435\u043a\u0441\u0442\u0430: "+p).setFontSize(`${f}px`).translate(0,f*(p+1-.2)).setColor("white"));return!0}}var mi=function(c){return c.JS_ES6="JS_ES6",c.JS_ES5="JS_ES5",c.CJS="C_JS",c.CYR="CYR",c}(mi||{});class X9{langConfig={};static builder(){return(new X9).enableLang(mi.JS_ES6).enableLang(mi.JS_ES5).enableLang(mi.CJS).enableLang(mi.CYR)}enableLang(l,a=!0){return this.langConfig[l]=a,this}build(l,a,h,d,f,p,g,m){let v=sP.builder(),_=new Yde(v,a,l,d,f,p,g,Math.PI,m),y=x=>{v.switchState(x,a,m,()=>{v.hideOrShowMainMenu(x,a,m,()=>{x.complementedByMenuName&&v.hideOrShowStateByType(x.complementedByMenuName,x.on,null,a,m,[x.complementedByMenuName]);let T=h();T&&T(x)})})},b=(x,T,D,k=Math.PI/2)=>{let P=Qe.builder().setSize(k).setOnClick(y).setText(T).setComplementedByTypeName(x).setTypeName(D);this.langConfig[x]||P.setTypeName(Vr.SKIP),_.add(P)};return _.add(Qe.builder().setText(" \u042f\u0437\u044b\u043a\u0438 ").setSize(Math.PI).setOnClick(y)).add(Qe.builder().setText(" Languages ").setSize(Math.PI).setOnClick(y).setTypeName(Vr.DOWN)).newLine().newLine(),this.langConfig[mi.CYR]!=this.langConfig[mi.CJS]&&b(mi.CYR,"\u041a\u0438\u0440\u0438\u043b\u043b\u0438\u0446\u0430",Vr.SKIP,Math.PI/4),(this.langConfig[mi.CYR]||!this.langConfig[mi.CJS])&&b(mi.CYR,"\u041a\u0438\u0440\u0438\u043b\u043b\u0438\u0446\u0430",Vr.UP),(this.langConfig[mi.CJS]||!this.langConfig[mi.CYR])&&b(mi.CJS,"\u0421\u0438-\u0414\u0436\u0430\u0432\u0430\u0441\u043a\u0440\u0438\u043f\u0442",Vr.UP),this.langConfig[mi.CYR]!=this.langConfig[mi.CJS]&&b(mi.CYR,"\u041a\u0438\u0440\u0438\u043b\u043b\u0438\u0446\u0430",Vr.SKIP,Math.PI/4),b(mi.JS_ES6,"Javascript ES6",Vr.DOWN),b(mi.JS_ES5,"Javascript ES5",Vr.DOWN),_.newLine(!0,!0),(x=>{this.langConfig[x]&&_.add(Qe.builder().setText(" \u0423\u0440\u043e\u043a\u0438 ").setForceOn(!0).setSize(Math.PI).setOnClick(y).setTypeName(x)).newLine().add(Qe.builder().setText(" 1 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 2 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 3 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 4 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).newLine().add(Qe.builder().setText(" 5 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 6 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 7 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 8 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x).setForceOn(!0)).newLine().newLine().add(Qe.builder().setText("\u041f\u0440\u0438\u043c\u0435\u0440\u044b").setForceOn(!0).setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText("\u041f\u0440\u0438\u0432\u0435\u0442").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText("\u0413\u0440\u0430\u0444\u0438\u043a\u0430").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText("\u0412\u0432\u043e\u0434").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText("\u041a\u0430\u0441\u0430\u043d\u0438\u044f").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText("\u041a\u0440\u0443\u0433").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).newLine(!0,!0)})(mi.JS_ES5),(x=>{this.langConfig[x]&&_.add(Qe.builder().setText(" \u0423\u0440\u043e\u043a\u0438 ").setForceOn(!0).setSize(Math.PI).setOnClick(y).setTypeName(x)).newLine().add(Qe.builder().setText(" 1 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 2 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 3 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 4 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).newLine().add(Qe.builder().setText(" 5 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 6 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 7 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 8 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 9 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 10 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).newLine().newLine().add(Qe.builder().setText("\u041f\u0440\u0438\u043c\u0435\u0440\u044b").setForceOn(!0).setSize(Math.PI/3).setOnClick(y).setTypeName(x)).add(Qe.builder().setText("\u0413\u0440\u0430\u0444\u0438\u043a\u0438").setSize(Math.PI/3).setOnClick(y).setTypeName(x)).add(Qe.builder().setText("\u041a\u0440\u0443\u0433").setSize(Math.PI/3).setOnClick(y).setTypeName(x)).newLine(!0,!0)})(mi.JS_ES6),(x=>{this.langConfig[x]&&_.setAlpha0(0).add(Qe.builder().setText(" \u0423\u0440\u043e\u043a\u0438 ").setForceOn(!0).setSize(Math.PI).setOnClick(y).setTypeName(x)).newLine().add(Qe.builder().setText(" 4 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 3 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 2 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 1 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).newLine().add(Qe.builder().setText(" 10 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 9 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 8 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 7 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 6 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 5 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).newLine().newLine().add(Qe.builder().setText("\u041f\u0430\u0440\u0441\u0435\u0440").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText("\u0422\u0435\u0441\u0442\u044b").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText("\u041f\u0440\u0438\u0432\u0435\u0442").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText("\u041f\u0440\u0438\u043c\u0435\u0440\u044b").setForceOn(!0).setSize(Math.PI/4).setOnClick(y).setTypeName(x)).newLine(!0,!0)})(mi.CYR),(x=>{this.langConfig[x]&&_.setAlpha0(0).add(Qe.builder().setText(" \u0423\u0440\u043e\u043a\u0438 ").setForceOn(!0).setSize(Math.PI).setOnClick(y).setTypeName(x)).newLine().add(Qe.builder().setText(" 4 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 3 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 2 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 1 ").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).newLine().add(Qe.builder().setText(" 10 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 9 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 8 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 7 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 6 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).add(Qe.builder().setText(" 5 ").setSize(Math.PI/6).setOnClick(y).setTypeName(x)).newLine().newLine().add(Qe.builder().setText("\u0413\u0440\u0430\u0444\u0438\u043a\u0438").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText("\u041a\u0440\u0443\u0433").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText("\u041a\u0432\u0430\u0434\u0440\u0430\u0442").setSize(Math.PI/4).setOnClick(y).setTypeName(x)).add(Qe.builder().setText("\u041f\u0440\u0438\u043c\u0435\u0440\u044b").setForceOn(!0).setSize(Math.PI/4).setOnClick(y).setTypeName(x)).newLine(!0,!0)})(mi.CJS),v}}const $qe=["mySvg"],zqe=function(c){return{"fade-in-3-strict":!0,"print-only":c}};function Uqe(c,l){if(1&c&&(Go(),se(0,"svg",10,11)),2&c){const a=Q();R("ngClass",xr(1,zqe,a.printOnly))}}const Ep=function(c){return{centeredImage:!0,"fade-in-3-strict":!0,"print-only":c}};function Qqe(c,l){if(1&c&&(Go(),se(0,"svg",12,11)),2&c){const a=Q();R("ngClass",xr(1,Ep,a.printOnly))}}function Hqe(c,l){if(1&c&&(Go(),se(0,"svg",12,11)),2&c){const a=Q();R("ngClass",xr(1,Ep,a.printOnly))}}function Wqe(c,l){if(1&c&&(Go(),se(0,"svg",13,11)),2&c){const a=Q();R("ngClass",xr(1,Ep,a.printOnly))}}const Zqe=function(c){return{centeredImage:!1,"fade-in-3-strict":!0,"print-only":c}};function jqe(c,l){if(1&c&&(Go(),se(0,"svg",14,11)),2&c){const a=Q();R("ngClass",xr(1,Zqe,a.printOnly))}}function Gqe(c,l){if(1&c&&(Go(),se(0,"svg",15,11)),2&c){const a=Q();R("ngClass",xr(1,Ep,a.printOnly))}}function Xqe(c,l){if(1&c&&(Go(),se(0,"svg",16,11)),2&c){const a=Q();R("ngClass",xr(1,Ep,a.printOnly))}}function Yqe(c,l){if(1&c&&(Go(),se(0,"svg",17,11)),2&c){const a=Q();R("ngClass",xr(1,Ep,a.printOnly))}}function qqe(c,l){if(1&c&&(Go(),se(0,"svg",18,11)),2&c){const a=Q();R("ngClass",xr(1,Ep,a.printOnly))}}function Kqe(c,l){if(1&c&&(Go(),se(0,"svg",19,11)),2&c){const a=Q();R("ngClass",xr(1,Ep,a.printOnly))}}function Jqe(c,l){if(1&c&&(Go(),se(0,"svg",20,11)),2&c){const a=Q();R("ngClass",xr(3,Ep,a.printOnly)),Je("width",10*a.data.svgWidth)("height",10*a.data.svgHeight)}}class na{generator;onCreate;onUpdate;onSend;constructor(l,a,h,d){this.generator=l,this.onCreate=a,this.onUpdate=h,this.onSend=d}create(){this.onCreate&&this.onCreate(this)}update(){return!!this.onUpdate&&this.onUpdate(this)}send(){this.onSend&&this.onSend(this)}}class ul{genName;logoText;scene;tag;svgWidth;svgHeight;type;generator;startPageIndex;horizontalPagesCount;verticalPagesCount;namesPerPageCount;showFooter;schedulerText;constructor(l="JsScheduler",a="\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435",h="/scenes/app.logo.scene.txt",d=null,f=210,p=297,g=0,m=null,v=0,_=1,y=1,b=10,O=!0,C=""){this.genName=l,this.logoText=a,this.scene=h,this.tag=d,this.svgWidth=f,this.svgHeight=p,this.type=g,this.generator=m,this.startPageIndex=v,this.horizontalPagesCount=_,this.verticalPagesCount=y,this.namesPerPageCount=b,this.showFooter=O,this.schedulerText=C}static builder(){return new ul}setGenName(l){return this.genName=l,this}setLogoText(l){return this.logoText=l,this}setScene(l){return this.scene=l,this}setTag(l){return this.tag=l,this}setSvgWidth(l){return this.svgWidth=l,this}setSvgHeight(l){return this.svgHeight=l,this}setType(l){return this.type=l,this}setGenerator(l){return this.generator=l,this}setStartPageIndex(l){return this.startPageIndex=l,this}setHorizontalPagesCount(l){return this.horizontalPagesCount=l,this}setVerticalPagesCount(l){return this.verticalPagesCount=l,this}setNamesPerPageCount(l){return this.namesPerPageCount=l,this}setShowFooter(l){return this.showFooter=l,this}setSchedulerText(l){return this.schedulerText=l,this}clone(){return ul.builder().setGenName(this.genName).setScene(this.scene).setTag(this.tag).setSvgWidth(this.svgWidth).setSvgHeight(this.svgHeight).setType(this.type).setGenerator(this.generator).setStartPageIndex(this.startPageIndex).setHorizontalPagesCount(this.horizontalPagesCount).setVerticalPagesCount(this.verticalPagesCount).setNamesPerPageCount(this.namesPerPageCount).setShowFooter(this.showFooter).setSchedulerText(this.schedulerText)}}let Ic=(()=>{class c{config;d3Svc;cacheService;themesService;name="\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435";mySvgRef;svgImage=null;generator=null;allReady=!1;svgData=ul.builder();get data(){return this.svgData}set data(a){this.svgData=a,this.config.post(()=>{this.recreate()})}updateSvgAction=new xde(a=>{this.changed()},100,(a,h)=>this.config.post(h,a));set type(a){switch(this.svgData.type!=a&&this.config.post(()=>{this.recreate()}),this.svgData.setType(a),a){default:case 0:this.svgData.setSvgWidth(512).setSvgHeight(512);break;case 210297:case 10:this.svgData.setSvgWidth(210).setSvgHeight(297);break;case 297210:this.svgData.setSvgWidth(297).setSvgHeight(210);case 1e6:}}get type(){return this.svgData.type}printOnly=!1;get scene(){return this.data.scene}set scene(a){this.data.scene=a,this.updateSvgAction.requestAction(void 0)}get logoText(){return this.data.logoText}set logoText(a){this.data.logoText=a,this.changed()}set genName(a){this.data.genName=a}get genName(){return this.data.genName}get tag(){return this.data.tag}set tag(a){this.data.tag=a,this.generator&&this.changed()}get iStartPageIndex(){return this.svgData?this.svgData.startPageIndex:0}set iStartPageIndex(a){this.svgData&&(this.svgData.startPageIndex=a)}get iHorizontalPagesCount(){return this.svgData?this.svgData.horizontalPagesCount:1}set iHorizontalPagesCount(a){this.svgData&&(this.svgData.horizontalPagesCount=a)}get iVerticalPagesCount(){return this.svgData?this.svgData.verticalPagesCount:1}set iVerticalPagesCount(a){this.svgData&&(this.svgData.verticalPagesCount=a)}get iNamesPerPageCount(){return this.svgData?this.svgData.namesPerPageCount:10}set iNamesPerPageCount(a){this.svgData&&(this.svgData.namesPerPageCount=a)}get startPageIndex(){return this.iStartPageIndex}set startPageIndex(a){this.iStartPageIndex=a,this.updateSvgAction.requestAction(void 0)}get horizontalPagesCount(){return this.iHorizontalPagesCount}set horizontalPagesCount(a){this.iHorizontalPagesCount=a,this.updateSvgAction.requestAction(void 0)}get verticalPagesCount(){return this.iVerticalPagesCount}set verticalPagesCount(a){this.iVerticalPagesCount=a,this.updateSvgAction.requestAction(void 0)}get namesPerPageCount(){return this.iNamesPerPageCount}set namesPerPageCount(a){this.iNamesPerPageCount=a,this.updateSvgAction.requestAction(void 0)}pagesCount=new Tt;svg=new Tt;onCommand=new Tt;onPreviewCommand=new Tt;get showFooter(){return!this.svgData||this.svgData.showFooter}set showFooter(a){this.svgData.showFooter=a}set svgWidth(a){let h=this.svgData.svgWidth;this.svgData.svgWidth=a,h!=a&&this.recreate()}get svgWidth(){return this.svgData.svgWidth}set svgHeight(a){let h=this.svgData.svgHeight;this.svgData.svgHeight=a,h!=a&&this.recreate()}get svgHeight(){return this.svgData.svgHeight}get sSchedulerText(){return this.svgData?this.svgData.schedulerText:""}set sSchedulerText(a){this.svgData&&(this.svgData.schedulerText=a)}get schedulerText(){return this.sSchedulerText}set schedulerText(a){this.sSchedulerText!=a&&(this.sSchedulerText=a,this.changed())}constructor(a,h,d,f){this.config=a,this.d3Svc=h,this.cacheService=d,this.themesService=f}ngOnInit(){}get version(){return this.config.environment.version}resetVars(){this.iStartPageIndex=0,this.iHorizontalPagesCount=1,this.iVerticalPagesCount=1}newGenerator(){let a=h=>new na(new Ode(h,this.svgWidth,this.svgHeight),()=>{let d=[];this.tag?d.push(...this.tag.commands.map(g=>({cmd:g,enabled:!0}))):this.config.environment.applications.forEach(p=>{d.push({cmd:Ba.builder().setName(p.name).setTag(p),enabled:p.applicationEnabled&&!p.applicationHidden})});let f=d.find(p=>p.cmd.tag?.id==this.config.defaultApplication);f||(f=d[0],f.cmd.tag&&f.cmd.tag.id&&(this.config.defaultApplication=f.cmd.tag.id)),(this.generator?.generator).setCommands(d.filter(p=>p.enabled).map(p=>p.cmd),f?f.cmd:null).setOnCommandHandler(p=>{this.sendCommand(p.tag)}).setOnPreviewCommandHandler(p=>{this.sendPreviewCommand(p.tag)})},d=>{if(this.tag){let p=d.generator.setCommands(this.tag.commands).isGenerated();return d.generator.regenerate(),p}return!1},()=>{});return"Logo"==this.genName?new na(new vb(this.themesService.nowIsDay()?cu.Light:cu.Dark,"",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"LogoLight"==this.genName?new na(new vb(cu.Light,"",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"LogoDark"==this.genName?new na(new vb(cu.Dark,"",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"LogoLight2"==this.genName?new na(new vb(cu.Light2,"",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"LogoDark2"==this.genName?new na(new vb(cu.Dark2,"",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"Default"==this.genName?new na(new al("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"TextEditor"==this.genName?new na(new Vqe("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"Texts"==this.genName?new na(new pde("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"Circles"==this.genName?new na(new gde("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"Ellipses"==this.genName?new na(new mde("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"Rects"==this.genName?new na(new vde("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"Graphics"==this.genName?new na(new _de("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"Animation"==this.genName?new na(new yde("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"UIInteraction"==this.genName?new na(new bde("",this.svgWidth,this.svgHeight),()=>{},()=>!1,()=>{}):"BibleMenu"==this.genName?new na(new qde(this.themesService.nowIsDay()?Yh.Light:Yh.Dark,"\u0411\u0438\u0431\u043b\u0438\u044f",this.svgWidth,this.svgHeight,this.tag),()=>{},()=>!1,()=>{}):"CodeExamplesMenu"==this.genName?new na(new qde(this.themesService.nowIsDay()?Yh.Light:Yh.Dark,"\u0417\u043d\u0430\u043d\u0438\u044f",this.svgWidth,this.svgHeight,this.tag,X9.builder().enableLang(mi.CYR,this.config.useCyrillicLang).enableLang(mi.JS_ES6,this.config.useJsLang).enableLang(mi.JS_ES5,this.config.useJsLang).enableLang(mi.CJS,this.config.useCJsLang)),()=>{},()=>!1,()=>{}):"Menu"==this.genName?a(this.themesService.nowIsDay()?Fa.Light:Fa.Dark):"MenuDay"==this.genName?a(Fa.Light):"MenuDay2"==this.genName?a(Fa.Light2):"MenuNight"==this.genName?a(Fa.Dark):"MenuNight2"==this.genName?a(Fa.Dark2):"this"==this.genName&&this.svgData.generator?new na(this.svgData.generator,()=>{},()=>!1,()=>{}):new na(new T9(this.svgWidth,this.svgHeight),h=>{h.generator.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435(this.schedulerText).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0435\u0448(this.cacheService,this.scene).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b(this.startPageIndex).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438(this.horizontalPagesCount).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438(this.verticalPagesCount).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0418\u043c\u0451\u043d\u041d\u0430\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0435(this.namesPerPageCount).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u043e\u043a\u0430\u0437\u041f\u043e\u0434\u0432\u0430\u043b\u0430(this.showFooter).\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0443\u0412\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b("\u0442\u0435\u043a\u0441\u0442\u041b\u043e\u0433\u043e\u0442\u0438\u043f\u0430",this.logoText)},h=>(h.generator.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435(this.schedulerText).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b(this.startPageIndex).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438(this.horizontalPagesCount).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u041f\u043e\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438(this.verticalPagesCount).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0418\u043c\u0451\u043d\u041d\u0430\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0435(this.namesPerPageCount).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u043e\u043a\u0430\u0437\u041f\u043e\u0434\u0432\u0430\u043b\u0430(this.showFooter).\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0443\u0412\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b("\u0442\u0435\u043a\u0441\u0442\u041b\u043e\u0433\u043e\u0442\u0438\u043f\u0430",this.logoText),!1),h=>{this.pagesCount.emit(h.generator.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0421\u0442\u0440\u0430\u043d\u0438\u0446())})}ngAfterViewInit(){this.allReady=!0,this.recreate()}recreate(){this.allReady&&this.mySvgRef&&(this.generator=this.newGenerator(),this.generator.create(),this.svgImage=new A1(this.generator.generator.getWidth(),this.generator.generator.getHeight(),this.d3Svc,this.mySvgRef,this.generator.generator),this.svgImage.updateSvg(()=>{this.generator.update(),this.saveSvg(),this.generator?.send()}))}changed(){this.generator&&(this.generator.update()||this.svgImage.clear().updateSvg(()=>{this.generator?.send(),this.saveSvg()}))}saveSvg(){var a=this.mySvgRef.nativeElement,d=(new XMLSerializer).serializeToString(a);d.match(/^<svg[^>]+xmlns="http\:\/\/www\.w3\.org\/2000\/svg"/)||(d=d.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')),d.match(/^<svg[^>]+"http\:\/\/www\.w3\.org\/1999\/xlink"/)||(d=d.replace(/^<svg/,'<svg xmlns:xlink="http://www.w3.org/1999/xlink"')),this.svg.emit(d='<?xml version="1.0" standalone="no"?>\r\n'+d)}sendCommand(a){this.onCommand.emit(a)}sendPreviewCommand(a){this.onPreviewCommand.emit(a)}static \u0275fac=function(h){return new(h||c)(V(Zt),V(mb),V(Jl),V(Ys))};static \u0275cmp=qe({type:c,selectors:[["app-svg-js-image"]],viewQuery:function(h,d){if(1&h&&si($qe,5),2&h){let f;Ht(f=Wt())&&(d.mySvgRef=f.first)}},inputs:{data:"data",type:"type",printOnly:"printOnly",scene:"scene",logoText:"logoText",genName:"genName",tag:"tag",startPageIndex:"startPageIndex",horizontalPagesCount:"horizontalPagesCount",verticalPagesCount:"verticalPagesCount",namesPerPageCount:"namesPerPageCount",showFooter:"showFooter",svgWidth:"svgWidth",svgHeight:"svgHeight",schedulerText:"schedulerText"},outputs:{pagesCount:"pagesCount",svg:"svg",onCommand:"onCommand",onPreviewCommand:"onPreviewCommand"},decls:11,vars:11,consts:[["width","100%","height","100%",3,"ngClass",4,"ngIf"],["width","2100","height","2970",3,"ngClass",4,"ngIf"],["width","2970","height","2000",3,"ngClass",4,"ngIf"],["width","114","height","114",3,"ngClass",4,"ngIf"],["width","5120","height","5120",3,"ngClass",4,"ngIf"],["width","5000","height","2000",3,"ngClass",4,"ngIf"],["width","4000","height","2000",3,"ngClass",4,"ngIf"],["width","3000","height","2000",3,"ngClass",4,"ngIf"],["width","5120","height","1280",3,"ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["width","100%","height","100%",3,"ngClass"],["mySvg",""],["width","2100","height","2970",3,"ngClass"],["width","2970","height","2000",3,"ngClass"],["width","114","height","114",3,"ngClass"],["width","5120","height","5120",3,"ngClass"],["width","5000","height","2000",3,"ngClass"],["width","4000","height","2000",3,"ngClass"],["width","3000","height","2000",3,"ngClass"],["width","5120","height","1280",3,"ngClass"],[3,"ngClass"]],template:function(h,d){1&h&&(X(0,Uqe,2,3,"svg",0),X(1,Qqe,2,3,"svg",1),X(2,Hqe,2,3,"svg",1),X(3,Wqe,2,3,"svg",2),X(4,jqe,2,3,"svg",3),X(5,Gqe,2,3,"svg",4),X(6,Xqe,2,3,"svg",5),X(7,Yqe,2,3,"svg",6),X(8,qqe,2,3,"svg",7),X(9,Kqe,2,3,"svg",8),X(10,Jqe,2,5,"svg",9)),2&h&&(R("ngIf",0==d.type||10==d.type),I(1),R("ngIf",1==d.type),I(1),R("ngIf",210297==d.type),I(1),R("ngIf",297210==d.type),I(1),R("ngIf",114==d.type),I(1),R("ngIf",512==d.type),I(1),R("ngIf",500200==d.type),I(1),R("ngIf",400200==d.type),I(1),R("ngIf",300200==d.type),I(1),R("ngIf",512128==d.type),I(1),R("ngIf",1e6==d.type))},dependencies:[ei,mn],styles:[".centeredImage[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto}"]})}return c})();const eKe=["mySvg"];let Kde=(()=>{class c{d3Svc;config;mySvgRef;svgImage=null;inited=!1;igen=null;cfgD3Config=null;get d3Config(){return this.cfgD3Config}set d3Config(a){this.cfgD3Config=a,this.svgImage&&this.setup(!0)}set generator(a){this.igen=a}get generator(){return this.igen}iWidth=512;get width(){return this.svgImage&&this.iWidth!=this.svgImage.logoWidth&&this.updateSize(),this.iWidth}iHeight=512;get height(){return this.svgImage&&this.iHeight!=this.svgImage.logoHeight&&this.updateSize(),this.iHeight}updateSize(){this.config.post(()=>{this.svgImage&&(this.iWidth=this.svgImage.logoWidth,this.iHeight=this.svgImage.logoHeight)})}constructor(a,h){this.d3Svc=a,this.config=h}setup(a=!1){this.inited&&!a||(this.generator&&(this.svgImage=new A1(this.generator.getWidth(),this.generator.getHeight(),this.d3Svc,this.mySvgRef,this.generator,null,this.d3Config),this.svgImage.updateSvg()),this.inited=!0)}ngOnInit(){}ngAfterViewInit(){this.setup()}static \u0275fac=function(h){return new(h||c)(V(mb),V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-d3-svg"]],viewQuery:function(h,d){if(1&h&&si(eKe,5),2&h){let f;Ht(f=Wt())&&(d.mySvgRef=f.first)}},inputs:{d3Config:"d3Config",generator:"generator"},decls:2,vars:2,consts:[[1,"centeredImage","fade-in-3"],["mySvg",""]],template:function(h,d){1&h&&(Go(),se(0,"svg",0,1)),2&h&&Je("width",d.width)("height",d.height)},styles:[".centeredImage[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto}"]})}return c})();const tKe=["myCanvas"],nKe=["mySvgMulti"];function iKe(c,l){if(1&c&&se(0,"app-d3-svg",7),2&c){const a=l.$implicit;R("generator",a.generator)("d3Config",a.d3Config)}}function rKe(c,l){if(1&c){const a=Ae();E(0,"div",8)(1,"app-svg-js-image",9),Y("svg",function(d){const p=ce(a).$implicit;return ue(Q().onSaveSvg(p.genName,d))}),M()()}if(2&c){const a=l.$implicit;I(1),R("svgWidth",a.width)("svgHeight",a.height)("scene",a.scene)("genName",a.genName)}}class pu{width;height;scene;genName;constructor(l,a,h,d){this.width=l,this.height=a,this.scene=h,this.genName=d}}class Y9{generator;d3Config;constructor(l,a){this.generator=l,this.d3Config=a}static builder(){return new Y9(null,null)}setGenerator(l){return this.generator=l,this}setD3Config(l){return this.d3Config=l,this}}let sKe=(()=>{class c{config;uiConfig;d3Svc;themeSvc;cacheService;ks;myCanvasRef;mySvgMultiRef;generators=[];svgImage2=[];svgJsImages=[new pu(512,512,"/scenes/cross.scene.txt","Logo"),new pu(512,512,"/scenes/cross.scene.txt","LogoLight"),new pu(512,512,"/scenes/cross.scene.txt","LogoLight2"),new pu(512,512,"/scenes/cross.scene.txt","LogoDark"),new pu(512,512,"/scenes/cross.scene.txt","LogoDark2"),new pu(512,512,"/scenes/cross.scene.txt","Default"),new pu(512,512,"/scenes/cross.scene.txt","Texts"),new pu(512,512,"/scenes/cross.scene.txt","Circles"),new pu(512,512,"/scenes/cross.scene.txt","Ellipses"),new pu(512,512,"/scenes/cross.scene.txt","Rects"),new pu(512,512,"/scenes/cross.scene.txt","Graphics"),new pu(512,512,"/scenes/cross.scene.txt","Animation"),new pu(512,512,"/scenes/cross.scene.txt","UIInteraction")];svgSaved=new Map;constructor(a,h,d,f,p,g){this.config=a,this.uiConfig=h,this.d3Svc=d,this.themeSvc=f,this.cacheService=p,this.ks=g}ngOnInit(){this.uiConfig.setAppRoutes(null)}addGenerator(a,h=null){return this.generators.push(Y9.builder().setGenerator(a).setD3Config(h)),(a instanceof Cde||a instanceof T9)&&a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u0435\u0448(this.cacheService),this}ngAfterViewInit(){let f=this.themeSvc.nowIsDay()?"black":"white";this.addGenerator(new YE,P1.builder().setColorBackground("").setColorMain(f).setColorText(f).setColorLines(f).setLineWidth(1).addParam("\u0442\u0435\u043a\u0441\u0442","integral(x*sin(x),x);.")),this.addGenerator(new al),this.addGenerator(new pde),this.addGenerator(new gde),this.addGenerator(new mde),this.addGenerator(new vde),this.addGenerator(new _de),this.addGenerator(new yde),this.addGenerator(new bde),this.addGenerator(new vb);let p=this.generators[this.generators.length-1];p&&p.generator&&this.svgImage2.push(new A1(p.generator.getWidth(),p.generator.getHeight(),this.d3Svc,this.mySvgMultiRef,p.generator)),this.addGenerator((()=>(new I1).setTheme(this.themeSvc.nowIsDay()?Vs.Light3:Vs.Dark3))()),this.addGenerator((()=>{let g=new f9,m=[Va.builder().setName("\u0414\u0435\u043a\u0430\u0431\u0440\u044c").setIndex(0).setIWidth(7)];["\u041f","\u0412","\u0421","\u0427","\u041f","\u0421","\u0412"].forEach((y,b)=>{m.push(Va.builder().setName(y).setIndex(b+7).setIWidth(1))});for(let y=0;y<31;y++){let b=""+(y+1);m.push(Va.builder().setName(b).setIndex(y+16).setIWidth(1))}return g.setTheme(this.themeSvc.nowIsDay()?Ca.Light3:Ca.Dark3).setCommands(m).setOnCommandHandler(y=>{let b=["black","#d94a4a","#DFF0D0","#4aaed9"],O=y.tag;O||(O=b[0]);let C=b.indexOf(O);C=(C+1)%b.length,O=b[C],y.tag=O,y.rect.d3Object.transition().duration(1e3).style("fill",O),y.text.d3Object.transition().duration(1e3).style("fill","black"==O?"white":"black").style("stroke","black"==O?"white":"black").style("stroke-width",0)})})()),this.addGenerator(new Cde),this.addGenerator((new T9).\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0443\u0412\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b("\u0442\u0435\u043a\u0441\u0442\u041b\u043e\u0433\u043e\u0442\u0438\u043f\u0430","\u043f\u043e\u043b\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435")),this.addGenerator((()=>(new Ode).setTheme(this.themeSvc.nowIsDay()?Fa.Light2:Fa.Dark2).setCommands(this.generators.map((g,m)=>Ba.builder().setName(g.generator.name).setTag(m))).setOnCommandHandler(g=>{let m=this.generators[g.tag];m&&m.generator&&this.svgImage2[0].setGenerator(m.generator).clear().updateSvg()}).setAutoClickOnChange(!0))()),this.svgImage2.forEach(g=>{g.updateSvg()})}downloadAllImages(){this.onSaveSvgDirect()}onSaveSvg(a,h){this.svgSaved.set(a,h)}onSaveSvgDirect(a=1){const h=new nm;this.svgSaved.forEach((m,v)=>{h.file("page"+v+".svg",m)});let d='<html>\n<head>\n    <style type="text/css">\n    .centeredImage {\n      max-width: 100%;\n      max-height: 100%;\n      width: auto;\n      height: auto;\n    }\n</style>\n</head>\n<body>';this.svgSaved.forEach((m,v,_)=>{d+=`<div><img src="page${v}.svg" width="630" height="891" alt="page${v}" class="centeredImage"></div>`}),d+="</body></html>",h.file("pages.html",d);let f=new Date,p=(m,v)=>{let _=""+m;for(;_.length<v;)_="0"+_;return _},g=f.getFullYear()+"_"+p(f.getMonth()+1,2)+"_"+p(f.getDate(),2);h.generateAsync({type:"blob"}).then(m=>{const v=new Blob([m],{type:"octet/stream"}),_=`\u043b\u043e\u0433\u043e\u0442\u0438\u043f\u044b.${g}.zip`;this.config.isPlatformAndroid()?this.ks.addTempFile(_,v).then(y=>{ho.startDownload(y.fileName,_)}):ho.saveData(v,_)})}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(mb),V(Ys),V(Jl),V(Xh))};static \u0275cmp=qe({type:c,selectors:[["app-d3-examples"]],viewQuery:function(h,d){if(1&h&&(si(tKe,5),si(nKe,5)),2&h){let f;Ht(f=Wt())&&(d.myCanvasRef=f.first),Ht(f=Wt())&&(d.mySvgMultiRef=f.first)}},decls:11,vars:2,consts:[["id","load-font"],[3,"generator","d3Config",4,"ngFor","ngForOf"],["class","h512",4,"ngFor","ngForOf"],["width","512","height","512",1,"centeredImage","fade-in-3"],["mySvgMulti",""],[1,"no-print"],[1,"btn","btn-success","btn-block","ucs","center","top-space",3,"click"],[3,"generator","d3Config"],[1,"h512"],[3,"svgWidth","svgHeight","scene","genName","svg"]],template:function(h,d){1&h&&(E(0,"div")(1,"div",0),H(2,"\u0411\u043b\u0483\u0436\u0435\u0301\u043d\u044a \u043c\ua64b\u0301\u0436\u044a"),M(),X(3,iKe,1,2,"app-d3-svg",1),X(4,rKe,2,4,"div",2),Go(),se(5,"svg",3,4),SS(),E(7,"div")(8,"div",5)(9,"button",6),Y("click",function(){return d.downloadAllImages()}),H(10,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),M()()()()),2&h&&(I(3),R("ngForOf",d.generators),I(1),R("ngForOf",d.svgJsImages))},dependencies:[Gn,Ic,Kde],styles:[".h512[_ngcontent-%COMP%]{height:512px;width:512px}.divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}.centeredImage[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}.rxanimated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rxakf 3s linear infinite;stroke:#00f;fill:green;rx:1!important;width:50px!important}@keyframes _ngcontent-%COMP%_rxakf{0%{rx:100;ry:1}50%{rx:400;ry:4}to{rx:100;ry:1}}.ani[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveCircle 4s linear infinite}@keyframes _ngcontent-%COMP%_moveCircle{0%{rx:1}50%{rx:4}to{rx:1}}"]})}return c})();class oKe{zipService;cacheService;constructor(l,a){this.zipService=l,this.cacheService=a}}class Pp{action;name;from=null;upto=null;onStop=null;config=null;constructor(l,a){this.action=l,this.name=a}static of(l,a){return new Pp(l,a)}start(l,a=null){this.config=a,this.onStop=l,this.from=new Date}stop(){this.upto=new Date}getTime(){return this.upto.getTime()-this.from.getTime()}str(l,a){for(;l.length<a;)l="0"+l;return l}getTimeString(){let l=this.upto.getTime()-this.from.getTime(),a=Math.floor(l/1e3),h=Math.floor(a/60),d=Math.floor(h/60);return l-=1e3*a,a-=60*h,h-=60*d,this.str(""+d,2)+":"+this.str(""+h,2)+":"+this.str(""+a,2)+"."+this.str(""+l,3)+" \u043e\u0442 "+this.from.toISOString()}toString(){return this.getTimeString()}stopAndGetResult(l){return this.stop(),oP.of(this.name,l,this.getTimeString())}sendAndGetResult(l){return this.onStop(l,this)}delay(l,a){return setTimeout(()=>{l&&l()},a),oP.of("","","")}}class oP{name;error;info;constructor(l,a,h){this.name=l,this.error=a,this.info=h}static of(l,a,h){return new oP(l,a,h)}}var hl=function(c){return c[c.UnOp=0]="UnOp",c[c.BinOp=1]="BinOp",c}(hl||{});class Jde{type;constructor(l){this.type=l}getType(){return this.type}}class am extends Jde{op;exp;constructor(l,a){super(hl.UnOp),this.op=l,this.exp=a}static builder(){return new am("",null)}setExp(l){return this.exp=l,this}setOp(l){return this.op=l,this}done(){return this}clone(){return am.builder().setExp(this.exp?"object"==typeof this.exp?Array.isArray(this.exp)?this.exp.map(l=>l.clone()):this.exp.clone():this.exp:null).setOp(this.op)}}class Sb extends Jde{left;op;right;constructor(l,a,h){super(hl.BinOp),this.left=l,this.op=a,this.right=h}static builder(){return new Sb(null,"",null)}static wrap(l){if(Array.isArray(l))return am.builder().setOp("\u043c\u0430\u0441\u0441\u0438\u0432").setExp(l);switch(typeof l){case"string":return am.builder().setOp("\u0441\u0442\u0440\u043e\u043a\u0430").setExp(l);case"number":return am.builder().setOp("\u0447\u0438\u0441\u043b\u043e").setExp(l);default:return l}}setLeft(l){return this.left=Sb.wrap(l),this}setRight(l){return this.right=Sb.wrap(l),this}setOp(l){return this.op=l,this}clone(){return Sb.builder().setOp(this.op).setLeft(this.left?"object"==typeof this.left?this.left.clone():this.left:null).setRight(null==this.right?null:Array.isArray(this.right)?this.right.map(l=>l.clone()):this.right.clone())}done(){return this}}class efe{\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(l){for(var a={BinOpBuilder:()=>Sb.builder(),UnOpBuilder:()=>am.builder()},h=null;null==h;)try{return universalParserStatic.parse(l,{builder:a})}catch(d){h=d}throw h}}var aP=function(c){return c[c.Instruction=0]="Instruction",c[c.Array=1]="Array",c}(aP||{});class tfe{type;constructor(l){this.type=l}}class q9 extends tfe{instruction;index;tag;constructor(l,a,h){super(aP.Instruction),this.instruction=l,this.index=a,this.tag=h}static builder(){return new q9(am.builder(),0,null)}setInstruction(l){return this.instruction=l,this}setIndex(l){return this.index=l,this}}class K9 extends tfe{array;index;constructor(l,a){super(aP.Array),this.array=l,this.index=a}static builder(){return new K9([],0)}setArray(l){return this.array=l,this}setIndex(l){return this.index=l,this}}class dl{steps=[];catchStepIndex=-1;setCatchStepIndex(l){return this.catchStepIndex=l,this}pushStep(l){return this.steps.push(l),this}run(l,a){return a.index>=this.steps.length?l.popCommandStack():((0,this.steps[a.index])(l,a),this)}}class wb extends dl{op;constructor(l){super(),this.op=l,this.pushStep((a,h)=>{var d=h.instruction;d.right?a.pushCommandStack(d.right):h.index=99,++h.index}),this.pushStep((a,h)=>{var d=h.instruction;if(d.left&&d.left.type==hl.UnOp){var f=d.left,p=this.op(a.getVariable(f.exp),a.lastResult);a.setVariable(f.exp,p),a.setLastResult(p)}++h.index})}}class nfe extends dl{constructor(){super(),this.pushStep((l,a)=>{l.setLastResult(a.instruction.exp),++a.index})}}class ife extends dl{constructor(){super(),this.pushStep((l,a)=>{var h=a.instruction;if(h.exp&&h.type==hl.UnOp){var d=h.exp;"string"==typeof d&&l.setLastResult(d)}++a.index})}}class rfe extends dl{constructor(){super(),this.pushStep((l,a)=>{var h=a.instruction;if(h.exp&&h.type==hl.UnOp){var d=h.exp;Array.isArray(d)&&l.setLastResult([...d])}++a.index})}}class aKe extends dl{constructor(){super(),this.pushStep((l,a)=>{var h=a.instruction;if(h.exp&&h.type==hl.UnOp){var d=h.exp;"string"==typeof d&&l.setLastResult(l.getVariable(d))}++a.index})}}class lKe extends dl{constructor(){super(),this.pushStep((l,a)=>{var h=a.instruction;h.exp&&h.type==hl.UnOp&&l.pushCommandStack(h.exp),++a.index}),this.pushStep((l,a)=>{l.runReturn(),++a.index})}}class cKe extends dl{constructor(){super(),this.pushStep((l,a)=>{var h=a.instruction;h.exp&&h.type==hl.UnOp&&l.pushCommandStack(h.exp),++a.index}),this.pushStep((l,a)=>{++a.index})}}class uKe extends dl{constructor(){super(),this.pushStep((l,a)=>{var h=a.instruction;h.exp&&h.type==hl.UnOp&&l.pushCommandStack(h.exp),++a.index}),this.pushStep((l,a)=>{l.runThrow(l.lastResult),++a.index})}}class hKe extends dl{constructor(){super(),this.pushStep((l,a)=>{var h=a.instruction;l.enableCatchHandlingForFrame(this.catchStepIndex),l.pushCommandStack(h.left),++a.index}),this.pushStep((l,a)=>{a.index=this.steps.length}),this.setCatchStepIndex(this.steps.length),this.pushStep((l,a)=>{a.tag={ex:l.lastResult},l.pushCommandStack(a.instruction.right),++a.index}),this.pushStep((l,a)=>{var h=l.lastResult,[d,f]=h,p={};p[d]=a.tag.ex,l.pushVariablesScope(p),l.disableCatchHandlingForFrame(),l.pushCommandStack(f),++a.index})}}class dKe extends dl{constructor(){super(),this.pushStep((l,a)=>{a.tag={i:0,clazz:{},name:""},++a.index}),this.pushStep((l,a)=>{var h=a.instruction;if(Array.isArray(h.exp)){var d=h.exp;if(a.tag.i<d.length){var f=d[a.tag.i];f.type===hl.BinOp&&(f.left?l.pushCommandStack(f.left):(a.tag.name="",l.pushCommandStack(f),++a.index))}}++a.index}),this.pushStep((l,a)=>{var h=a.instruction;if(a.tag.name=l.lastResult,Array.isArray(h.exp)){var f=h.exp;a.tag.i<f.length&&l.pushCommandStack(f[a.tag.i])}++a.index}),this.pushStep((l,a)=>{var h=a.instruction;if(Array.isArray(h.exp)){var d=h.exp;if(a.tag.i>=d.length)l.setLastResult(a.tag.clazz),++a.index;else{var f=l.lastResult;d[a.tag.i++].type===hl.BinOp&&(a.tag.clazz[a.tag.name]=f.right),a.index-=2}}})}}class lm extends dl{op;opThis;constructor(l,a=null){super(),this.op=l,this.opThis=a,this.pushStep((h,d)=>{var f=d.instruction;f.left&&h.pushCommandStack(f.left),++d.index}),this.pushStep((h,d)=>{var f=d.instruction;h.pushVariablesScope({left:h.lastResult}),f.right&&h.pushCommandStack(f.right),++d.index}),this.pushStep((h,d)=>{var p=h.lastResult,g=h.scope.scope.left;h.popVariablesScope(),h.setLastResult(this.op(g,p),this.opThis?this.opThis(g,p):null),++d.index})}}class fKe extends dl{op;constructor(l){super(),this.op=l,this.pushStep((a,h)=>{var d=h.instruction;d.exp&&"object"==typeof d.exp&&a.pushCommandStack(d.exp),++h.index}),this.pushStep((a,h)=>{var f=this.op(a.lastResult);a.setLastResult(f);var p=h.instruction;if(p.exp&&p.type==hl.UnOp){var g=p.exp;"id"==g.op&&a.setVariable(g.exp,f)}++h.index})}}class pKe extends dl{op;constructor(l){super(),this.op=l,this.pushStep((a,h)=>{var d=h.instruction;d.exp&&"object"==typeof d.exp&&a.pushCommandStack(d.exp),++h.index}),this.pushStep((a,h)=>{var d=a.lastResult,f=this.op(d);a.setLastResult(d);var p=h.instruction;if(p.exp&&p.type==hl.UnOp){var g=p.exp;"id"===g.op&&a.setVariable(g.exp,f)}++h.index})}}class gKe extends dl{constructor(){super(),this.pushStep((l,a)=>{var h=a.instruction;h.left&&l.pushCommandStack(h.left),++a.index}),this.pushStep((l,a)=>{var h=l.lastResult,d=h;l.setLastResult(h);var f=a.instruction;if(f.exp&&f.type==hl.UnOp){var p=f.exp;"id"==p.op&&l.setVariable(p.exp,d)}++a.index})}}class mKe extends dl{constructor(){super(),this.pushStep((l,a)=>{var h=a.instruction;h.exp&&Array.isArray(h.exp)&&l.pushCommandStack(h.exp),++a.index})}}class vKe extends dl{constructor(){super(),this.pushStep((l,a)=>{var h=a.instruction;h.left&&l.pushCommandStack(h.left),++a.index}),this.pushStep((l,a)=>{var h=l.lastResult,d=l.lastThisResult;if(Array.isArray(h)){var f=h[1];f&&"{;}"===f.op&&(a.tag={cmds:f.exp,i:0},l.pushVariablesScope(d||{},!0)),++a.index}else l.setLastResult(h),a.index=this.steps.length}),this.pushStep((l,a)=>{var{cmds:h,i:d}=a.tag;d<h.length?(l.pushCommandStack(h[d],-1,!0),++a.index):a.index=this.steps.length}),this.pushStep((l,a)=>{var h=a.tag.cmds;++a.tag.i<h.length?--a.index:a.index=this.steps.length})}}class J9{scope;closed;constructor(l,a){this.scope=l,this.closed=a}static builder(){return new J9({},!1)}setScope(l){return this.scope=l,this}setClosed(l){return this.closed=l,this}}class e${step;scopeSize;exHandlingIndex;startFunction;constructor(l,a,h=-1,d=!1){this.step=l,this.scopeSize=a,this.exHandlingIndex=h,this.startFunction=d}get enabledExHandling(){return this.exHandlingIndex>=0}static builder(){return new e$(null,0)}setStep(l){return this.step=l,this}setScopeSize(l){return this.scopeSize=l,this}setEnabledExHandlingIndex(l){return this.exHandlingIndex=l,this}startExceptionHandling(){this.step&&this.enabledExHandling&&this.step.setIndex(this.exHandlingIndex)}setStartFunction(l){return this.startFunction=l,this}}class _Ke{variableScopes=[];commandStack=[];lastResult=null;lastThisResult=null;operations=new Map;get scope(){return this.variableScopes[this.variableScopes.length-1]}getVariable(l){for(let d=this.variableScopes.length-1;d>=0;--d){var a=this.variableScopes[d],h=a.scope[l];if(void 0!==h)return h;if(a.closed)return}}setVariable(l,a){for(let f=this.variableScopes.length-1;f>=0;--f){var h=this.variableScopes[f],d=h.scope[l];if(void 0!==d)return h.scope[l]=a,d;if(h.closed)break}return this.variableScopes[this.variableScopes.length-1].scope[l]=a,this}runReturn(){for(;this.commandStack.length;){var l=this.commandStack[this.commandStack.length-1];if(l.startFunction){this.commandStack.pop(),this.commandStack.length>0?(l=this.commandStack[this.commandStack.length-1],l.step?.setIndex(256),this.unwindVars(l.scopeSize)):this.unwindVars(0);break}this.commandStack.pop()}return this}constructor(){this.operations.set("=",new wb((l,a)=>a)),this.operations.set("+=",new wb((l,a)=>l+a)),this.operations.set("-=",new wb((l,a)=>l-a)),this.operations.set("*=",new wb((l,a)=>l*a)),this.operations.set("/=",new wb((l,a)=>l/a)),this.operations.set("%=",new wb((l,a)=>l%a)),this.operations.set("number",new nfe),this.operations.set("\u0447\u0438\u0441\u043b\u043e",new nfe),this.operations.set("string",new ife),this.operations.set("\u0441\u0442\u0440\u043e\u043a\u0430",new ife),this.operations.set("array",new rfe),this.operations.set("\u043c\u0430\u0441\u0441\u0438\u0432",new rfe),this.operations.set("id",new aKe),this.operations.set("\u0432\u0435\u0440\u043d\u0443\u0442\u044c",new lKe),this.operations.set("\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c",new hKe),this.operations.set("\u0431\u0440\u043e\u0441\u0438\u0442\u044c",new uKe),this.operations.set("\u043a\u043b\u0430\u0441\u0441",new dKe),this.operations.set("\u0444\u0443\u043d\u043a\u0446\u0438\u044f",new gKe),this.operations.set("+",new lm((l,a)=>l+a)),this.operations.set("-",new lm((l,a)=>l-a)),this.operations.set("*",new lm((l,a)=>l*a)),this.operations.set("/",new lm((l,a)=>l/a)),this.operations.set("%",new lm((l,a)=>l%a)),this.operations.set("++i",new fKe(l=>++l)),this.operations.set("i++",new pKe(l=>++l)),this.operations.set("(.)",new vKe),this.operations.set("(,)",new cKe),this.operations.set("{;}",new mKe),this.operations.set("\u043f\u043e\u043b\u0435",new lm((l,a)=>({left:l,right:a}))),this.operations.set("\u043c\u0435\u0442\u043e\u0434",new lm((l,a)=>({left:l,right:a}))),this.operations.set(".",new lm((l,a)=>l[a],(l,a)=>l))}setLastResult(l,a=null){return this.lastResult=l,this.lastThisResult=a,this}run(l){var h=(new efe).\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(l);return this.pushVariablesScope({}).pushCommandStack(h,-1,!0).runAllSteps()}pushVariablesScope(l,a=!1){return this.variableScopes.push(J9.builder().setScope(l).setClosed(a)),this}popVariablesScope(){return this.variableScopes.pop(),this}pushCommandStack(l,a=-1,h=!1){return this.commandStack.push(e$.builder().setStep(Array.isArray(l)?K9.builder().setArray(l):q9.builder().setInstruction(l)).setScopeSize(this.variableScopes.length).setEnabledExHandlingIndex(a).setStartFunction(h)),this}popCommandStack(){return this.commandStack.pop(),this}runOneStep(){return this.commandStack.length>0&&this.step(),this.lastResult}runAllSteps(){for(;this.commandStack.length>0;)this.step();return this.lastResult}step(){if(0!=this.commandStack.length){var l=this.commandStack[this.commandStack.length-1].step;l.type==aP.Instruction?this.stepInstruction(l):this.stepArray(l)}}stepInstruction(l){var a,h=this.operations.get(a=l.instruction.op);if(null==h)throw new Error(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f: ${a}`);return h.run(this,l),this}stepArray(l){if(l.index>=l.array.length)return this.popCommandStack();var a=l.array[l.index++];return this.pushCommandStack(a),this}unwindVars(l){for(;this.variableScopes.length>l;)this.variableScopes.pop()}runThrow(l){for(;this.commandStack.length;){var a=this.commandStack[this.commandStack.length-1];if(a.enabledExHandling){this.unwindVars(a.scopeSize),a.startExceptionHandling();break}this.commandStack.pop()}return this}enableCatchHandlingForFrame(l){this.commandStack[this.commandStack.length-1].setEnabledExHandlingIndex(l)}disableCatchHandlingForFrame(){this.commandStack[this.commandStack.length-1].setEnabledExHandlingIndex(-1)}}class $a{description;source;result;constructor(l,a,h){this.description=l,this.source=a,this.result=h}static builder(){return new $a("","",null)}setDescription(l){return this.description=l,this}setSource(l){return this.source=l,this}setResult(l){return this.result=l,this}}class xb{static testProps(){return[$a.builder().setDescription("try: {throw ex;}.").setSource("a = 11;\n        c = \u043a\u043b\u0430\u0441\u0441{\n          a = a;\n          f(){\n            b = a;\n            try{\n              throw '\u041e\u0448\u0438\u0431\u043a\u0430.';\n              b = b + 1;\n            } catch(e){\n              \u0432\u0435\u0440\u043d\u0443\u0442\u044c e + (b+1);\n            }\n            \u0432\u0435\u0440\u043d\u0443\u0442\u044c b+1;\n          }\n        }();\n        c.f();\n        ").setResult("\u041e\u0448\u0438\u0431\u043a\u0430.12"),$a.builder().setDescription("set: =.").setSource("a = 10;").setResult(10),$a.builder().setDescription("add: +.").setSource("a = 9+1;").setResult(10),$a.builder().setDescription("sub: -.").setSource("a = 9-1;").setResult(8),$a.builder().setDescription("mul: *.").setSource("a = 9*2;").setResult(18),$a.builder().setDescription("div: /.").setSource("a = 10/2;").setResult(5),$a.builder().setDescription("mod: %.").setSource("a = 3%2;").setResult(1),$a.builder().setDescription("addSet: +=.").setSource("a = 10; a += 2;").setResult(12),$a.builder().setDescription("subSet: -=.").setSource("a = 10; a -= 2;").setResult(8),$a.builder().setDescription("mulSet: *=.").setSource("a = 10; a *= 2;").setResult(20),$a.builder().setDescription("divSet: /=.").setSource("a = 10; a /= 2;").setResult(5),$a.builder().setDescription("modSet: %=.").setSource("a = 11; a %= 3;").setResult(2),$a.builder().setDescription("++i: ++.").setSource("a = 11; ++a;").setResult(12),$a.builder().setDescription("i++: ++.").setSource("a = 11; a++;").setResult(11),$a.builder().setDescription("class: {f();}.").setSource("a = 11;\n        c = \u043a\u043b\u0430\u0441\u0441{\n          a = a;\n          f(){\n            b = a;\n            \u0432\u0435\u0440\u043d\u0443\u0442\u044c b+1;\n            \u0432\u0435\u0440\u043d\u0443\u0442\u044c 1;\n          }\n        }();\n        c.f();\n        ").setResult(12)]}static tests(){return[Pp.of(xb.\u043f\u0435\u0440\u0432\u044b\u0439\u0422\u0435\u0441\u0442,"\u0442\u0435\u0441\u0442 \u043a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u043e\u0433\u043e \u043f\u0430\u0440\u0441\u0435\u0440\u0430."),Pp.of(xb.\u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0442\u043e\u0440\u0430\u0422\u0435\u0441\u0442,"\u0442\u0435\u0441\u0442 js-interpreter.")].concat(xb.testProps().map(l=>Pp.of(xb.createTestFor(l),"\u0442\u0435\u0441\u0442 \u0412\u041c: "+l.description)))}static createTestFor(l){return a=>{let h="",f=(new _Ke).run(l.source);return f!=l.result&&(h=`\u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: ${f}; \u043e\u0436\u0438\u0434\u0430\u043b\u043e\u0441\u044c: ${l.result}`),a.sendAndGetResult(h)}}static \u043f\u0435\u0440\u0432\u044b\u0439\u0422\u0435\u0441\u0442(l){return(new efe).\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a("a = 10;\n    if (a == 10) {\n     \u0441\u0438\u0441\u0442\u0435\u043c\u0430.\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c('\u0430 == ' + \u0430);\n    }\n    "),((m,v)=>m+v+"test").toString(),l.sendAndGetResult("")}static \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0442\u043e\u0440\u0430\u0422\u0435\u0441\u0442(l){let a="";var f=new Interpreter("\n    var f = function(a,b) {return a+b;};\n    showFunc(f);\n    var a = 1;\n    var b = 2;\n    initFunctions();\n    //a + b;\n    add(2,1);\n    ",function(g,m){g.setProperty(m,"url",String(location)),g.setProperty(m,"showFunc",g.createNativeFunction(function(b){var O=""+JSON.stringify(b.node,null,2);return console.log(O),O})),g.setProperty(m,"initFunctions",g.createNativeFunction(function(){g.appendCode("function add2(c,d){return c+d;}");var O=g.nativeToPseudo(function(S,w){return S+w});return g.setProperty(m,"add",O),O}))});f.run();var p=f.value;return 3!=p&&(a+=`\u041f\u043e\u043b\u0443\u0447\u0435\u043d \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: ${p}; \u043e\u0436\u0438\u0434\u0430\u043b\u043e\u0441\u044c: 3.`),l.sendAndGetResult(a)}}class B1{fileName;content;constructor(l,a){this.fileName=l,this.content=a}static builder(){return new B1("","")}setFileName(l){return this.fileName=l,this}setContent(l){return this.content=l,this}}let V1=(()=>{class c{zip(a){return new Promise((h,d)=>{const f=new nm;a.forEach(p=>{p.content&&f.file(p.fileName,p.content)}),f.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}}).then(p=>{p.arrayBuffer().then(g=>{h(g)})})})}unzip(a,h,d,f){(new nm).loadAsync(a,h).then(function(g){let m=Object.keys(g.files);m.forEach(function(v,_){d(v,g,_,m)})},f)}static \u0275fac=function(h){return new(h||c)};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class yKe{constructor(l,a){this.fn=l,this.subscriptions=a}unsubscribe(){const l=this.subscriptions.indexOf(this);-1!==l&&this.subscriptions.splice(l,1)}}function cm(c){return null!=c&&"object"==typeof c&&!0===c["@@functional/placeholder"]}function Ap(c){return function l(a){return 0===arguments.length||cm(a)?l:c.apply(this,arguments)}}function Tb(c){return function l(a,h){switch(arguments.length){case 0:return l;case 1:return cm(a)?l:Ap(function(d){return c(a,d)});default:return cm(a)&&cm(h)?l:cm(a)?Ap(function(d){return c(d,h)}):cm(h)?Ap(function(d){return c(a,d)}):c(a,h)}}}const lP=Tb(function(l,a){return a instanceof l||null!=a&&(a.constructor===l||"Object"===l.name&&"object"==typeof a)});function cP(c,l){return Object.prototype.hasOwnProperty.call(l,c)}var sfe=Object.prototype.toString;const ofe=function(){return"[object Arguments]"===sfe.call(arguments)?function(l){return"[object Arguments]"===sfe.call(l)}:function(l){return cP("callee",l)}}(),SKe=Array.isArray||function(l){return null!=l&&l.length>=0&&"[object Array]"===Object.prototype.toString.call(l)};function afe(c){return"[object String]"===Object.prototype.toString.call(c)}var TKe=Ap(function(l){return null!=l&&"function"==typeof l["fantasy-land/empty"]?l["fantasy-land/empty"]():null!=l&&null!=l.constructor&&"function"==typeof l.constructor["fantasy-land/empty"]?l.constructor["fantasy-land/empty"]():null!=l&&"function"==typeof l.empty?l.empty():null!=l&&null!=l.constructor&&"function"==typeof l.constructor.empty?l.constructor.empty():SKe(l)?[]:afe(l)?"":function wKe(c){return"[object Object]"===Object.prototype.toString.call(c)}(l)?{}:ofe(l)?function(){return arguments}():function xKe(c){var l=Object.prototype.toString.call(c);return"[object Uint8ClampedArray]"===l||"[object Int8Array]"===l||"[object Uint8Array]"===l||"[object Int16Array]"===l||"[object Uint16Array]"===l||"[object Int32Array]"===l||"[object Uint32Array]"===l||"[object Float32Array]"===l||"[object Float64Array]"===l||"[object BigInt64Array]"===l||"[object BigUint64Array]"===l}(l)?l.constructor.from(""):void 0});const kKe=TKe;function lfe(c){for(var a,l=[];!(a=c.next()).done;)l.push(a.value);return l}function cfe(c,l,a){for(var h=0,d=a.length;h<d;){if(c(l,a[h]))return!0;h+=1}return!1}const t$="function"==typeof Object.is?Object.is:function MKe(c,l){return c===l?0!==c||1/c==1/l:c!=c&&l!=l};var EKe=!{toString:null}.propertyIsEnumerable("toString"),ufe=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],hfe=function(){return arguments.propertyIsEnumerable("length")}(),PKe=function(l,a){for(var h=0;h<l.length;){if(l[h]===a)return!0;h+=1}return!1};const dfe=Ap("function"!=typeof Object.keys||hfe?function(l){if(Object(l)!==l)return[];var a,h,d=[],f=hfe&&ofe(l);for(a in l)cP(a,l)&&(!f||"length"!==a)&&(d[d.length]=a);if(EKe)for(h=ufe.length-1;h>=0;)cP(a=ufe[h],l)&&!PKe(d,a)&&(d[d.length]=a),h-=1;return d}:function(l){return Object(l)!==l?[]:Object.keys(l)}),ffe=Ap(function(l){return null===l?"Null":void 0===l?"Undefined":Object.prototype.toString.call(l).slice(8,-1)});function pfe(c,l,a,h){var d=lfe(c);function p(g,m){return n$(g,m,a.slice(),h.slice())}return!cfe(function(g,m){return!cfe(p,m,g)},lfe(l),d)}function n$(c,l,a,h){if(t$(c,l))return!0;var d=ffe(c);if(d!==ffe(l))return!1;if("function"==typeof c["fantasy-land/equals"]||"function"==typeof l["fantasy-land/equals"])return"function"==typeof c["fantasy-land/equals"]&&c["fantasy-land/equals"](l)&&"function"==typeof l["fantasy-land/equals"]&&l["fantasy-land/equals"](c);if("function"==typeof c.equals||"function"==typeof l.equals)return"function"==typeof c.equals&&c.equals(l)&&"function"==typeof l.equals&&l.equals(c);switch(d){case"Arguments":case"Array":case"Object":if("function"==typeof c.constructor&&"Promise"===function DKe(c){var l=String(c).match(/^function (\w*)/);return null==l?"":l[1]}(c.constructor))return c===l;break;case"Boolean":case"Number":case"String":if(typeof c!=typeof l||!t$(c.valueOf(),l.valueOf()))return!1;break;case"Date":if(!t$(c.valueOf(),l.valueOf()))return!1;break;case"Error":return c.name===l.name&&c.message===l.message;case"RegExp":if(c.source!==l.source||c.global!==l.global||c.ignoreCase!==l.ignoreCase||c.multiline!==l.multiline||c.sticky!==l.sticky||c.unicode!==l.unicode)return!1}for(var f=a.length-1;f>=0;){if(a[f]===c)return h[f]===l;f-=1}switch(d){case"Map":return c.size===l.size&&pfe(c.entries(),l.entries(),a.concat([c]),h.concat([l]));case"Set":return c.size===l.size&&pfe(c.values(),l.values(),a.concat([c]),h.concat([l]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var p=dfe(c);if(p.length!==dfe(l).length)return!1;var g=a.concat([c]),m=h.concat([l]);for(f=p.length-1;f>=0;){var v=p[f];if(!cP(v,l)||!n$(l[v],c[v],g,m))return!1;f-=1}return!0}const LKe=Tb(function(l,a){return n$(l,a,[],[])}),gfe=Ap(function(l){return null!=l&&LKe(l,kKe(l))});function ex(c){return null==c}function um(c){return ex(c)||gfe(c)}function i$(c){return lP(String,c)}function uP(c){return lP(Object,c)}function vfe(c){return lP(Map,c)}function _fe(c,l){return c!==l}function yfe(c,l){return JSON.stringify(c)===JSON.stringify(l)}function bfe(c){const l=new Map;for(const[a,h]of c)vfe(h)?l.set(a,bfe(h)):l.set(a,h);return l}function zKe(c){switch(!0){case vfe(c):return bfe(c);case uP(c)&&!Array.isArray(c):return $1({},c);default:return JSON.parse(JSON.stringify(c))}}function $1(...c){const l={};return c.map(a=>uP(a)?{...a}:{}).forEach(a=>{Object.keys(a).forEach(h=>{const d=a[h];l[h]=Array.isArray(d)?Array.from(d):uP(d)?$1(l[h]||{},d):d})}),l}function Cfe(c=window){return!ex(c)}let hP,Sfe,r$,s$;function wfe(c=!0){if(!c||!hP){const l=document&&document.querySelector("[ng-version]");hP=l?""+l.getAttribute("ng-version"):void 0}return hP}function jKe(c=!0){return c&&hP||(Sfe=window?.angular?.version?.full),Sfe}function xfe(c=!0){return c&&r$||(r$=window?.CDS?._react?.version?window.CDS._react.version:document.querySelector("[data-reactroot], [data-reactid]")?"unknown version":void 0),r$}function Tfe(c=!0){if(!c||!s$){const l=document.querySelectorAll("*");let a;for(let h=0;h<l.length;h++)if(l[h].__vue__){a=l[h];break}s$=a?"unknown version":void 0}return s$}function z1(c){return c.replace(/[A-Z]/g,l=>"-"+l.toLowerCase())}function Mfe(c){return c.charAt(0).toUpperCase()+c.slice(1)}const eJe=new class{constructor(){if(this.supports={js:!0},!document.body.hasAttribute("cds-supports")||"no-js"===document.body.getAttribute("cds-supports")){const c=z1(Object.keys(this.supports).reduce((l,a)=>`${l} ${this.supports[a]?a:"no-"+a}`,"")).trim();document.body.setAttribute("cds-supports",c)}}};function Afe(c,l){switch(c){case 0:return function(){return l.apply(this,arguments)};case 1:return function(a){return l.apply(this,arguments)};case 2:return function(a,h){return l.apply(this,arguments)};case 3:return function(a,h,d){return l.apply(this,arguments)};case 4:return function(a,h,d,f){return l.apply(this,arguments)};case 5:return function(a,h,d,f,p){return l.apply(this,arguments)};case 6:return function(a,h,d,f,p,g){return l.apply(this,arguments)};case 7:return function(a,h,d,f,p,g,m){return l.apply(this,arguments)};case 8:return function(a,h,d,f,p,g,m,v){return l.apply(this,arguments)};case 9:return function(a,h,d,f,p,g,m,v,_){return l.apply(this,arguments)};case 10:return function(a,h,d,f,p,g,m,v,_,y){return l.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Ife(c,l,a){return function(){for(var h=[],d=0,f=c,p=0,g=!1;p<l.length||d<arguments.length;){var m;p<l.length&&(!cm(l[p])||d>=arguments.length)?m=l[p]:(m=arguments[d],d+=1),h[p]=m,cm(m)?g=!0:f-=1,p+=1}return!g&&f<=0?a.apply(this,h):Afe(Math.max(0,f),Ife(c,h,a))}}const Rfe=Tb(function(l,a){return 1===l?Ap(a):Afe(l,Ife(l,[],a))}),nJe=Number.isInteger||function(l){return l<<0===l},rJe=Tb(function(l,a){var h=l<0?a.length+l:l;return afe(a)?a.charAt(h):a[h]}),oJe=Tb(function(l,a){return l.map(function(h){for(var p,d=a,f=0;f<h.length;){if(null==d)return;d=nJe(p=h[f])?rJe(p,d):d[p],f+=1}return d})}),lJe=Tb(function(l,a){return oJe([l],a)[0]}),uJe=Rfe(2,(c,l)=>void 0!==lJe(c,l)),Lfe=uJe({"@@functional/placeholder":!0},window);class U1{static log(...l){l$()&&a$()&&console.log(...l)}static warn(...l){l$()&&a$()&&console.warn(...l)}static error(...l){l$()&&a$()&&console.error(...l)}}function a$(){return!Lfe(["jasmine"])}function l$(){return!window.CDS.environment.production}function Nfe(){Cfe()&&(window.CDS=window.CDS||{_version:[],_react:{version:void 0},_supports:eJe.supports,_isStateProxied:!1,_state:{focusTrapItems:[],layerElements:[],i18nRegistry:{},elementRegistry:{},iconRegistry:{},motionRegistry:{}},environment:{production:!1},getDetails:Ffe,logDetails:dJe},function(){const c="6.9.1";window.CDS._version.indexOf(c)<0&&(window.CDS._version.push(c),document.querySelector("body")?.setAttribute("cds-version",window.CDS._version.join(" "))),window.CDS._version.length>1&&U1.warn("Running more than one version of Clarity can cause unexpected issues. Please ensure only one version is loaded.")}(),window.CDS._isStateProxied||(window.CDS._isStateProxied=!0,window.CDS._state=new Proxy(window.CDS._state,{set:(c,l,a)=>{const h={key:l,prev:window.CDS._state[l],current:a};return c[l]=a,document.dispatchEvent(new CustomEvent("CDS_STATE_UPDATE",{detail:h})),!0}})))}function Ffe(){return{versions:window.CDS._version,environment:window.CDS.environment,userAgent:navigator.userAgent,supports:window.CDS._supports,angularVersion:wfe(!1),angularJSVersion:jKe(!1),reactVersion:xfe(!1),vueVersion:Tfe(!1),state:{...window.CDS._state,iconRegistry:Object.keys(window.CDS._state.iconRegistry),motionRegistry:Object.keys(window.CDS._state.motionRegistry),focusTrapRegistry:Object.keys(window.CDS._state.focusTrapItems.map(c=>c.focusTrapId))}}}function dJe(){U1.log(JSON.stringify(Ffe(),null,2))}const c$=new class bKe{constructor(){this.subscriptions=[]}subscribe(l){const a=new yKe(l,this.subscriptions);return this.subscriptions.push(a),a}emit(l){this.subscriptions.forEach(a=>a.fn(l))}toEventObservable(){return this}};c$.listener=document.addEventListener("CDS_STATE_UPDATE",c=>c$.emit(c.detail));class ia{static get state(){return Nfe(),window.CDS._state}static getValue(l){return ia.state[l]}static setValue(l,a){ia.state[l]=a}static log(){U1.log(JSON.stringify(ia.state,null,2))}}ia.stateUpdates=c$.toEventObservable();const fJe=["unknown",{outline:'<circle class="cds-internal-dot-3" cx="31.1" cy="18" r="2.9"/><circle class="cds-internal-dot-2" cx="18" cy="18" r="2.9"/><circle class="cds-internal-dot-1" cx="4.9" cy="18" r="2.9"/>'}];class Tr{static get registry(){return{unknown:fJe[1],...ia.state.iconRegistry}}static addIcons(...l){ia.state.iconRegistry={...ia.state.iconRegistry,...Object.fromEntries(l.filter(([a])=>!Tr.registry[a]))}}static addAliases(...l){const a=l.filter(([h])=>Tr.registry[h]).flatMap(([h,d])=>d.map(f=>[f,Tr.registry[h]]));ia.state.iconRegistry={...ia.state.iconRegistry,...Object.fromEntries(a)}}static getIconNameFromShape(l){return l[0]}}const kb=["angle",{outline:'<path d="M29.52,22.52,18,10.6,6.48,22.52a1.7,1.7,0,0,0,2.45,2.36L18,15.49l9.08,9.39a1.7,1.7,0,0,0,2.45-2.36Z"/>'}],Rc=["exclamation-circle",{outline:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm0,22A10,10,0,1,1,28,18,10,10,0,0,1,18,28Z"/><path d="M18,20.07a1.3,1.3,0,0,1-1.3-1.3v-6a1.3,1.3,0,1,1,2.6,0v6A1.3,1.3,0,0,1,18,20.07Z"/><circle cx="17.95" cy="23.02" r="1.5"/>',solid:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm-1.49,6a1.49,1.49,0,0,1,3,0v6.89a1.49,1.49,0,1,1-3,0ZM18,25.5a1.72,1.72,0,1,1,1.72-1.72A1.72,1.72,0,0,1,18,25.5Z"/>'}],Lc=["check-circle",{outline:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm0,22A10,10,0,1,1,28,18,10,10,0,0,1,18,28Z"/><path d="M16.34,23.74l-5-5a1,1,0,0,1,1.41-1.41l3.59,3.59,6.78-6.78a1,1,0,0,1,1.41,1.41Z"/>',solid:'<path d="M30,18A12,12,0,1,1,18,6,12,12,0,0,1,30,18Zm-4.77-2.16a1.4,1.4,0,0,0-2-2l-6.77,6.77L13,17.16a1.4,1.4,0,0,0-2,2l5.45,5.45Z"/>'}],Bfe=["ellipsis-horizontal",{outline:'<circle cx="31.1" cy="18" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="4.9" cy="18" r="2.9"/>',outlineBadged:'<circle cx="31.1" cy="18" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="4.9" cy="18" r="2.9"/>'}],Db=["window-close",{outline:'<path d="M19.41,18l7.29-7.29a1,1,0,0,0-1.41-1.41L18,16.59,10.71,9.29a1,1,0,0,0-1.41,1.41L16.59,18,9.29,25.29a1,1,0,1,0,1.41,1.41L18,19.41l7.29,7.29a1,1,0,0,0,1.41-1.41Z"/>'}],Vfe=["event",{outline:'<path d="M16.17,25.86,10.81,20.5a1,1,0,0,1,1.41-1.41L16.17,23l8.64-8.64a1,1,0,0,1,1.41,1.41Z"/><path d="M32.25,6H29V8h3V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/><rect x="13" y="6" width="10" height="2"/>',outlineAlerted:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M10.81,20.5l5.36,5.36L26.22,15.81a1,1,0,0,0,.23-.41H23.8L16.17,23l-3.94-3.94a1,1,0,0,0-1.41,1.41Z"/><polygon points="21.29 6 13 6 13 8 20.14 8 21.29 6"/><path d="M33.68,15.4H32V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38Z"/>',outlineBadged:'<path d="M10.81,20.5l5.36,5.36L26.22,15.81a1,1,0,0,0-1.41-1.41L16.17,23l-3.94-3.94a1,1,0,0,0-1.41,1.41Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M32,13.22V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,32,13.22Z"/><path d="M22.5,6H13V8h9.78A7.49,7.49,0,0,1,22.5,6Z"/>',solid:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/><path d="M32.25,6h-4V9a2.2,2.2,0,0,1-4.4,0V6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6ZM25.94,16.58l-9.67,9.67L11,20.94A1.36,1.36,0,0,1,12.9,19l3.38,3.38L24,14.66a1.36,1.36,0,1,1,1.93,1.93Z"/>',solidAlerted:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M33.68,15.4H26.3a1.34,1.34,0,0,1-.36,1.18l-9.67,9.67L11,20.94A1.36,1.36,0,0,1,12.9,19l3.38,3.38,7-7h-1A3.68,3.68,0,0,1,19,9.89L21.29,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38Z"/>',solidBadged:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M30,13.5A7.5,7.5,0,0,1,22.5,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,30,13.5Zm-4.06,3.08-9.67,9.67L11,20.94A1.36,1.36,0,0,1,12.9,19l3.38,3.38L24,14.66a1.36,1.36,0,1,1,1.93,1.93Z"/>'}],$fe=["calendar",{outline:'<path d="M32.25,6H29V8h3V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6Z"/><rect x="8" y="14" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="20" y="14" width="2" height="2"/><rect x="26" y="14" width="2" height="2"/><rect x="8" y="19" width="2" height="2"/><rect x="14" y="19" width="2" height="2"/><rect x="20" y="19" width="2" height="2"/><rect x="26" y="19" width="2" height="2"/><rect x="8" y="24" width="2" height="2"/><rect" x="14" y="24" width="2" height="2"/><rect x="20" y="24" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/><rect x="13" y="6" width="10" height="2"/>',outlineAlerted:'<path d="M33.68,15.4H32V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38Z"/><rect x="8" y="14" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="8" y="19" width="2" height="2"/><rect x="14" y="19" width="2" height="2"/><rect x="20" y="19" width="2" height="2"/><rect x="26" y="19" width="2" height="2"/><rect x="8" y="24" width="2" height="2"/><rect x="14" y="24" width="2" height="2"/><rect x="20" y="24" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><polygon points="21.29 6 13 6 13 8 20.14 8 21.29 6"/>',outlineBadged:'<path d="M32,13.22V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,32,13.22Z"/><rect x="8" y="14" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="20" y="14" width="2" height="2"/><rect x="26" y="14" width="2" height="2"/><rect x="8" y="19" width="2" height="2"/><rect x="14" y="19" width="2" height="2"/><rect x="20" y="19" width="2" height="2"/><rect x="26" y="19" width="2" height="2"/><rect x="8" y="24" width="2" height="2"/><rect x="14" y="24" width="2" height="2"/><rect x="20" y="24" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M22.5,6H13V8h9.78A7.49,7.49,0,0,1,22.5,6Z"/>',solid:'<path d="M32.25,6h-4V9a2.2,2.2,0,1,1-4.4,0V6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6ZM10,26H8V24h2Zm0-5H8V19h2Zm0-5H8V14h2Zm6,10H14V24h2Zm0-5H14V19h2Zm0-5H14V14h2Zm6,10H20V24h2Zm0-5H20V19h2Zm0-5H20V14h2Zm6,10H26V24h2Zm0-5H26V19h2Zm0-5H26V14h2Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/>',solidAlerted:'<path d="M33.68,15.4H22.23A3.68,3.68,0,0,1,19,9.89L21.29,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38ZM10,26H8V24h2Zm0-5H8V19h2Zm0-5H8V14h2Zm6,10H14V24h2Zm0-5H14V19h2Zm0-5H14V14h2Zm6,10H20V24h2Zm0-5H20V19h2Zm6,5H26V24h2Zm0-5H26V19h2Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/>',solidBadged:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M30,13.5A7.5,7.5,0,0,1,22.5,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,30,13.5ZM10,26H8V24h2Zm0-5H8V19h2Zm0-5H8V14h2Zm6,10H14V24h2Zm0-5H14V19h2Zm0-5H14V14h2Zm6,10H20V24h2Zm0-5H20V19h2Zm0-5H20V14h2Zm6,10H26V24h2Zm0-5H26V19h2Zm0-5H26V14h2Z"/>'}],pJe=["eye-hide",{outline:'<path d="M25.19,20.4A6.78,6.78,0,0,0,25.62,18a6.86,6.86,0,0,0-6.86-6.86,6.79,6.79,0,0,0-2.37.43L18,13.23a4.78,4.78,0,0,1,.74-.06A4.87,4.87,0,0,1,23.62,18a4.79,4.79,0,0,1-.06.74Z"/><path d="M34.29,17.53c-3.37-6.23-9.28-10-15.82-10a16.82,16.82,0,0,0-5.24.85L14.84,10a14.78,14.78,0,0,1,3.63-.47c5.63,0,10.75,3.14,13.8,8.43a17.75,17.75,0,0,1-4.37,5.1l1.42,1.42a19.93,19.93,0,0,0,5-6l.26-.48Z"/><path d="M4.87,5.78l4.46,4.46a19.52,19.52,0,0,0-6.69,7.29L2.38,18l.26.48c3.37,6.23,9.28,10,15.82,10a16.93,16.93,0,0,0,7.37-1.69l5,5,1.75-1.5-26-26Zm9.75,9.75,6.65,6.65a4.81,4.81,0,0,1-2.5.72A4.87,4.87,0,0,1,13.9,18,4.81,4.81,0,0,1,14.62,15.53Zm-1.45-1.45a6.85,6.85,0,0,0,9.55,9.55l1.6,1.6a14.91,14.91,0,0,1-5.86,1.2c-5.63,0-10.75-3.14-13.8-8.43a17.29,17.29,0,0,1,6.12-6.3Z"/>',solid:'<path d="M18.37,11.17A6.79,6.79,0,0,0,16,11.6l8.8,8.8A6.78,6.78,0,0,0,25.23,18,6.86,6.86,0,0,0,18.37,11.17Z"/><path d="M34.29,17.53c-3.37-6.23-9.28-10-15.82-10a16.82,16.82,0,0,0-5.24.85L14.84,10a14.78,14.78,0,0,1,3.63-.47c5.63,0,10.75,3.14,13.8,8.43a17.75,17.75,0,0,1-4.37,5.1l1.42,1.42a19.93,19.93,0,0,0,5-6l.26-.48Z"/><path d="M4.87,5.78l4.46,4.46a19.52,19.52,0,0,0-6.69,7.29L2.38,18l.26.48c3.37,6.23,9.28,10,15.82,10a16.93,16.93,0,0,0,7.37-1.69l5,5,1.75-1.5-26-26Zm8.3,8.3a6.85,6.85,0,0,0,9.55,9.55l1.6,1.6a14.91,14.91,0,0,1-5.86,1.2c-5.63,0-10.75-3.14-13.8-8.43a17.29,17.29,0,0,1,6.12-6.3Z"/>'}],zfe=["eye",{outline:'<path d="M33.62,17.53c-3.37-6.23-9.28-10-15.82-10S5.34,11.3,2,17.53L1.72,18l.26.48c3.37,6.23,9.28,10,15.82,10s12.46-3.72,15.82-10l.26-.48ZM17.8,26.43C12.17,26.43,7,23.29,4,18c3-5.29,8.17-8.43,13.8-8.43S28.54,12.72,31.59,18C28.54,23.29,23.42,26.43,17.8,26.43Z"/><path d="M18.09,11.17A6.86,6.86,0,1,0,25,18,6.86,6.86,0,0,0,18.09,11.17Zm0,11.72A4.86,4.86,0,1,1,23,18,4.87,4.87,0,0,1,18.09,22.89Z"/>',solid:'<path d="M33.62,17.53c-3.37-6.23-9.28-10-15.82-10S5.34,11.3,2,17.53L1.72,18l.26.48c3.37,6.23,9.28,10,15.82,10s12.46-3.72,15.82-10l.26-.48ZM17.8,26.43C12.17,26.43,7,23.29,4,18c3-5.29,8.17-8.43,13.8-8.43S28.54,12.72,31.59,18C28.54,23.29,23.42,26.43,17.8,26.43Z"/><circle cx="18.09" cy="18.03" r="6.86"/>'}],Ufe=["ellipsis-vertical",{outline:'<circle cx="18" cy="4.9" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="18" cy="31.1" r="2.9"/>',outlineBadged:'<circle cx="18" cy="4.9" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="18" cy="31.1" r="2.9"/>'}],gJe=["view-columns",{outline:'<path d="M31,5H5A2,2,0,0,0,3,7V29a2,2,0,0,0,2,2H31a2,2,0,0,0,2-2V7A2,2,0,0,0,31,5ZM13,29H5V7h8Zm10,0H15V7h8Z"/>'}],Qfe=["arrow",{outline:'<path d="M27.66,15.61,18,6,8.34,15.61A1,1,0,1,0,9.75,17L17,9.81V28.94a1,1,0,1,0,2,0V9.81L26.25,17a1,1,0,0,0,1.41-1.42Z"/>'}],Hfe=["times",{outline:'<path d="M19.41,18l8.29-8.29a1,1,0,0,0-1.41-1.41L18,16.59,9.71,8.29A1,1,0,0,0,8.29,9.71L16.59,18,8.29,26.29a1,1,0,1,0,1.41,1.41L18,19.41l8.29,8.29a1,1,0,0,0,1.41-1.41Z"/>'}],mJe=["step-forward-2",{outline:'<path d="M7.08,6.52a1.68,1.68,0,0,0,0,2.4L16.51,18,7.12,27.08a1.7,1.7,0,0,0,2.36,2.44h0L21.4,18,9.48,6.47A1.69,1.69,0,0,0,7.08,6.52Z"/><path d="M26.49,5a1.7,1.7,0,0,0-1.7,1.7V29.3a1.7,1.7,0,0,0,3.4,0V6.7A1.7,1.7,0,0,0,26.49,5Z"/>'}],Wfe=["angle-double",{outline:'<path d="M29,19.41a1,1,0,0,1-.71-.29L18,8.83,7.71,19.12a1,1,0,0,1-1.41-1.41L18,6,29.71,17.71A1,1,0,0,1,29,19.41Z"/><path d="M29,30.41a1,1,0,0,1-.71-.29L18,19.83,7.71,30.12a1,1,0,0,1-1.41-1.41L18,17,29.71,28.71A1,1,0,0,1,29,30.41Z"/>'}],vJe=["filter-grid-circle",{outline:'<path d="M15,25.86l2,1V20.27a1,1,0,0,0-.29-.7L10.23,13H25.79l-6.47,6.57a1,1,0,0,0-.29.7L19,28l2,1V20.68L27.58,14A1.46,1.46,0,0,0,28,13V12a1,1,0,0,0-1-1H9a1,1,0,0,0-1,1v1a1.46,1.46,0,0,0,.42,1L15,20.68Z"/><path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/>',solid:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/><path d="M8,11v1.12a.5.5,0,0,0,.15.35l7.28,7.36a.5.5,0,0,1,.15.35v6.89a.5.5,0,0,0,.28.45l3.95,1.41a.5.5,0,0,0,.72-.45l0-8.39a.54.54,0,0,1,.18-.35l7.12-7.25a.5.5,0,0,0,.15-.35V11Z"/>'}],_Je=["filter-grid",{outline:'<path d="M15,25.86l2,1V20.27a1,1,0,0,0-.29-.7L10.23,13H25.79l-6.47,6.57a1,1,0,0,0-.29.7L19,28l2,1V20.68L27.58,14A1.46,1.46,0,0,0,28,13V12a1,1,0,0,0-1-1H9a1,1,0,0,0-1,1v1a1.46,1.46,0,0,0,.42,1L15,20.68Z"/>',solid:'<path d="M8,11v1.12a.5.5,0,0,0,.15.35l7.28,7.36a.5.5,0,0,1,.15.35v6.89a.5.5,0,0,0,.28.45l3.95,1.41a.5.5,0,0,0,.72-.45l0-8.39a.54.54,0,0,1,.18-.35l7.12-7.25a.5.5,0,0,0,.15-.35V11Z"/>'}],Zfe=["info-circle",{outline:'<circle cx="17.93" cy="11.9" r="1.4"/><path d="M21,23H19V15H16a1,1,0,0,0,0,2h1v6H15a1,1,0,1,0,0,2h6a1,1,0,0,0,0-2Z"/><path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm0,22A10,10,0,1,1,28,18,10,10,0,0,1,18,28Z"/>',solid:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm-2,5.15a2,2,0,1,1,2,2A2,2,0,0,1,15.9,11.15ZM23,24a1,1,0,0,1-1,1H15a1,1,0,1,1,0-2h2V17H16a1,1,0,0,1,0-2h4v8h2A1,1,0,0,1,23,24Z"/>'}],yJe=["exclamation-triangle",{outline:'<path d="M18,21.32a1.3,1.3,0,0,0,1.3-1.3V14a1.3,1.3,0,1,0-2.6,0v6A1.3,1.3,0,0,0,18,21.32Z"/><circle cx="17.95" cy="24.27" r="1.5"/><path d="M30.33,25.54,20.59,7.6a3,3,0,0,0-5.27,0L5.57,25.54A3,3,0,0,0,8.21,30H27.69a3,3,0,0,0,2.64-4.43Zm-1.78,1.94a1,1,0,0,1-.86.49H8.21a1,1,0,0,1-.88-1.48L17.07,8.55a1,1,0,0,1,1.76,0l9.74,17.94A1,1,0,0,1,28.55,27.48Z"/>',solid:'<path d="M30.33,25.54,20.59,7.6a3,3,0,0,0-5.27,0L5.57,25.54A3,3,0,0,0,8.21,30H27.69a3,3,0,0,0,2.64-4.43ZM16.46,12.74a1.49,1.49,0,0,1,3,0v6.89a1.49,1.49,0,1,1-3,0ZM18,26.25a1.72,1.72,0,1,1,1.72-1.72A1.72,1.72,0,0,1,18,26.25Z"/>'}],bJe=["circle",{outline:'<path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>',solid:'<path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34Z"/>'}],OJe=["dot-circle",{outline:'<path d="M18,11a7,7,0,1,1-7,7,7,7,0,0,1,7-7"/><path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>'}],jfe=["error-standard",{outline:'<circle cx="18" cy="26.06" r="1.33"/><path d="M18,22.61a1,1,0,0,1-1-1v-12a1,1,0,1,1,2,0v12A1,1,0,0,1,18,22.61Z"/><path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>',solid:'<path d="M18,2.1a16,16,0,1,0,16,16A16,16,0,0,0,18,2.1ZM16.6,8.8a1.4,1.4,0,0,1,2.8,0v12a1.4,1.4,0,0,1-2.8,0ZM18,28.6a1.8,1.8,0,1,1,1.8-1.8A1.8,1.8,0,0,1,18,28.6Z"/>'}],CJe=["success-standard",{outline:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/><path d="M28,12.1a1,1,0,0,0-1.41,0L15.49,23.15l-6-6A1,1,0,0,0,8,18.53L15.49,26,28,13.52A1,1,0,0,0,28,12.1Z"/>',solid:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2ZM28.45,12.63,15.31,25.76,7.55,18a1.4,1.4,0,0,1,2-2l5.78,5.78L26.47,10.65a1.4,1.4,0,1,1,2,2Z"/>'}];class wJe extends Fe{constructor(l,a){super()}schedule(l,a=0){return this}}const dP={setInterval(c,l,...a){const{delegate:h}=dP;return h?.setInterval?h.setInterval(c,l,...a):setInterval(c,l,...a)},clearInterval(c){const{delegate:l}=dP;return(l?.clearInterval||clearInterval)(c)},delegate:void 0};class u$ extends wJe{constructor(l,a){super(l,a),this.scheduler=l,this.work=a,this.pending=!1}schedule(l,a=0){var h;if(this.closed)return this;this.state=l;const d=this.id,f=this.scheduler;return null!=d&&(this.id=this.recycleAsyncId(f,d,a)),this.pending=!0,this.delay=a,this.id=null!==(h=this.id)&&void 0!==h?h:this.requestAsyncId(f,this.id,a),this}requestAsyncId(l,a,h=0){return dP.setInterval(l.flush.bind(l,this),h)}recycleAsyncId(l,a,h=0){if(null!=h&&this.delay===h&&!1===this.pending)return a;null!=a&&dP.clearInterval(a)}execute(l,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const h=this._execute(l,a);if(h)return h;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(l,a){let d,h=!1;try{this.work(l)}catch(f){h=!0,d=f||new Error("Scheduled action threw falsy error")}if(h)return this.unsubscribe(),d}unsubscribe(){if(!this.closed){const{id:l,scheduler:a}=this,{actions:h}=a;this.work=this.state=this.scheduler=null,this.pending=!1,De(h,this),null!=l&&(this.id=this.recycleAsyncId(a,l,null)),this.delay=null,super.unsubscribe()}}}const h$={now:()=>(h$.delegate||Date).now(),delegate:void 0};class tx{constructor(l,a=tx.now){this.schedulerActionCtor=l,this.now=a}schedule(l,a=0,h){return new this.schedulerActionCtor(this,l).schedule(h,a)}}tx.now=h$.now;class d$ extends tx{constructor(l,a=tx.now){super(l,a),this.actions=[],this._active=!1}flush(l){const{actions:a}=this;if(this._active)return void a.push(l);let h;this._active=!0;do{if(h=l.execute(l.state,l.delay))break}while(l=a.shift());if(this._active=!1,h){for(;l=a.shift();)l.unsubscribe();throw h}}}new d$(u$);const TJe=["addListener","removeListener"],kJe=["addEventListener","removeEventListener"],DJe=["on","off"];function qh(c,l,a,h){if(ye(a)&&(h=a,a=void 0),h)return qh(c,l,a).pipe(u6(h));const[d,f]=function PJe(c){return ye(c.addEventListener)&&ye(c.removeEventListener)}(c)?kJe.map(p=>g=>c[p](l,g,a)):function MJe(c){return ye(c.addListener)&&ye(c.removeListener)}(c)?TJe.map(Gfe(c,l)):function EJe(c){return ye(c.on)&&ye(c.off)}(c)?DJe.map(Gfe(c,l)):[];if(!d&&VL(c))return ma(p=>qh(p,l,a))(Al(c));if(!d)throw new TypeError("Invalid event target");return new at(p=>{const g=(...m)=>p.next(1<m.length?m:m[0]);return d(g),()=>f(g)})}function Gfe(c,l){return a=>h=>c[a](l,h)}class pP extends Pt{constructor(l=1/0,a=1/0,h=h$){super(),this._bufferSize=l,this._windowTime=a,this._timestampProvider=h,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=a===1/0,this._bufferSize=Math.max(1,l),this._windowTime=Math.max(1,a)}next(l){const{isStopped:a,_buffer:h,_infiniteTimeWindow:d,_timestampProvider:f,_windowTime:p}=this;a||(h.push(l),!d&&h.push(f.now()+p)),this._trimBuffer(),super.next(l)}_subscribe(l){this._throwIfClosed(),this._trimBuffer();const a=this._innerSubscribe(l),{_infiniteTimeWindow:h,_buffer:d}=this,f=d.slice();for(let p=0;p<f.length&&!l.closed;p+=h?1:2)l.next(f[p]);return this._checkFinalizedStatuses(l),a}_trimBuffer(){const{_bufferSize:l,_timestampProvider:a,_buffer:h,_infiniteTimeWindow:d}=this,f=(d?1:2)*l;if(l<1/0&&f<h.length&&h.splice(0,h.length-f),!d){const p=a.now();let g=0;for(let m=1;m<h.length&&h[m]<=p;m+=2)g=m;g&&h.splice(0,g+1)}}}class Xfe{}class AJe{}const Ip="*";function ih(c,l){return{type:7,name:c,definitions:l,options:{}}}function fl(c,l=null){return{type:4,styles:l,timings:c}}function Yfe(c,l=null){return{type:2,steps:c,options:l}}function _r(c){return{type:6,styles:c,offset:null}}function IJe(c){return{type:5,steps:c}}function ra(c,l,a=null){return{type:1,expr:c,animation:l,options:a}}class nx{constructor(l=0,a=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=l+a}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(l=>l()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(l){this._position=this.totalTime?l*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(l){const a="start"==l?this._onStartFns:this._onDoneFns;a.forEach(h=>h()),a.length=0}}class qfe{constructor(l){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=l;let a=0,h=0,d=0;const f=this.players.length;0==f?queueMicrotask(()=>this._onFinish()):this.players.forEach(p=>{p.onDone(()=>{++a==f&&this._onFinish()}),p.onDestroy(()=>{++h==f&&this._onDestroy()}),p.onStart(()=>{++d==f&&this._onStart()})}),this.totalTime=this.players.reduce((p,g)=>Math.max(p,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this.players.forEach(l=>l.init())}onStart(l){this._onStartFns.push(l)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(l=>l()),this._onStartFns=[])}onDone(l){this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(l=>l.play())}pause(){this.players.forEach(l=>l.pause())}restart(){this.players.forEach(l=>l.restart())}finish(){this._onFinish(),this.players.forEach(l=>l.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(l=>l.destroy()),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this.players.forEach(l=>l.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(l){const a=l*this.totalTime;this.players.forEach(h=>{const d=h.totalTime?Math.min(1,a/h.totalTime):1;h.setPosition(d)})}getPosition(){const l=this.players.reduce((a,h)=>null===a||h.totalTime>a.totalTime?h:a,null);return null!=l?l.getPosition():0}beforeDestroy(){this.players.forEach(l=>{l.beforeDestroy&&l.beforeDestroy()})}triggerCallback(l){const a="start"==l?this._onStartFns:this._onDoneFns;a.forEach(h=>h()),a.length=0}}let Kfe=(()=>{class c{constructor(a,h){this._renderer=a,this._elementRef=h,this.onChange=d=>{},this.onTouched=()=>{}}setProperty(a,h){this._renderer.setProperty(this._elementRef.nativeElement,a,h)}registerOnTouched(a){this.onTouched=a}registerOnChange(a){this.onChange=a}setDisabledState(a){this.setProperty("disabled",a)}static#e=this.\u0275fac=function(h){return new(h||c)(V(ji),V(Rn))};static#t=this.\u0275dir=wt({type:c})}return c})(),Q1=(()=>{class c extends Kfe{static#e=this.\u0275fac=function(){let a;return function(d){return(a||(a=us(c)))(d||c)}}();static#t=this.\u0275dir=wt({type:c,features:[_n]})}return c})();const af=new an("NgValueAccessor"),LJe={provide:af,useExisting:Os(()=>rh),multi:!0};let rh=(()=>{class c extends Q1{writeValue(a){this.setProperty("checked",a)}static#e=this.\u0275fac=function(){let a;return function(d){return(a||(a=us(c)))(d||c)}}();static#t=this.\u0275dir=wt({type:c,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(h,d){1&h&&Y("change",function(p){return d.onChange(p.target.checked)})("blur",function(){return d.onTouched()})},features:[kn([LJe]),_n]})}return c})();const NJe={provide:af,useExisting:Os(()=>za),multi:!0},BJe=new an("CompositionEventMode");let za=(()=>{class c extends Kfe{constructor(a,h,d){super(a,h),this._compositionMode=d,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function FJe(){const c=Eg()?Eg().getUserAgent():"";return/android (\d+)/.test(c.toLowerCase())}())}writeValue(a){this.setProperty("value",a??"")}_handleInput(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}_compositionStart(){this._composing=!0}_compositionEnd(a){this._composing=!1,this._compositionMode&&this.onChange(a)}static#e=this.\u0275fac=function(h){return new(h||c)(V(ji),V(Rn),V(BJe,8))};static#t=this.\u0275dir=wt({type:c,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(h,d){1&h&&Y("input",function(p){return d._handleInput(p.target.value)})("blur",function(){return d.onTouched()})("compositionstart",function(){return d._compositionStart()})("compositionend",function(p){return d._compositionEnd(p.target.value)})},features:[kn([NJe]),_n]})}return c})();const Ua=new an("NgValidators"),dm=new an("NgAsyncValidators");function npe(c){return function hm(c){return null==c||("string"==typeof c||Array.isArray(c))&&0===c.length}(c.value)?{required:!0}:null}function mP(c){return null}function lpe(c){return null!=c}function cpe(c){return KS(c)?Zo(c):c}function upe(c){let l={};return c.forEach(a=>{l=null!=a?{...l,...a}:l}),0===Object.keys(l).length?null:l}function hpe(c,l){return l.map(a=>a(c))}function dpe(c){return c.map(l=>function $Je(c){return!c.validate}(l)?l:a=>l.validate(a))}function p$(c){return null!=c?function fpe(c){if(!c)return null;const l=c.filter(lpe);return 0==l.length?null:function(a){return upe(hpe(a,l))}}(dpe(c)):null}function g$(c){return null!=c?function ppe(c){if(!c)return null;const l=c.filter(lpe);return 0==l.length?null:function(a){return function RJe(...c){const l=uY(c),{args:a,keys:h}=Qie(c),d=new at(f=>{const{length:p}=a;if(!p)return void f.complete();const g=new Array(p);let m=p,v=p;for(let _=0;_<p;_++){let y=!1;Al(a[_]).subscribe(Wi(f,b=>{y||(y=!0,v--),g[_]=b},()=>m--,void 0,()=>{(!m||!y)&&(v||f.next(h?Hie(h,g):g),f.complete())}))}});return l?d.pipe(u6(l)):d}(hpe(a,l).map(cpe)).pipe(Oi(upe))}}(dpe(c)):null}function gpe(c,l){return null===c?[l]:Array.isArray(c)?[...c,l]:[c,l]}function m$(c){return c?Array.isArray(c)?c:[c]:[]}function vP(c,l){return Array.isArray(c)?c.includes(l):c===l}function _pe(c,l){const a=m$(l);return m$(c).forEach(d=>{vP(a,d)||a.push(d)}),a}function ype(c,l){return m$(l).filter(a=>!vP(c,a))}class bpe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(l){this._rawValidators=l||[],this._composedValidatorFn=p$(this._rawValidators)}_setAsyncValidators(l){this._rawAsyncValidators=l||[],this._composedAsyncValidatorFn=g$(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(l){this._onDestroyCallbacks.push(l)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(l=>l()),this._onDestroyCallbacks=[]}reset(l=void 0){this.control&&this.control.reset(l)}hasError(l,a){return!!this.control&&this.control.hasError(l,a)}getError(l,a){return this.control?this.control.getError(l,a):null}}class ec extends bpe{get formDirective(){return null}get path(){return null}}class tc extends bpe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ope{constructor(l){this._cd=l}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let sa=(()=>{class c extends Ope{constructor(a){super(a)}static#e=this.\u0275fac=function(h){return new(h||c)(V(tc,2))};static#t=this.\u0275dir=wt({type:c,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(h,d){2&h&&$t("ng-untouched",d.isUntouched)("ng-touched",d.isTouched)("ng-pristine",d.isPristine)("ng-dirty",d.isDirty)("ng-valid",d.isValid)("ng-invalid",d.isInvalid)("ng-pending",d.isPending)},features:[_n]})}return c})(),Kh=(()=>{class c extends Ope{constructor(a){super(a)}static#e=this.\u0275fac=function(h){return new(h||c)(V(ec,10))};static#t=this.\u0275dir=wt({type:c,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(h,d){2&h&&$t("ng-untouched",d.isUntouched)("ng-touched",d.isTouched)("ng-pristine",d.isPristine)("ng-dirty",d.isDirty)("ng-valid",d.isValid)("ng-invalid",d.isInvalid)("ng-pending",d.isPending)("ng-submitted",d.isSubmitted)},features:[_n]})}return c})();const ix="VALID",yP="INVALID",Eb="PENDING",rx="DISABLED";function y$(c){return(bP(c)?c.validators:c)||null}function b$(c,l){return(bP(l)?l.asyncValidators:c)||null}function bP(c){return null!=c&&!Array.isArray(c)&&"object"==typeof c}class xpe{constructor(l,a){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(l),this._assignAsyncValidators(a)}get validator(){return this._composedValidatorFn}set validator(l){this._rawValidators=this._composedValidatorFn=l}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(l){this._rawAsyncValidators=this._composedAsyncValidatorFn=l}get parent(){return this._parent}get valid(){return this.status===ix}get invalid(){return this.status===yP}get pending(){return this.status==Eb}get disabled(){return this.status===rx}get enabled(){return this.status!==rx}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(l){this._assignValidators(l)}setAsyncValidators(l){this._assignAsyncValidators(l)}addValidators(l){this.setValidators(_pe(l,this._rawValidators))}addAsyncValidators(l){this.setAsyncValidators(_pe(l,this._rawAsyncValidators))}removeValidators(l){this.setValidators(ype(l,this._rawValidators))}removeAsyncValidators(l){this.setAsyncValidators(ype(l,this._rawAsyncValidators))}hasValidator(l){return vP(this._rawValidators,l)}hasAsyncValidator(l){return vP(this._rawAsyncValidators,l)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(l={}){this.touched=!0,this._parent&&!l.onlySelf&&this._parent.markAsTouched(l)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(l=>l.markAllAsTouched())}markAsUntouched(l={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0})}),this._parent&&!l.onlySelf&&this._parent._updateTouched(l)}markAsDirty(l={}){this.pristine=!1,this._parent&&!l.onlySelf&&this._parent.markAsDirty(l)}markAsPristine(l={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(a=>{a.markAsPristine({onlySelf:!0})}),this._parent&&!l.onlySelf&&this._parent._updatePristine(l)}markAsPending(l={}){this.status=Eb,!1!==l.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!l.onlySelf&&this._parent.markAsPending(l)}disable(l={}){const a=this._parentMarkedDirty(l.onlySelf);this.status=rx,this.errors=null,this._forEachChild(h=>{h.disable({...l,onlySelf:!0})}),this._updateValue(),!1!==l.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...l,skipPristineCheck:a}),this._onDisabledChange.forEach(h=>h(!0))}enable(l={}){const a=this._parentMarkedDirty(l.onlySelf);this.status=ix,this._forEachChild(h=>{h.enable({...l,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:l.emitEvent}),this._updateAncestors({...l,skipPristineCheck:a}),this._onDisabledChange.forEach(h=>h(!1))}_updateAncestors(l){this._parent&&!l.onlySelf&&(this._parent.updateValueAndValidity(l),l.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(l){this._parent=l}getRawValue(){return this.value}updateValueAndValidity(l={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ix||this.status===Eb)&&this._runAsyncValidator(l.emitEvent)),!1!==l.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!l.onlySelf&&this._parent.updateValueAndValidity(l)}_updateTreeValidity(l={emitEvent:!0}){this._forEachChild(a=>a._updateTreeValidity(l)),this.updateValueAndValidity({onlySelf:!0,emitEvent:l.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rx:ix}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(l){if(this.asyncValidator){this.status=Eb,this._hasOwnPendingAsyncValidator=!0;const a=cpe(this.asyncValidator(this));this._asyncValidationSubscription=a.subscribe(h=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(h,{emitEvent:l})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(l,a={}){this.errors=l,this._updateControlsErrors(!1!==a.emitEvent)}get(l){let a=l;return null==a||(Array.isArray(a)||(a=a.split(".")),0===a.length)?null:a.reduce((h,d)=>h&&h._find(d),this)}getError(l,a){const h=a?this.get(a):this;return h&&h.errors?h.errors[l]:null}hasError(l,a){return!!this.getError(l,a)}get root(){let l=this;for(;l._parent;)l=l._parent;return l}_updateControlsErrors(l){this.status=this._calculateStatus(),l&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(l)}_initObservables(){this.valueChanges=new Tt,this.statusChanges=new Tt}_calculateStatus(){return this._allControlsDisabled()?rx:this.errors?yP:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eb)?Eb:this._anyControlsHaveStatus(yP)?yP:ix}_anyControlsHaveStatus(l){return this._anyControls(a=>a.status===l)}_anyControlsDirty(){return this._anyControls(l=>l.dirty)}_anyControlsTouched(){return this._anyControls(l=>l.touched)}_updatePristine(l={}){this.pristine=!this._anyControlsDirty(),this._parent&&!l.onlySelf&&this._parent._updatePristine(l)}_updateTouched(l={}){this.touched=this._anyControlsTouched(),this._parent&&!l.onlySelf&&this._parent._updateTouched(l)}_registerOnCollectionChange(l){this._onCollectionChange=l}_setUpdateStrategy(l){bP(l)&&null!=l.updateOn&&(this._updateOn=l.updateOn)}_parentMarkedDirty(l){return!l&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(l){return null}_assignValidators(l){this._rawValidators=Array.isArray(l)?l.slice():l,this._composedValidatorFn=function HJe(c){return Array.isArray(c)?p$(c):c||null}(this._rawValidators)}_assignAsyncValidators(l){this._rawAsyncValidators=Array.isArray(l)?l.slice():l,this._composedAsyncValidatorFn=function WJe(c){return Array.isArray(c)?g$(c):c||null}(this._rawAsyncValidators)}}class OP extends xpe{constructor(l,a,h){super(y$(a),b$(h,a)),this.controls=l,this._initObservables(),this._setUpdateStrategy(a),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(l,a){return this.controls[l]?this.controls[l]:(this.controls[l]=a,a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange),a)}addControl(l,a,h={}){this.registerControl(l,a),this.updateValueAndValidity({emitEvent:h.emitEvent}),this._onCollectionChange()}removeControl(l,a={}){this.controls[l]&&this.controls[l]._registerOnCollectionChange(()=>{}),delete this.controls[l],this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}setControl(l,a,h={}){this.controls[l]&&this.controls[l]._registerOnCollectionChange(()=>{}),delete this.controls[l],a&&this.registerControl(l,a),this.updateValueAndValidity({emitEvent:h.emitEvent}),this._onCollectionChange()}contains(l){return this.controls.hasOwnProperty(l)&&this.controls[l].enabled}setValue(l,a={}){(function wpe(c,l,a){c._forEachChild((h,d)=>{if(void 0===a[d])throw new Ct(1002,"")})})(this,0,l),Object.keys(l).forEach(h=>{(function Spe(c,l,a){const h=c.controls;if(!(l?Object.keys(h):h).length)throw new Ct(1e3,"");if(!h[a])throw new Ct(1001,"")})(this,!0,h),this.controls[h].setValue(l[h],{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a)}patchValue(l,a={}){null!=l&&(Object.keys(l).forEach(h=>{const d=this.controls[h];d&&d.patchValue(l[h],{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a))}reset(l={},a={}){this._forEachChild((h,d)=>{h.reset(l?l[d]:null,{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}getRawValue(){return this._reduceChildren({},(l,a,h)=>(l[h]=a.getRawValue(),l))}_syncPendingControls(){let l=this._reduceChildren(!1,(a,h)=>!!h._syncPendingControls()||a);return l&&this.updateValueAndValidity({onlySelf:!0}),l}_forEachChild(l){Object.keys(this.controls).forEach(a=>{const h=this.controls[a];h&&l(h,a)})}_setUpControls(){this._forEachChild(l=>{l.setParent(this),l._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(l){for(const[a,h]of Object.entries(this.controls))if(this.contains(a)&&l(h))return!0;return!1}_reduceValue(){return this._reduceChildren({},(a,h,d)=>((h.enabled||this.disabled)&&(a[d]=h.value),a))}_reduceChildren(l,a){let h=l;return this._forEachChild((d,f)=>{h=a(h,d,f)}),h}_allControlsDisabled(){for(const l of Object.keys(this.controls))if(this.controls[l].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(l){return this.controls.hasOwnProperty(l)?this.controls[l]:null}}const Pb=new an("CallSetDisabledState",{providedIn:"root",factory:()=>CP}),CP="always";function sx(c,l,a=CP){O$(c,l),l.valueAccessor.writeValue(c.value),(c.disabled||"always"===a)&&l.valueAccessor.setDisabledState?.(c.disabled),function GJe(c,l){l.valueAccessor.registerOnChange(a=>{c._pendingValue=a,c._pendingChange=!0,c._pendingDirty=!0,"change"===c.updateOn&&Tpe(c,l)})}(c,l),function YJe(c,l){const a=(h,d)=>{l.valueAccessor.writeValue(h),d&&l.viewToModelUpdate(h)};c.registerOnChange(a),l._registerOnDestroy(()=>{c._unregisterOnChange(a)})}(c,l),function XJe(c,l){l.valueAccessor.registerOnTouched(()=>{c._pendingTouched=!0,"blur"===c.updateOn&&c._pendingChange&&Tpe(c,l),"submit"!==c.updateOn&&c.markAsTouched()})}(c,l),function jJe(c,l){if(l.valueAccessor.setDisabledState){const a=h=>{l.valueAccessor.setDisabledState(h)};c.registerOnDisabledChange(a),l._registerOnDestroy(()=>{c._unregisterOnDisabledChange(a)})}}(c,l)}function xP(c,l){c.forEach(a=>{a.registerOnValidatorChange&&a.registerOnValidatorChange(l)})}function O$(c,l){const a=function mpe(c){return c._rawValidators}(c);null!==l.validator?c.setValidators(gpe(a,l.validator)):"function"==typeof a&&c.setValidators([a]);const h=function vpe(c){return c._rawAsyncValidators}(c);null!==l.asyncValidator?c.setAsyncValidators(gpe(h,l.asyncValidator)):"function"==typeof h&&c.setAsyncValidators([h]);const d=()=>c.updateValueAndValidity();xP(l._rawValidators,d),xP(l._rawAsyncValidators,d)}function Tpe(c,l){c._pendingDirty&&c.markAsDirty(),c.setValue(c._pendingValue,{emitModelToViewChange:!1}),l.viewToModelUpdate(c._pendingValue),c._pendingChange=!1}const tet={provide:ec,useExisting:Os(()=>Nc)},ox=(()=>Promise.resolve())();let Nc=(()=>{class c extends ec{constructor(a,h,d){super(),this.callSetDisabledState=d,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Tt,this.form=new OP({},p$(a),g$(h))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(a){ox.then(()=>{const h=this._findContainer(a.path);a.control=h.registerControl(a.name,a.control),sx(a.control,a,this.callSetDisabledState),a.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(a)})}getControl(a){return this.form.get(a.path)}removeControl(a){ox.then(()=>{const h=this._findContainer(a.path);h&&h.removeControl(a.name),this._directives.delete(a)})}addFormGroup(a){ox.then(()=>{const h=this._findContainer(a.path),d=new OP({});(function kpe(c,l){O$(c,l)})(d,a),h.registerControl(a.name,d),d.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(a){ox.then(()=>{const h=this._findContainer(a.path);h&&h.removeControl(a.name)})}getFormGroup(a){return this.form.get(a.path)}updateModel(a,h){ox.then(()=>{this.form.get(a.path).setValue(h)})}setValue(a){this.control.setValue(a)}onSubmit(a){return this.submitted=!0,function Dpe(c,l){c._syncPendingControls(),l.forEach(a=>{const h=a.control;"submit"===h.updateOn&&h._pendingChange&&(a.viewToModelUpdate(h._pendingValue),h._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(a),"dialog"===a?.target?.method}onReset(){this.resetForm()}resetForm(a=void 0){this.form.reset(a),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(a){return a.pop(),a.length?this.form.get(a):this.form}static#e=this.\u0275fac=function(h){return new(h||c)(V(Ua,10),V(dm,10),V(Pb,8))};static#t=this.\u0275dir=wt({type:c,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(h,d){1&h&&Y("submit",function(p){return d.onSubmit(p)})("reset",function(){return d.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[kn([tet]),_n]})}return c})();function Mpe(c,l){const a=c.indexOf(l);a>-1&&c.splice(a,1)}function Epe(c){return"object"==typeof c&&null!==c&&2===Object.keys(c).length&&"value"in c&&"disabled"in c}const x$=class extends xpe{constructor(l=null,a,h){super(y$(a),b$(h,a)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(l),this._setUpdateStrategy(a),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bP(a)&&(a.nonNullable||a.initialValueIsDefault)&&(this.defaultValue=Epe(l)?l.value:l)}setValue(l,a={}){this.value=this._pendingValue=l,this._onChange.length&&!1!==a.emitModelToViewChange&&this._onChange.forEach(h=>h(this.value,!1!==a.emitViewToModelChange)),this.updateValueAndValidity(a)}patchValue(l,a={}){this.setValue(l,a)}reset(l=this.defaultValue,a={}){this._applyFormState(l),this.markAsPristine(a),this.markAsUntouched(a),this.setValue(this.value,a),this._pendingChange=!1}_updateValue(){}_anyControls(l){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(l){this._onChange.push(l)}_unregisterOnChange(l){Mpe(this._onChange,l)}registerOnDisabledChange(l){this._onDisabledChange.push(l)}_unregisterOnDisabledChange(l){Mpe(this._onDisabledChange,l)}_forEachChild(l){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(l){Epe(l)?(this.value=this._pendingValue=l.value,l.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=l}},ret={provide:tc,useExisting:Os(()=>Fo)},Ape=(()=>Promise.resolve())();let Fo=(()=>{class c extends tc{constructor(a,h,d,f,p,g){super(),this._changeDetectorRef=p,this.callSetDisabledState=g,this.control=new x$,this._registered=!1,this.name="",this.update=new Tt,this._parent=a,this._setValidators(h),this._setAsyncValidators(d),this.valueAccessor=function w$(c,l){if(!l)return null;let a,h,d;return Array.isArray(l),l.forEach(f=>{f.constructor===za?a=f:function JJe(c){return Object.getPrototypeOf(c.constructor)===Q1}(f)?h=f:d=f}),d||h||a||null}(0,f)}ngOnChanges(a){if(this._checkForErrors(),!this._registered||"name"in a){if(this._registered&&(this._checkName(),this.formDirective)){const h=a.name.previousValue;this.formDirective.removeControl({name:h,path:this._getPath(h)})}this._setUpControl()}"isDisabled"in a&&this._updateDisabled(a),function S$(c,l){if(!c.hasOwnProperty("model"))return!1;const a=c.model;return!!a.isFirstChange()||!Object.is(l,a.currentValue)}(a,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(a){this.viewModel=a,this.update.emit(a)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(a){Ape.then(()=>{this.control.setValue(a,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(a){const h=a.isDisabled.currentValue,d=0!==h&&ly(h);Ape.then(()=>{d&&!this.control.disabled?this.control.disable():!d&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(a){return this._parent?function SP(c,l){return[...l.path,c]}(a,this._parent):[a]}static#e=this.\u0275fac=function(h){return new(h||c)(V(ec,9),V(Ua,10),V(dm,10),V(af,10),V(wo,8),V(Pb,8))};static#t=this.\u0275dir=wt({type:c,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[kn([ret]),_n,So]})}return c})(),Jh=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275dir=wt({type:c,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return c})();const oet={provide:af,useExisting:Os(()=>H1),multi:!0};let Ipe=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=jn({type:c});static#n=this.\u0275inj=Wn({})}return c})(),aet=(()=>{class c{constructor(){this._accessors=[]}add(a,h){this._accessors.push([a,h])}remove(a){for(let h=this._accessors.length-1;h>=0;--h)if(this._accessors[h][1]===a)return void this._accessors.splice(h,1)}select(a){this._accessors.forEach(h=>{this._isSameGroup(h,a)&&h[1]!==a&&h[1].fireUncheck(a.value)})}_isSameGroup(a,h){return!!a[0].control&&a[0]._parent===h._control._parent&&a[1].name===h.name}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:Ipe})}return c})(),H1=(()=>{class c extends Q1{constructor(a,h,d,f){super(a,h),this._registry=d,this._injector=f,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Dn(Pb,{optional:!0})??CP}ngOnInit(){this._control=this._injector.get(tc),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(a){this._state=a===this.value,this.setProperty("checked",this._state)}registerOnChange(a){this._fn=a,this.onChange=()=>{a(this.value),this._registry.select(this)}}setDisabledState(a){(this.setDisabledStateFired||a||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",a),this.setDisabledStateFired=!0}fireUncheck(a){this.writeValue(a)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(h){return new(h||c)(V(ji),V(Rn),V(aet),V(ws))};static#t=this.\u0275dir=wt({type:c,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(h,d){1&h&&Y("change",function(){return d.onChange()})("blur",function(){return d.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[kn([oet]),_n]})}return c})();const cet={provide:af,useExisting:Os(()=>D$),multi:!0};let D$=(()=>{class c extends Q1{writeValue(a){this.setProperty("value",parseFloat(a))}registerOnChange(a){this.onChange=h=>{a(""==h?null:parseFloat(h))}}static#e=this.\u0275fac=function(){let a;return function(d){return(a||(a=us(c)))(d||c)}}();static#t=this.\u0275dir=wt({type:c,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(h,d){1&h&&Y("change",function(p){return d.onChange(p.target.value)})("input",function(p){return d.onChange(p.target.value)})("blur",function(){return d.onTouched()})},features:[kn([cet]),_n]})}return c})(),W1=(()=>{class c{constructor(){this._validator=mP}ngOnChanges(a){if(this.inputName in a){const h=this.normalizeInput(a[this.inputName].currentValue);this._enabled=this.enabled(h),this._validator=this._enabled?this.createValidator(h):mP,this._onChange&&this._onChange()}}validate(a){return this._validator(a)}registerOnValidatorChange(a){this._onChange=a}enabled(a){return null!=a}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275dir=wt({type:c,features:[So]})}return c})();const Oet={provide:Ua,useExisting:Os(()=>Z1),multi:!0};let P$,Z1=(()=>{class c extends W1{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ly,this.createValidator=a=>npe}enabled(a){return a}static#e=this.\u0275fac=function(){let a;return function(d){return(a||(a=us(c)))(d||c)}}();static#t=this.\u0275dir=wt({type:c,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(h,d){2&h&&Je("required",d._enabled?"":null)},inputs:{required:"required"},features:[kn([Oet]),_n]})}return c})(),Det=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=jn({type:c});static#n=this.\u0275inj=Wn({imports:[Ipe]})}return c})(),fm=(()=>{class c{static withConfig(a){return{ngModule:c,providers:[{provide:Pb,useValue:a.callSetDisabledState??CP}]}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=jn({type:c});static#n=this.\u0275inj=Wn({imports:[Det]})}return c})();try{P$=typeof Intl<"u"&&Intl.v8BreakIterator}catch{P$=!1}let A$=(()=>{class c{constructor(a){this._platformId=a,this.isBrowser=this._platformId?Zr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!P$)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(hs))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function lf(c){return null!=c&&"false"!=`${c}`}let Uet=(()=>{class c{constructor(a){this._platform=a}isDisabled(a){return a.hasAttribute("disabled")}isVisible(a){return function Het(c){return!!(c.offsetWidth||c.offsetHeight||"function"==typeof c.getClientRects&&c.getClientRects().length)}(a)&&"visible"===getComputedStyle(a).visibility}isTabbable(a){if(!this._platform.isBrowser)return!1;const h=function Qet(c){try{return c.frameElement}catch{return null}}(function Ket(c){return c.ownerDocument&&c.ownerDocument.defaultView||window}(a));if(h&&(-1===ige(h)||!this.isVisible(h)))return!1;let d=a.nodeName.toLowerCase(),f=ige(a);return a.hasAttribute("contenteditable")?-1!==f:!("iframe"===d||"object"===d||this._platform.WEBKIT&&this._platform.IOS&&!function Yet(c){let l=c.nodeName.toLowerCase(),a="input"===l&&c.type;return"text"===a||"password"===a||"select"===l||"textarea"===l}(a))&&("audio"===d?!!a.hasAttribute("controls")&&-1!==f:"video"===d?-1!==f&&(null!==f||this._platform.FIREFOX||a.hasAttribute("controls")):a.tabIndex>=0)}isFocusable(a,h){return function qet(c){return!function Zet(c){return function Get(c){return"input"==c.nodeName.toLowerCase()}(c)&&"hidden"==c.type}(c)&&(function Wet(c){let l=c.nodeName.toLowerCase();return"input"===l||"select"===l||"button"===l||"textarea"===l}(c)||function jet(c){return function Xet(c){return"a"==c.nodeName.toLowerCase()}(c)&&c.hasAttribute("href")}(c)||c.hasAttribute("contenteditable")||nge(c))}(a)&&!this.isDisabled(a)&&(h?.ignoreVisibility||this.isVisible(a))}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(A$))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function nge(c){if(!c.hasAttribute("tabindex")||void 0===c.tabIndex)return!1;let l=c.getAttribute("tabindex");return!(!l||isNaN(parseInt(l,10)))}function ige(c){if(!nge(c))return null;const l=parseInt(c.getAttribute("tabindex")||"",10);return isNaN(l)?-1:l}class Jet{get enabled(){return this._enabled}set enabled(l){this._enabled=l,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(l,this._startAnchor),this._toggleAnchorTabIndex(l,this._endAnchor))}constructor(l,a,h,d,f=!1){this._element=l,this._checker=a,this._ngZone=h,this._document=d,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,f||this.attachAnchors()}destroy(){const l=this._startAnchor,a=this._endAnchor;l&&(l.removeEventListener("focus",this.startAnchorListener),l.remove()),a&&(a.removeEventListener("focus",this.endAnchorListener),a.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(l){return new Promise(a=>{this._executeOnStable(()=>a(this.focusInitialElement(l)))})}focusFirstTabbableElementWhenReady(l){return new Promise(a=>{this._executeOnStable(()=>a(this.focusFirstTabbableElement(l)))})}focusLastTabbableElementWhenReady(l){return new Promise(a=>{this._executeOnStable(()=>a(this.focusLastTabbableElement(l)))})}_getRegionBoundary(l){const a=this._element.querySelectorAll(`[cdk-focus-region-${l}], [cdkFocusRegion${l}], [cdk-focus-${l}]`);return"start"==l?a.length?a[0]:this._getFirstTabbableElement(this._element):a.length?a[a.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(l){const a=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(a){if(!this._checker.isFocusable(a)){const h=this._getFirstTabbableElement(a);return h?.focus(l),!!h}return a.focus(l),!0}return this.focusFirstTabbableElement(l)}focusFirstTabbableElement(l){const a=this._getRegionBoundary("start");return a&&a.focus(l),!!a}focusLastTabbableElement(l){const a=this._getRegionBoundary("end");return a&&a.focus(l),!!a}hasAttached(){return this._hasAttached}_getFirstTabbableElement(l){if(this._checker.isFocusable(l)&&this._checker.isTabbable(l))return l;const a=l.children;for(let h=0;h<a.length;h++){const d=a[h].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(a[h]):null;if(d)return d}return null}_getLastTabbableElement(l){if(this._checker.isFocusable(l)&&this._checker.isTabbable(l))return l;const a=l.children;for(let h=a.length-1;h>=0;h--){const d=a[h].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(a[h]):null;if(d)return d}return null}_createAnchor(){const l=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,l),l.classList.add("cdk-visually-hidden"),l.classList.add("cdk-focus-trap-anchor"),l.setAttribute("aria-hidden","true"),l}_toggleAnchorTabIndex(l,a){l?a.setAttribute("tabindex","0"):a.removeAttribute("tabindex")}toggleAnchors(l){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(l,this._startAnchor),this._toggleAnchorTabIndex(l,this._endAnchor))}_executeOnStable(l){this._ngZone.isStable?l():this._ngZone.onStable.pipe(Rh(1)).subscribe(l)}}let ett=(()=>{class c{constructor(a,h,d){this._checker=a,this._ngZone=h,this._document=d}create(a,h=!1){return new Jet(a,this._checker,this._ngZone,this._document,h)}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(Uet),Ee(Di),Ee(Pr))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),rge=(()=>{class c{get enabled(){return this.focusTrap.enabled}set enabled(a){this.focusTrap.enabled=lf(a)}get autoCapture(){return this._autoCapture}set autoCapture(a){this._autoCapture=lf(a)}constructor(a,h,d){this._elementRef=a,this._focusTrapFactory=h,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(a){const h=a.autoCapture;h&&!h.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=function Aet(){let c=typeof document<"u"&&document?document.activeElement:null;for(;c&&c.shadowRoot;){const l=c.shadowRoot.activeElement;if(l===c)break;c=l}return c}(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(h){return new(h||c)(V(Rn),V(ett),V(Pr))};static#t=this.\u0275dir=wt({type:c,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[So]})}return c})();const cx={schedule(c){let l=requestAnimationFrame,a=cancelAnimationFrame;const{delegate:h}=cx;h&&(l=h.requestAnimationFrame,a=h.cancelAnimationFrame);const d=l(f=>{a=void 0,c(f)});return new Fe(()=>a?.(d))},requestAnimationFrame(...c){const{delegate:l}=cx;return(l?.requestAnimationFrame||requestAnimationFrame)(...c)},cancelAnimationFrame(...c){const{delegate:l}=cx;return(l?.cancelAnimationFrame||cancelAnimationFrame)(...c)},delegate:void 0};new class stt extends d${flush(l){this._active=!0;const a=this._scheduled;this._scheduled=void 0;const{actions:h}=this;let d;l=l||h.shift();do{if(d=l.execute(l.state,l.delay))break}while((l=h[0])&&l.id===a&&h.shift());if(this._active=!1,d){for(;(l=h[0])&&l.id===a&&h.shift();)l.unsubscribe();throw d}}}(class rtt extends u${constructor(l,a){super(l,a),this.scheduler=l,this.work=a}requestAsyncId(l,a,h=0){return null!==h&&h>0?super.requestAsyncId(l,a,h):(l.actions.push(this),l._scheduled||(l._scheduled=cx.requestAnimationFrame(()=>l.flush(void 0))))}recycleAsyncId(l,a,h=0){var d;if(null!=h?h>0:this.delay>0)return super.recycleAsyncId(l,a,h);const{actions:f}=l;null!=a&&(null===(d=f[f.length-1])||void 0===d?void 0:d.id)!==a&&(cx.cancelAnimationFrame(a),l._scheduled=void 0)}});let R$,ott=1;const AP={};function oge(c){return c in AP&&(delete AP[c],!0)}const att={setImmediate(c){const l=ott++;return AP[l]=!0,R$||(R$=Promise.resolve()),R$.then(()=>oge(l)&&c()),l},clearImmediate(c){oge(c)}},{setImmediate:ltt,clearImmediate:ctt}=att,IP={setImmediate(...c){const{delegate:l}=IP;return(l?.setImmediate||ltt)(...c)},clearImmediate(c){const{delegate:l}=IP;return(l?.clearImmediate||ctt)(c)},delegate:void 0},$tt=(new class htt extends d${flush(l){this._active=!0;const a=this._scheduled;this._scheduled=void 0;const{actions:h}=this;let d;l=l||h.shift();do{if(d=l.execute(l.state,l.delay))break}while((l=h[0])&&l.id===a&&h.shift());if(this._active=!1,d){for(;(l=h[0])&&l.id===a&&h.shift();)l.unsubscribe();throw d}}}(class utt extends u${constructor(l,a){super(l,a),this.scheduler=l,this.work=a}requestAsyncId(l,a,h=0){return null!==h&&h>0?super.requestAsyncId(l,a,h):(l.actions.push(this),l._scheduled||(l._scheduled=IP.setImmediate(l.flush.bind(l,void 0))))}recycleAsyncId(l,a,h=0){var d;if(null!=h?h>0:this.delay>0)return super.recycleAsyncId(l,a,h);const{actions:f}=l;null!=a&&(null===(d=f[f.length-1])||void 0===d?void 0:d.id)!==a&&(IP.clearImmediate(a),l._scheduled===a&&(l._scheduled=void 0))}}),Rfe(3,(c,l,a)=>{!function hJe(c,l){return l||(l=window&&window.customElements),!l||!!l.get(c)}(c)||function GKe(){return window?.location?.href?.includes("localhost:6006")}()?(a.define(c,l),Nfe(),window&&!Object.keys(window.CDS._state.elementRegistry).some(h=>h===c)&&(window.CDS._state.elementRegistry={...window.CDS._state.elementRegistry,[c]:{}})):U1.warn(c+" has already been registered")}));function Age(c,l){Cfe()&&Lfe(["customElements"])&&$tt(c,l,window.customElements)}let Ige=!1;function ztt(c){if((c=Math.trunc(c)||0)<0&&(c+=this.length),!(c<0||c>=this.length))return this[c]}if(!Ige){Ige=!0;const c=Reflect.getPrototypeOf(Int8Array);for(const l of[Array,String,c])Object.defineProperty(l.prototype,"at",{value:ztt,writable:!0,enumerable:!1,configurable:!0})}let Rge=!1,Lge=!1;function Nge(c,l,a){Object.defineProperty(c,a,{configurable:!0,enumerable:!0,get:function(){return this.hasAttribute(l)?this.getAttribute(l):null},set:function(h){null!==h?this.setAttribute(l,h):this.removeAttribute(l)}})}function Fge(c,l,a,h,d,f,p){try{var g=c[f](p),m=g.value}catch(v){return void a(v)}g.done?l(m):Promise.resolve(m).then(h,d)}function Q$(c){return function(){var l=this,a=arguments;return new Promise(function(h,d){var f=c.apply(l,a);function p(m){Fge(f,h,d,p,g,"next",m)}function g(m){Fge(f,h,d,p,g,"throw",m)}p(void 0)})}}Rge||Element.prototype.hasOwnProperty("role")||(Nge(Element.prototype,"role","role"),Rge=!0),Lge||Element.prototype.hasOwnProperty("ariaLabel")||(Lge=!0,["ActiveDescendant","Atomic","AutoComplete","Busy","Checked","ColCount","ColIndex","ColSpan","Controls","Current","DescribedBy","Details","Disabled","ErrorMessage","Expanded","FlowTo","HasPopup","Hidden","Invalid","KeyShortcuts","Label","LabelledBy","Level","Live","Modal","MultiLine","MultiSelectable","Orientation","Owns","Placeholder","PosInSet","Pressed","ReadOnly","Relevant","Required","RoleDescription","RowCount","RowIndex","RowSpan","Selected","SetSize","Sort","ValueMax","ValueMin","ValueNow","ValueText"].forEach(c=>Nge(Element.prototype,"aria-"+c.toLowerCase(),"aria"+c)));const BP=window,H$=BP.ShadowRoot&&(void 0===BP.ShadyCSS||BP.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,W$=Symbol(),Bge=new WeakMap;class Vge{constructor(l,a,h){if(this._$cssResult$=!0,h!==W$)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=l,this.t=a}get styleSheet(){let l=this.o;const a=this.t;if(H$&&void 0===l){const h=void 0!==a&&1===a.length;h&&(l=Bge.get(a)),void 0===l&&((this.o=l=new CSSStyleSheet).replaceSync(this.cssText),h&&Bge.set(a,l))}return l}toString(){return this.cssText}}const Z$=(c,...l)=>{const a=1===c.length?c[0]:l.reduce((h,d,f)=>h+(p=>{if(!0===p._$cssResult$)return p.cssText;if("number"==typeof p)return p;throw Error("Value passed to 'css' function must be a 'css' function result: "+p+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(d)+c[f+1],c[0]);return new Vge(a,c,W$)},$ge=H$?c=>c:c=>c instanceof CSSStyleSheet?(l=>{let a="";for(const h of l.cssRules)a+=h.cssText;return(c=>new Vge("string"==typeof c?c:c+"",void 0,W$))(a)})(c):c;var j$;const VP=window,zge=VP.trustedTypes,Htt=zge?zge.emptyScript:"",Uge=VP.reactiveElementPolyfillSupport,G$={toAttribute(c,l){switch(l){case Boolean:c=c?Htt:null;break;case Object:case Array:c=null==c?c:JSON.stringify(c)}return c},fromAttribute(c,l){let a=c;switch(l){case Boolean:a=null!==c;break;case Number:a=null===c?null:Number(c);break;case Object:case Array:try{a=JSON.parse(c)}catch{a=null}}return a}},Qge=(c,l)=>l!==c&&(l==l||c==c),X$={attribute:!0,type:String,converter:G$,reflect:!1,hasChanged:Qge},Y$="finalized";class Rb extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(l){var a;this.finalize(),(null!==(a=this.h)&&void 0!==a?a:this.h=[]).push(l)}static get observedAttributes(){this.finalize();const l=[];return this.elementProperties.forEach((a,h)=>{const d=this._$Ep(h,a);void 0!==d&&(this._$Ev.set(d,h),l.push(d))}),l}static createProperty(l,a=X$){if(a.state&&(a.attribute=!1),this.finalize(),this.elementProperties.set(l,a),!a.noAccessor&&!this.prototype.hasOwnProperty(l)){const h="symbol"==typeof l?Symbol():"__"+l,d=this.getPropertyDescriptor(l,h,a);void 0!==d&&Object.defineProperty(this.prototype,l,d)}}static getPropertyDescriptor(l,a,h){return{get(){return this[a]},set(d){const f=this[l];this[a]=d,this.requestUpdate(l,f,h)},configurable:!0,enumerable:!0}}static getPropertyOptions(l){return this.elementProperties.get(l)||X$}static finalize(){if(this.hasOwnProperty(Y$))return!1;this[Y$]=!0;const l=Object.getPrototypeOf(this);if(l.finalize(),void 0!==l.h&&(this.h=[...l.h]),this.elementProperties=new Map(l.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const a=this.properties,h=[...Object.getOwnPropertyNames(a),...Object.getOwnPropertySymbols(a)];for(const d of h)this.createProperty(d,a[d])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(l){const a=[];if(Array.isArray(l)){const h=new Set(l.flat(1/0).reverse());for(const d of h)a.unshift($ge(d))}else void 0!==l&&a.push($ge(l));return a}static _$Ep(l,a){const h=a.attribute;return!1===h?void 0:"string"==typeof h?h:"string"==typeof l?l.toLowerCase():void 0}_$Eu(){var l;this._$E_=new Promise(a=>this.enableUpdating=a),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(l=this.constructor.h)||void 0===l||l.forEach(a=>a(this))}addController(l){var a,h;(null!==(a=this._$ES)&&void 0!==a?a:this._$ES=[]).push(l),void 0!==this.renderRoot&&this.isConnected&&(null===(h=l.hostConnected)||void 0===h||h.call(l))}removeController(l){var a;null===(a=this._$ES)||void 0===a||a.splice(this._$ES.indexOf(l)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((l,a)=>{this.hasOwnProperty(a)&&(this._$Ei.set(a,this[a]),delete this[a])})}createRenderRoot(){var l;const a=null!==(l=this.shadowRoot)&&void 0!==l?l:this.attachShadow(this.constructor.shadowRootOptions);return((c,l)=>{H$?c.adoptedStyleSheets=l.map(a=>a instanceof CSSStyleSheet?a:a.styleSheet):l.forEach(a=>{const h=document.createElement("style"),d=BP.litNonce;void 0!==d&&h.setAttribute("nonce",d),h.textContent=a.cssText,c.appendChild(h)})})(a,this.constructor.elementStyles),a}connectedCallback(){var l;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(l=this._$ES)||void 0===l||l.forEach(a=>{var h;return null===(h=a.hostConnected)||void 0===h?void 0:h.call(a)})}enableUpdating(l){}disconnectedCallback(){var l;null===(l=this._$ES)||void 0===l||l.forEach(a=>{var h;return null===(h=a.hostDisconnected)||void 0===h?void 0:h.call(a)})}attributeChangedCallback(l,a,h){this._$AK(l,h)}_$EO(l,a,h=X$){var d;const f=this.constructor._$Ep(l,h);if(void 0!==f&&!0===h.reflect){const p=(void 0!==(null===(d=h.converter)||void 0===d?void 0:d.toAttribute)?h.converter:G$).toAttribute(a,h.type);this._$El=l,null==p?this.removeAttribute(f):this.setAttribute(f,p),this._$El=null}}_$AK(l,a){var h;const d=this.constructor,f=d._$Ev.get(l);if(void 0!==f&&this._$El!==f){const p=d.getPropertyOptions(f),g="function"==typeof p.converter?{fromAttribute:p.converter}:void 0!==(null===(h=p.converter)||void 0===h?void 0:h.fromAttribute)?p.converter:G$;this._$El=f,this[f]=g.fromAttribute(a,p.type),this._$El=null}}requestUpdate(l,a,h){let d=!0;void 0!==l&&(((h=h||this.constructor.getPropertyOptions(l)).hasChanged||Qge)(this[l],a)?(this._$AL.has(l)||this._$AL.set(l,a),!0===h.reflect&&this._$El!==l&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(l,h))):d=!1),!this.isUpdatePending&&d&&(this._$E_=this._$Ej())}_$Ej(){var l=this;return Q$(function*(){l.isUpdatePending=!0;try{yield l._$E_}catch(h){Promise.reject(h)}const a=l.scheduleUpdate();return null!=a&&(yield a),!l.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var l;if(!this.isUpdatePending)return;this._$Ei&&(this._$Ei.forEach((d,f)=>this[f]=d),this._$Ei=void 0);let a=!1;const h=this._$AL;try{a=this.shouldUpdate(h),a?(this.willUpdate(h),null===(l=this._$ES)||void 0===l||l.forEach(d=>{var f;return null===(f=d.hostUpdate)||void 0===f?void 0:f.call(d)}),this.update(h)):this._$Ek()}catch(d){throw a=!1,this._$Ek(),d}a&&this._$AE(h)}willUpdate(l){}_$AE(l){var a;null===(a=this._$ES)||void 0===a||a.forEach(h=>{var d;return null===(d=h.hostUpdated)||void 0===d?void 0:d.call(h)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(l)),this.updated(l)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(l){return!0}update(l){void 0!==this._$EC&&(this._$EC.forEach((a,h)=>this._$EO(h,this[h],a)),this._$EC=void 0),this._$Ek()}updated(l){}firstUpdated(l){}}var q$;Rb[Y$]=!0,Rb.elementProperties=new Map,Rb.elementStyles=[],Rb.shadowRootOptions={mode:"open"},Uge?.({ReactiveElement:Rb}),(null!==(j$=VP.reactiveElementVersions)&&void 0!==j$?j$:VP.reactiveElementVersions=[]).push("1.6.3");const $P=window,Lb=$P.trustedTypes,Hge=Lb?Lb.createPolicy("lit-html",{createHTML:c=>c}):void 0,zP="$lit$",Rp=`lit$${(Math.random()+"").slice(9)}$`,K$="?"+Rp,Wtt=`<${K$}>`,G1=document,fx=()=>G1.createComment(""),px=c=>null===c||"object"!=typeof c&&"function"!=typeof c,Wge=Array.isArray,J$="[ \t\n\f\r]",gx=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,jge=/-->/g,Gge=/>/g,X1=RegExp(`>|${J$}(?:([^\\s"'>=/]+)(${J$}*=${J$}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),Xge=/'/g,Yge=/"/g,qge=/^(?:script|style|textarea|title)$/i,Kge=c=>(l,...a)=>({_$litType$:c,strings:l,values:a}),ez=Kge(1),Ztt=Kge(2),Nb=Symbol.for("lit-noChange"),oa=Symbol.for("lit-nothing"),Jge=new WeakMap,Y1=G1.createTreeWalker(G1,129,null,!1);function eme(c,l){if(!Array.isArray(c)||!c.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==Hge?Hge.createHTML(l):l}class mx{constructor({strings:l,_$litType$:a},h){let d;this.parts=[];let f=0,p=0;const g=l.length-1,m=this.parts,[v,_]=((c,l)=>{const a=c.length-1,h=[];let d,f=2===l?"<svg>":"",p=gx;for(let g=0;g<a;g++){const m=c[g];let v,_,y=-1,b=0;for(;b<m.length&&(p.lastIndex=b,_=p.exec(m),null!==_);)b=p.lastIndex,p===gx?"!--"===_[1]?p=jge:void 0!==_[1]?p=Gge:void 0!==_[2]?(qge.test(_[2])&&(d=RegExp("</"+_[2],"g")),p=X1):void 0!==_[3]&&(p=X1):p===X1?">"===_[0]?(p=d??gx,y=-1):void 0===_[1]?y=-2:(y=p.lastIndex-_[2].length,v=_[1],p=void 0===_[3]?X1:'"'===_[3]?Yge:Xge):p===Yge||p===Xge?p=X1:p===jge||p===Gge?p=gx:(p=X1,d=void 0);const O=p===X1&&c[g+1].startsWith("/>")?" ":"";f+=p===gx?m+Wtt:y>=0?(h.push(v),m.slice(0,y)+zP+m.slice(y)+Rp+O):m+Rp+(-2===y?(h.push(void 0),g):O)}return[eme(c,f+(c[a]||"<?>")+(2===l?"</svg>":"")),h]})(l,a);if(this.el=mx.createElement(v,h),Y1.currentNode=this.el.content,2===a){const y=this.el.content,b=y.firstChild;b.remove(),y.append(...b.childNodes)}for(;null!==(d=Y1.nextNode())&&m.length<g;){if(1===d.nodeType){if(d.hasAttributes()){const y=[];for(const b of d.getAttributeNames())if(b.endsWith(zP)||b.startsWith(Rp)){const O=_[p++];if(y.push(b),void 0!==O){const C=d.getAttribute(O.toLowerCase()+zP).split(Rp),S=/([.?@])?(.*)/.exec(O);m.push({type:1,index:f,name:S[2],strings:C,ctor:"."===S[1]?ime:"?"===S[1]?rme:"@"===S[1]?sme:vx})}else m.push({type:6,index:f})}for(const b of y)d.removeAttribute(b)}if(qge.test(d.tagName)){const y=d.textContent.split(Rp),b=y.length-1;if(b>0){d.textContent=Lb?Lb.emptyScript:"";for(let O=0;O<b;O++)d.append(y[O],fx()),Y1.nextNode(),m.push({type:2,index:++f});d.append(y[b],fx())}}}else if(8===d.nodeType)if(d.data===K$)m.push({type:2,index:f});else{let y=-1;for(;-1!==(y=d.data.indexOf(Rp,y+1));)m.push({type:7,index:f}),y+=Rp.length-1}f++}}static createElement(l,a){const h=G1.createElement("template");return h.innerHTML=l,h}}function q1(c,l,a=c,h){var d,f,p,g;if(l===Nb)return l;let m=void 0!==h?null===(d=a._$Co)||void 0===d?void 0:d[h]:a._$Cl;const v=px(l)?void 0:l._$litDirective$;return m?.constructor!==v&&(null===(f=m?._$AO)||void 0===f||f.call(m,!1),void 0===v?m=void 0:(m=new v(c),m._$AT(c,a,h)),void 0!==h?(null!==(p=(g=a)._$Co)&&void 0!==p?p:g._$Co=[])[h]=m:a._$Cl=m),void 0!==m&&(l=q1(c,m._$AS(c,l.values),m,h)),l}class nme{constructor(l,a){this._$AV=[],this._$AN=void 0,this._$AD=l,this._$AM=a}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(l){var a;const{el:{content:h},parts:d}=this._$AD,f=(null!==(a=l?.creationScope)&&void 0!==a?a:G1).importNode(h,!0);Y1.currentNode=f;let p=Y1.nextNode(),g=0,m=0,v=d[0];for(;void 0!==v;){if(g===v.index){let _;2===v.type?_=new Fb(p,p.nextSibling,this,l):1===v.type?_=new v.ctor(p,v.name,v.strings,this,l):6===v.type&&(_=new ome(p,this,l)),this._$AV.push(_),v=d[++m]}g!==v?.index&&(p=Y1.nextNode(),g++)}return Y1.currentNode=G1,f}v(l){let a=0;for(const h of this._$AV)void 0!==h&&(void 0!==h.strings?(h._$AI(l,h,a),a+=h.strings.length-2):h._$AI(l[a])),a++}}class Fb{constructor(l,a,h,d){var f;this.type=2,this._$AH=oa,this._$AN=void 0,this._$AA=l,this._$AB=a,this._$AM=h,this.options=d,this._$Cp=null===(f=d?.isConnected)||void 0===f||f}get _$AU(){var l,a;return null!==(a=null===(l=this._$AM)||void 0===l?void 0:l._$AU)&&void 0!==a?a:this._$Cp}get parentNode(){let l=this._$AA.parentNode;const a=this._$AM;return void 0!==a&&11===l?.nodeType&&(l=a.parentNode),l}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(l,a=this){l=q1(this,l,a),px(l)?l===oa||null==l||""===l?(this._$AH!==oa&&this._$AR(),this._$AH=oa):l!==this._$AH&&l!==Nb&&this._(l):void 0!==l._$litType$?this.g(l):void 0!==l.nodeType?this.$(l):(c=>Wge(c)||"function"==typeof c?.[Symbol.iterator])(l)?this.T(l):this._(l)}k(l){return this._$AA.parentNode.insertBefore(l,this._$AB)}$(l){this._$AH!==l&&(this._$AR(),this._$AH=this.k(l))}_(l){this._$AH!==oa&&px(this._$AH)?this._$AA.nextSibling.data=l:this.$(G1.createTextNode(l)),this._$AH=l}g(l){var a;const{values:h,_$litType$:d}=l,f="number"==typeof d?this._$AC(l):(void 0===d.el&&(d.el=mx.createElement(eme(d.h,d.h[0]),this.options)),d);if((null===(a=this._$AH)||void 0===a?void 0:a._$AD)===f)this._$AH.v(h);else{const p=new nme(f,this),g=p.u(this.options);p.v(h),this.$(g),this._$AH=p}}_$AC(l){let a=Jge.get(l.strings);return void 0===a&&Jge.set(l.strings,a=new mx(l)),a}T(l){Wge(this._$AH)||(this._$AH=[],this._$AR());const a=this._$AH;let h,d=0;for(const f of l)d===a.length?a.push(h=new Fb(this.k(fx()),this.k(fx()),this,this.options)):h=a[d],h._$AI(f),d++;d<a.length&&(this._$AR(h&&h._$AB.nextSibling,d),a.length=d)}_$AR(l=this._$AA.nextSibling,a){var h;for(null===(h=this._$AP)||void 0===h||h.call(this,!1,!0,a);l&&l!==this._$AB;){const d=l.nextSibling;l.remove(),l=d}}setConnected(l){var a;void 0===this._$AM&&(this._$Cp=l,null===(a=this._$AP)||void 0===a||a.call(this,l))}}class vx{constructor(l,a,h,d,f){this.type=1,this._$AH=oa,this._$AN=void 0,this.element=l,this.name=a,this._$AM=d,this.options=f,h.length>2||""!==h[0]||""!==h[1]?(this._$AH=Array(h.length-1).fill(new String),this.strings=h):this._$AH=oa}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(l,a=this,h,d){const f=this.strings;let p=!1;if(void 0===f)l=q1(this,l,a,0),p=!px(l)||l!==this._$AH&&l!==Nb,p&&(this._$AH=l);else{const g=l;let m,v;for(l=f[0],m=0;m<f.length-1;m++)v=q1(this,g[h+m],a,m),v===Nb&&(v=this._$AH[m]),p||(p=!px(v)||v!==this._$AH[m]),v===oa?l=oa:l!==oa&&(l+=(v??"")+f[m+1]),this._$AH[m]=v}p&&!d&&this.j(l)}j(l){l===oa?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,l??"")}}class ime extends vx{constructor(){super(...arguments),this.type=3}j(l){this.element[this.name]=l===oa?void 0:l}}const jtt=Lb?Lb.emptyScript:"";class rme extends vx{constructor(){super(...arguments),this.type=4}j(l){l&&l!==oa?this.element.setAttribute(this.name,jtt):this.element.removeAttribute(this.name)}}class sme extends vx{constructor(l,a,h,d,f){super(l,a,h,d,f),this.type=5}_$AI(l,a=this){var h;if((l=null!==(h=q1(this,l,a,0))&&void 0!==h?h:oa)===Nb)return;const d=this._$AH,f=l===oa&&d!==oa||l.capture!==d.capture||l.once!==d.once||l.passive!==d.passive,p=l!==oa&&(d===oa||f);f&&this.element.removeEventListener(this.name,this,d),p&&this.element.addEventListener(this.name,this,l),this._$AH=l}handleEvent(l){var a,h;"function"==typeof this._$AH?this._$AH.call(null!==(h=null===(a=this.options)||void 0===a?void 0:a.host)&&void 0!==h?h:this.element,l):this._$AH.handleEvent(l)}}class ome{constructor(l,a,h){this.element=l,this.type=6,this._$AN=void 0,this._$AM=a,this.options=h}get _$AU(){return this._$AM._$AU}_$AI(l){q1(this,l)}}const ame=$P.litHtmlPolyfillSupport;ame?.(mx,Fb),(null!==(q$=$P.litHtmlVersions)&&void 0!==q$?q$:$P.litHtmlVersions=[]).push("2.8.0");const lme=(c,l,a)=>{var h,d;const f=null!==(h=a?.renderBefore)&&void 0!==h?h:l;let p=f._$litPart$;if(void 0===p){const g=null!==(d=a?.renderBefore)&&void 0!==d?d:null;f._$litPart$=p=new Fb(l.insertBefore(fx(),g),g,void 0,a??{})}return p._$AI(c),p};var tz,nz;class Bb extends Rb{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var l,a;const h=super.createRenderRoot();return null!==(l=(a=this.renderOptions).renderBefore)&&void 0!==l||(a.renderBefore=h.firstChild),h}update(l){const a=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(l),this._$Do=lme(a,this.renderRoot,this.renderOptions)}connectedCallback(){var l;super.connectedCallback(),null===(l=this._$Do)||void 0===l||l.setConnected(!0)}disconnectedCallback(){var l;super.disconnectedCallback(),null===(l=this._$Do)||void 0===l||l.setConnected(!1)}render(){return Nb}}Bb.finalized=!0,Bb._$litElement$=!0,null===(tz=globalThis.litElementHydrateSupport)||void 0===tz||tz.call(globalThis,{LitElement:Bb});const cme=globalThis.litElementPolyfillSupport;cme?.({LitElement:Bb}),(null!==(nz=globalThis.litElementVersions)&&void 0!==nz?nz:globalThis.litElementVersions=[]).push("3.3.3");const ume=Z$`@charset "UTF-8";:host,:root{--2:var(--cds-global-layout-space-xxs, calc(4 * 1rem / var(--cds-global-base, 20)));--3:var(--cds-global-layout-space-xs, calc(8 * 1rem / var(--cds-global-base, 20)));--4:var(--cds-global-layout-space-sm, calc(12 * 1rem / var(--cds-global-base, 20)));--5:var(--cds-global-layout-space-md, calc(16 * 1rem / var(--cds-global-base, 20)));--6:var(--cds-global-layout-space-lg, calc(24 * 1rem / var(--cds-global-base, 20)));--7:var(--cds-global-layout-space-xl, calc(32 * 1rem / var(--cds-global-base, 20)))}[cds-layout~="wrap:none"]{flex-wrap:nowrap!important}[cds-layout*="align:stretch"]{flex-grow:1!important}[cds-layout*="align:shrink"]{flex-shrink:1!important;flex-grow:0!important}[cds-layout~=horizontal]{display:flex;flex-direction:row;flex-wrap:wrap;justify-items:flex-start;align-items:flex-start;width:100%;margin:0;min-height:0}[cds-layout~=horizontal]>[cds-layout~=horizontal],[cds-layout~=horizontal]>[cds-layout~=vertical],[cds-layout~=horizontal]>[cds-text]{width:initial!important}[cds-layout~=horizontal][cds-layout*="align:top"]{align-items:flex-start}[cds-layout~=horizontal][cds-layout*="align:left"]{justify-content:flex-start}[cds-layout~=horizontal][cds-layout*="align:right"]{justify-content:flex-end}[cds-layout~=horizontal][cds-layout*="align:vertical-center"]{align-items:center;align-content:center}[cds-layout~=horizontal][cds-layout*="align:horizontal-center"]{justify-content:center}[cds-layout~=horizontal][cds-layout*="align:center"]{align-items:center;align-content:center;justify-content:center}[cds-layout~=horizontal][cds-layout*="order:reverse"]{flex-direction:row-reverse}[cds-layout~=horizontal][cds-layout*="align:horizontal-stretch"]{justify-content:stretch;flex-grow:1}[cds-layout~=horizontal][cds-layout*="align:horizontal-stretch"]>*{flex-grow:1}[cds-layout~=horizontal][cds-layout*="align:stretch"]{align-items:stretch;align-content:stretch;flex-grow:1}[cds-layout~=horizontal][cds-layout*="align:stretch"]>*{flex-grow:1}[cds-layout~=horizontal]>[cds-layout*="align:center"],[cds-layout~=horizontal]>[cds-layout*="align:vertical-center"]{align-self:center}[cds-layout~=horizontal]>[cds-layout*="align:center"],[cds-layout~=horizontal]>[cds-layout*="align:horizontal-center"]{margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal]>[cds-layout*="align:top"]{align-self:flex-start}[cds-layout~=horizontal]>[cds-layout*="align:right"]{margin-left:auto!important}[cds-layout~=horizontal]>[cds-layout*="align:left"]{margin-right:auto!important}[cds-layout~=vertical]{width:100%;display:flex;flex-direction:column;align-items:flex-start}[cds-layout~=vertical],[cds-layout~=vertical][cds-layout*="align:top"]{justify-content:flex-start}[cds-layout~=vertical][cds-layout*="align:left"]{align-items:flex-start}[cds-layout~=vertical][cds-layout*="align:right"]{align-items:flex-end}[cds-layout~=vertical][cds-layout*="align:vertical-center"]{justify-content:center}[cds-layout~=vertical][cds-layout*="align:horizontal-center"]{align-items:center}[cds-layout~=vertical][cds-layout*="align:center"]{align-items:center;justify-content:center}[cds-layout~=vertical][cds-layout*="order:reverse"]{flex-direction:column-reverse}[cds-layout~=vertical][cds-layout*="align:horizontal-stretch"]{align-items:stretch}[cds-layout~=vertical][cds-layout*="align:stretch"]{align-items:stretch;justify-content:stretch}[cds-layout~=vertical][cds-layout*="align:stretch"]>*{flex-grow:1}[cds-layout~=vertical]>[cds-layout*="align:center"],[cds-layout~=vertical]>[cds-layout*="align:vertical-center"]{margin-top:auto;margin-bottom:auto}[cds-layout~=vertical]>[cds-layout*="align:center"],[cds-layout~=vertical]>[cds-layout*="align:horizontal-center"]{align-self:center}[cds-layout~=vertical]>[cds-layout*="align:top"]{margin-bottom:auto!important}[cds-layout~=vertical]>[cds-layout*="align:right"]{margin-left:auto}[cds-layout~=vertical]>[cds-layout*="align:left"]{margin-right:auto}[cds-layout~=grid]{display:grid;align-items:start;align-content:start;grid-template-columns:repeat(var(--cds-global-layout-grid-cols,12),1fr);width:100%}[cds-layout~=grid][cds-layout*=rows]{grid-template-rows:repeat(12,auto)}[cds-layout~=grid]>[cds-layout*=row]{align-self:stretch}[cds-layout~=grid][cds-layout*="align:top"]{align-content:start}[cds-layout~=grid][cds-layout*="align:right"]{justify-content:end}[cds-layout~=grid][cds-layout*="align:left"]{justify-content:start}[cds-layout~=grid][cds-layout*="align:horizontal-stretch"]{justify-items:stretch;justify-content:stretch}[cds-layout~=grid][cds-layout*="align:stretch"]{align-items:stretch;align-content:stretch;justify-items:stretch;justify-content:stretch}[cds-layout~=grid][cds-layout*="align:vertical-center"]{align-items:center;align-content:center}[cds-layout~=grid][cds-layout*="align:horizontal-center"]{justify-items:center;justify-content:center}[cds-layout~=grid][cds-layout*="align:center"]{align-items:center;align-content:center;justify-items:center;justify-content:center}::slotted([cds-layout~="display:screen-reader-only"]),[cds-layout~="display:screen-reader-only"]{position:absolute!important;clip:rect(1px,1px,1px,1px);clip-path:inset(50%);padding:0;border:0;height:1px;width:1px;overflow:hidden;white-space:nowrap;top:0;left:0;display:block!important}[cds-layout*="gap:none"]{gap:0}[cds-layout*="gap:xxs"]{gap:var(--2)}[cds-layout*="gap:xs"]{gap:var(--3)}[cds-layout*="gap:sm"]{gap:var(--4)}[cds-layout*="gap:md"]{gap:var(--5)}[cds-layout*="gap:lg"]{gap:var(--6)}[cds-layout~="p:none"]{padding:0!important}[cds-layout~="p:xxs"]{padding:var(--2)!important}[cds-layout~="p:xs"]{padding:var(--3)!important}[cds-layout~="p:sm"]{padding:var(--4)!important}[cds-layout~="p:md"]{padding:var(--5)!important}[cds-layout~="m:md"]{margin:var(--5)!important}[cds-layout~="p:lg"]{padding:var(--6)!important}[cds-layout~="p-y:xs"]{padding-top:var(--3)!important;padding-bottom:var(--3)!important}[cds-layout~="p-x:lg"]{padding-left:var(--6)!important;padding-right:var(--6)!important}[cds-layout~="p-y:lg"]{padding-top:var(--6)!important;padding-bottom:var(--6)!important}[cds-layout~="p-l:md"]{padding-left:var(--5)!important}@media (min-width:992px){[cds-layout*="gap@md:lg"]{gap:var(--6)}[cds-layout~="p@md:lg"]{padding:var(--6)!important}[cds-layout~="m@md:xl"]{margin:var(--7)!important}}[cds-layout~=fill]{width:100%!important}*,:after,:before{box-sizing:border-box}[cds-layout~=horizontal][cds-layout*="align:horizontal-stretch"]>::slotted(*),[cds-layout~=horizontal][cds-layout*="align:stretch"]>::slotted(*),[cds-layout~=vertical][cds-layout*="align:stretch"]>::slotted(*){flex-grow:1}[cds-layout~=vertical] ::slotted([cds-layout*="align:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align:left"]),[cds-layout~=vertical]>[cds-layout*="align:left"]{margin-right:auto}@media (min-width:576px){[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:left"]){margin-right:auto}}@media (min-width:768px){[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:left"]){margin-right:auto}}@media (min-width:992px){[cds-layout~=vertical] ::slotted([cds-layout*="align@md:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@md:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@md:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@md:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align@md:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@md:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@md:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@md:left"]){margin-right:auto}}@media (min-width:1200px){[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:left"]){margin-right:auto}}@media (min-width:1440px){[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:left"]){margin-right:auto}}[cds-layout~=horizontal] ::slotted([cds-layout*="align:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align:left"]){margin-right:auto!important}@media (min-width:576px){[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:left"]){margin-right:auto!important}}@media (min-width:768px){[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:left"]){margin-right:auto!important}}@media (min-width:992px){[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:left"]){margin-right:auto!important}}@media (min-width:1200px){[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:left"]){margin-right:auto!important}}@media (min-width:1440px){[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:left"]){margin-right:auto!important}}[cds-text]{font-family:var(--cds-global-typography-font-family, "Clarity City", "Avenir Next", sans-serif);margin-top:0;margin-bottom:0}[cds-text][cds-layout~=grid]::after,[cds-text][cds-layout~=grid]::before,[cds-text][cds-layout~=horizontal]::after,[cds-text][cds-layout~=horizontal]::before,[cds-text][cds-layout~=vertical]::after,[cds-text][cds-layout~=vertical]::before{display:none}[cds-text*=display],[cds-text*=section],[cds-text*=subsection],[cds-text*=title]{font-family:var(--cds-global-typography-header-font-family, "Clarity City", "Avenir Next", sans-serif);color:var(--cds-global-typography-color-400,var(--cds-global-color-construction-900,#21333b))}[cds-text*=body],[cds-text*=message],[cds-text*=secondary]{color:var(--cds-global-typography-color-500,var(--cds-global-color-black,#000))}[cds-text*=inline]{width:auto!important;display:inline-block!important}[cds-text*=display]{font-size:var(--cds-global-typography-display-font-size,calc(40 * 1rem / var(--cds-global-base,20)));font-weight:var(--cds-global-typography-display-font-weight,500);line-height:var(--cds-global-typography-display-line-height,1.1em);letter-spacing:var(--cds-global-typography-display-letter-spacing,-.0125em)}[cds-text*=display]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-display-line-height,1.1em) - 1em)/ 2))*-1) + .037em)}[cds-text*=display]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-display-line-height,1.1em) - 1em)/ 2))*-1) - .044em)}[cds-text*=title]{font-size:var(--cds-global-typography-title-font-size,calc(24 * 1rem / var(--cds-global-base,20)));font-weight:var(--cds-global-typography-title-font-weight,500);line-height:var(--cds-global-typography-title-line-height,1.333333em);letter-spacing:var(--cds-global-typography-title-letter-spacing,-.00833333em)}[cds-text*=title]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-title-line-height,1.333333em) - 1em)/ 2))*-1) + .037em)}[cds-text*=title]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-title-line-height,1.333333em) - 1em)/ 2))*-1) - .044em)}[cds-text*=section]{font-size:var(--cds-global-typography-section-font-size,calc(20 * 1rem / var(--cds-global-base,20)));font-weight:var(--cds-global-typography-section-font-weight,500);line-height:var(--cds-global-typography-section-line-height,1.2em);letter-spacing:var(--cds-global-typography-section-letter-spacing,-.01em)}[cds-text*=section]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-section-line-height,1.2em) - 1em)/ 2))*-1) + .037em)}[cds-text*=section]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-section-line-height,1.2em) - 1em)/ 2))*-1) - .044em)}[cds-text*=subsection]{font-size:var(--cds-global-typography-subsection-font-size,calc(16 * 1rem / var(--cds-global-base,20)));font-weight:var(--cds-global-typography-subsection-font-weight,500);line-height:var(--cds-global-typography-subsection-line-height,1.5em);letter-spacing:var(--cds-global-typography-subsection-letter-spacing,-.0125em)}[cds-text*=subsection]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-subsection-line-height,1.5em) - 1em)/ 2))*-1) + .037em)}[cds-text*=subsection]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-subsection-line-height,1.5em) - 1em)/ 2))*-1) - .044em)}[cds-text*=body]{font-weight:var(--cds-global-typography-body-font-weight,400);font-size:var(--cds-global-typography-body-font-size,calc(14 * 1rem / var(--cds-global-base,20)));letter-spacing:var(--cds-global-typography-body-letter-spacing,-.00714286em);line-height:var(--cds-global-typography-body-line-height,1.4285714em)}[cds-text*=body]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-body-line-height,1.4285714em) - 1em)/ 2))*-1) + .1em)}[cds-text*=body]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-body-line-height,1.4285714em) - 1em)/ 2))*-1) - .044em)}body[cds-text*=body]::after,body[cds-text*=body]::before{content:none}[cds-text*=message]{font-size:var(--cds-global-typography-message-font-size,calc(16 * 1rem / var(--cds-global-base,20)));font-weight:var(--cds-global-typography-message-font-weight,calc(400 * 1rem / var(--cds-global-base,20)));line-height:var(--cds-global-typography-message-line-height,1.5em);letter-spacing:var(--cds-global-typography-message-letter-spacing,-.0125em)}[cds-text*=message]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-message-line-height,1.5em) - 1em)/ 2))*-1) + .037em)}[cds-text*=message]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-message-line-height,1.5em) - 1em)/ 2))*-1) - .044em)}[cds-text*=secondary]{font-size:var(--cds-global-typography-secondary-font-size,calc(13 * 1rem / var(--cds-global-base,20)));font-weight:var(--cds-global-typography-secondary-font-weight,400);line-height:var(--cds-global-typography-secondary-line-height,1.23077em);letter-spacing:var(--cds-global-typography-secondary-letter-spacing,-.007692em)}[cds-text*=secondary]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-secondary-line-height,1.23077em) - 1em)/ 2))*-1) + .037em)}[cds-text*=secondary]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-secondary-line-height,1.23077em) - 1em)/ 2))*-1) - .044em)}[cds-text~=link]{color:var(--cds-global-typography-link-color,var(--cds-global-color-blue-700,#0079ad))!important;text-decoration:underline!important;line-height:inherit!important;font-size:inherit!important}[cds-text~=link]:focus{outline:var(--cds-alias-object-interaction-outline,Highlight solid 2px);outline-offset:var(--cds-alias-object-interaction-outline-offset,1px)}[cds-text~=link]:hover{color:var(--cds-global-typography-link-color-hover,var(--cds-global-color-blue-800,#00608a))!important}[cds-text~=link]:visited:not([cds-text~=static]){color:var(--cds-global-typography-link-color-visited,var(--cds-global-color-lavender-600,#3b40ce))!important}[cds-text~=link]:visited:not([cds-text~=static]):hover{color:var(--cds-global-typography-link-color-visited-hover,var(--cds-global-color-lavender-700,#2429c2))!important}@media (-webkit-min-device-pixel-ratio:0){[cds-text=link]:focus{outline:var(--cds-alias-object-interaction-outline-webkit,5px auto -webkit-focus-ring-color)}}[cds-text~=code]{color:var(--cds-alias-status-danger,var(--cds-global-color-red-700,#e02200));font-family:monospace;font-size:1.1em}[cds-divider]{display:block;height:var(--cds-alias-object-border-width-100,calc(1 * 1rem / var(--cds-global-base,20)));overflow:hidden;box-shadow:var(--cds-alias-object-border-color,var(--cds-global-color-construction-200,#cbd4d8)) 0 0 0 var(--cds-alias-object-border-width-100,calc(1 * 1rem / var(--cds-global-base,20))) inset}[cds-text~=light]{font-weight:var(--cds-global-typography-font-weight-light,300)!important}[cds-text~=justify]{text-align:justify!important}[cds-text~=left]{text-align:left!important}[cds-text~=right]{text-align:right!important}[cds-text~=center]{text-align:center!important}[cds-text~=lhe]{padding:.05px 0}[cds-text~=lhe]::before{content:"";margin-top:-.124em;display:block;height:0}[cds-text~=lhe]::after{content:"";margin-bottom:-.221em;display:block;height:0}[cds-text*=h2],[cds-text*=h3]{font-family:var(--cds-global-typography-header-font-family, "Clarity City", "Avenir Next", sans-serif);font-size:1.4rem;font-weight:200;color:var(--cds-global-typography-color-400);line-height:1.7143em;letter-spacing:-.017857em}[cds-text*=h2]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((1.7143em - 1em)/ 2))*-1) + .037em)}[cds-text*=h2]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((1.7143em - 1em)/ 2))*-1) - .044em)}[cds-text*=h3]{font-size:1.1rem;line-height:1.0909em;letter-spacing:-.013636em}[cds-text*=h3]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((1.0909em - 1em)/ 2))*-1) + .037em)}[cds-text*=h3]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((1.0909em - 1em)/ 2))*-1) - .044em)}:host{all:initial;display:block;visibility:inherit;font-family:var(--cds-global-typography-font-family, "Clarity City", "Avenir Next", sans-serif);contain:layout;box-sizing:border-box!important;-webkit-appearance:none!important}*,:after,:before{box-sizing:inherit!important}slot{font-family:var(--cds-global-typography-font-family, "Clarity City", "Avenir Next", sans-serif);display:contents!important}::slotted(*){font-family:inherit;box-sizing:inherit}::slotted(*)::placeholder{color:var(--cds-global-typography-color-200,var(--cds-global-color-construction-600,#4f6169))}:host([_is-anchor]),:host([role=button]){cursor:pointer!important}:host([_is-anchor]) ::slotted(*),:host([role=button]) ::slotted(*){cursor:pointer!important}:host([role=button][disabled]){cursor:not-allowed!important}:host([role=button][disabled]) ::slotted(*){cursor:not-allowed!important;pointer-events:none}:host([hidden]),[hidden]{display:none!important}:host([hidden*=false]){display:block!important}:host([role=dialog][hidden]),:host([role=dialog][hidden]) ::slotted(*){display:block!important;visibility:hidden!important}:host([role=dialog][hidden*=false]),:host([role=dialog][hidden*=false]) ::slotted(*){visibility:visible!important}:host([_focused]) .input,:host([_focused]) [focusable],:host([tabindex="0"]:focus),:host([tabindex="0"]:focus) [focusable],[tabindex="0"][focusable]:focus{outline:Highlight solid 2px;outline:5px auto -webkit-focus-ring-color;outline-offset:var(--cds-alias-object-interaction-outline-offset,1px)}`;function iz(c){return`calc((${c} / var(--cds-global-base)) * 1rem)`}const Ktt=(c,l)=>"method"===l.kind&&l.descriptor&&!("value"in l.descriptor)?{...l,finisher(a){a.createProperty(l.key,c)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:l.key,initializer(){"function"==typeof l.initializer&&(this[l.key]=l.initializer.call(this))},finisher(a){a.createProperty(l.key,c)}},Jtt=(c,l,a)=>{l.constructor.createProperty(a,c)};function hme(c){return(l,a)=>void 0!==a?Jtt(c,l,a):Ktt(c,l)}function pme(c,l){switch(l&&l.type){case Array:case Object:return{reflect:!1,...l};case String:return{reflect:!0,attribute:z1(c),converter:{toAttribute:a=>a||null},...l};case Number:return{reflect:!0,attribute:z1(c),...l};case Boolean:return{reflect:!0,attribute:z1(c),converter:{toAttribute:a=>a?"":null,fromAttribute:a=>function rnt(c){return null!=c&&""+c!="false"}(a)},...l};case Date:return{reflect:!1,converter:{fromAttribute:a=>new Date(a)},...l};default:return{...l}}}function po(c){return(l,a)=>(c?.required&&function snt(c,l,a){const h=c.firstUpdated;c.firstUpdated=function(d){if(a&&a.required&&um(this[l])){const f=a.requiredMessage||function(p="warning",g,m){const v=m.toLocaleLowerCase();return`${Mfe(p)}: ${g} is required to use ${v} component. Set the JS Property or HTML Attribute.\n\n`+(wfe()?`Angular: <${v} [${g}]="..."></${v}>\n`:"")+(Tfe()?`Vue: <${v} :${g}="..."></${v}>\n`:"")+(xfe()?`React: <${function YKe(c){return Mfe(function XKe(c){return c.split("-").map((l,a)=>a?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():l).join("")}(c))}(v)} ${_=g,_.startsWith("aria")?z1(_):_}={...} />\n`:"")+`HTML: <${v} ${z1(g)}="..."></${v}>\nJavaScript: document.querySelector('${v}').${g} = '...';\n\n`;var _}(a.required,l,this.tagName);if("error"===a.required)throw Error(f);U1.warn(f,this)}h&&h.call(this,d)}}(l,a,c),hme(pme(a,c))(l,a))}function gme(c){return(l,a)=>{const h=pme(a,c);return h&&(h.reflect=!!c?.reflect&&c.reflect,h.reflect&&!c?.attribute&&(h.attribute="_"+z1(a))),hme(h)(l,a)}}var cf,c,lnt=Z$`@keyframes fadeInAndOut{0%,to{opacity:0}75%{opacity:1}}:host{--color:currentColor;display:inline-block;height:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)));width:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)));min-height:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)));min-width:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)));margin:0;vertical-align:middle;fill:var(--color);color:var(--color);contain:strict;cursor:inherit}svg{display:block}:host([size*=xs]){height:var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20)));width:var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20)));min-height:var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20)));min-width:var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20)))}:host([size*=sm]){height:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)));width:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)));min-height:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)));min-width:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)))}:host([size*=md]){height:var(--cds-global-space-9,calc(24 * 1rem / var(--cds-global-base,20)));width:var(--cds-global-space-9,calc(24 * 1rem / var(--cds-global-base,20)));min-height:var(--cds-global-space-9,calc(24 * 1rem / var(--cds-global-base,20)));min-width:var(--cds-global-space-9,calc(24 * 1rem / var(--cds-global-base,20)))}:host([size*=lg]){height:var(--cds-global-space-11,calc(36 * 1rem / var(--cds-global-base,20)));width:var(--cds-global-space-11,calc(36 * 1rem / var(--cds-global-base,20)));min-height:var(--cds-global-space-11,calc(36 * 1rem / var(--cds-global-base,20)));min-width:var(--cds-global-space-11,calc(36 * 1rem / var(--cds-global-base,20)))}:host([size*=xl]){height:var(--cds-global-space-12,calc(48 * 1rem / var(--cds-global-base,20)));width:var(--cds-global-space-12,calc(48 * 1rem / var(--cds-global-base,20)));min-height:var(--cds-global-space-12,calc(48 * 1rem / var(--cds-global-base,20)));min-width:var(--cds-global-space-12,calc(48 * 1rem / var(--cds-global-base,20)))}:host([size*=xxl]){height:calc(var(--cds-global-space-13,calc(64 * 1rem / var(--cds-global-base,20))) - var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20))));width:calc(var(--cds-global-space-13,calc(64 * 1rem / var(--cds-global-base,20))) - var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20))));min-height:calc(var(--cds-global-space-13,calc(64 * 1rem / var(--cds-global-base,20))) - var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20))));min-width:calc(var(--cds-global-space-13,calc(64 * 1rem / var(--cds-global-base,20))) - var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20))))}:host([size*=fit]){height:auto;width:auto;contain:layout}:host([status=success]){--color:var(--cds-alias-status-success, var(--cds-global-color-green-700, #42810e))}:host([status=danger]){--color:var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200))}:host([status=warning]){--color:var(--cds-alias-status-warning-dark, var(--cds-global-color-ochre-800, #a36500))}:host([status=info]){--color:var(--cds-alias-status-info, var(--cds-global-color-blue-700, #0079ad))}:host([status=neutral]){--color:var(--cds-alias-status-neutral, var(--cds-global-color-construction-600, #4f6169))}:host([inverse]){--color:var(--cds-global-color-construction-200, #cbd4d8)}:host([direction=up]){transform:rotate(0)}:host([direction=down]){transform:rotate(180deg)}:host([direction=right]){transform:rotate(90deg)}:host([direction=left]){transform:rotate(270deg)}:host([flip=horizontal]){transform:scale(-1) rotateX(180deg)}:host([flip=vertical]){transform:scale(-1) rotateY(180deg)}.alert,.badge{fill:var(--badge-color,var(--cds-alias-status-danger,var(--cds-global-color-red-700,#e02200)))}:host([badge=success]){--badge-color:var(--cds-alias-status-success, var(--cds-global-color-green-700, #42810e))}:host([badge=danger]){--badge-color:var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200))}:host([badge*=warning]){--badge-color:var(--cds-alias-status-warning-dark, var(--cds-global-color-ochre-800, #a36500))}:host([badge=inherit]){--badge-color:currentColor}:host([badge=info]){--badge-color:var(--cds-alias-status-info, var(--cds-global-color-blue-700, #0079ad))}:host([badge=neutral]){--badge-color:var(--cds-alias-status-neutral, var(--cds-global-color-construction-600, #4f6169))}:host([badge=inherit-triangle]){--badge-color:currentColor}:host([badge][inverse]){--badge-color:var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200))}:host([badge=success][inverse]){--badge-color:var(--cds-alias-status-success, var(--cds-global-color-green-700, #42810e))}:host([badge*=warning][inverse]){--badge-color:var(--cds-alias-status-warning-dark, var(--cds-global-color-ochre-800, #a36500))}:host([badge*=inherit][inverse]){--badge-color:currentColor}:host([badge=info][inverse]){--badge-color:var(--cds-alias-status-info, var(--cds-global-color-blue-700, #0079ad))}.cds-internal-dot-1{animation:fadeInAndOut 1.8s ease-in 0s infinite}.cds-internal-dot-2{animation:fadeInAndOut 1.8s ease-out .422s infinite}.cds-internal-dot-3{animation:fadeInAndOut 1.8s ease-out .675s infinite}@media (prefers-reduced-motion){.cds-internal-dot-1,.cds-internal-dot-2,.cds-internal-dot-3{animation:none}}`;function dnt(c,l){let a="";switch(function cnt(c){switch(!0){case um(c):return cf.NilSizeValue;case function mme(c){return["xxs","xs","sm","md","lg","xl","xxl"].indexOf(c)>-1}(c):return cf.ValidSizeString;case function mfe(c){return i$(c)&&!gfe(c.trim())&&+c==+c}(c):return cf.ValidNumericString;default:return cf.BadSizeValue}}(function unt(c){return um(c)?"":function qKe(c,l,a=""){const h=c.split(" "),d=""===a?h.filter(f=>f!==l):h.map(f=>f===l?a:f);return d.length>0?d.join(" "):""}(c,"fit")}(l))){case cf.ValidNumericString:return a=iz(parseInt(l)),void function Ytt(c,...l){l.forEach(([a,h])=>{c.style[a]=h})}(c,...function hnt(c,l){return!ex(c)&&c.indexOf("fit")>-1?[["width","auto"],["height","auto"],["min-width",l],["min-height",l]]:[["width",l],["height",l],["min-width",l],["min-height",l]]}(l,a));case cf.ValidSizeString:case cf.NilSizeValue:return void function qtt(c,...l){l.forEach(a=>{c.style[a]=""})}(c,"width","height","min-width","min-height");default:return}}function rz(c){return c.badge&&("inherit-triangle"===c.badge||"warning-triangle"===c.badge)}(c=cf||(cf={})).BadSizeValue="bad-value",c.ValidSizeString="value-is-string",c.ValidNumericString="value-is-numeric",c.NilSizeValue="value-is-nil";class ed extends Bb{constructor(){super(...arguments),this._shape="unknown",this.solid=!1,this.inverse=!1}static get styles(){return[ume,lnt]}get shape(){return this._shape}set shape(l){if(function VKe(c,l){return!um(c)&&_fe(c,l)}(l,this._shape)){const a=this._shape;this._shape=l,this.requestUpdate("shape",a)}}get size(){return this._size}set size(l){if(function BKe(c,l){return function FKe(c){return lP(String,c)||ex(c)}(c)&&_fe(c,l)}(l,this._size)){const a=this._size;this._size=l,dnt(this,l),this.requestUpdate("size",a)}}updated(l){if(l.has("innerOffset")&&this.innerOffset>0){const a=iz(-1*this.innerOffset),h=`calc(100% + ${iz(2*this.innerOffset)})`;this.svg.style.width=h,this.svg.style.height=h,this.svg.style.margin=`${a} 0 0 ${a}`}}firstUpdated(l){if(super.firstUpdated(l),this.isConnected){let a="unknown";this.subscription=ia.stateUpdates.subscribe(h=>{"iconRegistry"===h.key&&Tr.registry[this.shape]&&a!==this.shape&&(a=this.shape,this.requestUpdate("shape"))})}}disconnectedCallback(){super.disconnectedCallback(),this.subscription?.unsubscribe()}render(){return i$(Tr.registry[this.shape])?ez`<span .innerHTML="${Tr.registry[this.shape]}"></span>`:Ztt`<svg .innerHTML="${function pnt(c){const l=Tr.registry[c.shape]??Tr.registry.unknown;let a=c.solid&&l.solid?l.solid:l.outline;return c.badge&&!rz(c)&&(a=c.solid?l.solidBadged??a:l.outlineBadged??a),rz(c)&&(a=c.solid?l.solidAlerted??a:l.outlineAlerted??a),a}(this)+function fnt(c){let l="";return c.badge&&rz(c)?l='<path d="M26.85 1.14L21.13 11a1.28 1.28 0 001.1 2h11.45a1.28 1.28 0 001.1-2l-5.72-9.86a1.28 1.28 0 00-2.21 0z" class="alert" />':c.badge&&(l='<circle cx="30" cy="6" r="5" class="badge" />'),l}(this)}" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"></svg>`}}Ce([po({type:String})],ed.prototype,"shape",null),Ce([po({type:String})],ed.prototype,"size",null),Ce([po({type:String})],ed.prototype,"direction",void 0),Ce([po({type:String})],ed.prototype,"flip",void 0),Ce([po({type:Boolean})],ed.prototype,"solid",void 0),Ce([po({type:String})],ed.prototype,"status",void 0),Ce([po({type:Boolean})],ed.prototype,"inverse",void 0),Ce([po({type:String})],ed.prototype,"badge",void 0),Ce([gme({type:Number})],ed.prototype,"innerOffset",void 0),Ce([function ant(c,l){return(({finisher:c,descriptor:l})=>(a,h)=>{var d;if(void 0===h){const f=null!==(d=a.originalKey)&&void 0!==d?d:a.key,p=null!=l?{kind:"method",placement:"prototype",key:f,descriptor:l(a.key)}:{...a,key:f};return null!=c&&(p.finisher=function(g){c(g,f)}),p}{const f=a.constructor;void 0!==l&&Object.defineProperty(a,h,l(h)),c?.(f,h)}})({descriptor:a=>{const h={get(){var d,f;return null!==(f=null===(d=this.renderRoot)||void 0===d?void 0:d.querySelector(c))&&void 0!==f?f:null},enumerable:!0,configurable:!0};if(l){const d="symbol"==typeof a?Symbol():"__"+a;h.get=function(){var f,p;return void 0===this[d]&&(this[d]=null!==(p=null===(f=this.renderRoot)||void 0===f?void 0:f.querySelector(c))&&void 0!==p?p:null),this[d]}}return h}})}("svg")],ed.prototype,"svg",void 0),Age("cds-icon",ed);class mnt{constructor(l){this.host=l,this.host.addController(this)}hostConnected(){var l=this;return Q$(function*(){yield l.host.updateComplete,l.host.addEventListener("keydown",a=>l.emulateActive(a)),l.host.addEventListener("mousedown",a=>l.emulateActive(a)),l.host.addEventListener("keyup",()=>l.emulateInactive()),l.host.addEventListener("blur",()=>l.emulateInactive()),l.host.addEventListener("mouseup",()=>l.emulateInactive())})()}emulateActive(l){this.host.disabled||this.host?.setAttribute("cds-active",""),"Space"===l.code&&l.target===this.host&&l.preventDefault()}emulateInactive(){this.host.removeAttribute("cds-active")}}class _nt{constructor(l){this.host=l,this.host.addController(this)}hostConnected(){(this.host.hasAttribute("aria-controls")||this.host.ariaControls)&&(this.host.ariaHasPopup="true",this.host.ariaExpanded="false")}}class bnt{constructor(l){this.host=l,this.host.addController(this)}hostUpdated(){null!==this.host.disabled&&(this.host.ariaDisabled=this.host.disabled),this.host.readonly&&(this.host.ariaDisabled=null)}}class Cnt{constructor(l){this.host=l,this.host.addController(this)}hostUpdated(){null!=this.host.pressed&&(this.host.ariaPressed=this.host.pressed?"true":"false"),this.host.readonly&&(this.host.ariaPressed=null)}}class wnt{constructor(l){this.host=l,this.host.addController(this)}hostConnected(){this.host.tabIndex=0}hostUpdated(){this.host.role=this.host.readonly?null:"button",this.host.tabIndex=this.host.disabled?-1:0,this.host.readonly&&this.host.removeAttribute("tabindex")}}class Tnt{constructor(l){this.host=l,this.host.addController(this)}get currentAnchor(){return"A"===this.host.parentElement?.tagName?this.host.parentElement:null}hostConnected(){this.setAnchor()}hostUpdated(){this.setAnchor()}setAnchor(){this.currentAnchor&&this.currentAnchor!==this.previousAnchor&&(this.previousAnchor=this.currentAnchor,this.host.readonly=!0,this.currentAnchor.style.lineHeight="0",this.currentAnchor.style.textDecoration="none")}}const sz=c=>c??oa;function vme(c){c.preventDefault(),c.stopPropagation()}const oz=new Map([["arrow-left","ArrowLeft"],["arrow-right","ArrowRight"],["arrow-up","ArrowUp"],["arrow-down","ArrowDown"],["tab","Tab"],["enter","Enter"],["escape","Escape"],["space"," "],["home","Home"],["end","End"]]);class Dnt{static get keycodes(){return zKe(oz)}static add(l,a){oz.set(l,a)}static has(l){return oz.has(l)}static getCode(l,a=this.keycodes){return function Mnt(c,l){return l.get(c)||""}(l,a)}}function az(c,l){return Dnt.getCode(l)===c.key}var uf;!function(c){c.ArrowUp="ArrowUp",c.ArrowDown="ArrowDown",c.ArrowLeft="ArrowLeft",c.ArrowRight="ArrowRight",c.End="End",c.Home="Home",c.PageUp="PageUp",c.PageDown="PageDown"}(uf||(uf={}));class Nnt{constructor(l){this.host=l,this.triggerNativeButtonBehaviorHandler=this.triggerNativeButtonBehavior.bind(this),this.emulateKeyBoardEventBehaviorHandler=this.emulateKeyBoardEventBehavior.bind(this),this.host.addController(this)}hostUpdated(){this.setButtonType(),this.setupNativeButtonBehavior()}setButtonType(){!this.host.type&&this.host.closest("form")&&(this.host.type="submit")}setupNativeButtonBehavior(){this.host.readonly||this.host.disabled?(this.host.removeEventListener("click",this.triggerNativeButtonBehaviorHandler),this.host.removeEventListener("keyup",this.emulateKeyBoardEventBehaviorHandler)):(this.host.addEventListener("click",this.triggerNativeButtonBehaviorHandler),this.host.addEventListener("keyup",this.emulateKeyBoardEventBehaviorHandler))}emulateKeyBoardEventBehavior(l){!function Ent(c,l,a){c.filter(h=>az(l,h)).length>0&&a()}(["enter","space"],l,()=>{"submit"===this.host.type?this.triggerNativeButtonBehavior(l):this.host.click(),vme(l)})}triggerNativeButtonBehavior(l){if(this.host.disabled)vme(l);else if(!l.defaultPrevented){const a=function Rnt(c,l,a){const h=document.createElement("div");l.appendChild(h),lme(c,l,{renderBefore:h,...a});const d=h.previousSibling;return h.remove(),d}(ez`<button aria-hidden="true" role="presentation" ?disabled="${this.host.disabled}" tabindex="-1" style="display:none!important" value="${sz(this.host.value)}" name="${sz(this.host.name)}" type="${sz(this.host.type)}"></button>`,this.host);a?.dispatchEvent(new MouseEvent("click",{relatedTarget:this.host,composed:!0})),a?.remove()}}}class Bnt{constructor(l){this.host=l,this.host.addController(this)}hostUpdated(){null!=this.host.expanded&&(this.host.ariaExpanded=this.host.expanded?"true":"false"),this.host.readonly&&(this.host.ariaExpanded=null)}}let td=class extends Bb{constructor(){super(...arguments),this._disabled=!1}get disabled(){return this._disabled}set disabled(c){const l=this._disabled;this._disabled=c,this.requestUpdate("disabled",l)}};Ce([po({type:Boolean})],td.prototype,"pressed",void 0),Ce([po({type:Boolean})],td.prototype,"expanded",void 0),Ce([po({type:Boolean})],td.prototype,"readonly",void 0),Ce([po({type:String})],td.prototype,"type",void 0),Ce([po({type:String})],td.prototype,"name",void 0),Ce([po({type:String})],td.prototype,"value",void 0),Ce([po({type:Boolean})],td.prototype,"disabled",null),Ce([po({type:String})],td.prototype,"popup",void 0),td=Ce([function gnt(){return c=>c.addInitializer(l=>new mnt(l))}(),function Snt(){return c=>c.addInitializer(l=>new wnt(l))}(),function Ont(){return c=>c.addInitializer(l=>new Cnt(l))}(),function Fnt(){return c=>c.addInitializer(l=>new Bnt(l))}(),function ynt(){return c=>c.addInitializer(l=>new bnt(l))}(),function vnt(){return c=>c.addInitializer(l=>new _nt(l))}(),function Lnt(){return c=>c.addInitializer(l=>new Nnt(l))}(),function xnt(){return c=>c.addInitializer(l=>new Tnt(l))}()],td);const UP={actions:{sort:"Sort",expand:"Expand",close:"Close",resize:"Resize",filter:"Filter"},alert:{closeButtonAriaLabel:"Close",loading:"Loading",info:"Info",success:"Success",warning:"Warning",danger:"Error"},dropdown:{open:"Open"},file:{browse:"browse",files:"files",removeFile:"remove file"},modal:{closeButtonAriaLabel:"Close modal",contentStart:"Beginning of modal content",contentBox:"Scrollable modal body",contentEnd:"End of modal content"},navigation:{navigationElement:"navigation",navigationLabel:"navigation menu",navigationAbridgedText:"View abridged menu",navigationUnabridgedText:"View unabridged menu"},overlay:{closeButtonAriaLabel:"Close dialog",contentStart:"Beginning of dialog content",contentEnd:"End of dialog content"},popup:{closeButtonAriaLabel:"Close popup",contentStart:"Beginning of popup content",contentEnd:"End of popup content"},password:{showButtonAriaLabel:"Show password",hideButtonAriaLabel:"Hide password"},progress:{loading:"Loading",looping:"Loading"},treeview:{loading:"Loading"},grid:{resizeColumn:"Resize Column",closeDetails:"Close Details",noData:"No Results Found",rowDetailStart:"Start of row details",rowDetailEnd:"End of row details",footerEnd:"End of grid rows",action:"Action",dropTarget:"Drop Item",pagination:{label:"grid pagination",firstPage:"go to first page",previousPage:"go to previous page",nextPage:"go to next page",lastPage:"go to last page",pageSize:"rows per page",page:"page"}}};class K1{static get keys(){return 0===Object.keys(ia.state.i18nRegistry).length&&(ia.state.i18nRegistry=$1(UP,ia.state.i18nRegistry)),$1(UP,ia.state.i18nRegistry)}static findKey(l){const a=K1.keys;return Object.keys(a).find(h=>yfe(a[h],l))}static get(l){return l&&K1.keys[l]||{}}static reset(){ia.state.i18nRegistry=$1({},UP)}static hydrate(l,a){return JSON.parse(function JKe(c,l,a){return c.replace(/\$\{.+?\}/g,h=>function $Ke(c,l,a=`\${${c}}`){return c.split(".").reduce((h,d)=>{try{const f=h[d];switch(!0){case null===f:case!1===f:case""===f:case 0===f:return f;default:return f||a}}catch{return a}},l)}(h.substr(2,h.length-3).trim(),l,a))}(JSON.stringify(l),a))}static localize(l){ia.state.i18nRegistry=$1(UP,ia.state.i18nRegistry,l)}}var Unt=Z$`:host{--icon-width:var(--cds-global-space-7, calc(16 * 1rem / var(--cds-global-base, 20)));--icon-height:var(--cds-global-space-7, calc(16 * 1rem / var(--cds-global-base, 20)));--width:var(--icon-width);--height:var(--icon-width);--cursor:pointer;--color:var(--cds-global-typography-color-300, var(--cds-global-color-construction-800, #2d4048));--font-size:var(--cds-global-typography-font-size-3, calc(13 * 1rem / var(--cds-global-base, 20)));--background:transparent;--padding:0;--outline:var(--cds-alias-object-interaction-outline, Highlight solid 2px);--outline-offset:calc(var(--cds-alias-object-interaction-outline-offset, 1px) * -1);pointer-events:none;display:inline-block;outline:0!important}:host([role=button]){pointer-events:initial;cursor:var(--cursor)!important}:host([status=active]){--color:var(--cds-alias-status-info, var(--cds-global-color-blue-700, #0079ad))}::slotted([shape=close]),::slotted([shape=info-circle]),::slotted([shape=times]),:host([shape=close]),:host([shape=info-circle]){--icon-width:var(--cds-global-space-8, calc(18 * 1rem / var(--cds-global-base, 20)));--icon-height:var(--cds-global-space-8, calc(18 * 1rem / var(--cds-global-base, 20)))}:host(:hover){--color:var(--cds-alias-object-interaction-color-hover, var(--cds-global-color-construction-1000, #1b2b32))}:host(:active){--color:var(--cds-alias-object-interaction-color-active, var(--cds-global-color-construction-1000, #1b2b32))}:host(:active) .private-host{transform:translateY(calc(var(--cds-global-space-1,calc(1 * 1rem / var(--cds-global-base,20)))/ 2))}:host([disabled]){--color:var(--cds-alias-object-interaction-color-disabled, var(--cds-global-color-construction-300, #aeb8bc))}.private-host{--icon-color:var(--color);background:var(--background);padding:var(--padding);color:var(--color);font-size:var(--font-size);display:flex;justify-content:center;align-items:center;min-width:var(--width);min-height:var(--height)}::slotted(cds-icon),cds-icon{width:var(--icon-width);height:var(--icon-height);pointer-events:none}::slotted(cds-icon:not([status])),cds-icon{--color:var(--icon-color)}:host([disabled]:active){pointer-events:none!important}.private-host::after{content:"";position:absolute;left:calc(-1*var(--width) - 1);top:calc(-1*var(--height) - 1);width:var(--cds-alias-object-interaction-touch-target,calc(36 * 1rem / var(--cds-global-base,20)));height:var(--cds-alias-object-interaction-touch-target,calc(36 * 1rem / var(--cds-global-base,20)))}:host([disabled]) .private-host::after{outline:0!important}:host(:focus) .private-host::after{outline:var(--outline);outline-offset:var(--outline-offset)}@media (-webkit-min-device-pixel-ratio:0){:host(:focus) .private-host::after{outline-color:-webkit-focus-ring-color}}`;class J1 extends td{constructor(){super(...arguments),this.i18n=K1.keys.actions,this.cdsButtonAction=!0}render(){return ez`<div class="private-host"><slot><cds-icon .shape="${this.shape?this.shape:"ellipsis-vertical"}" .size="${this.iconSize}" ?solid="${this.pressed||this.expanded}" inner-offset="${1}"></cds-icon></slot></div>`}updated(l){super.updated(l),this.ariaLabel||this.readonly||U1.warn("A aria-label is required for interactive cds-button-action type",this),l.has("readonly")&&(this.ariaHidden=this.readonly&&!this.hasAttribute("aria-label")?"true":null)}}J1.styles=[ume,Unt],Ce([po({type:String})],J1.prototype,"shape",void 0),Ce([po({type:String,reflect:!0})],J1.prototype,"action",void 0),Ce([po({type:String})],J1.prototype,"iconSize",void 0),Ce([function Vnt(){return(c,l)=>{const a=c.connectedCallback,h=c.disconnectedCallback;c.connectedCallback=function(){c.__i18nSub=ia.stateUpdates.subscribe(f=>{"i18nRegistry"===f.key&&this.requestUpdate(l)}),a&&a.apply(this)},c.disconnectedCallback=function(){c.__i18nSub.unsubscribe(),h&&h.apply(this)};const d={get(){const f=$1(K1.keys[this.__i18nKey],this.__i18n||{});return K1.hydrate(f,this)},set(f){const p=function $nt(c,l){if(um(c)){let a={};if(l.hasAttribute("cds-i18n")){const h=l.getAttribute("cds-i18n")+"";if(um(h))a={};else try{a=JSON.parse(h)}catch{U1.warn("Clarity i18n: Invalid JSON passed to cds-i18n"),a={}}}return a}return c}(f,this),g=function znt(c,l,a,h){return um(c)?yfe(a,h)?{update:!1}:{update:!0,values:a}:c===l?{update:!1,values:{}}:{update:!0,key:c,values:{}}}(K1.findKey(p)||"",this.__i18nKey,p,this.__i18n);void 0!==g.key&&(this.__i18nKey=g.key+""),void 0!==g.values&&(this.__i18n={...g.values}),!0===g.update&&this.requestUpdate(),this.requestUpdate(l)},enumerable:!0,configurable:!0};return void 0!==l?function(f,p,g){const m=Object.defineProperty(p,g,f);return po({type:Object,attribute:"cds-i18n"})(m,g)}(d,c,l):function(f,p){const g={kind:"method",placement:"prototype",key:p.key,descriptor:f};return po({type:Object})(g)}(d,c)}}()],J1.prototype,"i18n",void 0),Ce([gme({type:Boolean,reflect:!0,attribute:"cds-button-action"})],J1.prototype,"cdsButtonAction",void 0);class yme extends J1{constructor(){super(...arguments),this.shape="close"}connectedCallback(){super.connectedCallback(),this.ariaLabel=this.ariaLabel?this.ariaLabel:this.i18n.close}}Ce([po({type:String})],yme.prototype,"shape",void 0),Age("cds-internal-close-button",yme),Tr.addIcons(Hfe),Tr.addAliases(["times",["close"]]);const vi=["*"];function Hnt(c,l){if(1&c&&(ps(0),H(1),gs()),2&c){const a=Q(2);I(1),ut(a.commonStrings.keys.danger)}}function Wnt(c,l){if(1&c&&(ps(0),H(1),gs()),2&c){const a=Q(2);I(1),ut(a.commonStrings.keys.success)}}function Znt(c,l){if(1&c){const a=Ae();E(0,"div",13),Y("@toggle.done",function(){ce(a);const d=Q().$implicit;return ue(Q().collapsePanelOnAnimationDone(d))}),E(1,"div",14),St(2,2),M()()}2&c&&R("@toggle",void 0)}function jnt(c,l){if(1&c){const a=Ae();ps(0),E(1,"div",1)(2,"div",2)(3,"button",3,4),Y("click",function(){return ce(a),ue(Q().togglePanel())}),c2(5,"async"),E(6,"span",5),X(7,Hnt,2,1,"ng-container",0),X(8,Wnt,2,1,"ng-container",0),M(),E(9,"span",6),se(10,"cds-icon",7),E(11,"span",8),H(12),M(),se(13,"cds-icon",9)(14,"cds-icon",10),M(),St(15),St(16,1),M()(),E(17,"div",11),X(18,Znt,3,1,"div",12),M()(),gs()}if(2&c){const a=l.$implicit,h=Q();let d;I(1),R("ngClass",h.getPanelStateClasses(a)),I(2),$t("clr-accordion-header-has-description",(null==(d=u2(5,16,h.accordionDescription.changes))?null:d.length)||h.accordionDescription.length),R("id",h.getAccordionHeaderId(a.templateId))("disabled",h.isAccordion&&a.disabled),Je("aria-disabled",!h.isAccordion&&a.disabled)("aria-controls",h.getAccordionContentId(a.templateId))("aria-expanded",a.open),I(4),R("ngIf",a.status===h.AccordionStatus.Error),I(1),R("ngIf",a.status===h.AccordionStatus.Complete),I(4),Kt("",h.panelNumber,"."),I(5),R("@skipInitialRender",void 0)("id",h.getAccordionContentId(a.templateId)),Je("aria-hidden",!a.open)("aria-labelledby",h.getAccordionHeaderId(a.templateId)),I(1),R("ngIf",a.open)}}const bme=[[["clr-accordion-title"],["clr-step-title"]],[["clr-accordion-description"],["clr-step-description"]],"*"],Ome=["clr-accordion-title, clr-step-title","clr-accordion-description, clr-step-description","*"],fit=["clrLoading",""];function pit(c,l){1&c&&(E(0,"span"),se(1,"span",2),M()),2&c&&(I(1),R("@spinner",void 0))}function git(c,l){if(1&c){const a=Ae();E(0,"span")(1,"span",3),Y("@validated.done",function(){ce(a);const d=Q();return ue(d.loadingStateChange(d.buttonState.DEFAULT))}),M()()}2&c&&(I(1),R("@validated",void 0))}function mit(c,l){1&c&&(E(0,"span"),St(1),M()),2&c&&R("@defaultButton",void 0)}function vit(c,l){1&c&&se(0,"label")}const _it=[[["","clrCheckbox",""],["","clrToggle",""]],[["label"]]],yit=["[clrCheckbox],[clrToggle]","label"];function bit(c,l){1&c&&se(0,"label")}function Oit(c,l){1&c&&St(0,2,["*ngIf","showHelper"])}function Cit(c,l){1&c&&se(0,"cds-icon",5)}function Sit(c,l){1&c&&se(0,"cds-icon",6)}function wit(c,l){1&c&&St(0,3,["*ngIf","showInvalid"])}function xit(c,l){1&c&&St(0,4,["*ngIf","showValid"])}const Tit=[[["label"]],[["clr-checkbox-wrapper"],["clr-toggle-wrapper"]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],kit=["label","clr-checkbox-wrapper,clr-toggle-wrapper","clr-control-helper","clr-control-error","clr-control-success"],Dit=["clrKeyFocus",""];function Iit(c,l){1&c&&se(0,"label")}function Rit(c,l){1&c&&se(0,"cds-icon",5)}function Lit(c,l){1&c&&se(0,"cds-icon",6)}function Nit(c,l){1&c&&St(0,2,["*ngIf","showHelper"])}function Fit(c,l){1&c&&St(0,3,["*ngIf","showInvalid"])}function Bit(c,l){1&c&&St(0,4,["*ngIf","showValid"])}const Vit=[[["label"]],[["","clrInput",""]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],$it=["label","[clrInput]","clr-control-helper","clr-control-error","clr-control-success"];function ort(c,l){1&c&&se(0,"label")}const art=[[["","clrRadio",""]],[["label"]]],lrt=["[clrRadio]","label"];function crt(c,l){1&c&&se(0,"label")}function urt(c,l){1&c&&St(0,2,["*ngIf","showHelper"])}function hrt(c,l){1&c&&se(0,"cds-icon",5)}function drt(c,l){1&c&&se(0,"cds-icon",6)}function frt(c,l){1&c&&St(0,3,["*ngIf","showInvalid"])}function prt(c,l){1&c&&St(0,4,["*ngIf","showValid"])}const grt=[[["label"]],[["clr-radio-wrapper"]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],mrt=["label","clr-radio-wrapper","clr-control-helper","clr-control-error","clr-control-success"];function vrt(c,l){1&c&&se(0,"label")}function _rt(c,l){1&c&&se(0,"span",6),2&c&&JS("width",Q().getRangeProgressFillWidth())}function yrt(c,l){1&c&&se(0,"cds-icon",7)}function brt(c,l){1&c&&se(0,"cds-icon",8)}function Ort(c,l){1&c&&St(0,2,["*ngIf","showHelper"])}function Crt(c,l){1&c&&St(0,3,["*ngIf","showInvalid"])}function Srt(c,l){1&c&&St(0,4,["*ngIf","showValid"])}const wrt=[[["label"]],[["","clrRange",""]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],xrt=["label","[clrRange]","clr-control-helper","clr-control-error","clr-control-success"];function Trt(c,l){1&c&&se(0,"label")}function krt(c,l){1&c&&se(0,"cds-icon",5)}function Drt(c,l){1&c&&se(0,"cds-icon",6)}function Mrt(c,l){1&c&&St(0,2,["*ngIf","showHelper"])}function Ert(c,l){1&c&&St(0,3,["*ngIf","showInvalid"])}function Prt(c,l){1&c&&St(0,4,["*ngIf","showValid"])}const Art=[[["label"]],[["","clrTextarea",""]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],Irt=["label","[clrTextarea]","clr-control-helper","clr-control-error","clr-control-success"];function Zot(c,l){if(1&c){const a=Ae();E(0,"button",3),Y("click",function(){ce(a);const d=Q();return ue(d.openNav(d.responsiveNavCodes.NAV_LEVEL_1))}),se(1,"span"),M()}2&c&&Je("aria-label",Q().responsiveNavCommonString)}function jot(c,l){if(1&c){const a=Ae();E(0,"button",4),Y("click",function(){ce(a);const d=Q();return ue(d.openNav(d.responsiveNavCodes.NAV_LEVEL_2))}),se(1,"span"),M()}2&c&&Je("aria-label",Q().responsiveOverflowCommonString)}function Got(c,l){1&c&&St(0)}const Xot=["tabContentProjectedRef"];function Yot(c,l){if(1&c&&(E(0,"section",1),St(1),M()),2&c){const a=Q();$t("active",a.active),R("id",a.tabContentId)("hidden",!a.active),Je("aria-labelledby",a.ariaLabelledBy)("aria-hidden",!a.active)}}const qot=["tabContentViewContainer"];function Kot(c,l){if(1&c&&(ps(0),E(1,"li",4),va(2,5),M(),gs()),2&c){const a=Q().$implicit;I(2),R("ngTemplateOutlet",a.templateRefContainer.template)}}function Jot(c,l){if(1&c&&(ps(0),X(1,Kot,3,1,"ng-container",2),gs()),2&c){const a=l.$implicit,h=Q();I(1),R("ngIf",a.tabsId===h.tabsId&&!a.inOverflow)}}function eat(c,l){1&c&&va(0,5),2&c&&R("ngTemplateOutlet",Q().$implicit.templateRefContainer.template)}function tat(c,l){if(1&c&&(ps(0),X(1,eat,1,1,"ng-container",13),gs()),2&c){const a=l.$implicit,h=Q(3);I(1),R("ngIf",a.tabsId===h.tabsId&&a.inOverflow)}}function nat(c,l){if(1&c){const a=Ae();E(0,"clr-tab-overflow-content",12),Y("keydown.escape",function(){return ce(a),ue(Q(2).closeOnEscapeKey())},0,SF)("click",function(d){ce(a),Q();const f=Po(4);return ue(Q().closeOnOutsideClick(d,f))},!1,SF)("focusout",function(d){return ce(a),ue(Q(2).closeOnFocusOut(d))}),X(1,tat,2,1,"ng-container",1),M()}if(2&c){const a=Q(2);I(1),R("ngForOf",a.tabLinkDirectives)}}function iat(c,l){if(1&c){const a=Ae();ps(0),E(1,"div",6)(2,"li",7)(3,"button",8,9),Y("mousedown",function(){return ce(a),ue(Q()._mousedown=!0)})("focus",function(){return ce(a),ue(Q().openOverflowOnFocus())})("click",function(){return ce(a),ue(Q().toggleOverflowOnClick())}),se(5,"cds-icon",10),M()(),X(6,nat,2,1,"clr-tab-overflow-content",11),M(),gs()}if(2&c){const a=Q();I(1),$t("open",a.toggleService.open),I(2),$t("active",a.activeTabInOverflow)("open",a.toggleService.open),Je("tabindex",a.activeTabInOverflow&&!a.toggleService.open?0:-1)("title",a.commonStrings.keys.more),I(2),Je("status",a.toggleService.open?"info":null)("title",a.commonStrings.keys.more),I(1),R("ngIf",a.toggleService.open)}}function rat(c,l){if(1&c){const a=Ae();E(0,"button",3),Y("click",function(){return ce(a),ue(Q().toggleByButton())}),se(1,"cds-icon",4),M()}if(2&c){const a=Q();$t("on-collapse",a.collapsed),Je("aria-expanded",a.ariaExpanded)("aria-label",a.commonStrings.keys.verticalNavToggle),I(1),Je("direction",a.collapsed?"right":"left")}}function sat(c,l){if(1&c){const a=Ae();E(0,"button",5),Y("click",function(){return ce(a),ue(Q().collapsed=!1)}),M()}2&c&&Je("aria-label",Q().commonStrings.keys.verticalNavToggle)}const lat=["clrVerticalNavLink",""],cat=[[["","clrVerticalNavIcon",""]],"*"],uat=["[clrVerticalNavIcon]","*"];function hat(c,l){if(1&c){const a=Ae();E(0,"button",11),Y("click",function(){return ce(a),ue(Q(2).close())}),se(1,"cds-icon",12),M()}if(2&c){const a=Q(2);Je("aria-label",a.closeButtonAriaLabel||a.commonStrings.keys.close)}}function dat(c,l){if(1&c){const a=Ae();E(0,"div",1)(1,"div",2),Y("@fadeDown.done",function(d){return ce(a),ue(Q().fadeDone(d))}),E(2,"div",3),H(3),M(),E(4,"div",4),St(5),E(6,"div",5)(7,"div",6)(8,"div",7),St(9,1),M(),X(10,hat,2,1,"button",8),M(),E(11,"div",9),St(12,2),M(),St(13,3),M()(),E(14,"div",3),H(15),M()(),E(16,"div",10),Y("click",function(){ce(a);const d=Q();return ue(d.staticBackdrop||d.close())}),M()()}if(2&c){const a=Q();I(1),$t("modal-sm","sm"==a.size)("modal-lg","lg"==a.size)("modal-xl","xl"==a.size),R("cdkTrapFocusAutoCapture",!0)("@fadeDown",a.skipAnimation),Je("aria-hidden",!a._open)("aria-labelledby",a.labelledBy),I(2),ut(a.commonStrings.keys.modalContentStart),I(5),Cc("id",a.modalId),I(2),R("ngIf",a.closable),I(5),ut(a.commonStrings.keys.modalContentEnd),I(1),R("@fade",void 0)}}const fat=[[["",8,"modal-nav"]],[["",8,"modal-title"]],[["",8,"modal-body"]],[["",8,"modal-footer"]]],pat=[".modal-nav",".modal-title",".modal-body",".modal-footer"];function gat(c,l){if(1&c&&(E(0,"span"),H(1),M()),2&c){const a=Q();I(1),ut(a.displayValue)}}let Vn=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275dir=wt({type:c,selectors:[["cds-icon"]]}),c})(),jr=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi]}),c})();class _x{}var To=function(c){return c[c.DEFAULT=0]="DEFAULT",c[c.LOADING=1]="LOADING",c[c.SUCCESS=2]="SUCCESS",c[c.ERROR=3]="ERROR",c}(To||{});let lz=(()=>{class c{constructor(a){this.listener=a,this._loadingState=To.DEFAULT}get loadingState(){return this._loadingState}set loadingState(a){!0===a?a=To.LOADING:a||(a=To.DEFAULT),a!==this._loadingState&&(this._loadingState=a,this.listener&&this.listener.loadingStateChange(a))}ngOnDestroy(){this.loadingState=To.DEFAULT}}return c.\u0275fac=function(a){return new(a||c)(V(_x,8))},c.\u0275dir=wt({type:c,selectors:[["","clrLoading",""]],inputs:{loadingState:["clrLoading","loadingState"]}}),c})(),nc=(()=>{class c{constructor(){this.expandable=0,this._loading=!1,this._expanded=!1,this._expandChange=new Pt}get loading(){return this._loading}set loading(a){(a=!!a)!==this._loading&&(this._loading=a)}get expanded(){return this._expanded}set expanded(a){(a=!!a)!==this._expanded&&(this._expanded=a,this._expandChange.next(a))}get expandChange(){return this._expandChange.asObservable()}toggle(){this.expanded=!this._expanded}loadingStateChange(a){this.loading=a===To.LOADING}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),Vat=0;function aa(){return"clr-id-"+Vat++}let Sme=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=qe({type:c,selectors:[["clr-accordion-description"],["clr-step-description"]],hostVars:2,hostBindings:function(a,h){2&a&&$t("clr-accordion-description",!0)},ngContentSelectors:vi,decls:1,vars:0,template:function(a,h){1&a&&(yn(),St(0))},encapsulation:2,changeDetection:0}),c})();var Lp=function(c){return c.Inactive="inactive",c.Error="error",c.Complete="complete",c}(Lp||{});const nd="0.2s ease-in-out",$at=[ih("skipInitialRender",[ra(":enter",[])]),ih("toggle",[ra("void => *",[_r({display:"block",height:0}),fl(nd,_r({height:"*"}))])])],cz=(ih("skipInitialRender",[ra(":enter",[])]),ih("toggle",[ra("void => *",[_r({display:"block",height:0}),fl(nd,_r({height:"*"}))]),ra("* => void",[_r({display:"block"}),fl(nd,_r({height:0,display:"none"}))])]),{open:"Open",close:"Close",show:"Show",hide:"Hide",expand:"Expand",collapse:"Collapse",more:"More",select:"Select",selectAll:"Select All",previous:"Previous",next:"Next",current:"Jump to current",info:"Info",success:"Success",warning:"Warning",danger:"Error",rowActions:"Available actions",pickColumns:"Manage Columns",showColumns:"Show Columns",sortColumn:"Sort Column",firstPage:"First Page",lastPage:"Last Page",nextPage:"Next Page",previousPage:"Previous Page",currentPage:"Current Page",totalPages:"Total Pages",filterItems:"Filter items",minValue:"Min value",maxValue:"Max value",modalContentStart:"Beginning of Modal Content",modalContentEnd:"End of Modal Content",showColumnsMenuDescription:"Show or hide columns menu",allColumnsSelected:"All columns selected",signpostToggle:"Signpost Toggle",signpostClose:"Signpost Close",loading:"Loading",detailPaneStart:"Start of row details",detailPaneEnd:"End of row details",singleSelectionAriaLabel:"Single selection header",singleActionableAriaLabel:"Single actionable header",detailExpandableAriaLabel:"Toggle more row content",datagridFilterAriaLabel:"Toggle {COLUMN} filter",datagridFilterDialogAriaLabel:"Filter dialog",columnSeparatorAriaLabel:"Column resize handle",columnSeparatorDescription:"Use left or right key to resize the column",alertCloseButtonAriaLabel:"Close alert",alertNextAlertAriaLabel:"Next alert message, {CURRENT} of {COUNT}",alertPreviousAlertAriaLabel:"Previous alert message, {CURRENT} of {COUNT}",datepickerDialogLabel:"Choose date",datepickerToggleChooseDateLabel:"Choose date",datepickerToggleChangeDateLabel:"Change date, {SELECTED_DATE}",datepickerPreviousMonth:"Previous month",datepickerCurrentMonth:"Current month",datepickerNextMonth:"Next month",datepickerPreviousDecade:"Previous decade",datepickerNextDecade:"Next decade",datepickerCurrentDecade:"Current decade",datepickerSelectMonthText:"Select month, the current month is {CALENDAR_MONTH}",datepickerSelectYearText:"Select year, the current year is {CALENDAR_YEAR}",datepickerSelectedLabel:"{FULL_DATE} - Selected",stackViewChanged:"Value changed.",responsiveNavToggleOpen:"Open navigation menu",responsiveNavToggleClose:"Close navigation menu",responsiveNavOverflowOpen:"Open navigation overflow menu",responsiveNavOverflowClose:"Close navigation overflow menu",verticalNavToggle:"Toggle vertical navigation",timelineStepNotStarted:"Not started",timelineStepCurrent:"Current",timelineStepSuccess:"Completed",timelineStepError:"Error",timelineStepProcessing:"In progress",comboboxDelete:"Delete selected option",comboboxSearching:'Searching for matches for "{INPUT}"',comboboxSelection:"Selection",comboboxSelected:"Selected",comboboxNoResults:"No results",comboboxOpen:"Show options",datagridExpandableBeginningOf:"Beginning of",datagridExpandableEndOf:"End of",datagridExpandableRowContent:"Expandable row content",datagridExpandableRowsHelperText:"Screen reader table commands may not work for viewing expanded content, please use your screen reader's browse mode to read the content exposed by this button",wizardStepSuccess:"Completed",wizardStepError:"Error",wizardStepnavAriaLabel:"Step navigation",passwordHide:"Hide password",passwordShow:"Show password",selectedRows:"Selected rows"});let yr=(()=>{class c{constructor(){this._strings=cz}get keys(){return this._strings}localize(a){this._strings={...this._strings,...a}}parse(a,h={}){const d=Object.keys(h);let f=a;return d.length&&d.forEach(p=>{f=f.replace(`{${p}}`,h[p])}),f}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();var yx=function(c){return c.Default="default",c.Multi="multi",c}(yx||{});let Uat=0;class Qat{constructor(l,a){this.id=l,this.accordionId=a,this.status=Lp.Inactive,this.index=null,this.disabled=!1,this.open=!1,this.templateId=`${this.id}-${this.accordionId}`}}class wme{constructor(){this.strategy=yx.Default,this.accordionCount=Uat++,this._panels={}}get panels(){return Object.keys(this._panels).map(l=>this._panels[l])}setStrategy(l){this.strategy=l}updatePanelOrder(l){l.forEach((a,h)=>this._panels[a].index=h),this.removeOldPanels(l)}addPanel(l,a=!1){this._panels[l]=new Qat(l,this.accordionCount),this._panels[l].open=a}togglePanel(l,a){const d=void 0!==a?a:!this._panels[l].open;d&&this.strategy===yx.Default&&this.closeAllPanels(),this._panels[l].open=d}disablePanel(l,a){this._panels[l].disabled=a}closeAllPanels(){this.panels.forEach(l=>this._panels[l.id].open=!1)}removeOldPanels(l){this.panels.filter(a=>void 0===l.find(h=>h===a.id)).forEach(a=>delete this._panels[a.id])}}let bx=(()=>{class c{constructor(){this.accordion=new wme,this._panelsChanges=new fs(this.accordion.panels)}getPanelChanges(a){return this._panelsChanges.pipe(Oi(h=>h.find(d=>d.id===a)))}setStrategy(a){this.accordion.setStrategy(a)}addPanel(a,h=!1){this.accordion.addPanel(a,h),this.emitUpdatedPanels()}togglePanel(a,h){this.accordion.togglePanel(a,h),this.emitUpdatedPanels()}disablePanel(a,h){this.accordion.disablePanel(a,h),this.emitUpdatedPanels()}updatePanelOrder(a){this.accordion.updatePanelOrder(a),this.emitUpdatedPanels()}emitUpdatedPanels(){this._panelsChanges.next(this.accordion.panels)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),hf=(()=>{class c{constructor(a,h,d,f){this.commonStrings=a,this.accordionService=h,this.ifExpandService=d,this.cdr=f,this.disabled=!1,this.panelOpen=!1,this.panelOpenChange=new Tt,this.AccordionStatus=Lp,this.isAccordion=!0,this._id=aa()}get id(){return this._id}set id(a){this._id=a}get panelNumber(){return this._panelIndex+1}ngOnInit(){this.panel=this.accordionService.getPanelChanges(this.id).pipe(Ko(a=>this.emitPanelChange(a))),this.accordionService.addPanel(this.id,this.panelOpen),this.accordionService.togglePanel(this.id,this.panelOpen),this.accordionService.disablePanel(this.id,this.disabled)}ngOnChanges(a){this.panel&&a.panelOpen&&a.panelOpen.currentValue!==a.panelOpen.previousValue&&this.accordionService.togglePanel(this.id,a.panelOpen.currentValue),this.panel&&a.disabled&&a.disabled.currentValue!==a.disabled.previousValue&&this.accordionService.disablePanel(this.id,a.disabled.currentValue)}togglePanel(){this.accordionService.togglePanel(this.id)}collapsePanelOnAnimationDone(a){a.open||(this.ifExpandService.expanded=!1)}getPanelStateClasses(a){return`clr-accordion-panel-${a.status} ${a.open?"clr-accordion-panel-open":""}`}getAccordionContentId(a){return`clr-accordion-content-${a}'`}getAccordionHeaderId(a){return`clr-accordion-header-${a}`}emitPanelChange(a){a.index!==this._panelIndex&&(this._panelIndex=a.index,this.cdr.detectChanges()),a.open!==this.panelOpen&&(this.panelOpenChange.emit(a.open),this.panelOpen=a.open),a.open&&(this.ifExpandService.expanded=!0)}}return c.\u0275fac=function(a){return new(a||c)(V(yr),V(bx),V(nc),V(wo))},c.\u0275cmp=qe({type:c,selectors:[["clr-accordion-panel"]],contentQueries:function(a,h,d){if(1&a&&Ci(d,Sme,4),2&a){let f;Ht(f=Wt())&&(h.accordionDescription=f)}},hostVars:4,hostBindings:function(a,h){2&a&&$t("clr-accordion-panel",!0)("clr-accordion-panel-disabled",h.disabled)},inputs:{disabled:["clrAccordionPanelDisabled","disabled"],panelOpen:["clrAccordionPanelOpen","panelOpen"]},outputs:{panelOpenChange:"clrAccordionPanelOpenChange"},features:[kn([nc]),So],ngContentSelectors:Ome,decls:2,vars:3,consts:[[4,"ngIf"],[3,"ngClass"],[1,"clr-accordion-header"],["type","button",1,"clr-accordion-header-button",3,"id","disabled","click"],["headerButton",""],[1,"clr-sr-only"],[1,"clr-accordion-status"],["shape","angle","direction","right",1,"clr-accordion-angle"],[1,"clr-accordion-number"],["status","danger","shape","exclamation-circle",1,"clr-accordion-error-icon"],["status","success","shape","check-circle",1,"clr-accordion-complete-icon"],["role","region",1,"clr-accordion-content-region",3,"id"],["class","clr-accordion-content",4,"ngIf"],[1,"clr-accordion-content"],[1,"clr-accordion-inner-content"]],template:function(a,h){1&a&&(yn(bme),X(0,jnt,19,18,"ng-container",0),c2(1,"async")),2&a&&R("ngIf",u2(1,1,h.panel))},dependencies:[ei,mn,Vn,X8],encapsulation:2,data:{animation:$at},changeDetection:0}),c})(),pm=(()=>{class c{constructor(a){this.accordionService=a,this.multiPanel=!1,this.subscriptions=[]}ngOnInit(){this.setAccordionStrategy()}ngOnChanges(a){a.multiPanel.currentValue!==a.multiPanel.previousValue&&this.setAccordionStrategy()}ngAfterViewInit(){this.subscriptions.push(this.listenForDOMChanges())}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe())}setAccordionStrategy(){this.accordionService.setStrategy(this.multiPanel?yx.Multi:yx.Default)}listenForDOMChanges(){return this.panels.changes.pipe(Ag(this.panels)).subscribe(a=>this.accordionService.updatePanelOrder(a.toArray().map(h=>h.id)))}}return c.\u0275fac=function(a){return new(a||c)(V(bx))},c.\u0275cmp=qe({type:c,selectors:[["clr-accordion"]],contentQueries:function(a,h,d){if(1&a&&Ci(d,hf,5),2&a){let f;Ht(f=Wt())&&(h.panels=f)}},hostVars:2,hostBindings:function(a,h){2&a&&$t("clr-accordion",!0)},inputs:{multiPanel:["clrAccordionMultiPanel","multiPanel"]},features:[kn([bx]),So],ngContentSelectors:vi,decls:1,vars:0,template:function(a,h){1&a&&(yn(),St(0))},encapsulation:2,changeDetection:0}),c})(),gm=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=qe({type:c,selectors:[["clr-accordion-content"],["clr-step-content"]],ngContentSelectors:vi,decls:1,vars:0,template:function(a,h){1&a&&(yn(),St(0))},encapsulation:2,changeDetection:0}),c})(),mm=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=qe({type:c,selectors:[["clr-accordion-title"],["clr-step-title"]],hostVars:2,hostBindings:function(a,h){2&a&&$t("clr-accordion-title",!0)},ngContentSelectors:vi,decls:1,vars:0,template:function(a,h){1&a&&(yn(),St(0))},encapsulation:2,changeDetection:0}),c})(),Vb=(()=>{class c{constructor(){this.disableChocolateCheck=!1,this._chocolate=new Pt}get chocolate(){return this._chocolate.asObservable()}ngAfterViewChecked(){this.disableChocolateCheck||this._chocolate.next()}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275dir=wt({type:c}),c})(),$b=(()=>{class c{constructor(a,h){this.subscription=h.chocolate.subscribe(()=>{this.latestFlavor!==this.flavor&&(h.disableChocolateCheck=!0,a.detectChanges(),h.disableChocolateCheck=!1)})}ngAfterContentChecked(){this.latestFlavor=this.flavor}ngOnDestroy(){this.subscription.unsubscribe()}}return c.\u0275fac=function(a){return new(a||c)(V(wo),V(Vb))},c.\u0275dir=wt({type:c}),c})(),Np=(()=>{class c extends Vb{}return c.\u0275fac=function(){let l;return function(h){return(l||(l=us(c)))(h||c)}}(),c.\u0275dir=wt({type:c,selectors:[["clr-accordion"]],features:[_n]}),c})(),vm=(()=>{class c extends $b{constructor(a,h,d){if(!h)throw new Error("clr-accordion-panel should only be used inside of clr-accordion");super(a,h),this.expand=d}get flavor(){return this.expand.expanded}}return c.\u0275fac=function(a){return new(a||c)(V(wo),V(Np,8),V(nc))},c.\u0275dir=wt({type:c,selectors:[["clr-accordion-panel"]],features:[_n]}),c})(),xme=(()=>{class c{constructor(){Tr.addIcons(kb,Rc,Lc)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,jr]}),c})(),Gat=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,jr,xme,xme]}),c})();var Xn=function(c){return c.ArrowLeft="ArrowLeft",c.ArrowUp="ArrowUp",c.ArrowRight="ArrowRight",c.ArrowDown="ArrowDown",c.Backspace="Backspace",c.Tab="Tab",c.Enter="Enter",c.Escape="Escape",c.Space="Space",c.Spacebar=" ",c.Home="Home",c.End="End",c}(Xn||{}),ev=function(c){return c.ArrowUp="Up",c.ArrowDown="Down",c.ArrowRight="Right",c.ArrowLeft="Left",c.Space="Spacebar",c.Escape="Esc",c}(ev||{});function sh(c){return c===Xn.ArrowUp||c===ev.ArrowUp?Xn.ArrowUp:c===Xn.ArrowDown||c===ev.ArrowDown?Xn.ArrowDown:c===Xn.ArrowRight||c===ev.ArrowRight?Xn.ArrowRight:c===Xn.ArrowLeft||c===ev.ArrowLeft?Xn.ArrowLeft:c===Xn.Space||c===ev.Space?Xn.Space:c===Xn.Escape||c===ev.Escape?Xn.Escape:c}function dz(c){const l=sh(c.key);(l===Xn.ArrowUp||l===Xn.ArrowDown||l===Xn.ArrowLeft||l===Xn.ArrowRight)&&c.preventDefault()}let Ps=(()=>{class c{constructor(){this._open=!1,this._openChange=new Pt,this._openEventChange=new Pt,this._popoverAligned=new Pt,this._popoverVisible=new Pt}get openChange(){return this._openChange.asObservable()}get popoverVisible(){return this._popoverVisible.asObservable()}get openEvent(){return this._openEvent}set openEvent(a){this._openEvent=a,this._openEventChange.next(a)}get open(){return this._open}set open(a){this._open!==(a=!!a)&&(this._open=a,this._openChange.next(a))}get originalEvent(){return this._openEvent}get popoverAligned(){return this._popoverAligned.asObservable()}getEventChange(){return this._openEventChange.asObservable()}toggleWithEvent(a){dz(a),this.openEvent=a,this.open=!this.open}popoverVisibleEmit(a){this._popoverVisible.next(a)}popoverAlignedEmit(a){this._popoverAligned.next(a)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),Cx=(()=>{class c{constructor(a,h,d){this.renderer=a,this.smartOpenService=h,this.document=d,this.outsideClickClose=!0,this.scrollToClose=!0,this.subscriptions=[],this.subscriptions.push(h.openChange.subscribe(f=>{f?(this.addEscapeListener(),this.addClickListener(),this.addScrollListener()):this.removeAllEventListeners()}),h.getEventChange().subscribe(f=>{this.ignoredEvent=f}))}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe()),this.removeAllEventListeners()}addScrollListener(){this.scrollToClose&&(this.documentScroller=qh(this.document,"scroll",{capture:!0}),this.scrollSubscription=this.documentScroller.pipe(vs(this.testForSmartPopoverContentContainer)).subscribe(()=>{this.smartOpenService.open=!1,this.setAnchorFocus()}))}removeScrollListener(){this.documentScroller&&(this.scrollSubscription.unsubscribe(),delete this.documentScroller)}addClickListener(){this.outsideClickClose&&(this.documentClickListener=this.renderer.listen(this.document,"click",a=>{a===this.ignoredEvent?delete this.ignoredEvent:(this.smartOpenService.open=!1,a.target.focus())}))}removeClickListener(){this.outsideClickClose&&(delete this.ignoredEvent,this.documentClickListener&&(this.documentClickListener(),delete this.documentClickListener))}addEscapeListener(){this.escapeListener=this.renderer.listen(this.document,"keydown.escape",()=>{this.smartOpenService.open=!1,this.setAnchorFocus()})}removeEscapeListener(){this.escapeListener&&(this.escapeListener(),delete this.escapeListener)}setCloseFocus(){this.closeButtonRef.nativeElement.focus()}setAnchorFocus(){this.anchorButtonRef.nativeElement.focus()}testForSmartPopoverContentContainer(a){let h=a.target;for(;h.classList&&"body"!==h.parentElement.localName;)h=h.parentElement;return!!h.classList&&!h.classList.contains("clr-popover-content")}removeAllEventListeners(){this.removeScrollListener(),this.removeClickListener(),this.removeEscapeListener()}}return c.\u0275fac=function(a){return new(a||c)(Ee(ji),Ee(Ps),Ee(Pr))},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})();var pl=function(c){return c[c.VERTICAL=0]="VERTICAL",c[c.HORIZONTAL=1]="HORIZONTAL",c}(pl||{}),kr=function(c){return c[c.START=0]="START",c[c.CENTER=.5]="CENTER",c[c.END=1]="END",c}(kr||{}),wx=function(c){return c[c.BOTTOM=0]="BOTTOM",c[c.LEFT=1]="LEFT",c[c.RIGHT=2]="RIGHT",c[c.TOP=3]="TOP",c}(wx||{});const _m=c=>({...c,side:-1*c.side}),Fp=(c,l)=>{const a=c.content+(l?.5:-.5);return a<0||a>1?c:{...c,content:a}};function zb(c,l,a){return h=>l(c(h),a)}function gu(c,l,a){let h=l.left,d=l.top;switch(c.axis+c.side){case-1:h+=Mme(c,l,a),d-=a.height;break;case 1:h+=Mme(c,l,a),d+=l.height;break;case 0:h-=a.width,d+=Eme(c,l,a);break;case 2:h+=l.width,d+=Eme(c,l,a)}return{xOffset:h,yOffset:d}}function Mme(c,l,a){let h=0;switch(c.anchor){case kr.START:break;case kr.CENTER:h+=l.width/2;break;case kr.END:h+=l.width}switch(c.content){case kr.START:break;case kr.CENTER:h-=a.width/2;break;case kr.END:h-=a.width}return h}function Eme(c,l,a){let h=0;switch(c.anchor){case kr.START:break;case kr.CENTER:h+=l.height/2;break;case kr.END:h+=l.height}switch(c.content){case kr.START:break;case kr.CENTER:h-=a.height/2;break;case kr.END:h-=a.height}return h}let Pme=(()=>{class c{constructor(a,h){this.eventService=a,this.platformId=h,this._shouldRealign=new Pt,this.shouldRealign=this._shouldRealign.asObservable()}realign(){this._shouldRealign.next()}alignContent(a){if(!Zr(this.platformId))return{xOffset:0,yOffset:0};this.currentAnchorCoords=this.eventService.anchorButtonRef.nativeElement.getBoundingClientRect(),this.currentContentCoords=a.getBoundingClientRect(),this.contentOffsets=gu(this.position,this.currentAnchorCoords,this.currentContentCoords);const h=function Yat(c,l){const a=[],h_bottom=c.yOffset+l.height,h_left=c.xOffset,h_right=c.xOffset+l.width;return c.yOffset>=0||a.push(wx.TOP),h_left>=0||a.push(wx.LEFT),h_bottom<=(window.innerHeight||document.documentElement.clientHeight)||a.push(wx.BOTTOM),h_right<=(window.innerWidth||document.documentElement.clientWidth)||a.push(wx.RIGHT),a}(this.contentOffsets,this.currentContentCoords),d=h.reduce((f,p)=>f+p,0);return 1===h.length&&this.position.axis===pl.VERTICAL?this.handleVerticalAxisOneViolation(d):1===h.length&&this.position.axis===pl.HORIZONTAL?this.handleHorizontalAxisOneViolation(d):2===h.length&&this.position.axis===pl.VERTICAL?this.handleVerticalAxisTwoViolations(d):2===h.length&&this.position.axis===pl.HORIZONTAL&&this.handleHorizontalAxisTwoViolations(d),this.currentContentCoords.top<0&&(this.contentOffsets.yOffset+=Math.abs(this.currentContentCoords.top)),this.contentOffsets}handleVerticalAxisOneViolation(a){switch(a){case 0:case 3:this.contentOffsets=gu(_m(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 1:this.contentOffsets=gu(this.position,this.currentAnchorCoords,this.currentContentCoords),this.contentOffsets.xOffset<0&&(this.contentOffsets.xOffset=10);break;case 2:this.contentOffsets=gu(Fp(this.position,!0),this.currentAnchorCoords,this.currentContentCoords)}}handleVerticalAxisTwoViolations(a){switch(a){case 5:{const h=zb(_m,Fp,!0);this.contentOffsets=gu(h(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 4:{const h=zb(_m,Fp,!1);this.contentOffsets=gu(h(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 3:default:break;case 2:{const h=zb(_m,Fp,!0);this.contentOffsets=gu(h(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 1:{const h=zb(_m,Fp,!1);this.contentOffsets=gu(h(this.position),this.currentAnchorCoords,this.currentContentCoords);break}}}handleHorizontalAxisOneViolation(a){switch(a){case 1:case 2:this.contentOffsets=gu(_m(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 0:this.contentOffsets=gu(Fp(this.position,!0),this.currentAnchorCoords,this.currentContentCoords);break;case 3:this.contentOffsets=gu(Fp(this.position),this.currentAnchorCoords,this.currentContentCoords)}}handleHorizontalAxisTwoViolations(a){switch(a){case 5:case 4:{const h=zb(_m,Fp,!1);this.contentOffsets=gu(h(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 3:default:break;case 2:case 1:{const h=zb(_m,Fp,!0);this.contentOffsets=gu(h(this.position),this.currentAnchorCoords,this.currentContentCoords);break}}}}return c.\u0275fac=function(a){return new(a||c)(Ee(Cx),Ee(hs))},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),kx=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({}),c})();var mu=function(c){return c.UP="up",c.DOWN="down",c.LEFT="left",c.RIGHT="right",c}(mu||{});let df=class{constructor(l){this.renderer=l,this._unlistenFuncs=[]}get current(){return this._current}reset(l){this._current=l}listenToArrowKeys(l){this._unlistenFuncs.push(this.renderer.listen(l,"keydown.arrowup",()=>!this.move(mu.UP))),this._unlistenFuncs.push(this.renderer.listen(l,"keydown.arrowdown",()=>!this.move(mu.DOWN))),this._unlistenFuncs.push(this.renderer.listen(l,"keydown.arrowleft",()=>!this.move(mu.LEFT))),this._unlistenFuncs.push(this.renderer.listen(l,"keydown.arrowright",()=>!this.move(mu.RIGHT)))}registerContainer(l,a="0"){this.renderer.setAttribute(l,"tabindex",a),this.listenToArrowKeys(l),this._unlistenFuncs.push(this.renderer.listen(l,"keydown.space",()=>!this.activateCurrent())),this._unlistenFuncs.push(this.renderer.listen(l,"keydown.enter",()=>!this.activateCurrent()))}moveTo(l){void 0!==l&&(this.current&&this.current.blur(),l.focus(),this._current=l)}move(l){let a=!1;if(this.current){const h=this.current[l];h&&(c6(h)?h:di(h)).subscribe(f=>{f&&(this.moveTo(f),a=!0)})}return a}activateCurrent(){return!(!this.current||!this.current.activate||(this.current.activate(),0))}detachListeners(){this._unlistenFuncs.forEach(l=>l())}};df.\u0275fac=function(l){return new(l||df)(Ee(ji))},df.\u0275prov=Ye({token:df,factory:df.\u0275fac});const Rme={provide:df,useFactory:function qat(c,l){return c||new df(l)},deps:[[new R0,new L0,df],ji]};var oh=function(c){return c[c.BEFORE=-1]="BEFORE",c[c.AFTER=1]="AFTER",c}(oh||{});class Bc{}Bc["top-right"]={axis:pl.VERTICAL,side:oh.BEFORE,anchor:kr.END,content:kr.END},Bc["top-left"]={axis:pl.VERTICAL,side:oh.BEFORE,anchor:kr.START,content:kr.START},Bc["bottom-right"]={axis:pl.VERTICAL,side:oh.AFTER,anchor:kr.END,content:kr.END},Bc["bottom-left"]={axis:pl.VERTICAL,side:oh.AFTER,anchor:kr.START,content:kr.START},Bc["right-top"]={axis:pl.HORIZONTAL,side:oh.AFTER,anchor:kr.CENTER,content:kr.END},Bc["right-bottom"]={axis:pl.HORIZONTAL,side:oh.AFTER,anchor:kr.START,content:kr.START},Bc["left-top"]={axis:pl.HORIZONTAL,side:oh.BEFORE,anchor:kr.CENTER,content:kr.END},Bc["left-bottom"]={axis:pl.HORIZONTAL,side:oh.BEFORE,anchor:kr.START,content:kr.START};const QP=new an("POPOVER_HOST_ANCHOR");let Kat=(()=>{class c{constructor(a){this.toggleService=a,this.lastOpenChange=null}ngOnInit(){this.subscription=this.toggleService.openChange.subscribe(a=>{this.lastOpenChange=a})}ngOnDestroy(){this.subscription?.unsubscribe()}onEscapeKey(a){null!==this.lastOpenChange&&(!1===this.lastOpenChange&&a.stopPropagation(),this.lastOpenChange=null)}}return c.\u0275fac=function(a){return new(a||c)(V(Ps))},c.\u0275dir=wt({type:c,hostBindings:function(a,h){1&a&&Y("keyup.escape",function(f){return h.onEscapeKey(f)})},standalone:!0}),c})(),Bp=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275dir=wt({type:c,standalone:!0,features:[kn([Ps,Cx,Pme,{provide:QP,useExisting:Rn}]),Hu([Kat])]}),c})();class pz{static linkParent(l,a,h){l.forEach(d=>d[h]=a)}static linkVertical(l,a=!0){l.forEach((h,d)=>{d>0&&(h.up=l[d-1]),d<l.length-1&&(h.down=l[d+1])}),a&&l.length>1&&(l[0].up=l[l.length-1],l[l.length-1].down=l[0])}}let gz=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi]}),c})(),Jat=0;const Qb=new an("IF_ACTIVE_ID"),tlt={provide:Qb,useFactory:function elt(){return++Jat}};let tv=(()=>{class c{constructor(){this._currentChange=new Pt}get currentChange(){return this._currentChange.asObservable()}get current(){return this._current}set current(a){this._current!==a&&(this._current=a,this._currentChange.next(a))}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),Lme=(()=>{class c{constructor(a,h,d,f){this.ifActiveService=a,this.id=h,this.template=d,this.container=f,this.activeChange=new Tt(!1),this.wasActive=!1,this.checkAndUpdateView(a.current),this.subscription=this.ifActiveService.currentChange.subscribe(p=>{this.checkAndUpdateView(p)})}get active(){return this.ifActiveService.current===this.id}set active(a){a&&(this.ifActiveService.current=this.id)}ngOnDestroy(){this.subscription.unsubscribe()}updateView(a){a?this.container.createEmbeddedView(this.template):this.container.clear()}checkAndUpdateView(a){const h=a===this.id;h!==this.wasActive&&(this.updateView(h),this.activeChange.emit(h),this.wasActive=h)}}return c.\u0275fac=function(a){return new(a||c)(V(tv),V(Qb),V(Ls),V(ir))},c.\u0275dir=wt({type:c,selectors:[["","clrIfActive",""]],inputs:{active:["clrIfActive","active"]},outputs:{activeChange:"clrIfActiveChange"}}),c})(),Hb=(()=>{class c{constructor(a,h,d){this.toggleService=a,this.template=h,this.container=d,this.openChange=new Tt(!1),this.subscription=this.toggleService.openChange.subscribe(f=>{this.updateView(f),this.openChange.emit(f)})}get open(){return this.toggleService.open}set open(a){this.toggleService.open=a}ngOnDestroy(){this.subscription.unsubscribe()}updateView(a){a?this.container.createEmbeddedView(this.template):this.container.clear()}}return c.\u0275fac=function(a){return new(a||c)(V(Ps),V(Ls),V(ir))},c.\u0275dir=wt({type:c,selectors:[["","clrIfOpen",""]],inputs:{open:["clrIfOpen","open"]},outputs:{openChange:"clrIfOpenChange"}}),c})(),Dx=(()=>{class c{constructor(a,h,d,f,p){this.template=a,this.container=h,this.el=d,this.renderer=f,this.expand=p,this.expandedChange=new Tt(!0),this._expanded=!1,this._subscriptions=[],this._subscriptions.push(p.expandChange.subscribe(()=>{this.updateView(),this.expandedChange.emit(this.expand.expanded)}))}get expanded(){return this._expanded}set expanded(a){"boolean"==typeof a&&(this.expand.expanded=a,this._expanded=a)}ngOnInit(){this.expand.expandable++,this.updateView()}ngOnDestroy(){this.expand.expandable--,this._subscriptions.forEach(a=>a.unsubscribe())}updateView(){if(!this.expand.expanded||0===this.container.length)if(this.template)this.expand.expanded?this.container.createEmbeddedView(this.template):this.container.clear();else try{this.renderer.setStyle(this.el.nativeElement,"display",this.expand.expanded?null:"none")}catch{}}}return c.\u0275fac=function(a){return new(a||c)(V(Ls,8),V(ir),V(Rn),V(ji),V(nc))},c.\u0275dir=wt({type:c,selectors:[["","clrIfExpanded",""]],inputs:{expanded:["clrIfExpanded","expanded"]},outputs:{expandedChange:"clrIfExpandedChange"}}),c})(),ah=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi]}),c})();const nlt={provide:new an("FOCUS_ON_VIEW_INIT"),useValue:!0};let WP=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({providers:[nlt],imports:[qi]}),c})(),Fme=(()=>{class c extends rge{}return c.\u0275fac=function(){let l;return function(h){return(l||(l=us(c)))(h||c)}}(),c.\u0275dir=wt({type:c,standalone:!0,features:[_n]}),c})(),rlt=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,jr,kx]}),c})(),mz=(()=>{class c{constructor(a,h){this.el=a,this.renderer=h,this.clrLoadingChange=new Tt(!1),this.buttonState=To,this.state=To.DEFAULT}loadingStateChange(a){if(a!==this.state){switch(this.state=a,a){case To.DEFAULT:this.renderer.removeStyle(this.el.nativeElement,"width"),this.renderer.removeStyle(this.el.nativeElement,"transform"),this.disabled||this.renderer.removeAttribute(this.el.nativeElement,"disabled");break;case To.LOADING:this.setExplicitButtonWidth(),this.renderer.setStyle(this.el.nativeElement,"transform","translatez(0)"),this.renderer.setAttribute(this.el.nativeElement,"disabled","");break;case To.SUCCESS:this.setExplicitButtonWidth();break;case To.ERROR:this.loadingStateChange(To.DEFAULT)}this.clrLoadingChange.emit(a)}}setExplicitButtonWidth(){if(this.el.nativeElement&&this.el.nativeElement.getBoundingClientRect){const a=this.el.nativeElement.getBoundingClientRect(),h=Math.max(42,a.width);this.renderer.setStyle(this.el.nativeElement,"width",`${h}px`)}}}return c.\u0275fac=function(a){return new(a||c)(V(Rn),V(ji))},c.\u0275cmp=qe({type:c,selectors:[["button","clrLoading",""]],hostVars:1,hostBindings:function(a,h){2&a&&Je("disabled",h.disabled?"":null)},inputs:{disabled:"disabled"},outputs:{clrLoadingChange:"clrLoadingChange"},features:[kn([{provide:_x,useExisting:c}])],attrs:fit,ngContentSelectors:vi,decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"spinner","spinner-inline"],[1,"spinner","spinner-inline","spinner-check"]],template:function(a,h){1&a&&(yn(),ps(0,0),X(1,pit,2,1,"span",1),X(2,git,2,1,"span",1),X(3,mit,2,1,"span",1),gs()),2&a&&(R("ngSwitch",h.state),I(1),R("ngSwitchCase",h.buttonState.LOADING),I(1),R("ngSwitchCase",h.buttonState.SUCCESS),I(1),R("ngSwitchCase",h.buttonState.DEFAULT))},dependencies:[R3,mie],encapsulation:2,data:{animation:[ih("defaultButton",[ra(":enter",[_r({opacity:0}),fl("200ms 100ms ease-in",_r({opacity:1}))]),ra(":leave",[_r({opacity:0})])]),ih("spinner",[ra(":enter",[_r({opacity:0}),fl("200ms 100ms ease-in",_r({opacity:1}))]),ra(":leave",[_r({opacity:1}),fl("100ms ease-out",_r({opacity:0}))])]),ih("validated",[ra(":enter",[fl("600ms",IJe([_r({transform:"scale(0,0)",offset:0}),_r({opacity:1,offset:.2}),_r({transform:"scale(1.2,1.2)",offset:.4}),_r({transform:"scale(.9,.9)",offset:.6}),_r({transform:"scale(1,1)",offset:1})]))]),ra(":leave",[_r({opacity:1}),fl("100ms ease-out",_r({opacity:0}))])])]}}),c})(),olt=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi]}),c})(),alt=(()=>{class c{constructor(){Tr.addIcons(Bfe)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[olt,rlt]}),c})(),llt=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=qe({type:c,selectors:[["ng-component"]],decls:0,vars:0,template:function(a,h){},encapsulation:2}),c})(),ZP=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({}),c})(),clt=0,vu=(()=>{class c{constructor(){this._id="clr-form-control-"+ ++clt,this._idChange=new fs(this._id)}get id(){return this._id}set id(a){this._id=a,this._idChange.next(a)}get idChange(){return this._idChange.asObservable()}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),ult=0,nv=(()=>{class c{constructor(){this._id="clr-form-container-"+ ++ult,this._idChange=new fs(this._id)}get id(){return this._id}set id(a){this._id=a,this._idChange.next(a)}get idChange(){return this._idChange.asObservable()}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})();let vz=(()=>{class c{constructor(a,h){this.controlIdService=a,this.containerIdService=h,this.controlIdSuffix="abstract"}get id(){return this.containerIdService?`${this.containerIdService.id}-${this.controlIdSuffix}`:this.controlIdService?`${this.controlIdService.id}-${this.controlIdSuffix}`:null}}return c.\u0275fac=function(a){return new(a||c)(V(vu,8),V(nv,8))},c.\u0275dir=wt({type:c}),c})(),_z=(()=>{class c extends vz{constructor(a,h){super(a,h),this.controlIdService=a,this.containerIdService=h,this.controlIdSuffix="error"}}return c.\u0275fac=function(a){return new(a||c)(V(vu,8),V(nv,8))},c.\u0275cmp=qe({type:c,selectors:[["clr-control-error"]],hostVars:3,hostBindings:function(a,h){2&a&&(Je("id",h.id),$t("clr-subtext",!0))},features:[_n],ngContentSelectors:vi,decls:1,vars:0,template:function(a,h){1&a&&(yn(),St(0))},encapsulation:2}),c})(),Vme=(()=>{class c extends vz{constructor(a,h){super(a,h),this.controlIdService=a,this.containerIdService=h,this.controlIdSuffix="helper"}}return c.\u0275fac=function(a){return new(a||c)(V(vu,8),V(nv,8))},c.\u0275cmp=qe({type:c,selectors:[["clr-control-helper"]],hostVars:3,hostBindings:function(a,h){2&a&&(Je("id",h.id),$t("clr-subtext",!0))},features:[_n],ngContentSelectors:vi,decls:1,vars:0,template:function(a,h){1&a&&(yn(),St(0))},encapsulation:2}),c})(),Vc=(()=>{class c{constructor(){this._controlChanges=new Pt,this._helpers=new Pt}get controlChanges(){return this._controlChanges.asObservable()}get helpersChange(){return this._helpers.asObservable()}setControl(a){this._controlChanges.next(a)}setHelpers(a){this._helpers.next(a)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})();var $c=function(c){return c.NONE="NONE",c.VALID="VALID",c.INVALID="INVALID",c}($c||{});let lh=(()=>{class c{constructor(a){this.ngControlService=a,this.subscriptions=[],this._statusChanges=new fs($c.NONE),this.subscriptions.push(this.ngControlService.controlChanges.subscribe(h=>{h&&(this.control=h,this.subscriptions.push(this.control.statusChanges.subscribe(()=>{this.triggerStatusChange()})))}))}get statusChanges(){return this._statusChanges.asObservable()}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe())}triggerStatusChange(){if(this.control){const a=$c[this.control.status];this._statusChanges.next(["VALID","INVALID"].includes(a)?a:$c.NONE)}}}return c.\u0275fac=function(a){return new(a||c)(Ee(Vc))},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})();var iv=function(c){return c.VERTICAL="vertical",c.HORIZONTAL="horizontal",c.COMPACT="compact",c}(iv||{});let ff=(()=>{class c{constructor(){this.minLabelSize=1,this.maxLabelSize=12,this.layout=iv.HORIZONTAL,this.layoutValues=Object.keys(iv).map(a=>iv[a]),this._labelSize=2}get labelSize(){return this._labelSize}set labelSize(a){this.labelSizeIsValid(a)&&(this._labelSize=a)}get layoutClass(){return`clr-form-${this.layout}`}isVertical(){return this.layout===iv.VERTICAL}isHorizontal(){return this.layout===iv.HORIZONTAL}isCompact(){return this.layout===iv.COMPACT}isValid(a){return this.layoutValues.indexOf(a)>-1}labelSizeIsValid(a){return Number.isInteger(a)&&a>=this.minLabelSize&&a<=this.maxLabelSize}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),Lr=(()=>{class c{constructor(a,h,d,f,p){this.controlIdService=a,this.layoutService=h,this.ngControlService=d,this.renderer=f,this.el=p,this.enableGrid=!0,this.subscriptions=[]}get labelText(){return this.el.nativeElement&&this.el.nativeElement.textContent}ngOnInit(){(this.controlIdService||this.ngControlService)&&this.renderer.addClass(this.el.nativeElement,"clr-control-label"),this.enableGrid&&this.layoutService&&!this.layoutService.isVertical()&&this.el.nativeElement&&this.el.nativeElement.className.indexOf("clr-col")<0&&(this.renderer.addClass(this.el.nativeElement,"clr-col-12"),this.renderer.addClass(this.el.nativeElement,`clr-col-md-${this.layoutService.labelSize}`)),this.controlIdService&&!this.forAttr&&this.subscriptions.push(this.controlIdService.idChange.subscribe(a=>this.forAttr=a))}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe())}disableGrid(){this.enableGrid=!1}}return c.\u0275fac=function(a){return new(a||c)(V(vu,8),V(ff,8),V(Vc,8),V(ji),V(Rn))},c.\u0275dir=wt({type:c,selectors:[["label"]],hostVars:1,hostBindings:function(a,h){2&a&&Je("for",h.forAttr)},inputs:{forAttr:["for","forAttr"]}}),c})(),hlt=(()=>{class c extends vz{constructor(a,h){super(a,h),this.controlIdService=a,this.containerIdService=h,this.controlIdSuffix="success"}}return c.\u0275fac=function(a){return new(a||c)(V(vu,8),V(nv,8))},c.\u0275cmp=qe({type:c,selectors:[["clr-control-success"]],hostVars:3,hostBindings:function(a,h){2&a&&(Je("id",h.id),$t("clr-subtext",!0))},features:[_n],ngContentSelectors:vi,decls:1,vars:0,template:function(a,h){1&a&&(yn(),St(0))},encapsulation:2}),c})(),ch=(()=>{class c{constructor(a){this.layoutService=a,this.className=""}controlClass(a=$c.NONE,h=!1,d=""){const f=[this.className,d];switch(a){case $c.VALID:f.push("clr-success");break;case $c.INVALID:f.push("clr-error")}return h&&this.layoutService&&-1===this.className.indexOf("clr-col")&&f.push(`clr-col-md-${this.layoutService.maxLabelSize-this.layoutService.labelSize} clr-col-12`),f.join(" ").trim()}initControlClass(a,h){h&&h.className&&(this.className=h.className,h.className.split(" ").forEach(f=>{f.startsWith("clr-col")&&a.removeClass(h,f)}))}}return c.\u0275fac=function(a){return new(a||c)(Ee(ff,8))},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),Zb=(()=>{class c{constructor(a,h,d,f){this.ifControlStateService=a,this.layoutService=h,this.controlClassService=d,this.ngControlService=f,this._dynamic=!1,this.subscriptions=[],this.subscriptions.push(this.ifControlStateService.statusChanges.subscribe(p=>{this.state=p,this.updateHelpers()})),this.subscriptions.push(this.ngControlService.controlChanges.subscribe(p=>{this.control=p}))}get showHelper(){return!!this.controlHelperComponent&&(!!this.controlHelperComponent&&(!this.touched||this.state===$c.NONE)||!this.controlSuccessComponent&&this.state===$c.VALID||!this.controlErrorComponent&&this.state===$c.INVALID)}get showValid(){return this.touched&&this.state===$c.VALID&&!!this.controlSuccessComponent}get showInvalid(){return this.touched&&this.state===$c.INVALID&&!!this.controlErrorComponent}get touched(){return this.control?.touched}ngAfterContentInit(){this.updateHelpers()}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe())}controlClass(){return this.controlClassService.controlClass(!this.controlSuccessComponent&&this.state===$c.VALID||!this.touched?$c.NONE:this.state,this.addGrid())}addGrid(){return this.layoutService&&!this.layoutService.isVertical()}updateHelpers(){this.ngControlService&&this.ngControlService.setHelpers({show:this.showInvalid||this.showHelper||this.showValid,showInvalid:this.showInvalid,showHelper:this.showHelper,showValid:this.showValid})}}return c.\u0275fac=function(a){return new(a||c)(V(lh),V(ff,8),V(ch),V(Vc))},c.\u0275dir=wt({type:c,contentQueries:function(a,h,d){if(1&a&&(Ci(d,Lr,5),Ci(d,hlt,5),Ci(d,_z,5),Ci(d,Vme,5)),2&a){let f;Ht(f=Wt())&&(h.label=f.first),Ht(f=Wt())&&(h.controlSuccessComponent=f.first),Ht(f=Wt())&&(h.controlErrorComponent=f.first),Ht(f=Wt())&&(h.controlHelperComponent=f.first)}}}),c})();class jP{constructor(l,a,h=0){if(this.injector=a.injector,!this.injector.get(l,null)){const d=this.injector.get($_),f=this.injector.get(Rn);a.createComponent(d.resolveComponentFactory(llt));const p=d.resolveComponentFactory(l),g=[];g[h]=[f.nativeElement];const m=a.createComponent(p,void 0,void 0,g);a.remove(0),m.instance._dynamic=!0,this.injector=m.injector}}get(l,a){return this.injector.get(l,a)}}let yz=(()=>{class c{constructor(){this._touched=new Pt}get touchedChange(){return this._touched.asObservable()}markAsTouched(){this._touched.next()}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),jb=(()=>{class c{constructor(a,h,d,f,p,g){this.vcr=a,this.wrapperType=h,this.ngControl=f,this.index=0,this.subscriptions=[],this.renderer=p,this.el=g,d&&(this.ngControlService=d.get(Vc,null),this.ifControlStateService=d.get(lh,null),this.controlClassService=d.get(ch,null),this.markControlService=d.get(yz,null)),this.controlClassService&&this.controlClassService.initControlClass(p,g.nativeElement),this.markControlService&&this.subscriptions.push(this.markControlService.touchedChange.subscribe(()=>{this.markAsTouched()})),this.ngControlService&&this.subscriptions.push(this.ngControlService.helpersChange.subscribe(m=>{this.setAriaDescribedBy(m)}))}get id(){return this._id}set id(a){this._id=a,this.controlIdService&&(this.controlIdService.id=a)}ngOnInit(){this._containerInjector=new jP(this.wrapperType,this.vcr,this.index),this.controlIdService=this._containerInjector.get(vu),this.containerIdService=this._containerInjector.get(nv,null),this._id?this.controlIdService.id=this._id:this._id=this.controlIdService.id,this.ngControlService&&this.ngControl&&this.ngControlService.setControl(this.ngControl)}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe())}triggerValidation(){this.ifControlStateService&&this.ifControlStateService.triggerStatusChange()}getProviderFromContainer(a,h){try{return this._containerInjector.get(a,h)}catch{return h}}markAsTouched(){this.ngControl&&(this.ngControl.control.markAsTouched(),this.ngControl.control.updateValueAndValidity())}setAriaDescribedBy(a){if(a.show){const h=this.getAriaDescribedById(a);if(null!==h)return void this.renderer.setAttribute(this.el.nativeElement,"aria-describedby",h)}this.renderer.removeAttribute(this.el.nativeElement,"aria-describedby")}getAriaDescribedById(a){let h="helper";return a.showInvalid?h="error":a.showValid&&(h="success"),this.containerIdService?this.containerIdService.id.concat("-",h):this.controlIdService?this.controlIdService.id.concat("-",h):null}}return c.\u0275fac=function(a){return new(a||c)(V(ir),V(Vq),V(ws),V(tc),V(ji),V(Rn))},c.\u0275dir=wt({type:c,hostVars:1,hostBindings:function(a,h){1&a&&Y("blur",function(){return h.triggerValidation()}),2&a&&Vd("id",h.id)},inputs:{id:"id"}}),c})(),$p=(()=>{class c{constructor(a,h){this.layoutService=a,this.markControlService=h}set labelSize(a){const h=parseInt(a,10)||2;this.layoutService.labelSize=h}onFormSubmit(){this.markAsTouched()}markAsTouched(){this.markControlService.markAsTouched()}}return c.\u0275fac=function(a){return new(a||c)(V(ff),V(yz))},c.\u0275dir=wt({type:c,selectors:[["","clrForm",""]],contentQueries:function(a,h,d){if(1&a&&Ci(d,Lr,5),2&a){let f;Ht(f=Wt())&&(h.labels=f)}},hostVars:6,hostBindings:function(a,h){1&a&&Y("submit",function(){return h.onFormSubmit()}),2&a&&$t("clr-form",!0)("clr-form-horizontal",h.layoutService.isHorizontal())("clr-form-compact",h.layoutService.isCompact())},inputs:{labelSize:["clrLabelSize","labelSize"]},features:[kn([ff,yz])]}),c})(),$me=(()=>{class c{constructor(a){this.layoutService=a}ngOnInit(){this.layout&&this.layoutService.isValid(this.layout)&&(this.layoutService.layout=this.layout)}}return c.\u0275fac=function(a){return new(a||c)(V(ff))},c.\u0275dir=wt({type:c,selectors:[["","clrForm","","clrLayout",""]],inputs:{layout:["clrLayout","layout"]}}),c})(),Sa=(()=>{class c{constructor(){Tr.addIcons(Rc,Lc)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,jr]}),c})();const bz=new an("IS_TOGGLE"),glt={provide:bz,useFactory:function plt(){return new fs(!1)}};let id=(()=>{class c{constructor(a){this._dynamic=!1,this.toggle=!1,this.subscriptions=[],this.subscriptions.push(a.subscribe(h=>{this.toggle=h}))}ngOnInit(){this.label&&this.label.disableGrid()}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe())}}return c.\u0275fac=function(a){return new(a||c)(V(bz))},c.\u0275cmp=qe({type:c,selectors:[["clr-checkbox-wrapper"],["clr-toggle-wrapper"]],contentQueries:function(a,h,d){if(1&a&&Ci(d,Lr,7),2&a){let f;Ht(f=Wt())&&(h.label=f.first)}},hostVars:4,hostBindings:function(a,h){2&a&&$t("clr-checkbox-wrapper",!h.toggle)("clr-toggle-wrapper",h.toggle)},features:[kn([vu,glt])],ngContentSelectors:yit,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(a,h){1&a&&(yn(_it),St(0),St(1,1),X(2,vit,1,0,"label",0)),2&a&&(I(2),R("ngIf",!h.label))},dependencies:[mn,Lr],encapsulation:2}),c})(),rd=(()=>{class c extends jb{constructor(a,h,d,f,p,g){super(a,id,h,d,f,p),this.toggle=g}ngOnInit(){super.ngOnInit();const a=this.getProviderFromContainer(bz,null);a&&null!==this.toggle&&a.next(!0)}}return c.\u0275fac=function(a){return new(a||c)(V(ir),V(ws),V(tc,10),V(ji),V(Rn),function DS(c){return function cDe(c,l){if("class"===l)return c.classes;if("style"===l)return c.styles;const a=c.attrs;if(a){const h=a.length;let d=0;for(;d<h;){const f=a[d];if(kY(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<h&&"string"==typeof a[d];)d++;else{if(f===l)return a[d+1];d+=2}}}return null}(Ra(),c)}("clrToggle"))},c.\u0275dir=wt({type:c,selectors:[["","clrCheckbox",""],["","clrToggle",""]],features:[_n]}),c})(),rv=(()=>{class c extends Zb{constructor(a,h,d,f){super(f,a,h,d),this.layoutService=a,this.controlClassService=h,this.ngControlService=d,this.ifControlStateService=f,this.inline=!1}get clrInline(){return this.inline}set clrInline(a){this.inline="string"==typeof a?"false"!==a:!!a}ngAfterContentInit(){this.setAriaRoles()}setAriaRoles(){this.role=this.checkboxes.length?"group":null}}return c.\u0275fac=function(a){return new(a||c)(V(ff,8),V(ch),V(Vc),V(lh))},c.\u0275cmp=qe({type:c,selectors:[["clr-checkbox-container"],["clr-toggle-container"]],contentQueries:function(a,h,d){if(1&a&&Ci(d,rd,5),2&a){let f;Ht(f=Wt())&&(h.checkboxes=f)}},hostVars:7,hostBindings:function(a,h){2&a&&(Je("role",h.role),$t("clr-form-control",!0)("clr-form-control-disabled",null==h.control?null:h.control.disabled)("clr-row",h.addGrid()))},inputs:{clrInline:"clrInline"},features:[kn([lh,Vc,ch,nv]),_n],ngContentSelectors:kit,decls:10,vars:9,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-subtext-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","status","danger","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","status","success","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","status","danger","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","status","success","aria-hidden","true",1,"clr-validate-icon"]],template:function(a,h){1&a&&(yn(Tit),St(0),X(1,bit,1,0,"label",0),E(2,"div",1),St(3,1),E(4,"div",2),X(5,Oit,1,0,"ng-content",0),X(6,Cit,1,0,"cds-icon",3),X(7,Sit,1,0,"cds-icon",4),X(8,wit,1,0,"ng-content",0),X(9,xit,1,0,"ng-content",0),M()()),2&a&&(I(1),R("ngIf",!h.label&&h.addGrid()),I(1),$t("clr-control-inline",h.clrInline),R("ngClass",h.controlClass()),I(3),R("ngIf",h.showHelper),I(1),R("ngIf",h.showInvalid),I(1),R("ngIf",h.showValid),I(1),R("ngIf",h.showInvalid),I(1),R("ngIf",h.showValid))},dependencies:[ei,mn,Vn,Lr],encapsulation:2}),c})(),mlt=(()=>{class c{constructor(){Tr.addIcons(Rc,Lc)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,jr,Sa,ZP,Sa]}),c})();function zc(c){return null!==c&&("string"==typeof c?c.length>=0:"boolean"==typeof c&&c)}let Mx=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi]}),c})();var ym=function(c){return c.VERTICAL="vertical",c.HORIZONTAL="horizontal",c.BOTH="both",c}(ym||{});let zme=(()=>{class c{constructor(a,h){this.elementRef=a,this.platformId=h}get nativeElement(){return this.elementRef.nativeElement}focus(){Zr(this.platformId)&&this.elementRef.nativeElement.focus()}}return c.\u0275fac=function(a){return new(a||c)(V(Rn),V(hs))},c.\u0275dir=wt({type:c,selectors:[["","clrKeyFocusItem",""]]}),c})(),Gb=(()=>{class c{constructor(a){this.elementRef=a,this.direction=ym.VERTICAL,this.focusOnLoad=!1,this.subscriptions=[],this.focusChange=new Tt,this._current=0}get focusableItems(){return this._focusableItems?this._focusableItems:this.clrKeyFocusItems?this.clrKeyFocusItems.toArray():[]}set focusableItems(a){Array.isArray(a)&&a.length&&(this._focusableItems=a,this.initializeFocus())}get nativeElement(){return this.elementRef.nativeElement}get current(){return this._current}set current(a){this._current!==a&&(this._current=a)}get currentItem(){return this.focusableItems[this._current]}get currentItemElement(){return this.currentItem.nativeElement?this.currentItem.nativeElement:this.currentItem}ngAfterContentInit(){this.subscriptions.push(this.listenForItemUpdates()),this.initializeFocus()}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe())}handleKeyboardEvent(a){if(this.currentItemElement!==a.target){const h=this.getItemPosition(a.target);this.positionInRange(h)&&(this.current=h)}this.prevKeyPressed(a)&&this.currentFocusIsNotFirstItem()?this.moveTo(this.current-1):this.nextKeyPressed(a)&&this.currentFocusIsNotLastItem()?this.moveTo(this.current+1):a.code===Xn.Home?this.moveTo(0):a.code===Xn.End&&this.moveTo(this.focusableItems.length-1),dz(a)}setClickedItemCurrent(a){const h=this.getItemPosition(a.target);h>-1&&this.moveTo(h)}focusCurrent(){this.currentItem.focus(),this.focusChange.next(this._current)}moveTo(a){this.positionInRange(a)&&(this.current=a,this.focusCurrent())}positionInRange(a){return a>=0&&a<this.focusableItems.length}currentFocusIsNotFirstItem(){return this._current-1>=0}currentFocusIsNotLastItem(){return this._current+1<this.focusableItems.length}initializeFocus(){this.focusableItems&&this.focusableItems.length&&(this._current>=this.focusableItems.length&&(this._current=this.focusableItems.length-1),this.focusOnLoad&&(this.currentItem.focus(),this.focusChange.next()))}nextKeyPressed(a){const h=sh(a.key);switch(this.direction){case ym.VERTICAL:return h===Xn.ArrowDown;case ym.HORIZONTAL:return h===Xn.ArrowRight;case ym.BOTH:return h===Xn.ArrowDown||h===Xn.ArrowRight;default:return!1}}prevKeyPressed(a){const h=sh(a.key);switch(this.direction){case ym.VERTICAL:return h===Xn.ArrowUp;case ym.HORIZONTAL:return h===Xn.ArrowLeft;case ym.BOTH:return h===Xn.ArrowUp||h===Xn.ArrowLeft;default:return!1}}getItemPosition(a){return this._focusableItems?this.focusableItems.indexOf(a):this.focusableItems.map(h=>h.nativeElement).indexOf(a)}listenForItemUpdates(){return this.clrKeyFocusItems.changes.subscribe(()=>{this.initializeFocus()})}}return c.\u0275fac=function(a){return new(a||c)(V(Rn))},c.\u0275cmp=qe({type:c,selectors:[["","clrKeyFocus",""]],contentQueries:function(a,h,d){if(1&a&&Ci(d,zme,5),2&a){let f;Ht(f=Wt())&&(h.clrKeyFocusItems=f)}},hostBindings:function(a,h){1&a&&Y("keydown",function(f){return h.handleKeyboardEvent(f)})("click",function(f){return h.setClickedItemCurrent(f)})},inputs:{direction:["clrDirection","direction"],focusOnLoad:["clrFocusOnLoad","focusOnLoad"],focusableItems:["clrKeyFocus","focusableItems"]},outputs:{focusChange:"clrFocusChange"},attrs:Dit,ngContentSelectors:vi,decls:1,vars:0,template:function(a,h){1&a&&(yn(),St(0))},encapsulation:2}),c})(),Oz=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi]}),c})();class vlt{containsItem(l){return!!this.model&&this.model.includes(l)}select(l){this.addItem(l)}unselect(l){this.removeItem(l)}isEmpty(){return!(this.model&&this.model.length>0)}pop(){let l;return this.model&&this.model.length>0&&(l=this.model[this.model.length-1],this.removeItem(l)),l}toString(l,a=-1){let h="";return this.model&&(a>-1?this.model[a]&&(h+=l&&this.model[a][l]?this.model[a][l]:this.model[a].toString()):this.model.forEach(d=>{h+=l&&d[l]?d[l]:d.toString(),h+=" "})),h.trim()}addItem(l){this.containsItem(l)||(this.model=this.model||[],this.model.push(l))}removeItem(l){if(null==this.model)return;const a=this.model.indexOf(l);a>-1&&this.model.splice(a,1),0===this.model.length&&(this.model=null)}}class _lt{containsItem(l){return this.model===l}select(l){this.model=l}unselect(l){this.containsItem(l)&&(this.model=null)}isEmpty(){return!this.model}pop(){const l=this.model;return this.model=null,l}toString(l){return this.model?l&&this.model[l]?this.model[l]:this.model.toString():""}}class XP{}function Ume(c){return[c,{provide:XP,useExisting:c}]}class ylt extends _lt{constructor(){super(...arguments),this._focusChanged=new fs(null)}get focusChanged(){return this._focusChanged.asObservable()}select(l){this.model!==l&&(this.model=l,this._focusChanged.next(l))}}let blt=(()=>{class c{constructor(){this.loading=!1,this.showAllOptions=!0,this._currentInput="",this._inputChanged=new fs(""),this._selectionChanged=new pP(1),this.inputChanged=this._inputChanged.asObservable()}get currentInput(){return this._currentInput}set currentInput(a){""===a&&!this.multiselectable&&this.setSelectionValue(null),this._currentInput=a,this._inputChanged.next(a)}get selectionChanged(){return this._selectionChanged.asObservable()}get multiselectable(){return this.selectionModel instanceof vlt}select(a){null==a||this.selectionModel.containsItem(a)||(this.selectionModel.select(a),this._selectionChanged.next(this.selectionModel))}toggle(a){null!=a&&(this.selectionModel.containsItem(a)?this.selectionModel.unselect(a):this.selectionModel.select(a),this._selectionChanged.next(this.selectionModel))}unselect(a){null==a||!this.selectionModel.containsItem(a)||(this.selectionModel.unselect(a),this._selectionChanged.next(this.selectionModel))}setSelectionValue(a){!this.selectionModel||this.selectionModel.model===a||!this.selectionModel.model&&!a||(this.selectionModel.model=a,this._selectionChanged.next(this.selectionModel))}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})();Ume((()=>{class c{constructor(a,h,d,f){this.toggleService=h,this.selectionService=d,this.platformId=f,this.pseudoFocus=new ylt,this.optionData=[],this.handleFocusSubscription(),this.renderer=a.createRenderer(null,null)}get trigger(){return this._trigger}set trigger(a){this._trigger=a,this.addFocusOnBlurListener(a)}get listbox(){return this._listbox}set listbox(a){this._listbox=a,this.addFocusOnBlurListener(a)}get textInput(){return this._textInput}set textInput(a){this._textInput=a,this.renderer.listen(a,"keydown",h=>!this.handleTextInput(h)),this.addFocusOnBlurListener(a)}focusInput(){this.textInput&&Zr(this.platformId)&&this.textInput.focus()}focusFirstActive(){if(this.optionData.length>0)if(this.selectionService.selectionModel.isEmpty())this.pseudoFocus.select(this.optionData[0]);else{let a;a=this.selectionService.multiselectable?this.selectionService.selectionModel.model[0]:this.selectionService.selectionModel.model;const h=this.optionData.find(d=>d.value===a);this.pseudoFocus.select(h||this.optionData[0]),this.scrollIntoSelectedModel("auto")}}addOptionValues(a){this.optionData=a}handleFocusSubscription(){this.toggleService.openChange.subscribe(a=>{a||(this.pseudoFocus.model=null)})}moveFocusTo(a){let h=this.optionData.findIndex(d=>d.equals(this.pseudoFocus.model));a===mu.UP?-1===h||0===h?h=this.optionData.length-1:h--:a===mu.DOWN&&(-1===h||h===this.optionData.length-1?h=0:h++),this.pseudoFocus.select(this.optionData[h]),this.scrollIntoSelectedModel()}openAndMoveTo(a){this.toggleService.open?this.moveFocusTo(a):(this.toggleService.openChange.pipe(Rh(1)).subscribe(h=>{h&&this.moveFocusTo(a)}),this.toggleService.open=!0)}handleTextInput(a){let h=!1;const d=sh(a.key);if(a)switch(d){case Xn.Enter:this.toggleService.open&&this.pseudoFocus.model&&(this.selectionService.multiselectable?this.selectionService.toggle(this.pseudoFocus.model.value):this.selectionService.select(this.pseudoFocus.model.value),h=!0);break;case Xn.Space:this.toggleService.open||(this.toggleService.open=!0,h=!0);break;case Xn.ArrowUp:this.preventViewportScrolling(a),this.openAndMoveTo(mu.UP),h=!0;break;case Xn.ArrowDown:this.preventViewportScrolling(a),this.openAndMoveTo(mu.DOWN),h=!0;break;default:a.key!==Xn.Tab&&(!this.selectionService.multiselectable||a.key!==Xn.Backspace)&&a.key!==Xn.Escape&&!this.toggleService.open&&(this.toggleService.open=!0)}return h}scrollIntoSelectedModel(a="smooth"){this.pseudoFocus.model&&this.pseudoFocus.model.el&&this.pseudoFocus.model.el.scrollIntoView({behavior:a,block:"center",inline:"nearest"})}preventViewportScrolling(a){a.preventDefault(),a.stopImmediatePropagation()}addFocusOnBlurListener(a){Zr(this.platformId)&&this.renderer.listen(a,"blur",h=>{this.focusOutOfComponent(h)&&(this.toggleService.open=!1,this.componentCdRef&&this.componentCdRef.detectChanges())})}focusOutOfComponent(a){const h=a.relatedTarget||document.activeElement;return!(this.textInput.contains(h)||this.trigger.contains(h)||this.listbox.contains(h))}}return c.\u0275fac=function(a){return new(a||c)(Ee(U_),Ee(Ps),Ee(blt),Ee(hs))},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})());let Olt=(()=>{class c{constructor(){Tr.addIcons(Rc,Lc,kb,Db)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,fm,jr,Oz,Sa,ah,kx,Mx,Sa,ah]}),c})(),pf=(()=>{class c extends Zb{}return c.\u0275fac=function(){let l;return function(h){return(l||(l=us(c)))(h||c)}}(),c.\u0275cmp=qe({type:c,selectors:[["clr-input-container"]],hostVars:6,hostBindings:function(a,h){2&a&&$t("clr-form-control",!0)("clr-form-control-disabled",null==h.control?null:h.control.disabled)("clr-row",h.addGrid())},features:[kn([lh,Vc,vu,ch]),_n],ngContentSelectors:$it,decls:10,vars:7,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-input-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","status","danger","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","status","success","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","status","danger","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","status","success","aria-hidden","true",1,"clr-validate-icon"]],template:function(a,h){1&a&&(yn(Vit),St(0),X(1,Iit,1,0,"label",0),E(2,"div",1)(3,"div",2),St(4,1),X(5,Rit,1,0,"cds-icon",3),X(6,Lit,1,0,"cds-icon",4),M(),X(7,Nit,1,0,"ng-content",0),X(8,Fit,1,0,"ng-content",0),X(9,Bit,1,0,"ng-content",0),M()),2&a&&(I(1),R("ngIf",!h.label&&h.addGrid()),I(1),R("ngClass",h.controlClass()),I(3),R("ngIf",h.showInvalid),I(1),R("ngIf",h.showValid),I(1),R("ngIf",h.showHelper),I(1),R("ngIf",h.showInvalid),I(1),R("ngIf",h.showValid))},dependencies:[ei,mn,Vn,Lr],encapsulation:2}),c})(),zp=(()=>{class c extends jb{constructor(a,h,d,f,p){super(a,pf,h,d,f,p),this.index=1}}return c.\u0275fac=function(a){return new(a||c)(V(ir),V(ws),V(tc,10),V(ji),V(Rn))},c.\u0275dir=wt({type:c,selectors:[["","clrInput",""]],hostVars:2,hostBindings:function(a,h){2&a&&$t("clr-input",!0)},features:[_n]}),c})(),Qme=(()=>{class c{constructor(){Tr.addIcons(Rc,Lc)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,fm,jr,Sa,Sa]}),c})(),Clt=(()=>{class c{constructor(){Tr.addIcons(Rc,Lc)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,Qme,jr]}),c})(),Xb=(()=>{class c extends rge{}return c.\u0275fac=function(){let l;return function(h){return(l||(l=us(c)))(h||c)}}(),c.\u0275dir=wt({type:c,selectors:[["","cdkTrapFocus",""]],features:[_n]}),c})(),Sz=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({}),c})(),Blt=(()=>{class c{constructor(){Tr.addIcons(Rc,Lc,kb,Vfe,$fe)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,Sz,ZP,ah,kx,jr,Sa]}),c})();new an(void 0);let zlt=(()=>{class c{constructor(){Tr.addIcons(pJe,zfe,Rc,Lc)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,fm,jr,Sa,Sa]}),c})(),eO=(()=>{class c{constructor(){this._dynamic=!1}ngOnInit(){this.label&&this.label.disableGrid()}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=qe({type:c,selectors:[["clr-radio-wrapper"]],contentQueries:function(a,h,d){if(1&a&&Ci(d,Lr,7),2&a){let f;Ht(f=Wt())&&(h.label=f.first)}},hostVars:2,hostBindings:function(a,h){2&a&&$t("clr-radio-wrapper",!0)},features:[kn([vu])],ngContentSelectors:lrt,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(a,h){1&a&&(yn(art),St(0),St(1,1),X(2,ort,1,0,"label",0)),2&a&&(I(2),R("ngIf",!h.label))},dependencies:[mn,Lr],encapsulation:2}),c})(),tO=(()=>{class c extends jb{constructor(a,h,d,f,p){super(a,eO,h,d,f,p)}}return c.\u0275fac=function(a){return new(a||c)(V(ir),V(ws),V(tc,10),V(ji),V(Rn))},c.\u0275dir=wt({type:c,selectors:[["","clrRadio",""]],features:[_n]}),c})(),KP=(()=>{class c extends Zb{constructor(a,h,d,f){super(f,a,h,d),this.layoutService=a,this.controlClassService=h,this.ngControlService=d,this.ifControlStateService=f,this.inline=!1}get clrInline(){return this.inline}set clrInline(a){this.inline="string"==typeof a?"false"!==a:!!a}ngAfterContentInit(){this.setAriaRoles()}setAriaRoles(){this.role=this.radios.length?"group":null}}return c.\u0275fac=function(a){return new(a||c)(V(ff,8),V(ch),V(Vc),V(lh))},c.\u0275cmp=qe({type:c,selectors:[["clr-radio-container"]],contentQueries:function(a,h,d){if(1&a&&Ci(d,tO,5),2&a){let f;Ht(f=Wt())&&(h.radios=f)}},hostVars:7,hostBindings:function(a,h){2&a&&(Je("role",h.role),$t("clr-form-control",!0)("clr-form-control-disabled",null==h.control?null:h.control.disabled)("clr-row",h.addGrid()))},inputs:{clrInline:"clrInline"},features:[kn([Vc,lh,ch,nv]),_n],ngContentSelectors:mrt,decls:10,vars:9,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-subtext-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","status","danger","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","status","success","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","status","danger","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","status","success","aria-hidden","true",1,"clr-validate-icon"]],template:function(a,h){1&a&&(yn(grt),St(0),X(1,crt,1,0,"label",0),E(2,"div",1),St(3,1),E(4,"div",2),X(5,urt,1,0,"ng-content",0),X(6,hrt,1,0,"cds-icon",3),X(7,drt,1,0,"cds-icon",4),X(8,frt,1,0,"ng-content",0),X(9,prt,1,0,"ng-content",0),M()()),2&a&&(I(1),R("ngIf",!h.label&&h.addGrid()),I(1),$t("clr-control-inline",h.clrInline),R("ngClass",h.controlClass()),I(3),R("ngIf",h.showHelper),I(1),R("ngIf",h.showInvalid),I(1),R("ngIf",h.showValid),I(1),R("ngIf",h.showInvalid),I(1),R("ngIf",h.showValid))},dependencies:[ei,mn,Lr,Vn],encapsulation:2}),c})(),Ult=(()=>{class c{constructor(){Tr.addIcons(Rc,Lc)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,Sa,ZP,jr,Sa]}),c})(),Jme=(()=>{class c extends Zb{constructor(a,h,d,f,p,g){super(g,a,h,d),this.renderer=f,this.idService=p,this.ifControlStateService=g,this._hasProgress=!1}get hasProgress(){return this._hasProgress}set hasProgress(a){const h=!!a;h!==this._hasProgress&&(this._hasProgress=h)}getRangeProgressFillWidth(){const a=this.selectRangeElement();if(!a)return this.lastRangeProgressFillWidth;const d=+a.min;let f=+a.max;return 0===d&&0===f&&(f=100),this.lastRangeProgressFillWidth=100*((this.control&&void 0!==this.control.value?this.control.value:(d+f)/2)-d)/(f-d)*a.offsetWidth/100+"px",this.lastRangeProgressFillWidth}selectRangeElement(){try{return this.renderer.selectRootElement("[clrRange]#"+this.idService.id)}catch{return}}}return c.\u0275fac=function(a){return new(a||c)(V(ff,8),V(ch),V(Vc),V(ji),V(vu),V(lh))},c.\u0275cmp=qe({type:c,selectors:[["clr-range-container"]],hostVars:6,hostBindings:function(a,h){2&a&&$t("clr-form-control",!0)("clr-form-control-disabled",null==h.control?null:h.control.disabled)("clr-row",h.addGrid())},inputs:{hasProgress:["clrRangeHasProgress","hasProgress"]},features:[kn([lh,Vc,vu,ch]),_n],ngContentSelectors:xrt,decls:11,vars:10,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-range-wrapper"],["class","fill-input",3,"width",4,"ngIf"],["class","clr-validate-icon","shape","exclamation-circle","status","danger","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","status","success","aria-hidden","true",4,"ngIf"],[1,"fill-input"],["shape","exclamation-circle","status","danger","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","status","success","aria-hidden","true",1,"clr-validate-icon"]],template:function(a,h){1&a&&(yn(wrt),St(0),X(1,vrt,1,0,"label",0),E(2,"div",1)(3,"div",2),St(4,1),X(5,_rt,1,2,"span",3),X(6,yrt,1,0,"cds-icon",4),X(7,brt,1,0,"cds-icon",5),M(),X(8,Ort,1,0,"ng-content",0),X(9,Crt,1,0,"ng-content",0),X(10,Srt,1,0,"ng-content",0),M()),2&a&&(I(1),R("ngIf",!h.label&&h.addGrid()),I(1),R("ngClass",h.controlClass()),I(1),$t("progress-fill",h.hasProgress),I(2),R("ngIf",h.hasProgress),I(1),R("ngIf",h.showInvalid),I(1),R("ngIf",h.showValid),I(1),R("ngIf",h.showHelper),I(1),R("ngIf",h.showInvalid),I(1),R("ngIf",h.showValid))},dependencies:[ei,mn,Lr,Vn],encapsulation:2}),c})(),Qlt=(()=>{class c extends jb{constructor(a,h,d,f,p){super(a,Jme,h,d,f,p)}}return c.\u0275fac=function(a){return new(a||c)(V(ir),V(ws),V(tc,10),V(ji),V(Rn))},c.\u0275dir=wt({type:c,selectors:[["","clrRange",""]],hostVars:2,hostBindings:function(a,h){2&a&&$t("clr-range",!0)},features:[_n]}),c})(),Hlt=(()=>{class c{constructor(){Tr.addIcons(Rc,Lc)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,Sa,ZP,jr,Sa]}),c})(),Wlt=(()=>{class c{constructor(){Tr.addIcons(Rc,Lc)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,fm,jr,Sa,Sa]}),c})(),e0e=(()=>{class c extends Zb{}return c.\u0275fac=function(){let l;return function(h){return(l||(l=us(c)))(h||c)}}(),c.\u0275cmp=qe({type:c,selectors:[["clr-textarea-container"]],hostVars:6,hostBindings:function(a,h){2&a&&$t("clr-form-control",!0)("clr-form-control-disabled",null==h.control?null:h.control.disabled)("clr-row",h.addGrid())},features:[kn([lh,Vc,vu,ch]),_n],ngContentSelectors:Irt,decls:10,vars:7,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-textarea-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","status","danger","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","status","success","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","status","danger","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","status","success","aria-hidden","true",1,"clr-validate-icon"]],template:function(a,h){1&a&&(yn(Art),St(0),X(1,Trt,1,0,"label",0),E(2,"div",1)(3,"div",2),St(4,1),X(5,krt,1,0,"cds-icon",3),X(6,Drt,1,0,"cds-icon",4),M(),X(7,Mrt,1,0,"ng-content",0),X(8,Ert,1,0,"ng-content",0),X(9,Prt,1,0,"ng-content",0),M()),2&a&&(I(1),R("ngIf",!h.label&&h.addGrid()),I(1),R("ngClass",h.controlClass()),I(3),R("ngIf",h.showInvalid),I(1),R("ngIf",h.showValid),I(1),R("ngIf",h.showHelper),I(1),R("ngIf",h.showInvalid),I(1),R("ngIf",h.showValid))},dependencies:[ei,mn,Vn,Lr],encapsulation:2}),c})(),Ez=(()=>{class c extends jb{constructor(a,h,d,f,p){super(a,e0e,h,d,f,p),this.index=1}}return c.\u0275fac=function(a){return new(a||c)(V(ir),V(ws),V(tc,10),V(ji),V(Rn))},c.\u0275dir=wt({type:c,selectors:[["","clrTextarea",""]],hostVars:2,hostBindings:function(a,h){2&a&&$t("clr-textarea",!0)},features:[_n]}),c})(),Zlt=(()=>{class c{constructor(){Tr.addIcons(Rc,Lc)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,fm,jr,Sa,Sa]}),c})(),t0e=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,Sa,mlt,Olt,Blt,Qme,zlt,Ult,Wlt,Zlt,Hlt,Clt]}),c})(),n0e=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi]}),c})(),Glt=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({}),c})(),Xlt=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi]}),c})(),s0e=(()=>{class c{constructor(a){this.platformId=a,this.modalStack=[],this.keyUpEventListener=this.onKeyUp.bind(this)}trackModalOpen(a){!1===this.modalStack.includes(a)&&this.modalStack.unshift(a),Zr(this.platformId)&&document.body.addEventListener("keyup",this.keyUpEventListener)}trackModalClose(a){const h=this.modalStack.indexOf(a);h>-1&&this.modalStack.splice(h,1),0===this.modalStack.length&&Zr(this.platformId)&&document.body.removeEventListener("keyup",this.keyUpEventListener)}onKeyUp(a){this.modalStack.length&&sh(a.key)===Xn.Escape&&this.modalStack[0].close()}}return c.\u0275fac=function(a){return new(a||c)(Ee(hs))},c.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),od=(()=>{class c{constructor(a){this.modalStackService=a,this.toggleState=!1,this._enabled=!1,this._state=new fs(this.toggleState)}get enabled(){return this._enabled}set enabled(a){this._enabled=a}get state(){return this.cache}get stateChange(){return this._state.asObservable()}get isOpen(){return!0===this.toggleState}open(a,h){this.cache=a,this.button=h,this.toggleState=!0,this._state.next(this.toggleState),this.modalStackService.trackModalOpen(this)}close(){this.toggleState=!1,this._state.next(this.toggleState),this.modalStackService.trackModalClose(this),this.button&&(this.button.focus(),this.button=null)}toggle(a,h){this.isRowOpen(a)||!a?this.close():this.open(a,h)}isRowOpen(a){return!(!this.toggleState||this.cache!==a)}}return c.\u0275fac=function(a){return new(a||c)(Ee(s0e))},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),iO=(()=>{class c{constructor(a){this.detailService=a,this.expandableCount=0}get hasExpandableRow(){return!this.detailService.enabled&&this.expandableCount>0}register(){this.expandableCount++}unregister(){this.expandableCount--}}return c.\u0275fac=function(a){return new(a||c)(Ee(od))},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})();var Uc=function(c){return c[c.WIDTH=0]="WIDTH",c[c.HIDDEN=1]="HIDDEN",c}(Uc||{});Object.keys(Uc).map(c=>Uc[c]).filter(c=>c===parseInt(c,10));let Nx=(()=>{class c{constructor(a){this.expandableRowsCount=a,this.expandableRowsCount&&this.expandableRowsCount.register()}ngOnDestroy(){this.expandableRowsCount&&this.expandableRowsCount.unregister()}}return c.\u0275fac=function(a){return new(a||c)(V(iO,8))},c.\u0275dir=wt({type:c,selectors:[["","clrIfExpanded",""]]}),c})();new an("COLUMN_STATE");let mct=(()=>{class c{constructor(){Tr.addIcons(Ufe,gJe,Db,Qfe,Hfe,mJe,Wfe,vJe,_Je)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,Glt,Sz,jr,t0e,fm,gz,ah,Xlt,n0e,Mx,kx,Oz]}),c})(),bct=(()=>{class c{constructor(){Tr.addIcons(kb)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,fm,jr,n0e]}),c})();new R0,new L0;let kct=(()=>{class c{constructor(){Tr.addIcons(kb)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,jr,gz]}),c})(),Dct=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[mct,bct,kct]}),c})();function R0e(c,l,a){return at.create(h=>{l(h);const d=c.subscribe(h);return()=>{d.unsubscribe(),a&&a(h)}})}let cA=(()=>{class c{constructor(a,h,d,f,p){this.renderer=a,this.parent=h,this.toggleService=d,this.focusService=f,this.platformId=p,this.id=aa(),this.focusBackOnTriggerWhenClosed=!1,this._unlistenFuncs=[],this.resetChildren(),this.moveToFirstItemWhenOpen(),this.parent||this.handleRootFocus()}get trigger(){return this._trigger}set trigger(a){this._trigger=a,this.parent?this._unlistenFuncs.push(this.renderer.listen(a,"keydown.arrowright",h=>this.toggleService.toggleWithEvent(h))):(this._unlistenFuncs.push(this.renderer.listen(a,"keydown.arrowup",h=>this.toggleService.toggleWithEvent(h))),this._unlistenFuncs.push(this.renderer.listen(a,"keydown.arrowdown",h=>this.toggleService.toggleWithEvent(h))),this.focusService.listenToArrowKeys(a))}get container(){return this._container}set container(a){this._container=a,this._unlistenFuncs.push(this.renderer.listen(a,"keydown.tab",h=>this.toggleService.toggleWithEvent(h))),this.parent?this._unlistenFuncs.push(this.renderer.listen(a,"keydown.escape",h=>{this.focusService.move(mu.LEFT),h.stopPropagation()})):(this.focusService.registerContainer(a),this._unlistenFuncs.push(this.renderer.listen(a,"keydown.escape",h=>this.toggleService.toggleWithEvent(h))),this._unlistenFuncs.push(this.renderer.listen(a,"blur",h=>{this.children.pipe(Rh(1)).subscribe(f=>f.forEach(p=>p.blur()));const d=h.relatedTarget||document.activeElement;d&&Zr(this.platformId)&&(a.contains(d)||d===this.trigger)||(this.focusBackOnTriggerWhenClosed=!1,this.toggleService.open=!1)})))}ngOnDestroy(){this._unlistenFuncs.forEach(a=>a()),this.focusService.detachListeners()}moveToFirstItemWhenOpen(){const a=this.toggleService.openChange.subscribe(h=>{h&&this.toggleService.originalEvent&&setTimeout(()=>{this.focusService.moveTo(this),this.focusService.move(this.parent?mu.RIGHT:mu.DOWN)})});this._unlistenFuncs.push(()=>a.unsubscribe())}handleRootFocus(){const a=this.toggleService.openChange.subscribe(h=>{h||(this.focusService.reset(this),this.focusBackOnTriggerWhenClosed&&this.focus()),this.focusBackOnTriggerWhenClosed=h});this._unlistenFuncs.push(()=>a.unsubscribe())}focus(){this.trigger&&Zr(this.platformId)&&this.trigger.focus()}blur(){this.trigger&&Zr(this.platformId)&&this.trigger.blur()}activate(){Zr(this.platformId)&&this.trigger.click()}resetChildren(){this.children=new pP(1),this.parent?this.right=this.openAndGetChildren().pipe(Oi(a=>a[0])):(this.down=this.openAndGetChildren().pipe(Oi(a=>a[0])),this.up=this.openAndGetChildren().pipe(Oi(a=>a[a.length-1])))}addChildren(a){pz.linkVertical(a),this.parent&&pz.linkParent(a,this.closeAndGetThis(),mu.LEFT),this.children.next(a)}openAndGetChildren(){return R0e(this.children,()=>this.toggleService.open=!0)}closeAndGetThis(){return R0e(di(this),()=>this.toggleService.open=!1)}}return c.\u0275fac=function(a){return new(a||c)(Ee(ji),Ee(c,12),Ee(Ps),Ee(df),Ee(hs))},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})();const Mct=Ume(cA);let Fx=(()=>{class c{constructor(){this._changes=new Pt}get changes(){return this._changes.asObservable()}closeMenus(){this._changes.next(!1)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})();const Pct={provide:Fx,useFactory:function Ect(c){return c||new Fx},deps:[[new R0,new L0,Fx]]};let Cm=(()=>{class c{constructor(a,h,d,f,p){this.parent=a,this.toggleService=h,this.focusHandler=d,this.cdr=f,this.isMenuClosable=!0,this.subscriptions=[],this.subscriptions.push(p.changes.subscribe(g=>this.toggleService.open=g)),this.subscriptions.push(h.openChange.subscribe(()=>this.cdr.markForCheck()))}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe())}}return c.\u0275fac=function(a){return new(a||c)(V(c,12),V(Ps),V(cA),V(wo),V(Fx))},c.\u0275cmp=qe({type:c,selectors:[["clr-dropdown"]],hostVars:4,hostBindings:function(a,h){2&a&&$t("dropdown",!0)("open",h.toggleService.open)},inputs:{isMenuClosable:["clrCloseMenuOnItemClick","isMenuClosable"]},features:[kn([Pct,Rme,Mct]),Hu([Bp])],ngContentSelectors:vi,decls:1,vars:0,template:function(a,h){1&a&&(yn(),St(0))},encapsulation:2}),c})();const Act=[{provide:XP,useClass:(()=>{class c{constructor(a,h,d){this.el=a,this.renderer=h,this.platformId=d,this.id=aa(),this.disabled=!1,h.setAttribute(a.nativeElement,"id",this.id),h.setAttribute(a.nativeElement,"tabindex","-1")}focus(){Zr(this.platformId)&&(this.renderer.setAttribute(this.el.nativeElement,"tabindex","0"),this.el.nativeElement.focus(),this.el.nativeElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))}blur(){Zr(this.platformId)&&(this.renderer.setAttribute(this.el.nativeElement,"tabindex","-1"),this.el.nativeElement.blur())}activate(){Zr(this.platformId)&&this.el.nativeElement.click()}}return c.\u0275fac=function(a){return new(a||c)(Ee(Rn),Ee(ji),Ee(hs))},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})()}];let aO=(()=>{class c{constructor(a,h,d){this.dropdown=a,this._dropdownService=h,this.focusableItem=d}get disabled(){return this.focusableItem.disabled}set disabled(a){this.focusableItem.disabled=!!a||""===a}get dropdownItemId(){return this.focusableItem.id}set dropdownItemId(a){this.focusableItem.id=a}onDropdownItemClick(){if(this.dropdown.isMenuClosable&&!this.disabled&&this.dropdown.toggleService.open){const a=this.findRootDropdown();a.focusHandler.focus(),a.focusHandler.focusBackOnTriggerWhenClosed=!1}setTimeout(()=>{this.dropdown.isMenuClosable&&!this.disabled&&this._dropdownService.closeMenus()})}onSpaceKeydown(a){this.stopImmediatePropagationIfDisabled(a)}onEnterKeydown(a){this.stopImmediatePropagationIfDisabled(a)}stopImmediatePropagationIfDisabled(a){this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}findRootDropdown(){let a=this.dropdown;for(;a.parent;)a=a.parent;return a}}return c.\u0275fac=function(a){return new(a||c)(V(Cm),V(Fx),V(XP))},c.\u0275dir=wt({type:c,selectors:[["","clrDropdownItem",""]],hostVars:7,hostBindings:function(a,h){1&a&&Y("click",function(){return h.onDropdownItemClick()})("keydown.space",function(f){return h.onSpaceKeydown(f)})("keydown.enter",function(f){return h.onEnterKeydown(f)}),2&a&&(Je("role","menuitem")("aria-disabled",h.disabled)("id",h.dropdownItemId),$t("disabled",h.disabled)("dropdown-item",!0))},inputs:{disabled:["clrDisabled","disabled"],dropdownItemId:["id","dropdownItemId"]},features:[kn([Act])]}),c})();var Lt=function(c){return c[c.RIGHT_CENTER=0]="RIGHT_CENTER",c[c.RIGHT_TOP=1]="RIGHT_TOP",c[c.RIGHT_BOTTOM=2]="RIGHT_BOTTOM",c[c.TOP_CENTER=3]="TOP_CENTER",c[c.TOP_RIGHT=4]="TOP_RIGHT",c[c.TOP_LEFT=5]="TOP_LEFT",c[c.BOTTOM_CENTER=6]="BOTTOM_CENTER",c[c.BOTTOM_RIGHT=7]="BOTTOM_RIGHT",c[c.BOTTOM_LEFT=8]="BOTTOM_LEFT",c[c.LEFT_CENTER=9]="LEFT_CENTER",c[c.LEFT_TOP=10]="LEFT_TOP",c[c.LEFT_BOTTOM=11]="LEFT_BOTTOM",c}(Lt||{});class Lct{constructor(l){this.element=l,this.boundOnScrollListener=this.emitScrollEvent.bind(this),this.scrollableElements=[],l.style.position="absolute",l.style.top=0,l.style.bottom="auto",l.style.left=0,l.style.right="auto"}anchor(l,a,h,{offsetX:d=0,offsetY:f=0,useAnchorParent:p=!1}={}){this.addScrollEventListeners(l),p&&(l=l.parentNode),l.style.position="static";const g=l.getBoundingClientRect(),m=this.element.getBoundingClientRect();let v=g.left-m.left+d,_=g.top-m.top+f;switch(a){case Lt.LEFT_TOP:case Lt.TOP_LEFT:break;case Lt.TOP_CENTER:v+=g.width/2;break;case Lt.TOP_RIGHT:case Lt.RIGHT_TOP:v+=g.width;break;case Lt.LEFT_BOTTOM:case Lt.BOTTOM_LEFT:_+=g.height;break;case Lt.BOTTOM_CENTER:_+=g.height,v+=g.width/2;break;case Lt.BOTTOM_RIGHT:case Lt.RIGHT_BOTTOM:_+=g.height,v+=g.width;break;case Lt.LEFT_CENTER:_+=g.height/2;break;case Lt.RIGHT_CENTER:_+=g.height/2,v+=g.width}switch(h){case Lt.LEFT_TOP:case Lt.TOP_LEFT:break;case Lt.TOP_CENTER:v-=m.width/2;break;case Lt.TOP_RIGHT:case Lt.RIGHT_TOP:v-=m.width;break;case Lt.LEFT_BOTTOM:case Lt.BOTTOM_LEFT:_-=m.height;break;case Lt.BOTTOM_CENTER:_-=m.height,v-=m.width/2;break;case Lt.BOTTOM_RIGHT:case Lt.RIGHT_BOTTOM:_-=m.height,v-=m.width;break;case Lt.LEFT_CENTER:_-=m.height/2;break;case Lt.RIGHT_CENTER:_-=m.height/2,v-=m.width}const y=getComputedStyle(this.element),b=parseInt(y.marginLeft,10),O=parseInt(y.marginRight,10),C=parseInt(y.marginTop,10),S=parseInt(y.marginBottom,10);switch(a){case Lt.LEFT_TOP:case Lt.TOP_LEFT:case Lt.TOP_RIGHT:case Lt.RIGHT_TOP:(h===Lt.BOTTOM_RIGHT||h===Lt.RIGHT_BOTTOM)&&(_-=S,v-=O),(h===Lt.BOTTOM_LEFT||h===Lt.LEFT_BOTTOM)&&(_-=C,v+=b),(h===Lt.TOP_LEFT||h===Lt.LEFT_TOP)&&(_+=C,v+=b),(h===Lt.TOP_RIGHT||h===Lt.RIGHT_TOP)&&(_+=C,v-=O);break;case Lt.LEFT_BOTTOM:case Lt.BOTTOM_LEFT:case Lt.BOTTOM_RIGHT:case Lt.RIGHT_BOTTOM:(h===Lt.BOTTOM_LEFT||h===Lt.LEFT_BOTTOM)&&(_-=S,v+=b),(h===Lt.BOTTOM_RIGHT||h===Lt.RIGHT_BOTTOM)&&(_-=S,v-=O),(h===Lt.TOP_LEFT||h===Lt.LEFT_TOP)&&(_+=C,v+=b),(h===Lt.TOP_RIGHT||h===Lt.RIGHT_TOP)&&(_+=C,v-=O);break;case Lt.TOP_CENTER:_-=S,v+=b,v-=O;break;case Lt.BOTTOM_CENTER:_+=C,v+=b,v-=O;break;case Lt.LEFT_CENTER:_+=C,_-=S,v-=O;break;case Lt.RIGHT_CENTER:_+=C,_-=S,v+=b}return this.element.style.transform=`translateX(${Math.round(v)}px) translateY(${Math.round(_)}px)`,this._scroll.asObservable()}release(){this.element.style.transform="",this.removeScrollEventListeners()}isPositioned(l){const a=getComputedStyle(l).position;return"relative"===a||"absolute"===a||"fixed"===a}emitScrollEvent(){this._scroll.next()}addScrollEventListeners(l){this._scroll=new Pt;const a=l;let h=l;for(;h&&h!==document&&(this.scrolls(h)&&(h.addEventListener("scroll",this.boundOnScrollListener),this.scrollableElements.push(h)),h===a||!this.isPositioned(h));)h=h.parentNode}removeScrollEventListeners(){for(const l of this.scrollableElements)l.removeEventListener("scroll",this.boundOnScrollListener);this.scrollableElements.length=0,this._scroll&&(this._scroll.complete(),delete this._scroll)}scrolls(l){const a=getComputedStyle(l);return"scroll"===a.overflowX||"auto"===a.overflowX||"scroll"===a.overflowY||"auto"===a.overflowY}}let jz=(()=>{class c{constructor(a,h){this.parentHost=h,this.closeOnOutsideClick=!1,this.popoverOptions={},this.updateAnchor=!1,this.documentESCListener=null,this.closeOnOutsideClickCallback=d=>{this.anchorElem.contains(d.target)||(this.toggleService.open=!1)},this.el=a.get(Rn),this.toggleService=a.get(Ps),this.renderer=a.get(ji),this.ngZone=a.get(Di),this.ref=a.get(wo),this.anchorElem=h.nativeElement,this.popoverInstance=new Lct(this.el.nativeElement),this.subscription=this.toggleService.openChange.subscribe(d=>{d?(this.anchor(),this.attachESCListener()):(this.release(),this.detachESCListener())}),this.toggleService.open&&(this.anchor(),this.attachESCListener())}get isOffScreen(){return!this.toggleService.open}ngAfterViewChecked(){this.updateAnchor&&(this.updateAnchor=!1,this.popoverInstance.anchor(this.anchorElem,this.anchorPoint,this.popoverPoint,this.popoverOptions).subscribe(()=>{this.toggleService.open=!1}),this.attachOutsideClickListener())}ngOnDestroy(){this.release(),this.detachESCListener(),this.subscription.unsubscribe()}anchor(){this.updateAnchor=!0}release(){this.detachOutsideClickListener(),this.popoverInstance.release()}attachESCListener(){this.popoverOptions.ignoreGlobalESCListener||this.ngZone.runOutsideAngular(()=>{this.documentESCListener=this.renderer.listen("document","keydown",a=>{a&&a.key&&sh(a.key)===Xn.Escape&&this.ngZone.run(()=>{this.toggleService.open=!1,this.ref.markForCheck()})})})}detachESCListener(){this.documentESCListener&&(this.documentESCListener(),this.documentESCListener=null)}attachOutsideClickListener(){this.closeOnOutsideClick&&this.toggleService.open&&document&&document.addEventListener&&document.addEventListener("click",this.closeOnOutsideClickCallback,!0)}detachOutsideClickListener(){this.closeOnOutsideClick&&document&&document.removeEventListener&&document.removeEventListener("click",this.closeOnOutsideClickCallback,!0)}}return c.\u0275fac=function(a){return new(a||c)(V(ws),V(Rn,4))},c.\u0275dir=wt({type:c,hostVars:2,hostBindings:function(a,h){2&a&&$t("is-off-screen",h.isOffScreen)}}),c})(),lO=(()=>{class c extends jz{constructor(a,h,d,f){if(!h)throw new Error("clr-dropdown-menu should only be used inside of a clr-dropdown");super(a,h),d?(this.anchorPoint=Lt.RIGHT_TOP,this.popoverPoint=Lt.LEFT_TOP):(this.anchorPoint=Lt.BOTTOM_LEFT,this.popoverPoint=Lt.LEFT_TOP),this.popoverOptions.allowMultipleOpen=!0,this.popoverOptions.ignoreGlobalESCListener=!0,this.closeOnOutsideClick=!0,this.focusHandler=f}set position(a){switch(a){case"top-right":this.anchorPoint=Lt.TOP_RIGHT,this.popoverPoint=Lt.RIGHT_BOTTOM;break;case"top-left":this.anchorPoint=Lt.TOP_LEFT,this.popoverPoint=Lt.LEFT_BOTTOM;break;case"bottom-right":this.anchorPoint=Lt.BOTTOM_RIGHT,this.popoverPoint=Lt.RIGHT_TOP;break;case"bottom-left":default:this.anchorPoint=Lt.BOTTOM_LEFT,this.popoverPoint=Lt.LEFT_TOP;break;case"right-top":this.anchorPoint=Lt.RIGHT_TOP,this.popoverPoint=Lt.LEFT_TOP;break;case"right-bottom":this.anchorPoint=Lt.RIGHT_BOTTOM,this.popoverPoint=Lt.LEFT_BOTTOM;break;case"left-top":this.anchorPoint=Lt.LEFT_TOP,this.popoverPoint=Lt.RIGHT_TOP;break;case"left-bottom":this.anchorPoint=Lt.LEFT_BOTTOM,this.popoverPoint=Lt.RIGHT_BOTTOM}}ngAfterContentInit(){this.focusHandler.container=this.el.nativeElement,this.items.changes.subscribe(()=>this.focusHandler.addChildren(this.items.toArray())),this.items.notifyOnChanges()}ngOnDestroy(){super.ngOnDestroy(),this.focusHandler.resetChildren()}}return c.\u0275fac=function(a){return new(a||c)(V(ws),V(QP,8),V(c,12),V(cA))},c.\u0275cmp=qe({type:c,selectors:[["clr-dropdown-menu"]],contentQueries:function(a,h,d){if(1&a&&Ci(d,XP,4),2&a){let f;Ht(f=Wt())&&(h.items=f)}},hostVars:3,hostBindings:function(a,h){2&a&&(Je("role","menu"),$t("dropdown-menu",!0))},inputs:{position:["clrPosition","position"]},features:[_n],ngContentSelectors:vi,decls:1,vars:0,template:function(a,h){1&a&&(yn(),St(0))},encapsulation:2}),c})(),cO=(()=>{class c{constructor(a,h,d,f){this.toggleService=h,this.isRootLevelToggle=!0,a.parent&&(this.isRootLevelToggle=!1),f.trigger=d.nativeElement}get active(){return this.toggleService.open}onDropdownTriggerClick(a){this.toggleService.toggleWithEvent(a)}}return c.\u0275fac=function(a){return new(a||c)(V(Cm),V(Ps),V(Rn),V(cA))},c.\u0275dir=wt({type:c,selectors:[["","clrDropdownTrigger",""],["","clrDropdownToggle",""]],hostVars:10,hostBindings:function(a,h){1&a&&Y("click",function(f){return h.onDropdownTriggerClick(f)}),2&a&&(Je("aria-haspopup","menu")("aria-expanded",h.active),$t("dropdown-toggle",h.isRootLevelToggle)("dropdown-item",!h.isRootLevelToggle)("expandable",!h.isRootLevelToggle)("active",h.active))}}),c})(),Gz=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,ah,jr]}),c})(),gf=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275dir=wt({type:c,selectors:[["",8,"alert-text"]]}),c})(),$0e=(()=>{class c{constructor(){Tr.addIcons(Lc,Zfe,Rc,yJe,Db)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,jr,Gz]}),c})(),Bct=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[$0e]}),c})(),$r=(()=>{class c{}return c.NAV_LEVEL_1=1,c.NAV_LEVEL_2=2,c.NAV_CLOSE_ALL="NAV_CLOSE_ALL",c.NAV_OPEN="NAV_OPEN",c.NAV_CLOSE="NAV_CLOSE",c.NAV_TOGGLE="NAV_TOGGLE",c.NAV_CLASS_HAMBURGER_MENU="open-hamburger-menu",c.NAV_CLASS_OVERFLOW_MENU="open-overflow-menu",c.NAV_CLASS_TRIGGER_1="header-hamburger-trigger",c.NAV_CLASS_TRIGGER_2="header-overflow-trigger",c.NAV_CLASS_LEVEL_1="clr-nav-level-1",c.NAV_CLASS_LEVEL_2="clr-nav-level-2",c})();class z0e{constructor(l,a){this._controlCode=l,this._navLevel=a}get controlCode(){return this._controlCode}get navLevel(){return this._navLevel}}let hA=(()=>{class c{constructor(){this.responsiveNavList=[],this.registerNavSubject=new pP,this.controlNavSubject=new Pt,this.closeAllNavs()}get registeredNavs(){return this.registerNavSubject.asObservable()}get navControl(){return this.controlNavSubject.asObservable()}registerNav(a){!a||this.isNavRegistered(a)||(this.responsiveNavList.push(a),this.registerNavSubject.next(this.responsiveNavList))}isNavRegistered(a){return this.responsiveNavList.indexOf(a)>-1&&(console.error("Multiple clr-nav-level "+a+" attributes found. Please make sure that only one exists"),!0)}unregisterNav(a){const h=this.responsiveNavList.indexOf(a);h>-1&&(this.responsiveNavList.splice(h,1),this.registerNavSubject.next(this.responsiveNavList))}sendControlMessage(a,h){const d=new z0e(a,h);this.controlNavSubject.next(d)}closeAllNavs(){const a=new z0e($r.NAV_CLOSE_ALL,-999);this.controlNavSubject.next(a)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),U0e=(()=>{class c{constructor(a,h){this.elRef=a,this.responsiveNavService=h}ngOnInit(){this._classList=this.elRef.nativeElement.classList,this._subscription=this.responsiveNavService.navControl.subscribe({next:a=>{this.processMessage(a)}})}processMessage(a){let h=$r.NAV_CLASS_HAMBURGER_MENU;a.controlCode===$r.NAV_CLOSE_ALL?(this._classList.remove($r.NAV_CLASS_HAMBURGER_MENU),this._classList.remove($r.NAV_CLASS_OVERFLOW_MENU)):a.navLevel===$r.NAV_LEVEL_1?this.controlNav(a.controlCode,h):a.navLevel===$r.NAV_LEVEL_2&&(h=$r.NAV_CLASS_OVERFLOW_MENU,this.controlNav(a.controlCode,h))}controlNav(a,h){a===$r.NAV_OPEN?this._classList.add(h):a===$r.NAV_CLOSE?this._classList.remove(h):a===$r.NAV_TOGGLE&&this._classList.toggle(h)}ngOnDestroy(){this._subscription.unsubscribe()}}return c.\u0275fac=function(a){return new(a||c)(V(Rn),V(hA))},c.\u0275dir=wt({type:c,selectors:[["clr-main-container"]],hostVars:2,hostBindings:function(a,h){2&a&&$t("main-container",!0)}}),c})(),Vct=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,jr]}),c})(),Yz=(()=>{class c extends Vb{}return c.\u0275fac=function(){let l;return function(h){return(l||(l=us(c)))(h||c)}}(),c.\u0275dir=wt({type:c,selectors:[["clr-main-container"]],features:[_n]}),c})(),Q0e=(()=>{class c extends $b{constructor(a,h,d){if(!h)throw new Error("clr-header should only be used inside of a clr-main-container");super(a,h),this.responsiveNavService=d}get flavor(){return this.responsiveNavService.responsiveNavList.reduce((a,h)=>a+h,0)}}return c.\u0275fac=function(a){return new(a||c)(V(wo),V(Yz,8),V(hA))},c.\u0275dir=wt({type:c,selectors:[["clr-header"]],features:[_n]}),c})(),H0e=(()=>{class c{constructor(a,h){this.responsiveNavService=a,this.commonStrings=h,this.role="banner",this.isNavLevel1OnPage=!1,this.isNavLevel2OnPage=!1,this.openNavLevel=null,this.responsiveNavCodes=$r,this._subscription=this.responsiveNavService.registeredNavs.subscribe({next:d=>{this.initializeNavTriggers(d)}}),this._subscription.add(this.responsiveNavService.navControl.pipe(vs(({controlCode:d})=>d===$r.NAV_CLOSE||d===$r.NAV_CLOSE_ALL)).subscribe(()=>{this.openNavLevel=null}))}get responsiveNavCommonString(){const a=this.commonStrings.keys;return this.openNavLevel!==this.responsiveNavCodes.NAV_LEVEL_1?a.responsiveNavToggleOpen:a.responsiveNavToggleClose}get responsiveOverflowCommonString(){const a=this.commonStrings.keys;return this.openNavLevel!==this.responsiveNavCodes.NAV_LEVEL_2?a.responsiveNavOverflowOpen:a.responsiveNavOverflowClose}resetNavTriggers(){this.isNavLevel1OnPage=!1,this.isNavLevel2OnPage=!1}initializeNavTriggers(a){this.resetNavTriggers(),a.length>2?console.error("More than 2 Nav Levels detected."):a.forEach(h=>{h===$r.NAV_LEVEL_1?this.isNavLevel1OnPage=!0:h===$r.NAV_LEVEL_2&&(this.isNavLevel2OnPage=!0)})}closeOpenNav(){this.responsiveNavService.closeAllNavs()}toggleNav(a){this.openNavLevel!==a?this.openNav(a):this.responsiveNavService.sendControlMessage($r.NAV_CLOSE,a)}openNav(a){this.openNavLevel=a,this.responsiveNavService.sendControlMessage($r.NAV_OPEN,a)}ngOnDestroy(){this._subscription.unsubscribe()}}return c.\u0275fac=function(a){return new(a||c)(V(hA),V(yr))},c.\u0275cmp=qe({type:c,selectors:[["clr-header"]],hostVars:3,hostBindings:function(a,h){2&a&&(Je("role",h.role),$t("header",!0))},inputs:{role:"role"},ngContentSelectors:vi,decls:4,vars:2,consts:[["type","button","class","header-hamburger-trigger",3,"click",4,"ngIf"],["type","button","class","header-overflow-trigger",3,"click",4,"ngIf"],[1,"header-backdrop",3,"click"],["type","button",1,"header-hamburger-trigger",3,"click"],["type","button",1,"header-overflow-trigger",3,"click"]],template:function(a,h){1&a&&(yn(),X(0,Zot,2,1,"button",0),St(1),X(2,jot,2,1,"button",1),E(3,"div",2),Y("click",function(){return h.closeOpenNav()}),M()),2&a&&(R("ngIf",h.isNavLevel1OnPage),I(2),R("ngIf",h.isNavLevel2OnPage))},dependencies:[mn],encapsulation:2}),c})(),W0e=(()=>{class c{constructor(a,h,d,f,p,g){this.cdkTrapFocus=h,this.responsiveNavService=d,this.elementRef=f,this.renderer=p,this._isOpen=!1,Zr(a)&&(this._document=g.get(Pr)),this._subscription=d.navControl.pipe(vs(m=>m.navLevel===this.level),vs(({controlCode:m})=>m===$r.NAV_OPEN&&!this.isOpen||m===$r.NAV_CLOSE&&this.isOpen)).subscribe(({controlCode:m})=>{m!==$r.NAV_OPEN?this.close():this.open()}),this._subscription.add(d.navControl.pipe(vs(({controlCode:m})=>m===$r.NAV_CLOSE_ALL)).subscribe(()=>this.close()))}get level(){return this._level}get responsiveNavCodes(){return $r}get isOpen(){return this._isOpen}ngOnInit(){this.cdkTrapFocus.enabled=!1,this.closeButtonAriaLabel||(this.closeButtonAriaLabel=this._level===$r.NAV_LEVEL_1?cz.responsiveNavToggleClose:cz.responsiveNavOverflowClose),this.level===$r.NAV_LEVEL_1||this.level===$r.NAV_LEVEL_2?(this.responsiveNavService.registerNav(this.level),this.addNavClass(this.level)):console.error("Nav Level can only be 1 or 2")}ngAfterViewInit(){const a=((c,l)=>{const a=this._document.createElement("cds-internal-close-button");return a.setAttribute("icon-size","32"),a.setAttribute("aria-label",l),a.setAttribute("aria-hidden","true"),a.setAttribute("type","button"),a.setAttribute("hidden","true"),a.className="clr-nav-close",a})(0,this.closeButtonAriaLabel);this.renderer.listen(a,"click",this.close.bind(this)),this.renderer.insertBefore(this.elementRef.nativeElement,a,this.elementRef.nativeElement.firstChild),this._document.body.clientWidth<992&&this.close()}ngOnDestroy(){this.responsiveNavService.unregisterNav(this.level),this._subscription.unsubscribe()}onResize(a){a.target.innerWidth<992&&this.isOpen?this.close():this.showNavigation()}onMouseClick(a){let h=a;const d=this.elementRef.nativeElement;for(;h;){if(h===d)return;if(h.classList.contains("nav-link")&&this._document.body.clientWidth<992)return void this.close();h=h.parentNode}}addNavClass(a){const h=this.elementRef.nativeElement.classList;a===$r.NAV_LEVEL_1?h.add($r.NAV_CLASS_LEVEL_1):a===$r.NAV_LEVEL_2&&h.add($r.NAV_CLASS_LEVEL_2)}open(){this._isOpen=!0,this.showNavigation(),this.cdkTrapFocus.enabled=!0,this.showCloseButton(),this.responsiveNavService.sendControlMessage($r.NAV_OPEN,this.level)}close(){this._isOpen=!1,this.hideNavigation(),this.cdkTrapFocus.enabled=!1,this.hideCloseButton(),this.responsiveNavService.sendControlMessage($r.NAV_CLOSE,this.level)}hideNavigation(){this.renderer.setAttribute(this.elementRef.nativeElement,"aria-hidden","true"),this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","true")}showNavigation(){this.renderer.setAttribute(this.elementRef.nativeElement,"aria-hidden","false"),this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}hideCloseButton(){this.renderer.setAttribute(this.elementRef.nativeElement,"aria-hidden","true"),this.renderer.setAttribute(this.elementRef.nativeElement.querySelector(".clr-nav-close"),"hidden","true")}showCloseButton(){this.renderer.setAttribute(this.elementRef.nativeElement.querySelector(".clr-nav-close"),"aria-hidden","false"),this.renderer.removeAttribute(this.elementRef.nativeElement.querySelector(".clr-nav-close"),"hidden")}}return c.\u0275fac=function(a){return new(a||c)(V(hs),V(Fme),V(hA),V(Rn),V(ji),V(ws))},c.\u0275dir=wt({type:c,selectors:[["","clr-nav-level",""]],hostBindings:function(a,h){1&a&&Y("resize",function(f){return h.onResize(f)},0,ap)("click",function(f){return h.onMouseClick(f.target)})},inputs:{_level:["clr-nav-level","_level"],closeButtonAriaLabel:["closeAriaLabel","closeButtonAriaLabel"]},features:[Hu([Fme])]}),c})(),Uct=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,jr,Gz]}),c})(),Z0e=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=qe({type:c,selectors:[["ng-component"]],viewQuery:function(a,h){if(1&a&&si(Ls,5),2&a){let d;Ht(d=Wt())&&(h.template=d.first)}},ngContentSelectors:vi,decls:1,vars:0,template:function(a,h){1&a&&(yn(),X(0,Got,1,0,"ng-template"))},encapsulation:2}),c})(),Qct=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi]}),c})(),qz=(()=>{class c extends Vb{}return c.\u0275fac=function(){let l;return function(h){return(l||(l=us(c)))(h||c)}}(),c.\u0275dir=wt({type:c,selectors:[["clr-tabs"]],features:[_n]}),c})(),j0e=(()=>{class c extends $b{constructor(a,h,d,f){if(!h)throw new Error("clrTabLink and clr-tab-content should only be used inside of a clr-tabs");super(a,h),this.ifActive=f,this.id=d}get flavor(){return this.ifActive.current===this.id}}return c.\u0275fac=function(a){return new(a||c)(V(wo),V(qz,8),V(Qb),V(tv))},c.\u0275dir=wt({type:c,selectors:[["","clrTabLink",""],["clr-tab-content"]],features:[_n]}),c})();var cv=function(c){return c.HORIZONTAL="horizontal",c.VERTICAL="vertical",c}(cv||{});let Bx=(()=>{class c{constructor(){this.layout=cv.HORIZONTAL,this._children=[]}get children(){return this._children}get activeTab(){return this.children.find(a=>a.active)}get overflowTabs(){return this.layout===cv.VERTICAL?[]:this.children.filter(a=>!0===a.tabLink.inOverflow)}register(a){this._children.push(a)}unregister(a){const h=this.children.indexOf(a);h>-1&&this.children.splice(h,1)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),Hct=0,Kz=(()=>{class c{constructor(a,h,d){this.ifActiveService=a,this.id=h,this.tabsService=d,this.tabContentId||(this.tabContentId="clr-tab-content-"+Hct++)}get active(){return this.ifActiveService.current===this.id}get ariaLabelledBy(){return this.tabsService.children.find(a=>a.tabContent===this)?.tabLink?.tabLinkId}set templateRef(a){this.viewRef=this.tabsService.tabContentViewContainer.createEmbeddedView(a)}ngOnDestroy(){const a=this.tabsService.tabContentViewContainer.indexOf(this.viewRef);a>-1&&this.tabsService.tabContentViewContainer.remove(a)}}return c.\u0275fac=function(a){return new(a||c)(V(tv),V(Qb),V(Bx))},c.\u0275cmp=qe({type:c,selectors:[["clr-tab-content"]],viewQuery:function(a,h){if(1&a&&si(Xot,7),2&a){let d;Ht(d=Wt())&&(h.templateRef=d.first)}},inputs:{tabContentId:["id","tabContentId"]},ngContentSelectors:vi,decls:2,vars:0,consts:[["tabContentProjectedRef",""],["role","tabpanel",1,"tab-content",3,"id","hidden"]],template:function(a,h){1&a&&(yn(),X(0,Yot,2,6,"ng-template",null,0,La))},encapsulation:2}),c})(),Wct=0;const Jz=new an("TABS_ID"),jct={provide:Jz,useFactory:function Zct(){return"clr-tabs-"+Wct++}};let Gct=0,eU=(()=>{class c{constructor(a,h,d,f,p,g,m){this.ifActiveService=a,this.id=h,this.el=d,this.cfr=f,this.viewContainerRef=p,this.tabsService=g,this.tabsId=m,this.tabLinkId||(this.tabLinkId="clr-tab-link-"+Gct++);const v=this.cfr.resolveComponentFactory(Z0e);this.templateRefContainer=this.viewContainerRef.createComponent(v,void 0,void 0,[[this.el.nativeElement]]).instance}get inOverflow(){return this._inOverflow&&this.tabsService.layout!==cv.VERTICAL}set inOverflow(a){this._inOverflow=a}get addLinkClasses(){return!this.inOverflow}get ariaControls(){return this.tabsService.children.find(a=>a.tabLink===this)?.tabContent?.tabContentId}get active(){return this.ifActiveService.current===this.id}get tabindex(){return this.active?0:-1}activate(){this.ifActiveService.current=this.id}}return c.\u0275fac=function(a){return new(a||c)(V(tv),V(Qb),V(Rn),V($_),V(ir),V(Bx),V(Jz))},c.\u0275dir=wt({type:c,selectors:[["","clrTabLink",""]],hostAttrs:["role","tab","type","button"],hostVars:12,hostBindings:function(a,h){1&a&&Y("click",function(){return h.activate()}),2&a&&(Vd("id",h.tabLinkId),Je("aria-controls",h.ariaControls)("aria-selected",h.active)("tabindex",h.tabindex),$t("btn",!0)("btn-link",h.addLinkClasses)("nav-link",h.addLinkClasses)("active",h.active))},inputs:{tabLinkId:["id","tabLinkId"],inOverflow:["clrTabLinkInOverflow","inOverflow"]}}),c})(),tU=(()=>{class c{constructor(a,h,d){this.ifActiveService=a,this.id=h,this.tabsService=d,d.register(this)}get active(){return this.ifActiveService.current===this.id}ngOnDestroy(){this.tabsService.unregister(this)}}return c.\u0275fac=function(a){return new(a||c)(V(tv),V(Qb),V(Bx))},c.\u0275cmp=qe({type:c,selectors:[["clr-tab"]],contentQueries:function(a,h,d){if(1&a&&(Ci(d,eU,7),Ci(d,Kz,7)),2&a){let f;Ht(f=Wt())&&(h.tabLink=f.first),Ht(f=Wt())&&(h.tabContent=f.first)}},features:[kn([tlt])],ngContentSelectors:vi,decls:1,vars:0,template:function(a,h){1&a&&(yn(),St(0))},encapsulation:2}),c})(),nU=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=qe({type:c,selectors:[["clr-tab-overflow-content"]],hostVars:2,hostBindings:function(a,h){2&a&&$t("dropdown-menu",!0)},ngContentSelectors:vi,decls:1,vars:0,template:function(a,h){1&a&&(yn(),St(0))},encapsulation:2}),c})(),G0e=(()=>{class c{constructor(a,h,d,f,p){this.ifActiveService=a,this.toggleService=h,this.tabsService=d,this.tabsId=f,this.commonStrings=p,this.tabLinkElements=[],this._mousedown=!1,this.subscriptions=[],this._tabLinkDirectives=[]}get layout(){return this.tabsService.layout}set layout(a){Object.keys(cv).map(h=>cv[h]).indexOf(a)>=0&&(this.tabsService.layout=a)}get tabLinkDirectives(){return this._tabLinkDirectives}get activeTabInOverflow(){return this.tabsService.overflowTabs.indexOf(this.tabsService.activeTab)>-1}get activeTabPosition(){return this._tabLinkDirectives.findIndex(a=>a.active)}get isCurrentInOverflow(){return this.keyFocus.current>=this.overflowPosition}get isVertical(){return this.layout===cv.VERTICAL}set tabOverflowEl(a){this._tabOverflowEl=a&&a.nativeElement,this.toggleService.open&&a&&this.keyFocus.focusCurrent()}get overflowPosition(){return this._tabLinkDirectives.filter(a=>!a.inOverflow).length}set tabContentViewContainer(a){this.tabsService.tabContentViewContainer=a}ngAfterContentInit(){this.subscriptions.push(this.listenForTabLinkChanges()),typeof this.ifActiveService.current>"u"&&this.tabLinkDirectives[0]&&this.tabLinkDirectives[0].activate(),this.keyFocus.current=this.activeTabPosition}ngOnDestroy(){this.subscriptions.forEach(a=>{a.unsubscribe()})}toggleOverflowOnPosition(a){this.toggleService.open=a>=this.overflowPosition}resetKeyFocusCurrentToActive(a){!this.keyFocus.nativeElement.contains(a.relatedTarget)&&this.keyFocus.current!==this.activeTabPosition&&(this.keyFocus.current=this.activeTabPosition)}toggleOverflowOnClick(){this.keyFocus.moveTo(this.isCurrentInOverflow&&this.toggleService.open?this.overflowPosition-1:this.overflowPosition),this._mousedown=!1}openOverflowOnFocus(){!this._mousedown&&!this.toggleService.open&&this.keyFocus.moveTo(this.activeTabPosition)}closeOnFocusOut(a){!this._tabOverflowEl.contains(a.relatedTarget)&&this.toggleService.open&&!this._mousedown&&(this.toggleService.open=!1,this.tabLinkElements[this.activeTabPosition]===a.relatedTarget&&(this.keyFocus.current=this.activeTabPosition))}closeOnEscapeKey(){this.keyFocus.moveTo(this.overflowPosition-1)}closeOnOutsideClick(a,h){a.target===h||h.contains(a.target)||!this._tabOverflowEl.contains(a.target)&&this.isCurrentInOverflow&&this.keyFocus.moveTo(this.overflowPosition-1)}listenForTabLinkChanges(){return this.tabs.changes.pipe(Ag(this.tabs.map(a=>a.tabLink))).subscribe(()=>{this._tabLinkDirectives=this.tabs.map(a=>a.tabLink),this.tabLinkElements=this._tabLinkDirectives.map(a=>a.el.nativeElement)})}}return c.\u0275fac=function(a){return new(a||c)(V(tv),V(Ps),V(Bx),V(Jz),V(yr))},c.\u0275cmp=qe({type:c,selectors:[["clr-tabs"]],contentQueries:function(a,h,d){if(1&a&&Ci(d,tU,4),2&a){let f;Ht(f=Wt())&&(h.tabs=f)}},viewQuery:function(a,h){if(1&a&&(si(Gb,7),si(nU,5,Rn),si(qot,7,ir)),2&a){let d;Ht(d=Wt())&&(h.keyFocus=d.first),Ht(d=Wt())&&(h.tabOverflowEl=d.first),Ht(d=Wt())&&(h.tabContentViewContainer=d.first)}},hostVars:2,hostBindings:function(a,h){2&a&&$t("tabs-vertical",h.isVertical)},inputs:{layout:["clrLayout","layout"]},features:[kn([tv,Bx,jct]),Hu([Bp])],decls:5,vars:3,consts:[["role","tablist","clrDirection","both",1,"nav",3,"clrKeyFocus","clrFocusChange","focusout"],[4,"ngFor","ngForOf"],[4,"ngIf"],["tabContentViewContainer",""],["role","presentation",1,"nav-item"],[3,"ngTemplateOutlet"],["role","presentation",1,"tabs-overflow","bottom-right"],["role","application",1,"nav-item"],["type","button","aria-hidden","true",1,"btn","btn-link","nav-link","dropdown-toggle",3,"mousedown","focus","click"],["tabOverflowTrigger",""],["shape","ellipsis-horizontal"],[3,"keydown.escape","click","focusout",4,"ngIf"],[3,"keydown.escape","click","focusout"],[3,"ngTemplateOutlet",4,"ngIf"]],template:function(a,h){1&a&&(E(0,"ul",0),Y("clrFocusChange",function(f){return h.toggleOverflowOnPosition(f)})("focusout",function(f){return h.resetKeyFocusCurrentToActive(f)}),X(1,Jot,2,1,"ng-container",1),X(2,iat,7,11,"ng-container",2),M(),va(3,null,3)),2&a&&(R("clrKeyFocus",h.tabLinkElements),I(1),R("ngForOf",h.tabLinkDirectives),I(1),R("ngIf",h.tabsService.overflowTabs.length>0))},dependencies:[Gn,mn,Ah,Vn,Gb,nU],encapsulation:2}),c})(),Xct=(()=>{class c{constructor(){Tr.addIcons(Bfe)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,ah,jr,Qct,Oz,ah]}),c})(),iU=(()=>{class c{constructor(){this.navGroupCount=0}registerNavGroup(){this.navGroupCount++}unregisterNavGroup(){this.navGroupCount--}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),rU=(()=>{class c{constructor(){this._icons=0}get hasIcons(){return this._icons>0}registerIcon(){this._icons++}unregisterIcon(){this._icons--}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),sU=(()=>{class c{constructor(){this._animateOnCollapsed=new Pt,this._collapsedChanged=new Pt,this._collapsed=!1,this._collapsible=!1}get animateOnCollapsed(){return this._animateOnCollapsed.asObservable()}get collapsedChanged(){return this._collapsedChanged.asObservable()}get collapsed(){return this._collapsed}set collapsed(a){a=!!a,this.collapsible&&this._collapsed!==a&&this.updateCollapseBehavior(a)}get collapsible(){return this._collapsible}set collapsible(a){this._collapsible!==(a=!!a)&&(!a&&this.collapsed&&this.updateCollapseBehavior(!1),this._collapsible=a)}updateCollapseBehavior(a){this._animateOnCollapsed.next(a),this._collapsed=a,this._collapsedChanged.next(a)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),X0e=(()=>{class c{constructor(a,h,d,f){this._navService=a,this._navIconService=h,this._navGroupRegistrationService=d,this.commonStrings=f,this._collapsedChanged=new Tt(!0),this._sub=this._navService.collapsedChanged.subscribe(p=>{this._collapsedChanged.emit(p)})}get collapsible(){return this._navService.collapsible}set collapsible(a){this._navService.collapsible=a}get collapsed(){return this._navService.collapsed}set collapsed(a){this._navService.collapsed=a}get hasNavGroups(){return this._navGroupRegistrationService.navGroupCount>0}get hasIcons(){return this._navIconService.hasIcons}get ariaExpanded(){return this.collapsible?this.collapsed?"false":"true":null}ngOnDestroy(){this._sub.unsubscribe()}toggleByButton(){this.collapsed=!this.collapsed}}return c.\u0275fac=function(a){return new(a||c)(V(sU),V(rU),V(iU),V(yr))},c.\u0275cmp=qe({type:c,selectors:[["clr-vertical-nav"]],hostAttrs:[1,"clr-vertical-nav"],hostVars:6,hostBindings:function(a,h){2&a&&$t("is-collapsed",h.collapsed)("has-nav-groups",h.hasNavGroups)("has-icons",h.hasIcons)},inputs:{collapsible:["clrVerticalNavCollapsible","collapsible"],collapsed:["clrVerticalNavCollapsed","collapsed"]},outputs:{_collapsedChanged:"clrVerticalNavCollapsedChange"},features:[kn([sU,rU,iU])],ngContentSelectors:vi,decls:4,vars:2,consts:[["type","button","class","nav-trigger",3,"on-collapse","click",4,"ngIf"],[1,"nav-content"],["type","button","class","nav-btn","aria-hidden","true","tabindex","-1",3,"click",4,"ngIf"],["type","button",1,"nav-trigger",3,"click"],["shape","angle-double",1,"nav-trigger-icon"],["type","button","aria-hidden","true","tabindex","-1",1,"nav-btn",3,"click"]],template:function(a,h){1&a&&(yn(),X(0,rat,2,5,"button",0),E(1,"div",1),St(2),X(3,sat,1,1,"button",2),M()),2&a&&(R("ngIf",h.collapsible),I(3),R("ngIf",h.collapsible&&h.collapsed))},dependencies:[mn,Vn],encapsulation:2}),c})(),oU=(()=>{class c{constructor(){this._expandChange=new Pt}get expandChange(){return this._expandChange.asObservable()}expand(){this._expandChange.next(!0)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),Y0e=(()=>{class c{constructor(a){this._verticalNavIconService=a,this._verticalNavIconService.registerIcon()}ngOnDestroy(){this._verticalNavIconService.unregisterIcon()}}return c.\u0275fac=function(a){return new(a||c)(V(rU))},c.\u0275dir=wt({type:c,selectors:[["","clrVerticalNavIcon",""]],hostAttrs:[1,"nav-icon"]}),c})(),q0e=(()=>{class c{constructor(a,h,d){this.destroy$=new Pt,d&&qh(a.nativeElement,"click").pipe(Lh(this.destroy$)).subscribe(()=>{d.expand(),h.markForCheck()})}ngOnDestroy(){this.destroy$.next()}}return c.\u0275fac=function(a){return new(a||c)(V(Rn),V(wo),V(oU,8))},c.\u0275cmp=qe({type:c,selectors:[["","clrVerticalNavLink",""]],hostAttrs:[1,"nav-link"],attrs:lat,ngContentSelectors:uat,decls:3,vars:0,consts:[[1,"nav-text"]],template:function(a,h){1&a&&(yn(cat),St(0),E(1,"span",0),St(2,1),M())},encapsulation:2}),c})(),Kct=(()=>{class c{constructor(){Tr.addIcons(kb,Wfe)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,jr,ah,WP,ah,jr,WP]}),c})(),Jct=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[Vct,Uct,Xct,Kct]}),c})(),K0e=(()=>{class c{constructor(a){this._document=a}stopScrolling(){this._document.body.classList.add("no-scrolling")}resumeScrolling(){this._document.body.classList.contains("no-scrolling")&&this._document.body.classList.remove("no-scrolling")}}return c.\u0275fac=function(a){return new(a||c)(Ee(Pr))},c.\u0275prov=Ye({token:c,factory:c.\u0275fac}),c})(),Vo=(()=>{class c{constructor(a,h,d){this._scrollingService=a,this.commonStrings=h,this.modalStackService=d,this.modalId=aa(),this._open=!1,this._openChanged=new Tt(!1),this.closable=!0,this.closeButtonAriaLabel=this.commonStrings.keys.close,this.staticBackdrop=!0,this.skipAnimation="false",this.stopClose=!1,this.altClose=new Tt(!1),this.labelledBy=this.modalId,this.bypassScrollService=!1}ngOnChanges(a){!this.bypassScrollService&&a&&Object.prototype.hasOwnProperty.call(a,"_open")&&(a._open.currentValue?(this._scrollingService.stopScrolling(),this.modalStackService.trackModalOpen(this)):this._scrollingService.resumeScrolling())}ngOnDestroy(){this._scrollingService.resumeScrolling()}open(){this._open||(this._open=!0,this._openChanged.emit(!0),this.modalStackService.trackModalOpen(this))}close(){this.stopClose?this.altClose.emit(!1):!this.closable||!this._open||(this._open=!1)}fadeDone(a){"void"===a.toState&&(this._openChanged.emit(!1),this.modalStackService.trackModalClose(this))}}return c.\u0275fac=function(a){return new(a||c)(V(K0e),V(yr),V(s0e))},c.\u0275cmp=qe({type:c,selectors:[["clr-modal"]],hostVars:2,hostBindings:function(a,h){2&a&&$t("open",h._open)},inputs:{_open:["clrModalOpen","_open"],closable:["clrModalClosable","closable"],closeButtonAriaLabel:["clrModalCloseButtonAriaLabel","closeButtonAriaLabel"],size:["clrModalSize","size"],staticBackdrop:["clrModalStaticBackdrop","staticBackdrop"],skipAnimation:["clrModalSkipAnimation","skipAnimation"],stopClose:["clrModalPreventClose","stopClose"],labelledBy:["clrModalLabelledById","labelledBy"],bypassScrollService:["clrModalOverrideScrollService","bypassScrollService"]},outputs:{_openChanged:"clrModalOpenChange",altClose:"clrModalAlternateClose"},features:[kn([],[K0e]),So],ngContentSelectors:pat,decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],["cdkTrapFocus","","role","dialog","aria-modal","true",1,"modal-dialog",3,"cdkTrapFocusAutoCapture"],[1,"clr-sr-only"],[1,"modal-content-wrapper"],[1,"modal-content"],[1,"modal-header--accessible"],["cdkFocusInitial","","tabindex","-1",1,"modal-title-wrapper",3,"id"],["type","button","class","close",3,"click",4,"ngIf"],[1,"modal-body-wrapper"],["aria-hidden","true",1,"modal-backdrop",3,"click"],["type","button",1,"close",3,"click"],["shape","window-close"]],template:function(a,h){1&a&&(yn(fat),X(0,dat,17,15,"div",0)),2&a&&R("ngIf",h._open)},dependencies:[mn,Xb,Vn],styles:["[_nghost-%COMP%]{display:none}.open[_nghost-%COMP%]{display:inline}"],data:{animation:[ih("fadeDown",[ra("* => false",[_r({opacity:0,transform:"translate(0, -25%)"}),fl("0.2s ease-in-out")]),ra("false => *",[fl("0.2s ease-in-out",_r({opacity:0,transform:"translate(0, -25%)"}))])]),ih("fade",[ra("void => *",[_r({opacity:0}),fl("0.2s ease-in-out",_r({opacity:.85}))]),ra("* => void",[fl("0.2s ease-in-out",_r({opacity:0}))])])]}}),c})(),$o=(()=>{class c{constructor(a,h,d){this.renderer=a,this.host=h,this.tabindex="0",this.unlisteners=[],d.runOutsideAngular(()=>{this.observer=new ResizeObserver(()=>this.addOrRemoveTabIndex()),this.observer.observe(this.host.nativeElement),this.unlisteners.push(this.renderer.listen(this.host.nativeElement,"mouseup",()=>{this.addOrRemoveTabIndex()}),this.renderer.listen(this.host.nativeElement,"mousedown",()=>{this.removeTabIndex()}))})}ngOnDestroy(){for(;this.unlisteners.length;)this.unlisteners.pop()();this.observer.disconnect(),this.observer=null}addTabIndex(){this.renderer.setAttribute(this.host.nativeElement,"tabindex",this.tabindex)}removeTabIndex(){this.renderer.removeAttribute(this.host.nativeElement,"tabindex")}addOrRemoveTabIndex(){const a=this.host.nativeElement.parentElement;a&&a.clientHeight<a.scrollHeight?this.addTabIndex():this.removeTabIndex()}}return c.\u0275fac=function(a){return new(a||c)(V(ji),V(Rn),V(Di))},c.\u0275dir=wt({type:c,selectors:[["",8,"modal-body"]]}),c})(),J0e=(()=>{class c{constructor(){Tr.addIcons(Db)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,Sz,jr,jr]}),c})(),nut=(()=>{class c{constructor(){Tr.addIcons(Db,Zfe)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,jr,WP,ah]}),c})(),aut=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,ah,jr]}),c})(),lut=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[Gz,nut,aut]}),c})(),uO=(()=>{class c{constructor(){this.max=100,this.value=0,this.externalId=""}get id(){return this._ID}set id(a){this._ID=a,this.externalId=null}get progressClass(){return!0}set clrCompact(a){this._compact=zc(a)}get compactClass(){return this._compact}set clrLabeled(a){this._labeled=zc(a)}get labeledClass(){return this._labeled}set clrFade(a){this._fade=zc(a)}get fadeClass(){return this._fade}set clrLoop(a){this._loop=zc(a)}get loopClass(){return this._loop}set clrWarning(a){this._warning=zc(a)}get warningClass(){return this._warning}set clrSuccess(a){this._success=zc(a)}get successClass(){return this._success}set clrDanger(a){this._danger=zc(a)}get dangerClass(){return this._danger}set clrFlash(a){this._flash=zc(a)}get flashClass(){return this._flash}set clrFlashDanger(a){this._flashDanger=zc(a)}get flashDangerClass(){return this._flashDanger}get displayValue(){return this.displayval?this.displayval:`${this.value||0}%`}displayStringValue(){return this._labeled}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=qe({type:c,selectors:[["clr-progress-bar"]],hostVars:21,hostBindings:function(a,h){2&a&&(Je("id",h.externalId),$t("progress",h.progressClass)("compact",h.compactClass)("labeled",h.labeledClass)("progress-fade",h.fadeClass)("loop",h.loopClass)("warning",h.warningClass)("success",h.successClass)("danger",h.dangerClass)("flash",h.flashClass)("flash-danger",h.flashDangerClass))},inputs:{max:["clrMax","max"],displayval:["clrDisplayval","displayval"],value:["clrValue","value"],id:"id",clrCompact:"clrCompact",clrLabeled:"clrLabeled",clrFade:"clrFade",clrLoop:"clrLoop",clrWarning:"clrWarning",clrSuccess:"clrSuccess",clrDanger:"clrDanger",clrFlash:"clrFlash",clrFlashDanger:"clrFlashDanger"},decls:2,vars:5,consts:[[3,"id"],[4,"ngIf"]],template:function(a,h){1&a&&(se(0,"progress",0),X(1,gat,2,1,"span",1)),2&a&&(R("id",h.id),Je("max",h.max)("value",h.value)("data-displayval",h.displayValue),I(1),R("ngIf",h.displayStringValue()))},dependencies:[mn],encapsulation:2}),c})(),cut=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi]}),c})(),hut=(()=>{class c{constructor(){Tr.addIcons(bJe,OJe,jfe,CJe)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,jr,Mx,jr,Mx]}),c})(),mut=(()=>{class c{constructor(){Tr.addIcons(jfe)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[qi,J0e,$0e]}),c})(),vut=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=jn({type:c}),c.\u0275inj=Wn({imports:[Bct,Dct,jr,J0e,gz,ah,WP,alt,t0e,Jct,lut,mut,Gat,Mx,cut,kx,hut]}),c})();function _ut(c,l){1&c&&se(0,"cds-icon",7)}function yut(c,l){1&c&&se(0,"cds-icon",8)}const g1e=function(c,l){return{"bg-4":c,"bg-6":l}};function but(c,l){if(1&c&&(E(0,"div")(1,"span",3),X(2,_ut,1,0,"cds-icon",4),X(3,yut,1,0,"cds-icon",5),M(),E(4,"span",6),H(5),M(),E(6,"span"),H(7),M(),E(8,"span",3),H(9),M(),E(10,"span"),H(11),M()()),2&c){const a=l.$implicit,h=l.index;I(1),R("ngClass",mr(8,g1e,!a.error,!!a.error)),I(1),R("ngIf",!!a.error),I(1),R("ngIf",!a.error),I(2),Kt(" ",h+1," "),I(2),Kt("",a.name,": "),I(1),R("ngClass",mr(11,g1e,!a.error,!!a.error)),I(1),ut(a.error?a.error:"\u0443\u0441\u043f\u0435\u0448\u043d\u043e"),I(2),Kt(" (",a.info,")")}}function Out(c,l){1&c&&(E(0,"div"),se(1,"cds-icon",8),H(2," \u0412\u0441\u0435 \u0442\u0435\u0441\u0442\u044b \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b. "),M())}function Cut(c,l){1&c&&(E(0,"div")(1,"span",9),H(2," \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u044e... "),M()())}let Sut=(()=>{class c{config;zipService;cacheService;testResults=[];tests=[];testConfig=null;static tests(){return[Pp.of(c.firstTest,"\u041f\u0435\u0440\u0432\u044b\u0439 \u0442\u0435\u0441\u0442"),Pp.of(c.secondTest,"\u0412\u0442\u043e\u0440\u043e\u0439 \u0442\u0435\u0441\u0442"),Pp.of(c.thirdTest,"\u0422\u0440\u0435\u0442\u0438\u0439 \u0442\u0435\u0441\u0442"),Pp.of(c.forthTest,"\u0427\u0435\u0442\u0432\u0451\u0440\u0442\u044b\u0439 \u0442\u0435\u0441\u0442")]}static firstTest(a){return a.sendAndGetResult("")}static secondTest(a){return a.sendAndGetResult("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430.")}static thirdTest(a){throw new Error("\u041d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0442\u0440\u0435\u0442\u044c\u0435\u0433\u043e \u0442\u0435\u0441\u0442\u0430.")}static forthTest(a){return a.delay(()=>a.sendAndGetResult(""),1200)}constructor(a,h,d){var p;this.config=a,this.zipService=h,this.cacheService=d,this.tests.push(...(p=xb.tests(),"CompactVmTests::",p.map(v=>(v.name="CompactVmTests::"+v.name,v)))),this.testConfig=new oKe(this.zipService,this.cacheService)}ngOnInit(){}runTests(){this.testResults=[];let a=0,h=()=>{if(a>=this.tests.length)return;let d=null,f=null;try{f=this.tests[a++],f.start((p,g)=>{let m=g.stopAndGetResult(p);return m&&this.testResults.push(m),this.config.post(h,1),m},this.testConfig),d=f.action(f),d||(d=f.sendAndGetResult("\u041d\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430."))}catch(p){d=f.sendAndGetResult(""+p)}};this.config.post(h,1)}static \u0275fac=function(h){return new(h||c)(V(Zt),V(V1),V(Jl))};static \u0275cmp=qe({type:c,selectors:[["app-tests"]],decls:6,vars:3,consts:[[1,"btn","btn-primary","btn-block",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngClass"],["shape","times",4,"ngIf"],["shape","check",4,"ngIf"],[1,"red"],["shape","times"],["shape","check"],[1,"spinner","spinner-inline"]],template:function(h,d){1&h&&(E(0,"div")(1,"button",0),Y("click",function(){return d.runTests()}),H(2,"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0435 \u0442\u0435\u0441\u0442\u044b"),M(),X(3,but,12,14,"div",1),X(4,Out,3,0,"div",2),X(5,Cut,3,0,"div",2),M()),2&h&&(I(3),R("ngForOf",d.testResults),I(1),R("ngIf",d.testResults.length==d.tests.length),I(1),R("ngIf",d.testResults.length!=d.tests.length&&d.testResults.length>0))},dependencies:[ei,Gn,mn,Vn],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();function wut(c,l){if(1&c&&(E(0,"div",7),se(1,"app-svg-js-image",8),M()),2&c){const a=l.$implicit,h=Q();I(1),R("svgWidth",210)("svgHeight",297)("scene","/scenes/memorial.page.scene.txt")("genName","Js")("logoText",h.logText)("type",1)("startPageIndex",a)("horizontalPagesCount",h.horizontalPagesCount)("verticalPagesCount",h.verticalPagesCount)}}let xut=(()=>{class c{router;logText=["*\u041c\u043e\u043b\u0435\u0431\u0435\u043d","*\u041f\u0440\u0435\u0441\u0432\u044f\u0442\u043e\u0439 \u0411\u043e\u0433\u043e\u0440\u043e\u0434\u0438\u0446\u0435","\u0438\u0435\u0440. \u0414\u0438\u043c\u0438\u0442\u0440\u0438\u044f","\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","\u0438\u0435\u0440. \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430","\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","\u0410\u043d\u0434\u0440\u0435\u044f","\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430","\u0415\u0432\u0433\u0435\u043d\u0438\u044f","\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u044b","\u041c\u0438\u0445\u0430\u0438\u043b\u0430","\u0410\u043d\u0434\u0440\u0435\u044f","\u041c\u0438\u0445\u0430\u0438\u043b\u0430","\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u044b","\u0421\u0435\u0440\u0433\u0438\u044f","\u041b\u0438\u043b\u0438\u0438","\u041c\u0430\u0440\u0438\u0438","\u0438\u0435\u0440. \u0414\u0438\u043c\u0438\u0442\u0440\u0438\u044f","\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","\u0438\u0435\u0440. \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430","\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","\u0410\u043d\u0434\u0440\u0435\u044f","\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430","\u0415\u0432\u0433\u0435\u043d\u0438\u044f","\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u044b","\u041c\u0438\u0445\u0430\u0438\u043b\u0430","\u0410\u043d\u0434\u0440\u0435\u044f","\u041c\u0438\u0445\u0430\u0438\u043b\u0430","\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u044b","\u0421\u0435\u0440\u0433\u0438\u044f","\u041b\u0438\u043b\u0438\u0438","\u041c\u0430\u0440\u0438\u0438","\u0438\u0435\u0440. \u0414\u0438\u043c\u0438\u0442\u0440\u0438\u044f","\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","\u0438\u0435\u0440. \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430","\u0438\u0435\u0440. \u0418\u043e\u0430\u043d\u043d\u0430","\u0410\u043d\u0434\u0440\u0435\u044f","\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430","\u0415\u0432\u0433\u0435\u043d\u0438\u044f","\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u044b","\u041c\u0438\u0445\u0430\u0438\u043b\u0430","\u0410\u043d\u0434\u0440\u0435\u044f","\u041c\u0438\u0445\u0430\u0438\u043b\u0430","\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u044b","\u0421\u0435\u0440\u0433\u0438\u044f","\u041b\u0438\u043b\u0438\u0438","\u041c\u0430\u0440\u0438\u0438"].join(", ");extraPages=[];horizontalPagesCount=2;verticalPagesCount=2;constructor(a){this.router=a}ngOnInit(){}onPagesCount(a){this.extraPages=[];let h=this.horizontalPagesCount*this.verticalPagesCount,d=a-h,f=0;for(;d>0;)d=Math.max(0,d-h),f+=h,this.extraPages.push(f)}static \u0275fac=function(h){return new(h||c)(V(lo))};static \u0275cmp=qe({type:c,selectors:[["app-memorial-pages-editor"]],decls:9,vars:11,consts:[[1,"no-print"],[1,"clr-form"],[1,"clr-control-container"],["clrTextarea","","name","day","required","",1,"memorialsText",3,"ngModel","ngModelChange"],[1,"clr-subtext"],[3,"svgWidth","svgHeight","scene","genName","logoText","type","startPageIndex","horizontalPagesCount","verticalPagesCount","pagesCount"],["class","pageBreakBefore",4,"ngFor","ngForOf"],[1,"pageBreakBefore"],[3,"svgWidth","svgHeight","scene","genName","logoText","type","startPageIndex","horizontalPagesCount","verticalPagesCount"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"form",1)(2,"div",2)(3,"textarea",3),Y("ngModelChange",function(p){return d.logText=p}),M()(),E(4,"span",4),H(5,"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u043f\u0438\u0441\u043e\u043a"),M()()(),E(6,"div")(7,"app-svg-js-image",5),Y("pagesCount",function(p){return d.onPagesCount(p)}),M()(),X(8,wut,2,9,"div",6)),2&h&&(I(3),R("ngModel",d.logText),I(4),R("svgWidth",210)("svgHeight",297)("scene","/scenes/memorial.page.scene.txt")("genName","Js")("logoText",d.logText)("type",1)("startPageIndex",0)("horizontalPagesCount",d.horizontalPagesCount)("verticalPagesCount",d.verticalPagesCount),I(1),R("ngForOf",d.extraPages))},dependencies:[Gn,Ez,Jh,za,sa,Kh,Z1,Fo,Nc,Ic],styles:[".h512[_ngcontent-%COMP%]{width:210px;height:297px;margin:auto}.centeredImage[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto}.memorialsText[_ngcontent-%COMP%]{width:97vw;height:10em}"]})}return c})();class Qa{curValue;constructor(l=null){this.curValue=l}getCurValue(l){return this.isChanged()&&(this.curValue=l()),this.curValue}isChanged(){return null==this.curValue}markChanged(){this.curValue=null}}class Ha extends Qa{rememberValue;constructor(l=null){super(),this.rememberValue=l}static builder(){return new Ha}checkAndGetValue(l){let a=[];for(let h in l)a.push(h,l[h]);return this.checkChanged(...a),this.getCurValue(()=>l)}checkChanged(...l){let a=!1;if(null!=this.rememberValue&&null!=l&&this.rememberValue.length==l.length){a=!0;for(let h=0;h<this.rememberValue.length;h++)if(this.rememberValue[h]!==l[h]){a=!1;break}}return a||(this.rememberValue=l,this.markChanged()),this}}class sn{component;data;detector=Ha.builder();constructor(l,a){this.component=l,this.data=a}}class wm extends ti{menuState;whiteBack;constructor(l,a,h,d,f=!1){super(l,a,h),this.menuState=d,this.whiteBack=f}static builder(){return new wm("",null,null,em.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}setWhiteBack(l){return this.whiteBack=l,this}setMenuState(l){return this.menuState=l,this}addCommand(l){return this.menuState.addCommand(l),this}clearCommands(){return this.menuState.commands=[],this}}const Tut=function(c){return{whiteBG:c}};let dA=(()=>{class c{config;data;get menuData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a){this.config=a}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getMenuState(){return this.menuData.menuState}onCommand(a){this.data.onClick&&this.data.onClick(a)}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-menu"]],inputs:{data:"data"},decls:2,vars:9,consts:[[3,"ngClass"],[3,"type","genName","tag","svgWidth","svgHeight","printOnly","onCommand"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"app-svg-js-image",1),Y("onCommand",function(p){return d.onCommand(p)}),M()()),2&h&&(R("ngClass",xr(7,Tut,d.menuData.whiteBack)),I(1),R("type",1e6)("genName",d.getMenuState().genName)("tag",d.getMenuState())("svgWidth",512)("svgHeight",64)("printOnly",d.getMenuState().printOnly))},dependencies:[ei,Ic],styles:[".whiteBG[_ngcontent-%COMP%]{background-color:#fff!important}.divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();const kut=function(c){return{"main-container":c,bgColor:!0,wh100:!0}},Dut=function(c){return{"content-container":c,centeredImage:!0}};let m1e=(()=>{class c extends sf{data=null;oldVerticalMenuEnabled=!1;myBibleMenuData=G9.builder().setOnSelect(a=>{this.onBibleSelect(a)});menuData=wm.builder().addCommand(Ba.builder().setName("\u0411\u0438\u0431\u043b\u0438\u044f")).setOnClick(a=>{a&&this.onMenuClick(a.text)});get bibleMenuData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h,d){super(a,h,d)}ngOnInit(){super.ngOnInit(),this.myBibleMenuData.setGenName(this.bibleMenuData.genName).enableCross(this.bibleMenuData.crossEnabled).setMenuWidthDivider(this.bibleMenuData.menuWidthDivider),this.menuData.clearCommands().addCommand(Ba.builder().setName(this.bibleMenuData.menuSelectedName?this.bibleMenuData.menuSelectedName:"\u0411\u0438\u0431\u043b\u0438\u044f")),this.oldVerticalMenuEnabled=this.uiConfig.verticalMenuEnabled,this.config.post(()=>{this.uiConfig.enableVerticalMenu(!1),this.uiConfig.setColorPaper(!1)})}ngOnDestroy(){super.ngOnDestroy(),this.config.post(()=>{this.uiConfig.enableVerticalMenu(this.oldVerticalMenuEnabled),this.uiConfig.setColorPaper(!0)})}onMenuClick(a){this.data&&this.data.onClick&&this.data.onClick(a)}onBibleSelect(a){let h=a&&a.on?a.text:this.bibleMenuData.menuSelectedName?this.bibleMenuData.menuSelectedName:"\u0411\u0438\u0431\u043b\u0438\u044f",d=a&&a.on?a.typeName:"CENTER",f=h+(d?" "+d:"");this.menuData=wm.builder().addCommand(Ba.builder().setName(h).setTag(f)).setOnClick(p=>{this.onMenuClick(p)})}isMainContainerEnabled(){return this.uiConfig.mainContainerEnabled}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(fu))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-bible-menu"]],inputs:{data:"data"},features:[_n],decls:5,vars:11,consts:[[3,"ngClass"],[1,"h80",3,"genName","svgWidth","svgHeight","tag"],[1,"login-footer"],[1,"gapTitle",3,"data"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"div",0),se(2,"app-svg-js-image",1),M(),E(3,"div",2),se(4,"app-dynamic-menu",3),M()()),2&h&&(R("ngClass",xr(7,kut,d.isMainContainerEnabled())),I(1),R("ngClass",xr(9,Dut,d.isMainContainerEnabled())),I(1),R("genName",d.myBibleMenuData.genName)("svgWidth",512)("svgHeight",512)("tag",d.myBibleMenuData),I(2),R("data",d.menuData))},dependencies:[ei,Ic,dA],styles:[".login-footer[_ngcontent-%COMP%]{height:20vh;padding-top:0;padding-bottom:5vh;padding-left:0}.centeredImage[_ngcontent-%COMP%]{inset:0;max-width:100%;max-height:100%;margin:auto;overflow:auto}.wh100[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 60px - 2.4rem)}.h80[_ngcontent-%COMP%]{height:calc(78vh - 60px - 2.4rem);width:calc(78vh - 2.4rem)}"]})}return c})();class uU extends Qa{constructor(){super()}static builder(){return new uU}}class zx extends ti{menuState;genName="";menuSelectedName="";crossEnabled=!0;menuWidthDivider=0;constructor(l,a,h,d){super(l,a,h),this.menuState=d}static builder(){return new zx("",null,null,uU.builder())}setGenName(l){return this.genName=l,this}setMenuSelectedName(l){return this.menuSelectedName=l,this}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}enableCross(l){return this.crossEnabled=l,this}setMenuWidthDivider(l){return this.menuWidthDivider=l,this}}class fA{workerId;message;constructor(l,a){this.workerId=l,this.message=a}static builder(){return new fA(-1,null)}setWorkerId(l){return this.workerId=l,this}setMessage(l){return this.message=l,this}}let pA=(()=>{class c{type;id=0;callbackId=-1;static staticId=0;constructor(a){this.type=a,this.id=c.newId()}static newId(){return c.staticId++}setCallbackId(a){return this.callbackId=a,this}}return c})(),Mut=(()=>{class c extends pA{pageLoadedFrom;static TYPE="SetupWorkerRequest";constructor(a){super(c.TYPE),this.pageLoadedFrom=a}static builder(){return new c("")}setPageLoadedFrom(a){return this.pageLoadedFrom=a,this}}return c})(),Eut=(()=>{class c extends pA{formula;static TYPE="CalculateWorkerRequest";constructor(a){super(c.TYPE),this.formula=a}static builder(){return new c("")}setFormula(a){return this.formula=a,this}}return c})(),Put=(()=>{class c extends pA{gameId;commands;result;static TYPE="CalculateChessWorkerRequest";constructor(a,h,d){super(c.TYPE),this.gameId=a,this.commands=h,this.result=d}static builder(){return new c("","","")}setCommands(a,...h){return this.gameId=a,this.commands=[a,...h].join("\n"),this}setResult(a,h){return this.gameId=a,this.result=h,this}}return c})(),mf=null;class gl{static iNextWorkerId=0;static nextWorkerId(){return gl.iNextWorkerId++}static appWorkerStaticOnmessageMap=new Map;handler=null;workerId=gl.nextWorkerId();constructor(){}static builder(){return new gl}enabled(){return!!mf}subscribe(){mf&&(gl.appWorkerStaticOnmessageMap.set(this.workerId,l=>{this.handler&&this.handler(l)}),mf.onmessage=({data:l})=>{let a=l;if(gl.appWorkerStaticOnmessageMap.has(a.workerId)){let h=gl.appWorkerStaticOnmessageMap.get(a.workerId);h&&h(a.message)}})}unsubscribe(){mf&&gl.appWorkerStaticOnmessageMap.delete(this.workerId)}sendMessage(l="hello"){mf&&mf.postMessage(fA.builder().setWorkerId(this.workerId).setMessage(l))}setOnMessage(l){return this.handler=l,this.subscribe(),this}}typeof Worker<"u"&&(mf=new Worker(Ut.tu(new URL(Ut.p+Ut.u(390),Ut.b))),mf.onmessage=({data:c})=>{let l=c;if(gl.appWorkerStaticOnmessageMap.has(l.workerId)){let a=gl.appWorkerStaticOnmessageMap.get(l.workerId);a&&a(l.message)}},mf.onerror=c=>{},mf.postMessage(fA.builder().setWorkerId(-1).setMessage(Mut.builder().setPageLoadedFrom(pageLoadedFrom))));class xm extends pA{}let v1e=(()=>{class c extends xm{libraryRef;libraryType;static TYPE="LibraryInfoRequest";constructor(a,h){super(c.TYPE),this.libraryRef=a,this.libraryType=h}static builder(){return new c("","")}setLibraryRef(a){return this.libraryRef=a,this}setLibraryType(a){return this.libraryType=a,this}}return c})(),_1e=(()=>{class c extends xm{libraryType;bookRef;loadBooksEnabled;static TYPE="BookInfoRequest";constructor(a,h,d){super(c.TYPE),this.libraryType=a,this.bookRef=h,this.loadBooksEnabled=d}static builder(){return new c("","",!0)}setLibraryType(a){return this.libraryType=a,this}setBookRef(a){return this.bookRef=a,this}setLoadBooksEnabled(a){return this.loadBooksEnabled=a,this}}return c})(),y1e=(()=>{class c extends xm{libraryType;bookRef;languages;static TYPE="BookRequest";constructor(a,h,d){super(c.TYPE),this.libraryType=a,this.bookRef=h,this.languages=d}static builder(){return new c("","",[])}setLibraryType(a){return this.libraryType=a,this}setBookRef(a){return this.bookRef=a,this}setLanguages(a){return this.languages=a,this}addLanguage(a){return this.languages.push(a),this}}return c})();class hU{bookRef;bookPath;bookPage;constructor(l,a,h){this.bookRef=l,this.bookPath=a,this.bookPage=h}static builder(){return new hU("","","")}setBookRef(l){return this.bookRef=l,this}setBookPath(l){return this.bookPath=l,this}setBookPage(l){return this.bookPage=l,this}}let b1e=(()=>{class c extends xm{pages;static TYPE="PagesRequest";constructor(a){super(c.TYPE),this.pages=a}static builder(){return new c([])}setBookPages(a){return this.pages=a,this}addBookPage(a){return this.pages.push(a),this}}return c})(),dU=(()=>{class c extends xm{pages;static TYPE="PagesResponse";constructor(a){super(c.TYPE),this.pages=a}static builder(){return new c([])}setPages(a){return this.pages=a,this}addPage(a){return this.pages.push(a),this}}return c})();class fU{bookRef;path;content;constructor(l,a,h){this.bookRef=l,this.path=a,this.content=h}static builder(){return new fU("","","")}setBookRef(l){return this.bookRef=l,this}setPath(l){return this.path=l,this}setContent(l){return this.content=l,this}}let O1e=(()=>{class c extends xm{metaBooks;static TYPE="BookResponse";constructor(a){super(c.TYPE),this.metaBooks=a}static builder(){return new c([])}setMetaBooks(a){return this.metaBooks=a,this}addMetaBook(a){return this.metaBooks.push(a),this}}return c})(),C1e=(()=>{class c extends xm{bookRef;metaContent;loadBooksEnabled;static TYPE="BookInfoResponse";constructor(a,h,d){super(c.TYPE),this.bookRef=a,this.metaContent=h,this.loadBooksEnabled=d}static builder(){return new c("","",!0)}setBookRef(a){return this.bookRef=a,this}setMetaContent(a){return this.metaContent=a,this}setLoadBooksEnabled(a){return this.loadBooksEnabled=a,this}}return c})(),S1e=(()=>{class c extends xm{libraryRef;metaContent;static TYPE="LibraryInfoResponse";constructor(a,h){super(c.TYPE),this.libraryRef=a,this.metaContent=h}static builder(){return new c("","")}setLibraryRef(a){return this.libraryRef=a,this}setMetaContent(a){return this.metaContent=a,this}}return c})();class w1e{messageSender;requests=new Map;constructor(l=null){this.messageSender=l}send(l,a){return this.messageSender&&(this.requests.set(a.type,a),this.messageSender(l,a)),this}post(l,a){return this}runAll(l,a,h){let d=0,f=()=>{if(d>=l.length)return void(h&&h(!0));let p=l[d++];a(p,g=>{g?f():h&&h(!1)})};f()}}class pU{config;sRestPoint;textCache=new Map;waitingTextCache=new Map;get coding(){return this.config.coding}get restPoint(){return this.coding?"/staticb":this.sRestPoint}constructor(l,a="/static"){this.config=l,this.sRestPoint=a}getRestPoint(l,a,h=null){const d=this.config.isRelativeCacheService()||this.config.isMemoryServerType()?this.config.baseHref:this.config.serviceAPIHost;return pi.merge(pi.merge(a||d,h??this.restPoint),l)}completeOnDone(l,a){let h=this.waitingTextCache.get(l);h&&(h.forEach(d=>{this.config.post(()=>{d&&d(a)})}),this.waitingTextCache.delete(l))}getTextRestcallUrl(l,a){if(this.coding){if(this.textCache.has(l)){let h=this.textCache.get(l);if(null!=h)return void this.config.post(()=>{a&&a(h)})}return this.waitingTextCache.has(l)?void(a&&this.waitingTextCache.get(l).push(a)):(a&&this.waitingTextCache.set(l,[a]),this.getBinRestcallUrlRaw(l,h=>{if(h){let d=new Uint8Array(h),f=iP.fromByteArray(d);this.completeOnDone(l,f)}else a&&a(null)}))}return this.getTextRestcallUrlRaw(l,a)}getTextRestcallUrlRaw(l,a){if(this.textCache.has(l)){let d=this.textCache.get(l);if(null!=d)return void this.config.post(()=>{a&&a(d)})}if(this.waitingTextCache.has(l))a&&this.waitingTextCache.get(l).push(a);else{a&&this.waitingTextCache.set(l,[a]);var h=new XMLHttpRequest;h.onload=()=>{if(a){let d=4===h.readyState&&200===h.status?h.responseText:null;null!=d?this.textCache.set(l,d):this.textCache.delete(l),this.completeOnDone(l,d)}},h.open("get",l,!0),h.send()}}getBinRestcallUrlRaw(l,a,h=!0){let d=l;if(this.coding){let p=d.lastIndexOf(".");p>=0&&(d=d.substring(0,p)+".bin")}var f=new XMLHttpRequest;f.onload=()=>{if(a){let g=new Uint8Array(4===f.readyState&&200===f.status?f.response:null),m=h?iP.dtr(g,-1):g;a&&a(m)}},f.open("get",d,!0),f.responseType="arraybuffer",f.send()}}class gU extends w1e{cacheService=null;constructor(l=null){super(l)}getCacheService(){return this.cacheService}setCacheService(l){return this.cacheService=l,this}post(l,a){switch(a.type){case v1e.TYPE:this.onLibraryInfoRequest(l,a);break;case _1e.TYPE:this.onBookInfoRequest(l,a);break;case y1e.TYPE:this.onBookRequest(l,a);break;case b1e.TYPE:this.onPagesRequest(l,a);break;default:throw new Error(`Unknown message type: ${a.type}.`)}return this}onLibraryInfoRequest(l,a){let h=S1e.builder().setCallbackId(a.id);a.libraryRef?this.loadLibraryInfo(a,h,a.libraryType+"/"+a.libraryRef+".library.txt",d=>{this.send(l,h)}):this.send(l,h)}loadLibraryInfo(l,a,h,d=null){let f=this.cacheService.getRestPoint(h,null);this.cacheService.getTextRestcallUrl(f,p=>{a.setMetaContent(p||"").setLibraryRef(l.libraryRef),d&&d(!!p)})}onBookInfoRequest(l,a){let h=C1e.builder().setCallbackId(a.id);a.bookRef?this.loadBookInfo(a,h,a.libraryType+"/"+a.bookRef+".book.txt",d=>{this.send(l,h)}):this.send(l,h)}loadBookInfo(l,a,h,d=null){let f=this.cacheService.getRestPoint(h,null);this.cacheService.getTextRestcallUrl(f,p=>{a.setMetaContent(p||"").setBookRef(l.bookRef),d&&d(!!p)})}onBookRequest(l,a){let h=O1e.builder().setCallbackId(a.id),d=a.languages.map(f=>f);d.length||d.push("CS","Sinodal"),d=d.map(f=>pi.merge("/"+a.libraryType,a.bookRef+"_"+f+"/index.txt")),a.bookRef?this.runAll(d,(f,p)=>{this.loadBookPath(a,h,f,p)},f=>{this.send(l,h)}):this.send(l,h)}loadBookPath(l,a,h,d=null){let f=this.cacheService.getRestPoint(h,null);this.cacheService.getTextRestcallUrl(f,p=>{a.addMetaBook(fU.builder().setBookRef(l.bookRef).setPath(h).setContent(p||"")),d&&d(!!p)})}onPagesRequest(l,a){let h=dU.builder().setCallbackId(a.id);this.runAll(a.pages,(d,f)=>{let p=this.findPathPrefix(d.bookPath),g=this.cacheService.getRestPoint(pi.merge(p,d.bookPage),null);this.cacheService.getTextRestcallUrl(g,m=>{h.addPage(m||""),f(!0)})},d=>{this.send(l,h)})}findPathPrefix(l){let a=l.lastIndexOf("/");return l.substring(0,a)}}class Ux{static builder(){return new Ux}Book(){return mU.builder()}NameValue(){return vU.builder()}NamePath(){return _U.builder()}}class mU{settings;content;evrejskij=null;cs=null;cs2=null;constructor(l,a){this.settings=l,this.content=a}static builder(){return new mU([],[])}setSettings(l){return this.settings=l,this}setContent(l){return this.content=l,this}getRight(){return null==this.evrejskij&&(this.evrejskij=!!this.settings.find(l=>"\u044f\u0437\u044b\u043a"===l.name.toLowerCase()&&"\u0435\u0432\u0440\u0435\u0439\u0441\u043a\u0438\u0439"===l.value.toLowerCase())),this.evrejskij}getCs(){return null==this.cs&&(this.cs=!!this.settings.find(l=>"\u044f\u0437\u044b\u043a"===l.name.toLowerCase()&&"\u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u0438\u0439"===l.value.toLowerCase())),this.cs}setCs(l){return this.cs=l,this}getCs2(){return null==this.cs2&&(this.cs2=!!this.settings.find(l=>"\u044f\u0437\u044b\u043a"===l.name.toLowerCase()&&"\u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u0438\u0439-ucs8"===l.value.toLowerCase())),this.cs2}setCs2(l){return this.cs2=l,this}}class vU{name;value;value2;constructor(l,a,h){this.name=l,this.value=a,this.value2=h}static builder(){return new vU("","",[])}setName(l){return this.name=l,this}setValue(l){return this.value=l,this}setValue2(l){return this.value2=l,this}}class _U{name;path;path2;constructor(l,a,h){this.name=l,this.path=a,this.path2=h}static builder(){return new _U("","",[])}setName(l){return this.name=l,this}setPath(l){return this.path=l,this}setPath2(l){return this.path2=l,this}}var yU=function(c){return c.\u0422\u0435\u043a\u0441\u0442="\u0442\u0435\u043a\u0442",c.\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435="\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",c.\u0413\u0440\u0430\u0444\u0438\u043a="\u0433\u0440\u0430\u0444\u0438\u043a",c.\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439\u042d\u043b\u0435\u043c\u0435\u043d\u0442="\u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439\u042d\u043b\u0435\u043c\u0435\u043d\u0442",c.\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f="\u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f",c}(yU||{});class Qx{\u0442\u0438\u043f;\u0438\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430;\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b;\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442;\u0434\u0435\u0442\u0435\u043a\u0442\u043e\u0440=Ha.builder();constructor(l,a,h,d){this.\u0442\u0438\u043f=l,this.\u0438\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430=a,this.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b=h,this.\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442=d}static builder(){return new Qx(yU.\u0422\u0435\u043a\u0441\u0442,!0,[],null)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0438\u043f(l){return this.\u0442\u0438\u043f=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430(l){return this.\u0438\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b(l){return this.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b=l,this}get fragments(){return this.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442(l){return this.\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442=l,this}}class Ir{classes;text;link;component;constructor(l,a,h,d){this.classes=l,this.text=a,this.link=h,this.component=d}static builder(){return new Ir({},"",null,null)}setClasses(l){return this.classes=l,this}setText(l){return this.text=l,this}setLink(l){return this.link=l,this}setComponent(l){return this.component=l,this}}function Aut(c,l){if(1&c&&(E(0,"span",3),H(1),M()),2&c){const a=l.$implicit;R("ngClass",Q(2).getClassOfTranslation(a)),I(1),ut(a.text)}}function Iut(c,l){if(1&c&&(E(0,"span"),H(1),X(2,Aut,2,2,"span",2),H(3),M()),2&c){const a=Q();I(1),ut("\xa0"),I(1),R("ngForOf",a.translations),I(1),ut("\xa0")}}let bU=(()=>{class c{config;data;showTranslations=!1;get textFragmentData(){return this.data}get classes(){return this.textFragmentData.config.fragment.classes}get translations(){return this.textFragmentData.config.translations}get text2(){return this.textFragmentData.config.fragment.text}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a){this.config=a}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}onShowTranslations(a){return this.showTranslations=!this.showTranslations,null!=this.translations&&(a.preventDefault(),a.stopPropagation()),this}getClassOfTranslation(a){return a.classes}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-text-fragment"]],inputs:{data:"data"},decls:3,vars:3,consts:[[3,"ngClass","click"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(h,d){1&h&&(E(0,"span",0),Y("click",function(p){return d.onShowTranslations(p)}),H(1),M(),X(2,Iut,4,3,"span",1)),2&h&&(R("ngClass",d.classes),I(1),ut(d.text2?d.text2:"\xa0"),I(1),R("ngIf",d.showTranslations&&(null==d.translations?null:d.translations.length)))},dependencies:[ei,Gn,mn],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();class OU{fragment;translations;constructor(l,a){this.fragment=l,this.translations=a}static builder(){return new OU(null,null)}setFragment(l){return this.fragment=l,this}setTranslations(l){return this.translations=l,this}}class Hx extends ti{config;constructor(l,a,h,d){super(l,a,h),this.config=d}static builder(){return new Hx("",null,null,OU.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}}class x1e{static uuidv4(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,l=>(l^crypto.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16))}}class wa{path;isText;content;data;pathZip;printable;constructor(l,a,h,d,f,p=!0){this.path=l,this.isText=a,this.content=h,this.data=d,this.pathZip=f,this.printable=p}getPath(){return this.pathZip?this.pathZip:this.path}}class gA{index;text;classes;lines=[];constructor(l,a,h){this.index=l,this.text=a,this.classes=h}}class CU{lineNumber;translations;constructor(l,a){this.lineNumber=l,this.translations=a}}class Rut{psalom;slava;lines;names;textJustifyClass;translations=[];memorials=[];constructor(l,a,h,d,f){this.psalom=l,this.slava=a,this.lines=h,this.names=d,this.textJustifyClass=f}sync(){return this.translations=[],this.lines.forEach((l,a)=>{l.translations.forEach((h,d)=>{for(;this.translations.length<=d;)this.translations.push(new gA("","",""));let f=this.translations[d];h.classes&&(f.classes=h.classes),h.index&&(f.index=h.index),f.lines.push(new CU(l.lineNumber,[new gA(h.index,h.text,h.classes)]))})}),this}get translationsCount(){return this.lines.length?this.lines[0].translations.length:0}}class Lut{name;link;id;order;children;constructor(l,a,h,d,f){this.name=l,this.link=a,this.id=h,this.order=d,this.children=f}}class wU{textSizeClass;lines;constructor(l,a){this.textSizeClass=l,this.lines=a}}class Nut{type;link;name;constructor(l,a,h){this.type=l,this.link=a,this.name=h}}class Fut{kafizma;psalmy;uuidContent="";uuidContributer="";textSizeClass="";textJustifyClass="";name="";psalomName="";application="";applicationId="";developerId="";developerName="";developerNameSortOrder="";developerLink="";date="";content=[];fileNames=[];molitva=new wU("",[]);startMolitva=new wU("",[]);endMolitva=new wU("",[]);constructor(l,a){this.kafizma=l,this.psalmy=a}}class fO{name;psalomName;allBooks;bookNames;allBooksChapters;emptyFirstLines;showLineIndexes;showMiddleContent;constructor(l,a,h,d,f,p,g,m){this.name=l,this.psalomName=a,this.allBooks=h,this.bookNames=d,this.allBooksChapters=f,this.emptyFirstLines=p,this.showLineIndexes=g,this.showMiddleContent=m}static builder(){return new fO("","",[],[],[],[],!0,!0)}setName(l){return this.name=l,this}setPsalomName(l){return this.psalomName=l,this}setAllBooks(l){return this.allBooks=l,this}setBookNames(l){return this.bookNames=l,this}setAllBooksChapters(l){return this.allBooksChapters=l,this}setEmptyFirstLines(l){return this.emptyFirstLines=l,this}setShowLineIndexes(l){return this.showLineIndexes=l,this}setShowMiddleContent(l){return this.showMiddleContent=l,this}}class xU{requestsPack;constructor(l){this.requestsPack=l}static builder(){return new xU([])}setRequestPack(l){return this.requestsPack=l,this}addRequest(l){return this.requestsPack.push(l),this}}class Wx{handler;constructor(l){this.handler=l}static builder(){return new Wx(null)}setHandler(l){return this.handler=l,this}print(l){this.handler&&this.handler(l)}}let T1e=(()=>{class c{cacheSvc;zipSvc;config;uiConfig;ks;prefix="templates/";baseContents=[];constructor(a,h,d,f,p){this.cacheSvc=a,this.zipSvc=h,this.config=d,this.uiConfig=f,this.ks=p,this.setup()}setup(){this.baseContents=[new wa("ebook/mimetype.txt",!0,"",null,"mimetype"),new wa("ebook/stylesheet.css",!0,"",null,"stylesheet.css"),new wa("ebook/PonomarUnicode.ttf",!1,"",null,"PonomarUnicode.ttf"),new wa("ebook/triodion-ieUcs.ttf",!1,"",null,"triodion-ieUcs.ttf"),new wa("ebook/logo.png",!1,"",null,"logo.png"),new wa("ebook/meta_inf/container.xml.txt",!0,"",null,"META-INF/container.xml"),new wa("ebook/toc.ncx.txt",!0,"",null,"toc.ncx"),new wa("ebook/metadata.opf.txt",!0,"",null,"metadata.opf"),new wa("ebook/content.xhtml",!0,"",null,"content.xhtml"),new wa("ebook/titlepage.xhtml",!0,"",null,"titlepage.xhtml"),new wa("kafizma.parallel.xhtml",!0,"",null,"",!1),new wa("kafizma.parallel.redline.xhtml",!0,"",null,"",!1),new wa("kafizma.parallel.redline.nobreaks.xhtml",!0,"",null,"",!1),new wa("kafizma.xhtml",!0,"",null,"",!1),new wa("kafizma.nobreaks.xhtml",!0,"",null,"",!1)]}uniqueId=0;tocIndex=1;zipEntries=[];content=[];kafizmyContent=null;startRequest=null;clearGeneratePrintRequestsPack(a,h){this.zipEntries=[],this.content=[],this.startRequest=a,this.kafizmyContent=h,this.tocIndex=1}startGeneratePrintRequestsPack(a,h){}nextUniqueId(){return this.uniqueId++}nextTocIndex(){return++this.tocIndex}newMustacheFileName(a,h,d,f,p){return new Lut(a,h,d+"_"+f,f,p)}findContent(a){return this.content.find(h=>h.path==a)}addToc(a,h,d,f,p){a.content.push(new Nut(h,d,f)),a.fileNames.push(this.newMustacheFileName(f,d,p,`${this.nextTocIndex()}`,[]))}doGeneratePrintRequestsPack(a,h){let d=a.bookNames.map(p=>p.endsWith("\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u0438\u0439")||p.endsWith("\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u0438\u0439 (\u0440\u0443\u0441)")?"cs":p.endsWith("\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u0438\u0439-UCS8")?"cs2":p.endsWith("\u043f\u0440\u0435\u0444\u0438\u043a\u0441")?"right":"").map(p=>p+" "+(this.uiConfig.ui.fineText.getBooleanValue()?"ftext":"")),f=!!a.bookNames.find(p=>"\u043f\u0440\u0435\u0444\u0438\u043a\u0441"===p);for(let p=0;p<a.allBooksChapters.length;++p){let g=this.findContent(f?"kafizma.parallel.redline.xhtml":this.uiConfig.ui.parallel.getBooleanValue()?this.uiConfig.ui.lineBreaks.getBooleanValue()?"kafizma.parallel.redline.xhtml":"kafizma.parallel.redline.nobreaks.xhtml":this.uiConfig.ui.lineBreaks.getBooleanValue()?"kafizma.xhtml":"kafizma.nobreaks.xhtml");if(!g)continue;let m=(C,S)=>a.allBooks[C].flatMap((w,x)=>w.filter((T,D)=>D==S).map((T,D)=>new gA(`${S}`,T,d[x]))),v=a.allBooks[p][0].map((C,S)=>{let w=a.emptyFirstLines[p].reduce((P,N)=>P>N?N:P,100),T=m(p,S),D=S+1-w,k=T.map(P=>P.lines.length>0).reduce((P,N,F,L)=>P&&N,!0);return new CU(`${D>0&&!k&&a.showLineIndexes?D:""}`,T)}),_=new Rut(a.allBooksChapters[p],[],v,[],this.uiConfig.ui.fineText.getBooleanValue()?"ftext":""),y=a.allBooks[p].length;for(let C=0;C<y;++C){let S=new gA("","",d[C]);S.lines=v.map(w=>new CU(w.lineNumber,[w.translations[C]])),_.translations.push(S)}h.psalmy=[_];const b=Mustache.render(g.content,h,{navPoint:"",item:"",itemref:""});let O=this.nextUniqueId();this.content.push(new wa(`glava_${a.allBooksChapters[p]}_${O}.xhtml`,!0,b,null,"")),this.addToc(h,"TextTOC",`glava_${a.allBooksChapters[p]}_${O}.xhtml`,`${h.psalomName} ${a.allBooksChapters[p]}`,`num_glava_${a.allBooksChapters[p]}_${O}`)}}updateContent(a){this.kafizmyContent&&(a.content=this.kafizmyContent.content,a.fileNames=this.kafizmyContent.fileNames)}endGeneratePrintRequestsPack(a,h,d){this.content.forEach(f=>{if(f.printable)if(f.isText)try{const p=Mustache.render(f.content,f.data?f.data:h,{navPoint:'\n    <navPoint id="{{id}}" playOrder="{{order}}">\n        <navLabel>\n          <text>{{name}}</text>\n        </navLabel>\n        <content src="{{link}}"/>{{#children}}{{>navPoint}}{{/children}}\n      </navPoint>',item:'\n    <item href="{{link}}" id="r{{id}}" media-type="application/xhtml+xml"/>{{#children}}{{>item}}{{/children}}',itemref:'\n    <itemref idref="r{{id}}"/>{{#children}}{{>itemref}}{{/children}}'});this.zipEntries.push(B1.builder().setFileName(f.getPath()).setContent(p))}catch(p){}else this.zipEntries.push(B1.builder().setFileName(f.getPath()).setContent(f.content))}),this.zipSvc.zip(this.zipEntries).then(f=>{const p=new Blob([f],{type:"octet/stream"}),g=(new Date).toISOString().split("T")[0],m="epub";if(this.config.isPlatformAndroid()){const v=`${a.name}.${m}`;this.ks.addTempFile(v,p).then(_=>{_&&_.success&&ho.startDownload(_.fileName,v),d(!0)})}else ho.saveData(p,`${a.name}.${g}.${m}`),d(!0)})}loadBaseContent(a,h,d){let f=this.baseContents[a];f.isText?this.cacheSvc.getText(this.prefix+f.path,p=>{p?(this.content.push(new wa(f.path,f.isText,p,f.data,f.pathZip,f.printable)),this.config.post(()=>{h()})):(this.config.addAlert(Bi.of(`\u041e\u0448\u0438\u0431\u043a\u0430: ${f.path}`,"\u041e\u041a",15)),d(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d: ${f.path}.`))}):this.cacheSvc.getBinary(this.prefix+f.path,p=>{p?(this.content.push(new wa(f.path,f.isText,p,f.data,f.pathZip,f.printable)),this.config.post(()=>{h()})):(this.config.addAlert(Bi.of(`\u041e\u0448\u0438\u0431\u043a\u0430: ${f.path}`,"\u041e\u041a",15)),d(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d: ${f.path}.`))})}generate(a,h=!0,d=!0,f=!0){return new Promise((p,g)=>{let m=h?0:this.baseContents.length;const v=(this.uiConfig.ui.parallel.getBooleanValue()?"P":"")+(this.uiConfig.ui.coloredTranslations.getBooleanValue()?"C":"")+(this.uiConfig.ui.fineText.getBooleanValue()?"J":"")+(this.uiConfig.ui.showMolitvy.getBooleanValue()?"M":"");let _=new Fut(1,[]);_.name=a.name,_.psalomName=a.psalomName,_.application=this.config.getApplication().name,_.applicationId=this.config.getApplication().id,_.developerId=this.config.developerId,_.developerName=this.config.developerName,_.developerNameSortOrder=this.config.developerNameSortOrder,_.developerLink=this.config.developerLink,_.uuidContent=x1e.uuidv4(),_.uuidContributer=x1e.uuidv4(),_.application=`${this.config.getApplication().name} (${this.config.version}) ${v}`;const y=(new Date).toISOString(),b=y.lastIndexOf(".");_.date=y.substring(0,b)+"+00:00",h&&this.clearGeneratePrintRequestsPack(a,_);let O=()=>{let C=m++;C>=this.baseContents.length?(h?(this.startGeneratePrintRequestsPack(a,_),this.addToc(_,"TextTOC","titlepage.xhtml","\u041e\u0431\u043b\u043e\u0436\u043a\u0430","num_title"),this.addToc(_,"TextTOC","content.xhtml","\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435","num_content")):this.updateContent(_),d&&this.doGeneratePrintRequestsPack(a,_),f?this.endGeneratePrintRequestsPack(a,_,S=>p(S)):p(!0)):this.loadBaseContent(C,()=>O(),S=>g(S))};O()})}static \u0275fac=function(h){return new(h||c)(Ee(Jl),Ee(V1),Ee(Zt),Ee(wn),Ee(Xh))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class TU{libName;link;constructor(l,a){this.libName=l,this.link=a}static builder(){return new TU("",null)}setLibName(l){return this.libName=l,this}setLink(l){return this.link=l,this}}class kU{fragment;link;constructor(l,a){this.fragment=l,this.link=a}static builder(){return new kU(null,null)}setFragment(l){return this.fragment=l,this}setLink(l){return this.link=l,this}}class DU extends ti{config;id="";targetId="";waitingForSenderId="";printerHandler=Wx.builder();constructor(l,a,h,d){super(l,a,h),this.config=d}static builder(){return new DU("",null,null,kU.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}setId(l){return this.id=l,this}setTargetId(l){return this.targetId=l,this}setWaitingForSenderId(l){return this.waitingForSenderId=l,this}}class xa extends Qa{onRoute;logical=!0;shortName=!1;textIsPage=!1;chapter="";startLine=-1;endLine=-1;bookName="";languages=null;constructor(l){super(),this.onRoute=l}static builder(){return new xa(null)}setShortName(l){return this.shortName=l,this.markChanged(),this}setTextIsPage(l){return this.textIsPage=l,this.markChanged(),this}setChapter(l){return this.chapter=l,this.markChanged(),this}setStartLine(l){return this.startLine=l,this.markChanged(),this}setEndLine(l){return this.endLine=l,this.markChanged(),this}setBookName(l){return this.bookName=l,this.markChanged(),this}setLanguages(l){return this.languages=l,this.markChanged(),this}setLogical(l){return this.logical=l,this.markChanged(),this}setOnRoute(l){return this.onRoute=l,this.markChanged(),this}route(l){this.onRoute&&this.onRoute(l)}}class Ta extends ti{link;search;menuLinks=null;forceMenu=!1;hideUI=!1;enableEpub=!0;showPrintButtons=!1;handleMemorialNewTitleTarget="";facePage=!1;parallel=null;linebreaks=null;id="";targetId="";printerHandler=Wx.builder();autoPrint=!1;constructor(l,a,h,d,f){super(l,a,h),this.link=d,this.search=f}static builder(){return new Ta("",null,null,xa.builder().setShortName(!0),"")}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}setLink(l){return this.link=l,this}setSearch(l){return this.search=l,this}setMenu(l){return this.menuLinks=l,this}setForceMenu(l){return this.forceMenu=l,this}setHideUI(l){return this.hideUI=l,this}setEpubEnabled(l){return this.enableEpub=l,this}setShowPrintButtons(l){return this.showPrintButtons=l,this}setHandleMemorialNewTitle(l){return this.handleMemorialNewTitleTarget=l,this}setFacePage(l){return this.facePage=l,this}setParallel(l){return this.parallel=l,this}setLinebreaks(l){return this.linebreaks=l,this}setId(l){return this.id=l,this}setTargetId(l){return this.targetId=l,this}setAutoPrint(l){return this.autoPrint=l,this}}function But(c,l){if(1&c&&(E(0,"span"),H(1),M()),2&c){const a=Q();I(1),$0("",a.link.startChapter,":",a.link.startLine,"")}}function Vut(c,l){1&c&&(E(0,"span"),H(1,"+"),M())}function $ut(c,l){if(1&c&&(E(0,"span"),H(1),M()),2&c){const a=Q(2);I(1),Kt("",a.link.endChapter,":")}}function zut(c,l){if(1&c&&(E(0,"span"),H(1),M()),2&c){const a=Q(2);I(1),ut(a.link.endLine)}}function Uut(c,l){if(1&c&&(E(0,"span"),H(1,"-"),X(2,$ut,2,1,"span",2),X(3,zut,2,1,"span",2),M()),2&c){const a=Q();I(2),R("ngIf",a.link.endChapter>0),I(1),R("ngIf",a.link.endLine)}}function Qut(c,l){1&c&&se(0,"app-dynamic-library-book",4),2&c&&R("data",Q().bookData)}const Hut=function(){return{cursor:!0,blue:!0}};let MU=(()=>{class c{config;bookData=Ta.builder();checkLater=Xw.builder();opened=!1;data;get linkFragmentData(){return this.data}get classes(){return this.linkFragmentData.config.fragment.classes}get link(){return this.linkFragmentData.config.link.link}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a){this.config=a}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){if(this.linkFragmentData.printerHandler.setHandler(a=>{this.bookData.printerHandler.print(a)}),this.checkLater.setConfig(this.config).setWaitingForSenderId(this.linkFragmentData.waitingForSenderId).checkEnabled(),this.linkFragmentData.config.link){let a=this.linkFragmentData.config.link.libName;a||(a="\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP"),this.opened!=!!this.linkFragmentData.config.link?.link?.opened&&this.config.post(()=>{this.opened=!!this.linkFragmentData.config.link?.link?.opened}),this.bookData.setText(a).setId(this.linkFragmentData.id).setTargetId(this.linkFragmentData.targetId).setLink(xa.builder().setOnRoute(h=>{}).setChapter(""+this.linkFragmentData.config.link.link.startChapter).setStartLine(this.linkFragmentData.config.link.link.startLine).setEndLine(this.linkFragmentData.config.link.link.endLine).setLanguages(this.linkFragmentData.config.link.link.langugages))}}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}toggleOpened(a){this.opened=!this.opened,a.stopPropagation()}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-link-fragment"]],inputs:{data:"data"},decls:8,vars:10,consts:[[3,"click"],[3,"ngClass","click"],[4,"ngIf"],[3,"data",4,"ngIf"],[3,"data"]],template:function(h,d){1&h&&(E(0,"span",0),Y("click",function(p){return p.stopPropagation()}),E(1,"cds-icon",1),Y("click",function(p){return d.toggleOpened(p)}),M(),E(2,"span",1),Y("click",function(p){return d.toggleOpened(p)}),H(3),X(4,But,2,2,"span",2),X(5,Vut,2,0,"span",2),X(6,Uut,4,2,"span",2),M(),X(7,Qut,1,1,"app-dynamic-library-book",3),M()),2&h&&(I(1),R("ngClass",Fi(9,Hut)),Je("shape","scroll")("solid",d.opened),I(1),R("ngClass",d.classes),I(1),Kt("",d.link.name,"."),I(1),R("ngIf",d.link.startLine>=0),I(1),R("ngIf",d.link.endChapter>0||d.link.endLine>=1e3),I(1),R("ngIf",d.link.endChapter>0||d.link.endLine>0&&d.link.endLine<1e3),I(1),R("ngIf",d.opened&&d.checkLater.enabled))},styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();class Wut{Word(){return EU.builder()}Other(){return PU.builder()}}var Zx=function(c){return c[c.Word=0]="Word",c[c.Other=1]="Other",c}(Zx||{});class k1e{type;constructor(l){this.type=l}}class EU extends k1e{text;constructor(l){super(Zx.Word),this.text=l}static builder(){return new EU("")}setText(l){return this.text=l,this}}class PU extends k1e{text;constructor(l){super(Zx.Other),this.text=l}static builder(){return new PU("")}setText(l){return this.text=l,this}}class Zut{parse(l){return wordsParserStatic.parse(l,{builder:new Wut})}}class AU{FragmentIdOp(){return RU.builder()}TextOp(){return LU.builder()}LinkOp(){return NU.builder()}}var uh=function(c){return c[c.Text=0]="Text",c[c.Link=1]="Link",c[c.Id=2]="Id",c}(uh||{});class IU{type;constructor(l){this.type=l}}class RU extends IU{id;constructor(l){super(uh.Id),this.id=l}static builder(){return new RU("")}setId(l){return this.id=l,this}}class LU extends IU{text;comment;color;constructor(l,a,h){super(uh.Text),this.text=l,this.comment=a,this.color=h}static builder(){return new LU("","","")}setText(l){return this.text=l,this}setComment(l){return this.comment=l,this}setColor(l){return this.color=l,this}}class NU extends IU{name;startChapter;startLine;endChapter;endLine;langugages;opened;alwaysPrint;id;targetId;waitingForSenderId;constructor(l,a,h,d,f,p=null,g=!1,m=!1,v="",_="",y=""){super(uh.Link),this.name=l,this.startChapter=a,this.startLine=h,this.endChapter=d,this.endLine=f,this.langugages=p,this.opened=g,this.alwaysPrint=m,this.id=v,this.targetId=_,this.waitingForSenderId=y}static builder(){return new NU("",1,1,-1,-1)}setName(l){return this.name=l,this}setStartChapter(l){return this.startChapter=l,this}setStartLine(l){return this.startLine=l,this}setEndChapter(l){return this.endChapter=l,this}setEndLine(l){return this.endLine=l,this}setLanguages(l){return this.langugages=l,this}setOpened(l){return this.opened=l,this}setAlwaysPrint(l){return this.alwaysPrint=l,this}setId(l){return this.id=l,this}setTargetId(l){return this.targetId=l,this}setWaitingForSenderId(l){return this.waitingForSenderId=l,this}}let FU=(()=>{class c{static getLastClasses=(a,h="red",d=!0)=>{let f={};return a.split("").map(g=>c.getLastClass(g,h,d,f)),f};static getLastClass=(a,h="red",d=!0,f={})=>{let p=f;switch(a){case"\u041a":case"\u043a":d&&(p[h]=d);break;case"\u0417":case"\u0437":d&&(p.green=d);break;case"\u0401":case"\u0451":d&&(p.yellow=d);break;case"\u0421":case"\u0441":d&&(p.blue=d);break;case"\u0424":case"\u0444":d&&(p.indigo=d);break;case"\u041f":case"\u043f":d&&(p.purple=d);break;case"\u041c":case"\u043c":d&&(p.cyan=d);break;case"\u041b":case"\u043b":d&&(p.greenYellow=d);break;case"\u0420":case"\u0440":d&&(p.darkRed=d);break;case"B":case"b":case"\u0418":case"\u0438":d&&(p.colorBold=d);break;case"C":case"c":case"\u0423":case"\u0443":d&&(p.colorCursive=d);break;case"U":case"u":case"\u0427":case"\u0447":d&&(p.colorUnderline=d);break;case"\u0426":case"\u0446":d&&(p.cs=d)}return p};parseFragments(a,h,d,f="red",p=!0,g=null){let m=[],v=(p?fragmentsParserStatic:fragmentsNoCommentsParserStatic).parse(d,{builder:new AU});if(null!=v&&v.length)v[0].forEach(_=>{switch(_.type){case uh.Text:{let y=_,b=y.text;if(y.color.includes("^")){let S=g?.getTranslations(b);S&&(b=S.map(w=>w.translations).join(""))}let O=(new Zut).parse(b),C=(S,w,x)=>{let T=Ir.builder().setClasses(c.getLastClasses(w,f)).setText(S),D=Hx.builder();D.config.setFragment(T).setTranslations(x),m.push(T.setComponent(new sn(bU,D)))};O.forEach((S,w,x)=>{let T="",D="",k=null;if(S.type===Zx.Word){if(T=S.text,D=y.color,p){let F=g?.getTranslations(T);if(F){let L='{\u0443}{\u0438}=> "'+F.flatMap($=>$.translations).join(" // ")+'"{/\u0438}{/\u0443} ';F.findIndex($=>$.cs)>=0&&(L="{\u0446}"+L+"{/\u0446}"),k=this.parseFragments(a,h,L,f,!1,g)}}let N=!0;for(let F=w+1;F<x.length;F++)if(x[F].type==Zx.Word){N=!1;break}N&&y.comment&&(y.comment.includes("{")||y.comment.includes("}")?T+="{"+y.comment+"}":k=this.parseFragments(a,h,'{\u0443}{\u0438}=> "'+y.comment+'"{/\u0438}{/\u0443} ',f,!1,g))}else T=S.text,D=y.color;C(T,D+(k?"\u0447":""),k)})}break;case uh.Link:{let y=_,b=Ir.builder().setClasses(c.getLastClass("\u0441",f));b.classes.cursor=!0;let O=DU.builder();O.config.setLink(TU.builder().setLink(y).setLibName(h(y.name))).setFragment(b),O.setId(y.id).setWaitingForSenderId(y.waitingForSenderId).setTargetId(y.targetId),m.push(b.setComponent(new sn(MU,O)))}break;case uh.Id:{let y=_,b=a.get(y.id);if(b)m.push(b);else{let O=Ir.builder().setClasses(c.getLastClass("\u043a",f)).setText(y.id),C=Hx.builder();C.config.setFragment(O),m.push(O.setComponent(new sn(bU,C)))}}break;default:throw new Error(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0442\u0438\u043f \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u0430: ${_.type}.`)}});else{let _=Ir.builder().setText(""),y=Hx.builder();y.config.setFragment(_),m.push(_.setComponent(new sn(bU,y)))}return m}}return c})();class BU{book;lineIndex;bookSvc;constructor(l,a,h){this.book=l,this.lineIndex=a,this.bookSvc=h}static builder(){return new BU(null,0,null)}setBook(l){return this.book=l,this}setLineIndex(l){return this.lineIndex=l,this}setBookSvc(l){return this.bookSvc=l,this}}class pO extends ti{config;constructor(l,a,h,d){super(l,a,h),this.config=d}static builder(){return new pO("",null,null,BU.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}}let D1e=(()=>{class c{viewContainerRef;constructor(a){this.viewContainerRef=a}static \u0275fac=function(h){return new(h||c)(V(ir))};static \u0275dir=wt({type:c,selectors:[["","addComponent",""]]})}return c})();function jut(c,l){}let ic=(()=>{class c{thisComponent=null;set component(a){if(!a)throw new Error("Error: thisComponent is null.");this.thisComponent=a}get component(){return this.thisComponent}currentAdIndex=-1;adHost;ngOnInit(){this.loadComponent()}ngOnDestroy(){}loadComponent(){const a=this.thisComponent,h=this.adHost.viewContainerRef;h.clear(),h.createComponent(a.component).instance.data=a.data}reload(){this.loadComponent()}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=qe({type:c,selectors:[["app-add-component"]],viewQuery:function(h,d){if(1&h&&si(D1e,7),2&h){let f;Ht(f=Wt())&&(d.adHost=f.first)}},inputs:{component:"component"},decls:1,vars:0,consts:[["addComponent",""]],template:function(h,d){1&h&&X(0,jut,0,0,"ng-template",0)},dependencies:[D1e],encapsulation:2})}return c})();function Gut(c,l){1&c&&(E(0,"span"),H(1,"\xa0"),M())}const Xut=function(c,l){return{red:c,redDark:l}};function Yut(c,l){if(1&c&&(E(0,"span")(1,"span",2),H(2),M(),E(3,"span")(4,"span",3),H(5,"."),M()()()),2&c){const a=Q(2);I(1),R("ngClass",mr(2,Xut,!(a.colored&&a.bookIndex%2),a.colored&&!!(a.bookIndex%2))),I(1),ut(a.lineIndex?a.lineIndex:"")}}function qut(c,l){1&c&&se(0,"app-add-component",5),2&c&&R("component",Q().$implicit.component)}function Kut(c,l){if(1&c&&(E(0,"span"),X(1,qut,1,1,"app-add-component",4),M()),2&c){const a=l.$implicit;I(1),R("ngIf",a.component)}}function Jut(c,l){if(1&c&&(E(0,"span"),X(1,Yut,6,5,"span",0),X(2,Kut,2,1,"span",1),M()),2&c){const a=Q();I(1),R("ngIf",a.isLineIndexed(a.book,a.lineIndex)),I(1),R("ngForOf",a.getBookFragments(a.bookIndex,a.book,a.lineIndex))}}let mA=(()=>{class c{uiConfig;data;get spanTextData(){return this.data}get bookIndex(){return this.spanTextData.config.book?this.spanTextData.config.book.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043d\u0438\u0433\u0438:0}get book(){return this.spanTextData.config.book}get lineIndex(){return this.spanTextData.config.lineIndex}get bookSvc(){return this.spanTextData.config.bookSvc}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a){this.uiConfig=a}get colored(){return this.uiConfig.ui.coloredTranslations.getBooleanValue()}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}isLineIndexed(a,h){return h>0&&a.\u0441\u0442\u0440\u043e\u043a\u0438[h].fragments.length>0&&a.\u0441\u0442\u0440\u043e\u043a\u0438[h].\u0438\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430}getBookFragments(a,h,d){if(null==h.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b\u042f\u0437\u044b\u043a\u0430){let f=this.bookSvc?.bookContent[a]?.parsed?.settings.find(p=>"\u044f\u0437\u044b\u043a"===p.name.toLowerCase());h.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b\u042f\u0437\u044b\u043a\u0430=[Ir.builder().setText(f?f.value:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e").setClasses({red:!0})]}return d<0?h.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b\u042f\u0437\u044b\u043a\u0430:h.\u0441\u0442\u0440\u043e\u043a\u0438[d].fragments}static \u0275fac=function(h){return new(h||c)(V(wn))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-span-text"]],inputs:{data:"data"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"hidden"],[3,"component",4,"ngIf"],[3,"component"]],template:function(h,d){1&h&&(X(0,Gut,2,0,"span",0),X(1,Jut,3,2,"span",0)),2&h&&(R("ngIf",!d.book),I(1),R("ngIf",d.book))},dependencies:[ei,Gn,mn,ic]})}return c})();class eht{newText(){return VU.builder()}}class VU{type;text;constructor(l,a){this.type=l,this.text=a}static builder(){return new VU("","")}setType(l){return this.type=l,this}setText(l){return this.text=l,this}}class vA{static escapeString(l){let a="",h=!1;for(let d=0;d<l.length;d++){let f=l.charAt(d);switch(f){case"'":h||(a+="\\"),a+=f,h=!1;break;case"\\":a+=f,h=!0;break;default:a+=f,h=!1}}return a}static stdConverter(l){let a="";switch(l.type){case"*":a+=l.text;break;case"=":a+="\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0432\u044b\u0432\u0435\u0441\u0442\u0438("+l.text+");";break;case"":a+="\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0432\u044b\u0432\u0435\u0441\u0442\u0438('"+vA.escapeString(l.text)+"');"}return a}parse(l){return bracerParserStatic.parse(l,{builder:new eht})}getStdConverter(){return l=>vA.stdConverter(l)}join(l,a=null){return a||(a=this.getStdConverter()),l.map(h=>a(h)).join("")}parseAndJoin(l,a=null){return this.join(this.parse(l),a)}}class $U extends Qa{block=!1;outline=!1;type="primary";constructor(){super()}static builder(){return new $U}setBlock(l){return this.block=l,this.markChanged(),this}setOutline(l){return this.outline=l,this.markChanged(),this}setType(l){return this.type=l,this.markChanged(),this}}class zU extends ti{classes;constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new zU("",null,null,$U.builder().setBlock(!0))}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}}let tht=(()=>{class c{config;data;get btnData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:"\u041f\u0435\u0440\u0432\u0430\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u043d\u043e\u043f\u043a\u0430"}get type(){return this.data&&this.data.classes.type?this.data.classes.type:""}constructor(a){this.config=a}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return this.btnData.classes.getCurValue(()=>this.getClassesRaw())}getClassesRaw(){var a=this.btnData.classes;return{btn:!0,"btn-block":a.block,"btn-link":"link"==a.type&&!a.outline,"btn-primary":"primary"==a.type&&!a.outline,"btn-primary-outline":"primary"==a.type&&a.outline,"btn-success":"success"==a.type&&!a.outline,"btn-success-outline":"success"==a.type&&a.outline,"btn-danger":"danger"==a.type&&!a.outline,"btn-danger-outline":"danger"==a.type&&a.outline,"no-print":!0}}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-button"]],inputs:{data:"data"},decls:2,vars:2,consts:[[3,"ngClass","click"]],template:function(h,d){1&h&&(E(0,"button",0),Y("click",function(p){return d.onClick(p)}),H(1),M()),2&h&&(R("ngClass",d.getClasses()),I(1),ut(d.text))},dependencies:[ei]})}return c})(),gO=(()=>{class c{uiConfig;constructor(a){this.uiConfig=a}getBookmarks(){return this.uiConfig.ui.bookmarks.getStringValue().split(",").filter(a=>!!a)}setBookmarks(a){return this.uiConfig.ui.bookmarks.setStringValue(a.join(",")),this}addBookmark(a,h,d,f){if(!a)return this;let p=this.getBookmarks();return p.push(a+"."+h+(d>0?":"+d+(f>0?"-"+f:""):"")),this.setBookmarks(p),this}deleteBookmark(a){let h=this.getBookmarks(),d=h.findIndex(f=>f===a);return d>=0&&(h.splice(d,1),this.setBookmarks(h)),this}static \u0275fac=function(h){return new(h||c)(Ee(wn))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class jx{\u0434\u0432\u0438\u0436\u043e\u043a=new Qw;\u0434\u0432\u0438\u0436\u043e\u043a\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d=!1;\u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438\u0412\u041d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434=new Map;\u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438=[];\u0441\u0442\u0440\u043e\u043a\u0430\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0438\u0414\u0432\u0438\u0436\u043a\u0430="\n  //{{ ========= \u041c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u043e\u0432 ========= {{\n    \u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u041c\u0430\u0441\u0441\u0438\u0432\u0430 = \u0441\u0438\u0441\u0442\u0435\u043c\u0430.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f('\u043c\u0430\u0441\u0441\u0438\u0432');\n    \u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u041c\u0430\u0441\u0441\u0438\u0432\u0430.\u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c = \u043a\u043b\u0430\u0441\u0441{\u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c(\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440){\n      \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = [];\n      \u0446\u0438\u043a\u043b(i = 0; i < \u044d\u0442\u043e.\u0434\u043b\u0438\u043d\u0430(); ++i){\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c(\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435(\u044d\u0442\u043e[i], i, \u044d\u0442\u043e));\n      }\n      \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442;\n    }}.\u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c;\n    \u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u041c\u0430\u0441\u0441\u0438\u0432\u0430.\u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0438\u0442\u044c = \u043a\u043b\u0430\u0441\u0441{\u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0438\u0442\u044c(\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440){\n      \u0446\u0438\u043a\u043b(i = 0; i < \u044d\u0442\u043e.\u0434\u043b\u0438\u043d\u0430(); ++i){\n        \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440.\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435(\u044d\u0442\u043e[i], i, \u044d\u0442\u043e);\n      }\n    }}.\u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0438\u0442\u044c;\n    //-----------------------------------------------\n    \u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e = \u0441\u0438\u0441\u0442\u0435\u043c\u0430.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f('\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e');\n    \u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e.\u0432\u0441\u0442\u0440\u043e\u0438\u0442\u044c\u041a\u043e\u043f\u0438\u0438 =\n      \u043a\u043b\u0430\u0441\u0441 {\n        \u0432\u0441\u0442\u0440\u043e\u0438\u0442\u044c\u041a\u043e\u043f\u0438\u0438(\u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u0417\u0430\u043c\u0435\u043d\u044b\u041a\u043e\u043f\u0438\u0439)\n        {\n          \u043f\u0430\u043c\u044f\u0442\u044c\u041a\u043e\u043f\u0438\u044f = \u043a\u043b\u0430\u0441\u0441 {\n            \u0430\u0441\u0434 = 0;\n            \u0438\u043d\u0434\u0435\u043a\u0441 = 0;\n            \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440(_\u0430\u0441\u0434, _\u0438\u043d\u0434\u0435\u043a\u0441) {\n              \u0430\u0441\u0434 = _\u0430\u0441\u0434;\n              \u0438\u043d\u0434\u0435\u043a\u0441 = _\u0438\u043d\u0434\u0435\u043a\u0441;\n            }\n          };\n          \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0449\u0438\u043a = \u043a\u043b\u0430\u0441\u0441 {\n            \u0441\u0434\u0435\u043b\u0430\u0442\u044c\u041a\u043e\u043f\u0438\u044e(\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435) {\n              \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435;\n            }\n            \u0441\u043f\u0438\u0441\u043e\u043a\u041a\u043e\u043f\u0438\u0439(\u0430\u0441\u0434, \u043a\u043e\u043f\u0438\u044f, \u0441\u043f\u0438\u0441\u043e\u043a) {\n              \u043f\u0430\u043c\u044f\u0442\u044c\u041a\u043e\u043f\u0438\u044f = \u043a\u043b\u0430\u0441\u0441 {\n                \u0430\u0441\u0434 = 0;\n                \u0438\u043d\u0434\u0435\u043a\u0441 = 0;\n                \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440(_\u0430\u0441\u0434, _\u0438\u043d\u0434\u0435\u043a\u0441) {\n                  \u0430\u0441\u0434 = _\u0430\u0441\u0434;\n                  \u0438\u043d\u0434\u0435\u043a\u0441 = _\u0438\u043d\u0434\u0435\u043a\u0441;\n                }\n              };\n              \u0442\u0438\u043f\u041e\u0431\u044a\u0435\u043a\u0442\u0430 = \u0430\u0441\u0434.\u0442\u0438\u043f();\n              \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 = \u0430\u0441\u0434.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432();\n              if (\u0442\u0438\u043f\u041e\u0431\u044a\u0435\u043a\u0442\u0430 === '\u043a\u043e\u043c\u0430\u043d\u0434\u0430'){\n                if (\u0430\u0441\u0434.\u043a\u043e\u043c\u0430\u043d\u0434\u0430() === '\u043a\u043e\u043f\u0438\u044f') {\n                  \u0441\u043f\u0438\u0441\u043e\u043a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c(\u043a\u043e\u043f\u0438\u044f);\n                  \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 = 0;\n                }\n              }\n              for(i = 0; i < \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432; ++i) {\n               \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 = \u0430\u0441\u0434.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440(i);\n               \u0441\u043f\u0438\u0441\u043e\u043a\u041a\u043e\u043f\u0438\u0439(\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440, \u043f\u0430\u043c\u044f\u0442\u044c\u041a\u043e\u043f\u0438\u044f(\u0430\u0441\u0434, i),  \u0441\u043f\u0438\u0441\u043e\u043a);\n              }\n            }\n          };\n          //\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c('\u0437\u0430\u043c\u0435\u043d\u0430\u041a\u043e\u043f\u0438\u0439 = \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438;...');\n          \u0430\u0441\u0434 = \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0410\u0421\u0414(\u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u0417\u0430\u043c\u0435\u043d\u044b\u041a\u043e\u043f\u0438\u0439);\n          //\u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c\u0410\u0421\u0414(\u0430\u0441\u0434, '');\n          \u0441\u043f\u0438\u0441\u043e\u043a = [];\n          \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0449\u0438\u043a.\u0441\u043f\u0438\u0441\u043e\u043a\u041a\u043e\u043f\u0438\u0439(\u0430\u0441\u0434, \u043f\u0430\u043c\u044f\u0442\u044c\u041a\u043e\u043f\u0438\u044f(\u0430\u0441\u0434, -1), \u0441\u043f\u0438\u0441\u043e\u043a);\n          //\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c('\u0414\u043b\u0438\u043d\u0430 \u0441\u043f\u0438\u0441\u043a\u0430: ' + \u0441\u043f\u0438\u0441\u043e\u043a.\u0434\u043b\u0438\u043d\u0430());\n          for(i = 0; i < \u0441\u043f\u0438\u0441\u043e\u043a.\u0434\u043b\u0438\u043d\u0430(); ++i){\n            \u043f\u0430\u0440\u0430 = \u0441\u043f\u0438\u0441\u043e\u043a[i];\n            //\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c('\u043f\u0430\u0440\u0430: [' + \u043f\u0430\u0440\u0430.\u0438\u043d\u0434\u0435\u043a\u0441 + '];');\n            \u0440\u0435\u0437 = \u043f\u0430\u0440\u0430.\u0438\u043d\u0434\u0435\u043a\u0441 == -1 ? \u043f\u0430\u0440\u0430.\u0430\u0441\u0434.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c() :\n              \u0412\u042b\u0417\u041e\u0412 \u043f\u0430\u0440\u0430.\u0430\u0441\u0434.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440(\u043f\u0430\u0440\u0430.\u0438\u043d\u0434\u0435\u043a\u0441).\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0423\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c();\n            \u043f\u0430\u0440\u0430.\u0430\u0441\u0434.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440(\u043f\u0430\u0440\u0430.\u0438\u043d\u0434\u0435\u043a\u0441, \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0449\u0438\u043a.\u0441\u0434\u0435\u043b\u0430\u0442\u044c\u041a\u043e\u043f\u0438\u044e(\u0440\u0435\u0437));\n          }\n        }\n      }.\u0432\u0441\u0442\u0440\u043e\u0438\u0442\u044c\u041a\u043e\u043f\u0438\u0438;\n    //}} ========= \u041c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u043e\u0432 ========= }}\n  ";constructor(){this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u041f\u043e\u0423\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e()}addMethod(l,a,h){return l.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set(a,this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043c\u0435\u0442\u043e\u0434").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(En.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u044a\u0435\u043a\u0442(Bn.\u043d\u043e\u0432\u044b\u0439\u041c\u0435\u0442\u043e\u0434().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\u041c\u0435\u0442\u043e\u0434\u0430(this.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432")).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043b\u043e(We.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(R1.\u043d\u043e\u0432\u0430\u044f().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0443\u043d\u043a\u0446\u0438\u044e(h)))))),this}addBookmarksEnvironment(l,a){this.addMethod(l,"\u0434\u0432\u0438\u043d\u0443\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443\u0412\u0432\u0435\u0440\u0445",(h,d)=>{var p=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]);if(a){let g=new gO(a),m=g.getBookmarks(),v=m.findIndex(y=>y==p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),_=m;if(v>0){_=[];let y=v-1;_.push(...m.slice(0,y));let b=m.splice(v,1);_.push(...b),_.push(...m.slice(y))}g.setBookmarks(_)}return d[0]}),this.addMethod(l,"\u0434\u0432\u0438\u043d\u0443\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443\u0412\u043d\u0438\u0437",(h,d)=>{var p=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]);if(a){let g=new gO(a),m=g.getBookmarks(),v=m.findIndex(y=>y==p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),_=m;if(v>=0&&v+1<m.length){_=[],_.push(...m.slice(0,v));let b=m.splice(v,1),O=m.splice(v,1);_.push(...O),_.push(...b),_.push(...m.slice(v))}g.setBookmarks(_)}return d[0]}),this.addMethod(l,"\u0443\u0434\u0430\u043b\u0438\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443",(h,d)=>{var p=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]);if(a){let g=new gO(a),m=g.getBookmarks(),v=m.findIndex(y=>y==p.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),_=m;v>=0&&m.splice(v,1),g.setBookmarks(_)}return d[0]})}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0442\u043b\u0430\u0434\u0447\u0438\u043a(l){this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0442\u043b\u0430\u0434\u0447\u0438\u043a(l)}run(l,a=null,h=null,d=null,f=!1){this.\u0434\u0432\u0438\u0436\u043e\u043a\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d||(this.\u0434\u0432\u0438\u0436\u043e\u043a\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d=!0,this.run(this.\u0441\u0442\u0440\u043e\u043a\u0430\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0438\u0414\u0432\u0438\u0436\u043a\u0430));let p=a||es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),g=h||es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),m=d||es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),v=this.\u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438\u0412\u041d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434.get(l);if(null==v){let b=new w9,O=b.\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a(l,f);if(this.\u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438.length>=10){let C=this.\u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438.shift();C&&this.\u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438\u0412\u041d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434.delete(C)}this.\u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438.push(l),this.\u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438\u0412\u041d\u0430\u0431\u043e\u0440\u041a\u043e\u043c\u0430\u043d\u0434.set(l,O),v=O,this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0432\u0438\u0442\u044c\u041f\u0430\u0440\u0441\u0435\u0440(b)}let _=v||[],y=null;{let b=this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.\u0434\u0432\u0438\u0436\u043e\u043a.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0421\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438(We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(_),[We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442(),p,g,m],[We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043f\u0430\u043c\u044f\u0442\u044c"),We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435"),We.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442")],!0,!0,!1,null));b&&b.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442()&&"\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e"==b.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()&&(y=m.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"))}return y}}class UU{check;constructor(l){this.check=l}static builder(){return new UU(!1)}setCheck(l){return this.check=l,this}}class QU extends ti{classes;constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new QU("",null,null,UU.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}}let nht=(()=>{class c{config;data;get cbData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:"\u041f\u0435\u0440\u0432\u0430\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u043d\u043e\u043f\u043a\u0430"}get type(){return this.data&&this.data.classes.type?this.data.classes.type:""}constructor(a){this.config=a}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{"clr-checkbox":!0}}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-checkbox"]],inputs:{data:"data"},decls:6,vars:3,consts:[[1,"clr-form-control","no-print"],[1,"clr-control-container","clr-control-inline"],[1,"clr-checkbox-wrapper"],["type","checkbox","id","vertical-checkbox1","name","checkbox-inline-1","value","option1",3,"checked","ngClass","click"],["for","vertical-checkbox1",1,"clr-control-label"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),Y("click",function(p){return d.onClick(p)}),M(),E(4,"label",4),H(5),M()()()()),2&h&&(I(3),R("checked",d.cbData.classes.check)("ngClass",d.getClasses()),I(2),ut(d.text))},dependencies:[ei,Lr]})}return c})();class HU{ordered=!1;constructor(){}static builder(){return new HU}setOrdered(l){return this.ordered=l,this}}class WU extends ti{classes;items;constructor(l,a,h,d,f){super(l,a,h),this.classes=d,this.items=f}static builder(){return new WU("",null,null,HU.builder(),[])}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}setItems(l){return this.items=l,this}addItem(l){return this.items.push(l),this}}function iht(c,l){if(1&c&&(E(0,"li"),se(1,"app-add-component",3),M()),2&c){const a=l.$implicit;I(1),R("component",a)}}function rht(c,l){if(1&c&&(E(0,"ol",1),X(1,iht,2,1,"li",2),M()),2&c){const a=Q();R("ngClass",a.getClasses()),I(1),R("ngForOf",a.listData.items)}}function sht(c,l){if(1&c&&(E(0,"li"),se(1,"app-add-component",3),M()),2&c){const a=l.$implicit;I(1),R("component",a)}}function oht(c,l){if(1&c&&(E(0,"ul",1),X(1,sht,2,1,"li",2),M()),2&c){const a=Q();R("ngClass",a.getClasses()),I(1),R("ngForOf",a.listData.items)}}let aht=(()=>{class c{config;data;get listData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:"\u041f\u0435\u0440\u0432\u0430\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u043d\u043e\u043f\u043a\u0430"}get type(){return this.data&&this.data.classes.type?this.data.classes.type:""}constructor(a){this.config=a}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{list:!0}}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-list"]],inputs:{data:"data"},decls:2,vars:2,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(h,d){1&h&&(X(0,rht,2,2,"ol",0),X(1,oht,2,2,"ul",0)),2&h&&(R("ngIf",d.listData.classes.ordered),I(1),R("ngIf",!d.listData.classes.ordered))},dependencies:[ei,Gn,mn,ic]})}return c})();class mO{static builder(){return new mO}parse(l,a=null){return fragmentsParserStatic.parse(l,{builder:a||new AU})}}class ZU{slava1Zdrav;slava1Upok;slava2Zdrav;slava2Upok;slava3Zdrav;slava3Upok;labels;constructor(l=!0,a=!0,h=!0,d=!0,f=!0,p=!0,g=""){this.slava1Zdrav=l,this.slava1Upok=a,this.slava2Zdrav=h,this.slava2Upok=d,this.slava3Zdrav=f,this.slava3Upok=p,this.labels=g}static builder(){return new ZU}setSlava1Zdrav(l){return this.slava1Zdrav=l,this}setSlava1Upok(l){return this.slava1Upok=l,this}setSlava2Zdrav(l){return this.slava2Zdrav=l,this}setSlava2Upok(l){return this.slava2Upok=l,this}setSlava3Zdrav(l){return this.slava3Zdrav=l,this}setSlava3Upok(l){return this.slava3Upok=l,this}setLabels(l){return this.labels=l,this}isLiveAcceptable(l){let a=!1;return a=l?this.slava1Zdrav||this.slava2Zdrav||this.slava3Zdrav:this.slava1Upok||this.slava2Upok||this.slava3Upok,a}getLiveValue(){let l=null,a=this.slava1Zdrav||this.slava2Zdrav||this.slava3Zdrav;return a!==(this.slava1Upok||this.slava2Upok||this.slava3Upok)&&(l=a),l}}class jU extends ti{classes;readonly;id="";targetId="";printerHandler=Wx.builder();constructor(l,a,h,d,f){super(l,a,h),this.classes=d,this.readonly=f}static builder(){return new jU("",null,null,ZU.builder(),!1)}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}setReadonly(l){return this.readonly=l,this}setId(l){return this.id=l,this}setTargetId(l){return this.targetId=l,this}updateClasses(l){return l(this.classes),this}}class GU extends Qa{alertClass;alertShape;noPrint;constructor(l,a,h){super(),this.alertClass=l,this.alertShape=a,this.noPrint=h}static builder(){return new GU("alert-danger","exclamation-circle",!1)}setAlertClass(l){return this.alertClass=l,this.markChanged(),this}setAlertShape(l){return this.alertShape=l,this.markChanged(),this}setNoPrint(l){return this.noPrint=l,this.markChanged(),this}}class zs{text;shape;badge;solid;enabled;onClick;constructor(l,a,h,d,f,p){this.text=l,this.shape=a,this.badge=h,this.solid=d,this.enabled=f,this.onClick=p}static builder(){return new zs("","","",!1,!0,null)}setText(l){return this.text=l,this}setShape(l){return this.shape=l,this}setBadge(l){return this.badge=l,this}setSolid(l){return this.solid=l,this}setEnabled(l){return this.enabled=l,this}setOnClick(l){return this.onClick=l,this}runOnClick(){return this.onClick&&this.onClick(this),this}}class la extends ti{errors;classes;buttons;actions;constructor(l,a,h,d,f,p,g){super(l,a,h),this.errors=d,this.classes=f,this.buttons=p,this.actions=g}static builder(){return new la("",null,null,[],GU.builder(),[],[])}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}setErrors(l){return this.errors=l,this}setButtons(l){return this.buttons=l,this}setActions(l){return this.actions=l,this}updateClasses(l){return l(this.classes),this}}class XU{prefix;name;constructor(l,a){this.prefix=l,this.name=a}static builder(){return new XU("","")}setPrefix(l){return this.prefix=l,this}setName(l){return this.name=l,this}}class Zn{index;name;constructor(l,a){this.index=l,this.name=a}static builder(){return new Zn(-1,"")}setIndex(l){return this.index=l,this}setName(l){return this.name=l,this}}let _A=(()=>{class c{statuses=[Zn.builder().setIndex(1).setName("\u0431\u043e\u043b."),Zn.builder().setIndex(2).setName("\u0431."),Zn.builder().setIndex(2).setName("\u0442.\u0431\u043e\u043b."),Zn.builder().setIndex(2).setName("\u0442.\u0431."),Zn.builder().setIndex(3).setName("\u043f\u0443\u0442."),Zn.builder().setIndex(3).setName("\u043f."),Zn.builder().setIndex(4).setName("\u0437\u043a."),Zn.builder().setIndex(5).setName("\u0437\u0430\u0431\u043b.")];statusesWiman=[Zn.builder().setIndex(1).setName("\u0431\u043e\u043b."),Zn.builder().setIndex(2).setName("\u0431."),Zn.builder().setIndex(2).setName("\u0442.\u0431\u043e\u043b."),Zn.builder().setIndex(2).setName("\u0442.\u0431."),Zn.builder().setIndex(3).setName("\u043f\u0443\u0442."),Zn.builder().setIndex(3).setName("\u043f."),Zn.builder().setIndex(4).setName("\u0437\u043a."),Zn.builder().setIndex(5).setName("\u043d\u0435\u043f\u0440\u0430\u0437\u0434."),Zn.builder().setIndex(6).setName("\u0437\u0430\u0431\u043b.")];statusesDead=[Zn.builder().setIndex(1).setName("\u043d.\u043f."),Zn.builder().setIndex(2).setName("\u043f.\u043f."),Zn.builder().setIndex(3).setName("\u0443\u0431.")];prefixes=[Zn.builder().setIndex(1).setName("\u043f\u0430\u0442\u0440."),Zn.builder().setIndex(2).setName("\u0441\u0445\u0438\u043c\u0438\u0442\u0440."),Zn.builder().setIndex(3).setName("\u043c\u0438\u0442\u0440."),Zn.builder().setIndex(4).setName("\u0441\u0445\u0438\u0430\u0440\u0445\u0438\u0435\u043f."),Zn.builder().setIndex(5).setName("\u0430\u0440\u0445\u0438\u0435\u043f."),Zn.builder().setIndex(6).setName("\u0441\u0445\u0438\u0435\u043f."),Zn.builder().setIndex(7).setName("\u0435\u043f."),Zn.builder().setIndex(8).setName("\u0441\u0445\u0438\u0430\u0440\u0445\u0438\u043c."),Zn.builder().setIndex(9).setName("\u0430\u0440\u0445\u0438\u043c."),Zn.builder().setIndex(10).setName("\u043f\u0440\u043e\u0442\u043e\u043f\u0440."),Zn.builder().setIndex(11).setName("\u0441\u0445\u0438\u0438\u0433\u0443\u043c."),Zn.builder().setIndex(12).setName("\u0438\u0433\u0443\u043c."),Zn.builder().setIndex(13).setName("\u043f\u0440\u043e\u0442."),Zn.builder().setIndex(14).setName("\u0438\u0435\u0440\u043e\u0441\u0445\u0438\u043c."),Zn.builder().setIndex(15).setName("\u0438\u0435\u0440\u043e\u043c."),Zn.builder().setIndex(16).setName("\u0438\u0435\u0440."),Zn.builder().setIndex(17).setName("\u0441\u0445\u0438\u0430\u0440\u0445\u0438\u0434."),Zn.builder().setIndex(18).setName("\u0430\u0440\u0445\u0438\u0434."),Zn.builder().setIndex(19).setName("\u043f\u0440\u043e\u0442\u043e\u0434\u0438\u0430\u043a."),Zn.builder().setIndex(20).setName("\u0438\u0435\u0440\u043e\u0441\u0445\u0438\u0434."),Zn.builder().setIndex(21).setName("\u0438\u0435\u0440\u043e\u0434."),Zn.builder().setIndex(22).setName("\u0434\u0438\u0430\u043a."),Zn.builder().setIndex(23).setName("\u0441\u0445\u0438\u043c."),Zn.builder().setIndex(24).setName("\u043c\u043e\u043d."),Zn.builder().setIndex(25).setName("\u0438\u043d."),Zn.builder().setIndex(26).setName("\u0438\u043f\u043e\u0434\u0438\u0430\u043a."),Zn.builder().setIndex(28).setName("\u0447\u0442."),Zn.builder().setIndex(27).setName("\u043f\u043e\u0441\u043b."),Zn.builder().setIndex(29).setName("\u043e\u0442\u0440."),Zn.builder().setIndex(30).setName("\u043c\u043b."),Zn.builder().setIndex(31).setName("\u0432.")];prefixesWiman=[Zn.builder().setIndex(1).setName("\u0441\u0445\u0438\u0438\u0433\u0443\u043c."),Zn.builder().setIndex(2).setName("\u0438\u0433\u0443\u043c."),Zn.builder().setIndex(3).setName("\u0441\u0445\u0438\u043c."),Zn.builder().setIndex(4).setName("\u043c\u043e\u043d."),Zn.builder().setIndex(5).setName("\u0438\u043d."),Zn.builder().setIndex(6).setName("\u043c\u0430\u0442."),Zn.builder().setIndex(7).setName("\u043f\u043e\u0441\u043b."),Zn.builder().setIndex(8).setName("\u043e\u0442\u0440."),Zn.builder().setIndex(9).setName("\u043c\u043b."),Zn.builder().setIndex(10).setName("\u0432.")];isKnownPrefix(a){let h=!1,d=f=>f.findIndex(p=>p.name===a)>=0;return h=h||d(this.prefixes),h=h||d(this.prefixesWiman),h=h||d(this.statuses),h=h||d(this.statusesWiman),h}getName(a){const h=a.split(/\s/),d=[];return h.forEach(f=>{this.isKnownPrefix(f)||d.push(f)}),d.join(" ")}getNameFrom(a,h){let d="";return h.forEach(f=>{f.index===a&&(d=f.name)}),d}getPrefixByName(a,h){return this.getIndexByName(a,h?this.prefixes:this.prefixesWiman)}getStatusByName(a,h){return this.getIndexByName(a,h?this.statuses:this.statusesWiman)}getPrefix(a,h=!0,d=!0){return this.getNameFrom(a,h?this.prefixes:this.prefixesWiman)}getStatus(a,h=!0,d=!0){return this.getNameFrom(a,d?h?this.statuses:this.statusesWiman:this.statusesDead)}getIndexByName(a,h){const d=a.split(/\s/);let f=0;return d.forEach(p=>{h.forEach(g=>{g.name===p&&f<g.index&&(f=g.index)})}),f}getPrefixedName(a){let h=a.split(/\s/),d="",f="",p=[...this.prefixes,...this.prefixesWiman,...this.statuses,...this.statusesWiman,...this.statusesDead];return h.forEach((g,m)=>{let v=m+1==h.length?"":" ";p.findIndex(_=>_.name==g)>=0?d+=g+v:f+=g+v}),new XU(d,f)}static \u0275fac=function(h){return new(h||c)};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class YU{labelSelected;labelNormal;noPrint;constructor(l="label-warning",a="label-success",h=!1){this.labelSelected=l,this.labelNormal=a,this.noPrint=h}static builder(){return new YU}setLabelSelected(l){return this.labelSelected=l,this}setLabelNormal(l){return this.labelNormal=l,this}setNoPrint(l){return this.noPrint=l,this}}class ka{text;tag;selected;getSpanClassDetector=Ha.builder();constructor(l,a,h){this.text=l,this.tag=a,this.selected=h}static builder(){return new ka("","",!1)}setText(l){return this.text=l,this}setTag(l){return this.tag=l,this}setSelected(l){return this.selected=l,this}}class hh extends ti{items;classes;warningMessage;constructor(l,a,h,d,f,p){super(l,h,d),this.items=a,this.classes=f,this.warningMessage=p}static builder(){return new hh("",[],null,null,YU.builder(),"")}setText(l){return super.setText(l)}setItems(l){return this.items=l,this}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}updateClasses(l){return l(this.classes),this}setWarningMessage(l){return this.warningMessage=l,this}}class qU{bookSettings=!0;calculatorSettings=!1;chessSettings=!1;memorialSettings=!1;compilerSettings=!1;constructor(){}static builder(){return new qU}clear(){this.bookSettings=!1,this.calculatorSettings=!1,this.memorialSettings=!1}setBookSettings(l){return l&&this.clear(),this.bookSettings=l,this}setCalculatorSettings(l){return l&&this.clear(),this.calculatorSettings=l,this}setChessSettings(l){return l&&this.clear(),this.chessSettings=l,this}setMemorialSettings(l){return l&&this.clear(),this.memorialSettings=l,this}setCompilerSettings(l){return l&&this.clear(),this.compilerSettings=l,this}}class ca extends ti{classes;constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new ca("",null,null,qU.builder().setBookSettings(!0))}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}updateClasses(l){return l(this.classes),this}}class KU{name;pvalue;onChange;constructor(l,a,h){this.name=l,this.pvalue=a,this.onChange=h}get value(){return this.pvalue}set value(l){this.pvalue=l,this.onChange&&this.onChange()}}let Yn=(()=>{class c{static OFFSET="\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435";static ORDER="\u043f\u043e\u0440\u044f\u0434\u043e\u043a";static STATUS="\u0441\u0442\u0430\u0442\u0443\u0441";static STATUS_LIVE="\u0436\u0438\u0432\u043e\u0439";static STATUS_LIVE_WOMAN="\u0436\u0438\u0432\u0430\u044f";static STATUS_DEAD="\u0443\u0441\u043e\u043f\u0448\u0438\u0439";static STATUS_DEAD_WOMAN="\u0443\u0441\u043e\u043f\u0448\u0430\u044f";static GENDER="\u043f\u043e\u043b";static GENDER_MAN="\u043c\u043e\u0436\u0441\u043a\u043e\u0439";static GENDER_WOMAN="\u0436\u0435\u043d\u0441\u043a\u0438\u0439";static REF_ID="\u0441\u0441\u044b\u043b\u043a\u0430";static TEXT="\u0442\u0435\u043a\u0441\u0442";static LABELS="\u043c\u0435\u0442\u043a\u0438";static UNION="\u043e\u0431\u044a\u0435\u0434\u0435\u043d\u0435\u043d\u043e";static TAGS="\u0442\u0435\u0433\u0438";static YES="\u0434\u0430";static NO="\u043d\u0435\u0442";properties=[];onChange=null;constructor(){}setOnChangeCallback(a){this.onChange=a}load(a){return this.properties=[],a.split(";").forEach(d=>{const f=d.split(":");if(2===f.length)this.properties.push(new KU(f[0].trim(),f[1].trim(),this.onChange));else if(1===f.length){let p=f[0].trim();if(p){let g=this.properties.findIndex(m=>m.name==c.TEXT);g>=0?this.properties[g].value+=p:this.properties.push(new KU(c.TEXT,p,this.onChange))}}}),this}toString(){let a="";return this.properties.forEach(h=>{h.value&&(a&&(a+=";"),a+=h.name+":"+h.value)}),a}pushNew(a,h){this.properties.push(new KU(a,h,this.onChange))}getValue(a,h){let d=null;return this.properties.forEach(f=>{f.name===a&&(d=f.value)}),d??(h?d:"")}setValue(a,h){let d=!1;this.properties.forEach(f=>{f.name===a&&(f.value=h,d=!0)}),d||this.pushNew(a,h)}getOffset(){const a=this.getValue(c.OFFSET);let h=a?+a:-1;return Number.isInteger(h)||(h=-1),h}isLive(){const a=this.getValue(c.STATUS,!0);return null==a?null:!(a===c.STATUS_DEAD||a===c.STATUS_DEAD_WOMAN)}isMan(){const a=this.getValue(c.GENDER,!0);return null==a?null:a!==c.GENDER_WOMAN}}return c})();class JU{constructor(){}static builder(){return new JU}}class eQ extends ti{classes;person;constructor(l,a,h,d,f){super(l,a,h),this.classes=d,this.person=f}static builder(){return new eQ("",null,null,JU.builder(),new Ii(-1,"","",-1,!0,""))}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}setPerson(l){return this.person=l,this}updateClasses(l){return l(this.classes),this}}class tQ{constructor(){}static builder(){return new tQ}}class ld extends ti{config;useDefault=!1;object={};fieldName="name";description="\u0418\u043c\u044f";description2="";shapes=[];readonly=!1;command=null;constructor(l,a,h,d){super(l,a,h),this.config=d}static builder(){return new ld("",null,null,tQ.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}setUseDefault(l){return this.useDefault=l,this}setObject(l){return this.object=l,this}setFieldName(l){return this.fieldName=l,this}setDescription(l){return this.description=l,this}setDescription2(l){return this.description2=l,this}setShapes(l){return this.shapes=l,this}setReadonly(l){return this.readonly=l,this}setCommand(l){return this.command=l,this}}class vf{name;key;shape;generated;constructor(l,a,h,d){this.name=l,this.key=a,this.shape=h,this.generated=d}static builder(){return new vf("","","",!1)}setName(l){return this.name=l,this}setKey(l){return this.key=l,this}setShape(l){return this.shape=l,this}setGenerated(l){return this.generated=l,this}}class nQ extends Qa{constructor(){super()}static builder(){return new nQ}}class yA extends ti{classes;infos;down=!0;fullScreen=!1;mainBtnText="+";constructor(l,a,h,d,f){super(l,a,h),this.classes=d,this.infos=f}static builder(){return new yA("",null,null,nQ.builder(),[])}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setInfos(l){return this.infos=l,this}setDown(l){return this.down=l,this}setFullScreen(l){return this.fullScreen=l,this}setMainBtnText(l){return this.mainBtnText=l,this}}class lht{index;include;constructor(l,a){this.index=l,this.include=a}setInclude(l){return this.include=!!l,this}}class cht{left;right;everyYear;constructor(l,a,h){this.left=l,this.right=a,this.everyYear=h}}class uht{date;month;year;constructor(l,a,h){this.date=l,this.month=a,this.year=h}}class hht{date;intervals;constructor(l,a){this.date=l,this.intervals=a}eventDate(l=0,a=0){let h=new Date;return h.setFullYear(+this.date.year+a,+this.date.month-1,+this.date.date),h.setDate(h.getDate()+l),h}isToday(){if(this.isTodayDate(this.eventDate()))return!0;let l=!1;return this.intervals.forEach(a=>{this.isTodayInterval(a)&&(l=!0)}),l}isTodayDate(l){let a=new Date;return l.getFullYear()==a.getFullYear()&&l.getMonth()==a.getMonth()&&l.getDate()==a.getDate()}isLess(l,a,h=!1){return!h&&l.getFullYear()<a.getFullYear()||!(!h&&l.getFullYear()>a.getFullYear())&&(l.getMonth()<a.getMonth()||!(l.getMonth()>a.getMonth())&&l.getDate()<a.getDate())}isEquals(l,a,h=!1){return(h||l.getFullYear()==a.getFullYear())&&l.getMonth()==a.getMonth()&&l.getDate()==a.getDate()}isTodayInterval(l){let a=l.everyYear?[-1,0,1]:[0],h=!1,d=new Date;return a.forEach(f=>{if(!h){let p=this.eventDate(0,f),g=this.eventDate(l.left.index,f),m=this.eventDate(l.right.index,f);if(g.getTime()>m.getTime()){let x=g;g=m,m=x}let v=l.everyYear&&g.getFullYear()<p.getFullYear(),_=l.everyYear&&m.getFullYear()>p.getFullYear(),y=this.isLess(g,d,l.everyYear),b=this.isLess(d,m,l.everyYear),O=l.left.include&&this.isEquals(g,d,l.everyYear),C=l.right.include&&this.isEquals(d,m,l.everyYear),S=y||O,w=b||C;(!v&&!_&&S&&w||(v||_)&&_!=v&&(w||S)||v&&_&&(!w||!S))&&(h=!0)}}),h}}class dht{newEvent(l,a){return new hht(l,a)}newEventDate(l,a,h){return new uht(l,a,h)}newDaysInterval(l,a,h){return new cht(l,a,h)}newDay(l,a){return new lht(l,a)}}let bA=(()=>{class c{parseEvent(a){return dateEventsParserStatic.parse(a,{builder:new dht})}isToday(a){let h=new Yn;h.load(a);let d=!1;return h.properties.forEach(f=>{if(!d)try{let p=this.parseEvent(f.value);p&&p.isToday()&&(d=!0)}catch{}}),d}static \u0275fac=function(h){return new(h||c)};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class fht{cacheMap=new Map;getter;constructor(l){this.getter=l}setGetter(l){return this.getter=l,this}getCachedResult(l,a,h,d){let f=this.cacheMap.get(l),p=f?.get(a),g=p?.get(h),m=g?.get(d);return null!=m||(m=this.getter(l,a,h,d),g||(g=new Map),g.set(d,m),p||(p=new Map),p.set(h,g),f||(f=new Map),f.set(a,p),this.cacheMap.set(l,f)),m}clear(){return this.cacheMap.clear(),this}}let Zp=(()=>{class c{authSvc;memorialsSvc;personsSvc;config;tagsSvc;dateEventsSvc;serviceReady=!1;personsCache=new fht((a,h,d,f)=>this.getChachedPersonsDirect(a,h,d,f));constructor(a,h,d,f,p,g){this.authSvc=a,this.memorialsSvc=h,this.personsSvc=d,this.config=f,this.tagsSvc=p,this.dateEventsSvc=g}getChachedPersonsDirect(a,h,d,f){let p=this.memorials?.items.find(m=>m.name==a),g=f.split(",").filter(m=>!!m);if(this.persons){let m=!!p&&this.tagsSvc.tagsHasFlag(p.tags,"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u043d\u044b\u0439"),v=!!p&&this.tagsSvc.tagsHasFlag(p.tags,"\u0431\u0435\u0437 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438"),_=this.persons.items;return h&&(_=_.filter(b=>null==d||d==b.live)),_.filter(b=>v||!p||!!this.tagsSvc.intersectTags(b.tags,p.tags)).filter(b=>{if(0==g.length)return!0;let O=!1,C=new Yn;C.load(b.description);let S=C.getValue(Yn.LABELS);if(S){let w=S.split(",").filter(x=>!!x);for(let x=0;x<g.length;x++)if(w.includes(g[x])){O=!0;break}}return O}).filter(b=>!m||this.dateEventsSvc.isToday(b.description))}return[]}get isReady(){return this.serviceReady}setup(a){this.doLogin(a)}doLogout(){this.authSvc.isLoggedIn().then(a=>{a.result?this.authSvc.logout().then(h=>{this.serviceReady=!1,this.config.authId=""}):(this.serviceReady=!1,this.config.authId="")})}reloadMemorials(a){this.memorialsSvc.reloadMemorials(h=>{h&&this.personsSvc.reloadPersons(),a&&a(this.serviceReady)})}doLogin(a){this.authSvc.isLoggedIn().then(h=>{h.result?(this.serviceReady=!0,this.reloadMemorials(a)):this.authSvc.login().then(d=>{if(d.result){let f="hramvkostino",p="hramvkostino";this.authSvc.requestForUser(f,p).then(g=>{this.serviceReady=g.valid,this.config.authId=g.authId,this.config.authBody=btoa(f+":"+p),this.reloadMemorials(a)})}})})}get memorials(){return this.memorialsSvc.getMemorials()}get persons(){return this.personsSvc.getPersonsDirect()}getAuth(){return this.authSvc}getMemorials(){return this.memorialsSvc}getPersons(){return this.personsSvc}static \u0275fac=function(h){return new(h||c)(Ee(fu),Ee(Cb),Ee(Xh),Ee(Zt),Ee(fo),Ee(bA))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class iQ{static builder(){return new iQ}newLine(){return aQ.builder()}newMemorial(){return oQ.builder()}newComment(){return sQ.builder()}}var Tm=function(c){return c[c.Memorial=0]="Memorial",c[c.Line=1]="Line",c[c.Comment=2]="Comment",c}(Tm||{});class rQ{type;constructor(l){this.type=l}toString(){return""}}class sQ extends rQ{text;constructor(l){super(Tm.Comment),this.text=l}static builder(){return new sQ("")}setText(l){return this.text=l,this}toString(){return`/*${this.text}*/`}}class oQ extends rQ{name;tags;constructor(l,a){super(Tm.Memorial),this.name=l,this.tags=a}static builder(){return new oQ("","")}setName(l){return this.name=l,this}setTags(l){return this.tags=l,this}toString(){return`[${this.name}${this.tags?":"+this.tags:""}]`}}class aQ extends rQ{name;description;offset;live;constructor(l,a,h,d){super(Tm.Line),this.name=l,this.description=a,this.offset=h,this.live=d}static builder(){return new aQ("","",-1,!0)}setName(l){return this.name=l,this}setDescription(l){return this.description=l,this}setOffset(l){return this.offset=l,this}setLive(l){return this.live=l,this}toString(){return`${this.name}(${this.description?this.description:""})${null!=this.offset&&this.offset>=0?" "+this.offset:""}${this.live?"":" \u0443\u0441\u043e\u043f\u0448\u0438\u0439"}`}}class E1e{static parse(l){return personsParserStatic.parse(l,{builder:iQ.builder()})}}class jp{value;simbol;static newFrom(l){return new jp(l.name,l.value)}names=null;get name(){return this.names?this.names.join(":"):""}set name(l){this.names=[l]}constructor(l,a,h='"'){this.value=a,this.simbol=h,this.names=[l],this.value=a}toString(){return this.name+"="+this.simbol+this.value+this.simbol}}class P1e{prefix;prettyPrint;offset=0;constructor(l="  ",a=!0){this.prefix=l,this.prettyPrint=a}incOffset(){return++this.offset,this.getOffset()}decOffset(){return--this.offset,this.getOffset()}getOffset(){let l="";for(let a=0;a<this.offset;++a)l+=this.prefix;return l}}class Wa{name;attributes;children;text;static newFrom(l){const a=[];l.attributes&&l.attributes.forEach(d=>{a.push(jp.newFrom(d))});const h=[];return l.children&&l.children.forEach(d=>{h.push(Wa.newFrom(d))}),new Wa(l.name,a,h,l.text)}constructor(l,a,h,d){this.name=l,this.attributes=a,this.children=h,this.text=d,this.name=l,this.attributes=a,this.children=h,this.text=d}setAttributes(l){return this.attributes=l,this}setChildren(l){return this.children=l,this}toString(l=null){let a="";if(this.name&&(a+="<"+this.name,this.attributes&&this.attributes.forEach(h=>{a+=" "+h.toString()}),a+=">"),this.children&&this.children.length){let h=this.children.length>1||!!this.children[0].name;this.children.forEach(d=>{h&&l?.prettyPrint&&(a+="\r\n",a+=l.incOffset()),a+=d.toString(l),h&&l?.prettyPrint&&l.decOffset()}),h&&l?.prettyPrint&&(a+="\r\n",a+=l.getOffset())}return a+=this.name?"</"+this.name+">":this.text,a}}let A1e=(()=>{class c{parseXml(a){const h=xmlParserStatic.parse(a),d=[];return h.forEach(f=>{d.push(Wa.newFrom(f))}),d}static \u0275fac=function(h){return new(h||c)};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class I1e{person;props;constructor(l,a){this.person=l,this.props=a}}class lQ{memorial;lines;constructor(l,a){this.memorial=l,this.lines=a}static builder(){return new lQ(null,[])}setMemorial(l){return this.memorial=l,this}setLines(l){return this.lines=l,this}addLine(l){return this.lines.push(l),this}toString(){return`${this.memorial?.toString()}\n${this.lines.map(l=>l.toString()).join("\r\n")}`}}let cQ=(()=>{class c{mems;ks;config;uiConfig;xml;nameSvc;constructor(a,h,d,f,p,g){this.mems=a,this.ks=h,this.config=d,this.uiConfig=f,this.xml=p,this.nameSvc=g}addPersons(a,h,d,f=!0,p=null,g=0,m=1){try{this.addPersonsDirect(a,h,d,f,p)}catch(v){this.config.addAlert(new Bi("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0441\u043e\u043d\u044b: "+v,"OK",180)),p&&p()}}previewPersons(a){const h=E1e.parse(a);let d=[],f=null;return h.forEach(p=>{switch(p.type){case Tm.Memorial:{let g=p;f=lQ.builder().setMemorial(g),d.push(f)}break;case Tm.Line:{let g=p;f?.addLine(g)}}}),d}addPersonsDirect(a,h,d,f=!0,p=null,g=0,m=1){const v=E1e.parse(h);let _=[],y="",b=new Map,O=this.mems.getActivePredefinedMemorialsRaw(),C=!1;v.forEach(S=>{switch(S.type){case Tm.Memorial:y=S.name,C=null!=O.find(x=>x==y);break;case Tm.Line:{let w=S,x=a(y);if(x>=0){const T=new Yn;T.load(w.description?w.description:"");const D=T.getOffset(),k=w.live||T.isLive();T.setValue(Yn.ORDER,""),T.setValue(Yn.OFFSET,""),T.setValue(Yn.STATUS,""),T.setValue(Yn.UNION,"");let P=d(y);{let U=T.getValue(Yn.TAGS);U&&U.split(",").forEach(ee=>{let te=ee.trim();te&&(P=fo.addTagsToTags(P,te))})}let N=T.getValue(Yn.REF_ID);T.setValue(Yn.REF_ID,"");const F=new Lqe(x,-1,w.name,T.toString(),D,k??!1,P);let L=!1,$=U=>{let z,ee=this.getNormalName(F.name);if(b.forEach(te=>{ee==this.getNormalName(te.person.name)&&T.getValue(Yn.TEXT)&&T.getValue(Yn.TEXT)===te.props.getValue(Yn.TEXT)&&(z=te.person)}),z){if(!fo.tagsHasFlag(z.tags,y)){z.name=this.mergeNames(z.name,F.name),z.tags=fo.toggleTagInTags(z.tags,y);const te=new Yn;te.load(z.description),te.getValue(Yn.UNION)!=Yn.YES&&te.setValue(Yn.UNION,Yn.YES),z.description=te.toString(),L=!0}}else b.set(U||"#"+b.size,new I1e(F,T))};if(N)if(b.has(N)){let U=b.get(N);U&&(U.person.tags=fo.addTagsToTags(U.person.tags,y)),L=!0}else b.set(N,new I1e(F,T));else this.uiConfig.ui.mergeNameOnImport.getBooleanValue()&&$("");!L&&!C&&_.push(F)}}}}),this.addPersonsByPersons(_,p)}addPersonsByPersons(a=[],h=null){a.length?this.ks.newPersons(a).then(d=>{setTimeout(()=>{this.config.addAlert(d&&d.success?new Bi("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e: "+a.length+` ${c.getWordName(a.length)}.`,"OK",30):new Bi("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0439 \u043f\u0435\u0440\u0441\u043e\u043d\u044b: "+(d?d.error:"?"),"OK",180)),h&&h()},0)},d=>{this.config.addAlert(new Bi("\u041e\u0448\u0438\u0431\u043a\u0430: "+d,"OK",180))}):(this.config.addAlert(new Bi("\u041f\u0435\u0440\u0441\u043e\u043d \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e.","OK",60)),h&&h())}static getWordName(a){let h="";switch(Math.floor(a%10)){case 1:h="\u0438\u043c\u044f";break;case 2:case 3:case 4:h="\u0438\u043c\u0435\u043d\u0438";break;default:h="\u0438\u043c\u0451\u043d"}return h}addPersonsOld(a,h,d,f=!0,p=null,g=0,m=1){const v=personsParserStatic.parse(h),_={i:0,memorialName:""},y=new Yn;this.config.waitingIOOperationValueMax=v.length*m;const b=O=>{if(this.config.waitingIOOperationValue=_.i+v.length*g,O&&!O.success)return this.config.addAlert(new Bi(O.error,"OK",30)),this.endIOWaiting(),void p?.();if(_.i>=v.length)this.endIOWaiting(),p?.();else{const C=v[_.i];if(++_.i,void 0!==C.memorial)_.memorialName=C.memorial,setTimeout(()=>{b(O)},0);else if(void 0===C.comment){let S=a(_.memorialName);if(S>=0){y.load(C.description?C.description:"");const w=y.getOffset(),x=C.live||y.isLive();y.setValue(Yn.ORDER,""),y.setValue(Yn.OFFSET,""),y.setValue(Yn.STATUS,"");const T=new Ii(-1,C.name,y.toString(),w,x,d(_.memorialName));this.ks.newPerson(S,T).then(D=>{setTimeout(()=>{b(D)},0)},D=>{setTimeout(()=>{b(null)},0)})}else setTimeout(()=>{b(O)},0)}else b(null)}};b(null),this.beginIOWaiting(f,v.length*g)}beginIOWaiting(a,h=0){this.config.incWaitingIO(),this.config.waitingIOOperationValue=h}endIOWaiting(){this.config.decWaitingIO()}onChildren(a,h){a&&a.forEach(d=>{h&&h(d)})}getTextFromTag(a){let h="";return a&&(a.text?h+=a.text:a.children.forEach(d=>{d.text&&(h+=d.text)})),h}onAttribute(a,h,d){a&&a.forEach(f=>{f.name===h&&d&&d(f)})}sortByOrd(a){let h=[];return h=a.slice(0),h.sort((d,f)=>{let p=0,g=0;return this.onAttribute(d.attributes,"ord",m=>{p=+m.value}),this.onAttribute(f.attributes,"ord",m=>{g=+m.value}),p-g}),h}readTagAsText(a){let h=a.text?a.text:"";return this.onChildren(a.children,d=>{h+=this.readTagAsText(d)}),h}convertRecord(a,h){if("record"!==a.name)return"";let d="",f="",p="",g=!0,m="";if(this.onAttribute(a.attributes,"gender",v=>{g="true"===v.value}),this.onAttribute(a.attributes,"prefix",v=>{m=this.nameSvc.getPrefix(+v.value,g,h)}),this.onAttribute(a.attributes,"status",v=>{let _=this.nameSvc.getStatus(+v.value,g,h);_&&(m=_+(m&&" "+m))}),this.onChildren(a.children,v=>{"name"===v.name?f=this.readTagAsText(v):"comment"===v.name&&(p=this.readTagAsText(v))}),f){m&&(d+=m+" "),d+=f+"([";const v=new Yn;v.load(p),v.setValue(Yn.GENDER,g?"":Yn.GENDER_WOMAN),d+=v.toString()+"])",h||(d+=" "+(g?Yn.STATUS_DEAD:Yn.STATUS_DEAD_WOMAN))}return d&&(d+="\n"),d}convertMemorial(a){let h="",d=!0;return this.onAttribute(a.attributes,"health",f=>{d="true"===f.value}),this.onChildren(a.children,f=>{"records"===f.name&&this.onChildren(this.sortByOrd(f.children),p=>{h+=this.convertRecord(p,d)})}),h}convertXmlToString(a){const h=this.xml.parseXml(a);return this.convertTagsToString(h)}convertTagsToString(a){let h="";return a.forEach(d=>{"memorials"===d.name&&this.onChildren(d.children,f=>{let p="";this.onChildren(f.children,g=>{"notes"===g.name&&(p=this.readTagAsText(g))}),f.children.forEach(g=>{"name"===g.name&&(h+="["+this.getTextFromTag(g)+(p?":"+p:"")+"]\n")}),h+=this.convertMemorial(f)})}),h}getNormalName(a){let h=!1;return a.split(/[ \t\r\n]+/).map(f=>f.trim()).filter(f=>!!f).filter(f=>h?"":(h=h||!f.endsWith("."),f)).filter(f=>!!f).join(" ")||a}getPrefixes(a){let h=!1;return a.filter(d=>h||(h=h||!d.endsWith("."))?"":d).filter(d=>!!d)}getName(a){let h=!1;return a.filter(d=>h?"":(h=h||!d.endsWith("."))?d:"").filter(d=>!!d)}getPostfixes(a){let h=!1;return a.filter(d=>h?d:(h=h||!d.endsWith("."),"")).filter(d=>!!d)}mergeNames(a,h){let d=a.split(/[ \t\r\n]+/).map(O=>O.trim()).filter(O=>!!O),f=h.split(/[ \t\r\n]+/).map(O=>O.trim()).filter(O=>!!O),p=this.getPrefixes(d).join(" "),g=this.getName(d).join(" "),m=this.getPostfixes(d).join(" "),v=this.getPrefixes(f).join(" "),_=this.getName(f).join(" "),y=this.getPostfixes(f).join(" ");if(g!=_||p!=v)throw new Error(`\u041d\u0435 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0435\u043c\u044b\u0435 \u0438\u043c\u0435\u043d\u0430: '${a}' != '${h}'.`);let b=[];return p&&b.push(p),g&&b.push(g),(m||y)&&(m?(b.push(m),y&&!m.includes(y)&&b.push(y)):y&&b.push(y)),b.join(" ")}static \u0275fac=function(h){return new(h||c)(Ee(Cb),Ee(Xh),Ee(Zt),Ee(wn),Ee(A1e),Ee(_A))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),R1e=(()=>{class c{config;memXmlLoader;text="";memName="";constructor(a,h){this.config=a,this.memXmlLoader=h}onLoadAnyFile(a,h,d){this.memName=h,a.name.toLowerCase().endsWith(".csv")||a.name.toLowerCase().endsWith(".tsv")?this.onLoadXsvFile(a,d):this.onLoadXmlFile(a,d)}convertXsvToString(a,h,d=!0){let f=(b,O)=>{let C=b.split(O);for(let S=0;S<C.length;S++)C[S]=C[S].trim();return C},g=f(a,"\n"),m=0,v="",_=[],y=[];{let b=f(g[m],h);if(2!=b.length||"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"!=b[0]||"\u0422\u0435\u0433\u0438"!=b[1])return this.config.addAlert(new Bi("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0443 \u0444\u0430\u0439\u043b\u0430.","OK",180)),"";for(++m;g.length>m&&g[m];){b=f(g[m++],h);let O=b[0].trim(),C=b[1].trim();y.push(O),_.push(C),d&&(v+=`[${O}${C?":"+C:""}]\r\n`)}if(++m,b=f(g[m++],h),5!=b.length||"\u0418\u043c\u044f"!=b[0]||"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"!=b[1]||"\u0421\u0442\u0430\u0442\u0443\u0441"!=b[2]||"\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435"!=b[3]||"\u0422\u0435\u0433\u0438"!=b[4])return this.config.addAlert(new Bi("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0443 \u0444\u0430\u0439\u043b\u0430.","OK",180)),"";for(d&&(v+="[\u0432\u0441\u0435]\r\n");g.length>m&&g[m];){b=f(g[m++],h);let O=b[4].split(","),C=!1;if(O&&O.forEach(T=>{(!this.memName||T==this.memName)&&(C=!0)}),!C)continue;v+=b[0],v+="(";let w=b[1];+b[3]>=0&&(b[1]&&(w+=";"),w+=Yn.OFFSET+":",w+=b[3]),w.length!=v.length&&(w+=";");let x=new Yn;x.load(w),x.setValue(Yn.TAGS,b[4]),v+=x.toString(),v+=")",b[2].toLowerCase()===Yn.STATUS_LIVE||b[2].toLowerCase()===Yn.STATUS_LIVE_WOMAN||(v+=" "+Yn.STATUS_DEAD),v+="\r\n"}}return v}onLoadXsvFile(a,h){if(!a)return;const d=new FileReader;d.onload=f=>{try{this.text=this.convertXsvToString(d.result.toString(),a.name.toLowerCase().endsWith(".csv")?";":"\t")}catch(p){this.config.addAlert(Bi.of("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0444\u0430\u0439\u043b: "+p,"OK",30))}h&&h(this.text)},d.readAsText(a)}makeHtml(a){return a.replace(/(?:\r\n|\r|\n)/g,"<br />\n")}onLoadXmlFile(a,h){if(!a)return;const d=new FileReader;d.onload=f=>{try{let p=a.name.toLowerCase().endsWith(".xml");this.text=p?this.memXmlLoader.convertXmlToString(d.result.toString()):d.result.toString()}catch(p){this.config.addAlert(Bi.of("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0444\u0430\u0439\u043b: "+p,"OK",30))}h&&h(this.text)},d.readAsText(a)}static \u0275fac=function(h){return new(h||c)(Ee(Zt),Ee(cQ))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class OA{repeatCount;firstMemorialName;constructor(l,a){this.repeatCount=l,this.firstMemorialName=a}static builder(){return new OA(0,"")}setRepeatCount(l){return this.repeatCount=l,this}setFirstMemorialName(l){return this.firstMemorialName=l,this}}let CA=(()=>{class c{dataSvc;constructor(a){this.dataSvc=a}getRepeatCountAndFirstMemorial(a){if(null==this.dataSvc.memorials)return OA.builder();let h=fo.removeModificators(a).split(","),d=this.dataSvc.memorials.items.map(p=>p.name),f=h.map(p=>({t:p,i:d.indexOf(p)})).filter(p=>p.i>=0);return 1==f.length&&(f=[]),f.sort((p,g)=>p.i-g.i),OA.builder().setRepeatCount(f.length).setFirstMemorialName(f.length?f[0].t:"")}static \u0275fac=function(h){return new(h||c)(Ee(Zp))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class pht{memorial;setName;getName;constructor(l,a,h){this.memorial=l,this.setName=a,this.getName=h}}let L1e=(()=>{class c{mems;nameSvc;repeatCounterSvc;uiConfig;constructor(a,h,d,f){this.mems=a,this.nameSvc=h,this.repeatCounterSvc=d,this.uiConfig=f}getMemorialsXmlString(a,h,d,f=!1){let p="<?xml version='1.0' encoding='UTF-8' ?>\n",g=null;h.forEach((v,_)=>{let y=this.generateMemorials(a,v,d[_],f);y&&(null==g?g=y:g.children.push(...y.children))}),null==g&&(g=new Wa("memorials",[],[],""));let m=new P1e;return p+=g.toString(m),p}getPersonsXmlString(a,h,d,f=!1){let p="<?xml version='1.0' encoding='UTF-8' ?>\n",g=this.generateMemorials(a,h,d,f),m=new P1e;return p+=g.toString(m),p}generateMemorials(a,h,d,f=!1){let p=new Wa("memorials",[],[],""),g=[],m=v=>{v&&v.memorial.children.length&&(p.children.push(v.memorial),g.push(v))};return m(this.getMemorial(a,h,d,!0,1,!0,f)),m(this.getMemorial(a,h,d,!1,2,!0,f)),p}getDescription(a,h,d=!1,f="",p=!1){const g=new Yn;g.load(a.description),g.setValue(Yn.OFFSET,a.offset<0?"":""+a.offset),g.setValue(Yn.ORDER,""),g.setValue(Yn.TAGS,""),g.setValue(Yn.STATUS,""),d&&g.setValue(Yn.GENDER,""),g.setValue(Yn.REF_ID,f||"");let m=g.getValue(Yn.TEXT);return p?m||"":g.toString()}getMemorial(a,h,d,f,p,g=!0,m=!1){const v=h;let _=null,y=new Wa("memorial",[new jp("health",""+f),new jp("ord",""+p)],[new Wa("name",[],[_=new Wa("",[],[],v||"\u0432\u0441\u0435")],""),new Wa("notes",[],[new Wa("",[],[],m?"":d)],"")],""),b=new Wa("records",[],[],"");y.children.push(b);let C=this.mems.getActivePredefinedMemorialsRaw();return a.filter(S=>!h||fo.tagsHasFlag(S.tags,h)).forEach((S,w)=>{const x=S.tags.split(",");let T=!1;if(x.forEach(D=>{null==C.find(k=>k==D)&&(T=!0)}),T&&S.live===f){let D=this.isMan(S),k=this.repeatCounterSvc.getRepeatCountAndFirstMemorial(S.tags),P=this.uiConfig.ui.addCommentToName.getBooleanValue()&&this.uiConfig.ui.addRepeatCommentToName.getBooleanValue(),N=k.repeatCount,F=P&&k.repeatCount>0&&h!=k.firstMemorialName,L=this.nameSvc.getName(S.name);b.children.push(this.newRecord((F?"-":"")+L+(P&&N>0?(L?" ":"")+N:""),D,w+1,this.nameSvc.getStatusByName(S.name,D),this.nameSvc.getPrefixByName(S.name,D),this.getDescription(S,w,!0,(S=>{let w=a.findIndex(x=>x===S);return w>=0?""+w:""})(S),m)))}}),g||b.children.length>0?new pht(y,S=>{_&&(_.text=S)},()=>_?_.text:""):null}isMan(a){const h=new Yn;h.load(a.description);let d=h.isMan();return null==d||d}newRecord(a,h,d,f,p,g){return new Wa("record",[new jp("gender",`${h}`),new jp("ord",`${d}`),new jp("status",`${f}`),new jp("prefix",`${p}`)],[new Wa("name",[],[new Wa("",[],[],`${a}`)],""),new Wa("comment",[],[new Wa("",[],[],`${g}`)],"")],"")}static \u0275fac=function(h){return new(h||c)(Ee(Cb),Ee(_A),Ee(CA),Ee(wn))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class ght{xsv;text="";useSeparator=!1;constructor(l){this.xsv=l}print(l,a=!0){return a&&(this.useSeparator?this.text+=this.xsv:this.useSeparator=!0),this.text+=l,this}println(l,a=!0){return this.print(l,a),this.text+="\r\n",this.useSeparator=!1,this}}let N1e=(()=>{class c{constructor(){}getMemorialsString(a,h,d,f=";"){let p=new ght(f);return p.print("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),p.print("\u0422\u0435\u0433\u0438"),p.println("",!1),h.forEach((g,m)=>{g&&(p.print(g),p.print(d[m]),p.println("",!1))}),p.println("",!1),p.print("\u0418\u043c\u044f"),p.print("\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"),p.print("\u0421\u0442\u0430\u0442\u0443\u0441"),p.print("\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435"),p.print("\u0422\u0435\u0433\u0438"),p.println("",!1),a.filter(g=>{if(!h)return!0;let m=!1;return h.forEach(v=>{fo.tagsHasFlag(g.tags,v)&&(m=!0)}),m}).forEach((g,m)=>{g.tags.split(","),p.print(g.name);let _=new Yn;_.load(g.description),_.setValue(Yn.TAGS,""),_.setValue(Yn.REF_ID,""),p.print(_.toString()),p.print(g.live?"\u0416\u0438\u0432\u043e\u0439":"\u0423\u0441\u043e\u043f\u0448\u0438\u0439"),p.print(""+g.offset);let y=fo.removeTag(g.tags,"\u0432\u0441\u0435");p.print(y),p.println("",!1)}),p.text}static \u0275fac=function(h){return new(h||c)};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();var Gx=function(c){return c[c.Begining=-1]="Begining",c[c.Tropari=-2]="Tropari",c[c.GospodiPomily=-3]="GospodiPomily",c[c.Molitva=-4]="Molitva",c}(Gx||{});class mht{link;name;kafizma;psalom;constructor(l,a,h,d){this.link=l,this.name=a,this.kafizma=h,this.psalom=d}isPsalom(){return this.psalom>0}isBegining(){return this.psalom===Gx.Begining}isTropari(){return this.psalom===Gx.Tropari}isGospodiPomiluy(){return this.psalom===Gx.GospodiPomily}isMolitva(){return this.psalom===Gx.Molitva}}class vht{kafizma;psalom;add;filter;constructor(l,a,h,d){this.kafizma=l,this.psalom=a,this.add=h,this.filter=d}}let uv=(()=>{class c{psSvc;uiConfig;config;kvSvc;http;themeSvc;items=[];audio=null;current=null;playList=[];playRunning=!1;currentAudioValue=-1;currentAudioValueId=0;restPoint="/";control;constructor(a,h,d,f,p,g){this.psSvc=a,this.uiConfig=h,this.config=d,this.kvSvc=f,this.http=p,this.themeSvc=g,this.setAudioDir(g.getAudioRootFolder(),()=>{}),this.control=this.getAudioSubscription(!0)}setAudioDir(a,h){let d="audioDir";this.kvSvc.findKey(d,f=>{f&&f.success?this.kvSvc.updateKey(uu.of(d,a),p=>{h&&h(p?p.error:null)}):this.kvSvc.insertKey(uu.of(d,a),p=>{h&&h(p?p.error:null)})})}setUpdateDir(a,h){let d="updateDir";this.kvSvc.findKey(d,f=>{f&&f.success?this.kvSvc.updateKey(uu.of(d,a),p=>{h&&h(p?p.error:null)}):this.kvSvc.insertKey(uu.of(d,a),p=>{h&&h(p?p.error:null)})})}ngOnDestroy(){this.stop()}autoPlay(){if(this.playList.length){const a=this.playList.shift();if(a){this.playRunning=!0;let h=(d,f)=>{let p=this.uiConfig.downloadAudioFile(d,"translation"+this.toString(""+this.currentAudioValue,3));p||(f=!0);let g=()=>{this.audio=new Audio(f?d:this.getPlayedLink(d)),this.audio.onended=()=>{this.autoPlay()},f||(this.audio.onerror=m=>{h(a.link,!0)});try{this.audio.play()}catch{}this.current=a};p?this.setAudioDir(p,()=>{g()}):g()};h(a.link,this.config.isMemoryServerType())}else this.playRunning=!1}else this.playRunning=!1}getUIAudioValue(){let a=1;try{a=+this.uiConfig.ui.audioValue.getStringValue()}catch{a=1}return(a<1||a>10)&&(a=1),a}reload(a,h=!1){let d=this.getUIAudioValue();if(d!==this.currentAudioValue&&(h=!0),!h&&this.items.length>0)a&&a();else{this.items=[],this.currentAudioValue=d;let f=++this.currentAudioValueId,p="audio/CS/"+this.toString(""+this.currentAudioValue,3)+".txt";this.psSvc.getText(p,g=>{if(f==this.currentAudioValueId)return g?(JSON.parse(g).forEach(v=>{this.items.push(new mht(v.link,v.name,+v.kafizma,+v.psalom))}),void(a&&a())):(this.config.addAlert(Bi.of("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d: "+this.currentAudioValue,"Ok",15)),void(a&&a()));this.config.post(()=>{a&&a()})})}}isStarted(){return!!this.audio}isPlaying(a=!1){return this.audio&&!this.audio.paused||a&&this.playRunning}isNextExists(a=!1){return this.playList.length>0}currentName(){return this.current?this.current.name:""}startCheckUI(a,h,d,f,p){let g=this.uiConfig.ui.audioValue.getStringValue();if(g&&"0"!=g)return this.start(a,h,d,f,p)}start(a,h,d,f,p){let g=this.startDirect(h,d,f,p);a&&a(g)}startDirectRaw(a,h,d,f,p){f||(this.playList=[]),this.items.forEach(g=>{(h<0||g.kafizma===h)&&(d<-5||g.psalom===d)&&(!p||p(g.psalom))&&this.playList.push(g)}),a&&(!f||!this.isPlaying(!0))&&(this.isPlaying(!0)&&!f&&this.stop(),this.autoPlay())}startRequests=[];startRequestsId=0;startDirect(a,h,d,f){const p=a<0&&h<0;let g=++this.startRequestsId;return this.startRequests.push(new vht(a,h,d,f)),p||this.reload(()=>{if(g==this.startRequestsId){let m=this.startRequests;this.startRequests=[],m.forEach((v,_)=>this.startDirectRaw(_+1==m.length,v.kafizma,v.psalom,v.add,v.filter))}}),this.getAudioSubscription(p)}getAudioSubscription(a){const h=this;return new class d{close(p){return(!a||p)&&h.stop(),this}currentName(){return h.currentName()}isPlaying(){return h.isPlaying()}isStarted(){return h.isStarted()}isNextExists(){return h.isNextExists()}next(){return h.stop(),h.autoPlay(),this}pause(){return h.pause(),this}resume(){return h.resume(),this}}}next(){this.stop(),this.autoPlay()}stop(){this.audio&&(this.audio.pause(),this.audio.currentTime=0,this.audio=null,this.current=null,this.playRunning=!1)}pause(){this.audio&&this.audio.pause()}resume(){this.audio&&this.audio.play()}getRestPoint(a,h){return pi.merge(pi.merge(h||this.config.serviceAPIHost,this.restPoint),a)}getRestPointRaw(a,h){return pi.merge(h||this.config.serviceAPIHost,a)}toString(a,h){for(;a.length<h;)a="0"+a;return a}getPlayedLink(a){let h=a.split("/"),d=h[h.length-1];return this.getRestPointRaw(pi.merge("/audio/audio/translation"+this.toString(""+this.currentAudioValue,3),d),null)}downloadAll(a,h){let d=[];this.items.forEach(g=>{d.push(g.link)});let f=0;a(.01);let p=()=>{this.config.post(()=>{if(f>=d.length)return a(100),void h();let g=d[f++];this.uiConfig.downloadAudioFile(g,"translation"+this.toString(""+this.currentAudioValue,3)),a((f+1)/d.length*100),p()},100)};p()}deleteAudioAll(a,h){this.config.post(()=>{this.uiConfig.deleteAudioTranslation(a),h&&h()},100)}downloadAllUrls(a){var h=document.createElement("a");h.setAttribute("download",""),h.style.display="none",document.body.appendChild(h);for(var d=0;d<a.length;d++)h.setAttribute("href",a[d]),h.click();document.body.removeChild(h)}exists(a,h){this.http.get(this.getRestPoint("/exists/audio/"+a,null),{}).pipe(vr(Ui.handleError)).subscribe({next:f=>{h(f,null)},error:f=>{h(null,""+f)}})}static \u0275fac=function(h){return new(h||c)(Ee(Jl),Ee(wn),Ee(Zt),Ee(R9),Ee(hu),Ee(Ys))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();function _ht(c,l){if(1&c){const a=Ae();E(0,"button",4),Y("click",function(d){const p=ce(a).$implicit;return ue(Q(2).onCommand(d,p))}),se(1,"cds-icon"),M()}if(2&c){const a=l.$implicit;I(1),Je("shape",a)}}function yht(c,l){if(1&c){const a=Ae();E(0,"clr-input-container")(1,"label"),H(2),X(3,_ht,2,1,"button",2),M(),E(4,"input",3),Y("ngModelChange",function(d){return ce(a),ue(Q().objectFieldName=d)}),M()()}if(2&c){const a=Q();I(2),ut(a.description),I(1),R("ngForOf",a.shapes),I(1),R("readOnly",a.readonly)("placeholder",a.description2)("name",a.fieldName)("ngModel",a.objectFieldName)}}function bht(c,l){if(1&c){const a=Ae();E(0,"button",4),Y("click",function(d){const p=ce(a).$implicit;return ue(Q(2).onCommand(d,p))}),se(1,"cds-icon"),M()}if(2&c){const a=l.$implicit;I(1),Je("shape",a)}}function Oht(c,l){if(1&c){const a=Ae();E(0,"clr-input-container",5)(1,"label"),H(2),X(3,bht,2,1,"button",2),M(),E(4,"input",3),Y("ngModelChange",function(d){return ce(a),ue(Q().objectFieldName=d)}),M()()}if(2&c){const a=Q();I(2),Kt("",a.description," "),I(1),R("ngForOf",a.shapes),I(1),R("readOnly",a.readonly)("placeholder",a.description2)("name",a.fieldName)("ngModel",a.objectFieldName)}}let Gp=(()=>{class c{config;data=ld.builder();changed=new Tt;get textEditorData(){return this.data}get useDefault(){return this.textEditorData.useDefault}set useDefault(a){this.textEditorData.setUseDefault(a)}get description(){return this.textEditorData.description}set description(a){this.textEditorData.setDescription(a)}get description2(){return this.textEditorData.description2?this.textEditorData.description2:this.textEditorData.description}set description2(a){this.textEditorData.setDescription2(a)}get shapes(){return this.textEditorData.shapes}set shapes(a){this.textEditorData.setShapes(a)}get readonly(){return this.textEditorData.readonly}set readonly(a){this.textEditorData.setReadonly(a)}get object(){return this.textEditorData.object}set object(a){this.textEditorData.setObject(a)}get fieldName(){return this.textEditorData.fieldName}set fieldName(a){this.textEditorData.setFieldName(a)}set command(a){this.textEditorData.setCommand(a)}get objectFieldName(){return this.object[this.fieldName]}set objectFieldName(a){this.object[this.fieldName]=a,this.onChanged()}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a){this.config=a}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}onCommand(a,h){this.textEditorData.command&&this.textEditorData.command(this.object,this.fieldName,h),a.stopPropagation()}onChanged(){this.changed.emit(this.objectFieldName)}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-text-editor"]],inputs:{data:"data",useDefault:"useDefault",description:"description",description2:"description2",shapes:"shapes",readonly:"readonly",object:"object",fieldName:"fieldName",command:"command"},outputs:{changed:"changed"},decls:2,vars:2,consts:[[4,"ngIf"],["class","",4,"ngIf"],["class","btn btn-link btn-sx",3,"click",4,"ngFor","ngForOf"],["clrInput","",3,"readOnly","placeholder","name","ngModel","ngModelChange"],[1,"btn","btn-link","btn-sx",3,"click"],[1,""]],template:function(h,d){1&h&&(X(0,yht,5,6,"clr-input-container",0),X(1,Oht,5,6,"clr-input-container",1)),2&h&&(R("ngIf",d.useDefault),I(1),R("ngIf",!d.useDefault))},dependencies:[Gn,mn,Vn,Lr,zp,pf,za,sa,Fo],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}.divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();class uQ{constructor(){}static builder(){return new uQ}}class hQ extends ti{config;slava=0;container={};fieldName="slava";constructor(l,a,h,d){super(l,a,h),this.config=d}static builder(){return new hQ("",null,null,uQ.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}setSlava(l){return this.slava=l,this}setContainer(l){return this.container=l,this}setFieldName(l){return this.fieldName=l,this}}function Cht(c,l){if(1&c){const a=Ae();E(0,"div",7)(1,"a",8),Y("click",function(){return ue(ce(a).$implicit.runOnClick())}),se(2,"cds-icon",9),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("ngClass",h.getAlertActionClass(!1))("hidden",!a.enabled),I(1),Je("shape",a.shape?a.shape:"cog")("badge",a.badge)("solid",a.solid)}}function Sht(c,l){1&c&&se(0,"cds-icon",11),2&c&&Je("shape",Q(3).errorsData.classes.alertShape)}function wht(c,l){if(1&c){const a=Ae();E(0,"span"),X(1,Sht,1,1,"cds-icon",10),E(2,"span",2),Y("click",function(){const f=ce(a).$implicit;return ue(Q(2).onErrorMessage(f))}),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("ngIf",h.errorsData.classes.alertShape),I(1),R("ngClass",h.getAlertTextClass(!1)),I(1),Kt(" ",a," ")}}function xht(c,l){if(1&c){const a=Ae();E(0,"button",12)(1,"cds-icon",2),Y("click",function(){return ue(ce(a).$implicit.runOnClick())}),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("ngClass",h.getAlertButtonClass(!1,"alert-icon")),Je("shape",a.shape)}}function Tht(c,l){if(1&c&&(E(0,"div")(1,"div",2),Y("click",function(h){return h.stopPropagation()}),E(2,"div",3),X(3,Cht,3,5,"div",4),X(4,wht,4,3,"span",5),M(),X(5,xht,2,2,"button",6),M()()),2&c){const a=Q();I(1),R("ngClass",a.getClasses()),I(2),R("ngForOf",a.errorsData.actions),I(1),R("ngForOf",a.errorsData.errors),I(1),R("ngForOf",a.errorsData.buttons)}}function kht(c,l){if(1&c&&(E(0,"div",22),se(1,"cds-icon",11),M()),2&c){const a=Q(3);I(1),Je("shape",a.errorsData.classes.alertShape)}}function Dht(c,l){if(1&c){const a=Ae();E(0,"a",8),Y("click",function(){return ue(ce(a).$implicit.runOnClick())}),H(1),M()}if(2&c){const a=l.$implicit;R("ngClass",Q(3).getAlertActionClass())("hidden",!a.enabled),I(1),ut(a.text)}}function Mht(c,l){if(1&c){const a=Ae();E(0,"div",18),X(1,kht,2,1,"div",19),E(2,"span",2),Y("click",function(){const f=ce(a).$implicit;return ue(Q(2).onErrorMessage(f))}),H(3),M(),E(4,"div",20),X(5,Dht,2,3,"a",21),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("ngIf",h.errorsData.classes.alertShape),I(1),R("ngClass",h.getAlertTextClass()),I(1),Kt(" ",a," "),I(2),R("ngForOf",h.errorsData.actions)}}function Eht(c,l){if(1&c){const a=Ae();E(0,"button",12)(1,"cds-icon",2),Y("click",function(){return ue(ce(a).$implicit.runOnClick())}),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("ngClass",h.getAlertButtonClass(!0,"alert-icon")),Je("shape",a.shape)}}function Pht(c,l){if(1&c&&(E(0,"div",13)(1,"div",14)(2,"div",15),Y("click",function(h){return h.stopPropagation()}),E(3,"div",16),X(4,Mht,6,4,"div",17),M(),X(5,Eht,2,2,"button",6),M()()()),2&c){const a=Q();I(2),R("ngClass",a.getClasses()),I(2),R("ngForOf",a.errorsData.errors),I(1),R("ngForOf",a.errorsData.buttons)}}let _f=(()=>{class c{uiConfig;data;stdErrorsEnabled=!1;getClassesDetector=Ha.builder();getAlertActionClassDetector=Ha.builder();getAlertTextClassTrueDetector=Ha.builder();getAlertTextClassFalseDetector=Ha.builder();get errorsData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}get type(){return this.data&&this.data.classes.type?this.data.classes.type:""}constructor(a){this.uiConfig=a}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(a=!0){let h=this.getClassesRaw(a);return this.getClassesDetector.checkAndGetValue(h)}getClassesRaw(a=!0){var h=this.errorsData?.classes,d={alert:a};return h&&(d[h.alertClass]=a,d["no-print"]=h.noPrint),d}getAlertButtonClass(a=!0,h=""){let d={"alert-icon":a};return h&&(d[h]=!0),d["hs"+this.uiConfig.ui.fontSize.getStringValue()]=!0,d}getAlertActionClass(a=!0,h=""){let d=this.getAlertActionClassRaw(a,h);return this.getAlertActionClassDetector.checkAndGetValue(d)}getAlertActionClassRaw(a=!0,h=""){let d={"alert-action":a};return h&&(d[h]=!0),a||(d["left-space"]=!0,d["right-space"]=!0),d["hs"+this.uiConfig.ui.fontSize.getStringValue()]=!0,d}getAlertTextClass(a=!0){let h=this.getAlertTextClassRaw(a);return(a?this.getAlertTextClassTrueDetector:this.getAlertTextClassFalseDetector).checkAndGetValue(h)}getAlertTextClassRaw(a=!0){let h={"alert-text":a,cursor:!0};return h["hs"+this.uiConfig.ui.fontSize.getStringValue()]=!0,h}onErrorMessage(a){return this.errorsData.click(a),this}isMultiActions(){return this.errorsData.actions.filter(a=>a.enabled).length>1}static \u0275fac=function(h){return new(h||c)(V(wn))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-errors"]],inputs:{data:"data"},decls:2,vars:2,consts:[[4,"ngIf"],["class","clr-row bg-4 no-x-space",4,"ngIf"],[3,"ngClass","click"],[1,"left-space","right-space","bottom-top-space","w100"],["class","inlineBlock underline floatRight no-print",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["type","button","class","close","aria-label","Close",4,"ngFor","ngForOf"],[1,"inlineBlock","underline","floatRight","no-print"],["href","javascript:void(0)",3,"ngClass","hidden","click"],[1,"alert-icon","whiteBtn"],["class","alert-icon",4,"ngIf"],[1,"alert-icon"],["type","button","aria-label","Close",1,"close"],[1,"clr-row","bg-4","no-x-space"],[1,"clr-col-12","h48px"],["role","alert",3,"ngClass","click"],[1,"alert-items"],["class","alert-item static",4,"ngFor","ngForOf"],[1,"alert-item","static"],["class","alert-icon-wrapper",4,"ngIf"],[1,"alert-actions"],["href","javascript:void(0)",3,"ngClass","hidden","click",4,"ngFor","ngForOf"],[1,"alert-icon-wrapper"]],template:function(h,d){1&h&&(X(0,Tht,6,4,"div",0),X(1,Pht,6,3,"div",1)),2&h&&(R("ngIf",!d.stdErrorsEnabled&&(null==d.errorsData||null==d.errorsData.errors?null:d.errorsData.errors.length)),I(1),R("ngIf",d.stdErrorsEnabled&&(null==d.errorsData||null==d.errorsData.errors?null:d.errorsData.errors.length)))},dependencies:[ei,Gn,mn,Vn],styles:[".floatRight[_ngcontent-%COMP%]{float:right!important}.inlineBlock[_ngcontent-%COMP%]{display:inline-block}.textCenter[_ngcontent-%COMP%]{display:flex;align-items:center}.underline[_ngcontent-%COMP%]{text-decoration:underline}.w100[_ngcontent-%COMP%]{width:100%}.h48px[_ngcontent-%COMP%]{height:48px}"]})}return c})();function Aht(c,l){1&c&&se(0,"app-dynamic-errors",15),2&c&&R("data",l.$implicit)}function Iht(c,l){if(1&c){const a=Ae();E(0,"div",16)(1,"button",17),Y("click",function(d){return ce(a),ue(Q().onScanTagsOnPersons(d))}),se(2,"cds-icon",18),H(3," \u041f\u043e\u0438\u0441\u043a \u043c\u0435\u0442\u043e\u043a "),M()()}}function Rht(c,l){1&c&&se(0,"app-dynamic-text-editor",15),2&c&&R("data",Q().newLabelTextEditor)}function Lht(c,l){if(1&c){const a=Ae();E(0,"div",26),Y("click",function(){const f=ce(a).$implicit;return ue(Q(3).onNewLableDlgSelect(f))}),H(1),M()}if(2&c){const a=l.$implicit;Je("aria-label","Dropdown header Action"+a),I(1),ut(a)}}function Nht(c,l){if(1&c&&(E(0,"clr-dropdown-menu",23)(1,"label",24),H(2,"\u041c\u0435\u0442\u043a\u0438"),M(),X(3,Lht,2,2,"div",25),M()),2&c){const a=Q(2);I(3),R("ngForOf",a.getLabels())}}function Fht(c,l){if(1&c&&(E(0,"div",19)(1,"clr-dropdown")(2,"button",20),H(3),se(4,"cds-icon",21),M(),X(5,Nht,4,1,"clr-dropdown-menu",22),M()()),2&c){const a=Q();I(3),Kt(" ",a.newLabelDlg.currentName?a.newLabelDlg.currentName:"\u041d\u0435\u0442 \u043c\u0435\u0442\u043a\u0438"," ")}}const Bht=function(c,l){return{"clr-col-6":c,"clr-col-12":l}};class F1e{modalFlag;currentName;text;constructor(l=!1,a="",h=""){this.modalFlag=l,this.currentName=a,this.text=h}}let B1e=(()=>{class c{uiConfig;config;memDataSvc;data=hQ.builder();get slava(){return this.tagsEditorData.slava}set slava(a){this.tagsEditorData.setSlava(a)}get container(){return this.tagsEditorData.container}set container(a){this.tagsEditorData.setContainer(a),this.config.post(()=>{this.load()})}get fieldName(){return this.tagsEditorData.fieldName}set fieldName(a){this.tagsEditorData.fieldName=a,this.config.post(()=>{this.load()})}get memorialTags(){switch(this.slava){case 1:return this.uiConfig.ui.memorialSlava1Tags.getStringValue();case 2:return this.uiConfig.ui.memorialSlava2Tags.getStringValue();case 3:return this.uiConfig.ui.memorialSlava3Tags.getStringValue();case 10:return this.container[this.fieldName]}return this.uiConfig.ui.memorialAllTags.getStringValue()}set memorialTags(a){switch(this.slava){case 1:this.uiConfig.ui.memorialSlava1Tags.setStringValue(a);break;case 2:this.uiConfig.ui.memorialSlava2Tags.setStringValue(a);break;case 3:this.uiConfig.ui.memorialSlava3Tags.setStringValue(a);break;case 10:this.container[this.fieldName]=a;break;default:this.uiConfig.ui.memorialAllTags.setStringValue(a)}}edErrorsDatas=[];get errorsDatas(){return this.syncLabels(),this.edErrorsDatas}set errorsDatas(a){this.edErrorsDatas=a}currentLabels=[];deleteLabelDlg=new F1e;newLabelDlg=new F1e;newLabelTextEditor=ld.builder().setObject(this.newLabelDlg).setFieldName("currentName").setDescription("\u0422\u0435\u043a\u0441\u0442 \u043c\u0435\u0442\u043a\u0438").setUseDefault(!0);created=!1;get tagsEditorData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h,d){this.uiConfig=a,this.config=h,this.memDataSvc=d}ngOnInit(){this.created=!0,this.addStandardTags()}ngOnDestroy(){this.created=!1}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}addStandardTags(){this.load()}addTag(a,h,d=!0){if(this.edErrorsDatas.map(v=>v.errors[0]).indexOf(a)>=0)return;let g=[zs.builder().setText("\u041d\u0438\u0436\u0435").setShape("fast-forward").setOnClick(()=>{this.down(a)}),zs.builder().setText("\u0412\u044b\u0448\u0435").setShape("rewind").setOnClick(()=>{this.up(a)})];h||g.unshift(zs.builder().setText("X").setShape("times").setOnClick(()=>{this.deleteTagRequest(a)}));let m=la.builder().setErrors([a]).setActions(g);return m.classes.setAlertClass("warning").setAlertShape("").setNoPrint(!0),this.edErrorsDatas.push(m),d&&this.save(),this}up(a){let d=this.edErrorsDatas.map(f=>f.errors[0]).indexOf(a);if(d>0){let f=[];d>1&&(f=f.concat(this.edErrorsDatas.slice(0,d-1))),f=f.concat([this.edErrorsDatas[d]]),d>0&&(f=f.concat([this.edErrorsDatas[d-1]])),f=f.concat(this.edErrorsDatas.slice(d+1)),this.edErrorsDatas=f}}down(a){let h=this.edErrorsDatas.map(f=>f.errors[0]),d=h.indexOf(a);if(d>=0&&d<h.length-1){let f=[];d>0&&(f=f.concat(this.edErrorsDatas.slice(0,d))),d<h.length-1&&(f=f.concat([this.edErrorsDatas[d+1]])),f=f.concat([this.edErrorsDatas[d]]),d<h.length-2&&(f=f.concat(this.edErrorsDatas.slice(d+2))),this.edErrorsDatas=f}}addNewTagRequest(a){this.newLabelDlg.currentName="",this.newLabelDlg.modalFlag=!0}deleteTagRequest(a){this.deleteLabelDlg.currentName=a,this.deleteLabelDlg.modalFlag=!0}addNewTag(a){this.edErrorsDatas.map(f=>f.errors[0]).indexOf(a)<0&&this.addTag(a,!1)}deleleTag(a){let d=this.edErrorsDatas.map(f=>f.errors[0]).indexOf(a);d>=0&&(this.edErrorsDatas.splice(d,1),this.save())}deleteLabelDirect(){this.config.post(()=>{this.deleleTag(this.deleteLabelDlg.currentName),this.deleteLabelDlg.modalFlag=!1})}newLabelDirect(){this.config.post(()=>{this.addNewTag(this.newLabelDlg.currentName),this.newLabelDlg.modalFlag=!1})}load(){this.created&&(this.edErrorsDatas=[],this.memorialTags.split(",").filter(h=>!!h).forEach(h=>{this.addTag(h,!1,!1)}),this.loadLabels())}save(){this.memorialTags=this.edErrorsDatas.map(a=>a.errors[0]).join(","),this.loadLabels()}syncLabels(){let a=this.uiConfig.ui.memorialAllTags.getStringValue().split(",").filter(h=>!!h).join(",");this.currentLabels.join(",")!=a&&this.config.post(()=>{0==this.slava?this.load():this.loadLabels()},1)}loadLabels(){this.currentLabels=this.uiConfig.ui.memorialAllTags.getStringValue().split(",").filter(a=>!!a)}getLabels(){return this.syncLabels(),this.currentLabels}onNewLableDlgSelect(a){this.newLabelDlg.currentName=a}onScanTagsOnPersons(a){a.stopPropagation(),this.memDataSvc.isReady?this.onScanTagsOnPersonsDirect():this.memDataSvc.setup(()=>{this.onScanTagsOnPersonsDirect()})}onScanTagsOnPersonsDirect(){if(this.memDataSvc.persons){let a=this.memDataSvc.persons,h=this.uiConfig.ui.memorialAllTags.getStringValue().split(",").map(f=>f.trim()).filter(f=>!!f),d=new Map;h.forEach(f=>d.set(f,!0)),a.items.map(f=>f.description).filter(f=>!!f).map(f=>(new Yn).load(f).getValue(Yn.LABELS)).filter(f=>!!f).map(f=>f).forEach(f=>{d.has(f)||(f.split(",").map(p=>p.trim()).filter(p=>!!p).forEach(p=>{d.has(p)||(h.push(p),d.set(p,!0))}),d.set(f,!0))}),this.uiConfig.ui.memorialAllTags.setStringValue(h.join(",")),this.config.addAlert(Bi.of("\u0412\u0441\u0435 \u043c\u0435\u0442\u043a\u0438 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u044b \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b.","Ok",30))}}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt),V(Zp))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-tags-editor"]],inputs:{data:"data",slava:"slava",container:"container",fieldName:"fieldName"},decls:37,vars:13,consts:[[3,"data",4,"ngFor","ngForOf"],[1,"clr-row"],[3,"ngClass"],["aria-label","arrow",1,"btn","btn-link","btn-block",3,"click"],["shape","plus-circle"],["class","clr-col-6",4,"ngIf"],[1,"s0",3,"clrModalOpen","clrModalOpenChange","click"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[3,"data",4,"ngIf"],["class","w100 center",4,"ngIf"],["type","button",1,"btn","btn-success",3,"disabled","click"],[3,"data"],[1,"clr-col-6"],[1,"btn","btn-link","btn-block",3,"click"],["shape","refresh"],[1,"w100","center"],["clrDropdownTrigger","",1,"btn","btn-link","btn-block"],["shape","angle","direction","down"],["clrPosition","top-left",4,"clrIfOpen"],["clrPosition","top-left"],["aria-hidden","true",1,"dropdown-header"],["clrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["clrDropdownItem","",3,"click"]],template:function(h,d){1&h&&(X(0,Aht,1,1,"app-dynamic-errors",0),E(1,"div",1)(2,"div",2)(3,"button",3),Y("click",function(p){return d.addNewTagRequest(p)}),se(4,"cds-icon",4),H(5),M()(),X(6,Iht,4,0,"div",5),M(),E(7,"clr-modal",6),Y("clrModalOpenChange",function(p){return d.deleteLabelDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(8,"h3",7),H(9,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043c\u0435\u0442\u043a\u0438:"),M(),E(10,"div",8)(11,"div"),H(12,"\xa0"),M(),E(13,"div"),H(14),M(),E(15,"div"),H(16,"\xa0"),M()(),E(17,"div",9)(18,"button",10),Y("click",function(){return d.deleteLabelDlg.modalFlag=!1}),H(19,"\u041e\u0442\u043c\u0435\u043d\u0430"),M(),E(20,"button",11),Y("click",function(){return d.deleteLabelDirect()}),H(21,"Ok"),M()()(),E(22,"clr-modal",6),Y("clrModalOpenChange",function(p){return d.newLabelDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(23,"h3",7),H(24,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043c\u0435\u0442\u043a\u0438:"),M(),E(25,"div",8)(26,"div"),H(27,"\xa0"),M(),X(28,Rht,1,1,"app-dynamic-text-editor",12),X(29,Fht,6,1,"div",13),E(30,"div"),H(31,"\xa0"),M()(),E(32,"div",9)(33,"button",10),Y("click",function(){return d.newLabelDlg.modalFlag=!1}),H(34,"\u041e\u0442\u043c\u0435\u043d\u0430"),M(),E(35,"button",14),Y("click",function(){return d.newLabelDirect()}),H(36,"Ok"),M()()()),2&h&&(R("ngForOf",d.errorsDatas),I(2),R("ngClass",mr(10,Bht,0==d.slava,0!=d.slava)),I(3),Kt(" ",d.slava>0?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443":"\u041d\u043e\u0432\u0430\u044f \u043c\u0435\u0442\u043a\u0430",""),I(1),R("ngIf",0==d.slava),I(1),R("clrModalOpen",d.deleteLabelDlg.modalFlag),I(7),Kt('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443: "',d.deleteLabelDlg.currentName,'"?'),I(8),R("clrModalOpen",d.newLabelDlg.modalFlag),I(6),R("ngIf",0==d.slava),I(1),R("ngIf",d.slava>0),I(6),R("disabled",!d.newLabelDlg.currentName))},dependencies:[ei,Gn,mn,Vn,Vo,$o,Hb,Lr,Cm,lO,cO,aO,_f,Gp],styles:[".w100[_ngcontent-%COMP%]{width:100%}"]})}return c})(),dQ=(()=>{class c{uiConfig;zipSvc;gsStatistics=null;updated=new Tt;get statistics(){return null==this.gsStatistics&&this.onLoadStatistics(),this.gsStatistics?this.gsStatistics:{games:[],done:{gamesCount:0,gamesTime:0,avgMovesCount:0,avgOponentElo:0,ratingElo:1400,wins:0,loses:0,draws:0},all:{gamesCount:0,gamesTime:0,avgMovesCount:0,avgOponentElo:0,ratingElo:1400,wins:0,loses:0,draws:0}}}constructor(a,h){this.uiConfig=a,this.zipSvc=h,this.onLoadStatistics()}base64ToArrayBuffer(a){for(var h=atob(a),d=new Uint8Array(h.length),f=0;f<h.length;f++)d[f]=h.charCodeAt(f);return d.buffer}arrayBufferToBase64(a){for(var h="",d=new Uint8Array(a),f=d.byteLength,p=0;p<f;p++)h+=String.fromCharCode(d[p]);return btoa(h)}onLoadDefaultStatistics(){this.gsStatistics={games:[],done:{gamesCount:0,gamesTime:0,avgMovesCount:0,avgOponentElo:0,ratingElo:1400,wins:0,loses:0,draws:0},all:{gamesCount:0,gamesTime:0,avgMovesCount:0,avgOponentElo:0,ratingElo:1400,wins:0,loses:0,draws:0}}}onLoadStatistics(){let a=this.uiConfig.ui.chessStatistics.getStringValue().trim(),h=this.base64ToArrayBuffer(a);""!=a?this.zipSvc.unzip(h,{},(d,f,p,g)=>{"s"==d&&f.files[d].async("string").then(m=>{let v=JSON.parse(m);this.gsStatistics=v,this.reacalcualteStatistics(),this.checkStatisticsInfo()})},d=>{this.onLoadDefaultStatistics(),this.checkStatisticsInfo()}):(this.onLoadDefaultStatistics(),this.checkStatisticsInfo())}onSaveStatistics(){this.zipSvc.zip([B1.builder().setFileName("s").setContent(JSON.stringify(this.statistics))]).then(a=>{let h=this.arrayBufferToBase64(a);this.uiConfig.ui.chessStatistics.setStringValue(h)})}addGameStatistics(a){this.statistics.games.push(a),this.reacalcualteStatistics(),this.onSaveStatistics()}getStatistics(a){let h={avgMovesCount:0,avgOponentElo:0,draws:0,gamesTime:0,gamesCount:0,loses:0,ratingElo:0,wins:0};return h.gamesCount=a.length,h.avgMovesCount=h.gamesCount?a.map(d=>d.moves.split(" ").map(f=>f.trim()).filter(f=>!!f).length).reduce((d,f)=>d+f,0)/h.gamesCount:0,h.avgOponentElo=h.gamesCount?a.map(d=>this.getEloFromLevel(d.opponentLevel)).reduce((d,f)=>d+f,0)/h.gamesCount:0,h.wins=a.filter(d=>d.endDone).filter(d=>1==d.score).length,h.loses=a.filter(d=>d.endDone).filter(d=>0==d.score).length,h.draws=a.filter(d=>d.endDone).filter(d=>d.score>0&&d.score<1).length,h.gamesTime=a.map(d=>d.gameTime).reduce((d,f)=>d+f,0),h.ratingElo=a.map(d=>({elo:this.getEloFromLevel(d.opponentLevel),score:d.score})).reduce((d,f,p)=>({elo:this.calculateElo(d.elo,f.elo,f.score,p+1),score:0}),{elo:1400,score:0}).elo,h}reacalcualteStatistics(){if(!this.gsStatistics)return;let a=this.gsStatistics.games.filter(h=>h.endDone);this.gsStatistics.all=this.getStatistics(this.gsStatistics.games),this.gsStatistics.done=this.getStatistics(a)}checkStatisticsInfo(){this.gsStatistics?(!this.gsStatistics.all.avgMovesCount||!this.gsStatistics.done.avgMovesCount)&&this.reacalcualteStatistics():this.onLoadDefaultStatistics(),this.updated.emit(!0)}calculateElo(a,h,d,f){let v=40;return f>30&&(v=a>=2400?10:20),a+v*(d-1/(1+Math.pow(10,(h-a)/400)))}clearStatistics(){this.uiConfig.ui.chessStatistics.setStringValue(""),this.onLoadStatistics()}getEloFromLevel(a){let h=[1346,1444,1566,1728,1953,2196,2382,2518,2624,2711,2785,2851,2909,2962,3011,3056,3099,3138,3176,3211,3545][a];return h||(h=3545),h}static \u0275fac=function(h){return new(h||c)(Ee(wn),Ee(V1))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),Vht=(()=>{class c{config;uiConfig;chessStatisticsSvc;data;statisticsText="";created=!1;statisticsSubscription=null;get statistics(){return this.chessStatisticsSvc.statistics}get statData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h,d){this.config=a,this.uiConfig=h,this.chessStatisticsSvc=d}ngOnInit(){this.created=!0,this.statisticsSubscription=this.chessStatisticsSvc.updated.subscribe(a=>this.updateTextStatistics()),this.updateTextStatistics()}ngOnDestroy(){this.statisticsSubscription&&(this.statisticsSubscription.unsubscribe(),this.statisticsSubscription=null)}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}updateStatistics(){let a=Math.random(),h={moves:"",score:[0,.5,1][a<.33?0:a<.66?1:2],white:Math.random()>.5,date:Date.now(),opponentLevel:2400,gameTime:60,endDone:Math.random()>.5};h.endDone||(h.score=0),this.addGameStatistics(h),this.config.post(()=>this.updateStatistics(),1e3)}addGameStatistics(a){this.chessStatisticsSvc.addGameStatistics(a),this.updateTextStatistics()}getTimeStrFromMs(a){let h=Math.floor(a/1e3),d=Math.floor(h/60);h-=60*d;let f=Math.floor(d/60);d-=60*f;let p=Math.floor(f/24);f-=24*p;let g="";return p>0&&(g+=`${p}\u0434`),f>0&&(g.length>0&&(g+=" "),g+=`${f}\u0447`),d>0&&(g.length>0&&(g+=" "),g+=`${d}\u043c`),h>0&&(g.length>0&&(g+=" "),g+=`${h}\u0441`),g}updateTextStatistics(){this.statisticsText=`\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0445 \u0438\u0433\u0440:\n1. \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: ${this.statistics.done.gamesCount}\n2. \u041e\u0431\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043e\u0431\u0434\u0443\u043c\u044b\u0432\u0430\u043d\u0438\u044f: ${this.getTimeStrFromMs(this.statistics.done.gamesTime)}\n3. \u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043e\u0431\u0434\u0443\u043c\u044b\u0432\u0430\u043d\u0438\u044f: ${this.getTimeStrFromMs(this.statistics.done.gamesTime/this.statistics.done.gamesCount)}\n4. \u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u0447\u0438\u0441\u043b\u043e \u0445\u043e\u0434\u043e\u0432: ${this.statistics.done.avgMovesCount}\n5. \u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u042d\u043b\u043e \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442\u0430: ${this.statistics.done.avgOponentElo}\n6. \u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u042d\u043b\u043e: ${Math.floor(this.statistics.done.ratingElo)}\n7. \u041f\u043e\u0431\u0435\u0434: ${this.statistics.done.wins}\n8. \u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439: ${this.statistics.done.loses}\n9. \u041d\u0438\u0447\u044c\u0438\u0445: ${this.statistics.done.draws}`}onClearStatistics(){this.chessStatisticsSvc.clearStatistics()}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(dQ))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-chess-statistics"]],inputs:{data:"data"},decls:8,vars:1,consts:[[1,"noBorder"],[1,"btn","btn-danger","btn-block",3,"click"],["shape","flame"]],template:function(h,d){1&h&&(E(0,"div")(1,"h4"),H(2,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430:"),M(),E(3,"pre",0),H(4),M(),E(5,"button",1),Y("click",function(){return d.onClearStatistics()}),se(6,"cds-icon",2),H(7," \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"),M()()),2&h&&(I(4),ut(d.statisticsText))},dependencies:[Vn],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}"]})}return c})();class fQ{constructor(){}static builder(){return new fQ}}class pQ extends ti{config;constructor(l,a,h,d){super(l,a,h),this.config=d}static builder(){return new pQ("",null,null,fQ.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}}function $ht(c,l){1&c&&se(0,"app-dynamic-errors",14),2&c&&R("data",l.$implicit)}const zht=function(){return{"clr-col-6":!0}};class V1e{modalFlag;currentName;text;constructor(l=!1,a="",h=""){this.modalFlag=l,this.currentName=a,this.text=h}}let Uht=(()=>{class c{uiConfig;config;memDataSvc;data=pQ.builder();get memorialTags(){return this.uiConfig.ui.addCommentToNameTags.getStringValue()}set memorialTags(a){this.uiConfig.ui.addCommentToNameTags.setStringValue(a)}edErrorsDatas=[];get errorsDatas(){return this.syncLabels(),this.edErrorsDatas}set errorsDatas(a){this.edErrorsDatas=a}currentLabels=[];deleteLabelDlg=new V1e;newLabelDlg=new V1e;newLabelTextEditor=ld.builder().setObject(this.newLabelDlg).setFieldName("currentName").setDescription("\u0422\u0435\u043a\u0441\u0442 \u043c\u0435\u0442\u043a\u0438").setUseDefault(!0);created=!1;get tagsEditorData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h,d){this.uiConfig=a,this.config=h,this.memDataSvc=d}ngOnInit(){this.created=!0,this.addStandardTags()}ngOnDestroy(){this.created=!1}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}addStandardTags(){this.load()}addTag(a,h,d=!0){if(this.edErrorsDatas.map(v=>v.errors[0]).indexOf(a)>=0)return;let g=[zs.builder().setText("\u041d\u0438\u0436\u0435").setShape("fast-forward").setOnClick(()=>{this.down(a)}),zs.builder().setText("\u0412\u044b\u0448\u0435").setShape("rewind").setOnClick(()=>{this.up(a)})];h||g.unshift(zs.builder().setText("X").setShape("times").setOnClick(()=>{this.deleteTagRequest(a)}));let m=la.builder().setErrors([a]).setActions(g);return m.classes.setAlertClass("warning").setAlertShape("").setNoPrint(!0),this.edErrorsDatas.push(m),d&&this.save(),this}up(a){let d=this.edErrorsDatas.map(f=>f.errors[0]).indexOf(a);if(d>0){let f=[];d>1&&(f=f.concat(this.edErrorsDatas.slice(0,d-1))),f=f.concat([this.edErrorsDatas[d]]),d>0&&(f=f.concat([this.edErrorsDatas[d-1]])),f=f.concat(this.edErrorsDatas.slice(d+1)),this.edErrorsDatas=f,this.config.post(()=>this.save())}}down(a){let h=this.edErrorsDatas.map(f=>f.errors[0]),d=h.indexOf(a);if(d>=0&&d<h.length-1){let f=[];d>0&&(f=f.concat(this.edErrorsDatas.slice(0,d))),d<h.length-1&&(f=f.concat([this.edErrorsDatas[d+1]])),f=f.concat([this.edErrorsDatas[d]]),d<h.length-2&&(f=f.concat(this.edErrorsDatas.slice(d+2))),this.edErrorsDatas=f,this.config.post(()=>this.save())}}addNewTagRequest(a){this.newLabelDlg.currentName="",this.newLabelDlg.modalFlag=!0}deleteTagRequest(a){this.deleteLabelDlg.currentName=a,this.deleteLabelDlg.modalFlag=!0}addNewTag(a){this.edErrorsDatas.map(f=>f.errors[0]).indexOf(a)<0&&this.addTag(a,!1)}deleleTag(a){let d=this.edErrorsDatas.map(f=>f.errors[0]).indexOf(a);d>=0&&(this.edErrorsDatas.splice(d,1),this.save())}deleteLabelDirect(){this.config.post(()=>{this.deleleTag(this.deleteLabelDlg.currentName),this.deleteLabelDlg.modalFlag=!1})}newLabelDirect(){this.config.post(()=>{this.addNewTag(this.newLabelDlg.currentName),this.newLabelDlg.modalFlag=!1})}load(){this.created&&(this.edErrorsDatas=[],this.memorialTags.split(",").filter(h=>!!h).forEach(h=>{this.addTag(h,!1,!1)}),this.loadLabels())}save(){this.memorialTags=this.edErrorsDatas.map(a=>a.errors[0]).join(","),this.loadLabels()}syncLabels(){let a=this.uiConfig.ui.addCommentToNameTags.getStringValue().split(",").filter(h=>!!h).join(",");this.currentLabels.join(",")!=a&&this.config.post(()=>{this.load()},1)}loadLabels(){this.currentLabels=this.uiConfig.ui.addCommentToNameTags.getStringValue().split(",").filter(a=>!!a)}getLabels(){return this.syncLabels(),this.currentLabels}onNewLableDlgSelect(a){this.newLabelDlg.currentName=a}onScanTagsOnPersons(a){a.stopPropagation(),this.memDataSvc.isReady?this.onScanTagsOnPersonsDirect():this.memDataSvc.setup(()=>{this.onScanTagsOnPersonsDirect()})}onScanTagsOnPersonsDirect(){if(this.memDataSvc.persons){let a=this.memDataSvc.persons,h=this.uiConfig.ui.addCommentToNameTags.getStringValue().split(",").map(f=>f.trim()).filter(f=>!!f),d=new Map;h.forEach(f=>d.set(f,!0)),a.items.map(f=>f.description).filter(f=>!!f).map(f=>(new Yn).load(f).properties.filter(p=>!!p.name).map(p=>p.name).forEach(p=>{!d.has(p)&&p!=Yn.LABELS&&(p.split(",").map(g=>g.trim()).filter(g=>!!g).forEach(g=>{d.has(g)||(h.push(g),d.set(g,!0))}),d.set(p,!0))})),this.uiConfig.ui.addCommentToNameTags.setStringValue(h.join(",")),this.config.addAlert(Bi.of("\u0412\u0441\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u044b \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b.","Ok",30))}}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt),V(Zp))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-userprops-editor"]],inputs:{data:"data"},decls:39,vars:9,consts:[[3,"data",4,"ngFor","ngForOf"],[1,"clr-row"],[3,"ngClass"],["aria-label","arrow",1,"btn","btn-link","btn-block",3,"click"],["shape","plus-circle"],[1,"clr-col-6"],[1,"btn","btn-link","btn-block",3,"click"],["shape","refresh"],[1,"s0",3,"clrModalOpen","clrModalOpenChange","click"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[3,"data"],["type","button",1,"btn","btn-success",3,"disabled","click"]],template:function(h,d){1&h&&(X(0,$ht,1,1,"app-dynamic-errors",0),E(1,"div",1)(2,"div",2)(3,"button",3),Y("click",function(p){return d.addNewTagRequest(p)}),se(4,"cds-icon",4),H(5),M()(),E(6,"div",5)(7,"button",6),Y("click",function(p){return d.onScanTagsOnPersons(p)}),se(8,"cds-icon",7),H(9," \u041f\u043e\u0438\u0441\u043a \u0441\u0432\u043e\u0439\u0441\u0442\u0432 "),M()()(),E(10,"clr-modal",8),Y("clrModalOpenChange",function(p){return d.deleteLabelDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(11,"h3",9),H(12,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430:"),M(),E(13,"div",10)(14,"div"),H(15,"\xa0"),M(),E(16,"div"),H(17),M(),E(18,"div"),H(19,"\xa0"),M()(),E(20,"div",11)(21,"button",12),Y("click",function(){return d.deleteLabelDlg.modalFlag=!1}),H(22,"\u041e\u0442\u043c\u0435\u043d\u0430"),M(),E(23,"button",13),Y("click",function(){return d.deleteLabelDirect()}),H(24,"Ok"),M()()(),E(25,"clr-modal",8),Y("clrModalOpenChange",function(p){return d.newLabelDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(26,"h3",9),H(27,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430:"),M(),E(28,"div",10)(29,"div"),H(30,"\xa0"),M(),se(31,"app-dynamic-text-editor",14),E(32,"div"),H(33,"\xa0"),M()(),E(34,"div",11)(35,"button",12),Y("click",function(){return d.newLabelDlg.modalFlag=!1}),H(36,"\u041e\u0442\u043c\u0435\u043d\u0430"),M(),E(37,"button",15),Y("click",function(){return d.newLabelDirect()}),H(38,"Ok"),M()()()),2&h&&(R("ngForOf",d.errorsDatas),I(2),R("ngClass",Fi(8,zht)),I(3),Kt(" ","\u041d\u043e\u0432\u043e\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e",""),I(5),R("clrModalOpen",d.deleteLabelDlg.modalFlag),I(7),Kt('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e: "',d.deleteLabelDlg.currentName,'"?'),I(8),R("clrModalOpen",d.newLabelDlg.modalFlag),I(6),R("data",d.newLabelTextEditor),I(6),R("disabled",!d.newLabelDlg.currentName))},dependencies:[ei,Gn,Vn,Vo,$o,_f,Gp],styles:[".w100[_ngcontent-%COMP%]{width:100%}"]})}return c})();class gQ{constructor(){}static builder(){return new gQ}}class mQ extends ti{config;constructor(l,a,h,d){super(l,a,h),this.config=d}static builder(){return new mQ("",null,null,gQ.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}}function Qht(c,l){1&c&&se(0,"app-dynamic-errors",14),2&c&&R("data",l.$implicit)}const Hht=function(){return{"clr-col-6":!0}};class $1e{modalFlag;currentName;text;constructor(l=!1,a="",h=""){this.modalFlag=l,this.currentName=a,this.text=h}}let Wht=(()=>{class c{uiConfig;config;memDataSvc;data=mQ.builder();get memorialTags(){return this.uiConfig.ui.personAffixes.getStringValue()}set memorialTags(a){this.uiConfig.ui.personAffixes.setStringValue(a)}edErrorsDatas=[];get errorsDatas(){return this.syncLabels(),this.edErrorsDatas}set errorsDatas(a){this.edErrorsDatas=a}currentLabels=[];deleteLabelDlg=new $1e;newLabelDlg=new $1e;newLabelTextEditor=ld.builder().setObject(this.newLabelDlg).setFieldName("currentName").setDescription("\u0422\u0435\u043a\u0441\u0442 \u043c\u0435\u0442\u043a\u0438").setUseDefault(!0);created=!1;get tagsEditorData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h,d){this.uiConfig=a,this.config=h,this.memDataSvc=d}ngOnInit(){this.created=!0,this.addStandardTags()}ngOnDestroy(){this.created=!1}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}addStandardTags(){this.load()}addTag(a,h,d=!0){if(this.edErrorsDatas.map(v=>v.errors[0]).indexOf(a)>=0)return;let g=[zs.builder().setText("\u041d\u0438\u0436\u0435").setShape("fast-forward").setOnClick(()=>{this.down(a)}),zs.builder().setText("\u0412\u044b\u0448\u0435").setShape("rewind").setOnClick(()=>{this.up(a)})];h||g.unshift(zs.builder().setText("X").setShape("times").setOnClick(()=>{this.deleteTagRequest(a)}));let m=la.builder().setErrors([a]).setActions(g);return m.classes.setAlertClass("warning").setAlertShape("").setNoPrint(!0),this.edErrorsDatas.push(m),d&&this.save(),this}up(a){let d=this.edErrorsDatas.map(f=>f.errors[0]).indexOf(a);if(d>0){let f=[];d>1&&(f=f.concat(this.edErrorsDatas.slice(0,d-1))),f=f.concat([this.edErrorsDatas[d]]),d>0&&(f=f.concat([this.edErrorsDatas[d-1]])),f=f.concat(this.edErrorsDatas.slice(d+1)),this.edErrorsDatas=f,this.config.post(()=>this.save())}}down(a){let h=this.edErrorsDatas.map(f=>f.errors[0]),d=h.indexOf(a);if(d>=0&&d<h.length-1){let f=[];d>0&&(f=f.concat(this.edErrorsDatas.slice(0,d))),d<h.length-1&&(f=f.concat([this.edErrorsDatas[d+1]])),f=f.concat([this.edErrorsDatas[d]]),d<h.length-2&&(f=f.concat(this.edErrorsDatas.slice(d+2))),this.edErrorsDatas=f,this.config.post(()=>this.save())}}addNewTagRequest(a){this.newLabelDlg.currentName="",this.newLabelDlg.modalFlag=!0}deleteTagRequest(a){this.deleteLabelDlg.currentName=a,this.deleteLabelDlg.modalFlag=!0}addNewTag(a){this.edErrorsDatas.map(f=>f.errors[0]).indexOf(a)<0&&this.addTag(a,!1)}deleleTag(a){let d=this.edErrorsDatas.map(f=>f.errors[0]).indexOf(a);d>=0&&(this.edErrorsDatas.splice(d,1),this.save())}deleteLabelDirect(){this.config.post(()=>{this.deleleTag(this.deleteLabelDlg.currentName),this.deleteLabelDlg.modalFlag=!1})}newLabelDirect(){this.config.post(()=>{this.addNewTag(this.newLabelDlg.currentName),this.newLabelDlg.modalFlag=!1})}load(){this.created&&(this.edErrorsDatas=[],this.memorialTags.split(",").filter(h=>!!h).forEach(h=>{this.addTag(h,!1,!1)}),this.loadLabels())}save(){this.memorialTags=this.edErrorsDatas.map(a=>a.errors[0]).join(","),this.loadLabels()}syncLabels(){let a=this.uiConfig.ui.personAffixes.getStringValue().split(",").filter(h=>!!h).join(",");this.currentLabels.join(",")!=a&&this.config.post(()=>{this.load()},1)}loadLabels(){this.currentLabels=this.uiConfig.ui.personAffixes.getStringValue().split(",").filter(a=>!!a)}getLabels(){return this.syncLabels(),this.currentLabels}onNewLableDlgSelect(a){this.newLabelDlg.currentName=a}onScanTagsOnPersons(a){a.stopPropagation(),this.memDataSvc.isReady?this.onScanTagsOnPersonsDirect():this.memDataSvc.setup(()=>{this.onScanTagsOnPersonsDirect()})}onScanTagsOnPersonsDirect(){if(this.memDataSvc.persons){let a=this.memDataSvc.persons,h=this.uiConfig.ui.personAffixes.getStringValue().split(",").map(f=>f.trim()).filter(f=>!!f),d=new Map;h.forEach(f=>d.set(f,!0)),a.items.map(f=>f.name).filter(f=>!!f).forEach(f=>{Ii.getPrefixesArray(f).forEach(g=>{!Ii.isStandardPrefix(g)&&!d.has(g)&&(g.split(",").map(m=>m.trim()).filter(m=>!!m).forEach(m=>{d.has(m)||(h.push(m),d.set(m,!0))}),d.set(g,!0))})}),this.uiConfig.ui.personAffixes.setStringValue(h.join(",")),this.config.addAlert(Bi.of("\u0412\u0441\u0435 \u0430\u0444\u0444\u0438\u043a\u0441\u044b \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u044b \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b.","Ok",30))}}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt),V(Zp))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-userprefixes-editor"]],inputs:{data:"data"},decls:39,vars:9,consts:[[3,"data",4,"ngFor","ngForOf"],[1,"clr-row"],[3,"ngClass"],["aria-label","arrow",1,"btn","btn-link","btn-block",3,"click"],["shape","plus-circle"],[1,"clr-col-6"],[1,"btn","btn-link","btn-block",3,"click"],["shape","refresh"],[1,"s0",3,"clrModalOpen","clrModalOpenChange","click"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[3,"data"],["type","button",1,"btn","btn-success",3,"disabled","click"]],template:function(h,d){1&h&&(X(0,Qht,1,1,"app-dynamic-errors",0),E(1,"div",1)(2,"div",2)(3,"button",3),Y("click",function(p){return d.addNewTagRequest(p)}),se(4,"cds-icon",4),H(5),M()(),E(6,"div",5)(7,"button",6),Y("click",function(p){return d.onScanTagsOnPersons(p)}),se(8,"cds-icon",7),H(9," \u041f\u043e\u0438\u0441\u043a \u0430\u0444\u0444\u0438\u043a\u0441\u043e\u0432 "),M()()(),E(10,"clr-modal",8),Y("clrModalOpenChange",function(p){return d.deleteLabelDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(11,"h3",9),H(12,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0430\u0444\u0444\u0438\u043a\u0441\u0430:"),M(),E(13,"div",10)(14,"div"),H(15,"\xa0"),M(),E(16,"div"),H(17),M(),E(18,"div"),H(19,"\xa0"),M()(),E(20,"div",11)(21,"button",12),Y("click",function(){return d.deleteLabelDlg.modalFlag=!1}),H(22,"\u041e\u0442\u043c\u0435\u043d\u0430"),M(),E(23,"button",13),Y("click",function(){return d.deleteLabelDirect()}),H(24,"Ok"),M()()(),E(25,"clr-modal",8),Y("clrModalOpenChange",function(p){return d.newLabelDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(26,"h3",9),H(27,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0444\u0444\u0438\u043a\u0441\u0430:"),M(),E(28,"div",10)(29,"div"),H(30,"\xa0"),M(),se(31,"app-dynamic-text-editor",14),E(32,"div"),H(33,"\xa0"),M()(),E(34,"div",11)(35,"button",12),Y("click",function(){return d.newLabelDlg.modalFlag=!1}),H(36,"\u041e\u0442\u043c\u0435\u043d\u0430"),M(),E(37,"button",15),Y("click",function(){return d.newLabelDirect()}),H(38,"Ok"),M()()()),2&h&&(R("ngForOf",d.errorsDatas),I(2),R("ngClass",Fi(8,Hht)),I(3),Kt(" ","\u041d\u043e\u0432\u044b\u0439 \u0430\u0444\u0444\u0438\u043a\u0441",""),I(5),R("clrModalOpen",d.deleteLabelDlg.modalFlag),I(7),Kt('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u0444\u0444\u0438\u043a\u0441: "',d.deleteLabelDlg.currentName,'"?'),I(8),R("clrModalOpen",d.newLabelDlg.modalFlag),I(6),R("data",d.newLabelTextEditor),I(6),R("disabled",!d.newLabelDlg.currentName))},dependencies:[ei,Gn,Vn,Vo,$o,_f,Gp],styles:[".w100[_ngcontent-%COMP%]{width:100%}"]})}return c})();function Zht(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",18),Y("ngModelChange",function(d){return ce(a),ue(Q(2).uiConfig.ui.fontSize.rawValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","mainFontSize")("value",""+a)("ngModel",h.uiConfig.ui.fontSize.rawValue),I(2),Kt("x",a,"")}}const jht=function(){return[0,1,2,3,4,5,6,7,8,9,10,20,30]};function Ght(c,l){if(1&c&&(E(0,"clr-radio-container",1)(1,"label"),H(2),M(),X(3,Zht,4,4,"clr-radio-wrapper",2),M()),2&c){const a=Q();I(2),Kt("",a.uiConfig.ui.fontSize.description,":"),I(1),R("ngForOf",Fi(2,jht))}}function Xht(c,l){if(1&c){const a=Ae();E(0,"clr-toggle-wrapper")(1,"input",19),Y("ngModelChange",function(d){return ue(ce(a).$implicit.rawValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit;I(1),R("name",a.name)("value",a.name)("ngModel",a.rawValue),I(2),ut(a.description)}}function Yht(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",18),Y("ngModelChange",function(d){return ce(a),ue(Q(2).uiConfig.ui.compilerShowRunMode.rawValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","canvasRunMode")("value",a)("ngModel",h.uiConfig.ui.compilerShowRunMode.rawValue),I(2),ut(h.getCompilerRunMode(a))}}const qht=function(){return[0,1,2]};function Kht(c,l){1&c&&(E(0,"clr-radio-container",1)(1,"label"),H(2,"\u0420\u0435\u0436\u0438\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f:"),M(),X(3,Yht,4,4,"clr-radio-wrapper",2),M()),2&c&&(I(3),R("ngForOf",Fi(1,qht)))}function Jht(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",18),Y("ngModelChange",function(d){return ce(a),ue(Q(2).uiConfig.ui.chessAiSkillLevel.rawValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","chessAiSkillLevel")("value",a.value)("ngModel",h.uiConfig.ui.chessAiSkillLevel.rawValue),I(2),ut(a.name)}}function edt(c,l){if(1&c&&(E(0,"clr-radio-container",1)(1,"label"),H(2),M(),X(3,Jht,4,4,"clr-radio-wrapper",2),M()),2&c){const a=Q();I(2),Kt("",a.uiConfig.ui.chessAiSkillLevel.description," (# ~ \u042d\u043b\u043e):"),I(1),R("ngForOf",a.chessSkillLevels)}}function tdt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",18),Y("ngModelChange",function(d){return ce(a),ue(Q(2).uiConfig.ui.chessAiThinkTime.rawValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","chessAiThinkTime")("value",""+a)("ngModel",h.uiConfig.ui.chessAiThinkTime.rawValue),I(2),ut(a)}}const ndt=function(){return[5,10,15,20,30,40,50,60,70,80,90,120,180,240,300]};function idt(c,l){if(1&c&&(E(0,"clr-radio-container",1)(1,"label"),H(2),M(),X(3,tdt,4,4,"clr-radio-wrapper",2),M()),2&c){const a=Q();I(2),Kt("",a.uiConfig.ui.chessAiThinkTime.description,":"),I(1),R("ngForOf",Fi(2,ndt))}}function rdt(c,l){1&c&&se(0,"app-dynamic-chess-statistics")}function sdt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",18),Y("ngModelChange",function(d){return ce(a),ue(Q(2).uiConfig.ui.memorialPageSize.rawValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","mainPageSize")("value",""+a)("ngModel",h.uiConfig.ui.memorialPageSize.rawValue),I(2),Kt("x",a,"")}}const odt=function(){return[5,10,15,20,30,40,50,60,70,80,90,100]};function adt(c,l){if(1&c&&(E(0,"clr-radio-container",1)(1,"label"),H(2),M(),X(3,sdt,4,4,"clr-radio-wrapper",2),M()),2&c){const a=Q();I(2),Kt("",a.uiConfig.ui.memorialPageSize.description,":"),I(1),R("ngForOf",Fi(2,odt))}}function ldt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",18),Y("ngModelChange",function(d){return ce(a),ue(Q(2).currentKafizma=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","mainKafizma")("value",""+a)("ngModel",h.currentKafizma),I(2),ut(a||"\u041f\u043e \u0438\u043c\u0435\u043d\u0438 \u0432 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0435")}}const cdt=function(){return[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]};function udt(c,l){1&c&&(E(0,"clr-radio-container",1)(1,"label"),H(2,"\u041a\u0430\u0444\u0438\u0437\u043c\u0430:"),M(),X(3,ldt,4,4,"clr-radio-wrapper",2),M()),2&c&&(I(3),R("ngForOf",Fi(1,cdt)))}function hdt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",18),Y("ngModelChange",function(d){return ce(a),ue(Q(2).updateCheckPeriod=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","updateCheckPeriod")("value",""+a)("ngModel",h.updateCheckPeriod),I(2),Kt("x",a,"")}}const ddt=function(){return[0,1,2,3,7,10,14,30,180,365,3650]};function fdt(c,l){1&c&&(E(0,"clr-radio-container",1)(1,"label"),H(2,"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439:"),M(),X(3,hdt,4,4,"clr-radio-wrapper",2),M()),2&c&&(I(3),R("ngForOf",Fi(1,ddt)))}function pdt(c,l){1&c&&(E(0,"div",20)(1,"clr-toggle-container",1)(2,"label"),H(3,"\u041f\u043e\u0440\u044f\u0434\u043e\u043a a\u0444\u0444\u0438\u043a\u0441\u043e\u0432 \u0438\u043c\u0451\u043d:"),M()(),se(4,"app-dynamic-userprefixes-editor"),M())}function gdt(c,l){1&c&&(E(0,"div",20)(1,"clr-toggle-container",1)(2,"label"),H(3,"\u0418\u043c\u0435\u043d\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432:"),M()(),se(4,"app-dynamic-userprops-editor"),M())}function mdt(c,l){if(1&c&&(E(0,"div",20),se(1,"app-dynamic-text-editor",21),M()),2&c){const a=Q();I(1),R("data",a.newTagsSeparatorTextEditor)}}function vdt(c,l){1&c&&(E(0,"div",20)(1,"clr-toggle-container",1)(2,"label"),H(3,"\u041c\u0435\u0442\u043a\u0438:"),M()(),se(4,"app-dynamic-tags-editor"),M())}function _dt(c,l){if(1&c){const a=Ae();E(0,"clr-toggle-wrapper")(1,"input",19),Y("ngModelChange",function(d){return ue(ce(a).$implicit.rawValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit;I(1),R("name",a.name)("value",a.name)("ngModel",a.rawValue),I(2),ut(a.description)}}function ydt(c,l){if(1&c&&(E(0,"div",20)(1,"clr-toggle-container",1)(2,"label"),H(3,"\u041f\u0435\u0440\u0432\u0430\u044f \u0441\u043b\u0430\u0432\u0430:"),M(),X(4,_dt,4,4,"clr-toggle-wrapper",2),M(),se(5,"app-dynamic-tags-editor",22),M()),2&c){const a=Q();I(4),R("ngForOf",a.settingsMemorialSlava1),I(1),R("slava",1)}}function bdt(c,l){if(1&c){const a=Ae();E(0,"clr-toggle-wrapper")(1,"input",19),Y("ngModelChange",function(d){return ue(ce(a).$implicit.rawValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit;I(1),R("name",a.name)("value",a.name)("ngModel",a.rawValue),I(2),ut(a.description)}}function Odt(c,l){if(1&c&&(E(0,"div",20)(1,"clr-toggle-container",1)(2,"label"),H(3,"\u0412\u0442\u043e\u0440\u0430\u044f \u0441\u043b\u0430\u0432\u0430:"),M(),X(4,bdt,4,4,"clr-toggle-wrapper",2),M(),se(5,"app-dynamic-tags-editor",22),M()),2&c){const a=Q();I(4),R("ngForOf",a.settingsMemorialSlava2),I(1),R("slava",2)}}function Cdt(c,l){if(1&c){const a=Ae();E(0,"clr-toggle-wrapper")(1,"input",19),Y("ngModelChange",function(d){return ue(ce(a).$implicit.rawValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit;I(1),R("name",a.name)("value",a.name)("ngModel",a.rawValue),I(2),ut(a.description)}}function Sdt(c,l){if(1&c&&(E(0,"div",20)(1,"clr-toggle-container",1)(2,"label"),H(3,"\u0422\u0440\u0435\u0442\u044c\u044f \u0441\u043b\u0430\u0432\u0430:"),M(),X(4,Cdt,4,4,"clr-toggle-wrapper",2),M(),se(5,"app-dynamic-tags-editor",22),M()),2&c){const a=Q();I(4),R("ngForOf",a.settingsMemorialSlava3),I(1),R("slava",3)}}function wdt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",18),Y("ngModelChange",function(d){return ce(a),ue(Q(2).uiConfig.ui.audioValue.rawValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","mainAudio")("value",a.value)("ngModel",h.uiConfig.ui.audioValue.rawValue),I(2),ut(a.name)}}function xdt(c,l){if(1&c&&(E(0,"clr-radio-container",1)(1,"label"),H(2,"\u0417\u0432\u0443\u043a\u043e\u0432\u043e\u0435 \u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435:"),M(),X(3,wdt,4,4,"clr-radio-wrapper",2),M()),2&c){const a=Q();I(3),R("ngForOf",a.audios)}}function Tdt(c,l){1&c&&(E(0,"h4"),H(1,"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430:"),M())}function kdt(c,l){1&c&&se(0,"clr-progress-bar",23),2&c&&R("clrValue",Q().translationLoadingPersantage)}function Ddt(c,l){if(1&c){const a=Ae();E(0,"button",24),Y("click",function(){return ce(a),ue(Q().downloadAll())}),se(1,"cds-icon",25),H(2," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u0432\u043e\u0434\n"),M()}}function Mdt(c,l){if(1&c){const a=Ae();E(0,"button",24),Y("click",function(){const f=ce(a).$implicit;return ue(Q(2).deleteTranslation(f))}),se(1,"cds-icon",27),H(2),M()}if(2&c){const a=l.$implicit;I(2),$0(" ",a.name," (",a.nameOriginal,") ")}}function Edt(c,l){if(1&c&&(E(0,"div"),X(1,Mdt,3,2,"button",26),M()),2&c){const a=Q();I(1),R("ngForOf",a.translationInfos)}}const vQ=function(c,l,a,h){return{btn:!0,"btn-primary":c,"btn-success":l,"btn-primary-outline":a,"btn-success-outline":h}};class cd{name;nameSimple;value;constructor(l,a,h){this.name=l,this.nameSimple=a,this.value=h}}class Pdt{name;nameOriginal;value;constructor(l,a,h){this.name=l,this.nameOriginal=a,this.value=h}equalsTo(l){return this.nameOriginal==l.name&&this.value==l.value}}class Adt{modalFlag;currentName;text;constructor(l=!1,a="",h=""){this.modalFlag=l,this.currentName=a,this.text=h}}class _Q{value;name;constructor(l,a){this.value=l,this.name=a}static build(){return new _Q(0,"")}setValue(l){return this.value=l,this}setName(l){return this.name=l,this}}let yf=(()=>{class c{config;uiConfig;themesSvc;audioSvc;data;translationLoadingPersantage=0;settingsBooks=[];settingsMemorial=[];settingsMemorialSlava1=[];settingsMemorialSlava2=[];settingsMemorialSlava3=[];settingsCalculator=[];settingsChess=[];settingsCompiler=[];audios=[new cd("\u0411\u0435\u0437 \u0437\u0432\u0443\u043a\u0430","\u0411\u0435\u0437 \u0437\u0432\u0443\u043a\u0430","0"),new cd("\u041f\u0441\u0430\u043b\u043c\u044b \u0414\u0430\u0432\u0438\u0434\u043e\u0432\u044b (\u0438\u0435\u0440\u043e\u0434\u0438\u0430\u043a\u043e\u043d \u0413\u0435\u0440\u043c\u0430\u043d (\u0420\u044f\u0431\u0446\u0435\u0432))","\u0438\u0435\u0440\u043e\u0434\u0438\u0430\u043a\u043e\u043d \u0413\u0435\u0440\u043c\u0430\u043d (\u0420\u044f\u0431\u0446\u0435\u0432)","1"),new cd("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c (\u0441\u0438\u043d\u043e\u0434\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434) (\u0418\u043b\u044c\u044f \u0415\u0444\u0438\u043c\u043e\u0432\u0438\u0447 \u041f\u0440\u0443\u0434\u043e\u0432\u0441\u043a\u0438\u0439)","\u0418\u043b\u044c\u044f \u0415\u0444\u0438\u043c\u043e\u0432\u0438\u0447 \u041f\u0440\u0443\u0434\u043e\u0432\u0441\u043a\u0438\u0439","9"),new cd("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 (\u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0411\u0438\u0440\u0443\u043a\u043e\u0432\u044b\u0445) (\u041b\u0435\u0432 \u041f\u0440\u044b\u0433\u0443\u043d\u043e\u0432)","\u041b\u0435\u0432 \u041f\u0440\u044b\u0433\u0443\u043d\u043e\u0432","2"),new cd("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c \u043d\u0430 \u0434\u0440\u0435\u0432\u043d\u0435\u0433\u0440\u0435\u0447\u0435\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435","\u0434\u0440\u0435\u0432\u043d\u0435\u0433\u0440\u0435\u0447\u0435\u0441\u043a\u0438\u0439","4"),new cd("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c \u043d\u0430 \u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 (\u0434\u0438\u0430\u043a\u043e\u043d \u0418\u043e\u0430\u043d\u043d \u0413\u043b\u0435\u0431\u043e\u0432)","\u0434\u0438\u0430\u043a\u043e\u043d \u0418\u043e\u0430\u043d\u043d \u0413\u043b\u0435\u0431\u043e\u0432","3"),new cd("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c \u043d\u0430 \u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 (\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a \u0410\u043d\u0434\u0440\u0435\u0439 \u0421\u043c\u0438\u0440\u043d\u043e\u0432)","\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a \u0410\u043d\u0434\u0440\u0435\u0439 \u0421\u043c\u0438\u0440\u043d\u043e\u0432","5"),new cd("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c \u043d\u0430 \u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 (\u0418\u043b\u044c\u044f \u0420\u044b\u0431\u0430\u043a\u043e\u0432)","\u0418\u043b\u044c\u044f \u0420\u044b\u0431\u0430\u043a\u043e\u0432","6"),new cd("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c (\u0438\u0433\u0443\u043c\u0435\u043d \u0418\u043e\u0430\u0441\u0430\u0444 (\u0421\u043e\u0440\u043e\u043a\u0438\u043d), \u041c\u0430\u043a\u0441\u0438\u043c \u0422\u0430\u043d\u0446\u0443\u0440\u043e\u0432)","\u0438\u0433\u0443\u043c\u0435\u043d \u0418\u043e\u0430\u0441\u0430\u0444 (\u0421\u043e\u0440\u043e\u043a\u0438\u043d), \u041c\u0430\u043a\u0441\u0438\u043c \u0422\u0430\u043d\u0446\u0443\u0440\u043e\u0432","7"),new cd("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c \u043d\u0430 \u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 (\u0438\u0435\u0440\u043e\u043c\u043e\u043d\u0430\u0445 \u0422\u0438\u0445\u043e\u043d (\u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432))","\u0438\u0435\u0440\u043e\u043c\u043e\u043d\u0430\u0445 \u0422\u0438\u0445\u043e\u043d (\u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432)","8"),new cd("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c \u043d\u0430 \u0446\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 (\u0438\u0433\u0443\u043c\u0435\u043d \u0410\u043c\u0432\u0440\u043e\u0441\u0438\u0439 (\u0415\u0440\u043c\u0430\u043a\u043e\u0432))","\u0438\u0433\u0443\u043c\u0435\u043d \u0410\u043c\u0432\u0440\u043e\u0441\u0438\u0439 (\u0415\u0440\u043c\u0430\u043a\u043e\u0432)","10")];chessSkillLevels=["0 ~ 1346","1 ~ 1444","2 ~ 1566","3 ~ 1728","4 ~ 1953","5 ~ 2196","6 ~ 2382","7 ~ 2518","8 ~ 2624","9 ~ 2711","10 ~ 2785","11 ~ 2851","12 ~ 2909","13 ~ 2962","14 ~ 3011","15 ~ 3056","16 ~ 3099","17 ~ 3138","18 ~ 3176","19 ~ 3211","20 ~ max"].map((a,h)=>_Q.build().setValue(h).setName(a));newTagsSeparatorTextEditor=ld.builder().setObject(this).setFieldName("tagsSeparator").setDescription("\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c \u0438\u043c\u0451\u043d \u0441\u0432\u043e\u0439\u0441\u0442\u0432 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f:").setUseDefault(!0);get tagsSeparator(){return this.uiConfig.ui.addCommentsSeparator.getStringValue()}set tagsSeparator(a){this.uiConfig.ui.addCommentsSeparator.setStringValue(a)}isCommentsEnabled(){return this.uiConfig.ui.addCommentToName.getBooleanValue()}isRest(){return this.config.isRestServerType()}isMemorial(){return null!=this.data&&this.stgsData.classes.memorialSettings}isCalculator(){return null!=this.data&&this.stgsData.classes.calculatorSettings}isChess(){return null!=this.data&&this.stgsData.classes.chessSettings}isBook(){return null==this.data||this.stgsData.classes.bookSettings}isCompiler(){return null==this.data||this.stgsData.classes.compilerSettings}get settings(){return this.isBook()?this.settingsBooks:this.isMemorial()?this.settingsMemorial:this.isCalculator()?this.settingsCalculator:this.isCompiler()?this.settingsCompiler:this.settingsChess}get stgsData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}translationInfosArray=[];get translationInfos(){let a=this.uiConfig.getAudioTranslations(),h=()=>{this.translationInfosArray=[];for(let d=0;d<a.length;++d){let f=a[d];this.audios.forEach(p=>{p.value==""+ +f.value&&this.translationInfosArray.push(new Pdt(p.nameSimple,f.name,f.value))})}};if(a.length!=this.translationInfosArray.length)h();else for(let d=0;d<a.length;++d)if(!this.translationInfosArray[d].equalsTo(a[d])){h();break}return this.translationInfosArray}deleteTranslationDlg=new Adt;constructor(a,h,d,f){this.config=a,this.uiConfig=h,this.themesSvc=d,this.audioSvc=f,this.settingsCalculator=[h.ui.fixedWidth],this.settingsChess=[h.ui.chessHumanWhiteOrderEnabled,h.ui.fixedWidth],this.settingsCompiler=[h.ui.fixedWidth,h.ui.compilerDebug],this.config.isRestServerType()&&this.settingsCalculator.push(h.ui.systemUpdates),this.settingsBooks=[h.ui.parallel,h.ui.coloredTranslations,h.ui.fineText,h.ui.lineBreaks,h.ui.showFacePage,h.ui.fixedWidth],this.config.isRestServerType()&&this.settingsBooks.push(h.ui.systemUpdates),this.settingsMemorial=[h.ui.sortPersonsPriests,h.ui.sortPersonsNames,h.ui.memorialVerticalView,h.ui.mergeNameOnImport,h.ui.showMolitvy,h.ui.addCommentToName,h.ui.addRepeatCommentToName,h.ui.memorialPsaltir,h.ui.autoDownloadAudioFiles,h.ui.showFacePage,h.ui.fixedWidth,h.ui.memorialUITooltips,h.ui.parallel,h.ui.coloredTranslations,h.ui.fineText,h.ui.lineBreaks],this.config.isRestServerType()&&this.settingsMemorial.push(h.ui.stopServiceFlag,h.ui.systemUpdates),this.settingsMemorialSlava1=[h.ui.memorialSlava1Zdrav,h.ui.memorialSlava1Upok],this.settingsMemorialSlava2=[h.ui.memorialSlava2Zdrav,h.ui.memorialSlava2Upok],this.settingsMemorialSlava3=[h.ui.memorialSlava3Zdrav,h.ui.memorialSlava3Upok]}get currentKafizma(){return""+wn.getKafizmNumberBy(17,this.uiConfig.ui.currentOffset.getNumberValue())}set currentKafizma(a){this.uiConfig.ui.currentOffset.setNumberValue(wn.getOffsetByKafizmNumber(17,+a))}get updateCheckPeriod(){return""+this.uiConfig.ui.updateCheckPeriod.getNumberValue()}set updateCheckPeriod(a){this.uiConfig.ui.updateCheckPeriod.setNumberValue(+a)}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}toggleParallel(){return this.uiConfig.ui.parallel.setBooleanValue(!this.uiConfig.ui.parallel.getAndVerifyBooleanValue()),this}toggleLineBreaks(){return this.uiConfig.ui.lineBreaks.setBooleanValue(!this.uiConfig.ui.lineBreaks.getAndVerifyBooleanValue()),this}toggleColoredTranslations(){return this.uiConfig.ui.coloredTranslations.setBooleanValue(!this.uiConfig.ui.coloredTranslations.getAndVerifyBooleanValue()),this}isRedTheme(){return this.config.isRedTheme()}isLight(){return this.themesSvc.isLight()}isNight(){return this.themesSvc.isNight()}isAutoTheme(){return this.themesSvc.isAutoTheme()}onToggleAutoTheme(){this.themesSvc.onToggleAutoTheme()}switchToLight(){this.themesSvc.switchToLight()}switchToNight(){this.themesSvc.switchToNight()}downloadAll(){this.audioSvc.downloadAll(a=>(this.translationLoadingPersantage=Math.round(100*a)/100,!0),()=>{this.translationLoadingPersantage=100})}isTranslationDownloading(){return this.config.isRestServerType()&&this.translationLoadingPersantage>0&&this.translationLoadingPersantage<100}isTranslationDownloadNeeded(a){return this.config.isRestServerType()&&(!a||a&&this.uiConfig.ui.autoDownloadAudioFiles.getBooleanValue())&&this.isMemorial()}deleteTranslation(a){this.deleteTranslationDlg.currentName=a.name,this.deleteTranslationDlg.modalFlag=!0}deleteTranslationDirect(){this.config.post(()=>{let a=this.translationInfos.findIndex(f=>f.name==this.deleteTranslationDlg.currentName);a<0||a>=0&&a<this.translationInfos.length&&this.uiConfig.deleteAudioTranslation(this.translationInfos[a].value),this.deleteTranslationDlg.modalFlag=!1})}getCompilerRunMode(a){return["\u0425\u043e\u043b\u0441\u0442+\u041b\u043e\u0433","\u0425\u043e\u043b\u0441\u0442","\u041b\u043e\u0433"][a]||"\u041d\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c"}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(Ys),V(uv))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-settings"]],inputs:{data:"data"},decls:46,vars:41,consts:[["clrInline","",4,"ngIf"],["clrInline",""],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","top-space",4,"ngIf"],["clrSuccess","","clrLabeled","",3,"clrValue",4,"ngIf"],["class","btn btn-primary btn-block",3,"click",4,"ngIf"],[1,"top-space","bottom-space"],[1,"btn-group"],[3,"ngClass","click"],["shape","sun","solid",""],["shape","moon","solid",""],[1,"s0",3,"clrModalOpen","clrModalOpenChange","click"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["type","radio","clrRadio","",3,"name","value","ngModel","ngModelChange"],["type","checkbox","clrToggle","",3,"name","value","ngModel","ngModelChange"],[1,"top-space"],[3,"data"],[3,"slava"],["clrSuccess","","clrLabeled","",3,"clrValue"],[1,"btn","btn-primary","btn-block",3,"click"],["shape","download"],["class","btn btn-primary btn-block",3,"click",4,"ngFor","ngForOf"],["shape","times"]],template:function(h,d){1&h&&(X(0,Ght,4,3,"clr-radio-container",0),E(1,"clr-toggle-container",1)(2,"label"),H(3,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:"),M(),X(4,Xht,4,4,"clr-toggle-wrapper",2),M(),X(5,Kht,4,2,"clr-radio-container",0),X(6,edt,4,2,"clr-radio-container",0),X(7,idt,4,3,"clr-radio-container",0),X(8,rdt,1,0,"app-dynamic-chess-statistics",3),X(9,adt,4,3,"clr-radio-container",0),X(10,udt,4,2,"clr-radio-container",0),X(11,fdt,4,2,"clr-radio-container",0),X(12,pdt,5,0,"div",4),X(13,gdt,5,0,"div",4),X(14,mdt,2,1,"div",4),X(15,vdt,5,0,"div",4),X(16,ydt,6,2,"div",4),X(17,Odt,6,2,"div",4),X(18,Sdt,6,2,"div",4),X(19,xdt,4,1,"clr-radio-container",0),X(20,Tdt,2,0,"h4",3),X(21,kdt,1,1,"clr-progress-bar",5),X(22,Ddt,3,0,"button",6),X(23,Edt,2,1,"div",3),E(24,"div",7)(25,"clr-toggle-container",1)(26,"label"),H(27,"\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441:"),M()(),E(28,"div",8)(29,"button",9),Y("click",function(){return d.switchToLight()}),se(30,"cds-icon",10),M(),E(31,"button",9),Y("click",function(){return d.onToggleAutoTheme()}),se(32,"cds-icon",10)(33,"cds-icon",11),M(),E(34,"button",9),Y("click",function(){return d.switchToNight()}),se(35,"cds-icon",11),M()()(),E(36,"clr-modal",12),Y("clrModalOpenChange",function(p){return d.deleteTranslationDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(37,"h3",13),H(38,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430:"),M(),E(39,"div",14),H(40),M(),E(41,"div",15)(42,"button",16),Y("click",function(){return d.deleteTranslationDlg.modalFlag=!1}),H(43,"\u041e\u0442\u043c\u0435\u043d\u0430"),M(),E(44,"button",17),Y("click",function(){return d.deleteTranslationDirect()}),H(45,"Ok"),M()()()),2&h&&(R("ngIf",d.isBook()||d.isMemorial()),I(4),R("ngForOf",d.settings),I(1),R("ngIf",d.isCompiler()),I(1),R("ngIf",d.isChess()),I(1),R("ngIf",d.isChess()),I(1),R("ngIf",d.isChess()),I(1),R("ngIf",d.isMemorial()),I(1),R("ngIf",d.isMemorial()),I(1),R("ngIf",d.isRest()),I(1),R("ngIf",d.isMemorial()),I(1),R("ngIf",d.isMemorial()&&d.isCommentsEnabled()),I(1),R("ngIf",d.isMemorial()&&d.isCommentsEnabled()),I(1),R("ngIf",d.isMemorial()),I(1),R("ngIf",d.isMemorial()),I(1),R("ngIf",d.isMemorial()),I(1),R("ngIf",d.isMemorial()),I(1),R("ngIf",d.isMemorial()),I(1),R("ngIf",d.isTranslationDownloading()),I(1),R("ngIf",d.isTranslationDownloading()),I(1),R("ngIf",d.isTranslationDownloadNeeded(!0)&&!d.isTranslationDownloading()),I(1),R("ngIf",!d.isTranslationDownloading()),I(6),R("ngClass",Dg(26,vQ,!d.isRedTheme()&&d.isLight(),d.isRedTheme()&&d.isLight(),!d.isRedTheme()&&!d.isLight(),d.isRedTheme()&&!d.isLight())),I(2),R("ngClass",Dg(31,vQ,!d.isRedTheme()&&d.isAutoTheme(),d.isRedTheme()&&d.isAutoTheme(),!d.isRedTheme()&&!d.isAutoTheme(),d.isRedTheme()&&!d.isAutoTheme())),I(3),R("ngClass",Dg(36,vQ,!d.isRedTheme()&&d.isNight(),d.isRedTheme()&&d.isNight(),!d.isRedTheme()&&!d.isNight(),d.isRedTheme()&&!d.isNight())),I(2),R("clrModalOpen",d.deleteTranslationDlg.modalFlag),I(4),Kt(' \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0432\u0443\u043a\u043e\u0432\u043e\u0435 \u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430: "',d.deleteTranslationDlg.currentName,'"? '))},dependencies:[ei,Gn,mn,Vn,Vo,$o,Lr,rd,rv,id,tO,KP,eO,uO,za,rh,H1,sa,Fo,Gp,B1e,Vht,Uht,Wht],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}"]})}return c})();function Idt(c,l){if(1&c&&(E(0,"span",3),H(1," ? ! "),E(2,"span",4),H(3),M()()),2&c){const a=Q();R("ngClass",a.getSpanClass(null)),I(3),ut(a.toolbarData.warningMessage)}}function Rdt(c,l){if(1&c){const a=Ae();E(0,"span",5),Y("click",function(){const f=ce(a).$implicit;return ue(Q().onItem(f))}),H(1),M()}if(2&c){const a=l.$implicit;R("ngClass",Q().getSpanClass(a)),I(1),ut(a.text)}}const Ldt=function(c){return{"bottom-space":!0,"no-print":c}};let SA=(()=>{class c{config;uiConfig;data;currentItem=null;tooltipsItem=new ka("","",!1);get toolbarData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h){this.config=a,this.uiConfig=h}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){var h={};return h["s"+this.uiConfig.ui.fontSize.getStringValue()]=!0,h}onItem(a){this.currentItem=a,this.toolbarData.onClick&&this.toolbarData.onClick(a)}getSpanClass(a){if(a){let h=this.getSpanClassRaw(a);return a.getSpanClassDetector.checkAndGetValue(h)}{let h=this.getSpanClassRaw(this.tooltipsItem);return h.tooltip=!0,h["tooltip-sm"]=!0,h["tooltip-right"]=!0,h[this.toolbarData.classes.labelNormal]=!1,h[this.toolbarData.classes.labelSelected]=!1,h["label-success"]=!0,this.tooltipsItem.getSpanClassDetector.checkAndGetValue(h)}}getSpanClassRaw(a){let h={cursor:!0,label:!0};return h[this.toolbarData.classes.labelNormal]=!a.selected,h[this.toolbarData.classes.labelSelected]=a.selected,h["hs"+this.uiConfig.ui.fontSize.getStringValue()]=!0,h}isWarningMessage(){return!!this.toolbarData.warningMessage}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-content-toolbar"]],inputs:{data:"data"},decls:3,vars:5,consts:[[3,"ngClass"],["href","javascript://","role","tooltip","aria-haspopup","true",3,"ngClass",4,"ngIf"],[3,"ngClass","click",4,"ngFor","ngForOf"],["href","javascript://","role","tooltip","aria-haspopup","true",3,"ngClass"],[1,"tooltip-content"],[3,"ngClass","click"]],template:function(h,d){1&h&&(E(0,"div",0),X(1,Idt,4,2,"span",1),X(2,Rdt,2,2,"span",2),M()),2&h&&(R("ngClass",xr(3,Ldt,d.toolbarData.classes.noPrint)),I(1),R("ngIf",d.isWarningMessage()),I(1),R("ngForOf",d.toolbarData.items))},dependencies:[ei,Gn,mn]})}return c})(),yQ=(()=>{class c{config;data;clazz={};get spinnerData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}get type(){return this.data&&this.data.classes.type?this.data.classes.type:""}constructor(a){this.config=a}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){var a=this.spinnerData?.classes;return this.clazz.spinner=!0,this.clazz["spinner-inline"]=!a||a.spinnerInline,this.clazz}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-spinner"]],inputs:{data:"data"},decls:5,vars:3,consts:[[3,"ngClass"]],template:function(h,d){1&h&&(E(0,"span")(1,"span",0),H(2),M(),E(3,"span"),H(4),M()()),2&h&&(I(1),R("ngClass",d.getClasses()),I(1),Kt(" ",d.text," "),I(2),Kt(" ",d.text," "))},dependencies:[ei]})}return c})();function Ndt(c,l){1&c&&se(0,"cds-icon",18)}function Fdt(c,l){1&c&&se(0,"cds-icon",19)}function Bdt(c,l){if(1&c){const a=Ae();E(0,"clr-input-container",14)(1,"label"),X(2,Ndt,1,0,"cds-icon",15),X(3,Fdt,1,0,"cds-icon",16),H(4),M(),E(5,"input",17),Y("ngModelChange",function(d){return ue(ce(a).$implicit.value=d)}),M(),E(6,"clr-control-error"),H(7,"\u041f\u043e\u043b\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043e!"),M()()}if(2&c){const a=l.$implicit,h=Q(2);R("hidden","\u043c\u0435\u0442\u043a\u0438"==a.name),I(2),R("ngIf",h.isEventProperty(a,!1)),I(1),R("ngIf",h.isEventProperty(a,!0)),I(1),Kt(" ",a.name,""),I(1),Cc("placeholder","\u043f\u043e\u0432\u0442\u043e\u0440\u044b"==a.name?"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e":"\u0422\u0435\u043a\u0441\u0442"),ty("name","prop_",a.name,""),R("ngModel",a.value)}}function Vdt(c,l){if(1&c&&(E(0,"div",20)(1,"clr-toggle-container",4)(2,"label"),H(3,"\u041c\u0435\u0442\u043a\u0438:"),M()(),se(4,"app-dynamic-tags-editor",21),M()),2&c){const a=Q(2);I(4),R("slava",10)("container",a.myLabelsProperty)("fieldName","value")}}function $dt(c,l){if(1&c){const a=Ae();E(0,"button",22),Y("click",function(){return ce(a),ue(Q(2).deletePerson())}),se(1,"cds-icon",23),M()}}function zdt(c,l){if(1&c){const a=Ae();E(0,"button",12),Y("click",function(){return ce(a),ue(Q(2).addProperty())}),se(1,"cds-icon",24),M()}}function Udt(c,l){if(1&c){const a=Ae();E(0,"button",25),Y("click",function(){ce(a);const d=Q(2);return ue(d.savePerson(d.person))}),H(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),M()}}function Qdt(c,l){if(1&c){const a=Ae();E(0,"form",1)(1,"clr-input-container")(2,"label"),H(3,"\u0418\u043c\u044f"),M(),E(4,"input",2),Y("ngModelChange",function(d){return ce(a),ue(Q().person.name=d)}),M()(),E(5,"clr-input-container")(6,"label"),H(7,"\u041a\u0430\u0444\u0438\u0437\u043c\u0430"),M(),E(8,"input",3),Y("ngModelChange",function(d){return ce(a),ue(Q().kafizma=d)}),M()(),E(9,"clr-checkbox-container",4)(10,"label"),H(11,"\u0421\u0442\u0430\u0442\u0443\u0441"),M(),E(12,"clr-checkbox-wrapper")(13,"input",5),Y("ngModelChange",function(d){return ce(a),ue(Q().person.live=d)}),M(),E(14,"label"),H(15,"\u0416\u0438\u0432\u043e\u0439"),M()()(),X(16,Bdt,8,7,"clr-input-container",6),X(17,Vdt,5,3,"div",7),E(18,"span",8),H(19,"\xa0"),M(),E(20,"clr-input-container")(21,"label"),H(22,"*\u041d\u043e\u0432\u043e\u0435"),M(),E(23,"input",9),Y("ngModelChange",function(d){return ce(a),ue(Q().newName=d)}),M()(),E(24,"span",8),H(25,"\xa0"),M(),X(26,$dt,2,0,"button",10),X(27,zdt,2,0,"button",11),E(28,"button",12),Y("click",function(){ce(a);const d=Q();return ue(d.revertPerson(d.person))}),H(29," \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c "),M(),X(30,Udt,2,0,"button",13),M()}if(2&c){const a=Q();I(4),R("ngModel",a.person.name),I(4),R("ngModel",a.kafizma),I(5),R("ngModel",a.person.live),I(3),R("ngForOf",a.properties.properties),I(1),R("ngIf",a.properties),I(6),R("ngModel",a.newName),I(3),R("ngIf",a.personDeletionEnabled),I(1),R("ngIf",a.newName),I(3),R("ngIf",a.person.dirty)}}let Hdt=(()=>{class c{ks;eventParserSvc;config;uiConfig;repeatCounterSvc;personDeletionEnabled=!1;memkey=-1;data=null;changesDetectorPerson=Rr.builder();get person(){return this.data?.person}get kafizma(){return!this.person||this.person.offset<0?0:wn.getKafizmNumberBy(17,this.person.offset)}set kafizma(a){if(a<=0)this.person&&(this.person.offset=-1);else if(this.person){let h=wn.getOffsetByKafizmNumber(17,a);this.person.offset=h,this.uiConfig.ui.currentPersonOffset.setNumberValue(h)}}myProperties=new Yn;newName="";myLabelsProperty=null;get properties(){return this.syncData(),this.myProperties}updateProperties(){this.newName="",this.properties.setOnChangeCallback(()=>{this.person&&this.person.setDirty()}),this.properties.load(this.person?this.person.description:""),this.properties.properties.find(a=>a.name==Yn.TEXT)||this.properties.pushNew(Yn.TEXT,""),this.properties.properties.find(a=>a.name==Yn.LABELS)||this.properties.pushNew(Yn.LABELS,""),this.myLabelsProperty=this.properties.properties.find(a=>a.name==Yn.LABELS)}constructor(a,h,d,f,p){this.ks=a,this.eventParserSvc=h,this.config=d,this.uiConfig=f,this.repeatCounterSvc=p}ngOnDestroy(){}ngOnInit(){this.updateProperties()}savePerson(a){a.description=this.properties.toString(),this.ks.save(this.memkey,a,!0).then(h=>{this.data?.click(!0)},h=>{this.config.addAlert(Bi.of(""+h,"OK",15)),this.data?.click(!1)})}revertPerson(a){a.revertDirty(),this.data?.click(!1)}addProperty(){this.newName&&(this.properties.pushNew(this.newName,""),this.newName="")}isEventProperty(a,h){try{let d=a.value?this.eventParserSvc.parseEvent(a.value):null;return null!=d&&h==d.isToday()}catch{}return!1}syncData(){this.changesDetectorPerson.checkAndUpdate(this.data?.person)&&this.config.post(()=>{this.updateProperties()})}deletePerson(){this.data&&this.ks.deletePersons([this.data.person]).then(a=>{a&&a.success?this.data?.click(!0):(this.config.addAlert(Bi.of("\u041e\u0448\u0438\u0431\u043a\u0430: "+a?.error,"OK",15)),this.data?.click(!1))},a=>{this.config.addAlert(Bi.of(""+a,"OK",15)),this.data?.click(!1)})}getRepeatCount(){return this.data?this.repeatCounterSvc.getRepeatCountAndFirstMemorial(this.data.person.tags).repeatCount:""}static \u0275fac=function(h){return new(h||c)(V(Xh),V(bA),V(Zt),V(wn),V(CA))};static \u0275cmp=qe({type:c,selectors:[["app-person-details"]],inputs:{data:"data"},decls:1,vars:1,consts:[["clrForm","",4,"ngIf"],["clrForm",""],["clrInput","","placeholder","\u0418\u043c\u044f","name","name",3,"ngModel","ngModelChange"],["clrInput","","placeholder","\u0418\u043d\u0434\u0435\u043a\u0441","name","offset",3,"ngModel","ngModelChange"],["clrInline",""],["type","checkbox","clrCheckbox","","name","options","value","option1",3,"ngModel","ngModelChange"],[3,"hidden",4,"ngFor","ngForOf"],["class","top-space",4,"ngIf"],[1,"clr-subtext"],["clrInput","","placeholder","\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e","name","prop_new_name",3,"ngModel","ngModelChange"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],["class","btn btn-success",3,"click",4,"ngIf"],[3,"hidden"],["shape","event",4,"ngIf"],["shape","event","solid","",4,"ngIf"],["clrInput","","required","",3,"placeholder","name","ngModel","ngModelChange"],["shape","event"],["shape","event","solid",""],[1,"top-space"],[3,"slava","container","fieldName"],[1,"btn","btn-danger",3,"click"],["shape","trash"],["shape","plus"],[1,"btn","btn-success",3,"click"]],template:function(h,d){1&h&&X(0,Qdt,31,9,"form",0),2&h&&R("ngIf",d.person)},dependencies:[Gn,mn,Vn,Lr,_z,$p,rd,rv,id,zp,pf,Jh,za,rh,sa,Kh,Z1,Fo,Nc,B1e],styles:[".template-editor[_ngcontent-%COMP%]{height:calc(100vh - 290px)}.template-editor-2[_ngcontent-%COMP%]{height:calc(100vh - 230px)}"]})}return c})();const Wdt=function(c,l){return{flyoutdown:c,flyoutup:l,"fade-in-3-strict":!0}},Zdt=function(c,l){return{FAB:c,"FAB-inv":l,cursor:!0}},jdt=function(c,l){return{"vertical-center":!0,"text-color":c,"text-color-inv":l}};function Gdt(c,l){if(1&c){const a=Ae();E(0,"div",2)(1,"div",3),Y("click",function(d){return ce(a),ue(Q().onFABMainClick(d,null))}),E(2,"div",2),H(3),M()()()}if(2&c){const a=Q();R("ngClass",mr(4,Wdt,a.fabData.down,!a.fabData.down)),I(1),R("ngClass",mr(7,Zdt,!a.inv,a.inv)),I(1),R("ngClass",mr(10,jdt,!a.inv,a.inv)),I(1),ut(a.fabData.mainBtnText)}}function Xdt(c,l){if(1&c&&se(0,"cds-icon",9),2&c){const a=Q(2).$implicit;Je("shape",a?a.shape:"")}}function Ydt(c,l){if(1&c&&(E(0,"span",10),H(1),M()),2&c){const a=Q(2).$implicit;I(1),ut(a.name)}}const z1e=function(c,l){return{"vertical-center2":!0,"text-color":c,"text-color-inv":l}};function qdt(c,l){if(1&c&&(E(0,"div",2),X(1,Xdt,1,1,"cds-icon",7),X(2,Ydt,2,1,"span",8),M()),2&c){const a=Q().$implicit,h=Q(2);R("ngClass",mr(3,z1e,!h.inv,h.inv)),I(1),R("ngIf",a.shape),I(1),R("ngIf",!a.shape)}}function Kdt(c,l){if(1&c&&(E(0,"span",11),H(1),M()),2&c){const a=Q().$implicit;I(1),ut(a?a.name:"")}}const Jdt=function(c,l,a){return{FAB2:c,"FAB2-inv":l,FAB2None:a,cursor:!0}};function eft(c,l){if(1&c){const a=Ae();E(0,"div",5),Y("click",function(d){const p=ce(a).$implicit;return ue(Q(2).onFABClick(d,p))})("mouseenter",function(d){const p=ce(a).$implicit;return ue(Q(2).onPreview(d,p))})("mouseleave",function(d){return ce(a),ue(Q(2).onPreview(d,null))}),X(1,qdt,3,6,"div",1),X(2,Kdt,2,1,"span",6),M()}if(2&c){const a=l.$implicit,h=Q(2);R("ngClass",a2(3,Jdt,!h.inv&&null!=a,h.inv&&null!=a,null==a)),I(1),R("ngIf",a),I(1),R("ngIf",a)}}const tft=function(c,l,a,h){return{flyoutdown2:c,flyoutup2:l,"fade-in-1":a,"fade-out-300":h}};function nft(c,l){if(1&c&&(E(0,"div",2),X(1,eft,3,7,"div",4),M()),2&c){const a=Q();R("ngClass",Dg(2,tft,a.fabData.down,!a.fabData.down,a.fadeIn,!a.fadeIn)),I(1),R("ngForOf",a.fabInfosVert)}}function ift(c,l){if(1&c&&se(0,"cds-icon",9),2&c){const a=Q(2).$implicit;Je("shape",a?a.shape:"")}}function rft(c,l){if(1&c&&(E(0,"span",10),H(1),M()),2&c){const a=Q(2).$implicit;I(1),ut(a.name)}}function sft(c,l){if(1&c&&(E(0,"div",2),X(1,ift,1,1,"cds-icon",7),X(2,rft,2,1,"span",8),M()),2&c){const a=Q().$implicit,h=Q(2);R("ngClass",mr(3,z1e,!h.inv,h.inv)),I(1),R("ngIf",a.shape),I(1),R("ngIf",!a.shape)}}function oft(c,l){if(1&c&&(E(0,"span",11),H(1),M()),2&c){const a=Q().$implicit;I(1),ut(a?a.name:"")}}const aft=function(c,l,a){return{FAB3:c,"FAB3-inv":l,FAB3None:a,cursor:!0}};function lft(c,l){if(1&c){const a=Ae();E(0,"div",5),Y("click",function(d){const p=ce(a).$implicit;return ue(Q(2).onFABClick(d,p))})("mouseenter",function(d){const p=ce(a).$implicit;return ue(Q(2).onPreview(d,p))})("mouseleave",function(d){return ce(a),ue(Q(2).onPreview(d,null))}),X(1,sft,3,6,"div",1),X(2,oft,2,1,"span",6),M()}if(2&c){const a=l.$implicit,h=Q(2);R("ngClass",a2(3,aft,!h.inv&&null!=a,h.inv&&null!=a,null==a)),I(1),R("ngIf",a),I(1),R("ngIf",a)}}const cft=function(c,l,a,h){return{flyoutdown3:c,flyoutup3:l,"fade-in-1":a,"fade-out-300":h}};function uft(c,l){if(1&c&&(E(0,"div",2),X(1,lft,3,7,"div",4),M()),2&c){const a=Q();R("ngClass",Dg(2,cft,a.fabData.down,!a.fabData.down,a.fadeIn,!a.fadeIn)),I(1),R("ngForOf",a.fabInfosHor)}}let wA=(()=>{class c{config;data=yA.builder();inv=!1;fadeIn=!0;singleFab=null;set fullScreen(a){this.fabData.setFullScreen(a)}set down(a){this.fabData.setDown(a)}set infos(a){this.setupInfos(a)}fabMenuEnabled=!1;fabInfosVert=[];fabInfosHor=[];onFABChange=new Tt;onFABPreview=new Tt;get fabData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a){this.config=a}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return this.fabData.classes.getCurValue(()=>this.getClassesRaw())}getClassesRaw(){return{}}onFABMainClick(a,h){if(this.singleFab){let d=this.singleFab;this.config.post(()=>{this.runMenuItemClick(d)},1)}else this.fabMenuEnabled?(this.fabInfosVert=[...this.fabInfosVert],this.fabInfosHor=[...this.fabInfosHor],this.fadeIn=!1,this.config.post(()=>{this.fabMenuEnabled=!1},300)):(this.fabInfosVert=[...this.fabInfosVert],this.fabInfosHor=[...this.fabInfosHor],this.fabMenuEnabled=!this.fabMenuEnabled,this.fadeIn=!0)}onFABClick(a,h){h&&(this.fabMenuEnabled=!this.fabMenuEnabled,this.config.post(()=>{this.runMenuItemClick(h)},1))}runMenuItemClick(a){a&&this.onFABChange.emit(a)}setupInfos(a){this.fabData.infos=a,this.fabInfosVert=this.fabData.infos.filter((f,p)=>p%2==0).reverse(),this.fabInfosHor=this.fabData.infos.filter((f,p)=>p%2!=0).reverse();let d=this.fabData.infos.filter(f=>!f?.generated);for(this.singleFab=d&&1==d.length?d[0]:null;this.fabInfosVert.length<9;)this.fabInfosVert=[null,...this.fabInfosVert];for(;this.fabInfosHor.length<9;)this.fabInfosHor=[null,...this.fabInfosHor];this.fabData.down||this.fabInfosVert.reverse()}onPreview(a,h){this.onFABPreview.emit(h)}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-fab"]],inputs:{data:"data",inv:"inv",fullScreen:"fullScreen",down:"down",infos:"infos"},outputs:{onFABChange:"onFABChange",onFABPreview:"onFABPreview"},decls:4,vars:3,consts:[[1,"fab2Settings"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click"],[3,"ngClass","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[3,"ngClass","click","mouseenter","mouseleave"],["class","tooltiptext",4,"ngIf"],["size","md",4,"ngIf"],["class","iconText",4,"ngIf"],["size","md"],[1,"iconText"],[1,"tooltiptext"]],template:function(h,d){1&h&&(E(0,"div",0),X(1,Gdt,4,13,"div",1),X(2,nft,2,7,"div",1),X(3,uft,2,7,"div",1),M()),2&h&&(I(1),R("ngIf",d.fabData.fullScreen),I(1),R("ngIf",d.fabMenuEnabled),I(1),R("ngIf",d.fabMenuEnabled))},dependencies:[ei,Gn,mn,Vn],styles:[".flyout[_ngcontent-%COMP%]{position:fixed;z-index:100;top:0;right:0;width:85px;height:35px;background:none;transition:all .3s ease-in-out}.fab4Settings[_ngcontent-%COMP%]{--fab-item-count-x: 9;--fab-item-count-y: 9;--fab-main-top: 1rem;--fab-main-right: 1rem;--fab-main-width: 4rem;--fab-main-height: 4rem;--fab-sub-width: 3rem;--fab-sub-height: 3rem;--fab-sub-ext: 1rem;--fab-tooltip-bottom: 200%;--fab-tooltip-up-bottom: -140%}.fab2Settings[_ngcontent-%COMP%]{--fab-item-count-x: 9;--fab-item-count-y: 9;--fab-main-top: 1rem;--fab-main-right: 1rem;--fab-main-width: 3rem;--fab-main-height: 3rem;--fab-sub-width: 2rem;--fab-sub-height: 2rem;--fab-sub-ext: 1rem;--fab-tooltip-bottom: 250%;--fab-tooltip-up-bottom: -200%}.flyoutup[_ngcontent-%COMP%]{position:fixed;z-index:100;top:var(--fab-main-top);right:var(--fab-main-right);width:var(--fab-main-width);height:var(--fab-main-height);background:none;transition:all .3s ease-in-out}.flyoutdown[_ngcontent-%COMP%]{position:fixed;z-index:100;bottom:0;right:0;width:calc(var(--fab-main-width) + 1rem);height:calc(var(--fab-main-height) + 1rem);background:none;transition:all .3s ease-in-out}.FAB[_ngcontent-%COMP%]{width:var(--fab-main-width);height:var(--fab-main-height);border-color:var(--color-fgFAB);background-color:var(--color-bgFAB);color:var(--color-fgFAB);border-radius:calc(var(--fab-main-width)/2);position:relative}.FAB-inv[_ngcontent-%COMP%]{width:var(--fab-main-width);height:var(--fab-main-height);border-color:var(--color-fgFAB-inv);background-color:var(--color-bgFAB-inv);color:var(--color-fgFAB-inv);border-radius:calc(var(--fab-main-width)/2);position:relative}.text-color[_ngcontent-%COMP%]{color:var(--color-fgFAB)}.text-color-inv[_ngcontent-%COMP%]{color:var(--color-fgFAB-inv)}.vertical-center[_ngcontent-%COMP%]{font-size:calc(var(--fab-main-width)/2);text-align:center;width:var(--fab-main-width);margin:0;position:absolute;top:50%;transform:translateY(-50%)}.FAB[_ngcontent-%COMP%]:hover{border-color:#6495ed;box-shadow:1px 1px 2px #000,0 0 25px #6495ed,0 0 5px var(--color-bgFAB)}.FAB-inv[_ngcontent-%COMP%]:hover{border-color:#6495ed;box-shadow:1px 1px 2px #000,0 0 25px #6495ed,0 0 5px var(--color-bgFAB-inv)}.container[_ngcontent-%COMP%]{width:100%}.iconText[_ngcontent-%COMP%]{font-size:calc(var(--fab-sub-width)/2)}.FAB2None[_ngcontent-%COMP%]{margin:calc((var(--fab-main-width) - var(--fab-sub-width))/2);width:var(--fab-sub-width);height:var(--fab-sub-height);background-color:transparent;border-radius:calc(var(--fab-sub-width)/2);position:relative}.FAB2[_ngcontent-%COMP%]{margin:calc((var(--fab-main-width) - var(--fab-sub-width))/2);width:var(--fab-sub-width);height:var(--fab-sub-height);border-width:1px;border-style:solid;border-color:var(--color-fgFAB);background-color:var(--color-bgFAB);color:var(--color-fgFAB);border-radius:calc(var(--fab-sub-width)/2);position:relative}.FAB2-inv[_ngcontent-%COMP%]{margin:calc((var(--fab-main-width) - var(--fab-sub-width))/2);width:var(--fab-sub-width);height:var(--fab-sub-height);border-width:1px;border-style:solid;border-color:var(--color-fgFAB-inv);background-color:var(--color-bgFAB-inv);color:var(--color-fgFAB-inv);border-radius:calc(var(--fab-sub-width)/2);position:relative}.FAB2[_ngcontent-%COMP%]:hover{border-color:#7ebce4;box-shadow:1px 1px 2px #000,0 0 25px #7ebce4,0 0 5px var(--color-bgFAB)}.FAB2-inv[_ngcontent-%COMP%]:hover{border-color:#7ebce4;box-shadow:1px 1px 2px #000,0 0 25px #7ebce4,0 0 5px var(--color-bgFAB-inv)}.FAB2[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:120px;border-width:1px;border-color:var(--color-fgFAB);background-color:var(--color-bgFAB);color:var(--color-fgFAB);text-align:center;vertical-align:middle;border-radius:6px;position:absolute;z-index:1;top:+25%;right:110%}.FAB2-inv[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:120px;border-width:1px;border-color:var(--color-fgFAB-inv);background-color:var(--color-bgFAB-inv);color:var(--color-fgFAB-inv);text-align:center;vertical-align:middle;border-radius:6px;position:absolute;z-index:1;top:+25%;right:110%}.FAB2[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;border-color:#6495ed;box-shadow:1px 1px 2px #000,0 0 25px #7ebce4,0 0 5px var(--color-bgFAB)}.FAB2-inv[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;border-color:#6495ed;box-shadow:1px 1px 2px #000,0 0 25px #7ebce4,0 0 5px var(--color-bgFAB-inv)}.vertical-center2[_ngcontent-%COMP%]{font-size:calc(var(--fab-sub-width)/2);text-align:center;width:var(--fab-sub-width);margin:0;position:absolute;top:50%;transform:translateY(-50%)}.flyoutdown2[_ngcontent-%COMP%]{position:fixed;z-index:100;bottom:calc(var(--fab-main-height) + var(--fab-main-right) + calc((var(--fab-main-height) - var(--fab-sub-height))/2));right:0;width:calc(var(--fab-main-width) + var(--fab-main-right));height:calc(calc(var(--fab-sub-height) + calc((var(--fab-main-height) - var(--fab-sub-height))/2)) * var(--fab-item-count-y));background:none;transition:all .3s ease-in-out}.flyoutup2[_ngcontent-%COMP%]{position:fixed;z-index:100;top:calc(var(--fab-main-width) + var(--fab-main-top));right:0rem;width:calc(var(--fab-main-width) + var(--fab-main-right));height:calc(calc(var(--fab-sub-height) + calc((var(--fab-main-height) - var(--fab-sub-height))/2)) * var(--fab-item-count-y));background:none;transition:all .3s ease-in-out}.FAB3[_ngcontent-%COMP%]{margin:calc((var(--fab-main-width) - var(--fab-sub-width))/4);width:var(--fab-sub-width);height:var(--fab-sub-height);border-width:1px;border-style:solid;border-color:var(--color-fgFAB);background-color:var(--color-bgFAB);color:var(--color-fgFAB);border-radius:calc(var(--fab-sub-width)/2);position:relative;display:inline-block}.FAB3-inv[_ngcontent-%COMP%]{margin:calc((var(--fab-main-width) - var(--fab-sub-width))/4);width:var(--fab-sub-width);height:var(--fab-sub-height);border-width:1px;border-style:solid;border-color:var(--color-fgFAB-inv);background-color:var(--color-bgFAB-inv);color:var(--color-fgFAB-inv);border-radius:calc(var(--fab-sub-width)/2);position:relative;display:inline-block}.FAB3None[_ngcontent-%COMP%]{margin:.25rem;width:var(--fab-sub-width);height:var(--fab-sub-height);background-color:transparent;border-radius:calc(var(--fab-sub-width)/2);position:relative;display:inline-block}.FAB3[_ngcontent-%COMP%]:hover{border-color:#7ebce4;box-shadow:1px 1px 2px #000,0 0 25px #7ebce4,0 0 5px var(--color-bgFAB)}.FAB3-inv[_ngcontent-%COMP%]:hover{border-color:#7ebce4;box-shadow:1px 1px 2px #000,0 0 25px #7ebce4,0 0 5px var(--color-bgFAB-inv)}.flyoutdown3[_ngcontent-%COMP%]   .FAB3[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:120px;border-width:1px;border-color:var(--color-fgFAB);background-color:var(--color-bgFAB);color:var(--color-fgFAB);text-align:center;vertical-align:middle;border-radius:6px;transform:rotate(-90deg);position:absolute;z-index:1;bottom:200%;left:50%;margin-left:-60px}.flyoutup3[_ngcontent-%COMP%]   .FAB3[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:120px;border-width:1px;border-color:var(--color-fgFAB);background-color:var(--color-bgFAB);color:var(--color-fgFAB);text-align:center;vertical-align:middle;border-radius:6px;transform:rotate(-90deg);position:absolute;z-index:1;bottom:var(--fab-tooltip-bottom);left:50%;margin-left:-60px}.flyoutdown3[_ngcontent-%COMP%]   .FAB3-inv[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:120px;border-width:1px;border-color:var(--color-fgFAB-inv);background-color:var(--color-bgFAB-inv);color:var(--color-fgFAB-inv);text-align:center;vertical-align:middle;border-radius:6px;transform:rotate(-90deg);position:absolute;z-index:1;bottom:var(--fab-tooltip-bottom);left:50%;margin-left:-60px}.flyoutup3[_ngcontent-%COMP%]   .FAB3-inv[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:120px;border-width:1px;border-color:var(--color-fgFAB-inv);background-color:var(--color-bgFAB-inv);color:var(--color-fgFAB-inv);text-align:center;vertical-align:middle;border-radius:6px;transform:rotate(-90deg);position:absolute;z-index:1;bottom:var(--fab-tooltip-up-bottom);left:50%;margin-left:-60px}.flyoutdown3[_ngcontent-%COMP%]   .FAB3[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%], .flyoutup3[_ngcontent-%COMP%]   .FAB3[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;border-color:#6495ed;box-shadow:1px 1px 2px #000,0 0 25px #7ebce4,0 0 5px var(--color-bgFAB)}.flyoutdown3[_ngcontent-%COMP%]   .FAB3-inv[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%], .flyoutup3[_ngcontent-%COMP%]   .FAB3-inv[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;border-color:#6495ed;box-shadow:1px 1px 2px #000,0 0 25px #7ebce4,0 0 5px var(--color-bgFAB-inv)}.flyoutdown3[_ngcontent-%COMP%]{position:fixed;z-index:999;bottom:0;right:calc(var(--fab-main-width) + var(--fab-main-right) + calc((var(--fab-main-width) - var(--fab-sub-width))/4));width:calc(calc(var(--fab-sub-width) + calc((var(--fab-main-width) - var(--fab-sub-width))/2)) * var(--fab-item-count-x));height:calc(var(--fab-main-height) + .75rem);background:none;transition:all .3s ease-in-out}.flyoutup3[_ngcontent-%COMP%]{position:fixed;z-index:999;top:1rem;right:calc(var(--fab-main-width) + var(--fab-main-right) + calc((var(--fab-main-width) - var(--fab-sub-width))/4));width:calc(calc(var(--fab-sub-width) + calc((var(--fab-main-width) - var(--fab-sub-width))/2)) * var(--fab-item-count-x));height:calc(var(--fab-main-height) + .75rem);background:none;transition:all .3s ease-in-out}"]})}return c})();const hft=["pagesView"];function dft(c,l){if(1&c){const a=Ae();E(0,"app-dynamic-fab",47),Y("onFABChange",function(d){return ce(a),ue(Q().onFABClick(d))}),M()}if(2&c){const a=Q();R("fullScreen",!0)("infos",a.fabInfos)}}function fft(c,l){if(1&c){const a=Ae();E(0,"clr-accordion-panel",60),Y("clrAccordionPanelOpenChange",function(d){return ce(a),ue(Q(2).showSettings=d)}),E(1,"clr-accordion-title"),H(2,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),M(),E(3,"clr-accordion-content"),se(4,"app-dynamic-settings",5),E(5,"div",61)(6,"button",62),Y("click",function(){return ce(a),ue(Q(2).printBook())}),se(7,"cds-icon",63),H(8," \u041f\u0435\u0447\u0430\u0442\u044c "),M()()()()}if(2&c){const a=Q(2);R("clrAccordionPanelOpen",a.showSettings),I(4),R("data",a.settingsData)}}function pft(c,l){if(1&c){const a=Ae();E(0,"clr-accordion-panel",60),Y("clrAccordionPanelOpenChange",function(d){return ce(a),ue(Q(2).filterMemorials=d)}),E(1,"clr-accordion-title"),H(2,"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f"),M(),E(3,"clr-accordion-content"),se(4,"app-dynamic-content-toolbar",5)(5,"app-dynamic-content-toolbar",5),M()()}if(2&c){const a=Q(2);R("clrAccordionPanelOpen",a.filterMemorials),I(4),R("data",a.toolbarMemorialsFilters),I(1),R("data",a.toolbarMemorialsFlags)}}function gft(c,l){if(1&c){const a=Ae();E(0,"clr-dropdown-menu")(1,"label",77),H(2,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),M(),E(3,"div",78),Y("click",function(){return ce(a),ue(Q(3).addMemorial())}),se(4,"cds-icon",72),E(5,"span"),H(6," \u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a"),M()(),E(7,"div",79),Y("click",function(){return ce(a),ue(Q(3).onAddNewPerson())}),se(8,"cds-icon",72),E(9,"span"),H(10," \u0418\u043c\u044f"),M()()()}}function mft(c,l){if(1&c){const a=Ae();E(0,"clr-dropdown-menu",80)(1,"label",77),H(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),M(),E(3,"div",78),Y("click",function(){return ce(a),ue(Q(3).deleteMemorial())}),se(4,"cds-icon",75),E(5,"span"),H(6," \u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a"),M()(),E(7,"div",79),Y("click",function(){return ce(a),ue(Q(3).deleteAll())}),se(8,"cds-icon",75),E(9,"span"),H(10," \u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),M()()()}}function vft(c,l){if(1&c){const a=Ae();E(0,"div",64)(1,"div",65)(2,"button",66),Y("click",function(){return ce(a),ue(Q(2).toggleSearching())}),se(3,"cds-icon",67),E(4,"span",31),H(5," \u041f\u043e\u0438\u0441\u043a"),M()()(),E(6,"div",65)(7,"button",66),Y("click",function(){return ce(a),ue(Q(2).onEditTitleInfo())}),se(8,"cds-icon"),E(9,"span",31),H(10," \u041c\u043e\u043b\u0435\u0431\u0435\u043d"),M()()(),E(11,"div",65)(12,"button",66),Y("click",function(){return ce(a),ue(Q(2).importMemorials())}),se(13,"cds-icon",68),E(14,"span",31),H(15," \u0418\u043c\u043f\u043e\u0440\u0442"),M()()(),E(16,"div",65)(17,"button",66),Y("click",function(){return ce(a),ue(Q(2).exportMemorials())}),se(18,"cds-icon",69),E(19,"span",31),H(20," \u042d\u043a\u0441\u043f\u043e\u0440\u0442"),M()()(),E(21,"div",65)(22,"clr-dropdown",70)(23,"button",71),se(24,"cds-icon",72),E(25,"span",31),H(26,"\xa0\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),M(),se(27,"cds-icon",73),M(),X(28,gft,11,0,"clr-dropdown-menu",74),M()(),E(29,"div",65)(30,"clr-dropdown",70)(31,"button",71),se(32,"cds-icon",75),E(33,"span",31),H(34,"\xa0\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),M(),se(35,"cds-icon",73),M(),X(36,mft,11,0,"clr-dropdown-menu",76),M()()()}2&c&&(R("hidden",Q(2).personsData.readonly),I(8),Je("shape","form"),I(14),R("clrCloseMenuOnItemClick",!0),I(8),R("clrCloseMenuOnItemClick",!0))}function _ft(c,l){if(1&c){const a=Ae();E(0,"clr-dropdown-menu",80)(1,"label",77),H(2,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),M(),E(3,"div",78),Y("click",function(){return ce(a),ue(Q(3).onEditTitleInfo())}),se(4,"cds-icon"),E(5,"span"),H(6," \u041c\u043e\u043b\u0435\u0431\u0435\u043d"),M()(),E(7,"div",79),Y("click",function(){return ce(a),ue(Q(3).importMemorials())}),se(8,"cds-icon",68),E(9,"span"),H(10," \u0418\u043c\u043f\u043e\u0440\u0442"),M()(),E(11,"div",85),Y("click",function(){return ce(a),ue(Q(3).exportMemorials())}),se(12,"cds-icon",69),E(13,"span"),H(14," \u042d\u043a\u0441\u043f\u043e\u0440\u0442"),M()()()}2&c&&(I(4),Je("shape","form"))}function yft(c,l){if(1&c){const a=Ae();E(0,"clr-dropdown-menu")(1,"label",77),H(2,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),M(),E(3,"div",78),Y("click",function(){return ce(a),ue(Q(3).addMemorial())}),se(4,"cds-icon",72),E(5,"span"),H(6," \u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a"),M()(),E(7,"div",79),Y("click",function(){return ce(a),ue(Q(3).onAddNewPerson())}),se(8,"cds-icon",72),E(9,"span"),H(10," \u0418\u043c\u044f"),M()()()}}function bft(c,l){if(1&c){const a=Ae();E(0,"clr-dropdown-menu",80)(1,"label",77),H(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),M(),E(3,"div",78),Y("click",function(){return ce(a),ue(Q(3).deleteMemorial())}),se(4,"cds-icon",75),E(5,"span"),H(6," \u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a"),M()(),E(7,"div",79),Y("click",function(){return ce(a),ue(Q(3).deleteAll())}),se(8,"cds-icon",75),E(9,"span"),H(10," \u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),M()()()}}function Oft(c,l){if(1&c){const a=Ae();E(0,"div",81)(1,"div",82)(2,"button",66),Y("click",function(){return ce(a),ue(Q(2).toggleSearching())}),se(3,"cds-icon",67),E(4,"span",31),H(5," \u041f\u043e\u0438\u0441\u043a"),M()()(),E(6,"div",82)(7,"clr-dropdown",70)(8,"button",83),se(9,"cds-icon",84)(10,"cds-icon",73),M(),X(11,_ft,15,1,"clr-dropdown-menu",76),M()(),E(12,"div",82)(13,"clr-dropdown",70)(14,"button",83),se(15,"cds-icon",72),E(16,"span",31),H(17," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),M(),se(18,"cds-icon",73),M(),X(19,yft,11,0,"clr-dropdown-menu",74),M()(),E(20,"div",82)(21,"clr-dropdown",70)(22,"button",71),se(23,"cds-icon",75),E(24,"span",31),H(25," \u0423\u0434\u0430\u043b\u0438\u0442\u044c"),M(),se(26,"cds-icon",73),M(),X(27,bft,11,0,"clr-dropdown-menu",76),M()()()}2&c&&(R("hidden",Q(2).personsData.readonly),I(7),R("clrCloseMenuOnItemClick",!0),I(6),R("clrCloseMenuOnItemClick",!0),I(8),R("clrCloseMenuOnItemClick",!0))}function Cft(c,l){if(1&c){const a=Ae();E(0,"clr-dropdown-menu",80)(1,"label",77),H(2,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),M(),E(3,"div",78),Y("click",function(){return ce(a),ue(Q(3).onEditTitleInfo())}),se(4,"cds-icon"),E(5,"span"),H(6," \u041c\u043e\u043b\u0435\u0431\u0435\u043d"),M()(),E(7,"div",79),Y("click",function(){return ce(a),ue(Q(3).importMemorials())}),se(8,"cds-icon",68),E(9,"span"),H(10," \u0418\u043c\u043f\u043e\u0440\u0442"),M()(),E(11,"div",85),Y("click",function(){return ce(a),ue(Q(3).exportMemorials())}),se(12,"cds-icon",69),E(13,"span"),H(14," \u042d\u043a\u0441\u043f\u043e\u0440\u0442"),M()()()}2&c&&(I(4),Je("shape","form"))}function Sft(c,l){if(1&c){const a=Ae();E(0,"clr-dropdown-menu",80)(1,"label",77),H(2,"\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f"),M(),E(3,"div",78),Y("click",function(){return ce(a),ue(Q(3).addMemorial())}),se(4,"cds-icon",72),E(5,"span"),H(6," \u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a"),M()(),E(7,"div",79),Y("click",function(){return ce(a),ue(Q(3).onAddNewPerson())}),se(8,"cds-icon",72),E(9,"span"),H(10," \u0418\u043c\u044f"),M()(),se(11,"div",88),E(12,"div",78),Y("click",function(){return ce(a),ue(Q(3).deleteMemorial())}),se(13,"cds-icon",75),E(14,"span"),H(15),M()(),E(16,"div",79),Y("click",function(){return ce(a),ue(Q(3).deleteAll())}),se(17,"cds-icon",75),E(18,"span"),H(19," \u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),M()()()}if(2&c){const a=Q(3);I(15),Kt(" ",a.currentMemorial?a.currentMemorial:"\u0412\u0441\u0435","")}}function wft(c,l){if(1&c){const a=Ae();E(0,"div",86)(1,"div",87)(2,"button",66),Y("click",function(){return ce(a),ue(Q(2).toggleSearching())}),se(3,"cds-icon",67),E(4,"span",31),H(5," \u041f\u043e\u0438\u0441\u043a"),M()()(),E(6,"div",87)(7,"clr-dropdown",70)(8,"button",83),se(9,"cds-icon",84)(10,"cds-icon",73),M(),X(11,Cft,15,1,"clr-dropdown-menu",76),M()(),E(12,"div",87)(13,"clr-dropdown",70)(14,"button",71),se(15,"cds-icon",72)(16,"cds-icon",75),E(17,"span",31),H(18," \u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f"),M(),se(19,"cds-icon",73),M(),X(20,Sft,20,1,"clr-dropdown-menu",76),M()()()}2&c&&(R("hidden",Q(2).personsData.readonly),I(7),R("clrCloseMenuOnItemClick",!0),I(6),R("clrCloseMenuOnItemClick",!0))}function xft(c,l){if(1&c){const a=Ae();E(0,"div",56)(1,"form",6)(2,"clr-input-container")(3,"label",89),Y("click",function(){ce(a);const d=Q(2);return ue(d.notSearch=!d.notSearch)}),H(4),M(),E(5,"input",90),Y("ngModelChange",function(d){return ce(a),ue(Q(2).search=d)}),M()()()()}if(2&c){const a=Q(2);I(4),Kt("",a.notSearch?"\u041d\u0415 ":"","\u0418\u043c\u044f:"),I(1),R("placeholder",(a.notSearch?"\u0438\u0441\u043a\u043b\u044e\u0447\u0430\u044f ":"\u0432\u043a\u043b\u044e\u0447\u0430\u044f ")+"\u0418\u043c\u044f")("ngModel",a.search)}}function Tft(c,l){1&c&&va(0)}const kft=function(c,l,a,h){return{$implicit:c,horPagesCount:l,showPersons:a,namesPerPageCount:h}};function Dft(c,l){if(1&c&&(E(0,"div",48),Y("click",function(h){return h.stopPropagation()}),se(1,"app-dynamic-content-toolbar",5)(2,"app-dynamic-errors",5),E(3,"clr-accordion",49),X(4,fft,9,2,"clr-accordion-panel",50),X(5,pft,6,3,"clr-accordion-panel",50),M(),X(6,vft,37,4,"div",51),X(7,Oft,28,4,"div",52),X(8,wft,21,3,"div",53),X(9,xft,6,3,"div",54),E(10,"div",null,55)(12,"div",56)(13,"div"),se(14,"app-dynamic-content-toolbar",5),M()(),X(15,Tft,1,0,"ng-container",57),E(16,"div",58)(17,"div"),se(18,"app-dynamic-content-toolbar",5),M()(),E(19,"div",59),H(20),M()()()),2&c){const a=Q(),h=Po(191),d=Po(193),f=Po(195),p=Po(197);I(1),R("data",a.toolbarMemorials),I(1),R("data",a.headerData),I(2),R("ngIf",a.showSettings&&!a.personsData.readonly),I(1),R("ngIf",a.filterMemorials&&!a.personsData.text),I(1),R("ngIf",!1),I(1),R("ngIf",!1),I(1),R("ngIf",!1),I(1),R("ngIf",a.isSearching()),I(5),R("data",a.toolbarPages),I(1),R("ngTemplateOutlet",h)("ngTemplateOutletContext",Dg(15,kft,a.verticalView?a.verticalView5||a.verticalView10||a.verticalView15||a.verticalView20||a.verticalView40||a.verticalView60||a.verticalView80?d:f:p,a.verticalView5||a.verticalView10||a.verticalView15||a.verticalView20?1:a.verticalView40||a.verticalView60||a.verticalView80?2:1,a.persons,a.pageSizeForPrint)),I(3),R("data",a.toolbarPages),I(2),u3("\u0412\u0441\u0435\u0433\u043e: ",a.myPersons.length," ",a.getWordName(a.myPersons.length)," \u0438\u0437 ",a.personsAllCount,".")}}function Mft(c,l){if(1&c){const a=Ae();E(0,"clr-toggle-wrapper")(1,"input",19),Y("ngModelChange",function(d){return ue(ce(a).$implicit.enabled=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit;I(1),R("name",a.memorial.memorial.name)("value",a.memorial.memorial.name)("ngModel",a.enabled),I(2),ut(a.memorial.memorial.name)}}function Eft(c,l){1&c&&(E(0,"span",91),H(1,"\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f"),M())}function Pft(c,l){if(1&c){const a=Ae();E(0,"clr-toggle-wrapper")(1,"input",19),Y("ngModelChange",function(d){return ue(ce(a).$implicit.enabled=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit;I(1),R("name",a.memorial.name)("value",a.memorial.name)("ngModel",a.enabled),I(2),ut(a.memorial.name)}}function Aft(c,l){1&c&&va(0)}const Ift=function(c,l,a,h,d,f){return{mark:c,showPersons:l,horPagesCount:a,liveText:h,usopText:d,namesPerPageCount:f}};function Rft(c,l){if(1&c&&(E(0,"div"),X(1,Aft,1,0,"ng-container",57),M()),2&c){const a=l.$implicit,h=l.mark,d=l.showPersons,f=l.horPagesCount,p=l.namesPerPageCount,g=Q();I(1),R("ngTemplateOutlet",a)("ngTemplateOutletContext",function Lte(c,l,a,h,d,f,p,g,m){const v=Ll()+c,_=Vt(),y=Wu(_,v,a,h,d,f);return B0(_,v+4,p,g)||y?Nd(_,v+6,m?l.call(m,a,h,d,f,p,g):l(a,h,d,f,p,g)):GS(_,v+6)}(2,Ift,h,d,f,g.getMemorialPageText(d,!0),g.getMemorialPageText(d,!1),p))}}function Lft(c,l){if(1&c){const a=Ae();E(0,"div",94)(1,"app-svg-js-image",95),Y("pagesCount",function(d){ce(a);const f=Q(),p=f.horPagesCount,g=f.horPagesCount;return ue(Q().onPagesCount(d,p*g,!0))}),M()()}if(2&c){const a=Q(),h=a.liveText,d=a.horPagesCount,f=a.horPagesCount,p=a.namesPerPageCount;I(1),R("svgWidth",210)("svgHeight",297)("scene","/scenes/memorial.page.scene.txt")("genName","Js")("logoText",h)("type",210297)("startPageIndex",0)("horizontalPagesCount",d)("verticalPagesCount",f)("namesPerPageCount",p)}}function Nft(c,l){if(1&c&&(E(0,"div",94),se(1,"app-svg-js-image",97),M()),2&c){const a=l.$implicit,h=Q(2),d=h.liveText,f=h.horPagesCount,p=h.horPagesCount,g=h.namesPerPageCount;I(1),R("svgWidth",210)("svgHeight",297)("scene","/scenes/memorial.page.scene.txt")("genName","Js")("logoText",d)("type",210297)("startPageIndex",a)("horizontalPagesCount",f)("verticalPagesCount",p)("namesPerPageCount",g)}}function Fft(c,l){if(1&c&&(E(0,"div"),X(1,Nft,2,10,"div",96),M()),2&c){const a=Q(2);I(1),R("ngForOf",a.extraPagesLive)}}function Bft(c,l){if(1&c){const a=Ae();E(0,"div",94)(1,"app-svg-js-image",95),Y("pagesCount",function(d){ce(a);const f=Q(),p=f.horPagesCount,g=f.horPagesCount;return ue(Q().onPagesCount(d,p*g,!1))}),M()()}if(2&c){const a=Q(),h=a.usopText,d=a.horPagesCount,f=a.horPagesCount,p=a.namesPerPageCount;I(1),R("svgWidth",210)("svgHeight",297)("scene","/scenes/memorial.page.scene.txt")("genName","Js")("logoText",h)("type",210297)("startPageIndex",0)("horizontalPagesCount",d)("verticalPagesCount",f)("namesPerPageCount",p)}}function Vft(c,l){if(1&c&&(E(0,"div",94),se(1,"app-svg-js-image",98),M()),2&c){const a=l.$implicit,h=Q(2),d=h.usopText,f=h.horPagesCount,p=h.namesPerPageCount,g=h.horPagesCount;I(1),R("svgWidth",210)("svgHeight",297)("scene","/scenes/memorial.page.scene.txt")("genName","Js")("logoText",d)("type",210297)("startPageIndex",a)("horizontalPagesCount",f)("namesPerPageCount",p)("verticalPagesCount",g)}}function $ft(c,l){if(1&c&&(E(0,"div"),X(1,Vft,2,10,"div",96),M()),2&c){const a=Q(2);I(1),R("ngForOf",a.extraPagesUsop)}}function zft(c,l){if(1&c&&(X(0,Lft,2,10,"div",92),X(1,Fft,2,1,"div",93),X(2,Bft,2,10,"div",92),X(3,$ft,2,1,"div",93)),2&c){const a=l.liveText,h=l.usopText;R("ngIf",a),I(1),R("ngIf",a),I(1),R("ngIf",h),I(1),R("ngIf",h)}}function Uft(c,l){1&c&&(E(0,"span",105),H(1,"+"),M())}function Qft(c,l){if(1&c&&(E(0,"span",102),H(1),M()),2&c){const a=Q().$implicit;R("ngClass",Q(2).getClasses(a,a.classesBadgeHorizontal,!1,"",!1,!0)),I(1),ut(a.badge)}}function Hft(c,l){if(1&c&&(E(0,"span",102),H(1),M()),2&c){const a=Q().$implicit;R("ngClass",Q(2).getClasses(a,a.classesBadgeHorizontal2,!1,"badge badge-success",!1,!0,!0)),I(1),ut(a.x)}}function Wft(c,l){if(1&c){const a=Ae();E(0,"span",101),Y("click",function(d){const p=ce(a).$implicit,g=Q(2).$implicit;return ue(Q(2).onPersonFilterClick(d,g,p))}),H(1),M()}if(2&c){const a=l.$implicit;R("ngClass",Q(4).getFilterClasses(a)),I(1),ut(a.name)}}function Zft(c,l){if(1&c&&(E(0,"div"),X(1,Wft,2,2,"span",100),M()),2&c){const a=Q(3);I(1),R("ngForOf",a.personsFilters)}}const jft=function(){return{"left-space-0":!0,"right-space-0":!0}};function Gft(c,l){if(1&c){const a=Ae();E(0,"div",101),Y("click",function(d){const p=ce(a).$implicit;return ue(Q(2).onPersonClick(d,p))}),E(1,"div",102),H(2),M(),E(3,"div",102),X(4,Uft,2,0,"span",103),H(5),E(6,"span"),X(7,Qft,2,2,"span",104),H(8,"\xa0"),X(9,Hft,2,2,"span",104),M()(),X(10,Zft,2,1,"div",93),M()}if(2&c){const a=l.$implicit,h=Q(2);R("ngClass",h.getClasses(a,Fi(9,jft))),I(1),R("ngClass",h.getClasses(a,a.classesVertical,!1,"clr-col-4 right")),I(1),ut(a.prefix),I(1),R("ngClass",h.getClasses(a,a.classesVertical,!1,"clr-col-8")),I(1),R("ngIf",!(null!=a.person&&a.person.live)),I(1),Kt("",a.name," "),I(2),R("ngIf",a.badge),I(2),R("ngIf",a.x),I(1),R("ngIf",h.personsClickHandler.person&&h.personsClickHandler.person.person===a.person&&h.personsClickHandler.selectionToggle)}}function Xft(c,l){if(1&c&&(E(0,"div",99),X(1,Gft,11,10,"div",100),M()),2&c){const a=l.showPersons;I(1),R("ngForOf",a)}}function Yft(c,l){1&c&&(E(0,"span",105),H(1,"+"),M())}function qft(c,l){if(1&c&&(E(0,"span",102),H(1),M()),2&c){const a=Q().$implicit;R("ngClass",Q(2).getClasses(a,a.classesBadgeHorizontal,!1,"",!1,!0)),I(1),ut(a.badge)}}function Kft(c,l){if(1&c&&(E(0,"span",102),H(1),M()),2&c){const a=Q().$implicit;R("ngClass",Q(2).getClasses(a,a.classesBadgeHorizontal2,!1,"badge badge-success",!1,!0,!0)),I(1),ut(a.x)}}function Jft(c,l){if(1&c){const a=Ae();E(0,"span",101),Y("click",function(d){const p=ce(a).$implicit,g=Q(2).$implicit;return ue(Q(2).onPersonFilterClick(d,g,p))}),H(1),M()}if(2&c){const a=l.$implicit;R("ngClass",Q(4).getFilterClasses(a)),I(1),ut(a.name)}}function ept(c,l){if(1&c&&(E(0,"span"),X(1,Jft,2,2,"span",100),M()),2&c){const a=Q(3);I(1),R("ngForOf",a.personsFilters)}}function tpt(c,l){if(1&c){const a=Ae();E(0,"span")(1,"span",101),Y("click",function(d){const p=ce(a).$implicit;return ue(Q(2).onPersonClick(d,p))}),H(2),X(3,Yft,2,0,"span",103),H(4),X(5,qft,2,2,"span",104),H(6,"\xa0"),X(7,Kft,2,2,"span",104),M(),X(8,ept,2,1,"span",93),M()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("ngClass",h.getClasses(a,a.classesHorizontal,!1,"",!0)),I(1),Kt("",a.prefix," "),I(1),R("ngIf",!(null!=a.person&&a.person.live)),I(1),ut(a.name),I(1),R("ngIf",a.badge),I(2),R("ngIf",a.x),I(1),R("ngIf",h.personsClickHandler.person&&h.personsClickHandler.person.person===a.person&&h.personsClickHandler.selectionToggle)}}function npt(c,l){if(1&c&&(E(0,"div",99),X(1,tpt,9,7,"span",20),M()),2&c){const a=l.showPersons;I(1),R("ngForOf",a)}}class Xx{name;enabled;system;clazz=Ha.builder();constructor(l,a,h){this.name=l,this.enabled=a,this.system=h}static builder(){return new Xx("",!1,!1)}setName(l){return this.name=l,this}setEnabled(l){return this.enabled=l,this}setSystem(l){return this.system=l,this}}class xA{memorial;bEnabled;onEnabledChanged;constructor(l,a,h){this.memorial=l,this.bEnabled=a,this.onEnabledChanged=h}get enabled(){return this.bEnabled}set enabled(l){this.bEnabled=l,this.onEnabledChanged&&this.onEnabledChanged()}static builder(){return new xA(null,!0,()=>{})}setMemorial(l){return this.memorial=l,this}setEnabled(l){return this.enabled=l,this}setOnEnabledChanged(l){this.onEnabledChanged=l}}class bQ{memorial;bEnabled;onEnabledChanged;constructor(l,a,h){this.memorial=l,this.bEnabled=a,this.onEnabledChanged=h}get enabled(){return this.bEnabled}set enabled(l){this.bEnabled=l,this.onEnabledChanged&&this.onEnabledChanged()}static builder(){return new bQ(null,!0,()=>{})}setMemorial(l){return this.memorial=l,this}setEnabled(l){return this.enabled=l,this}setOnEnabledChanged(l){this.onEnabledChanged=l}}class OQ{prefix;name;description;badge;x;person;classesVertical;classesHorizontal;classesBadgeHorizontal;classesBadgeHorizontal2;constructor(l,a,h,d,f,p,g,m,v,_){this.prefix=l,this.name=a,this.description=h,this.badge=d,this.x=f,this.person=p,this.classesVertical=g,this.classesHorizontal=m,this.classesBadgeHorizontal=v,this.classesBadgeHorizontal2=_}static builder(){return new OQ("","","","","",null,{},{},{},{})}setPrefix(l){return this.prefix=l,this}setName(l){return this.name=l,this}setDescription(l){return this.description=l,this}setBadge(l){return this.badge=l,this}setX(l){return this.x=l,this}setPerson(l){return this.person=l,this}addClassVertical(l,a=!0){return this.classesVertical[l]=a,this}addClassHorizontal(l,a=!0){return this.classesHorizontal[l]=a,this}addClassBadgeHorizontal(l,a=!0){return this.classesBadgeHorizontal[l]=a,this}}class bf{modalFlag;modalAddingFlag;currentName;text;preview;exportPreview;updating=!1;singleMemorial=!0;clearMemorial=!1;enableSorting=!1;constructor(l=!1,a=!0,h="",d="",f=[],p=[]){this.modalFlag=l,this.modalAddingFlag=a,this.currentName=h,this.text=d,this.preview=f,this.exportPreview=p}setUpdating(l){return this.updating=l,this}updateTextByPreview(){this.updating||(this.text=this.preview.filter((l,a)=>l.enabled).map((l,a)=>l.memorial.toString()).join("\r\n"))}}class CQ{person;handler;lastDate=new Date;selectionToggle=!1;constructor(l,a){this.person=l,this.handler=a}static builder(){return new CQ(null,()=>{})}setHandler(l){return this.handler=l,this}clickByPerson(l){let a=new Date;this.person?.person!=l.person?(this.person=l,this.lastDate=a,this.selectionToggle=!0):a.getTime()-this.lastDate.getTime()<500?(this.handler(l),this.person=null):(this.lastDate=a,this.selectionToggle=!this.selectionToggle)}reset(){this.person=null,this.selectionToggle=!1}}var Of=function(c){return c[c.None=0]="None",c[c.Memorial=1]="Memorial",c[c.Name=2]="Name",c}(Of||{});let U1e=(()=>{class c{config;uiConfig;themeSvc;memDataSvc;memLoaderSvc;memImporterSvc;memExporterSvc;memExporterXsvSvc;kafizmySvc;dateEventsSvc;audioSvc;tagsSvc;repeatCountSvc;pagesView;data;memorialsDlg=new bf;memorialsDeleteDlg=new bf;memorialsDeleteAllDlg=new bf;memorialsImportDlg=new bf;memorialsExportDlg=new bf;memorialsWaitingDlg=new bf;personDetailsDlg=new bf;personDeleteDlg=new bf;personNewDlg=new bf;memorialsTitleInfoDlg=new bf;newPersonTextEditor=ld.builder().setObject(this.personNewDlg).setFieldName("currentName").setDescription("\u0418\u043c\u0435\u043d\u0430").setDescription2("\u0418\u043c\u0435\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e").setUseDefault(!0);headerData=la.builder();personsClickHandler=CQ.builder().setHandler(a=>this.onEditPerson(a));personDetailsData=eQ.builder().setOnClick(a=>{this.personDetailsDlg.modalFlag=!1,a&&this.reload()});personsFilters=[];currentMemorialDetector=new Rr(null);search=null;notSearch=!1;isSearching(){return null!=this.search}extraPagesLive=[];extraPagesUsop=[];stgShowSettings=F1.builder();stgFilterMemorials=F1.builder();allSettings=nP.builder().add(this.stgShowSettings).add(this.stgFilterMemorials);get showSettings(){return this.stgShowSettings.enabled}set showSettings(a){this.stgShowSettings.setEnabled(a)}get filterMemorials(){return this.stgFilterMemorials.enabled}set filterMemorials(a){this.stgFilterMemorials.setEnabled(a)}settingsData=ca.builder().updateClasses(a=>a.setMemorialSettings(!0));oldPersons=null;myPersons=[];nameSvc=new _A;fabInfos=[vf.builder().setName("\u041d\u043e\u0432\u044b\u0439")];fabMode=Of.None;get verticalView5(){return this.uiConfig.ui.memorialVerticalView.getBooleanValue()&&"5"==this.uiConfig.ui.memorialPageSize.getStringValue()}get verticalView10(){return this.uiConfig.ui.memorialVerticalView.getBooleanValue()&&"10"==this.uiConfig.ui.memorialPageSize.getStringValue()}get verticalView15(){return this.uiConfig.ui.memorialVerticalView.getBooleanValue()&&"15"==this.uiConfig.ui.memorialPageSize.getStringValue()}get verticalView20(){return this.uiConfig.ui.memorialVerticalView.getBooleanValue()&&"20"==this.uiConfig.ui.memorialPageSize.getStringValue()}get verticalView40(){return this.uiConfig.ui.memorialVerticalView.getBooleanValue()&&"40"==this.uiConfig.ui.memorialPageSize.getStringValue()}get verticalView60(){return this.uiConfig.ui.memorialVerticalView.getBooleanValue()&&"60"==this.uiConfig.ui.memorialPageSize.getStringValue()}get verticalView80(){return this.uiConfig.ui.memorialVerticalView.getBooleanValue()&&"80"==this.uiConfig.ui.memorialPageSize.getStringValue()}get verticalView(){return this.uiConfig.ui.memorialVerticalView.getBooleanValue()}set verticalView(a){this.uiConfig.ui.memorialVerticalView.setBooleanValue(a)}get sortPersonPriests(){return this.uiConfig.ui.sortPersonsPriests.getBooleanValue()}get sortPersonNames(){return this.uiConfig.ui.sortPersonsNames.getBooleanValue()}get pageSize(){let a=this.uiConfig.ui.memorialPageSize.getStringValue();return a?+a:15}get pageSizeForPrint(){let a=this.uiConfig.ui.memorialPageSize.getStringValue(),h=a?+a:15;switch(h){case 40:h=10;break;case 60:h=15;break;case 80:h=20}return h<30?h:10}get currentPage(){return this.uiConfig.ui.currentMemorialPage.getNumberValue()}set currentPage(a){this.uiConfig.ui.currentMemorialPage.setNumberValue(a)}get currentMemorial(){return this.personsData.text?this.personsData.text:this.uiConfig.ui.currentMemorial.getStringValue()}set currentMemorial(a){this.personsData.text||this.uiConfig.ui.currentMemorial.setStringValue(a),this.sendCurrentMemorialMessage()}sendCurrentMemorialMessage(){if(this.personsData.readonly)return;let a=this.personsData.text?this.personsData.text:this.uiConfig.ui.currentMemorial.getStringValue();this.config?.messageBus.sendMessage(cl.builder().setType("MemorialNewTitle").setText(a||"\u0412\u0441\u0435").setTarget("MemorialMainWindow"))}sendReadyChanges=Rr.builder();sortNamesChanges=Rr.builder();sortTypesChanges=Rr.builder();searchChanges=Rr.builder();pageSizeChanges=Rr.builder();personOffsetChanges=Rr.builder();offsetChanges=Rr.builder();addCommentToNameChanges=Rr.builder();slava1Tags=Rr.builder();slava2Tags=Rr.builder();slava3Tags=Rr.builder();toolbarPages=hh.builder().setItems([]).setOnClick(a=>{this.selectPersonsPage(+a.tag)}).updateClasses(a=>{a.setLabelNormal("label-info")});toolbarMemorials=hh.builder().setItems([]).setOnClick(a=>{this.selectMemorial(a.tag)}).updateClasses(a=>{a.setLabelNormal("label-info")});toolbarMemorialsFilters=hh.builder().setItems([]).setOnClick(a=>{this.selectMemorialFlag(a.tag)}).updateClasses(a=>{a.setLabelNormal("label-success")});toolbarMemorialsFlags=hh.builder().setItems([]).setOnClick(a=>{this.selectMemorialFlag(a.tag)}).updateClasses(a=>{a.setLabelNormal("label-danger")});get persons(){return this.syncMyPersons(),this.myPersons}get personsAllCount(){return this.getPersonsAllCount(this.currentMemorial)}get personsData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}personChangesSubscription=null;clearMenuSubscription=null;constructor(a,h,d,f,p,g,m,v,_,y,b,O,C){this.config=a,this.uiConfig=h,this.themeSvc=d,this.memDataSvc=f,this.memLoaderSvc=p,this.memImporterSvc=g,this.memExporterSvc=m,this.memExporterXsvSvc=v,this.kafizmySvc=_,this.dateEventsSvc=y,this.audioSvc=b,this.tagsSvc=O,this.repeatCountSvc=C}get isTooltipsEnabled(){return this.uiConfig.ui.memorialUITooltips.getBooleanValue()}getTooltipMessage(a){return this.isTooltipsEnabled?a:""}ngOnInit(){this.personsData.text||(this.personChangesSubscription=this.memDataSvc.getPersons().getChangeDetector().subscribe(a=>this.clearCaches()))}ngOnDestroy(){this.personChangesSubscription&&(this.personChangesSubscription.unsubscribe(),this.personChangesSubscription=null),this.clearMenuSubscription&&(this.clearMenuSubscription.unsubscribe(),this.clearMenuSubscription=null)}ngAfterViewInit(){this.personsData.printerHandler.setHandler(a=>this.onEpubPrint(a)),this.setErrors([this.currentMemorial?this.currentMemorial:"\u0412\u0441\u0435"]),this.sortNamesChanges.setUIValue(this.uiConfig.ui.sortPersonsNames),this.sortTypesChanges.setUIValue(this.uiConfig.ui.sortPersonsPriests),this.personsData.readonly||this.audioSvc.stop(),this.isMemorialEnabled()||this.sendReady(),this.personsData.readonly||this.config.post(()=>{this.clearMenuSubscription=this.uiConfig.setSideMenuCommands([Ft.builder().setName("\u0418\u043c\u043f\u043e\u0440\u0442").setShape("import").setOnClick(a=>{this.importMemorials()}),Ft.builder().setName("\u042d\u043a\u0441\u043f\u043e\u0440\u0442").setShape("export").setOnClick(a=>{this.exportMemorials()}),Ft.builder().setName("\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u043e\u043a").setShape("note").setOnClick(a=>{this.onEditTitleInfo()}),Ft.builder().setName("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a").setShape("clone").setOnClick(a=>{this.addMemorial()}),Ft.builder().setName("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u043c\u044f").setShape("add-text").setOnClick(a=>{this.onAddNewPerson()}),Ft.builder().setName("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a").setShape("times").setOnClick(a=>{this.deleteMemorial()}),Ft.builder().setName("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0451").setShape("uninstall").setOnClick(a=>{this.deleteAll()})])}),this.config.post(()=>this.sendCurrentMemorialMessage())}clearCaches(){this.memDataSvc.personsCache.clear(),this.personsClickHandler.reset()}getPersonsAll(a){return this.memDataSvc.personsCache.getCachedResult(a,this.personsData.readonly,this.personsData.classes.getLiveValue(),this.personsData.classes.labels)}getPersonsAllCount(a){return this.getPersonsAll(a).length}setErrors(a){this.config.post(()=>{let h=[];!this.personsData.text&&!this.personsData.readonly&&h.push(zs.builder().setText("\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f").setShape("filter").setOnClick(()=>{this.filterMemorials=!this.filterMemorials})),h.push(zs.builder().setText("\u041f\u043e\u0438\u0441\u043a").setShape("filter-2").setOnClick(()=>{this.search=null==this.search?"":null})),this.headerData.setErrors(a).setActions(h).updateClasses(d=>d.setAlertClass("alert-success").setAlertShape(""))})}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(a,h,d=!0,f="",p=!1,g=!1,m=!1){let _={"clr-row":d},y=!this.personsClickHandler.person||this.personsClickHandler.person.person==a.person&&this.personsClickHandler.selectionToggle||!this.personsClickHandler.selectionToggle,b=(O,C)=>{if(!y){let S=["bg-","label-info","label-success","label-warning","label-danger"];for(let w=0;w<S.length;w++)if(O.startsWith(S[w]))return}_[O]=C};(f=f.trim())&&f.split(" ").forEach(O=>b(f,!0));for(const O in h)b(O,h[O]);return p||g?_[(g?"hbs":"hs")+this.uiConfig.ui.fontSize.getStringValue()]=!0:_["s"+this.uiConfig.ui.fontSize.getStringValue()]=!0,_}printBook(){this.themeSvc.printWindow("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a")||window.print()}isActivePersonHasTag(a){let h=!1;return this.personsClickHandler.person?.person&&(h=fo.tagsHasFlag(this.personsClickHandler.person.person.tags,a)),"\u0431\u0435\u0437 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438"==a&&(h=!0),h}updatePersonFilterItemsDelayed(){this.config.post(()=>{this.updatePersonFilterItems()})}updatePersonFilterItems(){this.personsData.readonly?this.personsFilters.length&&(this.personsFilters=[]):(this.memDataSvc.memorials?(this.personsFilters=this.memDataSvc.memorials.items.map(a=>a.name).map(a=>Xx.builder().setName(a).setEnabled(this.isActivePersonHasTag(a))),this.personsFilters.unshift(Xx.builder().setName("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c").setEnabled(!1).setSystem(!0),Xx.builder().setName("\u0423\u0434\u0430\u043b\u0438\u0442\u044c").setEnabled(!1).setSystem(!0))):this.personsFilters.length&&(this.personsFilters=[]),this.currentMemorialDetector.checkAndUpdate(this.currentMemorial)&&this.personsClickHandler.reset())}getFilterItems(a){let h=this.memDataSvc.memorials?.items.find(f=>f.name==a),d=this.memDataSvc.memorials?this.memDataSvc.memorials.items.filter(f=>!this.personsData.readonly||f.enabled).filter(f=>this.personsData.readonly?this.getPersonsAllCount(a)>0:this.getPersonsAllCount(a)>=0).map(f=>f.name).map(f=>ka.builder().setText(f).setTag(f).setSelected(this.tagsSvc.tagsHasFlag(h?h.tags:a,f))):[];return d.unshift(ka.builder().setText("\u0431\u0435\u0437 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438").setTag("\u0431\u0435\u0437 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438").setSelected(this.tagsSvc.tagsHasFlag(h?h.tags:a,"\u0431\u0435\u0437 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438"))),d}syncMyPersons(a=!1){let h=a;h=h||this.sortTypesChanges.checkAndUpdate(),h=h||this.sortNamesChanges.checkAndUpdate(),h=h||this.searchChanges.checkAndUpdate((this.notSearch?"\u041d\u0415 ":"")+this.search),h=h||this.pageSizeChanges.checkAndUpdate(this.pageSize),h=h||this.personOffsetChanges.checkAndUpdate(this.uiConfig.ui.currentPersonOffset.getNumberValue()),h=h||this.offsetChanges.checkAndUpdate(this.uiConfig.ui.currentOffset.getNumberValue()),h=h||this.addCommentToNameChanges.checkAndUpdate(this.uiConfig.ui.addCommentToName.getBooleanValue()),h=h||this.slava1Tags.checkAndUpdate(this.uiConfig.ui.memorialSlava1Tags.getStringValue()),h=h||this.slava2Tags.checkAndUpdate(this.uiConfig.ui.memorialSlava2Tags.getStringValue()),h=h||this.slava3Tags.checkAndUpdate(this.uiConfig.ui.memorialSlava3Tags.getStringValue());let d=this.memDataSvc.persons;if(null==this.memDataSvc.memorials?.items.find(f=>f.name==this.currentMemorial)&&this.memDataSvc.memorials&&this.currentMemorial&&this.memDataSvc.memorials.items.length>0&&(this.currentMemorial=this.memDataSvc.memorials.items[0].name,h=!0),!d||d===this.oldPersons&&!h)return!d&&this.myPersons.length>0&&(this.myPersons=[]),void this.sendReady();this.oldPersons=d,this.config.post(()=>this.syncMyPersonsPosted())}syncMyPersonsPosted(){this.sendReady(),this.setErrors([(this.currentMemorial?this.currentMemorial:"\u0412\u0441\u0435")+(this.personsData.readonly?this.personsData.classes.isLiveAcceptable(!0)?": \u041e \u0437\u0434\u0440\u0430\u0432\u0438\u0438":": \u041e \u0443\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438":"")]);{let m=(y=>{let b=this.memDataSvc.memorials?this.memDataSvc.memorials.items.filter(O=>!this.personsData.readonly||O.enabled).filter(O=>!y||O.name==y).filter(O=>this.personsData.readonly?this.getPersonsAllCount(O.name)>0:this.getPersonsAllCount(O.name)>=0).map(O=>O.name).map(O=>ka.builder().setText(O).setTag(O).setSelected(O==this.currentMemorial)):[];return y||b.unshift(ka.builder().setText("\u0412\u0441\u0435").setTag("").setSelected(!this.currentMemorial)),b})(this.personsData.text);this.toolbarMemorials.setItems(m),this.fabMode=1==m.length?Of.Memorial:Of.None,this.updatePersonFilterItems(),this.toolbarMemorialsFilters.setItems(this.getFilterItems(this.currentMemorial));let v=["\u0421\u043b\u0430\u0432\u0430 1","\u0421\u043b\u0430\u0432\u0430 2","\u0421\u043b\u0430\u0432\u0430 3","\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u043d\u044b\u0439"],_=this.memDataSvc.memorials?.items.find(y=>y.name==this.currentMemorial);this.toolbarMemorialsFlags.setItems(v.map(y=>ka.builder().setText(y).setTag(y).setSelected(!!_&&this.tagsSvc.tagsHasFlag(_.tags,y))))}let a=this.search?.toLowerCase(),h=[...this.getPersonsAll(this.currentMemorial).filter(g=>!a||!this.notSearch==g.name.toLowerCase().indexOf(a)>=0)],d=Math.ceil(h.length/this.pageSize);this.currentPage>d&&(this.currentPage=1);let f=this.currentPage?this.pageSize*(this.currentPage-1):0,p=this.currentPage?this.pageSize*this.currentPage-1:h.length-1;(this.sortPersonPriests||this.sortPersonNames)&&(h=Ii.sortPersons(h,this.uiConfig.ui.personAffixes.getStringValue(),g=>g,this.sortPersonNames,this.sortPersonPriests));{let g=this.uiConfig.ui.currentOffset.getNumberValue(),m=this.uiConfig.ui.currentPersonOffset.getNumberValue();g<0&&(g=m);let v=this.uiConfig.ui.addCommentToName.getBooleanValue(),_=this.uiConfig.ui.addCommentToNameTags.getStringValue().split(","),y=this.uiConfig.ui.addCommentsSeparator.getStringValue(),b=wn.getKafizmNumberBy(17,g),O=wn.getKafizmNumberBy(17,m);this.myPersons=h.map(C=>{let S=this.nameSvc.getPrefixedName(C.name),w=Ii.isPriest(C),x=C.kafizma==b,T=C.kafizma==O,D=new Yn;D.load(C.description);let k=_.map($=>D.getValue($)).filter($=>!!$).join(y);k&&k.length>10&&(k=k.substring(0,8)+"..");let P=this.repeatCountSvc.getRepeatCountAndFirstMemorial(C.tags),N=v&&this.uiConfig.ui.addRepeatCommentToName.getBooleanValue()&&P.repeatCount>1,F=""+(!N||this.currentMemorial!=P.firstMemorialName&&this.currentMemorial?"":P.repeatCount),L=N&&P.repeatCount>0&&this.currentMemorial!=P.firstMemorialName&&!!this.currentMemorial;return F&&F.length>3&&(F=F.substring(0,2)+"+"),OQ.builder().setPrefix(S.prefix).setName(S.name+(v&&k?" ("+k+")":"")).setBadge(C.kafizma>0?""+C.kafizma:"").setX(N&&F?"x"+F:"").setPerson(C).addClassVertical("cursor",!0).addClassVertical("bg-4",!L&&w&&C.live).addClassVertical("bg-5",!L&&!w&&C.live).addClassVertical("bg-3",!L&&!C.live).addClassVertical("bg-6",L).addClassHorizontal("cursor",!0).addClassHorizontal("label",!0).addClassHorizontal("label-success",!L&&w&&C.live).addClassHorizontal("label-info",!L&&!w&&C.live).addClassHorizontal("label-warning",!L&&!C.live).addClassHorizontal("label-orange",!L&&!C.live).addClassHorizontal("label-danger",L).addClassBadgeHorizontal("badge",!0).addClassBadgeHorizontal("badge-purple",x&&C.live).addClassBadgeHorizontal("badge-danger",!x&&T&&C.live).addClassBadgeHorizontal("badge-light-blue",!(x||T)&&C.live)}).filter((C,S,w)=>f<=S&&S<=p),this.fabMode=this.myPersons.length||this.fabMode!=Of.None?this.fabMode:Of.Name}this.toolbarPages.setItems([ka.builder().setText("\u0412\u0441\u0435").setTag("0").setSelected(0==this.currentPage)].concat(Array.from(Array(d).keys()).map(g=>g+1).map(g=>ka.builder().setText(""+g).setTag(""+g).setSelected(g==this.currentPage))))}sendReady(){this.sendReadyChanges.checkAndUpdate(!0)&&this.config.messageBus.putMessage(cl.builder().setSender(this.personsData.id).setTarget(this.personsData.targetId))}getMemorialPageText(a,h){let d=this.uiConfig.ui.addCommentToName.getBooleanValue(),f=a.filter(g=>g.person).map(g=>g.person).filter(g=>g.live==h).map(g=>{if(!d)return g.name;let m=new Yn;m.load(g.description);let v=this.uiConfig.ui.addCommentToNameTags.getStringValue().split(","),_=this.uiConfig.ui.addCommentsSeparator.getStringValue(),y=v.map(x=>m.getValue(x)).filter(x=>!!x).join(_);y&&y.length>10&&(y=y.substring(0,8)+"..");let b=this.repeatCountSvc.getRepeatCountAndFirstMemorial(g.tags),O=d&&this.uiConfig.ui.addRepeatCommentToName.getBooleanValue()&&b.repeatCount>1,C=""+(!O||this.currentMemorial!=b.firstMemorialName&&this.currentMemorial?"":b.repeatCount),S=O&&b.repeatCount>0&&this.currentMemorial!=b.firstMemorialName&&!!this.currentMemorial;return C&&C.length>10&&(C=C.substring(0,8)+".."),((S?"-":"")+g.name+(d&&y?" ("+y+")":"")+(d&&g.live&&C?" x"+C:"")).replace(/,/g,";")}).join(", "),p=this.uiConfig.ui.memorialsTitleRemark.getStringValue();return p&&(p=p.split(",").filter(g=>!!g).map(g=>g.trim()).map(g=>g.startsWith("*")?g:"*"+g).join(",")),this.personsData.readonly?this.personsData.classes.isLiveAcceptable(h)&&f?(h?`${p||"*\u041e \u0437\u0434\u0440\u0430\u0432\u0438\u0438"},`:"*\u041e \u0443\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438,")+f:"":f?(h?`${p||"*\u041e \u0437\u0434\u0440\u0430\u0432\u0438\u0438"},`:"*\u041e \u0443\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438,")+f:""}updateSelectedPage(){this.toolbarPages.items.forEach(a=>+a.tag==this.currentPage)}scrollToPersons(){return this.pagesView.nativeElement.scrollIntoView(!0),this}reSyncView(a){this.config.post(()=>{this.oldPersons=null,a&&a()})}selectPersonsPage(a){this.currentPage=a,this.personsClickHandler.reset(),this.reSyncView(()=>{this.scrollToPersons()})}selectMemorialFlag(a){let h=this.memDataSvc.memorials?.items.find(d=>d.name==this.currentMemorial);h&&(h.tags=this.tagsSvc.tagsHasFlag(h.tags,a)?fo.removeTag(h.tags,a):fo.toggleTagInTags(h.tags,a),this.memDataSvc.getMemorials().save(h,!0).then(d=>{this.reload()}))}selectMemorial(a){this.currentMemorial=a,this.reSyncView(),this.config.post(()=>{this.scrollToPersons()})}addMemorial(){this.memorialsDlg.modalFlag=!0,this.memorialsDlg.modalAddingFlag=!0,this.memorialsDlg.currentName=""}editMemorial(){this.currentMemorial&&(this.memorialsDlg.modalFlag=!0,this.memorialsDlg.modalAddingFlag=!1,this.memorialsDlg.currentName=this.currentMemorial)}deleteMemorial(){this.memorialsDeleteDlg.modalFlag=!0,this.memorialsDeleteDlg.currentName=this.currentMemorial}deleteAll(){this.memorialsDeleteAllDlg.modalFlag=!0,this.memorialsDeleteAllDlg.currentName=this.currentMemorial}reload(){this.memDataSvc.getMemorials().reloadMemorials(a=>{a&&this.memDataSvc.getPersons().reloadPersons()})}newMemorial(a){this.memDataSvc.memorials?.newMemorial(a,h=>{h.success?(this.currentMemorial=a,this.reload()):this.config.addAlert(Bi.of(h.error,"Ok",30))})}onAddNewMemorial(){this.newMemorial(this.memorialsDlg.currentName),this.memorialsDlg.modalFlag=!1}onChangeMemorial(){let a=this.memDataSvc.memorials?.items.find(h=>h.name==this.currentMemorial);a&&(a.name=this.memorialsDlg.currentName,this.currentMemorial=a.name,this.config.post(()=>this.reload(),100)),this.memorialsDlg.modalFlag=!1}onDeleteAllPersons(){this.memorialsDeleteAllDlg.modalFlag=!1,this.memDataSvc.getMemorials().deleteAll().then(a=>{a&&a.success&&this.memDataSvc.getPersons().deleteAll(-1).then(h=>{h&&h.success&&(this.currentMemorial="",this.reload())})})}onDeleteMemorial(){let a=this.memDataSvc.memorials?.items.find(d=>d.name==this.currentMemorial),h=this.memDataSvc.memorials?.items.find(d=>d.name!=this.currentMemorial);a&&(this.currentMemorial=h?h.name:"",this.memDataSvc.memorials?.deleteMemorial(a,d=>{this.reload()})),this.memorialsDeleteDlg.modalFlag=!1}toggleSearching(){this.search=null==this.search?"":null}get visible(){let a=this.memDataSvc.memorials?.items.find(h=>h.name==this.currentMemorial);return!!a&&a.enabled}set visible(a){let h=this.memDataSvc.memorials?.items.find(d=>d.name==this.currentMemorial);h&&(h.enabled=a)}toggleVisible(){let a=this.memDataSvc.memorials?.items.find(h=>h.name==this.currentMemorial);a&&(a.enabled=!a.enabled)}importMemorials(){this.memorialsImportDlg.modalFlag=!0,this.memorialsImportDlg.currentName=this.currentMemorial,!this.memorialsImportDlg.text&&this.persons.length&&(this.memorialsImportDlg.text=this.getCurrentMemorialText())}getWordName(a){let h="";switch(Math.floor(a%10)){case 1:h="\u0438\u043c\u044f";break;case 2:case 3:case 4:h="\u0438\u043c\u0435\u043d\u0438";break;default:h="\u0438\u043c\u0451\u043d"}return h}onPersonFilterClick(a,h,d){a.stopPropagation(),h.person&&("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"==d.name?this.onEditPerson(h):"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"==d.name?this.personDeleteDlg.modalFlag=!0:(h.person.tags=fo.toggleTagInTags(h.person.tags,d.name),this.memDataSvc.getPersons().save(-1,h.person,!0))),this.updatePersonFilterItemsDelayed()}onPersonClick(a,h){a.stopPropagation();let d=h.person.offset;d>=0&&!this.personsData.readonly&&this.uiConfig.ui.currentPersonOffset.setNumberValue(d),this.personsClickHandler.clickByPerson(h),this.updatePersonFilterItemsDelayed()}getTags(a=""){let h="";return this.memDataSvc.memorials?.items.forEach(d=>{d.name==(a||this.currentMemorial)&&(h+=d.name)}),h}onClearImportPreview(){this.memorialsImportDlg.preview=[],this.memorialsImportDlg.text=this.getCurrentMemorialText()}onImportMemorial(){this.memorialsWaitingDlg.modalFlag=!0,this.memorialsImportDlg.modalFlag=!1,this.memorialsImportDlg.singleMemorial&&this.memorialsImportDlg.clearMemorial&&this.clearCurrentMemorial(!1),this.onImportMemorialSource(this.memorialsImportDlg.text,this.memorialsImportDlg.singleMemorial?[]:this.memorialsImportDlg.preview,this.memorialsImportDlg.singleMemorial)}onAddNewPerson(){this.personNewDlg.modalFlag=!0}onAddNewPersonsDirect(a){let h=`[${this.currentMemorial}]\n`+(a.length?a.join("\n"):"\u0418\u043c\u044f\u0420\u0435\u043a");this.onImportMemorialSource(h,[xA.builder().setEnabled(!0).setMemorial(this.memLoaderSvc.previewPersons(h)[0])],!0)}onImportMemorialSource(a,h,d){let f=h,p=f.find(m=>"\u0432\u0441\u0435"===m.memorial?.memorial?.name),g=()=>{if(f.length){let m=f[0];f=f.slice(1);let v=m.memorial?.memorial?.name;m.enabled&&v?this.memDataSvc.memorials?.items.find(y=>y.name==v)?this.config.post(g):this.memDataSvc.memorials?.newMemorial(v,y=>{y.success?this.config.post(g):this.memDataSvc.getMemorials().reloadMemorials(b=>{this.config.post(g)})}):this.config.post(g)}else this.memDataSvc.getMemorials().reloadMemorials(m=>{m?this.memLoaderSvc.addPersons(_=>{let y=this.memDataSvc.memorials?.items.find(b=>b.name==(d?this.currentMemorial:_))?._id;return y||-1},a,_=>this.getTags(d?this.currentMemorial:_),!0,()=>{let _=this.memDataSvc.getMemorials().getMemorials()?.items.find(y=>"\u0432\u0441\u0435"===y.name);p&&_?this.memDataSvc.getMemorials().deleteMemorial(_).then(y=>{(!y||!y.success)&&this.config.addAlert(Bi.of('\u041d\u0435 \u043c\u043e\u0433\u0443 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a "\u0432\u0441\u0435".',"\u041e\u041a",15)),this.memorialsWaitingDlg.modalFlag=!1,this.reload()}):(this.memorialsWaitingDlg.modalFlag=!1,this.reload())}):this.memorialsWaitingDlg.modalFlag=!1})};this.config.post(g)}get allMemorialEnabled(){return this.memorialsImportDlg.preview.map(a=>a.enabled).reduce((a,h)=>a&&h,!0)}set allMemorialEnabled(a){this.memorialsImportDlg.setUpdating(!0),this.memorialsImportDlg.preview.forEach(h=>h.enabled=a),this.memorialsImportDlg.setUpdating(!1),this.memorialsImportDlg.updateTextByPreview()}get allExportMemorialEnabled(){return this.memorialsExportDlg.exportPreview.map(a=>a.enabled).reduce((a,h)=>a&&h,!0)}set allExportMemorialEnabled(a){this.memorialsExportDlg.exportPreview.forEach(h=>h.enabled=a)}get allExportPersonsSortingEnabled(){return this.memorialsExportDlg.enableSorting}set allExportPersonsSortingEnabled(a){this.memorialsExportDlg.enableSorting=a}onImportFile(a){0!==a.target.files.length&&this.memImporterSvc.onLoadAnyFile(a.target.files[0],"",h=>{this.memorialsImportDlg.text=h,this.memorialsImportDlg.preview=this.memLoaderSvc.previewPersons(h).map(d=>xA.builder().setMemorial(d).setEnabled(!0)),this.memorialsImportDlg.preview.forEach(d=>d.setOnEnabledChanged(()=>this.memorialsImportDlg.updateTextByPreview()))})}exportMemorials(){let a=this.memDataSvc.memorials?.items.map(h=>bQ.builder().setMemorial(h).setEnabled(!0));this.memorialsExportDlg.exportPreview=a||[],this.memorialsExportDlg.modalFlag=!0,this.memorialsExportDlg.currentName=this.currentMemorial}onSaveAs(a,h=!1){this.memorialsExportDlg.modalFlag=!1,this.onSaveAllMemorials(a,!0,h)}getCurrentMemorialText(){let a=this.memDataSvc.memorials?.items.find(g=>g.name==this.currentMemorial);if(!a)return"";let h=[this.currentMemorial],d=[a.tags],f="",p=this.memDataSvc.persons?.items;return f=this.memExporterSvc.getMemorialsXmlString(p,h,d),f=this.memLoaderSvc.convertXmlToString(f),f}onSaveAllMemorials(a="xml",h=!0,d=!0){let f=d?[]:[""],p=d?[]:[""],g=this.memDataSvc.getMemorials().getActivePredefinedMemorialsRaw();this.memDataSvc.memorials?.items.forEach(v=>{let _=null==g.find(y=>y==v.name);!_&&h&&(_=!0),this.memorialsExportDlg.exportPreview.filter(y=>y.memorial?.name==v.name&&!y.enabled).length>0&&(_=!1),v.enabled&&_&&(f.push(v.name),p.push(v.tags))}),(()=>{let v="",_=[...this.memDataSvc.persons?.items];switch(this.memorialsExportDlg.enableSorting&&(_=Ii.sortPersons(_,this.uiConfig.ui.personAffixes.getStringValue(),O=>O,this.sortPersonNames,this.sortPersonPriests)),a){case"xml":v=this.memExporterSvc.getMemorialsXmlString(_,f,p,d);break;case"csv":v=this.memExporterXsvSvc.getMemorialsString(_,f,p,";");break;case"tsv":v=this.memExporterXsvSvc.getMemorialsString(_,f,p,"\t");break;default:v=this.memExporterSvc.getMemorialsXmlString(_,f,p,d),v=this.memLoaderSvc.convertXmlToString(v)}const y=(new Date).toISOString().split("T")[0];let b=a;if(this.config.isPlatformAndroid())this.kafizmySvc.addTempFile(`\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438.${b}`,v).then(O=>{O&&O.success&&ho.startDownload(O.fileName,`\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438.${y}.${b}`)});else{const O=new TextEncoder,C=new Blob([O.encode(v)],{type:"octet/stream"});ho.saveData(C,`\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438.${y}.${b}`)}})()}onPagesCount(a,h,d){this.config.post(()=>{this.onPagesCountDirect(a,h,d)})}onPagesCountDirect(a,h,d){d?this.extraPagesLive=[]:this.extraPagesUsop=[];let f=a-h,p=0;for(;f>0;)f=Math.max(0,f-h),p+=h,d?this.extraPagesLive.push(p):this.extraPagesUsop.push(p)}onEditPerson(a){a.person&&!this.personsData.readonly&&(this.personDetailsData.setPerson(a.person),this.personDetailsDlg.modalFlag=!0)}isMemorialEnabled(a){let h=!1;return this.personsData.readonly||(h=!0),this.personsData.classes.slava1Zdrav&&this.uiConfig.ui.memorialSlava1Zdrav.getBooleanValue()&&(h=!0===a||void 0===a),this.personsData.classes.slava2Zdrav&&this.uiConfig.ui.memorialSlava2Zdrav.getBooleanValue()&&(h=!0===a||void 0===a),this.personsData.classes.slava3Zdrav&&this.uiConfig.ui.memorialSlava3Zdrav.getBooleanValue()&&(h=!0===a||void 0===a),this.personsData.classes.slava1Upok&&this.uiConfig.ui.memorialSlava1Upok.getBooleanValue()&&(h=!1===a||void 0===a),this.personsData.classes.slava2Upok&&this.uiConfig.ui.memorialSlava2Upok.getBooleanValue()&&(h=!1===a||void 0===a),this.personsData.classes.slava3Upok&&this.uiConfig.ui.memorialSlava3Upok.getBooleanValue()&&(h=!1===a||void 0===a),h}onEpubPrint(a){let h=[[],[],[]],d=[[],[],[]],p=this.uiConfig.ui.addCommentToName.getBooleanValue()&&this.uiConfig.ui.addRepeatCommentToName.getBooleanValue(),g=(m,v)=>{if(!p)return;let _=this.repeatCountSvc.getRepeatCountAndFirstMemorial(m.tags);if(_.repeatCount<=1)return;let y=""+(!p||this.currentMemorial!=_.firstMemorialName&&this.currentMemorial?"":_.repeatCount);v[0][v[0].length-1]+=p&&p&&_.repeatCount>0&&this.currentMemorial!=_.firstMemorialName&&this.currentMemorial?"-":"",v[2][v[2].length-1]+=p&&y?" x"+y:""};if(this.persons.filter(m=>m.person?.live).forEach(m=>{h[0].push(""),h[1].push(m.prefix),h[2].push(m.name),g(m.person,h)}),this.persons.filter(m=>!m.person?.live).forEach(m=>{d[0].push("+"),d[1].push(m.prefix),d[2].push(m.name),g(m.person,d)}),h[0].length>0&&this.isMemorialEnabled(!0)||d[0].length>0&&this.isMemorialEnabled(!1)){let m=[],v=[],_=[],y=this.currentMemorial?this.currentMemorial:"\u0412\u0441\u0435";h[0].length&&(m.push(y+" - \u041e \u0437\u0434\u0440\u0430\u0432\u0438\u0438"),v.push(h),_.push([0])),d[0].length&&(m.push(y+" - \u041e \u0443\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438"),v.push(d),_.push([0])),m.length>0&&a.addRequest(fO.builder().setName(y).setBookNames(["\u0436\u0438\u0432","\u043f\u0440\u0435\u0444\u0438\u043a\u0441","\u0438\u043c\u044f"]).setPsalomName("").setAllBooksChapters(m).setAllBooks(v).setEmptyFirstLines(_).setShowLineIndexes(!1))}}onEditTitleInfo(){this.memorialsTitleInfoDlg.modalFlag=!0,this.memorialsTitleInfoDlg.currentName=this.uiConfig.ui.memorialsTitleRemark.getStringValue()}onEndTitleInfoDlg(){this.uiConfig.ui.memorialsTitleRemark.setStringValue(this.memorialsTitleInfoDlg.currentName),this.memorialsTitleInfoDlg.modalFlag=!1}getFilterClasses(a){let h={label:!0,"label-danger":!a.enabled&&!a.system,"label-success":a.enabled&&!a.system};return h["hs"+this.uiConfig.ui.fontSize.getStringValue()]=!0,a.clazz.checkAndGetValue(h)}onDeleteCurrentPerson(){this.personsClickHandler.person&&this.personsClickHandler.person.person&&(this.memDataSvc.persons?.deletePerson(this.personsClickHandler.person.person),this.reload()),this.personDeleteDlg.modalFlag=!1}clearCurrentMemorial(a){let h=[];this.persons.forEach(d=>{d.person&&(d.person.tags=fo.removeTag(d.person.tags,this.currentMemorial),d.person.tags?this.memDataSvc.getPersons().save(-1,d.person,!0):h.push(d.person))}),this.memDataSvc.getPersons().deletePersons(h),a&&this.reload()}onAddNewPersonClick(a){this.onAddNewPersonsDirect(this.personNewDlg.currentName.split(",").map(h=>h.trim()).filter(h=>!!h)),this.personNewDlg.modalFlag=!1,a.stopPropagation()}onFABClick(a){switch(this.fabMode){case Of.None:break;case Of.Memorial:this.memorialsDlg.modalFlag||(this.addMemorial(),console.log("this.addMemorial();"));break;case Of.Name:this.personNewDlg.modalFlag||this.onAddNewPerson();break;default:throw new Error("\u041d\u0435\u043f\u043e\u043d\u044f\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c: "+this.fabMode)}}isFabNeeded(){return!this.personsData.readonly&&this.fabMode!=Of.None&&!this.memorialsDlg.modalFlag&&!this.personNewDlg.modalFlag}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(Ys),V(Zp),V(cQ),V(R1e),V(L1e),V(N1e),V(Xh),V(bA),V(uv),V(fo),V(CA))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-persons"]],viewQuery:function(h,d){if(1&h&&si(hft,5),2&h){let f;Ht(f=Wt())&&(d.pagesView=f.first)}},inputs:{data:"data"},decls:212,vars:39,consts:[[3,"fullScreen","infos","onFABChange",4,"ngIf"],[3,"click",4,"ngIf"],[1,"s0",3,"clrModalOpen","clrModalOpenChange","click"],[1,"modal-title"],[1,"modal-body"],[3,"data"],["clrForm",""],["clrInput","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u043b\u0435\u0431\u043d\u0430","name","input",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["clrInput","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","name","input",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button","aria-label","warning",1,"btn","btn-icon","btn-warning"],["shape","warning-standard"],["type","button",1,"btn","btn-danger",3,"click"],["shape","flame"],["type","button","aria-label","warning",1,"btn","btn-icon","btn-danger"],["clrInline",""],["type","checkbox","clrToggle","",3,"name","value","ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["type","checkbox","clrCheckbox","","value","singleMemorial","name","singleMemorial",3,"ngModel","ngModelChange"],["type","checkbox","clrCheckbox","","value","singleMemorial","name","clearMemorial",3,"ngModel","disabled","ngModelChange"],["class","badge",4,"ngIf"],["type","checkbox","clrCheckbox","","value","mergeNames","name","mergeNames",3,"ngModel","ngModelChange"],[1,"clr-form"],["clrTextarea","","name","description","required","",3,"ngModel","ngModelChange"],[1,"clr-row"],[1,"clr-col-6","clr-hidden-sm-up"],["type","button",1,"btn","btn-link","btn-block",3,"click"],["shape","recycle"],[1,"clr-hidden-md-down"],[1,"btn","btn-link","btn-block"],["type","file","placeholder","\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b","accept",".xml,.json,.csv,.tsv,.txt",1,"button-input",3,"change"],["shape","upload"],[1,"clr-col-3","clr-hidden-xs-down"],["type","button",1,"btn","btn-outline","btn-block",3,"click"],["shape","ban"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[1,"clr-col-6","clr-hidden-xs-down"],[1,"clr-col-6"],[1,"clr-col-12"],["tpl1",""],["paramTemplateVerticalX",""],["paramTemplateVertical",""],["paramTemplateHorizontal",""],["type","button",1,"btn","btn-success",3,"disabled","click"],[3,"fullScreen","infos","onFABChange"],[3,"click"],[1,"no-print","s0"],["class","fade-in-3",3,"clrAccordionPanelOpen","clrAccordionPanelOpenChange",4,"ngIf"],["class","clr-row no-print clr-hidden-sm-down",3,"hidden",4,"ngIf"],["class","clr-row left-space-0 right-space-0 no-print clr-hidden-xs-down clr-hidden-md-up",3,"hidden",4,"ngIf"],["class","clr-row left-space-0 right-space-0 no-print clr-hidden-sm-up",3,"hidden",4,"ngIf"],["class","no-print",4,"ngIf"],["pagesView",""],[1,"no-print"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"no-print","top-space","pageBreakBefore"],[1,"pageBreak","pageBreakBefore","bottom-space"],[1,"fade-in-3",3,"clrAccordionPanelOpen","clrAccordionPanelOpenChange"],[1,"bottom-top-space"],[1,"btn","btn-primary","btn-block",3,"click"],["shape","printer","solid",""],[1,"clr-row","no-print","clr-hidden-sm-down",3,"hidden"],[1,"clr-col-2"],[1,"btn","btn-link","btn-block",3,"click"],["shape","search"],["shape","import"],["shape","export"],[1,"btn","btn-link","btn-block",3,"clrCloseMenuOnItemClick"],["clrDropdownTrigger","",1,"btn","btn-link","btn-block"],["shape","add-text"],["shape","angle","direction","down"],[4,"clrIfOpen"],["shape","times"],["clrPosition","bottom-right",4,"clrIfOpen"],["aria-hidden","true",1,"dropdown-header"],["aria-label","Dropdown header Action 1","clrDropdownItem","",3,"click"],["aria-label","Dropdown header Action 2","clrDropdownItem","",3,"click"],["clrPosition","bottom-right"],[1,"clr-row","left-space-0","right-space-0","no-print","clr-hidden-xs-down","clr-hidden-md-up",3,"hidden"],[1,"clr-col-3"],["clrDropdownTrigger","",1,"btn","btn-link"],["shape","form"],["aria-label","Dropdown header Action 3","clrDropdownItem","",3,"click"],[1,"clr-row","left-space-0","right-space-0","no-print","clr-hidden-sm-up",3,"hidden"],[1,"clr-col-4"],["role","separator","aria-hidden","true",1,"dropdown-divider"],[1,"cursor",3,"click"],["clrInput","","name","input",3,"placeholder","ngModel","ngModelChange"],[1,"badge"],["class","pageBreakBefore",4,"ngIf"],[4,"ngIf"],[1,"pageBreakBefore"],[3,"svgWidth","svgHeight","scene","genName","logoText","type","startPageIndex","horizontalPagesCount","verticalPagesCount","namesPerPageCount","pagesCount"],["class","pageBreakBefore",4,"ngFor","ngForOf"],[3,"svgWidth","svgHeight","scene","genName","logoText","type","startPageIndex","horizontalPagesCount","verticalPagesCount","namesPerPageCount"],[3,"svgWidth","svgHeight","scene","genName","logoText","type","startPageIndex","horizontalPagesCount","namesPerPageCount","verticalPagesCount"],[1,"pageBreakBefore","pageBreakAfter"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[3,"ngClass"],["class","print-only",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"print-only"]],template:function(h,d){1&h&&(X(0,dft,1,2,"app-dynamic-fab",0),X(1,Dft,21,20,"div",1),E(2,"clr-modal",2),Y("clrModalOpenChange",function(p){return d.personDetailsDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(3,"h3",3),H(4,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u044b"),M(),E(5,"div",4),se(6,"app-person-details",5),M()(),E(7,"clr-modal",2),Y("clrModalOpenChange",function(p){return d.memorialsTitleInfoDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(8,"h3",3),H(9,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u043b\u0435\u0431\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u043e\u043a"),M(),E(10,"div",4)(11,"div"),H(12,"\xa0"),M(),E(13,"form",6)(14,"clr-input-container")(15,"label"),H(16,"\u0422\u0435\u043a\u0441\u0442:"),M(),E(17,"input",7),Y("ngModelChange",function(p){return d.memorialsTitleInfoDlg.currentName=p}),M(),E(18,"clr-control-helper"),H(19,"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u041c\u043e\u043b\u0435\u0431\u0435\u043d, \u041f\u0440\u0435\u0441\u0432\u044f\u0442\u043e\u0439 \u0411\u043e\u0433\u043e\u0440\u043e\u0434\u0438\u0446\u0435"),M()()(),E(20,"div"),H(21,"\xa0"),M()(),E(22,"div",8)(23,"button",9),Y("click",function(){return d.memorialsTitleInfoDlg.modalFlag=!1}),H(24,"\u041e\u0442\u043c\u0435\u043d\u0430"),M(),E(25,"button",10),Y("click",function(){return d.onEndTitleInfoDlg()}),H(26,"Ok"),M()()(),E(27,"clr-modal",2),Y("clrModalOpenChange",function(p){return d.memorialsDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(28,"h3",3),H(29),M(),E(30,"div",4)(31,"div"),H(32,"\xa0"),M(),E(33,"form",6)(34,"clr-input-container")(35,"label"),H(36,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"),M(),E(37,"input",11),Y("ngModelChange",function(p){return d.memorialsDlg.currentName=p}),M()()(),E(38,"div"),H(39,"\xa0"),M()(),E(40,"div",8)(41,"button",9),Y("click",function(){return d.memorialsDlg.modalFlag=!1}),H(42,"\u041e\u0442\u043c\u0435\u043d\u0430"),M(),E(43,"button",12),Y("click",function(){return d.memorialsDlg.modalAddingFlag?d.onAddNewMemorial():d.onChangeMemorial()}),H(44,"Ok"),M()()(),E(45,"clr-modal",2),Y("clrModalOpenChange",function(p){return d.personDeleteDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(46,"h3",3),H(47,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u043d\u0438"),M(),E(48,"div",4)(49,"p")(50,"button",13),se(51,"cds-icon",14),M(),H(52),M()(),E(53,"div",8)(54,"button",9),Y("click",function(){return d.personDeleteDlg.modalFlag=!1}),H(55,"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),M(),E(56,"button",15),Y("click",function(){return d.onDeleteCurrentPerson()}),H(57,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),M()()(),E(58,"clr-modal",2),Y("clrModalOpenChange",function(p){return d.memorialsDeleteDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(59,"h3",3),H(60,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0430"),M(),E(61,"div",4)(62,"p")(63,"button",13),se(64,"cds-icon",16),M(),H(65),M()(),E(66,"div",8)(67,"button",9),Y("click",function(){return d.memorialsDeleteDlg.modalFlag=!1}),H(68,"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),M(),E(69,"button",10),Y("click",function(){return d.onDeleteMemorial()}),H(70,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),M()()(),E(71,"clr-modal",2),Y("clrModalOpenChange",function(p){return d.memorialsDeleteAllDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(72,"h3",3),H(73,"\u041e\u0447\u0438\u0441\u0442\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"),M(),E(74,"div",4)(75,"p")(76,"button",17),se(77,"cds-icon",16),M(),H(78," \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435?"),M()(),E(79,"div",8)(80,"button",9),Y("click",function(){return d.memorialsDeleteAllDlg.modalFlag=!1}),H(81,"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),M(),E(82,"button",15),Y("click",function(){return d.onDeleteAllPersons()}),H(83,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),M()()(),E(84,"clr-modal",2),Y("clrModalOpenChange",function(p){return d.memorialsImportDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(85,"h3",3),H(86,"\u0418\u043c\u043f\u043e\u0440\u0442 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0430"),M(),E(87,"div",4)(88,"clr-toggle-container",18)(89,"label"),H(90,"\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438:"),M(),E(91,"clr-toggle-wrapper")(92,"input",19),Y("ngModelChange",function(p){return d.allMemorialEnabled=p}),M(),E(93,"label"),H(94,"\u0412\u0441\u0435"),M()(),X(95,Mft,4,4,"clr-toggle-wrapper",20),M(),E(96,"clr-checkbox-container")(97,"clr-checkbox-wrapper")(98,"input",21),Y("ngModelChange",function(p){return d.memorialsImportDlg.singleMemorial=p}),M(),E(99,"label"),H(100,"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a"),M()(),E(101,"clr-checkbox-wrapper")(102,"input",22),Y("ngModelChange",function(p){return d.memorialsImportDlg.clearMemorial=p}),M(),E(103,"label"),H(104,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a "),X(105,Eft,2,0,"span",23),M()(),E(106,"clr-checkbox-wrapper")(107,"input",24),Y("ngModelChange",function(p){return d.uiConfig.ui.mergeNameOnImport.rawValue=p}),M(),E(108,"label"),H(109),M()()(),E(110,"form",25)(111,"clr-textarea-container")(112,"label"),H(113,"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u043c\u0451\u043d:"),M(),E(114,"textarea",26),Y("ngModelChange",function(p){return d.memorialsImportDlg.text=p}),M(),E(115,"clr-control-helper"),H(116,"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u043f\u0430\u0442\u0440. \u041a\u0438\u0440\u0438\u043b\u043b (\u043f\u0430\u0442\u0440\u0438\u0430\u0440\u0445 \u041a\u0438\u0440\u0438\u043b\u043b)"),M(),E(117,"clr-control-error"),H(118,"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u043c\u0451\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043f\u0443\u0441\u0442\u043e\u0439!"),M()()()(),E(119,"div",8)(120,"div",27)(121,"div",28)(122,"button",29),Y("click",function(){return d.onClearImportPreview()}),se(123,"cds-icon",30),E(124,"span",31),H(125," \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),M()(),E(126,"label",32)(127,"input",33),Y("change",function(p){return d.onImportFile(p)}),M(),se(128,"cds-icon",34),M()(),E(129,"div",35)(130,"button",29),Y("click",function(){return d.onClearImportPreview()}),se(131,"cds-icon",30),E(132,"span",31),H(133," \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),M()()(),E(134,"div",35)(135,"label",32)(136,"input",33),Y("change",function(p){return d.onImportFile(p)}),M(),se(137,"cds-icon",34),M()(),E(138,"div",28)(139,"button",36),Y("click",function(){return d.memorialsImportDlg.modalFlag=!1}),se(140,"cds-icon",37),M(),E(141,"button",38),Y("click",function(){return d.onImportMemorial()}),H(142,"\u041e\u041a"),M()(),E(143,"div",39)(144,"div",27)(145,"div",40)(146,"button",36),Y("click",function(){return d.memorialsImportDlg.modalFlag=!1}),se(147,"cds-icon",37),M()(),E(148,"div",40)(149,"button",38),Y("click",function(){return d.onImportMemorial()}),H(150,"\u041e\u041a"),M()()()()()()(),E(151,"clr-modal",2),Y("clrModalOpenChange",function(p){return d.memorialsExportDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(152,"h3",3),H(153,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u0430\u043a"),M(),E(154,"div",4)(155,"clr-toggle-container",18)(156,"label"),H(157,"\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438:"),M(),E(158,"clr-toggle-wrapper")(159,"input",19),Y("ngModelChange",function(p){return d.allExportMemorialEnabled=p}),M(),E(160,"label"),H(161,"\u0412\u0441\u0435"),M()(),X(162,Pft,4,4,"clr-toggle-wrapper",20),M(),E(163,"clr-toggle-container",18)(164,"label"),H(165,"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438:"),M(),E(166,"clr-toggle-wrapper")(167,"input",19),Y("ngModelChange",function(p){return d.allExportPersonsSortingEnabled=p}),M(),E(168,"label"),H(169,"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c"),M()()(),E(170,"div"),H(171,"\xa0"),M(),H(172," \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0430\u0442 \u0444\u0430\u0439\u043b\u0430 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430: "),M(),E(173,"div",8)(174,"div",27)(175,"div",41)(176,"button",9),Y("click",function(){return d.onSaveAs("tsv",!1)}),H(177,"TSV"),M(),E(178,"button",9),Y("click",function(){return d.onSaveAs("xml",!1)}),H(179,"XML"),M(),E(180,"button",9),Y("click",function(){return d.onSaveAs("xml",!0)}),H(181,"XML2"),M(),E(182,"button",10),Y("click",function(){return d.onSaveAs("txt",!1)}),H(183,"TXT"),M()()()()(),E(184,"clr-modal",2),Y("clrModalOpenChange",function(p){return d.memorialsWaitingDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(185,"h3",3),H(186,"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),M(),E(187,"div",4),se(188,"app-dynamic-spinner"),M(),se(189,"div",8),M(),X(190,Rft,2,9,"ng-template",null,42,La),X(192,zft,4,4,"ng-template",null,43,La),X(194,Xft,2,1,"ng-template",null,44,La),X(196,npt,2,1,"ng-template",null,45,La),E(198,"clr-modal",2),Y("clrModalOpenChange",function(p){return d.personNewDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(199,"h3",3),H(200,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0438\u043c\u0451\u043d:"),M(),E(201,"div",4)(202,"div"),H(203,"\xa0"),M(),se(204,"app-dynamic-text-editor",5),E(205,"div"),H(206,"\xa0"),M()(),E(207,"div",8)(208,"button",10),Y("click",function(){return d.personNewDlg.modalFlag=!1}),H(209,"\u041e\u0442\u043c\u0435\u043d\u0430"),M(),E(210,"button",46),Y("click",function(p){return d.onAddNewPersonClick(p)}),H(211,"Ok"),M()()()),2&h&&(R("ngIf",d.isFabNeeded()),I(1),R("ngIf",d.isMemorialEnabled()),I(1),R("clrModalOpen",d.personDetailsDlg.modalFlag),I(4),R("data",d.personDetailsData),I(1),R("clrModalOpen",d.memorialsTitleInfoDlg.modalFlag),I(10),R("ngModel",d.memorialsTitleInfoDlg.currentName),I(10),R("clrModalOpen",d.memorialsDlg.modalFlag),I(2),Kt("",d.memorialsDlg.modalAddingFlag?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435"," \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0430"),I(8),R("ngModel",d.memorialsDlg.currentName),I(6),R("disabled",!d.memorialsDlg.currentName),I(2),R("clrModalOpen",d.personDeleteDlg.modalFlag),I(7),Kt(" \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u043c\u044f: ",d.personsClickHandler.person?d.personsClickHandler.person.name:"\u041e\u0448\u0438\u0431\u043a\u0430","?"),I(6),R("clrModalOpen",d.memorialsDeleteDlg.modalFlag),I(7),Kt(" \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a '",d.memorialsDeleteDlg.currentName?d.memorialsDeleteDlg.currentName:"\u041e\u0448\u0438\u0431\u043a\u0430","'?"),I(6),R("clrModalOpen",d.memorialsDeleteAllDlg.modalFlag),I(13),R("clrModalOpen",d.memorialsImportDlg.modalFlag),I(8),R("name","all")("value","all")("ngModel",d.allMemorialEnabled),I(3),R("ngForOf",d.memorialsImportDlg.preview),I(3),R("ngModel",d.memorialsImportDlg.singleMemorial),I(4),R("ngModel",d.memorialsImportDlg.clearMemorial)("disabled",!d.memorialsImportDlg.singleMemorial),I(3),R("ngIf",!d.memorialsImportDlg.singleMemorial),I(2),R("ngModel",d.uiConfig.ui.mergeNameOnImport.rawValue),I(2),ut(d.uiConfig.ui.mergeNameOnImport.description),I(5),R("ngModel",d.memorialsImportDlg.text),I(37),R("clrModalOpen",d.memorialsExportDlg.modalFlag),I(8),R("name","all")("value","all")("ngModel",d.allExportMemorialEnabled),I(3),R("ngForOf",d.memorialsExportDlg.exportPreview),I(5),R("name","all")("value","all")("ngModel",d.allExportPersonsSortingEnabled),I(17),R("clrModalOpen",d.memorialsWaitingDlg.modalFlag),I(14),R("clrModalOpen",d.personNewDlg.modalFlag),I(6),R("data",d.newPersonTextEditor),I(6),R("disabled",!d.personNewDlg.currentName))},dependencies:[ei,Gn,mn,Ah,Vn,Vo,$o,Hb,Lr,_z,Vme,$p,rd,rv,id,zp,pf,Ez,e0e,Cm,lO,cO,aO,pm,hf,mm,gm,vm,Np,Jh,za,rh,sa,Kh,Z1,Fo,Nc,Ic,yf,SA,yQ,_f,Hdt,Gp,wA],styles:[".badge.badge-orange[_ngcontent-%COMP%], .badge.badge-4[_ngcontent-%COMP%]{background:#613200!important;background:var(--clr-badge-orange-bg-color, hsl(31, 100%, 19%))!important;color:#fff!important;color:var(--clr-badge-orange-color, hsl(198, 0%, 100%))!important}.badge.badge-purple[_ngcontent-%COMP%], .badge.badge-2[_ngcontent-%COMP%]{background:#9e57bc!important;background:var(--clr-badge-purple-bg-color, hsl(282, 43%, 54%))!important;color:#fff!important;color:var(--clr-badge-purple-color, hsl(198, 0%, 100%))!important}.badge.badge-light-blue[_ngcontent-%COMP%], .badge.badge-5[_ngcontent-%COMP%]{background:#179bd3!important;background:var(--clr-badge-light-blue-bg-color, hsl(198, 80%, 46%))!important;color:#fff!important;color:var(--clr-badge-light-blue-color, hsl(198, 0%, 100%))!important}.badge.badge-danger[_ngcontent-%COMP%]{background:#991700!important;background:var(--clr-badge-danger-bg-color, hsl(9, 100%, 30%))!important;color:#fff!important;color:var(--clr-badge-danger-color, hsl(198, 0%, 100%))!important}.button-input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:7rem}.s0[_ngcontent-%COMP%]{font-size:.7rem!important;line-height:1.2rem!important}.left-space-0[_ngcontent-%COMP%]{margin-left:0!important}.right-space-0[_ngcontent-%COMP%]{margin-right:0!important}"]})}return c})();class SQ{printOnly=!1;constructor(){}static builder(){return new SQ}setPrintOnly(l){return this.printOnly=l,this}}class wQ extends ti{genName;svgWidth;svgHeight;classes;constructor(l,a,h,d,f,p){super("",d,f),this.genName=l,this.svgWidth=a,this.svgHeight=h,this.classes=p}static builder(){return new wQ("",512,512,null,null,SQ.builder())}setGenName(l){return this.genName=l,this}setSvgWidth(l){return this.svgWidth=l,this}setSvgHeight(l){return this.svgHeight=l,this}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}updateClasses(l){return l(this.classes),this}}let ipt=(()=>{class c{config;data;get svgData(){return this.data}get text(){return this.svgData&&this.svgData.text?this.svgData.text:""}get genName(){return this.svgData&&this.svgData.genName?this.svgData.genName:"Default"}get svgWidth(){return this.svgData&&this.svgData.svgWidth?this.svgData.svgWidth:512}get svgHeight(){return this.svgData&&this.svgData.svgHeight?this.svgData.svgHeight:512}constructor(a){this.config=a}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){var a=this.svgData.classes;return{"print-only":a&&a.printOnly}}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-svg"]],inputs:{data:"data"},decls:1,vars:5,consts:[[3,"genName","svgWidth","svgHeight","type","ngClass"]],template:function(h,d){1&h&&se(0,"app-svg-js-image",0),2&h&&R("genName",d.genName)("svgWidth",d.svgWidth)("svgHeight",d.svgHeight)("type",512)("ngClass",d.getClasses())},dependencies:[ei,Ic],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();function rpt(c,l){if(1&c&&(E(0,"span"),H(1),M()),2&c){const a=Q(2);I(1),ut(a.text)}}function spt(c,l){1&c&&se(0,"app-add-component",5),2&c&&R("component",l.$implicit)}function opt(c,l){if(1&c&&(E(0,"div"),X(1,spt,1,1,"app-add-component",4),M()),2&c){const a=Q(2);I(1),R("ngForOf",a.components)}}function apt(c,l){if(1&c&&(E(0,"div",9),se(1,"app-add-component",5),M()),2&c){const a=l.$implicit;R("ngClass",Q(3).getColClass(a)),I(1),R("component",a)}}function lpt(c,l){if(1&c&&(E(0,"div",6)(1,"div",7),X(2,apt,2,2,"div",8),M()()),2&c){const a=Q(2);I(2),R("ngForOf",a.components)}}function cpt(c,l){if(1&c){const a=Ae();E(0,"div",1),Y("click",function(d){return ce(a),ue(Q().onClick(d))}),X(1,rpt,2,1,"span",2),X(2,opt,2,1,"div",2),X(3,lpt,3,1,"div",3),M()}if(2&c){const a=Q();R("ngClass",a.getClasses()),I(1),R("ngIf",!a.components.length),I(1),R("ngIf",!a.isRow),I(1),R("ngIf",a.isRow)}}let Q1e=(()=>{class c{config;data;checkLater=Xw.builder().setEnabled(!1);get divData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a){this.config=a}get component(){return this.divData.components.length?this.divData.components[0]:null}get components(){return this.divData.components}get isRow(){return this.divData.classes.sClasses.findIndex((a,h,d)=>"clr-row"==a)>=0}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){this.config.post(()=>{this.checkLater.setConfig(this.config).setWaitingForSenderId(this.divData.waitingForSenderId),this.checkLater.checkEnabled()})}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return this.divData.classes.getCurValue(()=>this.getClassesRaw())}getClassesRaw(){var a=this.divData.classes;let h={ftext:a.fineText,pageBreak:a.pageBreakAfter,pageBreakBefore:a.pageBreakBefore};return a.sClasses.filter(d=>"clr-row"!=d&&!d.startsWith("clr-col-")).forEach(d=>h[d]=!0),h}getColClass(a){let h=this.getColClassRaw(a);return a.detector.checkAndGetValue(h)}getColClassRaw(a){let h={"clr-col":!0};return a.component===c&&a.data.classes.sClasses.filter(f=>f.startsWith("clr-col-")).forEach(f=>h[f]=!0),h}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-div"]],inputs:{data:"data"},decls:1,vars:1,consts:[[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"],[4,"ngIf"],["class","clr-col-12",4,"ngIf"],[3,"component",4,"ngFor","ngForOf"],[3,"component"],[1,"clr-col-12"],[1,"clr-row"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(h,d){1&h&&X(0,cpt,4,4,"div",0),2&h&&R("ngIf",d.checkLater.enabled)},dependencies:[ei,Gn,mn,ic],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();class xQ extends Qa{fineText=!1;pageBreakBefore=!1;pageBreakAfter=!1;printOnly=!1;noPrint=!1;sClasses=[];constructor(){super()}static builder(){return new xQ}setFineText(l){return this.fineText=l,this.markChanged(),this}setPageBreakBefore(l){return this.pageBreakBefore=l,this.markChanged(),this}setPageBreakAfter(l){return this.pageBreakAfter=l,this.markChanged(),this}setPrintOnly(l){return this.printOnly=l,this.markChanged(),this}setNoPrint(l){return this.noPrint=l,this.markChanged(),this}addSClass(l){return this.sClasses.push(l),this.markChanged(),this}setSClasses(l){return this.sClasses=l,this.markChanged(),this}}class TQ extends ti{classes;id="";waitingForSenderId="";components=[];constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new TQ("",null,null,xQ.builder().setFineText(!0))}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setId(l){return this.id=l,this}setWaitingForSenderid(l){return this.waitingForSenderId=l,this}setComponents(l){return this.components=l,this}}function upt(c,l){if(1&c){const a=Ae();E(0,"button",5)(1,"cds-icon",6),Y("click",function(){return ce(a),ue(Q(2).autioSvc.control.next())}),M()()}2&c&&(I(1),Je("shape","step-forward"))}const hpt=function(c,l){return{"no-print":!0,alert:!0,"alert-warning":c,"alert-success":l,"bottom-top-space":!0,h48px:!0,textCenter:!0}};function dpt(c,l){if(1&c){const a=Ae();E(0,"div",1)(1,"div",2)(2,"div",3),Y("click",function(){return ce(a),ue(Q().toggleAudio())}),E(3,"span",4),H(4),M()()(),E(5,"button",5)(6,"cds-icon",6),Y("click",function(){return ce(a),ue(Q().toggleAudio())}),M()(),X(7,upt,2,1,"button",7),E(8,"button",5)(9,"cds-icon",8),Y("click",function(){return ce(a),ue(Q().autioSvc.control.close(!0))}),M()()()}if(2&c){const a=Q();R("ngClass",mr(4,hpt,!a.autioSvc.control.isPlaying(),a.autioSvc.control.isPlaying())),I(4),ut(a.autioSvc.control.currentName()),I(2),Je("shape",a.autioSvc.control.isPlaying()?"pause":"play"),I(1),R("ngIf",a.autioSvc.control.isNextExists())}}let fpt=(()=>{class c{config;autioSvc;data;get audioData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h){this.config=a,this.autioSvc=h}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return this.audioData.classes.getCurValue(()=>this.getClassesRaw())}getClassesRaw(){return{}}toggleAudio(){this.autioSvc.control.isPlaying()?this.autioSvc.control.pause():this.autioSvc.control.resume()}static \u0275fac=function(h){return new(h||c)(V(Zt),V(uv))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-audio"]],inputs:{data:"data"},decls:1,vars:1,consts:[["role","alert",3,"ngClass",4,"ngIf"],["role","alert",3,"ngClass"],[1,"alert-items"],[1,"alert-item","static",3,"click"],[1,"alert-text"],["type","button","aria-label","Close",1,"close"],[1,"alert-icon",3,"click"],["type","button","class","close","aria-label","Close",4,"ngIf"],["aria-hidden","true","shape","close",3,"click"]],template:function(h,d){1&h&&X(0,dpt,10,7,"div",0),2&h&&R("ngIf",d.autioSvc.control.isStarted())},dependencies:[ei,mn,gf,Vn],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}.h48px[_ngcontent-%COMP%]{height:48px}.textCenter[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}return c})();class kQ extends Qa{constructor(){super()}static builder(){return new kQ}}class DQ extends ti{classes;constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new DQ("",null,null,kQ.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}}function ppt(c,l){1&c&&se(0,"app-add-component",4),2&c&&R("component",Q(2).$implicit.component)}function gpt(c,l){if(1&c&&(E(0,"clr-accordion-content"),X(1,ppt,1,1,"app-add-component",3),M()),2&c){const a=Q().$implicit;I(1),R("ngIf",a.component)}}function mpt(c,l){if(1&c&&(E(0,"clr-accordion-panel")(1,"clr-accordion-title"),H(2),M(),X(3,gpt,2,1,"clr-accordion-content",2),M()),2&c){const a=l.$implicit;I(2),ut(a.title)}}let vpt=(()=>{class c{config;data;get accordionData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a){this.config=a}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return this.accordionData.classes.getCurValue(()=>this.getClassesRaw())}getClassesRaw(){return{}}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-accordion"]],inputs:{data:"data"},decls:2,vars:2,consts:[[3,"ngClass"],[4,"ngFor","ngForOf"],[4,"clrIfExpanded"],[3,"component",4,"ngIf"],[3,"component"]],template:function(h,d){1&h&&(E(0,"clr-accordion",0),X(1,mpt,4,1,"clr-accordion-panel",1),M()),2&h&&(R("ngClass",d.getClasses()),I(1),R("ngForOf",d.accordionData.items))},dependencies:[ei,Gn,mn,Nx,Dx,pm,hf,mm,gm,vm,Np,ic],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();class MQ extends Qa{constructor(){super()}static builder(){return new MQ}}class EQ{title;component;constructor(l,a){this.title=l,this.component=a}static builder(){return new EQ("",null)}setTitle(l){return this.title=l,this}setComponent(l){return this.component=l,this}}class PQ extends ti{classes;items;constructor(l,a,h,d,f){super(l,a,h),this.classes=d,this.items=f}static builder(){return new PQ("",null,null,MQ.builder(),[])}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}addItem(l){return this.items.push(l),this}}class AQ{constructor(){}static builder(){return new AQ}}class IQ extends ti{classes;id="";waitingForSenderId="";components=[];constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new IQ("",null,null,AQ.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setId(l){return this.id=l,this}setWaitingForSenderid(l){return this.waitingForSenderId=l,this}setComponents(l){return this.components=l,this}}class RQ{resultEnabled;resultWidth;resultHeight;maxVisibleCodeLines;codeEnabled;constructor(l,a,h,d,f){this.resultEnabled=l,this.resultWidth=a,this.resultHeight=h,this.maxVisibleCodeLines=d,this.codeEnabled=f}static builder(){return new RQ(!1,256,160,-1,!0)}setResultEnabled(l){return this.resultEnabled=l,this}setResultWidth(l){return this.resultWidth=l,this}setResultHeight(l){return this.resultHeight=l,this}setMaxVisibleCodeLines(l){return this.maxVisibleCodeLines=l,this}setCodeEnabled(l){return this.codeEnabled=l,this}}class TA extends ti{config;language;convertImage;constructor(l,a,h,d,f,p){super(l,a,h),this.config=d,this.language=f,this.convertImage=p}static builder(){return new TA("",null,null,RQ.builder(),"",null)}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}updateConfig(l){return l(this.config),this}setLanguage(l){return this.language=l,this}setConvertImage(l){return this.convertImage=l,this}}let ni=(()=>class c{static Cyrillic="cyrillic";static JsES5="js-es5";static CJs="c-js";static JsES6="js-es6"})(),kA=(()=>class c{static BreakSource="/*** \u0420\u0410\u0417\u0420\u042b\u0412 \u0418\u0421\u0425\u041e\u0414\u041d\u0418\u041a\u0410 ***/"})();class DA extends cl{inputTarget;inputType;inputText;constructor(l="",a="",h=""){super(),this.inputTarget=l,this.inputType=a,this.inputText=h}static builder(){return new DA}setInputTarget(l){return this.inputTarget=l,this}setInputType(l){return this.inputType=l,this}setInputText(l){return this.inputText=l,this}}class LQ{width;height;autoSize;memory;environment;nativeMemory;nativeEnvironment;cyrillicMemory;cyrillicEnvironment;jsStdMemory;jsStdEnvironment;language;debug;mentor;mentorLanguage;constructor(l,a,h,d,f,p=null,g=null,m=null,v=null,_=null,y=null,b="",O=!1,C="",S=""){this.width=l,this.height=a,this.autoSize=h,this.memory=d,this.environment=f,this.nativeMemory=p,this.nativeEnvironment=g,this.cyrillicMemory=m,this.cyrillicEnvironment=v,this.jsStdMemory=_,this.jsStdEnvironment=y,this.language=b,this.debug=O,this.mentor=C,this.mentorLanguage=S}static builder(){return new LQ(512,512,!0,null,null)}setWidth(l){return this.width=l,this}setHeight(l){return this.height=l,this}setAutoSize(l){return this.autoSize=l,this}setMemory(l){return this.memory=l,this}setEnvironment(l){return this.environment=l,this}setNativeMemory(l){return this.nativeMemory=l,this}setNativeEnvironment(l){return this.nativeEnvironment=l,this}setCyrillicMemory(l){return this.cyrillicMemory=l,this}setCyrillicEnvironment(l){return this.cyrillicEnvironment=l,this}setJsStdMemory(l){return this.jsStdMemory=l,this}setJsStdEnvironment(l){return this.jsStdEnvironment=l,this}setLanguage(l){return this.language=l,this}setDebug(l){return this.debug=l,this}setMentor(l){return this.mentor=l,this}setMentorLanguage(l){return this.mentorLanguage=l,this}}class vO extends ti{config;convertImage;constructor(l,a,h,d,f){super(l,a,h),this.config=d,this.convertImage=f}static builder(){return new vO("",null,null,LQ.builder(),null)}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}updateConfig(l){return l(this.config),this}setConvertImage(l){return this.convertImage=l,this}}let km=(()=>{class c{http;config;persons=[];restPoint="/math";canSave=null;personSaved=new Tt;personsSubscribersMap=new Map;setCanSave(a){this.canSave=a}getRestPoint(a,h){return pi.merge(pi.merge(h||this.config.serviceAPIHost,this.restPoint),a)}getRestPointRaw(a,h){return pi.merge(h||this.config.serviceAPIHost,a)}constructor(a,h){this.http=a,this.config=h}mathSolve(a){const h={params:{}};return new Promise((d,f)=>{this.http.post(this.getRestPoint("/solve",null),a,h).pipe(vr(Ui.handleError)).subscribe({next:p=>{d($9.builder().setSuccess(!!p.success).setText(p.text))},error:p=>{f(null)}})})}static \u0275fac=function(h){return new(h||c)(Ee(hu),Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class H1e{template="";type="";success=!1}let W1e=(()=>{class c{http;config;cacheSvc;names=[];restPoint="/cprod";getRestPoint(a,h,d=null){return pi.merge(pi.merge(h||this.config.serviceAPIHost,d||this.restPoint),a)}constructor(a,h,d){this.http=a,this.config=h,this.cacheSvc=d}getTemplate(a,h){const d={params:{_name:a}};return new Promise((f,p)=>{this.http.get(this.getRestPoint("/templates",h),d).pipe(vr(Ui.handleError)).subscribe({next:g=>f(g),error:g=>this.getTextStr("","",a,m=>{null==m&&this.config.addAlert(Bi.of("Error::getTemplate:"+g.message,"Ok",30));let v=new H1e;v.template=m||"",v.type="text",v.success=!0,f(v)})})})}getTemplateDirect(a){let h=pi.merge(pi.merge(this.restPoint,"templates"),a);return new Promise((d,f)=>{this.cacheSvc.getTextDirect(h,p=>{null==p&&this.config.addAlert(Bi.of("\u041d\u0435 \u043c\u043e\u0433\u0443 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0444\u0430\u0439\u043b: "+a,"Ok",30));let g=new H1e;g.template=p||"",g.type="text",g.success=!!p,d(g)})})}getTextStr(a,h,d,f){let p=""+d;const g=pi.merge(pi.merge(a,h),p);this.cacheSvc.getText(g,f)}static \u0275fac=function(h){return new(h||c)(Ee(hu),Ee(Zt),Ee(Jl))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class MA extends Qa{fineText=!1;pageBreakBefore=!1;pageBreakAfter=!1;printOnly=!1;noPrint=!1;sClasses=[];constructor(){super()}static builder(){return new MA}setFineText(l){return this.fineText=l,this.markChanged(),this}setPageBreakBefore(l){return this.pageBreakBefore=l,this.markChanged(),this}setPageBreakAfter(l){return this.pageBreakAfter=l,this.markChanged(),this}setPrintOnly(l){return this.printOnly=l,this.markChanged(),this}setNoPrint(l){return this.noPrint=l,this.markChanged(),this}addSClass(l){return this.sClasses.push(l),this.markChanged(),this}setSClasses(l){return this.sClasses=l,this.markChanged(),this}}class Yx extends ti{classes;containerClasses;id="";waitingForSenderId="";components=[];messageTarget="";messageUndoText="";autocompleteType="c-js";enableBreakpoints=!1;constructor(l,a,h,d,f){super(l,a,h),this.classes=d,this.containerClasses=f}static builder(){return new Yx("",null,null,MA.builder().setFineText(!0),MA.builder().setFineText(!0))}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setId(l){return this.id=l,this}setWaitingForSenderid(l){return this.waitingForSenderId=l,this}setComponents(l){return this.components=l,this}setMessageTarget(l){return this.messageTarget=l,this}setMessageUndoText(l){return this.messageUndoText=l,this}setAutocompleteType(l){return this.autocompleteType=l,this}setEnableBreakpoints(l){return this.enableBreakpoints=l,this}}class zr{lineAt(l){if(l<0||l>this.length)throw new RangeError(`Invalid position ${l} in document of length ${this.length}`);return this.lineInner(l,!1,1,0)}line(l){if(l<1||l>this.lines)throw new RangeError(`Invalid line number ${l} in ${this.lines}-line document`);return this.lineInner(l,!0,1,0)}replace(l,a,h){[l,a]=_O(this,l,a);let d=[];return this.decompose(0,l,d,2),h.length&&h.decompose(0,h.length,d,3),this.decompose(a,this.length,d,1),Cf.from(d,this.length-(a-l)+h.length)}append(l){return this.replace(this.length,this.length,l)}slice(l,a=this.length){[l,a]=_O(this,l,a);let h=[];return this.decompose(l,a,h,0),Cf.from(h,a-l)}eq(l){if(l==this)return!0;if(l.length!=this.length||l.lines!=this.lines)return!1;let a=this.scanIdentical(l,1),h=this.length-this.scanIdentical(l,-1),d=new qx(this),f=new qx(l);for(let p=a,g=a;;){if(d.next(p),f.next(p),p=0,d.lineBreak!=f.lineBreak||d.done!=f.done||d.value!=f.value)return!1;if(g+=d.value.length,d.done||g>=h)return!0}}iter(l=1){return new qx(this,l)}iterRange(l,a=this.length){return new j1e(this,l,a)}iterLines(l,a){let h;if(null==l)h=this.iter();else{null==a&&(a=this.lines+1);let d=this.line(l).from;h=this.iterRange(d,Math.max(d,a==this.lines+1?this.length:a<=1?0:this.line(a-1).to))}return new G1e(h)}toString(){return this.sliceString(0)}toJSON(){let l=[];return this.flatten(l),l}constructor(){}static of(l){if(0==l.length)throw new RangeError("A document must have at least one line");return 1!=l.length||l[0]?l.length<=32?new ko(l):Cf.from(ko.split(l,[])):zr.empty}}class ko extends zr{constructor(l,a=function _pt(c){let l=-1;for(let a of c)l+=a.length+1;return l}(l)){super(),this.text=l,this.length=a}get lines(){return this.text.length}get children(){return null}lineInner(l,a,h,d){for(let f=0;;f++){let p=this.text[f],g=d+p.length;if((a?h:g)>=l)return new ypt(d,g,h,p);d=g+1,h++}}decompose(l,a,h,d){let f=l<=0&&a>=this.length?this:new ko(Z1e(this.text,l,a),Math.min(a,this.length)-Math.max(0,l));if(1&d){let p=h.pop(),g=EA(f.text,p.text.slice(),0,f.length);if(g.length<=32)h.push(new ko(g,p.length+f.length));else{let m=g.length>>1;h.push(new ko(g.slice(0,m)),new ko(g.slice(m)))}}else h.push(f)}replace(l,a,h){if(!(h instanceof ko))return super.replace(l,a,h);[l,a]=_O(this,l,a);let d=EA(this.text,EA(h.text,Z1e(this.text,0,l)),a),f=this.length+h.length-(a-l);return d.length<=32?new ko(d,f):Cf.from(ko.split(d,[]),f)}sliceString(l,a=this.length,h="\n"){[l,a]=_O(this,l,a);let d="";for(let f=0,p=0;f<=a&&p<this.text.length;p++){let g=this.text[p],m=f+g.length;f>l&&p&&(d+=h),l<m&&a>f&&(d+=g.slice(Math.max(0,l-f),a-f)),f=m+1}return d}flatten(l){for(let a of this.text)l.push(a)}scanIdentical(){return 0}static split(l,a){let h=[],d=-1;for(let f of l)h.push(f),d+=f.length+1,32==h.length&&(a.push(new ko(h,d)),h=[],d=-1);return d>-1&&a.push(new ko(h,d)),a}}class Cf extends zr{constructor(l,a){super(),this.children=l,this.length=a,this.lines=0;for(let h of l)this.lines+=h.lines}lineInner(l,a,h,d){for(let f=0;;f++){let p=this.children[f],g=d+p.length,m=h+p.lines-1;if((a?m:g)>=l)return p.lineInner(l,a,h,d);d=g+1,h=m+1}}decompose(l,a,h,d){for(let f=0,p=0;p<=a&&f<this.children.length;f++){let g=this.children[f],m=p+g.length;if(l<=m&&a>=p){let v=d&((p<=l?1:0)|(m>=a?2:0));p>=l&&m<=a&&!v?h.push(g):g.decompose(l-p,a-p,h,v)}p=m+1}}replace(l,a,h){if([l,a]=_O(this,l,a),h.lines<this.lines)for(let d=0,f=0;d<this.children.length;d++){let p=this.children[d],g=f+p.length;if(l>=f&&a<=g){let m=p.replace(l-f,a-f,h),v=this.lines-p.lines+m.lines;if(m.lines<v>>4&&m.lines>v>>6){let _=this.children.slice();return _[d]=m,new Cf(_,this.length-(a-l)+h.length)}return super.replace(f,g,m)}f=g+1}return super.replace(l,a,h)}sliceString(l,a=this.length,h="\n"){[l,a]=_O(this,l,a);let d="";for(let f=0,p=0;f<this.children.length&&p<=a;f++){let g=this.children[f],m=p+g.length;p>l&&f&&(d+=h),l<m&&a>p&&(d+=g.sliceString(l-p,a-p,h)),p=m+1}return d}flatten(l){for(let a of this.children)a.flatten(l)}scanIdentical(l,a){if(!(l instanceof Cf))return 0;let h=0,[d,f,p,g]=a>0?[0,0,this.children.length,l.children.length]:[this.children.length-1,l.children.length-1,-1,-1];for(;;d+=a,f+=a){if(d==p||f==g)return h;let m=this.children[d],v=l.children[f];if(m!=v)return h+m.scanIdentical(v,a);h+=m.length+1}}static from(l,a=l.reduce((h,d)=>h+d.length+1,-1)){let h=0;for(let O of l)h+=O.lines;if(h<32){let O=[];for(let C of l)C.flatten(O);return new ko(O,a)}let d=Math.max(32,h>>5),f=d<<1,p=d>>1,g=[],m=0,v=-1,_=[];function y(O){let C;if(O.lines>f&&O instanceof Cf)for(let S of O.children)y(S);else O.lines>p&&(m>p||!m)?(b(),g.push(O)):O instanceof ko&&m&&(C=_[_.length-1])instanceof ko&&O.lines+C.lines<=32?(m+=O.lines,v+=O.length+1,_[_.length-1]=new ko(C.text.concat(O.text),C.length+1+O.length)):(m+O.lines>d&&b(),m+=O.lines,v+=O.length+1,_.push(O))}function b(){0!=m&&(g.push(1==_.length?_[0]:Cf.from(_,v)),v=-1,m=_.length=0)}for(let O of l)y(O);return b(),1==g.length?g[0]:new Cf(g,a)}}function EA(c,l,a=0,h=1e9){for(let d=0,f=0,p=!0;f<c.length&&d<=h;f++){let g=c[f],m=d+g.length;m>=a&&(m>h&&(g=g.slice(0,h-d)),d<a&&(g=g.slice(a-d)),p?(l[l.length-1]+=g,p=!1):l.push(g)),d=m+1}return l}function Z1e(c,l,a){return EA(c,[""],l,a)}zr.empty=new ko([""],0);class qx{constructor(l,a=1){this.dir=a,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[l],this.offsets=[a>0?1:(l instanceof ko?l.text.length:l.children.length)<<1]}nextInner(l,a){for(this.done=this.lineBreak=!1;;){let h=this.nodes.length-1,d=this.nodes[h],f=this.offsets[h],p=f>>1;if(p==(a>0?d instanceof ko?d.text.length:d.children.length:0)){if(0==h)return this.done=!0,this.value="",this;a>0&&this.offsets[h-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&f)==(a>0?0:1)){if(this.offsets[h]+=a,0==l)return this.lineBreak=!0,this.value="\n",this;l--}else if(d instanceof ko){let m=d.text[p+(a<0?-1:0)];if(this.offsets[h]+=a,m.length>Math.max(0,l))return this.value=0==l?m:a>0?m.slice(l):m.slice(0,m.length-l),this;l-=m.length}else{let m=d.children[p+(a<0?-1:0)];l>m.length?(l-=m.length,this.offsets[h]+=a):(a<0&&this.offsets[h]--,this.nodes.push(m),this.offsets.push(a>0?1:(m instanceof ko?m.text.length:m.children.length)<<1))}}}next(l=0){return l<0&&(this.nextInner(-l,-this.dir),l=this.value.length),this.nextInner(l,this.dir)}}class j1e{constructor(l,a,h){this.value="",this.done=!1,this.cursor=new qx(l,a>h?-1:1),this.pos=a>h?l.length:0,this.from=Math.min(a,h),this.to=Math.max(a,h)}nextInner(l,a){if(a<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;l+=Math.max(0,a<0?this.pos-this.to:this.from-this.pos);let h=a<0?this.pos-this.from:this.to-this.pos;l>h&&(l=h),h-=l;let{value:d}=this.cursor.next(l);return this.pos+=(d.length+l)*a,this.value=d.length<=h?d:a<0?d.slice(d.length-h):d.slice(0,h),this.done=!this.value,this}next(l=0){return l<0?l=Math.max(l,this.from-this.pos):l>0&&(l=Math.min(l,this.to-this.pos)),this.nextInner(l,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class G1e{constructor(l){this.inner=l,this.afterBreak=!0,this.value="",this.done=!1}next(l=0){let{done:a,lineBreak:h,value:d}=this.inner.next(l);return a&&this.afterBreak?(this.value="",this.afterBreak=!1):a?(this.done=!0,this.value=""):h?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=d,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(zr.prototype[Symbol.iterator]=function(){return this.iter()},qx.prototype[Symbol.iterator]=j1e.prototype[Symbol.iterator]=G1e.prototype[Symbol.iterator]=function(){return this});class ypt{constructor(l,a,h,d){this.from=l,this.to=a,this.number=h,this.text=d}get length(){return this.to-this.from}}function _O(c,l,a){return[l=Math.max(0,Math.min(c.length,l)),Math.max(l,Math.min(c.length,a))]}let yO="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(c=>c?parseInt(c,36):1);for(let c=1;c<yO.length;c++)yO[c]+=yO[c-1];function bpt(c){for(let l=1;l<yO.length;l+=2)if(yO[l]>c)return yO[l-1]<=c;return!1}function X1e(c){return c>=127462&&c<=127487}const Y1e=8205;function Za(c,l,a=!0,h=!0){return(a?q1e:Opt)(c,l,h)}function q1e(c,l,a){if(l==c.length)return l;l&&K1e(c.charCodeAt(l))&&J1e(c.charCodeAt(l-1))&&l--;let h=ja(c,l);for(l+=dh(h);l<c.length;){let d=ja(c,l);if(h==Y1e||d==Y1e||a&&bpt(d))l+=dh(d),h=d;else{if(!X1e(d))break;{let f=0,p=l-2;for(;p>=0&&X1e(ja(c,p));)f++,p-=2;if(f%2==0)break;l+=2}}}return l}function Opt(c,l,a){for(;l>0;){let h=q1e(c,l-2,a);if(h<l)return h;l--}return 0}function K1e(c){return c>=56320&&c<57344}function J1e(c){return c>=55296&&c<56320}function ja(c,l){let a=c.charCodeAt(l);if(!J1e(a)||l+1==c.length)return a;let h=c.charCodeAt(l+1);return K1e(h)?h-56320+(a-55296<<10)+65536:a}function NQ(c){return c<=65535?String.fromCharCode(c):(c-=65536,String.fromCharCode(55296+(c>>10),56320+(1023&c)))}function dh(c){return c<65536?1:2}const FQ=/\r\n?|\n/;var Ga=function(c){return c[c.Simple=0]="Simple",c[c.TrackDel=1]="TrackDel",c[c.TrackBefore=2]="TrackBefore",c[c.TrackAfter=3]="TrackAfter",c}(Ga||(Ga={}));class Sf{constructor(l){this.sections=l}get length(){let l=0;for(let a=0;a<this.sections.length;a+=2)l+=this.sections[a];return l}get newLength(){let l=0;for(let a=0;a<this.sections.length;a+=2){let h=this.sections[a+1];l+=h<0?this.sections[a]:h}return l}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(l){for(let a=0,h=0,d=0;a<this.sections.length;){let f=this.sections[a++],p=this.sections[a++];p<0?(l(h,d,f),d+=f):d+=p,h+=f}}iterChangedRanges(l,a=!1){BQ(this,l,a)}get invertedDesc(){let l=[];for(let a=0;a<this.sections.length;){let h=this.sections[a++],d=this.sections[a++];d<0?l.push(h,d):l.push(d,h)}return new Sf(l)}composeDesc(l){return this.empty?l:l.empty?this:eve(this,l)}mapDesc(l,a=!1){return l.empty?this:VQ(this,l,a)}mapPos(l,a=-1,h=Ga.Simple){let d=0,f=0;for(let p=0;p<this.sections.length;){let g=this.sections[p++],m=this.sections[p++],v=d+g;if(m<0){if(v>l)return f+(l-d);f+=g}else{if(h!=Ga.Simple&&v>=l&&(h==Ga.TrackDel&&d<l&&v>l||h==Ga.TrackBefore&&d<l||h==Ga.TrackAfter&&v>l))return null;if(v>l||v==l&&a<0&&!g)return l==d||a<0?f:f+m;f+=m}d=v}if(l>d)throw new RangeError(`Position ${l} is out of range for changeset of length ${d}`);return f}touchesRange(l,a=l){for(let h=0,d=0;h<this.sections.length&&d<=a;){let g=d+this.sections[h++];if(this.sections[h++]>=0&&d<=a&&g>=l)return!(d<l&&g>a)||"cover";d=g}return!1}toString(){let l="";for(let a=0;a<this.sections.length;){let h=this.sections[a++],d=this.sections[a++];l+=(l?" ":"")+h+(d>=0?":"+d:"")}return l}toJSON(){return this.sections}static fromJSON(l){if(!Array.isArray(l)||l.length%2||l.some(a=>"number"!=typeof a))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Sf(l)}static create(l){return new Sf(l)}}class ua extends Sf{constructor(l,a){super(l),this.inserted=a}apply(l){if(this.length!=l.length)throw new RangeError("Applying change set to a document with the wrong length");return BQ(this,(a,h,d,f,p)=>l=l.replace(d,d+(h-a),p),!1),l}mapDesc(l,a=!1){return VQ(this,l,a,!0)}invert(l){let a=this.sections.slice(),h=[];for(let d=0,f=0;d<a.length;d+=2){let p=a[d],g=a[d+1];if(g>=0){a[d]=g,a[d+1]=p;let m=d>>1;for(;h.length<m;)h.push(zr.empty);h.push(p?l.slice(f,f+p):zr.empty)}f+=p}return new ua(a,h)}compose(l){return this.empty?l:l.empty?this:eve(this,l,!0)}map(l,a=!1){return l.empty?this:VQ(this,l,a,!0)}iterChanges(l,a=!1){BQ(this,l,a)}get desc(){return Sf.create(this.sections)}filter(l){let a=[],h=[],d=[],f=new Kx(this);e:for(let p=0,g=0;;){let m=p==l.length?1e9:l[p++];for(;g<m||g==m&&0==f.len;){if(f.done)break e;let _=Math.min(f.len,m-g);ml(d,_,-1);let y=-1==f.ins?-1:0==f.off?f.ins:0;ml(a,_,y),y>0&&Dm(h,a,f.text),f.forward(_),g+=_}let v=l[p++];for(;g<v;){if(f.done)break e;let _=Math.min(f.len,v-g);ml(a,_,-1),ml(d,_,-1==f.ins?-1:0==f.off?f.ins:0),f.forward(_),g+=_}}return{changes:new ua(a,h),filtered:Sf.create(d)}}toJSON(){let l=[];for(let a=0;a<this.sections.length;a+=2){let h=this.sections[a],d=this.sections[a+1];l.push(d<0?h:0==d?[h]:[h].concat(this.inserted[a>>1].toJSON()))}return l}static of(l,a,h){let d=[],f=[],p=0,g=null;function m(_=!1){if(!_&&!d.length)return;p<a&&ml(d,a-p,-1);let y=new ua(d,f);g=g?g.compose(y.map(g)):y,d=[],f=[],p=0}return function v(_){if(Array.isArray(_))for(let y of _)v(y);else if(_ instanceof ua){if(_.length!=a)throw new RangeError(`Mismatched change set length (got ${_.length}, expected ${a})`);m(),g=g?g.compose(_.map(g)):_}else{let{from:y,to:b=y,insert:O}=_;if(y>b||y<0||b>a)throw new RangeError(`Invalid change range ${y} to ${b} (in doc of length ${a})`);let C=O?"string"==typeof O?zr.of(O.split(h||FQ)):O:zr.empty,S=C.length;if(y==b&&0==S)return;y<p&&m(),y>p&&ml(d,y-p,-1),ml(d,b-y,S),Dm(f,d,C),p=b}}(l),m(!g),g}static empty(l){return new ua(l?[l,-1]:[],[])}static fromJSON(l){if(!Array.isArray(l))throw new RangeError("Invalid JSON representation of ChangeSet");let a=[],h=[];for(let d=0;d<l.length;d++){let f=l[d];if("number"==typeof f)a.push(f,-1);else{if(!Array.isArray(f)||"number"!=typeof f[0]||f.some((p,g)=>g&&"string"!=typeof p))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==f.length)a.push(f[0],0);else{for(;h.length<d;)h.push(zr.empty);h[d]=zr.of(f.slice(1)),a.push(f[0],h[d].length)}}}return new ua(a,h)}static createSet(l,a){return new ua(l,a)}}function ml(c,l,a,h=!1){if(0==l&&a<=0)return;let d=c.length-2;d>=0&&a<=0&&a==c[d+1]?c[d]+=l:0==l&&0==c[d]?c[d+1]+=a:h?(c[d]+=l,c[d+1]+=a):c.push(l,a)}function Dm(c,l,a){if(0==a.length)return;let h=l.length-2>>1;if(h<c.length)c[c.length-1]=c[c.length-1].append(a);else{for(;c.length<h;)c.push(zr.empty);c.push(a)}}function BQ(c,l,a){let h=c.inserted;for(let d=0,f=0,p=0;p<c.sections.length;){let g=c.sections[p++],m=c.sections[p++];if(m<0)d+=g,f+=g;else{let v=d,_=f,y=zr.empty;for(;v+=g,_+=m,m&&h&&(y=y.append(h[p-2>>1])),!(a||p==c.sections.length||c.sections[p+1]<0);)g=c.sections[p++],m=c.sections[p++];l(d,v,f,_,y),d=v,f=_}}}function VQ(c,l,a,h=!1){let d=[],f=h?[]:null,p=new Kx(c),g=new Kx(l);for(let m=-1;;)if(-1==p.ins&&-1==g.ins){let v=Math.min(p.len,g.len);ml(d,v,-1),p.forward(v),g.forward(v)}else if(g.ins>=0&&(p.ins<0||m==p.i||0==p.off&&(g.len<p.len||g.len==p.len&&!a))){let v=g.len;for(ml(d,g.ins,-1);v;){let _=Math.min(p.len,v);p.ins>=0&&m<p.i&&p.len<=_&&(ml(d,0,p.ins),f&&Dm(f,d,p.text),m=p.i),p.forward(_),v-=_}g.next()}else{if(!(p.ins>=0)){if(p.done&&g.done)return f?ua.createSet(d,f):Sf.create(d);throw new Error("Mismatched change set lengths")}{let v=0,_=p.len;for(;_;)if(-1==g.ins){let y=Math.min(_,g.len);v+=y,_-=y,g.forward(y)}else{if(!(0==g.ins&&g.len<_))break;_-=g.len,g.next()}ml(d,v,m<p.i?p.ins:0),f&&m<p.i&&Dm(f,d,p.text),m=p.i,p.forward(p.len-_)}}}function eve(c,l,a=!1){let h=[],d=a?[]:null,f=new Kx(c),p=new Kx(l);for(let g=!1;;){if(f.done&&p.done)return d?ua.createSet(h,d):Sf.create(h);if(0==f.ins)ml(h,f.len,0,g),f.next();else if(0!=p.len||p.done){if(f.done||p.done)throw new Error("Mismatched change set lengths");{let m=Math.min(f.len2,p.len),v=h.length;if(-1==f.ins){let _=-1==p.ins?-1:p.off?0:p.ins;ml(h,m,_,g),d&&_&&Dm(d,h,p.text)}else-1==p.ins?(ml(h,f.off?0:f.len,m,g),d&&Dm(d,h,f.textBit(m))):(ml(h,f.off?0:f.len,p.off?0:p.ins,g),d&&!p.off&&Dm(d,h,p.text));g=(f.ins>m||p.ins>=0&&p.len>m)&&(g||h.length>v),f.forward2(m),p.forward(m)}}else ml(h,0,p.ins,g),d&&Dm(d,h,p.text),p.next()}}class Kx{constructor(l){this.set=l,this.i=0,this.next()}next(){let{sections:l}=this.set;this.i<l.length?(this.len=l[this.i++],this.ins=l[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:l}=this.set,a=this.i-2>>1;return a>=l.length?zr.empty:l[a]}textBit(l){let{inserted:a}=this.set,h=this.i-2>>1;return h>=a.length&&!l?zr.empty:a[h].slice(this.off,null==l?void 0:this.off+l)}forward(l){l==this.len?this.next():(this.len-=l,this.off+=l)}forward2(l){-1==this.ins?this.forward(l):l==this.ins?this.next():(this.ins-=l,this.off+=l)}}class hv{constructor(l,a,h){this.from=l,this.to=a,this.flags=h}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let l=7&this.flags;return 7==l?null:l}get goalColumn(){let l=this.flags>>6;return 16777215==l?void 0:l}map(l,a=-1){let h,d;return this.empty?h=d=l.mapPos(this.from,a):(h=l.mapPos(this.from,1),d=l.mapPos(this.to,-1)),h==this.from&&d==this.to?this:new hv(h,d,this.flags)}extend(l,a=l){if(l<=this.anchor&&a>=this.anchor)return Rt.range(l,a);let h=Math.abs(l-this.anchor)>Math.abs(a-this.anchor)?l:a;return Rt.range(this.anchor,h)}eq(l){return this.anchor==l.anchor&&this.head==l.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(l){if(!l||"number"!=typeof l.anchor||"number"!=typeof l.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Rt.range(l.anchor,l.head)}static create(l,a,h){return new hv(l,a,h)}}class Rt{constructor(l,a){this.ranges=l,this.mainIndex=a}map(l,a=-1){return l.empty?this:Rt.create(this.ranges.map(h=>h.map(l,a)),this.mainIndex)}eq(l){if(this.ranges.length!=l.ranges.length||this.mainIndex!=l.mainIndex)return!1;for(let a=0;a<this.ranges.length;a++)if(!this.ranges[a].eq(l.ranges[a]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new Rt([this.main],0)}addRange(l,a=!0){return Rt.create([l].concat(this.ranges),a?0:this.mainIndex+1)}replaceRange(l,a=this.mainIndex){let h=this.ranges.slice();return h[a]=l,Rt.create(h,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(l=>l.toJSON()),main:this.mainIndex}}static fromJSON(l){if(!l||!Array.isArray(l.ranges)||"number"!=typeof l.main||l.main>=l.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Rt(l.ranges.map(a=>hv.fromJSON(a)),l.main)}static single(l,a=l){return new Rt([Rt.range(l,a)],0)}static create(l,a=0){if(0==l.length)throw new RangeError("A selection needs at least one range");for(let h=0,d=0;d<l.length;d++){let f=l[d];if(f.empty?f.from<=h:f.from<h)return Rt.normalized(l.slice(),a);h=f.to}return new Rt(l,a)}static cursor(l,a=0,h,d){return hv.create(l,l,(0==a?0:a<0?8:16)|(null==h?7:Math.min(6,h))|(d??16777215)<<6)}static range(l,a,h,d){let f=(h??16777215)<<6|(null==d?7:Math.min(6,d));return a<l?hv.create(a,l,48|f):hv.create(l,a,(a>l?8:0)|f)}static normalized(l,a=0){let h=l[a];l.sort((d,f)=>d.from-f.from),a=l.indexOf(h);for(let d=1;d<l.length;d++){let f=l[d],p=l[d-1];if(f.empty?f.from<=p.to:f.from<p.to){let g=p.from,m=Math.max(f.to,p.to);d<=a&&a--,l.splice(--d,2,f.anchor>f.head?Rt.range(m,g):Rt.range(g,m))}}return new Rt(l,a)}}function tve(c,l){for(let a of c.ranges)if(a.to>l)throw new RangeError("Selection points outside of document")}let $Q=0;class $n{constructor(l,a,h,d,f){this.combine=l,this.compareInput=a,this.compare=h,this.isStatic=d,this.id=$Q++,this.default=l([]),this.extensions="function"==typeof f?f(this):f}get reader(){return this}static define(l={}){return new $n(l.combine||(a=>a),l.compareInput||((a,h)=>a===h),l.compare||(l.combine?(a,h)=>a===h:zQ),!!l.static,l.enables)}of(l){return new PA([],this,0,l)}compute(l,a){if(this.isStatic)throw new Error("Can't compute a static facet");return new PA(l,this,1,a)}computeN(l,a){if(this.isStatic)throw new Error("Can't compute a static facet");return new PA(l,this,2,a)}from(l,a){return a||(a=h=>h),this.compute([l],h=>a(h.field(l)))}}function zQ(c,l){return c==l||c.length==l.length&&c.every((a,h)=>a===l[h])}class PA{constructor(l,a,h,d){this.dependencies=l,this.facet=a,this.type=h,this.value=d,this.id=$Q++}dynamicSlot(l){var a;let h=this.value,d=this.facet.compareInput,f=this.id,p=l[f]>>1,g=2==this.type,m=!1,v=!1,_=[];for(let y of this.dependencies)"doc"==y?m=!0:"selection"==y?v=!0:1&(null!==(a=l[y.id])&&void 0!==a?a:1)||_.push(l[y.id]);return{create:y=>(y.values[p]=h(y),1),update(y,b){if(m&&b.docChanged||v&&(b.docChanged||b.selection)||UQ(y,_)){let O=h(y);if(g?!nve(O,y.values[p],d):!d(O,y.values[p]))return y.values[p]=O,1}return 0},reconfigure:(y,b)=>{let O,C=b.config.address[f];if(null!=C){let S=IA(b,C);if(this.dependencies.every(w=>w instanceof $n?b.facet(w)===y.facet(w):!(w instanceof go)||b.field(w,!1)==y.field(w,!1))||(g?nve(O=h(y),S,d):d(O=h(y),S)))return y.values[p]=S,0}else O=h(y);return y.values[p]=O,1}}}}function nve(c,l,a){if(c.length!=l.length)return!1;for(let h=0;h<c.length;h++)if(!a(c[h],l[h]))return!1;return!0}function UQ(c,l){let a=!1;for(let h of l)1&eT(c,h)&&(a=!0);return a}function Cpt(c,l,a){let h=a.map(m=>c[m.id]),d=a.map(m=>m.type),f=h.filter(m=>!(1&m)),p=c[l.id]>>1;function g(m){let v=[];for(let _=0;_<h.length;_++){let y=IA(m,h[_]);if(2==d[_])for(let b of y)v.push(b);else v.push(y)}return l.combine(v)}return{create(m){for(let v of h)eT(m,v);return m.values[p]=g(m),1},update(m,v){if(!UQ(m,f))return 0;let _=g(m);return l.compare(_,m.values[p])?0:(m.values[p]=_,1)},reconfigure(m,v){let _=UQ(m,h),y=v.config.facets[l.id],b=v.facet(l);if(y&&!_&&zQ(a,y))return m.values[p]=b,0;let O=g(m);return l.compare(O,b)?(m.values[p]=b,0):(m.values[p]=O,1)}}}const ive=$n.define({static:!0});class go{constructor(l,a,h,d,f){this.id=l,this.createF=a,this.updateF=h,this.compareF=d,this.spec=f,this.provides=void 0}static define(l){let a=new go($Q++,l.create,l.update,l.compare||((h,d)=>h===d),l);return l.provide&&(a.provides=l.provide(a)),a}create(l){let a=l.facet(ive).find(h=>h.field==this);return(a?.create||this.createF)(l)}slot(l){let a=l[this.id]>>1;return{create:h=>(h.values[a]=this.create(h),1),update:(h,d)=>{let f=h.values[a],p=this.updateF(f,d);return this.compareF(f,p)?0:(h.values[a]=p,1)},reconfigure:(h,d)=>null!=d.config.address[this.id]?(h.values[a]=d.field(this),0):(h.values[a]=this.create(h),1)}}init(l){return[this,ive.of({field:this,create:l})]}get extension(){return this}}function Jx(c){return l=>new rve(l,c)}const fv={highest:Jx(0),high:Jx(1),default:Jx(2),low:Jx(3),lowest:Jx(4)};class rve{constructor(l,a){this.inner=l,this.prec=a}}class pv{of(l){return new QQ(this,l)}reconfigure(l){return pv.reconfigure.of({compartment:this,extension:l})}get(l){return l.config.compartments.get(this)}}class QQ{constructor(l,a){this.compartment=l,this.inner=a}}class AA{constructor(l,a,h,d,f,p){for(this.base=l,this.compartments=a,this.dynamicSlots=h,this.address=d,this.staticValues=f,this.facets=p,this.statusTemplate=[];this.statusTemplate.length<h.length;)this.statusTemplate.push(0)}staticFacet(l){let a=this.address[l.id];return null==a?l.default:this.staticValues[a>>1]}static resolve(l,a,h){let d=[],f=Object.create(null),p=new Map;for(let b of function Spt(c,l,a){let h=[[],[],[],[],[]],d=new Map;return function f(p,g){let m=d.get(p);if(null!=m){if(m<=g)return;let v=h[m].indexOf(p);v>-1&&h[m].splice(v,1),p instanceof QQ&&a.delete(p.compartment)}if(d.set(p,g),Array.isArray(p))for(let v of p)f(v,g);else if(p instanceof QQ){if(a.has(p.compartment))throw new RangeError("Duplicate use of compartment in extensions");let v=l.get(p.compartment)||p.inner;a.set(p.compartment,v),f(v,g)}else if(p instanceof rve)f(p.inner,p.prec);else if(p instanceof go)h[g].push(p),p.provides&&f(p.provides,g);else if(p instanceof PA)h[g].push(p),p.facet.extensions&&f(p.facet.extensions,2);else{let v=p.extension;if(!v)throw new Error(`Unrecognized extension value in extension set (${p}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);f(v,g)}}(c,2),h.reduce((p,g)=>p.concat(g))}(l,a,p))b instanceof go?d.push(b):(f[b.facet.id]||(f[b.facet.id]=[])).push(b);let g=Object.create(null),m=[],v=[];for(let b of d)g[b.id]=v.length<<1,v.push(O=>b.slot(O));let _=h?.config.facets;for(let b in f){let O=f[b],C=O[0].facet,S=_&&_[b]||[];if(O.every(w=>0==w.type))if(g[C.id]=m.length<<1|1,zQ(S,O))m.push(h.facet(C));else{let w=C.combine(O.map(x=>x.value));m.push(h&&C.compare(w,h.facet(C))?h.facet(C):w)}else{for(let w of O)0==w.type?(g[w.id]=m.length<<1|1,m.push(w.value)):(g[w.id]=v.length<<1,v.push(x=>w.dynamicSlot(x)));g[C.id]=v.length<<1,v.push(w=>Cpt(w,C,O))}}let y=v.map(b=>b(g));return new AA(l,p,y,g,m,f)}}function eT(c,l){if(1&l)return 2;let a=l>>1,h=c.status[a];if(4==h)throw new Error("Cyclic dependency between fields and/or facets");if(2&h)return h;c.status[a]=4;let d=c.computeSlot(c,c.config.dynamicSlots[a]);return c.status[a]=2|d}function IA(c,l){return 1&l?c.config.staticValues[l>>1]:c.values[l>>1]}const sve=$n.define(),HQ=$n.define({combine:c=>c.some(l=>l),static:!0}),ove=$n.define({combine:c=>c.length?c[0]:void 0,static:!0}),ave=$n.define(),lve=$n.define(),cve=$n.define(),uve=$n.define({combine:c=>!!c.length&&c[0]});class Xp{constructor(l,a){this.type=l,this.value=a}static define(){return new wpt}}class wpt{of(l){return new Xp(this,l)}}class xpt{constructor(l){this.map=l}of(l){return new or(this,l)}}let or=(()=>{class c{constructor(a,h){this.type=a,this.value=h}map(a){let h=this.type.map(this.value,a);return void 0===h?void 0:h==this.value?this:new c(this.type,h)}is(a){return this.type==a}static define(a={}){return new xpt(a.map||(h=>h))}static mapEffects(a,h){if(!a.length)return a;let d=[];for(let f of a){let p=f.map(h);p&&d.push(p)}return d}}return c.reconfigure=c.define(),c.appendConfig=c.define(),c})(),wf=(()=>{class c{constructor(a,h,d,f,p,g){this.startState=a,this.changes=h,this.selection=d,this.effects=f,this.annotations=p,this.scrollIntoView=g,this._doc=null,this._state=null,d&&tve(d,h.newLength),p.some(m=>m.type==c.time)||(this.annotations=p.concat(c.time.of(Date.now())))}static create(a,h,d,f,p,g){return new c(a,h,d,f,p,g)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(a){for(let h of this.annotations)if(h.type==a)return h.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(a){let h=this.annotation(c.userEvent);return!(!h||!(h==a||h.length>a.length&&h.slice(0,a.length)==a&&"."==h[a.length]))}}return c.time=Xp.define(),c.userEvent=Xp.define(),c.addToHistory=Xp.define(),c.remote=Xp.define(),c})();function Tpt(c,l){let a=[];for(let h=0,d=0;;){let f,p;if(h<c.length&&(d==l.length||l[d]>=c[h]))f=c[h++],p=c[h++];else{if(!(d<l.length))return a;f=l[d++],p=l[d++]}!a.length||a[a.length-1]<f?a.push(f,p):a[a.length-1]<p&&(a[a.length-1]=p)}}function hve(c,l,a){var h;let d,f,p;return a?(d=l.changes,f=ua.empty(l.changes.length),p=c.changes.compose(l.changes)):(d=l.changes.map(c.changes),f=c.changes.mapDesc(l.changes,!0),p=c.changes.compose(d)),{changes:p,selection:l.selection?l.selection.map(f):null===(h=c.selection)||void 0===h?void 0:h.map(d),effects:or.mapEffects(c.effects,d).concat(or.mapEffects(l.effects,f)),annotations:c.annotations.length?c.annotations.concat(l.annotations):l.annotations,scrollIntoView:c.scrollIntoView||l.scrollIntoView}}function WQ(c,l,a){let h=l.selection,d=bO(l.annotations);return l.userEvent&&(d=d.concat(wf.userEvent.of(l.userEvent))),{changes:l.changes instanceof ua?l.changes:ua.of(l.changes||[],a,c.facet(ove)),selection:h&&(h instanceof Rt?h:Rt.single(h.anchor,h.head)),effects:bO(l.effects),annotations:d,scrollIntoView:!!l.scrollIntoView}}function dve(c,l,a){let h=WQ(c,l.length?l[0]:{},c.doc.length);l.length&&!1===l[0].filter&&(a=!1);for(let f=1;f<l.length;f++){!1===l[f].filter&&(a=!1);let p=!!l[f].sequential;h=hve(h,WQ(c,l[f],p?h.changes.newLength:c.doc.length),p)}let d=wf.create(c,h.changes,h.selection,h.effects,h.annotations,h.scrollIntoView);return function Dpt(c){let l=c.startState,a=l.facet(cve),h=c;for(let d=a.length-1;d>=0;d--){let f=a[d](c);f&&Object.keys(f).length&&(h=hve(h,WQ(l,f,c.changes.newLength),!0))}return h==c?c:wf.create(l,c.changes,c.selection,h.effects,h.annotations,h.scrollIntoView)}(a?function kpt(c){let l=c.startState,a=!0;for(let d of l.facet(ave)){let f=d(c);if(!1===f){a=!1;break}Array.isArray(f)&&(a=!0===a?f:Tpt(a,f))}if(!0!==a){let d,f;if(!1===a)f=c.changes.invertedDesc,d=ua.empty(l.doc.length);else{let p=c.changes.filter(a);d=p.changes,f=p.filtered.mapDesc(p.changes).invertedDesc}c=wf.create(l,d,c.selection&&c.selection.map(f),or.mapEffects(c.effects,f),c.annotations,c.scrollIntoView)}let h=l.facet(lve);for(let d=h.length-1;d>=0;d--){let f=h[d](c);c=f instanceof wf?f:Array.isArray(f)&&1==f.length&&f[0]instanceof wf?f[0]:dve(l,bO(f),!1)}return c}(d):d)}const Mpt=[];function bO(c){return null==c?Mpt:Array.isArray(c)?c:[c]}var Us=function(c){return c[c.Word=0]="Word",c[c.Space=1]="Space",c[c.Other=2]="Other",c}(Us||(Us={}));const Ept=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let ZQ;try{ZQ=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}let vl=(()=>{class c{constructor(a,h,d,f,p,g){this.config=a,this.doc=h,this.selection=d,this.values=f,this.status=a.statusTemplate.slice(),this.computeSlot=p,g&&(g._state=this);for(let m=0;m<this.config.dynamicSlots.length;m++)eT(this,m<<1);this.computeSlot=null}field(a,h=!0){let d=this.config.address[a.id];if(null!=d)return eT(this,d),IA(this,d);if(h)throw new RangeError("Field is not present in this state")}update(...a){return dve(this,a,!0)}applyTransaction(a){let p,h=this.config,{base:d,compartments:f}=h;for(let m of a.effects)m.is(pv.reconfigure)?(h&&(f=new Map,h.compartments.forEach((v,_)=>f.set(_,v)),h=null),f.set(m.value.compartment,m.value.extension)):m.is(or.reconfigure)?(h=null,d=m.value):m.is(or.appendConfig)&&(h=null,d=bO(d).concat(m.value));h?p=a.startState.values.slice():(h=AA.resolve(d,f,this),p=new c(h,this.doc,this.selection,h.dynamicSlots.map(()=>null),(v,_)=>_.reconfigure(v,this),null).values);let g=a.startState.facet(HQ)?a.newSelection:a.newSelection.asSingle();new c(h,a.newDoc,g,p,(m,v)=>v.update(m,a),a)}replaceSelection(a){return"string"==typeof a&&(a=this.toText(a)),this.changeByRange(h=>({changes:{from:h.from,to:h.to,insert:a},range:Rt.cursor(h.from+a.length)}))}changeByRange(a){let h=this.selection,d=a(h.ranges[0]),f=this.changes(d.changes),p=[d.range],g=bO(d.effects);for(let m=1;m<h.ranges.length;m++){let v=a(h.ranges[m]),_=this.changes(v.changes),y=_.map(f);for(let O=0;O<m;O++)p[O]=p[O].map(y);let b=f.mapDesc(_,!0);p.push(v.range.map(b)),f=f.compose(y),g=or.mapEffects(g,y).concat(or.mapEffects(bO(v.effects),b))}return{changes:f,selection:Rt.create(p,h.mainIndex),effects:g}}changes(a=[]){return a instanceof ua?a:ua.of(a,this.doc.length,this.facet(c.lineSeparator))}toText(a){return zr.of(a.split(this.facet(c.lineSeparator)||FQ))}sliceDoc(a=0,h=this.doc.length){return this.doc.sliceString(a,h,this.lineBreak)}facet(a){let h=this.config.address[a.id];return null==h?a.default:(eT(this,h),IA(this,h))}toJSON(a){let h={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(a)for(let d in a){let f=a[d];f instanceof go&&null!=this.config.address[f.id]&&(h[d]=f.spec.toJSON(this.field(a[d]),this))}return h}static fromJSON(a,h={},d){if(!a||"string"!=typeof a.doc)throw new RangeError("Invalid JSON representation for EditorState");let f=[];if(d)for(let p in d)if(Object.prototype.hasOwnProperty.call(a,p)){let g=d[p],m=a[p];f.push(g.init(v=>g.spec.fromJSON(m,v)))}return c.create({doc:a.doc,selection:Rt.fromJSON(a.selection),extensions:h.extensions?f.concat([h.extensions]):f})}static create(a={}){let h=AA.resolve(a.extensions||[],new Map),d=a.doc instanceof zr?a.doc:zr.of((a.doc||"").split(h.staticFacet(c.lineSeparator)||FQ)),f=a.selection?a.selection instanceof Rt?a.selection:Rt.single(a.selection.anchor,a.selection.head):Rt.single(0);return tve(f,d.length),h.staticFacet(HQ)||(f=f.asSingle()),new c(h,d,f,h.dynamicSlots.map(()=>null),(p,g)=>g.create(p),null)}get tabSize(){return this.facet(c.tabSize)}get lineBreak(){return this.facet(c.lineSeparator)||"\n"}get readOnly(){return this.facet(uve)}phrase(a,...h){for(let d of this.facet(c.phrases))if(Object.prototype.hasOwnProperty.call(d,a)){a=d[a];break}return h.length&&(a=a.replace(/\$(\$|\d*)/g,(d,f)=>{if("$"==f)return"$";let p=+(f||1);return!p||p>h.length?d:h[p-1]})),a}languageDataAt(a,h,d=-1){let f=[];for(let p of this.facet(sve))for(let g of p(this,h,d))Object.prototype.hasOwnProperty.call(g,a)&&f.push(g[a]);return f}charCategorizer(a){return function Apt(c){return l=>{if(!/\S/.test(l))return Us.Space;if(function Ppt(c){if(ZQ)return ZQ.test(c);for(let l=0;l<c.length;l++){let a=c[l];if(/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||Ept.test(a)))return!0}return!1}(l))return Us.Word;for(let a=0;a<c.length;a++)if(l.indexOf(c[a])>-1)return Us.Word;return Us.Other}}(this.languageDataAt("wordChars",a).join(""))}wordAt(a){let{text:h,from:d,length:f}=this.doc.lineAt(a),p=this.charCategorizer(a),g=a-d,m=a-d;for(;g>0;){let v=Za(h,g,!1);if(p(h.slice(v,g))!=Us.Word)break;g=v}for(;m<f;){let v=Za(h,m);if(p(h.slice(m,v))!=Us.Word)break;m=v}return g==m?null:Rt.range(g+d,m+d)}}return c.allowMultipleSelections=HQ,c.tabSize=$n.define({combine:l=>l.length?l[0]:4}),c.lineSeparator=ove,c.readOnly=uve,c.phrases=$n.define({compare(l,a){let h=Object.keys(l),d=Object.keys(a);return h.length==d.length&&h.every(f=>l[f]==a[f])}}),c.languageData=sve,c.changeFilter=ave,c.transactionFilter=lve,c.transactionExtender=cve,c})();function ud(c,l,a={}){let h={};for(let d of c)for(let f of Object.keys(d)){let p=d[f],g=h[f];if(void 0===g)h[f]=p;else if(g!==p&&void 0!==p){if(!Object.hasOwnProperty.call(a,f))throw new Error("Config merge conflict for field "+f);h[f]=a[f](g,p)}}for(let d in l)void 0===h[d]&&(h[d]=l[d]);return h}pv.reconfigure=or.define();class gv{eq(l){return this==l}range(l,a=l){return tT.create(l,a,this)}}gv.prototype.startSide=gv.prototype.endSide=0,gv.prototype.point=!1,gv.prototype.mapMode=Ga.TrackDel;class tT{constructor(l,a,h){this.from=l,this.to=a,this.value=h}static create(l,a,h){return new tT(l,a,h)}}function jQ(c,l){return c.from-l.from||c.value.startSide-l.value.startSide}class GQ{constructor(l,a,h,d){this.from=l,this.to=a,this.value=h,this.maxPoint=d}get length(){return this.to[this.to.length-1]}findIndex(l,a,h,d=0){let f=h?this.to:this.from;for(let p=d,g=f.length;;){if(p==g)return p;let m=p+g>>1,v=f[m]-l||(h?this.value[m].endSide:this.value[m].startSide)-a;if(m==p)return v>=0?p:g;v>=0?g=m:p=m+1}}between(l,a,h,d){for(let f=this.findIndex(a,-1e9,!0),p=this.findIndex(h,1e9,!1,f);f<p;f++)if(!1===d(this.from[f]+l,this.to[f]+l,this.value[f]))return!1}map(l,a){let h=[],d=[],f=[],p=-1,g=-1;for(let m=0;m<this.value.length;m++){let b,O,v=this.value[m],_=this.from[m]+l,y=this.to[m]+l;if(_==y){let C=a.mapPos(_,v.startSide,v.mapMode);if(null==C||(b=O=C,v.startSide!=v.endSide&&(O=a.mapPos(_,v.endSide),O<b)))continue}else if(b=a.mapPos(_,v.startSide),O=a.mapPos(y,v.endSide),b>O||b==O&&v.startSide>0&&v.endSide<=0)continue;(O-b||v.endSide-v.startSide)<0||(p<0&&(p=b),v.point&&(g=Math.max(g,O-b)),h.push(v),d.push(b-p),f.push(O-p))}return{mapped:h.length?new GQ(d,f,h,g):null,pos:p}}}let Qs=(()=>{class c{constructor(a,h,d,f){this.chunkPos=a,this.chunk=h,this.nextLayer=d,this.maxPoint=f}static create(a,h,d,f){return new c(a,h,d,f)}get length(){let a=this.chunk.length-1;return a<0?0:Math.max(this.chunkEnd(a),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let a=this.nextLayer.size;for(let h of this.chunk)a+=h.value.length;return a}chunkEnd(a){return this.chunkPos[a]+this.chunk[a].length}update(a){let{add:h=[],sort:d=!1,filterFrom:f=0,filterTo:p=this.length}=a,g=a.filter;if(0==h.length&&!g)return this;if(d&&(h=h.slice().sort(jQ)),this.isEmpty)return h.length?c.of(h):this;let m=new pve(this,null,-1).goto(0),v=0,_=[],y=new Mm;for(;m.value||v<h.length;)if(v<h.length&&(m.from-h[v].from||m.startSide-h[v].value.startSide)>=0){let b=h[v++];y.addInner(b.from,b.to,b.value)||_.push(b)}else 1==m.rangeIndex&&m.chunkIndex<this.chunk.length&&(v==h.length||this.chunkEnd(m.chunkIndex)<h[v].from)&&(!g||f>this.chunkEnd(m.chunkIndex)||p<this.chunkPos[m.chunkIndex])&&y.addChunk(this.chunkPos[m.chunkIndex],this.chunk[m.chunkIndex])?m.nextChunk():((!g||f>m.to||p<m.from||g(m.from,m.to,m.value))&&(y.addInner(m.from,m.to,m.value)||_.push(tT.create(m.from,m.to,m.value))),m.next());return y.finishInner(this.nextLayer.isEmpty&&!_.length?c.empty:this.nextLayer.update({add:_,filter:g,filterFrom:f,filterTo:p}))}map(a){if(a.empty||this.isEmpty)return this;let h=[],d=[],f=-1;for(let g=0;g<this.chunk.length;g++){let m=this.chunkPos[g],v=this.chunk[g],_=a.touchesRange(m,m+v.length);if(!1===_)f=Math.max(f,v.maxPoint),h.push(v),d.push(a.mapPos(m));else if(!0===_){let{mapped:y,pos:b}=v.map(m,a);y&&(f=Math.max(f,y.maxPoint),h.push(y),d.push(b))}}let p=this.nextLayer.map(a);return 0==h.length?p:new c(d,h,p||c.empty,f)}between(a,h,d){if(!this.isEmpty){for(let f=0;f<this.chunk.length;f++){let p=this.chunkPos[f],g=this.chunk[f];if(h>=p&&a<=p+g.length&&!1===g.between(p,a-p,h-p,d))return}this.nextLayer.between(a,h,d)}}iter(a=0){return nT.from([this]).goto(a)}get isEmpty(){return this.nextLayer==this}static iter(a,h=0){return nT.from(a).goto(h)}static compare(a,h,d,f,p=-1){let g=a.filter(b=>b.maxPoint>0||!b.isEmpty&&b.maxPoint>=p),m=h.filter(b=>b.maxPoint>0||!b.isEmpty&&b.maxPoint>=p),v=fve(g,m,d),_=new iT(g,v,p),y=new iT(m,v,p);d.iterGaps((b,O,C)=>gve(_,b,y,O,C,f)),d.empty&&0==d.length&&gve(_,0,y,0,0,f)}static eq(a,h,d=0,f){null==f&&(f=999999999);let p=a.filter(y=>!y.isEmpty&&h.indexOf(y)<0),g=h.filter(y=>!y.isEmpty&&a.indexOf(y)<0);if(p.length!=g.length)return!1;if(!p.length)return!0;let m=fve(p,g),v=new iT(p,m,0).goto(d),_=new iT(g,m,0).goto(d);for(;;){if(v.to!=_.to||!YQ(v.active,_.active)||v.point&&(!_.point||!v.point.eq(_.point)))return!1;if(v.to>f)return!0;v.next(),_.next()}}static spans(a,h,d,f,p=-1){let g=new iT(a,null,p).goto(h),m=h,v=g.openStart;for(;;){let _=Math.min(g.to,d);if(g.point){let y=g.activeForPoint(g.to),b=g.pointFrom<h?y.length+1:Math.min(y.length,v);f.point(m,_,g.point,y,b,g.pointRank),v=Math.min(g.openEnd(_),y.length)}else _>m&&(f.span(m,_,g.active,v),v=g.openEnd(_));if(g.to>d)return v+(g.point&&g.to>d?1:0);m=g.to,g.next()}}static of(a,h=!1){let d=new Mm;for(let f of a instanceof tT?[a]:h?function Ipt(c){if(c.length>1)for(let l=c[0],a=1;a<c.length;a++){let h=c[a];if(jQ(l,h)>0)return c.slice().sort(jQ);l=h}return c}(a):a)d.add(f.from,f.to,f.value);return d.finish()}}return c.empty=new c([],[],null,-1),c})();Qs.empty.nextLayer=Qs.empty;class Mm{finishChunk(l){this.chunks.push(new GQ(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,l&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(l,a,h){this.addInner(l,a,h)||(this.nextLayer||(this.nextLayer=new Mm)).add(l,a,h)}addInner(l,a,h){let d=l-this.lastTo||h.startSide-this.last.endSide;if(d<=0&&(l-this.lastFrom||h.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(d<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=l),this.from.push(l-this.chunkStart),this.to.push(a-this.chunkStart),this.last=h,this.lastFrom=l,this.lastTo=a,this.value.push(h),h.point&&(this.maxPoint=Math.max(this.maxPoint,a-l)),0))}addChunk(l,a){if((l-this.lastTo||a.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,a.maxPoint),this.chunks.push(a),this.chunkPos.push(l);let h=a.value.length-1;return this.last=a.value[h],this.lastFrom=a.from[h]+l,this.lastTo=a.to[h]+l,!0}finish(){return this.finishInner(Qs.empty)}finishInner(l){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return l;let a=Qs.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(l):l,this.setMaxPoint);return this.from=null,a}}function fve(c,l,a){let h=new Map;for(let f of c)for(let p=0;p<f.chunk.length;p++)f.chunk[p].maxPoint<=0&&h.set(f.chunk[p],f.chunkPos[p]);let d=new Set;for(let f of l)for(let p=0;p<f.chunk.length;p++){let g=h.get(f.chunk[p]);null!=g&&(a?a.mapPos(g):g)==f.chunkPos[p]&&!a?.touchesRange(g,g+f.chunk[p].length)&&d.add(f.chunk[p])}return d}class pve{constructor(l,a,h,d=0){this.layer=l,this.skip=a,this.minPoint=h,this.rank=d}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(l,a=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(l,a,!1),this}gotoInner(l,a,h){for(;this.chunkIndex<this.layer.chunk.length;){let d=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(d)||this.layer.chunkEnd(this.chunkIndex)<l||d.maxPoint<this.minPoint))break;this.chunkIndex++,h=!1}if(this.chunkIndex<this.layer.chunk.length){let d=this.layer.chunk[this.chunkIndex].findIndex(l-this.layer.chunkPos[this.chunkIndex],a,!0);(!h||this.rangeIndex<d)&&this.setRangeIndex(d)}this.next()}forward(l,a){(this.to-l||this.endSide-a)<0&&this.gotoInner(l,a,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let l=this.layer.chunkPos[this.chunkIndex],a=this.layer.chunk[this.chunkIndex];if(this.from=l+a.from[this.rangeIndex],this.to=l+a.to[this.rangeIndex],this.value=a.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(l){if(l==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=l}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(l){return this.from-l.from||this.startSide-l.startSide||this.rank-l.rank||this.to-l.to||this.endSide-l.endSide}}class nT{constructor(l){this.heap=l}static from(l,a=null,h=-1){let d=[];for(let f=0;f<l.length;f++)for(let p=l[f];!p.isEmpty;p=p.nextLayer)p.maxPoint>=h&&d.push(new pve(p,a,h,f));return 1==d.length?d[0]:new nT(d)}get startSide(){return this.value?this.value.startSide:0}goto(l,a=-1e9){for(let h of this.heap)h.goto(l,a);for(let h=this.heap.length>>1;h>=0;h--)XQ(this.heap,h);return this.next(),this}forward(l,a){for(let h of this.heap)h.forward(l,a);for(let h=this.heap.length>>1;h>=0;h--)XQ(this.heap,h);(this.to-l||this.value.endSide-a)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let l=this.heap[0];this.from=l.from,this.to=l.to,this.value=l.value,this.rank=l.rank,l.value&&l.next(),XQ(this.heap,0)}}}function XQ(c,l){for(let a=c[l];;){let h=1+(l<<1);if(h>=c.length)break;let d=c[h];if(h+1<c.length&&d.compare(c[h+1])>=0&&(d=c[h+1],h++),a.compare(d)<0)break;c[h]=a,c[l]=d,l=h}}class iT{constructor(l,a,h){this.minPoint=h,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=nT.from(l,a,h)}goto(l,a=-1e9){return this.cursor.goto(l,a),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=l,this.endSide=a,this.openStart=-1,this.next(),this}forward(l,a){for(;this.minActive>-1&&(this.activeTo[this.minActive]-l||this.active[this.minActive].endSide-a)<0;)this.removeActive(this.minActive);this.cursor.forward(l,a)}removeActive(l){RA(this.active,l),RA(this.activeTo,l),RA(this.activeRank,l),this.minActive=mve(this.active,this.activeTo)}addActive(l){let a=0,{value:h,to:d,rank:f}=this.cursor;for(;a<this.activeRank.length&&this.activeRank[a]<=f;)a++;LA(this.active,a,h),LA(this.activeTo,a,d),LA(this.activeRank,a,f),l&&LA(l,a,this.cursor.from),this.minActive=mve(this.active,this.activeTo)}next(){let l=this.to,a=this.point;this.point=null;let h=this.openStart<0?[]:null;for(;;){let d=this.minActive;if(d>-1&&(this.activeTo[d]-this.cursor.from||this.active[d].endSide-this.cursor.startSide)<0){if(this.activeTo[d]>l){this.to=this.activeTo[d],this.endSide=this.active[d].endSide;break}this.removeActive(d),h&&RA(h,d)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>l){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let f=this.cursor.value;if(f.point){if(!(a&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=f,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=f.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(h),this.cursor.next()}}}if(h){this.openStart=0;for(let d=h.length-1;d>=0&&h[d]<l;d--)this.openStart++}}activeForPoint(l){if(!this.active.length)return this.active;let a=[];for(let h=this.active.length-1;h>=0&&!(this.activeRank[h]<this.pointRank);h--)(this.activeTo[h]>l||this.activeTo[h]==l&&this.active[h].endSide>=this.point.endSide)&&a.push(this.active[h]);return a.reverse()}openEnd(l){let a=0;for(let h=this.activeTo.length-1;h>=0&&this.activeTo[h]>l;h--)a++;return a}}function gve(c,l,a,h,d,f){c.goto(l),a.goto(h);let p=h+d,g=h,m=h-l;for(;;){let v=c.to+m-a.to||c.endSide-a.endSide,_=v<0?c.to+m:a.to,y=Math.min(_,p);if(c.point||a.point?c.point&&a.point&&(c.point==a.point||c.point.eq(a.point))&&YQ(c.activeForPoint(c.to),a.activeForPoint(a.to))||f.comparePoint(g,y,c.point,a.point):y>g&&!YQ(c.active,a.active)&&f.compareRange(g,y,c.active,a.active),_>p)break;g=_,v<=0&&c.next(),v>=0&&a.next()}}function YQ(c,l){if(c.length!=l.length)return!1;for(let a=0;a<c.length;a++)if(c[a]!=l[a]&&!c[a].eq(l[a]))return!1;return!0}function RA(c,l){for(let a=l,h=c.length-1;a<h;a++)c[a]=c[a+1];c.pop()}function LA(c,l,a){for(let h=c.length-1;h>=l;h--)c[h+1]=c[h];c[l]=a}function mve(c,l){let a=-1,h=1e9;for(let d=0;d<l.length;d++)(l[d]-h||c[d].endSide-c[a].endSide)<0&&(a=d,h=l[d]);return a}function OO(c,l,a=c.length){let h=0;for(let d=0;d<a;)9==c.charCodeAt(d)?(h+=l-h%l,d++):(h++,d=Za(c,d));return h}function qQ(c,l,a,h){for(let d=0,f=0;;){if(f>=l)return d;if(d==c.length)break;f+=9==c.charCodeAt(d)?a-f%a:1,d=Za(c,d)}return!0===h?-1:c.length}const vve=typeof Symbol>"u"?"__\u037c":Symbol.for("\u037c"),JQ=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),_ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Em{constructor(l,a){this.rules=[];let{finish:h}=a||{};function d(p){return/^@/.test(p)?[p]:p.split(/,\s*/)}function f(p,g,m,v){let _=[],y=/^@(\w+)\b/.exec(p[0]),b=y&&"keyframes"==y[1];if(y&&null==g)return m.push(p[0]+";");for(let O in g){let C=g[O];if(/&/.test(O))f(O.split(/,\s*/).map(S=>p.map(w=>S.replace(/&/,w))).reduce((S,w)=>S.concat(w)),C,m);else if(C&&"object"==typeof C){if(!y)throw new RangeError("The value of a property ("+O+") should be a primitive value.");f(d(O),C,_,b)}else null!=C&&_.push(O.replace(/_.*/,"").replace(/[A-Z]/g,S=>"-"+S.toLowerCase())+": "+C+";")}(_.length||b)&&m.push((!h||y||v?p:p.map(h)).join(", ")+" {"+_.join(" ")+"}")}for(let p in l)f(d(p),l[p],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let l=_ve[vve]||1;return _ve[vve]=l+1,"\u037c"+l.toString(36)}static mount(l,a,h){let d=l[JQ],f=h&&h.nonce;d?f&&d.setNonce(f):d=new Rpt(l,f),d.mount(Array.isArray(a)?a:[a])}}let yve=new Map;class Rpt{constructor(l,a){let h=l.ownerDocument||l,d=h.defaultView;if(!l.head&&l.adoptedStyleSheets&&d.CSSStyleSheet){let f=yve.get(h);if(f)return l.adoptedStyleSheets=[f.sheet,...l.adoptedStyleSheets],l[JQ]=f;this.sheet=new d.CSSStyleSheet,l.adoptedStyleSheets=[this.sheet,...l.adoptedStyleSheets],yve.set(h,this)}else{this.styleTag=h.createElement("style"),a&&this.styleTag.setAttribute("nonce",a);let f=l.head||l;f.insertBefore(this.styleTag,f.firstChild)}this.modules=[],l[JQ]=this}mount(l){let a=this.sheet,h=0,d=0;for(let f=0;f<l.length;f++){let p=l[f],g=this.modules.indexOf(p);if(g<d&&g>-1&&(this.modules.splice(g,1),d--,g=-1),-1==g){if(this.modules.splice(d++,0,p),a)for(let m=0;m<p.rules.length;m++)a.insertRule(p.rules[m],h++)}else{for(;d<g;)h+=this.modules[d++].rules.length;h+=p.rules.length,d++}}if(!a){let f="";for(let p=0;p<this.modules.length;p++)f+=this.modules[p].getRules()+"\n";this.styleTag.textContent=f}}setNonce(l){this.styleTag&&this.styleTag.getAttribute("nonce")!=l&&this.styleTag.setAttribute("nonce",l)}}for(var Pm={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},rT={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Lpt=typeof navigator<"u"&&/Mac/.test(navigator.platform),Npt=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Xa=0;Xa<10;Xa++)Pm[48+Xa]=Pm[96+Xa]=String(Xa);for(Xa=1;Xa<=24;Xa++)Pm[Xa+111]="F"+Xa;for(Xa=65;Xa<=90;Xa++)Pm[Xa]=String.fromCharCode(Xa+32),rT[Xa]=String.fromCharCode(Xa);for(var eH in Pm)rT.hasOwnProperty(eH)||(rT[eH]=Pm[eH]);function NA(c){let l;return l=11==c.nodeType?c.getSelection?c:c.ownerDocument:c,l.getSelection()}function tH(c,l){return!!l&&(c==l||c.contains(1!=l.nodeType?l.parentNode:l))}function FA(c,l){if(!l.anchorNode)return!1;try{return tH(c,l.anchorNode)}catch{return!1}}function CO(c){return 3==c.nodeType?mv(c,0,c.nodeValue.length).getClientRects():1==c.nodeType?c.getClientRects():[]}function BA(c,l,a,h){return!!a&&(bve(c,l,a,h,-1)||bve(c,l,a,h,1))}function sT(c){for(var l=0;;l++)if(!(c=c.previousSibling))return l}function bve(c,l,a,h,d){for(;;){if(c==a&&l==h)return!0;if(l==(d<0?0:Yp(c))){if("DIV"==c.nodeName)return!1;let f=c.parentNode;if(!f||1!=f.nodeType)return!1;l=sT(c)+(d<0?0:1),c=f}else{if(1!=c.nodeType)return!1;if(1==(c=c.childNodes[l+(d<0?-1:0)]).nodeType&&"false"==c.contentEditable)return!1;l=d<0?Yp(c):0}}}function Yp(c){return 3==c.nodeType?c.nodeValue.length:c.childNodes.length}function VA(c,l){let a=l?c.left:c.right;return{left:a,right:a,top:c.top,bottom:c.bottom}}function Vpt(c){return{left:0,right:c.innerWidth,top:0,bottom:c.innerHeight}}function Ove(c,l){let a=l.width/c.offsetWidth,h=l.height/c.offsetHeight;return(a>.995&&a<1.005||!isFinite(a)||Math.abs(l.width-c.offsetWidth)<1)&&(a=1),(h>.995&&h<1.005||!isFinite(h)||Math.abs(l.height-c.offsetHeight)<1)&&(h=1),{scaleX:a,scaleY:h}}class Upt{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(l){return this.anchorNode==l.anchorNode&&this.anchorOffset==l.anchorOffset&&this.focusNode==l.focusNode&&this.focusOffset==l.focusOffset}setRange(l){let{anchorNode:a,focusNode:h}=l;this.set(a,Math.min(l.anchorOffset,a?Yp(a):0),h,Math.min(l.focusOffset,h?Yp(h):0))}set(l,a,h,d){this.anchorNode=l,this.anchorOffset=a,this.focusNode=h,this.focusOffset=d}}let Sve,SO=null;function Cve(c){if(c.setActive)return c.setActive();if(SO)return c.focus(SO);let l=[];for(let a=c;a&&(l.push(a,a.scrollTop,a.scrollLeft),a!=a.ownerDocument);a=a.parentNode);if(c.focus(null==SO?{get preventScroll(){return SO={preventScroll:!0},!0}}:void 0),!SO){SO=!1;for(let a=0;a<l.length;){let h=l[a++],d=l[a++],f=l[a++];h.scrollTop!=d&&(h.scrollTop=d),h.scrollLeft!=f&&(h.scrollLeft=f)}}}function mv(c,l,a=l){let h=Sve||(Sve=document.createRange());return h.setEnd(c,a),h.setStart(c,l),h}function wO(c,l,a){let h={key:l,code:l,keyCode:a,which:a,cancelable:!0},d=new KeyboardEvent("keydown",h);d.synthetic=!0,c.dispatchEvent(d);let f=new KeyboardEvent("keyup",h);return f.synthetic=!0,c.dispatchEvent(f),d.defaultPrevented||f.defaultPrevented}function wve(c){for(;c.attributes.length;)c.removeAttributeNode(c.attributes[0])}function xve(c){return c.scrollTop>Math.max(1,c.scrollHeight-c.clientHeight-4)}class _l{constructor(l,a,h=!0){this.node=l,this.offset=a,this.precise=h}static before(l,a){return new _l(l.parentNode,sT(l),a)}static after(l,a){return new _l(l.parentNode,sT(l)+1,a)}}const nH=[];class As{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(l){let a=this.posAtStart;for(let h of this.children){if(h==l)return a;a+=h.length+h.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(l){return this.posBefore(l)+l.length}sync(l,a){if(2&this.flags){let f,h=this.dom,d=null;for(let p of this.children){if(7&p.flags){if(!p.dom&&(f=d?d.nextSibling:h.firstChild)){let g=As.get(f);(!g||!g.parent&&g.canReuseDOM(p))&&p.reuseDOM(f)}p.sync(l,a),p.flags&=-8}if(f=d?d.nextSibling:h.firstChild,a&&!a.written&&a.node==h&&f!=p.dom&&(a.written=!0),p.dom.parentNode==h)for(;f&&f!=p.dom;)f=Tve(f);else h.insertBefore(p.dom,f);d=p.dom}for(f=d?d.nextSibling:h.firstChild,f&&a&&a.node==h&&(a.written=!0);f;)f=Tve(f)}else if(1&this.flags)for(let h of this.children)7&h.flags&&(h.sync(l,a),h.flags&=-8)}reuseDOM(l){}localPosFromDOM(l,a){let h;if(l==this.dom)h=this.dom.childNodes[a];else{let d=0==Yp(l)?0:0==a?-1:1;for(;;){let f=l.parentNode;if(f==this.dom)break;0==d&&f.firstChild!=f.lastChild&&(d=l==f.firstChild?-1:1),l=f}h=d<0?l:l.nextSibling}if(h==this.dom.firstChild)return 0;for(;h&&!As.get(h);)h=h.nextSibling;if(!h)return this.length;for(let d=0,f=0;;d++){let p=this.children[d];if(p.dom==h)return f;f+=p.length+p.breakAfter}}domBoundsAround(l,a,h=0){let d=-1,f=-1,p=-1,g=-1;for(let m=0,v=h,_=h;m<this.children.length;m++){let y=this.children[m],b=v+y.length;if(v<l&&b>a)return y.domBoundsAround(l,a,v);if(b>=l&&-1==d&&(d=m,f=v),v>a&&y.dom.parentNode==this.dom){p=m,g=_;break}_=b,v=b+y.breakAfter}return{from:f,to:g<0?h+this.length:g,startDOM:(d?this.children[d-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:p<this.children.length&&p>=0?this.children[p].dom:null}}markDirty(l=!1){this.flags|=2,this.markParentsDirty(l)}markParentsDirty(l){for(let a=this.parent;a;a=a.parent){if(l&&(a.flags|=2),1&a.flags)return;a.flags|=1,l=!1}}setParent(l){this.parent!=l&&(this.parent=l,7&this.flags&&this.markParentsDirty(!0))}setDOM(l){this.dom!=l&&(this.dom&&(this.dom.cmView=null),this.dom=l,l.cmView=this)}get rootView(){for(let l=this;;){let a=l.parent;if(!a)return l;l=a}}replaceChildren(l,a,h=nH){this.markDirty();for(let d=l;d<a;d++){let f=this.children[d];f.parent==this&&h.indexOf(f)<0&&f.destroy()}this.children.splice(l,a-l,...h);for(let d=0;d<h.length;d++)h[d].setParent(this)}ignoreMutation(l){return!1}ignoreEvent(l){return!1}childCursor(l=this.length){return new kve(this.children,l,this.children.length)}childPos(l,a=1){return this.childCursor().findPos(l,a)}toString(){let l=this.constructor.name.replace("View","");return l+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==l?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(l){return l.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(l,a,h,d,f,p){return!1}become(l){return!1}canReuseDOM(l){return l.constructor==this.constructor&&!(8&(this.flags|l.flags))}getSide(){return 0}destroy(){for(let l of this.children)l.parent==this&&l.destroy();this.parent=null}}function Tve(c){let l=c.nextSibling;return c.parentNode.removeChild(c),l}As.prototype.breakAfter=0;class kve{constructor(l,a,h){this.children=l,this.pos=a,this.i=h,this.off=0}findPos(l,a=1){for(;;){if(l>this.pos||l==this.pos&&(a>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=l-this.pos,this;let h=this.children[--this.i];this.pos-=h.length+h.breakAfter}}}function Dve(c,l,a,h,d,f,p,g,m){let{children:v}=c,_=v.length?v[l]:null,y=f.length?f[f.length-1]:null,b=y?y.breakAfter:p;if(!(l==h&&_&&!p&&!b&&f.length<2&&_.merge(a,d,f.length?y:null,0==a,g,m))){if(h<v.length){let O=v[h];O&&(d<O.length||O.breakAfter&&y?.breakAfter)?(l==h&&(O=O.split(d),d=0),!b&&y&&O.merge(0,d,y,!0,0,m)?f[f.length-1]=O:((d||O.children.length&&!O.children[0].length)&&O.merge(0,d,null,!1,0,m),f.push(O))):O?.breakAfter&&(y?y.breakAfter=1:p=1),h++}for(_&&(_.breakAfter=p,a>0&&(!p&&f.length&&_.merge(a,_.length,f[0],!1,g,0)?_.breakAfter=f.shift().breakAfter:(a<_.length||_.children.length&&0==_.children[_.children.length-1].length)&&_.merge(a,_.length,null,!1,g,0),l++));l<h&&f.length;)if(v[h-1].become(f[f.length-1]))h--,f.pop(),m=f.length?0:g;else{if(!v[l].become(f[0]))break;l++,f.shift(),g=f.length?0:m}!f.length&&l&&h<v.length&&!v[l-1].breakAfter&&v[h].merge(0,0,v[l-1],!1,g,m)&&l--,(l<h||f.length)&&c.replaceChildren(l,h,f)}}function Mve(c,l,a,h,d,f){let p=c.childCursor(),{i:g,off:m}=p.findPos(a,1),{i:v,off:_}=p.findPos(l,-1),y=l-a;for(let b of h)y+=b.length;c.length+=y,Dve(c,v,_,g,m,h,0,d,f)}let bu=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},iH=typeof document<"u"?document:{documentElement:{style:{}}};const rH=/Edge\/(\d+)/.exec(bu.userAgent),Eve=/MSIE \d/.test(bu.userAgent),sH=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(bu.userAgent),$A=!!(Eve||sH||rH),Pve=!$A&&/gecko\/(\d+)/i.test(bu.userAgent),oH=!$A&&/Chrome\/(\d+)/.exec(bu.userAgent),Ave="webkitFontSmoothing"in iH.documentElement.style,Ive=!$A&&/Apple Computer/.test(bu.vendor),Rve=Ive&&(/Mobile\/\w+/.test(bu.userAgent)||bu.maxTouchPoints>2);var qn={mac:Rve||/Mac/.test(bu.platform),windows:/Win/.test(bu.platform),linux:/Linux|X11/.test(bu.platform),ie:$A,ie_version:Eve?iH.documentMode||6:sH?+sH[1]:rH?+rH[1]:0,gecko:Pve,gecko_version:Pve?+(/Firefox\/(\d+)/.exec(bu.userAgent)||[0,0])[1]:0,chrome:!!oH,chrome_version:oH?+oH[1]:0,ios:Rve,android:/Android\b/.test(bu.userAgent),webkit:Ave,safari:Ive,webkit_version:Ave?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=iH.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class qp extends As{constructor(l){super(),this.text=l}get length(){return this.text.length}createDOM(l){this.setDOM(l||document.createTextNode(this.text))}sync(l,a){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(a&&a.node==this.dom&&(a.written=!0),this.dom.nodeValue=this.text)}reuseDOM(l){3==l.nodeType&&this.createDOM(l)}merge(l,a,h){return!(8&this.flags||h&&(!(h instanceof qp)||this.length-(a-l)+h.length>256||8&h.flags)||(this.text=this.text.slice(0,l)+(h?h.text:"")+this.text.slice(a),this.markDirty(),0))}split(l){let a=new qp(this.text.slice(l));return this.text=this.text.slice(0,l),this.markDirty(),a.flags|=8&this.flags,a}localPosFromDOM(l,a){return l==this.dom?a:a?this.text.length:0}domAtPos(l){return new _l(this.dom,l)}domBoundsAround(l,a,h){return{from:h,to:h+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(l,a){return function Zpt(c,l,a){let h=c.nodeValue.length;l>h&&(l=h);let d=l,f=l,p=0;0==l&&a<0||l==h&&a>=0?qn.chrome||qn.gecko||(l?(d--,p=1):f<h&&(f++,p=-1)):a<0?d--:f<h&&f++;let g=mv(c,d,f).getClientRects();if(!g.length)return null;let m=g[(p?p<0:a>=0)?0:g.length-1];return qn.safari&&!p&&0==m.width&&(m=Array.prototype.find.call(g,v=>v.width)||m),p?VA(m,p<0):m||null}(this.dom,l,a)}}class Kp extends As{constructor(l,a=[],h=0){super(),this.mark=l,this.children=a,this.length=h;for(let d of a)d.setParent(this)}setAttrs(l){if(wve(l),this.mark.class&&(l.className=this.mark.class),this.mark.attrs)for(let a in this.mark.attrs)l.setAttribute(a,this.mark.attrs[a]);return l}canReuseDOM(l){return super.canReuseDOM(l)&&!(8&(this.flags|l.flags))}reuseDOM(l){l.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(l),this.flags|=6)}sync(l,a){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(l,a)}merge(l,a,h,d,f,p){return!(h&&(!(h instanceof Kp&&h.mark.eq(this.mark))||l&&f<=0||a<this.length&&p<=0)||(Mve(this,l,a,h?h.children.slice():[],f-1,p-1),this.markDirty(),0))}split(l){let a=[],h=0,d=-1,f=0;for(let g of this.children){let m=h+g.length;m>l&&a.push(h<l?g.split(l-h):g),d<0&&h>=l&&(d=f),h=m,f++}let p=this.length-l;return this.length=l,d>-1&&(this.children.length=d,this.markDirty()),new Kp(this.mark,a,p)}domAtPos(l){return Lve(this,l)}coordsAt(l,a){return Fve(this,l,a)}}class Am extends As{static create(l,a,h){return new Am(l,a,h)}constructor(l,a,h){super(),this.widget=l,this.length=a,this.side=h,this.prevWidget=null}split(l){let a=Am.create(this.widget,this.length-l,this.side);return this.length-=l,a}sync(l){(!this.dom||!this.widget.updateDOM(this.dom,l))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(l)),this.dom.contentEditable="false")}getSide(){return this.side}merge(l,a,h,d,f,p){return!(h&&(!(h instanceof Am&&this.widget.compare(h.widget))||l>0&&f<=0||a<this.length&&p<=0)||(this.length=l+(h?h.length:0)+(this.length-a),0))}become(l){return l instanceof Am&&l.side==this.side&&this.widget.constructor==l.widget.constructor&&(this.widget.compare(l.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=l.widget,this.length=l.length,!0)}ignoreMutation(){return!0}ignoreEvent(l){return this.widget.ignoreEvent(l)}get overrideDOMText(){if(0==this.length)return zr.empty;let l=this;for(;l.parent;)l=l.parent;let{view:a}=l,h=a&&a.state.doc,d=this.posAtStart;return h?h.slice(d,d+this.length):zr.empty}domAtPos(l){return(this.length?0==l:this.side>0)?_l.before(this.dom):_l.after(this.dom,l==this.length)}domBoundsAround(){return null}coordsAt(l,a){let h=this.widget.coordsAt(this.dom,l,a);if(h)return h;let d=this.dom.getClientRects(),f=null;if(!d.length)return null;let p=this.side?this.side<0:l>0;for(let g=p?d.length-1:0;f=d[g],!(l>0?0==g:g==d.length-1||f.top<f.bottom);g+=p?-1:1);return VA(f,!p)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class xO extends As{constructor(l){super(),this.side=l}get length(){return 0}merge(){return!1}become(l){return l instanceof xO&&l.side==this.side}split(){return new xO(this.side)}sync(){if(!this.dom){let l=document.createElement("img");l.className="cm-widgetBuffer",l.setAttribute("aria-hidden","true"),this.setDOM(l)}}getSide(){return this.side}domAtPos(l){return this.side>0?_l.before(this.dom):_l.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(l){return this.dom.getBoundingClientRect()}get overrideDOMText(){return zr.empty}get isHidden(){return!0}}function Lve(c,l){let a=c.dom,{children:h}=c,d=0;for(let f=0;d<h.length;d++){let p=h[d],g=f+p.length;if(!(g==f&&p.getSide()<=0)){if(l>f&&l<g&&p.dom.parentNode==a)return p.domAtPos(l-f);if(l<=f)break;f=g}}for(let f=d;f>0;f--){let p=h[f-1];if(p.dom.parentNode==a)return p.domAtPos(p.length)}for(let f=d;f<h.length;f++){let p=h[f];if(p.dom.parentNode==a)return p.domAtPos(0)}return new _l(a,0)}function Nve(c,l,a){let h,{children:d}=c;a>0&&l instanceof Kp&&d.length&&(h=d[d.length-1])instanceof Kp&&h.mark.eq(l.mark)?Nve(h,l.children[0],a-1):(d.push(l),l.setParent(c)),c.length+=l.length}function Fve(c,l,a){let h=null,d=-1,f=null,p=-1;!function g(v,_){for(let y=0,b=0;y<v.children.length&&b<=_;y++){let O=v.children[y],C=b+O.length;C>=_&&(O.children.length?g(O,_-b):(!f||f.isHidden&&a>0)&&(C>_||b==C&&O.getSide()>0)?(f=O,p=_-b):(b<_||b==C&&O.getSide()<0&&!O.isHidden)&&(h=O,d=_-b)),b=C}}(c,l);let m=(a<0?h:f)||h||f;return m?m.coordsAt(Math.max(0,m==h?d:p),a):function jpt(c){let l=c.dom.lastChild;if(!l)return c.dom.getBoundingClientRect();let a=CO(l);return a[a.length-1]||null}(c)}function aH(c,l){for(let a in c)"class"==a&&l.class?l.class+=" "+c.class:"style"==a&&l.style?l.style+=";"+c.style:l[a]=c[a];return l}qp.prototype.children=Am.prototype.children=xO.prototype.children=nH;const Bve=Object.create(null);function lH(c,l,a){if(c==l)return!0;c||(c=Bve),l||(l=Bve);let h=Object.keys(c),d=Object.keys(l);if(h.length-(a&&h.indexOf(a)>-1?1:0)!=d.length-(a&&d.indexOf(a)>-1?1:0))return!1;for(let f of h)if(f!=a&&(-1==d.indexOf(f)||c[f]!==l[f]))return!1;return!0}function cH(c,l,a){let h=!1;if(l)for(let d in l)a&&d in a||(h=!0,"style"==d?c.style.cssText="":c.removeAttribute(d));if(a)for(let d in a)l&&l[d]==a[d]||(h=!0,"style"==d?c.style.cssText=a[d]:c.setAttribute(d,a[d]));return h}function Gpt(c){let l=Object.create(null);for(let a=0;a<c.attributes.length;a++){let h=c.attributes[a];l[h.name]=h.value}return l}class ha extends As{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(l,a,h,d,f,p){if(h){if(!(h instanceof ha))return!1;this.dom||h.transferDOM(this)}return d&&this.setDeco(h?h.attrs:null),Mve(this,l,a,h?h.children.slice():[],f,p),!0}split(l){let a=new ha;if(a.breakAfter=this.breakAfter,0==this.length)return a;let{i:h,off:d}=this.childPos(l);d&&(a.append(this.children[h].split(d),0),this.children[h].merge(d,this.children[h].length,null,!1,0,0),h++);for(let f=h;f<this.children.length;f++)a.append(this.children[f],0);for(;h>0&&0==this.children[h-1].length;)this.children[--h].destroy();return this.children.length=h,this.markDirty(),this.length=l,a}transferDOM(l){this.dom&&(this.markDirty(),l.setDOM(this.dom),l.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(l){lH(this.attrs,l)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=l)}append(l,a){Nve(this,l,a)}addLineDeco(l){let a=l.spec.attributes,h=l.spec.class;a&&(this.attrs=aH(a,this.attrs||{})),h&&(this.attrs=aH({class:h},this.attrs||{}))}domAtPos(l){return Lve(this,l)}reuseDOM(l){"DIV"==l.nodeName&&(this.setDOM(l),this.flags|=6)}sync(l,a){var h;this.dom?4&this.flags&&(wve(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(cH(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(l,a);let d=this.dom.lastChild;for(;d&&As.get(d)instanceof Kp;)d=d.lastChild;if(!(d&&this.length&&("BR"==d.nodeName||0!=(null===(h=As.get(d))||void 0===h?void 0:h.isEditable)||qn.ios&&this.children.some(f=>f instanceof qp)))){let f=document.createElement("BR");f.cmIgnore=!0,this.dom.appendChild(f)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let a,l=0;for(let h of this.children){if(!(h instanceof qp)||/[^ -~]/.test(h.text))return null;let d=CO(h.dom);if(1!=d.length)return null;l+=d[0].width,a=d[0].height}return l?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:l/this.length,textHeight:a}:null}coordsAt(l,a){let h=Fve(this,l,a);if(!this.children.length&&h&&this.parent){let{heightOracle:d}=this.parent.view.viewState,f=h.bottom-h.top;if(Math.abs(f-d.lineHeight)<2&&d.textHeight<f){let p=(f-d.textHeight)/2;return{top:h.top+p,bottom:h.bottom-p,left:h.left,right:h.left}}}return h}become(l){return!1}covers(){return!0}static find(l,a){for(let h=0,d=0;h<l.children.length;h++){let f=l.children[h],p=d+f.length;if(p>=a){if(f instanceof ha)return f;if(p>a)break}d=p+f.breakAfter}return null}}class Im extends As{constructor(l,a,h){super(),this.widget=l,this.length=a,this.deco=h,this.breakAfter=0,this.prevWidget=null}merge(l,a,h,d,f,p){return!(h&&(!(h instanceof Im&&this.widget.compare(h.widget))||l>0&&f<=0||a<this.length&&p<=0)||(this.length=l+(h?h.length:0)+(this.length-a),0))}domAtPos(l){return 0==l?_l.before(this.dom):_l.after(this.dom,l==this.length)}split(l){let a=this.length-l;this.length=l;let h=new Im(this.widget,a,this.deco);return h.breakAfter=this.breakAfter,h}get children(){return nH}sync(l){(!this.dom||!this.widget.updateDOM(this.dom,l))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(l)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):zr.empty}domBoundsAround(){return null}become(l){return l instanceof Im&&l.widget.constructor==this.widget.constructor&&(l.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=l.widget,this.length=l.length,this.deco=l.deco,this.breakAfter=l.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(l){return this.widget.ignoreEvent(l)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(l,a){return this.widget.coordsAt(this.dom,l,a)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(l){let{startSide:a,endSide:h}=this.deco;return a!=h&&(l<0?a<0:h>0)}}class Jp{eq(l){return!1}updateDOM(l,a){return!1}compare(l){return this==l||this.constructor==l.constructor&&this.eq(l)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(l){return!0}coordsAt(l,a,h){return null}get isHidden(){return!1}destroy(l){}}var rc=function(c){return c[c.Text=0]="Text",c[c.WidgetBefore=1]="WidgetBefore",c[c.WidgetAfter=2]="WidgetAfter",c[c.WidgetRange=3]="WidgetRange",c}(rc||(rc={}));class ii extends gv{constructor(l,a,h,d){super(),this.startSide=l,this.endSide=a,this.widget=h,this.spec=d}get heightRelevant(){return!1}static mark(l){return new oT(l)}static widget(l){let a=Math.max(-1e4,Math.min(1e4,l.side||0)),h=!!l.block;return a+=h&&!l.inlineOrder?a>0?3e8:-4e8:a>0?1e8:-1e8,new Rm(l,a,a,h,l.widget||null,!1)}static replace(l){let h,d,a=!!l.block;if(l.isBlockGap)h=-5e8,d=4e8;else{let{start:f,end:p}=Vve(l,a);h=(f?a?-3e8:-1:5e8)-1,d=1+(p?a?2e8:1:-6e8)}return new Rm(l,h,d,a,l.widget||null,!0)}static line(l){return new aT(l)}static set(l,a=!1){return Qs.of(l,a)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}ii.none=Qs.empty;class oT extends ii{constructor(l){let{start:a,end:h}=Vve(l);super(a?-1:5e8,h?1:-6e8,null,l),this.tagName=l.tagName||"span",this.class=l.class||"",this.attrs=l.attributes||null}eq(l){var a,h;return this==l||l instanceof oT&&this.tagName==l.tagName&&(this.class||(null===(a=this.attrs)||void 0===a?void 0:a.class))==(l.class||(null===(h=l.attrs)||void 0===h?void 0:h.class))&&lH(this.attrs,l.attrs,"class")}range(l,a=l){if(l>=a)throw new RangeError("Mark decorations may not be empty");return super.range(l,a)}}oT.prototype.point=!1;class aT extends ii{constructor(l){super(-2e8,-2e8,null,l)}eq(l){return l instanceof aT&&this.spec.class==l.spec.class&&lH(this.spec.attributes,l.spec.attributes)}range(l,a=l){if(a!=l)throw new RangeError("Line decoration ranges must be zero-length");return super.range(l,a)}}aT.prototype.mapMode=Ga.TrackBefore,aT.prototype.point=!0;class Rm extends ii{constructor(l,a,h,d,f,p){super(a,h,f,l),this.block=d,this.isReplace=p,this.mapMode=d?a<=0?Ga.TrackBefore:Ga.TrackAfter:Ga.TrackDel}get type(){return this.startSide!=this.endSide?rc.WidgetRange:this.startSide<=0?rc.WidgetBefore:rc.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(l){return l instanceof Rm&&function Xpt(c,l){return c==l||!!(c&&l&&c.compare(l))}(this.widget,l.widget)&&this.block==l.block&&this.startSide==l.startSide&&this.endSide==l.endSide}range(l,a=l){if(this.isReplace&&(l>a||l==a&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&a!=l)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(l,a)}}function Vve(c,l=!1){let{inclusiveStart:a,inclusiveEnd:h}=c;return null==a&&(a=c.inclusive),null==h&&(h=c.inclusive),{start:a??l,end:h??l}}function uH(c,l,a,h=0){let d=a.length-1;d>=0&&a[d]+h>=c?a[d]=Math.max(a[d],l):a.push(c,l)}Rm.prototype.point=!0;class lT{constructor(l,a,h,d){this.doc=l,this.pos=a,this.end=h,this.disallowBlockEffectsFor=d,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=l.iter(),this.skip=a}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let l=this.content[this.content.length-1];return!(l.breakAfter||l instanceof Im&&l.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ha),this.atCursorPos=!0),this.curLine}flushBuffer(l=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(zA(new xO(-1),l),l.length),this.pendingBuffer=0)}addBlockWidget(l){this.flushBuffer(),this.curLine=null,this.content.push(l)}finish(l){this.pendingBuffer&&l<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(l&&this.content.length&&this.content[this.content.length-1]instanceof Im)&&this.getLine()}buildText(l,a,h){for(;l>0;){if(this.textOff==this.text.length){let{value:f,lineBreak:p,done:g}=this.cursor.next(this.skip);if(this.skip=0,g)throw new Error("Ran out of text content when drawing inline views");if(p){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,l--;continue}this.text=f,this.textOff=0}let d=Math.min(this.text.length-this.textOff,l,512);this.flushBuffer(a.slice(a.length-h)),this.getLine().append(zA(new qp(this.text.slice(this.textOff,this.textOff+d)),a),h),this.atCursorPos=!0,this.textOff+=d,l-=d,h=0}}span(l,a,h,d){this.buildText(a-l,h,d),this.pos=a,this.openStart<0&&(this.openStart=d)}point(l,a,h,d,f,p){if(this.disallowBlockEffectsFor[p]&&h instanceof Rm){if(h.block)throw new RangeError("Block decorations may not be specified via plugins");if(a>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let g=a-l;if(h instanceof Rm)if(h.block)h.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Im(h.widget||new $ve("div"),g,h));else{let m=Am.create(h.widget||new $ve("span"),g,g?0:h.startSide),v=this.atCursorPos&&!m.isEditable&&f<=d.length&&(l<a||h.startSide>0),_=!m.isEditable&&(l<a||f>d.length||h.startSide<=0),y=this.getLine();2==this.pendingBuffer&&!v&&!m.isEditable&&(this.pendingBuffer=0),this.flushBuffer(d),v&&(y.append(zA(new xO(1),d),f),f=d.length+Math.max(0,f-d.length)),y.append(zA(m,d),f),this.atCursorPos=_,this.pendingBuffer=_?l<a||f>d.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=d.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(h);g&&(this.textOff+g<=this.text.length?this.textOff+=g:(this.skip+=g-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=a),this.openStart<0&&(this.openStart=f)}static build(l,a,h,d,f){let p=new lT(l,a,h,f);return p.openEnd=Qs.spans(d,a,h,p),p.openStart<0&&(p.openStart=p.openEnd),p.finish(p.openEnd),p}}function zA(c,l){for(let a of l)c=new Kp(a,[c],c.length);return c}class $ve extends Jp{constructor(l){super(),this.tag=l}eq(l){return l.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(l){return l.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const zve=$n.define(),Uve=$n.define(),Qve=$n.define(),Hve=$n.define(),hH=$n.define(),Wve=$n.define(),Zve=$n.define(),jve=$n.define({combine:c=>c.some(l=>l)}),Gve=$n.define({combine:c=>c.some(l=>l)});class TO{constructor(l,a="nearest",h="nearest",d=5,f=5,p=!1){this.range=l,this.y=a,this.x=h,this.yMargin=d,this.xMargin=f,this.isSnapshot=p}map(l){return l.empty?this:new TO(this.range.map(l),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(l){return this.range.to<=l.doc.length?this:new TO(Rt.cursor(l.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const UA=or.define({map:(c,l)=>c.map(l)});function fh(c,l,a){let h=c.facet(Hve);h.length?h[0](l):window.onerror?window.onerror(String(l),a,void 0,void 0,l):a?console.error(a+":",l):console.error(l)}const QA=$n.define({combine:c=>!c.length||c[0]});let Ypt=0;const cT=$n.define();class mo{constructor(l,a,h,d,f){this.id=l,this.create=a,this.domEventHandlers=h,this.domEventObservers=d,this.extension=f(this)}static define(l,a){const{eventHandlers:h,eventObservers:d,provide:f,decorations:p}=a||{};return new mo(Ypt++,l,h,d,g=>{let m=[cT.of(g)];return p&&m.push(uT.of(v=>{let _=v.plugin(g);return _?p(_):ii.none})),f&&m.push(f(g)),m})}static fromClass(l,a){return mo.define(h=>new l(h),a)}}class dH{constructor(l){this.spec=l,this.mustUpdate=null,this.value=null}update(l){if(this.value){if(this.mustUpdate){let a=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(a)}catch(h){if(fh(a.state,h,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(l)}catch(a){fh(l.state,a,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(l){var a;if(null!==(a=this.value)&&void 0!==a&&a.destroy)try{this.value.destroy()}catch(h){fh(l.state,h,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Xve=$n.define(),HA=$n.define(),uT=$n.define(),fH=$n.define(),Yve=$n.define();function qve(c,l,a){let h=c.state.facet(Yve);if(!h.length)return h;let d=h.map(p=>p instanceof Function?p(c):p),f=[];return Qs.spans(d,l,a,{point(){},span(p,g,m,v){let _=f;for(let y=m.length-1;y>=0;y--,v--){let O,b=m[y].spec.bidiIsolate;if(null!=b)if(v>0&&_.length&&(O=_[_.length-1]).to==p&&O.direction==b)O.to=g,_=O.inner;else{let C={from:p,to:g,direction:b,inner:[]};_.push(C),_=C.inner}}}}),f}const Kve=$n.define();function Jve(c){let l=0,a=0,h=0,d=0;for(let f of c.state.facet(Kve)){let p=f(c);p&&(null!=p.left&&(l=Math.max(l,p.left)),null!=p.right&&(a=Math.max(a,p.right)),null!=p.top&&(h=Math.max(h,p.top)),null!=p.bottom&&(d=Math.max(d,p.bottom)))}return{left:l,right:a,top:h,bottom:d}}const hT=$n.define();class Ou{constructor(l,a,h,d){this.fromA=l,this.toA=a,this.fromB=h,this.toB=d}join(l){return new Ou(Math.min(this.fromA,l.fromA),Math.max(this.toA,l.toA),Math.min(this.fromB,l.fromB),Math.max(this.toB,l.toB))}addToSet(l){let a=l.length,h=this;for(;a>0;a--){let d=l[a-1];if(!(d.fromA>h.toA)){if(d.toA<h.fromA)break;h=h.join(d),l.splice(a-1,1)}}return l.splice(a,0,h),l}static extendWithRanges(l,a){if(0==a.length)return l;let h=[];for(let d=0,f=0,p=0,g=0;;d++){let m=d==l.length?null:l[d],v=p-g,_=m?m.fromB:1e9;for(;f<a.length&&a[f]<_;){let b=a[f+1],O=Math.max(g,a[f]),C=Math.min(_,b);if(O<=C&&new Ou(O+v,C+v,O,C).addToSet(h),b>_)break;f+=2}if(!m)return h;new Ou(m.fromA,m.toA,m.fromB,m.toB).addToSet(h),p=m.toA,g=m.toB}}}class WA{constructor(l,a,h){this.view=l,this.state=a,this.transactions=h,this.flags=0,this.startState=l.state,this.changes=ua.empty(this.startState.doc.length);for(let f of h)this.changes=this.changes.compose(f.changes);let d=[];this.changes.iterChangedRanges((f,p,g,m)=>d.push(new Ou(f,p,g,m))),this.changedRanges=d}static create(l,a,h){return new WA(l,a,h)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(l=>l.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}var qs=function(c){return c[c.LTR=0]="LTR",c[c.RTL=1]="RTL",c}(qs||(qs={}));const dT=qs.LTR,e_e=qs.RTL;function t_e(c){let l=[];for(let a=0;a<c.length;a++)l.push(1<<+c[a]);return l}const qpt=t_e("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Kpt=t_e("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),pH=Object.create(null),xf=[];for(let c of["()","[]","{}"]){let l=c.charCodeAt(0),a=c.charCodeAt(1);pH[l]=a,pH[a]=-l}function Jpt(c){return c<=247?qpt[c]:1424<=c&&c<=1524?2:1536<=c&&c<=1785?Kpt[c-1536]:1774<=c&&c<=2220?4:8192<=c&&c<=8204?256:64336<=c&&c<=65023?4:1}const egt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Lm{get dir(){return this.level%2?e_e:dT}constructor(l,a,h){this.from=l,this.to=a,this.level=h}side(l,a){return this.dir==a==l?this.to:this.from}static find(l,a,h,d){let f=-1;for(let p=0;p<l.length;p++){let g=l[p];if(g.from<=a&&g.to>=a){if(g.level==h)return p;(f<0||(0!=d?d<0?g.from<a:g.to>a:l[f].level>g.level))&&(f=p)}}if(f<0)throw new RangeError("Index out of range");return f}}function n_e(c,l){if(c.length!=l.length)return!1;for(let a=0;a<c.length;a++){let h=c[a],d=l[a];if(h.from!=d.from||h.to!=d.to||h.direction!=d.direction||!n_e(h.inner,d.inner))return!1}return!0}const bs=[];function gH(c,l,a,h,d,f,p){let g=h%2?2:1;if(h%2==d%2)for(let m=l,v=0;m<a;){let _=!0,y=!1;if(v==f.length||m<f[v].from){let S=bs[m];S!=g&&(_=!1,y=16==S)}let b=_||1!=g?null:[],O=_?h:h+1,C=m;e:for(;;)if(v<f.length&&C==f[v].from){if(y)break e;let S=f[v];if(!_)for(let w=S.to,x=v+1;;){if(w==a)break e;if(!(x<f.length&&f[x].from==w)){if(bs[w]==g)break e;break}w=f[x++].to}v++,b?b.push(S):(S.from>m&&p.push(new Lm(m,S.from,O)),mH(c,S.direction==dT!=!(O%2)?h+1:h,d,S.inner,S.from,S.to,p),m=S.to),C=S.to}else{if(C==a||(_?bs[C]!=g:bs[C]==g))break;C++}b?gH(c,m,C,h+1,d,b,p):m<C&&p.push(new Lm(m,C,O)),m=C}else for(let m=a,v=f.length;m>l;){let _=!0,y=!1;if(!v||m>f[v-1].to){let S=bs[m-1];S!=g&&(_=!1,y=16==S)}let b=_||1!=g?null:[],O=_?h:h+1,C=m;e:for(;;)if(v&&C==f[v-1].to){if(y)break e;let S=f[--v];if(!_)for(let w=S.from,x=v;;){if(w==l)break e;if(!x||f[x-1].to!=w){if(bs[w-1]==g)break e;break}w=f[--x].from}b?b.push(S):(S.to<m&&p.push(new Lm(S.to,m,O)),mH(c,S.direction==dT!=!(O%2)?h+1:h,d,S.inner,S.from,S.to,p),m=S.from),C=S.from}else{if(C==l||(_?bs[C-1]!=g:bs[C-1]==g))break;C--}b?gH(c,C,m,h+1,d,b,p):C<m&&p.push(new Lm(C,m,O)),m=C}}function mH(c,l,a,h,d,f,p){let g=l%2?2:1;(function tgt(c,l,a,h,d){for(let f=0;f<=h.length;f++){let p=f?h[f-1].to:l,g=f<h.length?h[f].from:a,m=f?256:d;for(let v=p,_=m,y=m;v<g;v++){let b=Jpt(c.charCodeAt(v));512==b?b=_:8==b&&4==y&&(b=16),bs[v]=4==b?2:b,7&b&&(y=b),_=b}for(let v=p,_=m,y=m;v<g;v++){let b=bs[v];if(128==b)v<g-1&&_==bs[v+1]&&24&_?b=bs[v]=_:bs[v]=256;else if(64==b){let O=v+1;for(;O<g&&64==bs[O];)O++;let C=v&&8==_||O<a&&8==bs[O]?1==y?1:8:256;for(let S=v;S<O;S++)bs[S]=C;v=O-1}else 8==b&&1==y&&(bs[v]=1);_=b,7&b&&(y=b)}}})(c,d,f,h,g),function ngt(c,l,a,h,d){let f=1==d?2:1;for(let p=0,g=0,m=0;p<=h.length;p++){let _=p<h.length?h[p].from:a;for(let b,O,C,y=p?h[p-1].to:l;y<_;y++)if(O=pH[b=c.charCodeAt(y)])if(O<0){for(let S=g-3;S>=0;S-=3)if(xf[S+1]==-O){let w=xf[S+2],x=2&w?d:4&w?1&w?f:d:0;x&&(bs[y]=bs[xf[S]]=x),g=S;break}}else{if(189==xf.length)break;xf[g++]=y,xf[g++]=b,xf[g++]=m}else if(2==(C=bs[y])||1==C){let S=C==d;m=S?0:1;for(let w=g-3;w>=0;w-=3){let x=xf[w+2];if(2&x)break;if(S)xf[w+2]|=2;else{if(4&x)break;xf[w+2]|=4}}}}}(c,d,f,h,g),function igt(c,l,a,h){for(let d=0,f=h;d<=a.length;d++){let g=d<a.length?a[d].from:l;for(let m=d?a[d-1].to:c;m<g;){let v=bs[m];if(256==v){let _=m+1;for(;;)if(_==g){if(d==a.length)break;_=a[d++].to,g=d<a.length?a[d].from:l}else{if(256!=bs[_])break;_++}let y=1==f,O=y==(1==(_<l?bs[_]:h))?y?1:2:h;for(let C=_,S=d,w=S?a[S-1].to:c;C>m;)C==w&&(C=a[--S].from,w=S?a[S-1].to:c),bs[--C]=O;m=_}else f=v,m++}}}(d,f,h,g),gH(c,d,f,l,a,h,p)}function r_e(c){return[new Lm(0,c,0)]}let s_e="";function o_e(c,l,a,h,d){var f;let p=h.head-c.from,g=-1;if(0==p){if(!d||!c.length)return null;l[0].level!=a&&(p=l[0].side(!1,a),g=0)}else if(p==c.length){if(d)return null;let b=l[l.length-1];b.level!=a&&(p=b.side(!0,a),g=l.length-1)}g<0&&(g=Lm.find(l,p,null!==(f=h.bidiLevel)&&void 0!==f?f:-1,h.assoc));let m=l[g];p==m.side(d,a)&&(m=l[g+=d?1:-1],p=m.side(!d,a));let v=d==(m.dir==a),_=Za(c.text,p,v);if(s_e=c.text.slice(Math.min(p,_),Math.max(p,_)),_>m.from&&_<m.to)return Rt.cursor(_+c.from,v?-1:1,m.level);let y=g==(d?l.length-1:0)?null:l[g+(d?1:-1)];return y||m.level==a?y&&y.level<m.level?Rt.cursor(y.side(!d,a)+c.from,d?1:-1,y.level):Rt.cursor(_+c.from,d?-1:1,m.level):Rt.cursor(d?c.to:c.from,d?-1:1,a)}class a_e extends As{get length(){return this.view.state.doc.length}constructor(l){super(),this.view=l,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(l.contentDOM),this.children=[new ha],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ou(0,0,0,l.state.doc.length)],0,null)}update(l){var a;let h=l.changedRanges;this.minWidth>0&&h.length&&(h.every(({fromA:v,toA:_})=>_<this.minWidthFrom||v>this.minWidthTo)?(this.minWidthFrom=l.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=l.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let d=-1;this.view.inputState.composing>=0&&(null!==(a=this.domChanged)&&void 0!==a&&a.newSel?d=this.domChanged.newSel.head:!function ugt(c,l){let a=!1;return l&&c.iterChangedRanges((h,d)=>{h<l.to&&d>l.from&&(a=!0)}),a}(l.changes,this.hasComposition)&&!l.selectionSet&&(d=l.state.selection.main.head));let f=d>-1?function sgt(c,l,a){let h=c_e(c,a);if(!h)return null;let{node:d,from:f,to:p}=h,g=d.nodeValue;if(/[\n\r]/.test(g)||c.state.doc.sliceString(h.from,h.to)!=g)return null;let m=l.invertedDesc,v=new Ou(m.mapPos(f),m.mapPos(p),f,p),_=[];for(let y=d.parentNode;;y=y.parentNode){let b=As.get(y);if(b instanceof Kp)_.push({node:y,deco:b.mark});else{if(b instanceof ha||"DIV"==y.nodeName&&y.parentNode==c.contentDOM)return{range:v,text:d,marks:_,line:y};if(y==c.contentDOM)return null;_.push({node:y,deco:new oT({inclusive:!0,attributes:Gpt(y),tagName:y.tagName.toLowerCase()})})}}}(this.view,l.changes,d):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:v,to:_}=this.hasComposition;h=new Ou(v,_,l.changes.mapPos(v,-1),l.changes.mapPos(_,1)).addToSet(h.slice())}this.hasComposition=f?{from:f.range.fromB,to:f.range.toB}:null,(qn.ie||qn.chrome)&&!f&&l&&l.state.doc.lines!=l.startState.doc.lines&&(this.forceSelection=!0);let m=function lgt(c,l,a){let h=new agt;return Qs.compare(c,l,a,h),h.changes}(this.decorations,this.updateDeco(),l.changes);return h=Ou.extendWithRanges(h,m),!!(7&this.flags||0!=h.length)&&(this.updateInner(h,l.startState.doc.length,f),l.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(l,a,h){this.view.viewState.mustMeasureContent=!0,this.updateChildren(l,a,h);let{observer:d}=this.view;d.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let p=qn.chrome||qn.ios?{node:d.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,p),this.flags&=-8,p&&(p.written||d.selectionRange.focusNode!=p.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(p=>p.flags&=-9);let f=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let p of this.children)p instanceof Im&&p.widget instanceof l_e&&f.push(p.dom);d.updateGaps(f)}updateChildren(l,a,h){let d=h?h.range.addToSet(l.slice()):l,f=this.childCursor(a);for(let p=d.length-1;;p--){let g=p>=0?d[p]:null;if(!g)break;let b,O,C,S,{fromA:m,toA:v,fromB:_,toB:y}=g;if(h&&h.range.fromB<y&&h.range.toB>_){let k=lT.build(this.view.state.doc,_,h.range.fromB,this.decorations,this.dynamicDecorationMap),P=lT.build(this.view.state.doc,h.range.toB,y,this.decorations,this.dynamicDecorationMap);O=k.breakAtStart,C=k.openStart,S=P.openEnd;let N=this.compositionView(h);P.breakAtStart?N.breakAfter=1:P.content.length&&N.merge(N.length,N.length,P.content[0],!1,P.openStart,0)&&(N.breakAfter=P.content[0].breakAfter,P.content.shift()),k.content.length&&N.merge(0,0,k.content[k.content.length-1],!0,0,k.openEnd)&&k.content.pop(),b=k.content.concat(N).concat(P.content)}else({content:b,breakAtStart:O,openStart:C,openEnd:S}=lT.build(this.view.state.doc,_,y,this.decorations,this.dynamicDecorationMap));let{i:w,off:x}=f.findPos(v,1),{i:T,off:D}=f.findPos(m,-1);Dve(this,T,D,w,x,b,O,C,S)}h&&this.fixCompositionDOM(h)}compositionView(l){let a=new qp(l.text.nodeValue);a.flags|=8;for(let{deco:d}of l.marks)a=new Kp(d,[a],a.length);let h=new ha;return h.append(a,0),h}fixCompositionDOM(l){let a=(f,p)=>{p.flags|=8|(p.children.some(m=>7&m.flags)?1:0),this.markedForComposition.add(p);let g=As.get(f);g&&g!=p&&(g.dom=null),p.setDOM(f)},h=this.childPos(l.range.fromB,1),d=this.children[h.i];a(l.line,d);for(let f=l.marks.length-1;f>=-1;f--)h=d.childPos(h.off,1),d=d.children[h.i],a(f>=0?l.marks[f].node:l.text,d)}updateSelection(l=!1,a=!1){(l||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let h=this.view.root.activeElement,d=h==this.dom,f=!d&&FA(this.dom,this.view.observer.selectionRange)&&!(h&&this.dom.contains(h));if(!(d||a||f))return;let p=this.forceSelection;this.forceSelection=!1;let g=this.view.state.selection.main,m=this.moveToLine(this.domAtPos(g.anchor)),v=g.empty?m:this.moveToLine(this.domAtPos(g.head));if(qn.gecko&&g.empty&&!this.hasComposition&&function rgt(c){return 1==c.node.nodeType&&c.node.firstChild&&(0==c.offset||"false"==c.node.childNodes[c.offset-1].contentEditable)&&(c.offset==c.node.childNodes.length||"false"==c.node.childNodes[c.offset].contentEditable)}(m)){let y=document.createTextNode("");this.view.observer.ignore(()=>m.node.insertBefore(y,m.node.childNodes[m.offset]||null)),m=v=new _l(y,0),p=!0}let _=this.view.observer.selectionRange;(p||!_.focusNode||!BA(m.node,m.offset,_.anchorNode,_.anchorOffset)||!BA(v.node,v.offset,_.focusNode,_.focusOffset))&&(this.view.observer.ignore(()=>{qn.android&&qn.chrome&&this.dom.contains(_.focusNode)&&function cgt(c,l){for(let a=c;a&&a!=l;a=a.assignedSlot||a.parentNode)if(1==a.nodeType&&"false"==a.contentEditable)return!0;return!1}(_.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let y=NA(this.view.root);if(y)if(g.empty){if(qn.gecko){let b=function ogt(c,l){return 1!=c.nodeType?0:(l&&"false"==c.childNodes[l-1].contentEditable?1:0)|(l<c.childNodes.length&&"false"==c.childNodes[l].contentEditable?2:0)}(m.node,m.offset);if(b&&3!=b){let O=u_e(m.node,m.offset,1==b?1:-1);O&&(m=new _l(O.node,O.offset))}}y.collapse(m.node,m.offset),null!=g.bidiLevel&&void 0!==y.caretBidiLevel&&(y.caretBidiLevel=g.bidiLevel)}else if(y.extend){y.collapse(m.node,m.offset);try{y.extend(v.node,v.offset)}catch{}}else{let b=document.createRange();g.anchor>g.head&&([m,v]=[v,m]),b.setEnd(v.node,v.offset),b.setStart(m.node,m.offset),y.removeAllRanges(),y.addRange(b)}f&&this.view.root.activeElement==this.dom&&(this.dom.blur(),h&&h.focus())}),this.view.observer.setSelectionRange(m,v)),this.impreciseAnchor=m.precise?null:new _l(_.anchorNode,_.anchorOffset),this.impreciseHead=v.precise?null:new _l(_.focusNode,_.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:l}=this,a=l.state.selection.main,h=NA(l.root),{anchorNode:d,anchorOffset:f}=l.observer.selectionRange;if(!(h&&a.empty&&a.assoc&&h.modify))return;let p=ha.find(this,a.head);if(!p)return;let g=p.posAtStart;if(a.head==g||a.head==g+p.length)return;let m=this.coordsAt(a.head,-1),v=this.coordsAt(a.head,1);if(!m||!v||m.bottom>v.top)return;let _=this.domAtPos(a.head+a.assoc);h.collapse(_.node,_.offset),h.modify("move",a.assoc<0?"forward":"backward","lineboundary"),l.observer.readSelectionRange();let y=l.observer.selectionRange;l.docView.posFromDOM(y.anchorNode,y.anchorOffset)!=a.from&&h.collapse(d,f)}moveToLine(l){let h,a=this.dom;if(l.node!=a)return l;for(let d=l.offset;!h&&d<a.childNodes.length;d++){let f=As.get(a.childNodes[d]);f instanceof ha&&(h=f.domAtPos(0))}for(let d=l.offset-1;!h&&d>=0;d--){let f=As.get(a.childNodes[d]);f instanceof ha&&(h=f.domAtPos(f.length))}return h?new _l(h.node,h.offset,!0):l}nearest(l){for(let a=l;a;){let h=As.get(a);if(h&&h.rootView==this)return h;a=a.parentNode}return null}posFromDOM(l,a){let h=this.nearest(l);if(!h)throw new RangeError("Trying to find position for a DOM position outside of the document");return h.localPosFromDOM(l,a)+h.posAtStart}domAtPos(l){let{i:a,off:h}=this.childCursor().findPos(l,-1);for(;a<this.children.length-1;){let d=this.children[a];if(h<d.length||d instanceof ha)break;a++,h=0}return this.children[a].domAtPos(h)}coordsAt(l,a){let h=null,d=0;for(let f=this.length,p=this.children.length-1;p>=0;p--){let g=this.children[p],m=f-g.breakAfter,v=m-g.length;if(m<l)break;v<=l&&(v<l||g.covers(-1))&&(m>l||g.covers(1))&&(!h||g instanceof ha&&!(h instanceof ha&&a>=0))&&(h=g,d=v),f=v}return h?h.coordsAt(l-d,a):null}coordsForChar(l){let{i:a,off:h}=this.childPos(l,1),d=this.children[a];if(!(d instanceof ha))return null;for(;d.children.length;){let{i:g,off:m}=d.childPos(h,1);for(;;g++){if(g==d.children.length)return null;if((d=d.children[g]).length)break}h=m}if(!(d instanceof qp))return null;let f=Za(d.text,h);if(f==h)return null;let p=mv(d.dom,h,f).getClientRects();for(let g=0;g<p.length;g++){let m=p[g];if(g==p.length-1||m.top<m.bottom&&m.left<m.right)return m}return null}measureVisibleLineHeights(l){let a=[],{from:h,to:d}=l,f=this.view.contentDOM.clientWidth,p=f>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,g=-1,m=this.view.textDirection==qs.LTR;for(let v=0,_=0;_<this.children.length;_++){let y=this.children[_],b=v+y.length;if(b>d)break;if(v>=h){let O=y.dom.getBoundingClientRect();if(a.push(O.height),p){let C=y.dom.lastChild,S=C?CO(C):[];if(S.length){let w=S[S.length-1],x=m?w.right-O.left:O.right-w.left;x>g&&(g=x,this.minWidth=f,this.minWidthFrom=v,this.minWidthTo=b)}}}v=b+y.breakAfter}return a}textDirectionAt(l){let{i:a}=this.childPos(l,1);return"rtl"==getComputedStyle(this.children[a].dom).direction?qs.RTL:qs.LTR}measureTextSize(){for(let f of this.children)if(f instanceof ha){let p=f.measureTextSize();if(p)return p}let a,h,d,l=document.createElement("div");return l.className="cm-line",l.style.width="99999px",l.style.position="absolute",l.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(l);let f=CO(l.firstChild)[0];a=l.getBoundingClientRect().height,h=f?f.width/27:7,d=f?f.height:a,l.remove()}),{lineHeight:a,charWidth:h,textHeight:d}}childCursor(l=this.length){let a=this.children.length;return a&&(l-=this.children[--a].length),new kve(this.children,l,a)}computeBlockGapDeco(){let l=[],a=this.view.viewState;for(let h=0,d=0;;d++){let f=d==a.viewports.length?null:a.viewports[d],p=f?f.from-1:this.length;if(p>h){let g=(a.lineBlockAt(p).bottom-a.lineBlockAt(h).top)/this.view.scaleY;l.push(ii.replace({widget:new l_e(g),block:!0,inclusive:!0,isBlockGap:!0}).range(h,p))}if(!f)break;h=f.to+1}return ii.set(l)}updateDeco(){let l=this.view.state.facet(uT).map((a,h)=>(this.dynamicDecorationMap[h]="function"==typeof a)?a(this.view):a);for(let a=l.length;a<l.length+3;a++)this.dynamicDecorationMap[a]=!1;return this.decorations=[...l,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(l){if(l.isSnapshot){let v=this.view.viewState.lineBlockAt(l.range.head);return this.view.scrollDOM.scrollTop=v.top-l.yMargin,void(this.view.scrollDOM.scrollLeft=l.xMargin)}let d,{range:a}=l,h=this.coordsAt(a.head,a.empty?a.assoc:a.head>a.anchor?-1:1);if(!h)return;!a.empty&&(d=this.coordsAt(a.anchor,a.anchor>a.head?-1:1))&&(h={left:Math.min(h.left,d.left),top:Math.min(h.top,d.top),right:Math.max(h.right,d.right),bottom:Math.max(h.bottom,d.bottom)});let f=Jve(this.view),p={left:h.left-f.left,top:h.top-f.top,right:h.right+f.right,bottom:h.bottom+f.bottom},{offsetWidth:g,offsetHeight:m}=this.view.scrollDOM;!function $pt(c,l,a,h,d,f,p,g){let m=c.ownerDocument,v=m.defaultView||window;for(let _=c,y=!1;_&&!y;)if(1==_.nodeType){let b,O=_==m.body,C=1,S=1;if(O)b=Vpt(v);else{if(/^(fixed|sticky)$/.test(getComputedStyle(_).position)&&(y=!0),_.scrollHeight<=_.clientHeight&&_.scrollWidth<=_.clientWidth){_=_.assignedSlot||_.parentNode;continue}let T=_.getBoundingClientRect();({scaleX:C,scaleY:S}=Ove(_,T)),b={left:T.left,right:T.left+_.clientWidth*C,top:T.top,bottom:T.top+_.clientHeight*S}}let w=0,x=0;if("nearest"==d)l.top<b.top?(x=-(b.top-l.top+p),a>0&&l.bottom>b.bottom+x&&(x=l.bottom-b.bottom+x+p)):l.bottom>b.bottom&&(x=l.bottom-b.bottom+p,a<0&&l.top-x<b.top&&(x=-(b.top+x-l.top+p)));else{let T=l.bottom-l.top,D=b.bottom-b.top;x=("center"==d&&T<=D?l.top+T/2-D/2:"start"==d||"center"==d&&a<0?l.top-p:l.bottom-D+p)-b.top}if("nearest"==h?l.left<b.left?(w=-(b.left-l.left+f),a>0&&l.right>b.right+w&&(w=l.right-b.right+w+f)):l.right>b.right&&(w=l.right-b.right+f,a<0&&l.left<b.left+w&&(w=-(b.left+w-l.left+f))):w=("center"==h?l.left+(l.right-l.left)/2-(b.right-b.left)/2:"start"==h==g?l.left-f:l.right-(b.right-b.left)+f)-b.left,w||x)if(O)v.scrollBy(w,x);else{let T=0,D=0;if(x){let k=_.scrollTop;_.scrollTop+=x/S,D=(_.scrollTop-k)*S}if(w){let k=_.scrollLeft;_.scrollLeft+=w/C,T=(_.scrollLeft-k)*C}l={left:l.left-T,top:l.top-D,right:l.right-T,bottom:l.bottom-D},T&&Math.abs(T-w)<1&&(h="nearest"),D&&Math.abs(D-x)<1&&(d="nearest")}if(O)break;_=_.assignedSlot||_.parentNode}else{if(11!=_.nodeType)break;_=_.host}}(this.view.scrollDOM,p,a.head<a.anchor?-1:1,l.x,l.y,Math.max(Math.min(l.xMargin,g),-g),Math.max(Math.min(l.yMargin,m),-m),this.view.textDirection==qs.LTR)}}class l_e extends Jp{constructor(l){super(),this.height=l}toDOM(){let l=document.createElement("div");return this.updateDOM(l),l}eq(l){return l.height==this.height}updateDOM(l){return l.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function c_e(c,l){let a=c.observer.selectionRange,h=a.focusNode&&u_e(a.focusNode,a.focusOffset,0);if(!h)return null;let d=l-h.offset;return{from:d,to:d+h.node.nodeValue.length,node:h.node}}function u_e(c,l,a){if(a<=0)for(let h=c,d=l;;){if(3==h.nodeType)return{node:h,offset:d};if(!(1==h.nodeType&&d>0))break;h=h.childNodes[d-1],d=Yp(h)}if(a>=0)for(let h=c,d=l;;){if(3==h.nodeType)return{node:h,offset:d};if(!(1==h.nodeType&&d<h.childNodes.length&&a>=0))break;h=h.childNodes[d],d=0}return null}let agt=class{constructor(){this.changes=[]}compareRange(l,a){uH(l,a,this.changes)}comparePoint(l,a){uH(l,a,this.changes)}};function dgt(c,l){return l.left>c?l.left-c:Math.max(0,c-l.right)}function fgt(c,l){return l.top>c?l.top-c:Math.max(0,c-l.bottom)}function vH(c,l){return c.top<l.bottom-1&&c.bottom>l.top+1}function h_e(c,l){return l<c.top?{top:l,left:c.left,right:c.right,bottom:c.bottom}:c}function d_e(c,l){return l>c.bottom?{top:c.top,left:c.left,right:c.right,bottom:l}:c}function _H(c,l,a){let h,d,f,p,m,v,_,y,g=!1;for(let C=c.firstChild;C;C=C.nextSibling){let S=CO(C);for(let w=0;w<S.length;w++){let x=S[w];d&&vH(d,x)&&(x=h_e(d_e(x,d.bottom),d.top));let T=dgt(l,x),D=fgt(a,x);if(0==T&&0==D)return 3==C.nodeType?f_e(C,l,a):_H(C,l,a);if(!h||p>D||p==D&&f>T){h=C,d=x,f=T,p=D;let k=D?a<x.top?-1:1:T?l<x.left?-1:1:0;g=!k||(k>0?w<S.length-1:w>0)}0==T?a>x.bottom&&(!_||_.bottom<x.bottom)?(m=C,_=x):a<x.top&&(!y||y.top>x.top)&&(v=C,y=x):_&&vH(_,x)?_=d_e(_,x.bottom):y&&vH(y,x)&&(y=h_e(y,x.top))}}if(_&&_.bottom>=a?(h=m,d=_):y&&y.top<=a&&(h=v,d=y),!h)return{node:c,offset:0};let b=Math.max(d.left,Math.min(d.right,l));return 3==h.nodeType?f_e(h,b,a):g&&"false"!=h.contentEditable?_H(h,b,a):{node:c,offset:Array.prototype.indexOf.call(c.childNodes,h)+(l>=(d.left+d.right)/2?1:0)}}function f_e(c,l,a){let h=c.nodeValue.length,d=-1,f=1e9,p=0;for(let g=0;g<h;g++){let m=mv(c,g,g+1).getClientRects();for(let v=0;v<m.length;v++){let _=m[v];if(_.top==_.bottom)continue;p||(p=l-_.left);let y=(_.top>a?_.top-a:a-_.bottom)-1;if(_.left-1<=l&&_.right+1>=l&&y<f){let b=l>=(_.left+_.right)/2,O=b;if((qn.chrome||qn.gecko)&&mv(c,g).getBoundingClientRect().left==_.right&&(O=!b),y<=0)return{node:c,offset:g+(O?1:0)};d=g+(O?1:0),f=y}}}return{node:c,offset:d>-1?d:p>0?c.nodeValue.length:0}}function p_e(c,l,a,h=-1){var d,f;let m,p=c.contentDOM.getBoundingClientRect(),g=p.top+c.viewState.paddingTop,{docHeight:v}=c.viewState,{x:_,y}=l,b=y-g;if(b<0)return 0;if(b>v)return c.state.doc.length;for(let k=c.viewState.heightOracle.textHeight/2,P=!1;m=c.elementAtHeight(b),m.type!=rc.Text;)for(;b=h>0?m.bottom+k:m.top-k,!(b>=0&&b<=v);){if(P)return a?null:0;P=!0,h=-h}y=g+b;let O=m.from;if(O<c.viewport.from)return 0==c.viewport.from?0:a?null:g_e(c,p,m,_,y);if(O>c.viewport.to)return c.viewport.to==c.state.doc.length?c.state.doc.length:a?null:g_e(c,p,m,_,y);let C=c.dom.ownerDocument,S=c.root.elementFromPoint?c.root:C,w=S.elementFromPoint(_,y);w&&!c.contentDOM.contains(w)&&(w=null),w||(_=Math.max(p.left+1,Math.min(p.right-1,_)),w=S.elementFromPoint(_,y),w&&!c.contentDOM.contains(w)&&(w=null));let x,T=-1;if(w&&0!=(null===(d=c.docView.nearest(w))||void 0===d?void 0:d.isEditable))if(C.caretPositionFromPoint){let k=C.caretPositionFromPoint(_,y);k&&({offsetNode:x,offset:T}=k)}else if(C.caretRangeFromPoint){let k=C.caretRangeFromPoint(_,y);k&&(({startContainer:x,startOffset:T}=k),(!c.contentDOM.contains(x)||qn.safari&&function pgt(c,l,a){let h;if(3!=c.nodeType||l!=(h=c.nodeValue.length))return!1;for(let d=c.nextSibling;d;d=d.nextSibling)if(1!=d.nodeType||"BR"!=d.nodeName)return!1;return mv(c,h-1,h).getBoundingClientRect().left>a}(x,T,_)||qn.chrome&&function ggt(c,l,a){if(0!=l)return!1;for(let d=c;;){let f=d.parentNode;if(!f||1!=f.nodeType||f.firstChild!=d)return!1;if(f.classList.contains("cm-line"))break;d=f}return a-(1==c.nodeType?c.getBoundingClientRect():mv(c,0,Math.max(c.nodeValue.length,1)).getBoundingClientRect()).left>5}(x,T,_))&&(x=void 0))}if(!x||!c.docView.dom.contains(x)){let k=ha.find(c.docView,O);if(!k)return b>m.top+m.height/2?m.to:m.from;({node:x,offset:T}=_H(k.dom,_,y))}let D=c.docView.nearest(x);if(!D)return null;if(D.isWidget&&1==(null===(f=D.dom)||void 0===f?void 0:f.nodeType)){let k=D.dom.getBoundingClientRect();return l.y<k.top||l.y<=k.bottom&&l.x<=(k.left+k.right)/2?D.posAtStart:D.posAtEnd}return D.localPosFromDOM(x,T)+D.posAtStart}function g_e(c,l,a,h,d){let f=Math.round((h-l.left)*c.defaultCharacterWidth);if(c.lineWrapping&&a.height>1.5*c.defaultLineHeight){let g=c.viewState.heightOracle.textHeight;f+=Math.floor((d-a.top-.5*(c.defaultLineHeight-g))/g)*c.viewState.heightOracle.lineLength}let p=c.state.sliceDoc(a.from,a.to);return a.from+qQ(p,f,c.state.tabSize)}function yH(c,l){let a=c.lineBlockAt(l);if(Array.isArray(a.type))for(let h of a.type)if(h.to>l||h.to==l&&(h.to==a.to||h.type==rc.Text))return h;return a}function m_e(c,l,a,h){let d=c.state.doc.lineAt(l.head),f=c.bidiSpans(d),p=c.textDirectionAt(d.from);for(let g=l,m=null;;){let v=o_e(d,f,p,g,a),_=s_e;if(!v){if(d.number==(a?c.state.doc.lines:1))return g;_="\n",d=c.state.doc.line(d.number+(a?1:-1)),f=c.bidiSpans(d),v=Rt.cursor(a?d.from:d.to)}if(m){if(!m(_))return g}else{if(!h)return v;m=h(_)}g=v}}function ZA(c,l,a){for(;;){let h=0;for(let d of c)d.between(l-1,l+1,(f,p,g)=>{if(l>f&&l<p){let m=h||a||(l-f<p-l?-1:1);l=m<0?f:p,h=m}});if(!h)return l}}function bH(c,l,a){let h=ZA(c.state.facet(fH).map(d=>d(c)),a.from,l.head>a.from?-1:1);return h==a.from?a:Rt.cursor(h,h<a.from?1:-1)}class ygt{setSelectionOrigin(l){this.lastSelectionOrigin=l,this.lastSelectionTime=Date.now()}constructor(l){this.view=l,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=l.hasFocus,qn.safari&&l.contentDOM.addEventListener("input",()=>null),qn.gecko&&function Lgt(c){R_e.has(c)||(R_e.add(c),c.addEventListener("copy",()=>{}),c.addEventListener("cut",()=>{}))}(l.contentDOM.ownerDocument)}handleEvent(l){!function kgt(c,l){if(!l.bubbles)return!0;if(l.defaultPrevented)return!1;for(let h,a=l.target;a!=c.contentDOM;a=a.parentNode)if(!a||11==a.nodeType||(h=As.get(a))&&h.ignoreEvent(l))return!1;return!0}(this.view,l)||this.ignoreDuringComposition(l)||"keydown"==l.type&&this.keydown(l)||this.runHandlers(l.type,l)}runHandlers(l,a){let h=this.handlers[l];if(h){for(let d of h.observers)d(this.view,a);for(let d of h.handlers){if(a.defaultPrevented)break;if(d(this.view,a)){a.preventDefault();break}}}}ensureHandlers(l){let a=function bgt(c){let l=Object.create(null);function a(h){return l[h]||(l[h]={observers:[],handlers:[]})}for(let h of c){let d=h.spec;if(d&&d.domEventHandlers)for(let f in d.domEventHandlers){let p=d.domEventHandlers[f];p&&a(f).handlers.push(v_e(h.value,p))}if(d&&d.domEventObservers)for(let f in d.domEventObservers){let p=d.domEventObservers[f];p&&a(f).observers.push(v_e(h.value,p))}}for(let h in hd)a(h).handlers.push(hd[h]);for(let h in dd)a(h).observers.push(dd[h]);return l}(l),h=this.handlers,d=this.view.contentDOM;for(let f in a)if("scroll"!=f){let p=!a[f].handlers.length,g=h[f];g&&p!=!g.handlers.length&&(d.removeEventListener(f,this.handleEvent),g=null),g||d.addEventListener(f,this.handleEvent,{passive:p})}for(let f in h)"scroll"!=f&&!a[f]&&d.removeEventListener(f,this.handleEvent);this.handlers=a}keydown(l){if(this.lastKeyCode=l.keyCode,this.lastKeyTime=Date.now(),9==l.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(27!=l.keyCode&&y_e.indexOf(l.keyCode)<0&&(this.view.inputState.lastEscPress=0),qn.android&&qn.chrome&&!l.synthetic&&(13==l.keyCode||8==l.keyCode))return this.view.observer.delayAndroidKey(l.key,l.keyCode),!0;let a;return!qn.ios||l.synthetic||l.altKey||l.metaKey||!((a=__e.find(h=>h.keyCode==l.keyCode))&&!l.ctrlKey||Ogt.indexOf(l.key)>-1&&l.ctrlKey&&!l.shiftKey)?(229!=l.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=a||l,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(){let l=this.pendingIOSKey;return!!l&&(this.pendingIOSKey=void 0,wO(this.view.contentDOM,l.key,l.keyCode))}ignoreDuringComposition(l){return!!/^key/.test(l.type)&&(this.composing>0||!!(qn.safari&&!qn.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(l){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=l}update(l){this.mouseSelection&&this.mouseSelection.update(l),this.draggedContent&&l.docChanged&&(this.draggedContent=this.draggedContent.map(l.changes)),l.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function v_e(c,l){return(a,h)=>{try{return l.call(c,h,a)}catch(d){fh(a.state,d)}}}const __e=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Ogt="dthko",y_e=[16,17,18,20,91,92,224,225];function GA(c){return.7*Math.max(0,c)+8}class Sgt{constructor(l,a,h,d){this.view=l,this.startEvent=a,this.style=h,this.mustSelect=d,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=a,this.scrollParent=function zpt(c){let l=c.ownerDocument;for(let a=c.parentNode;a&&a!=l.body;)if(1==a.nodeType){if(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth)return a;a=a.assignedSlot||a.parentNode}else{if(11!=a.nodeType)break;a=a.host}return null}(l.contentDOM),this.atoms=l.state.facet(fH).map(p=>p(l));let f=l.contentDOM.ownerDocument;f.addEventListener("mousemove",this.move=this.move.bind(this)),f.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=a.shiftKey,this.multiple=l.state.facet(vl.allowMultipleSelections)&&function wgt(c,l){let a=c.state.facet(zve);return a.length?a[0](l):qn.mac?l.metaKey:l.ctrlKey}(l,a),this.dragging=!(!function Tgt(c,l){let{main:a}=c.state.selection;if(a.empty)return!1;let h=NA(c.root);if(!h||0==h.rangeCount)return!0;let d=h.getRangeAt(0).getClientRects();for(let f=0;f<d.length;f++){let p=d[f];if(p.left<=l.clientX&&p.right>=l.clientX&&p.top<=l.clientY&&p.bottom>=l.clientY)return!0}return!1}(l,a)||1!=M_e(a))&&null}start(l){!1===this.dragging&&this.select(l)}move(l){var a;if(0==l.buttons)return this.destroy();if(this.dragging||null==this.dragging&&function Cgt(c,l){return Math.max(Math.abs(c.clientX-l.clientX),Math.abs(c.clientY-l.clientY))}(this.startEvent,l)<10)return;this.select(this.lastEvent=l);let h=0,d=0,f=(null===(a=this.scrollParent)||void 0===a?void 0:a.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},p=Jve(this.view);l.clientX-p.left<=f.left+6?h=-GA(f.left-l.clientX):l.clientX+p.right>=f.right-6&&(h=GA(l.clientX-f.right)),l.clientY-p.top<=f.top+6?d=-GA(f.top-l.clientY):l.clientY+p.bottom>=f.bottom-6&&(d=GA(l.clientY-f.bottom)),this.setScrollSpeed(h,d)}up(l){null==this.dragging&&this.select(this.lastEvent),this.dragging||l.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let l=this.view.contentDOM.ownerDocument;l.removeEventListener("mousemove",this.move),l.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(l,a){this.scrollSpeed={x:l,y:a},l||a?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(l){let a=null;for(let h=0;h<l.ranges.length;h++){let d=l.ranges[h],f=null;if(d.empty){let p=ZA(this.atoms,d.from,0);p!=d.from&&(f=Rt.cursor(p,-1))}else{let p=ZA(this.atoms,d.from,-1),g=ZA(this.atoms,d.to,1);(p!=d.from||g!=d.to)&&(f=Rt.range(d.from==d.anchor?p:g,d.from==d.head?p:g))}f&&(a||(a=l.ranges.slice()),a[h]=f)}return a?Rt.create(a,l.mainIndex):l}select(l){let{view:a}=this,h=this.skipAtoms(this.style.get(l,this.extend,this.multiple));(this.mustSelect||!h.eq(a.state.selection)||h.main.assoc!=a.state.selection.main.assoc&&!1===this.dragging)&&this.view.dispatch({selection:h,userEvent:"select.pointer"}),this.mustSelect=!1}update(l){this.style.update(l)&&setTimeout(()=>this.select(this.lastEvent),20)}}const hd=Object.create(null),dd=Object.create(null),b_e=qn.ie&&qn.ie_version<15||qn.ios&&qn.webkit_version<604;function O_e(c,l){let h,{state:a}=c,d=1,f=a.toText(l),p=f.lines==a.selection.ranges.length;if(null!=OH&&a.selection.ranges.every(m=>m.empty)&&OH==f.toString()){let m=-1;h=a.changeByRange(v=>{let _=a.doc.lineAt(v.from);if(_.from==m)return{range:v};m=_.from;let y=a.toText((p?f.line(d++).text:l)+a.lineBreak);return{changes:{from:_.from,insert:y},range:Rt.cursor(v.from+y.length)}})}else h=p?a.changeByRange(m=>{let v=f.line(d++);return{changes:{from:m.from,to:m.to,insert:v.text},range:Rt.cursor(m.from+v.length)}}):a.replaceSelection(f);c.dispatch(h,{userEvent:"input.paste",scrollIntoView:!0})}function C_e(c,l,a,h){if(1==h)return Rt.cursor(l,a);if(2==h)return function hgt(c,l,a=1){let h=c.charCategorizer(l),d=c.doc.lineAt(l),f=l-d.from;if(0==d.length)return Rt.cursor(l);0==f?a=1:f==d.length&&(a=-1);let p=f,g=f;a<0?p=Za(d.text,f,!1):g=Za(d.text,f);let m=h(d.text.slice(p,g));for(;p>0;){let v=Za(d.text,p,!1);if(h(d.text.slice(v,p))!=m)break;p=v}for(;g<d.length;){let v=Za(d.text,g);if(h(d.text.slice(g,v))!=m)break;g=v}return Rt.range(p+d.from,g+d.from)}(c.state,l,a);{let d=ha.find(c.docView,l),f=c.state.doc.lineAt(d?d.posAtEnd:l),g=d?d.posAtEnd:f.to;return g<c.state.doc.length&&g==f.to&&g++,Rt.range(d?d.posAtStart:f.from,g)}}dd.scroll=c=>{c.inputState.lastScrollTop=c.scrollDOM.scrollTop,c.inputState.lastScrollLeft=c.scrollDOM.scrollLeft},hd.keydown=(c,l)=>(c.inputState.setSelectionOrigin("select"),27==l.keyCode&&(c.inputState.lastEscPress=Date.now()),!1),dd.touchstart=(c,l)=>{c.inputState.lastTouchTime=Date.now(),c.inputState.setSelectionOrigin("select.pointer")},dd.touchmove=c=>{c.inputState.setSelectionOrigin("select.pointer")},hd.mousedown=(c,l)=>{if(c.observer.flush(),c.inputState.lastTouchTime>Date.now()-2e3)return!1;let a=null;for(let h of c.state.facet(Qve))if(a=h(c,l),a)break;if(!a&&0==l.button&&(a=function Pgt(c,l){let a=x_e(c,l),h=M_e(l),d=c.state.selection;return{update(f){f.docChanged&&(a.pos=f.changes.mapPos(a.pos),d=d.map(f.changes))},get(f,p,g){let v,m=x_e(c,f),_=C_e(c,m.pos,m.bias,h);if(a.pos!=m.pos&&!p){let y=C_e(c,a.pos,a.bias,h),b=Math.min(y.from,_.from),O=Math.max(y.to,_.to);_=b<_.from?Rt.range(b,O):Rt.range(O,b)}return p?d.replaceRange(d.main.extend(_.from,_.to)):g&&1==h&&d.ranges.length>1&&(v=function Agt(c,l){for(let a=0;a<c.ranges.length;a++){let{from:h,to:d}=c.ranges[a];if(h<=l&&d>=l)return Rt.create(c.ranges.slice(0,a).concat(c.ranges.slice(a+1)),c.mainIndex==a?0:c.mainIndex-(c.mainIndex>a?1:0))}return null}(d,m.pos))?v:g?d.addRange(_):Rt.create([_])}}}(c,l)),a){let h=!c.hasFocus;c.inputState.startMouseSelection(new Sgt(c,l,a,h)),h&&c.observer.ignore(()=>Cve(c.contentDOM));let d=c.inputState.mouseSelection;if(d)return d.start(l),!1===d.dragging}return!1};let S_e=(c,l)=>c>=l.top&&c<=l.bottom,w_e=(c,l,a)=>S_e(l,a)&&c>=a.left&&c<=a.right;function Mgt(c,l,a,h){let d=ha.find(c.docView,l);if(!d)return 1;let f=l-d.posAtStart;if(0==f)return 1;if(f==d.length)return-1;let p=d.coordsAt(f,-1);if(p&&w_e(a,h,p))return-1;let g=d.coordsAt(f,1);return g&&w_e(a,h,g)?1:p&&S_e(h,p)?-1:1}function x_e(c,l){let a=c.posAtCoords({x:l.clientX,y:l.clientY},!1);return{pos:a,bias:Mgt(c,a,l.clientX,l.clientY)}}const Egt=qn.ie&&qn.ie_version<=11;let T_e=null,k_e=0,D_e=0;function M_e(c){if(!Egt)return c.detail;let l=T_e,a=D_e;return T_e=c,D_e=Date.now(),k_e=!l||a>Date.now()-400&&Math.abs(l.clientX-c.clientX)<2&&Math.abs(l.clientY-c.clientY)<2?(k_e+1)%3:1}function E_e(c,l,a,h){if(!a)return;let d=c.posAtCoords({x:l.clientX,y:l.clientY},!1),{draggedContent:f}=c.inputState,p=h&&f&&function xgt(c,l){let a=c.state.facet(Uve);return a.length?a[0](l):qn.mac?!l.altKey:!l.ctrlKey}(c,l)?{from:f.from,to:f.to}:null,g={from:d,insert:a},m=c.state.changes(p?[p,g]:g);c.focus(),c.dispatch({changes:m,selection:{anchor:m.mapPos(d,-1),head:m.mapPos(d,1)},userEvent:p?"move.drop":"input.drop"}),c.inputState.draggedContent=null}hd.dragstart=(c,l)=>{let{selection:{main:a}}=c.state;if(l.target.draggable){let d=c.docView.nearest(l.target);if(d&&d.isWidget){let f=d.posAtStart,p=f+d.length;(f>=a.to||p<=a.from)&&(a=Rt.range(f,p))}}let{inputState:h}=c;return h.mouseSelection&&(h.mouseSelection.dragging=!0),h.draggedContent=a,l.dataTransfer&&(l.dataTransfer.setData("Text",c.state.sliceDoc(a.from,a.to)),l.dataTransfer.effectAllowed="copyMove"),!1},hd.dragend=c=>(c.inputState.draggedContent=null,!1),hd.drop=(c,l)=>{if(!l.dataTransfer)return!1;if(c.state.readOnly)return!0;let a=l.dataTransfer.files;if(a&&a.length){let h=Array(a.length),d=0,f=()=>{++d==a.length&&E_e(c,l,h.filter(p=>null!=p).join(c.state.lineBreak),!1)};for(let p=0;p<a.length;p++){let g=new FileReader;g.onerror=f,g.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(g.result)||(h[p]=g.result),f()},g.readAsText(a[p])}return!0}{let h=l.dataTransfer.getData("Text");if(h)return E_e(c,l,h,!0),!0}return!1},hd.paste=(c,l)=>{if(c.state.readOnly)return!0;c.observer.flush();let a=b_e?null:l.clipboardData;return a?(O_e(c,a.getData("text/plain")||a.getData("text/uri-text")),!0):(function Dgt(c){let l=c.dom.parentNode;if(!l)return;let a=l.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px",a.focus(),setTimeout(()=>{c.focus(),a.remove(),O_e(c,a.value)},50)}(c),!1)};let OH=null;hd.copy=hd.cut=(c,l)=>{let{text:a,ranges:h,linewise:d}=function Rgt(c){let l=[],a=[],h=!1;for(let d of c.selection.ranges)d.empty||(l.push(c.sliceDoc(d.from,d.to)),a.push(d));if(!l.length){let d=-1;for(let{from:f}of c.selection.ranges){let p=c.doc.lineAt(f);p.number>d&&(l.push(p.text),a.push({from:p.from,to:Math.min(c.doc.length,p.to+1)})),d=p.number}h=!0}return{text:l.join(c.lineBreak),ranges:a,linewise:h}}(c.state);if(!a&&!d)return!1;OH=d?a:null,"cut"==l.type&&!c.state.readOnly&&c.dispatch({changes:h,scrollIntoView:!0,userEvent:"delete.cut"});let f=b_e?null:l.clipboardData;return f?(f.clearData(),f.setData("text/plain",a),!0):(function Igt(c,l){let a=c.dom.parentNode;if(!a)return;let h=a.appendChild(document.createElement("textarea"));h.style.cssText="position: fixed; left: -10000px; top: 10px",h.value=l,h.focus(),h.selectionEnd=l.length,h.selectionStart=0,setTimeout(()=>{h.remove(),c.focus()},50)}(c,a),!1)};const P_e=Xp.define();function A_e(c,l){let a=[];for(let h of c.facet(Zve)){let d=h(c,l);d&&a.push(d)}return a?c.update({effects:a,annotations:P_e.of(!0)}):null}function I_e(c){setTimeout(()=>{let l=c.hasFocus;if(l!=c.inputState.notifiedFocused){let a=A_e(c.state,l);a?c.dispatch(a):c.update([])}},10)}dd.focus=c=>{c.inputState.lastFocusTime=Date.now(),!c.scrollDOM.scrollTop&&(c.inputState.lastScrollTop||c.inputState.lastScrollLeft)&&(c.scrollDOM.scrollTop=c.inputState.lastScrollTop,c.scrollDOM.scrollLeft=c.inputState.lastScrollLeft),I_e(c)},dd.blur=c=>{c.observer.clearSelectionRange(),I_e(c)},dd.compositionstart=dd.compositionupdate=c=>{null==c.inputState.compositionFirstChange&&(c.inputState.compositionFirstChange=!0),c.inputState.composing<0&&(c.inputState.composing=0)},dd.compositionend=c=>{c.inputState.composing=-1,c.inputState.compositionEndedAt=Date.now(),c.inputState.compositionPendingKey=!0,c.inputState.compositionPendingChange=c.observer.pendingRecords().length>0,c.inputState.compositionFirstChange=null,qn.chrome&&qn.android?c.observer.flushSoon():c.inputState.compositionPendingChange?Promise.resolve().then(()=>c.observer.flush()):setTimeout(()=>{c.inputState.composing<0&&c.docView.hasComposition&&c.update([])},50)},dd.contextmenu=c=>{c.inputState.lastContextMenu=Date.now()},hd.beforeinput=(c,l)=>{var a;let h;if(qn.chrome&&qn.android&&(h=__e.find(d=>d.inputType==l.inputType))&&(c.observer.delayAndroidKey(h.key,h.keyCode),"Backspace"==h.key||"Delete"==h.key)){let d=(null===(a=window.visualViewport)||void 0===a?void 0:a.height)||0;setTimeout(()=>{var f;((null===(f=window.visualViewport)||void 0===f?void 0:f.height)||0)>d+10&&c.hasFocus&&(c.contentDOM.blur(),c.focus())},100)}return!1};const R_e=new Set,L_e=["pre-wrap","normal","pre-line","break-spaces"];class N_e{constructor(l){this.lineWrapping=l,this.doc=zr.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(l,a){let h=this.doc.lineAt(a).number-this.doc.lineAt(l).number+1;return this.lineWrapping&&(h+=Math.max(0,Math.ceil((a-l-h*this.lineLength*.5)/this.lineLength))),this.lineHeight*h}heightForLine(l){return this.lineWrapping?(1+Math.max(0,Math.ceil((l-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(l){return this.doc=l,this}mustRefreshForWrapping(l){return L_e.indexOf(l)>-1!=this.lineWrapping}mustRefreshForHeights(l){let a=!1;for(let h=0;h<l.length;h++){let d=l[h];d<0?h++:this.heightSamples[Math.floor(10*d)]||(a=!0,this.heightSamples[Math.floor(10*d)]=!0)}return a}refresh(l,a,h,d,f,p){let g=L_e.indexOf(l)>-1,m=Math.round(a)!=Math.round(this.lineHeight)||this.lineWrapping!=g;if(this.lineWrapping=g,this.lineHeight=a,this.charWidth=h,this.textHeight=d,this.lineLength=f,m){this.heightSamples={};for(let v=0;v<p.length;v++){let _=p[v];_<0?v++:this.heightSamples[Math.floor(10*_)]=!0}}return m}}class F_e{constructor(l,a){this.from=l,this.heights=a,this.index=0}get more(){return this.index<this.heights.length}}class Tf{constructor(l,a,h,d,f){this.from=l,this.length=a,this.top=h,this.height=d,this._content=f}get type(){return"number"==typeof this._content?rc.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Rm?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(l){let a=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(l._content)?l._content:[l]);return new Tf(this.from,this.length+l.length,this.top,this.height+l.height,a)}}var Ts=function(c){return c[c.ByPos=0]="ByPos",c[c.ByHeight=1]="ByHeight",c[c.ByPosNoHeight=2]="ByPosNoHeight",c}(Ts||(Ts={}));const XA=.001;class yl{constructor(l,a,h=2){this.length=l,this.height=a,this.flags=h}get outdated(){return(2&this.flags)>0}set outdated(l){this.flags=(l?2:0)|-3&this.flags}setHeight(l,a){this.height!=a&&(Math.abs(this.height-a)>XA&&(l.heightChanged=!0),this.height=a)}replace(l,a,h){return yl.of(h)}decomposeLeft(l,a){a.push(this)}decomposeRight(l,a){a.push(this)}applyChanges(l,a,h,d){let f=this,p=h.doc;for(let g=d.length-1;g>=0;g--){let{fromA:m,toA:v,fromB:_,toB:y}=d[g],b=f.lineAt(m,Ts.ByPosNoHeight,h.setDoc(a),0,0),O=b.to>=v?b:f.lineAt(v,Ts.ByPosNoHeight,h,0,0);for(y+=O.to-v,v=O.to;g>0&&b.from<=d[g-1].toA;)m=d[g-1].fromA,_=d[g-1].fromB,g--,m<b.from&&(b=f.lineAt(m,Ts.ByPosNoHeight,h,0,0));_+=b.from-m,m=b.from;let C=CH.build(h.setDoc(p),l,_,y);f=f.replace(m,v,C)}return f.updateHeight(h,0)}static empty(){return new Cu(0,0)}static of(l){if(1==l.length)return l[0];let a=0,h=l.length,d=0,f=0;for(;;)if(a==h)if(d>2*f){let g=l[a-1];g.break?l.splice(--a,1,g.left,null,g.right):l.splice(--a,1,g.left,g.right),h+=1+g.break,d-=g.size}else{if(!(f>2*d))break;{let g=l[h];g.break?l.splice(h,1,g.left,null,g.right):l.splice(h,1,g.left,g.right),h+=2+g.break,f-=g.size}}else if(d<f){let g=l[a++];g&&(d+=g.size)}else{let g=l[--h];g&&(f+=g.size)}let p=0;return null==l[a-1]?(p=1,a--):null==l[a]&&(p=1,h++),new Ngt(yl.of(l.slice(0,a)),p,yl.of(l.slice(h)))}}yl.prototype.size=1;class B_e extends yl{constructor(l,a,h){super(l,a),this.deco=h}blockAt(l,a,h,d){return new Tf(d,this.length,h,this.height,this.deco||0)}lineAt(l,a,h,d,f){return this.blockAt(0,h,d,f)}forEachLine(l,a,h,d,f,p){l<=f+this.length&&a>=f&&p(this.blockAt(0,h,d,f))}updateHeight(l,a=0,h=!1,d){return d&&d.from<=a&&d.more&&this.setHeight(l,d.heights[d.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Cu extends B_e{constructor(l,a){super(l,a,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(l,a,h,d){return new Tf(d,this.length,h,this.height,this.breaks)}replace(l,a,h){let d=h[0];return 1==h.length&&(d instanceof Cu||d instanceof Ya&&4&d.flags)&&Math.abs(this.length-d.length)<10?(d instanceof Ya?d=new Cu(d.length,this.height):d.height=this.height,this.outdated||(d.outdated=!1),d):yl.of(h)}updateHeight(l,a=0,h=!1,d){return d&&d.from<=a&&d.more?this.setHeight(l,d.heights[d.index++]):(h||this.outdated)&&this.setHeight(l,Math.max(this.widgetHeight,l.heightForLine(this.length-this.collapsed))+this.breaks*l.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ya extends yl{constructor(l){super(l,0)}heightMetrics(l,a){let p,h=l.doc.lineAt(a).number,d=l.doc.lineAt(a+this.length).number,f=d-h+1,g=0;if(l.lineWrapping){let m=Math.min(this.height,l.lineHeight*f);p=m/f,this.length>f+1&&(g=(this.height-m)/(this.length-f-1))}else p=this.height/f;return{firstLine:h,lastLine:d,perLine:p,perChar:g}}blockAt(l,a,h,d){let{firstLine:f,lastLine:p,perLine:g,perChar:m}=this.heightMetrics(a,d);if(a.lineWrapping){let v=d+Math.round(Math.max(0,Math.min(1,(l-h)/this.height))*this.length),_=a.doc.lineAt(v),y=g+_.length*m,b=Math.max(h,l-y/2);return new Tf(_.from,_.length,b,y,0)}{let v=Math.max(0,Math.min(p-f,Math.floor((l-h)/g))),{from:_,length:y}=a.doc.line(f+v);return new Tf(_,y,h+g*v,g,0)}}lineAt(l,a,h,d,f){if(a==Ts.ByHeight)return this.blockAt(l,h,d,f);if(a==Ts.ByPosNoHeight){let{from:O,to:C}=h.doc.lineAt(l);return new Tf(O,C-O,0,0,0)}let{firstLine:p,perLine:g,perChar:m}=this.heightMetrics(h,f),v=h.doc.lineAt(l),_=g+v.length*m,y=v.number-p;return new Tf(v.from,v.length,Math.max(d,Math.min(d+g*y+m*(v.from-f-y),d+this.height-_)),_,0)}forEachLine(l,a,h,d,f,p){l=Math.max(l,f),a=Math.min(a,f+this.length);let{firstLine:g,perLine:m,perChar:v}=this.heightMetrics(h,f);for(let _=l,y=d;_<=a;){let b=h.doc.lineAt(_);if(_==l){let C=b.number-g;y+=m*C+v*(l-f-C)}let O=m+v*b.length;p(new Tf(b.from,b.length,y,O,0)),y+=O,_=b.to+1}}replace(l,a,h){let d=this.length-a;if(d>0){let f=h[h.length-1];f instanceof Ya?h[h.length-1]=new Ya(f.length+d):h.push(null,new Ya(d-1))}if(l>0){let f=h[0];f instanceof Ya?h[0]=new Ya(l+f.length):h.unshift(new Ya(l-1),null)}return yl.of(h)}decomposeLeft(l,a){a.push(new Ya(l-1),null)}decomposeRight(l,a){a.push(null,new Ya(this.length-l-1))}updateHeight(l,a=0,h=!1,d){let f=a+this.length;if(d&&d.from<=a+this.length&&d.more){let p=[],g=Math.max(a,d.from),m=-1;for(d.from>a&&p.push(new Ya(d.from-a-1).updateHeight(l,a));g<=f&&d.more;){let _=l.doc.lineAt(g).length;p.length&&p.push(null);let y=d.heights[d.index++];-1==m?m=y:Math.abs(y-m)>=XA&&(m=-2);let b=new Cu(_,y);b.outdated=!1,p.push(b),g+=_+1}g<=f&&p.push(null,new Ya(f-g).updateHeight(l,g));let v=yl.of(p);return(m<0||Math.abs(v.height-this.height)>=XA||Math.abs(m-this.heightMetrics(l,a).perLine)>=XA)&&(l.heightChanged=!0),v}return(h||this.outdated)&&(this.setHeight(l,l.heightForGap(a,a+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Ngt extends yl{constructor(l,a,h){super(l.length+a+h.length,l.height+h.height,a|(l.outdated||h.outdated?2:0)),this.left=l,this.right=h,this.size=l.size+h.size}get break(){return 1&this.flags}blockAt(l,a,h,d){let f=h+this.left.height;return l<f?this.left.blockAt(l,a,h,d):this.right.blockAt(l,a,f,d+this.left.length+this.break)}lineAt(l,a,h,d,f){let p=d+this.left.height,g=f+this.left.length+this.break,m=a==Ts.ByHeight?l<p:l<g,v=m?this.left.lineAt(l,a,h,d,f):this.right.lineAt(l,a,h,p,g);if(this.break||(m?v.to<g:v.from>g))return v;let _=a==Ts.ByPosNoHeight?Ts.ByPosNoHeight:Ts.ByPos;return m?v.join(this.right.lineAt(g,_,h,p,g)):this.left.lineAt(g,_,h,d,f).join(v)}forEachLine(l,a,h,d,f,p){let g=d+this.left.height,m=f+this.left.length+this.break;if(this.break)l<m&&this.left.forEachLine(l,a,h,d,f,p),a>=m&&this.right.forEachLine(l,a,h,g,m,p);else{let v=this.lineAt(m,Ts.ByPos,h,d,f);l<v.from&&this.left.forEachLine(l,v.from-1,h,d,f,p),v.to>=l&&v.from<=a&&p(v),a>v.to&&this.right.forEachLine(v.to+1,a,h,g,m,p)}}replace(l,a,h){let d=this.left.length+this.break;if(a<d)return this.balanced(this.left.replace(l,a,h),this.right);if(l>this.left.length)return this.balanced(this.left,this.right.replace(l-d,a-d,h));let f=[];l>0&&this.decomposeLeft(l,f);let p=f.length;for(let g of h)f.push(g);if(l>0&&V_e(f,p-1),a<this.length){let g=f.length;this.decomposeRight(a,f),V_e(f,g)}return yl.of(f)}decomposeLeft(l,a){let h=this.left.length;if(l<=h)return this.left.decomposeLeft(l,a);a.push(this.left),this.break&&(h++,l>=h&&a.push(null)),l>h&&this.right.decomposeLeft(l-h,a)}decomposeRight(l,a){let h=this.left.length,d=h+this.break;if(l>=d)return this.right.decomposeRight(l-d,a);l<h&&this.left.decomposeRight(l,a),this.break&&l<d&&a.push(null),a.push(this.right)}balanced(l,a){return l.size>2*a.size||a.size>2*l.size?yl.of(this.break?[l,null,a]:[l,a]):(this.left=l,this.right=a,this.height=l.height+a.height,this.outdated=l.outdated||a.outdated,this.size=l.size+a.size,this.length=l.length+this.break+a.length,this)}updateHeight(l,a=0,h=!1,d){let{left:f,right:p}=this,g=a+f.length+this.break,m=null;return d&&d.from<=a+f.length&&d.more?m=f=f.updateHeight(l,a,h,d):f.updateHeight(l,a,h),d&&d.from<=g+p.length&&d.more?m=p=p.updateHeight(l,g,h,d):p.updateHeight(l,g,h),m?this.balanced(f,p):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function V_e(c,l){let a,h;null==c[l]&&(a=c[l-1])instanceof Ya&&(h=c[l+1])instanceof Ya&&c.splice(l-1,3,new Ya(a.length+1+h.length))}class CH{constructor(l,a){this.pos=l,this.oracle=a,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=l}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(l,a){if(this.lineStart>-1){let h=Math.min(a,this.lineEnd),d=this.nodes[this.nodes.length-1];d instanceof Cu?d.length+=h-this.pos:(h>this.pos||!this.isCovered)&&this.nodes.push(new Cu(h-this.pos,-1)),this.writtenTo=h,a>h&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=a}point(l,a,h){if(l<a||h.heightRelevant){let d=h.widget?h.widget.estimatedHeight:0,f=h.widget?h.widget.lineBreaks:0;d<0&&(d=this.oracle.lineHeight);let p=a-l;h.block?this.addBlock(new B_e(p,d,h)):(p||f||d>=5)&&this.addLineDeco(d,f,p)}else a>l&&this.span(l,a);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:l,to:a}=this.oracle.doc.lineAt(this.pos);this.lineStart=l,this.lineEnd=a,this.writtenTo<l&&((this.writtenTo<l-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,l-1)),this.nodes.push(null)),this.pos>l&&this.nodes.push(new Cu(this.pos-l,-1)),this.writtenTo=this.pos}blankContent(l,a){let h=new Ya(a-l);return this.oracle.doc.lineAt(l).to==a&&(h.flags|=4),h}ensureLine(){this.enterLine();let l=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(l instanceof Cu)return l;let a=new Cu(0,-1);return this.nodes.push(a),a}addBlock(l){this.enterLine();let a=l.deco;a&&a.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(l),this.writtenTo=this.pos=this.pos+l.length,a&&a.endSide>0&&(this.covering=l)}addLineDeco(l,a,h){let d=this.ensureLine();d.length+=h,d.collapsed+=h,d.widgetHeight=Math.max(d.widgetHeight,l),d.breaks+=a,this.writtenTo=this.pos=this.pos+h}finish(l){let a=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||a instanceof Cu||this.isCovered?(this.writtenTo<this.pos||null==a)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Cu(0,-1));let h=l;for(let d of this.nodes)d instanceof Cu&&d.updateHeight(this.oracle,h),h+=d?d.length:1;return this.nodes}static build(l,a,h,d){let f=new CH(h,l);return Qs.spans(a,h,d,f,0),f.finish(h)}}class Vgt{constructor(){this.changes=[]}compareRange(){}comparePoint(l,a,h,d){(l<a||h&&h.heightRelevant||d&&d.heightRelevant)&&uH(l,a,this.changes,5)}}function $gt(c,l){let a=c.getBoundingClientRect(),h=c.ownerDocument,d=h.defaultView||window,f=Math.max(0,a.left),p=Math.min(d.innerWidth,a.right),g=Math.max(0,a.top),m=Math.min(d.innerHeight,a.bottom);for(let v=c.parentNode;v&&v!=h.body;)if(1==v.nodeType){let _=v,y=window.getComputedStyle(_);if((_.scrollHeight>_.clientHeight||_.scrollWidth>_.clientWidth)&&"visible"!=y.overflow){let b=_.getBoundingClientRect();f=Math.max(f,b.left),p=Math.min(p,b.right),g=Math.max(g,b.top),m=v==c.parentNode?b.bottom:Math.min(m,b.bottom)}v="absolute"==y.position||"fixed"==y.position?_.offsetParent:_.parentNode}else{if(11!=v.nodeType)break;v=v.host}return{left:f-a.left,right:Math.max(f,p)-a.left,top:g-(a.top+l),bottom:Math.max(g,m)-(a.top+l)}}function zgt(c,l){let a=c.getBoundingClientRect();return{left:0,right:a.right-a.left,top:l,bottom:a.bottom-(a.top+l)}}class SH{constructor(l,a,h){this.from=l,this.to=a,this.size=h}static same(l,a){if(l.length!=a.length)return!1;for(let h=0;h<l.length;h++){let d=l[h],f=a[h];if(d.from!=f.from||d.to!=f.to||d.size!=f.size)return!1}return!0}draw(l,a){return ii.replace({widget:new Ugt(this.size*(a?l.scaleY:l.scaleX),a)}).range(this.from,this.to)}}class Ugt extends Jp{constructor(l,a){super(),this.size=l,this.vertical=a}eq(l){return l.size==this.size&&l.vertical==this.vertical}toDOM(){let l=document.createElement("div");return this.vertical?l.style.height=this.size+"px":(l.style.width=this.size+"px",l.style.height="2px",l.style.display="inline-block"),l}get estimatedHeight(){return this.vertical?this.size:-1}}class $_e{constructor(l){this.state=l,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=z_e,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=qs.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let a=l.facet(HA).some(h=>"function"!=typeof h&&"cm-lineWrapping"==h.class);this.heightOracle=new N_e(a),this.stateDeco=l.facet(uT).filter(h=>"function"!=typeof h),this.heightMap=yl.empty().applyChanges(this.stateDeco,zr.empty,this.heightOracle.setDoc(l.doc),[new Ou(0,0,0,l.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ii.set(this.lineGaps.map(h=>h.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let l=[this.viewport],{main:a}=this.state.selection;for(let h=0;h<=1;h++){let d=h?a.head:a.anchor;if(!l.some(({from:f,to:p})=>d>=f&&d<=p)){let{from:f,to:p}=this.lineBlockAt(d);l.push(new YA(f,p))}}this.viewports=l.sort((h,d)=>h.from-d.from),this.scaler=this.heightMap.height<=7e6?z_e:new Wgt(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,l=>{this.viewportLines.push(1==this.scaler.scale?l:fT(l,this.scaler))})}update(l,a=null){this.state=l.state;let h=this.stateDeco;this.stateDeco=this.state.facet(uT).filter(_=>"function"!=typeof _);let f=Ou.extendWithRanges(l.changedRanges,function Bgt(c,l,a){let h=new Vgt;return Qs.compare(c,l,a,h,0),h.changes}(h,this.stateDeco,l?l.changes:ua.empty(this.state.doc.length))),p=this.heightMap.height,g=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,l.startState.doc,this.heightOracle.setDoc(this.state.doc),f),this.heightMap.height!=p&&(l.flags|=2),g?(this.scrollAnchorPos=l.changes.mapPos(g.from,-1),this.scrollAnchorHeight=g.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let m=f.length?this.mapViewport(this.viewport,l.changes):this.viewport;(a&&(a.range.head<m.from||a.range.head>m.to)||!this.viewportIsAppropriate(m))&&(m=this.getViewport(0,a));let v=!l.changes.empty||2&l.flags||m.from!=this.viewport.from||m.to!=this.viewport.to;this.viewport=m,this.updateForViewport(),v&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,l.changes))),l.flags|=this.computeVisibleRanges(),a&&(this.scrollTarget=a),!this.mustEnforceCursorAssoc&&l.selectionSet&&l.view.lineWrapping&&l.state.selection.main.empty&&l.state.selection.main.assoc&&!l.state.facet(Gve)&&(this.mustEnforceCursorAssoc=!0)}measure(l){let a=l.contentDOM,h=window.getComputedStyle(a),d=this.heightOracle,f=h.whiteSpace;this.defaultTextDirection="rtl"==h.direction?qs.RTL:qs.LTR;let p=this.heightOracle.mustRefreshForWrapping(f),g=a.getBoundingClientRect(),m=p||this.mustMeasureContent||this.contentDOMHeight!=g.height;this.contentDOMHeight=g.height,this.mustMeasureContent=!1;let v=0,_=0;if(g.width&&g.height){let{scaleX:k,scaleY:P}=Ove(a,g);(this.scaleX!=k||this.scaleY!=P)&&(this.scaleX=k,this.scaleY=P,v|=8,p=m=!0)}let y=(parseInt(h.paddingTop)||0)*this.scaleY,b=(parseInt(h.paddingBottom)||0)*this.scaleY;(this.paddingTop!=y||this.paddingBottom!=b)&&(this.paddingTop=y,this.paddingBottom=b,v|=10),this.editorWidth!=l.scrollDOM.clientWidth&&(d.lineWrapping&&(m=!0),this.editorWidth=l.scrollDOM.clientWidth,v|=8);let O=l.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=O&&(this.scrollAnchorHeight=-1,this.scrollTop=O),this.scrolledToBottom=xve(l.scrollDOM);let C=(this.printing?zgt:$gt)(a,this.paddingTop),S=C.top-this.pixelViewport.top,w=C.bottom-this.pixelViewport.bottom;this.pixelViewport=C;let x=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(x!=this.inView&&(this.inView=x,x&&(m=!0)),!this.inView&&!this.scrollTarget)return 0;let T=g.width;if((this.contentDOMWidth!=T||this.editorHeight!=l.scrollDOM.clientHeight)&&(this.contentDOMWidth=g.width,this.editorHeight=l.scrollDOM.clientHeight,v|=8),m){let k=l.docView.measureVisibleLineHeights(this.viewport);if(d.mustRefreshForHeights(k)&&(p=!0),p||d.lineWrapping&&Math.abs(T-this.contentDOMWidth)>d.charWidth){let{lineHeight:P,charWidth:N,textHeight:F}=l.docView.measureTextSize();p=P>0&&d.refresh(f,P,N,F,T/N,k),p&&(l.docView.minWidth=0,v|=8)}S>0&&w>0?_=Math.max(S,w):S<0&&w<0&&(_=Math.min(S,w)),d.heightChanged=!1;for(let P of this.viewports){let N=P.from==this.viewport.from?k:l.docView.measureVisibleLineHeights(P);this.heightMap=(p?yl.empty().applyChanges(this.stateDeco,zr.empty,this.heightOracle,[new Ou(0,0,0,l.state.doc.length)]):this.heightMap).updateHeight(d,0,p,new F_e(P.from,N))}d.heightChanged&&(v|=2)}let D=!this.viewportIsAppropriate(this.viewport,_)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return D&&(this.viewport=this.getViewport(_,this.scrollTarget)),this.updateForViewport(),(2&v||D)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(p?[]:this.lineGaps,l)),v|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,l.docView.enforceCursorAssoc()),v}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(l,a){let h=.5-Math.max(-.5,Math.min(.5,l/1e3/2)),d=this.heightMap,f=this.heightOracle,{visibleTop:p,visibleBottom:g}=this,m=new YA(d.lineAt(p-1e3*h,Ts.ByHeight,f,0,0).from,d.lineAt(g+1e3*(1-h),Ts.ByHeight,f,0,0).to);if(a){let{head:v}=a.range;if(v<m.from||v>m.to){let b,_=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),y=d.lineAt(v,Ts.ByPos,f,0,0);b="center"==a.y?(y.top+y.bottom)/2-_/2:"start"==a.y||"nearest"==a.y&&v<m.from?y.top:y.bottom-_,m=new YA(d.lineAt(b-500,Ts.ByHeight,f,0,0).from,d.lineAt(b+_+500,Ts.ByHeight,f,0,0).to)}}return m}mapViewport(l,a){let h=a.mapPos(l.from,-1),d=a.mapPos(l.to,1);return new YA(this.heightMap.lineAt(h,Ts.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(d,Ts.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:l,to:a},h=0){if(!this.inView)return!0;let{top:d}=this.heightMap.lineAt(l,Ts.ByPos,this.heightOracle,0,0),{bottom:f}=this.heightMap.lineAt(a,Ts.ByPos,this.heightOracle,0,0),{visibleTop:p,visibleBottom:g}=this;return(0==l||d<=p-Math.max(10,Math.min(-h,250)))&&(a==this.state.doc.length||f>=g+Math.max(10,Math.min(h,250)))&&d>p-2e3&&f<g+2e3}mapLineGaps(l,a){if(!l.length||a.empty)return l;let h=[];for(let d of l)a.touchesRange(d.from,d.to)||h.push(new SH(a.mapPos(d.from),a.mapPos(d.to),d.size));return h}ensureLineGaps(l,a){let h=this.heightOracle.lineWrapping,d=h?1e4:2e3,f=d>>1,p=d<<1;if(this.defaultTextDirection!=qs.LTR&&!h)return[];let g=[],m=(v,_,y,b)=>{if(_-v<f)return;let O=this.state.selection.main,C=[O.from];O.empty||C.push(O.to);for(let w of C)if(w>v&&w<_)return m(v,w-10,y,b),void m(w+10,_,y,b);let S=function Hgt(c,l){for(let a of c)if(l(a))return a}(l,w=>w.from>=y.from&&w.to<=y.to&&Math.abs(w.from-v)<f&&Math.abs(w.to-_)<f&&!C.some(x=>w.from<x&&w.to>x));if(!S){if(_<y.to&&a&&h&&a.visibleRanges.some(w=>w.from<=_&&w.to>=_)){let w=a.moveToLineBoundary(Rt.cursor(_),!1,!0).head;w>v&&(_=w)}S=new SH(v,_,this.gapSize(y,v,_,b))}g.push(S)};for(let v of this.viewportLines){if(v.length<p)continue;let _=Qgt(v.from,v.to,this.stateDeco);if(_.total<p)continue;let b,O,y=this.scrollTarget?this.scrollTarget.range.head:null;if(h){let S,w,C=d/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=y){let x=KA(_,y),T=((this.visibleBottom-this.visibleTop)/2+C)/v.height;S=x-T,w=x+T}else S=(this.visibleTop-v.top-C)/v.height,w=(this.visibleBottom-v.top+C)/v.height;b=qA(_,S),O=qA(_,w)}else{let w,x,C=_.total*this.heightOracle.charWidth,S=d*this.heightOracle.charWidth;if(null!=y){let T=KA(_,y),D=((this.pixelViewport.right-this.pixelViewport.left)/2+S)/C;w=T-D,x=T+D}else w=(this.pixelViewport.left-S)/C,x=(this.pixelViewport.right+S)/C;b=qA(_,w),O=qA(_,x)}b>v.from&&m(v.from,b,v,_),O<v.to&&m(O,v.to,v,_)}return g}gapSize(l,a,h,d){let f=KA(d,h)-KA(d,a);return this.heightOracle.lineWrapping?l.height*f:d.total*this.heightOracle.charWidth*f}updateLineGaps(l){SH.same(l,this.lineGaps)||(this.lineGaps=l,this.lineGapDeco=ii.set(l.map(a=>a.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let l=this.stateDeco;this.lineGaps.length&&(l=l.concat(this.lineGapDeco));let a=[];Qs.spans(l,this.viewport.from,this.viewport.to,{span(d,f){a.push({from:d,to:f})},point(){}},20);let h=a.length!=this.visibleRanges.length||this.visibleRanges.some((d,f)=>d.from!=a[f].from||d.to!=a[f].to);return this.visibleRanges=a,h?4:0}lineBlockAt(l){return l>=this.viewport.from&&l<=this.viewport.to&&this.viewportLines.find(a=>a.from<=l&&a.to>=l)||fT(this.heightMap.lineAt(l,Ts.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(l){return fT(this.heightMap.lineAt(this.scaler.fromDOM(l),Ts.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(l){let a=this.lineBlockAtHeight(l+8);return a.from>=this.viewport.from||this.viewportLines[0].top-l>200?a:this.viewportLines[0]}elementAtHeight(l){return fT(this.heightMap.blockAt(this.scaler.fromDOM(l),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class YA{constructor(l,a){this.from=l,this.to=a}}function Qgt(c,l,a){let h=[],d=c,f=0;return Qs.spans(a,c,l,{span(){},point(p,g){p>d&&(h.push({from:d,to:p}),f+=p-d),d=g}},20),d<l&&(h.push({from:d,to:l}),f+=l-d),{total:f,ranges:h}}function qA({total:c,ranges:l},a){if(a<=0)return l[0].from;if(a>=1)return l[l.length-1].to;let h=Math.floor(c*a);for(let d=0;;d++){let{from:f,to:p}=l[d],g=p-f;if(h<=g)return f+h;h-=g}}function KA(c,l){let a=0;for(let{from:h,to:d}of c.ranges){if(l<=d){a+=l-h;break}a+=d-h}return a/c.total}const z_e={toDOM:c=>c,fromDOM:c=>c,scale:1};class Wgt{constructor(l,a,h){let d=0,f=0,p=0;this.viewports=h.map(({from:g,to:m})=>{let v=a.lineAt(g,Ts.ByPos,l,0,0).top,_=a.lineAt(m,Ts.ByPos,l,0,0).bottom;return d+=_-v,{from:g,to:m,top:v,bottom:_,domTop:0,domBottom:0}}),this.scale=(7e6-d)/(a.height-d);for(let g of this.viewports)g.domTop=p+(g.top-f)*this.scale,p=g.domBottom=g.domTop+(g.bottom-g.top),f=g.bottom}toDOM(l){for(let a=0,h=0,d=0;;a++){let f=a<this.viewports.length?this.viewports[a]:null;if(!f||l<f.top)return d+(l-h)*this.scale;if(l<=f.bottom)return f.domTop+(l-f.top);h=f.bottom,d=f.domBottom}}fromDOM(l){for(let a=0,h=0,d=0;;a++){let f=a<this.viewports.length?this.viewports[a]:null;if(!f||l<f.domTop)return h+(l-d)/this.scale;if(l<=f.domBottom)return f.top+(l-f.domTop);h=f.bottom,d=f.domBottom}}}function fT(c,l){if(1==l.scale)return c;let a=l.toDOM(c.top),h=l.toDOM(c.bottom);return new Tf(c.from,c.length,a,h-a,Array.isArray(c._content)?c._content.map(d=>fT(d,l)):c._content)}const JA=$n.define({combine:c=>c.join(" ")}),wH=$n.define({combine:c=>c.indexOf(!0)>-1}),xH=Em.newName(),U_e=Em.newName(),Q_e=Em.newName(),H_e={"&light":"."+U_e,"&dark":"."+Q_e};function TH(c,l,a){return new Em(l,{finish:h=>/&/.test(h)?h.replace(/&\w*/,d=>{if("&"==d)return c;if(!a||!a[d])throw new RangeError(`Unsupported selector: ${d}`);return a[d]}):c+" "+h})}const Zgt=TH("."+xH,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},H_e);class jgt{constructor(l,a){this.points=l,this.text="",this.lineSeparator=a.facet(vl.lineSeparator)}append(l){this.text+=l}lineBreak(){this.text+="\uffff"}readRange(l,a){if(!l)return this;let h=l.parentNode;for(let d=l;;){this.findPointBefore(h,d);let f=this.text.length;this.readNode(d);let p=d.nextSibling;if(p==a)break;let g=As.get(d),m=As.get(p);(g&&m?g.breakAfter:(g?g.breakAfter:W_e(d))||W_e(p)&&("BR"!=d.nodeName||d.cmIgnore)&&this.text.length>f)&&this.lineBreak(),d=p}return this.findPointBefore(h,a),this}readTextNode(l){let a=l.nodeValue;for(let h of this.points)h.node==l&&(h.pos=this.text.length+Math.min(h.offset,a.length));for(let h=0,d=this.lineSeparator?null:/\r\n?|\n/g;;){let g,f=-1,p=1;if(this.lineSeparator?(f=a.indexOf(this.lineSeparator,h),p=this.lineSeparator.length):(g=d.exec(a))&&(f=g.index,p=g[0].length),this.append(a.slice(h,f<0?a.length:f)),f<0)break;if(this.lineBreak(),p>1)for(let m of this.points)m.node==l&&m.pos>this.text.length&&(m.pos-=p-1);h=f+p}}readNode(l){if(l.cmIgnore)return;let a=As.get(l),h=a&&a.overrideDOMText;if(null!=h){this.findPointInside(l,h.length);for(let d=h.iter();!d.next().done;)d.lineBreak?this.lineBreak():this.append(d.value)}else 3==l.nodeType?this.readTextNode(l):"BR"==l.nodeName?l.nextSibling&&this.lineBreak():1==l.nodeType&&this.readRange(l.firstChild,null)}findPointBefore(l,a){for(let h of this.points)h.node==l&&l.childNodes[h.offset]==a&&(h.pos=this.text.length)}findPointInside(l,a){for(let h of this.points)(3==l.nodeType?h.node==l:l.contains(h.node))&&(h.pos=this.text.length+(Ggt(l,h.node,h.offset)?a:0))}}function Ggt(c,l,a){for(;;){if(!l||a<Yp(l))return!1;if(l==c)return!0;a=sT(l)+1,l=l.parentNode}}function W_e(c){return 1==c.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(c.nodeName)}class Z_e{constructor(l,a){this.node=l,this.offset=a,this.pos=-1}}class Xgt{constructor(l,a,h,d){this.typeOver=d,this.bounds=null,this.text="";let{impreciseHead:f,impreciseAnchor:p}=l.docView;if(l.state.readOnly&&a>-1)this.newSel=null;else if(a>-1&&(this.bounds=l.docView.domBoundsAround(a,h,0))){let g=f||p?[]:function Kgt(c){let l=[];if(c.root.activeElement!=c.contentDOM)return l;let{anchorNode:a,anchorOffset:h,focusNode:d,focusOffset:f}=c.observer.selectionRange;return a&&(l.push(new Z_e(a,h)),(d!=a||f!=h)&&l.push(new Z_e(d,f))),l}(l),m=new jgt(g,l.state);m.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=m.text,this.newSel=function Jgt(c,l){if(0==c.length)return null;let a=c[0].pos,h=2==c.length?c[1].pos:a;return a>-1&&h>-1?Rt.single(a+l,h+l):null}(g,this.bounds.from)}else{let g=l.observer.selectionRange,m=f&&f.node==g.focusNode&&f.offset==g.focusOffset||!tH(l.contentDOM,g.focusNode)?l.state.selection.main.head:l.docView.posFromDOM(g.focusNode,g.focusOffset),v=p&&p.node==g.anchorNode&&p.offset==g.anchorOffset||!tH(l.contentDOM,g.anchorNode)?l.state.selection.main.anchor:l.docView.posFromDOM(g.anchorNode,g.anchorOffset);this.newSel=Rt.single(v,m)}}}function j_e(c,l){let a,{newSel:h}=l,d=c.state.selection.main,f=c.inputState.lastKeyTime>Date.now()-100?c.inputState.lastKeyCode:-1;if(l.bounds){let{from:p,to:g}=l.bounds,m=d.from,v=null;(8===f||qn.android&&l.text.length<g-p)&&(m=d.to,v="end");let _=function qgt(c,l,a,h){let d=Math.min(c.length,l.length),f=0;for(;f<d&&c.charCodeAt(f)==l.charCodeAt(f);)f++;if(f==d&&c.length==l.length)return null;let p=c.length,g=l.length;for(;p>0&&g>0&&c.charCodeAt(p-1)==l.charCodeAt(g-1);)p--,g--;return"end"==h&&(a-=p+Math.max(0,f-Math.min(p,g))-f),p<f&&c.length<l.length?(f-=a<=f&&a>=p?f-a:0,g=f+(g-p),p=f):g<f&&(f-=a<=f&&a>=g?f-a:0,p=f+(p-g),g=f),{from:f,toA:p,toB:g}}(c.state.doc.sliceString(p,g,"\uffff"),l.text,m-p,v);_&&(qn.chrome&&13==f&&_.toB==_.from+2&&"\uffff\uffff"==l.text.slice(_.from,_.toB)&&_.toB--,a={from:p+_.from,to:p+_.toA,insert:zr.of(l.text.slice(_.from,_.toB).split("\uffff"))})}else h&&(!c.hasFocus&&c.state.facet(QA)||h.main.eq(d))&&(h=null);if(!a&&!h)return!1;if(!a&&l.typeOver&&!d.empty&&h&&h.main.empty?a={from:d.from,to:d.to,insert:c.state.doc.slice(d.from,d.to)}:a&&a.from>=d.from&&a.to<=d.to&&(a.from!=d.from||a.to!=d.to)&&d.to-d.from-(a.to-a.from)<=4?a={from:d.from,to:d.to,insert:c.state.doc.slice(d.from,a.from).append(a.insert).append(c.state.doc.slice(a.to,d.to))}:(qn.mac||qn.android)&&a&&a.from==a.to&&a.from==d.head-1&&/^\. ?$/.test(a.insert.toString())&&"off"==c.contentDOM.getAttribute("autocorrect")?(h&&2==a.insert.length&&(h=Rt.single(h.main.anchor-1,h.main.head-1)),a={from:d.from,to:d.to,insert:zr.of([" "])}):qn.chrome&&a&&a.from==a.to&&a.from==d.head&&"\n "==a.insert.toString()&&c.lineWrapping&&(h&&(h=Rt.single(h.main.anchor-1,h.main.head-1)),a={from:d.from,to:d.to,insert:zr.of([" "])}),a){if(qn.ios&&c.inputState.flushIOSKey()||qn.android&&(a.from==d.from&&a.to==d.to&&1==a.insert.length&&2==a.insert.lines&&wO(c.contentDOM,"Enter",13)||(a.from==d.from-1&&a.to==d.to&&0==a.insert.length||8==f&&a.insert.length<a.to-a.from&&a.to>d.head)&&wO(c.contentDOM,"Backspace",8)||a.from==d.from&&a.to==d.to+1&&0==a.insert.length&&wO(c.contentDOM,"Delete",46)))return!0;let p=a.insert.toString();c.inputState.composing>=0&&c.inputState.composing++;let g,m=()=>g||(g=function Ygt(c,l,a){let h,d=c.state,f=d.selection.main;if(l.from>=f.from&&l.to<=f.to&&l.to-l.from>=(f.to-f.from)/3&&(!a||a.main.empty&&a.main.from==l.from+l.insert.length)&&c.inputState.composing<0){let g=f.from<l.from?d.sliceDoc(f.from,l.from):"",m=f.to>l.to?d.sliceDoc(l.to,f.to):"";h=d.replaceSelection(c.state.toText(g+l.insert.sliceString(0,void 0,c.state.lineBreak)+m))}else{let g=d.changes(l),m=a&&a.main.to<=g.newLength?a.main:void 0;if(d.selection.ranges.length>1&&c.inputState.composing>=0&&l.to<=f.to&&l.to>=f.to-10){let _,v=c.state.sliceDoc(l.from,l.to),y=a&&c_e(c,a.main.head);_=y?{from:y.from,to:y.to-(l.insert.length-(l.to-l.from))}:c.state.doc.lineAt(f.head);let b=f.to-l.to,O=f.to-f.from;h=d.changeByRange(C=>{if(C.from==f.from&&C.to==f.to)return{changes:g,range:m||C.map(g)};let S=C.to-b,w=S-v.length;if(C.to-C.from!=O||c.state.sliceDoc(w,S)!=v||C.to>=_.from&&C.from<=_.to)return{range:C};let x=d.changes({from:w,to:S,insert:l.insert}),T=C.to-f.to;return{changes:x,range:m?Rt.range(Math.max(0,m.anchor+T),Math.max(0,m.head+T)):C.map(x)}})}else h={changes:g,selection:m&&d.selection.replaceRange(m)}}let p="input.type";return(c.composing||c.inputState.compositionPendingChange&&c.inputState.compositionEndedAt>Date.now()-50)&&(c.inputState.compositionPendingChange=!1,p+=".compose",c.inputState.compositionFirstChange&&(p+=".start",c.inputState.compositionFirstChange=!1)),d.update(h,{userEvent:p,scrollIntoView:!0})}(c,a,h));return c.state.facet(Wve).some(v=>v(c,a.from,a.to,p,m))||c.dispatch(m()),!0}if(h&&!h.main.eq(d)){let p=!1,g="select";return c.inputState.lastSelectionTime>Date.now()-50&&("select"==c.inputState.lastSelectionOrigin&&(p=!0),g=c.inputState.lastSelectionOrigin),c.dispatch({selection:h,scrollIntoView:p,userEvent:g}),!0}return!1}const emt={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},kH=qn.ie&&qn.ie_version<=11;class tmt{constructor(l){this.view=l,this.active=!1,this.selectionRange=new Upt,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=l.contentDOM,this.observer=new MutationObserver(a=>{for(let h of a)this.queue.push(h);(qn.ie&&qn.ie_version<=11||qn.ios&&l.composing)&&a.some(h=>"childList"==h.type&&h.removedNodes.length||"characterData"==h.type&&h.oldValue.length>h.target.nodeValue.length)?this.flushSoon():this.flush()}),kH&&(this.onCharData=a=>{this.queue.push({target:a.target,type:"characterData",oldValue:a.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var a;(null===(a=this.view.docView)||void 0===a?void 0:a.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(l.scrollDOM)),this.addWindowListeners(this.win=l.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(a=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),a.length>0&&a[a.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(a=>{a.length>0&&a[a.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(l){this.view.inputState.runHandlers("scroll",l),this.intersecting&&this.view.measure()}onScroll(l){this.intersecting&&this.flush(!1),this.onScrollChanged(l)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(l){if(this.gapIntersection&&(l.length!=this.gaps.length||this.gaps.some((a,h)=>a!=l[h]))){this.gapIntersection.disconnect();for(let a of l)this.gapIntersection.observe(a);this.gaps=l}}onSelectionChange(l){let a=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:h}=this,d=this.selectionRange;if(h.state.facet(QA)?h.root.activeElement!=this.dom:!FA(h.dom,d))return;let f=d.anchorNode&&h.docView.nearest(d.anchorNode);f&&f.ignoreEvent(l)?a||(this.selectionChanged=!1):(qn.ie&&qn.ie_version<=11||qn.android&&qn.chrome)&&!h.state.selection.main.empty&&d.focusNode&&BA(d.focusNode,d.focusOffset,d.anchorNode,d.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:l}=this,a=qn.safari&&11==l.root.nodeType&&function Bpt(c){let l=c.activeElement;for(;l&&l.shadowRoot;)l=l.shadowRoot.activeElement;return l}(this.dom.ownerDocument)==this.dom&&function nmt(c){let l=null;function a(m){m.preventDefault(),m.stopImmediatePropagation(),l=m.getTargetRanges()[0]}if(c.contentDOM.addEventListener("beforeinput",a,!0),c.dom.ownerDocument.execCommand("indent"),c.contentDOM.removeEventListener("beforeinput",a,!0),!l)return null;let h=l.startContainer,d=l.startOffset,f=l.endContainer,p=l.endOffset,g=c.docView.domAtPos(c.state.selection.main.anchor);return BA(g.node,g.offset,f,p)&&([h,d,f,p]=[f,p,h,d]),{anchorNode:h,anchorOffset:d,focusNode:f,focusOffset:p}}(this.view)||NA(l.root);if(!a||this.selectionRange.eq(a))return!1;let h=FA(this.dom,a);return h&&!this.selectionChanged&&l.inputState.lastFocusTime>Date.now()-200&&l.inputState.lastTouchTime<Date.now()-300&&function Hpt(c,l){let a=l.focusNode,h=l.focusOffset;if(!a||l.anchorNode!=a||l.anchorOffset!=h)return!1;for(h=Math.min(h,Yp(a));;)if(h){if(1!=a.nodeType)return!1;let d=a.childNodes[h-1];"false"==d.contentEditable?h--:(a=d,h=Yp(a))}else{if(a==c)return!0;h=sT(a),a=a.parentNode}}(this.dom,a)?(this.view.inputState.lastFocusTime=0,l.docView.updateSelection(),!1):(this.selectionRange.setRange(a),h&&(this.selectionChanged=!0),!0)}setSelectionRange(l,a){this.selectionRange.set(l.node,l.offset,a.node,a.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let l=0,a=null;for(let h=this.dom;h;)if(1==h.nodeType)!a&&l<this.scrollTargets.length&&this.scrollTargets[l]==h?l++:a||(a=this.scrollTargets.slice(0,l)),a&&a.push(h),h=h.assignedSlot||h.parentNode;else{if(11!=h.nodeType)break;h=h.host}if(l<this.scrollTargets.length&&!a&&(a=this.scrollTargets.slice(0,l)),a){for(let h of this.scrollTargets)h.removeEventListener("scroll",this.onScroll);for(let h of this.scrollTargets=a)h.addEventListener("scroll",this.onScroll)}}ignore(l){if(!this.active)return l();try{return this.stop(),l()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,emt),kH&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),kH&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(l,a){var h;this.delayedAndroidKey||(this.flushingAndroidKey=this.view.win.requestAnimationFrame(()=>{let f=this.delayedAndroidKey;f&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=f.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&f.force&&wO(this.dom,f.key,f.keyCode))})),(!this.delayedAndroidKey||"Enter"==l)&&(this.delayedAndroidKey={key:l,keyCode:a,force:this.lastChange<Date.now()-50||!(null===(h=this.delayedAndroidKey)||void 0===h||!h.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let l of this.observer.takeRecords())this.queue.push(l);return this.queue}processRecords(){let l=this.pendingRecords();l.length&&(this.queue=[]);let a=-1,h=-1,d=!1;for(let f of l){let p=this.readMutation(f);p&&(p.typeOver&&(d=!0),-1==a?({from:a,to:h}=p):(a=Math.min(p.from,a),h=Math.max(p.to,h)))}return{from:a,to:h,typeOver:d}}readChange(){let{from:l,to:a,typeOver:h}=this.processRecords(),d=this.selectionChanged&&FA(this.dom,this.selectionRange);if(l<0&&!d)return null;l>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let f=new Xgt(this.view,l,a,h);return this.view.docView.domChanged={newSel:f.newSel?f.newSel.main:null},f}flush(l=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;l&&this.readSelectionRange();let a=this.readChange();if(!a)return this.view.requestMeasure(),!1;let h=this.view.state,d=j_e(this.view,a);return this.view.state==h&&this.view.update([]),d}readMutation(l){let a=this.view.docView.nearest(l.target);if(!a||a.ignoreMutation(l))return null;if(a.markDirty("attributes"==l.type),"attributes"==l.type&&(a.flags|=4),"childList"==l.type){let h=G_e(a,l.previousSibling||l.target.previousSibling,-1),d=G_e(a,l.nextSibling||l.target.nextSibling,1);return{from:h?a.posAfter(h):a.posAtStart,to:d?a.posBefore(d):a.posAtEnd,typeOver:!1}}return"characterData"==l.type?{from:a.posAtStart,to:a.posAtEnd,typeOver:l.target.nodeValue==l.oldValue}:null}setWindow(l){l!=this.win&&(this.removeWindowListeners(this.win),this.win=l,this.addWindowListeners(this.win))}addWindowListeners(l){l.addEventListener("resize",this.onResize),l.addEventListener("beforeprint",this.onPrint),l.addEventListener("scroll",this.onScroll),l.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(l){l.removeEventListener("scroll",this.onScroll),l.removeEventListener("resize",this.onResize),l.removeEventListener("beforeprint",this.onPrint),l.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var l,a,h;this.stop(),null===(l=this.intersection)||void 0===l||l.disconnect(),null===(a=this.gapIntersection)||void 0===a||a.disconnect(),null===(h=this.resizeScroll)||void 0===h||h.disconnect();for(let d of this.scrollTargets)d.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function G_e(c,l,a){for(;l;){let h=As.get(l);if(h&&h.parent==c)return h;let d=l.parentNode;l=d!=c.dom?d:a>0?l.nextSibling:l.previousSibling}return null}let yi=(()=>{class c{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(a={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),a.parent&&a.parent.appendChild(this.dom);let{dispatch:h}=a;this.dispatchTransactions=a.dispatchTransactions||h&&(d=>d.forEach(f=>h(f,this)))||(d=>this.update(d)),this.dispatch=this.dispatch.bind(this),this._root=a.root||function Qpt(c){for(;c;){if(c&&(9==c.nodeType||11==c.nodeType&&c.host))return c;c=c.assignedSlot||c.parentNode}return null}(a.parent)||document,this.viewState=new $_e(a.state||vl.create(a)),a.scrollTo&&a.scrollTo.is(UA)&&(this.viewState.scrollTarget=a.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(cT).map(d=>new dH(d));for(let d of this.plugins)d.update(this);this.observer=new tmt(this),this.inputState=new ygt(this),this.inputState.ensureHandlers(this.plugins),this.docView=new a_e(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...a){let h=1==a.length&&a[0]instanceof wf?a:1==a.length&&Array.isArray(a[0])?a[0]:[this.state.update(...a)];this.dispatchTransactions(h,this)}update(a){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let f,h=!1,d=!1,p=this.state;for(let O of a){if(O.startState!=p)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");p=O.state}if(this.destroyed)return void(this.viewState.state=p);let g=this.hasFocus,m=0,v=null;a.some(O=>O.annotation(P_e))?(this.inputState.notifiedFocused=g,m=1):g!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=g,v=A_e(p,g),v||(m=1));let _=this.observer.delayedAndroidKey,y=null;if(_?(this.observer.clearDelayedAndroidKey(),y=this.observer.readChange(),(y&&!this.state.doc.eq(p.doc)||!this.state.selection.eq(p.selection))&&(y=null)):this.observer.clear(),p.facet(vl.phrases)!=this.state.facet(vl.phrases))return this.setState(p);f=WA.create(this,p,a),f.flags|=m;let b=this.viewState.scrollTarget;try{this.updateState=2;for(let O of a){if(b&&(b=b.map(O.changes)),O.scrollIntoView){let{main:C}=O.state.selection;b=new TO(C.empty?C:Rt.cursor(C.head,C.head>C.anchor?-1:1))}for(let C of O.effects)C.is(UA)&&(b=C.value.clip(this.state))}this.viewState.update(f,b),this.bidiCache=eI.update(this.bidiCache,f.changes),f.empty||(this.updatePlugins(f),this.inputState.update(f)),h=this.docView.update(f),this.state.facet(hT)!=this.styleModules&&this.mountStyles(),d=this.updateAttrs(),this.showAnnouncements(a),this.docView.updateSelection(h,a.some(O=>O.isUserEvent("select.pointer")))}finally{this.updateState=0}if(f.startState.facet(JA)!=f.state.facet(JA)&&(this.viewState.mustMeasureContent=!0),(h||d||b||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!f.empty)for(let O of this.state.facet(hH))try{O(f)}catch(C){fh(this.state,C,"update listener")}(v||y)&&Promise.resolve().then(()=>{v&&this.state==v.startState&&this.dispatch(v),y&&!j_e(this,y)&&_.force&&wO(this.contentDOM,_.key,_.keyCode)})}setState(a){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=a);this.updateState=2;let h=this.hasFocus;try{for(let d of this.plugins)d.destroy(this);this.viewState=new $_e(a),this.plugins=a.facet(cT).map(d=>new dH(d)),this.pluginMap.clear();for(let d of this.plugins)d.update(this);this.docView.destroy(),this.docView=new a_e(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}h&&this.focus(),this.requestMeasure()}updatePlugins(a){let h=a.startState.facet(cT),d=a.state.facet(cT);if(h!=d){let f=[];for(let p of d){let g=h.indexOf(p);if(g<0)f.push(new dH(p));else{let m=this.plugins[g];m.mustUpdate=a,f.push(m)}}for(let p of this.plugins)p.mustUpdate!=a&&p.destroy(this);this.plugins=f,this.pluginMap.clear()}else for(let f of this.plugins)f.mustUpdate=a;for(let f=0;f<this.plugins.length;f++)this.plugins[f].update(this);h!=d&&this.inputState.ensureHandlers(this.plugins)}measure(a=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,a&&this.observer.forceFlush();let h=null,d=this.scrollDOM,f=d.scrollTop*this.scaleY,{scrollAnchorPos:p,scrollAnchorHeight:g}=this.viewState;Math.abs(f-this.viewState.scrollTop)>1&&(g=-1),this.viewState.scrollAnchorHeight=-1;try{for(let m=0;;m++){if(g<0)if(xve(d))p=-1,g=this.viewState.heightMap.height;else{let C=this.viewState.scrollAnchorAt(f);p=C.from,g=C.top}this.updateState=1;let v=this.viewState.measure(this);if(!v&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(m>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let _=[];4&v||([this.measureRequests,_]=[_,this.measureRequests]);let y=_.map(C=>{try{return C.read(this)}catch(S){return fh(this.state,S),X_e}}),b=WA.create(this,this.state,[]),O=!1;b.flags|=v,h?h.flags|=v:h=b,this.updateState=2,b.empty||(this.updatePlugins(b),this.inputState.update(b),this.updateAttrs(),O=this.docView.update(b));for(let C=0;C<_.length;C++)if(y[C]!=X_e)try{let S=_[C];S.write&&S.write(y[C],this)}catch(S){fh(this.state,S)}if(O&&this.docView.updateSelection(!0),!b.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,g=-1;continue}{let S=(p<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(p).top)-g;if(S>1||S<-1){f+=S,d.scrollTop=f/this.scaleY,g=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(h&&!h.empty)for(let m of this.state.facet(hH))m(h)}get themeClasses(){return xH+" "+(this.state.facet(wH)?Q_e:U_e)+" "+this.state.facet(JA)}updateAttrs(){let a=Y_e(this,Xve,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),h={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(QA)?"true":"false",class:"cm-content",style:`${qn.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(h["aria-readonly"]="true"),Y_e(this,HA,h);let d=this.observer.ignore(()=>{let f=cH(this.contentDOM,this.contentAttrs,h),p=cH(this.dom,this.editorAttrs,a);return f||p});return this.editorAttrs=a,this.contentAttrs=h,d}showAnnouncements(a){let h=!0;for(let d of a)for(let f of d.effects)f.is(c.announce)&&(h&&(this.announceDOM.textContent=""),h=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=f.value)}mountStyles(){this.styleModules=this.state.facet(hT);let a=this.state.facet(c.cspNonce);Em.mount(this.root,this.styleModules.concat(Zgt).reverse(),a?{nonce:a}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(a){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),a){if(this.measureRequests.indexOf(a)>-1)return;if(null!=a.key)for(let h=0;h<this.measureRequests.length;h++)if(this.measureRequests[h].key===a.key)return void(this.measureRequests[h]=a);this.measureRequests.push(a)}}plugin(a){let h=this.pluginMap.get(a);return(void 0===h||h&&h.spec!=a)&&this.pluginMap.set(a,h=this.plugins.find(d=>d.spec==a)||null),h&&h.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(a){return this.readMeasured(),this.viewState.elementAtHeight(a)}lineBlockAtHeight(a){return this.readMeasured(),this.viewState.lineBlockAtHeight(a)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(a){return this.viewState.lineBlockAt(a)}get contentHeight(){return this.viewState.contentHeight}moveByChar(a,h,d){return bH(this,a,m_e(this,a,h,d))}moveByGroup(a,h){return bH(this,a,m_e(this,a,h,d=>function vgt(c,l,a){let h=c.state.charCategorizer(l),d=h(a);return f=>{let p=h(f);return d==Us.Space&&(d=p),d==p}}(this,a.head,d)))}moveToLineBoundary(a,h,d=!0){return function mgt(c,l,a,h){let d=yH(c,l.head),f=h&&d.type==rc.Text&&(c.lineWrapping||d.widgetLineBreaks)?c.coordsAtPos(l.assoc<0&&l.head>d.from?l.head-1:l.head):null;if(f){let p=c.dom.getBoundingClientRect(),g=c.textDirectionAt(d.from),m=c.posAtCoords({x:a==(g==qs.LTR)?p.right-1:p.left+1,y:(f.top+f.bottom)/2});if(null!=m)return Rt.cursor(m,a?-1:1)}return Rt.cursor(a?d.to:d.from,a?-1:1)}(this,a,h,d)}moveVertically(a,h,d){return bH(this,a,function _gt(c,l,a,h){let d=l.head,f=a?1:-1;if(d==(a?c.state.doc.length:0))return Rt.cursor(d,l.assoc);let g,p=l.goalColumn,m=c.contentDOM.getBoundingClientRect(),v=c.coordsAtPos(d,l.assoc||-1),_=c.documentTop;if(v)null==p&&(p=v.left-m.left),g=f<0?v.top:v.bottom;else{let O=c.viewState.lineBlockAt(d);null==p&&(p=Math.min(m.right-m.left,c.defaultCharacterWidth*(d-O.from))),g=(f<0?O.top:O.bottom)+_}let y=m.left+p,b=h??c.viewState.heightOracle.textHeight>>1;for(let O=0;;O+=10){let C=g+(b+O)*f,S=p_e(c,{x:y,y:C},!1,f);if(C<m.top||C>m.bottom||(f<0?S<d:S>d)){let w=c.docView.coordsForChar(S);return Rt.cursor(S,!w||C<w.top?-1:1,void 0,p)}}}(this,a,h,d))}domAtPos(a){return this.docView.domAtPos(a)}posAtDOM(a,h=0){return this.docView.posFromDOM(a,h)}posAtCoords(a,h=!0){return this.readMeasured(),p_e(this,a,h)}coordsAtPos(a,h=1){this.readMeasured();let d=this.docView.coordsAt(a,h);if(!d||d.left==d.right)return d;let f=this.state.doc.lineAt(a),p=this.bidiSpans(f);return VA(d,p[Lm.find(p,a-f.from,-1,h)].dir==qs.LTR==h>0)}coordsForChar(a){return this.readMeasured(),this.docView.coordsForChar(a)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(a){return!this.state.facet(jve)||a<this.viewport.from||a>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(a))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(a){if(a.length>imt)return r_e(a.length);let d,h=this.textDirectionAt(a.from);for(let p of this.bidiCache)if(p.from==a.from&&p.dir==h&&(p.fresh||n_e(p.isolates,d=qve(this,a.from,a.to))))return p.order;d||(d=qve(this,a.from,a.to));let f=function i_e(c,l,a){if(!c)return[new Lm(0,0,l==e_e?1:0)];if(l==dT&&!a.length&&!egt.test(c))return r_e(c.length);if(a.length)for(;c.length>bs.length;)bs[bs.length]=256;let h=[],d=l==dT?0:1;return mH(c,d,d,a,0,c.length,h),h}(a.text,h,d);return this.bidiCache.push(new eI(a.from,a.to,h,d,!0,f)),f}get hasFocus(){var a;return(this.dom.ownerDocument.hasFocus()||qn.safari&&(null===(a=this.inputState)||void 0===a?void 0:a.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Cve(this.contentDOM),this.docView.updateSelection()})}setRoot(a){this._root!=a&&(this._root=a,this.observer.setWindow((9==a.nodeType?a:a.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let a of this.plugins)a.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(a,h={}){return UA.of(new TO("number"==typeof a?Rt.cursor(a):a,h.y,h.x,h.yMargin,h.xMargin))}scrollSnapshot(){let{scrollTop:a,scrollLeft:h}=this.scrollDOM,d=this.viewState.scrollAnchorAt(a);return UA.of(new TO(Rt.cursor(d.from),"start","start",d.top-a,h,!0))}static domEventHandlers(a){return mo.define(()=>({}),{eventHandlers:a})}static domEventObservers(a){return mo.define(()=>({}),{eventObservers:a})}static theme(a,h){let d=Em.newName(),f=[JA.of(d),hT.of(TH(`.${d}`,a))];return h&&h.dark&&f.push(wH.of(!0)),f}static baseTheme(a){return fv.lowest(hT.of(TH("."+xH,a,H_e)))}static findFromDOM(a){var h;let d=a.querySelector(".cm-content"),f=d&&As.get(d)||As.get(a);return(null===(h=f?.rootView)||void 0===h?void 0:h.view)||null}}return c.styleModule=hT,c.inputHandler=Wve,c.focusChangeEffect=Zve,c.perLineTextDirection=jve,c.exceptionSink=Hve,c.updateListener=hH,c.editable=QA,c.mouseSelectionStyle=Qve,c.dragMovesSelection=Uve,c.clickAddsSelectionRange=zve,c.decorations=uT,c.atomicRanges=fH,c.bidiIsolatedRanges=Yve,c.scrollMargins=Kve,c.darkTheme=wH,c.cspNonce=$n.define({combine:l=>l.length?l[0]:""}),c.contentAttributes=HA,c.editorAttributes=Xve,c.lineWrapping=c.contentAttributes.of({class:"cm-lineWrapping"}),c.announce=or.define(),c})();const imt=4096,X_e={};class eI{constructor(l,a,h,d,f,p){this.from=l,this.to=a,this.dir=h,this.isolates=d,this.fresh=f,this.order=p}static update(l,a){if(a.empty&&!l.some(f=>f.fresh))return l;let h=[],d=l.length?l[l.length-1].dir:qs.LTR;for(let f=Math.max(0,l.length-10);f<l.length;f++){let p=l[f];p.dir==d&&!a.touchesRange(p.from,p.to)&&h.push(new eI(a.mapPos(p.from,1),a.mapPos(p.to,-1),p.dir,p.isolates,!1,p.order))}return h}}function Y_e(c,l,a){for(let h=c.state.facet(l),d=h.length-1;d>=0;d--){let f=h[d],p="function"==typeof f?f(c):f;p&&aH(p,a)}return a}const rmt=qn.mac?"mac":qn.windows?"win":qn.linux?"linux":"key";function tI(c,l,a){return l.altKey&&(c="Alt-"+c),l.ctrlKey&&(c="Ctrl-"+c),l.metaKey&&(c="Meta-"+c),!1!==a&&l.shiftKey&&(c="Shift-"+c),c}const omt=fv.default(yi.domEventHandlers({keydown:(c,l)=>J_e(K_e(l.state),c,l,"editor")})),gT=$n.define({enables:omt}),q_e=new WeakMap;function K_e(c){let l=c.facet(gT),a=q_e.get(l);return a||q_e.set(l,a=function cmt(c,l=rmt){let a=Object.create(null),h=Object.create(null),d=(p,g)=>{let m=h[p];if(null==m)h[p]=g;else if(m!=g)throw new Error("Key binding "+p+" is used both as a regular binding and as a multi-stroke prefix")},f=(p,g,m,v,_)=>{var y,b;let O=a[p]||(a[p]=Object.create(null)),C=g.split(/ (?!$)/).map(x=>function smt(c,l){const a=c.split(/-(?!$)/);let d,f,p,g,h=a[a.length-1];"Space"==h&&(h=" ");for(let m=0;m<a.length-1;++m){const v=a[m];if(/^(cmd|meta|m)$/i.test(v))g=!0;else if(/^a(lt)?$/i.test(v))d=!0;else if(/^(c|ctrl|control)$/i.test(v))f=!0;else if(/^s(hift)?$/i.test(v))p=!0;else{if(!/^mod$/i.test(v))throw new Error("Unrecognized modifier name: "+v);"mac"==l?g=!0:f=!0}}return d&&(h="Alt-"+h),f&&(h="Ctrl-"+h),g&&(h="Meta-"+h),p&&(h="Shift-"+h),h}(x,l));for(let x=1;x<C.length;x++){let T=C.slice(0,x).join(" ");d(T,!0),O[T]||(O[T]={preventDefault:!0,stopPropagation:!1,run:[D=>{let k=Nm={view:D,prefix:T,scope:p};return setTimeout(()=>{Nm==k&&(Nm=null)},lmt),!0}]})}let S=C.join(" ");d(S,!1);let w=O[S]||(O[S]={preventDefault:!1,stopPropagation:!1,run:(null===(b=null===(y=O._any)||void 0===y?void 0:y.run)||void 0===b?void 0:b.slice())||[]});m&&w.run.push(m),v&&(w.preventDefault=!0),_&&(w.stopPropagation=!0)};for(let p of c){let g=p.scope?p.scope.split(" "):["editor"];if(p.any)for(let v of g){let _=a[v]||(a[v]=Object.create(null));_._any||(_._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let y in _)_[y].run.push(p.any)}let m=p[l]||p.key;if(m)for(let v of g)f(v,m,p.run,p.preventDefault,p.stopPropagation),p.shift&&f(v,"Shift-"+m,p.shift,p.preventDefault,p.stopPropagation)}return a}(l.reduce((h,d)=>h.concat(d),[]))),a}let Nm=null;const lmt=4e3;function J_e(c,l,a,h){let d=function Fpt(c){var a=!(Lpt&&c.metaKey&&c.shiftKey&&!c.ctrlKey&&!c.altKey||Npt&&c.shiftKey&&c.key&&1==c.key.length||"Unidentified"==c.key)&&c.key||(c.shiftKey?rT:Pm)[c.keyCode]||c.key||"Unidentified";return"Esc"==a&&(a="Escape"),"Del"==a&&(a="Delete"),"Left"==a&&(a="ArrowLeft"),"Up"==a&&(a="ArrowUp"),"Right"==a&&(a="ArrowRight"),"Down"==a&&(a="ArrowDown"),a}(l),p=dh(ja(d,0))==d.length&&" "!=d,g="",m=!1,v=!1,_=!1;Nm&&Nm.view==a&&Nm.scope==h&&(g=Nm.prefix+" ",y_e.indexOf(l.keyCode)<0&&(v=!0,Nm=null));let C,S,y=new Set,b=w=>{if(w){for(let x of w.run)if(!y.has(x)&&(y.add(x),x(a,l)))return w.stopPropagation&&(_=!0),!0;w.preventDefault&&(w.stopPropagation&&(_=!0),v=!0)}return!1},O=c[h];return O&&(b(O[g+tI(d,l,!p)])?m=!0:p&&(l.altKey||l.metaKey||l.ctrlKey)&&!(qn.windows&&l.ctrlKey&&l.altKey)&&(C=Pm[l.keyCode])&&C!=d?(b(O[g+tI(C,l,!0)])||l.shiftKey&&(S=rT[l.keyCode])!=d&&S!=C&&b(O[g+tI(S,l,!1)]))&&(m=!0):p&&l.shiftKey&&b(O[g+tI(d,l,!0)])&&(m=!0),!m&&b(O._any)&&(m=!0)),v&&(m=!0),m&&_&&l.stopPropagation(),m}class mT{constructor(l,a,h,d,f){this.className=l,this.left=a,this.top=h,this.width=d,this.height=f}draw(){let l=document.createElement("div");return l.className=this.className,this.adjust(l),l}update(l,a){return a.className==this.className&&(this.adjust(l),!0)}adjust(l){l.style.left=this.left+"px",l.style.top=this.top+"px",null!=this.width&&(l.style.width=this.width+"px"),l.style.height=this.height+"px"}eq(l){return this.left==l.left&&this.top==l.top&&this.width==l.width&&this.height==l.height&&this.className==l.className}static forRange(l,a,h){if(h.empty){let d=l.coordsAtPos(h.head,h.assoc||1);if(!d)return[];let f=eye(l);return[new mT(a,d.left-f.left,d.top-f.top,null,d.bottom-d.top)]}return function umt(c,l,a){if(a.to<=c.viewport.from||a.from>=c.viewport.to)return[];let h=Math.max(a.from,c.viewport.from),d=Math.min(a.to,c.viewport.to),f=c.textDirection==qs.LTR,p=c.contentDOM,g=p.getBoundingClientRect(),m=eye(c),v=p.querySelector(".cm-line"),_=v&&window.getComputedStyle(v),y=g.left+(_?parseInt(_.paddingLeft)+Math.min(0,parseInt(_.textIndent)):0),b=g.right-(_?parseInt(_.paddingRight):0),O=yH(c,h),C=yH(c,d),S=O.type==rc.Text?O:null,w=C.type==rc.Text?C:null;if(S&&(c.lineWrapping||O.widgetLineBreaks)&&(S=tye(c,h,S)),w&&(c.lineWrapping||C.widgetLineBreaks)&&(w=tye(c,d,w)),S&&w&&S.from==w.from)return T(D(a.from,a.to,S));{let P=S?D(a.from,null,S):k(O,!1),N=w?D(null,a.to,w):k(C,!0),F=[];return(S||O).to<(w||C).from-(S&&w?1:0)||O.widgetLineBreaks>1&&P.bottom+c.defaultLineHeight/2<N.top?F.push(x(y,P.bottom,b,N.top)):P.bottom<N.top&&c.elementAtHeight((P.bottom+N.top)/2).type==rc.Text&&(P.bottom=N.top=(P.bottom+N.top)/2),T(P).concat(F).concat(T(N))}function x(P,N,F,L){return new mT(l,P-m.left,N-m.top-.01,F-P,L-N+.01)}function T({top:P,bottom:N,horizontal:F}){let L=[];for(let $=0;$<F.length;$+=2)L.push(x(F[$],P,F[$+1],N));return L}function D(P,N,F){let L=1e9,$=-1e9,U=[];function z(B,j,W,q,G){let K=c.coordsAtPos(B,B==F.to?-2:2),J=c.coordsAtPos(W,W==F.from?2:-2);!K||!J||(L=Math.min(K.top,J.top,L),$=Math.max(K.bottom,J.bottom,$),G==qs.LTR?U.push(f&&j?y:K.left,f&&q?b:J.right):U.push(!f&&q?y:J.left,!f&&j?b:K.right))}let ee=P??F.from,te=N??F.to;for(let B of c.visibleRanges)if(B.to>ee&&B.from<te)for(let j=Math.max(B.from,ee),W=Math.min(B.to,te);;){let q=c.state.doc.lineAt(j);for(let G of c.bidiSpans(q)){let K=G.from+q.from,J=G.to+q.from;if(K>=W)break;J>j&&z(Math.max(K,j),null==P&&K<=ee,Math.min(J,W),null==N&&J>=te,G.dir)}if(j=q.to+1,j>=W)break}return 0==U.length&&z(ee,null==P,te,null==N,c.textDirection),{top:L,bottom:$,horizontal:U}}function k(P,N){let F=g.top+(N?P.top:P.bottom);return{top:F,bottom:F,horizontal:[]}}}(l,a,h)}}function eye(c){let l=c.scrollDOM.getBoundingClientRect();return{left:(c.textDirection==qs.LTR?l.left:l.right-c.scrollDOM.clientWidth*c.scaleX)-c.scrollDOM.scrollLeft*c.scaleX,top:l.top-c.scrollDOM.scrollTop*c.scaleY}}function tye(c,l,a){let h=Rt.cursor(l);return{from:Math.max(a.from,c.moveToLineBoundary(h,!1,!0).from),to:Math.min(a.to,c.moveToLineBoundary(h,!0,!0).from),type:rc.Text}}class dmt{constructor(l,a){this.view=l,this.layer=a,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=l.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),a.above&&this.dom.classList.add("cm-layer-above"),a.class&&this.dom.classList.add(a.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(l.state),l.requestMeasure(this.measureReq),a.mount&&a.mount(this.dom,l)}update(l){l.startState.facet(nI)!=l.state.facet(nI)&&this.setOrder(l.state),(this.layer.update(l,this.dom)||l.geometryChanged)&&(this.scale(),l.view.requestMeasure(this.measureReq))}setOrder(l){let a=0,h=l.facet(nI);for(;a<h.length&&h[a]!=this.layer;)a++;this.dom.style.zIndex=String((this.layer.above?150:-1)-a)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:l,scaleY:a}=this.view;(l!=this.scaleX||a!=this.scaleY)&&(this.scaleX=l,this.scaleY=a,this.dom.style.transform=`scale(${1/l}, ${1/a})`)}draw(l){if(l.length!=this.drawn.length||l.some((a,h)=>!function hmt(c,l){return c.constructor==l.constructor&&c.eq(l)}(a,this.drawn[h]))){let a=this.dom.firstChild,h=0;for(let d of l)d.update&&a&&d.constructor&&this.drawn[h].constructor&&d.update(a,this.drawn[h])?(a=a.nextSibling,h++):this.dom.insertBefore(d.draw(),a);for(;a;){let d=a.nextSibling;a.remove(),a=d}this.drawn=l}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const nI=$n.define();function nye(c){return[mo.define(l=>new dmt(l,c)),nI.of(c)]}const iye=!qn.ios,kO=$n.define({combine:c=>ud(c,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(l,a)=>Math.min(l,a),drawRangeCursor:(l,a)=>l||a})});function fmt(c={}){return[kO.of(c),pmt,gmt,mmt,Gve.of(!0)]}function rye(c){return c.startState.facet(kO)!=c.state.facet(kO)}const pmt=nye({above:!0,markers(c){let{state:l}=c,a=l.facet(kO),h=[];for(let d of l.selection.ranges){let f=d==l.selection.main;if(d.empty?!f||iye:a.drawRangeCursor){let p=f?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",g=d.empty?d:Rt.cursor(d.head,d.head>d.anchor?-1:1);for(let m of mT.forRange(c,p,g))h.push(m)}}return h},update(c,l){c.transactions.some(h=>h.selection)&&(l.style.animationName="cm-blink"==l.style.animationName?"cm-blink2":"cm-blink");let a=rye(c);return a&&sye(c.state,l),c.docChanged||c.selectionSet||a},mount(c,l){sye(l.state,c)},class:"cm-cursorLayer"});function sye(c,l){l.style.animationDuration=c.facet(kO).cursorBlinkRate+"ms"}const gmt=nye({above:!1,markers:c=>c.state.selection.ranges.map(l=>l.empty?[]:mT.forRange(c,"cm-selectionBackground",l)).reduce((l,a)=>l.concat(a)),update:(c,l)=>c.docChanged||c.selectionSet||c.viewportChanged||rye(c),class:"cm-selectionLayer"}),DH={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};iye&&(DH[".cm-line"].caretColor="transparent !important",DH[".cm-content"]={caretColor:"transparent !important"});const mmt=fv.highest(yi.theme(DH)),oye=or.define({map:(c,l)=>null==c?null:l.mapPos(c)}),vT=go.define({create:()=>null,update:(c,l)=>(null!=c&&(c=l.changes.mapPos(c)),l.effects.reduce((a,h)=>h.is(oye)?h.value:a,c))}),vmt=mo.fromClass(class{constructor(c){this.view=c,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(c){var l;let a=c.state.field(vT);null==a?null!=this.cursor&&(null===(l=this.cursor)||void 0===l||l.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(c.startState.field(vT)!=a||c.docChanged||c.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:c}=this,l=c.state.field(vT),a=null!=l&&c.coordsAtPos(l);if(!a)return null;let h=c.scrollDOM.getBoundingClientRect();return{left:a.left-h.left+c.scrollDOM.scrollLeft*c.scaleX,top:a.top-h.top+c.scrollDOM.scrollTop*c.scaleY,height:a.bottom-a.top}}drawCursor(c){if(this.cursor){let{scaleX:l,scaleY:a}=this.view;c?(this.cursor.style.left=c.left/l+"px",this.cursor.style.top=c.top/a+"px",this.cursor.style.height=c.height/a+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(c){this.view.state.field(vT)!=c&&this.view.dispatch({effects:oye.of(c)})}},{eventObservers:{dragover(c){this.setDropPos(this.view.posAtCoords({x:c.clientX,y:c.clientY}))},dragleave(c){(c.target==this.view.contentDOM||!this.view.contentDOM.contains(c.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function aye(c,l,a,h,d){l.lastIndex=0;for(let g,f=c.iterRange(a,h),p=a;!f.next().done;p+=f.value.length)if(!f.lineBreak)for(;g=l.exec(f.value);)d(p+g.index,g)}class MH{constructor(l){const{regexp:a,decoration:h,decorate:d,boundary:f,maxLength:p=1e3}=l;if(!a.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=a,d)this.addMatch=(g,m,v,_)=>d(_,v,v+g[0].length,g,m);else if("function"==typeof h)this.addMatch=(g,m,v,_)=>{let y=h(g,m,v);y&&_(v,v+g[0].length,y)};else{if(!h)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(g,m,v,_)=>_(v,v+g[0].length,h)}this.boundary=f,this.maxLength=p}createDeco(l){let a=new Mm,h=a.add.bind(a);for(let{from:d,to:f}of function ymt(c,l){let a=c.visibleRanges;if(1==a.length&&a[0].from==c.viewport.from&&a[0].to==c.viewport.to)return a;let h=[];for(let{from:d,to:f}of a)d=Math.max(c.state.doc.lineAt(d).from,d-l),f=Math.min(c.state.doc.lineAt(f).to,f+l),h.length&&h[h.length-1].to>=d?h[h.length-1].to=f:h.push({from:d,to:f});return h}(l,this.maxLength))aye(l.state.doc,this.regexp,d,f,(p,g)=>this.addMatch(g,l,p,h));return a.finish()}updateDeco(l,a){let h=1e9,d=-1;return l.docChanged&&l.changes.iterChanges((f,p,g,m)=>{m>l.view.viewport.from&&g<l.view.viewport.to&&(h=Math.min(g,h),d=Math.max(m,d))}),l.viewportChanged||d-h>1e3?this.createDeco(l.view):d>-1?this.updateRange(l.view,a.map(l.changes),h,d):a}updateRange(l,a,h,d){for(let f of l.visibleRanges){let p=Math.max(f.from,h),g=Math.min(f.to,d);if(g>p){let m=l.state.doc.lineAt(p),v=m.to<g?l.state.doc.lineAt(g):m,_=Math.max(f.from,m.from),y=Math.min(f.to,v.to);if(this.boundary){for(;p>m.from;p--)if(this.boundary.test(m.text[p-1-m.from])){_=p;break}for(;g<v.to;g++)if(this.boundary.test(v.text[g-v.from])){y=g;break}}let O,b=[],C=(S,w,x)=>b.push(x.range(S,w));if(m==v)for(this.regexp.lastIndex=_-m.from;(O=this.regexp.exec(m.text))&&O.index<y-m.from;)this.addMatch(O,l,O.index+m.from,C);else aye(l.state.doc,this.regexp,_,y,(S,w)=>this.addMatch(w,l,S,C));a=a.update({filterFrom:_,filterTo:y,filter:(S,w)=>S<_||w>y,add:b})}}return a}}const EH=null!=/x/.unicode?"gu":"g",bmt=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",EH),Omt={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let PH=null;const iI=$n.define({combine(c){let l=ud(c,{render:null,specialChars:bmt,addSpecialChars:null});return(l.replaceTabs=!function Cmt(){var c;if(null==PH&&typeof document<"u"&&document.body){let l=document.body.style;PH=null!=(null!==(c=l.tabSize)&&void 0!==c?c:l.MozTabSize)}return PH||!1}())&&(l.specialChars=new RegExp("\t|"+l.specialChars.source,EH)),l.addSpecialChars&&(l.specialChars=new RegExp(l.specialChars.source+"|"+l.addSpecialChars.source,EH)),l}});function Smt(c={}){return[iI.of(c),lye||(lye=mo.fromClass(class{constructor(c){this.view=c,this.decorations=ii.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(c.state.facet(iI)),this.decorations=this.decorator.createDeco(c)}makeDecorator(c){return new MH({regexp:c.specialChars,decoration:(l,a,h)=>{let{doc:d}=a.state,f=ja(l[0],0);if(9==f){let p=d.lineAt(h),g=a.state.tabSize,m=OO(p.text,g,h-p.from);return ii.replace({widget:new Dmt((g-m%g)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[f]||(this.decorationCache[f]=ii.replace({widget:new kmt(c,f)}))},boundary:c.replaceTabs?void 0:/[^]/})}update(c){let l=c.state.facet(iI);c.startState.facet(iI)!=l?(this.decorator=this.makeDecorator(l),this.decorations=this.decorator.createDeco(c.view)):this.decorations=this.decorator.updateDeco(c,this.decorations)}},{decorations:c=>c.decorations}))]}let lye=null;class kmt extends Jp{constructor(l,a){super(),this.options=l,this.code=a}eq(l){return l.code==this.code}toDOM(l){let a=function Tmt(c){return c>=32?"\u2022":10==c?"\u2424":String.fromCharCode(9216+c)}(this.code),h=l.state.phrase("Control character")+" "+(Omt[this.code]||"0x"+this.code.toString(16)),d=this.options.render&&this.options.render(this.code,h,a);if(d)return d;let f=document.createElement("span");return f.textContent=a,f.title=h,f.setAttribute("aria-label",h),f.className="cm-specialChar",f}ignoreEvent(){return!1}}class Dmt extends Jp{constructor(l){super(),this.width=l}eq(l){return l.width==this.width}toDOM(){let l=document.createElement("span");return l.textContent="\t",l.className="cm-tab",l.style.width=this.width+"px",l}ignoreEvent(){return!1}}const Emt=ii.line({class:"cm-activeLine"}),Pmt=mo.fromClass(class{constructor(c){this.decorations=this.getDeco(c)}update(c){(c.docChanged||c.selectionSet)&&(this.decorations=this.getDeco(c.view))}getDeco(c){let l=-1,a=[];for(let h of c.state.selection.ranges){let d=c.lineBlockAt(h.head);d.from>l&&(a.push(Emt.range(d.from)),l=d.from)}return ii.set(a)}},{decorations:c=>c.decorations}),AH=2e3;function uye(c,l){let a=c.posAtCoords({x:l.clientX,y:l.clientY},!1),h=c.state.doc.lineAt(a),d=a-h.from,f=d>AH?-1:d==h.length?function Rmt(c,l){let a=c.coordsAtPos(c.viewport.from);return a?Math.round(Math.abs((a.left-l)/c.defaultCharacterWidth)):-1}(c,l.clientX):OO(h.text,c.state.tabSize,a-h.from);return{line:h.number,col:f,off:d}}function Nmt(c){let l=c?.eventFilter||(a=>a.altKey&&0==a.button);return yi.mouseSelectionStyle.of((a,h)=>l(h)?function Lmt(c,l){let a=uye(c,l),h=c.state.selection;return a?{update(d){if(d.docChanged){let f=d.changes.mapPos(d.startState.doc.line(a.line).from),p=d.state.doc.lineAt(f);a={line:p.number,col:a.col,off:Math.min(a.off,p.length)},h=h.map(d.changes)}},get(d,f,p){let g=uye(c,d);if(!g)return h;let m=function Imt(c,l,a){let h=Math.min(l.line,a.line),d=Math.max(l.line,a.line),f=[];if(l.off>AH||a.off>AH||l.col<0||a.col<0){let p=Math.min(l.off,a.off),g=Math.max(l.off,a.off);for(let m=h;m<=d;m++){let v=c.doc.line(m);v.length<=g&&f.push(Rt.range(v.from+p,v.to+g))}}else{let p=Math.min(l.col,a.col),g=Math.max(l.col,a.col);for(let m=h;m<=d;m++){let v=c.doc.line(m),_=qQ(v.text,p,c.tabSize,!0);if(_<0)f.push(Rt.cursor(v.to));else{let y=qQ(v.text,g,c.tabSize);f.push(Rt.range(v.from+_,v.from+y))}}}return f}(c.state,a,g);return m.length?Rt.create(p?m.concat(h.ranges):m):h}}:null}(a,h):null)}const Fmt={Alt:[18,c=>!!c.altKey],Control:[17,c=>!!c.ctrlKey],Shift:[16,c=>!!c.shiftKey],Meta:[91,c=>!!c.metaKey]},Bmt={style:"cursor: crosshair"};function Vmt(c={}){let[l,a]=Fmt[c.key||"Alt"],h=mo.fromClass(class{constructor(d){this.view=d,this.isDown=!1}set(d){this.isDown!=d&&(this.isDown=d,this.view.update([]))}},{eventObservers:{keydown(d){this.set(d.keyCode==l||a(d))},keyup(d){(d.keyCode==l||!a(d))&&this.set(!1)},mousemove(d){this.set(a(d))}}});return[h,yi.contentAttributes.of(d=>{var f;return null!==(f=d.plugin(h))&&void 0!==f&&f.isDown?Bmt:null})]}const _T="-10000px";class hye{constructor(l,a,h){this.facet=a,this.createTooltipView=h,this.input=l.state.facet(a),this.tooltips=this.input.filter(d=>d),this.tooltipViews=this.tooltips.map(h)}update(l,a){var h;let d=l.state.facet(this.facet),f=d.filter(m=>m);if(d===this.input){for(let m of this.tooltipViews)m.update&&m.update(l);return!1}let p=[],g=a?[]:null;for(let m=0;m<f.length;m++){let v=f[m],_=-1;if(v){for(let y=0;y<this.tooltips.length;y++){let b=this.tooltips[y];b&&b.create==v.create&&(_=y)}if(_<0)p[m]=this.createTooltipView(v),g&&(g[m]=!!v.above);else{let y=p[m]=this.tooltipViews[_];g&&(g[m]=a[_]),y.update&&y.update(l)}}}for(let m of this.tooltipViews)p.indexOf(m)<0&&(m.dom.remove(),null===(h=m.destroy)||void 0===h||h.call(m));return a&&(g.forEach((m,v)=>a[v]=m),a.length=g.length),this.input=d,this.tooltips=f,this.tooltipViews=p,!0}}function $mt(c){let{win:l}=c;return{top:0,left:0,bottom:l.innerHeight,right:l.innerWidth}}const rI=$n.define({combine:c=>{var l,a,h;return{position:qn.ios?"absolute":(null===(l=c.find(d=>d.position))||void 0===l?void 0:l.position)||"fixed",parent:(null===(a=c.find(d=>d.parent))||void 0===a?void 0:a.parent)||null,tooltipSpace:(null===(h=c.find(d=>d.tooltipSpace))||void 0===h?void 0:h.tooltipSpace)||$mt}}}),dye=new WeakMap,sI=mo.fromClass(class{constructor(c){this.view=c,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let l=c.state.facet(rI);this.position=l.position,this.parent=l.parent,this.classes=c.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new hye(c,oI,a=>this.createTooltip(a)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(a=>{Date.now()>this.lastTransaction-50&&a.length>0&&a[a.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),c.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let c of this.manager.tooltipViews)this.intersectionObserver.observe(c.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(c){c.transactions.length&&(this.lastTransaction=Date.now());let l=this.manager.update(c,this.above);l&&this.observeIntersection();let a=l||c.geometryChanged,h=c.state.facet(rI);if(h.position!=this.position&&!this.madeAbsolute){this.position=h.position;for(let d of this.manager.tooltipViews)d.dom.style.position=this.position;a=!0}if(h.parent!=this.parent){this.parent&&this.container.remove(),this.parent=h.parent,this.createContainer();for(let d of this.manager.tooltipViews)this.container.appendChild(d.dom);a=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);a&&this.maybeMeasure()}createTooltip(c){let l=c.create(this.view);if(l.dom.classList.add("cm-tooltip"),c.arrow&&!l.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let a=document.createElement("div");a.className="cm-tooltip-arrow",l.dom.appendChild(a)}return l.dom.style.position=this.position,l.dom.style.top=_T,l.dom.style.left="0px",this.container.appendChild(l.dom),l.mount&&l.mount(this.view),l}destroy(){var c,l;this.view.win.removeEventListener("resize",this.measureSoon);for(let a of this.manager.tooltipViews)a.dom.remove(),null===(c=a.destroy)||void 0===c||c.call(a);this.parent&&this.container.remove(),null===(l=this.intersectionObserver)||void 0===l||l.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let c=this.view.dom.getBoundingClientRect(),l=1,a=1,h=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:d}=this.manager.tooltipViews[0];if(qn.gecko)h=d.offsetParent!=this.container.ownerDocument.body;else if(d.style.top==_T&&"0px"==d.style.left){let f=d.getBoundingClientRect();h=Math.abs(f.top+1e4)>1||Math.abs(f.left)>1}}if(h||"absolute"==this.position)if(this.parent){let d=this.parent.getBoundingClientRect();d.width&&d.height&&(l=d.width/this.parent.offsetWidth,a=d.height/this.parent.offsetHeight)}else({scaleX:l,scaleY:a}=this.view.viewState);return{editor:c,parent:this.parent?this.container.getBoundingClientRect():c,pos:this.manager.tooltips.map((d,f)=>{let p=this.manager.tooltipViews[f];return p.getCoords?p.getCoords(d.pos):this.view.coordsAtPos(d.pos)}),size:this.manager.tooltipViews.map(({dom:d})=>d.getBoundingClientRect()),space:this.view.state.facet(rI).tooltipSpace(this.view),scaleX:l,scaleY:a,makeAbsolute:h}}writeMeasure(c){var l;if(c.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let g of this.manager.tooltipViews)g.dom.style.position="absolute"}let{editor:a,space:h,scaleX:d,scaleY:f}=c,p=[];for(let g=0;g<this.manager.tooltips.length;g++){let m=this.manager.tooltips[g],v=this.manager.tooltipViews[g],{dom:_}=v,y=c.pos[g],b=c.size[g];if(!y||y.bottom<=Math.max(a.top,h.top)||y.top>=Math.min(a.bottom,h.bottom)||y.right<Math.max(a.left,h.left)-.1||y.left>Math.min(a.right,h.right)+.1){_.style.top=_T;continue}let O=m.arrow?v.dom.querySelector(".cm-tooltip-arrow"):null,C=O?7:0,S=b.right-b.left,w=null!==(l=dye.get(v))&&void 0!==l?l:b.bottom-b.top,x=v.offset||Umt,T=this.view.textDirection==qs.LTR,D=b.width>h.right-h.left?T?h.left:h.right-b.width:T?Math.min(y.left-(O?14:0)+x.x,h.right-S):Math.max(h.left,y.left-S+(O?14:0)-x.x),k=this.above[g];!m.strictSide&&(k?y.top-(b.bottom-b.top)-x.y<h.top:y.bottom+(b.bottom-b.top)+x.y>h.bottom)&&k==h.bottom-y.bottom>y.top-h.top&&(k=this.above[g]=!k);let P=(k?y.top-h.top:h.bottom-y.bottom)-C;if(P<w&&!1!==v.resize){if(P<this.view.defaultLineHeight){_.style.top=_T;continue}dye.set(v,w),_.style.height=(w=P)/f+"px"}else _.style.height&&(_.style.height="");let N=k?y.top-w-C-x.y:y.bottom+C+x.y,F=D+S;if(!0!==v.overlap)for(let L of p)L.left<F&&L.right>D&&L.top<N+w&&L.bottom>N&&(N=k?L.top-w-2-C:L.bottom+C+2);"absolute"==this.position?(_.style.top=(N-c.parent.top)/f+"px",_.style.left=(D-c.parent.left)/d+"px"):(_.style.top=N/f+"px",_.style.left=D/d+"px"),O&&(O.style.left=(y.left+(T?x.x:-x.x)-(D+14-7))/d+"px"),!0!==v.overlap&&p.push({left:D,top:N,right:F,bottom:N+w}),_.classList.toggle("cm-tooltip-above",k),_.classList.toggle("cm-tooltip-below",!k),v.positioned&&v.positioned(c.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let c of this.manager.tooltipViews)c.dom.style.top=_T}},{eventObservers:{scroll(){this.maybeMeasure()}}}),Umt={x:0,y:0},oI=$n.define({enables:[sI,yi.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}})]}),yT=$n.define();class aI{static create(l){return new aI(l)}constructor(l){this.view=l,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new hye(l,yT,a=>this.createHostedView(a))}createHostedView(l){let a=l.create(this.view);return a.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(a.dom),this.mounted&&a.mount&&a.mount(this.view),a}mount(l){for(let a of this.manager.tooltipViews)a.mount&&a.mount(l);this.mounted=!0}positioned(l){for(let a of this.manager.tooltipViews)a.positioned&&a.positioned(l)}update(l){this.manager.update(l)}destroy(){var l;for(let a of this.manager.tooltipViews)null===(l=a.destroy)||void 0===l||l.call(a)}passProp(l){let a;for(let h of this.manager.tooltipViews){let d=h[l];if(void 0!==d)if(void 0===a)a=d;else if(a!==d)return}return a}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Qmt=oI.compute([yT],c=>{let l=c.facet(yT).filter(a=>a);return 0===l.length?null:{pos:Math.min(...l.map(a=>a.pos)),end:Math.max(...l.map(a=>{var h;return null!==(h=a.end)&&void 0!==h?h:a.pos})),create:aI.create,above:l[0].above,arrow:l.some(a=>a.arrow)}});class Hmt{constructor(l,a,h,d,f){this.view=l,this.source=a,this.field=h,this.setHover=d,this.hoverTime=f,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:l.dom,time:0},this.checkHover=this.checkHover.bind(this),l.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),l.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let l=Date.now()-this.lastMove.time;l<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-l):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:l,lastMove:a}=this,h=l.docView.nearest(a.target);if(!h)return;let d,f=1;if(h instanceof Am)d=h.posAtStart;else{if(d=l.posAtCoords(a),null==d)return;let g=l.coordsAtPos(d);if(!g||a.y<g.top||a.y>g.bottom||a.x<g.left-l.defaultCharacterWidth||a.x>g.right+l.defaultCharacterWidth)return;let m=l.bidiSpans(l.state.doc.lineAt(d)).find(_=>_.from<=d&&_.to>=d),v=m&&m.dir==qs.RTL?-1:1;f=a.x<g.left?-v:v}let p=this.source(l,d,f);if(p?.then){let g=this.pending={pos:d};p.then(m=>{this.pending==g&&(this.pending=null,m&&l.dispatch({effects:this.setHover.of(m)}))},m=>fh(l.state,m,"hover tooltip"))}else p&&l.dispatch({effects:this.setHover.of(p)})}get tooltip(){let l=this.view.plugin(sI),a=l?l.manager.tooltips.findIndex(h=>h.create==aI.create):-1;return a>-1?l.manager.tooltipViews[a]:null}mousemove(l){var a;this.lastMove={x:l.clientX,y:l.clientY,target:l.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:h,tooltip:d}=this;if(h&&d&&!function Wmt(c,l){let a=c.getBoundingClientRect();return l.clientX>=a.left-lI&&l.clientX<=a.right+lI&&l.clientY>=a.top-lI&&l.clientY<=a.bottom+lI}(d.dom,l)||this.pending){let{pos:f}=h||this.pending,p=null!==(a=h?.end)&&void 0!==a?a:f;(f==p?this.view.posAtCoords(this.lastMove)!=f:!function Zmt(c,l,a,h,d,f){let p=c.scrollDOM.getBoundingClientRect();if(p.left>h||p.right<h||p.top>d||Math.min(p.bottom,c.documentTop+c.documentPadding.top+c.contentHeight)<d)return!1;let m=c.posAtCoords({x:h,y:d},!1);return m>=l&&m<=a}(this.view,f,p,l.clientX,l.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(l){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:a}=this;if(a){let{tooltip:h}=this;h&&h.dom.contains(l.relatedTarget)?this.watchTooltipLeave(h.dom):this.view.dispatch({effects:this.setHover.of(null)})}}watchTooltipLeave(l){let a=h=>{l.removeEventListener("mouseleave",a),this.active&&!this.view.dom.contains(h.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})};l.addEventListener("mouseleave",a)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const lI=4;function jmt(c,l={}){let a=or.define(),h=go.define({create:()=>null,update(d,f){if(d&&(l.hideOnChange&&(f.docChanged||f.selection)||l.hideOn&&l.hideOn(f,d)))return null;if(d&&f.docChanged){let p=f.changes.mapPos(d.pos,-1,Ga.TrackDel);if(null==p)return null;let g=Object.assign(Object.create(null),d);g.pos=p,null!=d.end&&(g.end=f.changes.mapPos(d.end)),d=g}for(let p of f.effects)p.is(a)&&(d=p.value),p.is(Gmt)&&(d=null);return d},provide:d=>yT.from(d)});return[h,mo.define(d=>new Hmt(d,c,h,a,l.hoverTime||300)),Qmt]}function fye(c,l){let a=c.plugin(sI);if(!a)return null;let h=a.manager.tooltips.indexOf(l);return h<0?null:a.manager.tooltipViews[h]}const Gmt=or.define(),IH=$n.define({combine(c){let l,a;for(let h of c)l=l||h.topContainer,a=a||h.bottomContainer;return{topContainer:l,bottomContainer:a}}});function bT(c,l){let a=c.plugin(pye),h=a?a.specs.indexOf(l):-1;return h>-1?a.panels[h]:null}const pye=mo.fromClass(class{constructor(c){this.input=c.state.facet(OT),this.specs=this.input.filter(a=>a),this.panels=this.specs.map(a=>a(c));let l=c.state.facet(IH);this.top=new cI(c,!0,l.topContainer),this.bottom=new cI(c,!1,l.bottomContainer),this.top.sync(this.panels.filter(a=>a.top)),this.bottom.sync(this.panels.filter(a=>!a.top));for(let a of this.panels)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}update(c){let l=c.state.facet(IH);this.top.container!=l.topContainer&&(this.top.sync([]),this.top=new cI(c.view,!0,l.topContainer)),this.bottom.container!=l.bottomContainer&&(this.bottom.sync([]),this.bottom=new cI(c.view,!1,l.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let a=c.state.facet(OT);if(a!=this.input){let h=a.filter(m=>m),d=[],f=[],p=[],g=[];for(let m of h){let _,v=this.specs.indexOf(m);v<0?(_=m(c.view),g.push(_)):(_=this.panels[v],_.update&&_.update(c)),d.push(_),(_.top?f:p).push(_)}this.specs=h,this.panels=d,this.top.sync(f),this.bottom.sync(p);for(let m of g)m.dom.classList.add("cm-panel"),m.mount&&m.mount()}else for(let h of this.panels)h.update&&h.update(c)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:c=>yi.scrollMargins.of(l=>{let a=l.plugin(c);return a&&{top:a.top.scrollMargin(),bottom:a.bottom.scrollMargin()}})});class cI{constructor(l,a,h){this.view=l,this.top=a,this.container=h,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(l){for(let a of this.panels)a.destroy&&l.indexOf(a)<0&&a.destroy();this.panels=l,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let a=this.container||this.view.dom;a.insertBefore(this.dom,this.top?a.firstChild:null)}let l=this.dom.firstChild;for(let a of this.panels)if(a.dom.parentNode==this.dom){for(;l!=a.dom;)l=gye(l);l=l.nextSibling}else this.dom.insertBefore(a.dom,l);for(;l;)l=gye(l)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let l of this.classes.split(" "))l&&this.container.classList.remove(l);for(let l of(this.classes=this.view.themeClasses).split(" "))l&&this.container.classList.add(l)}}}function gye(c){let l=c.nextSibling;return c.remove(),l}const OT=$n.define({enables:pye});class ph extends gv{compare(l){return this==l||this.constructor==l.constructor&&this.eq(l)}eq(l){return!1}destroy(l){}}ph.prototype.elementClass="",ph.prototype.toDOM=void 0,ph.prototype.mapMode=Ga.TrackBefore,ph.prototype.startSide=ph.prototype.endSide=-1,ph.prototype.point=!0;const uI=$n.define(),Xmt={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Qs.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},CT=$n.define();function hI(c){return[mye(),CT.of(Object.assign(Object.assign({},Xmt),c))]}const RH=$n.define({combine:c=>c.some(l=>l)});function mye(c){let l=[Ymt];return c&&!1===c.fixed&&l.push(RH.of(!0)),l}const Ymt=mo.fromClass(class{constructor(c){this.view=c,this.prevViewport=c.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=c.state.facet(CT).map(l=>new _ye(c,l));for(let l of this.gutters)this.dom.appendChild(l.dom);this.fixed=!c.state.facet(RH),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),c.scrollDOM.insertBefore(this.dom,c.contentDOM)}update(c){if(this.updateGutters(c)){let l=this.prevViewport,a=c.view.viewport,h=Math.min(l.to,a.to)-Math.max(l.from,a.from);this.syncGutters(h<.8*(a.to-a.from))}c.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(RH)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=c.view.viewport}syncGutters(c){let l=this.dom.nextSibling;c&&this.dom.remove();let a=Qs.iter(this.view.state.facet(uI),this.view.viewport.from),h=[],d=this.gutters.map(f=>new qmt(f,this.view.viewport,-this.view.documentPadding.top));for(let f of this.view.viewportLineBlocks)if(h.length&&(h=[]),Array.isArray(f.type)){let p=!0;for(let g of f.type)if(g.type==rc.Text&&p){LH(a,h,g.from);for(let m of d)m.line(this.view,g,h);p=!1}else if(g.widget)for(let m of d)m.widget(this.view,g)}else if(f.type==rc.Text){LH(a,h,f.from);for(let p of d)p.line(this.view,f,h)}else if(f.widget)for(let p of d)p.widget(this.view,f);for(let f of d)f.finish();c&&this.view.scrollDOM.insertBefore(this.dom,l)}updateGutters(c){let l=c.startState.facet(CT),a=c.state.facet(CT),h=c.docChanged||c.heightChanged||c.viewportChanged||!Qs.eq(c.startState.facet(uI),c.state.facet(uI),c.view.viewport.from,c.view.viewport.to);if(l==a)for(let d of this.gutters)d.update(c)&&(h=!0);else{h=!0;let d=[];for(let f of a){let p=l.indexOf(f);p<0?d.push(new _ye(this.view,f)):(this.gutters[p].update(c),d.push(this.gutters[p]))}for(let f of this.gutters)f.dom.remove(),d.indexOf(f)<0&&f.destroy();for(let f of d)this.dom.appendChild(f.dom);this.gutters=d}return h}destroy(){for(let c of this.gutters)c.destroy();this.dom.remove()}},{provide:c=>yi.scrollMargins.of(l=>{let a=l.plugin(c);return a&&0!=a.gutters.length&&a.fixed?l.textDirection==qs.LTR?{left:a.dom.offsetWidth*l.scaleX}:{right:a.dom.offsetWidth*l.scaleX}:null})});function vye(c){return Array.isArray(c)?c:[c]}function LH(c,l,a){for(;c.value&&c.from<=a;)c.from==a&&l.push(c.value),c.next()}class qmt{constructor(l,a,h){this.gutter=l,this.height=h,this.i=0,this.cursor=Qs.iter(l.markers,a.from)}addElement(l,a,h){let{gutter:d}=this,f=(a.top-this.height)/l.scaleY,p=a.height/l.scaleY;if(this.i==d.elements.length){let g=new yye(l,p,f,h);d.elements.push(g),d.dom.appendChild(g.dom)}else d.elements[this.i].update(l,p,f,h);this.height=a.bottom,this.i++}line(l,a,h){let d=[];LH(this.cursor,d,a.from),h.length&&(d=d.concat(h));let f=this.gutter.config.lineMarker(l,a,d);f&&d.unshift(f),0==d.length&&!this.gutter.config.renderEmptyElements||this.addElement(l,a,d)}widget(l,a){let h=this.gutter.config.widgetMarker(l,a.widget,a);h&&this.addElement(l,a,[h])}finish(){let l=this.gutter;for(;l.elements.length>this.i;){let a=l.elements.pop();l.dom.removeChild(a.dom),a.destroy()}}}class _ye{constructor(l,a){this.view=l,this.config=a,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let h in a.domEventHandlers)this.dom.addEventListener(h,d=>{let p,f=d.target;if(f!=this.dom&&this.dom.contains(f)){for(;f.parentNode!=this.dom;)f=f.parentNode;let m=f.getBoundingClientRect();p=(m.top+m.bottom)/2}else p=d.clientY;let g=l.lineBlockAtHeight(p-l.documentTop);a.domEventHandlers[h](l,g,d)&&d.preventDefault()});this.markers=vye(a.markers(l)),a.initialSpacer&&(this.spacer=new yye(l,0,0,[a.initialSpacer(l)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(l){let a=this.markers;if(this.markers=vye(this.config.markers(l.view)),this.spacer&&this.config.updateSpacer){let d=this.config.updateSpacer(this.spacer.markers[0],l);d!=this.spacer.markers[0]&&this.spacer.update(l.view,0,0,[d])}let h=l.view.viewport;return!Qs.eq(this.markers,a,h.from,h.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(l)}destroy(){for(let l of this.elements)l.destroy()}}class yye{constructor(l,a,h,d){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(l,a,h,d)}update(l,a,h,d){this.height!=a&&(this.height=a,this.dom.style.height=a+"px"),this.above!=h&&(this.dom.style.marginTop=(this.above=h)?h+"px":""),function Kmt(c,l){if(c.length!=l.length)return!1;for(let a=0;a<c.length;a++)if(!c[a].compare(l[a]))return!1;return!0}(this.markers,d)||this.setMarkers(l,d)}setMarkers(l,a){let h="cm-gutterElement",d=this.dom.firstChild;for(let f=0,p=0;;){let g=p,m=f<a.length?a[f++]:null,v=!1;if(m){let _=m.elementClass;_&&(h+=" "+_);for(let y=p;y<this.markers.length;y++)if(this.markers[y].compare(m)){g=y,v=!0;break}}else g=this.markers.length;for(;p<g;){let _=this.markers[p++];if(_.toDOM){_.destroy(d);let y=d.nextSibling;d.remove(),d=y}}if(!m)break;m.toDOM&&(v?d=d.nextSibling:this.dom.insertBefore(m.toDOM(l),d)),v&&p++}this.dom.className=h,this.markers=a}destroy(){this.setMarkers(null,[])}}const Jmt=$n.define(),DO=$n.define({combine:c=>ud(c,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(l,a){let h=Object.assign({},l);for(let d in a){let f=h[d],p=a[d];h[d]=f?(g,m,v)=>f(g,m,v)||p(g,m,v):p}return h}})});class NH extends ph{constructor(l){super(),this.number=l}eq(l){return this.number==l.number}toDOM(){return document.createTextNode(this.number)}}function FH(c,l){return c.state.facet(DO).formatNumber(l,c.state)}const e0t=CT.compute([DO],c=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:l=>l.state.facet(Jmt),lineMarker:(l,a,h)=>h.some(d=>d.toDOM)?null:new NH(FH(l,l.state.doc.lineAt(a.from).number)),widgetMarker:()=>null,lineMarkerChange:l=>l.startState.facet(DO)!=l.state.facet(DO),initialSpacer:l=>new NH(FH(l,bye(l.state.doc.lines))),updateSpacer(l,a){let h=FH(a.view,bye(a.view.state.doc.lines));return h==l.number?l:new NH(h)},domEventHandlers:c.facet(DO).domEventHandlers}));function t0t(c={}){return[DO.of(c),mye(),e0t]}function bye(c){let l=9;for(;l<c;)l=10*l+9;return l}const n0t=new class extends ph{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},i0t=uI.compute(["selection"],c=>{let l=[],a=-1;for(let h of c.selection.ranges){let d=c.doc.lineAt(h.head).from;d>a&&(a=d,l.push(n0t.range(d)))}return Qs.of(l)}),Sye=1024;let l0t=0;class gh{constructor(l,a){this.from=l,this.to=a}}class ur{constructor(l={}){this.id=l0t++,this.perNode=!!l.perNode,this.deserialize=l.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(l){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof l&&(l=sc.match(l)),a=>{let h=l(a);return void 0===h?null:[this,h]}}}ur.closedBy=new ur({deserialize:c=>c.split(" ")}),ur.openedBy=new ur({deserialize:c=>c.split(" ")}),ur.group=new ur({deserialize:c=>c.split(" ")}),ur.contextHash=new ur({perNode:!0}),ur.lookAhead=new ur({perNode:!0}),ur.mounted=new ur({perNode:!0});class ST{constructor(l,a,h){this.tree=l,this.overlay=a,this.parser=h}static get(l){return l&&l.props&&l.props[ur.mounted.id]}}const c0t=Object.create(null);class sc{constructor(l,a,h,d=0){this.name=l,this.props=a,this.id=h,this.flags=d}static define(l){let a=l.props&&l.props.length?Object.create(null):c0t,d=new sc(l.name||"",a,l.id,(l.top?1:0)|(l.skipped?2:0)|(l.error?4:0)|(null==l.name?8:0));if(l.props)for(let f of l.props)if(Array.isArray(f)||(f=f(d)),f){if(f[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");a[f[0].id]=f[1]}return d}prop(l){return this.props[l.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(l){if("string"==typeof l){if(this.name==l)return!0;let a=this.prop(ur.group);return!!a&&a.indexOf(l)>-1}return this.id==l}static match(l){let a=Object.create(null);for(let h in l)for(let d of h.split(" "))a[d]=l[h];return h=>{for(let d=h.prop(ur.group),f=-1;f<(d?d.length:0);f++){let p=a[f<0?h.name:d[f]];if(p)return p}}}}sc.none=new sc("",Object.create(null),0,8);class dI{constructor(l){this.types=l;for(let a=0;a<l.length;a++)if(l[a].id!=a)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...l){let a=[];for(let h of this.types){let d=null;for(let f of l){let p=f(h);p&&(d||(d=Object.assign({},h.props)),d[p[0].id]=p[1])}a.push(d?new sc(h.name,d,h.id,h.flags):h)}return new dI(a)}}const fI=new WeakMap,wye=new WeakMap;var ks=function(c){return c[c.ExcludeBuffers=1]="ExcludeBuffers",c[c.IncludeAnonymous=2]="IncludeAnonymous",c[c.IgnoreMounts=4]="IgnoreMounts",c[c.IgnoreOverlays=8]="IgnoreOverlays",c}(ks||{});class Ks{constructor(l,a,h,d,f){if(this.type=l,this.children=a,this.positions=h,this.length=d,this.props=null,f&&f.length){this.props=Object.create(null);for(let[p,g]of f)this.props["number"==typeof p?p:p.id]=g}}toString(){let l=ST.get(this);if(l&&!l.overlay)return l.tree.toString();let a="";for(let h of this.children){let d=h.toString();d&&(a&&(a+=","),a+=d)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(a.length?"("+a+")":""):a}cursor(l=0){return new pI(this.topNode,l)}cursorAt(l,a=0,h=0){let d=fI.get(this)||this.topNode,f=new pI(d);return f.moveTo(l,a),fI.set(this,f._tree),f}get topNode(){return new bl(this,0,0,null)}resolve(l,a=0){let h=wT(fI.get(this)||this.topNode,l,a,!1);return fI.set(this,h),h}resolveInner(l,a=0){let h=wT(wye.get(this)||this.topNode,l,a,!0);return wye.set(this,h),h}resolveStack(l,a=0){return function d0t(c,l,a){let h=c.resolveInner(l,a),d=null;for(let f=h instanceof bl?h:h.context.parent;f;f=f.parent)if(f.index<0){let p=f.parent;(d||(d=[h])).push(p.resolve(l,a)),f=p}else{let p=ST.get(f.tree);if(p&&p.overlay&&p.overlay[0].from<=l&&p.overlay[p.overlay.length-1].to>=l){let g=new bl(p.tree,p.overlay[0].from+f.from,-1,f);(d||(d=[h])).push(wT(g,l,a,!1))}}return d?Dye(d):h}(this,l,a)}iterate(l){let{enter:a,leave:h,from:d=0,to:f=this.length}=l,p=l.mode||0,g=(p&ks.IncludeAnonymous)>0;for(let m=this.cursor(p|ks.IncludeAnonymous);;){let v=!1;if(m.from<=f&&m.to>=d&&(!g&&m.type.isAnonymous||!1!==a(m))){if(m.firstChild())continue;v=!0}for(;v&&h&&(g||!m.type.isAnonymous)&&h(m),!m.nextSibling();){if(!m.parent())return;v=!0}}}prop(l){return l.perNode?this.props?this.props[l.id]:void 0:this.type.prop(l)}get propValues(){let l=[];if(this.props)for(let a in this.props)l.push([+a,this.props[a]]);return l}balance(l={}){return this.children.length<=8?this:zH(sc.none,this.children,this.positions,0,this.children.length,0,this.length,(a,h,d)=>new Ks(this.type,a,h,d,this.propValues),l.makeTree||((a,h,d)=>new Ks(sc.none,a,h,d)))}static build(l){return function f0t(c){var l;let{buffer:a,nodeSet:h,maxBufferLength:d=Sye,reused:f=[],minRepeatType:p=h.types.length}=c,g=Array.isArray(a)?new BH(a,a.length):a,m=h.types,v=0,_=0;function y(P,N,F,L,$,U){let{id:z,start:ee,end:te,size:B}=g,j=_;for(;B<0;){if(g.next(),-1==B)return F.push(f[z]),void L.push(ee-P);if(-3==B)return void(v=z);if(-4==B)return void(_=z);throw new RangeError(`Unrecognized record size: ${B}`)}let q,G,W=m[z],K=ee-P;if(te-ee<=d&&(G=function w(P,N){let F=g.fork(),L=0,$=0,U=0,z=F.end-d,ee={size:0,start:0,skip:0};e:for(let te=F.pos-P;F.pos>te;){let B=F.size;if(F.id==N&&B>=0){ee.size=L,ee.start=$,ee.skip=U,U+=4,L+=4,F.next();continue}let j=F.pos-B;if(B<0||j<te||F.start<z)break;let W=F.id>=p?4:0,q=F.start;for(F.next();F.pos>j;){if(F.size<0){if(-3!=F.size)break e;W+=4}else F.id>=p&&(W+=4);F.next()}$=q,L+=B,U+=W}return(N<0||L==P)&&(ee.size=L,ee.start=$,ee.skip=U),ee.size>4?ee:void 0}(g.pos-N,$))){let J=new Uint16Array(G.size-G.skip),ie=g.pos-G.size,re=J.length;for(;g.pos>ie;)re=x(G.start,J,re);q=new Fm(J,te-G.start,h),K=G.start-P}else{let J=g.pos-B;g.next();let ie=[],re=[],he=z>=p?z:-1,de=0,ke=te;for(;g.pos>J;)he>=0&&g.id==he&&g.size>=0?(g.end<=ke-d&&(C(ie,re,ee,de,g.end,ke,he,j),de=ie.length,ke=g.end),g.next()):U>2500?b(ee,J,ie,re):y(ee,J,ie,re,he,U+1);if(he>=0&&de>0&&de<ie.length&&C(ie,re,ee,de,ee,ke,he,j),ie.reverse(),re.reverse(),he>-1&&de>0){let xe=function O(P){return(N,F,L)=>{let z,ee,$=0,U=N.length-1;if(U>=0&&(z=N[U])instanceof Ks){if(!U&&z.type==P&&z.length==L)return z;(ee=z.prop(ur.lookAhead))&&($=F[U]+z.length+ee)}return S(P,N,F,L,$)}}(W);q=zH(W,ie,re,0,ie.length,0,te-ee,xe,xe)}else q=S(W,ie,re,te-ee,j-te)}F.push(q),L.push(K)}function b(P,N,F,L){let $=[],U=0,z=-1;for(;g.pos>N;){let{id:ee,start:te,end:B,size:j}=g;if(j>4)g.next();else{if(z>-1&&te<z)break;z<0&&(z=B-d),$.push(ee,te,B),U++,g.next()}}if(U){let ee=new Uint16Array(4*U),te=$[$.length-2];for(let B=$.length-3,j=0;B>=0;B-=3)ee[j++]=$[B],ee[j++]=$[B+1]-te,ee[j++]=$[B+2]-te,ee[j++]=j;F.push(new Fm(ee,$[2]-te,h)),L.push(te-P)}}function C(P,N,F,L,$,U,z,ee){let te=[],B=[];for(;P.length>L;)te.push(P.pop()),B.push(N.pop()+F-$);P.push(S(h.types[z],te,B,U-$,ee-U)),N.push($-F)}function S(P,N,F,L,$=0,U){if(v){let z=[ur.contextHash,v];U=U?[z].concat(U):[z]}if($>25){let z=[ur.lookAhead,$];U=U?[z].concat(U):[z]}return new Ks(P,N,F,L,U)}function x(P,N,F){let{id:L,start:$,end:U,size:z}=g;if(g.next(),z>=0&&L<p){let ee=F;if(z>4){let te=g.pos-(z-4);for(;g.pos>te;)F=x(P,N,F)}N[--F]=ee,N[--F]=U-P,N[--F]=$-P,N[--F]=L}else-3==z?v=L:-4==z&&(_=L);return F}let T=[],D=[];for(;g.pos>0;)y(c.start||0,c.bufferStart||0,T,D,-1,0);let k=null!==(l=c.length)&&void 0!==l?l:T.length?D[0]+T[0].length:0;return new Ks(m[c.topID],T.reverse(),D.reverse(),k)}(l)}}Ks.empty=new Ks(sc.none,[],[],0);class BH{constructor(l,a){this.buffer=l,this.index=a}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new BH(this.buffer,this.index)}}class Fm{constructor(l,a,h){this.buffer=l,this.length=a,this.set=h}get type(){return sc.none}toString(){let l=[];for(let a=0;a<this.buffer.length;)l.push(this.childString(a)),a=this.buffer[a+3];return l.join(",")}childString(l){let h=this.buffer[l+3],d=this.set.types[this.buffer[l]],f=d.name;if(/\W/.test(f)&&!d.isError&&(f=JSON.stringify(f)),h==(l+=4))return f;let p=[];for(;l<h;)p.push(this.childString(l)),l=this.buffer[l+3];return f+"("+p.join(",")+")"}findChild(l,a,h,d,f){let{buffer:p}=this,g=-1;for(let m=l;m!=a&&!(xye(f,d,p[m+1],p[m+2])&&(g=m,h>0));m=p[m+3]);return g}slice(l,a,h){let d=this.buffer,f=new Uint16Array(a-l),p=0;for(let g=l,m=0;g<a;){f[m++]=d[g++],f[m++]=d[g++]-h;let v=f[m++]=d[g++]-h;f[m++]=d[g++]-l,p=Math.max(p,v)}return new Fm(f,p,this.set)}}function xye(c,l,a,h){switch(c){case-2:return a<l;case-1:return h>=l&&a<l;case 0:return a<l&&h>l;case 1:return a<=l&&h>l;case 2:return h>l;case 4:return!0}}function wT(c,l,a,h){for(var d;c.from==c.to||(a<1?c.from>=l:c.from>l)||(a>-1?c.to<=l:c.to<l);){let p=!h&&c instanceof bl&&c.index<0?null:c.parent;if(!p)return c;c=p}let f=h?0:ks.IgnoreOverlays;if(h)for(let p=c,g=p.parent;g;p=g,g=p.parent)p instanceof bl&&p.index<0&&(null===(d=g.enter(l,a,f))||void 0===d?void 0:d.from)!=p.from&&(c=g);for(;;){let p=c.enter(l,a,f);if(!p)return c;c=p}}class Tye{cursor(l=0){return new pI(this,l)}getChild(l,a=null,h=null){let d=kye(this,l,a,h);return d.length?d[0]:null}getChildren(l,a=null,h=null){return kye(this,l,a,h)}resolve(l,a=0){return wT(this,l,a,!1)}resolveInner(l,a=0){return wT(this,l,a,!0)}matchContext(l){return VH(this,l)}enterUnfinishedNodesBefore(l){let a=this.childBefore(l),h=this;for(;a;){let d=a.lastChild;if(!d||d.to!=a.to)break;d.type.isError&&d.from==d.to?(h=a,a=d.prevSibling):a=d}return h}get node(){return this}get next(){return this.parent}}class bl extends Tye{constructor(l,a,h,d){super(),this._tree=l,this.from=a,this.index=h,this._parent=d}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(l,a,h,d,f=0){for(let p=this;;){for(let{children:g,positions:m}=p._tree,v=a>0?g.length:-1;l!=v;l+=a){let _=g[l],y=m[l]+p.from;if(xye(d,h,y,y+_.length))if(_ instanceof Fm){if(f&ks.ExcludeBuffers)continue;let b=_.findChild(0,_.buffer.length,a,h-y,d);if(b>-1)return new kf(new u0t(p,_,l,y),null,b)}else if(f&ks.IncludeAnonymous||!_.type.isAnonymous||$H(_)){let b;if(!(f&ks.IgnoreMounts)&&(b=ST.get(_))&&!b.overlay)return new bl(b.tree,y,l,p);let O=new bl(_,y,l,p);return f&ks.IncludeAnonymous||!O.type.isAnonymous?O:O.nextChild(a<0?_.children.length-1:0,a,h,d)}}if(f&ks.IncludeAnonymous||!p.type.isAnonymous||(l=p.index>=0?p.index+a:a<0?-1:p._parent._tree.children.length,p=p._parent,!p))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(l){return this.nextChild(0,1,l,2)}childBefore(l){return this.nextChild(this._tree.children.length-1,-1,l,-2)}enter(l,a,h=0){let d;if(!(h&ks.IgnoreOverlays)&&(d=ST.get(this._tree))&&d.overlay){let f=l-this.from;for(let{from:p,to:g}of d.overlay)if((a>0?p<=f:p<f)&&(a<0?g>=f:g>f))return new bl(d.tree,d.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,l,a,h)}nextSignificantParent(){let l=this;for(;l.type.isAnonymous&&l._parent;)l=l._parent;return l}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function kye(c,l,a,h){let d=c.cursor(),f=[];if(!d.firstChild())return f;if(null!=a)for(;!d.type.is(a);)if(!d.nextSibling())return f;for(;;){if(null!=h&&d.type.is(h))return f;if(d.type.is(l)&&f.push(d.node),!d.nextSibling())return null==h?f:[]}}function VH(c,l,a=l.length-1){for(let h=c.parent;a>=0;h=h.parent){if(!h)return!1;if(!h.type.isAnonymous){if(l[a]&&l[a]!=h.name)return!1;a--}}return!0}class u0t{constructor(l,a,h,d){this.parent=l,this.buffer=a,this.index=h,this.start=d}}class kf extends Tye{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(l,a,h){super(),this.context=l,this._parent=a,this.index=h,this.type=l.buffer.set.types[l.buffer.buffer[h]]}child(l,a,h){let{buffer:d}=this.context,f=d.findChild(this.index+4,d.buffer[this.index+3],l,a-this.context.start,h);return f<0?null:new kf(this.context,this,f)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(l){return this.child(1,l,2)}childBefore(l){return this.child(-1,l,-2)}enter(l,a,h=0){if(h&ks.ExcludeBuffers)return null;let{buffer:d}=this.context,f=d.findChild(this.index+4,d.buffer[this.index+3],a>0?1:-1,l-this.context.start,a);return f<0?null:new kf(this.context,this,f)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(l){return this._parent?null:this.context.parent.nextChild(this.context.index+l,l,0,4)}get nextSibling(){let{buffer:l}=this.context,a=l.buffer[this.index+3];return a<(this._parent?l.buffer[this._parent.index+3]:l.buffer.length)?new kf(this.context,this._parent,a):this.externalSibling(1)}get prevSibling(){let{buffer:l}=this.context,a=this._parent?this._parent.index+4:0;return this.index==a?this.externalSibling(-1):new kf(this.context,this._parent,l.findChild(a,this.index,-1,0,4))}get tree(){return null}toTree(){let l=[],a=[],{buffer:h}=this.context,d=this.index+4,f=h.buffer[this.index+3];return f>d&&(l.push(h.slice(d,f,h.buffer[this.index+1])),a.push(0)),new Ks(this.type,l,a,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Dye(c){if(!c.length)return null;let l=0,a=c[0];for(let f=1;f<c.length;f++){let p=c[f];(p.from>a.from||p.to<a.to)&&(a=p,l=f)}let h=a instanceof bl&&a.index<0?null:a.parent,d=c.slice();return h?d[l]=h:d.splice(l,1),new h0t(d,a)}class h0t{constructor(l,a){this.heads=l,this.node=a}get next(){return Dye(this.heads)}}class pI{get name(){return this.type.name}constructor(l,a=0){if(this.mode=a,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,l instanceof bl)this.yieldNode(l);else{this._tree=l.context.parent,this.buffer=l.context;for(let h=l._parent;h;h=h._parent)this.stack.unshift(h.index);this.bufferNode=l,this.yieldBuf(l.index)}}yieldNode(l){return!!l&&(this._tree=l,this.type=l.type,this.from=l.from,this.to=l.to,!0)}yieldBuf(l,a){this.index=l;let{start:h,buffer:d}=this.buffer;return this.type=a||d.set.types[d.buffer[l]],this.from=h+d.buffer[l+1],this.to=h+d.buffer[l+2],!0}yield(l){return!!l&&(l instanceof bl?(this.buffer=null,this.yieldNode(l)):(this.buffer=l.context,this.yieldBuf(l.index,l.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(l,a,h){if(!this.buffer)return this.yield(this._tree.nextChild(l<0?this._tree._tree.children.length-1:0,l,a,h,this.mode));let{buffer:d}=this.buffer,f=d.findChild(this.index+4,d.buffer[this.index+3],l,a-this.buffer.start,h);return!(f<0)&&(this.stack.push(this.index),this.yieldBuf(f))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(l){return this.enterChild(1,l,2)}childBefore(l){return this.enterChild(-1,l,-2)}enter(l,a,h=this.mode){return this.buffer?!(h&ks.ExcludeBuffers)&&this.enterChild(1,l,a):this.yield(this._tree.enter(l,a,h))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ks.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let l=this.mode&ks.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(l)}sibling(l){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+l,l,0,4,this.mode));let{buffer:a}=this.buffer,h=this.stack.length-1;if(l<0){let d=h<0?0:this.stack[h]+4;if(this.index!=d)return this.yieldBuf(a.findChild(d,this.index,-1,0,4))}else{let d=a.buffer[this.index+3];if(d<(h<0?a.buffer.length:a.buffer[this.stack[h]+3]))return this.yieldBuf(d)}return h<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+l,l,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(l){let a,h,{buffer:d}=this;if(d){if(l>0){if(this.index<d.buffer.buffer.length)return!1}else for(let f=0;f<this.index;f++)if(d.buffer.buffer[f+3]<this.index)return!1;({index:a,parent:h}=d)}else({index:a,_parent:h}=this._tree);for(;h;({index:a,_parent:h}=h))if(a>-1)for(let f=a+l,p=l<0?-1:h._tree.children.length;f!=p;f+=l){let g=h._tree.children[f];if(this.mode&ks.IncludeAnonymous||g instanceof Fm||!g.type.isAnonymous||$H(g))return!1}return!0}move(l,a){if(a&&this.enterChild(l,0,4))return!0;for(;;){if(this.sibling(l))return!0;if(this.atLastNode(l)||!this.parent())return!1}}next(l=!0){return this.move(1,l)}prev(l=!0){return this.move(-1,l)}moveTo(l,a=0){for(;(this.from==this.to||(a<1?this.from>=l:this.from>l)||(a>-1?this.to<=l:this.to<l))&&this.parent(););for(;this.enterChild(1,l,a););return this}get node(){if(!this.buffer)return this._tree;let l=this.bufferNode,a=null,h=0;if(l&&l.context==this.buffer)e:for(let d=this.index,f=this.stack.length;f>=0;){for(let p=l;p;p=p._parent)if(p.index==d){if(d==this.index)return p;a=p,h=f+1;break e}d=this.stack[--f]}for(let d=h;d<this.stack.length;d++)a=new kf(this.buffer,a,this.stack[d]);return this.bufferNode=new kf(this.buffer,a,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(l,a){for(let h=0;;){let d=!1;if(this.type.isAnonymous||!1!==l(this)){if(this.firstChild()){h++;continue}this.type.isAnonymous||(d=!0)}for(;d&&a&&a(this),d=this.type.isAnonymous,!this.nextSibling();){if(!h)return;this.parent(),h--,d=!0}}}matchContext(l){if(!this.buffer)return VH(this.node,l);let{buffer:a}=this.buffer,{types:h}=a.set;for(let d=l.length-1,f=this.stack.length-1;d>=0;f--){if(f<0)return VH(this.node,l,d);let p=h[a.buffer[this.stack[f]]];if(!p.isAnonymous){if(l[d]&&l[d]!=p.name)return!1;d--}}return!0}}function $H(c){return c.children.some(l=>l instanceof Fm||!l.type.isAnonymous||$H(l))}const Mye=new WeakMap;function gI(c,l){if(!c.isAnonymous||l instanceof Fm||l.type!=c)return 1;let a=Mye.get(l);if(null==a){a=1;for(let h of l.children){if(h.type!=c||!(h instanceof Ks)){a=1;break}a+=gI(c,h)}Mye.set(l,a)}return a}function zH(c,l,a,h,d,f,p,g,m){let v=0;for(let C=h;C<d;C++)v+=gI(c,l[C]);let _=Math.ceil(1.5*v/8),y=[],b=[];return function O(C,S,w,x,T){for(let D=w;D<x;){let k=D,P=S[D],N=gI(c,C[D]);for(D++;D<x;D++){let F=gI(c,C[D]);if(N+F>=_)break;N+=F}if(D==k+1){if(N>_){let F=C[k];O(F.children,F.positions,0,F.children.length,S[k]+T);continue}y.push(C[k])}else y.push(zH(c,C,S,k,D,P,S[D-1]+C[D-1].length-P,null,m));b.push(P+T-f)}}(l,a,h,d,0),(g||m)(y,b,p)}class UH{constructor(){this.map=new WeakMap}setBuffer(l,a,h){let d=this.map.get(l);d||this.map.set(l,d=new Map),d.set(a,h)}getBuffer(l,a){let h=this.map.get(l);return h&&h.get(a)}set(l,a){l instanceof kf?this.setBuffer(l.context.buffer,l.index,a):l instanceof bl&&this.map.set(l.tree,a)}get(l){return l instanceof kf?this.getBuffer(l.context.buffer,l.index):l instanceof bl?this.map.get(l.tree):void 0}cursorSet(l,a){l.buffer?this.setBuffer(l.buffer.buffer,l.index,a):this.map.set(l.tree,a)}cursorGet(l){return l.buffer?this.getBuffer(l.buffer.buffer,l.index):this.map.get(l.tree)}}class eg{constructor(l,a,h,d,f=!1,p=!1){this.from=l,this.to=a,this.tree=h,this.offset=d,this.open=(f?1:0)|(p?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(l,a=[],h=!1){let d=[new eg(0,l.length,l,0,!1,h)];for(let f of a)f.to>l.length&&d.push(f);return d}static applyChanges(l,a,h=128){if(!a.length)return l;let d=[],f=1,p=l.length?l[0]:null;for(let g=0,m=0,v=0;;g++){let _=g<a.length?a[g]:null,y=_?_.fromA:1e9;if(y-m>=h)for(;p&&p.from<y;){let b=p;if(m>=b.from||y<=b.to||v){let O=Math.max(b.from,m)-v,C=Math.min(b.to,y)-v;b=O>=C?null:new eg(O,C,b.tree,b.offset+v,g>0,!!_)}if(b&&d.push(b),p.to>y)break;p=f<l.length?l[f++]:null}if(!_)break;m=_.toA,v=_.toA-_.toB}return d}}class Eye{startParse(l,a,h){return"string"==typeof l&&(l=new p0t(l)),h=h?h.length?h.map(d=>new gh(d.from,d.to)):[new gh(0,0)]:[new gh(0,l.length)],this.createParse(l,a||[],h)}parse(l,a,h){let d=this.startParse(l,a,h);for(;;){let f=d.advance();if(f)return f}}}class p0t{constructor(l){this.string=l}get length(){return this.string.length}chunk(l){return this.string.slice(l)}get lineChunks(){return!1}read(l,a){return this.string.slice(l,a)}}new ur({perNode:!0});let O0t=0;class Df{constructor(l,a,h){this.set=l,this.base=a,this.modified=h,this.id=O0t++}static define(l){if(l?.base)throw new Error("Can not derive from a modified tag");let a=new Df([],null,[]);if(a.set.push(a),l)for(let h of l.set)a.set.push(h);return a}static defineModifier(){let l=new mI;return a=>a.modified.indexOf(l)>-1?a:mI.get(a.base||a,a.modified.concat(l).sort((h,d)=>h.id-d.id))}}let C0t=0;class mI{constructor(){this.instances=[],this.id=C0t++}static get(l,a){if(!a.length)return l;let h=a[0].instances.find(g=>g.base==l&&function S0t(c,l){return c.length==l.length&&c.every((a,h)=>a==l[h])}(a,g.modified));if(h)return h;let d=[],f=new Df(d,l,a);for(let g of a)g.instances.push(f);let p=function w0t(c){let l=[[]];for(let a=0;a<c.length;a++)for(let h=0,d=l.length;h<d;h++)l.push(l[h].concat(c[a]));return l.sort((a,h)=>h.length-a.length)}(a);for(let g of l.set)if(!g.modified.length)for(let m of p)d.push(mI.get(g,m));return f}}function vI(c){let l=Object.create(null);for(let a in c){let h=c[a];Array.isArray(h)||(h=[h]);for(let d of a.split(" "))if(d){let f=[],p=2,g=d;for(let y=0;;){if("..."==g&&y>0&&y+3==d.length){p=1;break}let b=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(g);if(!b)throw new RangeError("Invalid path: "+d);if(f.push("*"==b[0]?"":'"'==b[0][0]?JSON.parse(b[0]):b[0]),y+=b[0].length,y==d.length)break;let O=d[y++];if(y==d.length&&"!"==O){p=0;break}if("/"!=O)throw new RangeError("Invalid path: "+d);g=d.slice(y)}let m=f.length-1,v=f[m];if(!v)throw new RangeError("Invalid path: "+d);let _=new _I(h,p,m>0?f.slice(0,m):null);l[v]=_.sort(l[v])}}return Fye.add(l)}const Fye=new ur;class _I{constructor(l,a,h,d){this.tags=l,this.mode=a,this.context=h,this.next=d}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(l){return!l||l.depth<this.depth?(this.next=l,this):(l.next=this.sort(l.next),l)}get depth(){return this.context?this.context.length:0}}function Bye(c,l){let a=Object.create(null);for(let f of c)if(Array.isArray(f.tag))for(let p of f.tag)a[p.id]=f.class;else a[f.tag.id]=f.class;let{scope:h,all:d=null}=l||{};return{style:f=>{let p=d;for(let g of f)for(let m of g.set){let v=a[m.id];if(v){p=p?p+" "+v:v;break}}return p},scope:h}}function Vye(c,l,a,h=0,d=c.length){let f=new T0t(h,Array.isArray(l)?l:[l],a);f.highlightRange(c.cursor(),h,d,"",f.highlighters),f.flush(d)}_I.empty=new _I([],2,null);class T0t{constructor(l,a,h){this.at=l,this.highlighters=a,this.span=h,this.class=""}startSpan(l,a){a!=this.class&&(this.flush(l),l>this.at&&(this.at=l),this.class=a)}flush(l){l>this.at&&this.class&&this.span(this.at,l,this.class)}highlightRange(l,a,h,d,f){let{type:p,from:g,to:m}=l;if(g>=h||m<=a)return;p.isTop&&(f=this.highlighters.filter(O=>!O.scope||O.scope(p)));let v=d,_=function k0t(c){let l=c.type.prop(Fye);for(;l&&l.context&&!c.matchContext(l.context);)l=l.next;return l||null}(l)||_I.empty,y=function x0t(c,l){let a=null;for(let h of c){let d=h.style(l);d&&(a=a?a+" "+d:d)}return a}(f,_.tags);if(y&&(v&&(v+=" "),v+=y,1==_.mode&&(d+=(d?" ":"")+y)),this.startSpan(Math.max(a,g),v),_.opaque)return;let b=l.tree&&l.tree.prop(ur.mounted);if(b&&b.overlay){let O=l.node.enter(b.overlay[0].from+g,1),C=this.highlighters.filter(w=>!w.scope||w.scope(b.tree.type)),S=l.firstChild();for(let w=0,x=g;;w++){let T=w<b.overlay.length?b.overlay[w]:null,D=T?T.from+g:m,k=Math.max(a,x),P=Math.min(h,D);if(k<P&&S)for(;l.from<P&&(this.highlightRange(l,k,P,d,f),this.startSpan(Math.min(P,l.to),v),!(l.to>=D)&&l.nextSibling()););if(!T||D>h)break;x=T.to+g,x>a&&(this.highlightRange(O.cursor(),Math.max(a,T.from+g),Math.min(h,x),"",C),this.startSpan(Math.min(h,x),v))}S&&l.parent()}else if(l.firstChild()){b&&(d="");do{if(!(l.to<=a)){if(l.from>=h)break;this.highlightRange(l,a,h,d,f),this.startSpan(Math.min(h,l.to),v)}}while(l.nextSibling());l.parent()}}}const bn=Df.define,yI=bn(),Bm=bn(),$ye=bn(Bm),zye=bn(Bm),Vm=bn(),bI=bn(Vm),HH=bn(Vm),Mf=bn(),vv=bn(Mf),Ef=bn(),Pf=bn(),WH=bn(),xT=bn(WH),OI=bn(),le={comment:yI,lineComment:bn(yI),blockComment:bn(yI),docComment:bn(yI),name:Bm,variableName:bn(Bm),typeName:$ye,tagName:bn($ye),propertyName:zye,attributeName:bn(zye),className:bn(Bm),labelName:bn(Bm),namespace:bn(Bm),macroName:bn(Bm),literal:Vm,string:bI,docString:bn(bI),character:bn(bI),attributeValue:bn(bI),number:HH,integer:bn(HH),float:bn(HH),bool:bn(Vm),regexp:bn(Vm),escape:bn(Vm),color:bn(Vm),url:bn(Vm),keyword:Ef,self:bn(Ef),null:bn(Ef),atom:bn(Ef),unit:bn(Ef),modifier:bn(Ef),operatorKeyword:bn(Ef),controlKeyword:bn(Ef),definitionKeyword:bn(Ef),moduleKeyword:bn(Ef),operator:Pf,derefOperator:bn(Pf),arithmeticOperator:bn(Pf),logicOperator:bn(Pf),bitwiseOperator:bn(Pf),compareOperator:bn(Pf),updateOperator:bn(Pf),definitionOperator:bn(Pf),typeOperator:bn(Pf),controlOperator:bn(Pf),punctuation:WH,separator:bn(WH),bracket:xT,angleBracket:bn(xT),squareBracket:bn(xT),paren:bn(xT),brace:bn(xT),content:Mf,heading:vv,heading1:bn(vv),heading2:bn(vv),heading3:bn(vv),heading4:bn(vv),heading5:bn(vv),heading6:bn(vv),contentSeparator:bn(Mf),list:bn(Mf),quote:bn(Mf),emphasis:bn(Mf),strong:bn(Mf),link:bn(Mf),monospace:bn(Mf),strikethrough:bn(Mf),inserted:bn(),deleted:bn(),changed:bn(),invalid:bn(),meta:OI,documentMeta:bn(OI),annotation:bn(OI),processingInstruction:bn(OI),definition:Df.defineModifier(),constant:Df.defineModifier(),function:Df.defineModifier(),standard:Df.defineModifier(),local:Df.defineModifier(),special:Df.defineModifier()};var ZH;Bye([{tag:le.link,class:"tok-link"},{tag:le.heading,class:"tok-heading"},{tag:le.emphasis,class:"tok-emphasis"},{tag:le.strong,class:"tok-strong"},{tag:le.keyword,class:"tok-keyword"},{tag:le.atom,class:"tok-atom"},{tag:le.bool,class:"tok-bool"},{tag:le.url,class:"tok-url"},{tag:le.labelName,class:"tok-labelName"},{tag:le.inserted,class:"tok-inserted"},{tag:le.deleted,class:"tok-deleted"},{tag:le.literal,class:"tok-literal"},{tag:le.string,class:"tok-string"},{tag:le.number,class:"tok-number"},{tag:[le.regexp,le.escape,le.special(le.string)],class:"tok-string2"},{tag:le.variableName,class:"tok-variableName"},{tag:le.local(le.variableName),class:"tok-variableName tok-local"},{tag:le.definition(le.variableName),class:"tok-variableName tok-definition"},{tag:le.special(le.variableName),class:"tok-variableName2"},{tag:le.definition(le.propertyName),class:"tok-propertyName tok-definition"},{tag:le.typeName,class:"tok-typeName"},{tag:le.namespace,class:"tok-namespace"},{tag:le.className,class:"tok-className"},{tag:le.macroName,class:"tok-macroName"},{tag:le.propertyName,class:"tok-propertyName"},{tag:le.operator,class:"tok-operator"},{tag:le.comment,class:"tok-comment"},{tag:le.meta,class:"tok-meta"},{tag:le.invalid,class:"tok-invalid"},{tag:le.punctuation,class:"tok-punctuation"}]);const _v=new ur;function jH(c){return $n.define({combine:c?l=>l.concat(c):void 0})}const GH=new ur;let mh=(()=>{class c{constructor(a,h,d=[],f=""){this.data=a,this.name=f,vl.prototype.hasOwnProperty("tree")||Object.defineProperty(vl.prototype,"tree",{get(){return Js(this)}}),this.parser=h,this.extension=[$m.of(this),vl.languageData.of((p,g,m)=>{let v=Uye(p,g,m),_=v.type.prop(_v);if(!_)return[];let y=p.facet(_),b=v.type.prop(GH);if(b){let O=v.resolve(g-v.from,m);for(let C of b)if(C.test(O,p)){let S=p.facet(C.facet);return"replace"==C.type?S:S.concat(y)}}return y})].concat(d)}isActiveAt(a,h,d=-1){return Uye(a,h,d).type.prop(_v)==this.data}findRegions(a){let h=a.facet($m);if(h?.data==this.data)return[{from:0,to:a.doc.length}];if(!h||!h.allowsNesting)return[];let d=[],f=(p,g)=>{if(p.prop(_v)==this.data)return void d.push({from:g,to:g+p.length});let m=p.prop(ur.mounted);if(m){if(m.tree.prop(_v)==this.data){if(m.overlay)for(let v of m.overlay)d.push({from:v.from+g,to:v.to+g});else d.push({from:g,to:g+p.length});return}if(m.overlay){let v=d.length;if(f(m.tree,m.overlay[0].from+g),d.length>v)return}}for(let v=0;v<p.children.length;v++){let _=p.children[v];_ instanceof Ks&&f(_,p.positions[v]+g)}};return f(Js(a),0),d}get allowsNesting(){return!0}}return c.setState=or.define(),c})();function Uye(c,l,a){let h=c.facet($m),d=Js(c).topNode;if(!h||h.allowsNesting)for(let f=d;f;f=f.enter(l,a,ks.ExcludeBuffers))f.type.isTop&&(d=f);return d}class MO extends mh{constructor(l,a,h){super(l,a,[],h),this.parser=a}static define(l){let a=jH(l.languageData);return new MO(a,l.parser.configure({props:[_v.add(h=>h.isTop?a:void 0)]}),l.name)}configure(l,a){return new MO(this.data,this.parser.configure(l),a||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Js(c){let l=c.field(mh.state,!1);return l?l.tree:Ks.empty}class M0t{constructor(l){this.doc=l,this.cursorPos=0,this.string="",this.cursor=l.iter()}get length(){return this.doc.length}syncTo(l){return this.string=this.cursor.next(l-this.cursorPos).value,this.cursorPos=l+this.string.length,this.cursorPos-this.string.length}chunk(l){return this.syncTo(l),this.string}get lineChunks(){return!0}read(l,a){let h=this.cursorPos-this.string.length;return l<h||a>=this.cursorPos?this.doc.sliceString(l,a):this.string.slice(l-h,a-h)}}let TT=null;class EO{constructor(l,a,h=[],d,f,p,g,m){this.parser=l,this.state=a,this.fragments=h,this.tree=d,this.treeLen=f,this.viewport=p,this.skipped=g,this.scheduleOn=m,this.parse=null,this.tempSkipped=[]}static create(l,a,h){return new EO(l,a,[],Ks.empty,0,h,[],null)}startParse(){return this.parser.startParse(new M0t(this.state.doc),this.fragments)}work(l,a){return null!=a&&a>=this.state.doc.length&&(a=void 0),this.tree!=Ks.empty&&this.isDone(a??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var h;if("number"==typeof l){let d=Date.now()+l;l=()=>Date.now()>d}for(this.parse||(this.parse=this.startParse()),null!=a&&(null==this.parse.stoppedAt||this.parse.stoppedAt>a)&&a<this.state.doc.length&&this.parse.stopAt(a);;){let d=this.parse.advance();if(d){if(this.fragments=this.withoutTempSkipped(eg.addTree(d,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(h=this.parse.stoppedAt)&&void 0!==h?h:this.state.doc.length,this.tree=d,this.parse=null,!(this.treeLen<(a??this.state.doc.length)))return!0;this.parse=this.startParse()}if(l())return!1}})}takeTree(){let l,a;this.parse&&(l=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>l)&&this.parse.stopAt(l),this.withContext(()=>{for(;!(a=this.parse.advance()););}),this.treeLen=l,this.tree=a,this.fragments=this.withoutTempSkipped(eg.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(l){let a=TT;TT=this;try{return l()}finally{TT=a}}withoutTempSkipped(l){for(let a;a=this.tempSkipped.pop();)l=Qye(l,a.from,a.to);return l}changes(l,a){let{fragments:h,tree:d,treeLen:f,viewport:p,skipped:g}=this;if(this.takeTree(),!l.empty){let m=[];if(l.iterChangedRanges((v,_,y,b)=>m.push({fromA:v,toA:_,fromB:y,toB:b})),h=eg.applyChanges(h,m),d=Ks.empty,f=0,p={from:l.mapPos(p.from,-1),to:l.mapPos(p.to,1)},this.skipped.length){g=[];for(let v of this.skipped){let _=l.mapPos(v.from,1),y=l.mapPos(v.to,-1);_<y&&g.push({from:_,to:y})}}}return new EO(this.parser,a,h,d,f,p,g,this.scheduleOn)}updateViewport(l){if(this.viewport.from==l.from&&this.viewport.to==l.to)return!1;this.viewport=l;let a=this.skipped.length;for(let h=0;h<this.skipped.length;h++){let{from:d,to:f}=this.skipped[h];d<l.to&&f>l.from&&(this.fragments=Qye(this.fragments,d,f),this.skipped.splice(h--,1))}return!(this.skipped.length>=a||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(l,a){this.skipped.push({from:l,to:a})}static getSkippingParser(l){return new class extends Eye{createParse(a,h,d){let f=d[0].from,p=d[d.length-1].to;return{parsedPos:f,advance(){let m=TT;if(m){for(let v of d)m.tempSkipped.push(v);l&&(m.scheduleOn=m.scheduleOn?Promise.all([m.scheduleOn,l]):l)}return this.parsedPos=p,new Ks(sc.none,[],[],p-f)},stoppedAt:null,stopAt(){}}}}}isDone(l){l=Math.min(l,this.state.doc.length);let a=this.fragments;return this.treeLen>=l&&a.length&&0==a[0].from&&a[0].to>=l}static get(){return TT}}function Qye(c,l,a){return eg.applyChanges(c,[{fromA:l,toA:a,fromB:l,toB:a}])}class PO{constructor(l){this.context=l,this.tree=l.tree}apply(l){if(!l.docChanged&&this.tree==this.context.tree)return this;let a=this.context.changes(l.changes,l.state),h=this.context.treeLen==l.startState.doc.length?void 0:Math.max(l.changes.mapPos(this.context.treeLen),a.viewport.to);return a.work(20,h)||a.takeTree(),new PO(a)}static init(l){let a=Math.min(3e3,l.doc.length),h=EO.create(l.facet($m).parser,l,{from:0,to:a});return h.work(20,a)||h.takeTree(),new PO(h)}}mh.state=go.define({create:PO.init,update(c,l){for(let a of l.effects)if(a.is(mh.setState))return a.value;return l.startState.facet($m)!=l.state.facet($m)?PO.init(l.state):c.apply(l)}});let Hye=c=>{let l=setTimeout(()=>c(),500);return()=>clearTimeout(l)};typeof requestIdleCallback<"u"&&(Hye=c=>{let l=-1,a=setTimeout(()=>{l=requestIdleCallback(c,{timeout:400})},100);return()=>l<0?clearTimeout(a):cancelIdleCallback(l)});const XH=typeof navigator<"u"&&null!==(ZH=navigator.scheduling)&&void 0!==ZH&&ZH.isInputPending?()=>navigator.scheduling.isInputPending():null,Wye=mo.fromClass(class{constructor(l){this.view=l,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(l){let a=this.view.state.field(mh.state).context;(a.updateViewport(l.view.viewport)||this.view.viewport.to>a.treeLen)&&this.scheduleWork(),(l.docChanged||l.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(a)}scheduleWork(){if(this.working)return;let{state:l}=this.view,a=l.field(mh.state);(a.tree!=a.context.tree||!a.context.isDone(l.doc.length))&&(this.working=Hye(this.work))}work(l){this.working=null;let a=Date.now();if(this.chunkEnd<a&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=a+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:h,viewport:{to:d}}=this.view,f=h.field(mh.state);if(f.tree==f.context.tree&&f.context.isDone(d+1e5))return;let p=Date.now()+Math.min(this.chunkBudget,100,l&&!XH?Math.max(25,l.timeRemaining()-5):1e9),g=f.context.treeLen<d&&h.doc.length>d+1e3,m=f.context.work(()=>XH&&XH()||Date.now()>p,d+(g?0:1e5));this.chunkBudget-=Date.now()-a,(m||this.chunkBudget<=0)&&(f.context.takeTree(),this.view.dispatch({effects:mh.setState.of(new PO(f.context))})),this.chunkBudget>0&&!(m&&!g)&&this.scheduleWork(),this.checkAsyncSchedule(f.context)}checkAsyncSchedule(l){l.scheduleOn&&(this.workScheduled++,l.scheduleOn.then(()=>this.scheduleWork()).catch(a=>fh(this.view.state,a)).then(()=>this.workScheduled--),l.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),$m=$n.define({combine:c=>c.length?c[0]:null,enables:c=>[mh.state,Wye,yi.contentAttributes.compute([c],l=>{let a=l.facet(c);return a&&a.name?{"data-language":a.name}:{}})]});class YH{constructor(l,a=[]){this.language=l,this.support=a,this.extension=[l,a]}}const jye=$n.define(),CI=$n.define({combine:c=>{if(!c.length)return"  ";let l=c[0];if(!l||/\S/.test(l)||Array.from(l).some(a=>a!=l[0]))throw new Error("Invalid indent unit: "+JSON.stringify(c[0]));return l}});function yv(c){let l=c.facet(CI);return 9==l.charCodeAt(0)?c.tabSize*l.length:l.length}function AO(c,l){let a="",h=c.tabSize,d=c.facet(CI)[0];if("\t"==d){for(;l>=h;)a+="\t",l-=h;d=" "}for(let f=0;f<l;f++)a+=d;return a}function SI(c,l){c instanceof vl&&(c=new kT(c));for(let h of c.state.facet(jye)){let d=h(c,l);if(void 0!==d)return d}let a=Js(c.state);return a.length>=l?function E0t(c,l,a){let h=l.resolveStack(a),d=h.node.enterUnfinishedNodesBefore(a);if(d!=h.node){let f=[];for(let p=d;p!=h.node;p=p.parent)f.push(p);for(let p=f.length-1;p>=0;p--)h={node:f[p],next:h}}return Gye(h,c,a)}(c,a,l):null}class kT{constructor(l,a={}){this.state=l,this.options=a,this.unit=yv(l)}lineAt(l,a=1){let h=this.state.doc.lineAt(l),{simulateBreak:d,simulateDoubleBreak:f}=this.options;return null!=d&&d>=h.from&&d<=h.to?f&&d==l?{text:"",from:l}:(a<0?d<l:d<=l)?{text:h.text.slice(d-h.from),from:d}:{text:h.text.slice(0,d-h.from),from:h.from}:h}textAfterPos(l,a=1){if(this.options.simulateDoubleBreak&&l==this.options.simulateBreak)return"";let{text:h,from:d}=this.lineAt(l,a);return h.slice(l-d,Math.min(h.length,l+100-d))}column(l,a=1){let{text:h,from:d}=this.lineAt(l,a),f=this.countColumn(h,l-d),p=this.options.overrideIndentation?this.options.overrideIndentation(d):-1;return p>-1&&(f+=p-this.countColumn(h,h.search(/\S|$/))),f}countColumn(l,a=l.length){return OO(l,this.state.tabSize,a)}lineIndent(l,a=1){let{text:h,from:d}=this.lineAt(l,a),f=this.options.overrideIndentation;if(f){let p=f(d);if(p>-1)return p}return this.countColumn(h,h.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const wI=new ur;function Gye(c,l,a){for(let h=c;h;h=h.next){let d=A0t(h.node);if(d)return d(qH.create(l,a,h))}return 0}function A0t(c){let l=c.type.prop(wI);if(l)return l;let h,a=c.firstChild;if(a&&(h=a.type.prop(ur.closedBy))){let d=c.lastChild,f=d&&h.indexOf(d.name)>-1;return p=>Yye(p,!0,1,void 0,f&&!function P0t(c){return c.pos==c.options.simulateBreak&&c.options.simulateDoubleBreak}(p)?d.from:void 0)}return null==c.parent?I0t:null}function I0t(){return 0}class qH extends kT{constructor(l,a,h){super(l.state,l.options),this.base=l,this.pos=a,this.context=h}get node(){return this.context.node}static create(l,a,h){return new qH(l,a,h)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(l){let a=this.state.doc.lineAt(l.from);for(;;){let h=l.resolve(a.from);for(;h.parent&&h.parent.from==h.from;)h=h.parent;if(R0t(h,l))break;a=this.state.doc.lineAt(h.from)}return this.lineIndent(a.from)}continue(){return Gye(this.context.next,this.base,this.pos)}}function R0t(c,l){for(let a=l;a;a=a.parent)if(c==a)return!0;return!1}function Xye({closing:c,align:l=!0,units:a=1}){return h=>Yye(h,l,a,c)}function Yye(c,l,a,h,d){let f=c.textAfter,p=f.match(/^\s*/)[0].length,g=h&&f.slice(p,p+h.length)==h||d==c.pos+p,m=l?function L0t(c){let l=c.node,a=l.childAfter(l.from),h=l.lastChild;if(!a)return null;let d=c.options.simulateBreak,f=c.state.doc.lineAt(a.from),p=null==d||d<=f.from?f.to:Math.min(f.to,d);for(let g=a.to;;){let m=l.childAfter(g);if(!m||m==h)return null;if(!m.type.isSkipped)return m.from<p?a:null;g=m.to}}(c):null;return m?c.column(g?m.from:m.to):c.baseIndent+(g?0:c.unit*a)}const qye=c=>c.baseIndent;function IO({except:c,units:l=1}={}){return a=>{let h=c&&c.test(a.textAfter);return a.baseIndent+(h?0:l*a.unit)}}const B0t=$n.define(),xI=new ur;function Kye(c){let l=c.firstChild,a=c.lastChild;return l&&l.to<a.from?{from:l.to,to:a.type.isError?c.to:a.from}:null}function $0t(c){let l=c.lastChild;return l&&l.to==c.to&&l.type.isError}function DT(c,l,a){for(let h of c.facet(B0t)){let d=h(c,l,a);if(d)return d}return function V0t(c,l,a){let h=Js(c);if(h.length<a)return null;let f=null;for(let p=h.resolveStack(a,1);p;p=p.next){let g=p.node;if(g.to<=a||g.from>a)continue;if(f&&g.from<l)break;let m=g.type.prop(xI);if(m&&(g.to<h.length-50||h.length==c.doc.length||!$0t(g))){let v=m(g,c);v&&v.from<=a&&v.from>=l&&v.to>a&&(f=v)}}return f}(c,l,a)}function Jye(c,l){let a=l.mapPos(c.from,1),h=l.mapPos(c.to,-1);return a>=h?void 0:{from:a,to:h}}const MT=or.define({map:Jye}),RO=or.define({map:Jye});function KH(c){let l=[];for(let{head:a}of c.state.selection.ranges)l.some(h=>h.from<=a&&h.to>=a)||l.push(c.lineBlockAt(a));return l}const zm=go.define({create:()=>ii.none,update(c,l){c=c.map(l.changes);for(let a of l.effects)if(a.is(MT)&&!z0t(c,a.value.from,a.value.to)){let{preparePlaceholder:h}=l.state.facet(eW),d=h?ii.replace({widget:new X0t(h(l.state,a.value))}):nbe;c=c.update({add:[d.range(a.value.from,a.value.to)]})}else a.is(RO)&&(c=c.update({filter:(h,d)=>a.value.from!=h||a.value.to!=d,filterFrom:a.value.from,filterTo:a.value.to}));if(l.selection){let a=!1,{head:h}=l.selection.main;c.between(h,h,(d,f)=>{d<h&&f>h&&(a=!0)}),a&&(c=c.update({filterFrom:h,filterTo:h,filter:(d,f)=>f<=h||d>=h}))}return c},provide:c=>yi.decorations.from(c),toJSON(c,l){let a=[];return c.between(0,l.doc.length,(h,d)=>{a.push(h,d)}),a},fromJSON(c){if(!Array.isArray(c)||c.length%2)throw new RangeError("Invalid JSON for fold state");let l=[];for(let a=0;a<c.length;){let h=c[a++],d=c[a++];if("number"!=typeof h||"number"!=typeof d)throw new RangeError("Invalid JSON for fold state");l.push(nbe.range(h,d))}return ii.set(l,!0)}});function ET(c,l,a){var h;let d=null;return null===(h=c.field(zm,!1))||void 0===h||h.between(l,a,(f,p)=>{(!d||d.from>f)&&(d={from:f,to:p})}),d}function z0t(c,l,a){let h=!1;return c.between(l,l,(d,f)=>{d==l&&f==a&&(h=!0)}),h}function JH(c,l){return c.field(zm,!1)?l:l.concat(or.appendConfig.of(ebe()))}function TI(c,l,a=!0){let h=c.state.doc.lineAt(l.from).number,d=c.state.doc.lineAt(l.to).number;return yi.announce.of(`${c.state.phrase(a?"Folded lines":"Unfolded lines")} ${h} ${c.state.phrase("to")} ${d}.`)}const j0t=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:c=>{for(let l of KH(c)){let a=DT(c.state,l.from,l.to);if(a)return c.dispatch({effects:JH(c.state,[MT.of(a),TI(c,a)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:c=>{if(!c.state.field(zm,!1))return!1;let l=[];for(let a of KH(c)){let h=ET(c.state,a.from,a.to);h&&l.push(RO.of(h),TI(c,h,!1))}return l.length&&c.dispatch({effects:l}),l.length>0}},{key:"Ctrl-Alt-[",run:c=>{let{state:l}=c,a=[];for(let h=0;h<l.doc.length;){let d=c.lineBlockAt(h),f=DT(l,d.from,d.to);f&&a.push(MT.of(f)),h=(f?c.lineBlockAt(f.to):d).to+1}return a.length&&c.dispatch({effects:JH(c.state,a)}),!!a.length}},{key:"Ctrl-Alt-]",run:c=>{let l=c.state.field(zm,!1);if(!l||!l.size)return!1;let a=[];return l.between(0,c.state.doc.length,(h,d)=>{a.push(RO.of({from:h,to:d}))}),c.dispatch({effects:a}),!0}}],G0t={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},eW=$n.define({combine:c=>ud(c,G0t)});function ebe(c){let l=[zm,K0t];return c&&l.push(eW.of(c)),l}function tbe(c,l){let{state:a}=c,h=a.facet(eW),d=p=>{let g=c.lineBlockAt(c.posAtDOM(p.target)),m=ET(c.state,g.from,g.to);m&&c.dispatch({effects:RO.of(m)}),p.preventDefault()};if(h.placeholderDOM)return h.placeholderDOM(c,d,l);let f=document.createElement("span");return f.textContent=h.placeholderText,f.setAttribute("aria-label",a.phrase("folded code")),f.title=a.phrase("unfold"),f.className="cm-foldPlaceholder",f.onclick=d,f}const nbe=ii.replace({widget:new class extends Jp{toDOM(c){return tbe(c,null)}}});class X0t extends Jp{constructor(l){super(),this.value=l}eq(l){return this.value==l.value}toDOM(l){return tbe(l,this.value)}}const Y0t={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class tW extends ph{constructor(l,a){super(),this.config=l,this.open=a}eq(l){return this.config==l.config&&this.open==l.open}toDOM(l){if(this.config.markerDOM)return this.config.markerDOM(this.open);let a=document.createElement("span");return a.textContent=this.open?this.config.openText:this.config.closedText,a.title=l.state.phrase(this.open?"Fold line":"Unfold line"),a}}function q0t(c={}){let l=Object.assign(Object.assign({},Y0t),c),a=new tW(l,!0),h=new tW(l,!1),d=mo.fromClass(class{constructor(p){this.from=p.viewport.from,this.markers=this.buildMarkers(p)}update(p){(p.docChanged||p.viewportChanged||p.startState.facet($m)!=p.state.facet($m)||p.startState.field(zm,!1)!=p.state.field(zm,!1)||Js(p.startState)!=Js(p.state)||l.foldingChanged(p))&&(this.markers=this.buildMarkers(p.view))}buildMarkers(p){let g=new Mm;for(let m of p.viewportLineBlocks){let v=ET(p.state,m.from,m.to)?h:DT(p.state,m.from,m.to)?a:null;v&&g.add(m.from,m.from,v)}return g.finish()}}),{domEventHandlers:f}=l;return[d,hI({class:"cm-foldGutter",markers(p){var g;return(null===(g=p.plugin(d))||void 0===g?void 0:g.markers)||Qs.empty},initialSpacer:()=>new tW(l,!1),domEventHandlers:Object.assign(Object.assign({},f),{click:(p,g,m)=>{if(f.click&&f.click(p,g,m))return!0;let v=ET(p.state,g.from,g.to);if(v)return p.dispatch({effects:RO.of(v)}),!0;let _=DT(p.state,g.from,g.to);return!!_&&(p.dispatch({effects:MT.of(_)}),!0)}})}),ebe()]}const K0t=yi.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class LO{constructor(l,a){let h;function d(g){let m=Em.newName();return(h||(h=Object.create(null)))["."+m]=g,m}this.specs=l;const f="string"==typeof a.all?a.all:a.all?d(a.all):void 0,p=a.scope;this.scope=p instanceof mh?g=>g.prop(_v)==p.data:p?g=>g==p:void 0,this.style=Bye(l.map(g=>({tag:g.tag,class:g.class||d(Object.assign({},g,{tag:null}))})),{all:f}).style,this.module=h?new Em(h):null,this.themeType=a.themeType}static define(l,a){return new LO(l,a||{})}}const nW=$n.define(),ibe=$n.define({combine:c=>c.length?[c[0]]:null});function kI(c){let l=c.facet(nW);return l.length?l:c.facet(ibe)}function PT(c,l){let h,a=[e1t];return c instanceof LO&&(c.module&&a.push(yi.styleModule.of(c.module)),h=c.themeType),a.push(l?.fallback?ibe.of(c):h?nW.computeN([yi.darkTheme],d=>d.facet(yi.darkTheme)==("dark"==h)?[c]:[]):nW.of(c)),a}class J0t{constructor(l){this.markCache=Object.create(null),this.tree=Js(l.state),this.decorations=this.buildDeco(l,kI(l.state))}update(l){let a=Js(l.state),h=kI(l.state),d=h!=kI(l.startState);a.length<l.view.viewport.to&&!d&&a.type==this.tree.type?this.decorations=this.decorations.map(l.changes):(a!=this.tree||l.viewportChanged||d)&&(this.tree=a,this.decorations=this.buildDeco(l.view,h))}buildDeco(l,a){if(!a||!this.tree.length)return ii.none;let h=new Mm;for(let{from:d,to:f}of l.visibleRanges)Vye(this.tree,a,(p,g,m)=>{h.add(p,g,this.markCache[m]||(this.markCache[m]=ii.mark({class:m})))},d,f);return h.finish()}}const e1t=fv.high(mo.fromClass(J0t,{decorations:c=>c.decorations})),t1t=LO.define([{tag:le.meta,color:"#404740"},{tag:le.link,textDecoration:"underline"},{tag:le.heading,textDecoration:"underline",fontWeight:"bold"},{tag:le.emphasis,fontStyle:"italic"},{tag:le.strong,fontWeight:"bold"},{tag:le.strikethrough,textDecoration:"line-through"},{tag:le.keyword,color:"#708"},{tag:[le.atom,le.bool,le.url,le.contentSeparator,le.labelName],color:"#219"},{tag:[le.literal,le.inserted],color:"#164"},{tag:[le.string,le.deleted],color:"#a11"},{tag:[le.regexp,le.escape,le.special(le.string)],color:"#e40"},{tag:le.definition(le.variableName),color:"#00f"},{tag:le.local(le.variableName),color:"#30a"},{tag:[le.typeName,le.namespace],color:"#085"},{tag:le.className,color:"#167"},{tag:[le.special(le.variableName),le.macroName],color:"#256"},{tag:le.definition(le.propertyName),color:"#00c"},{tag:le.comment,color:"#940"},{tag:le.invalid,color:"#f00"}]),n1t=yi.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),rbe=1e4,sbe="()[]{}",obe=$n.define({combine:c=>ud(c,{afterCursor:!0,brackets:sbe,maxScanDistance:rbe,renderMatch:s1t})}),i1t=ii.mark({class:"cm-matchingBracket"}),r1t=ii.mark({class:"cm-nonmatchingBracket"});function s1t(c){let l=[],a=c.matched?i1t:r1t;return l.push(a.range(c.start.from,c.start.to)),c.end&&l.push(a.range(c.end.from,c.end.to)),l}const o1t=[go.define({create:()=>ii.none,update(c,l){if(!l.docChanged&&!l.selection)return c;let a=[],h=l.state.facet(obe);for(let d of l.state.selection.ranges){if(!d.empty)continue;let f=Af(l.state,d.head,-1,h)||d.head>0&&Af(l.state,d.head-1,1,h)||h.afterCursor&&(Af(l.state,d.head,1,h)||d.head<l.state.doc.length&&Af(l.state,d.head+1,-1,h));f&&(a=a.concat(h.renderMatch(f,l.state)))}return ii.set(a,!0)},provide:c=>yi.decorations.from(c)}),n1t];function a1t(c={}){return[obe.of(c),o1t]}const l1t=new ur;function iW(c,l,a){let h=c.prop(l<0?ur.openedBy:ur.closedBy);if(h)return h;if(1==c.name.length){let d=a.indexOf(c.name);if(d>-1&&d%2==(l<0?1:0))return[a[d+l]]}return null}function rW(c){let l=c.type.prop(l1t);return l?l(c.node):c}function Af(c,l,a,h={}){let d=h.maxScanDistance||rbe,f=h.brackets||sbe,p=Js(c),g=p.resolveInner(l,a);for(let m=g;m;m=m.parent){let v=iW(m.type,a,f);if(v&&m.from<m.to){let _=rW(m);if(_&&(a>0?l>=_.from&&l<_.to:l>_.from&&l<=_.to))return c1t(0,0,a,m,_,v,f)}}return function u1t(c,l,a,h,d,f,p){let g=a<0?c.sliceDoc(l-1,l):c.sliceDoc(l,l+1),m=p.indexOf(g);if(m<0||m%2==0!=a>0)return null;let v={from:a<0?l-1:l,to:a>0?l+1:l},_=c.doc.iterRange(l,a>0?c.doc.length:0),y=0;for(let b=0;!_.next().done&&b<=f;){let O=_.value;a<0&&(b+=O.length);let C=l+b*a;for(let S=a>0?0:O.length-1,w=a>0?O.length:-1;S!=w;S+=a){let x=p.indexOf(O[S]);if(!(x<0||h.resolveInner(C+S,1).type!=d))if(x%2==0==a>0)y++;else{if(1==y)return{start:v,end:{from:C+S,to:C+S+1},matched:x>>1==m>>1};y--}}a>0&&(b+=O.length)}return _.done?{start:v,matched:!1}:null}(c,l,a,p,g.type,d,f)}function c1t(c,l,a,h,d,f,p){let g=h.parent,m={from:d.from,to:d.to},v=0,_=g?.cursor();if(_&&(a<0?_.childBefore(h.from):_.childAfter(h.to)))do{if(a<0?_.to<=h.from:_.from>=h.to){if(0==v&&f.indexOf(_.type.name)>-1&&_.from<_.to){let y=rW(_);return{start:m,end:y?{from:y.from,to:y.to}:void 0,matched:!0}}if(iW(_.type,a,p))v++;else if(iW(_.type,-a,p)){if(0==v){let y=rW(_);return{start:m,end:y&&y.from<y.to?{from:y.from,to:y.to}:void 0,matched:!1}}v--}}}while(a<0?_.prevSibling():_.nextSibling());return{start:m,matched:!1}}const oW=Object.create(null),AT=[sc.none],fbe=[],pbe=Object.create(null),gbe=Object.create(null);for(let[c,l]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])gbe[c]=vbe(oW,l);function aW(c,l){fbe.indexOf(c)>-1||(fbe.push(c),console.warn(l))}function vbe(c,l){let a=[];for(let g of l.split(" ")){let m=[];for(let v of g.split(".")){let _=c[v]||le[v];_?"function"==typeof _?m.length?m=m.map(_):aW(v,`Modifier ${v} used at start of tag`):m.length?aW(v,`Tag ${v} used as modifier`):m=Array.isArray(_)?_:[_]:aW(v,`Unknown highlighting tag ${v}`)}for(let v of m)a.push(v)}if(!a.length)return 0;let h=l.replace(/ /g,"_"),d=h+" "+a.map(g=>g.id),f=pbe[d];if(f)return f.id;let p=pbe[d]=sc.define({id:AT.length,name:h,props:[vI({[h]:a})]});return AT.push(p),p.id}function lW(c,l){return({state:a,dispatch:h})=>{if(a.readOnly)return!1;let d=c(l,a);return!!d&&(h(a.update(d)),!0)}}const y1t=lW(w1t,0),b1t=lW(_be,0),O1t=lW((c,l)=>_be(c,l,function S1t(c){let l=[];for(let a of c.selection.ranges){let h=c.doc.lineAt(a.from),d=a.to<=h.to?h:c.doc.lineAt(a.to),f=l.length-1;f>=0&&l[f].to>h.from?l[f].to=d.to:l.push({from:h.from+/^\s*/.exec(h.text)[0].length,to:d.to})}return l}(l)),0);function cW(c,l){let a=c.languageDataAt("commentTokens",l);return a.length?a[0]:{}}const IT=50;function _be(c,l,a=l.selection.ranges){let h=a.map(f=>cW(l,f.from).block);if(!h.every(f=>f))return null;let d=a.map((f,p)=>function C1t(c,{open:l,close:a},h,d){let _,y,f=c.sliceDoc(h-IT,h),p=c.sliceDoc(d,d+IT),g=/\s*$/.exec(f)[0].length,m=/^\s*/.exec(p)[0].length,v=f.length-g;if(f.slice(v-l.length,v)==l&&p.slice(m,m+a.length)==a)return{open:{pos:h-g,margin:g&&1},close:{pos:d+m,margin:m&&1}};d-h<=2*IT?_=y=c.sliceDoc(h,d):(_=c.sliceDoc(h,h+IT),y=c.sliceDoc(d-IT,d));let b=/^\s*/.exec(_)[0].length,O=/\s*$/.exec(y)[0].length,C=y.length-O-a.length;return _.slice(b,b+l.length)==l&&y.slice(C,C+a.length)==a?{open:{pos:h+b+l.length,margin:/\s/.test(_.charAt(b+l.length))?1:0},close:{pos:d-O-a.length,margin:/\s/.test(y.charAt(C-1))?1:0}}:null}(l,h[p],f.from,f.to));if(2!=c&&!d.every(f=>f))return{changes:l.changes(a.map((f,p)=>d[p]?[]:[{from:f.from,insert:h[p].open+" "},{from:f.to,insert:" "+h[p].close}]))};if(1!=c&&d.some(f=>f)){let f=[];for(let g,p=0;p<d.length;p++)if(g=d[p]){let m=h[p],{open:v,close:_}=g;f.push({from:v.pos-m.open.length,to:v.pos+v.margin},{from:_.pos-_.margin,to:_.pos+m.close.length})}return{changes:f}}return null}function w1t(c,l,a=l.selection.ranges){let h=[],d=-1;for(let{from:f,to:p}of a){let g=h.length,m=1e9,v=cW(l,f).line;if(v){for(let _=f;_<=p;){let y=l.doc.lineAt(_);if(y.from>d&&(f==p||p>y.from)){d=y.from;let b=/^\s*/.exec(y.text)[0].length,O=b==y.length,C=y.text.slice(b,b+v.length)==v?b:-1;b<y.text.length&&b<m&&(m=b),h.push({line:y,comment:C,token:v,indent:b,empty:O,single:!1})}_=y.to+1}if(m<1e9)for(let _=g;_<h.length;_++)h[_].indent<h[_].line.text.length&&(h[_].indent=m);h.length==g+1&&(h[g].single=!0)}}if(2!=c&&h.some(f=>f.comment<0&&(!f.empty||f.single))){let f=[];for(let{line:g,token:m,indent:v,empty:_,single:y}of h)(y||!_)&&f.push({from:g.from+v,insert:m+" "});let p=l.changes(f);return{changes:p,selection:l.selection.map(p,1)}}if(1!=c&&h.some(f=>f.comment>=0)){let f=[];for(let{line:p,comment:g,token:m}of h)if(g>=0){let v=p.from+g,_=v+m.length;" "==p.text[_-p.from]&&_++,f.push({from:v,to:_})}return{changes:f}}return null}const uW=Xp.define(),x1t=Xp.define(),T1t=$n.define(),ybe=$n.define({combine:c=>ud(c,{minDepth:100,newGroupDelay:500,joinToEvent:(l,a)=>a},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(l,a)=>(h,d)=>l(h,d)||a(h,d)})}),hW=go.define({create:()=>pW.empty,update(c,l){let a=l.state.facet(ybe),h=l.annotation(uW);if(h){let m=Qc.fromTransaction(l,h.selection),v=h.side,_=0==v?c.undone:c.done;return _=m?MI(_,_.length,a.minDepth,m):Cbe(_,l.startState.selection),new pW(0==v?h.rest:_,0==v?_:h.rest)}let d=l.annotation(x1t);if(("full"==d||"before"==d)&&(c=c.isolate()),!1===l.annotation(wf.addToHistory))return l.changes.empty?c:c.addMapping(l.changes.desc);let f=Qc.fromTransaction(l),p=l.annotation(wf.time),g=l.annotation(wf.userEvent);return f?c=c.addChanges(f,p,g,a,l):l.selection&&(c=c.addSelection(l.startState.selection,p,g,a.newGroupDelay)),("full"==d||"after"==d)&&(c=c.isolate()),c},toJSON:c=>({done:c.done.map(l=>l.toJSON()),undone:c.undone.map(l=>l.toJSON())}),fromJSON:c=>new pW(c.done.map(Qc.fromJSON),c.undone.map(Qc.fromJSON))});function k1t(c={}){return[hW,ybe.of(c),yi.domEventHandlers({beforeinput(l,a){let h="historyUndo"==l.inputType?bbe:"historyRedo"==l.inputType?dW:null;return!!h&&(l.preventDefault(),h(a))}})]}function DI(c,l){return function({state:a,dispatch:h}){if(!l&&a.readOnly)return!1;let d=a.field(hW,!1);if(!d)return!1;let f=d.pop(c,a,l);return!!f&&(h(f),!0)}}const bbe=DI(0,!1),dW=DI(1,!1),D1t=DI(0,!0),M1t=DI(1,!0);class Qc{constructor(l,a,h,d,f){this.changes=l,this.effects=a,this.mapped=h,this.startSelection=d,this.selectionsAfter=f}setSelAfter(l){return new Qc(this.changes,this.effects,this.mapped,this.startSelection,l)}toJSON(){var l,a,h;return{changes:null===(l=this.changes)||void 0===l?void 0:l.toJSON(),mapped:null===(a=this.mapped)||void 0===a?void 0:a.toJSON(),startSelection:null===(h=this.startSelection)||void 0===h?void 0:h.toJSON(),selectionsAfter:this.selectionsAfter.map(d=>d.toJSON())}}static fromJSON(l){return new Qc(l.changes&&ua.fromJSON(l.changes),[],l.mapped&&Sf.fromJSON(l.mapped),l.startSelection&&Rt.fromJSON(l.startSelection),l.selectionsAfter.map(Rt.fromJSON))}static fromTransaction(l,a){let h=vh;for(let d of l.startState.facet(T1t)){let f=d(l);f.length&&(h=h.concat(f))}return!h.length&&l.changes.empty?null:new Qc(l.changes.invert(l.startState.doc),h,void 0,a||l.startState.selection,vh)}static selection(l){return new Qc(void 0,vh,void 0,void 0,l)}}function MI(c,l,a,h){let f=c.slice(l+1>a+20?l-a-1:0,l);return f.push(h),f}function Obe(c,l){return c.length?l.length?c.concat(l):c:l}const vh=[],A1t=200;function Cbe(c,l){if(c.length){let a=c[c.length-1],h=a.selectionsAfter.slice(Math.max(0,a.selectionsAfter.length-A1t));return h.length&&h[h.length-1].eq(l)?c:(h.push(l),MI(c,c.length-1,1e9,a.setSelAfter(h)))}return[Qc.selection([l])]}function I1t(c){let l=c[c.length-1],a=c.slice();return a[c.length-1]=l.setSelAfter(l.selectionsAfter.slice(0,l.selectionsAfter.length-1)),a}function fW(c,l){if(!c.length)return c;let a=c.length,h=vh;for(;a;){let d=R1t(c[a-1],l,h);if(d.changes&&!d.changes.empty||d.effects.length){let f=c.slice(0,a);return f[a-1]=d,f}l=d.mapped,a--,h=d.selectionsAfter}return h.length?[Qc.selection(h)]:vh}function R1t(c,l,a){let h=Obe(c.selectionsAfter.length?c.selectionsAfter.map(g=>g.map(l)):vh,a);if(!c.changes)return Qc.selection(h);let d=c.changes.map(l),f=l.mapDesc(c.changes,!0),p=c.mapped?c.mapped.composeDesc(f):f;return new Qc(d,or.mapEffects(c.effects,l),p,c.startSelection.map(f),h)}const L1t=/^(input\.type|delete)($|\.)/;let pW=(()=>{class c{constructor(a,h,d=0,f=void 0){this.done=a,this.undone=h,this.prevTime=d,this.prevUserEvent=f}isolate(){return this.prevTime?new c(this.done,this.undone):this}addChanges(a,h,d,f,p){let g=this.done,m=g[g.length-1];return g=m&&m.changes&&!m.changes.empty&&a.changes&&(!d||L1t.test(d))&&(!m.selectionsAfter.length&&h-this.prevTime<f.newGroupDelay&&f.joinToEvent(p,function E1t(c,l){let a=[],h=!1;return c.iterChangedRanges((d,f)=>a.push(d,f)),l.iterChangedRanges((d,f,p,g)=>{for(let m=0;m<a.length;){let v=a[m++],_=a[m++];g>=v&&p<=_&&(h=!0)}}),h}(m.changes,a.changes))||"input.type.compose"==d)?MI(g,g.length-1,f.minDepth,new Qc(a.changes.compose(m.changes),Obe(a.effects,m.effects),m.mapped,m.startSelection,vh)):MI(g,g.length,f.minDepth,a),new c(g,vh,h,d)}addSelection(a,h,d,f){let p=this.done.length?this.done[this.done.length-1].selectionsAfter:vh;return p.length>0&&h-this.prevTime<f&&d==this.prevUserEvent&&d&&/^select($|\.)/.test(d)&&function P1t(c,l){return c.ranges.length==l.ranges.length&&0===c.ranges.filter((a,h)=>a.empty!=l.ranges[h].empty).length}(p[p.length-1],a)?this:new c(Cbe(this.done,a),this.undone,h,d)}addMapping(a){return new c(fW(this.done,a),fW(this.undone,a),this.prevTime,this.prevUserEvent)}pop(a,h,d){let f=0==a?this.done:this.undone;if(0==f.length)return null;let p=f[f.length-1],g=p.selectionsAfter[0]||h.selection;if(d&&p.selectionsAfter.length)return h.update({selection:p.selectionsAfter[p.selectionsAfter.length-1],annotations:uW.of({side:a,rest:I1t(f),selection:g}),userEvent:0==a?"select.undo":"select.redo",scrollIntoView:!0});if(p.changes){let m=1==f.length?vh:f.slice(0,f.length-1);return p.mapped&&(m=fW(m,p.mapped)),h.update({changes:p.changes,selection:p.startSelection,effects:p.effects,annotations:uW.of({side:a,rest:m,selection:g}),filter:!1,userEvent:0==a?"undo":"redo",scrollIntoView:!0})}return null}}return c.empty=new c(vh,vh),c})();const N1t=[{key:"Mod-z",run:bbe,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:dW,preventDefault:!0},{linux:"Ctrl-Shift-z",run:dW,preventDefault:!0},{key:"Mod-u",run:D1t,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:M1t,preventDefault:!0}];function NO(c,l){return Rt.create(c.ranges.map(l),c.mainIndex)}function If(c,l){return c.update({selection:l,scrollIntoView:!0,userEvent:"select"})}function _h({state:c,dispatch:l},a){let h=NO(c.selection,a);return!h.eq(c.selection)&&(l(If(c,h)),!0)}function RT(c,l){return Rt.cursor(l?c.to:c.from)}function EI(c,l){return _h(c,a=>a.empty?c.moveByChar(a,l):RT(a,l))}function Ol(c){return c.textDirectionAt(c.state.selection.main.head)==qs.LTR}const Sbe=c=>EI(c,!Ol(c)),wbe=c=>EI(c,Ol(c));function PI(c,l){return _h(c,a=>a.empty?c.moveByGroup(a,l):RT(a,l))}function V1t(c,l,a){if(l.type.prop(a))return!0;let h=l.to-l.from;return h&&(h>2||/[^\s,.;:]/.test(c.sliceDoc(l.from,l.to)))||l.firstChild}function AI(c,l,a){let p,g,h=Js(c).resolveInner(l.head),d=a?ur.closedBy:ur.openedBy;for(let m=l.head;;){let v=a?h.childAfter(m):h.childBefore(m);if(!v)break;V1t(c,v,d)?h=v:m=a?v.to:v.from}return g=h.type.prop(d)&&(p=a?Af(c,h.from,1):Af(c,h.to,-1))&&p.matched?a?p.end.to:p.end.from:a?h.to:h.from,Rt.cursor(g,a?-1:1)}function Dbe(c,l){return _h(c,a=>{if(!a.empty)return RT(a,l);let h=c.moveVertically(a,l);return h.head!=a.head?h:c.moveToLineBoundary(a,l)})}typeof Intl<"u"&&Intl;const Mbe=c=>Dbe(c,!1),Ebe=c=>Dbe(c,!0);function Pbe(c){let d,l=c.scrollDOM.clientHeight<c.scrollDOM.scrollHeight-2,a=0,h=0;if(l){for(let f of c.state.facet(yi.scrollMargins)){let p=f(c);p?.top&&(a=Math.max(p?.top,a)),p?.bottom&&(h=Math.max(p?.bottom,h))}d=c.scrollDOM.clientHeight-a-h}else d=(c.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:a,marginBottom:h,selfScroll:l,height:Math.max(c.defaultLineHeight,d-5)}}function Abe(c,l){let f,a=Pbe(c),{state:h}=c,d=NO(h.selection,p=>p.empty?c.moveVertically(p,l,a.height):RT(p,l));if(d.eq(h.selection))return!1;if(a.selfScroll){let p=c.coordsAtPos(h.selection.main.head),g=c.scrollDOM.getBoundingClientRect(),m=g.top+a.marginTop;p&&p.top>m&&p.bottom<g.bottom-a.marginBottom&&(f=yi.scrollIntoView(d.main.head,{y:"start",yMargin:p.top-m}))}return c.dispatch(If(h,d),{effects:f}),!0}const Ibe=c=>Abe(c,!1),gW=c=>Abe(c,!0);function Um(c,l,a){let h=c.lineBlockAt(l.head),d=c.moveToLineBoundary(l,a);if(d.head==l.head&&d.head!=(a?h.to:h.from)&&(d=c.moveToLineBoundary(l,a,!1)),!a&&d.head==h.from&&h.length){let f=/^\s*/.exec(c.state.sliceDoc(h.from,Math.min(h.from+100,h.to)))[0].length;f&&l.head!=h.from+f&&(d=Rt.cursor(h.from+f))}return d}function Su(c,l){let a=NO(c.state.selection,h=>{let d=l(h);return Rt.range(h.anchor,d.head,d.goalColumn,d.bidiLevel||void 0)});return!a.eq(c.state.selection)&&(c.dispatch(If(c.state,a)),!0)}function II(c,l){return Su(c,a=>c.moveByChar(a,l))}const Lbe=c=>II(c,!Ol(c)),Nbe=c=>II(c,Ol(c));function RI(c,l){return Su(c,a=>c.moveByGroup(a,l))}function Bbe(c,l){return Su(c,a=>c.moveVertically(a,l))}const Vbe=c=>Bbe(c,!1),$be=c=>Bbe(c,!0);function zbe(c,l){return Su(c,a=>c.moveVertically(a,l,Pbe(c).height))}const Ube=c=>zbe(c,!1),Qbe=c=>zbe(c,!0),Hbe=({state:c,dispatch:l})=>(l(If(c,{anchor:0})),!0),Wbe=({state:c,dispatch:l})=>(l(If(c,{anchor:c.doc.length})),!0),Zbe=({state:c,dispatch:l})=>(l(If(c,{anchor:c.selection.main.anchor,head:0})),!0),jbe=({state:c,dispatch:l})=>(l(If(c,{anchor:c.selection.main.anchor,head:c.doc.length})),!0);function FO(c,l){if(c.state.readOnly)return!1;let a="delete.selection",{state:h}=c,d=h.changeByRange(f=>{let{from:p,to:g}=f;if(p==g){let m=l(f);m<p?(a="delete.backward",m=LI(c,m,!1)):m>p&&(a="delete.forward",m=LI(c,m,!0)),p=Math.min(p,m),g=Math.max(g,m)}else p=LI(c,p,!1),g=LI(c,g,!0);return p==g?{range:f}:{changes:{from:p,to:g},range:Rt.cursor(p,p<f.head?-1:1)}});return!d.changes.empty&&(c.dispatch(h.update(d,{scrollIntoView:!0,userEvent:a,effects:"delete.selection"==a?yi.announce.of(h.phrase("Selection deleted")):void 0})),!0)}function LI(c,l,a){if(c instanceof yi)for(let h of c.state.facet(yi.atomicRanges).map(d=>d(c)))h.between(l,l,(d,f)=>{d<l&&f>l&&(l=a?f:d)});return l}const Gbe=(c,l)=>FO(c,a=>{let p,g,h=a.from,{state:d}=c,f=d.doc.lineAt(h);if(!l&&h>f.from&&h<f.from+200&&!/[^ \t]/.test(p=f.text.slice(0,h-f.from))){if("\t"==p[p.length-1])return h-1;let v=OO(p,d.tabSize)%yv(d)||yv(d);for(let _=0;_<v&&" "==p[p.length-1-_];_++)h--;g=h}else g=Za(f.text,h-f.from,l,l)+f.from,g==h&&f.number!=(l?d.doc.lines:1)?g+=l?1:-1:!l&&/[\ufe00-\ufe0f]/.test(f.text.slice(g-f.from,h-f.from))&&(g=Za(f.text,g-f.from,!1,!1)+f.from);return g}),mW=c=>Gbe(c,!1),Xbe=c=>Gbe(c,!0),Ybe=(c,l)=>FO(c,a=>{let h=a.head,{state:d}=c,f=d.doc.lineAt(h),p=d.charCategorizer(h);for(let g=null;;){if(h==(l?f.to:f.from)){h==a.head&&f.number!=(l?d.doc.lines:1)&&(h+=l?1:-1);break}let m=Za(f.text,h-f.from,l)+f.from,v=f.text.slice(Math.min(h,m)-f.from,Math.max(h,m)-f.from),_=p(v);if(null!=g&&_!=g)break;(" "!=v||h!=a.head)&&(g=_),h=m}return h}),qbe=c=>Ybe(c,!1);function NI(c){let l=[],a=-1;for(let h of c.selection.ranges){let d=c.doc.lineAt(h.from),f=c.doc.lineAt(h.to);if(!h.empty&&h.to==f.from&&(f=c.doc.lineAt(h.to-1)),a>=d.number){let p=l[l.length-1];p.to=f.to,p.ranges.push(h)}else l.push({from:d.from,to:f.to,ranges:[h]});a=f.number+1}return l}function Kbe(c,l,a){if(c.readOnly)return!1;let h=[],d=[];for(let f of NI(c)){if(a?f.to==c.doc.length:0==f.from)continue;let p=c.doc.lineAt(a?f.to+1:f.from-1),g=p.length+1;if(a){h.push({from:f.to,to:p.to},{from:f.from,insert:p.text+c.lineBreak});for(let m of f.ranges)d.push(Rt.range(Math.min(c.doc.length,m.anchor+g),Math.min(c.doc.length,m.head+g)))}else{h.push({from:p.from,to:f.from},{from:f.to,insert:c.lineBreak+p.text});for(let m of f.ranges)d.push(Rt.range(m.anchor-g,m.head-g))}}return!!h.length&&(l(c.update({changes:h,scrollIntoView:!0,selection:Rt.create(d,c.selection.mainIndex),userEvent:"move.line"})),!0)}function Jbe(c,l,a){if(c.readOnly)return!1;let h=[];for(let d of NI(c))h.push(a?{from:d.from,insert:c.doc.slice(d.from,d.to)+c.lineBreak}:{from:d.to,insert:c.lineBreak+c.doc.slice(d.from,d.to)});return l(c.update({changes:h,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Ovt=eOe(!1),Cvt=eOe(!0);function eOe(c){return({state:l,dispatch:a})=>{if(l.readOnly)return!1;let h=l.changeByRange(d=>{let{from:f,to:p}=d,g=l.doc.lineAt(f),m=!c&&f==p&&function bvt(c,l){if(/\(\)|\[\]|\{\}/.test(c.sliceDoc(l-1,l+1)))return{from:l,to:l};let f,a=Js(c).resolveInner(l),h=a.childBefore(l),d=a.childAfter(l);return h&&d&&h.to<=l&&d.from>=l&&(f=h.type.prop(ur.closedBy))&&f.indexOf(d.name)>-1&&c.doc.lineAt(h.to).from==c.doc.lineAt(d.from).from&&!/\S/.test(c.sliceDoc(h.to,d.from))?{from:h.to,to:d.from}:null}(l,f);c&&(f=p=(p<=g.to?g:l.doc.lineAt(p)).to);let v=new kT(l,{simulateBreak:f,simulateDoubleBreak:!!m}),_=SI(v,f);for(null==_&&(_=OO(/^\s*/.exec(l.doc.lineAt(f).text)[0],l.tabSize));p<g.to&&/\s/.test(g.text[p-g.from]);)p++;m?({from:f,to:p}=m):f>g.from&&f<g.from+100&&!/\S/.test(g.text.slice(0,f))&&(f=g.from);let y=["",AO(l,_)];return m&&y.push(AO(l,v.lineIndent(g.from,-1))),{changes:{from:f,to:p,insert:zr.of(y)},range:Rt.cursor(f+1+y[1].length)}});return a(l.update(h,{scrollIntoView:!0,userEvent:"input"})),!0}}function vW(c,l){let a=-1;return c.changeByRange(h=>{let d=[];for(let p=h.from;p<=h.to;){let g=c.doc.lineAt(p);g.number>a&&(h.empty||h.to>g.from)&&(l(g,d,h),a=g.number),p=g.to+1}let f=c.changes(d);return{changes:d,range:Rt.range(f.mapPos(h.anchor,1),f.mapPos(h.head,1))}})}const _W=({state:c,dispatch:l})=>!c.readOnly&&(l(c.update(vW(c,(a,h)=>{h.push({from:a.from,insert:c.facet(CI)})}),{userEvent:"input.indent"})),!0),tOe=({state:c,dispatch:l})=>!c.readOnly&&(l(c.update(vW(c,(a,h)=>{let d=/^\s*/.exec(a.text)[0];if(!d)return;let f=OO(d,c.tabSize),p=0,g=AO(c,Math.max(0,f-yv(c)));for(;p<d.length&&p<g.length&&d.charCodeAt(p)==g.charCodeAt(p);)p++;h.push({from:a.from+p,to:a.from+d.length,insert:g.slice(p)})}),{userEvent:"delete.dedent"})),!0),wvt=[{key:"Ctrl-b",run:Sbe,shift:Lbe,preventDefault:!0},{key:"Ctrl-f",run:wbe,shift:Nbe},{key:"Ctrl-p",run:Mbe,shift:Vbe},{key:"Ctrl-n",run:Ebe,shift:$be},{key:"Ctrl-a",run:c=>_h(c,l=>Rt.cursor(c.lineBlockAt(l.head).from,1)),shift:c=>Su(c,l=>Rt.cursor(c.lineBlockAt(l.head).from))},{key:"Ctrl-e",run:c=>_h(c,l=>Rt.cursor(c.lineBlockAt(l.head).to,-1)),shift:c=>Su(c,l=>Rt.cursor(c.lineBlockAt(l.head).to))},{key:"Ctrl-d",run:Xbe},{key:"Ctrl-h",run:mW},{key:"Ctrl-k",run:c=>FO(c,l=>{let a=c.lineBlockAt(l.head).to;return l.head<a?a:Math.min(c.state.doc.length,l.head+1)})},{key:"Ctrl-Alt-h",run:qbe},{key:"Ctrl-o",run:({state:c,dispatch:l})=>{if(c.readOnly)return!1;let a=c.changeByRange(h=>({changes:{from:h.from,to:h.to,insert:zr.of(["",""])},range:Rt.cursor(h.from)}));return l(c.update(a,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:c,dispatch:l})=>{if(c.readOnly)return!1;let a=c.changeByRange(h=>{if(!h.empty||0==h.from||h.from==c.doc.length)return{range:h};let d=h.from,f=c.doc.lineAt(d),p=d==f.from?d-1:Za(f.text,d-f.from,!1)+f.from,g=d==f.to?d+1:Za(f.text,d-f.from,!0)+f.from;return{changes:{from:p,to:g,insert:c.doc.slice(d,g).append(c.doc.slice(p,d))},range:Rt.cursor(g)}});return!a.changes.empty&&(l(c.update(a,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:gW}],xvt=[{key:"ArrowLeft",run:Sbe,shift:Lbe,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:c=>PI(c,!Ol(c)),shift:c=>RI(c,!Ol(c)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:c=>_h(c,l=>Um(c,l,!Ol(c))),shift:c=>Su(c,l=>Um(c,l,!Ol(c))),preventDefault:!0},{key:"ArrowRight",run:wbe,shift:Nbe,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:c=>PI(c,Ol(c)),shift:c=>RI(c,Ol(c)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:c=>_h(c,l=>Um(c,l,Ol(c))),shift:c=>Su(c,l=>Um(c,l,Ol(c))),preventDefault:!0},{key:"ArrowUp",run:Mbe,shift:Vbe,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Hbe,shift:Zbe},{mac:"Ctrl-ArrowUp",run:Ibe,shift:Ube},{key:"ArrowDown",run:Ebe,shift:$be,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Wbe,shift:jbe},{mac:"Ctrl-ArrowDown",run:gW,shift:Qbe},{key:"PageUp",run:Ibe,shift:Ube},{key:"PageDown",run:gW,shift:Qbe},{key:"Home",run:c=>_h(c,l=>Um(c,l,!1)),shift:c=>Su(c,l=>Um(c,l,!1)),preventDefault:!0},{key:"Mod-Home",run:Hbe,shift:Zbe},{key:"End",run:c=>_h(c,l=>Um(c,l,!0)),shift:c=>Su(c,l=>Um(c,l,!0)),preventDefault:!0},{key:"Mod-End",run:Wbe,shift:jbe},{key:"Enter",run:Ovt},{key:"Mod-a",run:({state:c,dispatch:l})=>(l(c.update({selection:{anchor:0,head:c.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:mW,shift:mW},{key:"Delete",run:Xbe},{key:"Mod-Backspace",mac:"Alt-Backspace",run:qbe},{key:"Mod-Delete",mac:"Alt-Delete",run:c=>Ybe(c,!0)},{mac:"Mod-Backspace",run:c=>FO(c,l=>{let a=c.moveToLineBoundary(l,!1).head;return l.head>a?a:Math.max(0,l.head-1)})},{mac:"Mod-Delete",run:c=>FO(c,l=>{let a=c.moveToLineBoundary(l,!0).head;return l.head<a?a:Math.min(c.state.doc.length,l.head+1)})}].concat(wvt.map(c=>({mac:c.key,run:c.run,shift:c.shift}))),Tvt=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:c=>_h(c,l=>AI(c.state,l,!Ol(c))),shift:c=>Su(c,l=>AI(c.state,l,!Ol(c)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:c=>_h(c,l=>AI(c.state,l,Ol(c))),shift:c=>Su(c,l=>AI(c.state,l,Ol(c)))},{key:"Alt-ArrowUp",run:({state:c,dispatch:l})=>Kbe(c,l,!1)},{key:"Shift-Alt-ArrowUp",run:({state:c,dispatch:l})=>Jbe(c,l,!1)},{key:"Alt-ArrowDown",run:({state:c,dispatch:l})=>Kbe(c,l,!0)},{key:"Shift-Alt-ArrowDown",run:({state:c,dispatch:l})=>Jbe(c,l,!0)},{key:"Escape",run:({state:c,dispatch:l})=>{let a=c.selection,h=null;return a.ranges.length>1?h=Rt.create([a.main]):a.main.empty||(h=Rt.create([Rt.cursor(a.main.head)])),!!h&&(l(If(c,h)),!0)}},{key:"Mod-Enter",run:Cvt},{key:"Alt-l",mac:"Ctrl-l",run:({state:c,dispatch:l})=>{let a=NI(c).map(({from:h,to:d})=>Rt.range(h,Math.min(d+1,c.doc.length)));return l(c.update({selection:Rt.create(a),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:c,dispatch:l})=>{let a=NO(c.selection,h=>{var d;for(let p=Js(c).resolveStack(h.from,1);p;p=p.next){let{node:g}=p;if((g.from<h.from&&g.to>=h.to||g.to>h.to&&g.from<=h.from)&&null!==(d=g.parent)&&void 0!==d&&d.parent)return Rt.range(g.to,g.from)}return h});return l(If(c,a)),!0},preventDefault:!0},{key:"Mod-[",run:tOe},{key:"Mod-]",run:_W},{key:"Mod-Alt-\\",run:({state:c,dispatch:l})=>{if(c.readOnly)return!1;let a=Object.create(null),h=new kT(c,{overrideIndentation:f=>a[f]??-1}),d=vW(c,(f,p,g)=>{let m=SI(h,f.from);if(null==m)return;/\S/.test(f.text)||(m=0);let v=/^\s*/.exec(f.text)[0],_=AO(c,m);(v!=_||g.from<f.from+v.length)&&(a[f.from]=m,p.push({from:f.from,to:f.from+v.length,insert:_}))});return d.changes.empty||l(c.update(d,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:c=>{if(c.state.readOnly)return!1;let{state:l}=c,a=l.changes(NI(l).map(({from:d,to:f})=>(d>0?d--:f<l.doc.length&&f++,{from:d,to:f}))),h=NO(l.selection,d=>c.moveVertically(d,!0)).map(a);return c.dispatch({changes:a,selection:h,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:c,dispatch:l})=>function Rbe(c,l,a){let h=!1,d=NO(c.selection,f=>{let p=Af(c,f.head,-1)||Af(c,f.head,1)||f.head>0&&Af(c,f.head-1,1)||f.head<c.doc.length&&Af(c,f.head+1,-1);if(!p||!p.end)return f;h=!0;let g=p.start.from==f.head?p.end.to:p.end.from;return a?Rt.range(f.anchor,g):Rt.cursor(g)});return!!h&&(l(If(c,d)),!0)}(c,l,!1)},{key:"Mod-/",run:c=>{let{state:l}=c,a=l.doc.lineAt(l.selection.main.from),h=cW(c.state,a.from);return h.line?y1t(c):!!h.block&&O1t(c)}},{key:"Alt-A",run:b1t}].concat(xvt),kvt={key:"Tab",run:_W,shift:tOe};function Ds(){var c=arguments[0];"string"==typeof c&&(c=document.createElement(c));var l=1,a=arguments[1];if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a)){for(var h in a)if(Object.prototype.hasOwnProperty.call(a,h)){var d=a[h];"string"==typeof d?c.setAttribute(h,d):null!=d&&(c[h]=d)}l++}for(;l<arguments.length;l++)nOe(c,arguments[l]);return c}function nOe(c,l){if("string"==typeof l)c.appendChild(document.createTextNode(l));else if(null!=l)if(null!=l.nodeType)c.appendChild(l);else{if(!Array.isArray(l))throw new RangeError("Unsupported child node: "+l);for(var a=0;a<l.length;a++)nOe(c,l[a])}}const iOe="function"==typeof String.prototype.normalize?c=>c.normalize("NFKD"):c=>c;class BO{constructor(l,a,h=0,d=l.length,f,p){this.test=p,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=l.iterRange(h,d),this.bufferStart=h,this.normalize=f?g=>f(iOe(g)):iOe,this.query=this.normalize(a)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ja(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let l=this.peek();if(l<0)return this.done=!0,this;let a=NQ(l),h=this.bufferStart+this.bufferPos;this.bufferPos+=dh(l);let d=this.normalize(a);for(let f=0,p=h;;f++){let g=d.charCodeAt(f),m=this.match(g,p);if(f==d.length-1){if(m)return this.value=m,this;break}p==h&&f<a.length&&a.charCodeAt(f)==g&&p++}}}match(l,a){let h=null;for(let d=0;d<this.matches.length;d+=2){let f=this.matches[d],p=!1;this.query.charCodeAt(f)==l&&(f==this.query.length-1?h={from:this.matches[d+1],to:a+1}:(this.matches[d]++,p=!0)),p||(this.matches.splice(d,2),d-=2)}return this.query.charCodeAt(0)==l&&(1==this.query.length?h={from:a,to:a+1}:this.matches.push(1,a)),h&&this.test&&!this.test(h.from,h.to,this.buffer,this.bufferStart)&&(h=null),h}}typeof Symbol<"u"&&(BO.prototype[Symbol.iterator]=function(){return this});const rOe={from:-1,to:-1,match:/.*/.exec("")},yW="gm"+(null==/x/.unicode?"":"u");class sOe{constructor(l,a,h,d=0,f=l.length){if(this.text=l,this.to=f,this.curLine="",this.done=!1,this.value=rOe,/\\[sWDnr]|\n|\r|\[\^/.test(a))return new oOe(l,a,h,d,f);this.re=new RegExp(a,yW+(h?.ignoreCase?"i":"")),this.test=h?.test,this.iter=l.iter();let p=l.lineAt(d);this.curLineStart=p.from,this.matchPos=FI(l,d),this.getLine(this.curLineStart)}getLine(l){this.iter.next(l),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let l=this.matchPos-this.curLineStart;;){this.re.lastIndex=l;let a=this.matchPos<=this.to&&this.re.exec(this.curLine);if(a){let h=this.curLineStart+a.index,d=h+a[0].length;if(this.matchPos=FI(this.text,d+(h==d?1:0)),h==this.curLineStart+this.curLine.length&&this.nextLine(),(h<d||h>this.value.to)&&(!this.test||this.test(h,d,a)))return this.value={from:h,to:d,match:a},this;l=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),l=0}}}}const bW=new WeakMap;class VO{constructor(l,a){this.from=l,this.text=a}get to(){return this.from+this.text.length}static get(l,a,h){let d=bW.get(l);if(!d||d.from>=h||d.to<=a){let g=new VO(a,l.sliceString(a,h));return bW.set(l,g),g}if(d.from==a&&d.to==h)return d;let{text:f,from:p}=d;return p>a&&(f=l.sliceString(a,p)+f,p=a),d.to<h&&(f+=l.sliceString(d.to,h)),bW.set(l,new VO(p,f)),new VO(a,f.slice(a-p,h-p))}}class oOe{constructor(l,a,h,d,f){this.text=l,this.to=f,this.done=!1,this.value=rOe,this.matchPos=FI(l,d),this.re=new RegExp(a,yW+(h?.ignoreCase?"i":"")),this.test=h?.test,this.flat=VO.get(l,d,this.chunkEnd(d+5e3))}chunkEnd(l){return l>=this.to?this.to:this.text.lineAt(l).to}next(){for(;;){let l=this.re.lastIndex=this.matchPos-this.flat.from,a=this.re.exec(this.flat.text);if(a&&!a[0]&&a.index==l&&(this.re.lastIndex=l+1,a=this.re.exec(this.flat.text)),a){let h=this.flat.from+a.index,d=h+a[0].length;if((this.flat.to>=this.to||a.index+a[0].length<=this.flat.text.length-10)&&(!this.test||this.test(h,d,a)))return this.value={from:h,to:d,match:a},this.matchPos=FI(this.text,d+(h==d?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=VO.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function FI(c,l){if(l>=c.length)return l;let h,a=c.lineAt(l);for(;l<a.to&&(h=a.text.charCodeAt(l-a.from))>=56320&&h<57344;)l++;return l}function OW(c){let a=Ds("input",{class:"cm-textfield",name:"line",value:String(c.state.doc.lineAt(c.state.selection.main.head).number)});function d(){let f=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(a.value);if(!f)return;let{state:p}=c,g=p.doc.lineAt(p.selection.main.head),[,m,v,_,y]=f,b=_?+_.slice(1):0,O=v?+v:g.number;if(v&&y){let w=O/100;m&&(w=w*("-"==m?-1:1)+g.number/p.doc.lines),O=Math.round(p.doc.lines*w)}else v&&m&&(O=O*("-"==m?-1:1)+g.number);let C=p.doc.line(Math.max(1,Math.min(p.doc.lines,O))),S=Rt.cursor(C.from+Math.max(0,Math.min(b,C.length)));c.dispatch({effects:[BI.of(!1),yi.scrollIntoView(S.from,{y:"center"})],selection:S}),c.focus()}return{dom:Ds("form",{class:"cm-gotoLine",onkeydown:f=>{27==f.keyCode?(f.preventDefault(),c.dispatch({effects:BI.of(!1)}),c.focus()):13==f.keyCode&&(f.preventDefault(),d())},onsubmit:f=>{f.preventDefault(),d()}},Ds("label",c.state.phrase("Go to line"),": ",a)," ",Ds("button",{class:"cm-button",type:"submit"},c.state.phrase("go")))}}typeof Symbol<"u"&&(sOe.prototype[Symbol.iterator]=oOe.prototype[Symbol.iterator]=function(){return this});const BI=or.define(),aOe=go.define({create:()=>!0,update(c,l){for(let a of l.effects)a.is(BI)&&(c=a.value);return c},provide:c=>OT.from(c,l=>l?OW:null)}),Evt=yi.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Pvt={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},lOe=$n.define({combine:c=>ud(c,Pvt,{highlightWordAroundCursor:(l,a)=>l||a,minSelectionLength:Math.min,maxMatches:Math.min})});function Avt(c){let l=[Fvt,Nvt];return c&&l.push(lOe.of(c)),l}const Ivt=ii.mark({class:"cm-selectionMatch"}),Rvt=ii.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function cOe(c,l,a,h){return!(0!=a&&c(l.sliceDoc(a-1,a))==Us.Word||h!=l.doc.length&&c(l.sliceDoc(h,h+1))==Us.Word)}const Nvt=mo.fromClass(class{constructor(c){this.decorations=this.getDeco(c)}update(c){(c.selectionSet||c.docChanged||c.viewportChanged)&&(this.decorations=this.getDeco(c.view))}getDeco(c){let l=c.state.facet(lOe),{state:a}=c,h=a.selection;if(h.ranges.length>1)return ii.none;let f,d=h.main,p=null;if(d.empty){if(!l.highlightWordAroundCursor)return ii.none;let m=a.wordAt(d.head);if(!m)return ii.none;p=a.charCategorizer(d.head),f=a.sliceDoc(m.from,m.to)}else{let m=d.to-d.from;if(m<l.minSelectionLength||m>200)return ii.none;if(l.wholeWords){if(f=a.sliceDoc(d.from,d.to),p=a.charCategorizer(d.head),!cOe(p,a,d.from,d.to)||!function Lvt(c,l,a,h){return c(l.sliceDoc(a,a+1))==Us.Word&&c(l.sliceDoc(h-1,h))==Us.Word}(p,a,d.from,d.to))return ii.none}else if(f=a.sliceDoc(d.from,d.to).trim(),!f)return ii.none}let g=[];for(let m of c.visibleRanges){let v=new BO(a.doc,f,m.from,m.to);for(;!v.next().done;){let{from:_,to:y}=v.value;if((!p||cOe(p,a,_,y))&&(d.empty&&_<=d.from&&y>=d.to?g.push(Rvt.range(_,y)):(_>=d.to||y<=d.from)&&g.push(Ivt.range(_,y)),g.length>l.maxMatches))return ii.none}}return ii.set(g)}},{decorations:c=>c.decorations}),Fvt=yi.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),bv=$n.define({combine:c=>ud(c,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:l=>new Kvt(l),scrollToMatch:l=>yi.scrollIntoView(l)})});class uOe{constructor(l){this.search=l.search,this.caseSensitive=!!l.caseSensitive,this.literal=!!l.literal,this.regexp=!!l.regexp,this.replace=l.replace||"",this.valid=!!this.search&&(!this.regexp||function Dvt(c){try{return new RegExp(c,yW),!0}catch{return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!l.wholeWord}unquote(l){return this.literal?l:l.replace(/\\([nrt\\])/g,(a,h)=>"n"==h?"\n":"r"==h?"\r":"t"==h?"\t":"\\")}eq(l){return this.search==l.search&&this.replace==l.replace&&this.caseSensitive==l.caseSensitive&&this.regexp==l.regexp&&this.wholeWord==l.wholeWord}create(){return this.regexp?new Hvt(this):new Uvt(this)}getCursor(l,a=0,h){let d=l.doc?l:vl.create({doc:l});return null==h&&(h=d.doc.length),this.regexp?zO(this,d,a,h):$O(this,d,a,h)}}class hOe{constructor(l){this.spec=l}}function $O(c,l,a,h){return new BO(l.doc,c.unquoted,a,h,c.caseSensitive?void 0:d=>d.toLowerCase(),c.wholeWord?function zvt(c,l){return(a,h,d,f)=>((f>a||f+d.length<h)&&(f=Math.max(0,a-2),d=c.sliceString(f,Math.min(c.length,h+2))),!(l(VI(d,a-f))==Us.Word&&l($I(d,a-f))==Us.Word||l($I(d,h-f))==Us.Word&&l(VI(d,h-f))==Us.Word))}(l.doc,l.charCategorizer(l.selection.main.head)):void 0)}class Uvt extends hOe{constructor(l){super(l)}nextMatch(l,a,h){let d=$O(this.spec,l,h,l.doc.length).nextOverlapping();return d.done&&(d=$O(this.spec,l,0,a).nextOverlapping()),d.done?null:d.value}prevMatchInRange(l,a,h){for(let d=h;;){let f=Math.max(a,d-1e4-this.spec.unquoted.length),p=$O(this.spec,l,f,d),g=null;for(;!p.nextOverlapping().done;)g=p.value;if(g)return g;if(f==a)return null;d-=1e4}}prevMatch(l,a,h){return this.prevMatchInRange(l,0,a)||this.prevMatchInRange(l,h,l.doc.length)}getReplacement(l){return this.spec.unquote(this.spec.replace)}matchAll(l,a){let h=$O(this.spec,l,0,l.doc.length),d=[];for(;!h.next().done;){if(d.length>=a)return null;d.push(h.value)}return d}highlight(l,a,h,d){let f=$O(this.spec,l,Math.max(0,a-this.spec.unquoted.length),Math.min(h+this.spec.unquoted.length,l.doc.length));for(;!f.next().done;)d(f.value.from,f.value.to)}}function zO(c,l,a,h){return new sOe(l.doc,c.search,{ignoreCase:!c.caseSensitive,test:c.wholeWord?Qvt(l.charCategorizer(l.selection.main.head)):void 0},a,h)}function VI(c,l){return c.slice(Za(c,l,!1),l)}function $I(c,l){return c.slice(l,Za(c,l))}function Qvt(c){return(l,a,h)=>!h[0].length||(c(VI(h.input,h.index))!=Us.Word||c($I(h.input,h.index))!=Us.Word)&&(c($I(h.input,h.index+h[0].length))!=Us.Word||c(VI(h.input,h.index+h[0].length))!=Us.Word)}class Hvt extends hOe{nextMatch(l,a,h){let d=zO(this.spec,l,h,l.doc.length).next();return d.done&&(d=zO(this.spec,l,0,a).next()),d.done?null:d.value}prevMatchInRange(l,a,h){for(let d=1;;d++){let f=Math.max(a,h-1e4*d),p=zO(this.spec,l,f,h),g=null;for(;!p.next().done;)g=p.value;if(g&&(f==a||g.from>f+10))return g;if(f==a)return null}}prevMatch(l,a,h){return this.prevMatchInRange(l,0,a)||this.prevMatchInRange(l,h,l.doc.length)}getReplacement(l){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(a,h)=>"$"==h?"$":"&"==h?l.match[0]:"0"!=h&&+h<l.match.length?l.match[h]:a)}matchAll(l,a){let h=zO(this.spec,l,0,l.doc.length),d=[];for(;!h.next().done;){if(d.length>=a)return null;d.push(h.value)}return d}highlight(l,a,h,d){let f=zO(this.spec,l,Math.max(0,a-250),Math.min(h+250,l.doc.length));for(;!f.next().done;)d(f.value.from,f.value.to)}}const LT=or.define(),CW=or.define(),Rf=go.define({create:c=>new SW(QI(c).create(),null),update(c,l){for(let a of l.effects)a.is(LT)?c=new SW(a.value.create(),c.panel):a.is(CW)&&(c=new SW(c.query,a.value?wW:null));return c},provide:c=>OT.from(c,l=>l.panel)});class SW{constructor(l,a){this.query=l,this.panel=a}}const Wvt=ii.mark({class:"cm-searchMatch"}),Zvt=ii.mark({class:"cm-searchMatch cm-searchMatch-selected"}),jvt=mo.fromClass(class{constructor(c){this.view=c,this.decorations=this.highlight(c.state.field(Rf))}update(c){let l=c.state.field(Rf);(l!=c.startState.field(Rf)||c.docChanged||c.selectionSet||c.viewportChanged)&&(this.decorations=this.highlight(l))}highlight({query:c,panel:l}){if(!l||!c.spec.valid)return ii.none;let{view:a}=this,h=new Mm;for(let d=0,f=a.visibleRanges,p=f.length;d<p;d++){let{from:g,to:m}=f[d];for(;d<p-1&&m>f[d+1].from-500;)m=f[++d].to;c.highlight(a.state,g,m,(v,_)=>{let y=a.state.selection.ranges.some(b=>b.from==v&&b.to==_);h.add(v,_,y?Zvt:Wvt)})}return h.finish()}},{decorations:c=>c.decorations});function NT(c){return l=>{let a=l.state.field(Rf,!1);return a&&a.query.spec.valid?c(l,a):gOe(l)}}const zI=NT((c,{query:l})=>{let{to:a}=c.state.selection.main,h=l.nextMatch(c.state,a,a);if(!h)return!1;let d=Rt.single(h.from,h.to),f=c.state.facet(bv);return c.dispatch({selection:d,effects:[xW(c,h),f.scrollToMatch(d.main,c)],userEvent:"select.search"}),pOe(c),!0}),UI=NT((c,{query:l})=>{let{state:a}=c,{from:h}=a.selection.main,d=l.prevMatch(a,h,h);if(!d)return!1;let f=Rt.single(d.from,d.to),p=c.state.facet(bv);return c.dispatch({selection:f,effects:[xW(c,d),p.scrollToMatch(f.main,c)],userEvent:"select.search"}),pOe(c),!0}),Gvt=NT((c,{query:l})=>{let a=l.matchAll(c.state,1e3);return!(!a||!a.length||(c.dispatch({selection:Rt.create(a.map(h=>Rt.range(h.from,h.to))),userEvent:"select.search.matches"}),0))}),dOe=NT((c,{query:l})=>{let{state:a}=c,{from:h,to:d}=a.selection.main;if(a.readOnly)return!1;let f=l.nextMatch(a,h,h);if(!f)return!1;let g,m,p=[],v=[];if(f.from==h&&f.to==d&&(m=a.toText(l.getReplacement(f)),p.push({from:f.from,to:f.to,insert:m}),f=l.nextMatch(a,f.from,f.to),v.push(yi.announce.of(a.phrase("replaced match on line $",a.doc.lineAt(h).number)+"."))),f){let _=0==p.length||p[0].from>=f.to?0:f.to-f.from-m.length;g=Rt.single(f.from-_,f.to-_),v.push(xW(c,f)),v.push(a.facet(bv).scrollToMatch(g.main,c))}return c.dispatch({changes:p,selection:g,effects:v,userEvent:"input.replace"}),!0}),Yvt=NT((c,{query:l})=>{if(c.state.readOnly)return!1;let a=l.matchAll(c.state,1e9).map(d=>{let{from:f,to:p}=d;return{from:f,to:p,insert:l.getReplacement(d)}});if(!a.length)return!1;let h=c.state.phrase("replaced $ matches",a.length)+".";return c.dispatch({changes:a,effects:yi.announce.of(h),userEvent:"input.replace.all"}),!0});function wW(c){return c.state.facet(bv).createPanel(c)}function QI(c,l){var a,h,d,f,p;let g=c.selection.main,m=g.empty||g.to>g.from+100?"":c.sliceDoc(g.from,g.to);if(l&&!m)return l;let v=c.facet(bv);return new uOe({search:(null!==(a=l?.literal)&&void 0!==a?a:v.literal)?m:m.replace(/\n/g,"\\n"),caseSensitive:null!==(h=l?.caseSensitive)&&void 0!==h?h:v.caseSensitive,literal:null!==(d=l?.literal)&&void 0!==d?d:v.literal,regexp:null!==(f=l?.regexp)&&void 0!==f?f:v.regexp,wholeWord:null!==(p=l?.wholeWord)&&void 0!==p?p:v.wholeWord})}function fOe(c){let l=bT(c,wW);return l&&l.dom.querySelector("[main-field]")}function pOe(c){let l=fOe(c);l&&l==c.root.activeElement&&l.select()}const gOe=c=>{let l=c.state.field(Rf,!1);if(l&&l.panel){let a=fOe(c);if(a&&a!=c.root.activeElement){let h=QI(c.state,l.query.spec);h.valid&&c.dispatch({effects:LT.of(h)}),a.focus(),a.select()}}else c.dispatch({effects:[CW.of(!0),l?LT.of(QI(c.state,l.query.spec)):or.appendConfig.of(TW)]});return!0},mOe=c=>{let l=c.state.field(Rf,!1);if(!l||!l.panel)return!1;let a=bT(c,wW);return a&&a.dom.contains(c.root.activeElement)&&c.focus(),c.dispatch({effects:CW.of(!1)}),!0},qvt=[{key:"Mod-f",run:gOe,scope:"editor search-panel"},{key:"F3",run:zI,shift:UI,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:zI,shift:UI,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:mOe,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:c,dispatch:l})=>{let a=c.selection;if(a.ranges.length>1||a.main.empty)return!1;let{from:h,to:d}=a.main,f=[],p=0;for(let g=new BO(c.doc,c.sliceDoc(h,d));!g.next().done;){if(f.length>1e3)return!1;g.value.from==h&&(p=f.length),f.push(Rt.range(g.value.from,g.value.to))}return l(c.update({selection:Rt.create(f,p),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:c=>{let l=bT(c,OW);if(!l){let a=[BI.of(!0)];null==c.state.field(aOe,!1)&&a.push(or.appendConfig.of([aOe,Evt])),c.dispatch({effects:a}),l=bT(c,OW)}return l&&l.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:c,dispatch:l})=>{let{ranges:a}=c.selection;if(a.some(f=>f.from===f.to))return(({state:c,dispatch:l})=>{let{selection:a}=c,h=Rt.create(a.ranges.map(d=>c.wordAt(d.head)||Rt.cursor(d.head)),a.mainIndex);return!h.eq(a)&&(l(c.update({selection:h})),!0)})({state:c,dispatch:l});let h=c.sliceDoc(a[0].from,a[0].to);if(c.selection.ranges.some(f=>c.sliceDoc(f.from,f.to)!=h))return!1;let d=function Vvt(c,l){let{main:a,ranges:h}=c.selection,d=c.wordAt(a.head),f=d&&d.from==a.from&&d.to==a.to;for(let p=!1,g=new BO(c.doc,l,h[h.length-1].to);;){if(g.next(),!g.done){if(p&&h.some(m=>m.from==g.value.from))continue;if(f){let m=c.wordAt(g.value.from);if(!m||m.from!=g.value.from||m.to!=g.value.to)continue}return g.value}if(p)return null;g=new BO(c.doc,l,0,Math.max(0,h[h.length-1].from-1)),p=!0}}(c,h);return!!d&&(l(c.update({selection:c.selection.addRange(Rt.range(d.from,d.to),!1),effects:yi.scrollIntoView(d.to)})),!0)},preventDefault:!0}];class Kvt{constructor(l){this.view=l;let a=this.query=l.state.field(Rf).query.spec;function h(d,f,p){return Ds("button",{class:"cm-button",name:d,onclick:f,type:"button"},p)}this.commit=this.commit.bind(this),this.searchField=Ds("input",{value:a.search,placeholder:wu(l,"Find"),"aria-label":wu(l,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ds("input",{value:a.replace,placeholder:wu(l,"Replace"),"aria-label":wu(l,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ds("input",{type:"checkbox",name:"case",form:"",checked:a.caseSensitive,onchange:this.commit}),this.reField=Ds("input",{type:"checkbox",name:"re",form:"",checked:a.regexp,onchange:this.commit}),this.wordField=Ds("input",{type:"checkbox",name:"word",form:"",checked:a.wholeWord,onchange:this.commit}),this.dom=Ds("div",{onkeydown:d=>this.keydown(d),class:"cm-search"},[this.searchField,h("next",()=>zI(l),[wu(l,"next")]),h("prev",()=>UI(l),[wu(l,"previous")]),h("select",()=>Gvt(l),[wu(l,"all")]),Ds("label",null,[this.caseField,wu(l,"match case")]),Ds("label",null,[this.reField,wu(l,"regexp")]),Ds("label",null,[this.wordField,wu(l,"by word")]),...l.state.readOnly?[]:[Ds("br"),this.replaceField,h("replace",()=>dOe(l),[wu(l,"replace")]),h("replaceAll",()=>Yvt(l),[wu(l,"replace all")])],Ds("button",{name:"close",onclick:()=>mOe(l),"aria-label":wu(l,"close"),type:"button"},["\xd7"])])}commit(){let l=new uOe({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});l.eq(this.query)||(this.query=l,this.view.dispatch({effects:LT.of(l)}))}keydown(l){!function amt(c,l,a){return J_e(K_e(c.state),l,c,a)}(this.view,l,"search-panel")?13==l.keyCode&&l.target==this.searchField?(l.preventDefault(),(l.shiftKey?UI:zI)(this.view)):13==l.keyCode&&l.target==this.replaceField&&(l.preventDefault(),dOe(this.view)):l.preventDefault()}update(l){for(let a of l.transactions)for(let h of a.effects)h.is(LT)&&!h.value.eq(this.query)&&this.setQuery(h.value)}setQuery(l){this.query=l,this.searchField.value=l.search,this.replaceField.value=l.replace,this.caseField.checked=l.caseSensitive,this.reField.checked=l.regexp,this.wordField.checked=l.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(bv).top}}function wu(c,l){return c.state.phrase(l)}const HI=30,WI=/[\s\.,:;?!]/;function xW(c,{from:l,to:a}){let h=c.state.doc.lineAt(l),d=c.state.doc.lineAt(a).to,f=Math.max(h.from,l-HI),p=Math.min(d,a+HI),g=c.state.sliceDoc(f,p);if(f!=h.from)for(let m=0;m<HI;m++)if(!WI.test(g[m+1])&&WI.test(g[m])){g=g.slice(m);break}if(p!=d)for(let m=g.length-1;m>g.length-HI;m--)if(!WI.test(g[m-1])&&WI.test(g[m])){g=g.slice(0,m);break}return yi.announce.of(`${c.state.phrase("current match")}. ${g} ${c.state.phrase("on line")} ${h.number}.`)}const Jvt=yi.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),TW=[Rf,fv.low(jvt),Jvt];class vOe{constructor(l,a,h){this.state=l,this.pos=a,this.explicit=h,this.abortListeners=[]}tokenBefore(l){let a=Js(this.state).resolveInner(this.pos,-1);for(;a&&l.indexOf(a.name)<0;)a=a.parent;return a?{from:a.from,to:this.pos,text:this.state.sliceDoc(a.from,this.pos),type:a.type}:null}matchBefore(l){let a=this.state.doc.lineAt(this.pos),h=Math.max(a.from,this.pos-250),d=a.text.slice(h-a.from,this.pos-a.from),f=d.search(bOe(l,!1));return f<0?null:{from:h+f,to:this.pos,text:d.slice(f)}}get aborted(){return null==this.abortListeners}addEventListener(l,a){"abort"==l&&this.abortListeners&&this.abortListeners.push(a)}}function _Oe(c){let l=Object.keys(c).join(""),a=/\w/.test(l);return a&&(l=l.replace(/\w/g,"")),`[${a?"\\w":""}${l.replace(/[^\w\s]/g,"\\$&")}]`}function ZI(c){let l=c.map(d=>"string"==typeof d?{label:d}:d),[a,h]=l.every(d=>/^\w+$/.test(d.label))?[/\w*$/,/\w+$/]:function e_t(c){let l=Object.create(null),a=Object.create(null);for(let{label:d}of c){l[d[0]]=!0;for(let f=1;f<d.length;f++)a[d[f]]=!0}let h=_Oe(l)+_Oe(a)+"*$";return[new RegExp("^"+h),new RegExp(h)]}(l);return d=>{let f=d.matchBefore(h);return f||d.explicit?{from:f?f.from:d.pos,options:l,validFor:a}:null}}function kW(c,l){return a=>{for(let h=Js(a.state).resolveInner(a.pos,-1);h;h=h.parent){if(c.indexOf(h.name)>-1)return null;if(h.type.isTop)break}return l(a)}}class yOe{constructor(l,a,h,d){this.completion=l,this.source=a,this.match=h,this.score=d}}function Qm(c){return c.selection.main.from}function bOe(c,l){var a;let{source:h}=c,d=l&&"^"!=h[0],f="$"!=h[h.length-1];return d||f?new RegExp(`${d?"^":""}(?:${h})${f?"$":""}`,null!==(a=c.flags)&&void 0!==a?a:c.ignoreCase?"i":""):c}const OOe=Xp.define(),COe=new WeakMap;function n_t(c){if(!Array.isArray(c))return c;let l=COe.get(c);return l||COe.set(c,l=ZI(c)),l}const DW=or.define(),FT=or.define();class i_t{constructor(l){this.pattern=l,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let a=0;a<l.length;){let h=ja(l,a),d=dh(h);this.chars.push(h);let f=l.slice(a,a+d),p=f.toUpperCase();this.folded.push(ja(p==f?f.toLowerCase():p,0)),a+=d}this.astral=l.length!=this.chars.length}ret(l,a){return this.score=l,this.matched=a,!0}match(l){if(0==this.pattern.length)return this.ret(-100,[]);if(l.length<this.pattern.length)return!1;let{chars:a,folded:h,any:d,precise:f,byWord:p}=this;if(1==a.length){let T=ja(l,0),D=dh(T),k=D==l.length?0:-100;if(T!=a[0]){if(T!=h[0])return!1;k+=-200}return this.ret(k,[0,D])}let g=l.indexOf(this.pattern);if(0==g)return this.ret(l.length==this.pattern.length?0:-100,[0,this.pattern.length]);let m=a.length,v=0;if(g<0){for(let T=0,D=Math.min(l.length,200);T<D&&v<m;){let k=ja(l,T);(k==a[v]||k==h[v])&&(d[v++]=T),T+=dh(k)}if(v<m)return!1}let _=0,y=0,b=!1,O=0,C=-1,S=-1,w=/[a-z]/.test(l),x=!0;for(let T=0,D=Math.min(l.length,200),k=0;T<D&&y<m;){let P=ja(l,T);g<0&&(_<m&&P==a[_]&&(f[_++]=T),O<m&&(P==a[O]||P==h[O]?(0==O&&(C=T),S=T+1,O++):O=0));let N,F=P<255?P>=48&&P<=57||P>=97&&P<=122?2:P>=65&&P<=90?1:0:(N=NQ(P))!=N.toLowerCase()?1:N!=N.toUpperCase()?2:0;(!T||1==F&&w||0==k&&0!=F)&&(a[y]==P||h[y]==P&&(b=!0)?p[y++]=T:p.length&&(x=!1)),k=F,T+=dh(P)}return y==m&&0==p[0]&&x?this.result((b?-200:0)-100,p,l):O==m&&0==C?this.ret(-200-l.length+(S==l.length?0:-100),[0,S]):g>-1?this.ret(-700-l.length,[g,g+this.pattern.length]):O==m?this.ret(-900-l.length,[C,S]):y==m?this.result((b?-200:0)-100-700+(x?0:-1100),p,l):2!=a.length&&this.result((d[0]?-700:0)-200-1100,d,l)}result(l,a,h){let d=[],f=0;for(let p of a){let g=p+(this.astral?dh(ja(h,p)):1);f&&d[f-1]==p?d[f-1]=g:(d[f++]=p,d[f++]=g)}return this.ret(l-h.length,d)}}const Cl=$n.define({combine:c=>ud(c,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:r_t,compareCompletions:(l,a)=>l.label.localeCompare(a.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(l,a)=>l&&a,closeOnBlur:(l,a)=>l&&a,icons:(l,a)=>l&&a,tooltipClass:(l,a)=>h=>SOe(l(h),a(h)),optionClass:(l,a)=>h=>SOe(l(h),a(h)),addToOptions:(l,a)=>l.concat(a)})});function SOe(c,l){return c?l?c+" "+l:c:l}function r_t(c,l,a,h,d,f){let _,y,p=c.textDirection==qs.RTL,g=p,m=!1,v="top",b=l.left-d.left,O=d.right-l.right,C=h.right-h.left,S=h.bottom-h.top;if(g&&b<Math.min(C,O)?g=!1:!g&&O<Math.min(C,b)&&(g=!0),C<=(g?b:O))_=Math.max(d.top,Math.min(a.top,d.bottom-S))-l.top,y=Math.min(400,g?b:O);else{m=!0,y=Math.min(400,(p?l.right:d.right-l.left)-30);let T=d.bottom-l.bottom;T>=S||T>l.top?_=a.bottom-l.top:(v="bottom",_=l.bottom-a.top)}return{style:`${v}: ${_/((l.bottom-l.top)/f.offsetHeight)}px; max-width: ${y/((l.right-l.left)/f.offsetWidth)}px`,class:"cm-completionInfo-"+(m?p?"left-narrow":"right-narrow":g?"left":"right")}}function MW(c,l,a){if(c<=a)return{from:0,to:c};if(l<0&&(l=0),l<=c>>1){let d=Math.floor(l/a);return{from:d*a,to:(d+1)*a}}let h=Math.floor((c-l)/a);return{from:c-(h+1)*a,to:c-h*a}}class o_t{constructor(l,a,h){this.view=l,this.stateField=a,this.applyCompletion=h,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:m=>this.placeInfo(m),key:this},this.space=null,this.currentClass="";let d=l.state.field(a),{options:f,selected:p}=d.open,g=l.state.facet(Cl);this.optionContent=function s_t(c){let l=c.addToOptions.slice();return c.icons&&l.push({render(a){let h=document.createElement("div");return h.classList.add("cm-completionIcon"),a.type&&h.classList.add(...a.type.split(/\s+/g).map(d=>"cm-completionIcon-"+d)),h.setAttribute("aria-hidden","true"),h},position:20}),l.push({render(a,h,d,f){let p=document.createElement("span");p.className="cm-completionLabel";let g=a.displayLabel||a.label,m=0;for(let v=0;v<f.length;){let _=f[v++],y=f[v++];_>m&&p.appendChild(document.createTextNode(g.slice(m,_)));let b=p.appendChild(document.createElement("span"));b.appendChild(document.createTextNode(g.slice(_,y))),b.className="cm-completionMatchedText",m=y}return m<g.length&&p.appendChild(document.createTextNode(g.slice(m))),p},position:50},{render(a){if(!a.detail)return null;let h=document.createElement("span");return h.className="cm-completionDetail",h.textContent=a.detail,h},position:80}),l.sort((a,h)=>a.position-h.position).map(a=>a.render)}(g),this.optionClass=g.optionClass,this.tooltipClass=g.tooltipClass,this.range=MW(f.length,p,g.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(l.state),this.dom.addEventListener("mousedown",m=>{let{options:v}=l.state.field(a).open;for(let y,_=m.target;_&&_!=this.dom;_=_.parentNode)if("LI"==_.nodeName&&(y=/-(\d+)$/.exec(_.id))&&+y[1]<v.length)return this.applyCompletion(l,v[+y[1]]),void m.preventDefault()}),this.dom.addEventListener("focusout",m=>{let v=l.state.field(this.stateField,!1);v&&v.tooltip&&l.state.facet(Cl).closeOnBlur&&m.relatedTarget!=l.contentDOM&&l.dispatch({effects:FT.of(null)})}),this.showOptions(f,d.id)}mount(){this.updateSel()}showOptions(l,a){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(l,a,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(l){var a;let h=l.state.field(this.stateField),d=l.startState.field(this.stateField);if(this.updateTooltipClass(l.state),h!=d){let{options:f,selected:p,disabled:g}=h.open;(!d.open||d.open.options!=f)&&(this.range=MW(f.length,p,l.state.facet(Cl).maxRenderedOptions),this.showOptions(f,h.id)),this.updateSel(),g!=(null===(a=d.open)||void 0===a?void 0:a.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!g)}}updateTooltipClass(l){let a=this.tooltipClass(l);if(a!=this.currentClass){for(let h of this.currentClass.split(" "))h&&this.dom.classList.remove(h);for(let h of a.split(" "))h&&this.dom.classList.add(h);this.currentClass=a}}positioned(l){this.space=l,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let l=this.view.state.field(this.stateField),a=l.open;if((a.selected>-1&&a.selected<this.range.from||a.selected>=this.range.to)&&(this.range=MW(a.options.length,a.selected,this.view.state.facet(Cl).maxRenderedOptions),this.showOptions(a.options,l.id)),this.updateSelectedOption(a.selected)){this.destroyInfo();let{completion:h}=a.options[a.selected],{info:d}=h;if(!d)return;let f="string"==typeof d?document.createTextNode(d):d(h);if(!f)return;"then"in f?f.then(p=>{p&&this.view.state.field(this.stateField,!1)==l&&this.addInfoPane(p,h)}).catch(p=>fh(this.view.state,p,"completion info")):this.addInfoPane(f,h)}}addInfoPane(l,a){this.destroyInfo();let h=this.info=document.createElement("div");if(h.className="cm-tooltip cm-completionInfo",null!=l.nodeType)h.appendChild(l),this.infoDestroy=null;else{let{dom:d,destroy:f}=l;h.appendChild(d),this.infoDestroy=f||null}this.dom.appendChild(h),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(l){let a=null;for(let h=this.list.firstChild,d=this.range.from;h;h=h.nextSibling,d++)"LI"==h.nodeName&&h.id?d==l?h.hasAttribute("aria-selected")||(h.setAttribute("aria-selected","true"),a=h):h.hasAttribute("aria-selected")&&h.removeAttribute("aria-selected"):d--;return a&&function l_t(c,l){let a=c.getBoundingClientRect(),h=l.getBoundingClientRect(),d=a.height/c.offsetHeight;h.top<a.top?c.scrollTop-=(a.top-h.top)/d:h.bottom>a.bottom&&(c.scrollTop+=(h.bottom-a.bottom)/d)}(this.list,a),a}measureInfo(){let l=this.dom.querySelector("[aria-selected]");if(!l||!this.info)return null;let a=this.dom.getBoundingClientRect(),h=this.info.getBoundingClientRect(),d=l.getBoundingClientRect(),f=this.space;if(!f){let p=this.dom.ownerDocument.defaultView||window;f={left:0,top:0,right:p.innerWidth,bottom:p.innerHeight}}return d.top>Math.min(f.bottom,a.bottom)-10||d.bottom<Math.max(f.top,a.top)+10?null:this.view.state.facet(Cl).positionInfo(this.view,a,d,h,f,this.dom)}placeInfo(l){this.info&&(l?(l.style&&(this.info.style.cssText=l.style),this.info.className="cm-tooltip cm-completionInfo "+(l.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(l,a,h){const d=document.createElement("ul");d.id=a,d.setAttribute("role","listbox"),d.setAttribute("aria-expanded","true"),d.setAttribute("aria-label",this.view.state.phrase("Completions"));let f=null;for(let p=h.from;p<h.to;p++){let{completion:g,match:m}=l[p],{section:v}=g;if(v){let b="string"==typeof v?v:v.name;b!=f&&(p>h.from||0==h.from)&&(f=b,"string"!=typeof v&&v.header?d.appendChild(v.header(v)):d.appendChild(document.createElement("completion-section")).textContent=b)}const _=d.appendChild(document.createElement("li"));_.id=a+"-"+p,_.setAttribute("role","option");let y=this.optionClass(g);y&&(_.className=y);for(let b of this.optionContent){let O=b(g,this.view.state,this.view,m);O&&_.appendChild(O)}}return h.from&&d.classList.add("cm-completionListIncompleteTop"),h.to<l.length&&d.classList.add("cm-completionListIncompleteBottom"),d}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function a_t(c,l){return a=>new o_t(a,c,l)}function wOe(c){return 100*(c.boost||0)+(c.apply?10:0)+(c.info?5:0)+(c.type?1:0)}class UO{constructor(l,a,h,d,f,p){this.options=l,this.attrs=a,this.tooltip=h,this.timestamp=d,this.selected=f,this.disabled=p}setSelected(l,a){return l==this.selected||l>=this.options.length?this:new UO(this.options,xOe(a,l),this.tooltip,this.timestamp,l,this.disabled)}static build(l,a,h,d,f){let p=function c_t(c,l){let a=[],h=null,d=m=>{a.push(m);let{section:v}=m.completion;if(v){h||(h=[]);let _="string"==typeof v?v:v.name;h.some(y=>y.name==_)||h.push("string"==typeof v?{name:_}:v)}};for(let m of c)if(m.hasResult()){let v=m.result.getMatch;if(!1===m.result.filter)for(let _ of m.result.options)d(new yOe(_,m.source,v?v(_):[],1e9-a.length));else{let _=new i_t(l.sliceDoc(m.from,m.to));for(let y of m.result.options)if(_.match(y.label)){let b=y.displayLabel?v?v(y,_.matched):[]:_.matched;d(new yOe(y,m.source,b,_.score+(y.boost||0)))}}}if(h){let m=Object.create(null),v=0,_=(y,b)=>{var O,C;return(null!==(O=y.rank)&&void 0!==O?O:1e9)-(null!==(C=b.rank)&&void 0!==C?C:1e9)||(y.name<b.name?-1:1)};for(let y of h.sort(_))v-=1e5,m[y.name]=v;for(let y of a){let{section:b}=y.completion;b&&(y.score+=m["string"==typeof b?b:b.name])}}let f=[],p=null,g=l.facet(Cl).compareCompletions;for(let m of a.sort((v,_)=>_.score-v.score||g(v.completion,_.completion))){let v=m.completion;!p||p.label!=v.label||p.detail!=v.detail||null!=p.type&&null!=v.type&&p.type!=v.type||p.apply!=v.apply||p.boost!=v.boost?f.push(m):wOe(m.completion)>wOe(p)&&(f[f.length-1]=m),p=m.completion}return f}(l,a);if(!p.length)return d&&l.some(m=>1==m.state)?new UO(d.options,d.attrs,d.tooltip,d.timestamp,d.selected,!0):null;let g=a.facet(Cl).selectOnOpen?0:-1;if(d&&d.selected!=g&&-1!=d.selected){let m=d.options[d.selected].completion;for(let v=0;v<p.length;v++)if(p[v].completion==m){g=v;break}}return new UO(p,xOe(h,g),{pos:l.reduce((m,v)=>v.hasResult()?Math.min(m,v.from):m,1e8),create:p_t,above:f.aboveCursor},d?d.timestamp:Date.now(),g,!1)}map(l){return new UO(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:l.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class jI{constructor(l,a,h){this.active=l,this.id=a,this.open=h}static start(){return new jI(d_t,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(l){let{state:a}=l,h=a.facet(Cl),f=(h.override||a.languageDataAt("autocomplete",Qm(a)).map(n_t)).map(g=>(this.active.find(v=>v.source==g)||new Hc(g,this.active.some(v=>0!=v.state)?1:0)).update(l,h));f.length==this.active.length&&f.every((g,m)=>g==this.active[m])&&(f=this.active);let p=this.open;p&&l.docChanged&&(p=p.map(l.changes)),l.selection||f.some(g=>g.hasResult()&&l.changes.touchesRange(g.from,g.to))||!function u_t(c,l){if(c==l)return!0;for(let a=0,h=0;;){for(;a<c.length&&!c[a].hasResult;)a++;for(;h<l.length&&!l[h].hasResult;)h++;let d=a==c.length,f=h==l.length;if(d||f)return d==f;if(c[a++].result!=l[h++].result)return!1}}(f,this.active)?p=UO.build(f,a,this.id,p,h):p&&p.disabled&&!f.some(g=>1==g.state)&&(p=null),!p&&f.every(g=>1!=g.state)&&f.some(g=>g.hasResult())&&(f=f.map(g=>g.hasResult()?new Hc(g.source,0):g));for(let g of l.effects)g.is(PW)&&(p=p&&p.setSelected(g.value,this.id));return f==this.active&&p==this.open?this:new jI(f,this.id,p)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:h_t}}const h_t={"aria-autocomplete":"list"};function xOe(c,l){let a={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":c};return l>-1&&(a["aria-activedescendant"]=c+"-"+l),a}const d_t=[];function EW(c){return c.isUserEvent("input.type")?"input":c.isUserEvent("delete.backward")?"delete":null}class Hc{constructor(l,a,h=-1){this.source=l,this.state=a,this.explicitPos=h}hasResult(){return!1}update(l,a){let h=EW(l),d=this;h?d=d.handleUserEvent(l,h,a):l.docChanged?d=d.handleChange(l):l.selection&&0!=d.state&&(d=new Hc(d.source,0));for(let f of l.effects)if(f.is(DW))d=new Hc(d.source,1,f.value?Qm(l.state):-1);else if(f.is(FT))d=new Hc(d.source,0);else if(f.is(TOe))for(let p of f.value)p.source==d.source&&(d=p);return d}handleUserEvent(l,a,h){return"delete"!=a&&h.activateOnTyping?new Hc(this.source,1):this.map(l.changes)}handleChange(l){return l.changes.touchesRange(Qm(l.startState))?new Hc(this.source,0):this.map(l.changes)}map(l){return l.empty||this.explicitPos<0?this:new Hc(this.source,this.state,l.mapPos(this.explicitPos))}}class QO extends Hc{constructor(l,a,h,d,f){super(l,2,a),this.result=h,this.from=d,this.to=f}hasResult(){return!0}handleUserEvent(l,a,h){var d;let f=l.changes.mapPos(this.from),p=l.changes.mapPos(this.to,1),g=Qm(l.state);if((this.explicitPos<0?g<=f:g<this.from)||g>p||"delete"==a&&Qm(l.startState)==this.from)return new Hc(this.source,"input"==a&&h.activateOnTyping?1:0);let v,m=this.explicitPos<0?-1:l.changes.mapPos(this.explicitPos);return function f_t(c,l,a,h){if(!c)return!1;let d=l.sliceDoc(a,h);return"function"==typeof c?c(d,a,h,l):bOe(c,!0).test(d)}(this.result.validFor,l.state,f,p)?new QO(this.source,m,this.result,f,p):this.result.update&&(v=this.result.update(this.result,f,p,new vOe(l.state,g,m>=0)))?new QO(this.source,m,v,v.from,null!==(d=v.to)&&void 0!==d?d:Qm(l.state)):new Hc(this.source,1,m)}handleChange(l){return l.changes.touchesRange(this.from,this.to)?new Hc(this.source,0):this.map(l.changes)}map(l){return l.empty?this:new QO(this.source,this.explicitPos<0?-1:l.mapPos(this.explicitPos),this.result,l.mapPos(this.from),l.mapPos(this.to,1))}}const TOe=or.define({map:(c,l)=>c.map(a=>a.map(l))}),PW=or.define(),qa=go.define({create:()=>jI.start(),update:(c,l)=>c.update(l),provide:c=>[oI.from(c,l=>l.tooltip),yi.contentAttributes.from(c,l=>l.attrs)]});function kOe(c,l){const a=l.completion.apply||l.completion.label;let h=c.state.field(qa).active.find(d=>d.source==l.source);return h instanceof QO&&("string"==typeof a?c.dispatch(Object.assign(Object.assign({},function t_t(c,l,a,h){let{main:d}=c.selection,f=a-d.from,p=h-d.from;return Object.assign(Object.assign({},c.changeByRange(g=>g!=d&&a!=h&&c.sliceDoc(g.from+f,g.from+p)!=c.sliceDoc(a,h)?{range:g}:{changes:{from:g.from+f,to:h==d.from?g.to:g.from+p,insert:l},range:Rt.cursor(g.from+f+l.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}(c.state,a,h.from,h.to)),{annotations:OOe.of(l.completion)})):a(c,l.completion,h.from,h.to),!0)}const p_t=a_t(qa,kOe);function GI(c,l="option"){return a=>{let h=a.state.field(qa,!1);if(!h||!h.open||h.open.disabled||Date.now()-h.open.timestamp<a.state.facet(Cl).interactionDelay)return!1;let f,d=1;"page"==l&&(f=fye(a,h.open.tooltip))&&(d=Math.max(2,Math.floor(f.dom.offsetHeight/f.dom.querySelector("li").offsetHeight)-1));let{length:p}=h.open.options,g=h.open.selected>-1?h.open.selected+d*(c?1:-1):c?0:p-1;return g<0?g="page"==l?0:p-1:g>=p&&(g="page"==l?p-1:0),a.dispatch({effects:PW.of(g)}),!0}}class __t{constructor(l,a){this.active=l,this.context=a,this.time=Date.now(),this.updates=[],this.done=void 0}}const O_t=mo.fromClass(class{constructor(c){this.view=c,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let l of c.state.field(qa).active)1==l.state&&this.startQuery(l)}update(c){let l=c.state.field(qa);if(!c.selectionSet&&!c.docChanged&&c.startState.field(qa)==l)return;let a=c.transactions.some(h=>(h.selection||h.docChanged)&&!EW(h));for(let h=0;h<this.running.length;h++){let d=this.running[h];if(a||d.updates.length+c.transactions.length>50&&Date.now()-d.time>1e3){for(let f of d.context.abortListeners)try{f()}catch(p){fh(this.view.state,p)}d.context.abortListeners=null,this.running.splice(h--,1)}else d.updates.push(...c.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=l.active.some(h=>1==h.state&&!this.running.some(d=>d.active.source==h.source))?setTimeout(()=>this.startUpdate(),50):-1,0!=this.composing)for(let h of c.transactions)"input"==EW(h)?this.composing=2:2==this.composing&&h.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:c}=this.view,l=c.field(qa);for(let a of l.active)1==a.state&&!this.running.some(h=>h.active.source==a.source)&&this.startQuery(a)}startQuery(c){let{state:l}=this.view,a=Qm(l),h=new vOe(l,a,c.explicitPos==a),d=new __t(c,h);this.running.push(d),Promise.resolve(c.source(h)).then(f=>{d.context.aborted||(d.done=f||null,this.scheduleAccept())},f=>{this.view.dispatch({effects:FT.of(null)}),fh(this.view.state,f)})}scheduleAccept(){this.running.every(c=>void 0!==c.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Cl).updateSyncTime))}accept(){var c;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let l=[],a=this.view.state.facet(Cl);for(let h=0;h<this.running.length;h++){let d=this.running[h];if(void 0===d.done)continue;if(this.running.splice(h--,1),d.done){let p=new QO(d.active.source,d.active.explicitPos,d.done,d.done.from,null!==(c=d.done.to)&&void 0!==c?c:Qm(d.updates.length?d.updates[0].startState:this.view.state));for(let g of d.updates)p=p.update(g,a);if(p.hasResult()){l.push(p);continue}}let f=this.view.state.field(qa).active.find(p=>p.source==d.active.source);if(f&&1==f.state)if(null==d.done){let p=new Hc(d.active.source,0);for(let g of d.updates)p=p.update(g,a);1!=p.state&&l.push(p)}else this.startQuery(f)}l.length&&this.view.dispatch({effects:TOe.of(l)})}},{eventHandlers:{blur(c){let l=this.view.state.field(qa,!1);if(l&&l.tooltip&&this.view.state.facet(Cl).closeOnBlur){let a=l.open&&fye(this.view,l.open.tooltip);(!a||!a.dom.contains(c.relatedTarget))&&this.view.dispatch({effects:FT.of(null)})}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:DW.of(!1)}),20),this.composing=0}}}),DOe=yi.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1d465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1d436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1d461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1f511}\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class C_t{constructor(l,a,h,d){this.field=l,this.line=a,this.from=h,this.to=d}}class AW{constructor(l,a,h){this.field=l,this.from=a,this.to=h}map(l){let a=l.mapPos(this.from,-1,Ga.TrackDel),h=l.mapPos(this.to,1,Ga.TrackDel);return null==a||null==h?null:new AW(this.field,a,h)}}class IW{constructor(l,a){this.lines=l,this.fieldPositions=a}instantiate(l,a){let h=[],d=[a],f=l.doc.lineAt(a),p=/^\s*/.exec(f.text)[0];for(let m of this.lines){if(h.length){let v=p,_=/^\t*/.exec(m)[0].length;for(let y=0;y<_;y++)v+=l.facet(CI);d.push(a+v.length-_),m=v+m.slice(_)}h.push(m),a+=m.length+1}return{text:h,ranges:this.fieldPositions.map(m=>new AW(m.field,d[m.line]+m.from,d[m.line]+m.to))}}static parse(l){let f,a=[],h=[],d=[];for(let p of l.split(/\r\n?|\n/)){for(;f=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(p);){let g=f[1]?+f[1]:null,m=f[2]||f[3]||"",v=-1;for(let _=0;_<a.length;_++)(null!=g?a[_].seq==g:m&&a[_].name==m)&&(v=_);if(v<0){let _=0;for(;_<a.length&&(null==g||null!=a[_].seq&&a[_].seq<g);)_++;a.splice(_,0,{seq:g,name:m}),v=_;for(let y of d)y.field>=v&&y.field++}d.push(new C_t(v,h.length,f.index,f.index+m.length)),p=p.slice(0,f.index)+m+p.slice(f.index+f[0].length)}for(let g;g=/\\([{}])/.exec(p);){p=p.slice(0,g.index)+g[1]+p.slice(g.index+g[0].length);for(let m of d)m.line==h.length&&m.from>g.index&&(m.from--,m.to--)}h.push(p)}return new IW(h,d)}}let S_t=ii.widget({widget:new class extends Jp{toDOM(){let c=document.createElement("span");return c.className="cm-snippetFieldPosition",c}ignoreEvent(){return!1}}}),w_t=ii.mark({class:"cm-snippetField"});class HO{constructor(l,a){this.ranges=l,this.active=a,this.deco=ii.set(l.map(h=>(h.from==h.to?S_t:w_t).range(h.from,h.to)))}map(l){let a=[];for(let h of this.ranges){let d=h.map(l);if(!d)return null;a.push(d)}return new HO(a,this.active)}selectionInsideField(l){return l.ranges.every(a=>this.ranges.some(h=>h.field==this.active&&h.from<=a.from&&h.to>=a.to))}}const BT=or.define({map:(c,l)=>c&&c.map(l)}),x_t=or.define(),Ov=go.define({create:()=>null,update(c,l){for(let a of l.effects){if(a.is(BT))return a.value;if(a.is(x_t)&&c)return new HO(c.ranges,a.value)}return c&&l.docChanged&&(c=c.map(l.changes)),c&&l.selection&&!c.selectionInsideField(l.selection)&&(c=null),c},provide:c=>yi.decorations.from(c,l=>l?l.deco:ii.none)});function RW(c,l){return Rt.create(c.filter(a=>a.field==l).map(a=>Rt.range(a.from,a.to)))}function T_t(c){let l=IW.parse(c);return(a,h,d,f)=>{let{text:p,ranges:g}=l.instantiate(a.state,d),m={changes:{from:d,to:f,insert:zr.of(p)},scrollIntoView:!0,annotations:h?OOe.of(h):void 0};if(g.length&&(m.selection=RW(g,0)),g.length>1){let v=new HO(g,0),_=m.effects=[BT.of(v)];void 0===a.state.field(Ov,!1)&&_.push(or.appendConfig.of([Ov,P_t,A_t,DOe]))}a.dispatch(a.state.update(m))}}function MOe(c){return({state:l,dispatch:a})=>{let h=l.field(Ov,!1);if(!h||c<0&&0==h.active)return!1;let d=h.active+c,f=c>0&&!h.ranges.some(p=>p.field==d+c);return a(l.update({selection:RW(h.ranges,d),effects:BT.of(f?null:new HO(h.ranges,d)),scrollIntoView:!0})),!0}}const E_t=[{key:"Tab",run:MOe(1),shift:MOe(-1)},{key:"Escape",run:({state:c,dispatch:l})=>!!c.field(Ov,!1)&&(l(c.update({effects:BT.of(null)})),!0)}],EOe=$n.define({combine:c=>c.length?c[0]:E_t}),P_t=fv.highest(gT.compute([EOe],c=>c.facet(EOe)));function wr(c,l){return Object.assign(Object.assign({},l),{apply:T_t(c)})}const A_t=yi.domEventHandlers({mousedown(c,l){let h,a=l.state.field(Ov,!1);if(!a||null==(h=l.posAtCoords({x:c.clientX,y:c.clientY})))return!1;let d=a.ranges.find(f=>f.from<=h&&f.to>=h);return!(!d||d.field==a.active||(l.dispatch({selection:RW(a.ranges,d.field),effects:BT.of(a.ranges.some(f=>f.field>d.field)?new HO(a.ranges,d.field):null),scrollIntoView:!0}),0))}}),VT={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Cv=or.define({map:(c,l)=>l.mapPos(c,-1,Ga.TrackAfter)??void 0}),LW=new class extends gv{};LW.startSide=1,LW.endSide=-1;const LOe=go.define({create:()=>Qs.empty,update(c,l){if(c=c.map(l.changes),l.selection){let a=l.state.doc.lineAt(l.selection.main.head);c=c.update({filter:h=>h>=a.from&&h<=a.to})}for(let a of l.effects)a.is(Cv)&&(c=c.update({add:[LW.range(a.value,a.value+1)]}));return c}}),NW="()[]{}<>";function NOe(c){for(let l=0;l<8;l+=2)if(NW.charCodeAt(l)==c)return NW.charAt(l+1);return NQ(c<128?c:c+1)}function FOe(c,l){return c.languageDataAt("closeBrackets",l)[0]||VT}const N_t="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),F_t=yi.inputHandler.of((c,l,a,h)=>{if((N_t?c.composing:c.compositionStarted)||c.state.readOnly)return!1;let d=c.state.selection.main;if(h.length>2||2==h.length&&1==dh(ja(h,0))||l!=d.from||a!=d.to)return!1;let f=function V_t(c,l){let a=FOe(c,c.selection.main.head),h=a.brackets||VT.brackets;for(let d of h){let f=NOe(ja(d,0));if(l==d)return f==d?Q_t(c,d,h.indexOf(d+d+d)>-1,a):z_t(c,d,f,a.before||VT.before);if(l==f&&BOe(c,c.selection.main.from))return U_t(c,0,f)}return null}(c.state,h);return!!f&&(c.dispatch(f),!0)}),B_t=[{key:"Backspace",run:({state:c,dispatch:l})=>{if(c.readOnly)return!1;let h=FOe(c,c.selection.main.head).brackets||VT.brackets,d=null,f=c.changeByRange(p=>{if(p.empty){let g=function $_t(c,l){let a=c.sliceString(l-2,l);return dh(ja(a,0))==a.length?a:a.slice(1)}(c.doc,p.head);for(let m of h)if(m==g&&XI(c.doc,p.head)==NOe(ja(m,0)))return{changes:{from:p.head-m.length,to:p.head+m.length},range:Rt.cursor(p.head-m.length)}}return{range:d=p}});return d||l(c.update(f,{scrollIntoView:!0,userEvent:"delete.backward"})),!d}}];function BOe(c,l){let a=!1;return c.field(LOe).between(0,c.doc.length,h=>{h==l&&(a=!0)}),a}function XI(c,l){let a=c.sliceString(l,l+2);return a.slice(0,dh(ja(a,0)))}function z_t(c,l,a,h){let d=null,f=c.changeByRange(p=>{if(!p.empty)return{changes:[{insert:l,from:p.from},{insert:a,from:p.to}],effects:Cv.of(p.to+l.length),range:Rt.range(p.anchor+l.length,p.head+l.length)};let g=XI(c.doc,p.head);return!g||/\s/.test(g)||h.indexOf(g)>-1?{changes:{insert:l+a,from:p.head},effects:Cv.of(p.head+l.length),range:Rt.cursor(p.head+l.length)}:{range:d=p}});return d?null:c.update(f,{scrollIntoView:!0,userEvent:"input.type"})}function U_t(c,l,a){let h=null,d=c.changeByRange(f=>f.empty&&XI(c.doc,f.head)==a?{changes:{from:f.head,to:f.head+a.length,insert:a},range:Rt.cursor(f.head+a.length)}:h={range:f});return h?null:c.update(d,{scrollIntoView:!0,userEvent:"input.type"})}function Q_t(c,l,a,h){let d=h.stringPrefixes||VT.stringPrefixes,f=null,p=c.changeByRange(g=>{if(!g.empty)return{changes:[{insert:l,from:g.from},{insert:l,from:g.to}],effects:Cv.of(g.to+l.length),range:Rt.range(g.anchor+l.length,g.head+l.length)};let _,m=g.head,v=XI(c.doc,m);if(v==l){if(VOe(c,m))return{changes:{insert:l+l,from:m},effects:Cv.of(m+l.length),range:Rt.cursor(m+l.length)};if(BOe(c,m)){let b=a&&c.sliceDoc(m,m+3*l.length)==l+l+l?l+l+l:l;return{changes:{from:m,to:m+b.length,insert:b},range:Rt.cursor(m+b.length)}}}else{if(a&&c.sliceDoc(m-2*l.length,m)==l+l&&(_=$Oe(c,m-2*l.length,d))>-1&&VOe(c,_))return{changes:{insert:l+l+l+l,from:m},effects:Cv.of(m+l.length),range:Rt.cursor(m+l.length)};if(c.charCategorizer(m)(v)!=Us.Word&&$Oe(c,m,d)>-1&&!function H_t(c,l,a,h){let d=Js(c).resolveInner(l,-1),f=h.reduce((p,g)=>Math.max(p,g.length),0);for(let p=0;p<5;p++){let g=c.sliceDoc(d.from,Math.min(d.to,d.from+a.length+f)),m=g.indexOf(a);if(!m||m>-1&&h.indexOf(g.slice(0,m))>-1){let _=d.firstChild;for(;_&&_.from==d.from&&_.to-_.from>a.length+m;){if(c.sliceDoc(_.to-a.length,_.to)==a)return!1;_=_.firstChild}return!0}let v=d.to==l&&d.parent;if(!v)break;d=v}return!1}(c,m,l,d))return{changes:{insert:l+l,from:m},effects:Cv.of(m+l.length),range:Rt.cursor(m+l.length)}}return{range:f=g}});return f?null:c.update(p,{scrollIntoView:!0,userEvent:"input.type"})}function VOe(c,l){let a=Js(c).resolveInner(l+1);return a.parent&&a.from==l}function $Oe(c,l,a){let h=c.charCategorizer(l);if(h(c.sliceDoc(l-1,l))!=Us.Word)return l;for(let d of a){let f=l-d.length;if(c.sliceDoc(f,l)==d&&h(c.sliceDoc(f-1,f))!=Us.Word)return f}return-1}function zOe(c={}){return[qa,Cl.of(c),O_t,W_t,DOe]}const UOe=[{key:"Ctrl-Space",run:c=>!!c.state.field(qa,!1)&&(c.dispatch({effects:DW.of(!0)}),!0)},{key:"Escape",run:c=>{let l=c.state.field(qa,!1);return!(!l||!l.active.some(a=>0!=a.state)||(c.dispatch({effects:FT.of(null)}),0))}},{key:"ArrowDown",run:GI(!0)},{key:"ArrowUp",run:GI(!1)},{key:"PageDown",run:GI(!0,"page")},{key:"PageUp",run:GI(!1,"page")},{key:"Enter",run:c=>{let l=c.state.field(qa,!1);return!(c.state.readOnly||!l||!l.open||l.open.selected<0||l.open.disabled||Date.now()-l.open.timestamp<c.state.facet(Cl).interactionDelay)&&kOe(c,l.open.options[l.open.selected])}}],W_t=fv.highest(gT.computeN([Cl],c=>c.facet(Cl).defaultKeymap?[UOe]:[]));class Z_t{constructor(l,a,h){this.from=l,this.to=a,this.diagnostic=h}}class Sv{constructor(l,a,h){this.diagnostics=l,this.panel=a,this.selected=h}static init(l,a,h){let d=l,f=h.facet(BW).markerFilter;f&&(d=f(d));let p=ii.set(d.map(g=>g.from==g.to||g.from==g.to-1&&h.doc.lineAt(g.from).to==g.from?ii.widget({widget:new K_t(g),diagnostic:g}).range(g.from):ii.mark({attributes:{class:"cm-lintRange cm-lintRange-"+g.severity+(g.markClass?" "+g.markClass:"")},diagnostic:g}).range(g.from,g.to)),!0);return new Sv(p,a,WO(p))}}function WO(c,l=null,a=0){let h=null;return c.between(a,1e9,(d,f,{spec:p})=>{if(!l||p.diagnostic==l)return h=new Z_t(d,f,p.diagnostic),!1}),h}function WOe(c,l){return c.field(Sl,!1)?l:l.concat(or.appendConfig.of(nCe))}const YI=or.define(),FW=or.define(),ZOe=or.define(),Sl=go.define({create:()=>new Sv(ii.none,null,null),update(c,l){if(l.docChanged){let a=c.diagnostics.map(l.changes),h=null;if(c.selected){let d=l.changes.mapPos(c.selected.from,1);h=WO(a,c.selected.diagnostic,d)||WO(a,null,d)}c=new Sv(a,c.panel,h)}for(let a of l.effects)a.is(YI)?c=Sv.init(a.value,c.panel,l.state):a.is(FW)?c=new Sv(c.diagnostics,a.value?qI.open:null,c.selected):a.is(ZOe)&&(c=new Sv(c.diagnostics,c.panel,a.value));return c},provide:c=>[OT.from(c,l=>l.panel),yi.decorations.from(c,l=>l.diagnostics)]}),j_t=ii.mark({class:"cm-lintRange cm-lintRange-active"});function G_t(c,l,a){let{diagnostics:h}=c.state.field(Sl),d=[],f=2e8,p=0;h.between(l-(a<0?1:0),l+(a>0?1:0),(m,v,{spec:_})=>{l>=m&&l<=v&&(m==v||(l>m||a>0)&&(l<v||a<0))&&(d.push(_.diagnostic),f=Math.min(m,f),p=Math.max(v,p))});let g=c.state.facet(BW).tooltipFilter;return g&&(d=g(d)),d.length?{pos:f,end:p,above:c.state.doc.lineAt(f).to<p,create:()=>({dom:jOe(c,d)})}:null}function jOe(c,l){return Ds("ul",{class:"cm-tooltip-lint"},l.map(a=>qOe(c,a,!1)))}const GOe=c=>{let l=c.state.field(Sl,!1);return!(!l||!l.panel||(c.dispatch({effects:FW.of(!1)}),0))},q_t=[{key:"Mod-Shift-m",run:c=>{let l=c.state.field(Sl,!1);(!l||!l.panel)&&c.dispatch({effects:WOe(c.state,[FW.of(!0)])});let a=bT(c,qI.open);return a&&a.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:c=>{let l=c.state.field(Sl,!1);if(!l)return!1;let a=c.state.selection.main,h=l.diagnostics.iter(a.to+1);return!(!h.value&&(h=l.diagnostics.iter(0),!h.value||h.from==a.from&&h.to==a.to)||(c.dispatch({selection:{anchor:h.from,head:h.to},scrollIntoView:!0}),0))}}],BW=$n.define({combine:c=>Object.assign({sources:c.map(l=>l.source)},ud(c.map(l=>l.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(l,a)=>l?a?h=>l(h)||a(h):l:a}))});function YOe(c){let l=[];if(c)e:for(let{name:a}of c){for(let h=0;h<a.length;h++){let d=a[h];if(/[a-zA-Z]/.test(d)&&!l.some(f=>f.toLowerCase()==d.toLowerCase())){l.push(d);continue e}}l.push("")}return l}function qOe(c,l,a){var h;let d=a?YOe(l.actions):[];return Ds("li",{class:"cm-diagnostic cm-diagnostic-"+l.severity},Ds("span",{class:"cm-diagnosticText"},l.renderMessage?l.renderMessage():l.message),null===(h=l.actions)||void 0===h?void 0:h.map((f,p)=>{let g=!1,m=b=>{if(b.preventDefault(),g)return;g=!0;let O=WO(c.state.field(Sl).diagnostics,l);O&&f.apply(c,O.from,O.to)},{name:v}=f,_=d[p]?v.indexOf(d[p]):-1,y=_<0?v:[v.slice(0,_),Ds("u",v.slice(_,_+1)),v.slice(_+1)];return Ds("button",{type:"button",class:"cm-diagnosticAction",onclick:m,onmousedown:m,"aria-label":` Action: ${v}${_<0?"":` (access key "${d[p]})"`}.`},y)}),l.source&&Ds("div",{class:"cm-diagnosticSource"},l.source))}class K_t extends Jp{constructor(l){super(),this.diagnostic=l}eq(l){return l.diagnostic==this.diagnostic}toDOM(){return Ds("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class KOe{constructor(l,a){this.diagnostic=a,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=qOe(l,a,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class qI{constructor(l){this.view=l,this.items=[],this.list=Ds("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:d=>{if(27==d.keyCode)GOe(this.view),this.view.focus();else if(38==d.keyCode||33==d.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==d.keyCode||34==d.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==d.keyCode)this.moveSelection(0);else if(35==d.keyCode)this.moveSelection(this.items.length-1);else if(13==d.keyCode)this.view.focus();else{if(!(d.keyCode>=65&&d.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:f}=this.items[this.selectedIndex],p=YOe(f.actions);for(let g=0;g<p.length;g++)if(p[g].toUpperCase().charCodeAt(0)==d.keyCode){let m=WO(this.view.state.field(Sl).diagnostics,f);m&&f.actions[g].apply(l,m.from,m.to)}}}d.preventDefault()},onclick:d=>{for(let f=0;f<this.items.length;f++)this.items[f].dom.contains(d.target)&&this.moveSelection(f)}}),this.dom=Ds("div",{class:"cm-panel-lint"},this.list,Ds("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>GOe(this.view)},"\xd7")),this.update()}get selectedIndex(){let l=this.view.state.field(Sl).selected;if(!l)return-1;for(let a=0;a<this.items.length;a++)if(this.items[a].diagnostic==l.diagnostic)return a;return-1}update(){let{diagnostics:l,selected:a}=this.view.state.field(Sl),h=0,d=!1,f=null;for(l.between(0,this.view.state.doc.length,(p,g,{spec:m})=>{let _,v=-1;for(let y=h;y<this.items.length;y++)if(this.items[y].diagnostic==m.diagnostic){v=y;break}v<0?(_=new KOe(this.view,m.diagnostic),this.items.splice(h,0,_),d=!0):(_=this.items[v],v>h&&(this.items.splice(h,v-h),d=!0)),a&&_.diagnostic==a.diagnostic?_.dom.hasAttribute("aria-selected")||(_.dom.setAttribute("aria-selected","true"),f=_):_.dom.hasAttribute("aria-selected")&&_.dom.removeAttribute("aria-selected"),h++});h<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)d=!0,this.items.pop();0==this.items.length&&(this.items.push(new KOe(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),d=!0),f?(this.list.setAttribute("aria-activedescendant",f.id),this.view.requestMeasure({key:this,read:()=>({sel:f.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:p,panel:g})=>{let m=g.height/this.list.offsetHeight;p.top<g.top?this.list.scrollTop-=(g.top-p.top)/m:p.bottom>g.bottom&&(this.list.scrollTop+=(p.bottom-g.bottom)/m)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),d&&this.sync()}sync(){let l=this.list.firstChild;function a(){let h=l;l=h.nextSibling,h.remove()}for(let h of this.items)if(h.dom.parentNode==this.list){for(;l!=h.dom;)a();l=h.dom.nextSibling}else this.list.insertBefore(h.dom,l);for(;l;)a()}moveSelection(l){if(this.selectedIndex<0)return;let h=WO(this.view.state.field(Sl).diagnostics,this.items[l].diagnostic);h&&this.view.dispatch({selection:{anchor:h.from,head:h.to},scrollIntoView:!0,effects:ZOe.of(h)})}static open(l){return new qI(l)}}function JI(c){return function KI(c,l='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${l}>${encodeURIComponent(c)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${c}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const J_t=yi.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:JI("#d11")},".cm-lintRange-warning":{backgroundImage:JI("orange")},".cm-lintRange-info":{backgroundImage:JI("#999")},".cm-lintRange-hint":{backgroundImage:JI("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),nCe=[Sl,yi.decorations.compute([Sl],c=>{let{selected:l,panel:a}=c.field(Sl);return l&&a&&l.from!=l.to?ii.set([j_t.range(l.from,l.to)]):ii.none}),jmt(G_t,{hideOn:function HOe(c,l){let a=c.startState.doc.lineAt(l.pos);return!(!c.effects.some(h=>h.is(YI))&&!c.changes.touchesRange(a.from,a.to))}}),J_t],oyt=(()=>[t0t(),i0t,Smt(),k1t(),q0t(),fmt(),[vT,vmt],vl.allowMultipleSelections.of(!0),vl.transactionFilter.of(c=>{if(!c.docChanged||!c.isUserEvent("input.type")&&!c.isUserEvent("input.complete"))return c;let l=c.startState.languageDataAt("indentOnInput",c.startState.selection.main.head);if(!l.length)return c;let a=c.newDoc,{head:h}=c.newSelection.main,d=a.lineAt(h);if(h>d.from+200)return c;let f=a.sliceString(d.from,h);if(!l.some(v=>v.test(f)))return c;let{state:p}=c,g=-1,m=[];for(let{head:v}of p.selection.ranges){let _=p.doc.lineAt(v);if(_.from==g)continue;g=_.from;let y=SI(p,_.from);if(null==y)continue;let b=/^\s*/.exec(_.text)[0],O=AO(p,y);b!=O&&m.push({from:_.from,to:_.from+b.length,insert:O})}return m.length?[c,{changes:m,sequential:!0}]:c}),PT(t1t,{fallback:!0}),a1t(),[F_t,LOe],zOe(),Nmt(),Vmt(),Pmt,Avt(),gT.of([...B_t,...Tvt,...qvt,...N1t,...j0t,...UOe,...q_t])])();class t5{constructor(l,a,h,d,f,p,g,m,v,_=0,y){this.p=l,this.stack=a,this.state=h,this.reducePos=d,this.pos=f,this.score=p,this.buffer=g,this.bufferBase=m,this.curContext=v,this.lookAhead=_,this.parent=y}toString(){return`[${this.stack.filter((l,a)=>a%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(l,a,h=0){let d=l.parser.context;return new t5(l,[],a,h,h,0,[],0,d?new iCe(d,d.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(l,a){this.stack.push(this.state,a,this.bufferBase+this.buffer.length),this.state=l}reduce(l){var a;let h=l>>19,d=65535&l,{parser:f}=this.p,p=f.dynamicPrecedence(d);if(p&&(this.score+=p),0==h)return this.pushState(f.getGoto(this.state,d,!0),this.reducePos),d<f.minRepeatTerm&&this.storeNode(d,this.reducePos,this.reducePos,4,!0),void this.reduceContext(d,this.reducePos);let g=this.stack.length-3*(h-1)-(262144&l?6:0),m=g?this.stack[g-2]:this.p.ranges[0].from,v=this.reducePos-m;v>=2e3&&(null===(a=this.p.parser.nodeSet.types[d])||void 0===a||!a.isAnonymous)&&(m==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=v):this.p.lastBigReductionSize<v&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=m,this.p.lastBigReductionSize=v));let y=this.bufferBase+this.buffer.length-(g?this.stack[g-1]:0);if(d<f.minRepeatTerm||131072&l){let b=f.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(d,m,b,y+4,!0)}for(this.state=262144&l?this.stack[g]:f.getGoto(this.stack[g-3],d,!0);this.stack.length>g;)this.stack.pop();this.reduceContext(d,m)}storeNode(l,a,h,d=4,f=!1){if(0==l&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let p=this,g=this.buffer.length;if(0==g&&p.parent&&(g=p.bufferBase-p.parent.bufferBase,p=p.parent),g>0&&0==p.buffer[g-4]&&p.buffer[g-1]>-1){if(a==h)return;if(p.buffer[g-2]>=a)return void(p.buffer[g-2]=h)}}if(f&&this.pos!=h){let p=this.buffer.length;if(p>0&&0!=this.buffer[p-4])for(;p>0&&this.buffer[p-2]>h;)this.buffer[p]=this.buffer[p-4],this.buffer[p+1]=this.buffer[p-3],this.buffer[p+2]=this.buffer[p-2],this.buffer[p+3]=this.buffer[p-1],p-=4,d>4&&(d-=4);this.buffer[p]=l,this.buffer[p+1]=a,this.buffer[p+2]=h,this.buffer[p+3]=d}else this.buffer.push(l,a,h,d)}shift(l,a,h,d){if(131072&l)this.pushState(65535&l,this.pos);else if(262144&l)this.pos=d,this.shiftContext(a,h),a<=this.p.parser.maxNode&&this.buffer.push(a,h,d,4);else{let f=l,{parser:p}=this.p;(d>this.pos||a<=p.maxNode)&&(this.pos=d,p.stateFlag(f,1)||(this.reducePos=d)),this.pushState(f,h),this.shiftContext(a,h),a<=p.maxNode&&this.buffer.push(a,h,d,4)}}apply(l,a,h,d){65536&l?this.reduce(l):this.shift(l,a,h,d)}useNode(l,a){let h=this.p.reused.length-1;(h<0||this.p.reused[h]!=l)&&(this.p.reused.push(l),h++);let d=this.pos;this.reducePos=this.pos=d+l.length,this.pushState(a,d),this.buffer.push(h,d,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,l,this,this.p.stream.reset(this.pos-l.length)))}split(){let l=this,a=l.buffer.length;for(;a>0&&l.buffer[a-2]>l.reducePos;)a-=4;let h=l.buffer.slice(a),d=l.bufferBase+a;for(;l&&d==l.bufferBase;)l=l.parent;return new t5(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,h,d,this.curContext,this.lookAhead,l)}recoverByDelete(l,a){let h=l<=this.p.parser.maxNode;h&&this.storeNode(l,this.pos,a,4),this.storeNode(0,this.pos,a,h?8:4),this.pos=this.reducePos=a,this.score-=190}canShift(l){for(let a=new ayt(this);;){let h=this.p.parser.stateSlot(a.state,4)||this.p.parser.hasAction(a.state,l);if(0==h)return!1;if(!(65536&h))return!0;a.reduce(h)}}recoverByInsert(l){if(this.stack.length>=300)return[];let a=this.p.parser.nextStates(this.state);if(a.length>8||this.stack.length>=120){let d=[];for(let p,f=0;f<a.length;f+=2)(p=a[f+1])!=this.state&&this.p.parser.hasAction(p,l)&&d.push(a[f],p);if(this.stack.length<120)for(let f=0;d.length<8&&f<a.length;f+=2){let p=a[f+1];d.some((g,m)=>1&m&&g==p)||d.push(a[f],p)}a=d}let h=[];for(let d=0;d<a.length&&h.length<4;d+=2){let f=a[d+1];if(f==this.state)continue;let p=this.split();p.pushState(f,this.pos),p.storeNode(0,p.pos,p.pos,4,!0),p.shiftContext(a[d],this.pos),p.reducePos=this.pos,p.score-=200,h.push(p)}return h}forceReduce(){let{parser:l}=this.p,a=l.stateSlot(this.state,5);if(!(65536&a))return!1;if(!l.validAction(this.state,a)){let f=this.stack.length-3*(a>>19);if(f<0||l.getGoto(this.stack[f],65535&a,!1)<0){let p=this.findForcedReduction();if(null==p)return!1;a=p}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(a),!0}findForcedReduction(){let{parser:l}=this.p,a=[],h=(d,f)=>{if(!a.includes(d))return a.push(d),l.allActions(d,p=>{if(!(393216&p))if(65536&p){let g=(p>>19)-f;if(g>1){let m=65535&p,v=this.stack.length-3*g;if(v>=0&&l.getGoto(this.stack[v],m,!1)>=0)return g<<19|65536|m}}else{let g=h(p,f+1);if(null!=g)return g}})};return h(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:l}=this.p;return 65535==l.data[l.stateSlot(this.state,1)]&&!l.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(l){if(this.state!=l.state||this.stack.length!=l.stack.length)return!1;for(let a=0;a<this.stack.length;a+=3)if(this.stack[a]!=l.stack[a])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(l){return this.p.parser.dialect.flags[l]}shiftContext(l,a){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,l,this,this.p.stream.reset(a)))}reduceContext(l,a){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,l,this,this.p.stream.reset(a)))}emitContext(){let l=this.buffer.length-1;(l<0||-3!=this.buffer[l])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let l=this.buffer.length-1;(l<0||-4!=this.buffer[l])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(l){if(l!=this.curContext.context){let a=new iCe(this.curContext.tracker,l);a.hash!=this.curContext.hash&&this.emitContext(),this.curContext=a}}setLookAhead(l){l>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=l)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class iCe{constructor(l,a){this.tracker=l,this.context=a,this.hash=l.strict?l.hash(a):0}}class ayt{constructor(l){this.start=l,this.state=l.state,this.stack=l.stack,this.base=this.stack.length}reduce(l){let a=65535&l,h=l>>19;0==h?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(h-1);let d=this.start.p.parser.getGoto(this.stack[this.base-3],a,!0);this.state=d}}class n5{constructor(l,a,h){this.stack=l,this.pos=a,this.index=h,this.buffer=l.buffer,0==this.index&&this.maybeNext()}static create(l,a=l.bufferBase+l.buffer.length){return new n5(l,a,a-l.bufferBase)}maybeNext(){let l=this.stack.parent;null!=l&&(this.index=this.stack.bufferBase-l.bufferBase,this.stack=l,this.buffer=l.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new n5(this.stack,this.pos,this.index)}}function $T(c,l=Uint16Array){if("string"!=typeof c)return c;let a=null;for(let h=0,d=0;h<c.length;){let f=0;for(;;){let p=c.charCodeAt(h++),g=!1;if(126==p){f=65535;break}p>=92&&p--,p>=34&&p--;let m=p-32;if(m>=46&&(m-=46,g=!0),f+=m,g)break;f*=46}a?a[d++]=f:a=new l(f)}return a}class r5{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const rCe=new r5;class lyt{constructor(l,a){this.input=l,this.ranges=a,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=rCe,this.rangeIndex=0,this.pos=this.chunkPos=a[0].from,this.range=a[0],this.end=a[a.length-1].to,this.readNext()}resolveOffset(l,a){let h=this.range,d=this.rangeIndex,f=this.pos+l;for(;f<h.from;){if(!d)return null;let p=this.ranges[--d];f-=h.from-p.to,h=p}for(;a<0?f>h.to:f>=h.to;){if(d==this.ranges.length-1)return null;let p=this.ranges[++d];f+=p.from-h.to,h=p}return f}clipPos(l){if(l>=this.range.from&&l<this.range.to)return l;for(let a of this.ranges)if(a.to>l)return Math.max(l,a.from);return this.end}peek(l){let h,d,a=this.chunkOff+l;if(a>=0&&a<this.chunk.length)h=this.pos+l,d=this.chunk.charCodeAt(a);else{let f=this.resolveOffset(l,1);if(null==f)return-1;if(h=f,h>=this.chunk2Pos&&h<this.chunk2Pos+this.chunk2.length)d=this.chunk2.charCodeAt(h-this.chunk2Pos);else{let p=this.rangeIndex,g=this.range;for(;g.to<=h;)g=this.ranges[++p];this.chunk2=this.input.chunk(this.chunk2Pos=h),h+this.chunk2.length>g.to&&(this.chunk2=this.chunk2.slice(0,g.to-h)),d=this.chunk2.charCodeAt(0)}}return h>=this.token.lookAhead&&(this.token.lookAhead=h+1),d}acceptToken(l,a=0){let h=a?this.resolveOffset(a,-1):this.pos;if(null==h||h<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=l,this.token.end=h}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:l,chunkPos:a}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=l,this.chunk2Pos=a,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let l=this.input.chunk(this.pos);this.chunk=this.pos+l.length>this.range.to?l.slice(0,this.range.to-this.pos):l,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.next=this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?-1:this.chunk.charCodeAt(this.chunkOff)}advance(l=1){for(this.chunkOff+=l;this.pos+l>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();l-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=l,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(l,a){if(a?(this.token=a,a.start=l,a.lookAhead=l+1,a.value=a.extended=-1):this.token=rCe,this.pos!=l){if(this.pos=l,l==this.end)return this.setDone(),this;for(;l<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;l>=this.range.to;)this.range=this.ranges[++this.rangeIndex];l>=this.chunkPos&&l<this.chunkPos+this.chunk.length?this.chunkOff=l-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(l,a){if(l>=this.chunkPos&&a<=this.chunkPos+this.chunk.length)return this.chunk.slice(l-this.chunkPos,a-this.chunkPos);if(l>=this.chunk2Pos&&a<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(l-this.chunk2Pos,a-this.chunk2Pos);if(l>=this.range.from&&a<=this.range.to)return this.input.read(l,a);let h="";for(let d of this.ranges){if(d.from>=a)break;d.to>l&&(h+=this.input.read(Math.max(d.from,l),Math.min(d.to,a)))}return h}}class ZO{constructor(l,a){this.data=l,this.id=a}token(l,a){let{parser:h}=a.p;sCe(this.data,l,a,this.id,h.data,h.tokenPrecTable)}}ZO.prototype.contextual=ZO.prototype.fallback=ZO.prototype.extend=!1;class jO{constructor(l,a,h){this.precTable=a,this.elseToken=h,this.data="string"==typeof l?$T(l):l}token(l,a){let h=l.pos,d=0;for(;;){let f=l.next<0,p=l.resolveOffset(1,1);if(sCe(this.data,l,a,0,this.data,this.precTable),l.token.value>-1)break;if(null==this.elseToken)return;if(f||d++,null==p)break;l.reset(p,l.token)}d&&(l.reset(h,l.token),l.acceptToken(this.elseToken,d))}}jO.prototype.contextual=ZO.prototype.fallback=ZO.prototype.extend=!1;class Hm{constructor(l,a={}){this.token=l,this.contextual=!!a.contextual,this.fallback=!!a.fallback,this.extend=!!a.extend}}function sCe(c,l,a,h,d,f){let p=0,g=1<<h,{dialect:m}=a.p.parser;e:for(;g&c[p];){let v=c[p+1];for(let O=p+3;O<v;O+=2)if((c[O+1]&g)>0){let C=c[O];if(m.allows(C)&&(-1==l.token.value||l.token.value==C||cyt(C,l.token.value,d,f))){l.acceptToken(C);break}}let _=l.next,y=0,b=c[p+2];if(!(l.next<0&&b>y&&65535==c[v+3*b-3])){for(;y<b;){let O=y+b>>1,C=v+O+(O<<1);if(_<c[C])b=O;else{if(!(_>=(c[C+1]||65536))){p=c[C+2],l.advance();continue e}y=O+1}}break}p=c[v+3*b-1]}}function oCe(c,l,a){for(let d,h=l;65535!=(d=c[h]);h++)if(d==a)return h-l;return-1}function cyt(c,l,a,h){let d=oCe(a,h,l);return d<0||oCe(a,h,c)<d}const xu=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let $W=null;function aCe(c,l,a){let h=c.cursor(ks.IncludeAnonymous);for(h.moveTo(l);;)if(!(a<0?h.childBefore(l):h.childAfter(l)))for(;;){if((a<0?h.to<l:h.from>l)&&!h.type.isError)return a<0?Math.max(0,Math.min(h.to-1,l-25)):Math.min(c.length,Math.max(h.from+1,l+25));if(a<0?h.prevSibling():h.nextSibling())break;if(!h.parent())return a<0?0:c.length}}class uyt{constructor(l,a){this.fragments=l,this.nodeSet=a,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let l=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(l){for(this.safeFrom=l.openStart?aCe(l.tree,l.from+l.offset,1)-l.offset:l.from,this.safeTo=l.openEnd?aCe(l.tree,l.to+l.offset,-1)-l.offset:l.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(l.tree),this.start.push(-l.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(l){if(l<this.nextStart)return null;for(;this.fragment&&this.safeTo<=l;)this.nextFragment();if(!this.fragment)return null;for(;;){let a=this.trees.length-1;if(a<0)return this.nextFragment(),null;let h=this.trees[a],d=this.index[a];if(d==h.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let f=h.children[d],p=this.start[a]+h.positions[d];if(p>l)return this.nextStart=p,null;if(f instanceof Ks){if(p==l){if(p<this.safeFrom)return null;let g=p+f.length;if(g<=this.safeTo){let m=f.prop(ur.lookAhead);if(!m||g+m<this.fragment.to)return f}}this.index[a]++,p+f.length>=Math.max(this.safeFrom,l)&&(this.trees.push(f),this.start.push(p),this.index.push(0))}else this.index[a]++,this.nextStart=p+f.length}}}class hyt{constructor(l,a){this.stream=a,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=l.tokenizers.map(h=>new r5)}getActions(l){let a=0,h=null,{parser:d}=l.p,{tokenizers:f}=d,p=d.stateSlot(l.state,3),g=l.curContext?l.curContext.hash:0,m=0;for(let v=0;v<f.length;v++){if(!(1<<v&p))continue;let _=f[v],y=this.tokens[v];if((!h||_.fallback)&&((_.contextual||y.start!=l.pos||y.mask!=p||y.context!=g)&&(this.updateCachedToken(y,_,l),y.mask=p,y.context=g),y.lookAhead>y.end+25&&(m=Math.max(y.lookAhead,m)),0!=y.value)){let b=a;if(y.extended>-1&&(a=this.addActions(l,y.extended,y.end,a)),a=this.addActions(l,y.value,y.end,a),!_.extend&&(h=y,a>b))break}}for(;this.actions.length>a;)this.actions.pop();return m&&l.setLookAhead(m),!h&&l.pos==this.stream.end&&(h=new r5,h.value=l.p.parser.eofTerm,h.start=h.end=l.pos,a=this.addActions(l,h.value,h.end,a)),this.mainToken=h,this.actions}getMainToken(l){if(this.mainToken)return this.mainToken;let a=new r5,{pos:h,p:d}=l;return a.start=h,a.end=Math.min(h+1,d.stream.end),a.value=h==d.stream.end?d.parser.eofTerm:0,a}updateCachedToken(l,a,h){let d=this.stream.clipPos(h.pos);if(a.token(this.stream.reset(d,l),h),l.value>-1){let{parser:f}=h.p;for(let p=0;p<f.specialized.length;p++)if(f.specialized[p]==l.value){let g=f.specializers[p](this.stream.read(l.start,l.end),h);if(g>=0&&h.p.parser.dialect.allows(g>>1)){1&g?l.extended=g>>1:l.value=g>>1;break}}}else l.value=0,l.end=this.stream.clipPos(d+1)}putAction(l,a,h,d){for(let f=0;f<d;f+=3)if(this.actions[f]==l)return d;return this.actions[d++]=l,this.actions[d++]=a,this.actions[d++]=h,d}addActions(l,a,h,d){let{state:f}=l,{parser:p}=l.p,{data:g}=p;for(let m=0;m<2;m++)for(let v=p.stateSlot(f,m?2:1);;v+=3){if(65535==g[v]){if(1!=g[v+1]){0==d&&2==g[v+1]&&(d=this.putAction(tg(g,v+2),a,h,d));break}v=tg(g,v+2)}g[v]==a&&(d=this.putAction(tg(g,v+1),a,h,d))}return d}}class dyt{constructor(l,a,h,d){this.parser=l,this.input=a,this.ranges=d,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new lyt(a,d),this.tokens=new hyt(l,this.stream),this.topTerm=l.top[1];let{from:f}=d[0];this.stacks=[t5.start(this,l.top[0],f)],this.fragments=h.length&&this.stream.end-f>4*l.bufferLength?new uyt(h,l.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let d,f,l=this.stacks,a=this.minStackPos,h=this.stacks=[];if(this.bigReductionCount>300&&1==l.length){let[p]=l;for(;p.forceReduce()&&p.stack.length&&p.stack[p.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let p=0;p<l.length;p++){let g=l[p];for(;;){if(this.tokens.mainToken=null,g.pos>a)h.push(g);else{if(this.advanceStack(g,h,l))continue;{d||(d=[],f=[]),d.push(g);let m=this.tokens.getMainToken(g);f.push(m.value,m.end)}}break}}if(!h.length){let p=d&&function pyt(c){let l=null;for(let a of c){let h=a.p.stoppedAt;(a.pos==a.p.stream.end||null!=h&&a.pos>h)&&a.p.parser.stateFlag(a.state,2)&&(!l||l.score<a.score)&&(l=a)}return l}(d);if(p)return xu&&console.log("Finish with "+this.stackID(p)),this.stackToTree(p);if(this.parser.strict)throw xu&&d&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+a);this.recovering||(this.recovering=5)}if(this.recovering&&d){let p=null!=this.stoppedAt&&d[0].pos>this.stoppedAt?d[0]:this.runRecovery(d,f,h);if(p)return xu&&console.log("Force-finish "+this.stackID(p)),this.stackToTree(p.forceAll())}if(this.recovering){let p=1==this.recovering?1:3*this.recovering;if(h.length>p)for(h.sort((g,m)=>m.score-g.score);h.length>p;)h.pop();h.some(g=>g.reducePos>a)&&this.recovering--}else if(h.length>1){e:for(let p=0;p<h.length-1;p++){let g=h[p];for(let m=p+1;m<h.length;m++){let v=h[m];if(g.sameState(v)||g.buffer.length>500&&v.buffer.length>500){if(!((g.score-v.score||g.buffer.length-v.buffer.length)>0)){h.splice(p--,1);continue e}h.splice(m--,1)}}}h.length>12&&h.splice(12,h.length-12)}this.minStackPos=h[0].pos;for(let p=1;p<h.length;p++)h[p].pos<this.minStackPos&&(this.minStackPos=h[p].pos);return null}stopAt(l){if(null!=this.stoppedAt&&this.stoppedAt<l)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=l}advanceStack(l,a,h){let d=l.pos,{parser:f}=this,p=xu?this.stackID(l)+" -> ":"";if(null!=this.stoppedAt&&d>this.stoppedAt)return l.forceReduce()?l:null;if(this.fragments){let v=l.curContext&&l.curContext.tracker.strict,_=v?l.curContext.hash:0;for(let y=this.fragments.nodeAt(d);y;){let b=this.parser.nodeSet.types[y.type.id]==y.type?f.getGoto(l.state,y.type.id):-1;if(b>-1&&y.length&&(!v||(y.prop(ur.contextHash)||0)==_))return l.useNode(y,b),xu&&console.log(p+this.stackID(l)+` (via reuse of ${f.getName(y.type.id)})`),!0;if(!(y instanceof Ks)||0==y.children.length||y.positions[0]>0)break;let O=y.children[0];if(!(O instanceof Ks&&0==y.positions[0]))break;y=O}}let g=f.stateSlot(l.state,4);if(g>0)return l.reduce(g),xu&&console.log(p+this.stackID(l)+` (via always-reduce ${f.getName(65535&g)})`),!0;if(l.stack.length>=8400)for(;l.stack.length>6e3&&l.forceReduce(););let m=this.tokens.getActions(l);for(let v=0;v<m.length;){let _=m[v++],y=m[v++],b=m[v++],O=v==m.length||!h,C=O?l:l.split(),S=this.tokens.mainToken;if(C.apply(_,y,S?S.start:C.pos,b),xu&&console.log(p+this.stackID(C)+` (via ${65536&_?`reduce of ${f.getName(65535&_)}`:"shift"} for ${f.getName(y)} @ ${d}${C==l?"":", split"})`),O)return!0;C.pos>d?a.push(C):h.push(C)}return!1}advanceFully(l,a){let h=l.pos;for(;;){if(!this.advanceStack(l,null,null))return!1;if(l.pos>h)return lCe(l,a),!0}}runRecovery(l,a,h){let d=null,f=!1;for(let p=0;p<l.length;p++){let g=l[p],m=a[p<<1],v=a[1+(p<<1)],_=xu?this.stackID(g)+" -> ":"";if(g.deadEnd&&(f||(f=!0,g.restart(),xu&&console.log(_+this.stackID(g)+" (restarted)"),this.advanceFully(g,h))))continue;let y=g.split(),b=_;for(let O=0;y.forceReduce()&&O<10&&(xu&&console.log(b+this.stackID(y)+" (via force-reduce)"),!this.advanceFully(y,h));O++)xu&&(b=this.stackID(y)+" -> ");for(let O of g.recoverByInsert(m))xu&&console.log(_+this.stackID(O)+" (via recover-insert)"),this.advanceFully(O,h);this.stream.end>g.pos?(v==g.pos&&(v++,m=0),g.recoverByDelete(m,v),xu&&console.log(_+this.stackID(g)+` (via recover-delete ${this.parser.getName(m)})`),lCe(g,h)):(!d||d.score<g.score)&&(d=g)}return d}stackToTree(l){return l.close(),Ks.build({buffer:n5.create(l),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:l.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(l){let a=($W||($W=new WeakMap)).get(l);return a||$W.set(l,a=String.fromCodePoint(this.nextStackID++)),a+l}}function lCe(c,l){for(let a=0;a<l.length;a++){let h=l[a];if(h.pos==c.pos&&h.sameState(c))return void(l[a].score<c.score&&(l[a]=c))}l.push(c)}class fyt{constructor(l,a,h){this.source=l,this.flags=a,this.disabled=h}allows(l){return!this.disabled||0==this.disabled[l]}}const zW=c=>c;class cCe{constructor(l){this.start=l.start,this.shift=l.shift||zW,this.reduce=l.reduce||zW,this.reuse=l.reuse||zW,this.hash=l.hash||(()=>0),this.strict=!1!==l.strict}}class GO extends Eye{constructor(l){if(super(),this.wrappers=[],14!=l.version)throw new RangeError(`Parser version (${l.version}) doesn't match runtime version (14)`);let a=l.nodeNames.split(" ");this.minRepeatTerm=a.length;for(let g=0;g<l.repeatNodeCount;g++)a.push("");let h=Object.keys(l.topRules).map(g=>l.topRules[g][1]),d=[];for(let g=0;g<a.length;g++)d.push([]);function f(g,m,v){d[g].push([m,m.deserialize(String(v))])}if(l.nodeProps)for(let g of l.nodeProps){let m=g[0];"string"==typeof m&&(m=ur[m]);for(let v=1;v<g.length;){let _=g[v++];if(_>=0)f(_,m,g[v++]);else{let y=g[v+-_];for(let b=-_;b>0;b--)f(g[v++],m,y);v++}}}this.nodeSet=new dI(a.map((g,m)=>sc.define({name:m>=this.minRepeatTerm?void 0:g,id:m,props:d[m],top:h.indexOf(m)>-1,error:0==m,skipped:l.skippedNodes&&l.skippedNodes.indexOf(m)>-1}))),l.propSources&&(this.nodeSet=this.nodeSet.extend(...l.propSources)),this.strict=!1,this.bufferLength=Sye;let p=$T(l.tokenData);this.context=l.context,this.specializerSpecs=l.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let g=0;g<this.specializerSpecs.length;g++)this.specialized[g]=this.specializerSpecs[g].term;this.specializers=this.specializerSpecs.map(uCe),this.states=$T(l.states,Uint32Array),this.data=$T(l.stateData),this.goto=$T(l.goto),this.maxTerm=l.maxTerm,this.tokenizers=l.tokenizers.map(g=>"number"==typeof g?new ZO(p,g):g),this.topRules=l.topRules,this.dialects=l.dialects||{},this.dynamicPrecedences=l.dynamicPrecedences||null,this.tokenPrecTable=l.tokenPrec,this.termNames=l.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(l,a,h){let d=new dyt(this,l,a,h);for(let f of this.wrappers)d=f(d,l,a,h);return d}getGoto(l,a,h=!1){let d=this.goto;if(a>=d[0])return-1;for(let f=d[a+1];;){let p=d[f++],g=1&p,m=d[f++];if(g&&h)return m;for(let v=f+(p>>1);f<v;f++)if(d[f]==l)return m;if(g)return-1}}hasAction(l,a){let h=this.data;for(let d=0;d<2;d++)for(let p,f=this.stateSlot(l,d?2:1);;f+=3){if(65535==(p=h[f])){if(1!=h[f+1]){if(2==h[f+1])return tg(h,f+2);break}p=h[f=tg(h,f+2)]}if(p==a||0==p)return tg(h,f+1)}return 0}stateSlot(l,a){return this.states[6*l+a]}stateFlag(l,a){return(this.stateSlot(l,0)&a)>0}validAction(l,a){return!!this.allActions(l,h=>h==a||null)}allActions(l,a){let h=this.stateSlot(l,4),d=h?a(h):void 0;for(let f=this.stateSlot(l,1);null==d;f+=3){if(65535==this.data[f]){if(1!=this.data[f+1])break;f=tg(this.data,f+2)}d=a(tg(this.data,f+1))}return d}nextStates(l){let a=[];for(let h=this.stateSlot(l,1);;h+=3){if(65535==this.data[h]){if(1!=this.data[h+1])break;h=tg(this.data,h+2)}if(!(1&this.data[h+2])){let d=this.data[h+1];a.some((f,p)=>1&p&&f==d)||a.push(this.data[h],d)}}return a}configure(l){let a=Object.assign(Object.create(GO.prototype),this);if(l.props&&(a.nodeSet=this.nodeSet.extend(...l.props)),l.top){let h=this.topRules[l.top];if(!h)throw new RangeError(`Invalid top rule name ${l.top}`);a.top=h}return l.tokenizers&&(a.tokenizers=this.tokenizers.map(h=>{let d=l.tokenizers.find(f=>f.from==h);return d?d.to:h})),l.specializers&&(a.specializers=this.specializers.slice(),a.specializerSpecs=this.specializerSpecs.map((h,d)=>{let f=l.specializers.find(g=>g.from==h.external);if(!f)return h;let p=Object.assign(Object.assign({},h),{external:f.to});return a.specializers[d]=uCe(p),p})),l.contextTracker&&(a.context=l.contextTracker),l.dialect&&(a.dialect=this.parseDialect(l.dialect)),null!=l.strict&&(a.strict=l.strict),l.wrap&&(a.wrappers=a.wrappers.concat(l.wrap)),null!=l.bufferLength&&(a.bufferLength=l.bufferLength),a}hasWrappers(){return this.wrappers.length>0}getName(l){return this.termNames?this.termNames[l]:String(l<=this.maxNode&&this.nodeSet.types[l].name||l)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(l){let a=this.dynamicPrecedences;return null==a?0:a[l]||0}parseDialect(l){let a=Object.keys(this.dialects),h=a.map(()=>!1);if(l)for(let f of l.split(" ")){let p=a.indexOf(f);p>=0&&(h[p]=!0)}let d=null;for(let f=0;f<a.length;f++)if(!h[f])for(let g,p=this.dialects[a[f]];65535!=(g=this.data[p++]);)(d||(d=new Uint8Array(this.maxTerm+1)))[g]=1;return new fyt(l,h,d)}static deserialize(l){return new GO(l)}}function tg(c,l){return c[l]|c[l+1]<<16}function uCe(c){if(c.external){let l=c.extend?1:0;return(a,h)=>c.external(a,h)<<1|l}return c.get}const UW=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Eyt=new cCe({start:!1,shift:(c,l)=>4==l||5==l||312==l?c:313==l,strict:!1}),Pyt=new Hm((c,l)=>{let{next:a}=c;(125==a||-1==a||l.context)&&c.acceptToken(310)},{contextual:!0,fallback:!0}),Ayt=new Hm((c,l)=>{let h,{next:a}=c;UW.indexOf(a)>-1||47==a&&(47==(h=c.peek(1))||42==h)||125!=a&&59!=a&&-1!=a&&!l.context&&c.acceptToken(309)},{contextual:!0}),Iyt=new Hm((c,l)=>{let{next:a}=c;if((43==a||45==a)&&(c.advance(),a==c.next)){c.advance();let h=!l.context&&l.canShift(1);c.acceptToken(h?1:2)}},{contextual:!0});function HW(c,l){return c>=65&&c<=90||c>=97&&c<=122||95==c||c>=192||!l&&c>=48&&c<=57}const Ryt=new Hm((c,l)=>{if(60!=c.next||!l.dialectEnabled(0)||(c.advance(),47==c.next))return;let a=0;for(;UW.indexOf(c.next)>-1;)c.advance(),a++;if(HW(c.next,!0)){for(c.advance(),a++;HW(c.next,!1);)c.advance(),a++;for(;UW.indexOf(c.next)>-1;)c.advance(),a++;if(44==c.next)return;for(let h=0;;h++){if(7==h){if(!HW(c.next,!0))return;break}if(c.next!="extends".charCodeAt(h))break;c.advance(),a++}}c.acceptToken(3,-a)}),Lyt=vI({"get set async static":le.modifier,"for while do if else switch try catch finally return throw break continue default case":le.controlKeyword,"in of await yield void typeof delete instanceof":le.operatorKeyword,"let var const using function class extends":le.definitionKeyword,"import export from":le.moduleKeyword,"with debugger as new":le.keyword,TemplateString:le.special(le.string),super:le.atom,BooleanLiteral:le.bool,this:le.self,null:le.null,Star:le.modifier,VariableName:le.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":le.function(le.variableName),VariableDefinition:le.definition(le.variableName),Label:le.labelName,PropertyName:le.propertyName,PrivatePropertyName:le.special(le.propertyName),"CallExpression/MemberExpression/PropertyName":le.function(le.propertyName),"FunctionDeclaration/VariableDefinition":le.function(le.definition(le.variableName)),"ClassDeclaration/VariableDefinition":le.definition(le.className),PropertyDefinition:le.definition(le.propertyName),PrivatePropertyDefinition:le.definition(le.special(le.propertyName)),UpdateOp:le.updateOperator,"LineComment Hashbang":le.lineComment,BlockComment:le.blockComment,Number:le.number,String:le.string,Escape:le.escape,ArithOp:le.arithmeticOperator,LogicOp:le.logicOperator,BitOp:le.bitwiseOperator,CompareOp:le.compareOperator,RegExp:le.regexp,Equals:le.definitionOperator,Arrow:le.function(le.punctuation),": Spread":le.punctuation,"( )":le.paren,"[ ]":le.squareBracket,"{ }":le.brace,"InterpolationStart InterpolationEnd":le.special(le.brace),".":le.derefOperator,", ;":le.separator,"@":le.meta,TypeName:le.typeName,TypeDefinition:le.definition(le.typeName),"type enum interface implements namespace module declare":le.definitionKeyword,"abstract global Privacy readonly override":le.modifier,"is keyof unique infer":le.operatorKeyword,JSXAttributeValue:le.attributeValue,JSXText:le.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":le.angleBracket,"JSXIdentifier JSXNameSpacedName":le.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":le.attributeName,"JSXBuiltin/JSXIdentifier":le.standard(le.tagName)}),Nyt={__proto__:null,export:18,as:23,from:31,default:34,async:39,function:40,extends:52,this:56,true:64,false:64,null:76,void:80,typeof:84,super:102,new:136,delete:152,yield:161,await:165,class:170,public:227,private:227,protected:227,readonly:229,instanceof:248,satisfies:251,in:252,const:254,import:286,keyof:339,unique:343,infer:349,is:385,abstract:405,implements:407,type:409,let:412,var:414,using:417,interface:423,enum:427,namespace:433,module:435,declare:439,global:443,for:462,of:471,while:474,with:478,do:482,if:486,else:488,switch:492,case:498,try:504,catch:508,finally:512,return:516,throw:520,break:524,continue:528,debugger:532},Fyt={__proto__:null,async:123,get:125,set:127,declare:187,public:189,private:189,protected:189,static:191,abstract:193,override:195,readonly:201,accessor:203,new:389},Byt={__proto__:null,"<":143},Vyt=GO.deserialize({version:14,states:"$<UO%TQ^OOO%[Q^OOO'_Q`OOP(lOWOOO*zQ08SO'#ChO+RO!bO'#CiO+aO#tO'#CiO+oO?MpO'#D^O.QQ^O'#DdO.bQ^O'#DoO%[Q^O'#DyO0fQ^O'#EROOQ07b'#EZ'#EZO1PQWO'#EWOOQO'#El'#ElOOQO'#Ie'#IeO1XQWO'#GmO1dQWO'#EkO1iQWO'#EkO3kQ08SO'#JiO6[Q08SO'#JjO6xQWO'#FZO6}Q&jO'#FqOOQ07b'#Fc'#FcO7YO,YO'#FcO7hQ7[O'#FxO9UQWO'#FwOOQ07b'#Jj'#JjOOQ07`'#Ji'#JiO9ZQWO'#GqOOQU'#KU'#KUO9fQWO'#IRO9kQ07hO'#ISOOQU'#JW'#JWOOQU'#IW'#IWQ`Q^OOO`Q^OOO%[Q^O'#DqO9sQ^O'#D}O9zQ^O'#EPO9aQWO'#GmO:RQ7[O'#CnO:aQWO'#EjO:lQWO'#EuO:qQ7[O'#FbO;`QWO'#GmOOQO'#KV'#KVO;eQWO'#KVO;sQWO'#GuO;sQWO'#GvO;sQWO'#GxO9aQWO'#G{O<jQWO'#HOO>RQWO'#CdO>cQWO'#H[O>kQWO'#HbO>kQWO'#HdO`Q^O'#HfO>kQWO'#HhO>kQWO'#HkO>pQWO'#HqO>uQ07iO'#HwO%[Q^O'#HyO?QQ07iO'#H{O?]Q07iO'#H}O9kQ07hO'#IPO?hQ08SO'#ChO@jQ`O'#DiQOQWOOO%[Q^O'#EPOAQQWO'#ESO:RQ7[O'#EjOA]QWO'#EjOAhQpO'#FbOOQU'#Cf'#CfOOQ07`'#Dn'#DnOOQ07`'#Jm'#JmO%[Q^O'#JmOOQO'#Jq'#JqOOQO'#Ib'#IbOBhQ`O'#EcOOQ07`'#Eb'#EbOCdQ07pO'#EcOCnQ`O'#EVOOQO'#Jp'#JpODSQ`O'#JqOEaQ`O'#EVOCnQ`O'#EcPEnO!0LbO'#CaPOOO)CDu)CDuOOOO'#IX'#IXOEyO!bO,59TOOQ07b,59T,59TOOOO'#IY'#IYOFXO#tO,59TO%[Q^O'#D`OOOO'#I['#I[OFgO?MpO,59xOOQ07b,59x,59xOFuQ^O'#I]OGYQWO'#JkOI[QrO'#JkO+}Q^O'#JkOIcQWO,5:OOIyQWO'#ElOJWQWO'#JyOJcQWO'#JxOJcQWO'#JxOJkQWO,5;YOJpQWO'#JwOOQ07f,5:Z,5:ZOJwQ^O,5:ZOLxQ08SO,5:eOMiQWO,5:mONSQ07hO'#JvONZQWO'#JuO9ZQWO'#JuONoQWO'#JuONwQWO,5;XON|QWO'#JuO!#UQrO'#JjOOQ07b'#Ch'#ChO%[Q^O'#ERO!#tQpO,5:rOOQO'#Jr'#JrOOQO-E<c-E<cO9aQWO,5=XO!$[QWO,5=XO!$aQ^O,5;VO!&dQ7[O'#EgO!'}QWO,5;VO!)mQ7[O'#DsO!)tQ^O'#DxO!*OQ`O,5;`O!*WQ`O,5;`O%[Q^O,5;`OOQU'#FR'#FROOQU'#FT'#FTO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aOOQU'#FX'#FXO!*fQ^O,5;rOOQ07b,5;w,5;wOOQ07b,5;x,5;xO!,iQWO,5;xOOQ07b,5;y,5;yO%[Q^O'#IiO!,qQ07hO,5<eO!&dQ7[O,5;aO!-`Q7[O,5;aO%[Q^O,5;uO!-gQ&jO'#FgO!.dQ&jO'#J}O!.OQ&jO'#J}O!.kQ&jO'#J}OOQO'#J}'#J}O!/PQ&jO,5<POOOS,5<],5<]O!/bQ^O'#FsOOOS'#Ih'#IhO7YO,YO,5;}O!/iQ&jO'#FuOOQ07b,5;},5;}O!0YQMhO'#CuOOQ07b'#Cy'#CyO!0mQWO'#CyO!0rO?MpO'#C}O!1`Q7[O,5<bO!1gQWO,5<dO!3SQ!LQO'#GSO!3aQWO'#GTO!3fQWO'#GTO!3kQ!LQO'#GXO!4jQ`O'#G]OOQO'#Gh'#GhO!(SQ7[O'#GgOOQO'#Gj'#GjO!(SQ7[O'#GiO!5]QMhO'#JdOOQ07b'#Jd'#JdO!5gQWO'#JcO!5uQWO'#JbO!5}QWO'#CtOOQ07b'#Cw'#CwOOQ07b'#DR'#DROOQ07b'#DT'#DTO1SQWO'#DVO!(SQ7[O'#FzO!(SQ7[O'#F|O!6VQWO'#GOO!6[QWO'#GPO!3fQWO'#GVO!(SQ7[O'#G[O!6aQWO'#EmO!7OQWO,5<cOOQ07`'#Cq'#CqO!7WQWO'#EnO!8QQ`O'#EoOOQ07`'#Jw'#JwO!8XQ07hO'#KWO9kQ07hO,5=]O`Q^O,5>mOOQU'#J`'#J`OOQU,5>n,5>nOOQU-E<U-E<UO!:ZQ08SO,5:]O!<wQ08SO,5:iO%[Q^O,5:iO!?bQ08SO,5:kOOQO,5@q,5@qO!@RQ7[O,5=XO!@aQ07hO'#JaO9UQWO'#JaO!@rQ07hO,59YO!@}Q`O,59YO!AVQ7[O,59YO:RQ7[O,59YO!AbQWO,5;VO!AjQWO'#HZO!BOQWO'#KZO%[Q^O,5;zO!7{Q`O,5;|O!BWQWO,5=tO!B]QWO,5=tO!BbQWO,5=tO9kQ07hO,5=tO;sQWO,5=dOOQO'#Cu'#CuO!BpQ`O,5=aO!BxQ7[O,5=bO!CTQWO,5=dO!CYQpO,5=gO!CbQWO'#KVO>pQWO'#HQO9aQWO'#HSO!CgQWO'#HSO:RQ7[O'#HUO!ClQWO'#HUOOQU,5=j,5=jO!CqQWO'#HVO!DSQWO'#CnO!DXQWO,59OO!DcQWO,59OO!FhQ^O,59OOOQU,59O,59OO!FxQ07hO,59OO%[Q^O,59OO!ITQ^O'#H^OOQU'#H_'#H_OOQU'#H`'#H`O`Q^O,5=vO!IkQWO,5=vO`Q^O,5=|O`Q^O,5>OO!IpQWO,5>QO`Q^O,5>SO!IuQWO,5>VO!IzQ^O,5>]OOQU,5>c,5>cO%[Q^O,5>cO9kQ07hO,5>eOOQU,5>g,5>gO!NUQWO,5>gOOQU,5>i,5>iO!NUQWO,5>iOOQU,5>k,5>kO!NZQ`O'#D[O%[Q^O'#JmO!NxQ`O'#JmO# gQ`O'#DjO# xQ`O'#DjO#$ZQ^O'#DjO#$bQWO'#JlO#$jQWO,5:TO#$oQWO'#EpO#$}QWO'#JzO#%VQWO,5;ZO#%[Q`O'#DjO#%iQ`O'#EUOOQ07b,5:n,5:nO%[Q^O,5:nO#%pQWO,5:nO>pQWO,5;UO!@}Q`O,5;UO!AVQ7[O,5;UO:RQ7[O,5;UO#%xQWO,5@XO#%}Q$ISO,5:rOOQO-E<`-E<`O#'TQ07pO,5:}OCnQ`O,5:qO#'_Q`O,5:qOCnQ`O,5:}O!@rQ07hO,5:qOOQ07`'#Ef'#EfOOQO,5:},5:}O%[Q^O,5:}O#'lQ07hO,5:}O#'wQ07hO,5:}O!@}Q`O,5:qOOQO,5;T,5;TO#(VQ07hO,5:}POOO'#IV'#IVP#(kO!0LbO,58{POOO,58{,58{OOOO-E<V-E<VOOQ07b1G.o1G.oOOOO-E<W-E<WO#(vQpO,59zOOOO-E<Y-E<YOOQ07b1G/d1G/dO#({QrO,5>wO+}Q^O,5>wOOQO,5>},5>}O#)VQ^O'#I]OOQO-E<Z-E<ZO#)dQWO,5@VO#)lQrO,5@VO#)sQWO,5@dOOQ07b1G/j1G/jO%[Q^O,5@eO#){QWO'#IcOOQO-E<a-E<aO#)sQWO,5@dOOQ07`1G0t1G0tOOQ07f1G/u1G/uOOQ07f1G0X1G0XO%[Q^O,5@bO#*aQ07hO,5@bO#*rQ07hO,5@bO#*yQWO,5@aO9ZQWO,5@aO#+RQWO,5@aO#+aQWO'#IfO#*yQWO,5@aOOQ07`1G0s1G0sO!*OQ`O,5:tO!*ZQ`O,5:tOOQO,5:v,5:vO#,RQWO,5:vO#,ZQ7[O1G2sO9aQWO1G2sOOQ07b1G0q1G0qO#,iQ08SO1G0qO#-nQ08QO,5;ROOQ07b'#GR'#GRO#.[Q08SO'#JdO!$aQ^O1G0qO#0dQ7[O'#JnO#0nQWO,5:_O#0sQrO'#JoO%[Q^O'#JoO#0}QWO,5:dOOQ07b'#D['#D[OOQ07b1G0z1G0zO%[Q^O1G0zOOQ07b1G1d1G1dO#1SQWO1G0zO#3kQ08SO1G0{O#3rQ08SO1G0{O#6]Q08SO1G0{O#6dQ08SO1G0{O#8nQ08SO1G0{O#9UQ08SO1G0{O#<OQ08SO1G0{O#<VQ08SO1G0{O#>pQ08SO1G0{O#>wQ08SO1G0{O#@oQ08SO1G0{O#CoQ(CYO'#ChO#EmQ(CYO1G1^O#EtQ(CYO'#JjO!,lQWO1G1dO#FUQ08SO,5?TOOQ07`-E<g-E<gO#FxQ08SO1G0{OOQ07b1G0{1G0{O#ITQ08SO1G1aO#IwQ&jO,5<TO#JPQ&jO,5<UO#JXQ&jO'#FlO#JpQWO'#FkOOQO'#KO'#KOOOQO'#Ig'#IgO#JuQ&jO1G1kOOQ07b1G1k1G1kOOOS1G1v1G1vO#KWQ(CYO'#JiO#KbQWO,5<_O!*fQ^O,5<_OOOS-E<f-E<fOOQ07b1G1i1G1iO#KgQ`O'#J}OOQ07b,5<a,5<aO#KoQ`O,5<aOOQ07b,59e,59eO!&dQ7[O'#DPOOOO'#IZ'#IZO#KtO?MpO,59iOOQ07b,59i,59iO%[Q^O1G1|O!6[QWO'#IkO#LPQ7[O,5<uOOQ07b,5<r,5<rO!(SQ7[O'#InO#LoQ7[O,5=RO!(SQ7[O'#IpO#MbQ7[O,5=TO!&dQ7[O,5=VOOQO1G2O1G2OO#MlQpO'#CqO#NPQpO,5<nO#NWQWO'#KRO9aQWO'#KRO#NfQWO,5<pO!(SQ7[O,5<oO#NkQWO'#GUO#NvQWO,5<oO#N{QpO'#GRO$ YQpO'#KSO$ dQWO'#KSO!&dQ7[O'#KSO$ iQWO,5<sO$ nQ`O'#G^O!4eQ`O'#G^O$!PQWO'#G`O$!UQWO'#GbO!3fQWO'#GeO$!ZQ07hO'#ImO$!fQ`O,5<wOOQ07f,5<w,5<wO$!mQ`O'#G^O$!{Q`O'#G_O$#TQ`O'#G_O$#YQ7[O,5=RO$#jQ7[O,5=TOOQ07b,5=W,5=WO!(SQ7[O,5?}O!(SQ7[O,5?}O$#zQWO'#IrO$$VQWO,5?|O$$_QWO,59`O$%OQ7[O,59qOOQ07b,59q,59qO$%qQ7[O,5<fO$&dQ7[O,5<hO@bQWO,5<jOOQ07b,5<k,5<kO$&nQWO,5<qO$&sQ7[O,5<vO$'TQWO'#JuO!$aQ^O1G1}O$'YQWO1G1}O9ZQWO'#JxO9ZQWO'#EpO%[Q^O'#EpO9ZQWO'#ItO$'_Q07hO,5@rOOQU1G2w1G2wOOQU1G4X1G4XOOQ07b1G/w1G/wO!,iQWO1G/wO$)dQ08SO1G0TOOQU1G2s1G2sO!&dQ7[O1G2sO%[Q^O1G2sO#,^QWO1G2sO$+hQ7[O'#EgOOQ07`,5?{,5?{O$+rQ07hO,5?{OOQU1G.t1G.tO!@rQ07hO1G.tO!@}Q`O1G.tO!AVQ7[O1G.tO$,TQWO1G0qO$,YQWO'#ChO$,eQWO'#K[O$,mQWO,5=uO$,rQWO'#K[O$,wQWO'#K[O$-VQWO'#IzO$-eQWO,5@uO$-mQrO1G1fOOQ07b1G1h1G1hO9aQWO1G3`O@bQWO1G3`O$-tQWO1G3`O$-yQWO1G3`OOQU1G3`1G3`O!CTQWO1G3OO!&dQ7[O1G2{O$.OQWO1G2{OOQU1G2|1G2|O!&dQ7[O1G2|O$.TQWO1G2|O$.]Q`O'#GzOOQU1G3O1G3OO!4eQ`O'#IvO!CYQpO1G3ROOQU1G3R1G3ROOQU,5=l,5=lO$.eQ7[O,5=nO9aQWO,5=nO$!UQWO,5=pO9UQWO,5=pO!@}Q`O,5=pO!AVQ7[O,5=pO:RQ7[O,5=pO$.sQWO'#KYO$/OQWO,5=qOOQU1G.j1G.jO$/TQ07hO1G.jO@bQWO1G.jO$/`QWO1G.jO9kQ07hO1G.jO$1eQrO,5@wO$1uQWO,5@wO9ZQWO,5@wO$2QQ^O,5=xO$2XQWO,5=xOOQU1G3b1G3bO`Q^O1G3bOOQU1G3h1G3hOOQU1G3j1G3jO>kQWO1G3lO$2^Q^O1G3nO$6bQ^O'#HmOOQU1G3q1G3qO$6oQWO'#HsO>pQWO'#HuOOQU1G3w1G3wO$6wQ^O1G3wO9kQ07hO1G3}OOQU1G4P1G4POOQ07`'#GY'#GYO9kQ07hO1G4RO9kQ07hO1G4TO$;OQWO,5@XO!*fQ^O,5;[O9ZQWO,5;[O>pQWO,5:UO!*fQ^O,5:UO!@}Q`O,5:UO$;TQ(CYO,5:UOOQO,5;[,5;[O$;_Q`O'#I^O$;uQWO,5@WOOQ07b1G/o1G/oO$;}Q`O'#IdO$<XQWO,5@fOOQ07`1G0u1G0uO# xQ`O,5:UOOQO'#Ia'#IaO$<aQ`O,5:pOOQ07f,5:p,5:pO#%sQWO1G0YOOQ07b1G0Y1G0YO%[Q^O1G0YOOQ07b1G0p1G0pO>pQWO1G0pO!@}Q`O1G0pO!AVQ7[O1G0pOOQ07`1G5s1G5sO!@rQ07hO1G0]OOQO1G0i1G0iO%[Q^O1G0iO$<hQ07hO1G0iO$<sQ07hO1G0iO!@}Q`O1G0]OCnQ`O1G0]O$=RQ07hO1G0iOOQO1G0]1G0]O$=gQ08SO1G0iPOOO-E<T-E<TPOOO1G.g1G.gOOOO1G/f1G/fO$=qQpO,5<eO$=yQrO1G4cOOQO1G4i1G4iO%[Q^O,5>wO$>TQWO1G5qO$>]QWO1G6OO$>eQrO1G6PO9ZQWO,5>}O$>oQ08SO1G5|O%[Q^O1G5|O$?PQ07hO1G5|O$?bQWO1G5{O$?bQWO1G5{O9ZQWO1G5{O$?jQWO,5?QO9ZQWO,5?QOOQO,5?Q,5?QO$@OQWO,5?QO$'TQWO,5?QOOQO-E<d-E<dOOQO1G0`1G0`OOQO1G0b1G0bO!,lQWO1G0bOOQU7+(_7+(_O!&dQ7[O7+(_O%[Q^O7+(_O$@^QWO7+(_O$@iQ7[O7+(_O$@wQ08SO,5=RO$CSQ08SO,5=TO$E_Q08SO,5=RO$GpQ08SO,5=TO$JRQ08SO,59qO$LZQ08SO,5<fO$NfQ08SO,5<hO%!qQ08SO,5<vOOQ07b7+&]7+&]O%%SQ08SO7+&]O%%vQ7[O'#I_O%&QQWO,5@YOOQ07b1G/y1G/yO%&YQ^O'#I`O%&gQWO,5@ZO%&oQrO,5@ZOOQ07b1G0O1G0OO%&yQWO7+&fOOQ07b7+&f7+&fO%'OQ(CYO,5:eO%[Q^O7+&xO%'YQ(CYO,5:]O%'gQ(CYO,5:iO%'qQ(CYO,5:kOOQ07b7+'O7+'OOOQO1G1o1G1oOOQO1G1p1G1pO%'{QtO,5<WO!*fQ^O,5<VOOQO-E<e-E<eOOQ07b7+'V7+'VOOOS7+'b7+'bOOOS1G1y1G1yO%(WQWO1G1yOOQ07b1G1{1G1{O%(]QpO,59kOOOO-E<X-E<XOOQ07b1G/T1G/TO%(dQ08SO7+'hOOQ07b,5?V,5?VO%)WQpO,5?VOOQ07b1G2a1G2aP!&dQ7[O'#IkPOQ07b-E<i-E<iO%)vQ7[O,5?YOOQ07b-E<l-E<lO%*iQ7[O,5?[OOQ07b-E<n-E<nO%*sQpO1G2qOOQ07b1G2Y1G2YO%*zQWO'#IjO%+YQWO,5@mO%+YQWO,5@mO%+bQWO,5@mO%+mQWO,5@mOOQO1G2[1G2[O%+{Q7[O1G2ZO!(SQ7[O1G2ZO%,]Q!LQO'#IlO%,mQWO,5@nO!&dQ7[O,5@nO%,uQpO,5@nOOQ07b1G2_1G2_OOQ07`,5<x,5<xOOQ07`,5<y,5<yO$'TQWO,5<yOC_QWO,5<yO!@}Q`O,5<xOOQO'#Ga'#GaO%-PQWO,5<zOOQ07`,5<|,5<|O$'TQWO,5=POOQO,5?X,5?XOOQO-E<k-E<kOOQ07f1G2c1G2cO!4eQ`O,5<xO%-XQWO,5<yO$!PQWO,5<zO!4eQ`O,5<yO!(SQ7[O'#InO%-{Q7[O1G2mO!(SQ7[O'#IpO%.nQ7[O1G2oO%.xQ7[O1G5iO%/SQ7[O1G5iOOQO,5?^,5?^OOQO-E<p-E<pOOQO1G.z1G.zO!7{Q`O,59sO%[Q^O,59sO%/aQWO1G2UO!(SQ7[O1G2]O%/fQ08SO7+'iOOQ07b7+'i7+'iO!$aQ^O7+'iO%0YQWO,5;[OOQ07`,5?`,5?`OOQ07`-E<r-E<rOOQ07b7+%c7+%cO%0_QpO'#KTO#%sQWO7+(_O%0iQrO7+(_O$@aQWO7+(_O%0pQ08QO'#ChO%1TQ08QO,5<}O%1uQWO,5<}OOQ07`1G5g1G5gOOQU7+$`7+$`O!@rQ07hO7+$`O!@}Q`O7+$`O!$aQ^O7+&]O%1zQWO'#IyO%2cQWO,5@vOOQO1G3a1G3aO9aQWO,5@vO%2cQWO,5@vO%2kQWO,5@vOOQO,5?f,5?fOOQO-E<x-E<xOOQ07b7+'Q7+'QO%2pQWO7+(zO9kQ07hO7+(zO9aQWO7+(zO@bQWO7+(zOOQU7+(j7+(jO%2uQ08QO7+(gO!&dQ7[O7+(gO%3PQpO7+(hOOQU7+(h7+(hO!&dQ7[O7+(hO%3WQWO'#KXO%3cQWO,5=fOOQO,5?b,5?bOOQO-E<t-E<tOOQU7+(m7+(mO%4rQ`O'#HTOOQU1G3Y1G3YO!&dQ7[O1G3YO%[Q^O1G3YO%4yQWO1G3YO%5UQ7[O1G3YO9kQ07hO1G3[O$!UQWO1G3[O9UQWO1G3[O!@}Q`O1G3[O!AVQ7[O1G3[O%5dQWO'#IxO%5xQWO,5@tO%6QQ`O,5@tOOQ07`1G3]1G3]OOQU7+$U7+$UO@bQWO7+$UO9kQ07hO7+$UO%6]QWO7+$UO%[Q^O1G6cO%[Q^O1G6dO%6bQ07hO1G6cO%6lQ^O1G3dO%6sQWO1G3dO%6xQ^O1G3dOOQU7+(|7+(|O9kQ07hO7+)WO`Q^O7+)YOOQU'#K_'#K_OOQU'#I{'#I{O%7PQ^O,5>XOOQU,5>X,5>XO%[Q^O'#HnO%7^QWO'#HpOOQU,5>_,5>_O9ZQWO,5>_OOQU,5>a,5>aOOQU7+)c7+)cOOQU7+)i7+)iOOQU7+)m7+)mOOQU7+)o7+)oO%7cQ`O1G5sO%7wQ(CYO1G0vO%8RQWO1G0vOOQO1G/p1G/pO%8^Q(CYO1G/pO>pQWO1G/pO!*fQ^O'#DjOOQO,5>x,5>xOOQO-E<[-E<[OOQO,5?O,5?OOOQO-E<b-E<bO!@}Q`O1G/pOOQO-E<_-E<_OOQ07f1G0[1G0[OOQ07b7+%t7+%tO#%sQWO7+%tOOQ07b7+&[7+&[O>pQWO7+&[O!@}Q`O7+&[OOQO7+%w7+%wO$=gQ08SO7+&TOOQO7+&T7+&TO%[Q^O7+&TO%8hQ07hO7+&TO!@rQ07hO7+%wO!@}Q`O7+%wO%8sQ07hO7+&TO%9RQ08SO7++hO%[Q^O7++hO%9cQWO7++gO%9cQWO7++gOOQO1G4l1G4lO9ZQWO1G4lO%9kQWO1G4lOOQO7+%|7+%|O#%sQWO<<KyO%0iQrO<<KyO%9yQWO<<KyOOQU<<Ky<<KyO!&dQ7[O<<KyO%[Q^O<<KyO%:RQWO<<KyO%:^Q08SO,5?YO%<iQ08SO,5?[O%>tQ08SO1G2ZO%AVQ08SO1G2mO%CbQ08SO1G2oO%EmQ7[O,5>yOOQO-E<]-E<]O%EwQrO,5>zO%[Q^O,5>zOOQO-E<^-E<^O%FRQWO1G5uOOQ07b<<JQ<<JQO%FZQ(CYO1G0qO%HeQ(CYO1G0{O%HlQ(CYO1G0{O%JpQ(CYO1G0{O%JwQ(CYO1G0{O%LlQ(CYO1G0{O%MSQ(CYO1G0{O& gQ(CYO1G0{O& nQ(CYO1G0{O&#rQ(CYO1G0{O&#yQ(CYO1G0{O&%qQ(CYO1G0{O&&UQ08SO<<JdO&'ZQ(CYO1G0{O&)PQ(CYO'#JdO&+SQ(CYO1G1aO&+aQ(CYO1G0TO!*fQ^O'#FnOOQO'#KP'#KPOOQO1G1r1G1rO&+kQWO1G1qO&+pQ(CYO,5?TOOOS7+'e7+'eOOOO1G/V1G/VOOQ07b1G4q1G4qO!(SQ7[O7+(]O&+zQWO,5?UO9aQWO,5?UOOQO-E<h-E<hO&,YQWO1G6XO&,YQWO1G6XO&,bQWO1G6XO&,mQ7[O7+'uO&,}QpO,5?WO&-XQWO,5?WO!&dQ7[O,5?WOOQO-E<j-E<jO&-^QpO1G6YO&-hQWO1G6YOOQ07`1G2e1G2eO$'TQWO1G2eOOQ07`1G2d1G2dO&-pQWO1G2fO!&dQ7[O1G2fOOQ07`1G2k1G2kO!@}Q`O1G2dOC_QWO1G2eO&-uQWO1G2fO&-}QWO1G2eO&.qQ7[O,5?YOOQ07b-E<m-E<mO&/dQ7[O,5?[OOQ07b-E<o-E<oO!(SQ7[O7++TOOQ07b1G/_1G/_O&/nQWO1G/_OOQ07b7+'p7+'pO&/sQ7[O7+'wO&0TQ08SO<<KTOOQ07b<<KT<<KTO&0wQWO1G0vO!&dQ7[O'#IsO&0|QWO,5@oO!&dQ7[O1G2iOOQU<<Gz<<GzO!@rQ07hO<<GzO&1UQ08SO<<IwOOQ07b<<Iw<<IwOOQO,5?e,5?eO&1xQWO,5?eO&1}QWO,5?eOOQO-E<w-E<wO&2]QWO1G6bO&2]QWO1G6bO9aQWO1G6bO@bQWO<<LfOOQU<<Lf<<LfO&2eQWO<<LfO9kQ07hO<<LfOOQU<<LR<<LRO%2uQ08QO<<LROOQU<<LS<<LSO%3PQpO<<LSO&2jQ`O'#IuO&2uQWO,5@sO!*fQ^O,5@sOOQU1G3Q1G3QO&2}Q^O'#JmOOQO'#Iw'#IwO9kQ07hO'#IwO&3XQ`O,5=oOOQU,5=o,5=oO&3`Q`O'#EcO&3tQWO7+(tO&3yQWO7+(tOOQU7+(t7+(tO!&dQ7[O7+(tO%[Q^O7+(tO&4RQWO7+(tOOQU7+(v7+(vO9kQ07hO7+(vO$!UQWO7+(vO9UQWO7+(vO!@}Q`O7+(vO&4^QWO,5?dOOQO-E<v-E<vOOQO'#HW'#HWO&4iQWO1G6`O9kQ07hO<<GpOOQU<<Gp<<GpO@bQWO<<GpO&4qQWO7++}O&4vQWO7+,OO%[Q^O7++}O%[Q^O7+,OOOQU7+)O7+)OO&4{QWO7+)OO&5QQ^O7+)OO&5XQWO7+)OOOQU<<Lr<<LrOOQU<<Lt<<LtOOQU-E<y-E<yOOQU1G3s1G3sO&5^QWO,5>YOOQU,5>[,5>[O&5cQWO1G3yO9ZQWO7+&bO!*fQ^O7+&bOOQO7+%[7+%[O&5hQ(CYO1G6PO>pQWO7+%[OOQ07b<<I`<<I`OOQ07b<<Iv<<IvO>pQWO<<IvOOQO<<Io<<IoO$=gQ08SO<<IoO%[Q^O<<IoOOQO<<Ic<<IcO!@rQ07hO<<IcO&5rQ07hO<<IoO&5}Q08SO<= SO&6_QWO<= ROOQO7+*W7+*WO9ZQWO7+*WOOQUANAeANAeO&6gQWOANAeO!&dQ7[OANAeO#%sQWOANAeO%0iQrOANAeO%[Q^OANAeO&6oQ08SO7+'uO&9QQ08SO,5?YO&;]Q08SO,5?[O&=hQ08SO7+'wO&?yQrO1G4fO&@TQ(CYO7+&]O&BXQ(CYO,5=RO&D`Q(CYO,5=TO&DpQ(CYO,5=RO&EQQ(CYO,5=TO&EbQ(CYO,59qO&GeQ(CYO,5<fO&IhQ(CYO,5<hO&KkQ(CYO,5<vO&MaQ(CYO7+'hO&MnQ(CYO7+'iO&M{QWO,5<YOOQO7+']7+']O&NQQ7[O<<KwOOQO1G4p1G4pO&NXQWO1G4pO&NdQWO1G4pO&NrQWO7++sO&NrQWO7++sO!&dQ7[O1G4rO&NzQpO1G4rO' UQWO7++tOOQ07`7+(P7+(PO$'TQWO7+(QO' ^QpO7+(QOOQ07`7+(O7+(OO$'TQWO7+(PO' eQWO7+(QO!&dQ7[O7+(QOC_QWO7+(PO' jQ7[O<<NoOOQ07b7+$y7+$yO' tQpO,5?_OOQO-E<q-E<qO'!OQ08QO7+(TOOQUAN=fAN=fO9aQWO1G5POOQO1G5P1G5PO'!`QWO1G5PO'!eQWO7++|O'!eQWO7++|O9kQ07hOANBQO@bQWOANBQOOQUANBQANBQOOQUANAmANAmOOQUANAnANAnO'!mQWO,5?aOOQO-E<s-E<sO'!xQ(CYO1G6_O'%YQrO'#ChOOQO,5?c,5?cOOQO-E<u-E<uOOQU1G3Z1G3ZO&2}Q^O,5<zOOQU<<L`<<L`O!&dQ7[O<<L`O&3tQWO<<L`O'%dQWO<<L`O%[Q^O<<L`OOQU<<Lb<<LbO9kQ07hO<<LbO$!UQWO<<LbO9UQWO<<LbO'%lQ`O1G5OO'%wQWO7++zOOQUAN=[AN=[O9kQ07hOAN=[OOQU<= i<= iOOQU<= j<= jO'&PQWO<= iO'&UQWO<= jOOQU<<Lj<<LjO'&ZQWO<<LjO'&`Q^O<<LjOOQU1G3t1G3tO>pQWO7+)eO'&gQWO<<I|O'&rQ(CYO<<I|OOQO<<Hv<<HvOOQ07bAN?bAN?bOOQOAN?ZAN?ZO$=gQ08SOAN?ZOOQOAN>}AN>}O%[Q^OAN?ZOOQO<<Mr<<MrOOQUG27PG27PO!&dQ7[OG27PO#%sQWOG27PO'&|QWOG27PO%0iQrOG27PO''UQ(CYO<<JdO''cQ(CYO1G2ZO')XQ(CYO,5?YO'+[Q(CYO,5?[O'-_Q(CYO1G2mO'/bQ(CYO1G2oO'1eQ(CYO<<KTO'1rQ(CYO<<IwOOQO1G1t1G1tO!(SQ7[OANAcOOQO7+*[7+*[O'2PQWO7+*[O'2[QWO<= _O'2dQpO7+*^OOQ07`<<Kl<<KlO$'TQWO<<KlOOQ07`<<Kk<<KkO'2nQpO<<KlO$'TQWO<<KkOOQO7+*k7+*kO9aQWO7+*kO'2uQWO<= hOOQUG27lG27lO9kQ07hOG27lO!*fQ^O1G4{O'2}QWO7++yO&3tQWOANAzOOQUANAzANAzO!&dQ7[OANAzO'3VQWOANAzOOQUANA|ANA|O9kQ07hOANA|O$!UQWOANA|OOQO'#HX'#HXOOQO7+*j7+*jOOQUG22vG22vOOQUANETANETOOQUANEUANEUOOQUANBUANBUO'3_QWOANBUOOQU<<MP<<MPO!*fQ^OAN?hOOQOG24uG24uO$=gQ08SOG24uO#%sQWOLD,kOOQULD,kLD,kO!&dQ7[OLD,kO'3dQWOLD,kO'3lQ(CYO7+'uO'5bQ(CYO,5?YO'7eQ(CYO,5?[O'9hQ(CYO7+'wO';^Q7[OG26}OOQO<<Mv<<MvOOQ07`ANAWANAWO$'TQWOANAWOOQ07`ANAVANAVOOQO<<NV<<NVOOQULD-WLD-WO';nQ(CYO7+*gOOQUG27fG27fO&3tQWOG27fO!&dQ7[OG27fOOQUG27hG27hO9kQ07hOG27hOOQUG27pG27pO';xQ(CYOG25SOOQOLD*aLD*aOOQU!$(!V!$(!VO#%sQWO!$(!VO!&dQ7[O!$(!VO'<SQ08SOG26}OOQ07`G26rG26rOOQULD-QLD-QO&3tQWOLD-QOOQULD-SLD-SOOQU!)9Eq!)9EqO#%sQWO!)9EqOOQU!$(!l!$(!lOOQU!.K;]!.K;]O'>eQ(CYOG26}O!*fQ^O'#DyO1PQWO'#EWO'@ZQrO'#JiO!*fQ^O'#DqO'@bQ^O'#D}O'@iQrO'#ChO'CPQrO'#ChO!*fQ^O'#EPO'CaQ^O,5;VO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O'#IiO'EdQWO,5<eO'ElQ7[O,5;aO'GVQ7[O,5;aO!*fQ^O,5;uO!&dQ7[O'#GgO'ElQ7[O'#GgO!&dQ7[O'#GiO'ElQ7[O'#GiO1SQWO'#DVO1SQWO'#DVO!&dQ7[O'#FzO'ElQ7[O'#FzO!&dQ7[O'#F|O'ElQ7[O'#F|O!&dQ7[O'#G[O'ElQ7[O'#G[O!*fQ^O,5:iO!*fQ^O,5@eO'CaQ^O1G0qO'G^Q(CYO'#ChO!*fQ^O1G1|O!&dQ7[O'#InO'ElQ7[O'#InO!&dQ7[O'#IpO'ElQ7[O'#IpO!&dQ7[O,5<oO'ElQ7[O,5<oO'CaQ^O1G1}O!*fQ^O7+&xO!&dQ7[O1G2ZO'ElQ7[O1G2ZO!&dQ7[O'#InO'ElQ7[O'#InO!&dQ7[O'#IpO'ElQ7[O'#IpO!&dQ7[O1G2]O'ElQ7[O1G2]O'CaQ^O7+'iO'CaQ^O7+&]O!&dQ7[OANAcO'ElQ7[OANAcO'GhQWO'#EkO'GmQWO'#EkO'GuQWO'#FZO'GzQWO'#EuO'HPQWO'#JyO'H[QWO'#JwO'HgQWO,5;VO'HlQ7[O,5<bO'HsQWO'#GTO'HxQWO'#GTO'H}QWO,5<cO'IVQWO,5;VO'I_Q(CYO1G1^O'IfQWO,5<oO'IkQWO,5<oO'IpQWO,5<qO'IuQWO,5<qO'IzQWO1G1}O'JPQWO1G0qO'JUQ7[O<<KwO'J]Q7[O<<KwO7hQ7[O'#FxO9UQWO'#FwOA]QWO'#EjO!*fQ^O,5;rO!3fQWO'#GTO!3fQWO'#GTO!3fQWO'#GVO!3fQWO'#GVO!(SQ7[O7+(]O!(SQ7[O7+(]O%*sQpO1G2qO%*sQpO1G2qO!&dQ7[O,5=VO!&dQ7[O,5=V",stateData:"'Ka~O'tOS'uOSSOS'vRQ~OPYOQYORfOX!VO`qOczOdyOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![XO!fuO!kZO!nYO!oYO!pYO!rvO!twO!wxO!{]O#s!PO$T|O%b}O%d!QO%f!OO%g!OO%h!OO%k!RO%m!SO%p!TO%q!TO%s!UO&P!WO&V!XO&X!YO&Z!ZO&]![O&`!]O&f!^O&l!_O&n!`O&p!aO&r!bO&t!cO'{SO'}TO(QUO(XVO(g[O(tiO~OVtO~P`OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'{!dO'}TO(QUO(XVO(g[O(tiO~O`!vOo!nO!P!oO!_!xO!`!uO!a!uO!{:dO#P!pO#Q!pO#R!wO#S!pO#T!pO#W!yO#X!yO'|!lO'}TO(QUO([!mO(g!sO~O'v!zO~OP[XZ[X`[Xn[X|[X}[X!P[X!Y[X!h[X!i[X!k[X!o[X#[[X#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X'r[X(X[X(h[X(o[X(p[X~O!d$|X~P(qO^!|O'}#OO(O!|O(P#OO~O^#PO(P#OO(Q#OO(R#PO~Ot#RO!R#SO(Y#SO(Z#UO~OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'{:hO'}TO(QUO(XVO(g[O(tiO~O!X#YO!Y#VO!V(_P!V(lP~P+}O!Z#bO~P`OPYOQYORfOc!jOd!iOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'}TO(QUO(XVO(g[O(tiO~Ol#lO!X#hO!{]O#e#kO#f#hO'{:iO!j(iP~P.iO!k#nO'{#mO~O!w#rO!{]O%b#sO~O#g#tO~O!d#uO#g#tO~OP$]OZ$dOn$QO|#yO}#zO!P#{O!Y$aO!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO#y$YO(XVO(h$ZO(o#|O(p#}O~O`(]X'r(]X'p(]X!j(]X!V(]X![(]X%c(]X!d(]X~P1qO#[$eO$O$eOP(^XZ(^Xn(^X|(^X}(^X!P(^X!Y(^X!h(^X!k(^X!o(^X#j(^X#k(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#t(^X#v(^X#x(^X#y(^X(X(^X(h(^X(o(^X(p(^X![(^X%c(^X~O`(^X!i(^X'r(^X'p(^X!V(^X!j(^Xr(^X!d(^X~P4XO#[$eO~O$Y$gO$[$fO$c$lO~ORfO![$mO$f$nO$h$pO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz%ZO!P${O![$|O!f%`O!k$xO#f%aO$T%^O$o%[O$q%]O$t%_O'{$rO'}TO(QUO(X$uO(o$}O(p%POf(UP~O!k%bO~O!P%eO![%fO'{%dO~O!d%jO~O`%kO'r%kO~O'|!lO~P%[O%h%rO~P%[Og%VO!k%bO'{%dO'|!lO~Od%yO!k%bO'{%dO~O#r$SO~O|&OO![%{O!k%}O%d&RO'{%dO'|!lO'}TO(QUO_(}P~O!w#rO~O%m&TO!P(yX![(yX'{(yX~O'{&UO~O!t&ZO#s!PO%d!QO%f!OO%g!OO%h!OO%k!RO%m!SO%p!TO%q!TO~Oc&`Od&_O!w&]O%b&^O%u&[O~P;xOc&cOdyO![&bO!t&ZO!wxO!{]O#s!PO%b}O%f!OO%g!OO%h!OO%k!RO%m!SO%p!TO%q!TO%s!UO~Oa&fO#[&iO%d&dO'|!lO~P<}O!k&jO!t&nO~O!k#nO~O![XO~O`%kO'q&vO'r%kO~O`%kO'q&yO'r%kO~O`%kO'q&{O'r%kO~O'p[X!V[Xr[X!j[X&T[X![[X%c[X!d[X~P(qO!_'YO!`'RO!a'RO'|!lO'}TO(QUO~Oo'PO!P'OO!X'SO([&}O!Z(`P!Z(nP~P@UOj']O!['ZO'{%dO~Od'bO!k%bO'{%dO~O|&OO!k%}O~Oo!nO!P!oO!{:dO#P!pO#Q!pO#S!pO#T!pO'|!lO'}TO(QUO([!mO(g!sO~O!_'hO!`'gO!a'gO#R!pO#W'iO#X'iO~PApO`%kOg%VO!d#uO!k%bO'r%kO(h'kO~O!o'oO#['mO~PCOOo!nO!P!oO'}TO(QUO([!mO(g!sO~O![XOo(eX!P(eX!_(eX!`(eX!a(eX!{(eX#P(eX#Q(eX#R(eX#S(eX#T(eX#W(eX#X(eX'|(eX'}(eX(Q(eX([(eX(g(eX~O!`'gO!a'gO'|!lO~PCnO'w'sO'x'sO'y'uO~O^!|O'}'wO(O!|O(P'wO~O^#PO(P'wO(Q'wO(R#PO~Ot#RO!R#SO(Y#SO(Z'{O~O!X'}O!V'PX!V'VX!Y'PX!Y'VX~P+}O!Y(PO!V(_X~OP$]OZ$dOn$QO|#yO}#zO!P#{O!Y(PO!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO#y$YO(XVO(h$ZO(o#|O(p#}O~O!V(_X~PGbO!V(UO~O!V(kX!Y(kX!d(kX!j(kX(h(kX~O#[(kX#g#`X!Z(kX~PIhO#[(VO!V(mX!Y(mX~O!Y(WO!V(lX~O!V(ZO~O#[$eO~PIhO!Z([O~P`O|#yO}#zO!P#{O!i#wO!k#xO(XVOP!maZ!man!ma!Y!ma!h!ma!o!ma#j!ma#k!ma#l!ma#m!ma#n!ma#o!ma#p!ma#q!ma#r!ma#t!ma#v!ma#x!ma#y!ma(h!ma(o!ma(p!ma~O`!ma'r!ma'p!ma!V!ma!j!mar!ma![!ma%c!ma!d!ma~PKOO!j(]O~O!d#uO#[(^O(h'kO!Y(jX`(jX'r(jX~O!j(jX~PMnO!P%eO![%fO!{]O#e(cO#f(bO'{%dO~O!Y(dO!j(iX~O!j(fO~O!P%eO![%fO#f(bO'{%dO~OP(^XZ(^Xn(^X|(^X}(^X!P(^X!Y(^X!h(^X!i(^X!k(^X!o(^X#j(^X#k(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#t(^X#v(^X#x(^X#y(^X(X(^X(h(^X(o(^X(p(^X~O!d#uO!j(^X~P! [O|(gO}(hO!i#wO!k#xO!{!za!P!za~O!w!za%b!za![!za#e!za#f!za'{!za~P!#`O!w(lO~OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![XO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'{!dO'}TO(QUO(XVO(g[O(tiO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz;QO!P${O![$|O!f<`O!k$xO#f;WO$T%^O$o;SO$q;UO$t%_O'{(pO'}TO(QUO(X$uO(o$}O(p%PO~O#g(rO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz%ZO!P${O![$|O!f%`O!k$xO#f%aO$T%^O$o%[O$q%]O$t%_O'{(pO'}TO(QUO(X$uO(o$}O(p%PO~Of(bP~P!(SO!X(vO!j(cP~P%[O([(xO(g[O~O!P(zO!k#xO([(xO(g[O~OP:cOQ:cORfOc<[Od!iOlkOn:cOokOpkOvkOx:cOz:cO!PWO!TkO!UkO![!eO!f:fO!kZO!n:cO!o:cO!p:cO!r:gO!t:jO!w!hO$T!kO'{)YO'}TO(QUO(XVO(g[O(t<YO~O})]O!k#xO~O!Y$aO`$ma'r$ma'p$ma!j$ma!V$ma![$ma%c$ma!d$ma~O#s)aO~P!&dO|)dO!d)cO![$ZX$W$ZX$Y$ZX$[$ZX$c$ZX~O!d)cO![(qX$W(qX$Y(qX$[(qX$c(qX~O|)dO~P!.OO|)dO![(qX$W(qX$Y(qX$[(qX$c(qX~O![)fO$W)jO$Y)eO$[)eO$c)kO~O!X)nO~P!*fO$Y$gO$[$fO$c)rO~Oj$uX|$uX!P$uX!i$uX(o$uX(p$uX~OfiXf$uXjiX!YiX#[iX~P!/tOo)tO~Ot)uO(Y)vO(Z)xO~Oj*RO|)zO!P){O(o$}O(p%PO~Of)yO~P!0}Of*SO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz;QO!P${O![$|O!f<`O!k$xO#f;WO$T%^O$o;SO$q;UO$t%_O'}TO(QUO(X$uO(o$}O(p%PO~O!X*WO'{*TO!j(uP~P!1lO#g*YO~O!k*ZO~O!X*`O'{*]O!V(vP~P!1lOn*lO!P*dO!_*jO!`*cO!a*cO!k*ZO#W*kO%Y*fO'|!lO([!mO~O!Z*iO~P!3xO!i#wOj(WX|(WX!P(WX(o(WX(p(WX!Y(WX#[(WX~Of(WX#|(WX~P!4qOj*qO#[*pOf(VX!Y(VX~O!Y*rOf(UX~O'{&UOf(UP~O!k*yO~O'{(pO~Ol*}O!P%eO!X#hO![%fO!{]O#e#kO#f#hO'{%dO!j(iP~O!d#uO#g+OO~O!P%eO!X+QO!Y(WO![%fO'{%dO!V(lP~Oo'VO!P+SO!X+RO'}TO(QUO([(xO~O!Z(nP~P!7lO!Y+TO`(zX'r(zX~OP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO#y$YO(XVO(h$ZO(o#|O(p#}O~O`!ea!Y!ea'r!ea'p!ea!V!ea!j!ear!ea![!ea%c!ea!d!ea~P!8dO|#yO}#zO!P#{O!i#wO!k#xO(XVOP!qaZ!qan!qa!Y!qa!h!qa!o!qa#j!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#t!qa#v!qa#x!qa#y!qa(h!qa(o!qa(p!qa~O`!qa'r!qa'p!qa!V!qa!j!qar!qa![!qa%c!qa!d!qa~P!:}O|#yO}#zO!P#{O!i#wO!k#xO(XVOP!saZ!san!sa!Y!sa!h!sa!o!sa#j!sa#k!sa#l!sa#m!sa#n!sa#o!sa#p!sa#q!sa#r!sa#t!sa#v!sa#x!sa#y!sa(h!sa(o!sa(p!sa~O`!sa'r!sa'p!sa!V!sa!j!sar!sa![!sa%c!sa!d!sa~P!=hOg%VOj+^O!['ZO%c+]O~O!d+`O`(TX![(TX'r(TX!Y(TX~O`%kO![XO'r%kO~Og%VO!k%bO~Og%VO!k%bO'{%dO~O!d#uO#g(rO~Oa+kO%d+lO'{+hO'}TO(QUO!Z)OP~O!Y+mO_(}X~OZ+qO~O_+rO~O![%{O'{%dO'|!lO_(}P~Og%VO#[+wO~Og%VOj+zO![$|O~O![+|O~O|,OO![XO~O%h%rO~O!w,TO~Od,YO~Oa,ZO'{#mO'}TO(QUO!Z(|P~Od%yO~O%d!QO'{&UO~P<}OZ,`O_,_O~OPYOQYORfOczOdyOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO!fuO!kZO!nYO!oYO!pYO!rvO!wxO!{]O%b}O'}TO(QUO(XVO(g[O(tiO~O![!eO!t!gO$T!kO'{!dO~P!DkO_,_O`%kO'r%kO~OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!w!hO$T!kO'{!dO'}TO(QUO(XVO(g[O(tiO~O`,eO!twO#s!OO%f!OO%g!OO%h!OO~P!GTO!k&jO~O&V,kO~O![,mO~O&h,oO&j,pOP&eaQ&eaR&eaX&ea`&eac&ead&eal&ean&eao&eap&eav&eax&eaz&ea!P&ea!T&ea!U&ea![&ea!f&ea!k&ea!n&ea!o&ea!p&ea!r&ea!t&ea!w&ea!{&ea#s&ea$T&ea%b&ea%d&ea%f&ea%g&ea%h&ea%k&ea%m&ea%p&ea%q&ea%s&ea&P&ea&V&ea&X&ea&Z&ea&]&ea&`&ea&f&ea&l&ea&n&ea&p&ea&r&ea&t&ea'p&ea'{&ea'}&ea(Q&ea(X&ea(g&ea(t&ea!Z&ea&^&eaa&ea&c&ea~O'{,uO~Og!bX!Y!OX!Y!bX!Z!OX!Z!bX!d!OX!d!bX!k!bX#[!OX~O!d,zO#[,yOg(aX!Y#dX!Y(aX!Z#dX!Z(aX!d(aX!k(aX~Og%VO!d,|O!k%bO!Y!^X!Z!^X~Oo!nO!P!oO'}TO(QUO([!mO~OP:cOQ:cORfOc<[Od!iOlkOn:cOokOpkOvkOx:cOz:cO!PWO!TkO!UkO![!eO!f:fO!kZO!n:cO!o:cO!p:cO!r:gO!t:jO!w!hO$T!kO'}TO(QUO(XVO(g[O(t<YO~O'{;]O~P#!ZO!Y-QO!Z(`X~O!Z-SO~O!d,zO#[,yO!Y#dX!Z#dX~O!Y-TO!Z(nX~O!Z-VO~O!`-WO!a-WO'|!lO~P# xO!Z-ZO~P'_Oj-^O!['ZO~O!V-cO~Oo!za!_!za!`!za!a!za#P!za#Q!za#R!za#S!za#T!za#W!za#X!za'|!za'}!za(Q!za([!za(g!za~P!#`O!o-hO#[-fO~PCOO!`-jO!a-jO'|!lO~PCnO`%kO#[-fO'r%kO~O`%kO!d#uO#[-fO'r%kO~O`%kO!d#uO!o-hO#[-fO'r%kO(h'kO~O'w'sO'x'sO'y-oO~Or-pO~O!V'Pa!Y'Pa~P!8dO!X-tO!V'PX!Y'PX~P%[O!Y(PO!V(_a~O!V(_a~PGbO!Y(WO!V(la~O!P%eO!X-xO![%fO'{%dO!V'VX!Y'VX~O#[-zO!Y(ja!j(ja`(ja'r(ja~O!d#uO~P#*aO!Y(dO!j(ia~O!P%eO![%fO#f.OO'{%dO~Ol.TO!P%eO!X.QO![%fO!{]O#e.SO#f.QO'{%dO!Y'YX!j'YX~O}.XO!k#xO~Og%VOj.[O!['ZO%c.ZO~O`#_i!Y#_i'r#_i'p#_i!V#_i!j#_ir#_i![#_i%c#_i!d#_i~P!8dOj<fO|)zO!P){O(o$}O(p%PO~O#g#Za`#Za#[#Za'r#Za!Y#Za!j#Za![#Za!V#Za~P#-]O#g(WXP(WXZ(WX`(WXn(WX}(WX!h(WX!k(WX!o(WX#j(WX#k(WX#l(WX#m(WX#n(WX#o(WX#p(WX#q(WX#r(WX#t(WX#v(WX#x(WX#y(WX'r(WX(X(WX(h(WX!j(WX!V(WX'p(WXr(WX![(WX%c(WX!d(WX~P!4qO!Y.iOf(bX~P!0}Of.kO~O!Y.lO!j(cX~P!8dO!j.oO~O!V.qO~OP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O(XVOZ#ii`#iin#ii!Y#ii!h#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii'r#ii(h#ii(o#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~O#j#ii~P#1XO#j$OO~P#1XOP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO(XVOZ#ii`#ii!Y#ii!h#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii'r#ii(h#ii(o#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~On#ii~P#3yOn$QO~P#3yOP$]On$QO|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO(XVO`#ii!Y#ii#t#ii#v#ii#x#ii#y#ii'r#ii(h#ii(o#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~OZ#ii!h#ii#o#ii#p#ii#q#ii#r#ii~P#6kOZ$dO!h$SO#o$SO#p$SO#q$cO#r$SO~P#6kOP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO(XVO`#ii!Y#ii#v#ii#x#ii#y#ii'r#ii(h#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~O(o#ii~P#9lO(o#|O~P#9lOP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO(XVO(o#|O`#ii!Y#ii#x#ii#y#ii'r#ii(h#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~O(p#ii~P#<^O(p#}O~P#<^OP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO(XVO(o#|O(p#}O~O`#ii!Y#ii#y#ii'r#ii(h#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~P#?OOP[XZ[Xn[X|[X}[X!P[X!h[X!i[X!k[X!o[X#[[X#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X(X[X(h[X(o[X(p[X!Y[X!Z[X~O#|[X~P#AiOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO#v:sO#x:uO#y:vO(XVO(h$ZO(o#|O(p#}O~O#|.sO~P#CvO#[:{O$O:{O#|(^X!Z(^X~P! [O`']a!Y']a'r']a'p']a!j']a!V']ar']a![']a%c']a!d']a~P!8dOP#iiZ#ii`#iin#ii}#ii!Y#ii!h#ii!i#ii!k#ii!o#ii#j#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii'r#ii(X#ii(h#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~P#-]O`#}i!Y#}i'r#}i'p#}i!V#}i!j#}ir#}i![#}i%c#}i!d#}i~P!8dO$Y.xO$[.xO~O$Y.yO$[.yO~O!d)cO#[.zO![$`X$W$`X$Y$`X$[$`X$c$`X~O!X.{O~O![)fO$W.}O$Y)eO$[)eO$c/OO~O!Y:wO!Z(]X~P#CvO!Z/PO~O!d)cO$c(qX~O$c/RO~Ot)uO(Y)vO(Z/UO~O!V/YO~P!&dO(o$}Oj%Za|%Za!P%Za(p%Za!Y%Za#[%Za~Of%Za#|%Za~P#LWO(p%POj%]a|%]a!P%]a(o%]a!Y%]a#[%]a~Of%]a#|%]a~P#LyO!YeX!deX!jeX!j$uX(heX~P!/tO!j/bO~P#-]O!Y/cO!d#uO(h'kO!j(uX~O!j/hO~O!X*WO'{%dO!j(uP~O#g/jO~O!V$uX!Y$uX!d$|X~P!/tO!Y/kO!V(vX~P#-]O!d/mO~O!V/oO~Og%VOn/sO!d#uO!k%bO(h'kO~O'{/uO~O!d+`O~O`%kO!Y/yO'r%kO~O!Z/{O~P!3xO!`/|O!a/|O'|!lO([!mO~O!P0OO([!mO~O#W0PO~Of%Za!Y%Za#[%Za#|%Za~P!0}Of%]a!Y%]a#[%]a#|%]a~P!0}O'{&UOf'fX!Y'fX~O!Y*rOf(Ua~Of0YO~O|0ZO}0ZO!P0[Ojya(oya(pya!Yya#[ya~Ofya#|ya~P$$dO|)zO!P){Oj$na(o$na(p$na!Y$na#[$na~Of$na#|$na~P$%YO|)zO!P){Oj$pa(o$pa(p$pa!Y$pa#[$pa~Of$pa#|$pa~P$%{O#g0^O~Of%Oa!Y%Oa#[%Oa#|%Oa~P!0}O!d#uO~O#g0aO~O!Y+TO`(za'r(za~O|#yO}#zO!P#{O!i#wO!k#xO(XVOP!qiZ!qin!qi!Y!qi!h!qi!o!qi#j!qi#k!qi#l!qi#m!qi#n!qi#o!qi#p!qi#q!qi#r!qi#t!qi#v!qi#x!qi#y!qi(h!qi(o!qi(p!qi~O`!qi'r!qi'p!qi!V!qi!j!qir!qi![!qi%c!qi!d!qi~P$'jOg%VOn$tOo$sOp$sOv%XOx%YOz;QO!P${O![$|O!f<`O!k$xO#f;WO$T%^O$o;SO$q;UO$t%_O'}TO(QUO(X$uO(o$}O(p%PO~Ol0kO'{0jO~P$*TO!d+`O`(Ta![(Ta'r(Ta!Y(Ta~O#g0qO~OZ[X!YeX!ZeX~O!Y0rO!Z)OX~O!Z0tO~OZ0uO~Oa0wO'{+hO'}TO(QUO~O![%{O'{%dO_'nX!Y'nX~O!Y+mO_(}a~O!j0zO~P!8dOZ0}O~O_1OO~O#[1RO~Oj1UO![$|O~O([(xO!Z({P~Og%VOj1_O![1[O%c1^O~OZ1iO!Y1gO!Z(|X~O!Z1jO~O_1lO`%kO'r%kO~O'{#mO'}TO(QUO~O#[$eO$O$eOP(^XZ(^Xn(^X|(^X}(^X!P(^X!Y(^X!h(^X!k(^X!o(^X#j(^X#k(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#t(^X#v(^X#x(^X#y(^X(X(^X(h(^X(o(^X(p(^X~O#r1oO&T1pO`(^X!i(^X~P$/kO#[$eO#r1oO&T1pO~O`1rO~P%[O`1tO~O&^1wOP&[iQ&[iR&[iX&[i`&[ic&[id&[il&[in&[io&[ip&[iv&[ix&[iz&[i!P&[i!T&[i!U&[i![&[i!f&[i!k&[i!n&[i!o&[i!p&[i!r&[i!t&[i!w&[i!{&[i#s&[i$T&[i%b&[i%d&[i%f&[i%g&[i%h&[i%k&[i%m&[i%p&[i%q&[i%s&[i&P&[i&V&[i&X&[i&Z&[i&]&[i&`&[i&f&[i&l&[i&n&[i&p&[i&r&[i&t&[i'p&[i'{&[i'}&[i(Q&[i(X&[i(g&[i(t&[i!Z&[ia&[i&c&[i~Oa1}O!Z1{O&c1|O~P`O![XO!k2PO~O&j,pOP&eiQ&eiR&eiX&ei`&eic&eid&eil&ein&eio&eip&eiv&eix&eiz&ei!P&ei!T&ei!U&ei![&ei!f&ei!k&ei!n&ei!o&ei!p&ei!r&ei!t&ei!w&ei!{&ei#s&ei$T&ei%b&ei%d&ei%f&ei%g&ei%h&ei%k&ei%m&ei%p&ei%q&ei%s&ei&P&ei&V&ei&X&ei&Z&ei&]&ei&`&ei&f&ei&l&ei&n&ei&p&ei&r&ei&t&ei'p&ei'{&ei'}&ei(Q&ei(X&ei(g&ei(t&ei!Z&ei&^&eia&ei&c&ei~O!V2VO~O!Y!^a!Z!^a~P#CvOo!nO!P!oO!X2]O([!mO!Y'QX!Z'QX~P@UO!Y-QO!Z(`a~O!Y'WX!Z'WX~P!7lO!Y-TO!Z(na~O!Z2dO~P'_O`%kO#[2mO'r%kO~O`%kO!d#uO#[2mO'r%kO~O`%kO!d#uO!o2qO#[2mO'r%kO(h'kO~O`%kO'r%kO~P!8dO!Y$aOr$ma~O!V'Pi!Y'Pi~P!8dO!Y(PO!V(_i~O!Y(WO!V(li~O!V(mi!Y(mi~P!8dO!Y(ji!j(ji`(ji'r(ji~P!8dO#[2sO!Y(ji!j(ji`(ji'r(ji~O!Y(dO!j(ii~O!P%eO![%fO!{]O#e2xO#f2wO'{%dO~O!P%eO![%fO#f2wO'{%dO~Oj3PO!['ZO%c3OO~Og%VOj3PO!['ZO%c3OO~O#g%ZaP%ZaZ%Za`%Zan%Za}%Za!h%Za!i%Za!k%Za!o%Za#j%Za#k%Za#l%Za#m%Za#n%Za#o%Za#p%Za#q%Za#r%Za#t%Za#v%Za#x%Za#y%Za'r%Za(X%Za(h%Za!j%Za!V%Za'p%Zar%Za![%Za%c%Za!d%Za~P#LWO#g%]aP%]aZ%]a`%]an%]a}%]a!h%]a!i%]a!k%]a!o%]a#j%]a#k%]a#l%]a#m%]a#n%]a#o%]a#p%]a#q%]a#r%]a#t%]a#v%]a#x%]a#y%]a'r%]a(X%]a(h%]a!j%]a!V%]a'p%]ar%]a![%]a%c%]a!d%]a~P#LyO#g%ZaP%ZaZ%Za`%Zan%Za}%Za!Y%Za!h%Za!i%Za!k%Za!o%Za#j%Za#k%Za#l%Za#m%Za#n%Za#o%Za#p%Za#q%Za#r%Za#t%Za#v%Za#x%Za#y%Za'r%Za(X%Za(h%Za!j%Za!V%Za'p%Za#[%Zar%Za![%Za%c%Za!d%Za~P#-]O#g%]aP%]aZ%]a`%]an%]a}%]a!Y%]a!h%]a!i%]a!k%]a!o%]a#j%]a#k%]a#l%]a#m%]a#n%]a#o%]a#p%]a#q%]a#r%]a#t%]a#v%]a#x%]a#y%]a'r%]a(X%]a(h%]a!j%]a!V%]a'p%]a#[%]ar%]a![%]a%c%]a!d%]a~P#-]O#gyaPyaZya`yanya!hya!iya!kya!oya#jya#kya#lya#mya#nya#oya#pya#qya#rya#tya#vya#xya#yya'rya(Xya(hya!jya!Vya'pyarya![ya%cya!dya~P$$dO#g$naP$naZ$na`$nan$na}$na!h$na!i$na!k$na!o$na#j$na#k$na#l$na#m$na#n$na#o$na#p$na#q$na#r$na#t$na#v$na#x$na#y$na'r$na(X$na(h$na!j$na!V$na'p$nar$na![$na%c$na!d$na~P$%YO#g$paP$paZ$pa`$pan$pa}$pa!h$pa!i$pa!k$pa!o$pa#j$pa#k$pa#l$pa#m$pa#n$pa#o$pa#p$pa#q$pa#r$pa#t$pa#v$pa#x$pa#y$pa'r$pa(X$pa(h$pa!j$pa!V$pa'p$par$pa![$pa%c$pa!d$pa~P$%{O#g%OaP%OaZ%Oa`%Oan%Oa}%Oa!Y%Oa!h%Oa!i%Oa!k%Oa!o%Oa#j%Oa#k%Oa#l%Oa#m%Oa#n%Oa#o%Oa#p%Oa#q%Oa#r%Oa#t%Oa#v%Oa#x%Oa#y%Oa'r%Oa(X%Oa(h%Oa!j%Oa!V%Oa'p%Oa#[%Oar%Oa![%Oa%c%Oa!d%Oa~P#-]O`#_q!Y#_q'r#_q'p#_q!V#_q!j#_qr#_q![#_q%c#_q!d#_q~P!8dOf'RX!Y'RX~P!(SO!Y.iOf(ba~O!X3ZO!Y'SX!j'SX~P%[O!Y.lO!j(ca~O!Y.lO!j(ca~P!8dO!V3^O~O#|!ma!Z!ma~PKOO#|!ea!Y!ea!Z!ea~P#CvO#|!qa!Z!qa~P!:}O#|!sa!Z!sa~P!=hORfO![3pO$a3qO~O!Z3uO~Or3vO~P#-]O`$jq!Y$jq'r$jq'p$jq!V$jq!j$jqr$jq![$jq%c$jq!d$jq~P!8dO!V3wO~P#-]O|)zO!P){O(p%POj'ba(o'ba!Y'ba#['ba~Of'ba#|'ba~P%)_O|)zO!P){Oj'da(o'da(p'da!Y'da#['da~Of'da#|'da~P%*QO(h$ZO~P#-]O!X3zO'{%dO!Y'^X!j'^X~O!Y/cO!j(ua~O!Y/cO!d#uO!j(ua~O!Y/cO!d#uO(h'kO!j(ua~Of$wi!Y$wi#[$wi#|$wi~P!0}O!X4SO'{*]O!V'`X!Y'`X~P!1lO!Y/kO!V(va~O!Y/kO!V(va~P#-]O!d#uO#r4[O~On4_O!d#uO(h'kO~O(o$}Oj%Zi|%Zi!P%Zi(p%Zi!Y%Zi#[%Zi~Of%Zi#|%Zi~P%-dO(p%POj%]i|%]i!P%]i(o%]i!Y%]i#[%]i~Of%]i#|%]i~P%.VOf(Vi!Y(Vi~P!0}O#[4fOf(Vi!Y(Vi~P!0}O!j4iO~O`$kq!Y$kq'r$kq'p$kq!V$kq!j$kqr$kq![$kq%c$kq!d$kq~P!8dO!V4mO~O!Y4nO![(wX~P#-]O!i#wO~P4XO`$uX![$uX%W[X'r$uX!Y$uX~P!/tO%W4pO`kXjkX|kX!PkX![kX'rkX(okX(pkX!YkX~O%W4pO~Oa4vO%d4wO'{+hO'}TO(QUO!Y'mX!Z'mX~O!Y0rO!Z)Oa~OZ4{O~O_4|O~O`%kO'r%kO~P#-]O![$|O~P#-]O!Y5UO#[5WO!Z({X~O!Z5XO~Oo!nO!P5YO!_!xO!`!uO!a!uO!{:dO#P!pO#Q!pO#R!pO#S!pO#T!pO#W5_O#X!yO'|!lO'}TO(QUO([!mO(g!sO~O!Z5^O~P%3hOj5dO![1[O%c5cO~Og%VOj5dO![1[O%c5cO~Oa5kO'{#mO'}TO(QUO!Y'lX!Z'lX~O!Y1gO!Z(|a~O'}TO(QUO([5mO~O_5qO~O#r5tO&T5uO~PMnO!j5vO~P%[O`5xO~O`5xO~P%[Oa1}O!Z5}O&c1|O~P`O!d6PO~O!d6ROg(ai!Y(ai!Z(ai!d(ai!k(ai~O!Y#di!Z#di~P#CvO#[6SO!Y#di!Z#di~O!Y!^i!Z!^i~P#CvO`%kO#[6]O'r%kO~O`%kO!d#uO#[6]O'r%kO~O!Y(jq!j(jq`(jq'r(jq~P!8dO!Y(dO!j(iq~O!P%eO![%fO#f6dO'{%dO~O!['ZO%c6gO~Oj6jO!['ZO%c6gO~O#g'baP'baZ'ba`'ban'ba}'ba!h'ba!i'ba!k'ba!o'ba#j'ba#k'ba#l'ba#m'ba#n'ba#o'ba#p'ba#q'ba#r'ba#t'ba#v'ba#x'ba#y'ba'r'ba(X'ba(h'ba!j'ba!V'ba'p'bar'ba!['ba%c'ba!d'ba~P%)_O#g'daP'daZ'da`'dan'da}'da!h'da!i'da!k'da!o'da#j'da#k'da#l'da#m'da#n'da#o'da#p'da#q'da#r'da#t'da#v'da#x'da#y'da'r'da(X'da(h'da!j'da!V'da'p'dar'da!['da%c'da!d'da~P%*QO#g$wiP$wiZ$wi`$win$wi}$wi!Y$wi!h$wi!i$wi!k$wi!o$wi#j$wi#k$wi#l$wi#m$wi#n$wi#o$wi#p$wi#q$wi#r$wi#t$wi#v$wi#x$wi#y$wi'r$wi(X$wi(h$wi!j$wi!V$wi'p$wi#[$wir$wi![$wi%c$wi!d$wi~P#-]O#g%ZiP%ZiZ%Zi`%Zin%Zi}%Zi!h%Zi!i%Zi!k%Zi!o%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#p%Zi#q%Zi#r%Zi#t%Zi#v%Zi#x%Zi#y%Zi'r%Zi(X%Zi(h%Zi!j%Zi!V%Zi'p%Zir%Zi![%Zi%c%Zi!d%Zi~P%-dO#g%]iP%]iZ%]i`%]in%]i}%]i!h%]i!i%]i!k%]i!o%]i#j%]i#k%]i#l%]i#m%]i#n%]i#o%]i#p%]i#q%]i#r%]i#t%]i#v%]i#x%]i#y%]i'r%]i(X%]i(h%]i!j%]i!V%]i'p%]ir%]i![%]i%c%]i!d%]i~P%.VOf'Ra!Y'Ra~P!0}O!Y'Sa!j'Sa~P!8dO!Y.lO!j(ci~O#|#_i!Y#_i!Z#_i~P#CvOP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O(XVOZ#iin#ii!h#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii#|#ii(h#ii(o#ii(p#ii!Y#ii!Z#ii~O#j#ii~P%FhO#j:lO~P%FhOP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO(XVOZ#ii!h#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii#|#ii(h#ii(o#ii(p#ii!Y#ii!Z#ii~On#ii~P%HsOn:nO~P%HsOP$]On:nO|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO(XVO#t#ii#v#ii#x#ii#y#ii#|#ii(h#ii(o#ii(p#ii!Y#ii!Z#ii~OZ#ii!h#ii#o#ii#p#ii#q#ii#r#ii~P%KOOZ:zO!h:pO#o:pO#p:pO#q:yO#r:pO~P%KOOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO(XVO#v#ii#x#ii#y#ii#|#ii(h#ii(p#ii!Y#ii!Z#ii~O(o#ii~P%MjO(o#|O~P%MjOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO#v:sO(XVO(o#|O#x#ii#y#ii#|#ii(h#ii!Y#ii!Z#ii~O(p#ii~P& uO(p#}O~P& uOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO#v:sO#x:uO(XVO(o#|O(p#}O~O#y#ii#|#ii(h#ii!Y#ii!Z#ii~P&$QO`#zy!Y#zy'r#zy'p#zy!V#zy!j#zyr#zy![#zy%c#zy!d#zy~P!8dOj<gO|)zO!P){O(o$}O(p%PO~OP#iiZ#iin#ii}#ii!h#ii!i#ii!k#ii!o#ii#j#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii#|#ii(X#ii(h#ii!Y#ii!Z#ii~P&&xO!i#wOP(WXZ(WXj(WXn(WX|(WX}(WX!P(WX!h(WX!k(WX!o(WX#j(WX#k(WX#l(WX#m(WX#n(WX#o(WX#p(WX#q(WX#r(WX#t(WX#v(WX#x(WX#y(WX#|(WX(X(WX(h(WX(o(WX(p(WX!Y(WX!Z(WX~O#|#}i!Y#}i!Z#}i~P#CvO#|!qi!Z!qi~P$'jO!Z6|O~O!Y']a!Z']a~P#CvO!d#uO(h'kO!Y'^a!j'^a~O!Y/cO!j(ui~O!Y/cO!d#uO!j(ui~Of$wq!Y$wq#[$wq#|$wq~P!0}O!V'`a!Y'`a~P#-]O!d7TO~O!Y/kO!V(vi~P#-]O!Y/kO!V(vi~O!V7XO~O!d#uO#r7^O~On7_O!d#uO(h'kO~O|)zO!P){O(p%POj'ca(o'ca!Y'ca#['ca~Of'ca#|'ca~P&.YO|)zO!P){Oj'ea(o'ea(p'ea!Y'ea#['ea~Of'ea#|'ea~P&.{O!V7aO~Of$yq!Y$yq#[$yq#|$yq~P!0}O`$ky!Y$ky'r$ky'p$ky!V$ky!j$kyr$ky![$ky%c$ky!d$ky~P!8dO!d6RO~O!Y4nO![(wa~O`#_y!Y#_y'r#_y'p#_y!V#_y!j#_yr#_y![#_y%c#_y!d#_y~P!8dOZ7fO~Oa7hO'{+hO'}TO(QUO~O!Y0rO!Z)Oi~O_7lO~O([(xO!Y'iX!Z'iX~O!Y5UO!Z({a~OlkO'{7sO~P.iO!Z7vO~P%3hOo!nO!P7wO'}TO(QUO([!mO(g!sO~O![1[O~O![1[O%c7yO~Oj7|O![1[O%c7yO~OZ8RO!Y'la!Z'la~O!Y1gO!Z(|i~O!j8VO~O!j8WO~O!j8ZO~O!j8ZO~P%[O`8]O~O!d8^O~O!j8_O~O!Y(mi!Z(mi~P#CvO`%kO#[8gO'r%kO~O!Y(jy!j(jy`(jy'r(jy~P!8dO!Y(dO!j(iy~O!['ZO%c8jO~O#g$wqP$wqZ$wq`$wqn$wq}$wq!Y$wq!h$wq!i$wq!k$wq!o$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#p$wq#q$wq#r$wq#t$wq#v$wq#x$wq#y$wq'r$wq(X$wq(h$wq!j$wq!V$wq'p$wq#[$wqr$wq![$wq%c$wq!d$wq~P#-]O#g'caP'caZ'ca`'can'ca}'ca!h'ca!i'ca!k'ca!o'ca#j'ca#k'ca#l'ca#m'ca#n'ca#o'ca#p'ca#q'ca#r'ca#t'ca#v'ca#x'ca#y'ca'r'ca(X'ca(h'ca!j'ca!V'ca'p'car'ca!['ca%c'ca!d'ca~P&.YO#g'eaP'eaZ'ea`'ean'ea}'ea!h'ea!i'ea!k'ea!o'ea#j'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#t'ea#v'ea#x'ea#y'ea'r'ea(X'ea(h'ea!j'ea!V'ea'p'ear'ea!['ea%c'ea!d'ea~P&.{O#g$yqP$yqZ$yq`$yqn$yq}$yq!Y$yq!h$yq!i$yq!k$yq!o$yq#j$yq#k$yq#l$yq#m$yq#n$yq#o$yq#p$yq#q$yq#r$yq#t$yq#v$yq#x$yq#y$yq'r$yq(X$yq(h$yq!j$yq!V$yq'p$yq#[$yqr$yq![$yq%c$yq!d$yq~P#-]O!Y'Si!j'Si~P!8dO#|#_q!Y#_q!Z#_q~P#CvO(o$}OP%ZaZ%Zan%Za}%Za!h%Za!i%Za!k%Za!o%Za#j%Za#k%Za#l%Za#m%Za#n%Za#o%Za#p%Za#q%Za#r%Za#t%Za#v%Za#x%Za#y%Za#|%Za(X%Za(h%Za!Y%Za!Z%Za~Oj%Za|%Za!P%Za(p%Za~P&@bO(p%POP%]aZ%]an%]a}%]a!h%]a!i%]a!k%]a!o%]a#j%]a#k%]a#l%]a#m%]a#n%]a#o%]a#p%]a#q%]a#r%]a#t%]a#v%]a#x%]a#y%]a#|%]a(X%]a(h%]a!Y%]a!Z%]a~Oj%]a|%]a!P%]a(o%]a~P&BiOj<gO|)zO!P){O(p%PO~P&@bOj<gO|)zO!P){O(o$}O~P&BiO|0ZO}0ZO!P0[OPyaZyajyanya!hya!iya!kya!oya#jya#kya#lya#mya#nya#oya#pya#qya#rya#tya#vya#xya#yya#|ya(Xya(hya(oya(pya!Yya!Zya~O|)zO!P){OP$naZ$naj$nan$na}$na!h$na!i$na!k$na!o$na#j$na#k$na#l$na#m$na#n$na#o$na#p$na#q$na#r$na#t$na#v$na#x$na#y$na#|$na(X$na(h$na(o$na(p$na!Y$na!Z$na~O|)zO!P){OP$paZ$paj$pan$pa}$pa!h$pa!i$pa!k$pa!o$pa#j$pa#k$pa#l$pa#m$pa#n$pa#o$pa#p$pa#q$pa#r$pa#t$pa#v$pa#x$pa#y$pa#|$pa(X$pa(h$pa(o$pa(p$pa!Y$pa!Z$pa~OP%OaZ%Oan%Oa}%Oa!h%Oa!i%Oa!k%Oa!o%Oa#j%Oa#k%Oa#l%Oa#m%Oa#n%Oa#o%Oa#p%Oa#q%Oa#r%Oa#t%Oa#v%Oa#x%Oa#y%Oa#|%Oa(X%Oa(h%Oa!Y%Oa!Z%Oa~P&&xO#|$jq!Y$jq!Z$jq~P#CvO#|$kq!Y$kq!Z$kq~P#CvO!Z8vO~O#|8wO~P!0}O!d#uO!Y'^i!j'^i~O!d#uO(h'kO!Y'^i!j'^i~O!Y/cO!j(uq~O!V'`i!Y'`i~P#-]O!Y/kO!V(vq~O!V8}O~P#-]O!V8}O~Of(Vy!Y(Vy~P!0}O!Y'ga!['ga~P#-]O`%Vq![%Vq'r%Vq!Y%Vq~P#-]OZ9SO~O!Y0rO!Z)Oq~O#[9WO!Y'ia!Z'ia~O!Y5UO!Z({i~P#CvOP[XZ[Xn[X|[X}[X!P[X!V[X!Y[X!h[X!i[X!k[X!o[X#[[X#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X(X[X(h[X(o[X(p[X~O!d%TX#r%TX~P'#SO![1[O%c9[O~O'}TO(QUO([9aO~O!Y1gO!Z(|q~O!j9dO~O!j9eO~O!j9fO~O!j9fO~P%[O#[9iO!Y#dy!Z#dy~O!Y#dy!Z#dy~P#CvO!['ZO%c9nO~O#|#zy!Y#zy!Z#zy~P#CvOP$wiZ$win$wi}$wi!h$wi!i$wi!k$wi!o$wi#j$wi#k$wi#l$wi#m$wi#n$wi#o$wi#p$wi#q$wi#r$wi#t$wi#v$wi#x$wi#y$wi#|$wi(X$wi(h$wi!Y$wi!Z$wi~P&&xO|)zO!P){O(p%POP'baZ'baj'ban'ba}'ba!h'ba!i'ba!k'ba!o'ba#j'ba#k'ba#l'ba#m'ba#n'ba#o'ba#p'ba#q'ba#r'ba#t'ba#v'ba#x'ba#y'ba#|'ba(X'ba(h'ba(o'ba!Y'ba!Z'ba~O|)zO!P){OP'daZ'daj'dan'da}'da!h'da!i'da!k'da!o'da#j'da#k'da#l'da#m'da#n'da#o'da#p'da#q'da#r'da#t'da#v'da#x'da#y'da#|'da(X'da(h'da(o'da(p'da!Y'da!Z'da~O(o$}OP%ZiZ%Zij%Zin%Zi|%Zi}%Zi!P%Zi!h%Zi!i%Zi!k%Zi!o%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#p%Zi#q%Zi#r%Zi#t%Zi#v%Zi#x%Zi#y%Zi#|%Zi(X%Zi(h%Zi(p%Zi!Y%Zi!Z%Zi~O(p%POP%]iZ%]ij%]in%]i|%]i}%]i!P%]i!h%]i!i%]i!k%]i!o%]i#j%]i#k%]i#l%]i#m%]i#n%]i#o%]i#p%]i#q%]i#r%]i#t%]i#v%]i#x%]i#y%]i#|%]i(X%]i(h%]i(o%]i!Y%]i!Z%]i~O#|$ky!Y$ky!Z$ky~P#CvO#|#_y!Y#_y!Z#_y~P#CvO!d#uO!Y'^q!j'^q~O!Y/cO!j(uy~O!V'`q!Y'`q~P#-]O!V9wO~P#-]O!Y0rO!Z)Oy~O!Y5UO!Z({q~O![1[O%c:OO~O!j:RO~O!['ZO%c:WO~OP$wqZ$wqn$wq}$wq!h$wq!i$wq!k$wq!o$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#p$wq#q$wq#r$wq#t$wq#v$wq#x$wq#y$wq#|$wq(X$wq(h$wq!Y$wq!Z$wq~P&&xO|)zO!P){O(p%POP'caZ'caj'can'ca}'ca!h'ca!i'ca!k'ca!o'ca#j'ca#k'ca#l'ca#m'ca#n'ca#o'ca#p'ca#q'ca#r'ca#t'ca#v'ca#x'ca#y'ca#|'ca(X'ca(h'ca(o'ca!Y'ca!Z'ca~O|)zO!P){OP'eaZ'eaj'ean'ea}'ea!h'ea!i'ea!k'ea!o'ea#j'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#t'ea#v'ea#x'ea#y'ea#|'ea(X'ea(h'ea(o'ea(p'ea!Y'ea!Z'ea~OP$yqZ$yqn$yq}$yq!h$yq!i$yq!k$yq!o$yq#j$yq#k$yq#l$yq#m$yq#n$yq#o$yq#p$yq#q$yq#r$yq#t$yq#v$yq#x$yq#y$yq#|$yq(X$yq(h$yq!Y$yq!Z$yq~P&&xOf%_!Z!Y%_!Z#[%_!Z#|%_!Z~P!0}O!Y'iq!Z'iq~P#CvO!Y#d!Z!Z#d!Z~P#CvO#g%_!ZP%_!ZZ%_!Z`%_!Zn%_!Z}%_!Z!Y%_!Z!h%_!Z!i%_!Z!k%_!Z!o%_!Z#j%_!Z#k%_!Z#l%_!Z#m%_!Z#n%_!Z#o%_!Z#p%_!Z#q%_!Z#r%_!Z#t%_!Z#v%_!Z#x%_!Z#y%_!Z'r%_!Z(X%_!Z(h%_!Z!j%_!Z!V%_!Z'p%_!Z#[%_!Zr%_!Z![%_!Z%c%_!Z!d%_!Z~P#-]OP%_!ZZ%_!Zn%_!Z}%_!Z!h%_!Z!i%_!Z!k%_!Z!o%_!Z#j%_!Z#k%_!Z#l%_!Z#m%_!Z#n%_!Z#o%_!Z#p%_!Z#q%_!Z#r%_!Z#t%_!Z#v%_!Z#x%_!Z#y%_!Z#|%_!Z(X%_!Z(h%_!Z!Y%_!Z!Z%_!Z~P&&xOr(]X~P1qO'|!lO~P!*fO!VeX!YeX#[eX~P'#SOP[XZ[Xn[X|[X}[X!P[X!Y[X!YeX!h[X!i[X!k[X!o[X#[[X#[eX#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X(X[X(h[X(o[X(p[X~O!deX!j[X!jeX(heX~P'@vOP:cOQ:cORfOc<[Od!iOlkOn:cOokOpkOvkOx:cOz:cO!PWO!TkO!UkO![XO!f:fO!kZO!n:cO!o:cO!p:cO!r:gO!t:jO!w!hO$T!kO'{)YO'}TO(QUO(XVO(g[O(t<YO~O!Y:wO!Z$ma~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz;RO!P${O![$|O!f<aO!k$xO#f;XO$T%^O$o;TO$q;VO$t%_O'{(pO'}TO(QUO(X$uO(o$}O(p%PO~O#s)aO~P'ElO!Z[X!ZeX~P'@vO#g:kO~O!d#uO#g:kO~O#[:{O~O#r:pO~O#[;ZO!Y(mX!Z(mX~O#[:{O!Y(kX!Z(kX~O#g;[O~Of;^O~P!0}O#g;cO~O#g;dO~O!d#uO#g;eO~O!d#uO#g;[O~O#|;fO~P#CvO#g;gO~O#g;hO~O#g;mO~O#g;nO~O#g;oO~O#g;pO~O#|;qO~P!0}O#|;rO~P!0}O!i#P#Q#S#T#W#e#f#q(t$o$q$t%W%b%c%d%k%m%p%q%s%u~'vS#k!U't'|#lo#j#mn|'u$Y'u'{$[([~",goto:"$2p)SPPPPP)TPP)WP)iP*x.|PPPP5pPP6WPP<S?gP?zP?zPPP?zPAxP?zP?zP?zPA|PPBRPBlPGdPPPGhPPPPGhJiPPPJoKjPGhPMxPPPP!!WGhPPPGhPGhP!$fGhP!'z!(|!)VP!)y!)}!)yPPPPP!-Y!(|PP!-v!.pP!1dGhGh!1i!4s!9Y!9Y!=OPPP!=VGhPPPPPPPPPPP!@dP!AuPPGh!CSPGhPGhGhGhGhPGh!DfP!GnP!JrP!Jv!KQ!KU!KUP!GkP!KY!KYP!N^P!NbGhGh!Nh##k?zP?zP?z?zP#$v?z?z#'O?z#)k?z#+m?z?z#,[#.f#.f#.j#.r#.f#.zP#.fP?z#/d?z#3R?z?z5pPPP#6vPPP#7a#7aP#7aP#7w#7aPP#7}P#7tP#7t#8b#7t#8|#9S5m)W#9V)WP#9^#9^#9^P)WP)WP)WP)WPP)WP#9d#9gP#9g)WP#9kP#9nP)WP)WP)WP)WP)WP)W)WPP#9t#9z#:V#:]#:c#:i#:o#:}#;T#;Z#;e#;k#;u#<U#<[#<|#=`#=f#=l#=z#>a#@O#@^#@d#Ax#BW#Cr#DQ#DW#D^#Dd#Dn#Dt#Dz#EU#Eh#EnPPPPPPPPPP#EtPPPPPPP#Fi#Ip#KP#KW#K`PPPP$!d$%Z$+r$+u$+x$,q$,t$,w$-O$-WPP$-^$-b$.Y$/X$/]$/qPP$/u$/{$0PP$0S$0W$0Z$1P$1h$2P$2T$2W$2Z$2a$2d$2h$2lR!{RoqOXst!Z#c%j&m&o&p&r,h,m1w1zY!uQ'Z-Y1[5]Q%pvQ%xyQ&P|Q&e!VS'R!e-QQ'a!iS'g!r!xS*c$|*hQ+f%yQ+s&RQ,X&_Q-W'YQ-b'bQ-j'hQ/|*jQ1f,YR;Y:g%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S,e,h,m-^-f-t-z.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3Z5Y5d5t5u5x6]7w7|8]8gS#p]:d!r)[$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q*u%ZQ+k%{Q,Z&bQ,b&jQ.c;QQ0h+^Q0l+`Q0w+lQ1n,`Q2{.[Q4v0rQ5k1gQ6i3PQ6u;RQ7h4wR8m6j&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]t!nQ!r!u!x!y'R'Y'Z'g'h'i-Q-W-Y-j1[5]5_$v$si#u#w$c$d$x${%O%Q%[%]%a)u){)}*P*R*Y*`*p*q+]+`+w+z.Z.i/Z/j/k/m0Q0S0^1R1U1^3O3x4S4[4f4n4p5c6g7T7^7y8j8w9[9n:O:W:y:z:|:};O;P;S;T;U;V;W;X;_;`;a;b;c;d;g;h;i;j;k;l;m;n;q;r<Y<b<c<f<gQ&S|Q'P!eS'V%f-TQ+k%{Q,Z&bQ0]*yQ0w+lQ0|+rQ1m,_Q1n,`Q4v0rQ5P1OQ5k1gQ5n1iQ5o1lQ7h4wQ7k4|Q8U5qQ9V7lR9b8RrnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zR,]&f&v^OPXYstuvwz!Z!`!g!j!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O']'m(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<[<][#[WZ#V#Y'S'}!S%gm#g#h#k%b%e(W(b(c(d+Q+R+T,d,z-x.O.P.Q.S2P2w2x6R6dQ%sxQ%wyS%||&RQ&Y!TQ'^!hQ'`!iQ(k#rS*V$x*ZS+e%x%yQ+i%{Q,S&]Q,W&_S-a'a'bQ.^(lQ/g*WQ0p+fQ0v+lQ0x+mQ0{+qQ1a,TS1e,X,YQ2i-bQ3y/cQ4u0rQ4y0uQ5O0}Q5j1fQ7Q3zQ7g4wQ7j4{Q9R7fR9y9S!O$zi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<c!S%uy!i!t%w%x%y'Q'`'a'b'f'p*b+e+f,}-a-b-i/t0p2b2i2p4^Q+_%sQ+x&VQ+{&WQ,V&_Q.](kQ1`,SU1d,W,X,YQ3Q.^Q5e1aS5i1e1fQ8Q5j#W<^#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<go<_:y:z:};P;T;V;X;`;b;d;h;j;l;n;rW%Ti%V*r<YS&V!Q&dQ&W!RQ&X!SR+v&T$w%Si#u#w$c$d$x${%O%Q%[%]%a)u){)}*P*R*Y*`*p*q+]+`+w+z.Z.i/Z/j/k/m0Q0S0^1R1U1^3O3x4S4[4f4n4p5c6g7T7^7y8j8w9[9n:O:W:y:z:|:};O;P;S;T;U;V;W;X;_;`;a;b;c;d;g;h;i;j;k;l;m;n;q;r<Y<b<c<f<gT)v$u)wV*v%Z;Q;RU'V!e%f-TS(y#y#zQ+p&OS.V(g(hQ1V+|Q4g0ZR7p5U&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]$i$`c#X#d%n%o%q'|(S(n(u(})O)P)Q)R)S)T)U)V)W)X)Z)^)b)l+Z+o-O-m-r-w-y.h.n.r.t.u.v/V0_2W2Z2k2r3Y3_3`3a3b3c3d3e3f3g3h3i3j3k3n3o3t4k4s6U6[6a6o6p6y6z7r8a8e8n8t8u9k9{:S:e<PT#SV#T&}kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q'T!eR2^-Qv!nQ!e!r!u!x!y'R'Y'Z'g'h'i-Q-W-Y-j1[5]5_S*b$|*hS/t*c*jQ/}*kQ1X,OQ4^/|R4a0PnqOXst!Z#c%j&m&o&p&r,h,m1w1zQ&t!^Q'q!wS(m#t:kQ+c%vQ,Q&YQ,R&[Q-_'_Q-l'jS.g(r;[S0`+O;eQ0n+dQ1Z,PQ2O,oQ2Q,pQ2Y,{Q2g-`Q2j-dS4l0a;oQ4q0oS4t0q;pQ6T2[Q6X2hQ6^2oQ7e4rQ8b6VQ8c6YQ8f6_R9h8_$d$_c#X#d%o%q'|(S(n(u(})O)P)Q)R)S)T)U)V)W)X)Z)^)b)l+Z+o-O-m-r-w-y.h.n.r.u.v/V0_2W2Z2k2r3Y3_3`3a3b3c3d3e3f3g3h3i3j3k3n3o3t4k4s6U6[6a6o6p6y6z7r8a8e8n8t8u9k9{:S:e<PS(j#o'dU*o%R(q3mS+Y%n.tQ2|0hQ6f2{Q8l6iR9o8m$d$^c#X#d%o%q'|(S(n(u(})O)P)Q)R)S)T)U)V)W)X)Z)^)b)l+Z+o-O-m-r-w-y.h.n.r.u.v/V0_2W2Z2k2r3Y3_3`3a3b3c3d3e3f3g3h3i3j3k3n3o3t4k4s6U6[6a6o6p6y6z7r8a8e8n8t8u9k9{:S:e<PS(i#o'dS({#z$_S+X%n.tS.W(h(jQ.w)]Q0e+YR2y.X&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]S#p]:dQ&o!XQ&p!YQ&r![Q&s!]R1v,kQ'[!hQ+[%sQ-]'^S.Y(k+_Q2e-[W2}.].^0g0iQ6W2fU6e2z2|3QS8i6f6hS9m8k8lS:U9l9oQ:^:VR:a:_U!vQ'Z-YT5Z1[5]!Q_OXZ`st!V!Z#c#g%b%j&d&f&m&o&p&r(d,h,m.P1w1z]!pQ!r'Z-Y1[5]T#p]:d%Y{OPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gS(y#y#zS.V(g(h!s;v$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Y!tQ'Z-Y1[5]Q'f!rS'p!u!xS'r!y5_S-i'g'hQ-k'iR2p-jQ'o!tS(`#f1qS-h'f'rQ/f*VQ/r*bQ2q-kQ4O/gS4X/s/}Q7P3yS7[4_4aQ8y7QR9Q7_Q#vbQ'n!tS(_#f1qS(a#l*}Q+P%cQ+a%tQ+g%zU-g'f'o'rQ-{(`Q/e*VQ/q*bQ/w*eQ0m+bQ1b,US2n-h-kQ2v.TS3}/f/gS4W/r/}Q4Z/vQ4]/xQ5g1cQ6`2qQ7O3yQ7S4OS7W4X4aQ7]4`Q8O5hS8x7P7QQ8|7XQ9O7[Q9_8PQ9u8yQ9v8}Q9x9QQ:Q9`Q:Y9wQ;y;tQ<U;}R<V<OV!vQ'Z-Y%YaOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gS#vz!j!r;s$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]R;y<[%YbOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gQ%cj!S%ty!i!t%w%x%y'Q'`'a'b'f'p*b+e+f,}-a-b-i/t0p2b2i2p4^S%zz!jQ+b%uQ,U&_W1c,V,W,X,YU5h1d1e1fS8P5i5jQ9`8Q!r;t$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q;}<ZR<O<[$|eOPXYstuvw!Z!`!g!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&m&o&p&r&v'O']'m(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gY#aWZ#V#Y'}!S%gm#g#h#k%b%e(W(b(c(d+Q+R+T,d,z-x.O.P.Q.S2P2w2x6R6dQ,c&j!p;u$[$m)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]R;x'SS'W!e%fR2`-T%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S,e,h,m-^-f-t-z.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3Z5Y5d5t5u5x6]7w7|8]8g!r)[$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q,b&jQ0h+^Q2{.[Q6i3PR8m6j!f$Uc#X%n'|(S(n(u)U)V)W)X)^)b+o-m-r-w-y.h.n/V0_2k2r3Y3k4k4s6[6a6o8e9k:e!T:r)Z)l-O.t2W2Z3_3g3h3i3j3n3t6U6p6y6z7r8a8n8t8u9{:S<P!b$Wc#X%n'|(S(n(u)W)X)^)b+o-m-r-w-y.h.n/V0_2k2r3Y3k4k4s6[6a6o8e9k:e!P:t)Z)l-O.t2W2Z3_3i3j3n3t6U6p6y6z7r8a8n8t8u9{:S<P!^$[c#X%n'|(S(n(u)^)b+o-m-r-w-y.h.n/V0_2k2r3Y3k4k4s6[6a6o8e9k:eQ3x/az<])Z)l-O.t2W2Z3_3n3t6U6p6y6z7r8a8n8t8u9{:S<PQ<b<dR<c<e&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]S$nh$oR3q.z'TgOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.z.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]T$jf$pQ$hfS)e$k)iR)q$pT$if$pT)g$k)i'ThOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.z.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]T$nh$oQ$qhR)p$o%YjOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8g!s<Z$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]#clOPXZst!Z!`!o#R#c#n#{$m%j&f&i&j&m&o&p&r&v'O'](z)n+S+^,e,h,m-^.[.{0[1_1o1p1r1t1w1z1|3P3p5Y5d5t5u5x6j7w7|8]!O%Ri#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<c#W(q#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gQ*z%_Q/W)zo3m:y:z:};P;T;V;X;`;b;d;h;j;l;n;r!O$yi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<cQ*[$zS*e$|*hQ*{%`Q/x*f#W;{#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gn;|:y:z:};P;T;V;X;`;b;d;h;j;l;n;rQ<Q<^Q<R<_Q<S<`R<T<a!O%Ri#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<c#W(q#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<go3m:y:z:};P;T;V;X;`;b;d;h;j;l;n;rnoOXst!Z#c%j&m&o&p&r,h,m1w1zQ*_${Q,v&yQ,w&{R4R/k$v%Si#u#w$c$d$x${%O%Q%[%]%a)u){)}*P*R*Y*`*p*q+]+`+w+z.Z.i/Z/j/k/m0Q0S0^1R1U1^3O3x4S4[4f4n4p5c6g7T7^7y8j8w9[9n:O:W:y:z:|:};O;P;S;T;U;V;W;X;_;`;a;b;c;d;g;h;i;j;k;l;m;n;q;r<Y<b<c<f<gQ+y&WQ1T+{Q5S1SR7o5TT*g$|*hS*g$|*hT5[1[5]S/v*d5YT4`0O7wQ+a%tQ/w*eQ0m+bQ1b,UQ5g1cQ8O5hQ9_8PR:Q9`!O%Oi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<cr)}$v(s*O*n*|/i0U0V3W4P4j6}7`9t;z<W<XS0Q*m0R#W:|#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gn:}:y:z:};P;T;V;X;`;b;d;h;j;l;n;r!^;_(o)`*U*^._.b.f/S/X/a/n0f1Q1S3T4Q4U5R5T6k6n7U7Y7b7d8{9P:X<d<e`;`3l6q6t6x8o9p9s:bS;i.a3UT;j6s8r!O%Qi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<cv*P$v(s*Q*m*|/]/i0U0V3W4P4b4j6}7`9t;z<W<XS0S*n0T#W;O#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gn;P:y:z:};P;T;V;X;`;b;d;h;j;l;n;r!b;a(o)`*U*^.`.a.f/S/X/a/n0f1Q1S3R3T4Q4U5R5T6k6l6n7U7Y7b7d8{9P:X<d<ed;b3l6r6s6x8o8p9p9q9s:bS;k.b3VT;l6t8srnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zQ&a!UR,e&jrnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zR&a!UQ+}&XR1P+vsnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zQ1],SS5b1`1aU7x5`5a5eS9Z7z7{S9|9Y9]Q:Z9}R:`:[Q&h!VR,^&dR5n1iS%||&RR0x+mQ&m!WR,h&nR,n&sT1x,m1zR,r&tQ,q&tR2R,rQ't!zR-n'tSsOtQ#cXT%ms#cQ!}TR'v!}Q#QUR'x#QQ)w$uR/T)wQ#TVR'z#TQ#WWU(Q#W(R-uQ(R#XR-u(SQ-R'TR2_-RQ.j(sR3X.jQ.m(uS3[.m3]R3].nQ-Y'ZR2c-YY!rQ'Z-Y1[5]R'e!rS#^W%eU(X#^(Y-vQ(Y#_R-v(TQ-U'WR2a-Ut`OXst!V!Z#c%j&d&f&m&o&p&r,h,m1w1zS#gZ%bU#q`#g.PR.P(dQ(e#iQ-|(aW.U(e-|2t6bQ2t-}R6b2uQ)i$kR.|)iQ$ohR)o$oQ$bcU)_$b-q:xQ-q:eR:x)lQ/d*VW3{/d3|7R8zU3|/e/f/gS7R3}4OR8z7S$X)|$v(o(s)`*U*^*m*n*w*x*|.a.b.d.e.f/S/X/]/_/a/i/n0U0V0f1Q1S3R3S3T3W3l4P4Q4U4b4d4j5R5T6k6l6m6n6s6t6v6w6x6}7U7Y7`7b7d8o8p8q8{9P9p9q9r9s9t:X:b;z<W<X<d<eQ/l*^U4T/l4V7VQ4V/nR7V4UQ*h$|R/z*hr*O$v(s*m*n*|/i0U0V3W4P4j6}7`9t;z<W<X!^._(o)`*U*^.a.b.f/S/X/a/n0f1Q1S3T4Q4U5R5T6k6n7U7Y7b7d8{9P:X<d<eU/^*O._6qa6q3l6s6t6x8o9p9s:bQ0R*mQ3U.aU4c0R3U8rR8r6sv*Q$v(s*m*n*|/]/i0U0V3W4P4b4j6}7`9t;z<W<X!b.`(o)`*U*^.a.b.f/S/X/a/n0f1Q1S3R3T4Q4U5R5T6k6l6n7U7Y7b7d8{9P:X<d<eU/`*Q.`6re6r3l6s6t6x8o8p9p9q9s:bQ0T*nQ3V.bU4e0T3V8sR8s6tQ*s%UR0X*sQ4o0fR7c4oQ+U%hR0d+UQ5V1VS7q5V9XR9X7rQ,P&YR1Y,PQ5]1[R7u5]Q1h,ZS5l1h8SR8S5nQ0s+iW4x0s4z7i9TQ4z0vQ7i4yR9T7jQ+n%|R0y+nQ1z,mR5|1zYrOXst#cQ&q!ZQ+W%jQ,g&mQ,i&oQ,j&pQ,l&rQ1u,hS1x,m1zR5{1wQ%lpQ&u!_Q&x!aQ&z!bQ&|!cQ'l!tQ+V%iQ+c%vQ+u&SQ,]&hQ,t&wW-e'f'n'o'rQ-l'jQ/y*gQ0n+dS1k,^,aQ2S,sQ2T,vQ2U,wQ2j-dW2l-g-h-k-mQ4q0oQ4}0|Q5Q1QQ5f1bQ5p1mQ5z1vU6Z2k2n2qQ6^2oQ7e4rQ7m5PQ7n5RQ7t5[Q7}5gQ8T5oS8d6[6`Q8f6_Q9U7kQ9^8OQ9c8UQ9j8eQ9z9VQ:P9_Q:T9kR:]:QQ%vyQ'_!iQ'j!tU+d%w%x%yQ,{'QU-`'`'a'bS-d'f'pQ/p*bS0o+e+fQ2[,}S2h-a-bQ2o-iQ4Y/tQ4r0pQ6V2bQ6Y2iQ6_2pR7Z4^S$wi<YR*t%VU%Ui%V<YR0W*rQ$viS(o#u+`Q(s#wS)`$c$dQ*U$xQ*^${Q*m%OQ*n%QQ*w%[Q*x%]Q*|%aQ.a:|Q.b;OQ.d;SQ.e;UQ.f;WQ/S)uS/X){/ZQ/])}Q/_*PQ/a*RQ/i*YQ/n*`Q0U*pQ0V*qh0f+].Z1^3O5c6g7y8j9[9n:O:WQ1Q+wQ1S+zQ3R;_Q3S;aQ3T;cQ3W.iS3l:y:zQ4P/jQ4Q/kQ4U/mQ4b0QQ4d0SQ4j0^Q5R1RQ5T1UQ6k;gQ6l;iQ6m;kQ6n;mQ6s:}Q6t;PQ6v;TQ6w;VQ6x;XQ6}3xQ7U4SQ7Y4[Q7`4fQ7b4nQ7d4pQ8o;dQ8p;`Q8q;bQ8{7TQ9P7^Q9p;hQ9q;jQ9r;lQ9s;nQ9t8wQ:X;qQ:b;rQ;z<YQ<W<bQ<X<cQ<d<fR<e<gnpOXst!Z#c%j&m&o&p&r,h,m1w1zQ!fPS#eZ#nQ&w!`U'c!o5Y7wQ'y#RQ(|#{Q)m$mS,a&f&iQ,f&jQ,s&vQ,x'OQ-[']Q.p(zQ/Q)nQ0b+SQ0i+^Q1s,eQ2f-^Q2|.[Q3s.{Q4h0[Q5a1_Q5r1oQ5s1pQ5w1rQ5y1tQ6O1|Q6f3PQ6{3pQ7{5dQ8X5tQ8Y5uQ8[5xQ8l6jQ9]7|R9g8]#WcOPXZst!Z!`!o#c#n#{%j&f&i&j&m&o&p&r&v'O'](z+S+^,e,h,m-^.[0[1_1o1p1r1t1w1z1|3P5Y5d5t5u5x6j7w7|8]Q#XWQ#dYQ%nuQ%ovS%qw!gS'|#V(PQ(S#YQ(n#tQ(u#xQ(}$OQ)O$PQ)P$QQ)Q$RQ)R$SQ)S$TQ)T$UQ)U$VQ)V$WQ)W$XQ)X$YQ)Z$[Q)^$aQ)b$eW)l$m)n.{3pQ+Z%pQ+o%}S-O'S2]Q-m'mS-r'}-tQ-w(VQ-y(^Q.h(rQ.n(vQ.r:cQ.t:fQ.u:gQ.v:jQ/V)yQ0_+OQ2W,yQ2Z,|Q2k-fQ2r-zQ3Y.lQ3_:kQ3`:lQ3a:mQ3b:nQ3c:oQ3d:pQ3e:qQ3f:rQ3g:sQ3h:tQ3i:uQ3j:vQ3k.sQ3n:{Q3o;YQ3t:wQ4k0aQ4s0qQ6U;ZQ6[2mQ6a2sQ6o3ZQ6p;[Q6y;^Q6z;eQ7r5WQ8a6SQ8e6]Q8n;fQ8t;oQ8u;pQ9k8gQ9{9WQ:S9iQ:e#RR<P<]R#ZWR'U!eY!tQ'Z-Y1[5]S'Q!e-QQ'f!rS'p!u!xS'r!y5_S,}'R'YS-i'g'hQ-k'iQ2b-WR2p-jR(t#wR(w#xQ!fQT-X'Z-Y]!qQ!r'Z-Y1[5]Q#o]R'd:dT#jZ%bS#iZ%bS%hm,dU(a#g#h#kS-}(b(cQ.R(dQ0c+TQ2u.OU2v.P.Q.SS6c2w2xR8h6d`#]W#V#Y%e'}(W+Q-xr#fZm#g#h#k%b(b(c(d+T.O.P.Q.S2w2x6dQ1q,dQ2X,zQ6Q2PQ8`6RT;w'S+RT#`W%eS#_W%eS(O#V(WS(T#Y+QS-P'S+RT-s'}-xT'X!e%fQ$kfR)s$pT)h$k)iR3r.zT*X$x*ZR*a${Q0g+]Q2z.ZQ5`1^Q6h3OQ7z5cQ8k6gQ9Y7yQ9l8jQ9}9[Q:V9nQ:[:OR:_:WnqOXst!Z#c%j&m&o&p&r,h,m1w1zQ&g!VR,]&dtmOXst!U!V!Z#c%j&d&m&o&p&r,h,m1w1zR,d&jT%im,dR1W+|R,[&bQ&Q|R+t&RR+j%{T&k!W&nT&l!W&nT1y,m1z",nodeNames:"\u26a0 ArithOp ArithOp JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:371,context:Eyt,nodeProps:[["group",-26,8,16,18,65,201,205,209,210,212,215,218,228,230,236,238,240,242,245,251,257,259,261,263,265,267,268,"Statement",-32,12,13,28,31,32,38,48,51,52,54,59,67,75,79,81,83,84,106,107,116,117,134,137,139,140,141,142,144,145,164,165,167,"Expression",-23,27,29,33,37,39,41,168,170,172,173,175,176,177,179,180,181,183,184,185,195,197,199,200,"Type",-3,87,99,105,"ClassItem"],["openedBy",22,"<",34,"InterpolationStart",53,"[",57,"{",72,"(",157,"JSXStartCloseTag"],["closedBy",23,">",36,"InterpolationEnd",47,"]",58,"}",73,")",162,"JSXEndTag"]],propSources:[Lyt],skippedNodes:[0,4,5,271],repeatNodeCount:37,tokenData:"$Fj(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#8g!R![#:v![!]#Gv!]!^#IS!^!_#J^!_!`#Ns!`!a$#_!a!b$(l!b!c$,k!c!}Er!}#O$-u#O#P$/P#P#Q$4h#Q#R$5r#R#SEr#S#T$7P#T#o$8Z#o#p$<k#p#q$=a#q#r$>q#r#s$?}#s$f%Z$f$g+g$g#BYEr#BY#BZ$AX#BZ$ISEr$IS$I_$AX$I_$I|Er$I|$I}$Dd$I}$JO$Dd$JO$JTEr$JT$JU$AX$JU$KVEr$KV$KW$AX$KW&FUEr&FU&FV$AX&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AX?HUOEr(n%d_$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$f&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$f&j(R!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(R!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$f&j(OpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(OpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$f&j(Op(R!b't(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST(P#S$f&j'u(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$f&j(Op(R!b'u(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$f&j!o$Ip(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#t$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#t$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/|3l_'}$(n$f&j(R!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$f&j(R!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$f&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$a`$f&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$a``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$a`$f&j(R!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(R!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$a`(R!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k#%|:hh$f&j(Op(R!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__VS$f&j(Op(R!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]VS$f&j(R!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXVS$f&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSVSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWVS(R!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]VS$f&j(OpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWVS(OpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYVS(Op(R!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S#%|C}i$f&j(g!L^(Op(R!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr#%|EoP;=`<%lCr(CSFRk$f&j(Op(R!b$Y#t'{&;d([!LYOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$f&j(Op(R!b$Y#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv(CSJPP;=`<%lEr%#SJ_`$f&j(Op(R!b#l$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SKl_$f&j$O$Id(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&COLva(p&;`$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SNW`$f&j#x$Id(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/|! c_(Q$)`$f&j(OpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$f&j(OpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$f&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$a`$f&j(OpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(OpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$a`(OpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b(*Q!'t_!k(!b$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l!)O_!jM|$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!*[b$f&j(Op(R!b'|#)d#m$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!+o`$f&j(Op(R!b#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!,|`$f&j(Op(R!bn&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!.Z_!Y&;l$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!/ec$f&j(Op(R!b|'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!0ya$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!2Z_!XMt$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!3eg$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!5Vg$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!6wc$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!8_c$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!9uf$f&j(Op(R!b#k$IdOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpxz!;Zz{#,f{!P!;Z!P!Q#-{!Q!^!;Z!^!_#'Z!_!`#5k!`!a#7Q!a!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(r!;fb$f&j(Op(R!b!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(Q!<w`$f&j(R!b!USOY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eb!Q!^!<n!^!_!GY!_!}!<n!}#O!Ja#O#P!Dj#P#o!<n#o#p!GY#p;'S!<n;'S;=`!Kj<%lO!<n&n!>Q^$f&j!USOY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@Y!_!}!=y!}#O!Bw#O#P!Dj#P#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!?Ta$f&j!USO!^&c!_#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&cS!@_X!USOY!@YZ!P!@Y!P!Q!@z!Q!}!@Y!}#O!Ac#O#P!Bb#P;'S!@Y;'S;=`!Bq<%lO!@YS!APU!US#Z#[!@z#]#^!@z#a#b!@z#g#h!@z#i#j!@z#m#n!@zS!AfVOY!AcZ#O!Ac#O#P!A{#P#Q!@Y#Q;'S!Ac;'S;=`!B[<%lO!AcS!BOSOY!AcZ;'S!Ac;'S;=`!B[<%lO!AcS!B_P;=`<%l!AcS!BeSOY!@YZ;'S!@Y;'S;=`!Bq<%lO!@YS!BtP;=`<%l!@Y&n!B|[$f&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#O!Bw#O#P!Cr#P#Q!=y#Q#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!CwX$f&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!DgP;=`<%l!Bw&n!DoX$f&jOY!=yYZ&cZ!^!=y!^!_!@Y!_#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!E_P;=`<%l!=y(Q!Eki$f&j(R!b!USOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!Eb#[#]&}#]#^!Eb#^#a&}#a#b!Eb#b#g&}#g#h!Eb#h#i&}#i#j!Eb#j#m&}#m#n!Eb#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!GaZ(R!b!USOY!GYZw!GYwx!@Yx!P!GY!P!Q!HS!Q!}!GY!}#O!Ic#O#P!Bb#P;'S!GY;'S;=`!JZ<%lO!GY!f!HZb(R!b!USOY'}Zw'}x#O'}#P#Z'}#Z#[!HS#[#]'}#]#^!HS#^#a'}#a#b!HS#b#g'}#g#h!HS#h#i'}#i#j!HS#j#m'}#m#n!HS#n;'S'};'S;=`(f<%lO'}!f!IhX(R!bOY!IcZw!Icwx!Acx#O!Ic#O#P!A{#P#Q!GY#Q;'S!Ic;'S;=`!JT<%lO!Ic!f!JWP;=`<%l!Ic!f!J^P;=`<%l!GY(Q!Jh^$f&j(R!bOY!JaYZ&cZw!Jawx!Bwx!^!Ja!^!_!Ic!_#O!Ja#O#P!Cr#P#Q!<n#Q#o!Ja#o#p!Ic#p;'S!Ja;'S;=`!Kd<%lO!Ja(Q!KgP;=`<%l!Ja(Q!KmP;=`<%l!<n'`!Ky`$f&j(Op!USOY!KpYZ&cZr!Kprs!=ys!P!Kp!P!Q!L{!Q!^!Kp!^!_!Ns!_!}!Kp!}#O##z#O#P!Dj#P#o!Kp#o#p!Ns#p;'S!Kp;'S;=`#%T<%lO!Kp'`!MUi$f&j(Op!USOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!L{#[#](r#]#^!L{#^#a(r#a#b!L{#b#g(r#g#h!L{#h#i(r#i#j!L{#j#m(r#m#n!L{#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!NzZ(Op!USOY!NsZr!Nsrs!@Ys!P!Ns!P!Q# m!Q!}!Ns!}#O#!|#O#P!Bb#P;'S!Ns;'S;=`##t<%lO!Nst# tb(Op!USOY)rZr)rs#O)r#P#Z)r#Z#[# m#[#])r#]#^# m#^#a)r#a#b# m#b#g)r#g#h# m#h#i)r#i#j# m#j#m)r#m#n# m#n;'S)r;'S;=`*Z<%lO)rt##RX(OpOY#!|Zr#!|rs!Acs#O#!|#O#P!A{#P#Q!Ns#Q;'S#!|;'S;=`##n<%lO#!|t##qP;=`<%l#!|t##wP;=`<%l!Ns'`#$R^$f&j(OpOY##zYZ&cZr##zrs!Bws!^##z!^!_#!|!_#O##z#O#P!Cr#P#Q!Kp#Q#o##z#o#p#!|#p;'S##z;'S;=`#$}<%lO##z'`#%QP;=`<%l##z'`#%WP;=`<%l!Kp(r#%fk$f&j(Op(R!b!USOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[#%Z#[#]%Z#]#^#%Z#^#a%Z#a#b#%Z#b#g%Z#g#h#%Z#h#i%Z#i#j#%Z#j#m%Z#m#n#%Z#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W#'d](Op(R!b!USOY#'ZZr#'Zrs!GYsw#'Zwx!Nsx!P#'Z!P!Q#(]!Q!}#'Z!}#O#)w#O#P!Bb#P;'S#'Z;'S;=`#*w<%lO#'Z#W#(fe(Op(R!b!USOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[#(]#[#]*g#]#^#(]#^#a*g#a#b#(]#b#g*g#g#h#(]#h#i*g#i#j#(]#j#m*g#m#n#(]#n;'S*g;'S;=`+Z<%lO*g#W#*OZ(Op(R!bOY#)wZr#)wrs!Icsw#)wwx#!|x#O#)w#O#P!A{#P#Q#'Z#Q;'S#)w;'S;=`#*q<%lO#)w#W#*tP;=`<%l#)w#W#*zP;=`<%l#'Z(r#+W`$f&j(Op(R!bOY#*}YZ&cZr#*}rs!Jasw#*}wx##zx!^#*}!^!_#)w!_#O#*}#O#P!Cr#P#Q!;Z#Q#o#*}#o#p#)w#p;'S#*};'S;=`#,Y<%lO#*}(r#,]P;=`<%l#*}(r#,cP;=`<%l!;Z(CS#,sb$f&j(Op(R!b'v(;d!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(CS#.W_$f&j(Op(R!bS(;dOY#-{YZ&cZr#-{rs#/Vsw#-{wx#2gx!^#-{!^!_#4f!_#O#-{#O#P#0X#P#o#-{#o#p#4f#p;'S#-{;'S;=`#5e<%lO#-{(Bb#/`]$f&j(R!bS(;dOY#/VYZ&cZw#/Vwx#0Xx!^#/V!^!_#1j!_#O#/V#O#P#0X#P#o#/V#o#p#1j#p;'S#/V;'S;=`#2a<%lO#/V(AO#0`X$f&jS(;dOY#0XYZ&cZ!^#0X!^!_#0{!_#o#0X#o#p#0{#p;'S#0X;'S;=`#1d<%lO#0X(;d#1QSS(;dOY#0{Z;'S#0{;'S;=`#1^<%lO#0{(;d#1aP;=`<%l#0{(AO#1gP;=`<%l#0X(<v#1qW(R!bS(;dOY#1jZw#1jwx#0{x#O#1j#O#P#0{#P;'S#1j;'S;=`#2Z<%lO#1j(<v#2^P;=`<%l#1j(Bb#2dP;=`<%l#/V(Ap#2p]$f&j(OpS(;dOY#2gYZ&cZr#2grs#0Xs!^#2g!^!_#3i!_#O#2g#O#P#0X#P#o#2g#o#p#3i#p;'S#2g;'S;=`#4`<%lO#2g(<U#3pW(OpS(;dOY#3iZr#3irs#0{s#O#3i#O#P#0{#P;'S#3i;'S;=`#4Y<%lO#3i(<U#4]P;=`<%l#3i(Ap#4cP;=`<%l#2g(=h#4oY(Op(R!bS(;dOY#4fZr#4frs#1jsw#4fwx#3ix#O#4f#O#P#0{#P;'S#4f;'S;=`#5_<%lO#4f(=h#5bP;=`<%l#4f(CS#5hP;=`<%l#-{%#W#5xb$f&j$O$Id(Op(R!b!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z+h#7_b$W#t$f&j(Op(R!b!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z$/l#8rp$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#U%Z#U#V#>Q#V#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#d#AY#d#l%Z#l#m#D[#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;Rk$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#=R_$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>Zd$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#?tf$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Acc$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Bye$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Deg$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#FXi$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#HT_!d$b$f&j#|%<f(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#I__`l$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^#Jk^g!*v!h'.r(Op(R!b(tSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Kg!Q!^*g!^!_#L]!_!`#M}!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#KpX$h&j(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#LfZ#n$Id(Op(R!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#MX!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#MbX$O$Id(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#NWX#o$Id(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh$ Oa#[%?x$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$!T!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W$!`_#g$Ih$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh$#nafBf#o$Id$c#|$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$$s!`!a$%}!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$%O_#o$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$&Ya#n$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$'_!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$'j`#n$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$(wc(h$Ip$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$*S!P!^%Z!^!_*g!_!a%Z!a!b$+^!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$*__}'#p$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$+i`$f&j#y$Id(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$,v_!{!Ln$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$.Q_!P(8n$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/UZ$f&jO!^$/w!^!_$0_!_#i$/w#i#j$0d#j#l$/w#l#m$2V#m#o$/w#o#p$0_#p;'S$/w;'S;=`$4b<%lO$/w(n$0OT^#S$f&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0dO^#S(n$0i[$f&jO!Q&c!Q![$1_![!^&c!_!c&c!c!i$1_!i#T&c#T#Z$1_#Z#o&c#o#p$3u#p;'S&c;'S;=`&w<%lO&c(n$1dZ$f&jO!Q&c!Q![$2V![!^&c!_!c&c!c!i$2V!i#T&c#T#Z$2V#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2[Z$f&jO!Q&c!Q![$2}![!^&c!_!c&c!c!i$2}!i#T&c#T#Z$2}#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3SZ$f&jO!Q&c!Q![$/w![!^&c!_!c&c!c!i$/w!i#T&c#T#Z$/w#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$3xR!Q![$4R!c!i$4R#T#Z$4R#S$4US!Q![$4R!c!i$4R#T#Z$4R#q#r$0_(n$4eP;=`<%l$/w!2r$4s_!V!+S$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$5}`#v$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$7[_$f&j(Op(R!b(X&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$8jk$f&j(Op(R!b'{&;d$[#t([!LYOY%ZYZ&cZr%Zrs&}st%Ztu$8Zuw%Zwx(rx}%Z}!O$:_!O!Q%Z!Q![$8Z![!^%Z!^!_*g!_!c%Z!c!}$8Z!}#O%Z#O#P&c#P#R%Z#R#S$8Z#S#T%Z#T#o$8Z#o#p*g#p$g%Z$g;'S$8Z;'S;=`$<e<%lO$8Z+d$:jk$f&j(Op(R!b$[#tOY%ZYZ&cZr%Zrs&}st%Ztu$:_uw%Zwx(rx}%Z}!O$:_!O!Q%Z!Q![$:_![!^%Z!^!_*g!_!c%Z!c!}$:_!}#O%Z#O#P&c#P#R%Z#R#S$:_#S#T%Z#T#o$:_#o#p*g#p$g%Z$g;'S$:_;'S;=`$<_<%lO$:_+d$<bP;=`<%l$:_(CS$<hP;=`<%l$8Z!5p$<tX![!3l(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g&CO$=la(o&;`$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+^#q;'S%Z;'S;=`+a<%lO%Z%#`$?O_!Z$I`r`$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$@Y_!pS$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$Aj|$f&j(Op(R!b't(;d$Y#t'{&;d([!LYOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$AX#BZ$ISEr$IS$I_$AX$I_$JTEr$JT$JU$AX$JU$KVEr$KV$KW$AX$KW&FUEr&FU&FV$AX&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AX?HUOEr(CS$Duk$f&j(Op(R!b'u(;d$Y#t'{&;d([!LYOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[Ayt,Iyt,Ryt,2,3,4,5,6,7,8,9,10,11,12,13,Pyt,new jO("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOt~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(Z~~",141,332),new jO("j~RQYZXz{^~^O'x~~aP!P!Qd~iO'y~~",25,315)],topRules:{Script:[0,6],SingleExpression:[1,269],SingleClassItem:[2,270]},dialects:{jsx:0,ts:14602},dynamicPrecedences:{69:1,79:1,81:1,165:1,193:1},specialized:[{term:319,get:c=>Nyt[c]||-1},{term:334,get:c=>Fyt[c]||-1},{term:70,get:c=>Byt[c]||-1}],tokenPrec:14626}),fCe=[wr("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),wr("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),wr("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),wr("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),wr("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),wr("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),wr("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),wr("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),wr("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),wr('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),wr('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],$yt=fCe.concat([wr("interface ${name} {\n\t${}\n}",{label:"interface",detail:"definition",type:"keyword"}),wr("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),wr("enum ${name} {\n\t${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),pCe=new UH,gCe=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function zT(c){return(l,a)=>{let h=l.node.getChild("VariableDefinition");return h&&a(h,c),!0}}const zyt=["FunctionDeclaration"],Uyt={FunctionDeclaration:zT("function"),ClassDeclaration:zT("class"),ClassExpression:()=>!0,EnumDeclaration:zT("constant"),TypeAliasDeclaration:zT("type"),NamespaceDeclaration:zT("namespace"),VariableDefinition(c,l){c.matchContext(zyt)||l(c,"variable")},TypeDefinition(c,l){l(c,"type")},__proto__:null};function mCe(c,l){let a=pCe.get(l);if(a)return a;let h=[],d=!0;function f(p,g){let m=c.sliceString(p.from,p.to);h.push({label:m,type:g})}return l.cursor(ks.IncludeAnonymous).iterate(p=>{if(d)d=!1;else if(p.name){let g=Uyt[p.name];if(g&&g(p,f)||gCe.has(p.name))return!1}else if(p.to-p.from>8192){for(let g of mCe(c,p.node))h.push(g);return!1}}),pCe.set(l,h),h}const s5=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,WW=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function Qyt(c){let l=Js(c.state).resolveInner(c.pos,-1);if(WW.indexOf(l.name)>-1)return null;let a="VariableName"==l.name||l.to-l.from<20&&s5.test(c.state.sliceDoc(l.from,l.to));if(!a&&!c.explicit)return null;let h=[];for(let d=l;d;d=d.parent)gCe.has(d.name)&&(h=h.concat(mCe(c.state.doc,d)));return{options:h,from:a?l.from:c.pos,validFor:s5}}const Wm=MO.define({name:"javascript",parser:Vyt.configure({props:[wI.add({IfStatement:IO({except:/^\s*({|else\b)/}),TryStatement:IO({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:qye,SwitchBody:c=>{let l=c.textAfter,a=/^\s*\}/.test(l),h=/^\s*(case|default)\b/.test(l);return c.baseIndent+(a?0:h?1:2)*c.unit},Block:Xye({closing:"}"}),ArrowFunction:c=>c.baseIndent+c.unit,"TemplateString BlockComment":()=>null,"Statement Property":IO({except:/^{/}),JSXElement(c){let l=/^\s*<\//.test(c.textAfter);return c.lineIndent(c.node.from)+(l?0:c.unit)},JSXEscape(c){let l=/\s*\}/.test(c.textAfter);return c.lineIndent(c.node.from)+(l?0:c.unit)},"JSXOpenTag JSXSelfClosingTag":c=>c.column(c.node.from)+c.unit}),xI.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Kye,BlockComment:c=>({from:c.from+2,to:c.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),vCe={test:c=>/^JSX/.test(c.name),facet:jH({commentTokens:{block:{open:"{/*",close:"*/}"}}})},Zyt=Wm.configure({dialect:"ts"},"typescript"),jyt=Wm.configure({dialect:"jsx",props:[GH.add(c=>c.isTop?[vCe]:void 0)]}),Gyt=Wm.configure({dialect:"jsx ts",props:[GH.add(c=>c.isTop?[vCe]:void 0)]},"typescript");let _Ce=c=>({label:c,type:"keyword"});const yCe="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(_Ce),Xyt=yCe.concat(["declare","implements","private","protected","public"].map(_Ce));function bCe(c,l,a=c.length){for(let h=l?.firstChild;h;h=h.nextSibling)if("JSXIdentifier"==h.name||"JSXBuiltin"==h.name||"JSXNamespacedName"==h.name||"JSXMemberExpression"==h.name)return c.sliceString(h.from,Math.min(h.to,a));return""}const Kyt="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Jyt=yi.inputHandler.of((c,l,a,h,d)=>{if((Kyt?c.composing:c.compositionStarted)||c.state.readOnly||l!=a||">"!=h&&"/"!=h||!Wm.isActiveAt(c.state,l,-1))return!1;let f=d(),{state:p}=f,g=p.changeByRange(m=>{var v;let b,{head:_}=m,y=Js(p).resolveInner(_-1,-1);if("JSXStartTag"==y.name&&(y=y.parent),!(p.doc.sliceString(_-1,_)!=h||"JSXAttributeValue"==y.name&&y.to>_)){if(">"==h&&"JSXFragmentTag"==y.name)return{range:m,changes:{from:_,insert:"</>"}};if("/"==h&&"JSXStartCloseTag"==y.name){let O=y.parent,C=O.parent;if(C&&O.from==_-2&&((b=bCe(p.doc,C.firstChild,_))||"JSXFragmentTag"==(null===(v=C.firstChild)||void 0===v?void 0:v.name))){let S=`${b}>`;return{range:Rt.cursor(_+S.length,-1),changes:{from:_,insert:S}}}}else if(">"==h){let O=function qyt(c){for(;;){if("JSXOpenTag"==c.name||"JSXSelfClosingTag"==c.name||"JSXFragmentTag"==c.name)return c;if("JSXEscape"==c.name||!c.parent)return null;c=c.parent}}(y);if(O&&!/^\/?>|^<\//.test(p.doc.sliceString(_,_+2))&&(b=bCe(p.doc,O,_)))return{range:m,changes:{from:_,insert:`</${b}>`}}}}return{range:m}});return!g.changes.empty&&(c.dispatch([f,p.update(g,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),obt=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],hbt=new cCe({start:!1,shift:(c,l)=>3==l||4==l||322==l?c:323==l,strict:!1}),dbt=new Hm((c,l)=>{let{next:a}=c;(125==a||-1==a||l.context)&&l.canShift(320)&&c.acceptToken(320)},{contextual:!0,fallback:!0}),fbt=new Hm((c,l)=>{let h,{next:a}=c;obt.indexOf(a)>-1||47==a&&(47==(h=c.peek(1))||42==h)||125!=a&&59!=a&&-1!=a&&!l.context&&l.canShift(319)&&c.acceptToken(319)},{contextual:!0}),pbt=new Hm((c,l)=>{let{next:a}=c;if((43==a||45==a)&&(c.advance(),a==c.next)){c.advance();let h=!l.context&&l.canShift(1);c.acceptToken(h?1:2)}},{contextual:!0}),gbt=vI({"get set async static":le.modifier,"for while do if else switch try catch finally return throw break continue default case \u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0435\u0441\u043b\u0438 \u0438\u043d\u0430\u0447\u0435":le.controlKeyword,"in of await yield void typeof delete instanceof":le.operatorKeyword,"let var const function class extends":le.definitionKeyword,"import export from":le.moduleKeyword,"with debugger as new":le.keyword,TemplateString:le.special(le.string),super:le.atom,BooleanLiteral:le.bool,this:le.self,null:le.null,Star:le.modifier,VariableName:le.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":le.function(le.variableName),VariableDefinition:le.definition(le.variableName),Label:le.labelName,PropertyName:le.propertyName,PrivatePropertyName:le.special(le.propertyName),"CallExpression/MemberExpression/PropertyName":le.function(le.propertyName),"FunctionDeclaration/VariableDefinition":le.function(le.definition(le.variableName)),"ClassDeclaration/VariableDefinition":le.definition(le.className),PropertyDefinition:le.definition(le.propertyName),PrivatePropertyDefinition:le.definition(le.special(le.propertyName)),UpdateOp:le.updateOperator,LineComment:le.lineComment,BlockComment:le.blockComment,Number:le.number,String:le.string,Escape:le.escape,ArithOp:le.arithmeticOperator,LogicOp:le.logicOperator,BitOp:le.bitwiseOperator,CompareOp:le.compareOperator,RegExp:le.regexp,Equals:le.definitionOperator,Arrow:le.function(le.punctuation),": Spread":le.punctuation,"( )":le.paren,"[ ]":le.squareBracket,"{ }":le.brace,"InterpolationStart InterpolationEnd":le.special(le.brace),".":le.derefOperator,", ;":le.separator,"@":le.meta,TypeName:le.typeName,TypeDefinition:le.definition(le.typeName),"type enum interface implements namespace module declare":le.definitionKeyword,"abstract global Privacy readonly override":le.modifier,"is keyof unique infer":le.operatorKeyword,JSXAttributeValue:le.attributeValue,JSXText:le.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":le.angleBracket,"JSXIdentifier JSXNameSpacedName":le.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":le.attributeName,"JSXBuiltin/JSXIdentifier":le.standard(le.tagName)}),mbt={__proto__:null,export:14,as:19,from:27,default:30,async:35,function:36,extends:46,this:50,true:58,false:58,null:70,void:74,typeof:78,\u043d\u0443\u043b\u044c:96,\u044d\u0442\u043e:98,super:100,constructor:102,\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440:104,new:138,delete:154,yield:163,await:167,class:172,\u043a\u043b\u0430\u0441\u0441:174,public:229,private:229,protected:229,readonly:231,instanceof:250,satisfies:253,in:254,const:256,import:288,keyof:343,unique:347,infer:353,is:389,abstract:409,implements:411,type:413,let:416,var:418,interface:425,enum:429,namespace:435,module:437,declare:441,global:445,for:466,\u0446\u0438\u043a\u043b:468,of:477,while:480,\u043f\u043e\u043a\u0430:482,with:486,do:490,\u0434\u0435\u043b\u0430\u0442\u044c:492,if:496,\u0435\u0441\u043b\u0438:498,else:500,\u0438\u043d\u0430\u0447\u0435:502,switch:506,case:512,try:518,\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c:520,catch:524,\u043b\u043e\u0432\u0438\u0442\u044c:526,\u043f\u043e\u0439\u043c\u0430\u0442\u044c:528,finally:532,\u0432\u0441\u0435\u0433\u0434\u0430:534,return:538,\u0432\u0435\u0440\u043d\u0443\u0442\u044c:540,throw:544,\u0431\u0440\u043e\u0441\u0438\u0442\u044c:546,break:550,\u043f\u0440\u0435\u0440\u0432\u0430\u0442\u044c:552,continue:556,\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c:558,debugger:562},vbt={__proto__:null,async:125,get:127,set:129,public:191,private:191,protected:191,static:193,abstract:195,override:197,readonly:203,accessor:205,new:393},_bt={__proto__:null,"<":145},ybt=GO.deserialize({version:14,states:"$BhO`QUOOO%|QUOOO(`QWOOP)jOSOOO+xQ(CjO'#CfO,POpO'#CgO,_O!bO'#CgO,mO07`O'#DZO/_QUO'#DeO/oQUO'#DpO%|QUO'#DzO2VQUO'#ESOOQ(CY'#E]'#E]O2mQSO'#EYOOQO'#Iq'#IqO2uQSO'#GoOOQO'#Em'#EmO3QQSO'#ElO3VQSO'#ElO5XQ(CjO'#JtO7xQ(CjO'#JuO8fQSO'#F[O8kQ#tO'#FsOOQ(CY'#Fd'#FdO8vO&jO'#FdO9UQ,UO'#FzO:lQSO'#FyOOQ(CY'#Ju'#JuOOQ(CW'#Jt'#JtOOQQ'#K`'#K`O:qQSO'#IbO:vQ(C[O'#IcOOQQ'#Jb'#JbOOQQ'#Ig'#IgQ`QUOOO%|QUO'#DrO;OQUO'#EOO%|QUO'#EQO;VQSO'#GoO;[QSO'#ETO;gQ,UO'#ClO;uQSO'#EkO<QQSO'#EvO<VQ,UO'#FcO<tQSO'#GoO<yQSO'#GsO=UQSO'#GsO=dQSO'#GvO=dQSO'#GwO=dQSO'#GyO;VQSO'#G|O>TQSO'#HPO?fQSO'#CbO?vQSO'#H^O@OQSO'#HeO@OQSO'#HhO`QUO'#HjO@OQSO'#HmO@OQSO'#HrO@TQSO'#HxO@YQ(C]O'#ISO%|QUO'#IVO@eQ(C]O'#IYO@pQ(C]O'#I]O:vQ(C[O'#I`O@{Q(CjO'#CfOA}QWO'#DjQOQSOOO;gQ,UO'#EkOBeQSO'#EkOBpQ`O'#FcOOQQ'#Cd'#CdOOQ(CW'#Do'#DoOOQ(CW'#Jx'#JxO%|QUO'#JxOCyQWO'#EdOOQ(CW'#Ec'#EcODTQ(C`O'#EdODoQWO'#EXOOQO'#J{'#J{OETQWO'#EXOEbQWO'#EdOExQWO'#EjOE{QWO'#EdOBxQWO'#EdODoQWO'#EdPFfO?MpO'#C`POOO)CEP)CEPOOOO'#Ih'#IhOFqOpO,59ROOQ(CY,59R,59ROOOO'#Ii'#IiOGPO!bO,59RO%|QUO'#D]OOOO'#Ik'#IkOG_O07`O,59uOOQ(CY,59u,59uOGmQUO'#IlOHQQSO'#JvOJSQbO'#JvO,{QUO'#JvOJZQSO,5:POJqQSO'#EmOKOQSO'#KTOKZQSO'#KSOKZQSO'#KSOKcQSO,5;ZOKhQSO'#KROOQ(CY,5:[,5:[OKoQUO,5:[OMpQ(CjO,5:fONaQSO,5:nONfQSO'#KPO! `Q(C[O'#KQO<yQSO'#KPO! gQSO'#KPO! oQSO,5;YO! tQSO'#KPOOQ(CY'#Cf'#CfO%|QUO'#ESO!!hQ`O,5:tOOQO'#J|'#J|OOQO-E<o-E<oO;VQSO,5=ZO!#OQSO,5=ZO!#TQUO,5;WO!%gQ,UO'#EhO!&zQSO,5;WO!(dQ,UO'#DtO!(kQUO'#DyO!(uQWO,5;aO!(}QWO,5;aO%|QUO,5;aOOQQ'#FS'#FSOOQQ'#FU'#FUO%|QUO,5;bO%|QUO,5;bO%|QUO,5;bO%|QUO,5;bO%|QUO,5;bO%|QUO,5;bO%|QUO,5;bO%|QUO,5;bO%|QUO,5;bO%|QUO,5;bO%|QUO,5;bOOQQ'#FY'#FYO!)]QUO,5;sOOQ(CY,5;x,5;xOOQ(CY,5;y,5;yO!+oQSO,5;yOOQ(CY,5;z,5;zO%|QUO'#IwO!+wQ(C[O,5<gO!%gQ,UO,5;bO!,fQ,UO,5;bO%|QUO,5;vO!,mQ#tO'#FiO!-jQ#tO'#KXO!-UQ#tO'#KXO!-qQ#tO'#KXOOQO'#KX'#KXO!.VQ#tO,5<ROOOO,5<_,5<_O!.hQUO'#FuOOOO'#Iv'#IvO8vO&jO,5<OO!.oQ#tO'#FwOOQ(CY,5<O,5<OO!/`Q7[O'#CrOOQ(CY'#Cv'#CvO!/sQSO'#CvO!/xO07`O'#CzO!0fQ,UO,5<dO!0mQSO,5<fO!2SQMhO'#GUO!2aQSO'#GVO!2fQSO'#GVO!2kQMhO'#GZO!3jQWO'#G_O!4]Q7[O'#JoOOQ(CY'#Jo'#JoO!4gQSO'#JnO!4uQSO'#JmO!4}QSO'#CqOOQ(CY'#Ct'#CtOOQ(CY'#DO'#DOOOQ(CY'#DQ'#DQO2pQSO'#DSO!'PQ,UO'#F|O!'PQ,UO'#GOO!5VQSO'#GQO!5[QSO'#GRO!2fQSO'#GXO!'PQ,UO'#G^O!5aQSO'#EnO!5{QSO,5<eO`QUO,5>|OOQQ'#Jj'#JjOOQQ,5>},5>}OOQQ-E<e-E<eO!7zQ(CjO,5:^O!:hQ(CjO,5:jO%|QUO,5:jO!=RQ(CjO,5:lOOQ(CW'#Co'#CoO!=rQ,UO,5=ZO!>QQWO'#EWOOQ(CY,5:o,5:oO%|QUO,5:oO!>XQSO,5:oO!>aQ(C[O'#JkO:lQSO'#JkO@TQSO,59WO!>rQWO,59WO!>zQ,UO,59WO;gQ,UO,59WO!?VQSO,5;WO!?_QSO'#H]O!?pQSO'#KdO%|QUO,5;{O!?xQWO,5;}O!?}QSO,5=vO!@SQSO,5=vO!@XQSO,5=vO:vQ(C[O,5=vO!@gQSO'#EoO!AaQWO'#EpOOQ(CW'#KR'#KRO!AhQ(C[O'#KaO:vQ(C[O,5=_O=dQSO,5=eOOQO'#Cr'#CrO!AsQWO,5=bO!A{Q,UO,5=cO!BWQSO,5=eO!B]Q`O,5=hO@TQSO'#HRO;VQSO'#HTO!BeQSO'#HTO;gQ,UO'#HWO!BjQSO'#HWOOQQ,5=k,5=kO!BoQSO'#HXO!BwQSO'#ClO!B|QSO,58|O!CWQSO,58|O!EoQUO,58|OOQQ,58|,58|O!E|Q(C[O,58|O%|QUO,58|O!FXQUO'#HaOOQQ'#Hb'#HbOOQQ'#Hc'#HcO`QUO,5=xO!FiQSO,5=xO`QUO,5>PO`QUO,5>SO!FnQSO,5>UO`QUO,5>XO!FsQSO,5>^O!FxQUO,5>dOOQQ,5>n,5>nO%|QUO,5>nO:vQ(C[O,5>qOOQQ,5>t,5>tO!LXQSO,5>tOOQQ,5>w,5>wO!LXQSO,5>wOOQQ,5>z,5>zO!L^QWO'#DXO%|QUO'#JxO!L{QWO'#JxO!MjQWO'#DkO!M{QWO'#DkO#!mQUO'#DkO#!tQSO'#JwO#!|QSO,5:UO##RQSO'#EqO##aQSO'#KUO##iQSO,5;[O##nQWO'#DkO@TQSO,5;VO!>rQWO,5;VO!>zQ,UO,5;VO;gQ,UO,5;VO##{QSO,5@dO#$QQ!LQO,5:tO#%TQ(C`O,5;OODoQWO,5:sO#%oQWO,5:sO#%|QWO,5;OO#&dQWO,5;OO#&}QWO,5;OODoQWO,5;OO@TQSO,5:sOOQ(CW'#Eg'#EgOOQO,5;O,5;OO%|QUO,5;OO#'nQ(C[O,5;OO#'yQ(C[O,5;OO!>rQWO,5:sOOQO,5;U,5;UO#(XQ(C[O,5;OPOOO'#If'#IfP#(mO?MpO,58zPOOO,58z,58zOOOO-E<f-E<fOOQ(CY1G.m1G.mOOOO-E<g-E<gO#(xQ`O,59wOOOO-E<i-E<iOOQ(CY1G/a1G/aO#(}QbO,5?WO,{QUO,5?WOOQO,5?^,5?^O#)XQUO'#IlOOQO-E<j-E<jO#)fQSO,5@bO#)nQbO,5@bO#)uQSO,5@nOOQ(CY1G/k1G/kO%|QUO,5@oO#)}QSO'#IrOOQO-E<p-E<pO#)uQSO,5@nOOQ(CW1G0u1G0uOOQ(CY1G/v1G/vOOQ(CY1G0Y1G0YO#*cQSO,5@kO<yQSO,5@kO#*kQSO,5@kO%|QUO,5@lO#*yQ(C[O,5@lO#+[Q(C[O,5@lO#+cQSO'#ItO#*cQSO,5@kOOQ(CW1G0t1G0tO!(uQWO,5:vO!)QQWO,5:vOOQO,5:x,5:xO#,QQSO,5:xO#,YQ,UO1G2uO;VQSO1G2uOOQ(CY1G0r1G0rO#,hQ(CjO1G0rO#-mQ(ChO,5;SOOQ(CY'#GT'#GTO#.ZQ(CjO'#JoO!#TQUO1G0rO#0cQ,UO'#JyO#0mQSO,5:`O#0rQbO'#JzO%|QUO'#JzO#0|QSO,5:eOOQ(CY'#DX'#DXOOQ(CY1G0{1G0{O%|QUO1G0{OOQ(CY1G1e1G1eO#1RQSO1G0{O#3jQ(CjO1G0|O#3qQ(CjO1G0|O#6[Q(CjO1G0|O#6cQ(CjO1G0|O#8mQ(CjO1G0|O#9TQ(CjO1G0|O#;}Q(CjO1G0|O#<UQ(CjO1G0|O#>oQ(CjO1G0|O#>vQ(CjO1G0|O#@nQ(CjO1G0|O#CnQ$IUO'#CfO#ElQ$IUO1G1_O#GjQ$IUO'#JuO!+rQSO1G1eO#G}Q(CjO,5?cOOQ(CW-E<u-E<uO#HqQ(CjO1G0|OOQ(CY1G0|1G0|O#J|Q(CjO1G1bO#KpQ#tO,5<VO#KxQ#tO,5<WO#LQQ#tO'#FnO#LiQSO'#FmOOQO'#KY'#KYOOQO'#Iu'#IuO#LnQ#tO1G1mOOQ(CY1G1m1G1mOOOO1G1x1G1xO#MPQ$IUO'#JtO#MZQSO,5<aO!)]QUO,5<aOOOO-E<t-E<tOOQ(CY1G1j1G1jO#M`QWO'#KXOOQ(CY,5<c,5<cO#MhQWO,5<cOOQ(CY,59b,59bO!%gQ,UO'#C|OOOO'#Ij'#IjO#MmO07`O,59fOOQ(CY,59f,59fO%|QUO1G2OO!5[QSO'#IyO#MxQSO,5<wOOQ(CY,5<t,5<tOOQO'#Gj'#GjO!'PQ,UO,5=TOOQO'#Gl'#GlO!'PQ,UO,5=VO!%gQ,UO,5=XOOQO1G2Q1G2QO#NWQ`O'#CoO#NkQ`O,5<pO#NrQSO'#K]O;VQSO'#K]O$ QQSO,5<rO!'PQ,UO,5<qO$ VQSO'#GWO$ bQSO,5<qO$ gQ`O'#GTO$ tQ`O'#K^O$!OQSO'#K^O!%gQ,UO'#K^O$!TQSO,5<uO$!YQWO'#G`O!3eQWO'#G`O$!kQSO'#GbO$!pQSO'#GdO!2fQSO'#GgO$!uQ(C[O'#I{O$#QQWO,5<yOOQ(CY,5<y,5<yO$#XQWO'#G`O$#gQWO'#GaO$#oQWO'#GaOOQ(CY,5=Y,5=YO!'PQ,UO,5@YO!'PQ,UO,5@YO$#tQSO'#I|O$$PQSO,5@XO$$XQSO,59]O$$xQ,UO,59nOOQ(CY,59n,59nO$%kQ,UO,5<hO$&^Q,UO,5<jOAuQSO,5<lOOQ(CY,5<m,5<mO$&hQSO,5<sO$&mQ,UO,5<xO!#TQUO1G2PO$&}QSO1G2POOQQ1G4h1G4hOOQ(CY1G/x1G/xO!+oQSO1G/xO$(|Q(CjO1G0UOOQQ1G2u1G2uO!%gQ,UO1G2uO%|QUO1G2uO$)mQSO1G2uOOQO'#Ip'#IpO$)xQWO,5:rOOQ(CY,5:r,5:rO!>[QSO1G0ZOOQ(CY1G0Z1G0ZO%|QUO1G0ZO$*PQ,UO'#EhOOQ(CW,5@V,5@VO$*ZQ(C[O,5@VOOQQ1G.r1G.rO@TQSO1G.rO!>rQWO1G.rO!>zQ,UO1G.rO$*lQSO1G0rO$*qQSO'#CfO$*|QSO'#KeO$+UQSO,5=wO$+ZQSO'#KeO$+`QSO'#KeO$+kQSO'#JUO$+yQSO,5AOO$,RQbO1G1gOOQ(CY1G1i1G1iO;VQSO1G3bOAuQSO1G3bO$,YQSO1G3bO$,_QSO1G3bOOQQ1G3b1G3bO<yQSO'#KSO<yQSO'#EqO%|QUO'#EqO<yQSO'#JOO$,dQ(C[O,5@{OOQQ1G2y1G2yO!BWQSO1G3PO!%gQ,UO1G2|O$,oQSO1G2|OOQQ1G2}1G2}O!%gQ,UO1G2}O$,tQSO1G2}O$,|QWO'#G{OOQQ1G3P1G3PO!3eQWO'#JQO!B]Q`O1G3SOOQQ1G3S1G3SOOQQ,5=m,5=mO$-UQ,UO,5=oO;VQSO,5=oO$!pQSO,5=rO:lQSO,5=rO!>rQWO,5=rO!>zQ,UO,5=rO;gQ,UO,5=rO$-dQSO'#KcO$-oQSO,5=sOOQQ1G.h1G.hO$-tQ(C[O1G.hOAuQSO1G.hO$.PQSO1G.hO:vQ(C[O1G.hO$.[QbO,5AQO$.oQSO,5AQO$.zQUO,5={O$/RQSO,5={O<yQSO,5AQOOQQ1G3d1G3dO`QUO1G3dOOQQ1G3k1G3kOOQQ1G3n1G3nO@OQSO1G3pO$/WQUO1G3sO$4WQUO'#HtOOQQ1G3x1G3xO$4eQSO'#H{O@TQSO'#IPOOQQ1G4O1G4OO$4mQUO1G4OO:vQ(C[O1G4YOOQQ1G4]1G4]OOQ(CW'#G['#G[O:vQ(C[O1G4`O:vQ(C[O1G4cO$9sQSO,5@dO!)]QUO,5;]O<yQSO,5;]O@TQSO,5:VO!)]QUO,5:VO!>rQWO,5:VO$9xQ$IUO,5:VOOQO,5;],5;]O$:SQWO'#ImO$:jQSO,5@cOOQ(CY1G/p1G/pO$:rQWO'#IsO$:|QSO,5@pOOQ(CW1G0v1G0vO!M{QWO,5:VOOQ(CY1G0q1G0qO@TQSO1G0qO!>rQWO1G0qO!>zQ,UO1G0qOOQ(CW1G6O1G6OO@TQSO1G0_OOQO1G0j1G0jO%|QUO1G0jO$;UQ(C[O1G0jO$;aQ(C[O1G0jO!>rQWO1G0_ODoQWO1G0_O$;oQ(C`O1G0jO$<ZQWO1G0_ODoQWO1G0jO$<hQWO1G0jO$=OQWO1G0jO$=iQ(C[O1G0jOOQO1G0_1G0_O$=}Q(CjO1G0jPOOO-E<d-E<dPOOO1G.f1G.fOOOO1G/c1G/cO$>XQ`O,5<gO$>aQbO1G4rOOQO1G4x1G4xO%|QUO,5?WO$>kQSO1G5|O$>sQSO1G6YO$>{QbO1G6ZO<yQSO,5?^O$?VQSO1G6VO$?VQSO1G6VO<yQSO1G6VO$?_Q(CjO1G6WO%|QUO1G6WO$?oQ(C[O1G6WO$@QQSO,5?`O<yQSO,5?`OOQO,5?`,5?`O$@fQSO,5?`OOQO-E<r-E<rOOQO1G0b1G0bOOQO1G0d1G0dO!+rQSO1G0dOOQQ7+(a7+(aO!%gQ,UO7+(aO%|QUO7+(aO$@tQSO7+(aO$APQ,UO7+(aO$A_Q(CjO,59nO$CgQ(CjO,5<hO$ErQ(CjO,5<jO$G}Q(CjO,5<xOOQ(CY7+&^7+&^O$J`Q(CjO7+&^O$KSQ,UO'#InO$K^QSO,5@eOOQ(CY1G/z1G/zO$KfQUO'#IoO$KsQSO,5@fO$K{QbO,5@fOOQ(CY1G0P1G0PO$LVQSO7+&gOOQ(CY7+&g7+&gO$L[Q$IUO,5:fO%|QUO7+&yO$LfQ$IUO,5:^O$LsQ$IUO,5:jO$L}Q$IUO,5:lOOQ(CY7+'P7+'POOQO1G1q1G1qOOQO1G1r1G1rO$MXQ#tO,5<YO!)]QUO,5<XOOQO-E<s-E<sOOQ(CY7+'X7+'XOOOO7+'d7+'dOOOO1G1{1G1{O$MdQSO1G1{OOQ(CY1G1}1G1}O$MiQ`O,59hOOOO-E<h-E<hOOQ(CY1G/Q1G/QO$MpQ(CjO7+'jOOQ(CY,5?e,5?eO$NdQSO,5?eOOQ(CY1G2c1G2cP$NiQSO'#IyPOQ(CY-E<w-E<wO% ]Q,UO1G2oO%!OQ,UO1G2qO%!YQ`O1G2sOOQ(CY1G2[1G2[O%!aQSO'#IxO%!oQSO,5@wO%!oQSO,5@wO%!wQSO,5@wO%#SQSO,5@wOOQO1G2^1G2^O%#bQ,UO1G2]O!'PQ,UO1G2]O%#rQMhO'#IzO%$SQSO,5@xO!%gQ,UO,5@xO%$[Q`O,5@xOOQ(CY1G2a1G2aOOQ(CW,5<z,5<zOOQ(CW,5<{,5<{O%$fQSO,5<{ODjQSO,5<{O!>rQWO,5<zOOQO'#Gc'#GcO%$kQSO,5<|OOQ(CW,5=O,5=OO%$fQSO,5=ROOQO,5?g,5?gOOQO-E<y-E<yOOQ(CY1G2e1G2eO!3eQWO,5<zO%$sQSO,5<{O$!kQSO,5<|O!3eQWO,5<{O%%OQ,UO1G5tO%%YQ,UO1G5tOOQO,5?h,5?hOOQO-E<z-E<zOOQO1G.w1G.wO!?xQWO,59pO%|QUO,59pO%%gQSO1G2WO!'PQ,UO1G2_O%%lQ(CjO7+'kOOQ(CY7+'k7+'kO!#TQUO7+'kOOQ(CY7+%d7+%dO%&`Q`O'#K_O!>[QSO7+(aO%&jQbO7+(aO$@wQSO7+(aOOQO-E<n-E<nOOQ(CY1G0^1G0^OOQ(CY7+%u7+%uO!>[QSO7+%uO%&qQ(ChO'#CfO%'UQ(ChO,5=PO%'vQSO,5=POOQ(CW1G5q1G5qOOQQ7+$^7+$^O@TQSO7+$^O!>rQWO7+$^O!#TQUO7+&^O%'{QSO'#JTO%(aQSO,5APOOQO1G3c1G3cO;VQSO,5APO%(aQSO,5APO%(iQSO,5APOOQO,5?p,5?pOOQO-E=S-E=SOOQ(CY7+'R7+'RO%(nQSO7+(|O:vQ(C[O7+(|O;VQSO7+(|OAuQSO7+(|O%(sQSO,5;]OOQ(CW,5?j,5?jOOQ(CW-E<|-E<|OOQQ7+(k7+(kO%(xQ(ChO7+(hO!%gQ,UO7+(hO%)SQ`O7+(iOOQQ7+(i7+(iO!%gQ,UO7+(iO%)ZQSO'#KbO%)fQSO,5=gOOQO,5?l,5?lOOQO-E=O-E=OOOQQ7+(n7+(nO%*rQWO'#HUOOQQ1G3Z1G3ZO!%gQ,UO1G3ZO%|QUO1G3ZO%*yQSO1G3ZO%+UQ,UO1G3ZO:vQ(C[O1G3^O$!pQSO1G3^O:lQSO1G3^O!>rQWO1G3^O!>zQ,UO1G3^O%+dQSO'#JSO%+oQSO,5@}O%+wQWO,5@}OOQ(CW1G3_1G3_OOQQ7+$S7+$SOAuQSO7+$SO:vQ(C[O7+$SO%,SQSO7+$SO%|QUO1G6lO%|QUO1G6mO%,XQUO1G3gO%,`QSO1G3gO%,eQUO1G3gO%,lQ(C[O1G6lOOQQ7+)O7+)OO:vQ(C[O7+)[O`QUO7+)_OOQQ'#Kh'#KhOOQQ'#JV'#JVO%,vQUO,5>`OOQQ,5>`,5>`O%|QUO'#HuO%-TQSO'#HwOOQQ,5>g,5>gO<yQSO,5>gOOQQ,5>k,5>kOOQQ7+)j7+)jOOQQ7+)t7+)tOOQQ7+)z7+)zOOQQ7+)}7+)}O%-YQWO1G6OO%-nQ$IUO1G0wO%-xQSO1G0wOOQO1G/q1G/qO%.TQ$IUO1G/qO@TQSO1G/qO!)]QUO'#DkOOQO,5?X,5?XOOQO-E<k-E<kOOQO,5?_,5?_OOQO-E<q-E<qO!>rQWO1G/qOOQ(CY7+&]7+&]O@TQSO7+&]O!>rQWO7+&]OOQO7+%y7+%yO$=}Q(CjO7+&UOOQO7+&U7+&UO%|QUO7+&UO%._Q(C[O7+&UO@TQSO7+%yO!>rQWO7+%yO%.jQ(C[O7+&UODoQWO7+%yO%.xQ(C[O7+&UO%/^Q(C`O7+&UO%/hQWO7+%yODoQWO7+&UO%/uQWO7+&UO%0]QSO7++qO%0]QSO7++qO%0eQ(CjO7++rO%|QUO7++rOOQO1G4z1G4zO<yQSO1G4zO%0uQSO1G4zOOQO7+&O7+&OO!>[QSO<<K{O%&jQbO<<K{O%1TQSO<<K{OOQQ<<K{<<K{O!%gQ,UO<<K{O%|QUO<<K{O%1]QSO<<K{O%1hQ(CjO1G2oO%3sQ(CjO1G2qO%6OQ(CjO1G2]O%8aQ,UO,5?YOOQO-E<l-E<lO%8kQbO,5?ZO%|QUO,5?ZOOQO-E<m-E<mO%8uQSO1G6QOOQ(CY<<JR<<JRO%8}Q$IUO1G0rO%;XQ$IUO1G0|O%;`Q$IUO1G0|O%=dQ$IUO1G0|O%=kQ$IUO1G0|O%?`Q$IUO1G0|O%?vQ$IUO1G0|O%BZQ$IUO1G0|O%BbQ$IUO1G0|O%DfQ$IUO1G0|O%DmQ$IUO1G0|O%FeQ$IUO1G0|O%FxQ(CjO<<JeO%G}Q$IUO1G0|O%IsQ$IUO'#JoO%KvQ$IUO1G1bO%LTQ$IUO1G0UO!)]QUO'#FpOOQO'#KZ'#KZOOQO1G1t1G1tO%L_QSO1G1sO%LdQ$IUO,5?cOOOO7+'g7+'gOOOO1G/S1G/SOOQ(CY1G5P1G5PO!'PQ,UO7+(_O%LnQSO,5?dO;VQSO,5?dOOQO-E<v-E<vO%L|QSO1G6cO%L|QSO1G6cO%MUQSO1G6cO%MaQ,UO7+'wO%MqQ`O,5?fO%M{QSO,5?fO!%gQ,UO,5?fOOQO-E<x-E<xO%NQQ`O1G6dO%N[QSO1G6dOOQ(CW1G2g1G2gO%$fQSO1G2gOOQ(CW1G2f1G2fO%NdQSO1G2hO!%gQ,UO1G2hOOQ(CW1G2m1G2mO!>rQWO1G2fODjQSO1G2gO%NiQSO1G2hO%NqQSO1G2gO!'PQ,UO7++`OOQ(CY1G/[1G/[O%N|QSO1G/[OOQ(CY7+'r7+'rO& RQ,UO7+'yO& cQ(CjO<<KVOOQ(CY<<KV<<KVO!%gQ,UO'#I}O&!VQSO,5@yOOQ(CY<<Ia<<IaO!%gQ,UO1G2kOOQQ<<Gx<<GxO@TQSO<<GxO&!_Q(CjO<<IxOOQ(CY<<Ix<<IxOOQO,5?o,5?oO&#RQSO,5?oO$+`QSO,5?oOOQO-E=R-E=RO&#WQSO1G6kO&#WQSO1G6kO;VQSO1G6kOAuQSO<<LhOOQQ<<Lh<<LhO&#`QSO<<LhO:vQ(C[O<<LhO&#eQSO1G0wOOQQ<<LS<<LSO%(xQ(ChO<<LSOOQQ<<LT<<LTO%)SQ`O<<LTO&#jQWO'#JPO&#uQSO,5@|O!)]QUO,5@|OOQQ1G3R1G3RO&#}Q(C`O'#JxO&$iQUO'#JxO&$pQWO'#EdO&%ZQ(C[O'#EdODTQ(C`O'#EdO)bQWO'#HVOOQO'#JR'#JRO:vQ(C[O'#JRO&%oQWO,5=pOOQQ,5=p,5=pO&&XQWO'#EdO&%PQWO'#EdO&&`QWO'#EdO&&yQWO'#EdO&'jQWO'#HVO&'{QSO7+(uO&(QQSO7+(uOOQQ7+(u7+(uO!%gQ,UO7+(uO%|QUO7+(uO&(YQSO7+(uOOQQ7+(x7+(xO:vQ(C[O7+(xO$!pQSO7+(xO:lQSO7+(xO!>rQWO7+(xO&(eQSO,5?nOOQO-E=Q-E=QOOQO'#HY'#HYO&(pQSO1G6iO:vQ(C[O<<GnOOQQ<<Gn<<GnOAuQSO<<GnO&(xQSO7+,WO&(}QSO7+,XOOQQ7+)R7+)RO&)SQSO7+)RO&)XQUO7+)RO&)`QSO7+)RO%|QUO7+,WO%|QUO7+,XOOQQ<<Lv<<LvOOQQ<<Ly<<LyOOQQ-E=T-E=TOOQQ1G3z1G3zO&)eQSO,5>aOOQQ,5>c,5>cO&)jQSO1G4RO<yQSO7+&cO!)]QUO7+&cOOQO7+%]7+%]O&)oQ$IUO1G6ZO@TQSO7+%]OOQ(CY<<Iw<<IwO@TQSO<<IwOOQO<<Ip<<IpO$=}Q(CjO<<IpO%|QUO<<IpOOQO<<Ie<<IeO@TQSO<<IeO&)yQ(C[O<<IpO!>rQWO<<IeO&*UQ(C[O<<IpODoQWO<<IeO&*dQ(C[O<<IpO&*xQ(C`O<<IpO&+SQWO<<IeODoQWO<<IpO&+aQSO<= ]O&+iQ(CjO<= ^OOQO7+*f7+*fO<yQSO7+*fOOQQANAgANAgO&+yQSOANAgO!%gQ,UOANAgO!>[QSOANAgO%&jQbOANAgO%|QUOANAgO&,RQ(CjO7+'wO&.dQ(CjO7+'yO&0uQbO1G4uO&1PQ$IUO7+&^O&1^Q$IUO,59nO&3aQ$IUO,5<hO&5dQ$IUO,5<jO&7gQ$IUO,5<xO&9]Q$IUO7+'jO&9jQ$IUO7+'kO&9wQSO,5<[OOQO7+'_7+'_O&9|Q,UO<<KyOOQO1G5O1G5OO&:TQSO1G5OO&:`QSO1G5OO&:nQSO7++}O&:nQSO7++}O!%gQ,UO1G5QO&:vQ`O1G5QO&;QQSO7+,OOOQ(CW7+(R7+(RO%$fQSO7+(SO&;YQ`O7+(SOOQ(CW7+(Q7+(QO%$fQSO7+(RO&;aQSO7+(SO!%gQ,UO7+(SODjQSO7+(RO&;fQ,UO<<NzOOQ(CY7+$v7+$vO&;pQ`O,5?iOOQO-E<{-E<{O&;zQ(ChO7+(VOOQQAN=dAN=dO;VQSO1G5ZOOQO1G5Z1G5ZO&<[QSO1G5ZO&<aQSO7+,VO&<aQSO7+,VO:vQ(C[OANBSOAuQSOANBSOOQQANBSANBSOOQQANAnANAnOOQQANAoANAoO&<iQSO,5?kOOQO-E<}-E<}O&<tQ$IUO1G6hO$!pQSO,5=qO:lQSO,5=qO&?UQbO'#CfO&?`QWO,5;OO&?jQWO,5;OO&?wQWO,5;OO!>rQWO,5=qOOQO,5?m,5?mOOQO-E=P-E=POOQQ1G3[1G3[O&$iQUO,5<|O&#}Q(C`O,5=qO#%TQ(C`O,5;OO)bQWO,5=qO&@[QWO,5=qO&@mQWO,5;OOOQQ<<La<<LaO!%gQ,UO<<LaO&'{QSO<<LaO&AWQSO<<LaO%|QUO<<LaOOQQ<<Ld<<LdO:vQ(C[O<<LdO$!pQSO<<LdO:lQSO<<LdO&A`QWO1G5YO&AkQSO7+,TOOQQAN=YAN=YO:vQ(C[OAN=YOOQQ<= r<= rOOQQ<= s<= sOOQQ<<Lm<<LmO&AsQSO<<LmO&AxQUO<<LmO&BPQSO<= rO&BUQSO<= sOOQQ1G3{1G3{O@TQSO7+)mO&BZQSO<<I}O&BfQ$IUO<<I}OOQO<<Hw<<HwOOQ(CYAN?cAN?cOOQOAN?[AN?[O$=}Q(CjOAN?[OOQOAN?PAN?PO%|QUOAN?[O@TQSOAN?PO&BpQ(C[OAN?[O!>rQWOAN?PO&B{Q(C[OAN?[ODoQWOAN?PO&CZQ(C[OAN?[OOQO<<NQ<<NQOOQQG27RG27RO!%gQ,UOG27RO!>[QSOG27RO&CoQSOG27RO%&jQbOG27RO&CwQ$IUO<<JeO&DUQ$IUO1G2]O&EzQ$IUO1G2oO&G}Q$IUO1G2qO&JQQ$IUO<<KVO&J_Q$IUO<<IxOOQO1G1v1G1vO!'PQ,UOANAeOOQO7+*j7+*jO&JlQSO7+*jO&JwQSO<= iO&KPQ`O7+*lOOQ(CW<<Kn<<KnO%$fQSO<<KnOOQ(CW<<Km<<KmO&KZQ`O<<KnO%$fQSO<<KmOOQO7+*u7+*uO;VQSO7+*uO&KbQSO<= qOOQQG27nG27nO:vQ(C[OG27nO!)]QUO1G5VO&KjQSO7+,SO:vQ(C[O1G3]O$!pQSO1G3]O&KrQWO1G0jO&K|QWO1G0jO:lQSO1G3]O!>rQWO1G3]O)bQWO1G3]O&#}Q(C`O1G3]O$;oQ(C`O1G0jO&LZQWO1G3]O&'{QSOANA{OOQQANA{ANA{O!%gQ,UOANA{O&LlQSOANA{OOQQANBOANBOO:vQ(C[OANBOO$!pQSOANBOOOQO'#HZ'#HZOOQO7+*t7+*tOOQQG22tG22tOOQQANBXANBXO&LtQSOANBXOOQQANE^ANE^OOQQANE_ANE_OOQQ<<MX<<MXO!)]QUOAN?iOOQOG24vG24vO$=}Q(CjOG24vOOQOG24kG24kO%|QUOG24vO@TQSOG24kO&LyQ(C[OG24vO!>rQWOG24kO&MUQ(C[OG24vO!>[QSOLD,mOOQQLD,mLD,mO!%gQ,UOLD,mO&MdQSOLD,mO&MlQ$IUO7+'wO' bQ$IUO7+'yO'#WQ,UOG27POOQO<<NU<<NUOOQ(CWANAYANAYO%$fQSOANAYOOQ(CWANAXANAXOOQO<<Na<<NaOOQQLD-YLD-YO'#hQ$IUO7+*qOOQO7+(w7+(wO:vQ(C[O7+(wO'#rQWO7+&UO$!pQSO7+(wO:lQSO7+(wO!>rQWO7+(wO)bQWO7+(wOOQQG27gG27gO&'{QSOG27gO!%gQ,UOG27gOOQQG27jG27jO:vQ(C[OG27jOOQQG27sG27sO'#|Q$IUOG25TOOQOLD*bLD*bO$=}Q(CjOLD*bOOQOLD*VLD*VO%|QUOLD*bO@TQSOLD*VO'$WQ(C[OLD*bOOQQ!$(!X!$(!XO!>[QSO!$(!XO!%gQ,UO!$(!XO'$cQ(CjOG27POOQ(CWG26tG26tOOQO<<Lc<<LcO:vQ(C[O<<LcO$!pQSO<<LcO:lQSO<<LcO!>rQWO<<LcOOQQLD-RLD-RO&'{QSOLD-ROOQQLD-ULD-UOOQO!$'M|!$'M|O$=}Q(CjO!$'M|OOQO!$'Mq!$'MqO%|QUO!$'M|OOQQ!)9Es!)9EsO!>[QSO!)9EsOOQOANA}ANA}O:vQ(C[OANA}O$!pQSOANA}O:lQSOANA}OOQQ!$(!m!$(!mOOQO!)9Ch!)9ChO$=}Q(CjO!)9ChOOQQ!.K;_!.K;_O'&tQ$IUOG27POOQOG27iG27iO:vQ(C[OG27iO$!pQSOG27iOOQO!.K9S!.K9SOOQOLD-TLD-TO:vQ(C[OLD-TOOQO!$(!o!$(!oO!)]QUO'#DzO2mQSO'#EYO'(jQbO'#JtO!)]QUO'#DrO'(qQUO'#EOO!)]QUO'#EQO'(xQbO'#CfO'+`QbO'#CfO'+pQUO,5;WO!)]QUO,5;bO!)]QUO,5;bO!)]QUO,5;bO!)]QUO,5;bO!)]QUO,5;bO!)]QUO,5;bO!)]QUO,5;bO!)]QUO,5;bO!)]QUO,5;bO!)]QUO,5;bO!)]QUO,5;bO!)]QUO'#IwO'.SQSO,5<gO'.[Q,UO,5;bO'/oQ,UO,5;bO!)]QUO,5;vO2pQSO'#DSO2pQSO'#DSO!%gQ,UO'#F|O'.[Q,UO'#F|O!%gQ,UO'#GOO'.[Q,UO'#GOO!%gQ,UO'#G^O'.[Q,UO'#G^O!)]QUO,5:jO!)]QUO,5@oO'+pQUO1G0rO'/vQ$IUO'#CfO!)]QUO1G2OO!%gQ,UO,5=TO'.[Q,UO,5=TO!%gQ,UO,5=VO'.[Q,UO,5=VO!%gQ,UO,5<qO'.[Q,UO,5<qO'+pQUO1G2PO!)]QUO7+&yO!%gQ,UO1G2]O'.[Q,UO1G2]O!%gQ,UO1G2_O'.[Q,UO1G2_O'+pQUO7+'kO'+pQUO7+&^O!%gQ,UOANAeO'.[Q,UOANAeO'0QQSO'#ElO'0VQSO'#ElO'0_QSO'#F[O'0dQSO'#EvO'0iQSO'#KTO'0tQSO'#KRO'1PQSO,5;WO'1UQ,UO,5<dO'1]QSO'#GVO'1bQSO'#GVO'1gQSO,5<eO'1oQSO,5;WO'1wQ$IUO1G1_O'2OQSO,5<qO'2TQSO,5<qO'2YQSO,5<sO'2_QSO,5<sO'2dQSO1G2PO'2iQSO1G0rO'2nQ,UO<<KyO'2uQ,UO<<KyO9UQ,UO'#FzO:lQSO'#FyOBeQSO'#EkO!)]QUO,5;sO!2fQSO'#GVO!2fQSO'#GVO!2fQSO'#GXO!2fQSO'#GXO!'PQ,UO7+(_O!'PQ,UO7+(_O%!YQ`O1G2sO%!YQ`O1G2sO!%gQ,UO,5=XO!%gQ,UO,5=X",stateData:"'3}~O(OOS(POSROS(QRQ~OPYOQYOV!UO^pOayObxOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!SkO!TkO!UkO!VkO!]XO!gsO!lZO!oYO!pYO!qYO!stO!uuO!xvO!ywO!}]O#t!OO$U{O$YfO%d|O%f!PO%h}O%i}O%l!QO%n!RO%q!SO%r!SO%t!TO&R!VO&S!VO&Y!WO&Z!WO&]!XO&_!YO&`!YO&b!ZO&c!ZO&g![O&m!]O&n!]O&w!^O&x!^O&z!_O&{!_O&}!`O'O!`O'Q!aO'R!aO'T!bO(VSO(XTO([UO(dVO(q[O)OiO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!SkO!TkO!UkO!VkO!]!dO!gsO!lZO!oYO!pYO!qYO!stO!uuO!xwO!ywO$U!hO$YfO(V!cO(XTO([UO(dVO(q[O)OiO~O^!qOl!kO|!lO!`!rO!a!pO!b!pO!};oO#R!vO#S!tO#T!uO#U!sO#X!wO#Y!wO(W!iO(XTO([UO(g!jO(q!nO~O(Q!xO~OPYXXYX^YXkYXyYXzYX|YX!ZYX!iYX!jYX!lYX!pYX#]YX#hcX#kYX#lYX#mYX#nYX#oYX#pYX#qYX#rYX#sYX#uYX#wYX#yYX#zYX$PYX'|YX(dYX(rYX(yYX(zYX~O!e%OX~P)oO[!zO(X!|O(Y!zO(Z!|O~O[!}O(Z!|O([!|O(]!}O~Oq#PO!O#QO(e#QO(f#SO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!SkO!TkO!UkO!VkO!]!dO!gsO!lZO!oYO!pYO!qYO!stO!uuO!xwO!ywO$U!hO$YfO(V;tO(XTO([UO(dVO(q[O)OiO~O!Y#WO!Z#TO!W(jP!W(vP~P,{O![#`O~P`OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!SkO!TkO!UkO!VkO!]!dO!gsO!lZO!oYO!pYO!qYO!stO!uuO!xwO!ywO$U!hO$YfO(XTO([UO(dVO(q[O)OiO~O!Y#fO!}]O#f#iO#g#fO(V;uO!k(sP~P/vO!l#kO(V#jO~O!x#oO!}]O%d#pO~O#h#qO~O!e#rO#h#qO~OP$YOX$aOk#}Oy#vOz#wO|#xO!Z$^O!i$PO!j#tO!l#uO!p$YO#k#{O#l#|O#m#|O#n#|O#o$OO#p$PO#q$PO#r$`O#s$PO#u$QO#w$SO#y$UO#z$VO(dVO(r$WO(y#yO(z#zO~O^(hX'|(hX'z(hX!k(hX!W(hX!](hX%e(hX!e(hX~P3_O#]$bO$P$bOP(iXX(iXk(iXy(iXz(iX|(iX!Z(iX!i(iX!l(iX!p(iX#k(iX#l(iX#m(iX#n(iX#o(iX#p(iX#q(iX#r(iX#s(iX#u(iX#w(iX#y(iX#z(iX(d(iX(r(iX(y(iX(z(iX!](iX%e(iX~O^(iX!j(iX'|(iX'z(iX!W(iX!k(iXo(iX!e(iX~P5uO#]$bO~O$[$dO$^$cO$e$iO~O!]$jO$YfO$h$kO$j$mO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!]$yO!g%XO!l$uO#g%YO$U%VO$q%TO$s%UO$v%WO(V$oO(XTO([UO(`%OO(d$rOd(aP~O!l%ZO~O!e%]O~O^%^O'|%^O~O(W!iO~P%|O(V%eO~Og%iO!]%gO(V%eO~O!l%ZO(V%eO(W!iO(`%OO~Ob%pO!l%ZO(V%eO~O#s$PO~Oy%uO!]%rO!l%tO%f%xO(V%eO(W!iO(XTO([UO])WP~O!x#oO~O|%zO!]%{O(V%eO~O|%zO!]%{O%n&PO(V%eO~O(V&QO~O#t!OO%f!PO%h}O%i}O%l!QO%n!RO%q!SO%r!SO~Oa&ZOb&YO!x&WO%d&XO%v&VO~P=iOa&^ObxO!]&]O!xvO!}]O#t!OO%d|O%h}O%i}O%l!QO%n!RO%q!SO%r!SO%t!TO~O_&aO#]&dO%f&_O(W!iO~P>hO!l&eO!u&iO~O!l#kO~O!]XO~O^%^O'{&qO'|%^O~O^%^O'{&tO'|%^O~O^%^O'{&vO'|%^O~O'zYX!WYXoYX!kYX!]YX&WYX%eYX!eYX~P)oO!`'TO!a&|O!b&|O(W!iO(XTO([UO~Ol&zO|&yO!Y&}O(g&xO![(kP![(xP~PAiOb'XO!l%ZO(V%eO~Oy%uO!l%tO~Ol!kO|!lO!`'^O!a']O!b']O#S'`O#T'`O#U'_O#X'bO#Y'bO(W!iO(XTO([UO(g!jO(q!nO~O!};oO#R'aO~PBxO^%^O!e#rO!l%ZO!p'hO#]'fO'|%^O(`%OO(r'dO~Ol!kO|!lO(XTO([UO(g!jO(q!nO~O!a']O!b']O(W!iO~PDoO!`'^O!a']O!b']O#X'bO#Y'bO(W!iO~PDoO!]XO!`'^O!a']O!b']O#U'_O#X'bO#Y'bO(W!iO~PDoO(R'lO(S'lO(T'nO~O[!zO(X'pO(Y!zO(Z'pO~O[!}O(Z'pO(['pO(]!}O~Oq#PO!O#QO(e#QO(f'tO~O!Y'vO!W'`X!W'fX!Z'`X!Z'fX~P,{O!Z'xO!W(jX~OP$YOX$aOk#}Oy#vOz#wO|#xO!Z'xO!i$PO!j#tO!l#uO!p$YO#k#{O#l#|O#m#|O#n#|O#o$OO#p$PO#q$PO#r$`O#s$PO#u$QO#w$SO#y$UO#z$VO(dVO(r$WO(y#yO(z#zO~O!W(jX~PHYO!W'}O~O!W(uX!Z(uX!e(uX!k(uX(r(uX~O#](uX#h#aX![(uX~PJ`O#](OO!W(wX!Z(wX~O!Z(PO!W(vX~O!W(SO~O#]$bO~PJ`O![(TO~P`Oy#vOz#wO|#xO!j#tO!l#uO(dVOP!naX!nak!na!Z!na!i!na!p!na#k!na#l!na#m!na#n!na#o!na#p!na#q!na#r!na#s!na#u!na#w!na#y!na#z!na(r!na(y!na(z!na~O^!na'|!na'z!na!W!na!k!nao!na!]!na%e!na!e!na~PKvO!k(UO~O|%zO!]%{O!}]O#f(XO#g(WO(V%eO~O!e#rO#](YO(r'dO!Z(tX^(tX'|(tX~O!k(tX~PNzO!Z(]O!k(sX~O!k(_O~O|%zO!]%{O#g(WO(V%eO~Oy(`Oz(aO!j#tO!l#uO!}!|a|!|a~O!x!|a%d!|a!]!|a#f!|a#g!|a(V!|a~P!!SO!x(eO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!SkO!TkO!UkO!VkO!]XO!gsO!lZO!oYO!pYO!qYO!stO!uuO!xwO!ywO$U!hO$YfO(V!cO(XTO([UO(dVO(q[O)OiO~Oi%POk$qOl$pOm$pOs%QOu%ROw<XO|$xO!]$yO!g=cO!l$uO#g<_O$U%VO$q<ZO$s<]O$v%WO(V(iO(XTO([UO(`%OO(d$rO~O#h(kO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!]$yO!g%XO!l$uO#g%YO$U%VO$q%TO$s%UO$v%WO(V(iO(XTO([UO(`%OO(d$rO~Od(mP~P!'PO!Y(oO!k(nP~P%|O(g(qO(q[O~O|(sO!l#uO(g(qO(q[O~OP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!SkO!TkO!UkO!VkO!]!dO!g;qO!lZO!o;nO!p;nO!q;nO!s;rO!u;sO!xwO!ywO$U!hO$YfO(V)RO(XTO([UO(dVO(q[O)O=]O~Oz)UO!l#uO~O!Z$^O^$oa'|$oa'z$oa!k$oa!W$oa!]$oa%e$oa!e$oa~O#t)YO~P!%gOy)]O!e)[O!]$]X$X$]X$[$]X$^$]X$e$]X~O!e)[O!]({X$X({X$[({X$^({X$e({X~Oy)]O~P!-UOy)]O!]({X$X({X$[({X$^({X$e({X~O!])_O$X)cO$[)^O$^)^O$e)dO~O!Y)gO~P!)]O$[$dO$^$cO$e)kO~Og$wXy$wX|$wX!j$wX(y$wX(z$wX~OdfXd$wXgfX!ZfX#]fX~P!.zOl)mO~Oq)nO(e)oO(f)qO~Og)zOy)sO|)tO(y)vO(z)xO~Od)rO~P!0TOd){O~Oi%POk$qOl$pOm$pOs%QOu%ROw<XO|$xO!]$yO!g=cO!l$uO#g<_O$U%VO$q<ZO$s<]O$v%WO(XTO([UO(`%OO(d$rO~O!Y*PO(V)|O!k)PP~P!0rO#h*RO~O!l*SO~O!Y*XO(V*UO!W)QP~P!0rOk*eO|*]O!`*cO!a*[O!b*[O!l*SO#X*dO%[*_O(W!iO(g!jO~O![*bO~P!2xO!j#tOg(cXy(cX|(cX(y(cX(z(cX!Z(cX#](cX~Od(cX#}(cX~P!3qOg*hO#]*gOd(bX!Z(bX~O!Z*iOd(aX~O(V&QOd(aP~O!l*pO~O(V(iO~O|%zO!Y#fO!]%{O!}]O#f#iO#g#fO(V%eO!k(sP~O!e#rO#h*tO~OP$YOX$aOk#}Oy#vOz#wO|#xO!i$PO!j#tO!l#uO!p$YO#k#{O#l#|O#m#|O#n#|O#o$OO#p$PO#q$PO#r$`O#s$PO#u$QO#w$SO#y$UO#z$VO(dVO(r$WO(y#yO(z#zO~O^!fa!Z!fa'|!fa'z!fa!W!fa!k!fao!fa!]!fa%e!fa!e!fa~P!6TOy#vOz#wO|#xO!j#tO!l#uO(dVOP!raX!rak!ra!Z!ra!i!ra!p!ra#k!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#u!ra#w!ra#y!ra#z!ra(r!ra(y!ra(z!ra~O^!ra'|!ra'z!ra!W!ra!k!rao!ra!]!ra%e!ra!e!ra~P!8nOy#vOz#wO|#xO!j#tO!l#uO(dVOP!taX!tak!ta!Z!ta!i!ta!p!ta#k!ta#l!ta#m!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#u!ta#w!ta#y!ta#z!ta(r!ta(y!ta(z!ta~O^!ta'|!ta'z!ta!W!ta!k!tao!ta!]!ta%e!ta!e!ta~P!;XOg*|O!]%gO%e*{O(`%OO~O![+QO~P(`Og+TO!]%gO~O!e+UO!](_X^(_X!Z(_X'|(_X~O!l%ZO(`%OO~O!l%ZO(V%eO(`%OO~O!e#rO#h(kO~O%f+bO(V+^O(XTO([UO![)XP~O!Z+cO])WX~O(g(qO~OX+gO~O]+hO~O!]%rO(V%eO(W!iO])WP~O|%zO!Y+lO!Z(PO!]%{O(V%eO!W(vP~Ol'QO|+nO!Y+mO(XTO([UO(g(qO~O![(xP~P!@{O!Z+oO^)TX'|)TX~O#]+sO(`%OO~Og+vO!]$yO(`%OO~O!]+xO~Oy+zO!]XO~O!x,PO~Ob,UO~O(V#jO![)VP~Ob%pO~O%f!PO(V&QO~P>hOX,[O],ZO~OPYOQYOayObxOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!SkO!TkO!UkO!VkO!gsO!lZO!oYO!pYO!qYO!stO!uuO!xvO!ywO!}]O$YfO%d|O(XTO([UO(dVO(q[O)OiO~O!]!dO$U!hO(V!cO~P!C`O],ZO^%^O'|%^O~O^,`O#t,bO%h,bO%i,bO~P%|O!l&eO~O&Y,gO~O!],iO~O&p,kO&q,kO&r,kO&t,lO&u,lOP&laQ&laV&la^&laa&lab&lai&lak&lal&lam&las&lau&law&la|&la!Q&la!R&la!S&la!T&la!U&la!V&la!]&la!g&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!y&la!}&la#t&la$U&la$Y&la%d&la%f&la%h&la%i&la%l&la%n&la%q&la%r&la%t&la&R&la&S&la&Y&la&Z&la&]&la&_&la&`&la&b&la&c&la&g&la&m&la&n&la&w&la&x&la&z&la&{&la&}&la'O&la'Q&la'R&la'T&la'z&la(V&la(X&la([&la(d&la(q&la)O&la![&la&d&la&e&la_&la&j&la~O(V,qO~O!Z{X!Z!cX![{X![!cX!e{X!e!cX!l!cX#]{X(`!cX~O!e,vO#],uO!Z#eX!Z(lX![#eX![(lX!e(lX!l(lX(`(lX~O!e,xO!l%ZO(`%OO!Z!_X![!_X~Ol!kO|!lO(XTO([UO(g!jO~OP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!SkO!TkO!UkO!VkO!]!dO!g;qO!lZO!o;nO!p;nO!q;nO!s;rO!u;sO!xwO!ywO$U!hO$YfO(XTO([UO(dVO(q[O)O=]O~O(V<dO~P!N^O!Z,|O![(kX~O![-OO~O!e,vO#],uO!Z#eX![#eX~O!Z-PO![(xX~O![-RO~O!a-SO!b-SO(W!iO~P!M{O!W-XO~Ol!|a!`!|a!a!|a!b!|a#R!|a#S!|a#T!|a#U!|a#X!|a#Y!|a(W!|a(X!|a([!|a(g!|a(q!|a~P!!SO^%^O!e#rO!l%ZO!p-^O#]-[O'|%^O(`%OO(r'dO~O!a-`O!b-`O(W!iO~PDoO!`-bO!a-`O!b-`O#X-cO#Y-cO(W!iO~PDoO!`-bO!a-`O!b-`O#U-dO#X-cO#Y-cO(W!iO~PDoO!`-bO!a-`O!b-`O#S-eO#T-eO#U-dO#X-cO#Y-cO(W!iO~PDoO^%^O#]-[O'|%^O~O^%^O!e#rO#]-[O'|%^O~O^%^O!e#rO!p-^O#]-[O'|%^O(r'dO~O(R'lO(S'lO(T-jO~Oo-kO~O!W'`a!Z'`a~P!6TO!Y-oO!W'`X!Z'`X~P%|O!Z'xO!W(ja~O!W(ja~PHYO!Z(PO!W(va~O|%zO!Y-sO!]%{O(V%eO!W'fX!Z'fX~O!Z(]O!k(sa~O|%zO!]%{O#g-vO(V%eO~O#]-xO!Z(ta!k(ta^(ta'|(ta~O!e#rO~P#*yO|%zO!Y-{O!]%{O!}]O#f-}O#g-{O(V%eO!Z'hX!k'hX~Oz.RO!l#uO~Og.UO!]%gO%e.TO(`%OO~O^#`i!Z#`i'|#`i'z#`i!W#`i!k#`io#`i!]#`i%e#`i!e#`i~P!6TOg=iOy)sO|)tO(y)vO(z)xO~O#h#[a^#[a#]#[a'|#[a!Z#[a!k#[a!]#[a!W#[a~P#-[O#h(cXP(cXX(cX^(cXk(cXz(cX!i(cX!l(cX!p(cX#k(cX#l(cX#m(cX#n(cX#o(cX#p(cX#q(cX#r(cX#s(cX#u(cX#w(cX#y(cX#z(cX'|(cX(d(cX(r(cX!k(cX!W(cX'z(cXo(cX!](cX%e(cX!e(cX~P!3qO!Z._Od(mX~P!0TOd.aO~O!Z.bO!k(nX~P!6TO!k.eO~O!W.gO~OP$YOy#vOz#wO|#xO!j#tO!l#uO!p$YO(dVOX#ji^#jik#ji!Z#ji!i#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'|#ji(r#ji(y#ji(z#ji'z#ji!W#ji!k#jio#ji!]#ji%e#ji!e#ji~O#k#ji~P#1WO#k#{O~P#1WOP$YOy#vOz#wO|#xO!j#tO!l#uO!p$YO#k#{O#l#|O#m#|O#n#|O(dVOX#ji^#ji!Z#ji!i#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'|#ji(r#ji(y#ji(z#ji'z#ji!W#ji!k#jio#ji!]#ji%e#ji!e#ji~Ok#ji~P#3xOk#}O~P#3xOP$YOk#}Oy#vOz#wO|#xO!j#tO!l#uO!p$YO#k#{O#l#|O#m#|O#n#|O#o$OO(dVO^#ji!Z#ji#u#ji#w#ji#y#ji#z#ji'|#ji(r#ji(y#ji(z#ji'z#ji!W#ji!k#jio#ji!]#ji%e#ji!e#ji~OX#ji!i#ji#p#ji#q#ji#r#ji#s#ji~P#6jOX$aO!i$PO#p$PO#q$PO#r$`O#s$PO~P#6jOP$YOX$aOk#}Oy#vOz#wO|#xO!i$PO!j#tO!l#uO!p$YO#k#{O#l#|O#m#|O#n#|O#o$OO#p$PO#q$PO#r$`O#s$PO#u$QO(dVO^#ji!Z#ji#w#ji#y#ji#z#ji'|#ji(r#ji(z#ji'z#ji!W#ji!k#jio#ji!]#ji%e#ji!e#ji~O(y#ji~P#9kO(y#yO~P#9kOP$YOX$aOk#}Oy#vOz#wO|#xO!i$PO!j#tO!l#uO!p$YO#k#{O#l#|O#m#|O#n#|O#o$OO#p$PO#q$PO#r$`O#s$PO#u$QO#w$SO(dVO(y#yO^#ji!Z#ji#y#ji#z#ji'|#ji(r#ji'z#ji!W#ji!k#jio#ji!]#ji%e#ji!e#ji~O(z#ji~P#<]O(z#zO~P#<]OP$YOX$aOk#}Oy#vOz#wO|#xO!i$PO!j#tO!l#uO!p$YO#k#{O#l#|O#m#|O#n#|O#o$OO#p$PO#q$PO#r$`O#s$PO#u$QO#w$SO#y$UO(dVO(y#yO(z#zO~O^#ji!Z#ji#z#ji'|#ji(r#ji'z#ji!W#ji!k#jio#ji!]#ji%e#ji!e#ji~P#>}OPYXXYXkYXyYXzYX|YX!iYX!jYX!lYX!pYX#]YX#hcX#kYX#lYX#mYX#nYX#oYX#pYX#qYX#rYX#sYX#uYX#wYX#yYX#zYX$PYX(dYX(rYX(yYX(zYX!ZYX![YX~O#}YX~P#AhOP$YOX<VOk;yOy#vOz#wO|#xO!i;{O!j#tO!l#uO!p$YO#k;wO#l;xO#m;xO#n;xO#o;zO#p;{O#q;{O#r<UO#s;{O#u;|O#w<OO#y<QO#z<RO(dVO(r$WO(y#yO(z#zO~O#}.iO~P#CuOP(iXX(iXk(iXy(iXz(iX|(iX!i(iX!j(iX!l(iX!p(iX#k(iX#l(iX#m(iX#n(iX#o(iX#p(iX#q(iX#r(iX#u(iX#w(iX#y(iX#z(iX(d(iX(r(iX(y(iX(z(iX!Z(iX~O#]<WO$P<WO#s(iX#}(iX![(iX~P#EsO^'ka!Z'ka'|'ka'z'ka!k'ka!W'kao'ka!]'ka%e'ka!e'ka~P!6TOP#jiX#ji^#jik#jiz#ji!Z#ji!i#ji!j#ji!l#ji!p#ji#k#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'|#ji(d#ji(r#ji'z#ji!W#ji!k#jio#ji!]#ji%e#ji!e#ji~P#-[O^$Oi!Z$Oi'|$Oi'z$Oi!W$Oi!k$Oio$Oi!]$Oi%e$Oi!e$Oi~P!6TO$[.nO$^.nO~O$[.oO$^.oO~O!e)[O#].pO!]$bX$X$bX$[$bX$^$bX$e$bX~O!Y.qO~O!])_O$X.sO$[)^O$^)^O$e.tO~O!Z<SO![(hX~P#CuO![.uO~O!e)[O$e({X~O$e.wO~Oq)nO(e)oO(f.zO~Ol.}O!W/OO(XTO([UO~O!ZcX!ecX!kcX!k$wX(rcX~P!.zO!k/UO~P#-[O!Z/VO!e#rO(r'dO!k)PX~O!k/[O~O!Y*PO(V%eO!k)PP~O#h/^O~O!W$wX!Z$wX!e%OX~P!.zO!Z/_O!W)QX~P#-[O!e/aO~O!W/cO~Ok/gO!e#rO!l%ZO(`%OO(r'dO~O(V/iO~O!e+UO~O^%^O!Z/mO'|%^O~O![/oO~P!2xO!a/pO!b/pO(W!iO(g!jO~O|/rO(g!jO~O#X/sO~O(V&QOd'pX!Z'pX~O!Z*iOd(aa~Od/xO~Oy/yOz/yO|/zOgva(yva(zva!Zva#]va~Odva#}va~P$$^Oy)sO|)tOg$pa(y$pa(z$pa!Z$pa#]$pa~Od$pa#}$pa~P$%SOy)sO|)tOg$ra(y$ra(z$ra!Z$ra#]$ra~Od$ra#}$ra~P$%uO#h/|O~Od%Qa!Z%Qa#]%Qa#}%Qa~P!0TO#h0PO~Oy#vOz#wO|#xO!j#tO!l#uO(dVOP!riX!rik!ri!Z!ri!i!ri!p!ri#k!ri#l!ri#m!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#u!ri#w!ri#y!ri#z!ri(r!ri(y!ri(z!ri~O^!ri'|!ri'z!ri!W!ri!k!rio!ri!]!ri%e!ri!e!ri~P$'SOg.UO!]%gO%e.TO~O![0WO~P(`Oi0[O(V0ZO~P!0uO!e+UO!](_a^(_a!Z(_a'|(_a~O#h0bO~OXYX!ZcX![cX~O!Z0cO![)XX~O![0eO~OX0fO~O(V+^O(XTO([UO~O!]%rO(V%eO]'xX!Z'xX~O!Z+cO])Wa~O!k0kO~P!6TOX0nO~O]0oO~O!Z+oO^)Ta'|)Ta~O#]0uO~Og0xO!]$yO~O(g(qO![)UP~Og1RO!]1OO%e1QO(`%OO~OX1]O!Z1ZO![)VX~O![1^O~O]1`O^%^O'|%^O~O(V#jO(XTO([UO~O#]$bO#s1cO$P$bO&W1dO^(iX~P#EsO#]$bO#s1cO&W1dO~O^1eO~P%|O^1gO~O&d1kO&e1kOP&aiQ&aiV&ai^&aia&aib&aii&aik&ail&aim&ais&aiu&aiw&ai|&ai!Q&ai!R&ai!S&ai!T&ai!U&ai!V&ai!]&ai!g&ai!l&ai!o&ai!p&ai!q&ai!s&ai!u&ai!x&ai!y&ai!}&ai#t&ai$U&ai$Y&ai%d&ai%f&ai%h&ai%i&ai%l&ai%n&ai%q&ai%r&ai%t&ai&R&ai&S&ai&Y&ai&Z&ai&]&ai&_&ai&`&ai&b&ai&c&ai&g&ai&m&ai&n&ai&w&ai&x&ai&z&ai&{&ai&}&ai'O&ai'Q&ai'R&ai'T&ai'z&ai(V&ai(X&ai([&ai(d&ai(q&ai)O&ai![&ai_&ai&j&ai~O_1qO![1oO&j1pO~P`O!]XO!l1sO~O&t,lO&u,lOP&liQ&liV&li^&lia&lib&lii&lik&lil&lim&lis&liu&liw&li|&li!Q&li!R&li!S&li!T&li!U&li!V&li!]&li!g&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!y&li!}&li#t&li$U&li$Y&li%d&li%f&li%h&li%i&li%l&li%n&li%q&li%r&li%t&li&R&li&S&li&Y&li&Z&li&]&li&_&li&`&li&b&li&c&li&g&li&m&li&n&li&w&li&x&li&z&li&{&li&}&li'O&li'Q&li'R&li'T&li'z&li(V&li(X&li([&li(d&li(q&li)O&li![&li&d&li&e&li_&li&j&li~O!W1yO~O!Z!_a![!_a~P#CuOl!kO|!lO!Y2PO(g!jO!Z'aX!['aX~PAiO!Z,|O![(ka~O!Z'gX!['gX~P!@{O!Z-PO![(xa~O^%^O#]2]O'|%^O~O^%^O!e#rO#]2]O'|%^O~O^%^O!e#rO!l%ZO!p2aO#]2]O'|%^O(`%OO(r'dO~O!a2bO!b2bO(W!iO~PDoO!`2eO!a2bO!b2bO#X2fO#Y2fO(W!iO~PDoO!`2eO!a2bO!b2bO#U2gO#X2fO#Y2fO(W!iO~PDoO^%^O!e#rO!p2aO#]2]O'|%^O(r'dO~O^%^O'|%^O~P!6TO!Z$^Oo$oa~O!W'`i!Z'`i~P!6TO!Z'xO!W(ji~O!Z(PO!W(vi~O!W(wi!Z(wi~P!6TO!Z(]O!k(si~O!Z(ti!k(ti^(ti'|(ti~P!6TO#]2kO!Z(ti!k(ti^(ti'|(ti~O|%zO!]%{O!}]O#f2nO#g2mO(V%eO~O|%zO!]%{O#g2mO(V%eO~Og2uO!]%gO%e2tO~Og2uO!]%gO%e2tO(`%OO~O#hvaPvaXva^vakva!iva!jva!lva!pva#kva#lva#mva#nva#ova#pva#qva#rva#sva#uva#wva#yva#zva'|va(dva(rva!kva!Wva'zvaova!]va%eva!eva~P$$^O#h$paP$paX$pa^$pak$paz$pa!i$pa!j$pa!l$pa!p$pa#k$pa#l$pa#m$pa#n$pa#o$pa#p$pa#q$pa#r$pa#s$pa#u$pa#w$pa#y$pa#z$pa'|$pa(d$pa(r$pa!k$pa!W$pa'z$pao$pa!]$pa%e$pa!e$pa~P$%SO#h$raP$raX$ra^$rak$raz$ra!i$ra!j$ra!l$ra!p$ra#k$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#u$ra#w$ra#y$ra#z$ra'|$ra(d$ra(r$ra!k$ra!W$ra'z$rao$ra!]$ra%e$ra!e$ra~P$%uO#h%QaP%QaX%Qa^%Qak%Qaz%Qa!Z%Qa!i%Qa!j%Qa!l%Qa!p%Qa#k%Qa#l%Qa#m%Qa#n%Qa#o%Qa#p%Qa#q%Qa#r%Qa#s%Qa#u%Qa#w%Qa#y%Qa#z%Qa'|%Qa(d%Qa(r%Qa!k%Qa!W%Qa'z%Qa#]%Qao%Qa!]%Qa%e%Qa!e%Qa~P#-[O^#`q!Z#`q'|#`q'z#`q!W#`q!k#`qo#`q!]#`q%e#`q!e#`q~P!6TOd'bX!Z'bX~P!'PO!Z._Od(ma~O!Y2}O!Z'cX!k'cX~P%|O!Z.bO!k(na~O!Z.bO!k(na~P!6TO!W3QO~O#}!na![!na~PKvO#}!fa!Z!fa![!fa~P#CuO#}!ra![!ra~P!8nO#}!ta![!ta~P!;XO!]3dO$YfO$c3eO~O![3iO~Oo3jO~P#-[O^$lq!Z$lq'|$lq'z$lq!W$lq!k$lqo$lq!]$lq%e$lq!e$lq~P!6TO!W3kO~Ol.}O(XTO([UO~Oy)sO|)tO(z)xOg%]i(y%]i!Z%]i#]%]i~Od%]i#}%]i~P$NtOy)sO|)tOg%_i(y%_i(z%_i!Z%_i#]%_i~Od%_i#}%_i~P% gO(r$WO~P#-[O!Y3nO(V%eO!Z'lX!k'lX~O!Z/VO!k)Pa~O!Z/VO!e#rO!k)Pa~O!Z/VO!e#rO(r'dO!k)Pa~Od$yi!Z$yi#]$yi#}$yi~P!0TO!Y3vO(V*UO!W'nX!Z'nX~P!0rO!Z/_O!W)Qa~O!Z/_O!W)Qa~P#-[O!e#rO~O!e#rO#s4OO~Ok4RO!e#rO(r'dO~Od(bi!Z(bi~P!0TO#]4UOd(bi!Z(bi~P!0TO!k4XO~O^$mq!Z$mq'|$mq'z$mq!W$mq!k$mqo$mq!]$mq%e$mq!e$mq~P!6TO!Z4]O!])RX~P#-[O!j#tO~P5uO!]$wX%YYX^$wX!Z$wX'|$wX~P!.zO%Y4`OghXyhX|hX!]hX(yhX(zhX^hX!ZhX'|hX~O%Y4`O~O%f4gO(V+^O(XTO([UO!Z'wX!['wX~O!Z0cO![)Xa~OX4kO~O]4lO~O!W4pO~O^%^O'|%^O~P#-[O!]$yO~P#-[O!Z4uO#]4wO![)UX~O![4xO~Ol!kO|4zO!`5XO!a5OO!b5OO!};oO#R5WO#S5VO#T5VO#U5UO#X5TO#Y!wO(W!iO(XTO([UO(g!jO(q!nO~O![5SO~P%)kOg5^O!]1OO%e5]O~Og5^O!]1OO%e5]O(`%OO~O(V#jO!Z'vX!['vX~O!Z1ZO![)Va~O(XTO([UO(g5gO~O]5kO~O!k5nO~P%|O^5pO~O^5pO~P%|O#s5rO&W5sO~PNzO_1qO![5wO&j1pO~P`O!e5yO~O!e5{O!Z(li![(li!e(li!l(li(`(li~O!Z#ei![#ei~P#CuO#]5|O!Z#ei![#ei~O!Z!_i![!_i~P#CuO^%^O#]6UO'|%^O~O^%^O!e#rO#]6UO'|%^O~O^%^O!e#rO!p6ZO#]6UO'|%^O(r'dO~O!l%ZO(`%OO~P%.xO!a6[O!b6[O(W!iO~PDoO!`6_O!a6[O!b6[O#X6`O#Y6`O(W!iO~PDoO!Z(]O!k(sq~O!Z(tq!k(tq^(tq'|(tq~P!6TO|%zO!]%{O#g6dO(V%eO~O!]%gO%e6gO~Og6jO!]%gO%e6gO~O#h%]iP%]iX%]i^%]ik%]iz%]i!i%]i!j%]i!l%]i!p%]i#k%]i#l%]i#m%]i#n%]i#o%]i#p%]i#q%]i#r%]i#s%]i#u%]i#w%]i#y%]i#z%]i'|%]i(d%]i(r%]i!k%]i!W%]i'z%]io%]i!]%]i%e%]i!e%]i~P$NtO#h%_iP%_iX%_i^%_ik%_iz%_i!i%_i!j%_i!l%_i!p%_i#k%_i#l%_i#m%_i#n%_i#o%_i#p%_i#q%_i#r%_i#s%_i#u%_i#w%_i#y%_i#z%_i'|%_i(d%_i(r%_i!k%_i!W%_i'z%_io%_i!]%_i%e%_i!e%_i~P% gO#h$yiP$yiX$yi^$yik$yiz$yi!Z$yi!i$yi!j$yi!l$yi!p$yi#k$yi#l$yi#m$yi#n$yi#o$yi#p$yi#q$yi#r$yi#s$yi#u$yi#w$yi#y$yi#z$yi'|$yi(d$yi(r$yi!k$yi!W$yi'z$yi#]$yio$yi!]$yi%e$yi!e$yi~P#-[Od'ba!Z'ba~P!0TO!Z'ca!k'ca~P!6TO!Z.bO!k(ni~O#}#`i!Z#`i![#`i~P#CuOP$YOy#vOz#wO|#xO!j#tO!l#uO!p$YO(dVOX#jik#ji!i#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(r#ji(y#ji(z#ji!Z#ji![#ji~O#k#ji~P%9[O#k;wO~P%9[OP$YOy#vOz#wO|#xO!j#tO!l#uO!p$YO#k;wO#l;xO#m;xO#n;xO(dVOX#ji!i#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(r#ji(y#ji(z#ji!Z#ji![#ji~Ok#ji~P%;gOk;yO~P%;gOP$YOk;yOy#vOz#wO|#xO!j#tO!l#uO!p$YO#k;wO#l;xO#m;xO#n;xO#o;zO(dVO#u#ji#w#ji#y#ji#z#ji#}#ji(r#ji(y#ji(z#ji!Z#ji![#ji~OX#ji!i#ji#p#ji#q#ji#r#ji#s#ji~P%=rOX<VO!i;{O#p;{O#q;{O#r<UO#s;{O~P%=rOP$YOX<VOk;yOy#vOz#wO|#xO!i;{O!j#tO!l#uO!p$YO#k;wO#l;xO#m;xO#n;xO#o;zO#p;{O#q;{O#r<UO#s;{O#u;|O(dVO#w#ji#y#ji#z#ji#}#ji(r#ji(z#ji!Z#ji![#ji~O(y#ji~P%@^O(y#yO~P%@^OP$YOX<VOk;yOy#vOz#wO|#xO!i;{O!j#tO!l#uO!p$YO#k;wO#l;xO#m;xO#n;xO#o;zO#p;{O#q;{O#r<UO#s;{O#u;|O#w<OO(dVO(y#yO#y#ji#z#ji#}#ji(r#ji!Z#ji![#ji~O(z#ji~P%BiO(z#zO~P%BiOP$YOX<VOk;yOy#vOz#wO|#xO!i;{O!j#tO!l#uO!p$YO#k;wO#l;xO#m;xO#n;xO#o;zO#p;{O#q;{O#r<UO#s;{O#u;|O#w<OO#y<QO(dVO(y#yO(z#zO~O#z#ji#}#ji(r#ji!Z#ji![#ji~P%DtO^#{y!Z#{y'|#{y'z#{y!W#{y!k#{yo#{y!]#{y%e#{y!e#{y~P!6TOg=jOy)sO|)tO(y)vO(z)xO~OP#jiX#jik#jiz#ji!i#ji!j#ji!l#ji!p#ji#k#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(d#ji(r#ji!Z#ji![#ji~P%GlO!j#tOP(cXX(cXg(cXk(cXy(cXz(cX|(cX!i(cX!l(cX!p(cX#k(cX#l(cX#m(cX#n(cX#o(cX#p(cX#q(cX#r(cX#s(cX#u(cX#w(cX#y(cX#z(cX#}(cX(d(cX(r(cX(y(cX(z(cX!Z(cX![(cX~O#}$Oi!Z$Oi![$Oi~P#CuO#}!ri![!ri~P$'SO![6vO~O!Z'ka!['ka~P#CuO!e#rO(r'dO!Z'la!k'la~O!Z/VO!k)Pi~O!Z/VO!e#rO!k)Pi~Od$yq!Z$yq#]$yq#}$yq~P!0TO!W'na!Z'na~P#-[O!e6}O~O!Z/_O!W)Qi~P#-[O!Z/_O!W)Qi~O!W7RO~O!e#rO#s7WO~Ok7XO!e#rO(r'dO~O!W7ZO~Od${q!Z${q#]${q#}${q~P!0TO^$my!Z$my'|$my'z$my!W$my!k$myo$my!]$my%e$my!e$my~P!6TO!Z4]O!])Ra~O^#`y!Z#`y'|#`y'z#`y!W#`y!k#`yo#`y!]#`y%e#`y!e#`y~P!6TOX7`O~O!Z0cO![)Xi~O]7fO~O!e5{O~O(g(qO!Z'sX!['sX~O!Z4uO![)Ua~O!l%ZO(`%OO^(lX!e(lX!p(lX#](lX'|(lX(r(lX~O(V7oO~P/vO!};oO#R7rO#S7qO#T7qO#U7pO#X'bO#Y'bO~PDoO^%^O!e#rO!p'hO#]'fO'|%^O(r'dO~O![7vO~P%)kOl!kO(XTO([UO(g!jO(q!nO~O|7wO~P&%vO!`7{O!a7zO!b7zO#U7pO#X'bO#Y'bO(W!iO~PDoO!`7{O!a7zO!b7zO#S7|O#T7|O#U7pO#X'bO#Y'bO(W!iO~PDoO!a7zO!b7zO(W!iO(g!jO(q!nO~O!]1OO~O!]1OO%e8OO~Og8RO!]1OO%e8OO~OX8WO!Z'va!['va~O!Z1ZO![)Vi~O!k8[O~O!k8]O~O!k8^O~O!k8^O~P%|O^8`O~O!e8cO~O!k8dO~O!Z(wi![(wi~P#CuO^%^O#]8lO'|%^O~O^%^O!e#rO#]8lO'|%^O~O^%^O!e#rO!p8pO#]8lO'|%^O(r'dO~O!l%ZO(`%OO~P&*dO!a8qO!b8qO(W!iO~PDoO!Z(]O!k(sy~O!Z(ty!k(ty^(ty'|(ty~P!6TO!]%gO%e8uO~O#h$yqP$yqX$yq^$yqk$yqz$yq!Z$yq!i$yq!j$yq!l$yq!p$yq#k$yq#l$yq#m$yq#n$yq#o$yq#p$yq#q$yq#r$yq#s$yq#u$yq#w$yq#y$yq#z$yq'|$yq(d$yq(r$yq!k$yq!W$yq'z$yq#]$yqo$yq!]$yq%e$yq!e$yq~P#-[O#h${qP${qX${q^${qk${qz${q!Z${q!i${q!j${q!l${q!p${q#k${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#u${q#w${q#y${q#z${q'|${q(d${q(r${q!k${q!W${q'z${q#]${qo${q!]${q%e${q!e${q~P#-[O!Z'ci!k'ci~P!6TO#}#`q!Z#`q![#`q~P#CuOy/yOz/yO|/zOPvaXvagvakva!iva!jva!lva!pva#kva#lva#mva#nva#ova#pva#qva#rva#sva#uva#wva#yva#zva#}va(dva(rva(yva(zva!Zva![va~Oy)sO|)tOP$paX$pag$pak$paz$pa!i$pa!j$pa!l$pa!p$pa#k$pa#l$pa#m$pa#n$pa#o$pa#p$pa#q$pa#r$pa#s$pa#u$pa#w$pa#y$pa#z$pa#}$pa(d$pa(r$pa(y$pa(z$pa!Z$pa![$pa~Oy)sO|)tOP$raX$rag$rak$raz$ra!i$ra!j$ra!l$ra!p$ra#k$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#u$ra#w$ra#y$ra#z$ra#}$ra(d$ra(r$ra(y$ra(z$ra!Z$ra![$ra~OP%QaX%Qak%Qaz%Qa!i%Qa!j%Qa!l%Qa!p%Qa#k%Qa#l%Qa#m%Qa#n%Qa#o%Qa#p%Qa#q%Qa#r%Qa#s%Qa#u%Qa#w%Qa#y%Qa#z%Qa#}%Qa(d%Qa(r%Qa!Z%Qa![%Qa~P%GlO#}$lq!Z$lq![$lq~P#CuO#}$mq!Z$mq![$mq~P#CuO![9PO~O#}9QO~P!0TO!e#rO!Z'li!k'li~O!e#rO(r'dO!Z'li!k'li~O!Z/VO!k)Pq~O!W'ni!Z'ni~P#-[O!Z/_O!W)Qq~O!W9WO~P#-[O!W9WO~Od(by!Z(by~P!0TO!Z'qa!]'qa~P#-[O!]%Xq^%Xq!Z%Xq'|%Xq~P#-[OX9]O~O!Z0cO![)Xq~O#]9aO!Z'sa!['sa~O!Z4uO![)Ui~P#CuOPYXXYXkYXyYXzYX|YX!WYX!ZYX!iYX!jYX!lYX!pYX#]YX#hcX#kYX#lYX#mYX#nYX#oYX#pYX#qYX#rYX#sYX#uYX#wYX#yYX#zYX$PYX(dYX(rYX(yYX(zYX~O!e%VX#s%VX~P&=OO#X-cO#Y-cO~PDoO#U9eO#X-cO#Y-cO~PDoO#S9fO#T9fO#U9eO#X-cO#Y-cO~PDoO!a9iO!b9iO(W!iO(g!jO(q!nO~O!`9lO!a9iO!b9iO#U9eO#X-cO#Y-cO(W!iO~PDoO!]1OO%e9oO~O(XTO([UO(g9tO~O!Z1ZO![)Vq~O!k9wO~O!k9wO~P%|O!k9yO~O!k9zO~O#]9|O!Z#ey![#ey~O!Z#ey![#ey~P#CuO^%^O#]:QO'|%^O~O^%^O!e#rO#]:QO'|%^O~O^%^O!e#rO!p:UO#]:QO'|%^O(r'dO~O!]%gO%e:XO~O#}#{y!Z#{y![#{y~P#CuOP$yiX$yik$yiz$yi!i$yi!j$yi!l$yi!p$yi#k$yi#l$yi#m$yi#n$yi#o$yi#p$yi#q$yi#r$yi#s$yi#u$yi#w$yi#y$yi#z$yi#}$yi(d$yi(r$yi!Z$yi![$yi~P%GlOy)sO|)tO(z)xOP%]iX%]ig%]ik%]iz%]i!i%]i!j%]i!l%]i!p%]i#k%]i#l%]i#m%]i#n%]i#o%]i#p%]i#q%]i#r%]i#s%]i#u%]i#w%]i#y%]i#z%]i#}%]i(d%]i(r%]i(y%]i!Z%]i![%]i~Oy)sO|)tOP%_iX%_ig%_ik%_iz%_i!i%_i!j%_i!l%_i!p%_i#k%_i#l%_i#m%_i#n%_i#o%_i#p%_i#q%_i#r%_i#s%_i#u%_i#w%_i#y%_i#z%_i#}%_i(d%_i(r%_i(y%_i(z%_i!Z%_i![%_i~O#}$my!Z$my![$my~P#CuO#}#`y!Z#`y![#`y~P#CuO!e#rO!Z'lq!k'lq~O!Z/VO!k)Py~O!W'nq!Z'nq~P#-[O!W:`O~P#-[O!Z0cO![)Xy~O!Z4uO![)Uq~O#X2fO#Y2fO~PDoO#U:gO#X2fO#Y2fO~PDoO!a:kO!b:kO(W!iO(g!jO(q!nO~O!]1OO%e:nO~O!k:qO~O^%^O#]:vO'|%^O~O^%^O!e#rO#]:vO'|%^O~O!]%gO%e:{O~OP$yqX$yqk$yqz$yq!i$yq!j$yq!l$yq!p$yq#k$yq#l$yq#m$yq#n$yq#o$yq#p$yq#q$yq#r$yq#s$yq#u$yq#w$yq#y$yq#z$yq#}$yq(d$yq(r$yq!Z$yq![$yq~P%GlOP${qX${qk${qz${q!i${q!j${q!l${q!p${q#k${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#u${q#w${q#y${q#z${q#}${q(d${q(r${q!Z${q![${q~P%GlOd%a!Z!Z%a!Z#]%a!Z#}%a!Z~P!0TO!Z'sq!['sq~P#CuO#X6`O#Y6`O~PDoO!Z#e!Z![#e!Z~P#CuO^%^O#];ZO'|%^O~O#h%a!ZP%a!ZX%a!Z^%a!Zk%a!Zz%a!Z!Z%a!Z!i%a!Z!j%a!Z!l%a!Z!p%a!Z#k%a!Z#l%a!Z#m%a!Z#n%a!Z#o%a!Z#p%a!Z#q%a!Z#r%a!Z#s%a!Z#u%a!Z#w%a!Z#y%a!Z#z%a!Z'|%a!Z(d%a!Z(r%a!Z!k%a!Z!W%a!Z'z%a!Z#]%a!Zo%a!Z!]%a!Z%e%a!Z!e%a!Z~P#-[OP%a!ZX%a!Zk%a!Zz%a!Z!i%a!Z!j%a!Z!l%a!Z!p%a!Z#k%a!Z#l%a!Z#m%a!Z#n%a!Z#o%a!Z#p%a!Z#q%a!Z#r%a!Z#s%a!Z#u%a!Z#w%a!Z#y%a!Z#z%a!Z#}%a!Z(d%a!Z(r%a!Z!Z%a!Z![%a!Z~P%GlOo(hX~P3_O(W!iO~P!)]O!WcX!ZcX#]cX~P&=OOPYXXYXkYXyYXzYX|YX!ZYX!ZcX!iYX!jYX!lYX!pYX#]YX#]cX#hcX#kYX#lYX#mYX#nYX#oYX#pYX#qYX#rYX#sYX#uYX#wYX#yYX#zYX$PYX(dYX(rYX(yYX(zYX~O!ecX!kYX!kcX(rcX~P')VOP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!SkO!TkO!UkO!VkO!]XO!g;qO!lZO!o;nO!p;nO!q;nO!s;rO!u;sO!xwO!ywO$U!hO$YfO(V)RO(XTO([UO(dVO(q[O)O=]O~O!Z<SO![$oa~Oi%POk$qOl$pOm$pOs%QOu%ROw<YO|$xO!]$yO!g=dO!l$uO#g<`O$U%VO$q<[O$s<^O$v%WO(V(iO(XTO([UO(`%OO(d$rO~O#t)YO~P'.[O![YX![cX~P')VO#h;vO~O!e#rO#h;vO~O#]<WO~O#s;{O~O#]<bO!Z(wX![(wX~O#]<WO!Z(uX![(uX~O#h<cO~Od<eO~P!0TO#h<jO~O#h<kO~O!e#rO#h<lO~O!e#rO#h<cO~O#}<mO~P#CuO#h<nO~O#h<oO~O#h<pO~O#h<qO~O#h<rO~O#h<sO~O#}<tO~P!0TO#}<uO~P!0TO$Y~!j#R#T#U#X#f#g#r)O$q$s$v%Y%d%e%f%l%n%q%r%t%v~(QR$Y)O#l!V(O(W#ml#k#nky(P(g(P(V$[$^$[~",goto:"$/k)]PPPP)^P)aP)qP+s/xPPPP6{PP7bP=`APPAdPAdPPPAdPCSPAdPAdPAdPCWPPC]PCvPHrPPPPPPPHvPPPPHvKxPPPLONOPHvP!!fPPPP!$wHvPPPHvPHvP!'YHvPP!*o!+q!+vP!,h!,l!,hPPPP!/x!1}PP!2W!3bP!+qHvHv!6t!:P!?Y!?Y!CQPPP!CXHvPPPPPPPPPPP!FgP!G{PPHv!I]PHvPHvHvHvHvPHv!JrPP!M{P##QP##U##`##d##dP!MxP##h##hP#&mP#&qHvHv#&w#){AdPAdPAdAdP#+VAdAd#-PAd#/^Ad#1QAdAd#1n#3j#3j#3n#3v#3j#4OP#3jPAd#4zAd#6SAdAd6{PPP#7_PP#7w#7wP#7wP#8^#7wPP#8dP#8ZP#8Z#8v!2S#8Z#9b#9h6x)a#9k)aPP#9r#9r#9rP)aPP)aP)aPP)aPPPP)aP#9x#9{P#9{)aPP#:PPPP#:SPP)aPP)aPP)aPP)aPP)aP)a)aPP#:Y#:`#:j#:p#:v#:|#;S#;b#;h#;n#;x#<O#<z#=Z#=a#=s#=y#>P#>_#>t#@U#@d#@j#@p#@v#@|#AW#A^#Ad#An#BQ#BWPPPPPPPPPP#B^PPPPPPP#CQ#FlP#HX#H`#HhPPPP#Lr$ h$(W$(Z$(^$*Z$*^$*a$*hPP$*n$*r$+k$,k$,o$-TPP$-X$-_$-cP$-f$-j$-m$.c$.y$/O$/R$/U$/[$/_$/c$/gR!yRmpOXr!Y#a%]&h&j&k&m,d,i1k1nU!pQ%g+PQ%ctQ%oxQ%v{Q&`!US&|!d,|Q'W!f[']!m!r!s!t!u!vS*[$y*aQ+[%pQ+i%xQ,T&YQ-S'TQ-W'XW-`'^'_'`'aQ/p*cQ1Y,UU2b-b-d-eS5O1O5RS6[2e2gU7z5V5W5XQ8q6_S9i7{7|Q:k9lR<a;r%QdOPWXYZrstu!Y!_!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%i%t&a&d&h&j&k&m&q&y'f'v'x(O(Y(k(o(s)r*t+T+n,`,d,i-[-o-x.b.i/z0P0b1R1c1d1e1g1k1n1p2]2k2}4z5^5p5r5s6U7w8R8`8l:Q:v;ZS#m];o!r)T$X$j&})g,u,x.q2P3d4w5|9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q*l%SQ+a%rQ,V&]Q,^&eQ.X<XQ0T*|Q0]+UQ0h+bQ1b,[Q2q.UQ4f0cQ5e1ZQ6i2uQ6o<YQ7b4gR8x6j'OkOPWXYZrstu!Y!_!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%i%t&a&d&e&h&j&k&m&q&y&}'f'v'x(O(Y(k(o(s)g)r*t*|+T+n,`,d,i,u,x-[-o-x.U.b.i.q/z0P0b1R1c1d1e1g1k1n1p2P2]2k2u2}3d4w4z5^5p5r5s5|6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`#S!kQ!m!p!r!s!t!u!v!w%g&|'T']'^'_'`'a'b+P,|-S-`-b-c-d-e1O2b2e2f2g4{5R5T5U5V5W6[6_6`7p7q7r7|8q9e9f:g$Y$pi#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+U+s+v.T._/^/_/a/|0u0x1Q2t3l3v4O4U4]4`5]6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jQ%y{Q&z!dS'Q%{-PQ+a%rS.})t/PQ/{*pQ0h+bQ0m+hQ1a,ZQ1b,[Q4f0cQ4o0oQ5h1]Q5i1`Q7b4gQ7e4lQ8Z5kQ9`7fR9u8WpmOXr!U!Y#a%]&_&h&j&k&m,d,i1k1nR,X&a&x`OPXYrstuy!Y!_!g!l#P#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%i%t&a&d&e&h&j&k&m&q&y'f'x(O(Y(k(o(s)g)r*t*|+T+n,`,d,i,u,x-[-o-x.U.b.i.q/z0P0b1R1c1d1e1g1k1n1p2P2]2k2u2}3d4w4z5^5p5r5s5|6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=_=`[#YWZ#T#W&}'vQ%fvQ%jwQ%nxS%s{%x!U%|}!O#d#f#i%Z%z(P(W(X(]+l+m+o,b,v-s-v-z-{-}1s2m2n5{6dQ&U!SQ'V!fQ(d#oS*O$u*SS+Z%o%pQ+_%rQ,O&WQ,S&YS-V'W'XQ.W(eQ/Z*PQ0a+[Q0g+bQ0i+cQ0l+gQ1T,PS1X,T,UQ2X-WQ3m/VQ4e0cQ4i0fQ4n0nQ5d1YQ6z3nQ7a4gQ7d4kQ9[7`R:b9]v$wi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!`%lx!f!o%n%o%p&{'V'W'X'['i*Z+Z+[,y-V-W-_-a/h0a2U2X2`2d4Q6Y6^8o:TQ*}%fQ+t&RQ+w&SQ,R&YQ.V(dQ1S,OU1W,S,T,UQ2v.WQ5_1TS5c1X1YS7n4y4}Q8V5dU9g7s7x7yU:i9h9j9kQ;R:jQ;a;S!z=a#r$`$a$u$x)n)z*X*{+U+s+v.T/_/a0u0x1Q2t3v4O4]4`5]6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jg=b<U<V<[<^<`<g<i<k<o<q<uW$|i%O*i=]S&R!P&_Q&S!QQ&T!RR+r&P$Z${i#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+U+s+v.T._/^/_/a/|0u0x1Q2t3l3v4O4U4]4`5]6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jT)o$r)pV*m%S<X<YU'Q!d%{-PS(r#v#wQ+f%uS.P(`(aQ0y+xQ4V/yR7j4u'OkOPWXYZrstu!Y!_!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%i%t&a&d&e&h&j&k&m&q&y&}'f'v'x(O(Y(k(o(s)g)r*t*|+T+n,`,d,i,u,x-[-o-x.U.b.i.q/z0P0b1R1c1d1e1g1k1n1p2P2]2k2u2}3d4w4z5^5p5r5s5|6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`$o$]c#V#b%a%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+e,z-h-m-r-w.^.d.h.j.k.l.{/}1z1}2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4c6O6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=ST#QV#R'PkOPWXYZrstu!Y!_!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%i%t&a&d&e&h&j&k&m&q&y&}'f'v'x(O(Y(k(o(s)g)r*t*|+T+n,`,d,i,u,x-[-o-x.U.b.i.q/z0P0b1R1c1d1e1g1k1n1p2P2]2k2u2}3d4w4z5^5p5r5s5|6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q'O!dR2Q,|!z!kQ!d!m!p!r!s!t!u!v!w%g&|'T']'^'_'`'a'b+P,|-S-`-b-c-d-e2b2e2f2g4{5T5U6[6_6`7p7q7r8q9e9f:gS*Z$y*aS/h*[*cQ/q*dQ0{+zQ4Q/pQ4T/sS4y1O5RS7s5O5XS7x5V5WS9h7z7{Q9j7|S:j9i9lR;S:klpOXr!Y#a%]&h&j&k&m,d,i1k1nQ&o!]Q'j!tS(f#q;vQ+X%mQ+|&UQ+}&VQ-T'UQ-g'cS.](k<cS0O*t<lQ0_+YQ0}+{Q1r,kQ1t,lQ1|,wQ2V-UQ2Y-YS4[0P<rQ4a0`S4d0b<sQ5}2OQ6Q2WQ6V2_Q7_4bQ8g6PQ8h6RQ8k6WQ9{8dQ:P8mQ:u:RR;Y:w$j$[c#V#b%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+e,z-h-m-r-w.^.d.h.k.l.{/}1z1}2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4c6O6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=SS(c#l'ZU*f$z(j3aS*x%a.jQ2r0TQ6f2qQ8w6iR:Y8x$j$Zc#V#b%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+e,z-h-m-r-w.^.d.h.k.l.{/}1z1}2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4c6O6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=SS(b#l'ZS(t#w$[S*w%a.jS.Q(a(cQ.m)UQ0Q*xR2o.R'OkOPWXYZrstu!Y!_!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%i%t&a&d&e&h&j&k&m&q&y&}'f'v'x(O(Y(k(o(s)g)r*t*|+T+n,`,d,i,u,x-[-o-x.U.b.i.q/z0P0b1R1c1d1e1g1k1n1p2P2]2k2u2}3d4w4z5^5p5r5s5|6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`S#m];oQ&j!WQ&k!XQ&m!ZQ&n![R1j,gQ%hwQ*z%fQ+S%jS.S(d*}Q0X+RW2s.V.W0S0UQ4_0YU6e2p2r2vS8t6f6hS:W8v8wS:y:V:YQ;[:zR;e;]V!qQ%g+P!_^OQXZ_r!U!Y!m#a#d%Z%]%g&_&a&h&j&k&m(]+P,d,i-z1O1k1n4{5RT#m];o%[zOPWXYZrstu!Y!_!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%i%t&a&d&e&h&j&k&m&q&y'f'v'x(O(Y(k(o(s)r*t*|+T+n,`,d,i-[-o-x.U.b.i/z0P0b1R1c1d1e1g1k1n1p2]2k2u2}4z5^5p5r5s6U6j7w8R8`8l:Q:v;ZS(r#v#wS.P(`(a!s<y$X$j&})g,u,x.q2P3d4w5|9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`U!oQ%g+PY'[!m!s!t!u!vS'i!p!rW'k!w4{5T5US-_']'^U-a'_'`'aW-f'b7p7q7rS2`-`-bU2c-c9e9fS2d-d-eS4}1O5RS6Y2b2eS6]2f:gQ6^2gS7s5O5XS7y5V5WS8o6[6_Q8r6`S9h7z7{Q9k7|Q:T8qS:j9i9lR;S:kU!qQ%g+PT5P1O5RU'h!o4|4}S([#e1hU-^'['k7yQ/Y*OQ/f*ZU2a-a-f9kQ3r/ZS3{/g/qS6Z2c2dQ6y3mS7U4R4TS8p6]6^Q9S6zQ9Z7XR:U8rQ#sbU'g!o4|4}S(Z#e1hQ*u%[Q+V%kQ+]%qW-]'['h'k7yQ-y([Q/X*OQ/e*ZQ/k*^Q0^+WQ1U,QW2^-^-a-f9kS3q/Y/ZS3z/f/qQ3}/jQ4P/lQ5a1VU6X2a2c2dQ6x3mQ6|3rS7Q3{4TQ7V4SQ8T5bU8n6Z6]6^S9R6y6zQ9V7RQ9X7UQ9c7mQ9r8US:S8p8rQ:^9SQ:_9WQ:a9ZQ:f9dQ:p9sQ:x:UQ:}:`Q;P:hQ;_;QQ;h;`Q;l;iQ<|<wQ=X=QR=Y=R%[aOPWXYZrstu!Y!_!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%i%t&a&d&e&h&j&k&m&q&y'f'v'x(O(Y(k(o(s)r*t*|+T+n,`,d,i-[-o-x.U.b.i/z0P0b1R1c1d1e1g1k1n1p2]2k2u2}4z5^5p5r5s6U6j7w8R8`8l:Q:v;ZS#sy!g!r<v$X$j&})g,u,x.q2P3d4w5|9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`R<|=_%[bOPWXYZrstu!Y!_!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%i%t&a&d&e&h&j&k&m&q&y'f'v'x(O(Y(k(o(s)r*t*|+T+n,`,d,i-[-o-x.U.b.i/z0P0b1R1c1d1e1g1k1n1p2]2k2u2}4z5^5p5r5s6U6j7w8R8`8l:Q:v;ZQ%[j!`%kx!f!o%n%o%p&{'V'W'X'['i*Z+Z+[,y-V-W-_-a/h0a2U2X2`2d4Q6Y6^8o:TS%qy!gQ+W%lQ,Q&YW1V,R,S,T,UU5b1W1X1YS7m4y4}S8U5c5dW9d7n7s7x7yQ9s8VW:h9g9h9j9kS;Q:i:jS;`;R;SQ;i;a!r<w$X$j&})g,u,x.q2P3d4w5|9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q=Q=^R=R=_%OeOPXYrstu!Y!_!l#P#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%i%t&a&d&h&j&k&m&q&y'f'x(O(Y(k(o(s)r*t*|+T+n,`,d,i-[-o-x.U.b.i/z0P0b1R1c1d1e1g1k1n1p2]2k2u2}4z5^5p5r5s6U6j7w8R8`8l:Q:v;ZY#_WZ#T#W'v!U%|}!O#d#f#i%Z%z(P(W(X(]+l+m+o,b,v-s-v-z-{-}1s2m2n5{6dQ,_&e!p<x$X$j)g,u,x.q2P3d4w5|9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`R<{&}S'R!d%{R2S-P%QdOPWXYZrstu!Y!_!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%i%t&a&d&h&j&k&m&q&y'f'v'x(O(Y(k(o(s)r*t+T+n,`,d,i-[-o-x.b.i/z0P0b1R1c1d1e1g1k1n1p2]2k2}4z5^5p5r5s6U7w8R8`8l:Q:v;Z!r)T$X$j&})g,u,x.q2P3d4w5|9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q,^&eQ0T*|Q2q.UQ6i2uR8x6j!l$Rc#V%a'u'{(g(n(})O)P)Q)V)Z+e-h-m-r-w.^.d.{/}2Z2j2|3_4Z4c6T6b6m8j:O:t;X;d;p!T;})S)e,z.j1z1}3R3Z3[3]3^3b3h6O6n6s6t7l8f8y8}9O:d:r=S!h$Tc#V%a'u'{(g(n)P)Q)V)Z+e-h-m-r-w.^.d.{/}2Z2j2|3_4Z4c6T6b6m8j:O:t;X;d;p!P<P)S)e,z.j1z1}3R3]3^3b3h6O6n6s6t7l8f8y8}9O:d:r=S!d$Xc#V%a'u'{(g(n)V)Z+e-h-m-r-w.^.d.{/}2Z2j2|3_4Z4c6T6b6m8j:O:t;X;d;pQ3l/Tz=`)S)e,z.j1z1}3R3b3h6O6n6s6t7l8f8y8}9O:d:r=SQ=e=gR=f=h'OkOPWXYZrstu!Y!_!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%i%t&a&d&e&h&j&k&m&q&y&}'f'v'x(O(Y(k(o(s)g)r*t*|+T+n,`,d,i,u,x-[-o-x.U.b.i.q/z0P0b1R1c1d1e1g1k1n1p2P2]2k2u2}3d4w4z5^5p5r5s5|6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`S$kh$lR3e.p'VgOPWXYZhrstu!Y!_!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%i%t&a&d&e&h&j&k&m&q&y&}'f'v'x(O(Y(k(o(s)g)r*t*|+T+n,`,d,i,u,x-[-o-x.U.b.i.p.q/z0P0b1R1c1d1e1g1k1n1p2P2]2k2u2}3d4w4z5^5p5r5s5|6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`T$gf$mQ$efS)^$h)bR)j$mT$ff$mT)`$h)b'VhOPWXYZhrstu!Y!_!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%i%t&a&d&e&h&j&k&m&q&y&}'f'v'x(O(Y(k(o(s)g)r*t*|+T+n,`,d,i,u,x-[-o-x.U.b.i.p.q/z0P0b1R1c1d1e1g1k1n1p2P2]2k2u2}3d4w4z5^5p5r5s5|6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`T$kh$lQ$nhR)i$l%[jOPWXYZrstu!Y!_!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%i%t&a&d&e&h&j&k&m&q&y'f'v'x(O(Y(k(o(s)r*t*|+T+n,`,d,i-[-o-x.U.b.i/z0P0b1R1c1d1e1g1k1n1p2]2k2u2}4z5^5p5r5s6U6j7w8R8`8l:Q:v;Z!s=^$X$j&})g,u,x.q2P3d4w5|9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`#alOPXZr!Y!_!l#P#a#k#x$j%]%i&a&d&e&h&j&k&m&q&y(s)g*|+T+n,`,d,i.U.q/z1R1c1d1e1g1k1n1p2u3d4z5^5p5r5s6j7w8R8`v$zi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!z(j#r$`$a$u$x)n)z*X*{+U+s+v.T/_/a0u0x1Q2t3v4O4]4`5]6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jQ*q%WQ.|)sg3a<U<V<[<^<`<g<i<k<o<q<uv$vi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=fQ*T$wS*^$y*aQ*r%XQ/l*_!z=O#r$`$a$u$x)n)z*X*{+U+s+v.T/_/a0u0x1Q2t3v4O4]4`5]6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jf=P<U<V<[<^<`<g<i<k<o<q<uQ=T=aQ=U=bQ=V=cR=W=dv$zi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!z(j#r$`$a$u$x)n)z*X*{+U+s+v.T/_/a0u0x1Q2t3v4O4]4`5]6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jg3a<U<V<[<^<`<g<i<k<o<q<ulnOXr!Y#a%]&h&j&k&m,d,i1k1nQ*W$xQ,r&tQ,s&vR3u/_$Y${i#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+U+s+v.T._/^/_/a/|0u0x1Q2t3l3v4O4U4]4`5]6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jQ+u&SQ0w+wQ4s0vR7i4tT*`$y*aS*`$y*aT5Q1O5RS/j*]4zT4S/r7wQ+V%kQ/k*^Q0^+WQ1U,QQ5a1VQ8T5bQ9c7mQ9r8UQ:f9dQ:p9sQ;P:hQ;_;QQ;h;`R;l;in)w$s(l*s/]/t/u2z3s4Y6w7Y:]<}=Z=[!W<f(h)X)}*V.[.x/T/b0R0t0v2y3t3x4r4t6k6l7O7S7[7^9U9Y:|=g=h]<g3`6r8z:Z:[;fp)y$s(l*s/R/]/t/u2z3s4Y6w7Y:]<}=Z=[!Y<h(h)X)}*V.[.x/T/b0R0t0v2w2y3t3x4r4t6k6l7O7S7[7^9U9Y:|=g=h_<i3`6r8z8{:Z:[;fpmOXr!U!Y#a%]&_&h&j&k&m,d,i1k1nQ&[!TR,`&epmOXr!U!Y#a%]&_&h&j&k&m,d,i1k1nR&[!TQ+y&TR0s+rqmOXr!U!Y#a%]&_&h&j&k&m,d,i1k1nQ1P,OS5[1S1TU7}5Y5Z5_S9n8P8QS:l9m9pQ;T:mR;b;UQ&c!UR,Y&_R5h1]S%s{%xR0i+cQ&h!VR,d&iR,j&nT1l,i1nR,n&oQ,m&oR1u,nQ'm!xR-i'mQrOQ#aXT%`r#aQ!{TR'o!{Q#OUR'q#OQ)p$rR.y)pQ#RVR's#RQ#UWU'y#U'z-pQ'z#VR-p'{Q,}'OR2R,}Q.`(lR2{.`Q.c(nS3O.c3PR3P.dQ+P%gR0V+Pr_OXr!U!Y#a%]&_&a&h&j&k&m,d,i1k1nU!mQ%g+PS#dZ%ZY#n_!m#d-z4{Q-z(]T4{1O5RS#[W%zU(Q#[(R-qQ(R#]R-q'|Q-Q'RR2T-QQ(^#gQ-t(VW.O(^-t2h6aQ2h-uR6a2iQ)b$hR.r)bQ$lhR)h$lQ$_cU)W$_-l<TQ-l;pR<T)eQ/W*OW3o/W3p6{9TU3p/X/Y/ZS6{3q3rR9T6|#m)u$s(h(l)X)}*V*n*o*s.Y.Z.[.x/R/S/T/]/b/t/u0R0t0v2w2x2y2z3`3s3t3x4Y4r4t6k6l6p6q6r6w7O7S7Y7[7^8z8{8|9U9Y:Z:[:]:|;f<}=Z=[=g=hQ/`*VU3w/`3y7PQ3y/bR7P3xQ*a$yR/n*aQ*j$}R/w*jQ4^0RR7]4^Q+p%}R0r+pQ4v0yS7k4v9bR9b7lQ+{&UR0|+{Q5R1OR7u5RQ1[,VS5f1[8XR8X5hQ0d+_W4h0d4j7c9^Q4j0gQ7c4iR9^7dQ+d%sR0j+dQ1n,iR5v1nWqOXr#aQ&l!YQ*v%]Q,c&hQ,e&jQ,f&kQ,h&mQ1i,dS1l,i1nR5u1kQ%_oQ&p!^Q&s!`Q&u!aQ&w!bU'e!o4|4}Q+k%yQ+q&OQ,X&cQ,p&rY-Z'['g'h'k7yQ/m*`S1_,Y,]Q1v,oQ1w,rQ1x,s[2[-]-^-a-f-h9kQ4m0mQ4q0tQ5`1UQ5j1aQ5t1jY6S2Z2^2a2c2dQ7g4oQ7h4rQ7t5QQ8S5aQ8Y5iY8i6T6X6Z6]6^Q9_7eQ9q8TQ9v8ZW9}8j8n8p8rQ:c9`Q:e9cQ:o9rU:s:O:S:UQ;O:fQ;V:pS;W:t:xQ;^;PQ;c;XQ;g;_Q;j;dQ;k;hR;m;lQ%mxQ'U!fQ'c!oU+Y%n%o%pQ,w&{U-U'V'W'XS-Y'['iQ/d*ZS0`+Z+[Q2O,yS2W-V-WS2_-_-aQ3|/hQ4b0aQ6P2UQ6R2XS6W2`2dQ7T4QS8m6Y6^Q:R8oR:w:TS$ti=]R*k%OU$}i%O=]R/v*iQ$siS(h#r+UQ(l#tS)X$`$aQ)}$uQ*V$xQ*n%TQ*o%UQ*s%YQ.Y<ZQ.Z<]Q.[<_Q.x)nQ/R)wQ/S)yQ/T)zQ/]*RQ/b*XQ/t*gQ/u*hh0R*{.T1Q2t5]6g8O8u9o:X:n:{Q0t+sQ0v+vQ2w<fQ2x<hQ2y<jQ2z._S3`<U<VQ3s/^Q3t/_Q3x/aQ4Y/|Q4r0uQ4t0xQ6k<nQ6l<pQ6p<[Q6q<^Q6r<`Q6w3lQ7O3vQ7S4OQ7Y4UQ7[4]Q7^4`Q8z<kQ8{<gQ8|<iQ9U6}Q9Y7WQ:Z<oQ:[<qQ:]9QQ:|<tQ;f<uQ<}=]Q=Z=eQ=[=fQ=g=iR=h=jloOXr!Y#a%]&h&j&k&m,d,i1k1nQ!ePS#cZ#kQ&r!_U'Y!l4z7wQ'r#PQ(u#xQ)f$jQ+R%iS,]&a&dQ,a&eQ,o&qQ,t&yQ.f(sQ.v)gQ0U*|Q0Y+TQ0p+nQ1f,`Q2r.UQ3g.qQ4W/zQ5Z1RQ5l1cQ5m1dQ5o1eQ5q1gQ5x1pQ6f2uQ6u3dQ8Q5^Q8_5pQ8a5rQ8b5sQ8w6jQ9p8RR9x8`#UcOPXZr!Y!_!l#a#k#x%]%i&a&d&e&h&j&k&m&q&y(s*|+T+n,`,d,i.U/z1R1c1d1e1g1k1n1p2u4z5^5p5r5s6j7w8R8`Q#VWQ#bYQ%asQ%btQ%duS'u#T'xQ'{#WQ(g#qQ(n#uQ(v#{Q(w#|Q(x#}Q(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)S$XQ)V$^Q)Z$bW)e$j)g.q3dQ*y%cQ+e%tS,z&}2PQ-h'fS-m'v-oQ-r(OQ-w(YQ.^(kQ.d(oQ.h;nQ.j;qQ.k;rQ.l;sQ.{)rQ/}*tQ1z,uQ1},xQ2Z-[Q2j-xQ2|.bQ3R;vQ3S;wQ3T;xQ3U;yQ3V;zQ3W;{Q3X;|Q3Y;}Q3Z<OQ3[<PQ3]<QQ3^<RQ3_.iQ3b<WQ3c<aQ3h<SQ4Z0PQ4c0bQ6O<bQ6T2]Q6b2kQ6m2}Q6n<cQ6s<eQ6t<lQ7l4wQ8f5|Q8j6UQ8y<mQ8}<rQ9O<sQ:O8lQ:d9aQ:r9|Q:t:QQ;X:vQ;d;ZQ;p#PR=S=`R#XWR'P!dU!oQ%g+PS&{!d,|Y'[!m!s!t!u!vS'i!p!r['k!w4{5T5U5V5WS,y&|'TS-_']'^U-a'_'`'aY-f'b7p7q7r7|Q2U-SS2`-`-bU2c-c9e9fS2d-d-eS4|1O5RS6Y2b2eS6]2f:gQ6^2gS8o6[6_Q8r6`R:T8qR(m#tR(p#uQ!eQT+O%g+PQ#l]R'Z;oT#hZ%ZS#gZ%ZU%}}!O,bU(V#d#f#iS-u(W(XQ-|(]Q0q+oQ2i-vU2l-z-{-}S6c2m2nR8s6d`#ZW#T#W%z'v(P+l-st#eZ}!O#d#f#i%Z(W(X(]+o-v-z-{-}2m2n6dQ1h,bQ1{,vQ5z1sQ8e5{T<z&}+mT#^W%zS#]W%zS'w#T(PS'|#W+lS,{&}+mT-n'v-sT'S!d%{Q$hfR)l$mT)a$h)bR3f.pT*Q$u*SR*Y$xQ0S*{Q2p.TQ5Y1QQ6h2tQ8P5]Q8v6gQ9m8OQ:V8uQ:m9oQ:z:XQ;U:nR;]:{lpOXr!Y#a%]&h&j&k&m,d,i1k1nQ&b!UR,X&_V&O}!O,bR0z+xR,W&]Q%w{R+j%xR+`%rT&f!V&iT&g!V&iT1m,i1n",nodeNames:"\u26a0 ArithOp ArithOp LineComment BlockComment Script ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation \u043d\u0443\u043b\u044c \u044d\u0442\u043e super constructor \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class \u043a\u043b\u0430\u0441\u0441 ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for \u0446\u0438\u043a\u043b ForSpec ForInSpec ForOfSpec of WhileStatement while \u043f\u043e\u043a\u0430 WithStatement with DoStatement do \u0434\u0435\u043b\u0430\u0442\u044c IfStatement if \u0435\u0441\u043b\u0438 else \u0438\u043d\u0430\u0447\u0435 SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try \u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c CatchClause catch \u043b\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u0439\u043c\u0430\u0442\u044c FinallyClause finally \u0432\u0441\u0435\u0433\u0434\u0430 ReturnStatement return \u0432\u0435\u0440\u043d\u0443\u0442\u044c ThrowStatement throw \u0431\u0440\u043e\u0441\u0438\u0442\u044c BreakStatement break \u043f\u0440\u0435\u0440\u0432\u0430\u0442\u044c ContinueStatement continue \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:hbt,nodeProps:[["group",-26,6,14,16,66,203,207,210,211,213,216,219,230,232,239,242,244,247,252,258,268,271,274,277,280,282,283,"Statement",-36,10,11,25,28,29,35,45,48,49,50,51,52,53,55,60,68,76,80,82,84,85,107,108,117,118,135,138,140,141,142,143,145,146,166,167,169,"Expression",-23,24,26,30,34,36,38,170,172,174,175,177,178,179,181,182,183,185,186,187,197,199,201,202,"Type",-3,89,100,106,"ClassItem"],["openedBy",31,"InterpolationStart",54,"[",58,"{",73,"(",147,"JSXStartTag",159,"JSXStartTag JSXStartCloseTag"],["closedBy",33,"InterpolationEnd",44,"]",59,"}",74,")",148,"JSXSelfCloseEndTag JSXEndTag",164,"JSXEndTag"]],propSources:[gbt],skippedNodes:[0,3,4,286],repeatNodeCount:32,tokenData:"%-U(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuB[uv! ^vw!#uwx!&dxy!,syz!-}z{!/X{|!1{|}!3Y}!O!1{!O!P!4d!P!Q!>t!Q!R#=q!R![#@Q![!]#MQ!]!^#N^!^!_$ h!_!`$&P!`!a$(k!a!b$-x!b!c$1w!c!}B[!}#O$3R#O#P$4]#P#Q$9t#Q#R$;O#R#SB[#S#T$<]#T#o$=g#o#p$D[#p#q$EQ#q#r$Fb#r#s$Gn#s$f%Z$f$g+g$g#BYB[#BY#BZ$Hx#BZ$ISB[$IS$I_$Hx$I_$I|B[$I|$I}%(k$I}$JO%(k$JO$JTB[$JT$JU$Hx$JU$KVB[$KV$KW$Hx$KW&FUB[&FU&FV$Hx&FV;'SB[;'S;=`! W<%l?HTB[?HT?HU$Hx?HUOB[(n%d_$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(]!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(]!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(YpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(YpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Yp(]!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$h&j(Yp(]!b(O(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST(Z#S$h&j(P(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$h&j(Yp(]!b(P(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$h&j!p$Ip(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#u$Id$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#u$Id$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_(X$(n$h&j(]!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$h&j(]!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$c#t$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$c#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$c#t$h&j(]!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ(]!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$c#t(]!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hg$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`BU<%lO<P#%|<[!`$h&j(q!L^(Yp(]!bOY%ZYZ&cZp%Zpq@^qr%Zrs&}st%Ztu<Puw%Zwx(rx!Q%Z!Q![<P![!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g7]<P7]7^<P7^7l<P7l7m<P7m7n<P7n7o<P7o7p<P7p7q<P7q7r<P7r7s<P7s7t<P7t7u<P7u7v<P7v7w<P7w7x<P7x7y<P7y7z<P7z7{<P7{7|<P7|7}<P7}8O<P8O8P<P8P8Q<P8Q8R<P8R8S<P8S8T<P8T8U<P8U8V<P8V8W<P8W8X<P8X8Y<P8Y8Z<P8Z8[<P8[8]<P8]8^<P8^;'S<P;'S;=`BU<%lO<P#%|@gi$h&j(Yp(]!bOY%ZYZ&cZp%Zpq@^qr%Zrs&}st%Ztu<Puw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`BU<%lO<P#%|BXP;=`<%l<P(CSBk!b$h&j(Yp(]!b(g!LY(V&;d$[#tOY%ZYZ&cZp%ZpqFsqr%Zrs&}st%ZtuB[uw%Zwx(rx}%Z}!OMQ!O!Q%Z!Q![B[![!^%Z!^!_*g!_!c%Z!c!}B[!}#O%Z#O#P&c#P#R%Z#R#SB[#S#T%Z#T#oB[#o#p*g#p$g%Z$g7]B[7]7^B[7^7lB[7l7mB[7m7nB[7n7oB[7o7pB[7p7qB[7q7rB[7r7sB[7s7tB[7t7uB[7u7vB[7v7wB[7w7xB[7x7yB[7y7zB[7z7{B[7{7|B[7|7}B[7}8OB[8O8PB[8P8QB[8Q8RB[8R8SB[8S8TB[8T8UB[8U8VB[8V8WB[8W8XB[8X8YB[8Y8ZB[8Z8[B[8[8]B[8]8^B[8^;'SB[;'S;=`! W<%lOB[(@^F|i$h&j(Yp(]!bOY%ZYZ&cZp%ZpqFsqr%Zrs&}st%ZtuHkuw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Hk!}#O%Z#O#P&c#P#R%Z#R#SHk#S#T%Z#T#oHk#o#p*g#p$g%Z$g;'SHk;'S;=`Lz<%lOHk(@^Hx!`$h&j(Yp(]!b(g!LY(V&;dOY%ZYZ&cZp%ZpqFsqr%Zrs&}st%ZtuHkuw%Zwx(rx!Q%Z!Q![Hk![!^%Z!^!_*g!_!c%Z!c!}Hk!}#O%Z#O#P&c#P#R%Z#R#SHk#S#T%Z#T#oHk#o#p*g#p$g%Z$g7]Hk7]7^Hk7^7lHk7l7mHk7m7nHk7n7oHk7o7pHk7p7qHk7q7rHk7r7sHk7s7tHk7t7uHk7u7vHk7v7wHk7w7xHk7x7yHk7y7zHk7z7{Hk7{7|Hk7|7}Hk7}8OHk8O8PHk8P8QHk8Q8RHk8R8SHk8S8THk8T8UHk8U8VHk8V8WHk8W8XHk8X8YHk8Y8ZHk8Z8[Hk8[8]Hk8]8^Hk8^;'SHk;'S;=`Lz<%lOHk(@^L}P;=`<%lHk+dM]k$h&j(Yp(]!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuMQuw%Zwx(rx}%Z}!OMQ!O!Q%Z!Q![MQ![!^%Z!^!_*g!_!c%Z!c!}MQ!}#O%Z#O#P&c#P#R%Z#R#SMQ#S#T%Z#T#oMQ#o#p*g#p$g%Z$g;'SMQ;'S;=`! Q<%lOMQ+d! TP;=`<%lMQ(CS! ZP;=`<%lB[%#S! i`$h&j(Yp(]!b#m$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`!!k!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!!v_$h&j$P$Id(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Df!$Qa(z%<v$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sv%Zvw!%Vwx(rx!^%Z!^!_*g!_!`!!k!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!%b`$h&j#y$Id(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`!!k!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b!&m_([$)`$h&j(YpOY!'lYZ!(rZr!'lrs!(rsw!'lwx!*Sx!^!'l!^!_!+U!_#O!'l#O#P!(r#P#o!'l#o#p!+U#p;'S!'l;'S;=`!,m<%lO!'l*Q!'s_$h&j(YpOY!'lYZ!(rZr!'lrs!(rsw!'lwx!*Sx!^!'l!^!_!+U!_#O!'l#O#P!(r#P#o!'l#o#p!+U#p;'S!'l;'S;=`!,m<%lO!'l)`!(wX$h&jOw!(rwx6cx!^!(r!^!_!)d!_#o!(r#o#p!)d#p;'S!(r;'S;=`!)|<%lO!(r#t!)gTOw!)dwx7]x;'S!)d;'S;=`!)v<%lO!)d#t!)yP;=`<%l!)d)`!*PP;=`<%l!(r*Q!*]]$c#t$h&j(YpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$f!+ZZ(YpOY!+UYZ!)dZr!+Urs!)dsw!+Uwx!+|x#O!+U#O#P!)d#P;'S!+U;'S;=`!,g<%lO!+U$f!,TU$c#t(YpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$f!,jP;=`<%l!+U*Q!,pP;=`<%l!'l(*Q!-O_!l(!b$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l!.Y_!kM|$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!/fb$h&j(Yp(]!b(W#)d#n$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!0n{!^%Z!^!_*g!_!`!!k!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!0y`$h&j(Yp(]!b#k$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`!!k!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!2W`$h&j(Yp(]!bk&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`!!k!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!3e_!Z&;l$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!4oc$h&j(Yp(]!by'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!5z!P!Q%Z!Q![!8d![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!6Ta$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!7Y!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!7e_!YMt$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!8og$h&j(Yp(]!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8d![!^%Z!^!_*g!_!g%Z!g!h!:W!h#O%Z#O#P&c#P#R%Z#R#S!8d#S#X%Z#X#Y!:W#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!:ag$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!;x|}%Z}!O!;x!O!Q%Z!Q![!=^![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!=^#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!<Rc$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!=^![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!=^#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!=ic$h&j(Yp(]!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!=^![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!=^#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!?Pf$h&j(Yp(]!b#l$IdOY!@eYZ&cZr!@ers!Axsw!@ewx#!zxz!@ez{#1p{!P!@e!P!Q#3V!Q!^!@e!^!_#,e!_!`#:u!`!a#<[!a!}!@e!}#O#0X#O#P!It#P#o!@e#o#p#,e#p;'S!@e;'S;=`#1j<%lO!@e(r!@pb$h&j(Yp(]!b!VSOY!@eYZ&cZr!@ers!Axsw!@ewx#!zx!P!@e!P!Q#*e!Q!^!@e!^!_#,e!_!}!@e!}#O#0X#O#P!It#P#o!@e#o#p#,e#p;'S!@e;'S;=`#1j<%lO!@e(Q!BR`$h&j(]!b!VSOY!AxYZ&cZw!Axwx!CTx!P!Ax!P!Q!Jl!Q!^!Ax!^!_!Ld!_!}!Ax!}#O# k#O#P!It#P#o!Ax#o#p!Ld#p;'S!Ax;'S;=`#!t<%lO!Ax&n!C[^$h&j!VSOY!CTYZ&cZ!P!CT!P!Q!DW!Q!^!CT!^!_!Ed!_!}!CT!}#O!HR#O#P!It#P#o!CT#o#p!Ed#p;'S!CT;'S;=`!Jf<%lO!CT&n!D_a$h&j!VSO!^&c!_#Z&c#Z#[!DW#[#]&c#]#^!DW#^#a&c#a#b!DW#b#g&c#g#h!DW#h#i&c#i#j!DW#j#m&c#m#n!DW#n#o&c#p;'S&c;'S;=`&w<%lO&cS!EiX!VSOY!EdZ!P!Ed!P!Q!FU!Q!}!Ed!}#O!Fm#O#P!Gl#P;'S!Ed;'S;=`!G{<%lO!EdS!FZU!VS#Z#[!FU#]#^!FU#a#b!FU#g#h!FU#i#j!FU#m#n!FUS!FpVOY!FmZ#O!Fm#O#P!GV#P#Q!Ed#Q;'S!Fm;'S;=`!Gf<%lO!FmS!GYSOY!FmZ;'S!Fm;'S;=`!Gf<%lO!FmS!GiP;=`<%l!FmS!GoSOY!EdZ;'S!Ed;'S;=`!G{<%lO!EdS!HOP;=`<%l!Ed&n!HW[$h&jOY!HRYZ&cZ!^!HR!^!_!Fm!_#O!HR#O#P!H|#P#Q!CT#Q#o!HR#o#p!Fm#p;'S!HR;'S;=`!In<%lO!HR&n!IRX$h&jOY!HRYZ&cZ!^!HR!^!_!Fm!_#o!HR#o#p!Fm#p;'S!HR;'S;=`!In<%lO!HR&n!IqP;=`<%l!HR&n!IyX$h&jOY!CTYZ&cZ!^!CT!^!_!Ed!_#o!CT#o#p!Ed#p;'S!CT;'S;=`!Jf<%lO!CT&n!JiP;=`<%l!CT(Q!Jui$h&j(]!b!VSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!Jl#[#]&}#]#^!Jl#^#a&}#a#b!Jl#b#g&}#g#h!Jl#h#i&}#i#j!Jl#j#m&}#m#n!Jl#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!LkZ(]!b!VSOY!LdZw!Ldwx!Edx!P!Ld!P!Q!M^!Q!}!Ld!}#O!Nm#O#P!Gl#P;'S!Ld;'S;=`# e<%lO!Ld!f!Meb(]!b!VSOY'}Zw'}x#O'}#P#Z'}#Z#[!M^#[#]'}#]#^!M^#^#a'}#a#b!M^#b#g'}#g#h!M^#h#i'}#i#j!M^#j#m'}#m#n!M^#n;'S'};'S;=`(f<%lO'}!f!NrX(]!bOY!NmZw!Nmwx!Fmx#O!Nm#O#P!GV#P#Q!Ld#Q;'S!Nm;'S;=`# _<%lO!Nm!f# bP;=`<%l!Nm!f# hP;=`<%l!Ld(Q# r^$h&j(]!bOY# kYZ&cZw# kwx!HRx!^# k!^!_!Nm!_#O# k#O#P!H|#P#Q!Ax#Q#o# k#o#p!Nm#p;'S# k;'S;=`#!n<%lO# k(Q#!qP;=`<%l# k(Q#!wP;=`<%l!Ax'`##T`$h&j(Yp!VSOY#!zYZ&cZr#!zrs!CTs!P#!z!P!Q#$V!Q!^#!z!^!_#%}!_!}#!z!}#O#)U#O#P!It#P#o#!z#o#p#%}#p;'S#!z;'S;=`#*_<%lO#!z'`#$`i$h&j(Yp!VSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[#$V#[#](r#]#^#$V#^#a(r#a#b#$V#b#g(r#g#h#$V#h#i(r#i#j#$V#j#m(r#m#n#$V#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt#&UZ(Yp!VSOY#%}Zr#%}rs!Eds!P#%}!P!Q#&w!Q!}#%}!}#O#(W#O#P!Gl#P;'S#%};'S;=`#)O<%lO#%}t#'Ob(Yp!VSOY)rZr)rs#O)r#P#Z)r#Z#[#&w#[#])r#]#^#&w#^#a)r#a#b#&w#b#g)r#g#h#&w#h#i)r#i#j#&w#j#m)r#m#n#&w#n;'S)r;'S;=`*Z<%lO)rt#(]X(YpOY#(WZr#(Wrs!Fms#O#(W#O#P!GV#P#Q#%}#Q;'S#(W;'S;=`#(x<%lO#(Wt#({P;=`<%l#(Wt#)RP;=`<%l#%}'`#)]^$h&j(YpOY#)UYZ&cZr#)Urs!HRs!^#)U!^!_#(W!_#O#)U#O#P!H|#P#Q#!z#Q#o#)U#o#p#(W#p;'S#)U;'S;=`#*X<%lO#)U'`#*[P;=`<%l#)U'`#*bP;=`<%l#!z(r#*pk$h&j(Yp(]!b!VSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[#*e#[#]%Z#]#^#*e#^#a%Z#a#b#*e#b#g%Z#g#h#*e#h#i%Z#i#j#*e#j#m%Z#m#n#*e#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W#,n](Yp(]!b!VSOY#,eZr#,ers!Ldsw#,ewx#%}x!P#,e!P!Q#-g!Q!}#,e!}#O#/R#O#P!Gl#P;'S#,e;'S;=`#0R<%lO#,e#W#-pe(Yp(]!b!VSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[#-g#[#]*g#]#^#-g#^#a*g#a#b#-g#b#g*g#g#h#-g#h#i*g#i#j#-g#j#m*g#m#n#-g#n;'S*g;'S;=`+Z<%lO*g#W#/YZ(Yp(]!bOY#/RZr#/Rrs!Nmsw#/Rwx#(Wx#O#/R#O#P!GV#P#Q#,e#Q;'S#/R;'S;=`#/{<%lO#/R#W#0OP;=`<%l#/R#W#0UP;=`<%l#,e(r#0b`$h&j(Yp(]!bOY#0XYZ&cZr#0Xrs# ksw#0Xwx#)Ux!^#0X!^!_#/R!_#O#0X#O#P!H|#P#Q!@e#Q#o#0X#o#p#/R#p;'S#0X;'S;=`#1d<%lO#0X(r#1gP;=`<%l#0X(r#1mP;=`<%l!@e(CS#1}b$h&j(Yp(]!b(Q(;d!VSOY!@eYZ&cZr!@ers!Axsw!@ewx#!zx!P!@e!P!Q#*e!Q!^!@e!^!_#,e!_!}!@e!}#O#0X#O#P!It#P#o!@e#o#p#,e#p;'S!@e;'S;=`#1j<%lO!@e(CS#3b_$h&j(Yp(]!bR(;dOY#3VYZ&cZr#3Vrs#4asw#3Vwx#7qx!^#3V!^!_#9p!_#O#3V#O#P#5c#P#o#3V#o#p#9p#p;'S#3V;'S;=`#:o<%lO#3V(Bb#4j]$h&j(]!bR(;dOY#4aYZ&cZw#4awx#5cx!^#4a!^!_#6t!_#O#4a#O#P#5c#P#o#4a#o#p#6t#p;'S#4a;'S;=`#7k<%lO#4a(AO#5jX$h&jR(;dOY#5cYZ&cZ!^#5c!^!_#6V!_#o#5c#o#p#6V#p;'S#5c;'S;=`#6n<%lO#5c(;d#6[SR(;dOY#6VZ;'S#6V;'S;=`#6h<%lO#6V(;d#6kP;=`<%l#6V(AO#6qP;=`<%l#5c(<v#6{W(]!bR(;dOY#6tZw#6twx#6Vx#O#6t#O#P#6V#P;'S#6t;'S;=`#7e<%lO#6t(<v#7hP;=`<%l#6t(Bb#7nP;=`<%l#4a(Ap#7z]$h&j(YpR(;dOY#7qYZ&cZr#7qrs#5cs!^#7q!^!_#8s!_#O#7q#O#P#5c#P#o#7q#o#p#8s#p;'S#7q;'S;=`#9j<%lO#7q(<U#8zW(YpR(;dOY#8sZr#8srs#6Vs#O#8s#O#P#6V#P;'S#8s;'S;=`#9d<%lO#8s(<U#9gP;=`<%l#8s(Ap#9mP;=`<%l#7q(=h#9yY(Yp(]!bR(;dOY#9pZr#9prs#6tsw#9pwx#8sx#O#9p#O#P#6V#P;'S#9p;'S;=`#:i<%lO#9p(=h#:lP;=`<%l#9p(CS#:rP;=`<%l#3V%#W#;Sb$h&j$P$Id(Yp(]!b!VSOY!@eYZ&cZr!@ers!Axsw!@ewx#!zx!P!@e!P!Q#*e!Q!^!@e!^!_#,e!_!}!@e!}#O#0X#O#P!It#P#o!@e#o#p#,e#p;'S!@e;'S;=`#1j<%lO!@e+h#<ib$X#t$h&j(Yp(]!b!VSOY!@eYZ&cZr!@ers!Axsw!@ewx#!zx!P!@e!P!Q#*e!Q!^!@e!^!_#,e!_!}!@e!}#O#0X#O#P!It#P#o!@e#o#p#,e#p;'S!@e;'S;=`#1j<%lO!@e$/l#=|p$h&j(Yp(]!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!8d!P!Q%Z!Q![#@Q![!^%Z!^!_*g!_!g%Z!g!h!:W!h#O%Z#O#P&c#P#R%Z#R#S#@Q#S#U%Z#U#V#C[#V#X%Z#X#Y!:W#Y#b%Z#b#c#BQ#c#d#Fd#d#l%Z#l#m#If#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#@]k$h&j(Yp(]!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!8d!P!Q%Z!Q![#@Q![!^%Z!^!_*g!_!g%Z!g!h!:W!h#O%Z#O#P&c#P#R%Z#R#S#@Q#S#X%Z#X#Y!:W#Y#b%Z#b#c#BQ#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#B]_$h&j(Yp(]!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Ced$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#Ds!R!S#Ds!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Ds#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#EOf$h&j(Yp(]!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#Ds!R!S#Ds!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Ds#S#b%Z#b#c#BQ#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Fmc$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Gx!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Gx#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#HTe$h&j(Yp(]!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Gx!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Gx#S#b%Z#b#c#BQ#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Iog$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#KW![!^%Z!^!_*g!_!c%Z!c!i#KW!i#O%Z#O#P&c#P#R%Z#R#S#KW#S#T%Z#T#Z#KW#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Kci$h&j(Yp(]!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#KW![!^%Z!^!_*g!_!c%Z!c!i#KW!i#O%Z#O#P&c#P#R%Z#R#S#KW#S#T%Z#T#Z#KW#Z#b%Z#b#c#BQ#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#M__!e$b$h&j#}%<f(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Ni_^l$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$ w^(`!*v!i'.r(Yp(]!b$Y)d)OSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q$!s!Q!^*g!^!_$#i!_!`$%Z!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n$!|X$j&j(Yp(]!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh$#rZ#o$Id(Yp(]!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`$$e!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh$$nX$P$Id(Yp(]!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh$%dX#p$Id(Yp(]!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh$&[a#]%?x$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$'a!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W$'l_#h$Ih$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh$(zadBf#p$Id$e#|$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$*P!`!a$+Z!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$*[_#p$Id$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$+fa#o$Id$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`!!k!`!a$,k!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$,v`#o$Id$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`!!k!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$.Tc(r$Ip$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$/`!P!^%Z!^!_*g!_!a%Z!a!b$0j!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$/k_z'#p$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$0u`$h&j#z$Id(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`!!k!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$2S_!}!Ln$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$3^_|(8n$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$4bZ$h&jO!^$5T!^!_$5k!_#i$5T#i#j$5p#j#l$5T#l#m$7c#m#o$5T#o#p$5k#p;'S$5T;'S;=`$9n<%lO$5T(n$5[T[#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$5pO[#S(n$5u[$h&jO!Q&c!Q![$6k![!^&c!_!c&c!c!i$6k!i#T&c#T#Z$6k#Z#o&c#o#p$9R#p;'S&c;'S;=`&w<%lO&c(n$6pZ$h&jO!Q&c!Q![$7c![!^&c!_!c&c!c!i$7c!i#T&c#T#Z$7c#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$7hZ$h&jO!Q&c!Q![$8Z![!^&c!_!c&c!c!i$8Z!i#T&c#T#Z$8Z#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$8`Z$h&jO!Q&c!Q![$5T![!^&c!_!c&c!c!i$5T!i#T&c#T#Z$5T#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$9UR!Q![$9_!c!i$9_#T#Z$9_#S$9bS!Q![$9_!c!i$9_#T#Z$9_#q#r$5k(n$9qP;=`<%l$5T!'l$:P_!WM|$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$;Z`#w$Id$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`!!k!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$<h_$h&j(Yp(]!b(d&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$=v!b$h&j(Yp(]!b(g!LY(V&;d$^#tOY%ZYZ&cZp%ZpqFsqr%Zrs&}st%Ztu$=guw%Zwx(rx}%Z}!O$BO!O!Q%Z!Q![$=g![!^%Z!^!_*g!_!c%Z!c!}$=g!}#O%Z#O#P&c#P#R%Z#R#S$=g#S#T%Z#T#o$=g#o#p*g#p$g%Z$g7]$=g7]7^$=g7^7l$=g7l7m$=g7m7n$=g7n7o$=g7o7p$=g7p7q$=g7q7r$=g7r7s$=g7s7t$=g7t7u$=g7u7v$=g7v7w$=g7w7x$=g7x7y$=g7y7z$=g7z7{$=g7{7|$=g7|7}$=g7}8O$=g8O8P$=g8P8Q$=g8Q8R$=g8R8S$=g8S8T$=g8T8U$=g8U8V$=g8V8W$=g8W8X$=g8X8Y$=g8Y8Z$=g8Z8[$=g8[8]$=g8]8^$=g8^;'S$=g;'S;=`$DU<%lO$=g+d$BZk$h&j(Yp(]!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$BOuw%Zwx(rx}%Z}!O$BO!O!Q%Z!Q![$BO![!^%Z!^!_*g!_!c%Z!c!}$BO!}#O%Z#O#P&c#P#R%Z#R#S$BO#S#T%Z#T#o$BO#o#p*g#p$g%Z$g;'S$BO;'S;=`$DO<%lO$BO+d$DRP;=`<%l$BO(CS$DXP;=`<%l$=g!5p$DeX!]!3l(Yp(]!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$E]a(y%<v$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`!!k!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$0j#q;'S%Z;'S;=`+a<%lO%Z%#`$Fo_![$I`o`$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$Gy_!qS$h&j(Yp(]!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$IZ!q$h&j(Yp(]!b(O(;d(g!LY(V&;d$[#tOX%ZXY+gYZ&cZ[+g[p%Zpq$Nbqr%Zrs&}st%ZtuB[uw%Zwx(rx}%Z}!OMQ!O!Q%Z!Q![B[![!^%Z!^!_*g!_!c%Z!c!}B[!}#O%Z#O#P&c#P#R%Z#R#SB[#S#T%Z#T#oB[#o#p*g#p$f%Z$f$g+g$g7]B[7]7^B[7^7lB[7l7mB[7m7nB[7n7oB[7o7pB[7p7qB[7q7rB[7r7sB[7s7tB[7t7uB[7u7vB[7v7wB[7w7xB[7x7yB[7y7zB[7z7{B[7{7|B[7|7}B[7}8OB[8O8PB[8P8QB[8Q8RB[8R8SB[8S8TB[8T8UB[8U8VB[8V8WB[8W8XB[8X8YB[8Y8ZB[8Z8[B[8[8]B[8]8^B[8^#BYB[#BY#BZ$Hx#BZ$ISB[$IS$I_$Hx$I_$JTB[$JT$JU$Hx$JU$KVB[$KV$KW$Hx$KW&FUB[&FU&FV$Hx&FV;'SB[;'S;=`! W<%l?HTB[?HT?HU$Hx?HUOB[(CS$Nmx$h&j(Yp(]!b(O(;dOX%ZXY+gYZ&cZ[+g[p%Zpq$Nbqr%Zrs&}st%ZtuHkuw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Hk!}#O%Z#O#P&c#P#R%Z#R#SHk#S#T%Z#T#oHk#o#p*g#p$f%Z$f$g+g$g#BYHk#BY#BZ%#Z#BZ$ISHk$IS$I_%#Z$I_$JTHk$JT$JU%#Z$JU$KVHk$KV$KW%#Z$KW&FUHk&FU&FV%#Z&FV;'SHk;'S;=`Lz<%l?HTHk?HT?HU%#Z?HUOHk(CS%#j!o$h&j(Yp(]!b(O(;d(g!LY(V&;dOX%ZXY+gYZ&cZ[+g[p%Zpq$Nbqr%Zrs&}st%ZtuHkuw%Zwx(rx!Q%Z!Q![Hk![!^%Z!^!_*g!_!c%Z!c!}Hk!}#O%Z#O#P&c#P#R%Z#R#SHk#S#T%Z#T#oHk#o#p*g#p$f%Z$f$g+g$g7]Hk7]7^Hk7^7lHk7l7mHk7m7nHk7n7oHk7o7pHk7p7qHk7q7rHk7r7sHk7s7tHk7t7uHk7u7vHk7v7wHk7w7xHk7x7yHk7y7zHk7z7{Hk7{7|Hk7|7}Hk7}8OHk8O8PHk8P8QHk8Q8RHk8R8SHk8S8THk8T8UHk8U8VHk8V8WHk8W8XHk8X8YHk8Y8ZHk8Z8[Hk8[8]Hk8]8^Hk8^#BYHk#BY#BZ%#Z#BZ$ISHk$IS$I_%#Z$I_$JTHk$JT$JU%#Z$JU$KVHk$KV$KW%#Z$KW&FUHk&FU&FV%#Z&FV;'SHk;'S;=`Lz<%l?HTHk?HT?HU%#Z?HUOHk(CS%(|!b$h&j(Yp(]!b(P(;d(g!LY(V&;d$[#tOY%ZYZ&cZp%ZpqFsqr%Zrs&}st%ZtuB[uw%Zwx(rx}%Z}!OMQ!O!Q%Z!Q![B[![!^%Z!^!_*g!_!c%Z!c!}B[!}#O%Z#O#P&c#P#R%Z#R#SB[#S#T%Z#T#oB[#o#p*g#p$g%Z$g7]B[7]7^B[7^7lB[7l7mB[7m7nB[7n7oB[7o7pB[7p7qB[7q7rB[7r7sB[7s7tB[7t7uB[7u7vB[7v7wB[7w7xB[7x7yB[7y7zB[7z7{B[7{7|B[7|7}B[7}8OB[8O8PB[8P8QB[8Q8RB[8R8SB[8S8TB[8T8UB[8U8VB[8V8WB[8W8XB[8X8YB[8Y8ZB[8Z8[B[8[8]B[8]8^B[8^;'SB[;'S;=`! W<%lOB[",tokenizers:[fbt,pbt,2,3,4,5,6,7,8,9,10,11,12,13,dbt,new jO("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOq~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!O~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(f~~",141,343),new jO("j~RQYZXz{^~^O(S~~aP!P!Qd~iO(T~~",25,325)],topRules:{Script:[0,5],SingleExpression:[1,284],SingleClassItem:[2,285]},dialects:{jsx:13522,ts:13524},dynamicPrecedences:{80:1,82:1,167:1,195:1},specialized:[{term:329,get:c=>mbt[c]||-1},{term:345,get:c=>vbt[c]||-1},{term:71,get:c=>_bt[c]||-1}],tokenPrec:13547}),kCe=new UH,DCe=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function UT(c){return(l,a)=>{let h=l.node.getChild("VariableDefinition");return h&&a(h,c),!0}}const bbt=["FunctionDeclaration"],Obt={FunctionDeclaration:UT("function"),ClassDeclaration:UT("class"),ClassExpression:()=>!0,EnumDeclaration:UT("constant"),TypeAliasDeclaration:UT("type"),NamespaceDeclaration:UT("namespace"),VariableDefinition(c,l){c.matchContext(bbt)||l(c,"variable")},TypeDefinition(c,l){l(c,"type")},__proto__:null};function MCe(c,l){let a=kCe.get(l);if(a)return a;let h=[],d=!0;function f(p,g){let m=c.sliceString(p.from,p.to);h.push({label:m,type:g})}return l.cursor(ks.IncludeAnonymous).iterate(p=>{if(d)d=!1;else if(p.name){let g=Obt[p.name];if(g&&g(p,f)||DCe.has(p.name))return!1}else if(p.to-p.from>8192){for(let g of MCe(c,p.node))h.push(g);return!1}return!1}),kCe.set(l,h),h}const o5=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,jW=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function Cbt(c){let l=Js(c.state).resolveInner(c.pos,-1);if(jW.indexOf(l.name)>-1)return null;let a="VariableName"==l.name||l.to-l.from<20&&o5.test(c.state.sliceDoc(l.from,l.to));if(!a&&!c.explicit)return null;let h=[];for(let d=l;d;d=d.parent)DCe.has(d.name)&&(h=h.concat(MCe(c.state.doc,d)));return{options:h,from:a?l.from:c.pos,validFor:o5}}const xbt=[wr("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),wr("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),wr("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),wr("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),wr("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),wr("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),wr("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),wr("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),wr("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),wr('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),wr('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],XW=MO.define({name:"javascript",parser:ybt.configure({props:[wI.add({IfStatement:IO({except:/^\s*({|else\b)/}),TryStatement:IO({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:qye,SwitchBody:c=>{let l=c.textAfter,a=/^\s*\}/.test(l),h=/^\s*(case|default)\b/.test(l);return c.baseIndent+(a?0:h?1:2)*c.unit},Block:Xye({closing:"}"}),ArrowFunction:c=>c.baseIndent+c.unit,"TemplateString BlockComment":()=>null,"Statement Property":IO({except:/^{/}),JSXElement(c){let l=/^\s*<\//.test(c.textAfter);return c.lineIndent(c.node.from)+(l?0:c.unit)},JSXEscape(c){let l=/\s*\}/.test(c.textAfter);return c.lineIndent(c.node.from)+(l?0:c.unit)},"JSXOpenTag JSXSelfClosingTag":c=>c.column(c.node.from)+c.unit}),xI.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":Kye,BlockComment:c=>({from:c.from+2,to:c.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),kbt="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield \u0435\u0441\u043b\u0438 \u0438\u043d\u0430\u0447\u0435 \u043a\u043b\u0430\u0441\u0441 \u0431\u0440\u043e\u0441\u0438\u0442\u044c".split(" ").map(c=>({label:c,type:"keyword"})),Pbt=new Hm((c,l)=>{let{next:a}=c;if((43==a||45==a)&&(c.advance(),a==c.next)){c.advance();let h=!l.context&&l.canShift(1);c.acceptToken(h?1:2)}},{contextual:!0}),Abt=vI({"\u041d\u041e\u0412\u0410\u042f \u0424\u0423\u041d\u041a\u0426\u0418\u042f \u0427\u0418\u0421\u0422\u0410\u042f \u041d\u0410\u0427\u0410\u041b\u041e \u041a\u041e\u041d\u0415\u0426 \u041d\u0410\u0427\u0410\u0422\u042c \u0417\u0410\u041a\u041e\u041d\u0427\u0418\u0422\u042c \u0411\u0420\u041e\u0421\u0418\u0422\u042c \u0412\u0415\u0420\u041d\u0423\u0422\u042c \u0415\u0421\u041b\u0418 \u0422\u041e \u0418\u041d\u0410\u0427\u0415 \u0418 \u0418\u041b\u0418 \u041d\u0415 \u0412\u042b\u041f\u041e\u041b\u041d\u0418\u0422\u042c \u0415\u0401 \u0418\u041c\u042f \u041f\u0423\u0421\u0422\u042c \u041f\u041e\u041a\u0410 \u041f\u042b\u0422\u0410\u0422\u042c\u0421\u042f \u041e\u0411\u0420\u0410\u0411\u0410\u0422\u042b\u0412\u0410\u042f \u0412\u0421\u0422\u0420\u0410\u0418\u0412\u0410\u042f \u0414\u0415\u041b\u0410\u0422\u042c":le.keyword,"\u041d\u0418\u0427\u0415\u0413\u041e \u041a\u041e\u0420\u0415\u041d\u042c \u0410\u0420\u0413\u0423\u041c\u0415\u041d\u0422\u042b \u041a\u041e\u041d\u0422\u0415\u041a\u0421\u0422 \u0418\u041d\u0414\u0415\u041a\u0421\u042b":le.null,Identifier:le.modifier,VariableName:le.variableName,PropertyName:le.propertyName,VariableDefinition:le.variableName,"CallExpression/VariableName CallExpression/MemberExpression/PropertyName":le.function(le.variableName),Number:le.number,String:le.string,NotFormat:le.atom,Boolean:le.bool,Equals:le.definitionOperator,Arrow:le.operator,Sharp:le.string,ArithOp:le.arithmeticOperator,LogicOp:le.logicOperator,BitOp:le.bitwiseOperator,CompareOp:le.compareOperator,"SharpVariableName/Sharp SharpVariableName/VariableName":le.string,Keywords:le.keyword,"FunctionStatement/VariableName":le.function(le.variableName),"FcallStart FcallEnd":le.function(le.variableName),"FicallStart FicallEnd":le.string,"ArrayStart ArrayEnd":le.keyword,"BlockStart BlockEnd":le.keyword,ObjectPattern:le.number,"( )":le.keyword,"= ? :":le.operator,", ;":le.separator}),Ibt={__proto__:null,\u0412\u0415\u0420\u041d\u0423\u0422\u042c:16,\u041d\u0418\u0427\u0415\u0413\u041e:24,\u041a\u041e\u0420\u0415\u041d\u042c:28,\u0410\u0420\u0413\u0423\u041c\u0415\u041d\u0422\u042b:32,\u041a\u041e\u041d\u0422\u0415\u041a\u0421\u0422:36,\u0418\u041d\u0414\u0415\u041a\u0421\u042b:40,\u041d\u041e\u0412\u0410\u042f:50,\u0424\u0423\u041d\u041a\u0426\u0418\u042f:56,\u0427\u0418\u0421\u0422\u0410\u042f:58,\u041d\u0410\u0427\u0410\u041b\u041e:76,\u041a\u041e\u041d\u0415\u0426:78,\u041d\u0410\u0427\u0410\u0422\u042c:80,\u0417\u0410\u041a\u041e\u041d\u0427\u0418\u0422\u042c:82,\u0418:84,\u0412\u0421\u0422\u0420\u0410\u0418\u0412\u0410\u042f:86,\u0412\u042b\u041f\u041e\u041b\u041d\u0418\u0422\u042c:88,\u0415\u0401:90,\u0418\u041c\u042f:100,\u041f\u0423\u0421\u0422\u042c:102,void:142,typeof:144,delete:146,instanceof:170,\u0411\u0420\u041e\u0421\u0418\u0422\u042c:200,\u0415\u0421\u041b\u0418:204,\u0422\u041e:206,\u0418\u041d\u0410\u0427\u0415:208,\u041f\u041e\u041a\u0410:212,\u0414\u0415\u041b\u0410\u0422\u042c:216,\u041f\u042b\u0422\u0410\u0422\u042c\u0421\u042f:220,\u041e\u0411\u0420\u0410\u0411\u0410\u0422\u042b\u0412\u0410\u042f:222},Rbt={__proto__:null,true:46,false:46},Lbt=GO.deserialize({version:14,states:"<bQ`QROOP#rOQOOOOQP'#Cr'#CrO#wQTO'#CzO%hQRO'#DPO']QTO'#CvOOQO'#FX'#FXO'vQTO'#FXO)gQQO'#FWO)}QQO'#D_O*XQQO'#DiO+wQTO'#CeO,OQRO'#DtOOQP'#FS'#FSO-oQSO'#EpOOQP'#FQ'#FQOOQP'#Es'#EsQ`QROOOOQP'#Cg'#CgOOQP'#Ci'#CiOOQP'#Ck'#CkOOQP'#Cm'#CmOOQP'#Co'#CoO-tQRO'#DPO-{QRO'#DPO.SQQO'#CwO.[QQO'#CtO.aQQO'#FWO,OQRO'#EbO,OQRO'#CbO,OQRO'#EcO,OQRO'#EeO,OQRO'#EiO.lQQO'#EkO.lQQO'#EmP.wO`O'#C`POOO)C@o)C@oOOQP,59k,59kO/SQRO,59kO/ZQQO,59bO,OQRO,5;rOOQO'#Db'#DbO/cQQO'#DcO/tQQO'#EvO0OQQO'#FVO0OQQO'#FVO0WQQO,59yOOQP'#Cz'#CzOOQP,5:T,5:TO1|QRO'#DlO2TQRO'#DlOOQP,5:V,5:VOOQP,5:[,5:[O2[QQO,5:^O2aQQO,5:^OOQP'#EV'#EVOOQP'#EX'#EXO,OQRO,5:gO,OQRO,5:gO,OQRO,5:gO,OQRO,5:gO,OQRO,5:gO,OQRO,5:gO,OQRO,5:gO,OQRO,5:gO,OQRO,5:gO,OQRO,5:gO,OQRO,5:gOOQP'#E]'#E]O,OQRO,5:vO,OQRO,5:^OOQP,59P,59PO4SQTO,5:`OOQP,5;[,5;[OOQP-E8q-E8qO4mQRO,59kO4tQRO,59kO4{QSO,59cOOQP,59`,59`O5QQQO,5;rO5VQTO,5:|OOQP,58|,58|OOQP,5:},5:}O5^QTO,5;PO5eQTO,5;TO5lQQO,5;VO5qQQO,5;XPOOO'#Er'#ErP5vO`O,58zPOOO,58z,58zOOQP1G/V1G/VO6RQQO1G.|O6WQQO1G.|O6]QTO1G1^OOQP'#De'#DeOOQO'#Dg'#DgO6jQQO'#DdOOQO'#Dd'#DdO6oQQO'#FYO6wQQO,59}OOQO,5;b,5;bOOQO-E8t-E8tO6|QQO,5;qOOQP1G/e1G/eO7UQXO'#CvO8vQXO'#F[O8}QQO'#FZO9YQQO,5:WO9_QQO,5:WOOQP1G/x1G/xO,OQRO1G/xO;aQTO1G0RO;hQTO1G0RO=lQTO1G0RO=sQTO1G0RO?qQTO1G0RO@OQTO1G0ROBYQTO1G0ROBaQTO1G0RODeQTO1G0RODlQTO1G0ROFWQTO1G0ROFwQTO1G0bOGOQTO1G/xOGVQQO'#C}O.lQQO1G.}O,OQRO1G1^OOQP1G0h1G0hO.lQQO1G0kO.lQQO1G0oO,OQRO1G0qOG_QQO1G0sPOOO-E8p-E8pPOOO1G.f1G.fOGdQSO7+$hOGiQQO7+$hO,OQRO,5:OOGnQQO'#EuOG|QQO,5;tOOQP1G/i1G/iO*XQQO,5;vO0]QRO'#EwOHUQQO,5;uOOQP1G/r1G/rOHaQXO,5:`OHhQTO7+%dO,OQRO7+%|OOQP7+%d7+%dOHoQQO'#FUOHwQQO,59iOOQP7+$i7+$iOH|QTO7+&xOIZQRO7+&VOOQP7+&Z7+&ZOK|QTO7+&]O*XQQO7+&_OLTQQO<<HSOLYQQO<<HSOL_QTO1G/jOOQO,5;a,5;aOOQO-E8s-E8sOOQO1G1b1G1bONSQXO1G0RONZQXO1G0RO! {QXO1G0RO!!SQXO1G0RO!#nQXO1G0RO!#{QXO1G0RO!%sQXO1G0RO!%zQXO1G0RO!'lQXO1G0RO!'sQXO1G0RO!)_QXO1G0ROOQO,5;c,5;cOOQO-E8u-E8uOOQP<<IO<<IOO!)lQTO<<IhO*XQQO'#EtO!*VQQO,5;pOOQO1G/T1G/TO.lQQO<<IqOOQP<<Iw<<IwO!*_QSO<<IyOOQPAN=nAN=nO!*dQQOAN=nOOQO,5;`,5;`OOQO-E8r-E8rOOQPAN?]AN?]O.lQQOAN?eO!*iQSOG23YO!*nQXO<<IhOOQPG25PG25PO!*uQQOLD(tOOQP!$'L`!$'L`O0]QRO'#DtO.[QQO'#CtO0]QRO,5:gO0]QRO,5:gO0]QRO,5:gO0]QRO,5:gO0]QRO,5:gO0]QRO,5:gO0]QRO,5:gO0]QRO,5:gO0]QRO,5:gO0]QRO,5:gO0]QRO,5:gO0]QRO7+%|O!*zQTO1G0bO,OQRO,5:v",stateData:"!+u~O#nOS#oOSROS#pPQ~OP[OQ[OWmOY]O[bO^cO`dObeOdfOe]OgQOijOliOtSOvgOxhO!O]O!QXO!SkO!TkO!^YO!e[O!i[O!j[O!k[O!l[O!m[O!n[O#TlO#WnO#YoO#^pO#`qO#brO#e_O#wRO~O#psO~OPnXpnX!QnX![!UX!bnX!enX!gnX!nnX!pnX!qnX!rnX!snX!tnX!unX!vnX!wnX!xnX!znX!|nX!}nX#QnX#unX$PnX$QnX$RnX~OuuO~P`OzwOPjXpjX!QjX!bjX!ejX!gjX!njX!pjX!qjX!rjX!sjX!tjX!ujX!vjX!wjX!xjX!zjX!|jX!}jX#QjX$PjX$QjX$RjX~O#ujX#SjX#ZjX#RjX!PjXrjXujX~P%oOP#vXp#vX!Q#vX![#{X!b#vX!e#vX!g#vX!n#vX!p#vX!q#vX!r#vX!s#vX!t#vX!u#vX!v#vX!w#vX!x#vX!z#vX!|#vX!}#vX#Q#vX#u#vX$P#vX$Q#vX$R#vX~O![xO~OtzO!QXO!SkO!TkO#wyO~Or{O!P#yP~P)lO#w!PO~OP!UOp!RO!Q!hO!b!SO!e!UO!g!VO!n!]O!p!ZO!q![O!r![O!s![O!t!^O!u!_O!v!_O!w!_O!x!`O!z!bO!|!dO!}!eO#Q!fO$P!WO$Q!XO$R!YO~O#u!iO~P*^OP[OQ[OY]O[bO^cO`dObeOdfOe]OgQOijOliOtzO!O]O!QXO!^YO!e[O!i[O!j[O!k[O!l[O!m[O!n[O#TlO#w!PO~O#u!kO~OwuO~P`OyuO~P`Om!oO#w!PO~OliO~OtzO!QXO#wyO~OtSOvgOxhO~O#q!yO#r!yO#s!{O~Ou!|O~P`Or#OO|!}O~OY#SOe#SOliO#w#QOu#|P~Or#jX!P#jX~P)lOr{O!P#yX~O!P#ZO~OP%YOQ%YOY]O[bO^cO`dObeOdfOe]OgQOi%ZOliOtzO!O]O!QXO!^YO!e%YO!i%YO!j%YO!k%YO!l%YO!m%YO!n%YO#TlO#w!PO~Oo#}P~P0]O!c#}P~P0]O#w#QO~O!Q#bO#w#QO~Op!RO!Q!hO!b!SO!g!VO$P!WOP!ha!e!ha!n!ha!p!ha!q!ha!r!ha!s!ha!t!ha!u!ha!v!ha!w!ha!x!ha!z!ha!|!ha!}!ha#Q!ha$Q!ha$R!ha~O#u!ha#S!ha#Z!ha#R!ha!P!har!hau!ha~P2iOw!|O~P`Oy!|O~P`Op#pO~O![#rO~O#S#sO~P*^O#Z#tO~P*^O#Z#uO~P*^O#^#vO~O#c#wO~O#q!yO#r!yO#s#yO~O}#zO~O{#{O~O#u#zir#zi!P#zi~P*^O!Y#|O~Or#}Ou#|X~Ou$PO~Or{O!P#ya~O!ajX~P%oOP!UOp!RO!Q!hO!b!SO!e!UO!g!VO!n%^O!p%[O!q%]O!r%]O!s%]O!t%_O!u%`O!v%`O!w%`O!x%aO!z%cO!|%eO!}%fO#Q!fO$P!WO$Q!XO$R!YO~O!a$QO~P7]Or$ROo#}X!c#}X~Oo$TO~O!c$TO~OP!UOp!RO!Q!hO!b!SO!e!UO!g!VO$P!WO!n!oi!q!oi!r!oi!s!oi!t!oi!u!oi!v!oi!w!oi!x!oi!z!oi!|!oi!}!oi#Q!oi#u!oi$Q!oi$R!oi#S!oi#Z!oi#R!oi!P!oir!oiu!oi~O!p!oi~P9dO!p!ZO~P9dOP!UOp!RO!Q!hO!b!SO!e!UO!g!VO!p!ZO!q![O!r![O!s![O$P!WO!t!oi!u!oi!v!oi!w!oi!x!oi!z!oi!|!oi!}!oi#Q!oi#u!oi$Q!oi$R!oi#S!oi#Z!oi#R!oi!P!oir!oiu!oi~O!n!oi~P;oO!n!]O~P;oOP!UOp!RO!Q!hO!b!SO!e!UO!g!VO!n!]O!p!ZO!q![O!r![O!s![O!t!^O$P!WO!x!oi!z!oi!|!oi!}!oi#Q!oi#u!oi$Q!oi$R!oi#S!oi#Z!oi#R!oi!P!oir!oiu!oi~O!u!oi!v!oi!w!oi~P=zO!u!_O!v!_O!w!_O~P=zOP!UOp!RO!Q!hO!b!SO!e!UO!g!VO!n!]O!p!ZO!q![O!r![O!s![O!t!^O!u!_O!v!_O!w!_O!x!`O$P!WO!z!oi!|!oi!}!oi#Q!oi#u!oi$R!oi#S!oi#Z!oi#R!oi!P!oir!oiu!oi~O$Q!oi~P@]O$Q!XO~P@]OP!UOp!RO!Q!hO!b!SO!e!UO!g!VO!n!]O!p!ZO!q![O!r![O!s![O!t!^O!u!_O!v!_O!w!_O!x!`O!z!bO$P!WO$Q!XO!|!oi!}!oi#Q!oi#u!oi#S!oi#Z!oi#R!oi!P!oir!oiu!oi~O$R!oi~PBhO$R!YO~PBhOP!UOp!RO!Q!hO!b!SO!e!UO!g!VO!n!]O!p!ZO!q![O!r![O!s![O!t!^O!u!_O!v!_O!w!_O!x!`O!z!bO!|!dO$P!WO$Q!XO$R!YO~O!}!oi#Q!oi#u!oi#S!oi#Z!oi#R!oi!P!oir!oiu!oi~PDsO#R$WO~P*^O!P$XO~P*^O#w!POo#xP~O#T$aO~Op$bO~Or$cO~OY#SOe#SOliO#w#QO~Or#}Ou#|a~Or$ROo#}a!c#}a~O!a!ha~P2iO!P$uO~P*^Or$wOo#xX~Oo$yO~O#u#zqr#zq!P#zq~P*^O#[$zOP#XqQ#XqW#XqY#Xq[#Xq^#Xq`#Xqb#Xqd#Xqe#Xqg#Xqi#Xql#Xqt#Xqv#Xqx#Xq!O#Xq!Q#Xq!S#Xq!T#Xq!^#Xq!e#Xq!i#Xq!j#Xq!k#Xq!l#Xq!m#Xq!n#Xq#T#Xq#W#Xq#Y#Xq#^#Xq#`#Xq#b#Xq#e#Xq#l#Xq#w#Xqu#Xqw#Xqy#Xq~O#u${O~P*^Oo$}O~O|%OO~Or!Wiu!Wi~P*^OP!UOp!RO!Q!hO!b!SO!e!UO!g!VO$P!WO!a!oi!n!oi!q!oi!r!oi!s!oi!t!oi!u!oi!v!oi!w!oi!x!oi!z!oi!|!oi!}!oi#Q!oi$Q!oi$R!oi~O!p!oi~PLiO!p%[O~PLiOP!UOp!RO!Q!hO!b!SO!e!UO!g!VO!p%[O!q%]O!r%]O!s%]O$P!WO!a!oi!t!oi!u!oi!v!oi!w!oi!x!oi!z!oi!|!oi!}!oi#Q!oi$Q!oi$R!oi~O!n!oi~PNbO!n%^O~PNbOP!UOp!RO!Q!hO!b!SO!e!UO!g!VO!n%^O!p%[O!q%]O!r%]O!s%]O!t%_O$P!WO!a!oi!x!oi!z!oi!|!oi!}!oi#Q!oi$Q!oi$R!oi~O!u!oi!v!oi!w!oi~P!!ZO!u%`O!v%`O!w%`O~P!!ZOP!UOp!RO!Q!hO!b!SO!e!UO!g!VO!n%^O!p%[O!q%]O!r%]O!s%]O!t%_O!u%`O!v%`O!w%`O!x%aO$P!WO!a!oi!z!oi!|!oi!}!oi#Q!oi$R!oi~O$Q!oi~P!$YO$Q!XO~P!$YOP!UOp!RO!Q!hO!b!SO!e!UO!g!VO!n%^O!p%[O!q%]O!r%]O!s%]O!t%_O!u%`O!v%`O!w%`O!x%aO!z%cO$P!WO$Q!XO!a!oi!|!oi!}!oi#Q!oi~O$R!oi~P!&RO$R!YO~P!&ROP!UOp!RO!Q!hO!b!SO!e!UO!g!VO!n%^O!p%[O!q%]O!r%]O!s%]O!t%_O!u%`O!v%`O!w%`O!x%aO!z%cO!|%eO$P!WO$Q!XO$R!YO~O!a!oi!}!oi#Q!oi~P!'zO#u#Oy#S#Oy#Z#Oy#R#Oy!P#Oyr#Oyu#Oy~P*^Or$wOo#xa~O#S%SO~O}%TO~Op%WO~O!a#Oy~P7]Oo%XO~O#R%gO~P*^O#pR!qV#wY!g#n#o!b!cpo!x!v#R!}!|tu!Q!P!e!r!e!n!p!s!z!p!l!m!t~",goto:"4Y$PPPPP$QP$TPP$_P$oP$oP$oP$oP$oPP$oP$oP%u'PPP(_PP)wP)zPPPPPPPPPPPPP*kPP+x*k,V,]P,eP$oP$o,iPPP$oP$oP$oPPPPPP$oPPPPPPPPP-dP.PPP$o.hPPPP$o$TP$TPPP$TP$TP$TPP$TP.{/R/e/k/q/{PPPPPPPP0RP0]P3R3U3X3i3x3{4RRtPa_OSaghv!m!n`_OSaghv!m!nQ!smR!tn#X]OS[aghlmnopvx!R!S!Z![!]!^!_!`!a!b!c!d!e!g!h!m!n#b#r#v#|$R$W%Y%[%]%^%_%`%a%b%c%d%e%f%g%i#W]OS[aghlmnopvx!R!S!Z![!]!^!_!`!a!b!c!d!e!g!h!m!n#b#r#v#|$R$W%Y%[%]%^%_%`%a%b%c%d%e%f%g%iT!pj%Z!hTOS[aghjlmnopvx!Z![!]!^!_!`!a!b!c!d!e!g!h!m!n#b#r#v#|$W%iS#Rz#}s#[!R!S$R%Y%Z%[%]%^%_%`%a%b%c%d%e%f%g#W]OS[aghlmnopvx!R!S!Z![!]!^!_!`!a!b!c!d!e!g!h!m!n#b#r#v#|$R$W%Y%[%]%^%_%`%a%b%c%d%e%f%g%iQ!QYQ!oiQ$Y#pQ$g$QQ$|$aR%P$wR#q!o`_OSaghv!m!nQ!wqQ!xrQ$[#qQ$^#tQ$_#uQ%R$zR%V%SUUXk{`VOSaghv!m!n!w][lmnopx!R!S!Z![!]!^!_!`!a!b!c!d!e!g!h#b#r#v#|$R$W%Y%[%]%^%_%`%a%b%c%d%e%f%g%igUOSXaghkv{!m!nQ#UzR$e#}S#Sz#}T#a!V!WT#Tz#}!q!TZ!j!r!u!v#P#]#c#d#e#f#g#h#i#j#k#l#m#n#o$U$V$]$`$d$h$i$j$k$l$m$n$o$p$q$r$v%U%hr!aZ!r!u!v#P#j#k#l#m#n#o$V$]$`$d$v%h]%b#]$o$p$q$r%Un!cZ!r!u!v#P#l#m#n#o$V$]$`$d$v%hX%d#]$q$r%Uj!gZ!r!u!v#P#n#o$V$]$`$d$v%hT%i#]%UQ!zsR#x!zQaOQvSW!lav!m!nQ!mgR!nhQ$x$YR%Q$xQ$O#UR$f$OQ|XS#X|#YR#Y}Q$S#^R$t$Sa`OSaghv!m!ndZOSaghmnv!m!nQ!j[Q!rlQ!uoQ!vpQ#PxU#]!R!S$RQ#c!ZQ#d![Q#e!]Q#f!^Q#g!_Q#h!`Q#i!aQ#j!bQ#k!cQ#l!dQ#m!eQ#n!gQ#o!hQ$U%YQ$V#bQ$]#rQ$`#vQ$d#|Q$h%[Q$i%]Q$j%^Q$k%_Q$l%`Q$m%aQ$n%bQ$o%cQ$p%dQ$q%eQ$r%fQ$v$WQ%U%gR%h%iR$Z#pR!OX`^OSaghv!m!nQ}XR#W{dWOSXaghv{!m!nR!qkR#VzQ#_!RR#`!SS#^!R!SR$s$R",nodeNames:"\u26a0 ArithOp ArithOp LineComment BlockComment Program ReturnStatement Keywords \u0412\u0415\u0420\u041d\u0423\u0422\u042c ExpressionStatement Number Null \u041d\u0418\u0427\u0415\u0413\u041e Root \u041a\u041e\u0420\u0415\u041d\u042c Arguments \u0410\u0420\u0413\u0423\u041c\u0415\u041d\u0422\u042b Context \u041a\u041e\u041d\u0422\u0415\u041a\u0421\u0422 Indexes \u0418\u041d\u0414\u0415\u041a\u0421\u042b String Boolean BooleanLiteral NewFunction \u041d\u041e\u0412\u0410\u042f FunctionAndCall Function \u0424\u0423\u041d\u041a\u0426\u0418\u042f \u0427\u0418\u0421\u0422\u0410\u042f VariableName FcallEnd FcallStart DeclArgList , Block BlockStart BlockEnd \u041d\u0410\u0427\u0410\u041b\u041e \u041a\u041e\u041d\u0415\u0426 \u041d\u0410\u0427\u0410\u0422\u042c \u0417\u0410\u041a\u041e\u041d\u0427\u0418\u0422\u042c \u0418 \u0412\u0421\u0422\u0420\u0410\u0418\u0412\u0410\u042f \u0412\u042b\u041f\u041e\u041b\u041d\u0418\u0422\u042c \u0415\u0401 NotFormat ArrayEnd ArrayStart ArrayPattern \u0418\u041c\u042f \u041f\u0423\u0421\u0422\u042c VariableDefinition ObjectPattern PatternProperty PropertyName : PropertyMethod Equals SharpVariableName Sharp CallExpression ArgList Arrow FicallStart FicallEnd PostfixExpression LogicOp MemberExpression . UnaryExpression void typeof delete BitOp BitOp ArithOp BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp CompareOp instanceof CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp ? LogicOp ) ( ParenthesizedExpression ThrowStatement \u0411\u0420\u041e\u0421\u0418\u0422\u042c IfStatement \u0415\u0421\u041b\u0418 \u0422\u041e \u0418\u041d\u0410\u0427\u0415 WhileStatement \u041f\u041e\u041a\u0410 DoWhileStatement \u0414\u0415\u041b\u0410\u0422\u042c TryStatement \u041f\u042b\u0422\u0410\u0422\u042c\u0421\u042f \u041e\u0411\u0420\u0410\u0411\u0410\u0422\u042b\u0412\u0410\u042f VariableDeclaration ;",maxTerm:141,nodeProps:[["group",-10,6,9,35,99,101,105,107,109,112,113,"Statement",-22,10,11,13,15,17,19,21,22,24,26,30,46,49,53,59,61,66,68,70,77,92,98,"Expression"],["openedBy",31,"FcallStart",37,"BlockStart",47,"ArrayStart",96,"("],["closedBy",32,"FcallEnd",36,"BlockEnd",48,"ArrayEnd",97,")"]],propSources:[Abt],skippedNodes:[0,3,4,7,114],repeatNodeCount:6,tokenData:"La~R!vXY&iYZ&z]^&zpq&iqr'_rs'tst)buv)gvw)lxy)yyz*Qz{*a{|*n|}*s}!O*n!O!P*x!P!Q,W!Q!R-P!R![-q![!]0Y!]!^0a!^!_0h!_!`0}!`!a1_!a!b1r!c!}2X!}#O9c#P#Q9h#Q#R9m#R#S2X#T#o2X#o#p9r#p#q:P#q#r:X#r#s:^7l7m;O7m7n<V7n7o<{7p7q?P7q7r?c7s7t?x7t7u@h7v7wBO7y7zCd7z7{Dy7{7|Eu7}8OGT8O8PDY8P8QIo8Q8RK_8T8UK}8^8_2X8_8`2X8`8a2X8a8b2X8b8c2X8c8d2X8d8e2X8e8f2X8f8g2X8g8h2X8h8i2X8i8j2X8j8k2X8k8l2X8l8m2X8m8n2X8n8o2X8o8p2X8p8q2X8q8r2X8r8s2X8s8t2X8t8u2X8u8v2X8v8w2X8w8x2X8x8y2X8y8z2X8z8{2X8{8|2X8|8}2X8}9O2X9P9Q2X~&nS#n~XY&iYZ&i]^&ipq&i~'RS#n~#o~XY&iYZ&i]^&ipq&i~'dP!e~!_!`'g~'lP!x~!_!`'o~'tO!x~~'wVOr'trs(^s#O't#O#P(c#P;'S't;'S;=`)[<%lO't~(cOe~~(fRO;'S't;'S;=`(o;=`O't~(rWOr'trs(^s#O't#O#P(c#P;'S't;'S;=`)[;=`<%l't<%lO't~)_P;=`<%l't~)gO!^~~)lO!r~~)qP$R~vw)t~)yO!|~^*QO#TQp[U*XP#SSoQ#q#r*[Q*aO!cQ~*fP!s~z{*i~*nO!p~~*sO!n~~*xOr~~*}P!g~!Q![+Q~+VSY~!Q![+Q!g!h+c#R#S+Q#X#Y+c~+fS{|+r}!O+r!Q![+{#R#S+{~+uQ!Q![+{#R#S+{~,QQY~!Q![+{#R#S+{~,]Q!q~z{,c!P!Q,h~,hO#p~~,mSR~OY,hZ;'S,h;'S;=`,y<%lO,h~,|P;=`<%l,h~-UXY~!O!P+Q!Q![-q!g!h+c#R#S-q#U#V._#X#Y+c#b#c.Y#c#d.|#l#m/e~-vUY~!O!P+Q!Q![-q!g!h+c#R#S-q#X#Y+c#b#c.Y~._OY~~.bR!Q!R.k!R!S.k#R#S.k~.pSY~!Q!R.k!R!S.k#R#S.k#b#c.Y~/PQ!Q!Y/V#R#S/V~/[RY~!Q!Y/V#R#S/V#b#c.Y~/hS!Q![/t!c!i/t#R#S/t#T#Z/t~/yTY~!Q![/t!c!i/t#R#S/t#T#Z/t#b#c.YU0aO!YQ#RSU0hO#eQ#uS~0mQ!u~!^!_0s!_!`0x~0xO!t~~0}O!v~~1SQ![U!_!`'g!`!a1YW1_O!aW~1dQ!v~!_!`0x!`!a1j~1oP!t~!`!a0s~1wQ#Q~!O!P1}!a!b2S~2SO$P~~2XO!}~~2^!i#w~pq6{!Q![2X!c!}2X#R#S2X#T#o2X7]7^2X7l7m2X7m7n2X7n7o2X7o7p2X7p7q2X7q7r2X7r7s2X7s7t2X7t7u2X7u7v2X7v7w2X7w7x2X7x7y2X7y7z2X7z7{2X7{7|2X7|7}2X7}8O2X8O8P2X8P8Q2X8Q8R2X8R8S2X8S8T2X8T8U2X8U8V2X8V8W2X8W8X2X8X8Y2X8Y8Z2X8Z8[2X8[8]2X8]8^2X8^8_2X8_8`2X8`8a2X8a8b2X8b8c2X8c8d2X8d8e2X8e8f2X8f8g2X8g8h2X8h8i2X8i8j2X8j8k2X8k8l2X8l8m2X8m8n2X8n8o2X8o8p2X8p8q2X8q8r2X8r8s2X8s8t2X8t8u2X8u8v2X8v8w2X8w8x2X8x8y2X8y8z2X8z8{2X8{8|2X8|8}2X8}9O2X9P9Q2X~7Oupq6{!c!}2X#R#S2X#T#o2X8^8_2X8_8`2X8`8a2X8a8b2X8b8c2X8c8d2X8d8e2X8e8f2X8f8g2X8g8h2X8h8i2X8i8j2X8j8k2X8k8l2X8l8m2X8m8n2X8n8o2X8o8p2X8p8q2X8q8r2X8r8s2X8s8t2X8t8u2X8u8v2X8v8w2X8w8x2X8x8y2X8y8z2X8z8{2X8{8|2X8|8}2X8}9O2X9P9Q2X~9hO!Q~~9mO!P~~9rO!z~~9wPt~xy9z~:PO!b~~:UP$Q~#p#q2S~:^Ou~~:aTO#r:^#r#s:p#s;'S:^;'S;=`:x<%lO:^~:uP!O~#r#s:^~:{P;=`<%l:^~;RP7|7};U~;XP7o7p;[~;_P8P8Q;b~;eP7x7y;h~;kP7q7r;n~;qP7y7z;t~;wP8O8P;z~;}P8X8Y<Q~<VOV~~<YP7|7}<]~<`P7z7{<c~<fP7}8O<i~<lP7t7u<o~<rP8O8P<u~<xP8Y8Z<Q~=OR7q7r=X7}8O=k8X8Y>g~=[P7|7}=_~=bP7y7z=e~=hP8P8Q<o~=nP8O8P=q~=tP7|7}=w~=zP7l7m=}~>QP7t7u>T~>WP7n7o>Z~>^P7l7m>a~>dP8]8^<Q~>jP7{7|>m~>pP7z7{>s~>vP7w7x>y~>|P7y7z<i~?SP7q7r?V~?YP7w7x?]~?`P7l7m<o~?fQ7]7^<Q7}8O?l~?oP7w7x?r~?uP7t7u<Q~?{P7l7m@O~@RP7v7w@U~@XP7z7{@[~@_P7y7z@b~@eP8T8U<i~@oRV~!|~7w7x@x7x7y>a7y7zAV~@{P7t7uAO~AVOV~!}~~AYQ7l7mA`7p7qAl~AcP8T8UAf~AiP7q7r<Q~AoP7q7rAr~AuP7v7wAx~A{P7}8O;z~BRP7z7{BU~BXQ7y7zB_7|7}CW~BbQ7q7rBh8O8PBn~BkP8S8T<Q~BqP7q7rBt~BwP7v7wBz~B}P7}8OCQ~CTP8O8P<Q~CZP7q7rC^~CaP7y7z<u~CgS7l7mCs7q7rD`7t7uDg7z7{>T~CvP8T8UCy~C|P7l7mDP~DSQ7w7xDY8O8P<u~D]P7z7{<Q~DgOV~!m~~DjP8T8UDm~DpP7q7rDs~DvP7o7pDY~D|P7m7nEP~ESP7|7}EV~EYP7l7mE]~E`P7m7nEc~EfP7l7mEi~ElP8O8PEo~ErP8X8Y>T~ExR7z7{FR8P8QF_8X8YFe~FUP7v7wFX~F[P7l7m<Q~FbP7}8O<o~FhP8O8PFk~FnP7l7mFq~FtP8O8PFw~FzP8Y8ZF}~GQP7}8O>a~GWP7y7zGZ~G^P7l7mGa~GdP8T8UGg~GjP7l7mGm~GpP7w7xGs~GvP7l7mGy~HOPV~8P8QHR~HUQ7n7oH[7x7yIV~H_P7q7rHb~HeP7w7xHh~HkP7t7uHn~HqP8T8UHt~HwP7t7uHz~H}P7n7oIQ~IVO!l~~IYP7q7rI]~I`P7y7zIc~IfP8Y8ZIi~IlP8U8VHt~IrQ7n7oIx7x7yJu~I{P7q7rJO~JRP7w7xJU~JXP7t7uJ[~J_P8T8UJb~JeP7t7uJh~JkP7n7oJn~JuOV~!l~~JxP7q7rJ{~KOP7y7zKR~KUP8Y8ZKX~K[P8U8VJb~KbP8P8QKe~KhP7y7zKk~KnP7v7wKq~KtP8S8TKw~KzP7t7u>a~LQP7t7uLT~LWP7}8OLZ~L^P8O8P>Z",tokenizers:[Pbt,1,2,3,new jO("j~RQYZXz{^~^O#r~~aP!P!Qd~iO#s~~",25,125)],topRules:{Program:[0,5]},specialized:[{term:7,get:c=>Ibt[c]||-1},{term:131,get:c=>Rbt[c]||-1}],tokenPrec:2579}),PCe=new UH,ACe=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function QT(c){return(l,a)=>{let h=l.node.getChild("VariableDefinition");return h&&a(h,c),!0}}const Nbt=["FunctionDeclaration"],Fbt={FunctionDeclaration:QT("function"),ClassDeclaration:QT("class"),ClassExpression:()=>!0,EnumDeclaration:QT("constant"),TypeAliasDeclaration:QT("type"),NamespaceDeclaration:QT("namespace"),VariableDefinition(c,l){c.matchContext(Nbt)||l(c,"variable")},TypeDefinition(c,l){l(c,"type")},__proto__:null};function ICe(c,l){let a=PCe.get(l);if(a)return a;let h=[],d=!0;function f(p,g){let m=c.sliceString(p.from,p.to);h.push({label:m,type:g})}return l.cursor(ks.IncludeAnonymous).iterate(p=>{if(d)d=!1;else if(p.name){let g=Fbt[p.name];if(g&&g(p,f)||ACe.has(p.name))return!1}else if(p.to-p.from>8192){for(let g of ICe(c,p.node))h.push(g);return!1}return!1}),PCe.set(l,h),h}const a5=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,YW=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function Bbt(c){let l=Js(c.state).resolveInner(c.pos,-1);if(YW.indexOf(l.name)>-1)return null;let a="Identifier"==l.name||l.to-l.from<20&&a5.test(c.state.sliceDoc(l.from,l.to));if(!a&&!c.explicit)return null;let h=[];for(let d=l;d;d=d.parent)ACe.has(d.name)&&(h=h.concat(ICe(c.state.doc,d)));return{options:h,from:a?l.from:c.pos,validFor:a5}}const zbt=[wr("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),wr("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),wr("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),wr("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),wr("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),wr("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),wr("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),wr("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),wr("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),wr('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),wr('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],KW=MO.define({name:"cyrillic",parser:Lbt.configure({props:[wI.add({}),xI.add({BlockComment:c=>({from:c.from+2,to:c.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Qbt="\u041d\u0410\u0427\u0410\u041b\u041e \u041a\u041e\u041d\u0415\u0426 \u0424\u0423\u041d\u041a\u0426\u0418\u042f".split(" ").map(c=>({label:c,type:"keyword"})),JW="#e06c75",HT="#abb2bf",l5="#7d8799",eZ="#d19a66",tZ="#2c313a",nZ="#0d233a",c5="#353a42",iZ="#528bff",UCe=yi.theme({"&":{color:HT,backgroundColor:nZ},".cm-content":{caretColor:iZ},".cm-cursor, .cm-dropCursor":{borderLeftColor:iZ},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#3E4451"},".cm-panels":{backgroundColor:"#21252b",color:HT},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:nZ,color:l5,border:"none"},".cm-activeLineGutter":{backgroundColor:tZ},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:c5},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:c5,borderBottomColor:c5},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:tZ,color:HT}}},{dark:!0}),QCe=LO.define([{tag:le.keyword,color:"#c678dd"},{tag:[le.name,le.deleted,le.character,le.propertyName,le.macroName],color:JW},{tag:[le.function(le.variableName),le.labelName],color:"#61afef"},{tag:[le.color,le.constant(le.name),le.standard(le.name)],color:eZ},{tag:[le.definition(le.name),le.separator],color:HT},{tag:[le.typeName,le.className,le.number,le.changed,le.annotation,le.modifier,le.self,le.namespace],color:"#e5c07b"},{tag:[le.operator,le.operatorKeyword,le.url,le.escape,le.regexp,le.link,le.special(le.string)],color:"#56b6c2"},{tag:[le.meta,le.comment],color:l5},{tag:le.strong,fontWeight:"bold"},{tag:le.emphasis,fontStyle:"italic"},{tag:le.strikethrough,textDecoration:"line-through"},{tag:le.link,color:l5,textDecoration:"underline"},{tag:le.heading,fontWeight:"bold",color:JW},{tag:[le.atom,le.bool,le.special(le.variableName)],color:eZ},{tag:[le.processingInstruction,le.string,le.inserted],color:"#98c379"},{tag:le.invalid,color:"#ffffff"}]),rZ=(PT(QCe),"#a00a13"),WT="#0445a7",u5="#7d8799",sZ="#d06704",oZ="#e1e6ec",aZ="#ffffff",h5="#bfd1ee",lZ="#528bff",KCe=yi.theme({"&":{color:WT,backgroundColor:aZ},".cm-content":{caretColor:lZ},".cm-cursor, .cm-dropCursor":{borderLeftColor:lZ},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#e6edfc"},".cm-panels":{backgroundColor:"#d5e1ef",color:WT},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:aZ,color:u5,border:"none"},".cm-activeLineGutter":{backgroundColor:oZ},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:h5},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:h5,borderBottomColor:h5},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:oZ,color:WT}}},{dark:!0}),JCe=LO.define([{tag:le.keyword,color:"#c678dd"},{tag:[le.name,le.deleted,le.character,le.propertyName,le.macroName],color:rZ},{tag:[le.function(le.variableName),le.labelName],color:"#61afef"},{tag:[le.color,le.constant(le.name),le.standard(le.name)],color:sZ},{tag:[le.definition(le.name),le.separator],color:WT},{tag:[le.typeName,le.className,le.number,le.changed,le.annotation,le.modifier,le.self,le.namespace],color:"#b67904"},{tag:[le.operator,le.operatorKeyword,le.url,le.escape,le.regexp,le.link,le.special(le.string)],color:"#4999a1"},{tag:[le.meta,le.comment],color:u5},{tag:le.strong,fontWeight:"bold"},{tag:le.emphasis,fontStyle:"italic"},{tag:le.strikethrough,textDecoration:"line-through"},{tag:le.link,color:u5,textDecoration:"underline"},{tag:le.heading,fontWeight:"bold",color:rZ},{tag:[le.atom,le.bool,le.special(le.variableName)],color:sZ},{tag:[le.processingInstruction,le.string,le.inserted],color:"#3f9302"},{tag:le.invalid,color:"#000000"}]),Hbt=(PT(JCe),["editorContainer"]);let ZT=(()=>{class c{config;uiConfig;themesSvc;editorContainerRef;breakPoints=new Tt;data=Yx.builder();checkLater=Xw.builder().setEnabled(!1);currentAutoCompleteType="";get running(){return null!=this.handlerSubscription}get autocompleteType(){return(this.codemirrorData.autocompleteType?this.codemirrorData.autocompleteType:this.uiConfig.ui.compilerSourceLanguage.getStringValue())||"c-js"}set autocompleteType(a){this.codemirrorData.autocompleteType=a}textChanged=new Tt;readonly=!1;set text(a){this.setText(a)}set addText(a){this.setText(a,!0)}set addTextEventEmitter(a){this.addTextEventEmitterSubscription&&this.addTextEventEmitterSubscription.unsubscribe(),this.addTextEventEmitterSubscription=a.subscribe(h=>this.setText(h,!0))}addTextEventEmitterSubscription=null;set addSelectedLineEventEmitter(a){this.addSelectedLineEventEmitterSubscription&&this.addSelectedLineEventEmitterSubscription.unsubscribe(),this.addSelectedLineEventEmitterSubscription=a.subscribe(h=>this.highlightAllText(h))}addSelectedLineEventEmitterSubscription=null;set addBreakpointsEventEmitter(a){}addBreakpointsEventEmitterSubscription=null;maxHeightStr100vh="calc(100vh - 60px - 80px - 20px)";sMaxHeightStr=this.maxHeightStr100vh;get maxHeightStr(){return this.sMaxHeightStr}set maxHeightStr(a){this.sMaxHeightStr=a||this.maxHeightStr100vh,this.recreate()}minHeightStr="100px";maxLogLinesCount=0;themes=new pv;language=new pv;tabSize=new pv;editor=null;history=[];handlerSubscription=null;addLineHighlight=or.define();get myTheme(){return yi.theme({"&":{fontSize:"11pt",maxHeight:this.maxHeightStr},".cm-gutter,.cm-content":{minHeight:this.minHeightStr},".cm-scroller":{overflow:"auto"}})}get codemirrorData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h,d){this.config=a,this.uiConfig=h,this.themesSvc=d}emitBreakPoint(a,h){this.breakPoints.emit({pos:a,enabled:h})}get component(){return this.codemirrorData.components.length?this.codemirrorData.components[0]:null}get components(){return this.codemirrorData.components}get isRow(){return this.codemirrorData.classes.sClasses.findIndex((a,h,d)=>"clr-row"==a)>=0}checkAutoComplete(){this.running&&(this.currentAutoCompleteType!=this.autocompleteType&&(this.currentAutoCompleteType=this.autocompleteType,this.config.post(()=>this.recreate())),this.config.post(()=>this.checkAutoComplete(),1e3))}ngOnInit(){this.handlerSubscription=this.config.messageBus.addHandler(a=>{if(a.target==this.codemirrorData.messageTarget&&a.text==this.codemirrorData.messageUndoText&&this.history.length){let h=this.history.pop();null!=h&&this.setText(h)}}),this.checkAutoComplete()}setTabSize(a){this.editor&&this.editor.dispatch({effects:this.tabSize.reconfigure(vl.tabSize.of(a))})}getEmptyLineGutter(){const a=new class extends ph{toDOM(){return document.createTextNode("\xf8")}};return hI({lineMarker:(d,f)=>f.from==f.to?a:null,initialSpacer:()=>a})}toggleBreakpoint=(a,h)=>!0;getBreakPointGutter(){const a=or.define({map:(m,v)=>({pos:v.mapPos(m.pos),on:m.on})}),h=go.define({create:()=>Qs.empty,update(m,v){m=m.map(v.changes);for(let _ of v.effects)_.is(a)&&(m=m.update(_.value.on?{add:[f.range(_.value.pos)]}:{filter:y=>y!=_.value.pos}));return m}});function d(m,v){let _=m.state.field(h),y=!1;return _.between(v,v,()=>{y=!0}),m.dispatch({effects:a.of({pos:v,on:!y})}),!y}this.toggleBreakpoint=(m,v)=>d(m,v);const f=new class extends ph{toDOM(){return document.createTextNode("\u{1f534}")}},p=this;return[h,hI({class:"cm-breakpoint-gutter",markers:m=>m.state.field(h),initialSpacer:()=>f,domEventHandlers:{mousedown:(m,v)=>(p.emitBreakPoint(v.from,d(m,v.from)),!0)}}),yi.baseTheme({".cm-breakpoint-gutter .cm-gutterElement":{color:"red",paddingLeft:"5px",cursor:"default"}})]}getHightlightGutter(){const a=or.define();this.addLineHighlight=a;const h=go.define({create:()=>ii.none,update(f,p){f=f.map(p.changes);for(let g of p.effects)g.is(a)&&(f=ii.none,g.value&&g.value.forEach(m=>f=f.update({add:[d.range(m)]})));return f},provide:f=>yi.decorations.from(f)}),d=ii.line({attributes:{style:"background-color: var(--color-darkBtn)"}});return h}ngOnDestroy(){this.addTextEventEmitterSubscription&&this.addTextEventEmitterSubscription.unsubscribe(),this.addSelectedLineEventEmitterSubscription&&this.addSelectedLineEventEmitterSubscription.unsubscribe(),this.addBreakpointsEventEmitterSubscription&&this.addBreakpointsEventEmitterSubscription.unsubscribe(),this.handlerSubscription&&(this.handlerSubscription.unsubscribe(),this.handlerSubscription=null)}createNewCodemirrorState(){let a=[];switch(this.currentAutoCompleteType=this.autocompleteType,this.autocompleteType){case"cyrillic":a=["\u041d\u0410\u0427\u0410\u041b\u041e","\u041a\u041e\u041d\u0415\u0426","\u0415\u0421\u041b\u0418","\u0418\u041d\u0410\u0427\u0415","\u041f\u041e\u041a\u0410","\u0418\u041c\u042f","\u0414\u0415\u041b\u0410\u0422\u042c","\u041b\u041e\u0412\u042f","\u041e\u0411\u0420\u0410\u0411\u0410\u0422\u042b\u0412\u0410\u042f","\u041d\u041e\u0412\u0410\u042f","\u0424\u0423\u041d\u041a\u0426\u0418\u042f","\u0427\u0418\u0421\u0422\u0410\u042f","\u0418","\u0412\u0421\u0422\u0420\u041e\u0418\u0412","\u0412\u0421\u0422\u0420\u0410\u0418\u0412\u0410\u042f","\u0412\u042b\u041f\u041e\u041b\u041d\u0418\u0422\u042c","\u0415\u0401","\u0410\u0420\u0413\u0423\u041c\u0415\u041d\u0422\u042b","\u0418\u041d\u0414\u0415\u041a\u0421\u042b","\u041a\u041e\u0420\u0415\u041d\u042c","\u041f\u0420\u041e\u0411\u0415\u041b"].map(p=>({label:p,type:"keyword"}));break;case"c-js":a=[{label:"\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435",type:"constant",info:"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f"},{label:"\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c",type:"method",info:"\u043c\u0435\u0442\u043e\u0434 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f"},{label:"\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",type:"constant",info:"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f"}];break;case"math":a=["integrate","integral","pow","sin","cos","tg","ctg","arcsin","arccos","arctg","arcctg","ln","exp","diff","differentiate","\u0438\u043d\u0442\u0435\u0433\u0440\u0430\u043b","\u0438\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c","\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u043d\u0430\u044f","\u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044c","\u0443\u043f\u0440\u043e\u0441\u0442\u0438\u0442\u044c","\u0440\u0430\u0437\u043b\u043e\u0436\u0438\u0442\u044c"].map(p=>({label:p,type:"keyword",info:""})).concat([{label:"Pi",type:"constant",info:"\u0447\u0438\u0441\u043b\u043e \u03c0"},{label:"pi",type:"constant",info:"\u0447\u0438\u0441\u043b\u043e \u03c0"},{label:"e",type:"constant",info:"\u0447\u0438\u0441\u043b\u043e e"},{label:"\u0433\u0434\u0435",type:"text",apply:"\u0433\u0434\u0435 x: \u0434\u0440\u043e\u0431\u043d\u043e\u0435;",detail:"x: \u0434\u0440\u043e\u0431\u043d\u043e\u0435;"}])}let d=null;switch(this.autocompleteType){case"cyrillic":d=function Ubt(c={}){return new YH(KW,[KW.data.of({autocomplete:kW(YW,ZI(zbt.concat(Qbt)))}),KW.data.of({autocomplete:Bbt}),[]])}();break;case"c-js":d=function Tbt(c={}){return new YH(XW,[XW.data.of({autocomplete:kW(jW,ZI(xbt.concat(kbt)))}),XW.data.of({autocomplete:Cbt}),[]])}();break;default:d=function Yyt(c={}){let l=c.jsx?c.typescript?Gyt:jyt:c.typescript?Zyt:Wm,a=c.typescript?$yt.concat(Xyt):fCe.concat(yCe);return new YH(l,[Wm.data.of({autocomplete:kW(WW,ZI(a))}),Wm.data.of({autocomplete:Qyt}),c.jsx?Jyt:[]])}()}return vl.create({extensions:[this.getBreakPointGutter(),oyt,this.getHightlightGutter(),vl.readOnly.of(this.readonly),yi.editable.of(!this.readonly),this.language.of(d),this.tabSize.of(vl.tabSize.of(4)),gT.of([kvt]),yi.updateListener.of(p=>{p.docChanged&&this.onTextChanged()}),zOe({override:[p=>{let g=p.matchBefore(/[\u0430-\u044f\u0410-\u042fa-zA-Z]+/);return p.explicit||g?{from:g?g.from:p.pos,options:a,validFor:/^[\u0430-\u044f\u0410-\u042fa-zA-Z]*$/}:null}]}),...this.themesSvc.nowIsDay()?[KCe,this.myTheme,PT(JCe)]:[UCe,this.myTheme,PT(QCe)]],doc:this.codemirrorData.text})}ngAfterViewInit(){this.uiConfig.check(()=>{this.ngAfterViewInitDirect()})}scrollToLine(a){if(this.editor&&a>=0&&a<=this.editor.state.doc.lines){let h=a<=0?0:this.editor.state.doc.line(a).from;this.editor.dispatch({selection:{anchor:h}}),this.editor.dispatch({effects:yi.scrollIntoView(h)})}}highlightAllText(a){if(!this.editor)return;let h=a.lineStart,d=a.lineEnd;if(h<=0||h>this.editor.state.doc.lines)this.editor.dispatch({effects:this.addLineHighlight.of([])});else if(h<=this.editor.state.doc.lines){let f=[];for(let p=h;p<=d;++p){let g=this.editor.state.doc.line(p);f.push(g.from)}f.length&&this.editor.dispatch({effects:this.addLineHighlight.of(f)}),this.scrollToLine(h)}}loadBreakpoints(){if(this.codemirrorData.enableBreakpoints&&null!=this.config.breakpoints){let a=this.config.breakpoints.length,h=new Map;for(let d=0;d<a;++d)if(this.config.breakpoints[d]&&this.config.debugPositionsToLineMap){let f=this.config.debugPositionsToLineMap[d];h.has(f)||(h.set(f,!0),this.editor&&this.toggleBreakpoint(this.editor,this.editor.state.doc.line(f).from))}}}ngAfterViewInitDirect(){let a=this.createNewCodemirrorState(),h=new yi({state:a,parent:this.editorContainerRef.nativeElement});this.editor=h,this.config.post(()=>{this.checkLater.setConfig(this.config).setWaitingForSenderId(this.codemirrorData.waitingForSenderId),this.checkLater.checkEnabled()})}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return this.codemirrorData.classes.getCurValue(()=>this.getClassesRaw())}getContainerClasses(){return this.codemirrorData.containerClasses.getCurValue(()=>this.getContainerClassesRaw())}getClassesRaw(){return{h100:this.maxHeightStr==this.maxHeightStr100vh,h100Strict:"100%"==this.maxHeightStr,width100:!0}}getContainerClassesRaw(){return{h100:this.maxHeightStr==this.maxHeightStr100vh,h100Strict:"100%"==this.maxHeightStr,width100:!0,overflowHiddenx:!0}}getColClass(a){let h={"clr-col":!0};return a.component===c&&a.data.classes.sClasses.filter(f=>f.startsWith("clr-col-")).forEach(f=>h[f]=!0),h}onTextChanged(){if(this.editor){let a=this.editor.state.doc.toString();(!this.history.length||this.history[this.history.length-1]!=a)&&(this.history.length>100&&this.history.unshift(),this.history.push(this.codemirrorData.text)),this.codemirrorData.text=a,this.textChanged.emit(this.codemirrorData.text)}}resizeEditor(){this.editor&&this.editor.dispatch({effects:this.themes.reconfigure(this.myTheme)})}onResize(){this.resizeEditor()}recreate(){this.editor&&this.editor.setState(this.createNewCodemirrorState()),this.highlightAllText({lineStart:-1,lineEnd:-1}),this.loadBreakpoints()}setText(a,h=!1){if(this.text==a)return;let d=0,f=0,p=a;(h||a.startsWith(this.codemirrorData.text))&&this.editor?(d=this.editor.state.doc.length,f=this.editor.state.doc.length,p=h?a:a.substring(this.codemirrorData.text.length)):this.editor&&(f=this.editor.state.doc.length);let g=(h?this.codemirrorData.text:"")+a,m=g.split(/[\r\n]+/);this.maxLogLinesCount>0&&m.length>this.maxLogLinesCount&&(m.splice(0,m.length-this.maxLogLinesCount),p=g=m.join("\n"),d=0,this.editor&&(f=this.editor.state.doc.length)),this.codemirrorData.text=g,this.editor&&(this.editor.dispatch({changes:{from:d,to:f,insert:p}}),this.loadBreakpoints(),this.scrollToLine(this.editor.state.doc.lines))}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(Ys))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-codemirror"]],viewQuery:function(h,d){if(1&h&&si(Hbt,5),2&h){let f;Ht(f=Wt())&&(d.editorContainerRef=f.first)}},hostBindings:function(h,d){1&h&&Y("resize",function(p){return d.onResize(p.target)},0,ap)},inputs:{data:"data",autocompleteType:"autocompleteType",readonly:"readonly",text:"text",addText:"addText",addTextEventEmitter:"addTextEventEmitter",addSelectedLineEventEmitter:"addSelectedLineEventEmitter",addBreakpointsEventEmitter:"addBreakpointsEventEmitter",maxHeightStr:"maxHeightStr",minHeightStr:"minHeightStr",maxLogLinesCount:"maxLogLinesCount"},outputs:{breakPoints:"breakPoints",textChanged:"textChanged"},decls:3,vars:2,consts:[[3,"ngClass"],["editorContainer",""]],template:function(h,d){1&h&&(E(0,"div",0),se(1,"div",0,1),M()),2&h&&(R("ngClass",d.getContainerClasses()),I(1),R("ngClass",d.getClasses()))},dependencies:[ei],styles:[".h100[_ngcontent-%COMP%]{height:calc(100vh - 160px)}.h100Strict[_ngcontent-%COMP%]{height:100vh!important;width:100vw!important}"]})}return c})();const Wbt=0,eSe=1,Zbt=2,tSe=1,jbt=2,jT=3,qO=0,Tu=1,Zm=2,Lf=0,KO=1,uZ=2,nSe=3,iSe=4,Xbt=5,JO=100,Ybt=101,qbt=102,rSe=103,sSe=104,Kbt=200,Jbt=201,eOt=202,tOt=203,oSe=204,aSe=205,nOt=206,iOt=207,rOt=208,sOt=209,oOt=210,aOt=0,lOt=1,cOt=2,hZ=3,uOt=4,hOt=5,dOt=6,fOt=7,d5=0,lSe=1,pOt=2,ng=0,gOt=1,mOt=2,vOt=3,_Ot=4,yOt=5,wv=301,jm=302,f5=303,p5=304,GT=306,eC=1e3,Wc=1001,g5=1002,da=1003,fZ=1004,pZ=1005,zo=1006,cSe=1007,tC=1008,xv=1009,bOt=1010,OOt=1011,uSe=1012,COt=1013,Tv=1014,Gm=1015,XT=1016,SOt=1017,wOt=1018,nC=1020,xOt=1021,TOt=1022,fd=1023,hSe=1024,kOt=1025,kv=1026,iC=1027,dSe=1028,DOt=1029,MOt=1030,EOt=1031,POt=1033,gZ=33776,mZ=33777,vZ=33778,_Z=33779,fSe=35840,pSe=35841,gSe=35842,mSe=35843,AOt=36196,vSe=37492,_Se=37496,ySe=37808,bSe=37809,OSe=37810,CSe=37811,SSe=37812,wSe=37813,xSe=37814,TSe=37815,kSe=37816,DSe=37817,MSe=37818,ESe=37819,PSe=37820,ASe=37821,ISe=36492,Dv=3e3,eo=3001,LSe=3201,oC=0,FOt=1,ig="srgb",Mv="srgb-linear",NSe="300 es",SZ=1035;class Ev{addEventListener(l,a){void 0===this._listeners&&(this._listeners={});const h=this._listeners;void 0===h[l]&&(h[l]=[]),-1===h[l].indexOf(a)&&h[l].push(a)}hasEventListener(l,a){if(void 0===this._listeners)return!1;const h=this._listeners;return void 0!==h[l]&&-1!==h[l].indexOf(a)}removeEventListener(l,a){if(void 0===this._listeners)return;const d=this._listeners[l];if(void 0!==d){const f=d.indexOf(a);-1!==f&&d.splice(f,1)}}dispatchEvent(l){if(void 0===this._listeners)return;const h=this._listeners[l.type];if(void 0!==h){l.target=this;const d=h.slice(0);for(let f=0,p=d.length;f<p;f++)d[f].call(this,l);l.target=null}}}const wl=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Pv=Math.PI/180,YT=180/Math.PI;function ku(){const c=4294967295*Math.random()|0,l=4294967295*Math.random()|0,a=4294967295*Math.random()|0,h=4294967295*Math.random()|0;return(wl[255&c]+wl[c>>8&255]+wl[c>>16&255]+wl[c>>24&255]+"-"+wl[255&l]+wl[l>>8&255]+"-"+wl[l>>16&15|64]+wl[l>>24&255]+"-"+wl[63&a|128]+wl[a>>8&255]+"-"+wl[a>>16&255]+wl[a>>24&255]+wl[255&h]+wl[h>>8&255]+wl[h>>16&255]+wl[h>>24&255]).toLowerCase()}function Do(c,l,a){return Math.max(l,Math.min(a,c))}function qT(c,l,a){return(1-a)*c+a*l}function xZ(c){return 0==(c&c-1)&&0!==c}function y5(c){return Math.pow(2,Math.floor(Math.log(c)/Math.LN2))}class _t{constructor(l=0,a=0){_t.prototype.isVector2=!0,this.x=l,this.y=a}get width(){return this.x}set width(l){this.x=l}get height(){return this.y}set height(l){this.y=l}set(l,a){return this.x=l,this.y=a,this}setScalar(l){return this.x=l,this.y=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setComponent(l,a){switch(l){case 0:this.x=a;break;case 1:this.y=a;break;default:throw new Error("index is out of range: "+l)}return this}getComponent(l){switch(l){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+l)}}clone(){return new this.constructor(this.x,this.y)}copy(l){return this.x=l.x,this.y=l.y,this}add(l,a){return void 0!==a?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(l,a)):(this.x+=l.x,this.y+=l.y,this)}addScalar(l){return this.x+=l,this.y+=l,this}addVectors(l,a){return this.x=l.x+a.x,this.y=l.y+a.y,this}addScaledVector(l,a){return this.x+=l.x*a,this.y+=l.y*a,this}sub(l,a){return void 0!==a?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(l,a)):(this.x-=l.x,this.y-=l.y,this)}subScalar(l){return this.x-=l,this.y-=l,this}subVectors(l,a){return this.x=l.x-a.x,this.y=l.y-a.y,this}multiply(l){return this.x*=l.x,this.y*=l.y,this}multiplyScalar(l){return this.x*=l,this.y*=l,this}divide(l){return this.x/=l.x,this.y/=l.y,this}divideScalar(l){return this.multiplyScalar(1/l)}applyMatrix3(l){const a=this.x,h=this.y,d=l.elements;return this.x=d[0]*a+d[3]*h+d[6],this.y=d[1]*a+d[4]*h+d[7],this}min(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this}max(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this}clamp(l,a){return this.x=Math.max(l.x,Math.min(a.x,this.x)),this.y=Math.max(l.y,Math.min(a.y,this.y)),this}clampScalar(l,a){return this.x=Math.max(l,Math.min(a,this.x)),this.y=Math.max(l,Math.min(a,this.y)),this}clampLength(l,a){const h=this.length();return this.divideScalar(h||1).multiplyScalar(Math.max(l,Math.min(a,h)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(l){return this.x*l.x+this.y*l.y}cross(l){return this.x*l.y-this.y*l.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(l){return Math.sqrt(this.distanceToSquared(l))}distanceToSquared(l){const a=this.x-l.x,h=this.y-l.y;return a*a+h*h}manhattanDistanceTo(l){return Math.abs(this.x-l.x)+Math.abs(this.y-l.y)}setLength(l){return this.normalize().multiplyScalar(l)}lerp(l,a){return this.x+=(l.x-this.x)*a,this.y+=(l.y-this.y)*a,this}lerpVectors(l,a,h){return this.x=l.x+(a.x-l.x)*h,this.y=l.y+(a.y-l.y)*h,this}equals(l){return l.x===this.x&&l.y===this.y}fromArray(l,a=0){return this.x=l[a],this.y=l[a+1],this}toArray(l=[],a=0){return l[a]=this.x,l[a+1]=this.y,l}fromBufferAttribute(l,a,h){return void 0!==h&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=l.getX(a),this.y=l.getY(a),this}rotateAround(l,a){const h=Math.cos(a),d=Math.sin(a),f=this.x-l.x,p=this.y-l.y;return this.x=f*h-p*d+l.x,this.y=f*d+p*h+l.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Zc{constructor(){Zc.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(l,a,h,d,f,p,g,m,v){const _=this.elements;return _[0]=l,_[1]=d,_[2]=g,_[3]=a,_[4]=f,_[5]=m,_[6]=h,_[7]=p,_[8]=v,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(l){const a=this.elements,h=l.elements;return a[0]=h[0],a[1]=h[1],a[2]=h[2],a[3]=h[3],a[4]=h[4],a[5]=h[5],a[6]=h[6],a[7]=h[7],a[8]=h[8],this}extractBasis(l,a,h){return l.setFromMatrix3Column(this,0),a.setFromMatrix3Column(this,1),h.setFromMatrix3Column(this,2),this}setFromMatrix4(l){const a=l.elements;return this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]),this}multiply(l){return this.multiplyMatrices(this,l)}premultiply(l){return this.multiplyMatrices(l,this)}multiplyMatrices(l,a){const h=l.elements,d=a.elements,f=this.elements,p=h[0],g=h[3],m=h[6],v=h[1],_=h[4],y=h[7],b=h[2],O=h[5],C=h[8],S=d[0],w=d[3],x=d[6],T=d[1],D=d[4],k=d[7],P=d[2],N=d[5],F=d[8];return f[0]=p*S+g*T+m*P,f[3]=p*w+g*D+m*N,f[6]=p*x+g*k+m*F,f[1]=v*S+_*T+y*P,f[4]=v*w+_*D+y*N,f[7]=v*x+_*k+y*F,f[2]=b*S+O*T+C*P,f[5]=b*w+O*D+C*N,f[8]=b*x+O*k+C*F,this}multiplyScalar(l){const a=this.elements;return a[0]*=l,a[3]*=l,a[6]*=l,a[1]*=l,a[4]*=l,a[7]*=l,a[2]*=l,a[5]*=l,a[8]*=l,this}determinant(){const l=this.elements,a=l[0],h=l[1],d=l[2],f=l[3],p=l[4],g=l[5],m=l[6],v=l[7],_=l[8];return a*p*_-a*g*v-h*f*_+h*g*m+d*f*v-d*p*m}invert(){const l=this.elements,a=l[0],h=l[1],d=l[2],f=l[3],p=l[4],g=l[5],m=l[6],v=l[7],_=l[8],y=_*p-g*v,b=g*m-_*f,O=v*f-p*m,C=a*y+h*b+d*O;if(0===C)return this.set(0,0,0,0,0,0,0,0,0);const S=1/C;return l[0]=y*S,l[1]=(d*v-_*h)*S,l[2]=(g*h-d*p)*S,l[3]=b*S,l[4]=(_*a-d*m)*S,l[5]=(d*f-g*a)*S,l[6]=O*S,l[7]=(h*m-v*a)*S,l[8]=(p*a-h*f)*S,this}transpose(){let l;const a=this.elements;return l=a[1],a[1]=a[3],a[3]=l,l=a[2],a[2]=a[6],a[6]=l,l=a[5],a[5]=a[7],a[7]=l,this}getNormalMatrix(l){return this.setFromMatrix4(l).invert().transpose()}transposeIntoArray(l){const a=this.elements;return l[0]=a[0],l[1]=a[3],l[2]=a[6],l[3]=a[1],l[4]=a[4],l[5]=a[7],l[6]=a[2],l[7]=a[5],l[8]=a[8],this}setUvTransform(l,a,h,d,f,p,g){const m=Math.cos(f),v=Math.sin(f);return this.set(h*m,h*v,-h*(m*p+v*g)+p+l,-d*v,d*m,-d*(-v*p+m*g)+g+a,0,0,1),this}scale(l,a){const h=this.elements;return h[0]*=l,h[3]*=l,h[6]*=l,h[1]*=a,h[4]*=a,h[7]*=a,this}rotate(l){const a=Math.cos(l),h=Math.sin(l),d=this.elements,f=d[0],p=d[3],g=d[6],m=d[1],v=d[4],_=d[7];return d[0]=a*f+h*m,d[3]=a*p+h*v,d[6]=a*g+h*_,d[1]=-h*f+a*m,d[4]=-h*p+a*v,d[7]=-h*g+a*_,this}translate(l,a){const h=this.elements;return h[0]+=l*h[2],h[3]+=l*h[5],h[6]+=l*h[8],h[1]+=a*h[2],h[4]+=a*h[5],h[7]+=a*h[8],this}equals(l){const a=this.elements,h=l.elements;for(let d=0;d<9;d++)if(a[d]!==h[d])return!1;return!0}fromArray(l,a=0){for(let h=0;h<9;h++)this.elements[h]=l[h+a];return this}toArray(l=[],a=0){const h=this.elements;return l[a]=h[0],l[a+1]=h[1],l[a+2]=h[2],l[a+3]=h[3],l[a+4]=h[4],l[a+5]=h[5],l[a+6]=h[6],l[a+7]=h[7],l[a+8]=h[8],l}clone(){return(new this.constructor).fromArray(this.elements)}}function VSe(c){for(let l=c.length-1;l>=0;--l)if(c[l]>65535)return!0;return!1}function KT(c){return document.createElementNS("http://www.w3.org/1999/xhtml",c)}function Av(c){return c<.04045?.0773993808*c:Math.pow(.9478672986*c+.0521327014,2.4)}function b5(c){return c<.0031308?12.92*c:1.055*Math.pow(c,.41666)-.055}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const TZ={[ig]:{[Mv]:Av},[Mv]:{[ig]:b5}},pd={legacyMode:!0,get workingColorSpace(){return Mv},set workingColorSpace(c){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(c,l,a){if(this.legacyMode||l===a||!l||!a)return c;if(TZ[l]&&void 0!==TZ[l][a]){const h=TZ[l][a];return c.r=h(c.r),c.g=h(c.g),c.b=h(c.b),c}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(c,l){return this.convert(c,this.workingColorSpace,l)},toWorkingColorSpace:function(c,l){return this.convert(c,l,this.workingColorSpace)}},$Se={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fa={r:0,g:0,b:0},gd={h:0,s:0,l:0},O5={h:0,s:0,l:0};function kZ(c,l,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?c+6*(l-c)*a:a<.5?l:a<2/3?c+6*(l-c)*(2/3-a):c}function C5(c,l){return l.r=c.r,l.g=c.g,l.b=c.b,l}let lC,Cn=(()=>{class c{constructor(a,h,d){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===h&&void 0===d?this.set(a):this.setRGB(a,h,d)}set(a){return a&&a.isColor?this.copy(a):"number"==typeof a?this.setHex(a):"string"==typeof a&&this.setStyle(a),this}setScalar(a){return this.r=a,this.g=a,this.b=a,this}setHex(a,h=ig){return a=Math.floor(a),this.r=(a>>16&255)/255,this.g=(a>>8&255)/255,this.b=(255&a)/255,pd.toWorkingColorSpace(this,h),this}setRGB(a,h,d,f=Mv){return this.r=a,this.g=h,this.b=d,pd.toWorkingColorSpace(this,f),this}setHSL(a,h,d,f=Mv){if(a=function wZ(c,l){return(c%l+l)%l}(a,1),h=Do(h,0,1),d=Do(d,0,1),0===h)this.r=this.g=this.b=d;else{const p=d<=.5?d*(1+h):d+h-d*h,g=2*d-p;this.r=kZ(g,p,a+1/3),this.g=kZ(g,p,a),this.b=kZ(g,p,a-1/3)}return pd.toWorkingColorSpace(this,f),this}setStyle(a,h=ig){function d(p){void 0!==p&&parseFloat(p)<1&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}let f;if(f=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(a)){let p;const m=f[2];switch(f[1]){case"rgb":case"rgba":if(p=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(m))return this.r=Math.min(255,parseInt(p[1],10))/255,this.g=Math.min(255,parseInt(p[2],10))/255,this.b=Math.min(255,parseInt(p[3],10))/255,pd.toWorkingColorSpace(this,h),d(p[4]),this;if(p=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(m))return this.r=Math.min(100,parseInt(p[1],10))/100,this.g=Math.min(100,parseInt(p[2],10))/100,this.b=Math.min(100,parseInt(p[3],10))/100,pd.toWorkingColorSpace(this,h),d(p[4]),this;break;case"hsl":case"hsla":if(p=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(m)){const v=parseFloat(p[1])/360,_=parseInt(p[2],10)/100,y=parseInt(p[3],10)/100;return d(p[4]),this.setHSL(v,_,y,h)}}}else if(f=/^\#([A-Fa-f\d]+)$/.exec(a)){const p=f[1],g=p.length;if(3===g)return this.r=parseInt(p.charAt(0)+p.charAt(0),16)/255,this.g=parseInt(p.charAt(1)+p.charAt(1),16)/255,this.b=parseInt(p.charAt(2)+p.charAt(2),16)/255,pd.toWorkingColorSpace(this,h),this;if(6===g)return this.r=parseInt(p.charAt(0)+p.charAt(1),16)/255,this.g=parseInt(p.charAt(2)+p.charAt(3),16)/255,this.b=parseInt(p.charAt(4)+p.charAt(5),16)/255,pd.toWorkingColorSpace(this,h),this}return a&&a.length>0?this.setColorName(a,h):this}setColorName(a,h=ig){const d=$Se[a.toLowerCase()];return void 0!==d?this.setHex(d,h):console.warn("THREE.Color: Unknown color "+a),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(a){return this.r=a.r,this.g=a.g,this.b=a.b,this}copySRGBToLinear(a){return this.r=Av(a.r),this.g=Av(a.g),this.b=Av(a.b),this}copyLinearToSRGB(a){return this.r=b5(a.r),this.g=b5(a.g),this.b=b5(a.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(a=ig){return pd.fromWorkingColorSpace(C5(this,fa),a),Do(255*fa.r,0,255)<<16^Do(255*fa.g,0,255)<<8^Do(255*fa.b,0,255)<<0}getHexString(a=ig){return("000000"+this.getHex(a).toString(16)).slice(-6)}getHSL(a,h=Mv){pd.fromWorkingColorSpace(C5(this,fa),h);const d=fa.r,f=fa.g,p=fa.b,g=Math.max(d,f,p),m=Math.min(d,f,p);let v,_;const y=(m+g)/2;if(m===g)v=0,_=0;else{const b=g-m;switch(_=y<=.5?b/(g+m):b/(2-g-m),g){case d:v=(f-p)/b+(f<p?6:0);break;case f:v=(p-d)/b+2;break;case p:v=(d-f)/b+4}v/=6}return a.h=v,a.s=_,a.l=y,a}getRGB(a,h=Mv){return pd.fromWorkingColorSpace(C5(this,fa),h),a.r=fa.r,a.g=fa.g,a.b=fa.b,a}getStyle(a=ig){return pd.fromWorkingColorSpace(C5(this,fa),a),a!==ig?`color(${a} ${fa.r} ${fa.g} ${fa.b})`:`rgb(${255*fa.r|0},${255*fa.g|0},${255*fa.b|0})`}offsetHSL(a,h,d){return this.getHSL(gd),gd.h+=a,gd.s+=h,gd.l+=d,this.setHSL(gd.h,gd.s,gd.l),this}add(a){return this.r+=a.r,this.g+=a.g,this.b+=a.b,this}addColors(a,h){return this.r=a.r+h.r,this.g=a.g+h.g,this.b=a.b+h.b,this}addScalar(a){return this.r+=a,this.g+=a,this.b+=a,this}sub(a){return this.r=Math.max(0,this.r-a.r),this.g=Math.max(0,this.g-a.g),this.b=Math.max(0,this.b-a.b),this}multiply(a){return this.r*=a.r,this.g*=a.g,this.b*=a.b,this}multiplyScalar(a){return this.r*=a,this.g*=a,this.b*=a,this}lerp(a,h){return this.r+=(a.r-this.r)*h,this.g+=(a.g-this.g)*h,this.b+=(a.b-this.b)*h,this}lerpColors(a,h,d){return this.r=a.r+(h.r-a.r)*d,this.g=a.g+(h.g-a.g)*d,this.b=a.b+(h.b-a.b)*d,this}lerpHSL(a,h){this.getHSL(gd),a.getHSL(O5);const d=qT(gd.h,O5.h,h),f=qT(gd.s,O5.s,h),p=qT(gd.l,O5.l,h);return this.setHSL(d,f,p),this}equals(a){return a.r===this.r&&a.g===this.g&&a.b===this.b}fromArray(a,h=0){return this.r=a[h],this.g=a[h+1],this.b=a[h+2],this}toArray(a=[],h=0){return a[h]=this.r,a[h+1]=this.g,a[h+2]=this.b,a}fromBufferAttribute(a,h){return this.r=a.getX(h),this.g=a.getY(h),this.b=a.getZ(h),!0===a.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}return c.NAMES=$Se,c})();class zSe{static getDataURL(l){if(/^data:/i.test(l.src)||typeof HTMLCanvasElement>"u")return l.src;let a;if(l instanceof HTMLCanvasElement)a=l;else{void 0===lC&&(lC=KT("canvas")),lC.width=l.width,lC.height=l.height;const h=lC.getContext("2d");l instanceof ImageData?h.putImageData(l,0,0):h.drawImage(l,0,0,l.width,l.height),a=lC}return a.width>2048||a.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",l),a.toDataURL("image/jpeg",.6)):a.toDataURL("image/png")}static sRGBToLinear(l){if(typeof HTMLImageElement<"u"&&l instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&l instanceof ImageBitmap){const a=KT("canvas");a.width=l.width,a.height=l.height;const h=a.getContext("2d");h.drawImage(l,0,0,l.width,l.height);const d=h.getImageData(0,0,l.width,l.height),f=d.data;for(let p=0;p<f.length;p++)f[p]=255*Av(f[p]/255);return h.putImageData(d,0,0),a}if(l.data){const a=l.data.slice(0);for(let h=0;h<a.length;h++)a[h]=a instanceof Uint8Array||a instanceof Uint8ClampedArray?Math.floor(255*Av(a[h]/255)):Av(a[h]);return{data:a,width:l.width,height:l.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),l}}class cC{constructor(l=null){this.isSource=!0,this.uuid=ku(),this.data=l,this.version=0}set needsUpdate(l){!0===l&&this.version++}toJSON(l){const a=void 0===l||"string"==typeof l;if(!a&&void 0!==l.images[this.uuid])return l.images[this.uuid];const h={uuid:this.uuid,url:""},d=this.data;if(null!==d){let f;if(Array.isArray(d)){f=[];for(let p=0,g=d.length;p<g;p++)f.push(DZ(d[p].isDataTexture?d[p].image:d[p]))}else f=DZ(d);h.url=f}return a||(l.images[this.uuid]=h),h}}function DZ(c){return typeof HTMLImageElement<"u"&&c instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&c instanceof ImageBitmap?zSe.getDataURL(c):c.data?{data:Array.from(c.data),width:c.width,height:c.height,type:c.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let tCt=0,Nf=(()=>{class c extends Ev{constructor(a=c.DEFAULT_IMAGE,h=c.DEFAULT_MAPPING,d=Wc,f=Wc,p=zo,g=tC,m=fd,v=xv,_=1,y=Dv){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:tCt++}),this.uuid=ku(),this.name="",this.source=new cC(a),this.mipmaps=[],this.mapping=h,this.wrapS=d,this.wrapT=f,this.magFilter=p,this.minFilter=g,this.anisotropy=_,this.format=m,this.internalFormat=null,this.type=v,this.offset=new _t(0,0),this.repeat=new _t(1,1),this.center=new _t(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Zc,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=y,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(a){this.source.data=a}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(a){return this.name=a.name,this.source=a.source,this.mipmaps=a.mipmaps.slice(0),this.mapping=a.mapping,this.wrapS=a.wrapS,this.wrapT=a.wrapT,this.magFilter=a.magFilter,this.minFilter=a.minFilter,this.anisotropy=a.anisotropy,this.format=a.format,this.internalFormat=a.internalFormat,this.type=a.type,this.offset.copy(a.offset),this.repeat.copy(a.repeat),this.center.copy(a.center),this.rotation=a.rotation,this.matrixAutoUpdate=a.matrixAutoUpdate,this.matrix.copy(a.matrix),this.generateMipmaps=a.generateMipmaps,this.premultiplyAlpha=a.premultiplyAlpha,this.flipY=a.flipY,this.unpackAlignment=a.unpackAlignment,this.encoding=a.encoding,this.userData=JSON.parse(JSON.stringify(a.userData)),this.needsUpdate=!0,this}toJSON(a){const h=void 0===a||"string"==typeof a;if(!h&&void 0!==a.textures[this.uuid])return a.textures[this.uuid];const d={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(a).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(d.userData=this.userData),h||(a.textures[this.uuid]=d),d}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(a){if(300!==this.mapping)return a;if(a.applyMatrix3(this.matrix),a.x<0||a.x>1)switch(this.wrapS){case eC:a.x=a.x-Math.floor(a.x);break;case Wc:a.x=a.x<0?0:1;break;case g5:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(a.y<0||a.y>1)switch(this.wrapT){case eC:a.y=a.y-Math.floor(a.y);break;case Wc:a.y=a.y<0?0:1;break;case g5:a.y=1===Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}return this.flipY&&(a.y=1-a.y),a}set needsUpdate(a){!0===a&&(this.version++,this.source.needsUpdate=!0)}}return c.DEFAULT_IMAGE=null,c.DEFAULT_MAPPING=300,c})();class Dr{constructor(l=0,a=0,h=0,d=1){Dr.prototype.isVector4=!0,this.x=l,this.y=a,this.z=h,this.w=d}get width(){return this.z}set width(l){this.z=l}get height(){return this.w}set height(l){this.w=l}set(l,a,h,d){return this.x=l,this.y=a,this.z=h,this.w=d,this}setScalar(l){return this.x=l,this.y=l,this.z=l,this.w=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setZ(l){return this.z=l,this}setW(l){return this.w=l,this}setComponent(l,a){switch(l){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;case 3:this.w=a;break;default:throw new Error("index is out of range: "+l)}return this}getComponent(l){switch(l){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+l)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(l){return this.x=l.x,this.y=l.y,this.z=l.z,this.w=void 0!==l.w?l.w:1,this}add(l,a){return void 0!==a?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(l,a)):(this.x+=l.x,this.y+=l.y,this.z+=l.z,this.w+=l.w,this)}addScalar(l){return this.x+=l,this.y+=l,this.z+=l,this.w+=l,this}addVectors(l,a){return this.x=l.x+a.x,this.y=l.y+a.y,this.z=l.z+a.z,this.w=l.w+a.w,this}addScaledVector(l,a){return this.x+=l.x*a,this.y+=l.y*a,this.z+=l.z*a,this.w+=l.w*a,this}sub(l,a){return void 0!==a?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(l,a)):(this.x-=l.x,this.y-=l.y,this.z-=l.z,this.w-=l.w,this)}subScalar(l){return this.x-=l,this.y-=l,this.z-=l,this.w-=l,this}subVectors(l,a){return this.x=l.x-a.x,this.y=l.y-a.y,this.z=l.z-a.z,this.w=l.w-a.w,this}multiply(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z,this.w*=l.w,this}multiplyScalar(l){return this.x*=l,this.y*=l,this.z*=l,this.w*=l,this}applyMatrix4(l){const a=this.x,h=this.y,d=this.z,f=this.w,p=l.elements;return this.x=p[0]*a+p[4]*h+p[8]*d+p[12]*f,this.y=p[1]*a+p[5]*h+p[9]*d+p[13]*f,this.z=p[2]*a+p[6]*h+p[10]*d+p[14]*f,this.w=p[3]*a+p[7]*h+p[11]*d+p[15]*f,this}divideScalar(l){return this.multiplyScalar(1/l)}setAxisAngleFromQuaternion(l){this.w=2*Math.acos(l.w);const a=Math.sqrt(1-l.w*l.w);return a<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=l.x/a,this.y=l.y/a,this.z=l.z/a),this}setAxisAngleFromRotationMatrix(l){let a,h,d,f;const m=l.elements,v=m[0],_=m[4],y=m[8],b=m[1],O=m[5],C=m[9],S=m[2],w=m[6],x=m[10];if(Math.abs(_-b)<.01&&Math.abs(y-S)<.01&&Math.abs(C-w)<.01){if(Math.abs(_+b)<.1&&Math.abs(y+S)<.1&&Math.abs(C+w)<.1&&Math.abs(v+O+x-3)<.1)return this.set(1,0,0,0),this;a=Math.PI;const D=(v+1)/2,k=(O+1)/2,P=(x+1)/2,N=(_+b)/4,F=(y+S)/4,L=(C+w)/4;return D>k&&D>P?D<.01?(h=0,d=.707106781,f=.707106781):(h=Math.sqrt(D),d=N/h,f=F/h):k>P?k<.01?(h=.707106781,d=0,f=.707106781):(d=Math.sqrt(k),h=N/d,f=L/d):P<.01?(h=.707106781,d=.707106781,f=0):(f=Math.sqrt(P),h=F/f,d=L/f),this.set(h,d,f,a),this}let T=Math.sqrt((w-C)*(w-C)+(y-S)*(y-S)+(b-_)*(b-_));return Math.abs(T)<.001&&(T=1),this.x=(w-C)/T,this.y=(y-S)/T,this.z=(b-_)/T,this.w=Math.acos((v+O+x-1)/2),this}min(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this.w=Math.min(this.w,l.w),this}max(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this.w=Math.max(this.w,l.w),this}clamp(l,a){return this.x=Math.max(l.x,Math.min(a.x,this.x)),this.y=Math.max(l.y,Math.min(a.y,this.y)),this.z=Math.max(l.z,Math.min(a.z,this.z)),this.w=Math.max(l.w,Math.min(a.w,this.w)),this}clampScalar(l,a){return this.x=Math.max(l,Math.min(a,this.x)),this.y=Math.max(l,Math.min(a,this.y)),this.z=Math.max(l,Math.min(a,this.z)),this.w=Math.max(l,Math.min(a,this.w)),this}clampLength(l,a){const h=this.length();return this.divideScalar(h||1).multiplyScalar(Math.max(l,Math.min(a,h)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(l){return this.x*l.x+this.y*l.y+this.z*l.z+this.w*l.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(l){return this.normalize().multiplyScalar(l)}lerp(l,a){return this.x+=(l.x-this.x)*a,this.y+=(l.y-this.y)*a,this.z+=(l.z-this.z)*a,this.w+=(l.w-this.w)*a,this}lerpVectors(l,a,h){return this.x=l.x+(a.x-l.x)*h,this.y=l.y+(a.y-l.y)*h,this.z=l.z+(a.z-l.z)*h,this.w=l.w+(a.w-l.w)*h,this}equals(l){return l.x===this.x&&l.y===this.y&&l.z===this.z&&l.w===this.w}fromArray(l,a=0){return this.x=l[a],this.y=l[a+1],this.z=l[a+2],this.w=l[a+3],this}toArray(l=[],a=0){return l[a]=this.x,l[a+1]=this.y,l[a+2]=this.z,l[a+3]=this.w,l}fromBufferAttribute(l,a,h){return void 0!==h&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=l.getX(a),this.y=l.getY(a),this.z=l.getZ(a),this.w=l.getW(a),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class oc extends Ev{constructor(l,a,h={}){super(),this.isWebGLRenderTarget=!0,this.width=l,this.height=a,this.depth=1,this.scissor=new Dr(0,0,l,a),this.scissorTest=!1,this.viewport=new Dr(0,0,l,a),this.texture=new Nf({width:l,height:a,depth:1},h.mapping,h.wrapS,h.wrapT,h.magFilter,h.minFilter,h.format,h.type,h.anisotropy,h.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==h.generateMipmaps&&h.generateMipmaps,this.texture.internalFormat=void 0!==h.internalFormat?h.internalFormat:null,this.texture.minFilter=void 0!==h.minFilter?h.minFilter:zo,this.depthBuffer=void 0===h.depthBuffer||h.depthBuffer,this.stencilBuffer=void 0!==h.stencilBuffer&&h.stencilBuffer,this.depthTexture=void 0!==h.depthTexture?h.depthTexture:null,this.samples=void 0!==h.samples?h.samples:0}setSize(l,a,h=1){(this.width!==l||this.height!==a||this.depth!==h)&&(this.width=l,this.height=a,this.depth=h,this.texture.image.width=l,this.texture.image.height=a,this.texture.image.depth=h,this.dispose()),this.viewport.set(0,0,l,a),this.scissor.set(0,0,l,a)}clone(){return(new this.constructor).copy(this)}copy(l){this.width=l.width,this.height=l.height,this.depth=l.depth,this.viewport.copy(l.viewport),this.texture=l.texture.clone(),this.texture.isRenderTargetTexture=!0;const a=Object.assign({},l.texture.image);return this.texture.source=new cC(a),this.depthBuffer=l.depthBuffer,this.stencilBuffer=l.stencilBuffer,null!==l.depthTexture&&(this.depthTexture=l.depthTexture.clone()),this.samples=l.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class MZ extends Nf{constructor(l=null,a=1,h=1,d=1){super(null),this.isDataArrayTexture=!0,this.image={data:l,width:a,height:h,depth:d},this.magFilter=da,this.minFilter=da,this.wrapR=Wc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class USe extends Nf{constructor(l=null,a=1,h=1,d=1){super(null),this.isData3DTexture=!0,this.image={data:l,width:a,height:h,depth:d},this.magFilter=da,this.minFilter=da,this.wrapR=Wc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ac{constructor(l=0,a=0,h=0,d=1){this.isQuaternion=!0,this._x=l,this._y=a,this._z=h,this._w=d}static slerp(l,a,h,d){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),h.slerpQuaternions(l,a,d)}static slerpFlat(l,a,h,d,f,p,g){let m=h[d+0],v=h[d+1],_=h[d+2],y=h[d+3];const b=f[p+0],O=f[p+1],C=f[p+2],S=f[p+3];if(0===g)return l[a+0]=m,l[a+1]=v,l[a+2]=_,void(l[a+3]=y);if(1===g)return l[a+0]=b,l[a+1]=O,l[a+2]=C,void(l[a+3]=S);if(y!==S||m!==b||v!==O||_!==C){let w=1-g;const x=m*b+v*O+_*C+y*S,T=x>=0?1:-1,D=1-x*x;if(D>Number.EPSILON){const P=Math.sqrt(D),N=Math.atan2(P,x*T);w=Math.sin(w*N)/P,g=Math.sin(g*N)/P}const k=g*T;if(m=m*w+b*k,v=v*w+O*k,_=_*w+C*k,y=y*w+S*k,w===1-g){const P=1/Math.sqrt(m*m+v*v+_*_+y*y);m*=P,v*=P,_*=P,y*=P}}l[a]=m,l[a+1]=v,l[a+2]=_,l[a+3]=y}static multiplyQuaternionsFlat(l,a,h,d,f,p){const g=h[d],m=h[d+1],v=h[d+2],_=h[d+3],y=f[p],b=f[p+1],O=f[p+2],C=f[p+3];return l[a]=g*C+_*y+m*O-v*b,l[a+1]=m*C+_*b+v*y-g*O,l[a+2]=v*C+_*O+g*b-m*y,l[a+3]=_*C-g*y-m*b-v*O,l}get x(){return this._x}set x(l){this._x=l,this._onChangeCallback()}get y(){return this._y}set y(l){this._y=l,this._onChangeCallback()}get z(){return this._z}set z(l){this._z=l,this._onChangeCallback()}get w(){return this._w}set w(l){this._w=l,this._onChangeCallback()}set(l,a,h,d){return this._x=l,this._y=a,this._z=h,this._w=d,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(l){return this._x=l.x,this._y=l.y,this._z=l.z,this._w=l.w,this._onChangeCallback(),this}setFromEuler(l,a){if(!l||!l.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const h=l._x,d=l._y,f=l._z,p=l._order,g=Math.cos,m=Math.sin,v=g(h/2),_=g(d/2),y=g(f/2),b=m(h/2),O=m(d/2),C=m(f/2);switch(p){case"XYZ":this._x=b*_*y+v*O*C,this._y=v*O*y-b*_*C,this._z=v*_*C+b*O*y,this._w=v*_*y-b*O*C;break;case"YXZ":this._x=b*_*y+v*O*C,this._y=v*O*y-b*_*C,this._z=v*_*C-b*O*y,this._w=v*_*y+b*O*C;break;case"ZXY":this._x=b*_*y-v*O*C,this._y=v*O*y+b*_*C,this._z=v*_*C+b*O*y,this._w=v*_*y-b*O*C;break;case"ZYX":this._x=b*_*y-v*O*C,this._y=v*O*y+b*_*C,this._z=v*_*C-b*O*y,this._w=v*_*y+b*O*C;break;case"YZX":this._x=b*_*y+v*O*C,this._y=v*O*y+b*_*C,this._z=v*_*C-b*O*y,this._w=v*_*y-b*O*C;break;case"XZY":this._x=b*_*y-v*O*C,this._y=v*O*y-b*_*C,this._z=v*_*C+b*O*y,this._w=v*_*y+b*O*C;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+p)}return!1!==a&&this._onChangeCallback(),this}setFromAxisAngle(l,a){const h=a/2,d=Math.sin(h);return this._x=l.x*d,this._y=l.y*d,this._z=l.z*d,this._w=Math.cos(h),this._onChangeCallback(),this}setFromRotationMatrix(l){const a=l.elements,h=a[0],d=a[4],f=a[8],p=a[1],g=a[5],m=a[9],v=a[2],_=a[6],y=a[10],b=h+g+y;if(b>0){const O=.5/Math.sqrt(b+1);this._w=.25/O,this._x=(_-m)*O,this._y=(f-v)*O,this._z=(p-d)*O}else if(h>g&&h>y){const O=2*Math.sqrt(1+h-g-y);this._w=(_-m)/O,this._x=.25*O,this._y=(d+p)/O,this._z=(f+v)/O}else if(g>y){const O=2*Math.sqrt(1+g-h-y);this._w=(f-v)/O,this._x=(d+p)/O,this._y=.25*O,this._z=(m+_)/O}else{const O=2*Math.sqrt(1+y-h-g);this._w=(p-d)/O,this._x=(f+v)/O,this._y=(m+_)/O,this._z=.25*O}return this._onChangeCallback(),this}setFromUnitVectors(l,a){let h=l.dot(a)+1;return h<Number.EPSILON?(h=0,Math.abs(l.x)>Math.abs(l.z)?(this._x=-l.y,this._y=l.x,this._z=0,this._w=h):(this._x=0,this._y=-l.z,this._z=l.y,this._w=h)):(this._x=l.y*a.z-l.z*a.y,this._y=l.z*a.x-l.x*a.z,this._z=l.x*a.y-l.y*a.x,this._w=h),this.normalize()}angleTo(l){return 2*Math.acos(Math.abs(Do(this.dot(l),-1,1)))}rotateTowards(l,a){const h=this.angleTo(l);if(0===h)return this;const d=Math.min(1,a/h);return this.slerp(l,d),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(l){return this._x*l._x+this._y*l._y+this._z*l._z+this._w*l._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let l=this.length();return 0===l?(this._x=0,this._y=0,this._z=0,this._w=1):(l=1/l,this._x=this._x*l,this._y=this._y*l,this._z=this._z*l,this._w=this._w*l),this._onChangeCallback(),this}multiply(l,a){return void 0!==a?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(l,a)):this.multiplyQuaternions(this,l)}premultiply(l){return this.multiplyQuaternions(l,this)}multiplyQuaternions(l,a){const h=l._x,d=l._y,f=l._z,p=l._w,g=a._x,m=a._y,v=a._z,_=a._w;return this._x=h*_+p*g+d*v-f*m,this._y=d*_+p*m+f*g-h*v,this._z=f*_+p*v+h*m-d*g,this._w=p*_-h*g-d*m-f*v,this._onChangeCallback(),this}slerp(l,a){if(0===a)return this;if(1===a)return this.copy(l);const h=this._x,d=this._y,f=this._z,p=this._w;let g=p*l._w+h*l._x+d*l._y+f*l._z;if(g<0?(this._w=-l._w,this._x=-l._x,this._y=-l._y,this._z=-l._z,g=-g):this.copy(l),g>=1)return this._w=p,this._x=h,this._y=d,this._z=f,this;const m=1-g*g;if(m<=Number.EPSILON){const O=1-a;return this._w=O*p+a*this._w,this._x=O*h+a*this._x,this._y=O*d+a*this._y,this._z=O*f+a*this._z,this.normalize(),this._onChangeCallback(),this}const v=Math.sqrt(m),_=Math.atan2(v,g),y=Math.sin((1-a)*_)/v,b=Math.sin(a*_)/v;return this._w=p*y+this._w*b,this._x=h*y+this._x*b,this._y=d*y+this._y*b,this._z=f*y+this._z*b,this._onChangeCallback(),this}slerpQuaternions(l,a,h){return this.copy(l).slerp(a,h)}random(){const l=Math.random(),a=Math.sqrt(1-l),h=Math.sqrt(l),d=2*Math.PI*Math.random(),f=2*Math.PI*Math.random();return this.set(a*Math.cos(d),h*Math.sin(f),h*Math.cos(f),a*Math.sin(d))}equals(l){return l._x===this._x&&l._y===this._y&&l._z===this._z&&l._w===this._w}fromArray(l,a=0){return this._x=l[a],this._y=l[a+1],this._z=l[a+2],this._w=l[a+3],this._onChangeCallback(),this}toArray(l=[],a=0){return l[a]=this._x,l[a+1]=this._y,l[a+2]=this._z,l[a+3]=this._w,l}fromBufferAttribute(l,a){return this._x=l.getX(a),this._y=l.getY(a),this._z=l.getZ(a),this._w=l.getW(a),this}_onChange(l){return this._onChangeCallback=l,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ae{constructor(l=0,a=0,h=0){ae.prototype.isVector3=!0,this.x=l,this.y=a,this.z=h}set(l,a,h){return void 0===h&&(h=this.z),this.x=l,this.y=a,this.z=h,this}setScalar(l){return this.x=l,this.y=l,this.z=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setZ(l){return this.z=l,this}setComponent(l,a){switch(l){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;default:throw new Error("index is out of range: "+l)}return this}getComponent(l){switch(l){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+l)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(l){return this.x=l.x,this.y=l.y,this.z=l.z,this}add(l,a){return void 0!==a?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(l,a)):(this.x+=l.x,this.y+=l.y,this.z+=l.z,this)}addScalar(l){return this.x+=l,this.y+=l,this.z+=l,this}addVectors(l,a){return this.x=l.x+a.x,this.y=l.y+a.y,this.z=l.z+a.z,this}addScaledVector(l,a){return this.x+=l.x*a,this.y+=l.y*a,this.z+=l.z*a,this}sub(l,a){return void 0!==a?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(l,a)):(this.x-=l.x,this.y-=l.y,this.z-=l.z,this)}subScalar(l){return this.x-=l,this.y-=l,this.z-=l,this}subVectors(l,a){return this.x=l.x-a.x,this.y=l.y-a.y,this.z=l.z-a.z,this}multiply(l,a){return void 0!==a?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(l,a)):(this.x*=l.x,this.y*=l.y,this.z*=l.z,this)}multiplyScalar(l){return this.x*=l,this.y*=l,this.z*=l,this}multiplyVectors(l,a){return this.x=l.x*a.x,this.y=l.y*a.y,this.z=l.z*a.z,this}applyEuler(l){return l&&l.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(QSe.setFromEuler(l))}applyAxisAngle(l,a){return this.applyQuaternion(QSe.setFromAxisAngle(l,a))}applyMatrix3(l){const a=this.x,h=this.y,d=this.z,f=l.elements;return this.x=f[0]*a+f[3]*h+f[6]*d,this.y=f[1]*a+f[4]*h+f[7]*d,this.z=f[2]*a+f[5]*h+f[8]*d,this}applyNormalMatrix(l){return this.applyMatrix3(l).normalize()}applyMatrix4(l){const a=this.x,h=this.y,d=this.z,f=l.elements,p=1/(f[3]*a+f[7]*h+f[11]*d+f[15]);return this.x=(f[0]*a+f[4]*h+f[8]*d+f[12])*p,this.y=(f[1]*a+f[5]*h+f[9]*d+f[13])*p,this.z=(f[2]*a+f[6]*h+f[10]*d+f[14])*p,this}applyQuaternion(l){const a=this.x,h=this.y,d=this.z,f=l.x,p=l.y,g=l.z,m=l.w,v=m*a+p*d-g*h,_=m*h+g*a-f*d,y=m*d+f*h-p*a,b=-f*a-p*h-g*d;return this.x=v*m+b*-f+_*-g-y*-p,this.y=_*m+b*-p+y*-f-v*-g,this.z=y*m+b*-g+v*-p-_*-f,this}project(l){return this.applyMatrix4(l.matrixWorldInverse).applyMatrix4(l.projectionMatrix)}unproject(l){return this.applyMatrix4(l.projectionMatrixInverse).applyMatrix4(l.matrixWorld)}transformDirection(l){const a=this.x,h=this.y,d=this.z,f=l.elements;return this.x=f[0]*a+f[4]*h+f[8]*d,this.y=f[1]*a+f[5]*h+f[9]*d,this.z=f[2]*a+f[6]*h+f[10]*d,this.normalize()}divide(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z,this}divideScalar(l){return this.multiplyScalar(1/l)}min(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this}max(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this}clamp(l,a){return this.x=Math.max(l.x,Math.min(a.x,this.x)),this.y=Math.max(l.y,Math.min(a.y,this.y)),this.z=Math.max(l.z,Math.min(a.z,this.z)),this}clampScalar(l,a){return this.x=Math.max(l,Math.min(a,this.x)),this.y=Math.max(l,Math.min(a,this.y)),this.z=Math.max(l,Math.min(a,this.z)),this}clampLength(l,a){const h=this.length();return this.divideScalar(h||1).multiplyScalar(Math.max(l,Math.min(a,h)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(l){return this.x*l.x+this.y*l.y+this.z*l.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(l){return this.normalize().multiplyScalar(l)}lerp(l,a){return this.x+=(l.x-this.x)*a,this.y+=(l.y-this.y)*a,this.z+=(l.z-this.z)*a,this}lerpVectors(l,a,h){return this.x=l.x+(a.x-l.x)*h,this.y=l.y+(a.y-l.y)*h,this.z=l.z+(a.z-l.z)*h,this}cross(l,a){return void 0!==a?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(l,a)):this.crossVectors(this,l)}crossVectors(l,a){const h=l.x,d=l.y,f=l.z,p=a.x,g=a.y,m=a.z;return this.x=d*m-f*g,this.y=f*p-h*m,this.z=h*g-d*p,this}projectOnVector(l){const a=l.lengthSq();if(0===a)return this.set(0,0,0);const h=l.dot(this)/a;return this.copy(l).multiplyScalar(h)}projectOnPlane(l){return EZ.copy(this).projectOnVector(l),this.sub(EZ)}reflect(l){return this.sub(EZ.copy(l).multiplyScalar(2*this.dot(l)))}angleTo(l){const a=Math.sqrt(this.lengthSq()*l.lengthSq());if(0===a)return Math.PI/2;const h=this.dot(l)/a;return Math.acos(Do(h,-1,1))}distanceTo(l){return Math.sqrt(this.distanceToSquared(l))}distanceToSquared(l){const a=this.x-l.x,h=this.y-l.y,d=this.z-l.z;return a*a+h*h+d*d}manhattanDistanceTo(l){return Math.abs(this.x-l.x)+Math.abs(this.y-l.y)+Math.abs(this.z-l.z)}setFromSpherical(l){return this.setFromSphericalCoords(l.radius,l.phi,l.theta)}setFromSphericalCoords(l,a,h){const d=Math.sin(a)*l;return this.x=d*Math.sin(h),this.y=Math.cos(a)*l,this.z=d*Math.cos(h),this}setFromCylindrical(l){return this.setFromCylindricalCoords(l.radius,l.theta,l.y)}setFromCylindricalCoords(l,a,h){return this.x=l*Math.sin(a),this.y=h,this.z=l*Math.cos(a),this}setFromMatrixPosition(l){const a=l.elements;return this.x=a[12],this.y=a[13],this.z=a[14],this}setFromMatrixScale(l){const a=this.setFromMatrixColumn(l,0).length(),h=this.setFromMatrixColumn(l,1).length(),d=this.setFromMatrixColumn(l,2).length();return this.x=a,this.y=h,this.z=d,this}setFromMatrixColumn(l,a){return this.fromArray(l.elements,4*a)}setFromMatrix3Column(l,a){return this.fromArray(l.elements,3*a)}setFromEuler(l){return this.x=l._x,this.y=l._y,this.z=l._z,this}equals(l){return l.x===this.x&&l.y===this.y&&l.z===this.z}fromArray(l,a=0){return this.x=l[a],this.y=l[a+1],this.z=l[a+2],this}toArray(l=[],a=0){return l[a]=this.x,l[a+1]=this.y,l[a+2]=this.z,l}fromBufferAttribute(l,a,h){return void 0!==h&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=l.getX(a),this.y=l.getY(a),this.z=l.getZ(a),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const l=2*(Math.random()-.5),a=Math.random()*Math.PI*2,h=Math.sqrt(1-l**2);return this.x=h*Math.cos(a),this.y=h*Math.sin(a),this.z=l,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const EZ=new ae,QSe=new ac;class uC{constructor(l=new ae(1/0,1/0,1/0),a=new ae(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=l,this.max=a}set(l,a){return this.min.copy(l),this.max.copy(a),this}setFromArray(l){let a=1/0,h=1/0,d=1/0,f=-1/0,p=-1/0,g=-1/0;for(let m=0,v=l.length;m<v;m+=3){const _=l[m],y=l[m+1],b=l[m+2];_<a&&(a=_),y<h&&(h=y),b<d&&(d=b),_>f&&(f=_),y>p&&(p=y),b>g&&(g=b)}return this.min.set(a,h,d),this.max.set(f,p,g),this}setFromBufferAttribute(l){let a=1/0,h=1/0,d=1/0,f=-1/0,p=-1/0,g=-1/0;for(let m=0,v=l.count;m<v;m++){const _=l.getX(m),y=l.getY(m),b=l.getZ(m);_<a&&(a=_),y<h&&(h=y),b<d&&(d=b),_>f&&(f=_),y>p&&(p=y),b>g&&(g=b)}return this.min.set(a,h,d),this.max.set(f,p,g),this}setFromPoints(l){this.makeEmpty();for(let a=0,h=l.length;a<h;a++)this.expandByPoint(l[a]);return this}setFromCenterAndSize(l,a){const h=Iv.copy(a).multiplyScalar(.5);return this.min.copy(l).sub(h),this.max.copy(l).add(h),this}setFromObject(l,a=!1){return this.makeEmpty(),this.expandByObject(l,a)}clone(){return(new this.constructor).copy(this)}copy(l){return this.min.copy(l.min),this.max.copy(l.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(l){return this.isEmpty()?l.set(0,0,0):l.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(l){return this.isEmpty()?l.set(0,0,0):l.subVectors(this.max,this.min)}expandByPoint(l){return this.min.min(l),this.max.max(l),this}expandByVector(l){return this.min.sub(l),this.max.add(l),this}expandByScalar(l){return this.min.addScalar(-l),this.max.addScalar(l),this}expandByObject(l,a=!1){l.updateWorldMatrix(!1,!1);const h=l.geometry;if(void 0!==h)if(a&&null!=h.attributes&&void 0!==h.attributes.position){const f=h.attributes.position;for(let p=0,g=f.count;p<g;p++)Iv.fromBufferAttribute(f,p).applyMatrix4(l.matrixWorld),this.expandByPoint(Iv)}else null===h.boundingBox&&h.computeBoundingBox(),PZ.copy(h.boundingBox),PZ.applyMatrix4(l.matrixWorld),this.union(PZ);const d=l.children;for(let f=0,p=d.length;f<p;f++)this.expandByObject(d[f],a);return this}containsPoint(l){return!(l.x<this.min.x||l.x>this.max.x||l.y<this.min.y||l.y>this.max.y||l.z<this.min.z||l.z>this.max.z)}containsBox(l){return this.min.x<=l.min.x&&l.max.x<=this.max.x&&this.min.y<=l.min.y&&l.max.y<=this.max.y&&this.min.z<=l.min.z&&l.max.z<=this.max.z}getParameter(l,a){return a.set((l.x-this.min.x)/(this.max.x-this.min.x),(l.y-this.min.y)/(this.max.y-this.min.y),(l.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(l){return!(l.max.x<this.min.x||l.min.x>this.max.x||l.max.y<this.min.y||l.min.y>this.max.y||l.max.z<this.min.z||l.min.z>this.max.z)}intersectsSphere(l){return this.clampPoint(l.center,Iv),Iv.distanceToSquared(l.center)<=l.radius*l.radius}intersectsPlane(l){let a,h;return l.normal.x>0?(a=l.normal.x*this.min.x,h=l.normal.x*this.max.x):(a=l.normal.x*this.max.x,h=l.normal.x*this.min.x),l.normal.y>0?(a+=l.normal.y*this.min.y,h+=l.normal.y*this.max.y):(a+=l.normal.y*this.max.y,h+=l.normal.y*this.min.y),l.normal.z>0?(a+=l.normal.z*this.min.z,h+=l.normal.z*this.max.z):(a+=l.normal.z*this.max.z,h+=l.normal.z*this.min.z),a<=-l.constant&&h>=-l.constant}intersectsTriangle(l){if(this.isEmpty())return!1;this.getCenter(JT),S5.subVectors(this.max,JT),hC.subVectors(l.a,JT),dC.subVectors(l.b,JT),fC.subVectors(l.c,JT),Xm.subVectors(dC,hC),Ym.subVectors(fC,dC),Rv.subVectors(hC,fC);let a=[0,-Xm.z,Xm.y,0,-Ym.z,Ym.y,0,-Rv.z,Rv.y,Xm.z,0,-Xm.x,Ym.z,0,-Ym.x,Rv.z,0,-Rv.x,-Xm.y,Xm.x,0,-Ym.y,Ym.x,0,-Rv.y,Rv.x,0];return!(!AZ(a,hC,dC,fC,S5)||(a=[1,0,0,0,1,0,0,0,1],!AZ(a,hC,dC,fC,S5)))&&(w5.crossVectors(Xm,Ym),a=[w5.x,w5.y,w5.z],AZ(a,hC,dC,fC,S5))}clampPoint(l,a){return a.copy(l).clamp(this.min,this.max)}distanceToPoint(l){return Iv.copy(l).clamp(this.min,this.max).sub(l).length()}getBoundingSphere(l){return this.getCenter(l.center),l.radius=.5*this.getSize(Iv).length(),l}intersect(l){return this.min.max(l.min),this.max.min(l.max),this.isEmpty()&&this.makeEmpty(),this}union(l){return this.min.min(l.min),this.max.max(l.max),this}applyMatrix4(l){return this.isEmpty()||(rg[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(l),rg[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(l),rg[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(l),rg[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(l),rg[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(l),rg[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(l),rg[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(l),rg[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(l),this.setFromPoints(rg)),this}translate(l){return this.min.add(l),this.max.add(l),this}equals(l){return l.min.equals(this.min)&&l.max.equals(this.max)}}const rg=[new ae,new ae,new ae,new ae,new ae,new ae,new ae,new ae],Iv=new ae,PZ=new uC,hC=new ae,dC=new ae,fC=new ae,Xm=new ae,Ym=new ae,Rv=new ae,JT=new ae,S5=new ae,w5=new ae,Lv=new ae;function AZ(c,l,a,h,d){for(let f=0,p=c.length-3;f<=p;f+=3){Lv.fromArray(c,f);const g=d.x*Math.abs(Lv.x)+d.y*Math.abs(Lv.y)+d.z*Math.abs(Lv.z),m=l.dot(Lv),v=a.dot(Lv),_=h.dot(Lv);if(Math.max(-Math.max(m,v,_),Math.min(m,v,_))>g)return!1}return!0}const nCt=new uC,HSe=new ae,x5=new ae,IZ=new ae;class pC{constructor(l=new ae,a=-1){this.center=l,this.radius=a}set(l,a){return this.center.copy(l),this.radius=a,this}setFromPoints(l,a){const h=this.center;void 0!==a?h.copy(a):nCt.setFromPoints(l).getCenter(h);let d=0;for(let f=0,p=l.length;f<p;f++)d=Math.max(d,h.distanceToSquared(l[f]));return this.radius=Math.sqrt(d),this}copy(l){return this.center.copy(l.center),this.radius=l.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(l){return l.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(l){return l.distanceTo(this.center)-this.radius}intersectsSphere(l){const a=this.radius+l.radius;return l.center.distanceToSquared(this.center)<=a*a}intersectsBox(l){return l.intersectsSphere(this)}intersectsPlane(l){return Math.abs(l.distanceToPoint(this.center))<=this.radius}clampPoint(l,a){const h=this.center.distanceToSquared(l);return a.copy(l),h>this.radius*this.radius&&(a.sub(this.center).normalize(),a.multiplyScalar(this.radius).add(this.center)),a}getBoundingBox(l){return this.isEmpty()?(l.makeEmpty(),l):(l.set(this.center,this.center),l.expandByScalar(this.radius),l)}applyMatrix4(l){return this.center.applyMatrix4(l),this.radius=this.radius*l.getMaxScaleOnAxis(),this}translate(l){return this.center.add(l),this}expandByPoint(l){IZ.subVectors(l,this.center);const a=IZ.lengthSq();if(a>this.radius*this.radius){const h=Math.sqrt(a),d=.5*(h-this.radius);this.center.add(IZ.multiplyScalar(d/h)),this.radius+=d}return this}union(l){return!0===this.center.equals(l.center)?x5.set(0,0,1).multiplyScalar(l.radius):x5.subVectors(l.center,this.center).normalize().multiplyScalar(l.radius),this.expandByPoint(HSe.copy(l.center).add(x5)),this.expandByPoint(HSe.copy(l.center).sub(x5)),this}equals(l){return l.center.equals(this.center)&&l.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const sg=new ae,RZ=new ae,T5=new ae,qm=new ae,LZ=new ae,k5=new ae,NZ=new ae;class D5{constructor(l=new ae,a=new ae(0,0,-1)){this.origin=l,this.direction=a}set(l,a){return this.origin.copy(l),this.direction.copy(a),this}copy(l){return this.origin.copy(l.origin),this.direction.copy(l.direction),this}at(l,a){return a.copy(this.direction).multiplyScalar(l).add(this.origin)}lookAt(l){return this.direction.copy(l).sub(this.origin).normalize(),this}recast(l){return this.origin.copy(this.at(l,sg)),this}closestPointToPoint(l,a){a.subVectors(l,this.origin);const h=a.dot(this.direction);return h<0?a.copy(this.origin):a.copy(this.direction).multiplyScalar(h).add(this.origin)}distanceToPoint(l){return Math.sqrt(this.distanceSqToPoint(l))}distanceSqToPoint(l){const a=sg.subVectors(l,this.origin).dot(this.direction);return a<0?this.origin.distanceToSquared(l):(sg.copy(this.direction).multiplyScalar(a).add(this.origin),sg.distanceToSquared(l))}distanceSqToSegment(l,a,h,d){RZ.copy(l).add(a).multiplyScalar(.5),T5.copy(a).sub(l).normalize(),qm.copy(this.origin).sub(RZ);const f=.5*l.distanceTo(a),p=-this.direction.dot(T5),g=qm.dot(this.direction),m=-qm.dot(T5),v=qm.lengthSq(),_=Math.abs(1-p*p);let y,b,O,C;if(_>0)if(y=p*m-g,b=p*g-m,C=f*_,y>=0)if(b>=-C)if(b<=C){const S=1/_;y*=S,b*=S,O=y*(y+p*b+2*g)+b*(p*y+b+2*m)+v}else b=f,y=Math.max(0,-(p*b+g)),O=-y*y+b*(b+2*m)+v;else b=-f,y=Math.max(0,-(p*b+g)),O=-y*y+b*(b+2*m)+v;else b<=-C?(y=Math.max(0,-(-p*f+g)),b=y>0?-f:Math.min(Math.max(-f,-m),f),O=-y*y+b*(b+2*m)+v):b<=C?(y=0,b=Math.min(Math.max(-f,-m),f),O=b*(b+2*m)+v):(y=Math.max(0,-(p*f+g)),b=y>0?f:Math.min(Math.max(-f,-m),f),O=-y*y+b*(b+2*m)+v);else b=p>0?-f:f,y=Math.max(0,-(p*b+g)),O=-y*y+b*(b+2*m)+v;return h&&h.copy(this.direction).multiplyScalar(y).add(this.origin),d&&d.copy(T5).multiplyScalar(b).add(RZ),O}intersectSphere(l,a){sg.subVectors(l.center,this.origin);const h=sg.dot(this.direction),d=sg.dot(sg)-h*h,f=l.radius*l.radius;if(d>f)return null;const p=Math.sqrt(f-d),g=h-p,m=h+p;return g<0&&m<0?null:this.at(g<0?m:g,a)}intersectsSphere(l){return this.distanceSqToPoint(l.center)<=l.radius*l.radius}distanceToPlane(l){const a=l.normal.dot(this.direction);if(0===a)return 0===l.distanceToPoint(this.origin)?0:null;const h=-(this.origin.dot(l.normal)+l.constant)/a;return h>=0?h:null}intersectPlane(l,a){const h=this.distanceToPlane(l);return null===h?null:this.at(h,a)}intersectsPlane(l){const a=l.distanceToPoint(this.origin);return 0===a||l.normal.dot(this.direction)*a<0}intersectBox(l,a){let h,d,f,p,g,m;const v=1/this.direction.x,_=1/this.direction.y,y=1/this.direction.z,b=this.origin;return v>=0?(h=(l.min.x-b.x)*v,d=(l.max.x-b.x)*v):(h=(l.max.x-b.x)*v,d=(l.min.x-b.x)*v),_>=0?(f=(l.min.y-b.y)*_,p=(l.max.y-b.y)*_):(f=(l.max.y-b.y)*_,p=(l.min.y-b.y)*_),h>p||f>d||((f>h||h!=h)&&(h=f),(p<d||d!=d)&&(d=p),y>=0?(g=(l.min.z-b.z)*y,m=(l.max.z-b.z)*y):(g=(l.max.z-b.z)*y,m=(l.min.z-b.z)*y),h>m||g>d)||((g>h||h!=h)&&(h=g),(m<d||d!=d)&&(d=m),d<0)?null:this.at(h>=0?h:d,a)}intersectsBox(l){return null!==this.intersectBox(l,sg)}intersectTriangle(l,a,h,d,f){LZ.subVectors(a,l),k5.subVectors(h,l),NZ.crossVectors(LZ,k5);let g,p=this.direction.dot(NZ);if(p>0){if(d)return null;g=1}else{if(!(p<0))return null;g=-1,p=-p}qm.subVectors(this.origin,l);const m=g*this.direction.dot(k5.crossVectors(qm,k5));if(m<0)return null;const v=g*this.direction.dot(LZ.cross(qm));if(v<0||m+v>p)return null;const _=-g*qm.dot(NZ);return _<0?null:this.at(_/p,f)}applyMatrix4(l){return this.origin.applyMatrix4(l),this.direction.transformDirection(l),this}equals(l){return l.origin.equals(this.origin)&&l.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Vi{constructor(){Vi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(l,a,h,d,f,p,g,m,v,_,y,b,O,C,S,w){const x=this.elements;return x[0]=l,x[4]=a,x[8]=h,x[12]=d,x[1]=f,x[5]=p,x[9]=g,x[13]=m,x[2]=v,x[6]=_,x[10]=y,x[14]=b,x[3]=O,x[7]=C,x[11]=S,x[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Vi).fromArray(this.elements)}copy(l){const a=this.elements,h=l.elements;return a[0]=h[0],a[1]=h[1],a[2]=h[2],a[3]=h[3],a[4]=h[4],a[5]=h[5],a[6]=h[6],a[7]=h[7],a[8]=h[8],a[9]=h[9],a[10]=h[10],a[11]=h[11],a[12]=h[12],a[13]=h[13],a[14]=h[14],a[15]=h[15],this}copyPosition(l){const a=this.elements,h=l.elements;return a[12]=h[12],a[13]=h[13],a[14]=h[14],this}setFromMatrix3(l){const a=l.elements;return this.set(a[0],a[3],a[6],0,a[1],a[4],a[7],0,a[2],a[5],a[8],0,0,0,0,1),this}extractBasis(l,a,h){return l.setFromMatrixColumn(this,0),a.setFromMatrixColumn(this,1),h.setFromMatrixColumn(this,2),this}makeBasis(l,a,h){return this.set(l.x,a.x,h.x,0,l.y,a.y,h.y,0,l.z,a.z,h.z,0,0,0,0,1),this}extractRotation(l){const a=this.elements,h=l.elements,d=1/gC.setFromMatrixColumn(l,0).length(),f=1/gC.setFromMatrixColumn(l,1).length(),p=1/gC.setFromMatrixColumn(l,2).length();return a[0]=h[0]*d,a[1]=h[1]*d,a[2]=h[2]*d,a[3]=0,a[4]=h[4]*f,a[5]=h[5]*f,a[6]=h[6]*f,a[7]=0,a[8]=h[8]*p,a[9]=h[9]*p,a[10]=h[10]*p,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromEuler(l){l&&l.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const a=this.elements,h=l.x,d=l.y,f=l.z,p=Math.cos(h),g=Math.sin(h),m=Math.cos(d),v=Math.sin(d),_=Math.cos(f),y=Math.sin(f);if("XYZ"===l.order){const b=p*_,O=p*y,C=g*_,S=g*y;a[0]=m*_,a[4]=-m*y,a[8]=v,a[1]=O+C*v,a[5]=b-S*v,a[9]=-g*m,a[2]=S-b*v,a[6]=C+O*v,a[10]=p*m}else if("YXZ"===l.order){const b=m*_,O=m*y,C=v*_,S=v*y;a[0]=b+S*g,a[4]=C*g-O,a[8]=p*v,a[1]=p*y,a[5]=p*_,a[9]=-g,a[2]=O*g-C,a[6]=S+b*g,a[10]=p*m}else if("ZXY"===l.order){const b=m*_,O=m*y,C=v*_,S=v*y;a[0]=b-S*g,a[4]=-p*y,a[8]=C+O*g,a[1]=O+C*g,a[5]=p*_,a[9]=S-b*g,a[2]=-p*v,a[6]=g,a[10]=p*m}else if("ZYX"===l.order){const b=p*_,O=p*y,C=g*_,S=g*y;a[0]=m*_,a[4]=C*v-O,a[8]=b*v+S,a[1]=m*y,a[5]=S*v+b,a[9]=O*v-C,a[2]=-v,a[6]=g*m,a[10]=p*m}else if("YZX"===l.order){const b=p*m,O=p*v,C=g*m,S=g*v;a[0]=m*_,a[4]=S-b*y,a[8]=C*y+O,a[1]=y,a[5]=p*_,a[9]=-g*_,a[2]=-v*_,a[6]=O*y+C,a[10]=b-S*y}else if("XZY"===l.order){const b=p*m,O=p*v,C=g*m,S=g*v;a[0]=m*_,a[4]=-y,a[8]=v*_,a[1]=b*y+S,a[5]=p*_,a[9]=O*y-C,a[2]=C*y-O,a[6]=g*_,a[10]=S*y+b}return a[3]=0,a[7]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromQuaternion(l){return this.compose(iCt,l,rCt)}lookAt(l,a,h){const d=this.elements;return Du.subVectors(l,a),0===Du.lengthSq()&&(Du.z=1),Du.normalize(),Km.crossVectors(h,Du),0===Km.lengthSq()&&(1===Math.abs(h.z)?Du.x+=1e-4:Du.z+=1e-4,Du.normalize(),Km.crossVectors(h,Du)),Km.normalize(),M5.crossVectors(Du,Km),d[0]=Km.x,d[4]=M5.x,d[8]=Du.x,d[1]=Km.y,d[5]=M5.y,d[9]=Du.y,d[2]=Km.z,d[6]=M5.z,d[10]=Du.z,this}multiply(l,a){return void 0!==a?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(l,a)):this.multiplyMatrices(this,l)}premultiply(l){return this.multiplyMatrices(l,this)}multiplyMatrices(l,a){const h=l.elements,d=a.elements,f=this.elements,p=h[0],g=h[4],m=h[8],v=h[12],_=h[1],y=h[5],b=h[9],O=h[13],C=h[2],S=h[6],w=h[10],x=h[14],T=h[3],D=h[7],k=h[11],P=h[15],N=d[0],F=d[4],L=d[8],$=d[12],U=d[1],z=d[5],ee=d[9],te=d[13],B=d[2],j=d[6],W=d[10],q=d[14],G=d[3],K=d[7],J=d[11],ie=d[15];return f[0]=p*N+g*U+m*B+v*G,f[4]=p*F+g*z+m*j+v*K,f[8]=p*L+g*ee+m*W+v*J,f[12]=p*$+g*te+m*q+v*ie,f[1]=_*N+y*U+b*B+O*G,f[5]=_*F+y*z+b*j+O*K,f[9]=_*L+y*ee+b*W+O*J,f[13]=_*$+y*te+b*q+O*ie,f[2]=C*N+S*U+w*B+x*G,f[6]=C*F+S*z+w*j+x*K,f[10]=C*L+S*ee+w*W+x*J,f[14]=C*$+S*te+w*q+x*ie,f[3]=T*N+D*U+k*B+P*G,f[7]=T*F+D*z+k*j+P*K,f[11]=T*L+D*ee+k*W+P*J,f[15]=T*$+D*te+k*q+P*ie,this}multiplyScalar(l){const a=this.elements;return a[0]*=l,a[4]*=l,a[8]*=l,a[12]*=l,a[1]*=l,a[5]*=l,a[9]*=l,a[13]*=l,a[2]*=l,a[6]*=l,a[10]*=l,a[14]*=l,a[3]*=l,a[7]*=l,a[11]*=l,a[15]*=l,this}determinant(){const l=this.elements,a=l[0],h=l[4],d=l[8],f=l[12],p=l[1],g=l[5],m=l[9],v=l[13],_=l[2],y=l[6],b=l[10],O=l[14];return l[3]*(+f*m*y-d*v*y-f*g*b+h*v*b+d*g*O-h*m*O)+l[7]*(+a*m*O-a*v*b+f*p*b-d*p*O+d*v*_-f*m*_)+l[11]*(+a*v*y-a*g*O-f*p*y+h*p*O+f*g*_-h*v*_)+l[15]*(-d*g*_-a*m*y+a*g*b+d*p*y-h*p*b+h*m*_)}transpose(){const l=this.elements;let a;return a=l[1],l[1]=l[4],l[4]=a,a=l[2],l[2]=l[8],l[8]=a,a=l[6],l[6]=l[9],l[9]=a,a=l[3],l[3]=l[12],l[12]=a,a=l[7],l[7]=l[13],l[13]=a,a=l[11],l[11]=l[14],l[14]=a,this}setPosition(l,a,h){const d=this.elements;return l.isVector3?(d[12]=l.x,d[13]=l.y,d[14]=l.z):(d[12]=l,d[13]=a,d[14]=h),this}invert(){const l=this.elements,a=l[0],h=l[1],d=l[2],f=l[3],p=l[4],g=l[5],m=l[6],v=l[7],_=l[8],y=l[9],b=l[10],O=l[11],C=l[12],S=l[13],w=l[14],x=l[15],T=y*w*v-S*b*v+S*m*O-g*w*O-y*m*x+g*b*x,D=C*b*v-_*w*v-C*m*O+p*w*O+_*m*x-p*b*x,k=_*S*v-C*y*v+C*g*O-p*S*O-_*g*x+p*y*x,P=C*y*m-_*S*m-C*g*b+p*S*b+_*g*w-p*y*w,N=a*T+h*D+d*k+f*P;if(0===N)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/N;return l[0]=T*F,l[1]=(S*b*f-y*w*f-S*d*O+h*w*O+y*d*x-h*b*x)*F,l[2]=(g*w*f-S*m*f+S*d*v-h*w*v-g*d*x+h*m*x)*F,l[3]=(y*m*f-g*b*f-y*d*v+h*b*v+g*d*O-h*m*O)*F,l[4]=D*F,l[5]=(_*w*f-C*b*f+C*d*O-a*w*O-_*d*x+a*b*x)*F,l[6]=(C*m*f-p*w*f-C*d*v+a*w*v+p*d*x-a*m*x)*F,l[7]=(p*b*f-_*m*f+_*d*v-a*b*v-p*d*O+a*m*O)*F,l[8]=k*F,l[9]=(C*y*f-_*S*f-C*h*O+a*S*O+_*h*x-a*y*x)*F,l[10]=(p*S*f-C*g*f+C*h*v-a*S*v-p*h*x+a*g*x)*F,l[11]=(_*g*f-p*y*f-_*h*v+a*y*v+p*h*O-a*g*O)*F,l[12]=P*F,l[13]=(_*S*d-C*y*d+C*h*b-a*S*b-_*h*w+a*y*w)*F,l[14]=(C*g*d-p*S*d-C*h*m+a*S*m+p*h*w-a*g*w)*F,l[15]=(p*y*d-_*g*d+_*h*m-a*y*m-p*h*b+a*g*b)*F,this}scale(l){const a=this.elements,h=l.x,d=l.y,f=l.z;return a[0]*=h,a[4]*=d,a[8]*=f,a[1]*=h,a[5]*=d,a[9]*=f,a[2]*=h,a[6]*=d,a[10]*=f,a[3]*=h,a[7]*=d,a[11]*=f,this}getMaxScaleOnAxis(){const l=this.elements;return Math.sqrt(Math.max(l[0]*l[0]+l[1]*l[1]+l[2]*l[2],l[4]*l[4]+l[5]*l[5]+l[6]*l[6],l[8]*l[8]+l[9]*l[9]+l[10]*l[10]))}makeTranslation(l,a,h){return this.set(1,0,0,l,0,1,0,a,0,0,1,h,0,0,0,1),this}makeRotationX(l){const a=Math.cos(l),h=Math.sin(l);return this.set(1,0,0,0,0,a,-h,0,0,h,a,0,0,0,0,1),this}makeRotationY(l){const a=Math.cos(l),h=Math.sin(l);return this.set(a,0,h,0,0,1,0,0,-h,0,a,0,0,0,0,1),this}makeRotationZ(l){const a=Math.cos(l),h=Math.sin(l);return this.set(a,-h,0,0,h,a,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(l,a){const h=Math.cos(a),d=Math.sin(a),f=1-h,p=l.x,g=l.y,m=l.z,v=f*p,_=f*g;return this.set(v*p+h,v*g-d*m,v*m+d*g,0,v*g+d*m,_*g+h,_*m-d*p,0,v*m-d*g,_*m+d*p,f*m*m+h,0,0,0,0,1),this}makeScale(l,a,h){return this.set(l,0,0,0,0,a,0,0,0,0,h,0,0,0,0,1),this}makeShear(l,a,h,d,f,p){return this.set(1,h,f,0,l,1,p,0,a,d,1,0,0,0,0,1),this}compose(l,a,h){const d=this.elements,f=a._x,p=a._y,g=a._z,m=a._w,v=f+f,_=p+p,y=g+g,b=f*v,O=f*_,C=f*y,S=p*_,w=p*y,x=g*y,T=m*v,D=m*_,k=m*y,P=h.x,N=h.y,F=h.z;return d[0]=(1-(S+x))*P,d[1]=(O+k)*P,d[2]=(C-D)*P,d[3]=0,d[4]=(O-k)*N,d[5]=(1-(b+x))*N,d[6]=(w+T)*N,d[7]=0,d[8]=(C+D)*F,d[9]=(w-T)*F,d[10]=(1-(b+S))*F,d[11]=0,d[12]=l.x,d[13]=l.y,d[14]=l.z,d[15]=1,this}decompose(l,a,h){const d=this.elements;let f=gC.set(d[0],d[1],d[2]).length();const p=gC.set(d[4],d[5],d[6]).length(),g=gC.set(d[8],d[9],d[10]).length();this.determinant()<0&&(f=-f),l.x=d[12],l.y=d[13],l.z=d[14],md.copy(this);const v=1/f,_=1/p,y=1/g;return md.elements[0]*=v,md.elements[1]*=v,md.elements[2]*=v,md.elements[4]*=_,md.elements[5]*=_,md.elements[6]*=_,md.elements[8]*=y,md.elements[9]*=y,md.elements[10]*=y,a.setFromRotationMatrix(md),h.x=f,h.y=p,h.z=g,this}makePerspective(l,a,h,d,f,p){void 0===p&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const g=this.elements,v=2*f/(h-d),_=(a+l)/(a-l),y=(h+d)/(h-d),b=-(p+f)/(p-f),O=-2*p*f/(p-f);return g[0]=2*f/(a-l),g[4]=0,g[8]=_,g[12]=0,g[1]=0,g[5]=v,g[9]=y,g[13]=0,g[2]=0,g[6]=0,g[10]=b,g[14]=O,g[3]=0,g[7]=0,g[11]=-1,g[15]=0,this}makeOrthographic(l,a,h,d,f,p){const g=this.elements,m=1/(a-l),v=1/(h-d),_=1/(p-f),y=(a+l)*m,b=(h+d)*v,O=(p+f)*_;return g[0]=2*m,g[4]=0,g[8]=0,g[12]=-y,g[1]=0,g[5]=2*v,g[9]=0,g[13]=-b,g[2]=0,g[6]=0,g[10]=-2*_,g[14]=-O,g[3]=0,g[7]=0,g[11]=0,g[15]=1,this}equals(l){const a=this.elements,h=l.elements;for(let d=0;d<16;d++)if(a[d]!==h[d])return!1;return!0}fromArray(l,a=0){for(let h=0;h<16;h++)this.elements[h]=l[h+a];return this}toArray(l=[],a=0){const h=this.elements;return l[a]=h[0],l[a+1]=h[1],l[a+2]=h[2],l[a+3]=h[3],l[a+4]=h[4],l[a+5]=h[5],l[a+6]=h[6],l[a+7]=h[7],l[a+8]=h[8],l[a+9]=h[9],l[a+10]=h[10],l[a+11]=h[11],l[a+12]=h[12],l[a+13]=h[13],l[a+14]=h[14],l[a+15]=h[15],l}}const gC=new ae,md=new Vi,iCt=new ae(0,0,0),rCt=new ae(1,1,1),Km=new ae,M5=new ae,Du=new ae,WSe=new Vi,ZSe=new ac;let sCt=(()=>{class c{constructor(a=0,h=0,d=0,f=c.DefaultOrder){this.isEuler=!0,this._x=a,this._y=h,this._z=d,this._order=f}get x(){return this._x}set x(a){this._x=a,this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a,this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a,this._onChangeCallback()}get order(){return this._order}set order(a){this._order=a,this._onChangeCallback()}set(a,h,d,f=this._order){return this._x=a,this._y=h,this._z=d,this._order=f,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(a){return this._x=a._x,this._y=a._y,this._z=a._z,this._order=a._order,this._onChangeCallback(),this}setFromRotationMatrix(a,h=this._order,d=!0){const f=a.elements,p=f[0],g=f[4],m=f[8],v=f[1],_=f[5],y=f[9],b=f[2],O=f[6],C=f[10];switch(h){case"XYZ":this._y=Math.asin(Do(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(-y,C),this._z=Math.atan2(-g,p)):(this._x=Math.atan2(O,_),this._z=0);break;case"YXZ":this._x=Math.asin(-Do(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(m,C),this._z=Math.atan2(v,_)):(this._y=Math.atan2(-b,p),this._z=0);break;case"ZXY":this._x=Math.asin(Do(O,-1,1)),Math.abs(O)<.9999999?(this._y=Math.atan2(-b,C),this._z=Math.atan2(-g,_)):(this._y=0,this._z=Math.atan2(v,p));break;case"ZYX":this._y=Math.asin(-Do(b,-1,1)),Math.abs(b)<.9999999?(this._x=Math.atan2(O,C),this._z=Math.atan2(v,p)):(this._x=0,this._z=Math.atan2(-g,_));break;case"YZX":this._z=Math.asin(Do(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(-y,_),this._y=Math.atan2(-b,p)):(this._x=0,this._y=Math.atan2(m,C));break;case"XZY":this._z=Math.asin(-Do(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(O,_),this._y=Math.atan2(m,p)):(this._x=Math.atan2(-y,C),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+h)}return this._order=h,!0===d&&this._onChangeCallback(),this}setFromQuaternion(a,h,d){return WSe.makeRotationFromQuaternion(a),this.setFromRotationMatrix(WSe,h,d)}setFromVector3(a,h=this._order){return this.set(a.x,a.y,a.z,h)}reorder(a){return ZSe.setFromEuler(this),this.setFromQuaternion(ZSe,a)}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order}fromArray(a){return this._x=a[0],this._y=a[1],this._z=a[2],void 0!==a[3]&&(this._order=a[3]),this._onChangeCallback(),this}toArray(a=[],h=0){return a[h]=this._x,a[h+1]=this._y,a[h+2]=this._z,a[h+3]=this._order,a}_onChange(a){return this._onChangeCallback=a,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}return c.DefaultOrder="XYZ",c.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],c})();class FZ{constructor(){this.mask=1}set(l){this.mask=(1<<l|0)>>>0}enable(l){this.mask|=1<<l|0}enableAll(){this.mask=-1}toggle(l){this.mask^=1<<l|0}disable(l){this.mask&=~(1<<l|0)}disableAll(){this.mask=0}test(l){return 0!=(this.mask&l.mask)}isEnabled(l){return 0!=(this.mask&(1<<l|0))}}let oCt=0;const jSe=new ae,mC=new ac,og=new Vi,E5=new ae,ek=new ae,aCt=new ae,lCt=new ac,GSe=new ae(1,0,0),XSe=new ae(0,1,0),YSe=new ae(0,0,1),cCt={type:"added"},qSe={type:"removed"};let Mu=(()=>{class c extends Ev{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:oCt++}),this.uuid=ku(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=c.DefaultUp.clone();const a=new ae,h=new sCt,d=new ac,f=new ae(1,1,1);h._onChange(function p(){d.setFromEuler(h,!1)}),d._onChange(function g(){h.setFromQuaternion(d,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,value:h},quaternion:{configurable:!0,enumerable:!0,value:d},scale:{configurable:!0,enumerable:!0,value:f},modelViewMatrix:{value:new Vi},normalMatrix:{value:new Zc}}),this.matrix=new Vi,this.matrixWorld=new Vi,this.matrixAutoUpdate=c.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new FZ,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(a){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(a),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(a){return this.quaternion.premultiply(a),this}setRotationFromAxisAngle(a,h){this.quaternion.setFromAxisAngle(a,h)}setRotationFromEuler(a){this.quaternion.setFromEuler(a,!0)}setRotationFromMatrix(a){this.quaternion.setFromRotationMatrix(a)}setRotationFromQuaternion(a){this.quaternion.copy(a)}rotateOnAxis(a,h){return mC.setFromAxisAngle(a,h),this.quaternion.multiply(mC),this}rotateOnWorldAxis(a,h){return mC.setFromAxisAngle(a,h),this.quaternion.premultiply(mC),this}rotateX(a){return this.rotateOnAxis(GSe,a)}rotateY(a){return this.rotateOnAxis(XSe,a)}rotateZ(a){return this.rotateOnAxis(YSe,a)}translateOnAxis(a,h){return jSe.copy(a).applyQuaternion(this.quaternion),this.position.add(jSe.multiplyScalar(h)),this}translateX(a){return this.translateOnAxis(GSe,a)}translateY(a){return this.translateOnAxis(XSe,a)}translateZ(a){return this.translateOnAxis(YSe,a)}localToWorld(a){return a.applyMatrix4(this.matrixWorld)}worldToLocal(a){return a.applyMatrix4(og.copy(this.matrixWorld).invert())}lookAt(a,h,d){a.isVector3?E5.copy(a):E5.set(a,h,d);const f=this.parent;this.updateWorldMatrix(!0,!1),ek.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?og.lookAt(ek,E5,this.up):og.lookAt(E5,ek,this.up),this.quaternion.setFromRotationMatrix(og),f&&(og.extractRotation(f.matrixWorld),mC.setFromRotationMatrix(og),this.quaternion.premultiply(mC.invert()))}add(a){if(arguments.length>1){for(let h=0;h<arguments.length;h++)this.add(arguments[h]);return this}return a===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this):(a&&a.isObject3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,this.children.push(a),a.dispatchEvent(cCt)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a),this)}remove(a){if(arguments.length>1){for(let d=0;d<arguments.length;d++)this.remove(arguments[d]);return this}const h=this.children.indexOf(a);return-1!==h&&(a.parent=null,this.children.splice(h,1),a.dispatchEvent(qSe)),this}removeFromParent(){const a=this.parent;return null!==a&&a.remove(this),this}clear(){for(let a=0;a<this.children.length;a++){const h=this.children[a];h.parent=null,h.dispatchEvent(qSe)}return this.children.length=0,this}attach(a){return this.updateWorldMatrix(!0,!1),og.copy(this.matrixWorld).invert(),null!==a.parent&&(a.parent.updateWorldMatrix(!0,!1),og.multiply(a.parent.matrixWorld)),a.applyMatrix4(og),this.add(a),a.updateWorldMatrix(!1,!0),this}getObjectById(a){return this.getObjectByProperty("id",a)}getObjectByName(a){return this.getObjectByProperty("name",a)}getObjectByProperty(a,h){if(this[a]===h)return this;for(let d=0,f=this.children.length;d<f;d++){const g=this.children[d].getObjectByProperty(a,h);if(void 0!==g)return g}}getWorldPosition(a){return this.updateWorldMatrix(!0,!1),a.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(a){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ek,a,aCt),a}getWorldScale(a){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ek,lCt,a),a}getWorldDirection(a){this.updateWorldMatrix(!0,!1);const h=this.matrixWorld.elements;return a.set(h[8],h[9],h[10]).normalize()}raycast(){}traverse(a){a(this);const h=this.children;for(let d=0,f=h.length;d<f;d++)h[d].traverse(a)}traverseVisible(a){if(!1===this.visible)return;a(this);const h=this.children;for(let d=0,f=h.length;d<f;d++)h[d].traverseVisible(a)}traverseAncestors(a){const h=this.parent;null!==h&&(a(h),h.traverseAncestors(a))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(a){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||a)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0);const h=this.children;for(let d=0,f=h.length;d<f;d++)h[d].updateMatrixWorld(a)}updateWorldMatrix(a,h){const d=this.parent;if(!0===a&&null!==d&&d.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===h){const f=this.children;for(let p=0,g=f.length;p<g;p++)f[p].updateWorldMatrix(!1,!0)}}toJSON(a){const h=void 0===a||"string"==typeof a,d={};h&&(a={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},d.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const f={};function p(m,v){return void 0===m[v.uuid]&&(m[v.uuid]=v.toJSON(a)),v.uuid}if(f.uuid=this.uuid,f.type=this.type,""!==this.name&&(f.name=this.name),!0===this.castShadow&&(f.castShadow=!0),!0===this.receiveShadow&&(f.receiveShadow=!0),!1===this.visible&&(f.visible=!1),!1===this.frustumCulled&&(f.frustumCulled=!1),0!==this.renderOrder&&(f.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(f.userData=this.userData),f.layers=this.layers.mask,f.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(f.matrixAutoUpdate=!1),this.isInstancedMesh&&(f.type="InstancedMesh",f.count=this.count,f.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(f.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?f.background=this.background.toJSON():this.background.isTexture&&(f.background=this.background.toJSON(a).uuid)),this.environment&&this.environment.isTexture&&(f.environment=this.environment.toJSON(a).uuid);else if(this.isMesh||this.isLine||this.isPoints){f.geometry=p(a.geometries,this.geometry);const m=this.geometry.parameters;if(void 0!==m&&void 0!==m.shapes){const v=m.shapes;if(Array.isArray(v))for(let _=0,y=v.length;_<y;_++)p(a.shapes,v[_]);else p(a.shapes,v)}}if(this.isSkinnedMesh&&(f.bindMode=this.bindMode,f.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(p(a.skeletons,this.skeleton),f.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const m=[];for(let v=0,_=this.material.length;v<_;v++)m.push(p(a.materials,this.material[v]));f.material=m}else f.material=p(a.materials,this.material);if(this.children.length>0){f.children=[];for(let m=0;m<this.children.length;m++)f.children.push(this.children[m].toJSON(a).object)}if(this.animations.length>0){f.animations=[];for(let m=0;m<this.animations.length;m++)f.animations.push(p(a.animations,this.animations[m]))}if(h){const m=g(a.geometries),v=g(a.materials),_=g(a.textures),y=g(a.images),b=g(a.shapes),O=g(a.skeletons),C=g(a.animations),S=g(a.nodes);m.length>0&&(d.geometries=m),v.length>0&&(d.materials=v),_.length>0&&(d.textures=_),y.length>0&&(d.images=y),b.length>0&&(d.shapes=b),O.length>0&&(d.skeletons=O),C.length>0&&(d.animations=C),S.length>0&&(d.nodes=S)}return d.object=f,d;function g(m){const v=[];for(const _ in m){const y=m[_];delete y.metadata,v.push(y)}return v}}clone(a){return(new this.constructor).copy(this,a)}copy(a,h=!0){if(this.name=a.name,this.up.copy(a.up),this.position.copy(a.position),this.rotation.order=a.rotation.order,this.quaternion.copy(a.quaternion),this.scale.copy(a.scale),this.matrix.copy(a.matrix),this.matrixWorld.copy(a.matrixWorld),this.matrixAutoUpdate=a.matrixAutoUpdate,this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate,this.layers.mask=a.layers.mask,this.visible=a.visible,this.castShadow=a.castShadow,this.receiveShadow=a.receiveShadow,this.frustumCulled=a.frustumCulled,this.renderOrder=a.renderOrder,this.userData=JSON.parse(JSON.stringify(a.userData)),!0===h)for(let d=0;d<a.children.length;d++)this.add(a.children[d].clone());return this}}return c.DefaultUp=new ae(0,1,0),c.DefaultMatrixAutoUpdate=!0,c})();const vd=new ae,ag=new ae,BZ=new ae,lg=new ae,vC=new ae,_C=new ae,KSe=new ae,VZ=new ae,$Z=new ae,zZ=new ae;class _d{constructor(l=new ae,a=new ae,h=new ae){this.a=l,this.b=a,this.c=h}static getNormal(l,a,h,d){d.subVectors(h,a),vd.subVectors(l,a),d.cross(vd);const f=d.lengthSq();return f>0?d.multiplyScalar(1/Math.sqrt(f)):d.set(0,0,0)}static getBarycoord(l,a,h,d,f){vd.subVectors(d,a),ag.subVectors(h,a),BZ.subVectors(l,a);const p=vd.dot(vd),g=vd.dot(ag),m=vd.dot(BZ),v=ag.dot(ag),_=ag.dot(BZ),y=p*v-g*g;if(0===y)return f.set(-2,-1,-1);const b=1/y,O=(v*m-g*_)*b,C=(p*_-g*m)*b;return f.set(1-O-C,C,O)}static containsPoint(l,a,h,d){return this.getBarycoord(l,a,h,d,lg),lg.x>=0&&lg.y>=0&&lg.x+lg.y<=1}static getUV(l,a,h,d,f,p,g,m){return this.getBarycoord(l,a,h,d,lg),m.set(0,0),m.addScaledVector(f,lg.x),m.addScaledVector(p,lg.y),m.addScaledVector(g,lg.z),m}static isFrontFacing(l,a,h,d){return vd.subVectors(h,a),ag.subVectors(l,a),vd.cross(ag).dot(d)<0}set(l,a,h){return this.a.copy(l),this.b.copy(a),this.c.copy(h),this}setFromPointsAndIndices(l,a,h,d){return this.a.copy(l[a]),this.b.copy(l[h]),this.c.copy(l[d]),this}setFromAttributeAndIndices(l,a,h,d){return this.a.fromBufferAttribute(l,a),this.b.fromBufferAttribute(l,h),this.c.fromBufferAttribute(l,d),this}clone(){return(new this.constructor).copy(this)}copy(l){return this.a.copy(l.a),this.b.copy(l.b),this.c.copy(l.c),this}getArea(){return vd.subVectors(this.c,this.b),ag.subVectors(this.a,this.b),.5*vd.cross(ag).length()}getMidpoint(l){return l.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(l){return _d.getNormal(this.a,this.b,this.c,l)}getPlane(l){return l.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(l,a){return _d.getBarycoord(l,this.a,this.b,this.c,a)}getUV(l,a,h,d,f){return _d.getUV(l,this.a,this.b,this.c,a,h,d,f)}containsPoint(l){return _d.containsPoint(l,this.a,this.b,this.c)}isFrontFacing(l){return _d.isFrontFacing(this.a,this.b,this.c,l)}intersectsBox(l){return l.intersectsTriangle(this)}closestPointToPoint(l,a){const h=this.a,d=this.b,f=this.c;let p,g;vC.subVectors(d,h),_C.subVectors(f,h),VZ.subVectors(l,h);const m=vC.dot(VZ),v=_C.dot(VZ);if(m<=0&&v<=0)return a.copy(h);$Z.subVectors(l,d);const _=vC.dot($Z),y=_C.dot($Z);if(_>=0&&y<=_)return a.copy(d);const b=m*y-_*v;if(b<=0&&m>=0&&_<=0)return p=m/(m-_),a.copy(h).addScaledVector(vC,p);zZ.subVectors(l,f);const O=vC.dot(zZ),C=_C.dot(zZ);if(C>=0&&O<=C)return a.copy(f);const S=O*v-m*C;if(S<=0&&v>=0&&C<=0)return g=v/(v-C),a.copy(h).addScaledVector(_C,g);const w=_*C-O*y;if(w<=0&&y-_>=0&&O-C>=0)return KSe.subVectors(f,d),g=(y-_)/(y-_+(O-C)),a.copy(d).addScaledVector(KSe,g);const x=1/(w+S+b);return p=S*x,g=b*x,a.copy(h).addScaledVector(vC,p).addScaledVector(_C,g)}equals(l){return l.a.equals(this.a)&&l.b.equals(this.b)&&l.c.equals(this.c)}}let uCt=0;class Jm extends Ev{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:uCt++}),this.uuid=ku(),this.name="",this.type="Material",this.blending=KO,this.side=qO,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=oSe,this.blendDst=aSe,this.blendEquation=JO,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=hZ,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(l){this._alphaTest>0!=l>0&&this.version++,this._alphaTest=l}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(l){if(void 0!==l)for(const a in l){const h=l[a];if(void 0===h){console.warn("THREE.Material: '"+a+"' parameter is undefined.");continue}if("shading"===a){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===h;continue}const d=this[a];void 0!==d?d&&d.isColor?d.set(h):d&&d.isVector3&&h&&h.isVector3?d.copy(h):this[a]=h:console.warn("THREE."+this.type+": '"+a+"' is not a property of this material.")}}toJSON(l){const a=void 0===l||"string"==typeof l;a&&(l={textures:{},images:{}});const h={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function d(f){const p=[];for(const g in f){const m=f[g];delete m.metadata,p.push(m)}return p}if(h.uuid=this.uuid,h.type=this.type,""!==this.name&&(h.name=this.name),this.color&&this.color.isColor&&(h.color=this.color.getHex()),void 0!==this.roughness&&(h.roughness=this.roughness),void 0!==this.metalness&&(h.metalness=this.metalness),void 0!==this.sheen&&(h.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(h.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(h.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(h.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(h.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(h.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(h.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(h.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(h.shininess=this.shininess),void 0!==this.clearcoat&&(h.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(h.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(h.clearcoatMap=this.clearcoatMap.toJSON(l).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(h.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(l).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(h.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(l).uuid,h.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(h.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(h.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(h.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(h.iridescenceMap=this.iridescenceMap.toJSON(l).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(h.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(l).uuid),this.map&&this.map.isTexture&&(h.map=this.map.toJSON(l).uuid),this.matcap&&this.matcap.isTexture&&(h.matcap=this.matcap.toJSON(l).uuid),this.alphaMap&&this.alphaMap.isTexture&&(h.alphaMap=this.alphaMap.toJSON(l).uuid),this.lightMap&&this.lightMap.isTexture&&(h.lightMap=this.lightMap.toJSON(l).uuid,h.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(h.aoMap=this.aoMap.toJSON(l).uuid,h.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(h.bumpMap=this.bumpMap.toJSON(l).uuid,h.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(h.normalMap=this.normalMap.toJSON(l).uuid,h.normalMapType=this.normalMapType,h.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(h.displacementMap=this.displacementMap.toJSON(l).uuid,h.displacementScale=this.displacementScale,h.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(h.roughnessMap=this.roughnessMap.toJSON(l).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(h.metalnessMap=this.metalnessMap.toJSON(l).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(h.emissiveMap=this.emissiveMap.toJSON(l).uuid),this.specularMap&&this.specularMap.isTexture&&(h.specularMap=this.specularMap.toJSON(l).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(h.specularIntensityMap=this.specularIntensityMap.toJSON(l).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(h.specularColorMap=this.specularColorMap.toJSON(l).uuid),this.envMap&&this.envMap.isTexture&&(h.envMap=this.envMap.toJSON(l).uuid,void 0!==this.combine&&(h.combine=this.combine)),void 0!==this.envMapIntensity&&(h.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(h.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(h.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(h.gradientMap=this.gradientMap.toJSON(l).uuid),void 0!==this.transmission&&(h.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(h.transmissionMap=this.transmissionMap.toJSON(l).uuid),void 0!==this.thickness&&(h.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(h.thicknessMap=this.thicknessMap.toJSON(l).uuid),void 0!==this.attenuationDistance&&(h.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(h.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(h.size=this.size),null!==this.shadowSide&&(h.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(h.sizeAttenuation=this.sizeAttenuation),this.blending!==KO&&(h.blending=this.blending),this.side!==qO&&(h.side=this.side),this.vertexColors&&(h.vertexColors=!0),this.opacity<1&&(h.opacity=this.opacity),!0===this.transparent&&(h.transparent=this.transparent),h.depthFunc=this.depthFunc,h.depthTest=this.depthTest,h.depthWrite=this.depthWrite,h.colorWrite=this.colorWrite,h.stencilWrite=this.stencilWrite,h.stencilWriteMask=this.stencilWriteMask,h.stencilFunc=this.stencilFunc,h.stencilRef=this.stencilRef,h.stencilFuncMask=this.stencilFuncMask,h.stencilFail=this.stencilFail,h.stencilZFail=this.stencilZFail,h.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(h.rotation=this.rotation),!0===this.polygonOffset&&(h.polygonOffset=!0),0!==this.polygonOffsetFactor&&(h.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(h.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(h.linewidth=this.linewidth),void 0!==this.dashSize&&(h.dashSize=this.dashSize),void 0!==this.gapSize&&(h.gapSize=this.gapSize),void 0!==this.scale&&(h.scale=this.scale),!0===this.dithering&&(h.dithering=!0),this.alphaTest>0&&(h.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(h.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(h.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(h.wireframe=this.wireframe),this.wireframeLinewidth>1&&(h.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(h.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(h.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(h.flatShading=this.flatShading),!1===this.visible&&(h.visible=!1),!1===this.toneMapped&&(h.toneMapped=!1),!1===this.fog&&(h.fog=!1),"{}"!==JSON.stringify(this.userData)&&(h.userData=this.userData),a){const f=d(l.textures),p=d(l.images);f.length>0&&(h.textures=f),p.length>0&&(h.images=p)}return h}clone(){return(new this.constructor).copy(this)}copy(l){this.name=l.name,this.blending=l.blending,this.side=l.side,this.vertexColors=l.vertexColors,this.opacity=l.opacity,this.transparent=l.transparent,this.blendSrc=l.blendSrc,this.blendDst=l.blendDst,this.blendEquation=l.blendEquation,this.blendSrcAlpha=l.blendSrcAlpha,this.blendDstAlpha=l.blendDstAlpha,this.blendEquationAlpha=l.blendEquationAlpha,this.depthFunc=l.depthFunc,this.depthTest=l.depthTest,this.depthWrite=l.depthWrite,this.stencilWriteMask=l.stencilWriteMask,this.stencilFunc=l.stencilFunc,this.stencilRef=l.stencilRef,this.stencilFuncMask=l.stencilFuncMask,this.stencilFail=l.stencilFail,this.stencilZFail=l.stencilZFail,this.stencilZPass=l.stencilZPass,this.stencilWrite=l.stencilWrite;const a=l.clippingPlanes;let h=null;if(null!==a){const d=a.length;h=new Array(d);for(let f=0;f!==d;++f)h[f]=a[f].clone()}return this.clippingPlanes=h,this.clipIntersection=l.clipIntersection,this.clipShadows=l.clipShadows,this.shadowSide=l.shadowSide,this.colorWrite=l.colorWrite,this.precision=l.precision,this.polygonOffset=l.polygonOffset,this.polygonOffsetFactor=l.polygonOffsetFactor,this.polygonOffsetUnits=l.polygonOffsetUnits,this.dithering=l.dithering,this.alphaTest=l.alphaTest,this.alphaToCoverage=l.alphaToCoverage,this.premultipliedAlpha=l.premultipliedAlpha,this.visible=l.visible,this.toneMapped=l.toneMapped,this.userData=JSON.parse(JSON.stringify(l.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(l){!0===l&&this.version++}}class vo extends Jm{constructor(l){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Cn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=d5,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.specularMap=l.specularMap,this.alphaMap=l.alphaMap,this.envMap=l.envMap,this.combine=l.combine,this.reflectivity=l.reflectivity,this.refractionRatio=l.refractionRatio,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.fog=l.fog,this}}const Uo=new ae,P5=new _t;class to{constructor(l,a,h){if(Array.isArray(l))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=l,this.itemSize=a,this.count=void 0!==l?l.length/a:0,this.normalized=!0===h,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(l){!0===l&&this.version++}setUsage(l){return this.usage=l,this}copy(l){return this.name=l.name,this.array=new l.array.constructor(l.array),this.itemSize=l.itemSize,this.count=l.count,this.normalized=l.normalized,this.usage=l.usage,this}copyAt(l,a,h){l*=this.itemSize,h*=a.itemSize;for(let d=0,f=this.itemSize;d<f;d++)this.array[l+d]=a.array[h+d];return this}copyArray(l){return this.array.set(l),this}copyColorsArray(l){const a=this.array;let h=0;for(let d=0,f=l.length;d<f;d++){let p=l[d];void 0===p&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",d),p=new Cn),a[h++]=p.r,a[h++]=p.g,a[h++]=p.b}return this}copyVector2sArray(l){const a=this.array;let h=0;for(let d=0,f=l.length;d<f;d++){let p=l[d];void 0===p&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",d),p=new _t),a[h++]=p.x,a[h++]=p.y}return this}copyVector3sArray(l){const a=this.array;let h=0;for(let d=0,f=l.length;d<f;d++){let p=l[d];void 0===p&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",d),p=new ae),a[h++]=p.x,a[h++]=p.y,a[h++]=p.z}return this}copyVector4sArray(l){const a=this.array;let h=0;for(let d=0,f=l.length;d<f;d++){let p=l[d];void 0===p&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",d),p=new Dr),a[h++]=p.x,a[h++]=p.y,a[h++]=p.z,a[h++]=p.w}return this}applyMatrix3(l){if(2===this.itemSize)for(let a=0,h=this.count;a<h;a++)P5.fromBufferAttribute(this,a),P5.applyMatrix3(l),this.setXY(a,P5.x,P5.y);else if(3===this.itemSize)for(let a=0,h=this.count;a<h;a++)Uo.fromBufferAttribute(this,a),Uo.applyMatrix3(l),this.setXYZ(a,Uo.x,Uo.y,Uo.z);return this}applyMatrix4(l){for(let a=0,h=this.count;a<h;a++)Uo.fromBufferAttribute(this,a),Uo.applyMatrix4(l),this.setXYZ(a,Uo.x,Uo.y,Uo.z);return this}applyNormalMatrix(l){for(let a=0,h=this.count;a<h;a++)Uo.fromBufferAttribute(this,a),Uo.applyNormalMatrix(l),this.setXYZ(a,Uo.x,Uo.y,Uo.z);return this}transformDirection(l){for(let a=0,h=this.count;a<h;a++)Uo.fromBufferAttribute(this,a),Uo.transformDirection(l),this.setXYZ(a,Uo.x,Uo.y,Uo.z);return this}set(l,a=0){return this.array.set(l,a),this}getX(l){return this.array[l*this.itemSize]}setX(l,a){return this.array[l*this.itemSize]=a,this}getY(l){return this.array[l*this.itemSize+1]}setY(l,a){return this.array[l*this.itemSize+1]=a,this}getZ(l){return this.array[l*this.itemSize+2]}setZ(l,a){return this.array[l*this.itemSize+2]=a,this}getW(l){return this.array[l*this.itemSize+3]}setW(l,a){return this.array[l*this.itemSize+3]=a,this}setXY(l,a,h){return this.array[0+(l*=this.itemSize)]=a,this.array[l+1]=h,this}setXYZ(l,a,h,d){return this.array[0+(l*=this.itemSize)]=a,this.array[l+1]=h,this.array[l+2]=d,this}setXYZW(l,a,h,d,f){return this.array[0+(l*=this.itemSize)]=a,this.array[l+1]=h,this.array[l+2]=d,this.array[l+3]=f,this}onUpload(l){return this.onUploadCallback=l,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const l={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(l.name=this.name),35044!==this.usage&&(l.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(l.updateRange=this.updateRange),l}}class JSe extends to{constructor(l,a,h){super(new Uint16Array(l),a,h)}}class e2e extends to{constructor(l,a,h){super(new Uint32Array(l),a,h)}}class zn extends to{constructor(l,a,h){super(new Float32Array(l),a,h)}}let hCt=0;const yh=new Vi,UZ=new Mu,yC=new ae,Eu=new uC,tk=new uC,Da=new ae;class Ji extends Ev{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:hCt++}),this.uuid=ku(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(l){return this.index=Array.isArray(l)?new(VSe(l)?e2e:JSe)(l,1):l,this}getAttribute(l){return this.attributes[l]}setAttribute(l,a){return this.attributes[l]=a,this}deleteAttribute(l){return delete this.attributes[l],this}hasAttribute(l){return void 0!==this.attributes[l]}addGroup(l,a,h=0){this.groups.push({start:l,count:a,materialIndex:h})}clearGroups(){this.groups=[]}setDrawRange(l,a){this.drawRange.start=l,this.drawRange.count=a}applyMatrix4(l){const a=this.attributes.position;void 0!==a&&(a.applyMatrix4(l),a.needsUpdate=!0);const h=this.attributes.normal;if(void 0!==h){const f=(new Zc).getNormalMatrix(l);h.applyNormalMatrix(f),h.needsUpdate=!0}const d=this.attributes.tangent;return void 0!==d&&(d.transformDirection(l),d.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(l){return yh.makeRotationFromQuaternion(l),this.applyMatrix4(yh),this}rotateX(l){return yh.makeRotationX(l),this.applyMatrix4(yh),this}rotateY(l){return yh.makeRotationY(l),this.applyMatrix4(yh),this}rotateZ(l){return yh.makeRotationZ(l),this.applyMatrix4(yh),this}translate(l,a,h){return yh.makeTranslation(l,a,h),this.applyMatrix4(yh),this}scale(l,a,h){return yh.makeScale(l,a,h),this.applyMatrix4(yh),this}lookAt(l){return UZ.lookAt(l),UZ.updateMatrix(),this.applyMatrix4(UZ.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(yC).negate(),this.translate(yC.x,yC.y,yC.z),this}setFromPoints(l){const a=[];for(let h=0,d=l.length;h<d;h++){const f=l[h];a.push(f.x,f.y,f.z||0)}return this.setAttribute("position",new zn(a,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new uC);const l=this.attributes.position,a=this.morphAttributes.position;if(l&&l.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ae(-1/0,-1/0,-1/0),new ae(1/0,1/0,1/0));if(void 0!==l){if(this.boundingBox.setFromBufferAttribute(l),a)for(let h=0,d=a.length;h<d;h++)Eu.setFromBufferAttribute(a[h]),this.morphTargetsRelative?(Da.addVectors(this.boundingBox.min,Eu.min),this.boundingBox.expandByPoint(Da),Da.addVectors(this.boundingBox.max,Eu.max),this.boundingBox.expandByPoint(Da)):(this.boundingBox.expandByPoint(Eu.min),this.boundingBox.expandByPoint(Eu.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new pC);const l=this.attributes.position,a=this.morphAttributes.position;if(l&&l.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ae,1/0);if(l){const h=this.boundingSphere.center;if(Eu.setFromBufferAttribute(l),a)for(let f=0,p=a.length;f<p;f++)tk.setFromBufferAttribute(a[f]),this.morphTargetsRelative?(Da.addVectors(Eu.min,tk.min),Eu.expandByPoint(Da),Da.addVectors(Eu.max,tk.max),Eu.expandByPoint(Da)):(Eu.expandByPoint(tk.min),Eu.expandByPoint(tk.max));Eu.getCenter(h);let d=0;for(let f=0,p=l.count;f<p;f++)Da.fromBufferAttribute(l,f),d=Math.max(d,h.distanceToSquared(Da));if(a)for(let f=0,p=a.length;f<p;f++){const g=a[f],m=this.morphTargetsRelative;for(let v=0,_=g.count;v<_;v++)Da.fromBufferAttribute(g,v),m&&(yC.fromBufferAttribute(l,v),Da.add(yC)),d=Math.max(d,h.distanceToSquared(Da))}this.boundingSphere.radius=Math.sqrt(d),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const l=this.index,a=this.attributes;if(null===l||void 0===a.position||void 0===a.normal||void 0===a.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const h=l.array,d=a.position.array,f=a.normal.array,p=a.uv.array,g=d.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new to(new Float32Array(4*g),4));const m=this.getAttribute("tangent").array,v=[],_=[];for(let U=0;U<g;U++)v[U]=new ae,_[U]=new ae;const y=new ae,b=new ae,O=new ae,C=new _t,S=new _t,w=new _t,x=new ae,T=new ae;function D(U,z,ee){y.fromArray(d,3*U),b.fromArray(d,3*z),O.fromArray(d,3*ee),C.fromArray(p,2*U),S.fromArray(p,2*z),w.fromArray(p,2*ee),b.sub(y),O.sub(y),S.sub(C),w.sub(C);const te=1/(S.x*w.y-w.x*S.y);isFinite(te)&&(x.copy(b).multiplyScalar(w.y).addScaledVector(O,-S.y).multiplyScalar(te),T.copy(O).multiplyScalar(S.x).addScaledVector(b,-w.x).multiplyScalar(te),v[U].add(x),v[z].add(x),v[ee].add(x),_[U].add(T),_[z].add(T),_[ee].add(T))}let k=this.groups;0===k.length&&(k=[{start:0,count:h.length}]);for(let U=0,z=k.length;U<z;++U){const ee=k[U],te=ee.start;for(let j=te,W=te+ee.count;j<W;j+=3)D(h[j+0],h[j+1],h[j+2])}const P=new ae,N=new ae,F=new ae,L=new ae;function $(U){F.fromArray(f,3*U),L.copy(F);const z=v[U];P.copy(z),P.sub(F.multiplyScalar(F.dot(z))).normalize(),N.crossVectors(L,z);const te=N.dot(_[U])<0?-1:1;m[4*U]=P.x,m[4*U+1]=P.y,m[4*U+2]=P.z,m[4*U+3]=te}for(let U=0,z=k.length;U<z;++U){const ee=k[U],te=ee.start;for(let j=te,W=te+ee.count;j<W;j+=3)$(h[j+0]),$(h[j+1]),$(h[j+2])}}computeVertexNormals(){const l=this.index,a=this.getAttribute("position");if(void 0!==a){let h=this.getAttribute("normal");if(void 0===h)h=new to(new Float32Array(3*a.count),3),this.setAttribute("normal",h);else for(let b=0,O=h.count;b<O;b++)h.setXYZ(b,0,0,0);const d=new ae,f=new ae,p=new ae,g=new ae,m=new ae,v=new ae,_=new ae,y=new ae;if(l)for(let b=0,O=l.count;b<O;b+=3){const C=l.getX(b+0),S=l.getX(b+1),w=l.getX(b+2);d.fromBufferAttribute(a,C),f.fromBufferAttribute(a,S),p.fromBufferAttribute(a,w),_.subVectors(p,f),y.subVectors(d,f),_.cross(y),g.fromBufferAttribute(h,C),m.fromBufferAttribute(h,S),v.fromBufferAttribute(h,w),g.add(_),m.add(_),v.add(_),h.setXYZ(C,g.x,g.y,g.z),h.setXYZ(S,m.x,m.y,m.z),h.setXYZ(w,v.x,v.y,v.z)}else for(let b=0,O=a.count;b<O;b+=3)d.fromBufferAttribute(a,b+0),f.fromBufferAttribute(a,b+1),p.fromBufferAttribute(a,b+2),_.subVectors(p,f),y.subVectors(d,f),_.cross(y),h.setXYZ(b+0,_.x,_.y,_.z),h.setXYZ(b+1,_.x,_.y,_.z),h.setXYZ(b+2,_.x,_.y,_.z);this.normalizeNormals(),h.needsUpdate=!0}}merge(l,a){if(!l||!l.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",l);void 0===a&&(a=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const h=this.attributes;for(const d in h){if(void 0===l.attributes[d])continue;const p=h[d].array,g=l.attributes[d],m=g.array,v=g.itemSize*a,_=Math.min(m.length,p.length-v);for(let y=0,b=v;y<_;y++,b++)p[b]=m[y]}return this}normalizeNormals(){const l=this.attributes.normal;for(let a=0,h=l.count;a<h;a++)Da.fromBufferAttribute(l,a),Da.normalize(),l.setXYZ(a,Da.x,Da.y,Da.z)}toNonIndexed(){function l(g,m){const v=g.array,_=g.itemSize,y=g.normalized,b=new v.constructor(m.length*_);let O=0,C=0;for(let S=0,w=m.length;S<w;S++){O=g.isInterleavedBufferAttribute?m[S]*g.data.stride+g.offset:m[S]*_;for(let x=0;x<_;x++)b[C++]=v[O++]}return new to(b,_,y)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const a=new Ji,h=this.index.array,d=this.attributes;for(const g in d){const v=l(d[g],h);a.setAttribute(g,v)}const f=this.morphAttributes;for(const g in f){const m=[],v=f[g];for(let _=0,y=v.length;_<y;_++){const O=l(v[_],h);m.push(O)}a.morphAttributes[g]=m}a.morphTargetsRelative=this.morphTargetsRelative;const p=this.groups;for(let g=0,m=p.length;g<m;g++){const v=p[g];a.addGroup(v.start,v.count,v.materialIndex)}return a}toJSON(){const l={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(l.uuid=this.uuid,l.type=this.type,""!==this.name&&(l.name=this.name),Object.keys(this.userData).length>0&&(l.userData=this.userData),void 0!==this.parameters){const m=this.parameters;for(const v in m)void 0!==m[v]&&(l[v]=m[v]);return l}l.data={attributes:{}};const a=this.index;null!==a&&(l.data.index={type:a.array.constructor.name,array:Array.prototype.slice.call(a.array)});const h=this.attributes;for(const m in h)l.data.attributes[m]=h[m].toJSON(l.data);const d={};let f=!1;for(const m in this.morphAttributes){const v=this.morphAttributes[m],_=[];for(let y=0,b=v.length;y<b;y++)_.push(v[y].toJSON(l.data));_.length>0&&(d[m]=_,f=!0)}f&&(l.data.morphAttributes=d,l.data.morphTargetsRelative=this.morphTargetsRelative);const p=this.groups;p.length>0&&(l.data.groups=JSON.parse(JSON.stringify(p)));const g=this.boundingSphere;return null!==g&&(l.data.boundingSphere={center:g.center.toArray(),radius:g.radius}),l}clone(){return(new this.constructor).copy(this)}copy(l){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const a={};this.name=l.name;const h=l.index;null!==h&&this.setIndex(h.clone(a));const d=l.attributes;for(const v in d)this.setAttribute(v,d[v].clone(a));const f=l.morphAttributes;for(const v in f){const _=[],y=f[v];for(let b=0,O=y.length;b<O;b++)_.push(y[b].clone(a));this.morphAttributes[v]=_}this.morphTargetsRelative=l.morphTargetsRelative;const p=l.groups;for(let v=0,_=p.length;v<_;v++){const y=p[v];this.addGroup(y.start,y.count,y.materialIndex)}const g=l.boundingBox;null!==g&&(this.boundingBox=g.clone());const m=l.boundingSphere;return null!==m&&(this.boundingSphere=m.clone()),this.drawRange.start=l.drawRange.start,this.drawRange.count=l.drawRange.count,this.userData=l.userData,void 0!==l.parameters&&(this.parameters=Object.assign({},l.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const t2e=new Vi,bC=new D5,QZ=new pC,e0=new ae,t0=new ae,n0=new ae,HZ=new ae,WZ=new ae,ZZ=new ae,A5=new ae,I5=new ae,R5=new ae,L5=new _t,N5=new _t,F5=new _t,jZ=new ae,B5=new ae;class br extends Mu{constructor(l=new Ji,a=new vo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=l,this.material=a,this.updateMorphTargets()}copy(l,a){return super.copy(l,a),void 0!==l.morphTargetInfluences&&(this.morphTargetInfluences=l.morphTargetInfluences.slice()),void 0!==l.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},l.morphTargetDictionary)),this.material=l.material,this.geometry=l.geometry,this}updateMorphTargets(){const a=this.geometry.morphAttributes,h=Object.keys(a);if(h.length>0){const d=a[h[0]];if(void 0!==d){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let f=0,p=d.length;f<p;f++){const g=d[f].name||String(f);this.morphTargetInfluences.push(0),this.morphTargetDictionary[g]=f}}}}raycast(l,a){const h=this.geometry,d=this.material,f=this.matrixWorld;if(void 0===d||(null===h.boundingSphere&&h.computeBoundingSphere(),QZ.copy(h.boundingSphere),QZ.applyMatrix4(f),!1===l.ray.intersectsSphere(QZ))||(t2e.copy(f).invert(),bC.copy(l.ray).applyMatrix4(t2e),null!==h.boundingBox&&!1===bC.intersectsBox(h.boundingBox)))return;let p;const g=h.index,m=h.attributes.position,v=h.morphAttributes.position,_=h.morphTargetsRelative,y=h.attributes.uv,b=h.attributes.uv2,O=h.groups,C=h.drawRange;if(null!==g)if(Array.isArray(d))for(let S=0,w=O.length;S<w;S++){const x=O[S],T=d[x.materialIndex];for(let P=Math.max(x.start,C.start),N=Math.min(g.count,Math.min(x.start+x.count,C.start+C.count));P<N;P+=3){const F=g.getX(P),L=g.getX(P+1),$=g.getX(P+2);p=V5(this,T,l,bC,m,v,_,y,b,F,L,$),p&&(p.faceIndex=Math.floor(P/3),p.face.materialIndex=x.materialIndex,a.push(p))}}else for(let x=Math.max(0,C.start),T=Math.min(g.count,C.start+C.count);x<T;x+=3){const D=g.getX(x),k=g.getX(x+1),P=g.getX(x+2);p=V5(this,d,l,bC,m,v,_,y,b,D,k,P),p&&(p.faceIndex=Math.floor(x/3),a.push(p))}else if(void 0!==m)if(Array.isArray(d))for(let S=0,w=O.length;S<w;S++){const x=O[S],T=d[x.materialIndex];for(let P=Math.max(x.start,C.start),N=Math.min(m.count,Math.min(x.start+x.count,C.start+C.count));P<N;P+=3)p=V5(this,T,l,bC,m,v,_,y,b,P,P+1,P+2),p&&(p.faceIndex=Math.floor(P/3),p.face.materialIndex=x.materialIndex,a.push(p))}else for(let x=Math.max(0,C.start),T=Math.min(m.count,C.start+C.count);x<T;x+=3)p=V5(this,d,l,bC,m,v,_,y,b,x,x+1,x+2),p&&(p.faceIndex=Math.floor(x/3),a.push(p))}}function V5(c,l,a,h,d,f,p,g,m,v,_,y){e0.fromBufferAttribute(d,v),t0.fromBufferAttribute(d,_),n0.fromBufferAttribute(d,y);const b=c.morphTargetInfluences;if(f&&b){A5.set(0,0,0),I5.set(0,0,0),R5.set(0,0,0);for(let C=0,S=f.length;C<S;C++){const w=b[C],x=f[C];0!==w&&(HZ.fromBufferAttribute(x,v),WZ.fromBufferAttribute(x,_),ZZ.fromBufferAttribute(x,y),p?(A5.addScaledVector(HZ,w),I5.addScaledVector(WZ,w),R5.addScaledVector(ZZ,w)):(A5.addScaledVector(HZ.sub(e0),w),I5.addScaledVector(WZ.sub(t0),w),R5.addScaledVector(ZZ.sub(n0),w)))}e0.add(A5),t0.add(I5),n0.add(R5)}c.isSkinnedMesh&&(c.boneTransform(v,e0),c.boneTransform(_,t0),c.boneTransform(y,n0));const O=function dCt(c,l,a,h,d,f,p,g){let m;if(m=l.side===Tu?h.intersectTriangle(p,f,d,!0,g):h.intersectTriangle(d,f,p,l.side!==Zm,g),null===m)return null;B5.copy(g),B5.applyMatrix4(c.matrixWorld);const v=a.ray.origin.distanceTo(B5);return v<a.near||v>a.far?null:{distance:v,point:B5.clone(),object:c}}(c,l,a,h,e0,t0,n0,jZ);if(O){g&&(L5.fromBufferAttribute(g,v),N5.fromBufferAttribute(g,_),F5.fromBufferAttribute(g,y),O.uv=_d.getUV(jZ,e0,t0,n0,L5,N5,F5,new _t)),m&&(L5.fromBufferAttribute(m,v),N5.fromBufferAttribute(m,_),F5.fromBufferAttribute(m,y),O.uv2=_d.getUV(jZ,e0,t0,n0,L5,N5,F5,new _t));const C={a:v,b:_,c:y,normal:new ae,materialIndex:0};_d.getNormal(e0,t0,n0,C.normal),O.face=C}return O}class Ff extends Ji{constructor(l=1,a=1,h=1,d=1,f=1,p=1){super(),this.type="BoxGeometry",this.parameters={width:l,height:a,depth:h,widthSegments:d,heightSegments:f,depthSegments:p};const g=this;d=Math.floor(d),f=Math.floor(f),p=Math.floor(p);const m=[],v=[],_=[],y=[];let b=0,O=0;function C(S,w,x,T,D,k,P,N,F,L,$){const U=k/F,z=P/L,ee=k/2,te=P/2,B=N/2,j=F+1,W=L+1;let q=0,G=0;const K=new ae;for(let J=0;J<W;J++){const ie=J*z-te;for(let re=0;re<j;re++)K[S]=(re*U-ee)*T,K[w]=ie*D,K[x]=B,v.push(K.x,K.y,K.z),K[S]=0,K[w]=0,K[x]=N>0?1:-1,_.push(K.x,K.y,K.z),y.push(re/F),y.push(1-J/L),q+=1}for(let J=0;J<L;J++)for(let ie=0;ie<F;ie++){const he=b+ie+j*(J+1),de=b+(ie+1)+j*(J+1),ke=b+(ie+1)+j*J;m.push(b+ie+j*J,he,ke),m.push(he,de,ke),G+=6}g.addGroup(O,G,$),O+=G,b+=q}C("z","y","x",-1,-1,h,a,l,p,f,0),C("z","y","x",1,-1,h,a,-l,p,f,1),C("x","z","y",1,1,l,h,a,d,p,2),C("x","z","y",1,-1,l,h,-a,d,p,3),C("x","y","z",1,-1,l,a,h,d,f,4),C("x","y","z",-1,-1,l,a,-h,d,f,5),this.setIndex(m),this.setAttribute("position",new zn(v,3)),this.setAttribute("normal",new zn(_,3)),this.setAttribute("uv",new zn(y,2))}static fromJSON(l){return new Ff(l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments)}}function OC(c){const l={};for(const a in c){l[a]={};for(const h in c[a]){const d=c[a][h];l[a][h]=d&&(d.isColor||d.isMatrix3||d.isMatrix4||d.isVector2||d.isVector3||d.isVector4||d.isTexture||d.isQuaternion)?d.clone():Array.isArray(d)?d.slice():d}}return l}function xl(c){const l={};for(let a=0;a<c.length;a++){const h=OC(c[a]);for(const d in h)l[d]=h[d]}return l}const $5={clone:OC,merge:xl};class Tl extends Jm{constructor(l){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==l&&(void 0!==l.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(l))}copy(l){return super.copy(l),this.fragmentShader=l.fragmentShader,this.vertexShader=l.vertexShader,this.uniforms=OC(l.uniforms),this.defines=Object.assign({},l.defines),this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.fog=l.fog,this.lights=l.lights,this.clipping=l.clipping,this.extensions=Object.assign({},l.extensions),this.glslVersion=l.glslVersion,this}toJSON(l){const a=super.toJSON(l);a.glslVersion=this.glslVersion,a.uniforms={};for(const d in this.uniforms){const p=this.uniforms[d].value;a.uniforms[d]=p&&p.isTexture?{type:"t",value:p.toJSON(l).uuid}:p&&p.isColor?{type:"c",value:p.getHex()}:p&&p.isVector2?{type:"v2",value:p.toArray()}:p&&p.isVector3?{type:"v3",value:p.toArray()}:p&&p.isVector4?{type:"v4",value:p.toArray()}:p&&p.isMatrix3?{type:"m3",value:p.toArray()}:p&&p.isMatrix4?{type:"m4",value:p.toArray()}:{value:p}}Object.keys(this.defines).length>0&&(a.defines=this.defines),a.vertexShader=this.vertexShader,a.fragmentShader=this.fragmentShader;const h={};for(const d in this.extensions)!0===this.extensions[d]&&(h[d]=!0);return Object.keys(h).length>0&&(a.extensions=h),a}}class GZ extends Mu{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Vi,this.projectionMatrix=new Vi,this.projectionMatrixInverse=new Vi}copy(l,a){return super.copy(l,a),this.matrixWorldInverse.copy(l.matrixWorldInverse),this.projectionMatrix.copy(l.projectionMatrix),this.projectionMatrixInverse.copy(l.projectionMatrixInverse),this}getWorldDirection(l){this.updateWorldMatrix(!0,!1);const a=this.matrixWorld.elements;return l.set(-a[8],-a[9],-a[10]).normalize()}updateMatrixWorld(l){super.updateMatrixWorld(l),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(l,a){super.updateWorldMatrix(l,a),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Mo extends GZ{constructor(l=50,a=1,h=.1,d=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=l,this.zoom=1,this.near=h,this.far=d,this.focus=10,this.aspect=a,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(l,a){return super.copy(l,a),this.fov=l.fov,this.zoom=l.zoom,this.near=l.near,this.far=l.far,this.focus=l.focus,this.aspect=l.aspect,this.view=null===l.view?null:Object.assign({},l.view),this.filmGauge=l.filmGauge,this.filmOffset=l.filmOffset,this}setFocalLength(l){const a=.5*this.getFilmHeight()/l;this.fov=2*YT*Math.atan(a),this.updateProjectionMatrix()}getFocalLength(){const l=Math.tan(.5*Pv*this.fov);return.5*this.getFilmHeight()/l}getEffectiveFOV(){return 2*YT*Math.atan(Math.tan(.5*Pv*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(l,a,h,d,f,p){this.aspect=l/a,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=l,this.view.fullHeight=a,this.view.offsetX=h,this.view.offsetY=d,this.view.width=f,this.view.height=p,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const l=this.near;let a=l*Math.tan(.5*Pv*this.fov)/this.zoom,h=2*a,d=this.aspect*h,f=-.5*d;const p=this.view;if(null!==this.view&&this.view.enabled){const m=p.fullWidth,v=p.fullHeight;f+=p.offsetX*d/m,a-=p.offsetY*h/v,d*=p.width/m,h*=p.height/v}const g=this.filmOffset;0!==g&&(f+=l*g/this.getFilmWidth()),this.projectionMatrix.makePerspective(f,f+d,a,a-h,l,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(l){const a=super.toJSON(l);return a.object.fov=this.fov,a.object.zoom=this.zoom,a.object.near=this.near,a.object.far=this.far,a.object.focus=this.focus,a.object.aspect=this.aspect,null!==this.view&&(a.object.view=Object.assign({},this.view)),a.object.filmGauge=this.filmGauge,a.object.filmOffset=this.filmOffset,a}}class gCt extends Mu{constructor(l,a,h){if(super(),this.type="CubeCamera",!0!==h.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=h;const d=new Mo(90,1,l,a);d.layers=this.layers,d.up.set(0,-1,0),d.lookAt(new ae(1,0,0)),this.add(d);const f=new Mo(90,1,l,a);f.layers=this.layers,f.up.set(0,-1,0),f.lookAt(new ae(-1,0,0)),this.add(f);const p=new Mo(90,1,l,a);p.layers=this.layers,p.up.set(0,0,1),p.lookAt(new ae(0,1,0)),this.add(p);const g=new Mo(90,1,l,a);g.layers=this.layers,g.up.set(0,0,-1),g.lookAt(new ae(0,-1,0)),this.add(g);const m=new Mo(90,1,l,a);m.layers=this.layers,m.up.set(0,-1,0),m.lookAt(new ae(0,0,1)),this.add(m);const v=new Mo(90,1,l,a);v.layers=this.layers,v.up.set(0,-1,0),v.lookAt(new ae(0,0,-1)),this.add(v)}update(l,a){null===this.parent&&this.updateMatrixWorld();const h=this.renderTarget,[d,f,p,g,m,v]=this.children,_=l.getRenderTarget(),y=l.toneMapping,b=l.xr.enabled;l.toneMapping=ng,l.xr.enabled=!1;const O=h.texture.generateMipmaps;h.texture.generateMipmaps=!1,l.setRenderTarget(h,0),l.render(a,d),l.setRenderTarget(h,1),l.render(a,f),l.setRenderTarget(h,2),l.render(a,p),l.setRenderTarget(h,3),l.render(a,g),l.setRenderTarget(h,4),l.render(a,m),h.texture.generateMipmaps=O,l.setRenderTarget(h,5),l.render(a,v),l.setRenderTarget(_),l.toneMapping=y,l.xr.enabled=b,h.texture.needsPMREMUpdate=!0}}class z5 extends Nf{constructor(l,a,h,d,f,p,g,m,v,_){super(l=void 0!==l?l:[],a=void 0!==a?a:wv,h,d,f,p,g,m,v,_),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(l){this.image=l}}class mCt extends oc{constructor(l,a={}){super(l,l,a),this.isWebGLCubeRenderTarget=!0;const h={width:l,height:l,depth:1};this.texture=new z5([h,h,h,h,h,h],a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,this.texture.minFilter=void 0!==a.minFilter?a.minFilter:zo}fromEquirectangularTexture(l,a){this.texture.type=a.type,this.texture.encoding=a.encoding,this.texture.generateMipmaps=a.generateMipmaps,this.texture.minFilter=a.minFilter,this.texture.magFilter=a.magFilter;const h_uniforms={tEquirect:{value:null}},h_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",h_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",d=new Ff(5,5,5),f=new Tl({name:"CubemapFromEquirect",uniforms:OC(h_uniforms),vertexShader:h_vertexShader,fragmentShader:h_fragmentShader,side:Tu,blending:Lf});f.uniforms.tEquirect.value=a;const p=new br(d,f),g=a.minFilter;return a.minFilter===tC&&(a.minFilter=zo),new gCt(1,10,this).update(l,p),a.minFilter=g,p.geometry.dispose(),p.material.dispose(),this}clear(l,a,h,d){const f=l.getRenderTarget();for(let p=0;p<6;p++)l.setRenderTarget(this,p),l.clear(a,h,d);l.setRenderTarget(f)}}const XZ=new ae,vCt=new ae,_Ct=new Zc;class Nv{constructor(l=new ae(1,0,0),a=0){this.isPlane=!0,this.normal=l,this.constant=a}set(l,a){return this.normal.copy(l),this.constant=a,this}setComponents(l,a,h,d){return this.normal.set(l,a,h),this.constant=d,this}setFromNormalAndCoplanarPoint(l,a){return this.normal.copy(l),this.constant=-a.dot(this.normal),this}setFromCoplanarPoints(l,a,h){const d=XZ.subVectors(h,a).cross(vCt.subVectors(l,a)).normalize();return this.setFromNormalAndCoplanarPoint(d,l),this}copy(l){return this.normal.copy(l.normal),this.constant=l.constant,this}normalize(){const l=1/this.normal.length();return this.normal.multiplyScalar(l),this.constant*=l,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(l){return this.normal.dot(l)+this.constant}distanceToSphere(l){return this.distanceToPoint(l.center)-l.radius}projectPoint(l,a){return a.copy(this.normal).multiplyScalar(-this.distanceToPoint(l)).add(l)}intersectLine(l,a){const h=l.delta(XZ),d=this.normal.dot(h);if(0===d)return 0===this.distanceToPoint(l.start)?a.copy(l.start):null;const f=-(l.start.dot(this.normal)+this.constant)/d;return f<0||f>1?null:a.copy(h).multiplyScalar(f).add(l.start)}intersectsLine(l){const a=this.distanceToPoint(l.start),h=this.distanceToPoint(l.end);return a<0&&h>0||h<0&&a>0}intersectsBox(l){return l.intersectsPlane(this)}intersectsSphere(l){return l.intersectsPlane(this)}coplanarPoint(l){return l.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(l,a){const h=a||_Ct.getNormalMatrix(l),d=this.coplanarPoint(XZ).applyMatrix4(l),f=this.normal.applyMatrix3(h).normalize();return this.constant=-d.dot(f),this}translate(l){return this.constant-=l.dot(this.normal),this}equals(l){return l.normal.equals(this.normal)&&l.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const wC=new pC,U5=new ae;class YZ{constructor(l=new Nv,a=new Nv,h=new Nv,d=new Nv,f=new Nv,p=new Nv){this.planes=[l,a,h,d,f,p]}set(l,a,h,d,f,p){const g=this.planes;return g[0].copy(l),g[1].copy(a),g[2].copy(h),g[3].copy(d),g[4].copy(f),g[5].copy(p),this}copy(l){const a=this.planes;for(let h=0;h<6;h++)a[h].copy(l.planes[h]);return this}setFromProjectionMatrix(l){const a=this.planes,h=l.elements,d=h[0],f=h[1],p=h[2],g=h[3],m=h[4],v=h[5],_=h[6],y=h[7],b=h[8],O=h[9],C=h[10],S=h[11],w=h[12],x=h[13],T=h[14],D=h[15];return a[0].setComponents(g-d,y-m,S-b,D-w).normalize(),a[1].setComponents(g+d,y+m,S+b,D+w).normalize(),a[2].setComponents(g+f,y+v,S+O,D+x).normalize(),a[3].setComponents(g-f,y-v,S-O,D-x).normalize(),a[4].setComponents(g-p,y-_,S-C,D-T).normalize(),a[5].setComponents(g+p,y+_,S+C,D+T).normalize(),this}intersectsObject(l){const a=l.geometry;return null===a.boundingSphere&&a.computeBoundingSphere(),wC.copy(a.boundingSphere).applyMatrix4(l.matrixWorld),this.intersectsSphere(wC)}intersectsSprite(l){return wC.center.set(0,0,0),wC.radius=.7071067811865476,wC.applyMatrix4(l.matrixWorld),this.intersectsSphere(wC)}intersectsSphere(l){const a=this.planes,h=l.center,d=-l.radius;for(let f=0;f<6;f++)if(a[f].distanceToPoint(h)<d)return!1;return!0}intersectsBox(l){const a=this.planes;for(let h=0;h<6;h++){const d=a[h];if(U5.x=d.normal.x>0?l.max.x:l.min.x,U5.y=d.normal.y>0?l.max.y:l.min.y,U5.z=d.normal.z>0?l.max.z:l.min.z,d.distanceToPoint(U5)<0)return!1}return!0}containsPoint(l){const a=this.planes;for(let h=0;h<6;h++)if(a[h].distanceToPoint(l)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function n2e(){let c=null,l=!1,a=null,h=null;function d(f,p){a(f,p),h=c.requestAnimationFrame(d)}return{start:function(){!0!==l&&null!==a&&(h=c.requestAnimationFrame(d),l=!0)},stop:function(){c.cancelAnimationFrame(h),l=!1},setAnimationLoop:function(f){a=f},setContext:function(f){c=f}}}function yCt(c,l){const a=l.isWebGL2,h=new WeakMap;return{get:function p(v){return v.isInterleavedBufferAttribute&&(v=v.data),h.get(v)},remove:function g(v){v.isInterleavedBufferAttribute&&(v=v.data);const _=h.get(v);_&&(c.deleteBuffer(_.buffer),h.delete(v))},update:function m(v,_){if(v.isGLBufferAttribute){const b=h.get(v);return void((!b||b.version<v.version)&&h.set(v,{buffer:v.buffer,type:v.type,bytesPerElement:v.elementSize,version:v.version}))}v.isInterleavedBufferAttribute&&(v=v.data);const y=h.get(v);void 0===y?h.set(v,function d(v,_){const y=v.array,b=v.usage,O=c.createBuffer();let C;if(c.bindBuffer(_,O),c.bufferData(_,y,b),v.onUploadCallback(),y instanceof Float32Array)C=5126;else if(y instanceof Uint16Array)if(v.isFloat16BufferAttribute){if(!a)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");C=5131}else C=5123;else if(y instanceof Int16Array)C=5122;else if(y instanceof Uint32Array)C=5125;else if(y instanceof Int32Array)C=5124;else if(y instanceof Int8Array)C=5120;else if(y instanceof Uint8Array)C=5121;else{if(!(y instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+y);C=5121}return{buffer:O,type:C,bytesPerElement:y.BYTES_PER_ELEMENT,version:v.version}}(v,_)):y.version<v.version&&(function f(v,_,y){const b=_.array,O=_.updateRange;c.bindBuffer(y,v),-1===O.count?c.bufferSubData(y,0,b):(a?c.bufferSubData(y,O.offset*b.BYTES_PER_ELEMENT,b,O.offset,O.count):c.bufferSubData(y,O.offset*b.BYTES_PER_ELEMENT,b.subarray(O.offset,O.offset+O.count)),O.count=-1)}(y.buffer,v,_),y.version=v.version)}}}class xC extends Ji{constructor(l=1,a=1,h=1,d=1){super(),this.type="PlaneGeometry",this.parameters={width:l,height:a,widthSegments:h,heightSegments:d};const f=l/2,p=a/2,g=Math.floor(h),m=Math.floor(d),v=g+1,_=m+1,y=l/g,b=a/m,O=[],C=[],S=[],w=[];for(let x=0;x<_;x++){const T=x*b-p;for(let D=0;D<v;D++)C.push(D*y-f,-T,0),S.push(0,0,1),w.push(D/g),w.push(1-x/m)}for(let x=0;x<m;x++)for(let T=0;T<g;T++){const k=T+v*(x+1),P=T+1+v*(x+1),N=T+1+v*x;O.push(T+v*x,k,N),O.push(k,P,N)}this.setIndex(O),this.setAttribute("position",new zn(C,3)),this.setAttribute("normal",new zn(S,3)),this.setAttribute("uv",new zn(w,2))}static fromJSON(l){return new xC(l.width,l.height,l.widthSegments,l.heightSegments)}}const Or={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\nvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\nconst mat3 XYZ_TO_REC709 = mat3(\n    3.2404542, -0.9692660,  0.0556434,\n   -1.5371385,  1.8760108, -0.2040259,\n   -0.4985314,  0.0415560,  1.0572252\n);\nvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n   vec3 sqrtF0 = sqrt( fresnel0 );\n   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n}\nvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n}\nfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n}\nvec3 evalSensitivity( float OPD, vec3 shift ) {\n   float phase = 2.0 * PI * OPD * 1.0e-9;\n   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );\n   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );\n   xyz /= 1.0685e-7;\n   vec3 srgb = XYZ_TO_REC709 * xyz;\n   return srgb;\n}\nvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n   vec3 I;\n   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n   float cosTheta2Sq = 1.0 - sinTheta2Sq;\n   if ( cosTheta2Sq < 0.0 ) {\n       return vec3( 1.0 );\n   }\n   float cosTheta2 = sqrt( cosTheta2Sq );\n   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n   float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n   float R21 = R12;\n   float T121 = 1.0 - R12;\n   float phi12 = 0.0;\n   if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n   float phi21 = PI - phi12;\n   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n   vec3 phi23 = vec3( 0.0 );\n   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;\n   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;\n   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;\n   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n   vec3 phi = vec3( phi21 ) + phi23;\n   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n   vec3 r123 = sqrt( R123 );\n   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n   vec3 C0 = R12 + Rs;\n   I = C0;\n   vec3 Cm = Rs - T121;\n   for ( int m = 1; m <= 2; ++m ) {\n       Cm *= r123;\n       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n       I += Cm * Sm;\n   }\n   return max( I, vec3( 0.0 ) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\nfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\nif ( material.iridescenceThickness == 0.0 ) {\n\tmaterial.iridescence = 0.0;\n} else {\n\tmaterial.iridescence = saturate( material.iridescence );\n}\nif ( material.iridescence > 0.0 ) {\n\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},On={common:{diffuse:{value:new Cn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Zc},uv2Transform:{value:new Zc},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new _t(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Cn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Cn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Zc}},sprite:{diffuse:{value:new Cn(16777215)},opacity:{value:1},center:{value:new _t(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Zc}}},Bf={basic:{uniforms:xl([On.common,On.specularmap,On.envmap,On.aomap,On.lightmap,On.fog]),vertexShader:Or.meshbasic_vert,fragmentShader:Or.meshbasic_frag},lambert:{uniforms:xl([On.common,On.specularmap,On.envmap,On.aomap,On.lightmap,On.emissivemap,On.fog,On.lights,{emissive:{value:new Cn(0)}}]),vertexShader:Or.meshlambert_vert,fragmentShader:Or.meshlambert_frag},phong:{uniforms:xl([On.common,On.specularmap,On.envmap,On.aomap,On.lightmap,On.emissivemap,On.bumpmap,On.normalmap,On.displacementmap,On.fog,On.lights,{emissive:{value:new Cn(0)},specular:{value:new Cn(1118481)},shininess:{value:30}}]),vertexShader:Or.meshphong_vert,fragmentShader:Or.meshphong_frag},standard:{uniforms:xl([On.common,On.envmap,On.aomap,On.lightmap,On.emissivemap,On.bumpmap,On.normalmap,On.displacementmap,On.roughnessmap,On.metalnessmap,On.fog,On.lights,{emissive:{value:new Cn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Or.meshphysical_vert,fragmentShader:Or.meshphysical_frag},toon:{uniforms:xl([On.common,On.aomap,On.lightmap,On.emissivemap,On.bumpmap,On.normalmap,On.displacementmap,On.gradientmap,On.fog,On.lights,{emissive:{value:new Cn(0)}}]),vertexShader:Or.meshtoon_vert,fragmentShader:Or.meshtoon_frag},matcap:{uniforms:xl([On.common,On.bumpmap,On.normalmap,On.displacementmap,On.fog,{matcap:{value:null}}]),vertexShader:Or.meshmatcap_vert,fragmentShader:Or.meshmatcap_frag},points:{uniforms:xl([On.points,On.fog]),vertexShader:Or.points_vert,fragmentShader:Or.points_frag},dashed:{uniforms:xl([On.common,On.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Or.linedashed_vert,fragmentShader:Or.linedashed_frag},depth:{uniforms:xl([On.common,On.displacementmap]),vertexShader:Or.depth_vert,fragmentShader:Or.depth_frag},normal:{uniforms:xl([On.common,On.bumpmap,On.normalmap,On.displacementmap,{opacity:{value:1}}]),vertexShader:Or.meshnormal_vert,fragmentShader:Or.meshnormal_frag},sprite:{uniforms:xl([On.sprite,On.fog]),vertexShader:Or.sprite_vert,fragmentShader:Or.sprite_frag},background:{uniforms:{uvTransform:{value:new Zc},t2D:{value:null}},vertexShader:Or.background_vert,fragmentShader:Or.background_frag},cube:{uniforms:xl([On.envmap,{opacity:{value:1}}]),vertexShader:Or.cube_vert,fragmentShader:Or.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Or.equirect_vert,fragmentShader:Or.equirect_frag},distanceRGBA:{uniforms:xl([On.common,On.displacementmap,{referencePosition:{value:new ae},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Or.distanceRGBA_vert,fragmentShader:Or.distanceRGBA_frag},shadow:{uniforms:xl([On.lights,On.fog,{color:{value:new Cn(0)},opacity:{value:1}}]),vertexShader:Or.shadow_vert,fragmentShader:Or.shadow_frag}};function v2t(c,l,a,h,d,f){const p=new Cn(0);let m,v,g=!0===d?0:1,_=null,y=0,b=null;function C(S,w){a.buffers.color.setClear(S.r,S.g,S.b,w,f)}return{getClearColor:function(){return p},setClearColor:function(S,w=1){p.set(S),g=w,C(p,g)},getClearAlpha:function(){return g},setClearAlpha:function(S){g=S,C(p,g)},render:function O(S,w){let x=!1,T=!0===w.isScene?w.background:null;T&&T.isTexture&&(T=l.get(T));const D=c.xr,k=D.getSession&&D.getSession();k&&"additive"===k.environmentBlendMode&&(T=null),null===T?C(p,g):T&&T.isColor&&(C(T,1),x=!0),(c.autoClear||x)&&c.clear(c.autoClearColor,c.autoClearDepth,c.autoClearStencil),T&&(T.isCubeTexture||T.mapping===GT)?(void 0===v&&(v=new br(new Ff(1,1,1),new Tl({name:"BackgroundCubeMaterial",uniforms:OC(Bf.cube.uniforms),vertexShader:Bf.cube.vertexShader,fragmentShader:Bf.cube.fragmentShader,side:Tu,depthTest:!1,depthWrite:!1,fog:!1})),v.geometry.deleteAttribute("normal"),v.geometry.deleteAttribute("uv"),v.onBeforeRender=function(P,N,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(v.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),h.update(v)),v.material.uniforms.envMap.value=T,v.material.uniforms.flipEnvMap.value=T.isCubeTexture&&!1===T.isRenderTargetTexture?-1:1,(_!==T||y!==T.version||b!==c.toneMapping)&&(v.material.needsUpdate=!0,_=T,y=T.version,b=c.toneMapping),v.layers.enableAll(),S.unshift(v,v.geometry,v.material,0,0,null)):T&&T.isTexture&&(void 0===m&&(m=new br(new xC(2,2),new Tl({name:"BackgroundMaterial",uniforms:OC(Bf.background.uniforms),vertexShader:Bf.background.vertexShader,fragmentShader:Bf.background.fragmentShader,side:qO,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),Object.defineProperty(m.material,"map",{get:function(){return this.uniforms.t2D.value}}),h.update(m)),m.material.uniforms.t2D.value=T,!0===T.matrixAutoUpdate&&T.updateMatrix(),m.material.uniforms.uvTransform.value.copy(T.matrix),(_!==T||y!==T.version||b!==c.toneMapping)&&(m.material.needsUpdate=!0,_=T,y=T.version,b=c.toneMapping),m.layers.enableAll(),S.unshift(m,m.geometry,m.material,0,0,null))}}}function _2t(c,l,a,h){const d=c.getParameter(34921),f=h.isWebGL2?null:l.get("OES_vertex_array_object"),p=h.isWebGL2||null!==f,g={},m=w(null);let v=m,_=!1;function O(B){return h.isWebGL2?c.bindVertexArray(B):f.bindVertexArrayOES(B)}function C(B){return h.isWebGL2?c.deleteVertexArray(B):f.deleteVertexArrayOES(B)}function w(B){const j=[],W=[],q=[];for(let G=0;G<d;G++)j[G]=0,W[G]=0,q[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:W,attributeDivisors:q,object:B,attributes:{},index:null}}function D(){const B=v.newAttributes;for(let j=0,W=B.length;j<W;j++)B[j]=0}function k(B){P(B,0)}function P(B,j){const q=v.enabledAttributes,G=v.attributeDivisors;v.newAttributes[B]=1,0===q[B]&&(c.enableVertexAttribArray(B),q[B]=1),G[B]!==j&&((h.isWebGL2?c:l.get("ANGLE_instanced_arrays"))[h.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](B,j),G[B]=j)}function N(){const B=v.newAttributes,j=v.enabledAttributes;for(let W=0,q=j.length;W<q;W++)j[W]!==B[W]&&(c.disableVertexAttribArray(W),j[W]=0)}function F(B,j,W,q,G,K){!0!==h.isWebGL2||5124!==W&&5125!==W?c.vertexAttribPointer(B,j,W,q,G,K):c.vertexAttribIPointer(B,j,W,G,K)}function ee(){te(),_=!0,v!==m&&(v=m,O(v.object))}function te(){m.geometry=null,m.program=null,m.wireframe=!1}return{setup:function y(B,j,W,q,G){let K=!1;if(p){const J=function S(B,j,W){const q=!0===W.wireframe;let G=g[B.id];void 0===G&&(G={},g[B.id]=G);let K=G[j.id];void 0===K&&(K={},G[j.id]=K);let J=K[q];return void 0===J&&(J=w(function b(){return h.isWebGL2?c.createVertexArray():f.createVertexArrayOES()}()),K[q]=J),J}(q,W,j);v!==J&&(v=J,O(v.object)),K=function x(B,j,W,q){const G=v.attributes,K=j.attributes;let J=0;const ie=W.getAttributes();for(const re in ie)if(ie[re].location>=0){const de=G[re];let ke=K[re];if(void 0===ke&&("instanceMatrix"===re&&B.instanceMatrix&&(ke=B.instanceMatrix),"instanceColor"===re&&B.instanceColor&&(ke=B.instanceColor)),void 0===de||de.attribute!==ke||ke&&de.data!==ke.data)return!0;J++}return v.attributesNum!==J||v.index!==q}(B,q,W,G),K&&function T(B,j,W,q){const G={},K=j.attributes;let J=0;const ie=W.getAttributes();for(const re in ie)if(ie[re].location>=0){let de=K[re];void 0===de&&("instanceMatrix"===re&&B.instanceMatrix&&(de=B.instanceMatrix),"instanceColor"===re&&B.instanceColor&&(de=B.instanceColor));const ke={};ke.attribute=de,de&&de.data&&(ke.data=de.data),G[re]=ke,J++}v.attributes=G,v.attributesNum=J,v.index=q}(B,q,W,G)}else{const J=!0===j.wireframe;(v.geometry!==q.id||v.program!==W.id||v.wireframe!==J)&&(v.geometry=q.id,v.program=W.id,v.wireframe=J,K=!0)}null!==G&&a.update(G,34963),(K||_)&&(_=!1,function L(B,j,W,q){if(!1===h.isWebGL2&&(B.isInstancedMesh||q.isInstancedBufferGeometry)&&null===l.get("ANGLE_instanced_arrays"))return;D();const G=q.attributes,K=W.getAttributes(),J=j.defaultAttributeValues;for(const ie in K){const re=K[ie];if(re.location>=0){let he=G[ie];if(void 0===he&&("instanceMatrix"===ie&&B.instanceMatrix&&(he=B.instanceMatrix),"instanceColor"===ie&&B.instanceColor&&(he=B.instanceColor)),void 0!==he){const de=he.normalized,ke=he.itemSize,xe=a.get(he);if(void 0===xe)continue;const Ie=xe.buffer,Ze=xe.type,Ne=xe.bytesPerElement;if(he.isInterleavedBufferAttribute){const Ve=he.data,nt=Ve.stride,_e=he.offset;if(Ve.isInstancedInterleavedBuffer){for(let $e=0;$e<re.locationSize;$e++)P(re.location+$e,Ve.meshPerAttribute);!0!==B.isInstancedMesh&&void 0===q._maxInstanceCount&&(q._maxInstanceCount=Ve.meshPerAttribute*Ve.count)}else for(let $e=0;$e<re.locationSize;$e++)k(re.location+$e);c.bindBuffer(34962,Ie);for(let $e=0;$e<re.locationSize;$e++)F(re.location+$e,ke/re.locationSize,Ze,de,nt*Ne,(_e+ke/re.locationSize*$e)*Ne)}else{if(he.isInstancedBufferAttribute){for(let Ve=0;Ve<re.locationSize;Ve++)P(re.location+Ve,he.meshPerAttribute);!0!==B.isInstancedMesh&&void 0===q._maxInstanceCount&&(q._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let Ve=0;Ve<re.locationSize;Ve++)k(re.location+Ve);c.bindBuffer(34962,Ie);for(let Ve=0;Ve<re.locationSize;Ve++)F(re.location+Ve,ke/re.locationSize,Ze,de,ke*Ne,ke/re.locationSize*Ve*Ne)}}else if(void 0!==J){const de=J[ie];if(void 0!==de)switch(de.length){case 2:c.vertexAttrib2fv(re.location,de);break;case 3:c.vertexAttrib3fv(re.location,de);break;case 4:c.vertexAttrib4fv(re.location,de);break;default:c.vertexAttrib1fv(re.location,de)}}}}N()}(B,j,W,q),null!==G&&c.bindBuffer(34963,a.get(G).buffer))},reset:ee,resetDefaultState:te,dispose:function $(){ee();for(const B in g){const j=g[B];for(const W in j){const q=j[W];for(const G in q)C(q[G].object),delete q[G];delete j[W]}delete g[B]}},releaseStatesOfGeometry:function U(B){if(void 0===g[B.id])return;const j=g[B.id];for(const W in j){const q=j[W];for(const G in q)C(q[G].object),delete q[G];delete j[W]}delete g[B.id]},releaseStatesOfProgram:function z(B){for(const j in g){const W=g[j];if(void 0===W[B.id])continue;const q=W[B.id];for(const G in q)C(q[G].object),delete q[G];delete W[B.id]}},initAttributes:D,enableAttribute:k,disableUnusedAttributes:N}}function y2t(c,l,a,h){const d=h.isWebGL2;let f;this.setMode=function p(v){f=v},this.render=function g(v,_){c.drawArrays(f,v,_),a.update(_,f,1)},this.renderInstances=function m(v,_,y){if(0===y)return;let b,O;if(d)b=c,O="drawArraysInstanced";else if(b=l.get("ANGLE_instanced_arrays"),O="drawArraysInstancedANGLE",null===b)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");b[O](f,v,_,y),a.update(_,f,y)}}function b2t(c,l,a){let h;function f(F){if("highp"===F){if(c.getShaderPrecisionFormat(35633,36338).precision>0&&c.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";F="mediump"}return"mediump"===F&&c.getShaderPrecisionFormat(35633,36337).precision>0&&c.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const p=typeof WebGL2RenderingContext<"u"&&c instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&c instanceof WebGL2ComputeRenderingContext;let g=void 0!==a.precision?a.precision:"highp";const m=f(g);m!==g&&(console.warn("THREE.WebGLRenderer:",g,"not supported, using",m,"instead."),g=m);const v=p||l.has("WEBGL_draw_buffers"),_=!0===a.logarithmicDepthBuffer,y=c.getParameter(34930),b=c.getParameter(35660),O=c.getParameter(3379),C=c.getParameter(34076),S=c.getParameter(34921),w=c.getParameter(36347),x=c.getParameter(36348),T=c.getParameter(36349),D=b>0,k=p||l.has("OES_texture_float");return{isWebGL2:p,drawBuffers:v,getMaxAnisotropy:function d(){if(void 0!==h)return h;if(!0===l.has("EXT_texture_filter_anisotropic")){const F=l.get("EXT_texture_filter_anisotropic");h=c.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else h=0;return h},getMaxPrecision:f,precision:g,logarithmicDepthBuffer:_,maxTextures:y,maxVertexTextures:b,maxTextureSize:O,maxCubemapSize:C,maxAttributes:S,maxVertexUniforms:w,maxVaryings:x,maxFragmentUniforms:T,vertexTextures:D,floatFragmentTextures:k,floatVertexTextures:D&&k,maxSamples:p?c.getParameter(36183):0}}function O2t(c){const l=this;let a=null,h=0,d=!1,f=!1;const p=new Nv,g=new Zc,m={value:null,needsUpdate:!1};function v(){m.value!==a&&(m.value=a,m.needsUpdate=h>0),l.numPlanes=h,l.numIntersection=0}function _(y,b,O,C){const S=null!==y?y.length:0;let w=null;if(0!==S){if(w=m.value,!0!==C||null===w){const x=O+4*S,T=b.matrixWorldInverse;g.getNormalMatrix(T),(null===w||w.length<x)&&(w=new Float32Array(x));for(let D=0,k=O;D!==S;++D,k+=4)p.copy(y[D]).applyMatrix4(T,g),p.normal.toArray(w,k),w[k+3]=p.constant}m.value=w,m.needsUpdate=!0}return l.numPlanes=S,l.numIntersection=0,w}this.uniform=m,this.numPlanes=0,this.numIntersection=0,this.init=function(y,b,O){const C=0!==y.length||b||0!==h||d;return d=b,a=_(y,O,0),h=y.length,C},this.beginShadows=function(){f=!0,_(null)},this.endShadows=function(){f=!1,v()},this.setState=function(y,b,O){const C=y.clippingPlanes,S=y.clipIntersection,w=y.clipShadows,x=c.get(y);if(!d||null===C||0===C.length||f&&!w)f?_(null):v();else{const T=f?0:h,D=4*T;let k=x.clippingState||null;m.value=k,k=_(C,b,D,O);for(let P=0;P!==D;++P)k[P]=a[P];x.clippingState=k,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=T}}}function C2t(c){let l=new WeakMap;function a(p,g){return g===f5?p.mapping=wv:g===p5&&(p.mapping=jm),p}function d(p){const g=p.target;g.removeEventListener("dispose",d);const m=l.get(g);void 0!==m&&(l.delete(g),m.dispose())}return{get:function h(p){if(p&&p.isTexture&&!1===p.isRenderTargetTexture){const g=p.mapping;if(g===f5||g===p5){if(l.has(p))return a(l.get(p).texture,p.mapping);{const m=p.image;if(m&&m.height>0){const v=new mCt(m.height/2);return v.fromEquirectangularTexture(c,p),l.set(p,v),p.addEventListener("dispose",d),a(v.texture,p.mapping)}return null}}}return p},dispose:function f(){l=new WeakMap}}}Bf.physical={uniforms:xl([Bf.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new _t(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Cn(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new _t},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Cn(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Cn(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Or.meshphysical_vert,fragmentShader:Or.meshphysical_frag};class nk extends GZ{constructor(l=-1,a=1,h=1,d=-1,f=.1,p=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=l,this.right=a,this.top=h,this.bottom=d,this.near=f,this.far=p,this.updateProjectionMatrix()}copy(l,a){return super.copy(l,a),this.left=l.left,this.right=l.right,this.top=l.top,this.bottom=l.bottom,this.near=l.near,this.far=l.far,this.zoom=l.zoom,this.view=null===l.view?null:Object.assign({},l.view),this}setViewOffset(l,a,h,d,f,p){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=l,this.view.fullHeight=a,this.view.offsetX=h,this.view.offsetY=d,this.view.width=f,this.view.height=p,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const l=(this.right-this.left)/(2*this.zoom),a=(this.top-this.bottom)/(2*this.zoom),h=(this.right+this.left)/2,d=(this.top+this.bottom)/2;let f=h-l,p=h+l,g=d+a,m=d-a;if(null!==this.view&&this.view.enabled){const v=(this.right-this.left)/this.view.fullWidth/this.zoom,_=(this.top-this.bottom)/this.view.fullHeight/this.zoom;f+=v*this.view.offsetX,p=f+v*this.view.width,g-=_*this.view.offsetY,m=g-_*this.view.height}this.projectionMatrix.makeOrthographic(f,p,g,m,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(l){const a=super.toJSON(l);return a.object.zoom=this.zoom,a.object.left=this.left,a.object.right=this.right,a.object.top=this.top,a.object.bottom=this.bottom,a.object.near=this.near,a.object.far=this.far,null!==this.view&&(a.object.view=Object.assign({},this.view)),a}}const i2e=[.125,.215,.35,.446,.526,.582],qZ=new nk,r2e=new Cn;let KZ=null;const Bv=(1+Math.sqrt(5))/2,kC=1/Bv,s2e=[new ae(1,1,1),new ae(-1,1,1),new ae(1,1,-1),new ae(-1,1,-1),new ae(0,Bv,kC),new ae(0,Bv,-kC),new ae(kC,0,Bv),new ae(-kC,0,Bv),new ae(Bv,kC,0),new ae(-Bv,kC,0)];class o2e{constructor(l){this._renderer=l,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(l,a=0,h=.1,d=100){KZ=this._renderer.getRenderTarget(),this._setSize(256);const f=this._allocateTargets();return f.depthBuffer=!0,this._sceneToCubeUV(l,h,d,f),a>0&&this._blur(f,0,0,a),this._applyPMREM(f),this._cleanup(f),f}fromEquirectangular(l,a=null){return this._fromTexture(l,a)}fromCubemap(l,a=null){return this._fromTexture(l,a)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=c2e(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=l2e(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(l){this._lodMax=Math.floor(Math.log2(l)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let l=0;l<this._lodPlanes.length;l++)this._lodPlanes[l].dispose()}_cleanup(l){this._renderer.setRenderTarget(KZ),l.scissorTest=!1,Q5(l,0,0,l.width,l.height)}_fromTexture(l,a){this._setSize(l.mapping===wv||l.mapping===jm?0===l.image.length?16:l.image[0].width||l.image[0].image.width:l.image.width/4),KZ=this._renderer.getRenderTarget();const h=a||this._allocateTargets();return this._textureToCubeUV(l,h),this._applyPMREM(h),this._cleanup(h),h}_allocateTargets(){const l=3*Math.max(this._cubeSize,112),a=4*this._cubeSize,h={magFilter:zo,minFilter:zo,generateMipmaps:!1,type:XT,format:fd,encoding:Dv,depthBuffer:!1},d=a2e(l,a,h);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==l){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=a2e(l,a,h);const{_lodMax:f}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function S2t(c){const l=[],a=[],h=[];let d=c;const f=c-4+1+i2e.length;for(let p=0;p<f;p++){const g=Math.pow(2,d);a.push(g);let m=1/g;p>c-4?m=i2e[p-c+4-1]:0===p&&(m=0),h.push(m);const v=1/(g-2),_=-v,y=1+v,b=[_,_,y,_,y,y,_,_,y,y,_,y],O=6,C=6,S=3,w=2,x=1,T=new Float32Array(S*C*O),D=new Float32Array(w*C*O),k=new Float32Array(x*C*O);for(let N=0;N<O;N++){const F=N%3*2/3-1,L=N>2?0:-1;T.set([F,L,0,F+2/3,L,0,F+2/3,L+1,0,F,L,0,F+2/3,L+1,0,F,L+1,0],S*C*N),D.set(b,w*C*N),k.set([N,N,N,N,N,N],x*C*N)}const P=new Ji;P.setAttribute("position",new to(T,S)),P.setAttribute("uv",new to(D,w)),P.setAttribute("faceIndex",new to(k,x)),l.push(P),d>4&&d--}return{lodPlanes:l,sizeLods:a,sigmas:h}}(f)),this._blurMaterial=function w2t(c,l,a){const h=new Float32Array(20),d=new ae(0,1,0);return new Tl({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/l,CUBEUV_TEXEL_HEIGHT:1/a,CUBEUV_MAX_MIP:`${c}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:h},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:d}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Lf,depthTest:!1,depthWrite:!1})}(f,l,a)}return d}_compileMaterial(l){const a=new br(this._lodPlanes[0],l);this._renderer.compile(a,qZ)}_sceneToCubeUV(l,a,h,d){const g=new Mo(90,1,a,h),m=[1,-1,1,1,1,1],v=[1,1,1,-1,-1,-1],_=this._renderer,y=_.autoClear,b=_.toneMapping;_.getClearColor(r2e),_.toneMapping=ng,_.autoClear=!1;const O=new vo({name:"PMREM.Background",side:Tu,depthWrite:!1,depthTest:!1}),C=new br(new Ff,O);let S=!1;const w=l.background;w?w.isColor&&(O.color.copy(w),l.background=null,S=!0):(O.color.copy(r2e),S=!0);for(let x=0;x<6;x++){const T=x%3;0===T?(g.up.set(0,m[x],0),g.lookAt(v[x],0,0)):1===T?(g.up.set(0,0,m[x]),g.lookAt(0,v[x],0)):(g.up.set(0,m[x],0),g.lookAt(0,0,v[x]));const D=this._cubeSize;Q5(d,T*D,x>2?D:0,D,D),_.setRenderTarget(d),S&&_.render(C,g),_.render(l,g)}C.geometry.dispose(),C.material.dispose(),_.toneMapping=b,_.autoClear=y,l.background=w}_textureToCubeUV(l,a){const h=this._renderer,d=l.mapping===wv||l.mapping===jm;d?(null===this._cubemapMaterial&&(this._cubemapMaterial=c2e()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===l.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=l2e());const f=d?this._cubemapMaterial:this._equirectMaterial,p=new br(this._lodPlanes[0],f);f.uniforms.envMap.value=l;const m=this._cubeSize;Q5(a,0,0,3*m,2*m),h.setRenderTarget(a),h.render(p,qZ)}_applyPMREM(l){const a=this._renderer,h=a.autoClear;a.autoClear=!1;for(let d=1;d<this._lodPlanes.length;d++){const f=Math.sqrt(this._sigmas[d]*this._sigmas[d]-this._sigmas[d-1]*this._sigmas[d-1]);this._blur(l,d-1,d,f,s2e[(d-1)%s2e.length])}a.autoClear=h}_blur(l,a,h,d,f){const p=this._pingPongRenderTarget;this._halfBlur(l,p,a,h,d,"latitudinal",f),this._halfBlur(p,l,h,h,d,"longitudinal",f)}_halfBlur(l,a,h,d,f,p,g){const m=this._renderer,v=this._blurMaterial;"latitudinal"!==p&&"longitudinal"!==p&&console.error("blur direction must be either latitudinal or longitudinal!");const y=new br(this._lodPlanes[d],v),b=v.uniforms,O=this._sizeLods[h]-1,C=isFinite(f)?Math.PI/(2*O):2*Math.PI/39,S=f/C,w=isFinite(f)?1+Math.floor(3*S):20;w>20&&console.warn(`sigmaRadians, ${f}, is too large and will clip, as it requested ${w} samples when the maximum is set to 20`);const x=[];let T=0;for(let F=0;F<20;++F){const L=F/S,$=Math.exp(-L*L/2);x.push($),0===F?T+=$:F<w&&(T+=2*$)}for(let F=0;F<x.length;F++)x[F]=x[F]/T;b.envMap.value=l.texture,b.samples.value=w,b.weights.value=x,b.latitudinal.value="latitudinal"===p,g&&(b.poleAxis.value=g);const{_lodMax:D}=this;b.dTheta.value=C,b.mipInt.value=D-h;const k=this._sizeLods[d];Q5(a,3*k*(d>D-4?d-D+4:0),4*(this._cubeSize-k),3*k,2*k),m.setRenderTarget(a),m.render(y,qZ)}}function a2e(c,l,a){const h=new oc(c,l,a);return h.texture.mapping=GT,h.texture.name="PMREM.cubeUv",h.scissorTest=!0,h}function Q5(c,l,a,h,d){c.viewport.set(l,a,h,d),c.scissor.set(l,a,h,d)}function l2e(){return new Tl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Lf,depthTest:!1,depthWrite:!1})}function c2e(){return new Tl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Lf,depthTest:!1,depthWrite:!1})}function x2t(c){let l=new WeakMap,a=null;function f(g){const m=g.target;m.removeEventListener("dispose",f);const v=l.get(m);void 0!==v&&(l.delete(m),v.dispose())}return{get:function h(g){if(g&&g.isTexture){const m=g.mapping,v=m===f5||m===p5,_=m===wv||m===jm;if(v||_){if(g.isRenderTargetTexture&&!0===g.needsPMREMUpdate){g.needsPMREMUpdate=!1;let y=l.get(g);return null===a&&(a=new o2e(c)),y=v?a.fromEquirectangular(g,y):a.fromCubemap(g,y),l.set(g,y),y.texture}if(l.has(g))return l.get(g).texture;{const y=g.image;if(v&&y&&y.height>0||_&&y&&function d(g){let m=0;for(let _=0;_<6;_++)void 0!==g[_]&&m++;return 6===m}(y)){null===a&&(a=new o2e(c));const b=v?a.fromEquirectangular(g):a.fromCubemap(g);return l.set(g,b),g.addEventListener("dispose",f),b.texture}return null}}}return g},dispose:function p(){l=new WeakMap,null!==a&&(a.dispose(),a=null)}}}function T2t(c){const l={};function a(h){if(void 0!==l[h])return l[h];let d;switch(h){case"WEBGL_depth_texture":d=c.getExtension("WEBGL_depth_texture")||c.getExtension("MOZ_WEBGL_depth_texture")||c.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":d=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":d=c.getExtension("WEBGL_compressed_texture_s3tc")||c.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":d=c.getExtension("WEBGL_compressed_texture_pvrtc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:d=c.getExtension(h)}return l[h]=d,d}return{has:function(h){return null!==a(h)},init:function(h){h.isWebGL2?a("EXT_color_buffer_float"):(a("WEBGL_depth_texture"),a("OES_texture_float"),a("OES_texture_half_float"),a("OES_texture_half_float_linear"),a("OES_standard_derivatives"),a("OES_element_index_uint"),a("OES_vertex_array_object"),a("ANGLE_instanced_arrays")),a("OES_texture_float_linear"),a("EXT_color_buffer_half_float"),a("WEBGL_multisampled_render_to_texture")},get:function(h){const d=a(h);return null===d&&console.warn("THREE.WebGLRenderer: "+h+" extension not supported."),d}}}function k2t(c,l,a,h){const d={},f=new WeakMap;function p(y){const b=y.target;null!==b.index&&l.remove(b.index);for(const C in b.attributes)l.remove(b.attributes[C]);b.removeEventListener("dispose",p),delete d[b.id];const O=f.get(b);O&&(l.remove(O),f.delete(b)),h.releaseStatesOfGeometry(b),!0===b.isInstancedBufferGeometry&&delete b._maxInstanceCount,a.memory.geometries--}function v(y){const b=[],O=y.index,C=y.attributes.position;let S=0;if(null!==O){const T=O.array;S=O.version;for(let D=0,k=T.length;D<k;D+=3){const P=T[D+0],N=T[D+1],F=T[D+2];b.push(P,N,N,F,F,P)}}else{S=C.version;for(let D=0,k=C.array.length/3-1;D<k;D+=3){const P=D+0,N=D+1,F=D+2;b.push(P,N,N,F,F,P)}}const w=new(VSe(b)?e2e:JSe)(b,1);w.version=S;const x=f.get(y);x&&l.remove(x),f.set(y,w)}return{get:function g(y,b){return!0===d[b.id]||(b.addEventListener("dispose",p),d[b.id]=!0,a.memory.geometries++),b},update:function m(y){const b=y.attributes;for(const C in b)l.update(b[C],34962);const O=y.morphAttributes;for(const C in O){const S=O[C];for(let w=0,x=S.length;w<x;w++)l.update(S[w],34962)}},getWireframeAttribute:function _(y){const b=f.get(y);if(b){const O=y.index;null!==O&&b.version<O.version&&v(y)}else v(y);return f.get(y)}}}function D2t(c,l,a,h){const d=h.isWebGL2;let f,g,m;this.setMode=function p(b){f=b},this.setIndex=function v(b){g=b.type,m=b.bytesPerElement},this.render=function _(b,O){c.drawElements(f,O,g,b*m),a.update(O,f,1)},this.renderInstances=function y(b,O,C){if(0===C)return;let S,w;if(d)S=c,w="drawElementsInstanced";else if(S=l.get("ANGLE_instanced_arrays"),w="drawElementsInstancedANGLE",null===S)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");S[w](f,O,g,b*m,C),a.update(O,f,C)}}function M2t(c){const a={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:a,programs:null,autoReset:!0,reset:function d(){a.frame++,a.calls=0,a.triangles=0,a.points=0,a.lines=0},update:function h(f,p,g){switch(a.calls++,p){case 4:a.triangles+=g*(f/3);break;case 1:a.lines+=g*(f/2);break;case 3:a.lines+=g*(f-1);break;case 2:a.lines+=g*f;break;case 0:a.points+=g*f;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",p)}}}}function E2t(c,l){return c[0]-l[0]}function P2t(c,l){return Math.abs(l[1])-Math.abs(c[1])}function ej(c,l){let a=1;const h=l.isInterleavedBufferAttribute?l.data.array:l.array;h instanceof Int8Array?a=127:h instanceof Uint8Array?a=255:h instanceof Uint16Array?a=65535:h instanceof Int16Array?a=32767:h instanceof Int32Array?a=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",h),c.divideScalar(a)}function A2t(c,l,a){const h={},d=new Float32Array(8),f=new WeakMap,p=new Dr,g=[];for(let v=0;v<8;v++)g[v]=[v,0];return{update:function m(v,_,y,b){const O=v.morphTargetInfluences;if(!0===l.isWebGL2){const C=_.morphAttributes.position||_.morphAttributes.normal||_.morphAttributes.color,S=void 0!==C?C.length:0;let w=f.get(_);if(void 0===w||w.count!==S){let j=function(){te.dispose(),f.delete(_),_.removeEventListener("dispose",j)};void 0!==w&&w.texture.dispose();const D=void 0!==_.morphAttributes.position,k=void 0!==_.morphAttributes.normal,P=void 0!==_.morphAttributes.color,N=_.morphAttributes.position||[],F=_.morphAttributes.normal||[],L=_.morphAttributes.color||[];let $=0;!0===D&&($=1),!0===k&&($=2),!0===P&&($=3);let U=_.attributes.position.count*$,z=1;U>l.maxTextureSize&&(z=Math.ceil(U/l.maxTextureSize),U=l.maxTextureSize);const ee=new Float32Array(U*z*4*S),te=new MZ(ee,U,z,S);te.type=Gm,te.needsUpdate=!0;const B=4*$;for(let W=0;W<S;W++){const q=N[W],G=F[W],K=L[W],J=U*z*4*W;for(let ie=0;ie<q.count;ie++){const re=ie*B;!0===D&&(p.fromBufferAttribute(q,ie),!0===q.normalized&&ej(p,q),ee[J+re+0]=p.x,ee[J+re+1]=p.y,ee[J+re+2]=p.z,ee[J+re+3]=0),!0===k&&(p.fromBufferAttribute(G,ie),!0===G.normalized&&ej(p,G),ee[J+re+4]=p.x,ee[J+re+5]=p.y,ee[J+re+6]=p.z,ee[J+re+7]=0),!0===P&&(p.fromBufferAttribute(K,ie),!0===K.normalized&&ej(p,K),ee[J+re+8]=p.x,ee[J+re+9]=p.y,ee[J+re+10]=p.z,ee[J+re+11]=4===K.itemSize?p.w:1)}}w={count:S,texture:te,size:new _t(U,z)},f.set(_,w),_.addEventListener("dispose",j)}let x=0;for(let D=0;D<O.length;D++)x+=O[D];const T=_.morphTargetsRelative?1:1-x;b.getUniforms().setValue(c,"morphTargetBaseInfluence",T),b.getUniforms().setValue(c,"morphTargetInfluences",O),b.getUniforms().setValue(c,"morphTargetsTexture",w.texture,a),b.getUniforms().setValue(c,"morphTargetsTextureSize",w.size)}else{const C=void 0===O?0:O.length;let S=h[_.id];if(void 0===S||S.length!==C){S=[];for(let k=0;k<C;k++)S[k]=[k,0];h[_.id]=S}for(let k=0;k<C;k++){const P=S[k];P[0]=k,P[1]=O[k]}S.sort(P2t);for(let k=0;k<8;k++)k<C&&S[k][1]?(g[k][0]=S[k][0],g[k][1]=S[k][1]):(g[k][0]=Number.MAX_SAFE_INTEGER,g[k][1]=0);g.sort(E2t);const w=_.morphAttributes.position,x=_.morphAttributes.normal;let T=0;for(let k=0;k<8;k++){const P=g[k],N=P[0],F=P[1];N!==Number.MAX_SAFE_INTEGER&&F?(w&&_.getAttribute("morphTarget"+k)!==w[N]&&_.setAttribute("morphTarget"+k,w[N]),x&&_.getAttribute("morphNormal"+k)!==x[N]&&_.setAttribute("morphNormal"+k,x[N]),d[k]=F,T+=F):(w&&!0===_.hasAttribute("morphTarget"+k)&&_.deleteAttribute("morphTarget"+k),x&&!0===_.hasAttribute("morphNormal"+k)&&_.deleteAttribute("morphNormal"+k),d[k]=0)}const D=_.morphTargetsRelative?1:1-T;b.getUniforms().setValue(c,"morphTargetBaseInfluence",D),b.getUniforms().setValue(c,"morphTargetInfluences",d)}}}}function I2t(c,l,a,h){let d=new WeakMap;function g(m){const v=m.target;v.removeEventListener("dispose",g),a.remove(v.instanceMatrix),null!==v.instanceColor&&a.remove(v.instanceColor)}return{update:function f(m){const v=h.render.frame,y=l.get(m,m.geometry);return d.get(y)!==v&&(l.update(y),d.set(y,v)),m.isInstancedMesh&&(!1===m.hasEventListener("dispose",g)&&m.addEventListener("dispose",g),a.update(m.instanceMatrix,34962),null!==m.instanceColor&&a.update(m.instanceColor,34962)),y},dispose:function p(){d=new WeakMap}}}const u2e=new Nf,h2e=new MZ,d2e=new USe,f2e=new z5,p2e=[],g2e=[],m2e=new Float32Array(16),v2e=new Float32Array(9),_2e=new Float32Array(4);function DC(c,l,a){const h=c[0];if(h<=0||h>0)return c;const d=l*a;let f=p2e[d];if(void 0===f&&(f=new Float32Array(d),p2e[d]=f),0!==l){h.toArray(f,0);for(let p=1,g=0;p!==l;++p)g+=a,c[p].toArray(f,g)}return f}function lc(c,l){if(c.length!==l.length)return!1;for(let a=0,h=c.length;a<h;a++)if(c[a]!==l[a])return!1;return!0}function cc(c,l){for(let a=0,h=l.length;a<h;a++)c[a]=l[a]}function H5(c,l){let a=g2e[l];void 0===a&&(a=new Int32Array(l),g2e[l]=a);for(let h=0;h!==l;++h)a[h]=c.allocateTextureUnit();return a}function R2t(c,l){const a=this.cache;a[0]!==l&&(c.uniform1f(this.addr,l),a[0]=l)}function L2t(c,l){const a=this.cache;if(void 0!==l.x)(a[0]!==l.x||a[1]!==l.y)&&(c.uniform2f(this.addr,l.x,l.y),a[0]=l.x,a[1]=l.y);else{if(lc(a,l))return;c.uniform2fv(this.addr,l),cc(a,l)}}function N2t(c,l){const a=this.cache;if(void 0!==l.x)(a[0]!==l.x||a[1]!==l.y||a[2]!==l.z)&&(c.uniform3f(this.addr,l.x,l.y,l.z),a[0]=l.x,a[1]=l.y,a[2]=l.z);else if(void 0!==l.r)(a[0]!==l.r||a[1]!==l.g||a[2]!==l.b)&&(c.uniform3f(this.addr,l.r,l.g,l.b),a[0]=l.r,a[1]=l.g,a[2]=l.b);else{if(lc(a,l))return;c.uniform3fv(this.addr,l),cc(a,l)}}function F2t(c,l){const a=this.cache;if(void 0!==l.x)(a[0]!==l.x||a[1]!==l.y||a[2]!==l.z||a[3]!==l.w)&&(c.uniform4f(this.addr,l.x,l.y,l.z,l.w),a[0]=l.x,a[1]=l.y,a[2]=l.z,a[3]=l.w);else{if(lc(a,l))return;c.uniform4fv(this.addr,l),cc(a,l)}}function B2t(c,l){const a=this.cache,h=l.elements;if(void 0===h){if(lc(a,l))return;c.uniformMatrix2fv(this.addr,!1,l),cc(a,l)}else{if(lc(a,h))return;_2e.set(h),c.uniformMatrix2fv(this.addr,!1,_2e),cc(a,h)}}function V2t(c,l){const a=this.cache,h=l.elements;if(void 0===h){if(lc(a,l))return;c.uniformMatrix3fv(this.addr,!1,l),cc(a,l)}else{if(lc(a,h))return;v2e.set(h),c.uniformMatrix3fv(this.addr,!1,v2e),cc(a,h)}}function $2t(c,l){const a=this.cache,h=l.elements;if(void 0===h){if(lc(a,l))return;c.uniformMatrix4fv(this.addr,!1,l),cc(a,l)}else{if(lc(a,h))return;m2e.set(h),c.uniformMatrix4fv(this.addr,!1,m2e),cc(a,h)}}function z2t(c,l){const a=this.cache;a[0]!==l&&(c.uniform1i(this.addr,l),a[0]=l)}function U2t(c,l){const a=this.cache;lc(a,l)||(c.uniform2iv(this.addr,l),cc(a,l))}function Q2t(c,l){const a=this.cache;lc(a,l)||(c.uniform3iv(this.addr,l),cc(a,l))}function H2t(c,l){const a=this.cache;lc(a,l)||(c.uniform4iv(this.addr,l),cc(a,l))}function W2t(c,l){const a=this.cache;a[0]!==l&&(c.uniform1ui(this.addr,l),a[0]=l)}function Z2t(c,l){const a=this.cache;lc(a,l)||(c.uniform2uiv(this.addr,l),cc(a,l))}function j2t(c,l){const a=this.cache;lc(a,l)||(c.uniform3uiv(this.addr,l),cc(a,l))}function G2t(c,l){const a=this.cache;lc(a,l)||(c.uniform4uiv(this.addr,l),cc(a,l))}function X2t(c,l,a){const h=this.cache,d=a.allocateTextureUnit();h[0]!==d&&(c.uniform1i(this.addr,d),h[0]=d),a.setTexture2D(l||u2e,d)}function Y2t(c,l,a){const h=this.cache,d=a.allocateTextureUnit();h[0]!==d&&(c.uniform1i(this.addr,d),h[0]=d),a.setTexture3D(l||d2e,d)}function q2t(c,l,a){const h=this.cache,d=a.allocateTextureUnit();h[0]!==d&&(c.uniform1i(this.addr,d),h[0]=d),a.setTextureCube(l||f2e,d)}function K2t(c,l,a){const h=this.cache,d=a.allocateTextureUnit();h[0]!==d&&(c.uniform1i(this.addr,d),h[0]=d),a.setTexture2DArray(l||h2e,d)}function ewt(c,l){c.uniform1fv(this.addr,l)}function twt(c,l){const a=DC(l,this.size,2);c.uniform2fv(this.addr,a)}function nwt(c,l){const a=DC(l,this.size,3);c.uniform3fv(this.addr,a)}function iwt(c,l){const a=DC(l,this.size,4);c.uniform4fv(this.addr,a)}function rwt(c,l){const a=DC(l,this.size,4);c.uniformMatrix2fv(this.addr,!1,a)}function swt(c,l){const a=DC(l,this.size,9);c.uniformMatrix3fv(this.addr,!1,a)}function owt(c,l){const a=DC(l,this.size,16);c.uniformMatrix4fv(this.addr,!1,a)}function awt(c,l){c.uniform1iv(this.addr,l)}function lwt(c,l){c.uniform2iv(this.addr,l)}function cwt(c,l){c.uniform3iv(this.addr,l)}function uwt(c,l){c.uniform4iv(this.addr,l)}function hwt(c,l){c.uniform1uiv(this.addr,l)}function dwt(c,l){c.uniform2uiv(this.addr,l)}function fwt(c,l){c.uniform3uiv(this.addr,l)}function pwt(c,l){c.uniform4uiv(this.addr,l)}function gwt(c,l,a){const h=l.length,d=H5(a,h);c.uniform1iv(this.addr,d);for(let f=0;f!==h;++f)a.setTexture2D(l[f]||u2e,d[f])}function mwt(c,l,a){const h=l.length,d=H5(a,h);c.uniform1iv(this.addr,d);for(let f=0;f!==h;++f)a.setTexture3D(l[f]||d2e,d[f])}function vwt(c,l,a){const h=l.length,d=H5(a,h);c.uniform1iv(this.addr,d);for(let f=0;f!==h;++f)a.setTextureCube(l[f]||f2e,d[f])}function _wt(c,l,a){const h=l.length,d=H5(a,h);c.uniform1iv(this.addr,d);for(let f=0;f!==h;++f)a.setTexture2DArray(l[f]||h2e,d[f])}class bwt{constructor(l,a,h){this.id=l,this.addr=h,this.cache=[],this.setValue=function J2t(c){switch(c){case 5126:return R2t;case 35664:return L2t;case 35665:return N2t;case 35666:return F2t;case 35674:return B2t;case 35675:return V2t;case 35676:return $2t;case 5124:case 35670:return z2t;case 35667:case 35671:return U2t;case 35668:case 35672:return Q2t;case 35669:case 35673:return H2t;case 5125:return W2t;case 36294:return Z2t;case 36295:return j2t;case 36296:return G2t;case 35678:case 36198:case 36298:case 36306:case 35682:return X2t;case 35679:case 36299:case 36307:return Y2t;case 35680:case 36300:case 36308:case 36293:return q2t;case 36289:case 36303:case 36311:case 36292:return K2t}}(a.type)}}class Owt{constructor(l,a,h){this.id=l,this.addr=h,this.cache=[],this.size=a.size,this.setValue=function ywt(c){switch(c){case 5126:return ewt;case 35664:return twt;case 35665:return nwt;case 35666:return iwt;case 35674:return rwt;case 35675:return swt;case 35676:return owt;case 5124:case 35670:return awt;case 35667:case 35671:return lwt;case 35668:case 35672:return cwt;case 35669:case 35673:return uwt;case 5125:return hwt;case 36294:return dwt;case 36295:return fwt;case 36296:return pwt;case 35678:case 36198:case 36298:case 36306:case 35682:return gwt;case 35679:case 36299:case 36307:return mwt;case 35680:case 36300:case 36308:case 36293:return vwt;case 36289:case 36303:case 36311:case 36292:return _wt}}(a.type)}}class Cwt{constructor(l){this.id=l,this.seq=[],this.map={}}setValue(l,a,h){const d=this.seq;for(let f=0,p=d.length;f!==p;++f){const g=d[f];g.setValue(l,a[g.id],h)}}}const tj=/(\w+)(\])?(\[|\.)?/g;function y2e(c,l){c.seq.push(l),c.map[l.id]=l}function Swt(c,l,a){const h=c.name,d=h.length;for(tj.lastIndex=0;;){const f=tj.exec(h);let g=f[1];const v=f[3];if("]"===f[2]&&(g|=0),void 0===v||"["===v&&tj.lastIndex+2===d){y2e(a,void 0===v?new bwt(g,c,l):new Owt(g,c,l));break}{let y=a.map[g];void 0===y&&(y=new Cwt(g),y2e(a,y)),a=y}}}class W5{constructor(l,a){this.seq=[],this.map={};const h=l.getProgramParameter(a,35718);for(let d=0;d<h;++d){const f=l.getActiveUniform(a,d);Swt(f,l.getUniformLocation(a,f.name),this)}}setValue(l,a,h,d){const f=this.map[a];void 0!==f&&f.setValue(l,h,d)}setOptional(l,a,h){const d=a[h];void 0!==d&&this.setValue(l,h,d)}static upload(l,a,h,d){for(let f=0,p=a.length;f!==p;++f){const g=a[f],m=h[g.id];!1!==m.needsUpdate&&g.setValue(l,m.value,d)}}static seqWithValue(l,a){const h=[];for(let d=0,f=l.length;d!==f;++d){const p=l[d];p.id in a&&h.push(p)}return h}}function b2e(c,l,a){const h=c.createShader(l);return c.shaderSource(h,a),c.compileShader(h),h}let wwt=0;function O2e(c,l,a){const h=c.getShaderParameter(l,35713),d=c.getShaderInfoLog(l).trim();if(h&&""===d)return"";const f=/ERROR: 0:(\d+)/.exec(d);if(f){const p=parseInt(f[1]);return a.toUpperCase()+"\n\n"+d+"\n\n"+function xwt(c,l){const a=c.split("\n"),h=[],d=Math.max(l-6,0),f=Math.min(l+6,a.length);for(let p=d;p<f;p++){const g=p+1;h.push(`${g===l?">":" "} ${g}: ${a[p]}`)}return h.join("\n")}(c.getShaderSource(l),p)}return d}function kwt(c,l){const a=function Twt(c){switch(c){case Dv:return["Linear","( value )"];case eo:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",c),["Linear","( value )"]}}(l);return"vec4 "+c+"( vec4 value ) { return LinearTo"+a[0]+a[1]+"; }"}function Dwt(c,l){let a;switch(l){case gOt:a="Linear";break;case mOt:a="Reinhard";break;case vOt:a="OptimizedCineon";break;case _Ot:a="ACESFilmic";break;case yOt:a="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",l),a="Linear"}return"vec3 "+c+"( vec3 color ) { return "+a+"ToneMapping( color ); }"}function ik(c){return""!==c}function C2e(c,l){return c.replace(/NUM_DIR_LIGHTS/g,l.numDirLights).replace(/NUM_SPOT_LIGHTS/g,l.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,l.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,l.numPointLights).replace(/NUM_HEMI_LIGHTS/g,l.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,l.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,l.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,l.numPointLightShadows)}function S2e(c,l){return c.replace(/NUM_CLIPPING_PLANES/g,l.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,l.numClippingPlanes-l.numClipIntersection)}const Awt=/^[ \t]*#include +<([\w\d./]+)>/gm;function nj(c){return c.replace(Awt,Iwt)}function Iwt(c,l){const a=Or[l];if(void 0===a)throw new Error("Can not resolve #include <"+l+">");return nj(a)}const Rwt=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Lwt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function w2e(c){return c.replace(Lwt,x2e).replace(Rwt,Nwt)}function Nwt(c,l,a,h){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),x2e(0,l,a,h)}function x2e(c,l,a,h){let d="";for(let f=parseInt(l);f<parseInt(a);f++)d+=h.replace(/\[\s*i\s*\]/g,"[ "+f+" ]").replace(/UNROLLED_LOOP_INDEX/g,f);return d}function T2e(c){let l="precision "+c.precision+" float;\nprecision "+c.precision+" int;";return"highp"===c.precision?l+="\n#define HIGH_PRECISION":"mediump"===c.precision?l+="\n#define MEDIUM_PRECISION":"lowp"===c.precision&&(l+="\n#define LOW_PRECISION"),l}function Uwt(c,l,a,h){const d=c.getContext(),f=a.defines;let p=a.vertexShader,g=a.fragmentShader;const m=function Fwt(c){let l="SHADOWMAP_TYPE_BASIC";return c.shadowMapType===tSe?l="SHADOWMAP_TYPE_PCF":c.shadowMapType===jbt?l="SHADOWMAP_TYPE_PCF_SOFT":c.shadowMapType===jT&&(l="SHADOWMAP_TYPE_VSM"),l}(a),v=function Bwt(c){let l="ENVMAP_TYPE_CUBE";if(c.envMap)switch(c.envMapMode){case wv:case jm:l="ENVMAP_TYPE_CUBE";break;case GT:l="ENVMAP_TYPE_CUBE_UV"}return l}(a),_=function Vwt(c){let l="ENVMAP_MODE_REFLECTION";return c.envMap&&c.envMapMode===jm&&(l="ENVMAP_MODE_REFRACTION"),l}(a),y=function $wt(c){let l="ENVMAP_BLENDING_NONE";if(c.envMap)switch(c.combine){case d5:l="ENVMAP_BLENDING_MULTIPLY";break;case lSe:l="ENVMAP_BLENDING_MIX";break;case pOt:l="ENVMAP_BLENDING_ADD"}return l}(a),b=function zwt(c){const l=c.envMapCubeUVHeight;if(null===l)return null;const a=Math.log2(l)-2,h=1/l;return{texelWidth:1/(3*Math.max(Math.pow(2,a),112)),texelHeight:h,maxMip:a}}(a),O=a.isWebGL2?"":function Mwt(c){return[c.extensionDerivatives||c.envMapCubeUVHeight||c.bumpMap||c.tangentSpaceNormalMap||c.clearcoatNormalMap||c.flatShading||"physical"===c.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(c.extensionFragDepth||c.logarithmicDepthBuffer)&&c.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",c.extensionDrawBuffers&&c.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(c.extensionShaderTextureLOD||c.envMap||c.transmission)&&c.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ik).join("\n")}(a),C=function Ewt(c){const l=[];for(const a in c){const h=c[a];!1!==h&&l.push("#define "+a+" "+h)}return l.join("\n")}(f),S=d.createProgram();let w,x,T=a.glslVersion?"#version "+a.glslVersion+"\n":"";a.isRawShaderMaterial?(w=[C].filter(ik).join("\n"),w.length>0&&(w+="\n"),x=[O,C].filter(ik).join("\n"),x.length>0&&(x+="\n")):(w=[T2e(a),"#define SHADER_NAME "+a.shaderName,C,a.instancing?"#define USE_INSTANCING":"",a.instancingColor?"#define USE_INSTANCING_COLOR":"",a.supportsVertexTextures?"#define VERTEX_TEXTURES":"",a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+_:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",a.specularColorMap?"#define USE_SPECULARCOLORMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.sheenColorMap?"#define USE_SHEENCOLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.morphColors&&a.isWebGL2?"#define USE_MORPHCOLORS":"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+a.morphTextureStride:"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_COUNT "+a.morphTargetsCount:"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+m:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&a.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ik).join("\n"),x=[O,T2e(a),"#define SHADER_NAME "+a.shaderName,C,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+v:"",a.envMap?"#define "+_:"",a.envMap?"#define "+y:"",b?"#define CUBEUV_TEXEL_WIDTH "+b.texelWidth:"",b?"#define CUBEUV_TEXEL_HEIGHT "+b.texelHeight:"",b?"#define CUBEUV_MAX_MIP "+b.maxMip+".0":"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoat?"#define USE_CLEARCOAT":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.iridescence?"#define USE_IRIDESCENCE":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",a.specularColorMap?"#define USE_SPECULARCOLORMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.alphaTest?"#define USE_ALPHATEST":"",a.sheen?"#define USE_SHEEN":"",a.sheenColorMap?"#define USE_SHEENCOLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors||a.instancingColor?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+m:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&a.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",a.toneMapping!==ng?"#define TONE_MAPPING":"",a.toneMapping!==ng?Or.tonemapping_pars_fragment:"",a.toneMapping!==ng?Dwt("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.opaque?"#define OPAQUE":"",Or.encodings_pars_fragment,kwt("linearToOutputTexel",a.outputEncoding),a.useDepthPacking?"#define DEPTH_PACKING "+a.depthPacking:"","\n"].filter(ik).join("\n")),p=nj(p),p=C2e(p,a),p=S2e(p,a),g=nj(g),g=C2e(g,a),g=S2e(g,a),p=w2e(p),g=w2e(g),a.isWebGL2&&!0!==a.isRawShaderMaterial&&(T="#version 300 es\n",w=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+w,x=["#define varying in",a.glslVersion===NSe?"":"layout(location = 0) out highp vec4 pc_fragColor;",a.glslVersion===NSe?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+x);const k=T+x+g,P=b2e(d,35633,T+w+p),N=b2e(d,35632,k);if(d.attachShader(S,P),d.attachShader(S,N),void 0!==a.index0AttributeName?d.bindAttribLocation(S,0,a.index0AttributeName):!0===a.morphTargets&&d.bindAttribLocation(S,0,"position"),d.linkProgram(S),c.debug.checkShaderErrors){const $=d.getProgramInfoLog(S).trim(),U=d.getShaderInfoLog(P).trim(),z=d.getShaderInfoLog(N).trim();let ee=!0,te=!0;if(!1===d.getProgramParameter(S,35714)){ee=!1;const B=O2e(d,P,"vertex"),j=O2e(d,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+d.getError()+" - VALIDATE_STATUS "+d.getProgramParameter(S,35715)+"\n\nProgram Info Log: "+$+"\n"+B+"\n"+j)}else""!==$?console.warn("THREE.WebGLProgram: Program Info Log:",$):(""===U||""===z)&&(te=!1);te&&(this.diagnostics={runnable:ee,programLog:$,vertexShader:{log:U,prefix:w},fragmentShader:{log:z,prefix:x}})}let F,L;return d.deleteShader(P),d.deleteShader(N),this.getUniforms=function(){return void 0===F&&(F=new W5(d,S)),F},this.getAttributes=function(){return void 0===L&&(L=function Pwt(c,l){const a={},h=c.getProgramParameter(l,35721);for(let d=0;d<h;d++){const f=c.getActiveAttrib(l,d),p=f.name;let g=1;35674===f.type&&(g=2),35675===f.type&&(g=3),35676===f.type&&(g=4),a[p]={type:f.type,location:c.getAttribLocation(l,p),locationSize:g}}return a}(d,S)),L},this.destroy=function(){h.releaseStatesOfProgram(this),d.deleteProgram(S),this.program=void 0},this.name=a.shaderName,this.id=wwt++,this.cacheKey=l,this.usedTimes=1,this.program=S,this.vertexShader=P,this.fragmentShader=N,this}let Qwt=0;class Hwt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(l){const h=l.fragmentShader,d=this._getShaderStage(l.vertexShader),f=this._getShaderStage(h),p=this._getShaderCacheForMaterial(l);return!1===p.has(d)&&(p.add(d),d.usedTimes++),!1===p.has(f)&&(p.add(f),f.usedTimes++),this}remove(l){const a=this.materialCache.get(l);for(const h of a)h.usedTimes--,0===h.usedTimes&&this.shaderCache.delete(h.code);return this.materialCache.delete(l),this}getVertexShaderID(l){return this._getShaderStage(l.vertexShader).id}getFragmentShaderID(l){return this._getShaderStage(l.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(l){const a=this.materialCache;return!1===a.has(l)&&a.set(l,new Set),a.get(l)}_getShaderStage(l){const a=this.shaderCache;if(!1===a.has(l)){const h=new Wwt(l);a.set(l,h)}return a.get(l)}}class Wwt{constructor(l){this.id=Qwt++,this.code=l,this.usedTimes=0}}function Zwt(c,l,a,h,d,f,p){const g=new FZ,m=new Hwt,v=[],_=d.isWebGL2,y=d.logarithmicDepthBuffer,b=d.vertexTextures;let O=d.precision;const C={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function S(L,$,U,z,ee){const te=z.fog,B=ee.geometry,W=(L.isMeshStandardMaterial?a:l).get(L.envMap||(L.isMeshStandardMaterial?z.environment:null)),q=W&&W.mapping===GT?W.image.height:null,G=C[L.type];null!==L.precision&&(O=d.getMaxPrecision(L.precision),O!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",O,"instead."));const K=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,J=void 0!==K?K.length:0;let re,he,de,ke,ie=0;if(void 0!==B.morphAttributes.position&&(ie=1),void 0!==B.morphAttributes.normal&&(ie=2),void 0!==B.morphAttributes.color&&(ie=3),G){const nt=Bf[G];re=nt.vertexShader,he=nt.fragmentShader}else re=L.vertexShader,he=L.fragmentShader,m.update(L),de=m.getVertexShaderID(L),ke=m.getFragmentShaderID(L);const xe=c.getRenderTarget(),Ze=L.clearcoat>0,Ne=L.iridescence>0;return{isWebGL2:_,shaderID:G,shaderName:L.type,vertexShader:re,fragmentShader:he,defines:L.defines,customVertexShaderID:de,customFragmentShaderID:ke,isRawShaderMaterial:!0===L.isRawShaderMaterial,glslVersion:L.glslVersion,precision:O,instancing:!0===ee.isInstancedMesh,instancingColor:!0===ee.isInstancedMesh&&null!==ee.instanceColor,supportsVertexTextures:b,outputEncoding:null===xe?c.outputEncoding:!0===xe.isXRRenderTarget?xe.texture.encoding:Dv,map:!!L.map,matcap:!!L.matcap,envMap:!!W,envMapMode:W&&W.mapping,envMapCubeUVHeight:q,lightMap:!!L.lightMap,aoMap:!!L.aoMap,emissiveMap:!!L.emissiveMap,bumpMap:!!L.bumpMap,normalMap:!!L.normalMap,objectSpaceNormalMap:L.normalMapType===FOt,tangentSpaceNormalMap:L.normalMapType===oC,decodeVideoTexture:!!L.map&&!0===L.map.isVideoTexture&&L.map.encoding===eo,clearcoat:Ze,clearcoatMap:Ze&&!!L.clearcoatMap,clearcoatRoughnessMap:Ze&&!!L.clearcoatRoughnessMap,clearcoatNormalMap:Ze&&!!L.clearcoatNormalMap,iridescence:Ne,iridescenceMap:Ne&&!!L.iridescenceMap,iridescenceThicknessMap:Ne&&!!L.iridescenceThicknessMap,displacementMap:!!L.displacementMap,roughnessMap:!!L.roughnessMap,metalnessMap:!!L.metalnessMap,specularMap:!!L.specularMap,specularIntensityMap:!!L.specularIntensityMap,specularColorMap:!!L.specularColorMap,opaque:!1===L.transparent&&L.blending===KO,alphaMap:!!L.alphaMap,alphaTest:L.alphaTest>0,gradientMap:!!L.gradientMap,sheen:L.sheen>0,sheenColorMap:!!L.sheenColorMap,sheenRoughnessMap:!!L.sheenRoughnessMap,transmission:L.transmission>0,transmissionMap:!!L.transmissionMap,thicknessMap:!!L.thicknessMap,combine:L.combine,vertexTangents:!!L.normalMap&&!!B.attributes.tangent,vertexColors:L.vertexColors,vertexAlphas:!0===L.vertexColors&&!!B.attributes.color&&4===B.attributes.color.itemSize,vertexUvs:!!(L.map||L.bumpMap||L.normalMap||L.specularMap||L.alphaMap||L.emissiveMap||L.roughnessMap||L.metalnessMap||L.clearcoatMap||L.clearcoatRoughnessMap||L.clearcoatNormalMap||L.iridescenceMap||L.iridescenceThicknessMap||L.displacementMap||L.transmissionMap||L.thicknessMap||L.specularIntensityMap||L.specularColorMap||L.sheenColorMap||L.sheenRoughnessMap),uvsVertexOnly:!(L.map||L.bumpMap||L.normalMap||L.specularMap||L.alphaMap||L.emissiveMap||L.roughnessMap||L.metalnessMap||L.clearcoatNormalMap||L.iridescenceMap||L.iridescenceThicknessMap||L.transmission>0||L.transmissionMap||L.thicknessMap||L.specularIntensityMap||L.specularColorMap||L.sheen>0||L.sheenColorMap||L.sheenRoughnessMap||!L.displacementMap),fog:!!te,useFog:!0===L.fog,fogExp2:te&&te.isFogExp2,flatShading:!!L.flatShading,sizeAttenuation:L.sizeAttenuation,logarithmicDepthBuffer:y,skinning:!0===ee.isSkinnedMesh,morphTargets:void 0!==B.morphAttributes.position,morphNormals:void 0!==B.morphAttributes.normal,morphColors:void 0!==B.morphAttributes.color,morphTargetsCount:J,morphTextureStride:ie,numDirLights:$.directional.length,numPointLights:$.point.length,numSpotLights:$.spot.length,numRectAreaLights:$.rectArea.length,numHemiLights:$.hemi.length,numDirLightShadows:$.directionalShadowMap.length,numPointLightShadows:$.pointShadowMap.length,numSpotLightShadows:$.spotShadowMap.length,numClippingPlanes:p.numPlanes,numClipIntersection:p.numIntersection,dithering:L.dithering,shadowMapEnabled:c.shadowMap.enabled&&U.length>0,shadowMapType:c.shadowMap.type,toneMapping:L.toneMapped?c.toneMapping:ng,physicallyCorrectLights:c.physicallyCorrectLights,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===Zm,flipSided:L.side===Tu,useDepthPacking:!!L.depthPacking,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionDerivatives:L.extensions&&L.extensions.derivatives,extensionFragDepth:L.extensions&&L.extensions.fragDepth,extensionDrawBuffers:L.extensions&&L.extensions.drawBuffers,extensionShaderTextureLOD:L.extensions&&L.extensions.shaderTextureLOD,rendererExtensionFragDepth:_||h.has("EXT_frag_depth"),rendererExtensionDrawBuffers:_||h.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:_||h.has("EXT_shader_texture_lod"),customProgramCacheKey:L.customProgramCacheKey()}},getProgramCacheKey:function w(L){const $=[];if(L.shaderID?$.push(L.shaderID):($.push(L.customVertexShaderID),$.push(L.customFragmentShaderID)),void 0!==L.defines)for(const U in L.defines)$.push(U),$.push(L.defines[U]);return!1===L.isRawShaderMaterial&&(function x(L,$){L.push($.precision),L.push($.outputEncoding),L.push($.envMapMode),L.push($.envMapCubeUVHeight),L.push($.combine),L.push($.vertexUvs),L.push($.fogExp2),L.push($.sizeAttenuation),L.push($.morphTargetsCount),L.push($.morphAttributeCount),L.push($.numDirLights),L.push($.numPointLights),L.push($.numSpotLights),L.push($.numHemiLights),L.push($.numRectAreaLights),L.push($.numDirLightShadows),L.push($.numPointLightShadows),L.push($.numSpotLightShadows),L.push($.shadowMapType),L.push($.toneMapping),L.push($.numClippingPlanes),L.push($.numClipIntersection),L.push($.depthPacking)}($,L),function T(L,$){g.disableAll(),$.isWebGL2&&g.enable(0),$.supportsVertexTextures&&g.enable(1),$.instancing&&g.enable(2),$.instancingColor&&g.enable(3),$.map&&g.enable(4),$.matcap&&g.enable(5),$.envMap&&g.enable(6),$.lightMap&&g.enable(7),$.aoMap&&g.enable(8),$.emissiveMap&&g.enable(9),$.bumpMap&&g.enable(10),$.normalMap&&g.enable(11),$.objectSpaceNormalMap&&g.enable(12),$.tangentSpaceNormalMap&&g.enable(13),$.clearcoat&&g.enable(14),$.clearcoatMap&&g.enable(15),$.clearcoatRoughnessMap&&g.enable(16),$.clearcoatNormalMap&&g.enable(17),$.iridescence&&g.enable(18),$.iridescenceMap&&g.enable(19),$.iridescenceThicknessMap&&g.enable(20),$.displacementMap&&g.enable(21),$.specularMap&&g.enable(22),$.roughnessMap&&g.enable(23),$.metalnessMap&&g.enable(24),$.gradientMap&&g.enable(25),$.alphaMap&&g.enable(26),$.alphaTest&&g.enable(27),$.vertexColors&&g.enable(28),$.vertexAlphas&&g.enable(29),$.vertexUvs&&g.enable(30),$.vertexTangents&&g.enable(31),$.uvsVertexOnly&&g.enable(32),$.fog&&g.enable(33),L.push(g.mask),g.disableAll(),$.useFog&&g.enable(0),$.flatShading&&g.enable(1),$.logarithmicDepthBuffer&&g.enable(2),$.skinning&&g.enable(3),$.morphTargets&&g.enable(4),$.morphNormals&&g.enable(5),$.morphColors&&g.enable(6),$.premultipliedAlpha&&g.enable(7),$.shadowMapEnabled&&g.enable(8),$.physicallyCorrectLights&&g.enable(9),$.doubleSided&&g.enable(10),$.flipSided&&g.enable(11),$.useDepthPacking&&g.enable(12),$.dithering&&g.enable(13),$.specularIntensityMap&&g.enable(14),$.specularColorMap&&g.enable(15),$.transmission&&g.enable(16),$.transmissionMap&&g.enable(17),$.thicknessMap&&g.enable(18),$.sheen&&g.enable(19),$.sheenColorMap&&g.enable(20),$.sheenRoughnessMap&&g.enable(21),$.decodeVideoTexture&&g.enable(22),$.opaque&&g.enable(23),L.push(g.mask)}($,L),$.push(c.outputEncoding)),$.push(L.customProgramCacheKey),$.join()},getUniforms:function D(L){const $=C[L.type];let U;return U=$?$5.clone(Bf[$].uniforms):L.uniforms,U},acquireProgram:function k(L,$){let U;for(let z=0,ee=v.length;z<ee;z++){const te=v[z];if(te.cacheKey===$){U=te,++U.usedTimes;break}}return void 0===U&&(U=new Uwt(c,$,L,f),v.push(U)),U},releaseProgram:function P(L){if(0==--L.usedTimes){const $=v.indexOf(L);v[$]=v[v.length-1],v.pop(),L.destroy()}},releaseShaderCache:function N(L){m.remove(L)},programs:v,dispose:function F(){m.dispose()}}}function jwt(){let c=new WeakMap;return{get:function l(f){let p=c.get(f);return void 0===p&&(p={},c.set(f,p)),p},remove:function a(f){c.delete(f)},update:function h(f,p,g){c.get(f)[p]=g},dispose:function d(){c=new WeakMap}}}function Gwt(c,l){return c.groupOrder!==l.groupOrder?c.groupOrder-l.groupOrder:c.renderOrder!==l.renderOrder?c.renderOrder-l.renderOrder:c.material.id!==l.material.id?c.material.id-l.material.id:c.z!==l.z?c.z-l.z:c.id-l.id}function k2e(c,l){return c.groupOrder!==l.groupOrder?c.groupOrder-l.groupOrder:c.renderOrder!==l.renderOrder?c.renderOrder-l.renderOrder:c.z!==l.z?l.z-c.z:c.id-l.id}function D2e(){const c=[];let l=0;const a=[],h=[],d=[];function p(y,b,O,C,S,w){let x=c[l];return void 0===x?(x={id:y.id,object:y,geometry:b,material:O,groupOrder:C,renderOrder:y.renderOrder,z:S,group:w},c[l]=x):(x.id=y.id,x.object=y,x.geometry=b,x.material=O,x.groupOrder=C,x.renderOrder=y.renderOrder,x.z=S,x.group=w),l++,x}return{opaque:a,transmissive:h,transparent:d,init:function f(){l=0,a.length=0,h.length=0,d.length=0},push:function g(y,b,O,C,S,w){const x=p(y,b,O,C,S,w);O.transmission>0?h.push(x):!0===O.transparent?d.push(x):a.push(x)},unshift:function m(y,b,O,C,S,w){const x=p(y,b,O,C,S,w);O.transmission>0?h.unshift(x):!0===O.transparent?d.unshift(x):a.unshift(x)},finish:function _(){for(let y=l,b=c.length;y<b;y++){const O=c[y];if(null===O.id)break;O.id=null,O.object=null,O.geometry=null,O.material=null,O.group=null}},sort:function v(y,b){a.length>1&&a.sort(y||Gwt),h.length>1&&h.sort(b||k2e),d.length>1&&d.sort(b||k2e)}}}function Xwt(){let c=new WeakMap;return{get:function l(h,d){let f;return!1===c.has(h)?(f=new D2e,c.set(h,[f])):d>=c.get(h).length?(f=new D2e,c.get(h).push(f)):f=c.get(h)[d],f},dispose:function a(){c=new WeakMap}}}function Ywt(){const c={};return{get:function(l){if(void 0!==c[l.id])return c[l.id];let a;switch(l.type){case"DirectionalLight":a={direction:new ae,color:new Cn};break;case"SpotLight":a={position:new ae,direction:new ae,color:new Cn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":a={position:new ae,color:new Cn,distance:0,decay:0};break;case"HemisphereLight":a={direction:new ae,skyColor:new Cn,groundColor:new Cn};break;case"RectAreaLight":a={color:new Cn,position:new ae,halfWidth:new ae,halfHeight:new ae}}return c[l.id]=a,a}}}let Kwt=0;function Jwt(c,l){return(l.castShadow?1:0)-(c.castShadow?1:0)}function ext(c,l){const a=new Ywt,h=function qwt(){const c={};return{get:function(l){if(void 0!==c[l.id])return c[l.id];let a;switch(l.type){case"DirectionalLight":case"SpotLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _t};break;case"PointLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _t,shadowCameraNear:1,shadowCameraFar:1e3}}return c[l.id]=a,a}}}(),d={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let _=0;_<9;_++)d.probe.push(new ae);const f=new ae,p=new Vi,g=new Vi;return{setup:function m(_,y){let b=0,O=0,C=0;for(let $=0;$<9;$++)d.probe[$].set(0,0,0);let S=0,w=0,x=0,T=0,D=0,k=0,P=0,N=0;_.sort(Jwt);const F=!0!==y?Math.PI:1;for(let $=0,U=_.length;$<U;$++){const z=_[$],ee=z.color,te=z.intensity,B=z.distance,j=z.shadow&&z.shadow.map?z.shadow.map.texture:null;if(z.isAmbientLight)b+=ee.r*te*F,O+=ee.g*te*F,C+=ee.b*te*F;else if(z.isLightProbe)for(let W=0;W<9;W++)d.probe[W].addScaledVector(z.sh.coefficients[W],te);else if(z.isDirectionalLight){const W=a.get(z);if(W.color.copy(z.color).multiplyScalar(z.intensity*F),z.castShadow){const q=z.shadow,G=h.get(z);G.shadowBias=q.bias,G.shadowNormalBias=q.normalBias,G.shadowRadius=q.radius,G.shadowMapSize=q.mapSize,d.directionalShadow[S]=G,d.directionalShadowMap[S]=j,d.directionalShadowMatrix[S]=z.shadow.matrix,k++}d.directional[S]=W,S++}else if(z.isSpotLight){const W=a.get(z);if(W.position.setFromMatrixPosition(z.matrixWorld),W.color.copy(ee).multiplyScalar(te*F),W.distance=B,W.coneCos=Math.cos(z.angle),W.penumbraCos=Math.cos(z.angle*(1-z.penumbra)),W.decay=z.decay,z.castShadow){const q=z.shadow,G=h.get(z);G.shadowBias=q.bias,G.shadowNormalBias=q.normalBias,G.shadowRadius=q.radius,G.shadowMapSize=q.mapSize,d.spotShadow[x]=G,d.spotShadowMap[x]=j,d.spotShadowMatrix[x]=z.shadow.matrix,N++}d.spot[x]=W,x++}else if(z.isRectAreaLight){const W=a.get(z);W.color.copy(ee).multiplyScalar(te),W.halfWidth.set(.5*z.width,0,0),W.halfHeight.set(0,.5*z.height,0),d.rectArea[T]=W,T++}else if(z.isPointLight){const W=a.get(z);if(W.color.copy(z.color).multiplyScalar(z.intensity*F),W.distance=z.distance,W.decay=z.decay,z.castShadow){const q=z.shadow,G=h.get(z);G.shadowBias=q.bias,G.shadowNormalBias=q.normalBias,G.shadowRadius=q.radius,G.shadowMapSize=q.mapSize,G.shadowCameraNear=q.camera.near,G.shadowCameraFar=q.camera.far,d.pointShadow[w]=G,d.pointShadowMap[w]=j,d.pointShadowMatrix[w]=z.shadow.matrix,P++}d.point[w]=W,w++}else if(z.isHemisphereLight){const W=a.get(z);W.skyColor.copy(z.color).multiplyScalar(te*F),W.groundColor.copy(z.groundColor).multiplyScalar(te*F),d.hemi[D]=W,D++}}T>0&&(l.isWebGL2||!0===c.has("OES_texture_float_linear")?(d.rectAreaLTC1=On.LTC_FLOAT_1,d.rectAreaLTC2=On.LTC_FLOAT_2):!0===c.has("OES_texture_half_float_linear")?(d.rectAreaLTC1=On.LTC_HALF_1,d.rectAreaLTC2=On.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),d.ambient[0]=b,d.ambient[1]=O,d.ambient[2]=C;const L=d.hash;(L.directionalLength!==S||L.pointLength!==w||L.spotLength!==x||L.rectAreaLength!==T||L.hemiLength!==D||L.numDirectionalShadows!==k||L.numPointShadows!==P||L.numSpotShadows!==N)&&(d.directional.length=S,d.spot.length=x,d.rectArea.length=T,d.point.length=w,d.hemi.length=D,d.directionalShadow.length=k,d.directionalShadowMap.length=k,d.pointShadow.length=P,d.pointShadowMap.length=P,d.spotShadow.length=N,d.spotShadowMap.length=N,d.directionalShadowMatrix.length=k,d.pointShadowMatrix.length=P,d.spotShadowMatrix.length=N,L.directionalLength=S,L.pointLength=w,L.spotLength=x,L.rectAreaLength=T,L.hemiLength=D,L.numDirectionalShadows=k,L.numPointShadows=P,L.numSpotShadows=N,d.version=Kwt++)},setupView:function v(_,y){let b=0,O=0,C=0,S=0,w=0;const x=y.matrixWorldInverse;for(let T=0,D=_.length;T<D;T++){const k=_[T];if(k.isDirectionalLight){const P=d.directional[b];P.direction.setFromMatrixPosition(k.matrixWorld),f.setFromMatrixPosition(k.target.matrixWorld),P.direction.sub(f),P.direction.transformDirection(x),b++}else if(k.isSpotLight){const P=d.spot[C];P.position.setFromMatrixPosition(k.matrixWorld),P.position.applyMatrix4(x),P.direction.setFromMatrixPosition(k.matrixWorld),f.setFromMatrixPosition(k.target.matrixWorld),P.direction.sub(f),P.direction.transformDirection(x),C++}else if(k.isRectAreaLight){const P=d.rectArea[S];P.position.setFromMatrixPosition(k.matrixWorld),P.position.applyMatrix4(x),g.identity(),p.copy(k.matrixWorld),p.premultiply(x),g.extractRotation(p),P.halfWidth.set(.5*k.width,0,0),P.halfHeight.set(0,.5*k.height,0),P.halfWidth.applyMatrix4(g),P.halfHeight.applyMatrix4(g),S++}else if(k.isPointLight){const P=d.point[O];P.position.setFromMatrixPosition(k.matrixWorld),P.position.applyMatrix4(x),O++}else if(k.isHemisphereLight){const P=d.hemi[w];P.direction.setFromMatrixPosition(k.matrixWorld),P.direction.transformDirection(x),w++}}},state:d}}function M2e(c,l){const a=new ext(c,l),h=[],d=[];return{init:function f(){h.length=0,d.length=0},state:{lightsArray:h,shadowsArray:d,lights:a},setupLights:function m(y){a.setup(h,y)},setupLightsView:function v(y){a.setupView(h,y)},pushLight:function p(y){h.push(y)},pushShadow:function g(y){d.push(y)}}}function txt(c,l){let a=new WeakMap;return{get:function h(f,p=0){let g;return!1===a.has(f)?(g=new M2e(c,l),a.set(f,[g])):p>=a.get(f).length?(g=new M2e(c,l),a.get(f).push(g)):g=a.get(f)[p],g},dispose:function d(){a=new WeakMap}}}class ij extends Jm{constructor(l){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(l)}copy(l){return super.copy(l),this.depthPacking=l.depthPacking,this.map=l.map,this.alphaMap=l.alphaMap,this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this}}class E2e extends Jm{constructor(l){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new ae,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(l)}copy(l){return super.copy(l),this.referencePosition.copy(l.referencePosition),this.nearDistance=l.nearDistance,this.farDistance=l.farDistance,this.map=l.map,this.alphaMap=l.alphaMap,this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this}}const nxt="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",ixt="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function rxt(c,l,a){let h=new YZ;const d=new _t,f=new _t,p=new Dr,g=new ij({depthPacking:LSe}),m=new E2e,v={},_=a.maxTextureSize,y={0:Tu,1:qO,2:Zm},b=new Tl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new _t},radius:{value:4}},vertexShader:nxt,fragmentShader:ixt}),O=b.clone();O.defines.HORIZONTAL_PASS=1;const C=new Ji;C.setAttribute("position",new to(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new br(C,b),w=this;function x(k,P){const N=l.update(S);b.defines.VSM_SAMPLES!==k.blurSamples&&(b.defines.VSM_SAMPLES=k.blurSamples,O.defines.VSM_SAMPLES=k.blurSamples,b.needsUpdate=!0,O.needsUpdate=!0),null===k.mapPass&&(k.mapPass=new oc(d.x,d.y)),b.uniforms.shadow_pass.value=k.map.texture,b.uniforms.resolution.value=k.mapSize,b.uniforms.radius.value=k.radius,c.setRenderTarget(k.mapPass),c.clear(),c.renderBufferDirect(P,null,N,b,S,null),O.uniforms.shadow_pass.value=k.mapPass.texture,O.uniforms.resolution.value=k.mapSize,O.uniforms.radius.value=k.radius,c.setRenderTarget(k.map),c.clear(),c.renderBufferDirect(P,null,N,O,S,null)}function T(k,P,N,F,L,$){let U=null;const z=!0===N.isPointLight?k.customDistanceMaterial:k.customDepthMaterial;if(U=void 0!==z?z:!0===N.isPointLight?m:g,c.localClippingEnabled&&!0===P.clipShadows&&Array.isArray(P.clippingPlanes)&&0!==P.clippingPlanes.length||P.displacementMap&&0!==P.displacementScale||P.alphaMap&&P.alphaTest>0){const ee=U.uuid,te=P.uuid;let B=v[ee];void 0===B&&(B={},v[ee]=B);let j=B[te];void 0===j&&(j=U.clone(),B[te]=j),U=j}return U.visible=P.visible,U.wireframe=P.wireframe,U.side=$===jT?null!==P.shadowSide?P.shadowSide:P.side:null!==P.shadowSide?P.shadowSide:y[P.side],U.alphaMap=P.alphaMap,U.alphaTest=P.alphaTest,U.clipShadows=P.clipShadows,U.clippingPlanes=P.clippingPlanes,U.clipIntersection=P.clipIntersection,U.displacementMap=P.displacementMap,U.displacementScale=P.displacementScale,U.displacementBias=P.displacementBias,U.wireframeLinewidth=P.wireframeLinewidth,U.linewidth=P.linewidth,!0===N.isPointLight&&!0===U.isMeshDistanceMaterial&&(U.referencePosition.setFromMatrixPosition(N.matrixWorld),U.nearDistance=F,U.farDistance=L),U}function D(k,P,N,F,L){if(!1===k.visible)return;if(k.layers.test(P.layers)&&(k.isMesh||k.isLine||k.isPoints)&&(k.castShadow||k.receiveShadow&&L===jT)&&(!k.frustumCulled||h.intersectsObject(k))){k.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,k.matrixWorld);const z=l.update(k),ee=k.material;if(Array.isArray(ee)){const te=z.groups;for(let B=0,j=te.length;B<j;B++){const W=te[B],q=ee[W.materialIndex];if(q&&q.visible){const G=T(k,q,F,N.near,N.far,L);c.renderBufferDirect(N,null,z,G,k,W)}}}else if(ee.visible){const te=T(k,ee,F,N.near,N.far,L);c.renderBufferDirect(N,null,z,te,k,null)}}const U=k.children;for(let z=0,ee=U.length;z<ee;z++)D(U[z],P,N,F,L)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=tSe,this.render=function(k,P,N){if(!1===w.enabled||!1===w.autoUpdate&&!1===w.needsUpdate||0===k.length)return;const F=c.getRenderTarget(),L=c.getActiveCubeFace(),$=c.getActiveMipmapLevel(),U=c.state;U.setBlending(Lf),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);for(let z=0,ee=k.length;z<ee;z++){const te=k[z],B=te.shadow;if(void 0===B){console.warn("THREE.WebGLShadowMap:",te,"has no shadow.");continue}if(!1===B.autoUpdate&&!1===B.needsUpdate)continue;d.copy(B.mapSize);const j=B.getFrameExtents();d.multiply(j),f.copy(B.mapSize),(d.x>_||d.y>_)&&(d.x>_&&(f.x=Math.floor(_/j.x),d.x=f.x*j.x,B.mapSize.x=f.x),d.y>_&&(f.y=Math.floor(_/j.y),d.y=f.y*j.y,B.mapSize.y=f.y)),null===B.map&&(B.map=new oc(d.x,d.y,this.type!==jT?{minFilter:da,magFilter:da}:{}),B.map.texture.name=te.name+".shadowMap",B.camera.updateProjectionMatrix()),c.setRenderTarget(B.map),c.clear();const W=B.getViewportCount();for(let q=0;q<W;q++){const G=B.getViewport(q);p.set(f.x*G.x,f.y*G.y,f.x*G.z,f.y*G.w),U.viewport(p),B.updateMatrices(te,q),h=B.getFrustum(),D(P,N,B.camera,te,this.type)}!0!==B.isPointLightShadow&&this.type===jT&&x(B,N),B.needsUpdate=!1}w.needsUpdate=!1,c.setRenderTarget(F,L,$)}}function sxt(c,l,a){const h=a.isWebGL2,g=new function d(){let Be=!1;const pn=new Dr;let fn=null;const Si=new Dr(0,0,0,0);return{setMask:function(Mn){fn!==Mn&&!Be&&(c.colorMask(Mn,Mn,Mn,Mn),fn=Mn)},setLocked:function(Mn){Be=Mn},setClear:function(Mn,ui,gn,Hi,os){!0===os&&(Mn*=Hi,ui*=Hi,gn*=Hi),pn.set(Mn,ui,gn,Hi),!1===Si.equals(pn)&&(c.clearColor(Mn,ui,gn,Hi),Si.copy(pn))},reset:function(){Be=!1,fn=null,Si.set(-1,0,0,0)}}},m=new function f(){let Be=!1,pn=null,fn=null,Si=null;return{setTest:function(Mn){Mn?ke(2929):xe(2929)},setMask:function(Mn){pn!==Mn&&!Be&&(c.depthMask(Mn),pn=Mn)},setFunc:function(Mn){if(fn!==Mn){if(Mn)switch(Mn){case aOt:c.depthFunc(512);break;case lOt:c.depthFunc(519);break;case cOt:c.depthFunc(513);break;case hZ:c.depthFunc(515);break;case uOt:c.depthFunc(514);break;case hOt:c.depthFunc(518);break;case dOt:c.depthFunc(516);break;case fOt:c.depthFunc(517);break;default:c.depthFunc(515)}else c.depthFunc(515);fn=Mn}},setLocked:function(Mn){Be=Mn},setClear:function(Mn){Si!==Mn&&(c.clearDepth(Mn),Si=Mn)},reset:function(){Be=!1,pn=null,fn=null,Si=null}}},v=new function p(){let Be=!1,pn=null,fn=null,Si=null,Mn=null,ui=null,gn=null,Hi=null,os=null;return{setTest:function(as){Be||(as?ke(2960):xe(2960))},setMask:function(as){pn!==as&&!Be&&(c.stencilMask(as),pn=as)},setFunc:function(as,pc,Xf){(fn!==as||Si!==pc||Mn!==Xf)&&(c.stencilFunc(as,pc,Xf),fn=as,Si=pc,Mn=Xf)},setOp:function(as,pc,Xf){(ui!==as||gn!==pc||Hi!==Xf)&&(c.stencilOp(as,pc,Xf),ui=as,gn=pc,Hi=Xf)},setLocked:function(as){Be=as},setClear:function(as){os!==as&&(c.clearStencil(as),os=as)},reset:function(){Be=!1,pn=null,fn=null,Si=null,Mn=null,ui=null,gn=null,Hi=null,os=null}}};let _={},y={},b=new WeakMap,O=[],C=null,S=!1,w=null,x=null,T=null,D=null,k=null,P=null,N=null,F=!1,L=null,$=null,U=null,z=null,ee=null;const te=c.getParameter(35661);let B=!1,j=0;const W=c.getParameter(7938);-1!==W.indexOf("WebGL")?(j=parseFloat(/^WebGL (\d)/.exec(W)[1]),B=j>=1):-1!==W.indexOf("OpenGL ES")&&(j=parseFloat(/^OpenGL ES (\d)/.exec(W)[1]),B=j>=2);let q=null,G={};const K=c.getParameter(3088),J=c.getParameter(2978),ie=(new Dr).fromArray(K),re=(new Dr).fromArray(J);function he(Be,pn,fn){const Si=new Uint8Array(4),Mn=c.createTexture();c.bindTexture(Be,Mn),c.texParameteri(Be,10241,9728),c.texParameteri(Be,10240,9728);for(let ui=0;ui<fn;ui++)c.texImage2D(pn+ui,0,6408,1,1,0,6408,5121,Si);return Mn}const de={};function ke(Be){!0!==_[Be]&&(c.enable(Be),_[Be]=!0)}function xe(Be){!1!==_[Be]&&(c.disable(Be),_[Be]=!1)}de[3553]=he(3553,3553,1),de[34067]=he(34067,34069,6),g.setClear(0,0,0,1),m.setClear(1),v.setClear(0),ke(2929),m.setFunc(hZ),it(!1),pt(eSe),ke(2884),_e(Lf);const Ve={[JO]:32774,[Ybt]:32778,[qbt]:32779};if(h)Ve[rSe]=32775,Ve[sSe]=32776;else{const Be=l.get("EXT_blend_minmax");null!==Be&&(Ve[rSe]=Be.MIN_EXT,Ve[sSe]=Be.MAX_EXT)}const nt={[Kbt]:0,[Jbt]:1,[eOt]:768,[oSe]:770,[oOt]:776,[rOt]:774,[nOt]:772,[tOt]:769,[aSe]:771,[sOt]:775,[iOt]:773};function _e(Be,pn,fn,Si,Mn,ui,gn,Hi){if(Be!==Lf){if(!1===S&&(ke(3042),S=!0),Be===Xbt)Mn=Mn||pn,ui=ui||fn,gn=gn||Si,(pn!==x||Mn!==k)&&(c.blendEquationSeparate(Ve[pn],Ve[Mn]),x=pn,k=Mn),(fn!==T||Si!==D||ui!==P||gn!==N)&&(c.blendFuncSeparate(nt[fn],nt[Si],nt[ui],nt[gn]),T=fn,D=Si,P=ui,N=gn),w=Be,F=null;else if(Be!==w||Hi!==F){if((x!==JO||k!==JO)&&(c.blendEquation(32774),x=JO,k=JO),Hi)switch(Be){case KO:c.blendFuncSeparate(1,771,1,771);break;case uZ:c.blendFunc(1,1);break;case nSe:c.blendFuncSeparate(0,769,0,1);break;case iSe:c.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Be)}else switch(Be){case KO:c.blendFuncSeparate(770,771,1,771);break;case uZ:c.blendFunc(770,1);break;case nSe:c.blendFuncSeparate(0,769,0,1);break;case iSe:c.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Be)}T=null,D=null,P=null,N=null,w=Be,F=Hi}}else!0===S&&(xe(3042),S=!1)}function it(Be){L!==Be&&(c.frontFace(Be?2304:2305),L=Be)}function pt(Be){Be!==Wbt?(ke(2884),Be!==$&&c.cullFace(Be===eSe?1029:Be===Zbt?1028:1032)):xe(2884),$=Be}function Re(Be,pn,fn){Be?(ke(32823),(z!==pn||ee!==fn)&&(c.polygonOffset(pn,fn),z=pn,ee=fn)):xe(32823)}function nn(Be){void 0===Be&&(Be=33984+te-1),q!==Be&&(c.activeTexture(Be),q=Be)}return{buffers:{color:g,depth:m,stencil:v},enable:ke,disable:xe,bindFramebuffer:function Ie(Be,pn){return y[Be]!==pn&&(c.bindFramebuffer(Be,pn),y[Be]=pn,h&&(36009===Be&&(y[36160]=pn),36160===Be&&(y[36009]=pn)),!0)},drawBuffers:function Ze(Be,pn){let fn=O,Si=!1;if(Be)if(fn=b.get(pn),void 0===fn&&(fn=[],b.set(pn,fn)),Be.isWebGLMultipleRenderTargets){const Mn=Be.texture;if(fn.length!==Mn.length||36064!==fn[0]){for(let ui=0,gn=Mn.length;ui<gn;ui++)fn[ui]=36064+ui;fn.length=Mn.length,Si=!0}}else 36064!==fn[0]&&(fn[0]=36064,Si=!0);else 1029!==fn[0]&&(fn[0]=1029,Si=!0);Si&&(a.isWebGL2?c.drawBuffers(fn):l.get("WEBGL_draw_buffers").drawBuffersWEBGL(fn))},useProgram:function Ne(Be){return C!==Be&&(c.useProgram(Be),C=Be,!0)},setBlending:_e,setMaterial:function $e(Be,pn){Be.side===Zm?xe(2884):ke(2884);let fn=Be.side===Tu;pn&&(fn=!fn),it(fn),Be.blending===KO&&!1===Be.transparent?_e(Lf):_e(Be.blending,Be.blendEquation,Be.blendSrc,Be.blendDst,Be.blendEquationAlpha,Be.blendSrcAlpha,Be.blendDstAlpha,Be.premultipliedAlpha),m.setFunc(Be.depthFunc),m.setTest(Be.depthTest),m.setMask(Be.depthWrite),g.setMask(Be.colorWrite);const Si=Be.stencilWrite;v.setTest(Si),Si&&(v.setMask(Be.stencilWriteMask),v.setFunc(Be.stencilFunc,Be.stencilRef,Be.stencilFuncMask),v.setOp(Be.stencilFail,Be.stencilZFail,Be.stencilZPass)),Re(Be.polygonOffset,Be.polygonOffsetFactor,Be.polygonOffsetUnits),!0===Be.alphaToCoverage?ke(32926):xe(32926)},setFlipSided:it,setCullFace:pt,setLineWidth:function rt(Be){Be!==U&&(B&&c.lineWidth(Be),U=Be)},setPolygonOffset:Re,setScissorTest:function ot(Be){Be?ke(3089):xe(3089)},activeTexture:nn,bindTexture:function An(Be,pn){null===q&&nn();let fn=G[q];void 0===fn&&(fn={type:void 0,texture:void 0},G[q]=fn),(fn.type!==Be||fn.texture!==pn)&&(c.bindTexture(Be,pn||de[Be]),fn.type=Be,fn.texture=pn)},unbindTexture:function ri(){const Be=G[q];void 0!==Be&&void 0!==Be.type&&(c.bindTexture(Be.type,null),Be.type=void 0,Be.texture=void 0)},compressedTexImage2D:function Oe(){try{c.compressedTexImage2D.apply(c,arguments)}catch(Be){console.error("THREE.WebGLState:",Be)}},texImage2D:function Xt(){try{c.texImage2D.apply(c,arguments)}catch(Be){console.error("THREE.WebGLState:",Be)}},texImage3D:function fe(){try{c.texImage3D.apply(c,arguments)}catch(Be){console.error("THREE.WebGLState:",Be)}},texStorage2D:function on(){try{c.texStorage2D.apply(c,arguments)}catch(Be){console.error("THREE.WebGLState:",Be)}},texStorage3D:function jt(){try{c.texStorage3D.apply(c,arguments)}catch(Be){console.error("THREE.WebGLState:",Be)}},texSubImage2D:function ge(){try{c.texSubImage2D.apply(c,arguments)}catch(Be){console.error("THREE.WebGLState:",Be)}},texSubImage3D:function vt(){try{c.texSubImage3D.apply(c,arguments)}catch(Be){console.error("THREE.WebGLState:",Be)}},compressedTexSubImage2D:function Et(){try{c.compressedTexSubImage2D.apply(c,arguments)}catch(Be){console.error("THREE.WebGLState:",Be)}},scissor:function xt(Be){!1===ie.equals(Be)&&(c.scissor(Be.x,Be.y,Be.z,Be.w),ie.copy(Be))},viewport:function Gt(Be){!1===re.equals(Be)&&(c.viewport(Be.x,Be.y,Be.z,Be.w),re.copy(Be))},reset:function dn(){c.disable(3042),c.disable(2884),c.disable(2929),c.disable(32823),c.disable(3089),c.disable(2960),c.disable(32926),c.blendEquation(32774),c.blendFunc(1,0),c.blendFuncSeparate(1,0,1,0),c.colorMask(!0,!0,!0,!0),c.clearColor(0,0,0,0),c.depthMask(!0),c.depthFunc(513),c.clearDepth(1),c.stencilMask(4294967295),c.stencilFunc(519,0,4294967295),c.stencilOp(7680,7680,7680),c.clearStencil(0),c.cullFace(1029),c.frontFace(2305),c.polygonOffset(0,0),c.activeTexture(33984),c.bindFramebuffer(36160,null),!0===h&&(c.bindFramebuffer(36009,null),c.bindFramebuffer(36008,null)),c.useProgram(null),c.lineWidth(1),c.scissor(0,0,c.canvas.width,c.canvas.height),c.viewport(0,0,c.canvas.width,c.canvas.height),_={},q=null,G={},y={},b=new WeakMap,O=[],C=null,S=!1,w=null,x=null,T=null,D=null,k=null,P=null,N=null,F=!1,L=null,$=null,U=null,z=null,ee=null,ie.set(0,0,c.canvas.width,c.canvas.height),re.set(0,0,c.canvas.width,c.canvas.height),g.reset(),m.reset(),v.reset()}}}function oxt(c,l,a,h,d,f,p){const g=d.isWebGL2,m=d.maxTextures,v=d.maxCubemapSize,_=d.maxTextureSize,y=d.maxSamples,b=l.has("WEBGL_multisampled_render_to_texture")?l.get("WEBGL_multisampled_render_to_texture"):null,O=/OculusBrowser/g.test(navigator.userAgent),C=new WeakMap;let S;const w=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function T(Oe,ge){return x?new OffscreenCanvas(Oe,ge):KT("canvas")}function D(Oe,ge,vt,Et){let on=1;if((Oe.width>Et||Oe.height>Et)&&(on=Et/Math.max(Oe.width,Oe.height)),on<1||!0===ge){if(typeof HTMLImageElement<"u"&&Oe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Oe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Oe instanceof ImageBitmap){const jt=ge?y5:Math.floor,Xt=jt(on*Oe.width),fe=jt(on*Oe.height);void 0===S&&(S=T(Xt,fe));const xt=vt?T(Xt,fe):S;return xt.width=Xt,xt.height=fe,xt.getContext("2d").drawImage(Oe,0,0,Xt,fe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Oe.width+"x"+Oe.height+") to ("+Xt+"x"+fe+")."),xt}return"data"in Oe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Oe.width+"x"+Oe.height+")."),Oe}return Oe}function k(Oe){return xZ(Oe.width)&&xZ(Oe.height)}function N(Oe,ge){return Oe.generateMipmaps&&ge&&Oe.minFilter!==da&&Oe.minFilter!==zo}function F(Oe){c.generateMipmap(Oe)}function L(Oe,ge,vt,Et,on=!1){if(!1===g)return ge;if(null!==Oe){if(void 0!==c[Oe])return c[Oe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Oe+"'")}let jt=ge;return 6403===ge&&(5126===vt&&(jt=33326),5131===vt&&(jt=33325),5121===vt&&(jt=33321)),33319===ge&&(5126===vt&&(jt=33328),5131===vt&&(jt=33327),5121===vt&&(jt=33323)),6408===ge&&(5126===vt&&(jt=34836),5131===vt&&(jt=34842),5121===vt&&(jt=Et===eo&&!1===on?35907:32856),32819===vt&&(jt=32854),32820===vt&&(jt=32855)),(33325===jt||33326===jt||33327===jt||33328===jt||34842===jt||34836===jt)&&l.get("EXT_color_buffer_float"),jt}function $(Oe,ge,vt){return!0===N(Oe,vt)||Oe.isFramebufferTexture&&Oe.minFilter!==da&&Oe.minFilter!==zo?Math.log2(Math.max(ge.width,ge.height))+1:void 0!==Oe.mipmaps&&Oe.mipmaps.length>0?Oe.mipmaps.length:Oe.isCompressedTexture&&Array.isArray(Oe.image)?ge.mipmaps.length:1}function U(Oe){return Oe===da||Oe===fZ||Oe===pZ?9728:9729}function z(Oe){const ge=Oe.target;ge.removeEventListener("dispose",z),function te(Oe){const ge=h.get(Oe);if(void 0===ge.__webglInit)return;const vt=Oe.source,Et=w.get(vt);if(Et){const on=Et[ge.__cacheKey];on.usedTimes--,0===on.usedTimes&&B(Oe),0===Object.keys(Et).length&&w.delete(vt)}h.remove(Oe)}(ge),ge.isVideoTexture&&C.delete(ge)}function ee(Oe){const ge=Oe.target;ge.removeEventListener("dispose",ee),function j(Oe){const ge=Oe.texture,vt=h.get(Oe),Et=h.get(ge);if(void 0!==Et.__webglTexture&&(c.deleteTexture(Et.__webglTexture),p.memory.textures--),Oe.depthTexture&&Oe.depthTexture.dispose(),Oe.isWebGLCubeRenderTarget)for(let on=0;on<6;on++)c.deleteFramebuffer(vt.__webglFramebuffer[on]),vt.__webglDepthbuffer&&c.deleteRenderbuffer(vt.__webglDepthbuffer[on]);else{if(c.deleteFramebuffer(vt.__webglFramebuffer),vt.__webglDepthbuffer&&c.deleteRenderbuffer(vt.__webglDepthbuffer),vt.__webglMultisampledFramebuffer&&c.deleteFramebuffer(vt.__webglMultisampledFramebuffer),vt.__webglColorRenderbuffer)for(let on=0;on<vt.__webglColorRenderbuffer.length;on++)vt.__webglColorRenderbuffer[on]&&c.deleteRenderbuffer(vt.__webglColorRenderbuffer[on]);vt.__webglDepthRenderbuffer&&c.deleteRenderbuffer(vt.__webglDepthRenderbuffer)}if(Oe.isWebGLMultipleRenderTargets)for(let on=0,jt=ge.length;on<jt;on++){const Xt=h.get(ge[on]);Xt.__webglTexture&&(c.deleteTexture(Xt.__webglTexture),p.memory.textures--),h.remove(ge[on])}h.remove(ge),h.remove(Oe)}(ge)}function B(Oe){const ge=h.get(Oe);c.deleteTexture(ge.__webglTexture),delete w.get(Oe.source)[ge.__cacheKey],p.memory.textures--}let W=0;function J(Oe,ge){const vt=h.get(Oe);if(Oe.isVideoTexture&&function An(Oe){const ge=p.render.frame;C.get(Oe)!==ge&&(C.set(Oe,ge),Oe.update())}(Oe),!1===Oe.isRenderTargetTexture&&Oe.version>0&&vt.__version!==Oe.version){const Et=Oe.image;if(null===Et)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Et.complete)return void Ze(vt,Oe,ge);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}a.activeTexture(33984+ge),a.bindTexture(3553,vt.__webglTexture)}const de={[eC]:10497,[Wc]:33071,[g5]:33648},ke={[da]:9728,[fZ]:9984,[pZ]:9986,[zo]:9729,[cSe]:9985,[tC]:9987};function xe(Oe,ge,vt){if(vt?(c.texParameteri(Oe,10242,de[ge.wrapS]),c.texParameteri(Oe,10243,de[ge.wrapT]),(32879===Oe||35866===Oe)&&c.texParameteri(Oe,32882,de[ge.wrapR]),c.texParameteri(Oe,10240,ke[ge.magFilter]),c.texParameteri(Oe,10241,ke[ge.minFilter])):(c.texParameteri(Oe,10242,33071),c.texParameteri(Oe,10243,33071),(32879===Oe||35866===Oe)&&c.texParameteri(Oe,32882,33071),(ge.wrapS!==Wc||ge.wrapT!==Wc)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),c.texParameteri(Oe,10240,U(ge.magFilter)),c.texParameteri(Oe,10241,U(ge.minFilter)),ge.minFilter!==da&&ge.minFilter!==zo&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===l.has("EXT_texture_filter_anisotropic")){const Et=l.get("EXT_texture_filter_anisotropic");if(ge.type===Gm&&!1===l.has("OES_texture_float_linear")||!1===g&&ge.type===XT&&!1===l.has("OES_texture_half_float_linear"))return;(ge.anisotropy>1||h.get(ge).__currentAnisotropy)&&(c.texParameterf(Oe,Et.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ge.anisotropy,d.getMaxAnisotropy())),h.get(ge).__currentAnisotropy=ge.anisotropy)}}function Ie(Oe,ge){let vt=!1;void 0===Oe.__webglInit&&(Oe.__webglInit=!0,ge.addEventListener("dispose",z));const Et=ge.source;let on=w.get(Et);void 0===on&&(on={},w.set(Et,on));const jt=function K(Oe){const ge=[];return ge.push(Oe.wrapS),ge.push(Oe.wrapT),ge.push(Oe.magFilter),ge.push(Oe.minFilter),ge.push(Oe.anisotropy),ge.push(Oe.internalFormat),ge.push(Oe.format),ge.push(Oe.type),ge.push(Oe.generateMipmaps),ge.push(Oe.premultiplyAlpha),ge.push(Oe.flipY),ge.push(Oe.unpackAlignment),ge.push(Oe.encoding),ge.join()}(ge);if(jt!==Oe.__cacheKey){void 0===on[jt]&&(on[jt]={texture:c.createTexture(),usedTimes:0},p.memory.textures++,vt=!0),on[jt].usedTimes++;const Xt=on[Oe.__cacheKey];void 0!==Xt&&(on[Oe.__cacheKey].usedTimes--,0===Xt.usedTimes&&B(ge)),Oe.__cacheKey=jt,Oe.__webglTexture=on[jt].texture}return vt}function Ze(Oe,ge,vt){let Et=3553;ge.isDataArrayTexture&&(Et=35866),ge.isData3DTexture&&(Et=32879);const on=Ie(Oe,ge),jt=ge.source;if(a.activeTexture(33984+vt),a.bindTexture(Et,Oe.__webglTexture),jt.version!==jt.__currentVersion||!0===on){c.pixelStorei(37440,ge.flipY),c.pixelStorei(37441,ge.premultiplyAlpha),c.pixelStorei(3317,ge.unpackAlignment),c.pixelStorei(37443,0);const Xt=function P(Oe){return!g&&(Oe.wrapS!==Wc||Oe.wrapT!==Wc||Oe.minFilter!==da&&Oe.minFilter!==zo)}(ge)&&!1===k(ge.image);let fe=D(ge.image,Xt,!1,_);fe=ri(ge,fe);const xt=k(fe)||g,Gt=f.convert(ge.format,ge.encoding);let pn,dn=f.convert(ge.type),Be=L(ge.internalFormat,Gt,dn,ge.encoding,ge.isVideoTexture);xe(Et,ge,xt);const fn=ge.mipmaps,Si=g&&!0!==ge.isVideoTexture,Mn=void 0===jt.__currentVersion||!0===on,ui=$(ge,fe,xt);if(ge.isDepthTexture)Be=6402,g?Be=ge.type===Gm?36012:ge.type===Tv?33190:ge.type===nC?35056:33189:ge.type===Gm&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ge.format===kv&&6402===Be&&ge.type!==uSe&&ge.type!==Tv&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ge.type=Tv,dn=f.convert(ge.type)),ge.format===iC&&6402===Be&&(Be=34041,ge.type!==nC&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ge.type=nC,dn=f.convert(ge.type))),Mn&&(Si?a.texStorage2D(3553,1,Be,fe.width,fe.height):a.texImage2D(3553,0,Be,fe.width,fe.height,0,Gt,dn,null));else if(ge.isDataTexture)if(fn.length>0&&xt){Si&&Mn&&a.texStorage2D(3553,ui,Be,fn[0].width,fn[0].height);for(let gn=0,Hi=fn.length;gn<Hi;gn++)pn=fn[gn],Si?a.texSubImage2D(3553,gn,0,0,pn.width,pn.height,Gt,dn,pn.data):a.texImage2D(3553,gn,Be,pn.width,pn.height,0,Gt,dn,pn.data);ge.generateMipmaps=!1}else Si?(Mn&&a.texStorage2D(3553,ui,Be,fe.width,fe.height),a.texSubImage2D(3553,0,0,0,fe.width,fe.height,Gt,dn,fe.data)):a.texImage2D(3553,0,Be,fe.width,fe.height,0,Gt,dn,fe.data);else if(ge.isCompressedTexture){Si&&Mn&&a.texStorage2D(3553,ui,Be,fn[0].width,fn[0].height);for(let gn=0,Hi=fn.length;gn<Hi;gn++)pn=fn[gn],ge.format!==fd?null!==Gt?Si?a.compressedTexSubImage2D(3553,gn,0,0,pn.width,pn.height,Gt,pn.data):a.compressedTexImage2D(3553,gn,Be,pn.width,pn.height,0,pn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Si?a.texSubImage2D(3553,gn,0,0,pn.width,pn.height,Gt,dn,pn.data):a.texImage2D(3553,gn,Be,pn.width,pn.height,0,Gt,dn,pn.data)}else if(ge.isDataArrayTexture)Si?(Mn&&a.texStorage3D(35866,ui,Be,fe.width,fe.height,fe.depth),a.texSubImage3D(35866,0,0,0,0,fe.width,fe.height,fe.depth,Gt,dn,fe.data)):a.texImage3D(35866,0,Be,fe.width,fe.height,fe.depth,0,Gt,dn,fe.data);else if(ge.isData3DTexture)Si?(Mn&&a.texStorage3D(32879,ui,Be,fe.width,fe.height,fe.depth),a.texSubImage3D(32879,0,0,0,0,fe.width,fe.height,fe.depth,Gt,dn,fe.data)):a.texImage3D(32879,0,Be,fe.width,fe.height,fe.depth,0,Gt,dn,fe.data);else if(ge.isFramebufferTexture){if(Mn)if(Si)a.texStorage2D(3553,ui,Be,fe.width,fe.height);else{let gn=fe.width,Hi=fe.height;for(let os=0;os<ui;os++)a.texImage2D(3553,os,Be,gn,Hi,0,Gt,dn,null),gn>>=1,Hi>>=1}}else if(fn.length>0&&xt){Si&&Mn&&a.texStorage2D(3553,ui,Be,fn[0].width,fn[0].height);for(let gn=0,Hi=fn.length;gn<Hi;gn++)pn=fn[gn],Si?a.texSubImage2D(3553,gn,0,0,Gt,dn,pn):a.texImage2D(3553,gn,Be,Gt,dn,pn);ge.generateMipmaps=!1}else Si?(Mn&&a.texStorage2D(3553,ui,Be,fe.width,fe.height),a.texSubImage2D(3553,0,0,0,Gt,dn,fe)):a.texImage2D(3553,0,Be,Gt,dn,fe);N(ge,xt)&&F(Et),jt.__currentVersion=jt.version,ge.onUpdate&&ge.onUpdate(ge)}Oe.__version=ge.version}function Ve(Oe,ge,vt,Et,on){const jt=f.convert(vt.format,vt.encoding),Xt=f.convert(vt.type),fe=L(vt.internalFormat,jt,Xt,vt.encoding);h.get(ge).__hasExternalTextures||(32879===on||35866===on?a.texImage3D(on,0,fe,ge.width,ge.height,ge.depth,0,jt,Xt,null):a.texImage2D(on,0,fe,ge.width,ge.height,0,jt,Xt,null)),a.bindFramebuffer(36160,Oe),nn(ge)?b.framebufferTexture2DMultisampleEXT(36160,Et,on,h.get(vt).__webglTexture,0,ot(ge)):c.framebufferTexture2D(36160,Et,on,h.get(vt).__webglTexture,0),a.bindFramebuffer(36160,null)}function nt(Oe,ge,vt){if(c.bindRenderbuffer(36161,Oe),ge.depthBuffer&&!ge.stencilBuffer){let Et=33189;if(vt||nn(ge)){const on=ge.depthTexture;on&&on.isDepthTexture&&(on.type===Gm?Et=36012:on.type===Tv&&(Et=33190));const jt=ot(ge);nn(ge)?b.renderbufferStorageMultisampleEXT(36161,jt,Et,ge.width,ge.height):c.renderbufferStorageMultisample(36161,jt,Et,ge.width,ge.height)}else c.renderbufferStorage(36161,Et,ge.width,ge.height);c.framebufferRenderbuffer(36160,36096,36161,Oe)}else if(ge.depthBuffer&&ge.stencilBuffer){const Et=ot(ge);vt&&!1===nn(ge)?c.renderbufferStorageMultisample(36161,Et,35056,ge.width,ge.height):nn(ge)?b.renderbufferStorageMultisampleEXT(36161,Et,35056,ge.width,ge.height):c.renderbufferStorage(36161,34041,ge.width,ge.height),c.framebufferRenderbuffer(36160,33306,36161,Oe)}else{const Et=!0===ge.isWebGLMultipleRenderTargets?ge.texture:[ge.texture];for(let on=0;on<Et.length;on++){const jt=Et[on],Xt=f.convert(jt.format,jt.encoding),fe=f.convert(jt.type),xt=L(jt.internalFormat,Xt,fe,jt.encoding),Gt=ot(ge);vt&&!1===nn(ge)?c.renderbufferStorageMultisample(36161,Gt,xt,ge.width,ge.height):nn(ge)?b.renderbufferStorageMultisampleEXT(36161,Gt,xt,ge.width,ge.height):c.renderbufferStorage(36161,xt,ge.width,ge.height)}}c.bindRenderbuffer(36161,null)}function $e(Oe){const ge=h.get(Oe),vt=!0===Oe.isWebGLCubeRenderTarget;if(Oe.depthTexture&&!ge.__autoAllocateDepthBuffer){if(vt)throw new Error("target.depthTexture not supported in Cube render targets");!function _e(Oe,ge){if(ge&&ge.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(a.bindFramebuffer(36160,Oe),!ge.depthTexture||!ge.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!h.get(ge.depthTexture).__webglTexture||ge.depthTexture.image.width!==ge.width||ge.depthTexture.image.height!==ge.height)&&(ge.depthTexture.image.width=ge.width,ge.depthTexture.image.height=ge.height,ge.depthTexture.needsUpdate=!0),J(ge.depthTexture,0);const Et=h.get(ge.depthTexture).__webglTexture,on=ot(ge);if(ge.depthTexture.format===kv)nn(ge)?b.framebufferTexture2DMultisampleEXT(36160,36096,3553,Et,0,on):c.framebufferTexture2D(36160,36096,3553,Et,0);else{if(ge.depthTexture.format!==iC)throw new Error("Unknown depthTexture format");nn(ge)?b.framebufferTexture2DMultisampleEXT(36160,33306,3553,Et,0,on):c.framebufferTexture2D(36160,33306,3553,Et,0)}}(ge.__webglFramebuffer,Oe)}else if(vt){ge.__webglDepthbuffer=[];for(let Et=0;Et<6;Et++)a.bindFramebuffer(36160,ge.__webglFramebuffer[Et]),ge.__webglDepthbuffer[Et]=c.createRenderbuffer(),nt(ge.__webglDepthbuffer[Et],Oe,!1)}else a.bindFramebuffer(36160,ge.__webglFramebuffer),ge.__webglDepthbuffer=c.createRenderbuffer(),nt(ge.__webglDepthbuffer,Oe,!1);a.bindFramebuffer(36160,null)}function ot(Oe){return Math.min(y,Oe.samples)}function nn(Oe){const ge=h.get(Oe);return g&&Oe.samples>0&&!0===l.has("WEBGL_multisampled_render_to_texture")&&!1!==ge.__useRenderToTexture}function ri(Oe,ge){const vt=Oe.encoding,Et=Oe.format,on=Oe.type;return!0===Oe.isCompressedTexture||!0===Oe.isVideoTexture||Oe.format===SZ||vt!==Dv&&(vt===eo?!1===g?!0===l.has("EXT_sRGB")&&Et===fd?(Oe.format=SZ,Oe.minFilter=zo,Oe.generateMipmaps=!1):ge=zSe.sRGBToLinear(ge):(Et!==fd||on!==xv)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",vt)),ge}this.allocateTextureUnit=function G(){const Oe=W;return Oe>=m&&console.warn("THREE.WebGLTextures: Trying to use "+Oe+" texture units while this GPU supports only "+m),W+=1,Oe},this.resetTextureUnits=function q(){W=0},this.setTexture2D=J,this.setTexture2DArray=function ie(Oe,ge){const vt=h.get(Oe);Oe.version>0&&vt.__version!==Oe.version?Ze(vt,Oe,ge):(a.activeTexture(33984+ge),a.bindTexture(35866,vt.__webglTexture))},this.setTexture3D=function re(Oe,ge){const vt=h.get(Oe);Oe.version>0&&vt.__version!==Oe.version?Ze(vt,Oe,ge):(a.activeTexture(33984+ge),a.bindTexture(32879,vt.__webglTexture))},this.setTextureCube=function he(Oe,ge){const vt=h.get(Oe);Oe.version>0&&vt.__version!==Oe.version?function Ne(Oe,ge,vt){if(6!==ge.image.length)return;const Et=Ie(Oe,ge),on=ge.source;if(a.activeTexture(33984+vt),a.bindTexture(34067,Oe.__webglTexture),on.version!==on.__currentVersion||!0===Et){c.pixelStorei(37440,ge.flipY),c.pixelStorei(37441,ge.premultiplyAlpha),c.pixelStorei(3317,ge.unpackAlignment),c.pixelStorei(37443,0);const jt=ge.isCompressedTexture||ge.image[0].isCompressedTexture,Xt=ge.image[0]&&ge.image[0].isDataTexture,fe=[];for(let gn=0;gn<6;gn++)fe[gn]=jt||Xt?Xt?ge.image[gn].image:ge.image[gn]:D(ge.image[gn],!1,!0,v),fe[gn]=ri(ge,fe[gn]);const xt=fe[0],Gt=k(xt)||g,dn=f.convert(ge.format,ge.encoding),Be=f.convert(ge.type),pn=L(ge.internalFormat,dn,Be,ge.encoding),fn=g&&!0!==ge.isVideoTexture,Si=void 0===on.__currentVersion||!0===Et;let ui,Mn=$(ge,xt,Gt);if(xe(34067,ge,Gt),jt){fn&&Si&&a.texStorage2D(34067,Mn,pn,xt.width,xt.height);for(let gn=0;gn<6;gn++){ui=fe[gn].mipmaps;for(let Hi=0;Hi<ui.length;Hi++){const os=ui[Hi];ge.format!==fd?null!==dn?fn?a.compressedTexSubImage2D(34069+gn,Hi,0,0,os.width,os.height,dn,os.data):a.compressedTexImage2D(34069+gn,Hi,pn,os.width,os.height,0,os.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):fn?a.texSubImage2D(34069+gn,Hi,0,0,os.width,os.height,dn,Be,os.data):a.texImage2D(34069+gn,Hi,pn,os.width,os.height,0,dn,Be,os.data)}}}else{ui=ge.mipmaps,fn&&Si&&(ui.length>0&&Mn++,a.texStorage2D(34067,Mn,pn,fe[0].width,fe[0].height));for(let gn=0;gn<6;gn++)if(Xt){fn?a.texSubImage2D(34069+gn,0,0,0,fe[gn].width,fe[gn].height,dn,Be,fe[gn].data):a.texImage2D(34069+gn,0,pn,fe[gn].width,fe[gn].height,0,dn,Be,fe[gn].data);for(let Hi=0;Hi<ui.length;Hi++){const as=ui[Hi].image[gn].image;fn?a.texSubImage2D(34069+gn,Hi+1,0,0,as.width,as.height,dn,Be,as.data):a.texImage2D(34069+gn,Hi+1,pn,as.width,as.height,0,dn,Be,as.data)}}else{fn?a.texSubImage2D(34069+gn,0,0,0,dn,Be,fe[gn]):a.texImage2D(34069+gn,0,pn,dn,Be,fe[gn]);for(let Hi=0;Hi<ui.length;Hi++){const os=ui[Hi];fn?a.texSubImage2D(34069+gn,Hi+1,0,0,dn,Be,os.image[gn]):a.texImage2D(34069+gn,Hi+1,pn,dn,Be,os.image[gn])}}}N(ge,Gt)&&F(34067),on.__currentVersion=on.version,ge.onUpdate&&ge.onUpdate(ge)}Oe.__version=ge.version}(vt,Oe,ge):(a.activeTexture(33984+ge),a.bindTexture(34067,vt.__webglTexture))},this.rebindTextures=function it(Oe,ge,vt){const Et=h.get(Oe);void 0!==ge&&Ve(Et.__webglFramebuffer,Oe,Oe.texture,36064,3553),void 0!==vt&&$e(Oe)},this.setupRenderTarget=function pt(Oe){const ge=Oe.texture,vt=h.get(Oe),Et=h.get(ge);Oe.addEventListener("dispose",ee),!0!==Oe.isWebGLMultipleRenderTargets&&(void 0===Et.__webglTexture&&(Et.__webglTexture=c.createTexture()),Et.__version=ge.version,p.memory.textures++);const on=!0===Oe.isWebGLCubeRenderTarget,jt=!0===Oe.isWebGLMultipleRenderTargets,Xt=k(Oe)||g;if(on){vt.__webglFramebuffer=[];for(let fe=0;fe<6;fe++)vt.__webglFramebuffer[fe]=c.createFramebuffer()}else{if(vt.__webglFramebuffer=c.createFramebuffer(),jt)if(d.drawBuffers){const fe=Oe.texture;for(let xt=0,Gt=fe.length;xt<Gt;xt++){const dn=h.get(fe[xt]);void 0===dn.__webglTexture&&(dn.__webglTexture=c.createTexture(),p.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(g&&Oe.samples>0&&!1===nn(Oe)){const fe=jt?ge:[ge];vt.__webglMultisampledFramebuffer=c.createFramebuffer(),vt.__webglColorRenderbuffer=[],a.bindFramebuffer(36160,vt.__webglMultisampledFramebuffer);for(let xt=0;xt<fe.length;xt++){const Gt=fe[xt];vt.__webglColorRenderbuffer[xt]=c.createRenderbuffer(),c.bindRenderbuffer(36161,vt.__webglColorRenderbuffer[xt]);const dn=f.convert(Gt.format,Gt.encoding),Be=f.convert(Gt.type),pn=L(Gt.internalFormat,dn,Be,Gt.encoding),fn=ot(Oe);c.renderbufferStorageMultisample(36161,fn,pn,Oe.width,Oe.height),c.framebufferRenderbuffer(36160,36064+xt,36161,vt.__webglColorRenderbuffer[xt])}c.bindRenderbuffer(36161,null),Oe.depthBuffer&&(vt.__webglDepthRenderbuffer=c.createRenderbuffer(),nt(vt.__webglDepthRenderbuffer,Oe,!0)),a.bindFramebuffer(36160,null)}}if(on){a.bindTexture(34067,Et.__webglTexture),xe(34067,ge,Xt);for(let fe=0;fe<6;fe++)Ve(vt.__webglFramebuffer[fe],Oe,ge,36064,34069+fe);N(ge,Xt)&&F(34067),a.unbindTexture()}else if(jt){const fe=Oe.texture;for(let xt=0,Gt=fe.length;xt<Gt;xt++){const dn=fe[xt],Be=h.get(dn);a.bindTexture(3553,Be.__webglTexture),xe(3553,dn,Xt),Ve(vt.__webglFramebuffer,Oe,dn,36064+xt,3553),N(dn,Xt)&&F(3553)}a.unbindTexture()}else{let fe=3553;(Oe.isWebGL3DRenderTarget||Oe.isWebGLArrayRenderTarget)&&(g?fe=Oe.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),a.bindTexture(fe,Et.__webglTexture),xe(fe,ge,Xt),Ve(vt.__webglFramebuffer,Oe,ge,36064,fe),N(ge,Xt)&&F(fe),a.unbindTexture()}Oe.depthBuffer&&$e(Oe)},this.updateRenderTargetMipmap=function rt(Oe){const ge=k(Oe)||g,vt=!0===Oe.isWebGLMultipleRenderTargets?Oe.texture:[Oe.texture];for(let Et=0,on=vt.length;Et<on;Et++){const jt=vt[Et];if(N(jt,ge)){const Xt=Oe.isWebGLCubeRenderTarget?34067:3553,fe=h.get(jt).__webglTexture;a.bindTexture(Xt,fe),F(Xt),a.unbindTexture()}}},this.updateMultisampleRenderTarget=function Re(Oe){if(g&&Oe.samples>0&&!1===nn(Oe)){const ge=Oe.isWebGLMultipleRenderTargets?Oe.texture:[Oe.texture],vt=Oe.width,Et=Oe.height;let on=16384;const jt=[],Xt=Oe.stencilBuffer?33306:36096,fe=h.get(Oe),xt=!0===Oe.isWebGLMultipleRenderTargets;if(xt)for(let Gt=0;Gt<ge.length;Gt++)a.bindFramebuffer(36160,fe.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(36160,36064+Gt,36161,null),a.bindFramebuffer(36160,fe.__webglFramebuffer),c.framebufferTexture2D(36009,36064+Gt,3553,null,0);a.bindFramebuffer(36008,fe.__webglMultisampledFramebuffer),a.bindFramebuffer(36009,fe.__webglFramebuffer);for(let Gt=0;Gt<ge.length;Gt++){jt.push(36064+Gt),Oe.depthBuffer&&jt.push(Xt);const dn=void 0!==fe.__ignoreDepthValues&&fe.__ignoreDepthValues;if(!1===dn&&(Oe.depthBuffer&&(on|=256),Oe.stencilBuffer&&(on|=1024)),xt&&c.framebufferRenderbuffer(36008,36064,36161,fe.__webglColorRenderbuffer[Gt]),!0===dn&&(c.invalidateFramebuffer(36008,[Xt]),c.invalidateFramebuffer(36009,[Xt])),xt){const Be=h.get(ge[Gt]).__webglTexture;c.framebufferTexture2D(36009,36064,3553,Be,0)}c.blitFramebuffer(0,0,vt,Et,0,0,vt,Et,on,9728),O&&c.invalidateFramebuffer(36008,jt)}if(a.bindFramebuffer(36008,null),a.bindFramebuffer(36009,null),xt)for(let Gt=0;Gt<ge.length;Gt++){a.bindFramebuffer(36160,fe.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(36160,36064+Gt,36161,fe.__webglColorRenderbuffer[Gt]);const dn=h.get(ge[Gt]).__webglTexture;a.bindFramebuffer(36160,fe.__webglFramebuffer),c.framebufferTexture2D(36009,36064+Gt,3553,dn,0)}a.bindFramebuffer(36009,fe.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=$e,this.setupFrameBufferTexture=Ve,this.useMultisampledRTT=nn}function axt(c,l,a){const h=a.isWebGL2;return{convert:function d(f,p=null){let g;if(f===xv)return 5121;if(f===SOt)return 32819;if(f===wOt)return 32820;if(f===bOt)return 5120;if(f===OOt)return 5122;if(f===uSe)return 5123;if(f===COt)return 5124;if(f===Tv)return 5125;if(f===Gm)return 5126;if(f===XT)return h?5131:(g=l.get("OES_texture_half_float"),null!==g?g.HALF_FLOAT_OES:null);if(f===xOt)return 6406;if(f===fd)return 6408;if(f===hSe)return 6409;if(f===kOt)return 6410;if(f===kv)return 6402;if(f===iC)return 34041;if(f===dSe)return 6403;if(f===TOt)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(f===SZ)return g=l.get("EXT_sRGB"),null!==g?g.SRGB_ALPHA_EXT:null;if(f===DOt)return 36244;if(f===MOt)return 33319;if(f===EOt)return 33320;if(f===POt)return 36249;if(f===gZ||f===mZ||f===vZ||f===_Z)if(p===eo){if(g=l.get("WEBGL_compressed_texture_s3tc_srgb"),null===g)return null;if(f===gZ)return g.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(f===mZ)return g.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(f===vZ)return g.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(f===_Z)return g.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(g=l.get("WEBGL_compressed_texture_s3tc"),null===g)return null;if(f===gZ)return g.COMPRESSED_RGB_S3TC_DXT1_EXT;if(f===mZ)return g.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(f===vZ)return g.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(f===_Z)return g.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(f===fSe||f===pSe||f===gSe||f===mSe){if(g=l.get("WEBGL_compressed_texture_pvrtc"),null===g)return null;if(f===fSe)return g.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(f===pSe)return g.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(f===gSe)return g.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(f===mSe)return g.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(f===AOt)return g=l.get("WEBGL_compressed_texture_etc1"),null!==g?g.COMPRESSED_RGB_ETC1_WEBGL:null;if(f===vSe||f===_Se){if(g=l.get("WEBGL_compressed_texture_etc"),null===g)return null;if(f===vSe)return p===eo?g.COMPRESSED_SRGB8_ETC2:g.COMPRESSED_RGB8_ETC2;if(f===_Se)return p===eo?g.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:g.COMPRESSED_RGBA8_ETC2_EAC}if(f===ySe||f===bSe||f===OSe||f===CSe||f===SSe||f===wSe||f===xSe||f===TSe||f===kSe||f===DSe||f===MSe||f===ESe||f===PSe||f===ASe){if(g=l.get("WEBGL_compressed_texture_astc"),null===g)return null;if(f===ySe)return p===eo?g.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:g.COMPRESSED_RGBA_ASTC_4x4_KHR;if(f===bSe)return p===eo?g.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:g.COMPRESSED_RGBA_ASTC_5x4_KHR;if(f===OSe)return p===eo?g.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:g.COMPRESSED_RGBA_ASTC_5x5_KHR;if(f===CSe)return p===eo?g.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:g.COMPRESSED_RGBA_ASTC_6x5_KHR;if(f===SSe)return p===eo?g.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:g.COMPRESSED_RGBA_ASTC_6x6_KHR;if(f===wSe)return p===eo?g.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:g.COMPRESSED_RGBA_ASTC_8x5_KHR;if(f===xSe)return p===eo?g.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:g.COMPRESSED_RGBA_ASTC_8x6_KHR;if(f===TSe)return p===eo?g.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:g.COMPRESSED_RGBA_ASTC_8x8_KHR;if(f===kSe)return p===eo?g.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:g.COMPRESSED_RGBA_ASTC_10x5_KHR;if(f===DSe)return p===eo?g.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:g.COMPRESSED_RGBA_ASTC_10x6_KHR;if(f===MSe)return p===eo?g.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:g.COMPRESSED_RGBA_ASTC_10x8_KHR;if(f===ESe)return p===eo?g.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:g.COMPRESSED_RGBA_ASTC_10x10_KHR;if(f===PSe)return p===eo?g.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:g.COMPRESSED_RGBA_ASTC_12x10_KHR;if(f===ASe)return p===eo?g.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:g.COMPRESSED_RGBA_ASTC_12x12_KHR}if(f===ISe){if(g=l.get("EXT_texture_compression_bptc"),null===g)return null;if(f===ISe)return p===eo?g.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:g.COMPRESSED_RGBA_BPTC_UNORM_EXT}return f===nC?h?34042:(g=l.get("WEBGL_depth_texture"),null!==g?g.UNSIGNED_INT_24_8_WEBGL:null):void 0!==c[f]?c[f]:null}}}class lxt extends Mo{constructor(l=[]){super(),this.isArrayCamera=!0,this.cameras=l}}class MC extends Mu{constructor(){super(),this.isGroup=!0,this.type="Group"}}const cxt={type:"move"};class rj{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new MC,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new MC,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ae,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ae),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new MC,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ae,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ae),this._grip}dispatchEvent(l){return null!==this._targetRay&&this._targetRay.dispatchEvent(l),null!==this._grip&&this._grip.dispatchEvent(l),null!==this._hand&&this._hand.dispatchEvent(l),this}disconnect(l){return this.dispatchEvent({type:"disconnected",data:l}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(l,a,h){let d=null,f=null,p=null;const g=this._targetRay,m=this._grip,v=this._hand;if(l&&"visible-blurred"!==a.session.visibilityState){if(v&&l.hand){p=!0;for(const S of l.hand.values()){const w=a.getJointPose(S,h);if(void 0===v.joints[S.jointName]){const T=new MC;T.matrixAutoUpdate=!1,T.visible=!1,v.joints[S.jointName]=T,v.add(T)}const x=v.joints[S.jointName];null!==w&&(x.matrix.fromArray(w.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=w.radius),x.visible=null!==w}const b=v.joints["index-finger-tip"].position.distanceTo(v.joints["thumb-tip"].position),O=.02,C=.005;v.inputState.pinching&&b>O+C?(v.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:l.handedness,target:this})):!v.inputState.pinching&&b<=O-C&&(v.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:l.handedness,target:this}))}else null!==m&&l.gripSpace&&(f=a.getPose(l.gripSpace,h),null!==f&&(m.matrix.fromArray(f.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),f.linearVelocity?(m.hasLinearVelocity=!0,m.linearVelocity.copy(f.linearVelocity)):m.hasLinearVelocity=!1,f.angularVelocity?(m.hasAngularVelocity=!0,m.angularVelocity.copy(f.angularVelocity)):m.hasAngularVelocity=!1));null!==g&&(d=a.getPose(l.targetRaySpace,h),null===d&&null!==f&&(d=f),null!==d&&(g.matrix.fromArray(d.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),d.linearVelocity?(g.hasLinearVelocity=!0,g.linearVelocity.copy(d.linearVelocity)):g.hasLinearVelocity=!1,d.angularVelocity?(g.hasAngularVelocity=!0,g.angularVelocity.copy(d.angularVelocity)):g.hasAngularVelocity=!1,this.dispatchEvent(cxt)))}return null!==g&&(g.visible=null!==d),null!==m&&(m.visible=null!==f),null!==v&&(v.visible=null!==p),this}}class uxt extends Nf{constructor(l,a,h,d,f,p,g,m,v,_){if((_=void 0!==_?_:kv)!==kv&&_!==iC)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===h&&_===kv&&(h=Tv),void 0===h&&_===iC&&(h=nC),super(null,d,f,p,g,m,_,h,v),this.isDepthTexture=!0,this.image={width:l,height:a},this.magFilter=void 0!==g?g:da,this.minFilter=void 0!==m?m:da,this.flipY=!1,this.generateMipmaps=!1}}class hxt extends Ev{constructor(l,a){super();const h=this;let d=null,f=1,p=null,g="local-floor",m=null,v=null,_=null,y=null,b=null,O=null;const C=a.getContextAttributes();let S=null,w=null;const x=[],T=[],D=new Mo;D.layers.enable(1),D.viewport=new Dr;const k=new Mo;k.layers.enable(2),k.viewport=new Dr;const P=[D,k],N=new lxt;N.layers.enable(1),N.layers.enable(2);let F=null,L=null;function $(K){const J=T.indexOf(K.inputSource);if(-1===J)return;const ie=x[J];void 0!==ie&&ie.dispatchEvent({type:K.type,data:K.inputSource})}function U(){d.removeEventListener("select",$),d.removeEventListener("selectstart",$),d.removeEventListener("selectend",$),d.removeEventListener("squeeze",$),d.removeEventListener("squeezestart",$),d.removeEventListener("squeezeend",$),d.removeEventListener("end",U),d.removeEventListener("inputsourceschange",z);for(let K=0;K<x.length;K++){const J=T[K];null!==J&&(T[K]=null,x[K].disconnect(J))}F=null,L=null,l.setRenderTarget(S),b=null,y=null,_=null,d=null,w=null,G.stop(),h.isPresenting=!1,h.dispatchEvent({type:"sessionend"})}function z(K){for(let J=0;J<K.removed.length;J++){const ie=K.removed[J],re=T.indexOf(ie);re>=0&&(T[re]=null,x[re].dispatchEvent({type:"disconnected",data:ie}))}for(let J=0;J<K.added.length;J++){const ie=K.added[J];let re=T.indexOf(ie);if(-1===re){for(let de=0;de<x.length;de++){if(de>=T.length){T.push(ie),re=de;break}if(null===T[de]){T[de]=ie,re=de;break}}if(-1===re)break}const he=x[re];he&&he.dispatchEvent({type:"connected",data:ie})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(K){let J=x[K];return void 0===J&&(J=new rj,x[K]=J),J.getTargetRaySpace()},this.getControllerGrip=function(K){let J=x[K];return void 0===J&&(J=new rj,x[K]=J),J.getGripSpace()},this.getHand=function(K){let J=x[K];return void 0===J&&(J=new rj,x[K]=J),J.getHandSpace()},this.setFramebufferScaleFactor=function(K){f=K,!0===h.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(K){g=K,!0===h.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return m||p},this.setReferenceSpace=function(K){m=K},this.getBaseLayer=function(){return null!==y?y:b},this.getBinding=function(){return _},this.getFrame=function(){return O},this.getSession=function(){return d},this.setSession=function(){var K=Q$(function*(J){if(d=J,null!==d){if(S=l.getRenderTarget(),d.addEventListener("select",$),d.addEventListener("selectstart",$),d.addEventListener("selectend",$),d.addEventListener("squeeze",$),d.addEventListener("squeezestart",$),d.addEventListener("squeezeend",$),d.addEventListener("end",U),d.addEventListener("inputsourceschange",z),!0!==C.xrCompatible&&(yield a.makeXRCompatible()),void 0===d.renderState.layers||!1===l.capabilities.isWebGL2)b=new XRWebGLLayer(d,a,{antialias:void 0!==d.renderState.layers||C.antialias,alpha:C.alpha,depth:C.depth,stencil:C.stencil,framebufferScaleFactor:f}),d.updateRenderState({baseLayer:b}),w=new oc(b.framebufferWidth,b.framebufferHeight,{format:fd,type:xv,encoding:l.outputEncoding});else{let ie=null,re=null,he=null;C.depth&&(he=C.stencil?35056:33190,ie=C.stencil?iC:kv,re=C.stencil?nC:Tv);const de={colorFormat:32856,depthFormat:he,scaleFactor:f};_=new XRWebGLBinding(d,a),y=_.createProjectionLayer(de),d.updateRenderState({layers:[y]}),w=new oc(y.textureWidth,y.textureHeight,{format:fd,type:xv,depthTexture:new uxt(y.textureWidth,y.textureHeight,re,void 0,void 0,void 0,void 0,void 0,void 0,ie),stencilBuffer:C.stencil,encoding:l.outputEncoding,samples:C.antialias?4:0}),l.properties.get(w).__ignoreDepthValues=y.ignoreDepthValues}w.isXRRenderTarget=!0,this.setFoveation(1),m=null,p=yield d.requestReferenceSpace(g),G.setContext(d),G.start(),h.isPresenting=!0,h.dispatchEvent({type:"sessionstart"})}});return function(J){return K.apply(this,arguments)}}();const ee=new ae,te=new ae;function j(K,J){null===J?K.matrixWorld.copy(K.matrix):K.matrixWorld.multiplyMatrices(J.matrixWorld,K.matrix),K.matrixWorldInverse.copy(K.matrixWorld).invert()}this.updateCamera=function(K){if(null===d)return;N.near=k.near=D.near=K.near,N.far=k.far=D.far=K.far,(F!==N.near||L!==N.far)&&(d.updateRenderState({depthNear:N.near,depthFar:N.far}),F=N.near,L=N.far);const J=K.parent,ie=N.cameras;j(N,J);for(let he=0;he<ie.length;he++)j(ie[he],J);N.matrixWorld.decompose(N.position,N.quaternion,N.scale),K.position.copy(N.position),K.quaternion.copy(N.quaternion),K.scale.copy(N.scale),K.matrix.copy(N.matrix),K.matrixWorld.copy(N.matrixWorld);const re=K.children;for(let he=0,de=re.length;he<de;he++)re[he].updateMatrixWorld(!0);2===ie.length?function B(K,J,ie){ee.setFromMatrixPosition(J.matrixWorld),te.setFromMatrixPosition(ie.matrixWorld);const re=ee.distanceTo(te),he=J.projectionMatrix.elements,de=ie.projectionMatrix.elements,ke=he[14]/(he[10]-1),xe=he[14]/(he[10]+1),Ie=(he[9]+1)/he[5],Ze=(he[9]-1)/he[5],Ne=(he[8]-1)/he[0],Ve=(de[8]+1)/de[0],nt=ke*Ne,_e=ke*Ve,$e=re/(-Ne+Ve),it=$e*-Ne;J.matrixWorld.decompose(K.position,K.quaternion,K.scale),K.translateX(it),K.translateZ($e),K.matrixWorld.compose(K.position,K.quaternion,K.scale),K.matrixWorldInverse.copy(K.matrixWorld).invert();const pt=ke+$e,rt=xe+$e;K.projectionMatrix.makePerspective(nt-it,_e+(re-it),Ie*xe/rt*pt,Ze*xe/rt*pt,pt,rt)}(N,D,k):N.projectionMatrix.copy(D.projectionMatrix)},this.getCamera=function(){return N},this.getFoveation=function(){return null!==y?y.fixedFoveation:null!==b?b.fixedFoveation:void 0},this.setFoveation=function(K){null!==y&&(y.fixedFoveation=K),null!==b&&void 0!==b.fixedFoveation&&(b.fixedFoveation=K)};let W=null;const G=new n2e;G.setAnimationLoop(function q(K,J){if(v=J.getViewerPose(m||p),O=J,null!==v){const ie=v.views;null!==b&&(l.setRenderTargetFramebuffer(w,b.framebuffer),l.setRenderTarget(w));let re=!1;ie.length!==N.cameras.length&&(N.cameras.length=0,re=!0);for(let he=0;he<ie.length;he++){const de=ie[he];let ke=null;if(null!==b)ke=b.getViewport(de);else{const Ie=_.getViewSubImage(y,de);ke=Ie.viewport,0===he&&(l.setRenderTargetTextures(w,Ie.colorTexture,y.ignoreDepthValues?void 0:Ie.depthStencilTexture),l.setRenderTarget(w))}let xe=P[he];void 0===xe&&(xe=new Mo,xe.layers.enable(he),xe.viewport=new Dr,P[he]=xe),xe.matrix.fromArray(de.transform.matrix),xe.projectionMatrix.fromArray(de.projectionMatrix),xe.viewport.set(ke.x,ke.y,ke.width,ke.height),0===he&&N.matrix.copy(xe.matrix),!0===re&&N.cameras.push(xe)}}for(let ie=0;ie<x.length;ie++){const re=T[ie],he=x[ie];null!==re&&void 0!==he&&he.update(re,J,m||p)}W&&W(K,J),O=null}),this.setAnimationLoop=function(K){W=K},this.dispose=function(){}}}function dxt(c,l){function d(S,w){S.opacity.value=w.opacity,w.color&&S.diffuse.value.copy(w.color),w.emissive&&S.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(S.map.value=w.map),w.alphaMap&&(S.alphaMap.value=w.alphaMap),w.bumpMap&&(S.bumpMap.value=w.bumpMap,S.bumpScale.value=w.bumpScale,w.side===Tu&&(S.bumpScale.value*=-1)),w.displacementMap&&(S.displacementMap.value=w.displacementMap,S.displacementScale.value=w.displacementScale,S.displacementBias.value=w.displacementBias),w.emissiveMap&&(S.emissiveMap.value=w.emissiveMap),w.normalMap&&(S.normalMap.value=w.normalMap,S.normalScale.value.copy(w.normalScale),w.side===Tu&&S.normalScale.value.negate()),w.specularMap&&(S.specularMap.value=w.specularMap),w.alphaTest>0&&(S.alphaTest.value=w.alphaTest);const x=l.get(w).envMap;if(x&&(S.envMap.value=x,S.flipEnvMap.value=x.isCubeTexture&&!1===x.isRenderTargetTexture?-1:1,S.reflectivity.value=w.reflectivity,S.ior.value=w.ior,S.refractionRatio.value=w.refractionRatio),w.lightMap){S.lightMap.value=w.lightMap;const k=!0!==c.physicallyCorrectLights?Math.PI:1;S.lightMapIntensity.value=w.lightMapIntensity*k}let T,D;w.aoMap&&(S.aoMap.value=w.aoMap,S.aoMapIntensity.value=w.aoMapIntensity),w.map?T=w.map:w.specularMap?T=w.specularMap:w.displacementMap?T=w.displacementMap:w.normalMap?T=w.normalMap:w.bumpMap?T=w.bumpMap:w.roughnessMap?T=w.roughnessMap:w.metalnessMap?T=w.metalnessMap:w.alphaMap?T=w.alphaMap:w.emissiveMap?T=w.emissiveMap:w.clearcoatMap?T=w.clearcoatMap:w.clearcoatNormalMap?T=w.clearcoatNormalMap:w.clearcoatRoughnessMap?T=w.clearcoatRoughnessMap:w.iridescenceMap?T=w.iridescenceMap:w.iridescenceThicknessMap?T=w.iridescenceThicknessMap:w.specularIntensityMap?T=w.specularIntensityMap:w.specularColorMap?T=w.specularColorMap:w.transmissionMap?T=w.transmissionMap:w.thicknessMap?T=w.thicknessMap:w.sheenColorMap?T=w.sheenColorMap:w.sheenRoughnessMap&&(T=w.sheenRoughnessMap),void 0!==T&&(T.isWebGLRenderTarget&&(T=T.texture),!0===T.matrixAutoUpdate&&T.updateMatrix(),S.uvTransform.value.copy(T.matrix)),w.aoMap?D=w.aoMap:w.lightMap&&(D=w.lightMap),void 0!==D&&(D.isWebGLRenderTarget&&(D=D.texture),!0===D.matrixAutoUpdate&&D.updateMatrix(),S.uv2Transform.value.copy(D.matrix))}return{refreshFogUniforms:function a(S,w){S.fogColor.value.copy(w.color),w.isFog?(S.fogNear.value=w.near,S.fogFar.value=w.far):w.isFogExp2&&(S.fogDensity.value=w.density)},refreshMaterialUniforms:function h(S,w,x,T,D){w.isMeshBasicMaterial||w.isMeshLambertMaterial?d(S,w):w.isMeshToonMaterial?(d(S,w),function _(S,w){w.gradientMap&&(S.gradientMap.value=w.gradientMap)}(S,w)):w.isMeshPhongMaterial?(d(S,w),function v(S,w){S.specular.value.copy(w.specular),S.shininess.value=Math.max(w.shininess,1e-4)}(S,w)):w.isMeshStandardMaterial?(d(S,w),function y(S,w){S.roughness.value=w.roughness,S.metalness.value=w.metalness,w.roughnessMap&&(S.roughnessMap.value=w.roughnessMap),w.metalnessMap&&(S.metalnessMap.value=w.metalnessMap),l.get(w).envMap&&(S.envMapIntensity.value=w.envMapIntensity)}(S,w),w.isMeshPhysicalMaterial&&function b(S,w,x){S.ior.value=w.ior,w.sheen>0&&(S.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),S.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(S.sheenColorMap.value=w.sheenColorMap),w.sheenRoughnessMap&&(S.sheenRoughnessMap.value=w.sheenRoughnessMap)),w.clearcoat>0&&(S.clearcoat.value=w.clearcoat,S.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(S.clearcoatMap.value=w.clearcoatMap),w.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap),w.clearcoatNormalMap&&(S.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),S.clearcoatNormalMap.value=w.clearcoatNormalMap,w.side===Tu&&S.clearcoatNormalScale.value.negate())),w.iridescence>0&&(S.iridescence.value=w.iridescence,S.iridescenceIOR.value=w.iridescenceIOR,S.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(S.iridescenceMap.value=w.iridescenceMap),w.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=w.iridescenceThicknessMap)),w.transmission>0&&(S.transmission.value=w.transmission,S.transmissionSamplerMap.value=x.texture,S.transmissionSamplerSize.value.set(x.width,x.height),w.transmissionMap&&(S.transmissionMap.value=w.transmissionMap),S.thickness.value=w.thickness,w.thicknessMap&&(S.thicknessMap.value=w.thicknessMap),S.attenuationDistance.value=w.attenuationDistance,S.attenuationColor.value.copy(w.attenuationColor)),S.specularIntensity.value=w.specularIntensity,S.specularColor.value.copy(w.specularColor),w.specularIntensityMap&&(S.specularIntensityMap.value=w.specularIntensityMap),w.specularColorMap&&(S.specularColorMap.value=w.specularColorMap)}(S,w,D)):w.isMeshMatcapMaterial?(d(S,w),function O(S,w){w.matcap&&(S.matcap.value=w.matcap)}(S,w)):w.isMeshDepthMaterial?d(S,w):w.isMeshDistanceMaterial?(d(S,w),function C(S,w){S.referencePosition.value.copy(w.referencePosition),S.nearDistance.value=w.nearDistance,S.farDistance.value=w.farDistance}(S,w)):w.isMeshNormalMaterial?d(S,w):w.isLineBasicMaterial?(function f(S,w){S.diffuse.value.copy(w.color),S.opacity.value=w.opacity}(S,w),w.isLineDashedMaterial&&function p(S,w){S.dashSize.value=w.dashSize,S.totalSize.value=w.dashSize+w.gapSize,S.scale.value=w.scale}(S,w)):w.isPointsMaterial?function g(S,w,x,T){let D;S.diffuse.value.copy(w.color),S.opacity.value=w.opacity,S.size.value=w.size*x,S.scale.value=.5*T,w.map&&(S.map.value=w.map),w.alphaMap&&(S.alphaMap.value=w.alphaMap),w.alphaTest>0&&(S.alphaTest.value=w.alphaTest),w.map?D=w.map:w.alphaMap&&(D=w.alphaMap),void 0!==D&&(!0===D.matrixAutoUpdate&&D.updateMatrix(),S.uvTransform.value.copy(D.matrix))}(S,w,x,T):w.isSpriteMaterial?function m(S,w){let x;S.diffuse.value.copy(w.color),S.opacity.value=w.opacity,S.rotation.value=w.rotation,w.map&&(S.map.value=w.map),w.alphaMap&&(S.alphaMap.value=w.alphaMap),w.alphaTest>0&&(S.alphaTest.value=w.alphaTest),w.map?x=w.map:w.alphaMap&&(x=w.alphaMap),void 0!==x&&(!0===x.matrixAutoUpdate&&x.updateMatrix(),S.uvTransform.value.copy(x.matrix))}(S,w):w.isShadowMaterial?(S.color.value.copy(w.color),S.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}}}function sj(c={}){this.isWebGLRenderer=!0;const l=void 0!==c.canvas?c.canvas:function fxt(){const c=KT("canvas");return c.style.display="block",c}(),a=void 0!==c.context?c.context:null,h=void 0===c.depth||c.depth,d=void 0===c.stencil||c.stencil,f=void 0!==c.antialias&&c.antialias,p=void 0===c.premultipliedAlpha||c.premultipliedAlpha,g=void 0!==c.preserveDrawingBuffer&&c.preserveDrawingBuffer,m=void 0!==c.powerPreference?c.powerPreference:"default",v=void 0!==c.failIfMajorPerformanceCaveat&&c.failIfMajorPerformanceCaveat;let _;_=null!==a?a.getContextAttributes().alpha:void 0!==c.alpha&&c.alpha;let y=null,b=null;const O=[],C=[];this.domElement=l,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Dv,this.physicallyCorrectLights=!1,this.toneMapping=ng,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const S=this;let w=!1,x=0,T=0,D=null,k=-1,P=null;const N=new Dr,F=new Dr;let L=null,$=l.width,U=l.height,z=1,ee=null,te=null;const B=new Dr(0,0,$,U),j=new Dr(0,0,$,U);let W=!1;const q=new YZ;let G=!1,K=!1,J=null;const ie=new Vi,re=new _t,he=new ae,de={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ke(){return null===D?z:1}let Ze,Ne,Ve,nt,_e,$e,it,pt,rt,Re,ot,nn,An,ri,Oe,ge,vt,Et,on,jt,Xt,fe,xt,xe=a;function Ie(Se,gt){for(let kt=0;kt<Se.length;kt++){const zt=l.getContext(Se[kt],gt);if(null!==zt)return zt}return null}try{const Se={alpha:!0,depth:h,stencil:d,antialias:f,premultipliedAlpha:p,preserveDrawingBuffer:g,powerPreference:m,failIfMajorPerformanceCaveat:v};if("setAttribute"in l&&l.setAttribute("data-engine","three.js r142"),l.addEventListener("webglcontextlost",Be,!1),l.addEventListener("webglcontextrestored",pn,!1),l.addEventListener("webglcontextcreationerror",fn,!1),null===xe){const gt=["webgl2","webgl","experimental-webgl"];if(!0===S.isWebGL1Renderer&&gt.shift(),xe=Ie(gt,Se),null===xe)throw Ie(gt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===xe.getShaderPrecisionFormat&&(xe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Se){throw console.error("THREE.WebGLRenderer: "+Se.message),Se}function Gt(){Ze=new T2t(xe),Ne=new b2t(xe,Ze,c),Ze.init(Ne),fe=new axt(xe,Ze,Ne),Ve=new sxt(xe,Ze,Ne),nt=new M2t,_e=new jwt,$e=new oxt(xe,Ze,Ve,_e,Ne,fe,nt),it=new C2t(S),pt=new x2t(S),rt=new yCt(xe,Ne),xt=new _2t(xe,Ze,rt,Ne),Re=new k2t(xe,rt,nt,xt),ot=new I2t(xe,Re,rt,nt),on=new A2t(xe,Ne,$e),ge=new O2t(_e),nn=new Zwt(S,it,pt,Ze,Ne,xt,ge),An=new dxt(S,_e),ri=new Xwt,Oe=new txt(Ze,Ne),Et=new v2t(S,it,Ve,ot,_,p),vt=new rxt(S,ot,Ne),jt=new y2t(xe,Ze,nt,Ne),Xt=new D2t(xe,Ze,nt,Ne),nt.programs=nn.programs,S.capabilities=Ne,S.extensions=Ze,S.properties=_e,S.renderLists=ri,S.shadowMap=vt,S.state=Ve,S.info=nt}Gt();const dn=new hxt(S,xe);function Be(Se){Se.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function pn(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const Se=nt.autoReset,gt=vt.enabled,kt=vt.autoUpdate,yt=vt.needsUpdate,zt=vt.type;Gt(),nt.autoReset=Se,vt.enabled=gt,vt.autoUpdate=kt,vt.needsUpdate=yt,vt.type=zt}function fn(Se){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Se.statusMessage)}function Si(Se){const gt=Se.target;gt.removeEventListener("dispose",Si),function Mn(Se){(function ui(Se){const gt=_e.get(Se).programs;void 0!==gt&&(gt.forEach(function(kt){nn.releaseProgram(kt)}),Se.isShaderMaterial&&nn.releaseShaderCache(Se))})(Se),_e.remove(Se)}(gt)}this.xr=dn,this.getContext=function(){return xe},this.getContextAttributes=function(){return xe.getContextAttributes()},this.forceContextLoss=function(){const Se=Ze.get("WEBGL_lose_context");Se&&Se.loseContext()},this.forceContextRestore=function(){const Se=Ze.get("WEBGL_lose_context");Se&&Se.restoreContext()},this.getPixelRatio=function(){return z},this.setPixelRatio=function(Se){void 0!==Se&&(z=Se,this.setSize($,U,!1))},this.getSize=function(Se){return Se.set($,U)},this.setSize=function(Se,gt,kt){dn.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):($=Se,U=gt,l.width=Math.floor(Se*z),l.height=Math.floor(gt*z),!1!==kt&&(l.style.width=Se+"px",l.style.height=gt+"px"),this.setViewport(0,0,Se,gt))},this.getDrawingBufferSize=function(Se){return Se.set($*z,U*z).floor()},this.setDrawingBufferSize=function(Se,gt,kt){$=Se,U=gt,z=kt,l.width=Math.floor(Se*kt),l.height=Math.floor(gt*kt),this.setViewport(0,0,Se,gt)},this.getCurrentViewport=function(Se){return Se.copy(N)},this.getViewport=function(Se){return Se.copy(B)},this.setViewport=function(Se,gt,kt,yt){Se.isVector4?B.set(Se.x,Se.y,Se.z,Se.w):B.set(Se,gt,kt,yt),Ve.viewport(N.copy(B).multiplyScalar(z).floor())},this.getScissor=function(Se){return Se.copy(j)},this.setScissor=function(Se,gt,kt,yt){Se.isVector4?j.set(Se.x,Se.y,Se.z,Se.w):j.set(Se,gt,kt,yt),Ve.scissor(F.copy(j).multiplyScalar(z).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(Se){Ve.setScissorTest(W=Se)},this.setOpaqueSort=function(Se){ee=Se},this.setTransparentSort=function(Se){te=Se},this.getClearColor=function(Se){return Se.copy(Et.getClearColor())},this.setClearColor=function(){Et.setClearColor.apply(Et,arguments)},this.getClearAlpha=function(){return Et.getClearAlpha()},this.setClearAlpha=function(){Et.setClearAlpha.apply(Et,arguments)},this.clear=function(Se=!0,gt=!0,kt=!0){let yt=0;Se&&(yt|=16384),gt&&(yt|=256),kt&&(yt|=1024),xe.clear(yt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){l.removeEventListener("webglcontextlost",Be,!1),l.removeEventListener("webglcontextrestored",pn,!1),l.removeEventListener("webglcontextcreationerror",fn,!1),ri.dispose(),Oe.dispose(),_e.dispose(),it.dispose(),pt.dispose(),ot.dispose(),xt.dispose(),nn.dispose(),dn.dispose(),dn.removeEventListener("sessionstart",os),dn.removeEventListener("sessionend",as),J&&(J.dispose(),J=null),pc.stop()},this.renderBufferDirect=function(Se,gt,kt,yt,zt,$i){null===gt&&(gt=de);const nr=zt.isMesh&&zt.matrixWorld.determinant()<0,dr=function E8t(Se,gt,kt,yt,zt){!0!==gt.isScene&&(gt=de),$e.resetTextureUnits();const $i=gt.fog,dr=null===D?S.outputEncoding:!0===D.isXRRenderTarget?D.texture.encoding:Dv,ar=(yt.isMeshStandardMaterial?pt:it).get(yt.envMap||(yt.isMeshStandardMaterial?gt.environment:null)),ls=!0===yt.vertexColors&&!!kt.attributes.color&&4===kt.attributes.color.itemSize,Nr=!!yt.normalMap&&!!kt.attributes.tangent,Ur=!!kt.morphAttributes.position,bo=!!kt.morphAttributes.normal,l_=!!kt.morphAttributes.color,iS=yt.toneMapped?S.toneMapping:ng,rS=kt.morphAttributes.position||kt.morphAttributes.normal||kt.morphAttributes.color,Yf=void 0!==rS?rS.length:0,ts=_e.get(yt),sS=b.state.lights;!0!==G||!0!==K&&Se===P||ge.setState(yt,Se,Se===P&&yt.id===k);let Ho=!1;yt.version===ts.__version?(ts.needsLights&&ts.lightsStateVersion!==sS.state.version||ts.outputEncoding!==dr||zt.isInstancedMesh&&!1===ts.instancing||!zt.isInstancedMesh&&!0===ts.instancing||zt.isSkinnedMesh&&!1===ts.skinning||!zt.isSkinnedMesh&&!0===ts.skinning||ts.envMap!==ar||!0===yt.fog&&ts.fog!==$i||void 0!==ts.numClippingPlanes&&(ts.numClippingPlanes!==ge.numPlanes||ts.numIntersection!==ge.numIntersection)||ts.vertexAlphas!==ls||ts.vertexTangents!==Nr||ts.morphTargets!==Ur||ts.morphNormals!==bo||ts.morphColors!==l_||ts.toneMapping!==iS||!0===Ne.isWebGL2&&ts.morphTargetsCount!==Yf)&&(Ho=!0):(Ho=!0,ts.__version=yt.version);let qf=ts.currentProgram;!0===Ho&&(qf=qX(yt,gt,zt));let w0=!1,Xk=!1,KX=!1;const gc=qf.getUniforms(),Yk=ts.uniforms;if(Ve.useProgram(qf.program)&&(w0=!0,Xk=!0,KX=!0),yt.id!==k&&(k=yt.id,Xk=!0),w0||P!==Se){if(gc.setValue(xe,"projectionMatrix",Se.projectionMatrix),Ne.logarithmicDepthBuffer&&gc.setValue(xe,"logDepthBufFC",2/(Math.log(Se.far+1)/Math.LN2)),P!==Se&&(P=Se,Xk=!0,KX=!0),yt.isShaderMaterial||yt.isMeshPhongMaterial||yt.isMeshToonMaterial||yt.isMeshStandardMaterial||yt.envMap){const Kf=gc.map.cameraPosition;void 0!==Kf&&Kf.setValue(xe,he.setFromMatrixPosition(Se.matrixWorld))}(yt.isMeshPhongMaterial||yt.isMeshToonMaterial||yt.isMeshLambertMaterial||yt.isMeshBasicMaterial||yt.isMeshStandardMaterial||yt.isShaderMaterial)&&gc.setValue(xe,"isOrthographic",!0===Se.isOrthographicCamera),(yt.isMeshPhongMaterial||yt.isMeshToonMaterial||yt.isMeshLambertMaterial||yt.isMeshBasicMaterial||yt.isMeshStandardMaterial||yt.isShaderMaterial||yt.isShadowMaterial||zt.isSkinnedMesh)&&gc.setValue(xe,"viewMatrix",Se.matrixWorldInverse)}if(zt.isSkinnedMesh){gc.setOptional(xe,zt,"bindMatrix"),gc.setOptional(xe,zt,"bindMatrixInverse");const Kf=zt.skeleton;Kf&&(Ne.floatVertexTextures?(null===Kf.boneTexture&&Kf.computeBoneTexture(),gc.setValue(xe,"boneTexture",Kf.boneTexture,$e),gc.setValue(xe,"boneTextureSize",Kf.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const JX=kt.morphAttributes;return(void 0!==JX.position||void 0!==JX.normal||void 0!==JX.color&&!0===Ne.isWebGL2)&&on.update(zt,kt,yt,qf),(Xk||ts.receiveShadow!==zt.receiveShadow)&&(ts.receiveShadow=zt.receiveShadow,gc.setValue(xe,"receiveShadow",zt.receiveShadow)),Xk&&(gc.setValue(xe,"toneMappingExposure",S.toneMappingExposure),ts.needsLights&&function P8t(Se,gt){Se.ambientLightColor.needsUpdate=gt,Se.lightProbe.needsUpdate=gt,Se.directionalLights.needsUpdate=gt,Se.directionalLightShadows.needsUpdate=gt,Se.pointLights.needsUpdate=gt,Se.pointLightShadows.needsUpdate=gt,Se.spotLights.needsUpdate=gt,Se.spotLightShadows.needsUpdate=gt,Se.rectAreaLights.needsUpdate=gt,Se.hemisphereLights.needsUpdate=gt}(Yk,KX),$i&&!0===yt.fog&&An.refreshFogUniforms(Yk,$i),An.refreshMaterialUniforms(Yk,yt,z,U,J),W5.upload(xe,ts.uniformsList,Yk,$e)),yt.isShaderMaterial&&!0===yt.uniformsNeedUpdate&&(W5.upload(xe,ts.uniformsList,Yk,$e),yt.uniformsNeedUpdate=!1),yt.isSpriteMaterial&&gc.setValue(xe,"center",zt.center),gc.setValue(xe,"modelViewMatrix",zt.modelViewMatrix),gc.setValue(xe,"normalMatrix",zt.normalMatrix),gc.setValue(xe,"modelMatrix",zt.matrixWorld),qf}(Se,gt,kt,yt,zt);Ve.setMaterial(yt,nr);let ar=kt.index;const ls=kt.attributes.position;if(null===ar){if(void 0===ls||0===ls.count)return}else if(0===ar.count)return;let Nr=1;!0===yt.wireframe&&(ar=Re.getWireframeAttribute(kt),Nr=2),xt.setup(zt,yt,dr,kt,ar);let Ur,bo=jt;null!==ar&&(Ur=rt.get(ar),bo=Xt,bo.setIndex(Ur));const l_=null!==ar?ar.count:ls.count,iS=kt.drawRange.start*Nr,rS=kt.drawRange.count*Nr,Yf=null!==$i?$i.start*Nr:0,ts=null!==$i?$i.count*Nr:1/0,sS=Math.max(iS,Yf),Ho=Math.min(l_,iS+rS,Yf+ts)-1,qf=Math.max(0,Ho-sS+1);if(0!==qf){if(zt.isMesh)!0===yt.wireframe?(Ve.setLineWidth(yt.wireframeLinewidth*ke()),bo.setMode(1)):bo.setMode(4);else if(zt.isLine){let w0=yt.linewidth;void 0===w0&&(w0=1),Ve.setLineWidth(w0*ke()),bo.setMode(zt.isLineSegments?1:zt.isLineLoop?2:3)}else zt.isPoints?bo.setMode(0):zt.isSprite&&bo.setMode(4);if(zt.isInstancedMesh)bo.renderInstances(sS,qf,zt.count);else if(kt.isInstancedBufferGeometry){const w0=Math.min(kt.instanceCount,kt._maxInstanceCount);bo.renderInstances(sS,qf,w0)}else bo.render(sS,qf)}},this.compile=function(Se,gt){b=Oe.get(Se),b.init(),C.push(b),Se.traverseVisible(function(kt){kt.isLight&&kt.layers.test(gt.layers)&&(b.pushLight(kt),kt.castShadow&&b.pushShadow(kt))}),b.setupLights(S.physicallyCorrectLights),Se.traverse(function(kt){const yt=kt.material;if(yt)if(Array.isArray(yt))for(let zt=0;zt<yt.length;zt++)qX(yt[zt],Se,kt);else qX(yt,Se,kt)}),C.pop(),b=null};let gn=null;function os(){pc.stop()}function as(){pc.start()}const pc=new n2e;function Xf(Se,gt,kt,yt){if(!1===Se.visible)return;if(Se.layers.test(gt.layers))if(Se.isGroup)kt=Se.renderOrder;else if(Se.isLOD)!0===Se.autoUpdate&&Se.update(gt);else if(Se.isLight)b.pushLight(Se),Se.castShadow&&b.pushShadow(Se);else if(Se.isSprite){if(!Se.frustumCulled||q.intersectsSprite(Se)){yt&&he.setFromMatrixPosition(Se.matrixWorld).applyMatrix4(ie);const nr=ot.update(Se),dr=Se.material;dr.visible&&y.push(Se,nr,dr,kt,he.z,null)}}else if((Se.isMesh||Se.isLine||Se.isPoints)&&(Se.isSkinnedMesh&&Se.skeleton.frame!==nt.render.frame&&(Se.skeleton.update(),Se.skeleton.frame=nt.render.frame),!Se.frustumCulled||q.intersectsObject(Se))){yt&&he.setFromMatrixPosition(Se.matrixWorld).applyMatrix4(ie);const nr=ot.update(Se),dr=Se.material;if(Array.isArray(dr)){const ar=nr.groups;for(let ls=0,Nr=ar.length;ls<Nr;ls++){const Ur=ar[ls],bo=dr[Ur.materialIndex];bo&&bo.visible&&y.push(Se,nr,bo,kt,he.z,Ur)}}else dr.visible&&y.push(Se,nr,dr,kt,he.z,null)}const $i=Se.children;for(let nr=0,dr=$i.length;nr<dr;nr++)Xf($i[nr],gt,kt,yt)}function d4e(Se,gt,kt,yt){const zt=Se.opaque,$i=Se.transmissive,nr=Se.transparent;b.setupLightsView(kt),$i.length>0&&function D8t(Se,gt,kt){const yt=Ne.isWebGL2;null===J&&(J=new oc(1,1,{generateMipmaps:!0,type:Ze.has("EXT_color_buffer_half_float")?XT:xv,minFilter:tC,samples:yt&&!0===f?4:0})),S.getDrawingBufferSize(re),yt?J.setSize(re.x,re.y):J.setSize(y5(re.x),y5(re.y));const zt=S.getRenderTarget();S.setRenderTarget(J),S.clear();const $i=S.toneMapping;S.toneMapping=ng,LL(Se,gt,kt),S.toneMapping=$i,$e.updateMultisampleRenderTarget(J),$e.updateRenderTargetMipmap(J),S.setRenderTarget(zt)}(zt,gt,kt),yt&&Ve.viewport(N.copy(yt)),zt.length>0&&LL(zt,gt,kt),$i.length>0&&LL($i,gt,kt),nr.length>0&&LL(nr,gt,kt),Ve.buffers.depth.setTest(!0),Ve.buffers.depth.setMask(!0),Ve.buffers.color.setMask(!0),Ve.setPolygonOffset(!1)}function LL(Se,gt,kt){const yt=!0===gt.isScene?gt.overrideMaterial:null;for(let zt=0,$i=Se.length;zt<$i;zt++){const nr=Se[zt],dr=nr.object,ar=nr.geometry,ls=null===yt?nr.material:yt,Nr=nr.group;dr.layers.test(kt.layers)&&M8t(dr,gt,kt,ar,ls,Nr)}}function M8t(Se,gt,kt,yt,zt,$i){Se.onBeforeRender(S,gt,kt,yt,zt,$i),Se.modelViewMatrix.multiplyMatrices(kt.matrixWorldInverse,Se.matrixWorld),Se.normalMatrix.getNormalMatrix(Se.modelViewMatrix),zt.onBeforeRender(S,gt,kt,yt,Se,$i),!0===zt.transparent&&zt.side===Zm?(zt.side=Tu,zt.needsUpdate=!0,S.renderBufferDirect(kt,gt,yt,zt,Se,$i),zt.side=qO,zt.needsUpdate=!0,S.renderBufferDirect(kt,gt,yt,zt,Se,$i),zt.side=Zm):S.renderBufferDirect(kt,gt,yt,zt,Se,$i),Se.onAfterRender(S,gt,kt,yt,zt,$i)}function qX(Se,gt,kt){!0!==gt.isScene&&(gt=de);const yt=_e.get(Se),zt=b.state.lights,nr=zt.state.version,dr=nn.getParameters(Se,zt.state,b.state.shadowsArray,gt,kt),ar=nn.getProgramCacheKey(dr);let ls=yt.programs;yt.environment=Se.isMeshStandardMaterial?gt.environment:null,yt.fog=gt.fog,yt.envMap=(Se.isMeshStandardMaterial?pt:it).get(Se.envMap||yt.environment),void 0===ls&&(Se.addEventListener("dispose",Si),ls=new Map,yt.programs=ls);let Nr=ls.get(ar);if(void 0!==Nr){if(yt.currentProgram===Nr&&yt.lightsStateVersion===nr)return f4e(Se,dr),Nr}else dr.uniforms=nn.getUniforms(Se),Se.onBuild(kt,dr,S),Se.onBeforeCompile(dr,S),Nr=nn.acquireProgram(dr,ar),ls.set(ar,Nr),yt.uniforms=dr.uniforms;const Ur=yt.uniforms;(!Se.isShaderMaterial&&!Se.isRawShaderMaterial||!0===Se.clipping)&&(Ur.clippingPlanes=ge.uniform),f4e(Se,dr),yt.needsLights=function A8t(Se){return Se.isMeshLambertMaterial||Se.isMeshToonMaterial||Se.isMeshPhongMaterial||Se.isMeshStandardMaterial||Se.isShadowMaterial||Se.isShaderMaterial&&!0===Se.lights}(Se),yt.lightsStateVersion=nr,yt.needsLights&&(Ur.ambientLightColor.value=zt.state.ambient,Ur.lightProbe.value=zt.state.probe,Ur.directionalLights.value=zt.state.directional,Ur.directionalLightShadows.value=zt.state.directionalShadow,Ur.spotLights.value=zt.state.spot,Ur.spotLightShadows.value=zt.state.spotShadow,Ur.rectAreaLights.value=zt.state.rectArea,Ur.ltc_1.value=zt.state.rectAreaLTC1,Ur.ltc_2.value=zt.state.rectAreaLTC2,Ur.pointLights.value=zt.state.point,Ur.pointLightShadows.value=zt.state.pointShadow,Ur.hemisphereLights.value=zt.state.hemi,Ur.directionalShadowMap.value=zt.state.directionalShadowMap,Ur.directionalShadowMatrix.value=zt.state.directionalShadowMatrix,Ur.spotShadowMap.value=zt.state.spotShadowMap,Ur.spotShadowMatrix.value=zt.state.spotShadowMatrix,Ur.pointShadowMap.value=zt.state.pointShadowMap,Ur.pointShadowMatrix.value=zt.state.pointShadowMatrix);const bo=Nr.getUniforms(),l_=W5.seqWithValue(bo.seq,Ur);return yt.currentProgram=Nr,yt.uniformsList=l_,Nr}function f4e(Se,gt){const kt=_e.get(Se);kt.outputEncoding=gt.outputEncoding,kt.instancing=gt.instancing,kt.skinning=gt.skinning,kt.morphTargets=gt.morphTargets,kt.morphNormals=gt.morphNormals,kt.morphColors=gt.morphColors,kt.morphTargetsCount=gt.morphTargetsCount,kt.numClippingPlanes=gt.numClippingPlanes,kt.numIntersection=gt.numClipIntersection,kt.vertexAlphas=gt.vertexAlphas,kt.vertexTangents=gt.vertexTangents,kt.toneMapping=gt.toneMapping}pc.setAnimationLoop(function Hi(Se){gn&&gn(Se)}),typeof self<"u"&&pc.setContext(self),this.setAnimationLoop=function(Se){gn=Se,dn.setAnimationLoop(Se),null===Se?pc.stop():pc.start()},dn.addEventListener("sessionstart",os),dn.addEventListener("sessionend",as),this.render=function(Se,gt){if(void 0===gt||!0===gt.isCamera){if(!0!==w){if(!0===Se.autoUpdate&&Se.updateMatrixWorld(),null===gt.parent&&gt.updateMatrixWorld(),!0===dn.enabled&&!0===dn.isPresenting&&(!0===dn.cameraAutoUpdate&&dn.updateCamera(gt),gt=dn.getCamera()),!0===Se.isScene&&Se.onBeforeRender(S,Se,gt,D),b=Oe.get(Se,C.length),b.init(),C.push(b),ie.multiplyMatrices(gt.projectionMatrix,gt.matrixWorldInverse),q.setFromProjectionMatrix(ie),K=this.localClippingEnabled,G=ge.init(this.clippingPlanes,K,gt),y=ri.get(Se,O.length),y.init(),O.push(y),Xf(Se,gt,0,S.sortObjects),y.finish(),!0===S.sortObjects&&y.sort(ee,te),!0===G&&ge.beginShadows(),vt.render(b.state.shadowsArray,Se,gt),!0===G&&ge.endShadows(),!0===this.info.autoReset&&this.info.reset(),Et.render(y,Se),b.setupLights(S.physicallyCorrectLights),gt.isArrayCamera){const yt=gt.cameras;for(let zt=0,$i=yt.length;zt<$i;zt++){const nr=yt[zt];d4e(y,Se,nr,nr.viewport)}}else d4e(y,Se,gt);null!==D&&($e.updateMultisampleRenderTarget(D),$e.updateRenderTargetMipmap(D)),!0===Se.isScene&&Se.onAfterRender(S,Se,gt),xt.resetDefaultState(),k=-1,P=null,C.pop(),b=C.length>0?C[C.length-1]:null,O.pop(),y=O.length>0?O[O.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(Se,gt,kt){_e.get(Se.texture).__webglTexture=gt,_e.get(Se.depthTexture).__webglTexture=kt;const yt=_e.get(Se);yt.__hasExternalTextures=!0,yt.__hasExternalTextures&&(yt.__autoAllocateDepthBuffer=void 0===kt,yt.__autoAllocateDepthBuffer||!0===Ze.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),yt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Se,gt){const kt=_e.get(Se);kt.__webglFramebuffer=gt,kt.__useDefaultFramebuffer=void 0===gt},this.setRenderTarget=function(Se,gt=0,kt=0){D=Se,x=gt,T=kt;let yt=!0;if(Se){const ar=_e.get(Se);void 0!==ar.__useDefaultFramebuffer?(Ve.bindFramebuffer(36160,null),yt=!1):void 0===ar.__webglFramebuffer?$e.setupRenderTarget(Se):ar.__hasExternalTextures&&$e.rebindTextures(Se,_e.get(Se.texture).__webglTexture,_e.get(Se.depthTexture).__webglTexture)}let zt=null,$i=!1,nr=!1;if(Se){const ar=Se.texture;(ar.isData3DTexture||ar.isDataArrayTexture)&&(nr=!0);const ls=_e.get(Se).__webglFramebuffer;Se.isWebGLCubeRenderTarget?(zt=ls[gt],$i=!0):zt=Ne.isWebGL2&&Se.samples>0&&!1===$e.useMultisampledRTT(Se)?_e.get(Se).__webglMultisampledFramebuffer:ls,N.copy(Se.viewport),F.copy(Se.scissor),L=Se.scissorTest}else N.copy(B).multiplyScalar(z).floor(),F.copy(j).multiplyScalar(z).floor(),L=W;if(Ve.bindFramebuffer(36160,zt)&&Ne.drawBuffers&&yt&&Ve.drawBuffers(Se,zt),Ve.viewport(N),Ve.scissor(F),Ve.setScissorTest(L),$i){const ar=_e.get(Se.texture);xe.framebufferTexture2D(36160,36064,34069+gt,ar.__webglTexture,kt)}else if(nr){const ar=_e.get(Se.texture);xe.framebufferTextureLayer(36160,36064,ar.__webglTexture,kt||0,gt||0)}k=-1},this.readRenderTargetPixels=function(Se,gt,kt,yt,zt,$i,nr){if(!Se||!Se.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let dr=_e.get(Se).__webglFramebuffer;if(Se.isWebGLCubeRenderTarget&&void 0!==nr&&(dr=dr[nr]),dr){Ve.bindFramebuffer(36160,dr);try{const ar=Se.texture,ls=ar.format,Nr=ar.type;if(ls!==fd&&fe.convert(ls)!==xe.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Ur=Nr===XT&&(Ze.has("EXT_color_buffer_half_float")||Ne.isWebGL2&&Ze.has("EXT_color_buffer_float"));if(!(Nr===xv||fe.convert(Nr)===xe.getParameter(35738)||Nr===Gm&&(Ne.isWebGL2||Ze.has("OES_texture_float")||Ze.has("WEBGL_color_buffer_float"))||Ur))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");gt>=0&&gt<=Se.width-yt&&kt>=0&&kt<=Se.height-zt&&xe.readPixels(gt,kt,yt,zt,fe.convert(ls),fe.convert(Nr),$i)}finally{const ar=null!==D?_e.get(D).__webglFramebuffer:null;Ve.bindFramebuffer(36160,ar)}}},this.copyFramebufferToTexture=function(Se,gt,kt=0){const yt=Math.pow(2,-kt),zt=Math.floor(gt.image.width*yt),$i=Math.floor(gt.image.height*yt);$e.setTexture2D(gt,0),xe.copyTexSubImage2D(3553,kt,0,0,Se.x,Se.y,zt,$i),Ve.unbindTexture()},this.copyTextureToTexture=function(Se,gt,kt,yt=0){const zt=gt.image.width,$i=gt.image.height,nr=fe.convert(kt.format),dr=fe.convert(kt.type);$e.setTexture2D(kt,0),xe.pixelStorei(37440,kt.flipY),xe.pixelStorei(37441,kt.premultiplyAlpha),xe.pixelStorei(3317,kt.unpackAlignment),gt.isDataTexture?xe.texSubImage2D(3553,yt,Se.x,Se.y,zt,$i,nr,dr,gt.image.data):gt.isCompressedTexture?xe.compressedTexSubImage2D(3553,yt,Se.x,Se.y,gt.mipmaps[0].width,gt.mipmaps[0].height,nr,gt.mipmaps[0].data):xe.texSubImage2D(3553,yt,Se.x,Se.y,nr,dr,gt.image),0===yt&&kt.generateMipmaps&&xe.generateMipmap(3553),Ve.unbindTexture()},this.copyTextureToTexture3D=function(Se,gt,kt,yt,zt=0){if(S.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const $i=Se.max.x-Se.min.x+1,nr=Se.max.y-Se.min.y+1,dr=Se.max.z-Se.min.z+1,ar=fe.convert(yt.format),ls=fe.convert(yt.type);let Nr;if(yt.isData3DTexture)$e.setTexture3D(yt,0),Nr=32879;else{if(!yt.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");$e.setTexture2DArray(yt,0),Nr=35866}xe.pixelStorei(37440,yt.flipY),xe.pixelStorei(37441,yt.premultiplyAlpha),xe.pixelStorei(3317,yt.unpackAlignment);const Ur=xe.getParameter(3314),bo=xe.getParameter(32878),l_=xe.getParameter(3316),iS=xe.getParameter(3315),rS=xe.getParameter(32877),Yf=kt.isCompressedTexture?kt.mipmaps[0]:kt.image;xe.pixelStorei(3314,Yf.width),xe.pixelStorei(32878,Yf.height),xe.pixelStorei(3316,Se.min.x),xe.pixelStorei(3315,Se.min.y),xe.pixelStorei(32877,Se.min.z),kt.isDataTexture||kt.isData3DTexture?xe.texSubImage3D(Nr,zt,gt.x,gt.y,gt.z,$i,nr,dr,ar,ls,Yf.data):kt.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),xe.compressedTexSubImage3D(Nr,zt,gt.x,gt.y,gt.z,$i,nr,dr,ar,Yf.data)):xe.texSubImage3D(Nr,zt,gt.x,gt.y,gt.z,$i,nr,dr,ar,ls,Yf),xe.pixelStorei(3314,Ur),xe.pixelStorei(32878,bo),xe.pixelStorei(3316,l_),xe.pixelStorei(3315,iS),xe.pixelStorei(32877,rS),0===zt&&yt.generateMipmaps&&xe.generateMipmap(Nr),Ve.unbindTexture()},this.initTexture=function(Se){Se.isCubeTexture?$e.setTextureCube(Se,0):Se.isData3DTexture?$e.setTexture3D(Se,0):Se.isDataArrayTexture?$e.setTexture2DArray(Se,0):$e.setTexture2D(Se,0),Ve.unbindTexture()},this.resetState=function(){x=0,T=0,D=null,Ve.reset(),xt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class pxt extends sj{}).prototype.isWebGL1Renderer=!0;class Vv extends Mu{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(l,a){return super.copy(l,a),null!==l.background&&(this.background=l.background.clone()),null!==l.environment&&(this.environment=l.environment.clone()),null!==l.fog&&(this.fog=l.fog.clone()),null!==l.overrideMaterial&&(this.overrideMaterial=l.overrideMaterial.clone()),this.autoUpdate=l.autoUpdate,this.matrixAutoUpdate=l.matrixAutoUpdate,this}toJSON(l){const a=super.toJSON(l);return null!==this.fog&&(a.object.fog=this.fog.toJSON()),a}}class LC extends Nf{constructor(l=null,a=1,h=1,d,f,p,g,m,v=da,_=da,y,b){super(null,p,g,m,v,_,d,f,y,b),this.isDataTexture=!0,this.image={data:l,width:a,height:h},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ewe extends Nf{constructor(l,a,h,d,f,p,g,m,v){super(l,a,h,d,f,p,g,m,v),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Vf{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(l,a){const h=this.getUtoTmapping(l);return this.getPoint(h,a)}getPoints(l=5){const a=[];for(let h=0;h<=l;h++)a.push(this.getPoint(h/l));return a}getSpacedPoints(l=5){const a=[];for(let h=0;h<=l;h++)a.push(this.getPointAt(h/l));return a}getLength(){const l=this.getLengths();return l[l.length-1]}getLengths(l=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===l+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const a=[];let h,d=this.getPoint(0),f=0;a.push(0);for(let p=1;p<=l;p++)h=this.getPoint(p/l),f+=h.distanceTo(d),a.push(f),d=h;return this.cacheArcLengths=a,a}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(l,a){const h=this.getLengths();let d=0;const f=h.length;let p;p=a||l*h[f-1];let v,g=0,m=f-1;for(;g<=m;)if(d=Math.floor(g+(m-g)/2),v=h[d]-p,v<0)g=d+1;else{if(!(v>0)){m=d;break}m=d-1}if(d=m,h[d]===p)return d/(f-1);const _=h[d];return(d+(p-_)/(h[d+1]-_))/(f-1)}getTangent(l,a){let d=l-1e-4,f=l+1e-4;d<0&&(d=0),f>1&&(f=1);const p=this.getPoint(d),g=this.getPoint(f),m=a||(p.isVector2?new _t:new ae);return m.copy(g).sub(p).normalize(),m}getTangentAt(l,a){const h=this.getUtoTmapping(l);return this.getTangent(h,a)}computeFrenetFrames(l,a){const h=new ae,d=[],f=[],p=[],g=new ae,m=new Vi;for(let O=0;O<=l;O++)d[O]=this.getTangentAt(O/l,new ae);f[0]=new ae,p[0]=new ae;let v=Number.MAX_VALUE;const _=Math.abs(d[0].x),y=Math.abs(d[0].y),b=Math.abs(d[0].z);_<=v&&(v=_,h.set(1,0,0)),y<=v&&(v=y,h.set(0,1,0)),b<=v&&h.set(0,0,1),g.crossVectors(d[0],h).normalize(),f[0].crossVectors(d[0],g),p[0].crossVectors(d[0],f[0]);for(let O=1;O<=l;O++){if(f[O]=f[O-1].clone(),p[O]=p[O-1].clone(),g.crossVectors(d[O-1],d[O]),g.length()>Number.EPSILON){g.normalize();const C=Math.acos(Do(d[O-1].dot(d[O]),-1,1));f[O].applyMatrix4(m.makeRotationAxis(g,C))}p[O].crossVectors(d[O],f[O])}if(!0===a){let O=Math.acos(Do(f[0].dot(f[l]),-1,1));O/=l,d[0].dot(g.crossVectors(f[0],f[l]))>0&&(O=-O);for(let C=1;C<=l;C++)f[C].applyMatrix4(m.makeRotationAxis(d[C],O*C)),p[C].crossVectors(d[C],f[C])}return{tangents:d,normals:f,binormals:p}}clone(){return(new this.constructor).copy(this)}copy(l){return this.arcLengthDivisions=l.arcLengthDivisions,this}toJSON(){const l={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return l.arcLengthDivisions=this.arcLengthDivisions,l.type=this.type,l}fromJSON(l){return this.arcLengthDivisions=l.arcLengthDivisions,this}}class dj extends Vf{constructor(l=0,a=0,h=1,d=1,f=0,p=2*Math.PI,g=!1,m=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=l,this.aY=a,this.xRadius=h,this.yRadius=d,this.aStartAngle=f,this.aEndAngle=p,this.aClockwise=g,this.aRotation=m}getPoint(l,a){const h=a||new _t,d=2*Math.PI;let f=this.aEndAngle-this.aStartAngle;const p=Math.abs(f)<Number.EPSILON;for(;f<0;)f+=d;for(;f>d;)f-=d;f<Number.EPSILON&&(f=p?0:d),!0===this.aClockwise&&!p&&(f===d?f=-d:f-=d);const g=this.aStartAngle+l*f;let m=this.aX+this.xRadius*Math.cos(g),v=this.aY+this.yRadius*Math.sin(g);if(0!==this.aRotation){const _=Math.cos(this.aRotation),y=Math.sin(this.aRotation),b=m-this.aX,O=v-this.aY;m=b*_-O*y+this.aX,v=b*y+O*_+this.aY}return h.set(m,v)}copy(l){return super.copy(l),this.aX=l.aX,this.aY=l.aY,this.xRadius=l.xRadius,this.yRadius=l.yRadius,this.aStartAngle=l.aStartAngle,this.aEndAngle=l.aEndAngle,this.aClockwise=l.aClockwise,this.aRotation=l.aRotation,this}toJSON(){const l=super.toJSON();return l.aX=this.aX,l.aY=this.aY,l.xRadius=this.xRadius,l.yRadius=this.yRadius,l.aStartAngle=this.aStartAngle,l.aEndAngle=this.aEndAngle,l.aClockwise=this.aClockwise,l.aRotation=this.aRotation,l}fromJSON(l){return super.fromJSON(l),this.aX=l.aX,this.aY=l.aY,this.xRadius=l.xRadius,this.yRadius=l.yRadius,this.aStartAngle=l.aStartAngle,this.aEndAngle=l.aEndAngle,this.aClockwise=l.aClockwise,this.aRotation=l.aRotation,this}}function fj(){let c=0,l=0,a=0,h=0;function d(f,p,g,m){c=f,l=g,a=-3*f+3*p-2*g-m,h=2*f-2*p+g+m}return{initCatmullRom:function(f,p,g,m,v){d(p,g,v*(g-f),v*(m-p))},initNonuniformCatmullRom:function(f,p,g,m,v,_,y){let b=(p-f)/v-(g-f)/(v+_)+(g-p)/_,O=(g-p)/_-(m-p)/(_+y)+(m-g)/y;b*=_,O*=_,d(p,g,b,O)},calc:function(f){const p=f*f;return c+l*f+a*p+h*(p*f)}}}const tR=new ae,pj=new fj,gj=new fj,mj=new fj;class twe extends Vf{constructor(l=[],a=!1,h="centripetal",d=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=l,this.closed=a,this.curveType=h,this.tension=d}getPoint(l,a=new ae){const h=a,d=this.points,f=d.length,p=(f-(this.closed?0:1))*l;let v,_,g=Math.floor(p),m=p-g;this.closed?g+=g>0?0:(Math.floor(Math.abs(g)/f)+1)*f:0===m&&g===f-1&&(g=f-2,m=1),this.closed||g>0?v=d[(g-1)%f]:(tR.subVectors(d[0],d[1]).add(d[0]),v=tR);const y=d[g%f],b=d[(g+1)%f];if(this.closed||g+2<f?_=d[(g+2)%f]:(tR.subVectors(d[f-1],d[f-2]).add(d[f-1]),_=tR),"centripetal"===this.curveType||"chordal"===this.curveType){const O="chordal"===this.curveType?.5:.25;let C=Math.pow(v.distanceToSquared(y),O),S=Math.pow(y.distanceToSquared(b),O),w=Math.pow(b.distanceToSquared(_),O);S<1e-4&&(S=1),C<1e-4&&(C=S),w<1e-4&&(w=S),pj.initNonuniformCatmullRom(v.x,y.x,b.x,_.x,C,S,w),gj.initNonuniformCatmullRom(v.y,y.y,b.y,_.y,C,S,w),mj.initNonuniformCatmullRom(v.z,y.z,b.z,_.z,C,S,w)}else"catmullrom"===this.curveType&&(pj.initCatmullRom(v.x,y.x,b.x,_.x,this.tension),gj.initCatmullRom(v.y,y.y,b.y,_.y,this.tension),mj.initCatmullRom(v.z,y.z,b.z,_.z,this.tension));return h.set(pj.calc(m),gj.calc(m),mj.calc(m)),h}copy(l){super.copy(l),this.points=[];for(let a=0,h=l.points.length;a<h;a++)this.points.push(l.points[a].clone());return this.closed=l.closed,this.curveType=l.curveType,this.tension=l.tension,this}toJSON(){const l=super.toJSON();l.points=[];for(let a=0,h=this.points.length;a<h;a++)l.points.push(this.points[a].toArray());return l.closed=this.closed,l.curveType=this.curveType,l.tension=this.tension,l}fromJSON(l){super.fromJSON(l),this.points=[];for(let a=0,h=l.points.length;a<h;a++){const d=l.points[a];this.points.push((new ae).fromArray(d))}return this.closed=l.closed,this.curveType=l.curveType,this.tension=l.tension,this}}function nwe(c,l,a,h,d){const f=.5*(h-l),p=.5*(d-a),g=c*c;return(2*a-2*h+f+p)*(c*g)+(-3*a+3*h-2*f-p)*g+f*c+a}function ck(c,l,a,h){return function xxt(c,l){const a=1-c;return a*a*l}(c,l)+function Txt(c,l){return 2*(1-c)*c*l}(c,a)+function kxt(c,l){return c*c*l}(c,h)}function uk(c,l,a,h,d){return function Dxt(c,l){const a=1-c;return a*a*a*l}(c,l)+function Mxt(c,l){const a=1-c;return 3*a*a*c*l}(c,a)+function Ext(c,l){return 3*(1-c)*c*c*l}(c,h)+function Pxt(c,l){return c*c*c*l}(c,d)}class iwe extends Vf{constructor(l=new _t,a=new _t,h=new _t,d=new _t){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=l,this.v1=a,this.v2=h,this.v3=d}getPoint(l,a=new _t){const h=a,d=this.v0,f=this.v1,p=this.v2,g=this.v3;return h.set(uk(l,d.x,f.x,p.x,g.x),uk(l,d.y,f.y,p.y,g.y)),h}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this.v3.copy(l.v3),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l.v3=this.v3.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this.v3.fromArray(l.v3),this}}class vj extends Vf{constructor(l=new _t,a=new _t){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=l,this.v2=a}getPoint(l,a=new _t){const h=a;return 1===l?h.copy(this.v2):(h.copy(this.v2).sub(this.v1),h.multiplyScalar(l).add(this.v1)),h}getPointAt(l,a){return this.getPoint(l,a)}getTangent(l,a){const h=a||new _t;return h.copy(this.v2).sub(this.v1).normalize(),h}copy(l){return super.copy(l),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}class rwe extends Vf{constructor(l=new _t,a=new _t,h=new _t){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=l,this.v1=a,this.v2=h}getPoint(l,a=new _t){const h=a,d=this.v0,f=this.v1,p=this.v2;return h.set(ck(l,d.x,f.x,p.x),ck(l,d.y,f.y,p.y)),h}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}class owe extends Vf{constructor(l=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=l}getPoint(l,a=new _t){const h=a,d=this.points,f=(d.length-1)*l,p=Math.floor(f),g=f-p,m=d[0===p?p:p-1],v=d[p],_=d[p>d.length-2?d.length-1:p+1],y=d[p>d.length-3?d.length-1:p+2];return h.set(nwe(g,m.x,v.x,_.x,y.x),nwe(g,m.y,v.y,_.y,y.y)),h}copy(l){super.copy(l),this.points=[];for(let a=0,h=l.points.length;a<h;a++)this.points.push(l.points[a].clone());return this}toJSON(){const l=super.toJSON();l.points=[];for(let a=0,h=this.points.length;a<h;a++)l.points.push(this.points[a].toArray());return l}fromJSON(l){super.fromJSON(l),this.points=[];for(let a=0,h=l.points.length;a<h;a++){const d=l.points[a];this.points.push((new _t).fromArray(d))}return this}}var _j=Object.freeze({__proto__:null,ArcCurve:class wxt extends dj{constructor(l,a,h,d,f,p){super(l,a,h,h,d,f,p),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:twe,CubicBezierCurve:iwe,CubicBezierCurve3:class Axt extends Vf{constructor(l=new ae,a=new ae,h=new ae,d=new ae){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=l,this.v1=a,this.v2=h,this.v3=d}getPoint(l,a=new ae){const h=a,d=this.v0,f=this.v1,p=this.v2,g=this.v3;return h.set(uk(l,d.x,f.x,p.x,g.x),uk(l,d.y,f.y,p.y,g.y),uk(l,d.z,f.z,p.z,g.z)),h}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this.v3.copy(l.v3),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l.v3=this.v3.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this.v3.fromArray(l.v3),this}},EllipseCurve:dj,LineCurve:vj,LineCurve3:class Ixt extends Vf{constructor(l=new ae,a=new ae){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=l,this.v2=a}getPoint(l,a=new ae){const h=a;return 1===l?h.copy(this.v2):(h.copy(this.v2).sub(this.v1),h.multiplyScalar(l).add(this.v1)),h}getPointAt(l,a){return this.getPoint(l,a)}copy(l){return super.copy(l),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}},QuadraticBezierCurve:rwe,QuadraticBezierCurve3:class swe extends Vf{constructor(l=new ae,a=new ae,h=new ae){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=l,this.v1=a,this.v2=h}getPoint(l,a=new ae){const h=a,d=this.v0,f=this.v1,p=this.v2;return h.set(ck(l,d.x,f.x,p.x),ck(l,d.y,f.y,p.y),ck(l,d.z,f.z,p.z)),h}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}},SplineCurve:owe});class Rxt extends Vf{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(l){this.curves.push(l)}closePath(){const l=this.curves[0].getPoint(0),a=this.curves[this.curves.length-1].getPoint(1);l.equals(a)||this.curves.push(new vj(a,l))}getPoint(l,a){const h=l*this.getLength(),d=this.getCurveLengths();let f=0;for(;f<d.length;){if(d[f]>=h){const p=d[f]-h,g=this.curves[f],m=g.getLength();return g.getPointAt(0===m?0:1-p/m,a)}f++}return null}getLength(){const l=this.getCurveLengths();return l[l.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const l=[];let a=0;for(let h=0,d=this.curves.length;h<d;h++)a+=this.curves[h].getLength(),l.push(a);return this.cacheLengths=l,l}getSpacedPoints(l=40){const a=[];for(let h=0;h<=l;h++)a.push(this.getPoint(h/l));return this.autoClose&&a.push(a[0]),a}getPoints(l=12){const a=[];let h;for(let d=0,f=this.curves;d<f.length;d++){const p=f[d],m=p.getPoints(p.isEllipseCurve?2*l:p.isLineCurve||p.isLineCurve3?1:p.isSplineCurve?l*p.points.length:l);for(let v=0;v<m.length;v++){const _=m[v];h&&h.equals(_)||(a.push(_),h=_)}}return this.autoClose&&a.length>1&&!a[a.length-1].equals(a[0])&&a.push(a[0]),a}copy(l){super.copy(l),this.curves=[];for(let a=0,h=l.curves.length;a<h;a++)this.curves.push(l.curves[a].clone());return this.autoClose=l.autoClose,this}toJSON(){const l=super.toJSON();l.autoClose=this.autoClose,l.curves=[];for(let a=0,h=this.curves.length;a<h;a++)l.curves.push(this.curves[a].toJSON());return l}fromJSON(l){super.fromJSON(l),this.autoClose=l.autoClose,this.curves=[];for(let a=0,h=l.curves.length;a<h;a++){const d=l.curves[a];this.curves.push((new _j[d.type]).fromJSON(d))}return this}}class $v extends Rxt{constructor(l){super(),this.type="Path",this.currentPoint=new _t,l&&this.setFromPoints(l)}setFromPoints(l){this.moveTo(l[0].x,l[0].y);for(let a=1,h=l.length;a<h;a++)this.lineTo(l[a].x,l[a].y);return this}moveTo(l,a){return this.currentPoint.set(l,a),this}lineTo(l,a){const h=new vj(this.currentPoint.clone(),new _t(l,a));return this.curves.push(h),this.currentPoint.set(l,a),this}quadraticCurveTo(l,a,h,d){const f=new rwe(this.currentPoint.clone(),new _t(l,a),new _t(h,d));return this.curves.push(f),this.currentPoint.set(h,d),this}bezierCurveTo(l,a,h,d,f,p){const g=new iwe(this.currentPoint.clone(),new _t(l,a),new _t(h,d),new _t(f,p));return this.curves.push(g),this.currentPoint.set(f,p),this}splineThru(l){const a=[this.currentPoint.clone()].concat(l),h=new owe(a);return this.curves.push(h),this.currentPoint.copy(l[l.length-1]),this}arc(l,a,h,d,f,p){return this.absarc(l+this.currentPoint.x,a+this.currentPoint.y,h,d,f,p),this}absarc(l,a,h,d,f,p){return this.absellipse(l,a,h,h,d,f,p),this}ellipse(l,a,h,d,f,p,g,m){return this.absellipse(l+this.currentPoint.x,a+this.currentPoint.y,h,d,f,p,g,m),this}absellipse(l,a,h,d,f,p,g,m){const v=new dj(l,a,h,d,f,p,g,m);if(this.curves.length>0){const y=v.getPoint(0);y.equals(this.currentPoint)||this.lineTo(y.x,y.y)}this.curves.push(v);const _=v.getPoint(1);return this.currentPoint.copy(_),this}copy(l){return super.copy(l),this.currentPoint.copy(l.currentPoint),this}toJSON(){const l=super.toJSON();return l.currentPoint=this.currentPoint.toArray(),l}fromJSON(l){return super.fromJSON(l),this.currentPoint.fromArray(l.currentPoint),this}}class r0 extends Ji{constructor(l=[],a=[],h=1,d=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:l,indices:a,radius:h,detail:d};const f=[],p=[];function m(T,D,k,P){const N=P+1,F=[];for(let L=0;L<=N;L++){F[L]=[];const $=T.clone().lerp(k,L/N),U=D.clone().lerp(k,L/N),z=N-L;for(let ee=0;ee<=z;ee++)F[L][ee]=0===ee&&L===N?$:$.clone().lerp(U,ee/z)}for(let L=0;L<N;L++)for(let $=0;$<2*(N-L)-1;$++){const U=Math.floor($/2);$%2==0?(b(F[L][U+1]),b(F[L+1][U]),b(F[L][U])):(b(F[L][U+1]),b(F[L+1][U+1]),b(F[L+1][U]))}}function b(T){f.push(T.x,T.y,T.z)}function O(T,D){const k=3*T;D.x=l[k+0],D.y=l[k+1],D.z=l[k+2]}function S(T,D,k,P){P<0&&1===T.x&&(p[D]=T.x-1),0===k.x&&0===k.z&&(p[D]=P/2/Math.PI+.5)}function w(T){return Math.atan2(T.z,-T.x)}function x(T){return Math.atan2(-T.y,Math.sqrt(T.x*T.x+T.z*T.z))}(function g(T){const D=new ae,k=new ae,P=new ae;for(let N=0;N<a.length;N+=3)O(a[N+0],D),O(a[N+1],k),O(a[N+2],P),m(D,k,P,T)})(d),function v(T){const D=new ae;for(let k=0;k<f.length;k+=3)D.x=f[k+0],D.y=f[k+1],D.z=f[k+2],D.normalize().multiplyScalar(T),f[k+0]=D.x,f[k+1]=D.y,f[k+2]=D.z}(h),function _(){const T=new ae;for(let D=0;D<f.length;D+=3){T.x=f[D+0],T.y=f[D+1],T.z=f[D+2];const k=w(T)/2/Math.PI+.5,P=x(T)/Math.PI+.5;p.push(k,1-P)}(function C(){const T=new ae,D=new ae,k=new ae,P=new ae,N=new _t,F=new _t,L=new _t;for(let $=0,U=0;$<f.length;$+=9,U+=6){T.set(f[$+0],f[$+1],f[$+2]),D.set(f[$+3],f[$+4],f[$+5]),k.set(f[$+6],f[$+7],f[$+8]),N.set(p[U+0],p[U+1]),F.set(p[U+2],p[U+3]),L.set(p[U+4],p[U+5]),P.copy(T).add(D).add(k).divideScalar(3);const z=w(P);S(N,U+0,T,z),S(F,U+2,D,z),S(L,U+4,k,z)}})(),function y(){for(let T=0;T<p.length;T+=6){const D=p[T+0],k=p[T+2],P=p[T+4],N=Math.max(D,k,P),F=Math.min(D,k,P);N>.9&&F<.1&&(D<.2&&(p[T+0]+=1),k<.2&&(p[T+2]+=1),P<.2&&(p[T+4]+=1))}}()}(),this.setAttribute("position",new zn(f,3)),this.setAttribute("normal",new zn(f.slice(),3)),this.setAttribute("uv",new zn(p,2)),0===d?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(l){return new r0(l.vertices,l.indices,l.radius,l.details)}}class cg extends $v{constructor(l){super(l),this.uuid=ku(),this.type="Shape",this.holes=[]}getPointsHoles(l){const a=[];for(let h=0,d=this.holes.length;h<d;h++)a[h]=this.holes[h].getPoints(l);return a}extractPoints(l){return{shape:this.getPoints(l),holes:this.getPointsHoles(l)}}copy(l){super.copy(l),this.holes=[];for(let a=0,h=l.holes.length;a<h;a++)this.holes.push(l.holes[a].clone());return this}toJSON(){const l=super.toJSON();l.uuid=this.uuid,l.holes=[];for(let a=0,h=this.holes.length;a<h;a++)l.holes.push(this.holes[a].toJSON());return l}fromJSON(l){super.fromJSON(l),this.uuid=l.uuid,this.holes=[];for(let a=0,h=l.holes.length;a<h;a++){const d=l.holes[a];this.holes.push((new $v).fromJSON(d))}return this}}function awe(c,l,a,h,d){let f,p;if(d===function Kxt(c,l,a,h){let d=0;for(let f=l,p=a-h;f<a;f+=h)d+=(c[p]-c[f])*(c[f+1]+c[p+1]),p=f;return d}(c,l,a,h)>0)for(f=l;f<a;f+=h)p=uwe(f,c[f],c[f+1],p);else for(f=a-h;f>=l;f-=h)p=uwe(f,c[f],c[f+1],p);return p&&cR(p,p.next)&&(pk(p),p=p.next),p}function s0(c,l){if(!c)return c;l||(l=c);let h,a=c;do{if(h=!1,a.steiner||!cR(a,a.next)&&0!==no(a.prev,a,a.next))a=a.next;else{if(pk(a),a=l=a.prev,a===a.next)break;h=!0}}while(h||a!==l);return l}function dk(c,l,a,h,d,f,p){if(!c)return;!p&&f&&function Zxt(c,l,a,h){let d=c;do{null===d.z&&(d.z=bj(d.x,d.y,l,a,h)),d.prevZ=d.prev,d.nextZ=d.next,d=d.next}while(d!==c);d.prevZ.nextZ=null,d.prevZ=null,function jxt(c){let l,a,h,d,f,p,g,m,v=1;do{for(a=c,c=null,f=null,p=0;a;){for(p++,h=a,g=0,l=0;l<v&&(g++,h=h.nextZ,h);l++);for(m=v;g>0||m>0&&h;)0!==g&&(0===m||!h||a.z<=h.z)?(d=a,a=a.nextZ,g--):(d=h,h=h.nextZ,m--),f?f.nextZ=d:c=d,d.prevZ=f,f=d;a=h}f.nextZ=null,v*=2}while(p>1)}(d)}(c,h,d,f);let m,v,g=c;for(;c.prev!==c.next;)if(m=c.prev,v=c.next,f?Bxt(c,h,d,f):Fxt(c))l.push(m.i/a),l.push(c.i/a),l.push(v.i/a),pk(c),c=v.next,g=v.next;else if((c=v)===g){p?1===p?dk(c=Vxt(s0(c),l,a),l,a,h,d,f,2):2===p&&$xt(c,l,a,h,d,f):dk(s0(c),l,a,h,d,f,1);break}}function Fxt(c){const l=c.prev,a=c,h=c.next;if(no(l,a,h)>=0)return!1;let d=c.next.next;for(;d!==c.prev;){if(FC(l.x,l.y,a.x,a.y,h.x,h.y,d.x,d.y)&&no(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function Bxt(c,l,a,h){const d=c.prev,f=c,p=c.next;if(no(d,f,p)>=0)return!1;const v=d.x>f.x?d.x>p.x?d.x:p.x:f.x>p.x?f.x:p.x,_=d.y>f.y?d.y>p.y?d.y:p.y:f.y>p.y?f.y:p.y,y=bj(d.x<f.x?d.x<p.x?d.x:p.x:f.x<p.x?f.x:p.x,d.y<f.y?d.y<p.y?d.y:p.y:f.y<p.y?f.y:p.y,l,a,h),b=bj(v,_,l,a,h);let O=c.prevZ,C=c.nextZ;for(;O&&O.z>=y&&C&&C.z<=b;){if(O!==c.prev&&O!==c.next&&FC(d.x,d.y,f.x,f.y,p.x,p.y,O.x,O.y)&&no(O.prev,O,O.next)>=0||(O=O.prevZ,C!==c.prev&&C!==c.next&&FC(d.x,d.y,f.x,f.y,p.x,p.y,C.x,C.y)&&no(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;O&&O.z>=y;){if(O!==c.prev&&O!==c.next&&FC(d.x,d.y,f.x,f.y,p.x,p.y,O.x,O.y)&&no(O.prev,O,O.next)>=0)return!1;O=O.prevZ}for(;C&&C.z<=b;){if(C!==c.prev&&C!==c.next&&FC(d.x,d.y,f.x,f.y,p.x,p.y,C.x,C.y)&&no(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function Vxt(c,l,a){let h=c;do{const d=h.prev,f=h.next.next;!cR(d,f)&&lwe(d,h,h.next,f)&&fk(d,f)&&fk(f,d)&&(l.push(d.i/a),l.push(h.i/a),l.push(f.i/a),pk(h),pk(h.next),h=c=f),h=h.next}while(h!==c);return s0(h)}function $xt(c,l,a,h,d,f){let p=c;do{let g=p.next.next;for(;g!==p.prev;){if(p.i!==g.i&&Xxt(p,g)){let m=cwe(p,g);return p=s0(p,p.next),m=s0(m,m.next),dk(p,l,a,h,d,f),void dk(m,l,a,h,d,f)}g=g.next}p=p.next}while(p!==c)}function Uxt(c,l){return c.x-l.x}function Qxt(c,l){if(l=function Hxt(c,l){let a=l;const h=c.x,d=c.y;let p,f=-1/0;do{if(d<=a.y&&d>=a.next.y&&a.next.y!==a.y){const b=a.x+(d-a.y)*(a.next.x-a.x)/(a.next.y-a.y);if(b<=h&&b>f){if(f=b,b===h){if(d===a.y)return a;if(d===a.next.y)return a.next}p=a.x<a.next.x?a:a.next}}a=a.next}while(a!==l);if(!p)return null;if(h===f)return p;const g=p,m=p.x,v=p.y;let y,_=1/0;a=p;do{h>=a.x&&a.x>=m&&h!==a.x&&FC(d<v?h:f,d,m,v,d<v?f:h,d,a.x,a.y)&&(y=Math.abs(d-a.y)/(h-a.x),fk(a,c)&&(y<_||y===_&&(a.x>p.x||a.x===p.x&&Wxt(p,a)))&&(p=a,_=y)),a=a.next}while(a!==g);return p}(c,l),l){const a=cwe(l,c);s0(l,l.next),s0(a,a.next)}}function Wxt(c,l){return no(c.prev,c,l.prev)<0&&no(l.next,c,c.next)<0}function bj(c,l,a,h,d){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=32767*(c-a)*d)|c<<8))|c<<4))|c<<2))|c<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=32767*(l-h)*d)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function Gxt(c){let l=c,a=c;do{(l.x<a.x||l.x===a.x&&l.y<a.y)&&(a=l),l=l.next}while(l!==c);return a}function FC(c,l,a,h,d,f,p,g){return(d-p)*(l-g)-(c-p)*(f-g)>=0&&(c-p)*(h-g)-(a-p)*(l-g)>=0&&(a-p)*(f-g)-(d-p)*(h-g)>=0}function Xxt(c,l){return c.next.i!==l.i&&c.prev.i!==l.i&&!function Yxt(c,l){let a=c;do{if(a.i!==c.i&&a.next.i!==c.i&&a.i!==l.i&&a.next.i!==l.i&&lwe(a,a.next,c,l))return!0;a=a.next}while(a!==c);return!1}(c,l)&&(fk(c,l)&&fk(l,c)&&function qxt(c,l){let a=c,h=!1;const d=(c.x+l.x)/2,f=(c.y+l.y)/2;do{a.y>f!=a.next.y>f&&a.next.y!==a.y&&d<(a.next.x-a.x)*(f-a.y)/(a.next.y-a.y)+a.x&&(h=!h),a=a.next}while(a!==c);return h}(c,l)&&(no(c.prev,c,l.prev)||no(c,l.prev,l))||cR(c,l)&&no(c.prev,c,c.next)>0&&no(l.prev,l,l.next)>0)}function no(c,l,a){return(l.y-c.y)*(a.x-l.x)-(l.x-c.x)*(a.y-l.y)}function cR(c,l){return c.x===l.x&&c.y===l.y}function lwe(c,l,a,h){const d=hR(no(c,l,a)),f=hR(no(c,l,h)),p=hR(no(a,h,c)),g=hR(no(a,h,l));return!!(d!==f&&p!==g||0===d&&uR(c,a,l)||0===f&&uR(c,h,l)||0===p&&uR(a,c,h)||0===g&&uR(a,l,h))}function uR(c,l,a){return l.x<=Math.max(c.x,a.x)&&l.x>=Math.min(c.x,a.x)&&l.y<=Math.max(c.y,a.y)&&l.y>=Math.min(c.y,a.y)}function hR(c){return c>0?1:c<0?-1:0}function fk(c,l){return no(c.prev,c,c.next)<0?no(c,l,c.next)>=0&&no(c,c.prev,l)>=0:no(c,l,c.prev)<0||no(c,c.next,l)<0}function cwe(c,l){const a=new Oj(c.i,c.x,c.y),h=new Oj(l.i,l.x,l.y),d=c.next,f=l.prev;return c.next=l,l.prev=c,a.next=d,d.prev=a,h.next=a,a.prev=h,f.next=h,h.prev=f,h}function uwe(c,l,a,h){const d=new Oj(c,l,a);return h?(d.next=h.next,d.prev=h,h.next.prev=d,h.next=d):(d.prev=d,d.next=d),d}function pk(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function Oj(c,l,a){this.i=c,this.x=l,this.y=a,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class ug{static area(l){const a=l.length;let h=0;for(let d=a-1,f=0;f<a;d=f++)h+=l[d].x*l[f].y-l[f].x*l[d].y;return.5*h}static isClockWise(l){return ug.area(l)<0}static triangulateShape(l,a){const h=[],d=[],f=[];hwe(l),dwe(h,l);let p=l.length;a.forEach(hwe);for(let m=0;m<a.length;m++)d.push(p),p+=a[m].length,dwe(h,a[m]);const g=function(c,l,a=2){const h=l&&l.length,d=h?l[0]*a:c.length;let f=awe(c,0,d,a,!0);const p=[];if(!f||f.next===f.prev)return p;let g,m,v,_,y,b,O;if(h&&(f=function zxt(c,l,a,h){const d=[];let f,p,g,m,v;for(f=0,p=l.length;f<p;f++)g=l[f]*h,m=f<p-1?l[f+1]*h:c.length,v=awe(c,g,m,h,!1),v===v.next&&(v.steiner=!0),d.push(Gxt(v));for(d.sort(Uxt),f=0;f<d.length;f++)Qxt(d[f],a),a=s0(a,a.next);return a}(c,l,f,a)),c.length>80*a){g=v=c[0],m=_=c[1];for(let C=a;C<d;C+=a)y=c[C],b=c[C+1],y<g&&(g=y),b<m&&(m=b),y>v&&(v=y),b>_&&(_=b);O=Math.max(v-g,_-m),O=0!==O?1/O:0}return dk(f,p,a,g,m,O),p}(h,d);for(let m=0;m<g.length;m+=3)f.push(g.slice(m,m+3));return f}}function hwe(c){const l=c.length;l>2&&c[l-1].equals(c[0])&&c.pop()}function dwe(c,l){for(let a=0;a<l.length;a++)c.push(l[a].x),c.push(l[a].y)}class BC extends Ji{constructor(l=new cg([new _t(.5,.5),new _t(-.5,.5),new _t(-.5,-.5),new _t(.5,-.5)]),a={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:l,options:a},l=Array.isArray(l)?l:[l];const h=this,d=[],f=[];for(let g=0,m=l.length;g<m;g++)p(l[g]);function p(g){const m=[],v=void 0!==a.curveSegments?a.curveSegments:12,_=void 0!==a.steps?a.steps:1;let y=void 0!==a.depth?a.depth:1,b=void 0===a.bevelEnabled||a.bevelEnabled,O=void 0!==a.bevelThickness?a.bevelThickness:.2,C=void 0!==a.bevelSize?a.bevelSize:O-.1,S=void 0!==a.bevelOffset?a.bevelOffset:0,w=void 0!==a.bevelSegments?a.bevelSegments:3;const x=a.extrudePath,T=void 0!==a.UVGenerator?a.UVGenerator:Jxt;void 0!==a.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),y=a.amount);let D,P,N,F,L,k=!1;x&&(D=x.getSpacedPoints(_),k=!0,b=!1,P=x.computeFrenetFrames(_,!1),N=new ae,F=new ae,L=new ae),b||(w=0,O=0,C=0,S=0);const $=g.extractPoints(v);let U=$.shape;const z=$.holes;if(!ug.isClockWise(U)){U=U.reverse();for(let _e=0,$e=z.length;_e<$e;_e++){const it=z[_e];ug.isClockWise(it)&&(z[_e]=it.reverse())}}const te=ug.triangulateShape(U,z),B=U;for(let _e=0,$e=z.length;_e<$e;_e++)U=U.concat(z[_e]);function j(_e,$e,it){return $e||console.error("THREE.ExtrudeGeometry: vec does not exist"),$e.clone().multiplyScalar(it).add(_e)}const W=U.length,q=te.length;function G(_e,$e,it){let pt,rt,Re;const ot=_e.x-$e.x,nn=_e.y-$e.y,An=it.x-_e.x,ri=it.y-_e.y,Oe=ot*ot+nn*nn;if(Math.abs(ot*ri-nn*An)>Number.EPSILON){const vt=Math.sqrt(Oe),Et=Math.sqrt(An*An+ri*ri),on=$e.x-nn/vt,jt=$e.y+ot/vt,xt=((it.x-ri/Et-on)*ri-(it.y+An/Et-jt)*An)/(ot*ri-nn*An);pt=on+ot*xt-_e.x,rt=jt+nn*xt-_e.y;const Gt=pt*pt+rt*rt;if(Gt<=2)return new _t(pt,rt);Re=Math.sqrt(Gt/2)}else{let vt=!1;ot>Number.EPSILON?An>Number.EPSILON&&(vt=!0):ot<-Number.EPSILON?An<-Number.EPSILON&&(vt=!0):Math.sign(nn)===Math.sign(ri)&&(vt=!0),vt?(pt=-nn,rt=ot,Re=Math.sqrt(Oe)):(pt=ot,rt=nn,Re=Math.sqrt(Oe/2))}return new _t(pt/Re,rt/Re)}const K=[];for(let _e=0,$e=B.length,it=$e-1,pt=_e+1;_e<$e;_e++,it++,pt++)it===$e&&(it=0),pt===$e&&(pt=0),K[_e]=G(B[_e],B[it],B[pt]);const J=[];let ie,re=K.concat();for(let _e=0,$e=z.length;_e<$e;_e++){const it=z[_e];ie=[];for(let pt=0,rt=it.length,Re=rt-1,ot=pt+1;pt<rt;pt++,Re++,ot++)Re===rt&&(Re=0),ot===rt&&(ot=0),ie[pt]=G(it[pt],it[Re],it[ot]);J.push(ie),re=re.concat(ie)}for(let _e=0;_e<w;_e++){const $e=_e/w,it=O*Math.cos($e*Math.PI/2),pt=C*Math.sin($e*Math.PI/2)+S;for(let rt=0,Re=B.length;rt<Re;rt++){const ot=j(B[rt],K[rt],pt);Ie(ot.x,ot.y,-it)}for(let rt=0,Re=z.length;rt<Re;rt++){const ot=z[rt];ie=J[rt];for(let nn=0,An=ot.length;nn<An;nn++){const ri=j(ot[nn],ie[nn],pt);Ie(ri.x,ri.y,-it)}}}const he=C+S;for(let _e=0;_e<W;_e++){const $e=b?j(U[_e],re[_e],he):U[_e];k?(F.copy(P.normals[0]).multiplyScalar($e.x),N.copy(P.binormals[0]).multiplyScalar($e.y),L.copy(D[0]).add(F).add(N),Ie(L.x,L.y,L.z)):Ie($e.x,$e.y,0)}for(let _e=1;_e<=_;_e++)for(let $e=0;$e<W;$e++){const it=b?j(U[$e],re[$e],he):U[$e];k?(F.copy(P.normals[_e]).multiplyScalar(it.x),N.copy(P.binormals[_e]).multiplyScalar(it.y),L.copy(D[_e]).add(F).add(N),Ie(L.x,L.y,L.z)):Ie(it.x,it.y,y/_*_e)}for(let _e=w-1;_e>=0;_e--){const $e=_e/w,it=O*Math.cos($e*Math.PI/2),pt=C*Math.sin($e*Math.PI/2)+S;for(let rt=0,Re=B.length;rt<Re;rt++){const ot=j(B[rt],K[rt],pt);Ie(ot.x,ot.y,y+it)}for(let rt=0,Re=z.length;rt<Re;rt++){const ot=z[rt];ie=J[rt];for(let nn=0,An=ot.length;nn<An;nn++){const ri=j(ot[nn],ie[nn],pt);k?Ie(ri.x,ri.y+D[_-1].y,D[_-1].x+it):Ie(ri.x,ri.y,y+it)}}}function xe(_e,$e){let it=_e.length;for(;--it>=0;){const pt=it;let rt=it-1;rt<0&&(rt=_e.length-1);for(let Re=0,ot=_+2*w;Re<ot;Re++){const nn=W*Re,An=W*(Re+1);Ne($e+pt+nn,$e+rt+nn,$e+rt+An,$e+pt+An)}}}function Ie(_e,$e,it){m.push(_e),m.push($e),m.push(it)}function Ze(_e,$e,it){Ve(_e),Ve($e),Ve(it);const pt=d.length/3,rt=T.generateTopUV(h,d,pt-3,pt-2,pt-1);nt(rt[0]),nt(rt[1]),nt(rt[2])}function Ne(_e,$e,it,pt){Ve(_e),Ve($e),Ve(pt),Ve($e),Ve(it),Ve(pt);const rt=d.length/3,Re=T.generateSideWallUV(h,d,rt-6,rt-3,rt-2,rt-1);nt(Re[0]),nt(Re[1]),nt(Re[3]),nt(Re[1]),nt(Re[2]),nt(Re[3])}function Ve(_e){d.push(m[3*_e+0]),d.push(m[3*_e+1]),d.push(m[3*_e+2])}function nt(_e){f.push(_e.x),f.push(_e.y)}(function de(){const _e=d.length/3;if(b){let $e=0,it=W*$e;for(let pt=0;pt<q;pt++){const rt=te[pt];Ze(rt[2]+it,rt[1]+it,rt[0]+it)}$e=_+2*w,it=W*$e;for(let pt=0;pt<q;pt++){const rt=te[pt];Ze(rt[0]+it,rt[1]+it,rt[2]+it)}}else{for(let $e=0;$e<q;$e++){const it=te[$e];Ze(it[2],it[1],it[0])}for(let $e=0;$e<q;$e++){const it=te[$e];Ze(it[0]+W*_,it[1]+W*_,it[2]+W*_)}}h.addGroup(_e,d.length/3-_e,0)})(),function ke(){const _e=d.length/3;let $e=0;xe(B,$e),$e+=B.length;for(let it=0,pt=z.length;it<pt;it++){const rt=z[it];xe(rt,$e),$e+=rt.length}h.addGroup(_e,d.length/3-_e,1)}()}this.setAttribute("position",new zn(d,3)),this.setAttribute("uv",new zn(f,2)),this.computeVertexNormals()}toJSON(){const l=super.toJSON();return function eTt(c,l,a){if(a.shapes=[],Array.isArray(c))for(let h=0,d=c.length;h<d;h++)a.shapes.push(c[h].uuid);else a.shapes.push(c.uuid);return a.options=Object.assign({},l),void 0!==l.extrudePath&&(a.options.extrudePath=l.extrudePath.toJSON()),a}(this.parameters.shapes,this.parameters.options,l)}static fromJSON(l,a){const h=[];for(let f=0,p=l.shapes.length;f<p;f++)h.push(a[l.shapes[f]]);const d=l.options.extrudePath;return void 0!==d&&(l.options.extrudePath=(new _j[d.type]).fromJSON(d)),new BC(h,l.options)}}const Jxt={generateTopUV:function(c,l,a,h,d){const g=l[3*h],m=l[3*h+1],v=l[3*d],_=l[3*d+1];return[new _t(l[3*a],l[3*a+1]),new _t(g,m),new _t(v,_)]},generateSideWallUV:function(c,l,a,h,d,f){const p=l[3*a],g=l[3*a+1],m=l[3*a+2],v=l[3*h],_=l[3*h+1],y=l[3*h+2],b=l[3*d],O=l[3*d+1],C=l[3*d+2],S=l[3*f],w=l[3*f+1],x=l[3*f+2];return Math.abs(g-_)<Math.abs(p-v)?[new _t(p,1-m),new _t(v,1-y),new _t(b,1-C),new _t(S,1-x)]:[new _t(g,1-m),new _t(_,1-y),new _t(O,1-C),new _t(w,1-x)]}};class gk extends r0{constructor(l=1,a=0){const h=(1+Math.sqrt(5))/2;super([-1,h,0,1,h,0,-1,-h,0,1,-h,0,0,-1,h,0,1,h,0,-1,-h,0,1,-h,h,0,-1,h,0,1,-h,0,-1,-h,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],l,a),this.type="IcosahedronGeometry",this.parameters={radius:l,detail:a}}static fromJSON(l){return new gk(l.radius,l.detail)}}class VC extends Ji{constructor(l=1,a=32,h=16,d=0,f=2*Math.PI,p=0,g=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:l,widthSegments:a,heightSegments:h,phiStart:d,phiLength:f,thetaStart:p,thetaLength:g},a=Math.max(3,Math.floor(a)),h=Math.max(2,Math.floor(h));const m=Math.min(p+g,Math.PI);let v=0;const _=[],y=new ae,b=new ae,O=[],C=[],S=[],w=[];for(let x=0;x<=h;x++){const T=[],D=x/h;let k=0;0==x&&0==p?k=.5/a:x==h&&m==Math.PI&&(k=-.5/a);for(let P=0;P<=a;P++){const N=P/a;y.x=-l*Math.cos(d+N*f)*Math.sin(p+D*g),y.y=l*Math.cos(p+D*g),y.z=l*Math.sin(d+N*f)*Math.sin(p+D*g),C.push(y.x,y.y,y.z),b.copy(y).normalize(),S.push(b.x,b.y,b.z),w.push(N+k,1-D),T.push(v++)}_.push(T)}for(let x=0;x<h;x++)for(let T=0;T<a;T++){const k=_[x][T],P=_[x+1][T],N=_[x+1][T+1];(0!==x||p>0)&&O.push(_[x][T+1],k,N),(x!==h-1||m<Math.PI)&&O.push(k,P,N)}this.setIndex(O),this.setAttribute("position",new zn(C,3)),this.setAttribute("normal",new zn(S,3)),this.setAttribute("uv",new zn(w,2))}static fromJSON(l){return new VC(l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength)}}class gwe extends Jm{constructor(l){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Cn(16777215),this.specular=new Cn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Cn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oC,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=d5,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.specular.copy(l.specular),this.shininess=l.shininess,this.map=l.map,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.emissive.copy(l.emissive),this.emissiveMap=l.emissiveMap,this.emissiveIntensity=l.emissiveIntensity,this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.specularMap=l.specularMap,this.alphaMap=l.alphaMap,this.envMap=l.envMap,this.combine=l.combine,this.reflectivity=l.reflectivity,this.refractionRatio=l.refractionRatio,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.flatShading=l.flatShading,this.fog=l.fog,this}}class mwe extends Jm{constructor(l){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Cn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Cn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oC,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.gradientMap=l.gradientMap,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.emissive.copy(l.emissive),this.emissiveMap=l.emissiveMap,this.emissiveIntensity=l.emissiveIntensity,this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.alphaMap=l.alphaMap,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.fog=l.fog,this}}class _R extends Jm{constructor(l){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Cn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Cn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=d5,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.emissive.copy(l.emissive),this.emissiveMap=l.emissiveMap,this.emissiveIntensity=l.emissiveIntensity,this.specularMap=l.specularMap,this.alphaMap=l.alphaMap,this.envMap=l.envMap,this.combine=l.combine,this.reflectivity=l.reflectivity,this.refractionRatio=l.refractionRatio,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.fog=l.fog,this}}const Hs={arraySlice:function(c,l,a){return Hs.isTypedArray(c)?new c.constructor(c.subarray(l,void 0!==a?a:c.length)):c.slice(l,a)},convertArray:function(c,l,a){return!c||!a&&c.constructor===l?c:"number"==typeof l.BYTES_PER_ELEMENT?new l(c):Array.prototype.slice.call(c)},isTypedArray:function(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)},getKeyframeOrder:function(c){const a=c.length,h=new Array(a);for(let d=0;d!==a;++d)h[d]=d;return h.sort(function l(d,f){return c[d]-c[f]}),h},sortedArray:function(c,l,a){const h=c.length,d=new c.constructor(h);for(let f=0,p=0;p!==h;++f){const g=a[f]*l;for(let m=0;m!==l;++m)d[p++]=c[g+m]}return d},flattenJSON:function(c,l,a,h){let d=1,f=c[0];for(;void 0!==f&&void 0===f[h];)f=c[d++];if(void 0===f)return;let p=f[h];if(void 0!==p)if(Array.isArray(p))do{p=f[h],void 0!==p&&(l.push(f.time),a.push.apply(a,p)),f=c[d++]}while(void 0!==f);else if(void 0!==p.toArray)do{p=f[h],void 0!==p&&(l.push(f.time),p.toArray(a,a.length)),f=c[d++]}while(void 0!==f);else do{p=f[h],void 0!==p&&(l.push(f.time),a.push(p)),f=c[d++]}while(void 0!==f)},subclip:function(c,l,a,h,d=30){const f=c.clone();f.name=l;const p=[];for(let m=0;m<f.tracks.length;++m){const v=f.tracks[m],_=v.getValueSize(),y=[],b=[];for(let O=0;O<v.times.length;++O){const C=v.times[O]*d;if(!(C<a||C>=h)){y.push(v.times[O]);for(let S=0;S<_;++S)b.push(v.values[O*_+S])}}0!==y.length&&(v.times=Hs.convertArray(y,v.times.constructor),v.values=Hs.convertArray(b,v.values.constructor),p.push(v))}f.tracks=p;let g=1/0;for(let m=0;m<f.tracks.length;++m)g>f.tracks[m].times[0]&&(g=f.tracks[m].times[0]);for(let m=0;m<f.tracks.length;++m)f.tracks[m].shift(-1*g);return f.resetDuration(),f},makeClipAdditive:function(c,l=0,a=c,h=30){h<=0&&(h=30);const d=a.tracks.length,f=l/h;for(let p=0;p<d;++p){const g=a.tracks[p],m=g.ValueTypeName;if("bool"===m||"string"===m)continue;const v=c.tracks.find(function(x){return x.name===g.name&&x.ValueTypeName===m});if(void 0===v)continue;let _=0;const y=g.getValueSize();g.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=y/3);let b=0;const O=v.getValueSize();v.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(b=O/3);const C=g.times.length-1;let S;if(f<=g.times[0])S=Hs.arraySlice(g.values,_,y-_);else if(f>=g.times[C]){const x=C*y+_;S=Hs.arraySlice(g.values,x,x+y-_)}else{const x=g.createInterpolant(),T=_,D=y-_;x.evaluate(f),S=Hs.arraySlice(x.resultBuffer,T,D)}"quaternion"===m&&(new ac).fromArray(S).normalize().conjugate().toArray(S);const w=v.times.length;for(let x=0;x<w;++x){const T=x*O+b;if("quaternion"===m)ac.multiplyQuaternionsFlat(v.values,T,S,0,v.values,T);else{const D=O-2*b;for(let k=0;k<D;++k)v.values[T+k]-=S[k]}}}return c.blendMode=2501,c}};class yR{constructor(l,a,h,d){this.parameterPositions=l,this._cachedIndex=0,this.resultBuffer=void 0!==d?d:new a.constructor(h),this.sampleValues=a,this.valueSize=h,this.settings=null,this.DefaultSettings_={}}evaluate(l){const a=this.parameterPositions;let h=this._cachedIndex,d=a[h],f=a[h-1];e:{t:{let p;n:{i:if(!(l<d)){for(let g=h+2;;){if(void 0===d){if(l<f)break i;return h=a.length,this._cachedIndex=h,this.copySampleValue_(h-1)}if(h===g)break;if(f=d,d=a[++h],l<d)break t}p=a.length;break n}if(l>=f)break e;{const g=a[1];l<g&&(h=2,f=g);for(let m=h-2;;){if(void 0===f)return this._cachedIndex=0,this.copySampleValue_(0);if(h===m)break;if(d=f,f=a[--h-1],l>=f)break t}p=h,h=0}}for(;h<p;){const g=h+p>>>1;l<a[g]?p=g:h=g+1}if(d=a[h],f=a[h-1],void 0===f)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===d)return h=a.length,this._cachedIndex=h,this.copySampleValue_(h-1)}this._cachedIndex=h,this.intervalChanged_(h,f,d)}return this.interpolate_(h,f,l,d)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(l){const a=this.resultBuffer,h=this.sampleValues,d=this.valueSize,f=l*d;for(let p=0;p!==d;++p)a[p]=h[f+p];return a}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class uTt extends yR{constructor(l,a,h,d){super(l,a,h,d),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(l,a,h){const d=this.parameterPositions;let f=l-2,p=l+1,g=d[f],m=d[p];if(void 0===g)switch(this.getSettings_().endingStart){case 2401:f=l,g=2*a-h;break;case 2402:f=d.length-2,g=a+d[f]-d[f+1];break;default:f=l,g=h}if(void 0===m)switch(this.getSettings_().endingEnd){case 2401:p=l,m=2*h-a;break;case 2402:p=1,m=h+d[1]-d[0];break;default:p=l-1,m=a}const v=.5*(h-a),_=this.valueSize;this._weightPrev=v/(a-g),this._weightNext=v/(m-h),this._offsetPrev=f*_,this._offsetNext=p*_}interpolate_(l,a,h,d){const f=this.resultBuffer,p=this.sampleValues,g=this.valueSize,m=l*g,v=m-g,_=this._offsetPrev,y=this._offsetNext,b=this._weightPrev,O=this._weightNext,C=(h-a)/(d-a),S=C*C,w=S*C,x=-b*w+2*b*S-b*C,T=(1+b)*w+(-1.5-2*b)*S+(-.5+b)*C+1,D=(-1-O)*w+(1.5+O)*S+.5*C,k=O*w-O*S;for(let P=0;P!==g;++P)f[P]=x*p[_+P]+T*p[v+P]+D*p[m+P]+k*p[y+P];return f}}class vwe extends yR{constructor(l,a,h,d){super(l,a,h,d)}interpolate_(l,a,h,d){const f=this.resultBuffer,p=this.sampleValues,g=this.valueSize,m=l*g,v=m-g,_=(h-a)/(d-a),y=1-_;for(let b=0;b!==g;++b)f[b]=p[v+b]*y+p[m+b]*_;return f}}class hTt extends yR{constructor(l,a,h,d){super(l,a,h,d)}interpolate_(l){return this.copySampleValue_(l-1)}}class $f{constructor(l,a,h,d){if(void 0===l)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===a||0===a.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+l);this.name=l,this.times=Hs.convertArray(a,this.TimeBufferType),this.values=Hs.convertArray(h,this.ValueBufferType),this.setInterpolation(d||this.DefaultInterpolation)}static toJSON(l){const a=l.constructor;let h;if(a.toJSON!==this.toJSON)h=a.toJSON(l);else{h={name:l.name,times:Hs.convertArray(l.times,Array),values:Hs.convertArray(l.values,Array)};const d=l.getInterpolation();d!==l.DefaultInterpolation&&(h.interpolation=d)}return h.type=l.ValueTypeName,h}InterpolantFactoryMethodDiscrete(l){return new hTt(this.times,this.values,this.getValueSize(),l)}InterpolantFactoryMethodLinear(l){return new vwe(this.times,this.values,this.getValueSize(),l)}InterpolantFactoryMethodSmooth(l){return new uTt(this.times,this.values,this.getValueSize(),l)}setInterpolation(l){let a;switch(l){case 2300:a=this.InterpolantFactoryMethodDiscrete;break;case 2301:a=this.InterpolantFactoryMethodLinear;break;case 2302:a=this.InterpolantFactoryMethodSmooth}if(void 0===a){const h="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(l===this.DefaultInterpolation)throw new Error(h);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",h),this}return this.createInterpolant=a,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(l){if(0!==l){const a=this.times;for(let h=0,d=a.length;h!==d;++h)a[h]+=l}return this}scale(l){if(1!==l){const a=this.times;for(let h=0,d=a.length;h!==d;++h)a[h]*=l}return this}trim(l,a){const h=this.times,d=h.length;let f=0,p=d-1;for(;f!==d&&h[f]<l;)++f;for(;-1!==p&&h[p]>a;)--p;if(++p,0!==f||p!==d){f>=p&&(p=Math.max(p,1),f=p-1);const g=this.getValueSize();this.times=Hs.arraySlice(h,f,p),this.values=Hs.arraySlice(this.values,f*g,p*g)}return this}validate(){let l=!0;const a=this.getValueSize();a-Math.floor(a)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),l=!1);const h=this.times,d=this.values,f=h.length;0===f&&(console.error("THREE.KeyframeTrack: Track is empty.",this),l=!1);let p=null;for(let g=0;g!==f;g++){const m=h[g];if("number"==typeof m&&isNaN(m)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,g,m),l=!1;break}if(null!==p&&p>m){console.error("THREE.KeyframeTrack: Out of order keys.",this,g,m,p),l=!1;break}p=m}if(void 0!==d&&Hs.isTypedArray(d))for(let g=0,m=d.length;g!==m;++g){const v=d[g];if(isNaN(v)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,g,v),l=!1;break}}return l}optimize(){const l=Hs.arraySlice(this.times),a=Hs.arraySlice(this.values),h=this.getValueSize(),d=2302===this.getInterpolation(),f=l.length-1;let p=1;for(let g=1;g<f;++g){let m=!1;const v=l[g];if(v!==l[g+1]&&(1!==g||v!==l[0]))if(d)m=!0;else{const y=g*h,b=y-h,O=y+h;for(let C=0;C!==h;++C){const S=a[y+C];if(S!==a[b+C]||S!==a[O+C]){m=!0;break}}}if(m){if(g!==p){l[p]=l[g];const y=g*h,b=p*h;for(let O=0;O!==h;++O)a[b+O]=a[y+O]}++p}}if(f>0){l[p]=l[f];for(let g=f*h,m=p*h,v=0;v!==h;++v)a[m+v]=a[g+v];++p}return p!==l.length?(this.times=Hs.arraySlice(l,0,p),this.values=Hs.arraySlice(a,0,p*h)):(this.times=l,this.values=a),this}clone(){const l=Hs.arraySlice(this.times,0),a=Hs.arraySlice(this.values,0),d=new(0,this.constructor)(this.name,l,a);return d.createInterpolant=this.createInterpolant,d}}$f.prototype.TimeBufferType=Float32Array,$f.prototype.ValueBufferType=Float32Array,$f.prototype.DefaultInterpolation=2301;class $C extends $f{}$C.prototype.ValueTypeName="bool",$C.prototype.ValueBufferType=Array,$C.prototype.DefaultInterpolation=2300,$C.prototype.InterpolantFactoryMethodLinear=void 0,$C.prototype.InterpolantFactoryMethodSmooth=void 0;(class _we extends $f{}).prototype.ValueTypeName="color";(class bR extends $f{}).prototype.ValueTypeName="number";class dTt extends yR{constructor(l,a,h,d){super(l,a,h,d)}interpolate_(l,a,h,d){const f=this.resultBuffer,p=this.sampleValues,g=this.valueSize,m=(h-a)/(d-a);let v=l*g;for(let _=v+g;v!==_;v+=4)ac.slerpFlat(f,0,p,v-g,p,v,m);return f}}class vk extends $f{InterpolantFactoryMethodLinear(l){return new dTt(this.times,this.values,this.getValueSize(),l)}}vk.prototype.ValueTypeName="quaternion",vk.prototype.DefaultInterpolation=2301,vk.prototype.InterpolantFactoryMethodSmooth=void 0;class zC extends $f{}zC.prototype.ValueTypeName="string",zC.prototype.ValueBufferType=Array,zC.prototype.DefaultInterpolation=2300,zC.prototype.InterpolantFactoryMethodLinear=void 0,zC.prototype.InterpolantFactoryMethodSmooth=void 0;(class OR extends $f{}).prototype.ValueTypeName="vector";const UC={enabled:!1,files:{},add:function(c,l){!1!==this.enabled&&(this.files[c]=l)},get:function(c){if(!1!==this.enabled)return this.files[c]},remove:function(c){delete this.files[c]},clear:function(){this.files={}}};const gTt=new class ywe{constructor(l,a,h){const d=this;let m,f=!1,p=0,g=0;const v=[];this.onStart=void 0,this.onLoad=l,this.onProgress=a,this.onError=h,this.itemStart=function(_){g++,!1===f&&void 0!==d.onStart&&d.onStart(_,p,g),f=!0},this.itemEnd=function(_){p++,void 0!==d.onProgress&&d.onProgress(_,p,g),p===g&&(f=!1,void 0!==d.onLoad&&d.onLoad())},this.itemError=function(_){void 0!==d.onError&&d.onError(_)},this.resolveURL=function(_){return m?m(_):_},this.setURLModifier=function(_){return m=_,this},this.addHandler=function(_,y){return v.push(_,y),this},this.removeHandler=function(_){const y=v.indexOf(_);return-1!==y&&v.splice(y,2),this},this.getHandler=function(_){for(let y=0,b=v.length;y<b;y+=2){const O=v[y],C=v[y+1];if(O.global&&(O.lastIndex=0),O.test(_))return C}return null}}};class SR{constructor(l){this.manager=void 0!==l?l:gTt,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(l,a){const h=this;return new Promise(function(d,f){h.load(l,d,a,f)})}parse(){}setCrossOrigin(l){return this.crossOrigin=l,this}setWithCredentials(l){return this.withCredentials=l,this}setPath(l){return this.path=l,this}setResourcePath(l){return this.resourcePath=l,this}setRequestHeader(l){return this.requestHeader=l,this}}const hg={};class dg extends SR{constructor(l){super(l)}load(l,a,h,d){void 0===l&&(l=""),void 0!==this.path&&(l=this.path+l),l=this.manager.resolveURL(l);const f=UC.get(l);if(void 0!==f)return this.manager.itemStart(l),setTimeout(()=>{a&&a(f),this.manager.itemEnd(l)},0),f;if(void 0!==hg[l])return void hg[l].push({onLoad:a,onProgress:h,onError:d});hg[l]=[],hg[l].push({onLoad:a,onProgress:h,onError:d});const p=new Request(l,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),g=this.mimeType,m=this.responseType;fetch(p).then(v=>{if(200===v.status||0===v.status){if(0===v.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===v.body||void 0===v.body.getReader)return v;const _=hg[l],y=v.body.getReader(),b=v.headers.get("Content-Length"),O=b?parseInt(b):0,C=0!==O;let S=0;const w=new ReadableStream({start(x){!function T(){y.read().then(({done:D,value:k})=>{if(D)x.close();else{S+=k.byteLength;const P=new ProgressEvent("progress",{lengthComputable:C,loaded:S,total:O});for(let N=0,F=_.length;N<F;N++){const L=_[N];L.onProgress&&L.onProgress(P)}x.enqueue(k),T()}})}()}});return new Response(w)}throw Error(`fetch for "${v.url}" responded with ${v.status}: ${v.statusText}`)}).then(v=>{switch(m){case"arraybuffer":return v.arrayBuffer();case"blob":return v.blob();case"document":return v.text().then(_=>(new DOMParser).parseFromString(_,g));case"json":return v.json();default:if(void 0===g)return v.text();{const y=/charset="?([^;"\s]*)"?/i.exec(g),b=y&&y[1]?y[1].toLowerCase():void 0,O=new TextDecoder(b);return v.arrayBuffer().then(C=>O.decode(C))}}}).then(v=>{UC.add(l,v);const _=hg[l];delete hg[l];for(let y=0,b=_.length;y<b;y++){const O=_[y];O.onLoad&&O.onLoad(v)}}).catch(v=>{const _=hg[l];if(void 0===_)throw this.manager.itemError(l),v;delete hg[l];for(let y=0,b=_.length;y<b;y++){const O=_[y];O.onError&&O.onError(v)}this.manager.itemError(l)}).finally(()=>{this.manager.itemEnd(l)}),this.manager.itemStart(l)}setResponseType(l){return this.responseType=l,this}setMimeType(l){return this.mimeType=l,this}}class wR extends SR{constructor(l){super(l)}load(l,a,h,d){void 0!==this.path&&(l=this.path+l),l=this.manager.resolveURL(l);const f=this,p=UC.get(l);if(void 0!==p)return f.manager.itemStart(l),setTimeout(function(){a&&a(p),f.manager.itemEnd(l)},0),p;const g=KT("img");function m(){_(),UC.add(l,this),a&&a(this),f.manager.itemEnd(l)}function v(y){_(),d&&d(y),f.manager.itemError(l),f.manager.itemEnd(l)}function _(){g.removeEventListener("load",m,!1),g.removeEventListener("error",v,!1)}return g.addEventListener("load",m,!1),g.addEventListener("error",v,!1),"data:"!==l.slice(0,5)&&void 0!==this.crossOrigin&&(g.crossOrigin=this.crossOrigin),f.manager.itemStart(l),g.src=l,g}}class bwe extends SR{constructor(l){super(l)}load(l,a,h,d){const f=new z5,p=new wR(this.manager);p.setCrossOrigin(this.crossOrigin),p.setPath(this.path);let g=0;function m(v){p.load(l[v],function(_){f.images[v]=_,g++,6===g&&(f.needsUpdate=!0,a&&a(f))},void 0,d)}for(let v=0;v<l.length;++v)m(v);return f}}class Cj extends Mu{constructor(l,a=1){super(),this.isLight=!0,this.type="Light",this.color=new Cn(l),this.intensity=a}dispose(){}copy(l,a){return super.copy(l,a),this.color.copy(l.color),this.intensity=l.intensity,this}toJSON(l){const a=super.toJSON(l);return a.object.color=this.color.getHex(),a.object.intensity=this.intensity,void 0!==this.groundColor&&(a.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(a.object.distance=this.distance),void 0!==this.angle&&(a.object.angle=this.angle),void 0!==this.decay&&(a.object.decay=this.decay),void 0!==this.penumbra&&(a.object.penumbra=this.penumbra),void 0!==this.shadow&&(a.object.shadow=this.shadow.toJSON()),a}}const Owe=new Vi,Cwe=new ae,Swe=new ae;class wwe{constructor(l){this.camera=l,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new _t(512,512),this.map=null,this.mapPass=null,this.matrix=new Vi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new YZ,this._frameExtents=new _t(1,1),this._viewportCount=1,this._viewports=[new Dr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(l){const a=this.camera,h=this.matrix;Cwe.setFromMatrixPosition(l.matrixWorld),a.position.copy(Cwe),Swe.setFromMatrixPosition(l.target.matrixWorld),a.lookAt(Swe),a.updateMatrixWorld(),Owe.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Owe),h.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),h.multiply(a.projectionMatrix),h.multiply(a.matrixWorldInverse)}getViewport(l){return this._viewports[l]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(l){return this.camera=l.camera.clone(),this.bias=l.bias,this.radius=l.radius,this.mapSize.copy(l.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const l={};return 0!==this.bias&&(l.bias=this.bias),0!==this.normalBias&&(l.normalBias=this.normalBias),1!==this.radius&&(l.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(l.mapSize=this.mapSize.toArray()),l.camera=this.camera.toJSON(!1).object,delete l.camera.matrix,l}}const xwe=new Vi,_k=new ae,Sj=new ae;class yTt extends wwe{constructor(){super(new Mo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new _t(4,2),this._viewportCount=6,this._viewports=[new Dr(2,1,1,1),new Dr(0,1,1,1),new Dr(3,1,1,1),new Dr(1,1,1,1),new Dr(3,0,1,1),new Dr(1,0,1,1)],this._cubeDirections=[new ae(1,0,0),new ae(-1,0,0),new ae(0,0,1),new ae(0,0,-1),new ae(0,1,0),new ae(0,-1,0)],this._cubeUps=[new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,0,1),new ae(0,0,-1)]}updateMatrices(l,a=0){const h=this.camera,d=this.matrix,f=l.distance||h.far;f!==h.far&&(h.far=f,h.updateProjectionMatrix()),_k.setFromMatrixPosition(l.matrixWorld),h.position.copy(_k),Sj.copy(h.position),Sj.add(this._cubeDirections[a]),h.up.copy(this._cubeUps[a]),h.lookAt(Sj),h.updateMatrixWorld(),d.makeTranslation(-_k.x,-_k.y,-_k.z),xwe.multiplyMatrices(h.projectionMatrix,h.matrixWorldInverse),this._frustum.setFromProjectionMatrix(xwe)}}class wj extends Cj{constructor(l,a,h=0,d=1){super(l,a),this.isPointLight=!0,this.type="PointLight",this.distance=h,this.decay=d,this.shadow=new yTt}get power(){return 4*this.intensity*Math.PI}set power(l){this.intensity=l/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(l,a){return super.copy(l,a),this.distance=l.distance,this.decay=l.decay,this.shadow=l.shadow.clone(),this}}class bTt extends wwe{constructor(){super(new nk(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Twe extends Cj{constructor(l,a){super(l,a),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Mu.DefaultUp),this.updateMatrix(),this.target=new Mu,this.shadow=new bTt}dispose(){this.shadow.dispose()}copy(l){return super.copy(l),this.target=l.target.clone(),this.shadow=l.shadow.clone(),this}}class yk extends Cj{constructor(l,a){super(l,a),this.isAmbientLight=!0,this.type="AmbientLight"}}class Iwe{constructor(l=!0){this.autoStart=l,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Rwe(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let l=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const a=Rwe();l=(a-this.oldTime)/1e3,this.oldTime=a,this.elapsedTime+=l}return l}}function Rwe(){return(typeof performance>"u"?Date:performance).now()}const Tj="\\[\\]\\.:\\/",ETt=new RegExp("["+Tj+"]","g"),kj="[^"+Tj+"]",PTt="[^"+Tj.replace("\\.","")+"]",NTt=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",kj)+/(WCOD+)?/.source.replace("WCOD",PTt)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",kj)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",kj)+"$"),FTt=["material","materials","bones"];class BTt{constructor(l,a,h){const d=h||Is.parseTrackName(a);this._targetGroup=l,this._bindings=l.subscribe_(a,d)}getValue(l,a){this.bind();const d=this._bindings[this._targetGroup.nCachedObjects_];void 0!==d&&d.getValue(l,a)}setValue(l,a){const h=this._bindings;for(let d=this._targetGroup.nCachedObjects_,f=h.length;d!==f;++d)h[d].setValue(l,a)}bind(){const l=this._bindings;for(let a=this._targetGroup.nCachedObjects_,h=l.length;a!==h;++a)l[a].bind()}unbind(){const l=this._bindings;for(let a=this._targetGroup.nCachedObjects_,h=l.length;a!==h;++a)l[a].unbind()}}let Is=(()=>{class c{constructor(a,h,d){this.path=h,this.parsedPath=d||c.parseTrackName(h),this.node=c.findNode(a,this.parsedPath.nodeName)||a,this.rootNode=a,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(a,h,d){return a&&a.isAnimationObjectGroup?new c.Composite(a,h,d):new c(a,h,d)}static sanitizeNodeName(a){return a.replace(/\s/g,"_").replace(ETt,"")}static parseTrackName(a){const h=NTt.exec(a);if(null===h)throw new Error("PropertyBinding: Cannot parse trackName: "+a);const d={nodeName:h[2],objectName:h[3],objectIndex:h[4],propertyName:h[5],propertyIndex:h[6]},f=d.nodeName&&d.nodeName.lastIndexOf(".");if(void 0!==f&&-1!==f){const p=d.nodeName.substring(f+1);-1!==FTt.indexOf(p)&&(d.nodeName=d.nodeName.substring(0,f),d.objectName=p)}if(null===d.propertyName||0===d.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+a);return d}static findNode(a,h){if(void 0===h||""===h||"."===h||-1===h||h===a.name||h===a.uuid)return a;if(a.skeleton){const d=a.skeleton.getBoneByName(h);if(void 0!==d)return d}if(a.children){const d=function(p){for(let g=0;g<p.length;g++){const m=p[g];if(m.name===h||m.uuid===h)return m;const v=d(m.children);if(v)return v}return null},f=d(a.children);if(f)return f}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(a,h){a[h]=this.targetObject[this.propertyName]}_getValue_array(a,h){const d=this.resolvedProperty;for(let f=0,p=d.length;f!==p;++f)a[h++]=d[f]}_getValue_arrayElement(a,h){a[h]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(a,h){this.resolvedProperty.toArray(a,h)}_setValue_direct(a,h){this.targetObject[this.propertyName]=a[h]}_setValue_direct_setNeedsUpdate(a,h){this.targetObject[this.propertyName]=a[h],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(a,h){this.targetObject[this.propertyName]=a[h],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(a,h){const d=this.resolvedProperty;for(let f=0,p=d.length;f!==p;++f)d[f]=a[h++]}_setValue_array_setNeedsUpdate(a,h){const d=this.resolvedProperty;for(let f=0,p=d.length;f!==p;++f)d[f]=a[h++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(a,h){const d=this.resolvedProperty;for(let f=0,p=d.length;f!==p;++f)d[f]=a[h++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(a,h){this.resolvedProperty[this.propertyIndex]=a[h]}_setValue_arrayElement_setNeedsUpdate(a,h){this.resolvedProperty[this.propertyIndex]=a[h],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(a,h){this.resolvedProperty[this.propertyIndex]=a[h],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(a,h){this.resolvedProperty.fromArray(a,h)}_setValue_fromArray_setNeedsUpdate(a,h){this.resolvedProperty.fromArray(a,h),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(a,h){this.resolvedProperty.fromArray(a,h),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(a,h){this.bind(),this.getValue(a,h)}_setValue_unbound(a,h){this.bind(),this.setValue(a,h)}bind(){let a=this.node;const h=this.parsedPath,d=h.objectName,f=h.propertyName;let p=h.propertyIndex;if(a||(a=c.findNode(this.rootNode,h.nodeName)||this.rootNode,this.node=a),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!a)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(d){let _=h.objectIndex;switch(d){case"materials":if(!a.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!a.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);a=a.material.materials;break;case"bones":if(!a.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);a=a.skeleton.bones;for(let y=0;y<a.length;y++)if(a[y].name===_){_=y;break}break;default:if(void 0===a[d])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);a=a[d]}if(void 0!==_){if(void 0===a[_])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,a);a=a[_]}}const g=a[f];if(void 0===g)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+h.nodeName+"."+f+" but it wasn't found.",a);let m=this.Versioning.None;this.targetObject=a,void 0!==a.needsUpdate?m=this.Versioning.NeedsUpdate:void 0!==a.matrixWorldNeedsUpdate&&(m=this.Versioning.MatrixWorldNeedsUpdate);let v=this.BindingType.Direct;if(void 0!==p){if("morphTargetInfluences"===f){if(!a.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!a.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==a.morphTargetDictionary[p]&&(p=a.morphTargetDictionary[p])}v=this.BindingType.ArrayElement,this.resolvedProperty=g,this.propertyIndex=p}else void 0!==g.fromArray&&void 0!==g.toArray?(v=this.BindingType.HasFromToArray,this.resolvedProperty=g):Array.isArray(g)?(v=this.BindingType.EntireArray,this.resolvedProperty=g):this.propertyName=f;this.getValue=this.GetterByBindingType[v],this.setValue=this.SetterByBindingTypeAndVersioning[v][m]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return c.Composite=BTt,c})();Is.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Is.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Is.prototype.GetterByBindingType=[Is.prototype._getValue_direct,Is.prototype._getValue_array,Is.prototype._getValue_arrayElement,Is.prototype._getValue_toArray],Is.prototype.SetterByBindingTypeAndVersioning=[[Is.prototype._setValue_direct,Is.prototype._setValue_direct_setNeedsUpdate,Is.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Is.prototype._setValue_array,Is.prototype._setValue_array_setNeedsUpdate,Is.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Is.prototype._setValue_arrayElement,Is.prototype._setValue_arrayElement_setNeedsUpdate,Is.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Is.prototype._setValue_fromArray,Is.prototype._setValue_fromArray_setNeedsUpdate,Is.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class zTt{constructor(l,a,h=0,d=1/0){this.ray=new D5(l,a),this.near=h,this.far=d,this.camera=null,this.layers=new FZ,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(l,a){this.ray.set(l,a)}setFromCamera(l,a){a.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(a.matrixWorld),this.ray.direction.set(l.x,l.y,.5).unproject(a).sub(this.ray.origin).normalize(),this.camera=a):a.isOrthographicCamera?(this.ray.origin.set(l.x,l.y,(a.near+a.far)/(a.near-a.far)).unproject(a),this.ray.direction.set(0,0,-1).transformDirection(a.matrixWorld),this.camera=a):console.error("THREE.Raycaster: Unsupported camera type: "+a.type)}intersectObject(l,a=!0,h=[]){return Dj(l,this,h,a),h.sort(Bwe),h}intersectObjects(l,a=!0,h=[]){for(let d=0,f=l.length;d<f;d++)Dj(l[d],this,h,a);return h.sort(Bwe),h}}function Bwe(c,l){return c.distance-l.distance}function Dj(c,l,a,h){if(c.layers.test(l.layers)&&c.raycast(l,a),!0===h){const d=c.children;for(let f=0,p=d.length;f<p;f++)Dj(d[f],l,a,!0)}}class Vwe{constructor(l=1,a=0,h=0){return this.radius=l,this.phi=a,this.theta=h,this}set(l,a,h){return this.radius=l,this.phi=a,this.theta=h,this}copy(l){return this.radius=l.radius,this.phi=l.phi,this.theta=l.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(l){return this.setFromCartesianCoords(l.x,l.y,l.z)}setFromCartesianCoords(l,a,h){return this.radius=Math.sqrt(l*l+a*a+h*h),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(l,h),this.phi=Math.acos(Do(a/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class QTt{constructor(){this.type="ShapePath",this.color=new Cn,this.subPaths=[],this.currentPath=null}moveTo(l,a){return this.currentPath=new $v,this.subPaths.push(this.currentPath),this.currentPath.moveTo(l,a),this}lineTo(l,a){return this.currentPath.lineTo(l,a),this}quadraticCurveTo(l,a,h,d){return this.currentPath.quadraticCurveTo(l,a,h,d),this}bezierCurveTo(l,a,h,d,f,p){return this.currentPath.bezierCurveTo(l,a,h,d,f,p),this}splineThru(l){return this.currentPath.splineThru(l),this}toShapes(l,a){function h(T){const D=[];for(let k=0,P=T.length;k<P;k++){const N=T[k],F=new cg;F.curves=N.curves,D.push(F)}return D}function d(T,D){const k=D.length;let P=!1;for(let N=k-1,F=0;F<k;N=F++){let L=D[N],$=D[F],U=$.x-L.x,z=$.y-L.y;if(Math.abs(z)>Number.EPSILON){if(z<0&&(L=D[F],U=-U,$=D[N],z=-z),T.y<L.y||T.y>$.y)continue;if(T.y===L.y){if(T.x===L.x)return!0}else{const ee=z*(T.x-L.x)-U*(T.y-L.y);if(0===ee)return!0;if(ee<0)continue;P=!P}}else{if(T.y!==L.y)continue;if($.x<=T.x&&T.x<=L.x||L.x<=T.x&&T.x<=$.x)return!0}}return P}const f=ug.isClockWise,p=this.subPaths;if(0===p.length)return[];if(!0===a)return h(p);let g,m,v;const _=[];if(1===p.length)return m=p[0],v=new cg,v.curves=m.curves,_.push(v),_;let y=!f(p[0].getPoints());y=l?!y:y;const b=[],O=[];let w,x,C=[],S=0;O[S]=void 0,C[S]=[];for(let T=0,D=p.length;T<D;T++)m=p[T],w=m.getPoints(),g=f(w),g=l?!g:g,g?(!y&&O[S]&&S++,O[S]={s:new cg,p:w},O[S].s.curves=m.curves,y&&S++,C[S]=[]):C[S].push({h:m,p:w[0]});if(!O[0])return h(p);if(O.length>1){let T=!1,D=0;for(let k=0,P=O.length;k<P;k++)b[k]=[];for(let k=0,P=O.length;k<P;k++){const N=C[k];for(let F=0;F<N.length;F++){const L=N[F];let $=!0;for(let U=0;U<O.length;U++)d(L.p,O[U].p)&&(k!==U&&D++,$?($=!1,b[U].push(L)):T=!0);$&&b[k].push(L)}}D>0&&!1===T&&(C=b)}for(let T=0,D=O.length;T<D;T++){v=O[T].s,_.push(v),x=C[T];for(let k=0,P=x.length;k<P;k++)v.holes.push(x[k].h)}return _}}function XTt(){const c=new ArrayBuffer(4),l=new Float32Array(c),a=new Uint32Array(c),h=new Uint32Array(512),d=new Uint32Array(512);for(let m=0;m<256;++m){const v=m-127;v<-27?(h[m]=0,h[256|m]=32768,d[m]=24,d[256|m]=24):v<-14?(h[m]=1024>>-v-14,h[256|m]=1024>>-v-14|32768,d[m]=-v-1,d[256|m]=-v-1):v<=15?(h[m]=v+15<<10,h[256|m]=v+15<<10|32768,d[m]=13,d[256|m]=13):v<128?(h[m]=31744,h[256|m]=64512,d[m]=24,d[256|m]=24):(h[m]=31744,h[256|m]=64512,d[m]=13,d[256|m]=13)}const f=new Uint32Array(2048),p=new Uint32Array(64),g=new Uint32Array(64);for(let m=1;m<1024;++m){let v=m<<13,_=0;for(;!(8388608&v);)v<<=1,_-=8388608;v&=-8388609,_+=947912704,f[m]=v|_}for(let m=1024;m<2048;++m)f[m]=939524096+(m-1024<<13);for(let m=1;m<31;++m)p[m]=m<<23;p[31]=1199570944,p[32]=2147483648;for(let m=33;m<63;++m)p[m]=2147483648+(m-32<<23);p[63]=3347054592;for(let m=1;m<64;++m)32!==m&&(g[m]=1024);return{floatView:l,uint32View:a,baseTable:h,shiftTable:d,mantissaTable:f,exponentTable:p,offsetTable:g}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"142"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="142");class QC{iWidthPixelIncrement=0;iHeightPixelIncrement=0;iXPixelIncrement=0;iYPixelIncrement=0;iCanvasWidth=0;iCanvasHeight=0;iPercentage=!1;bLight=!0;actionHandler=()=>{};params=new Map;appLogoTextProvider=()=>"";appParamProvider=()=>({});get canvasWidth(){let l=window.innerWidth+this.iWidthPixelIncrement;return this.iCanvasWidth>0?this.iCanvasWidth*(this.iPercentage?l/100:1):l}get canvasHeight(){let l=window.innerHeight+this.iHeightPixelIncrement;return this.iCanvasHeight>0?this.iCanvasHeight*(this.iPercentage?l/100:1):l}get canvasPercentage(){return this.iPercentage}incrementX(l){return l+this.iXPixelIncrement}incrementY(l){return l+this.iYPixelIncrement}isLight(){return this.bLight}setWidthPixelIncrement(l){return this.iWidthPixelIncrement=l,this}setHeightPixelIncrement(l){return this.iHeightPixelIncrement=l,this}setXPixelIncrement(l){return this.iXPixelIncrement=l,this}setYPixelIncrement(l){return this.iYPixelIncrement=l,this}setCanvasWidth(l){return this.iCanvasWidth=l,this}setCanvasHeight(l){return this.iCanvasHeight=l,this}setPercentage(l){return this.iPercentage=l,this}setLight(l){return this.bLight=l,this}setActionHandler(l){return this.actionHandler=l,this}setParam(l,a){return this.params.set(l,a),this}getParam(l){return this.params.get(l)}setAppLogoTextProvider(l){return this.appLogoTextProvider=l,this}setAppParamProvider(l){return this.appParamProvider=l,this}runAction(l){return this.actionHandler&&this.actionHandler(l),this}init(l){}render(){}onResize(){}onMouseMove(l){}onMouseClick(l){}dispose(){}}class KTt extends QC{autoRender;renderer=null;camera=null;scene=null;light=null;cube=null;frameId=null;constructor(l=!0){super(),this.autoRender=l}dispose(){this.autoRender&&null!=this.frameId&&cancelAnimationFrame(this.frameId),null!=this.renderer&&(this.renderer.dispose(),this.renderer=null)}init(l){this.renderer=l;let a=this.canvasWidth,h=this.canvasHeight;this.renderer.setSize(a,h),this.renderer.setClearColor(255,1),this.scene=new Vv,this.camera=new Mo(75,a/h,.1,1e3),this.camera.position.z=5,this.scene.add(this.camera),this.light=new yk(4210752),this.light.position.z=10,this.scene.add(this.light);const d=new Ff(1,1,1),f=new vo({color:65280,wireframe:!1,transparent:!0});this.cube=new br(d,f),this.scene.add(this.cube)}onMouseMove(l){}onResize(){const l=this.canvasWidth,a=this.canvasHeight;this.camera.aspect=l/a,this.camera.updateProjectionMatrix(),this.renderer.setSize(l,a)}render(){this.autoRender&&(this.frameId=requestAnimationFrame(()=>{this.render()})),this.cube&&(this.cube.rotation.x+=.01,this.cube.rotation.y+=.01),this.renderer.render(this.scene,this.camera)}}const qwe={type:"change"},Pj={type:"start"},Kwe={type:"end"};class JTt extends Ev{constructor(l,a){super(),void 0===a&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),a===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=l,this.domElement=a,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new ae,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return g.phi},this.getAzimuthalAngle=function(){return g.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(fe){fe.addEventListener("keydown",ri),this._domElementKeyEvents=fe},this.saveState=function(){h.target0.copy(h.target),h.position0.copy(h.object.position),h.zoom0=h.object.zoom},this.reset=function(){h.target.copy(h.target0),h.object.position.copy(h.position0),h.object.zoom=h.zoom0,h.object.updateProjectionMatrix(),h.dispatchEvent(qwe),h.update(),f=d.NONE},this.update=function(){const fe=new ae,xt=(new ac).setFromUnitVectors(l.up,new ae(0,1,0)),Gt=xt.clone().invert(),dn=new ae,Be=new ac,pn=2*Math.PI;return function(){const Si=h.object.position;fe.copy(Si).sub(h.target),fe.applyQuaternion(xt),g.setFromVector3(fe),h.autoRotate&&f===d.NONE&&$(function F(){return 2*Math.PI/60/60*h.autoRotateSpeed}()),h.enableDamping?(g.theta+=m.theta*h.dampingFactor,g.phi+=m.phi*h.dampingFactor):(g.theta+=m.theta,g.phi+=m.phi);let Mn=h.minAzimuthAngle,ui=h.maxAzimuthAngle;return isFinite(Mn)&&isFinite(ui)&&(Mn<-Math.PI?Mn+=pn:Mn>Math.PI&&(Mn-=pn),ui<-Math.PI?ui+=pn:ui>Math.PI&&(ui-=pn),g.theta=Mn<=ui?Math.max(Mn,Math.min(ui,g.theta)):g.theta>(Mn+ui)/2?Math.max(Mn,g.theta):Math.min(ui,g.theta)),g.phi=Math.max(h.minPolarAngle,Math.min(h.maxPolarAngle,g.phi)),g.makeSafe(),g.radius*=v,g.radius=Math.max(h.minDistance,Math.min(h.maxDistance,g.radius)),!0===h.enableDamping?h.target.addScaledVector(_,h.dampingFactor):h.target.add(_),fe.setFromSpherical(g),fe.applyQuaternion(Gt),Si.copy(h.target).add(fe),h.object.lookAt(h.target),!0===h.enableDamping?(m.theta*=1-h.dampingFactor,m.phi*=1-h.dampingFactor,_.multiplyScalar(1-h.dampingFactor)):(m.set(0,0,0),_.set(0,0,0)),v=1,!!(y||dn.distanceToSquared(h.object.position)>p||8*(1-Be.dot(h.object.quaternion))>p)&&(h.dispatchEvent(qwe),dn.copy(h.object.position),Be.copy(h.object.quaternion),y=!1,!0)}}(),this.dispose=function(){h.domElement.removeEventListener("contextmenu",vt),h.domElement.removeEventListener("pointerdown",it),h.domElement.removeEventListener("pointercancel",Re),h.domElement.removeEventListener("wheel",An),h.domElement.removeEventListener("pointermove",pt),h.domElement.removeEventListener("pointerup",rt),null!==h._domElementKeyEvents&&h._domElementKeyEvents.removeEventListener("keydown",ri)};const h=this,d={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let f=d.NONE;const p=1e-6,g=new Vwe,m=new Vwe;let v=1;const _=new ae;let y=!1;const b=new _t,O=new _t,C=new _t,S=new _t,w=new _t,x=new _t,T=new _t,D=new _t,k=new _t,P=[],N={};function L(){return Math.pow(.95,h.zoomSpeed)}function $(fe){m.theta-=fe}function U(fe){m.phi-=fe}const z=function(){const fe=new ae;return function(Gt,dn){fe.setFromMatrixColumn(dn,0),fe.multiplyScalar(-Gt),_.add(fe)}}(),ee=function(){const fe=new ae;return function(Gt,dn){!0===h.screenSpacePanning?fe.setFromMatrixColumn(dn,1):(fe.setFromMatrixColumn(dn,0),fe.crossVectors(h.object.up,fe)),fe.multiplyScalar(Gt),_.add(fe)}}(),te=function(){const fe=new ae;return function(Gt,dn){const Be=h.domElement;if(h.object.isPerspectiveCamera){fe.copy(h.object.position).sub(h.target);let fn=fe.length();fn*=Math.tan(h.object.fov/2*Math.PI/180),z(2*Gt*fn/Be.clientHeight,h.object.matrix),ee(2*dn*fn/Be.clientHeight,h.object.matrix)}else h.object.isOrthographicCamera?(z(Gt*(h.object.right-h.object.left)/h.object.zoom/Be.clientWidth,h.object.matrix),ee(dn*(h.object.top-h.object.bottom)/h.object.zoom/Be.clientHeight,h.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),h.enablePan=!1)}}();function B(fe){h.object.isPerspectiveCamera?v/=fe:h.object.isOrthographicCamera?(h.object.zoom=Math.max(h.minZoom,Math.min(h.maxZoom,h.object.zoom*fe)),h.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),h.enableZoom=!1)}function j(fe){h.object.isPerspectiveCamera?v*=fe:h.object.isOrthographicCamera?(h.object.zoom=Math.max(h.minZoom,Math.min(h.maxZoom,h.object.zoom/fe)),h.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),h.enableZoom=!1)}function W(fe){b.set(fe.clientX,fe.clientY)}function G(fe){S.set(fe.clientX,fe.clientY)}function de(){1===P.length?b.set(P[0].pageX,P[0].pageY):b.set(.5*(P[0].pageX+P[1].pageX),.5*(P[0].pageY+P[1].pageY))}function ke(){1===P.length?S.set(P[0].pageX,P[0].pageY):S.set(.5*(P[0].pageX+P[1].pageX),.5*(P[0].pageY+P[1].pageY))}function xe(){const fe=P[0].pageX-P[1].pageX,xt=P[0].pageY-P[1].pageY,Gt=Math.sqrt(fe*fe+xt*xt);T.set(0,Gt)}function Ne(fe){if(1==P.length)O.set(fe.pageX,fe.pageY);else{const Gt=Xt(fe);O.set(.5*(fe.pageX+Gt.x),.5*(fe.pageY+Gt.y))}C.subVectors(O,b).multiplyScalar(h.rotateSpeed);const xt=h.domElement;$(2*Math.PI*C.x/xt.clientHeight),U(2*Math.PI*C.y/xt.clientHeight),b.copy(O)}function Ve(fe){if(1===P.length)w.set(fe.pageX,fe.pageY);else{const xt=Xt(fe);w.set(.5*(fe.pageX+xt.x),.5*(fe.pageY+xt.y))}x.subVectors(w,S).multiplyScalar(h.panSpeed),te(x.x,x.y),S.copy(w)}function nt(fe){const xt=Xt(fe),Gt=fe.pageX-xt.x,dn=fe.pageY-xt.y,Be=Math.sqrt(Gt*Gt+dn*dn);D.set(0,Be),k.set(0,Math.pow(D.y/T.y,h.zoomSpeed)),B(k.y),T.copy(D)}function it(fe){!1!==h.enabled&&(0===P.length&&(h.domElement.setPointerCapture(fe.pointerId),h.domElement.addEventListener("pointermove",pt),h.domElement.addEventListener("pointerup",rt)),function Et(fe){P.push(fe)}(fe),"touch"===fe.pointerType?function Oe(fe){switch(jt(fe),P.length){case 1:switch(h.touches.ONE){case 0:if(!1===h.enableRotate)return;de(),f=d.TOUCH_ROTATE;break;case 1:if(!1===h.enablePan)return;ke(),f=d.TOUCH_PAN;break;default:f=d.NONE}break;case 2:switch(h.touches.TWO){case 2:if(!1===h.enableZoom&&!1===h.enablePan)return;(function Ie(){h.enableZoom&&xe(),h.enablePan&&ke()})(),f=d.TOUCH_DOLLY_PAN;break;case 3:if(!1===h.enableZoom&&!1===h.enableRotate)return;(function Ze(){h.enableZoom&&xe(),h.enableRotate&&de()})(),f=d.TOUCH_DOLLY_ROTATE;break;default:f=d.NONE}break;default:f=d.NONE}f!==d.NONE&&h.dispatchEvent(Pj)}(fe):function ot(fe){let xt;switch(fe.button){case 0:xt=h.mouseButtons.LEFT;break;case 1:xt=h.mouseButtons.MIDDLE;break;case 2:xt=h.mouseButtons.RIGHT;break;default:xt=-1}switch(xt){case 1:if(!1===h.enableZoom)return;(function q(fe){T.set(fe.clientX,fe.clientY)})(fe),f=d.DOLLY;break;case 0:if(fe.ctrlKey||fe.metaKey||fe.shiftKey){if(!1===h.enablePan)return;G(fe),f=d.PAN}else{if(!1===h.enableRotate)return;W(fe),f=d.ROTATE}break;case 2:if(fe.ctrlKey||fe.metaKey||fe.shiftKey){if(!1===h.enableRotate)return;W(fe),f=d.ROTATE}else{if(!1===h.enablePan)return;G(fe),f=d.PAN}break;default:f=d.NONE}f!==d.NONE&&h.dispatchEvent(Pj)}(fe))}function pt(fe){!1!==h.enabled&&("touch"===fe.pointerType?function ge(fe){switch(jt(fe),f){case d.TOUCH_ROTATE:if(!1===h.enableRotate)return;Ne(fe),h.update();break;case d.TOUCH_PAN:if(!1===h.enablePan)return;Ve(fe),h.update();break;case d.TOUCH_DOLLY_PAN:if(!1===h.enableZoom&&!1===h.enablePan)return;(function _e(fe){h.enableZoom&&nt(fe),h.enablePan&&Ve(fe)})(fe),h.update();break;case d.TOUCH_DOLLY_ROTATE:if(!1===h.enableZoom&&!1===h.enableRotate)return;(function $e(fe){h.enableZoom&&nt(fe),h.enableRotate&&Ne(fe)})(fe),h.update();break;default:f=d.NONE}}(fe):function nn(fe){if(!1!==h.enabled)switch(f){case d.ROTATE:if(!1===h.enableRotate)return;!function K(fe){O.set(fe.clientX,fe.clientY),C.subVectors(O,b).multiplyScalar(h.rotateSpeed);const xt=h.domElement;$(2*Math.PI*C.x/xt.clientHeight),U(2*Math.PI*C.y/xt.clientHeight),b.copy(O),h.update()}(fe);break;case d.DOLLY:if(!1===h.enableZoom)return;!function J(fe){D.set(fe.clientX,fe.clientY),k.subVectors(D,T),k.y>0?B(L()):k.y<0&&j(L()),T.copy(D),h.update()}(fe);break;case d.PAN:if(!1===h.enablePan)return;!function ie(fe){w.set(fe.clientX,fe.clientY),x.subVectors(w,S).multiplyScalar(h.panSpeed),te(x.x,x.y),S.copy(w),h.update()}(fe)}}(fe))}function rt(fe){on(fe),0===P.length&&(h.domElement.releasePointerCapture(fe.pointerId),h.domElement.removeEventListener("pointermove",pt),h.domElement.removeEventListener("pointerup",rt)),h.dispatchEvent(Kwe),f=d.NONE}function Re(fe){on(fe)}function An(fe){!1===h.enabled||!1===h.enableZoom||f!==d.NONE||(fe.preventDefault(),h.dispatchEvent(Pj),function re(fe){fe.deltaY<0?j(L()):fe.deltaY>0&&B(L()),h.update()}(fe),h.dispatchEvent(Kwe))}function ri(fe){!1===h.enabled||!1===h.enablePan||function he(fe){let xt=!1;switch(fe.code){case h.keys.UP:te(0,h.keyPanSpeed),xt=!0;break;case h.keys.BOTTOM:te(0,-h.keyPanSpeed),xt=!0;break;case h.keys.LEFT:te(h.keyPanSpeed,0),xt=!0;break;case h.keys.RIGHT:te(-h.keyPanSpeed,0),xt=!0}xt&&(fe.preventDefault(),h.update())}(fe)}function vt(fe){!1!==h.enabled&&fe.preventDefault()}function on(fe){delete N[fe.pointerId];for(let xt=0;xt<P.length;xt++)if(P[xt].pointerId==fe.pointerId)return void P.splice(xt,1)}function jt(fe){let xt=N[fe.pointerId];void 0===xt&&(xt=new _t,N[fe.pointerId]=xt),xt.set(fe.pageX,fe.pageY)}function Xt(fe){return N[(fe.pointerId===P[0].pointerId?P[1]:P[0]).pointerId]}h.domElement.addEventListener("contextmenu",vt),h.domElement.addEventListener("pointerdown",it),h.domElement.addEventListener("pointercancel",Re),h.domElement.addEventListener("wheel",An,{passive:!1}),this.update()}}class ekt extends QC{autoRender;renderer=null;camera=null;cameraPosOld=new ae;scene=null;light=null;pointLight=null;cube=null;frameId=null;constructor(l=!0){super(),this.autoRender=l}dispose(){this.autoRender&&null!=this.frameId&&cancelAnimationFrame(this.frameId),null!=this.renderer&&(this.renderer.dispose(),this.renderer=null)}init(l){this.renderer=l,this.renderer.setSize(this.canvasWidth,this.canvasHeight),this.renderer.setClearColor(255,1),this.scene=new Vv,this.camera=new Mo(50,window.innerWidth/window.innerHeight,.1,100);let d=new ae(0,0,-1);d=d.applyAxisAngle(new ae(0,1,0),6.093767678923845),this.camera.position.x=d.x,this.camera.position.y=d.y,this.camera.position.z=d.z;const f=["https://pano.parsuna.ru/api/v1/photo_tours/bogoroditsy-korolev/files/panos/007-3834.tiles/1_r_1_1.jpg","https://pano.parsuna.ru/api/v1/photo_tours/bogoroditsy-korolev/files/panos/007-3834.tiles/1_l_1_1.jpg","https://pano.parsuna.ru/api/v1/photo_tours/bogoroditsy-korolev/files/panos/007-3834.tiles/1_u_1_1.jpg","https://pano.parsuna.ru/api/v1/photo_tours/bogoroditsy-korolev/files/panos/007-3834.tiles/1_d_1_1.jpg","https://pano.parsuna.ru/api/v1/photo_tours/bogoroditsy-korolev/files/panos/007-3834.tiles/1_f_1_1.jpg","https://pano.parsuna.ru/api/v1/photo_tours/bogoroditsy-korolev/files/panos/007-3834.tiles/1_b_1_1.jpg"],p=(new bwe).load(f),g=(new bwe).load(f);g.mapping=jm,this.scene=new Vv,this.scene.background=p;const m=new yk(16777215,3);this.scene.add(m),this.pointLight=new wj(16777215,200),this.scene.add(this.pointLight),new _R({color:16755200,envMap:p,combine:lSe,reflectivity:.3}),new _R({color:16774912,envMap:g,refractionRatio:.95}),new _R({color:16777215,envMap:p}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(255,1);const b=new JTt(this.camera,l.domElement);b.enableZoom=!1,b.enablePan=!1,b.minPolarAngle=Math.PI/4,b.maxPolarAngle=Math.PI/1.5;const O=new Ff(1,1,1),C=new vo({color:65280,wireframe:!1,transparent:!0});this.cube=new br(O,C)}onMouseMove(l){}onResize(){const l=this.canvasWidth,a=this.canvasHeight;this.camera.aspect=l/a,this.camera.updateProjectionMatrix(),this.renderer.setSize(l,a)}render(){if(this.autoRender&&(this.frameId=requestAnimationFrame(()=>{this.render()})),this.cube&&(this.cube.rotation.x+=.01,this.cube.rotation.y+=.01),this.renderer.render(this.scene,this.camera),this.camera&&!this.cameraPosOld.equals(this.camera.position)){let l=this.camera.position;this.cameraPosOld.set(l.x,l.y,l.z);let a=new _t(l.x,l.y);console.log(this.cameraPosOld,a.angle())}}}class tkt extends QC{renderer=null;camera=null;scene=null;cube=null;mouseX=0;mouseY=0;frameId=null;dispose(){null!=this.frameId&&cancelAnimationFrame(this.frameId),null!=this.renderer&&(this.renderer.dispose(),this.renderer=null)}init(l){this.renderer=l,this.camera=new Mo(20,this.canvasWidth/this.canvasHeight,1,1e4),this.camera.position.z=1800,this.scene=new Vv,this.scene.background=new Cn(16777215);const a=new Twe(16777215);a.position.set(0,0,1),this.scene.add(a);const h=document.createElement("canvas");h.width=128,h.height=128;const f=h.getContext("2d"),p=f.createRadialGradient(h.width/2,h.height/2,0,h.width/2,h.height/2,h.width/2);p.addColorStop(.1,"rgba(210,210,210,1)"),p.addColorStop(1,"rgba(255,255,255,1)"),f.fillStyle=p,f.fillRect(0,0,h.width,h.height);const g=new ewe(h),m=new vo({map:g}),v=new xC(300,300,1,1);let _;_=new br(v,m),_.position.y=-250,_.rotation.x=-Math.PI/2,this.scene.add(_),_=new br(v,m),_.position.y=-250,_.position.x=-400,_.rotation.x=-Math.PI/2,this.scene.add(_),_=new br(v,m),_.position.y=-250,_.position.x=400,_.rotation.x=-Math.PI/2,this.scene.add(_);const y=200,b=new gk(y,1),O=b.attributes.position.count;b.setAttribute("color",new to(new Float32Array(3*O),3));const C=b.clone(),S=b.clone(),w=new Cn,x=b.attributes.position,T=C.attributes.position,D=S.attributes.position,k=b.attributes.color,P=C.attributes.color,N=S.attributes.color;for(let te=0;te<O;te++)w.setHSL((x.getY(te)/y+1)/2,1,.5),k.setXYZ(te,w.r,w.g,w.b),w.setHSL(0,(T.getY(te)/y+1)/2,.5),P.setXYZ(te,w.r,w.g,w.b),w.setRGB(1,.8-(D.getY(te)/y+1)/2,0),N.setXYZ(te,w.r,w.g,w.b);const F=new gwe({color:16777215,flatShading:!0,vertexColors:!0,shininess:0}),L=new vo({color:0,wireframe:!0,transparent:!0});let $=new br(b,F),U=new br(b,L);$.add(U),$.position.x=-400,$.rotation.x=-1.87,this.scene.add($),$=new br(C,F),U=new br(C,L),$.add(U),$.position.x=400,this.scene.add($),$=new br(S,F),U=new br(S,L),$.add(U),this.scene.add($),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.canvasWidth,this.canvasHeight),this.renderer.setClearColor(255,1)}onMouseMove(l){let h=this.canvasHeight/2;this.mouseX=l.clientX-this.canvasWidth/2,this.mouseY=l.clientY-h}onResize(){const l=this.canvasWidth,a=this.canvasHeight;this.camera.aspect=l/a,this.camera.updateProjectionMatrix(),this.renderer.setSize(l,a)}render(){this.frameId=requestAnimationFrame(()=>{this.render()}),this.camera&&(this.camera.position.x+=.05*(this.mouseX-this.camera.position.x),this.camera.position.y+=.05*(-this.mouseY-this.camera.position.y),this.camera.lookAt(this.scene.position)),this.renderer.render(this.scene,this.camera)}}const AR={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor.a *= opacity;\n\n\n\t\t}"};class bk{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}const nkt=new nk(-1,1,1,-1,0,1),Aj=new Ji;Aj.setAttribute("position",new zn([-1,3,0,-1,-1,0,3,-1,0],3)),Aj.setAttribute("uv",new zn([0,2,0,0,2,0],2));class Jwe{constructor(l){this._mesh=new br(Aj,l)}dispose(){this._mesh.geometry.dispose()}render(l){l.render(this._mesh,nkt)}get material(){return this._mesh.material}set material(l){this._mesh.material=l}}class Ij extends bk{constructor(l,a){super(),this.textureID=void 0!==a?a:"tDiffuse",l instanceof Tl?(this.uniforms=l.uniforms,this.material=l):l&&(this.uniforms=$5.clone(l.uniforms),this.material=new Tl({defines:Object.assign({},l.defines),uniforms:this.uniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader})),this.fsQuad=new Jwe(this.material)}render(l,a,h){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=h.texture),this.fsQuad.material=this.material,this.renderToScreen?(l.setRenderTarget(null),this.fsQuad.render(l)):(l.setRenderTarget(a),this.clear&&l.clear(l.autoClearColor,l.autoClearDepth,l.autoClearStencil),this.fsQuad.render(l))}}class exe extends bk{constructor(l,a){super(),this.scene=l,this.camera=a,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(l,a,h){const d=l.getContext(),f=l.state;let p,g;f.buffers.color.setMask(!1),f.buffers.depth.setMask(!1),f.buffers.color.setLocked(!0),f.buffers.depth.setLocked(!0),this.inverse?(p=0,g=1):(p=1,g=0),f.buffers.stencil.setTest(!0),f.buffers.stencil.setOp(d.REPLACE,d.REPLACE,d.REPLACE),f.buffers.stencil.setFunc(d.ALWAYS,p,4294967295),f.buffers.stencil.setClear(g),f.buffers.stencil.setLocked(!0),l.setRenderTarget(h),this.clear&&l.clear(),l.render(this.scene,this.camera),l.setRenderTarget(a),this.clear&&l.clear(),l.render(this.scene,this.camera),f.buffers.color.setLocked(!1),f.buffers.depth.setLocked(!1),f.buffers.stencil.setLocked(!1),f.buffers.stencil.setFunc(d.EQUAL,1,4294967295),f.buffers.stencil.setOp(d.KEEP,d.KEEP,d.KEEP),f.buffers.stencil.setLocked(!0)}}class ikt extends bk{constructor(){super(),this.needsSwap=!1}render(l){l.state.buffers.stencil.setLocked(!1),l.state.buffers.stencil.setTest(!1)}}class rkt{constructor(l,a){if(this.renderer=l,void 0===a){const h=l.getSize(new _t);this._pixelRatio=l.getPixelRatio(),this._width=h.width,this._height=h.height,(a=new oc(this._width*this._pixelRatio,this._height*this._pixelRatio)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=a.width,this._height=a.height;this.renderTarget1=a,this.renderTarget2=a.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===AR&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===Ij&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new Ij(AR),this.clock=new Iwe}swapBuffers(){const l=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=l}addPass(l){this.passes.push(l),l.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(l,a){this.passes.splice(a,0,l),l.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(l){const a=this.passes.indexOf(l);-1!==a&&this.passes.splice(a,1)}isLastEnabledPass(l){for(let a=l+1;a<this.passes.length;a++)if(this.passes[a].enabled)return!1;return!0}render(l){void 0===l&&(l=this.clock.getDelta());const a=this.renderer.getRenderTarget();let h=!1;for(let d=0,f=this.passes.length;d<f;d++){const p=this.passes[d];if(!1!==p.enabled){if(p.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(d),p.render(this.renderer,this.writeBuffer,this.readBuffer,l,h),p.needsSwap){if(h){const g=this.renderer.getContext(),m=this.renderer.state.buffers.stencil;m.setFunc(g.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,l),m.setFunc(g.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==exe&&(p instanceof exe?h=!0:p instanceof ikt&&(h=!1))}}this.renderer.setRenderTarget(a)}reset(l){if(void 0===l){const a=this.renderer.getSize(new _t);this._pixelRatio=this.renderer.getPixelRatio(),this._width=a.width,this._height=a.height,(l=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=l,this.renderTarget2=l.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(l,a){this._width=l,this._height=a;const h=this._width*this._pixelRatio,d=this._height*this._pixelRatio;this.renderTarget1.setSize(h,d),this.renderTarget2.setSize(h,d);for(let f=0;f<this.passes.length;f++)this.passes[f].setSize(h,d)}setPixelRatio(l){this._pixelRatio=l,this.setSize(this._width,this._height)}}new nk(-1,1,1,-1,0,1);const Rj=new Ji;Rj.setAttribute("position",new zn([-1,3,0,-1,-1,0,3,-1,0],3)),Rj.setAttribute("uv",new zn([0,2,0,0,2,0],2));class okt extends bk{constructor(l,a,h,d,f){super(),this.scene=l,this.camera=a,this.overrideMaterial=h,this.clearColor=d,this.clearAlpha=void 0!==f?f:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Cn}render(l,a,h){const d=l.autoClear;let f,p;l.autoClear=!1,void 0!==this.overrideMaterial&&(p=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(l.getClearColor(this._oldClearColor),f=l.getClearAlpha(),l.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&l.clearDepth(),l.setRenderTarget(this.renderToScreen?null:h),this.clear&&l.clear(l.autoClearColor,l.autoClearDepth,l.autoClearStencil),l.render(this.scene,this.camera),this.clearColor&&l.setClearColor(this._oldClearColor,f),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=p),l.autoClear=d}}class a0 extends bk{constructor(l,a,h,d){super(),this.renderScene=a,this.renderCamera=h,this.selectedObjects=void 0!==d?d:[],this.visibleEdgeColor=new Cn(1,1,1),this.hiddenEdgeColor=new Cn(.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,this._visibilityCache=new Map,this.resolution=void 0!==l?new _t(l.x,l.y):new _t(256,256);const f=Math.round(this.resolution.x/this.downSampleRatio),p=Math.round(this.resolution.y/this.downSampleRatio);this.renderTargetMaskBuffer=new oc(this.resolution.x,this.resolution.y),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new ij,this.depthMaterial.side=Zm,this.depthMaterial.depthPacking=LSe,this.depthMaterial.blending=Lf,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=Zm,this.prepareMaskMaterial.fragmentShader=function _(y,b){return y.replace(/DEPTH_TO_VIEW_Z/g,(b.isPerspectiveCamera?"perspective":"orthographic")+"DepthToViewZ")}(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new oc(this.resolution.x,this.resolution.y),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new oc(f,p),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new oc(f,p),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new oc(Math.round(f/2),Math.round(p/2)),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new oc(f,p),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new oc(Math.round(f/2),Math.round(p/2)),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1,this.separableBlurMaterial1=this.getSeperableBlurMaterial(4),this.separableBlurMaterial1.uniforms.texSize.value.set(f,p),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(4),this.separableBlurMaterial2.uniforms.texSize.value.set(Math.round(f/2),Math.round(p/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=4,this.overlayMaterial=this.getOverlayMaterial(),void 0===AR&&console.error("THREE.OutlinePass relies on CopyShader");const v=AR;this.copyUniforms=$5.clone(v.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Tl({uniforms:this.copyUniforms,vertexShader:v.vertexShader,fragmentShader:v.fragmentShader,blending:Lf,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Cn,this.oldClearAlpha=1,this.fsQuad=new Jwe(null),this.tempPulseColor1=new Cn,this.tempPulseColor2=new Cn,this.textureMatrix=new Vi}dispose(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose()}setSize(l,a){this.renderTargetMaskBuffer.setSize(l,a),this.renderTargetDepthBuffer.setSize(l,a);let h=Math.round(l/this.downSampleRatio),d=Math.round(a/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(h,d),this.renderTargetBlurBuffer1.setSize(h,d),this.renderTargetEdgeBuffer1.setSize(h,d),this.separableBlurMaterial1.uniforms.texSize.value.set(h,d),h=Math.round(h/2),d=Math.round(d/2),this.renderTargetBlurBuffer2.setSize(h,d),this.renderTargetEdgeBuffer2.setSize(h,d),this.separableBlurMaterial2.uniforms.texSize.value.set(h,d)}changeVisibilityOfSelectedObjects(l){const a=this._visibilityCache;function h(d){d.isMesh&&(!0===l?d.visible=a.get(d):(a.set(d,d.visible),d.visible=l))}for(let d=0;d<this.selectedObjects.length;d++)this.selectedObjects[d].traverse(h)}changeVisibilityOfNonSelectedObjects(l){const a=this._visibilityCache,h=[];function d(p){p.isMesh&&h.push(p)}for(let p=0;p<this.selectedObjects.length;p++)this.selectedObjects[p].traverse(d);this.renderScene.traverse(function f(p){if(p.isMesh||p.isSprite){let g=!1;for(let m=0;m<h.length;m++)if(h[m].id===p.id){g=!0;break}if(!1===g){const m=p.visible;(!1===l||!0===a.get(p))&&(p.visible=l),a.set(p,m)}}else(p.isPoints||p.isLine)&&(!0===l?p.visible=a.get(p):(a.set(p,p.visible),p.visible=l))})}updateTextureMatrix(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)}render(l,a,h,d,f){if(this.selectedObjects.length>0){l.getClearColor(this._oldClearColor),this.oldClearAlpha=l.getClearAlpha();const p=l.autoClear;l.autoClear=!1,f&&l.state.buffers.stencil.setTest(!1),l.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1);const g=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,l.setRenderTarget(this.renderTargetDepthBuffer),l.clear(),l.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this._visibilityCache.clear(),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value.set(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,l.setRenderTarget(this.renderTargetMaskBuffer),l.clear(),l.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this._visibilityCache.clear(),this.renderScene.background=g,this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,l.setRenderTarget(this.renderTargetMaskDownSampleBuffer),l.clear(),this.fsQuad.render(l),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){const m=.625+.75*Math.cos(.01*performance.now()/this.pulsePeriod)/2;this.tempPulseColor1.multiplyScalar(m),this.tempPulseColor2.multiplyScalar(m)}this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value.set(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,l.setRenderTarget(this.renderTargetEdgeBuffer1),l.clear(),this.fsQuad.render(l),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=a0.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,l.setRenderTarget(this.renderTargetBlurBuffer1),l.clear(),this.fsQuad.render(l),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=a0.BlurDirectionY,l.setRenderTarget(this.renderTargetEdgeBuffer1),l.clear(),this.fsQuad.render(l),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=a0.BlurDirectionX,l.setRenderTarget(this.renderTargetBlurBuffer2),l.clear(),this.fsQuad.render(l),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=a0.BlurDirectionY,l.setRenderTarget(this.renderTargetEdgeBuffer2),l.clear(),this.fsQuad.render(l),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,f&&l.state.buffers.stencil.setTest(!0),l.setRenderTarget(h),this.fsQuad.render(l),l.setClearColor(this._oldClearColor,this.oldClearAlpha),l.autoClear=p}this.renderToScreen&&(this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=h.texture,l.setRenderTarget(null),this.fsQuad.render(l))}getPrepareMaskMaterial(){return new Tl({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new _t(.5,.5)},textureMatrix:{value:null}},vertexShader:"#include <morphtarget_pars_vertex>\n\t\t\t\t#include <skinning_pars_vertex>\n\n\t\t\t\tvarying vec4 projTexCoord;\n\t\t\t\tvarying vec4 vPosition;\n\t\t\t\tuniform mat4 textureMatrix;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\t#include <skinbase_vertex>\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <morphtarget_vertex>\n\t\t\t\t\t#include <skinning_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t\tvPosition = mvPosition;\n\t\t\t\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t\t\t\t\tprojTexCoord = textureMatrix * worldPosition;\n\n\t\t\t\t}",fragmentShader:"#include <packing>\n\t\t\t\tvarying vec4 vPosition;\n\t\t\t\tvarying vec4 projTexCoord;\n\t\t\t\tuniform sampler2D depthTexture;\n\t\t\t\tuniform vec2 cameraNearFar;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tfloat depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));\n\t\t\t\t\tfloat viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );\n\t\t\t\t\tfloat depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;\n\t\t\t\t\tgl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);\n\n\t\t\t\t}"})}getEdgeDetectionMaterial(){return new Tl({uniforms:{maskTexture:{value:null},texSize:{value:new _t(.5,.5)},visibleEdgeColor:{value:new ae(1,1,1)},hiddenEdgeColor:{value:new ae(1,1,1)}},vertexShader:"varying vec2 vUv;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\n\t\t\t\tuniform sampler2D maskTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec3 visibleEdgeColor;\n\t\t\t\tuniform vec3 hiddenEdgeColor;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tvec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);\n\t\t\t\t\tvec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);\n\t\t\t\t\tvec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);\n\t\t\t\t\tvec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);\n\t\t\t\t\tvec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);\n\t\t\t\t\tfloat diff1 = (c1.r - c2.r)*0.5;\n\t\t\t\t\tfloat diff2 = (c3.r - c4.r)*0.5;\n\t\t\t\t\tfloat d = length( vec2(diff1, diff2) );\n\t\t\t\t\tfloat a1 = min(c1.g, c2.g);\n\t\t\t\t\tfloat a2 = min(c3.g, c4.g);\n\t\t\t\t\tfloat visibilityFactor = min(a1, a2);\n\t\t\t\t\tvec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;\n\t\t\t\t\tgl_FragColor = vec4(edgeColor, 1.0) * vec4(d);\n\t\t\t\t}"})}getSeperableBlurMaterial(l){return new Tl({defines:{MAX_RADIUS:l},uniforms:{colorTexture:{value:null},texSize:{value:new _t(.5,.5)},direction:{value:new _t(.5,.5)},kernelRadius:{value:1}},vertexShader:"varying vec2 vUv;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec2 direction;\n\t\t\t\tuniform float kernelRadius;\n\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tfloat sigma = kernelRadius/2.0;\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, sigma);\n\t\t\t\t\tvec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;\n\t\t\t\t\tvec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);\n\t\t\t\t\tvec2 uvOffset = delta;\n\t\t\t\t\tfor( int i = 1; i <= MAX_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = kernelRadius * float(i) / float(MAX_RADIUS);\n\t\t\t\t\t\tfloat w = gaussianPdf(x, sigma);\n\t\t\t\t\t\tvec4 sample1 = texture2D( colorTexture, vUv + uvOffset);\n\t\t\t\t\t\tvec4 sample2 = texture2D( colorTexture, vUv - uvOffset);\n\t\t\t\t\t\tdiffuseSum += ((sample1 + sample2) * w);\n\t\t\t\t\t\tweightSum += (2.0 * w);\n\t\t\t\t\t\tuvOffset += delta;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = diffuseSum/weightSum;\n\t\t\t\t}"})}getOverlayMaterial(){return new Tl({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:"varying vec2 vUv;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\n\t\t\t\tuniform sampler2D maskTexture;\n\t\t\t\tuniform sampler2D edgeTexture1;\n\t\t\t\tuniform sampler2D edgeTexture2;\n\t\t\t\tuniform sampler2D patternTexture;\n\t\t\t\tuniform float edgeStrength;\n\t\t\t\tuniform float edgeGlow;\n\t\t\t\tuniform bool usePatternTexture;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 edgeValue1 = texture2D(edgeTexture1, vUv);\n\t\t\t\t\tvec4 edgeValue2 = texture2D(edgeTexture2, vUv);\n\t\t\t\t\tvec4 maskColor = texture2D(maskTexture, vUv);\n\t\t\t\t\tvec4 patternColor = texture2D(patternTexture, 6.0 * vUv);\n\t\t\t\t\tfloat visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;\n\t\t\t\t\tvec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;\n\t\t\t\t\tvec4 finalColor = edgeStrength * maskColor.r * edgeValue;\n\t\t\t\t\tif(usePatternTexture)\n\t\t\t\t\t\tfinalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);\n\t\t\t\t\tgl_FragColor = finalColor;\n\t\t\t\t}",blending:uZ,depthTest:!1,depthWrite:!1,transparent:!0})}}a0.BlurDirectionX=new _t(1,0),a0.BlurDirectionY=new _t(0,1);const akt={uniforms:{tDiffuse:{value:null},resolution:{value:new _t(1/1024,1/512)}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\tprecision highp float;\n\n\tuniform sampler2D tDiffuse;\n\n\tuniform vec2 resolution;\n\n\tvarying vec2 vUv;\n\n\t// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)\n\n\t//----------------------------------------------------------------------------------\n\t// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag\n\t// SDK Version: v3.00\n\t// Email:       gameworks@nvidia.com\n\t// Site:        http://developer.nvidia.com/\n\t//\n\t// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.\n\t//\n\t// Redistribution and use in source and binary forms, with or without\n\t// modification, are permitted provided that the following conditions\n\t// are met:\n\t//  * Redistributions of source code must retain the above copyright\n\t//    notice, this list of conditions and the following disclaimer.\n\t//  * Redistributions in binary form must reproduce the above copyright\n\t//    notice, this list of conditions and the following disclaimer in the\n\t//    documentation and/or other materials provided with the distribution.\n\t//  * Neither the name of NVIDIA CORPORATION nor the names of its\n\t//    contributors may be used to endorse or promote products derived\n\t//    from this software without specific prior written permission.\n\t//\n\t// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ''AS IS'' AND ANY\n\t// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n\t// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n\t// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n\t// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n\t// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n\t// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n\t// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n\t// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n\t// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n\t// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\t//\n\t//----------------------------------------------------------------------------------\n\n\t#ifndef FXAA_DISCARD\n\t\t\t//\n\t\t\t// Only valid for PC OpenGL currently.\n\t\t\t// Probably will not work when FXAA_GREEN_AS_LUMA = 1.\n\t\t\t//\n\t\t\t// 1 = Use discard on pixels which don't need AA.\n\t\t\t//     For APIs which enable concurrent TEX+ROP from same surface.\n\t\t\t// 0 = Return unchanged color on pixels which don't need AA.\n\t\t\t//\n\t\t\t#define FXAA_DISCARD 0\n\t#endif\n\n\t/*--------------------------------------------------------------------------*/\n\t#define FxaaTexTop(t, p) texture2D(t, p, -100.0)\n\t#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), -100.0)\n\t/*--------------------------------------------------------------------------*/\n\n\t#define NUM_SAMPLES 5\n\n\t// assumes colors have premultipliedAlpha, so that the calculated color contrast is scaled by alpha\n\tfloat contrast( vec4 a, vec4 b ) {\n\t\t\tvec4 diff = abs( a - b );\n\t\t\treturn max( max( max( diff.r, diff.g ), diff.b ), diff.a );\n\t}\n\n\t/*============================================================================\n\n\t\t\t\t\t\t\t\t\tFXAA3 QUALITY - PC\n\n\t============================================================================*/\n\n\t/*--------------------------------------------------------------------------*/\n\tvec4 FxaaPixelShader(\n\t\t\tvec2 posM,\n\t\t\tsampler2D tex,\n\t\t\tvec2 fxaaQualityRcpFrame,\n\t\t\tfloat fxaaQualityEdgeThreshold,\n\t\t\tfloat fxaaQualityinvEdgeThreshold\n\t) {\n\t\t\tvec4 rgbaM = FxaaTexTop(tex, posM);\n\t\t\tvec4 rgbaS = FxaaTexOff(tex, posM, vec2( 0.0, 1.0), fxaaQualityRcpFrame.xy);\n\t\t\tvec4 rgbaE = FxaaTexOff(tex, posM, vec2( 1.0, 0.0), fxaaQualityRcpFrame.xy);\n\t\t\tvec4 rgbaN = FxaaTexOff(tex, posM, vec2( 0.0,-1.0), fxaaQualityRcpFrame.xy);\n\t\t\tvec4 rgbaW = FxaaTexOff(tex, posM, vec2(-1.0, 0.0), fxaaQualityRcpFrame.xy);\n\t\t\t// . S .\n\t\t\t// W M E\n\t\t\t// . N .\n\n\t\t\tbool earlyExit = max( max( max(\n\t\t\t\t\tcontrast( rgbaM, rgbaN ),\n\t\t\t\t\tcontrast( rgbaM, rgbaS ) ),\n\t\t\t\t\tcontrast( rgbaM, rgbaE ) ),\n\t\t\t\t\tcontrast( rgbaM, rgbaW ) )\n\t\t\t\t\t< fxaaQualityEdgeThreshold;\n\t\t\t// . 0 .\n\t\t\t// 0 0 0\n\t\t\t// . 0 .\n\n\t\t\t#if (FXAA_DISCARD == 1)\n\t\t\t\t\tif(earlyExit) FxaaDiscard;\n\t\t\t#else\n\t\t\t\t\tif(earlyExit) return rgbaM;\n\t\t\t#endif\n\n\t\t\tfloat contrastN = contrast( rgbaM, rgbaN );\n\t\t\tfloat contrastS = contrast( rgbaM, rgbaS );\n\t\t\tfloat contrastE = contrast( rgbaM, rgbaE );\n\t\t\tfloat contrastW = contrast( rgbaM, rgbaW );\n\n\t\t\tfloat relativeVContrast = ( contrastN + contrastS ) - ( contrastE + contrastW );\n\t\t\trelativeVContrast *= fxaaQualityinvEdgeThreshold;\n\n\t\t\tbool horzSpan = relativeVContrast > 0.;\n\t\t\t// . 1 .\n\t\t\t// 0 0 0\n\t\t\t// . 1 .\n\n\t\t\t// 45 deg edge detection and corners of objects, aka V/H contrast is too similar\n\t\t\tif( abs( relativeVContrast ) < .3 ) {\n\t\t\t\t\t// locate the edge\n\t\t\t\t\tvec2 dirToEdge;\n\t\t\t\t\tdirToEdge.x = contrastE > contrastW ? 1. : -1.;\n\t\t\t\t\tdirToEdge.y = contrastS > contrastN ? 1. : -1.;\n\t\t\t\t\t// . 2 .      . 1 .\n\t\t\t\t\t// 1 0 2  ~=  0 0 1\n\t\t\t\t\t// . 1 .      . 0 .\n\n\t\t\t\t\t// tap 2 pixels and see which ones are \"outside\" the edge, to\n\t\t\t\t\t// determine if the edge is vertical or horizontal\n\n\t\t\t\t\tvec4 rgbaAlongH = FxaaTexOff(tex, posM, vec2( dirToEdge.x, -dirToEdge.y ), fxaaQualityRcpFrame.xy);\n\t\t\t\t\tfloat matchAlongH = contrast( rgbaM, rgbaAlongH );\n\t\t\t\t\t// . 1 .\n\t\t\t\t\t// 0 0 1\n\t\t\t\t\t// . 0 H\n\n\t\t\t\t\tvec4 rgbaAlongV = FxaaTexOff(tex, posM, vec2( -dirToEdge.x, dirToEdge.y ), fxaaQualityRcpFrame.xy);\n\t\t\t\t\tfloat matchAlongV = contrast( rgbaM, rgbaAlongV );\n\t\t\t\t\t// V 1 .\n\t\t\t\t\t// 0 0 1\n\t\t\t\t\t// . 0 .\n\n\t\t\t\t\trelativeVContrast = matchAlongV - matchAlongH;\n\t\t\t\t\trelativeVContrast *= fxaaQualityinvEdgeThreshold;\n\n\t\t\t\t\tif( abs( relativeVContrast ) < .3 ) { // 45 deg edge\n\t\t\t\t\t\t\t// 1 1 .\n\t\t\t\t\t\t\t// 0 0 1\n\t\t\t\t\t\t\t// . 0 1\n\n\t\t\t\t\t\t\t// do a simple blur\n\t\t\t\t\t\t\treturn mix(\n\t\t\t\t\t\t\t\t\trgbaM,\n\t\t\t\t\t\t\t\t\t(rgbaN + rgbaS + rgbaE + rgbaW) * .25,\n\t\t\t\t\t\t\t\t\t.4\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\thorzSpan = relativeVContrast > 0.;\n\t\t\t}\n\n\t\t\tif(!horzSpan) rgbaN = rgbaW;\n\t\t\tif(!horzSpan) rgbaS = rgbaE;\n\t\t\t// . 0 .      1\n\t\t\t// 1 0 1  ->  0\n\t\t\t// . 0 .      1\n\n\t\t\tbool pairN = contrast( rgbaM, rgbaN ) > contrast( rgbaM, rgbaS );\n\t\t\tif(!pairN) rgbaN = rgbaS;\n\n\t\t\tvec2 offNP;\n\t\t\toffNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\n\t\t\toffNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\n\n\t\t\tbool doneN = false;\n\t\t\tbool doneP = false;\n\n\t\t\tfloat nDist = 0.;\n\t\t\tfloat pDist = 0.;\n\n\t\t\tvec2 posN = posM;\n\t\t\tvec2 posP = posM;\n\n\t\t\tint iterationsUsed = 0;\n\t\t\tint iterationsUsedN = 0;\n\t\t\tint iterationsUsedP = 0;\n\t\t\tfor( int i = 0; i < NUM_SAMPLES; i++ ) {\n\t\t\t\t\titerationsUsed = i;\n\n\t\t\t\t\tfloat increment = float(i + 1);\n\n\t\t\t\t\tif(!doneN) {\n\t\t\t\t\t\t\tnDist += increment;\n\t\t\t\t\t\t\tposN = posM + offNP * nDist;\n\t\t\t\t\t\t\tvec4 rgbaEndN = FxaaTexTop(tex, posN.xy);\n\t\t\t\t\t\t\tdoneN = contrast( rgbaEndN, rgbaM ) > contrast( rgbaEndN, rgbaN );\n\t\t\t\t\t\t\titerationsUsedN = i;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!doneP) {\n\t\t\t\t\t\t\tpDist += increment;\n\t\t\t\t\t\t\tposP = posM - offNP * pDist;\n\t\t\t\t\t\t\tvec4 rgbaEndP = FxaaTexTop(tex, posP.xy);\n\t\t\t\t\t\t\tdoneP = contrast( rgbaEndP, rgbaM ) > contrast( rgbaEndP, rgbaN );\n\t\t\t\t\t\t\titerationsUsedP = i;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(doneN || doneP) break;\n\t\t\t}\n\n\n\t\t\tif ( !doneP && !doneN ) return rgbaM; // failed to find end of edge\n\n\t\t\tfloat dist = min(\n\t\t\t\t\tdoneN ? float( iterationsUsedN ) / float( NUM_SAMPLES - 1 ) : 1.,\n\t\t\t\t\tdoneP ? float( iterationsUsedP ) / float( NUM_SAMPLES - 1 ) : 1.\n\t\t\t);\n\n\t\t\t// hacky way of reduces blurriness of mostly diagonal edges\n\t\t\t// but reduces AA quality\n\t\t\tdist = pow(dist, .5);\n\n\t\t\tdist = 1. - dist;\n\n\t\t\treturn mix(\n\t\t\t\t\trgbaM,\n\t\t\t\t\trgbaN,\n\t\t\t\t\tdist * .5\n\t\t\t);\n\t}\n\n\tvoid main() {\n\t\t\tconst float edgeDetectionQuality = .2;\n\t\t\tconst float invEdgeDetectionQuality = 1. / edgeDetectionQuality;\n\n\t\t\tgl_FragColor = FxaaPixelShader(\n\t\t\t\t\tvUv,\n\t\t\t\t\ttDiffuse,\n\t\t\t\t\tresolution,\n\t\t\t\t\tedgeDetectionQuality, // [0,1] contrast needed, otherwise early discard\n\t\t\t\t\tinvEdgeDetectionQuality\n\t\t\t);\n\n\t}\n\t"};class txe extends QC{autoRender;renderer=null;camera=null;scene=null;light=null;cube=null;mouseX=0;mouseY=0;composer=null;effectFXAA=null;outlinePass=null;frameId=null;constructor(l=!0){super(),this.autoRender=l}dispose(){this.autoRender&&null!=this.frameId&&cancelAnimationFrame(this.frameId),null!=this.renderer&&(this.renderer.dispose(),this.renderer=null)}init(l){this.renderer=l;let a=this.canvasWidth,h=this.canvasHeight;this.renderer.setSize(a,h),this.renderer.setClearColor(255,1),this.scene=new Vv,this.camera=new Mo(75,a/h,.1,1e3),this.camera.position.z=5,this.scene.add(this.camera),this.light=new yk(4210752),this.light.position.z=10,this.scene.add(this.light);const d=new Ff(1,1,1),f=new vo({color:65280,wireframe:!1,transparent:!0}),p=new vo({color:0,wireframe:!0,transparent:!0});this.cube=new br(d,f),this.cube.add(new br(d,p)),this.scene.add(this.cube),this.composer=new rkt(this.renderer);const g=new okt(this.scene,this.camera);this.composer.addPass(g),this.outlinePass=new a0(new _t(a,h),this.scene,this.camera),this.composer.addPass(this.outlinePass),this.effectFXAA=new Ij(akt),this.effectFXAA.uniforms.resolution.value.set(1/a,1/h),this.composer.addPass(this.effectFXAA),this.composer.setSize(a,h),this.outlinePass.selectedObjects=[this.cube];const m=document.createElement("canvas");m.width=128,m.height=128;const _=m.getContext("2d");_.fillStyle="red",_.fillRect(0,0,m.width,m.height);const y=new ewe(m);y.wrapS=eC,y.wrapT=eC,this.outlinePass.patternTexture=y,this.outlinePass.edgeStrength=10,this.outlinePass.edgeGlow=1,this.outlinePass.edgeThickness=1,this.outlinePass.pulsePeriod=0,this.outlinePass.usePatternTexture=!0,this.outlinePass.visibleEdgeColor=new Cn(16746632)}onMouseMove(l){let h=this.canvasHeight/2;this.mouseX=l.clientX-this.canvasWidth/2,this.mouseY=l.clientY-h}onResize(){const l=this.canvasWidth,a=this.canvasHeight;this.camera.aspect=l/a,this.camera.updateProjectionMatrix(),this.renderer.setSize(l,a),this.composer.setSize(l,a)}render(){this.autoRender&&(this.frameId=requestAnimationFrame(()=>{this.render()})),this.cube&&(this.cube.rotation.x+=.01,this.cube.rotation.y+=.01),this.composer&&this.composer.render()}}var Zv=function(c){return c[c.Vertexes=0]="Vertexes",c[c.Normals=1]="Normals",c[c.UV=2]="UV",c}(Zv||{});class HC{vertexes=[];normals=[];uv=[];static builder(){return new HC}addTriangle(l,a,h,d,f,p){this.vertexes.push(l,a,h);let g=new ae;g.copy(a),g.sub(l);let m=new ae;m.copy(h),m.sub(l);let v=g.cross(m);return v=v.normalize(),this.normals.push(v,v,v),this}addPlaneXY(l,a,h,d=0,f=0){let p=new ae(l.x,l.y,l.z),g=new ae(l.x,l.y,l.z),m=new ae(l.x,l.y,l.z),v=new ae(l.x,l.y,l.z);g.add(new ae(a,0,0)),m.add(new ae(0,-h,0)),v.add(new ae(a,-h,0));let _=new Zc;return _.set(1,0,0,Math.tan(-f),1,0,0,0,1),p.applyMatrix3(_),g.applyMatrix3(_),m.applyMatrix3(_),v.applyMatrix3(_),this.addTriangle(p,m,g,new _t(0,0),new _t(0,1),new _t(1,0)),this.addTriangle(g,m,v,new _t(1,0),new _t(0,1),new _t(1,1)),this}toPlainArray(l=Zv.Vertexes){switch(l){case Zv.Normals:return this.normals.flatMap(a=>[a.x,a.y,a.z]);case Zv.UV:return this.uv.flatMap(a=>[a.x,a.y]);default:return this.vertexes.flatMap(a=>[a.x,a.y,a.z])}}}String.prototype.codePointAt||function(){var c=function(){try{var a={},h=Object.defineProperty,d=h(a,a,a)&&h}catch{}return d}(),l=function(a){if(null==this)throw TypeError();var h=String(this),d=h.length,f=a?Number(a):0;if(f!=f&&(f=0),!(f<0||f>=d)){var g,p=h.charCodeAt(f);return p>=55296&&p<=56319&&d>f+1&&(g=h.charCodeAt(f+1))>=56320&&g<=57343?1024*(p-55296)+g-56320+65536:p}};c?c(String.prototype,"codePointAt",{value:l,configurable:!0,writable:!0}):String.prototype.codePointAt=l}();function Ok(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function lkt(c,l){this.source=c,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=l,this.destLen=0,this.ltree=new Ok,this.dtree=new Ok}var ixe=new Ok,rxe=new Ok,Nj=new Uint8Array(30),Fj=new Uint16Array(30),sxe=new Uint8Array(30),oxe=new Uint16Array(30),ckt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),axe=new Ok,zf=new Uint8Array(320);function lxe(c,l,a,h){var d,f;for(d=0;d<a;++d)c[d]=0;for(d=0;d<30-a;++d)c[d+a]=d/a|0;for(f=h,d=0;d<30;++d)l[d]=f,f+=1<<c[d]}var cxe=new Uint16Array(16);function Bj(c,l,a,h){var d,f;for(d=0;d<16;++d)c.table[d]=0;for(d=0;d<h;++d)c.table[l[a+d]]++;for(c.table[0]=0,f=0,d=0;d<16;++d)cxe[d]=f,f+=c.table[d];for(d=0;d<h;++d)l[a+d]&&(c.trans[cxe[l[a+d]]++]=d)}function hkt(c){c.bitcount--||(c.tag=c.source[c.sourceIndex++],c.bitcount=7);var l=1&c.tag;return c.tag>>>=1,l}function Uf(c,l,a){if(!l)return a;for(;c.bitcount<24;)c.tag|=c.source[c.sourceIndex++]<<c.bitcount,c.bitcount+=8;var h=c.tag&65535>>>16-l;return c.tag>>>=l,c.bitcount-=l,h+a}function Vj(c,l){for(;c.bitcount<24;)c.tag|=c.source[c.sourceIndex++]<<c.bitcount,c.bitcount+=8;var a=0,h=0,d=0,f=c.tag;do{h=2*h+(1&f),f>>>=1,++d,a+=l.table[d],h-=l.table[d]}while(h>=0);return c.tag=f,c.bitcount-=d,l.trans[a+h]}function dkt(c,l,a){var h,d,f,p,g,m;for(h=Uf(c,5,257),d=Uf(c,5,1),f=Uf(c,4,4),p=0;p<19;++p)zf[p]=0;for(p=0;p<f;++p){var v=Uf(c,3,0);zf[ckt[p]]=v}for(Bj(axe,zf,0,19),g=0;g<h+d;){var _=Vj(c,axe);switch(_){case 16:var y=zf[g-1];for(m=Uf(c,2,3);m;--m)zf[g++]=y;break;case 17:for(m=Uf(c,3,3);m;--m)zf[g++]=0;break;case 18:for(m=Uf(c,7,11);m;--m)zf[g++]=0;break;default:zf[g++]=_}}Bj(l,zf,0,h),Bj(a,zf,h,d)}function uxe(c,l,a){for(;;){var d,f,p,g,h=Vj(c,l);if(256===h)return 0;if(h<256)c.dest[c.destLen++]=h;else for(d=Uf(c,Nj[h-=257],Fj[h]),f=Vj(c,a),g=p=c.destLen-Uf(c,sxe[f],oxe[f]);g<p+d;++g)c.dest[c.destLen++]=c.dest[g]}}function fkt(c){for(var l,h;c.bitcount>8;)c.sourceIndex--,c.bitcount-=8;if((l=256*(l=c.source[c.sourceIndex+1])+c.source[c.sourceIndex])!==(65535&~(256*c.source[c.sourceIndex+3]+c.source[c.sourceIndex+2])))return-3;for(c.sourceIndex+=4,h=l;h;--h)c.dest[c.destLen++]=c.source[c.sourceIndex++];return c.bitcount=0,0}(function ukt(c,l){var a;for(a=0;a<7;++a)c.table[a]=0;for(c.table[7]=24,c.table[8]=152,c.table[9]=112,a=0;a<24;++a)c.trans[a]=256+a;for(a=0;a<144;++a)c.trans[24+a]=a;for(a=0;a<8;++a)c.trans[168+a]=280+a;for(a=0;a<112;++a)c.trans[176+a]=144+a;for(a=0;a<5;++a)l.table[a]=0;for(l.table[5]=32,a=0;a<32;++a)l.trans[a]=a})(ixe,rxe),lxe(Nj,Fj,4,3),lxe(sxe,oxe,2,1),Nj[28]=0,Fj[28]=258;var gkt=function pkt(c,l){var h,f,a=new lkt(c,l);do{switch(h=hkt(a),Uf(a,2,0)){case 0:f=fkt(a);break;case 1:f=uxe(a,ixe,rxe);break;case 2:dkt(a,a.ltree,a.dtree),f=uxe(a,a.ltree,a.dtree);break;default:f=-3}if(0!==f)throw new Error("Data error")}while(!h);return a.destLen<a.dest.length?"function"==typeof a.dest.slice?a.dest.slice(0,a.destLen):a.dest.subarray(0,a.destLen):a.dest};function WC(c,l,a,h,d){return Math.pow(1-d,3)*c+3*Math.pow(1-d,2)*d*l+3*(1-d)*Math.pow(d,2)*a+Math.pow(d,3)*h}function fg(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Qo(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function hxe(c){throw new Error(c)}function dxe(c,l){c||hxe(l)}fg.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},fg.prototype.addPoint=function(c,l){"number"==typeof c&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=c,this.x2=c),c<this.x1&&(this.x1=c),c>this.x2&&(this.x2=c)),"number"==typeof l&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=l,this.y2=l),l<this.y1&&(this.y1=l),l>this.y2&&(this.y2=l))},fg.prototype.addX=function(c){this.addPoint(c,null)},fg.prototype.addY=function(c){this.addPoint(null,c)},fg.prototype.addBezier=function(c,l,a,h,d,f,p,g){var m=[c,l],v=[a,h],_=[d,f],y=[p,g];this.addPoint(c,l),this.addPoint(p,g);for(var b=0;b<=1;b++){var O=6*m[b]-12*v[b]+6*_[b],C=-3*m[b]+9*v[b]-9*_[b]+3*y[b],S=3*v[b]-3*m[b];if(0!==C){var x=Math.pow(O,2)-4*S*C;if(!(x<0)){var T=(-O+Math.sqrt(x))/(2*C);0<T&&T<1&&(0===b&&this.addX(WC(m[b],v[b],_[b],y[b],T)),1===b&&this.addY(WC(m[b],v[b],_[b],y[b],T)));var D=(-O-Math.sqrt(x))/(2*C);0<D&&D<1&&(0===b&&this.addX(WC(m[b],v[b],_[b],y[b],D)),1===b&&this.addY(WC(m[b],v[b],_[b],y[b],D)))}}else{if(0===O)continue;var w=-S/O;0<w&&w<1&&(0===b&&this.addX(WC(m[b],v[b],_[b],y[b],w)),1===b&&this.addY(WC(m[b],v[b],_[b],y[b],w)))}}},fg.prototype.addQuad=function(c,l,a,h,d,f){var p=c+.6666666666666666*(a-c),g=l+2/3*(h-l);this.addBezier(c,l,p,g,p+1/3*(d-c),g+1/3*(f-l),d,f)},Qo.prototype.moveTo=function(c,l){this.commands.push({type:"M",x:c,y:l})},Qo.prototype.lineTo=function(c,l){this.commands.push({type:"L",x:c,y:l})},Qo.prototype.curveTo=Qo.prototype.bezierCurveTo=function(c,l,a,h,d,f){this.commands.push({type:"C",x1:c,y1:l,x2:a,y2:h,x:d,y:f})},Qo.prototype.quadTo=Qo.prototype.quadraticCurveTo=function(c,l,a,h){this.commands.push({type:"Q",x1:c,y1:l,x:a,y:h})},Qo.prototype.close=Qo.prototype.closePath=function(){this.commands.push({type:"Z"})},Qo.prototype.extend=function(c){if(c.commands)c=c.commands;else if(c instanceof fg){var l=c;return this.moveTo(l.x1,l.y1),this.lineTo(l.x2,l.y1),this.lineTo(l.x2,l.y2),this.lineTo(l.x1,l.y2),void this.close()}Array.prototype.push.apply(this.commands,c)},Qo.prototype.getBoundingBox=function(){for(var c=new fg,l=0,a=0,h=0,d=0,f=0;f<this.commands.length;f++){var p=this.commands[f];switch(p.type){case"M":c.addPoint(p.x,p.y),l=h=p.x,a=d=p.y;break;case"L":c.addPoint(p.x,p.y),h=p.x,d=p.y;break;case"Q":c.addQuad(h,d,p.x1,p.y1,p.x,p.y),h=p.x,d=p.y;break;case"C":c.addBezier(h,d,p.x1,p.y1,p.x2,p.y2,p.x,p.y),h=p.x,d=p.y;break;case"Z":h=l,d=a;break;default:throw new Error("Unexpected path command "+p.type)}}return c.isEmpty()&&c.addPoint(0,0),c},Qo.prototype.draw=function(c){c.beginPath();for(var l=0;l<this.commands.length;l+=1){var a=this.commands[l];"M"===a.type?c.moveTo(a.x,a.y):"L"===a.type?c.lineTo(a.x,a.y):"C"===a.type?c.bezierCurveTo(a.x1,a.y1,a.x2,a.y2,a.x,a.y):"Q"===a.type?c.quadraticCurveTo(a.x1,a.y1,a.x,a.y):"Z"===a.type&&c.closePath()}this.fill&&(c.fillStyle=this.fill,c.fill()),this.stroke&&(c.strokeStyle=this.stroke,c.lineWidth=this.strokeWidth,c.stroke())},Qo.prototype.toPathData=function(c){function l(p){return Math.round(p)===p?""+Math.round(p):p.toFixed(c)}function a(){for(var p=arguments,g="",m=0;m<arguments.length;m+=1){var v=p[m];v>=0&&m>0&&(g+=" "),g+=l(v)}return g}c=void 0!==c?c:2;for(var h="",d=0;d<this.commands.length;d+=1){var f=this.commands[d];"M"===f.type?h+="M"+a(f.x,f.y):"L"===f.type?h+="L"+a(f.x,f.y):"C"===f.type?h+="C"+a(f.x1,f.y1,f.x2,f.y2,f.x,f.y):"Q"===f.type?h+="Q"+a(f.x1,f.y1,f.x,f.y):"Z"===f.type&&(h+="Z")}return h},Qo.prototype.toSVG=function(c){var l='<path d="';return l+=this.toPathData(c),l+='"',this.fill&&"black"!==this.fill&&(l+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(l+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),l+"/>"},Qo.prototype.toDOMElement=function(c){var l=this.toPathData(c),a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d",l),a};var ai={fail:hxe,argument:dxe,assert:dxe},ZC={},Sn={},Ei={};function yd(c){return function(){return c}}Sn.BYTE=function(c){return ai.argument(c>=0&&c<=255,"Byte value should be between 0 and 255."),[c]},Ei.BYTE=yd(1),Sn.CHAR=function(c){return[c.charCodeAt(0)]},Ei.CHAR=yd(1),Sn.CHARARRAY=function(c){typeof c>"u"&&(c="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var l=[],a=0;a<c.length;a+=1)l[a]=c.charCodeAt(a);return l},Ei.CHARARRAY=function(c){return typeof c>"u"?0:c.length},Sn.USHORT=function(c){return[c>>8&255,255&c]},Ei.USHORT=yd(2),Sn.SHORT=function(c){return c>=32768&&(c=-(65536-c)),[c>>8&255,255&c]},Ei.SHORT=yd(2),Sn.UINT24=function(c){return[c>>16&255,c>>8&255,255&c]},Ei.UINT24=yd(3),Sn.ULONG=function(c){return[c>>24&255,c>>16&255,c>>8&255,255&c]},Ei.ULONG=yd(4),Sn.LONG=function(c){return c>=2147483648&&(c=-(4294967296-c)),[c>>24&255,c>>16&255,c>>8&255,255&c]},Ei.LONG=yd(4),Sn.FIXED=Sn.ULONG,Ei.FIXED=Ei.ULONG,Sn.FWORD=Sn.SHORT,Ei.FWORD=Ei.SHORT,Sn.UFWORD=Sn.USHORT,Ei.UFWORD=Ei.USHORT,Sn.LONGDATETIME=function(c){return[0,0,0,0,c>>24&255,c>>16&255,c>>8&255,255&c]},Ei.LONGDATETIME=yd(8),Sn.TAG=function(c){return ai.argument(4===c.length,"Tag should be exactly 4 ASCII characters."),[c.charCodeAt(0),c.charCodeAt(1),c.charCodeAt(2),c.charCodeAt(3)]},Ei.TAG=yd(4),Sn.Card8=Sn.BYTE,Ei.Card8=Ei.BYTE,Sn.Card16=Sn.USHORT,Ei.Card16=Ei.USHORT,Sn.OffSize=Sn.BYTE,Ei.OffSize=Ei.BYTE,Sn.SID=Sn.USHORT,Ei.SID=Ei.USHORT,Sn.NUMBER=function(c){return c>=-107&&c<=107?[c+139]:c>=108&&c<=1131?[247+((c-=108)>>8),255&c]:c>=-1131&&c<=-108?[251+((c=-c-108)>>8),255&c]:c>=-32768&&c<=32767?Sn.NUMBER16(c):Sn.NUMBER32(c)},Ei.NUMBER=function(c){return Sn.NUMBER(c).length},Sn.NUMBER16=function(c){return[28,c>>8&255,255&c]},Ei.NUMBER16=yd(3),Sn.NUMBER32=function(c){return[29,c>>24&255,c>>16&255,c>>8&255,255&c]},Ei.NUMBER32=yd(5),Sn.REAL=function(c){var l=c.toString(),a=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(l);if(a){var h=parseFloat("1e"+((a[2]?+a[2]:0)+a[1].length));l=(Math.round(c*h)/h).toString()}for(var d="",f=0,p=l.length;f<p;f+=1){var g=l[f];d+="e"===g?"-"===l[++f]?"c":"b":"."===g?"a":"-"===g?"e":g}for(var m=[30],v=0,_=(d+=1&d.length?"f":"ff").length;v<_;v+=2)m.push(parseInt(d.substr(v,2),16));return m},Ei.REAL=function(c){return Sn.REAL(c).length},Sn.NAME=Sn.CHARARRAY,Ei.NAME=Ei.CHARARRAY,Sn.STRING=Sn.CHARARRAY,Ei.STRING=Ei.CHARARRAY,ZC.UTF8=function(c,l,a){for(var h=[],d=a,f=0;f<d;f++,l+=1)h[f]=c.getUint8(l);return String.fromCharCode.apply(null,h)},ZC.UTF16=function(c,l,a){for(var h=[],d=a/2,f=0;f<d;f++,l+=2)h[f]=c.getUint16(l);return String.fromCharCode.apply(null,h)},Sn.UTF16=function(c){for(var l=[],a=0;a<c.length;a+=1){var h=c.charCodeAt(a);l[l.length]=h>>8&255,l[l.length]=255&h}return l},Ei.UTF16=function(c){return 2*c.length};var $j={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"};ZC.MACSTRING=function(c,l,a,h){var d=$j[h];if(void 0!==d){for(var f="",p=0;p<a;p++){var g=c.getUint8(l+p);f+=g<=127?String.fromCharCode(g):d[127&g]}return f}};var RR,IR="function"==typeof WeakMap&&new WeakMap;function zj(c){return c>=-128&&c<=127}function vkt(c,l,a){for(var h=0,d=c.length;l<d&&h<64&&0===c[l];)++l,++h;return a.push(128|h-1),l}function _kt(c,l,a){for(var h=0,d=c.length,f=l;f<d&&h<64;){var p=c[f];if(!zj(p)||0===p&&f+1<d&&0===c[f+1])break;++f,++h}a.push(h-1);for(var g=l;g<f;++g)a.push(c[g]+256&255);return f}function ykt(c,l,a){for(var h=0,d=c.length,f=l;f<d&&h<64;){var p=c[f];if(0===p||zj(p)&&f+1<d&&zj(c[f+1]))break;++f,++h}a.push(64|h-1);for(var g=l;g<f;++g){var m=c[g];a.push(m+65536>>8&255,m+256&255)}return f}Sn.MACSTRING=function(c,l){var a=function(c){if(!RR)for(var l in RR={},$j)RR[l]=new String(l);var a=RR[c];if(void 0!==a){if(IR){var h=IR.get(a);if(void 0!==h)return h}var d=$j[c];if(void 0!==d){for(var f={},p=0;p<d.length;p++)f[d.charCodeAt(p)]=p+128;return IR&&IR.set(a,f),f}}}(l);if(void 0!==a){for(var h=[],d=0;d<c.length;d++){var f=c.charCodeAt(d);if(f>=128&&void 0===(f=a[f]))return;h[d]=f}return h}},Ei.MACSTRING=function(c,l){var a=Sn.MACSTRING(c,l);return void 0!==a?a.length:0},Sn.VARDELTAS=function(c){for(var l=0,a=[];l<c.length;){var h=c[l];l=0===h?vkt(c,l,a):h>=-128&&h<=127?_kt(c,l,a):ykt(c,l,a)}return a},Sn.INDEX=function(c){for(var l=1,a=[l],h=[],d=0;d<c.length;d+=1){var f=Sn.OBJECT(c[d]);Array.prototype.push.apply(h,f),a.push(l+=f.length)}if(0===h.length)return[0,0];for(var p=[],g=1+Math.floor(Math.log(l)/Math.log(2))/8|0,m=[void 0,Sn.BYTE,Sn.USHORT,Sn.UINT24,Sn.ULONG][g],v=0;v<a.length;v+=1){var _=m(a[v]);Array.prototype.push.apply(p,_)}return Array.prototype.concat(Sn.Card16(c.length),Sn.OffSize(g),p,h)},Ei.INDEX=function(c){return Sn.INDEX(c).length},Sn.DICT=function(c){for(var l=[],a=Object.keys(c),h=a.length,d=0;d<h;d+=1){var f=parseInt(a[d],0),p=c[f];l=(l=l.concat(Sn.OPERAND(p.value,p.type))).concat(Sn.OPERATOR(f))}return l},Ei.DICT=function(c){return Sn.DICT(c).length},Sn.OPERATOR=function(c){return c<1200?[c]:[12,c-1200]},Sn.OPERAND=function(c,l){var a=[];if(Array.isArray(l))for(var h=0;h<l.length;h+=1)ai.argument(c.length===l.length,"Not enough arguments given for type"+l),a=a.concat(Sn.OPERAND(c[h],l[h]));else if("SID"===l)a=a.concat(Sn.NUMBER(c));else if("offset"===l)a=a.concat(Sn.NUMBER32(c));else if("number"===l)a=a.concat(Sn.NUMBER(c));else{if("real"!==l)throw new Error("Unknown operand type "+l);a=a.concat(Sn.REAL(c))}return a},Sn.OP=Sn.BYTE,Ei.OP=Ei.BYTE;var LR="function"==typeof WeakMap&&new WeakMap;function Ma(c,l,a){if(l.length&&("coverageFormat"!==l[0].name||1===l[0].value))for(var h=0;h<l.length;h+=1){var d=l[h];this[d.name]=d.value}if(this.tableName=c,this.fields=l,a)for(var f=Object.keys(a),p=0;p<f.length;p+=1){var g=f[p];void 0!==this[g]&&(this[g]=a[g])}}function Ck(c,l,a){void 0===a&&(a=l.length);var h=new Array(l.length+1);h[0]={name:c+"Count",type:"USHORT",value:a};for(var d=0;d<l.length;d++)h[d+1]={name:c+d,type:"USHORT",value:l[d]};return h}function Uj(c,l,a){var h=l.length,d=new Array(h+1);d[0]={name:c+"Count",type:"USHORT",value:h};for(var f=0;f<h;f++)d[f+1]={name:c+f,type:"TABLE",value:a(l[f],f)};return d}function Sk(c,l,a){var h=l.length,d=[];d[0]={name:c+"Count",type:"USHORT",value:h};for(var f=0;f<h;f++)d=d.concat(a(l[f],f));return d}function NR(c){1===c.format?Ma.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Ck("glyph",c.glyphs))):2===c.format?Ma.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(Sk("rangeRecord",c.ranges,function(l){return[{name:"startGlyphID",type:"USHORT",value:l.start},{name:"endGlyphID",type:"USHORT",value:l.end},{name:"startCoverageIndex",type:"USHORT",value:l.index}]}))):ai.assert(!1,"Coverage format must be 1 or 2.")}function FR(c){Ma.call(this,"scriptListTable",Sk("scriptRecord",c,function(l,a){var h=l.script,d=h.defaultLangSys;return ai.assert(!!d,"Unable to write GSUB: script "+l.tag+" has no default language system."),[{name:"scriptTag"+a,type:"TAG",value:l.tag},{name:"script"+a,type:"TABLE",value:new Ma("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Ma("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:d.reqFeatureIndex}].concat(Ck("featureIndex",d.featureIndexes)))}].concat(Sk("langSys",h.langSysRecords,function(f,p){var g=f.langSys;return[{name:"langSysTag"+p,type:"TAG",value:f.tag},{name:"langSys"+p,type:"TABLE",value:new Ma("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:g.reqFeatureIndex}].concat(Ck("featureIndex",g.featureIndexes)))}]})))}]}))}function BR(c){Ma.call(this,"featureListTable",Sk("featureRecord",c,function(l,a){var h=l.feature;return[{name:"featureTag"+a,type:"TAG",value:l.tag},{name:"feature"+a,type:"TABLE",value:new Ma("featureTable",[{name:"featureParams",type:"USHORT",value:h.featureParams}].concat(Ck("lookupListIndex",h.lookupListIndexes)))}]}))}function VR(c,l){Ma.call(this,"lookupListTable",Uj("lookup",c,function(a){var h=l[a.lookupType];return ai.assert(!!h,"Unable to write GSUB lookup type "+a.lookupType+" tables."),new Ma("lookupTable",[{name:"lookupType",type:"USHORT",value:a.lookupType},{name:"lookupFlag",type:"USHORT",value:a.lookupFlag}].concat(Uj("subtable",a.subtables,h)))}))}Sn.CHARSTRING=function(c){if(LR){var l=LR.get(c);if(void 0!==l)return l}for(var a=[],h=c.length,d=0;d<h;d+=1){var f=c[d];a=a.concat(Sn[f.type](f.value))}return LR&&LR.set(c,a),a},Ei.CHARSTRING=function(c){return Sn.CHARSTRING(c).length},Sn.OBJECT=function(c){var l=Sn[c.type];return ai.argument(void 0!==l,"No encoding function for type "+c.type),l(c.value)},Ei.OBJECT=function(c){var l=Ei[c.type];return ai.argument(void 0!==l,"No sizeOf function for type "+c.type),l(c.value)},Sn.TABLE=function(c){for(var l=[],a=c.fields.length,h=[],d=[],f=0;f<a;f+=1){var p=c.fields[f],g=Sn[p.type];ai.argument(void 0!==g,"No encoding function for field type "+p.type+" ("+p.name+")");var m=c[p.name];void 0===m&&(m=p.value);var v=g(m);"TABLE"===p.type?(d.push(l.length),l=l.concat([0,0]),h.push(v)):l=l.concat(v)}for(var _=0;_<h.length;_+=1){var y=d[_],b=l.length;ai.argument(b<65536,"Table "+c.tableName+" too big."),l[y]=b>>8,l[y+1]=255&b,l=l.concat(h[_])}return l},Ei.TABLE=function(c){for(var l=0,a=c.fields.length,h=0;h<a;h+=1){var d=c.fields[h],f=Ei[d.type];ai.argument(void 0!==f,"No sizeOf function for field type "+d.type+" ("+d.name+")");var p=c[d.name];void 0===p&&(p=d.value),l+=f(p),"TABLE"===d.type&&(l+=2)}return l},Sn.RECORD=Sn.TABLE,Ei.RECORD=Ei.TABLE,Sn.LITERAL=function(c){return c},Ei.LITERAL=function(c){return c.length},Ma.prototype.encode=function(){return Sn.TABLE(this)},Ma.prototype.sizeOf=function(){return Ei.TABLE(this)},(NR.prototype=Object.create(Ma.prototype)).constructor=NR,(FR.prototype=Object.create(Ma.prototype)).constructor=FR,(BR.prototype=Object.create(Ma.prototype)).constructor=BR,(VR.prototype=Object.create(Ma.prototype)).constructor=VR;var Pn={Table:Ma,Record:Ma,Coverage:NR,ScriptList:FR,FeatureList:BR,LookupList:VR,ushortList:Ck,tableList:Uj,recordList:Sk};function gxe(c,l){return c.getUint8(l)}function $R(c,l){return c.getUint16(l,!1)}function Qj(c,l){return c.getUint32(l,!1)}function mxe(c,l){return c.getInt16(l,!1)+c.getUint16(l+2,!1)/65535}var xkt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ft(c,l){this.data=c,this.offset=l,this.relativeOffset=0}ft.prototype.parseByte=function(){var c=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,c},ft.prototype.parseChar=function(){var c=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,c},ft.prototype.parseCard8=ft.prototype.parseByte,ft.prototype.parseUShort=function(){var c=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,c},ft.prototype.parseCard16=ft.prototype.parseUShort,ft.prototype.parseSID=ft.prototype.parseUShort,ft.prototype.parseOffset16=ft.prototype.parseUShort,ft.prototype.parseShort=function(){var c=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,c},ft.prototype.parseF2Dot14=function(){var c=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,c},ft.prototype.parseULong=function(){var c=Qj(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,c},ft.prototype.parseOffset32=ft.prototype.parseULong,ft.prototype.parseFixed=function(){var c=mxe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,c},ft.prototype.parseString=function(c){var l=this.data,a=this.offset+this.relativeOffset,h="";this.relativeOffset+=c;for(var d=0;d<c;d++)h+=String.fromCharCode(l.getUint8(a+d));return h},ft.prototype.parseTag=function(){return this.parseString(4)},ft.prototype.parseLongDateTime=function(){var c=Qj(this.data,this.offset+this.relativeOffset+4);return c-=2082844800,this.relativeOffset+=8,c},ft.prototype.parseVersion=function(c){var l=$R(this.data,this.offset+this.relativeOffset),a=$R(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===c&&(c=4096),l+a/c/10},ft.prototype.skip=function(c,l){void 0===l&&(l=1),this.relativeOffset+=xkt[c]*l},ft.prototype.parseULongList=function(c){void 0===c&&(c=this.parseULong());for(var l=new Array(c),a=this.data,h=this.offset+this.relativeOffset,d=0;d<c;d++)l[d]=a.getUint32(h),h+=4;return this.relativeOffset+=4*c,l},ft.prototype.parseOffset16List=ft.prototype.parseUShortList=function(c){void 0===c&&(c=this.parseUShort());for(var l=new Array(c),a=this.data,h=this.offset+this.relativeOffset,d=0;d<c;d++)l[d]=a.getUint16(h),h+=2;return this.relativeOffset+=2*c,l},ft.prototype.parseShortList=function(c){for(var l=new Array(c),a=this.data,h=this.offset+this.relativeOffset,d=0;d<c;d++)l[d]=a.getInt16(h),h+=2;return this.relativeOffset+=2*c,l},ft.prototype.parseByteList=function(c){for(var l=new Array(c),a=this.data,h=this.offset+this.relativeOffset,d=0;d<c;d++)l[d]=a.getUint8(h++);return this.relativeOffset+=c,l},ft.prototype.parseList=function(c,l){l||(l=c,c=this.parseUShort());for(var a=new Array(c),h=0;h<c;h++)a[h]=l.call(this);return a},ft.prototype.parseList32=function(c,l){l||(l=c,c=this.parseULong());for(var a=new Array(c),h=0;h<c;h++)a[h]=l.call(this);return a},ft.prototype.parseRecordList=function(c,l){l||(l=c,c=this.parseUShort());for(var a=new Array(c),h=Object.keys(l),d=0;d<c;d++){for(var f={},p=0;p<h.length;p++){var g=h[p];f[g]=l[g].call(this)}a[d]=f}return a},ft.prototype.parseRecordList32=function(c,l){l||(l=c,c=this.parseULong());for(var a=new Array(c),h=Object.keys(l),d=0;d<c;d++){for(var f={},p=0;p<h.length;p++){var g=h[p];f[g]=l[g].call(this)}a[d]=f}return a},ft.prototype.parseStruct=function(c){if("function"==typeof c)return c.call(this);for(var l=Object.keys(c),a={},h=0;h<l.length;h++){var d=l[h];a[d]=c[d].call(this)}return a},ft.prototype.parseValueRecord=function(c){if(void 0===c&&(c=this.parseUShort()),0!==c){var l={};return 1&c&&(l.xPlacement=this.parseShort()),2&c&&(l.yPlacement=this.parseShort()),4&c&&(l.xAdvance=this.parseShort()),8&c&&(l.yAdvance=this.parseShort()),16&c&&(l.xPlaDevice=void 0,this.parseShort()),32&c&&(l.yPlaDevice=void 0,this.parseShort()),64&c&&(l.xAdvDevice=void 0,this.parseShort()),128&c&&(l.yAdvDevice=void 0,this.parseShort()),l}},ft.prototype.parseValueRecordList=function(){for(var c=this.parseUShort(),l=this.parseUShort(),a=new Array(l),h=0;h<l;h++)a[h]=this.parseValueRecord(c);return a},ft.prototype.parsePointer=function(c){var l=this.parseOffset16();if(l>0)return new ft(this.data,this.offset+l).parseStruct(c)},ft.prototype.parsePointer32=function(c){var l=this.parseOffset32();if(l>0)return new ft(this.data,this.offset+l).parseStruct(c)},ft.prototype.parseListOfLists=function(c){for(var l=this.parseOffset16List(),a=l.length,h=this.relativeOffset,d=new Array(a),f=0;f<a;f++){var p=l[f];if(0!==p)if(this.relativeOffset=p,c){for(var g=this.parseOffset16List(),m=new Array(g.length),v=0;v<g.length;v++)this.relativeOffset=p+g[v],m[v]=c.call(this);d[f]=m}else d[f]=this.parseUShortList();else d[f]=void 0}return this.relativeOffset=h,d},ft.prototype.parseCoverage=function(){var c=this.offset+this.relativeOffset,l=this.parseUShort(),a=this.parseUShort();if(1===l)return{format:1,glyphs:this.parseUShortList(a)};if(2===l){for(var h=new Array(a),d=0;d<a;d++)h[d]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:h}}throw new Error("0x"+c.toString(16)+": Coverage format must be 1 or 2.")},ft.prototype.parseClassDef=function(){var c=this.offset+this.relativeOffset,l=this.parseUShort();if(1===l)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===l)return{format:2,ranges:this.parseRecordList({start:ft.uShort,end:ft.uShort,classId:ft.uShort})};throw new Error("0x"+c.toString(16)+": ClassDef format must be 1 or 2.")},ft.list=function(c,l){return function(){return this.parseList(c,l)}},ft.list32=function(c,l){return function(){return this.parseList32(c,l)}},ft.recordList=function(c,l){return function(){return this.parseRecordList(c,l)}},ft.recordList32=function(c,l){return function(){return this.parseRecordList32(c,l)}},ft.pointer=function(c){return function(){return this.parsePointer(c)}},ft.pointer32=function(c){return function(){return this.parsePointer32(c)}},ft.tag=ft.prototype.parseTag,ft.byte=ft.prototype.parseByte,ft.uShort=ft.offset16=ft.prototype.parseUShort,ft.uShortList=ft.prototype.parseUShortList,ft.uLong=ft.offset32=ft.prototype.parseULong,ft.uLongList=ft.prototype.parseULongList,ft.struct=ft.prototype.parseStruct,ft.coverage=ft.prototype.parseCoverage,ft.classDef=ft.prototype.parseClassDef;var vxe={reserved:ft.uShort,reqFeatureIndex:ft.uShort,featureIndexes:ft.uShortList};ft.prototype.parseScriptList=function(){return this.parsePointer(ft.recordList({tag:ft.tag,script:ft.pointer({defaultLangSys:ft.pointer(vxe),langSysRecords:ft.recordList({tag:ft.tag,langSys:ft.pointer(vxe)})})}))||[]},ft.prototype.parseFeatureList=function(){return this.parsePointer(ft.recordList({tag:ft.tag,feature:ft.pointer({featureParams:ft.offset16,lookupListIndexes:ft.uShortList})}))||[]},ft.prototype.parseLookupList=function(c){return this.parsePointer(ft.list(ft.pointer(function(){var l=this.parseUShort();ai.argument(1<=l&&l<=9,"GPOS/GSUB lookup type "+l+" unknown.");var a=this.parseUShort(),h=16&a;return{lookupType:l,lookupFlag:a,subtables:this.parseList(ft.pointer(c[l])),markFilteringSet:h?this.parseUShort():void 0}})))||[]},ft.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var c=this.parseUShort(),l=this.parseUShort();return ai.argument(1===c&&l<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:ft.offset32,featureTableSubstitutionOffset:ft.offset32})})||[]};var Un={getByte:gxe,getCard8:gxe,getUShort:$R,getCard16:$R,getShort:function bkt(c,l){return c.getInt16(l,!1)},getULong:Qj,getFixed:mxe,getTag:function Okt(c,l){for(var a="",h=l;h<l+4;h+=1)a+=String.fromCharCode(c.getInt8(h));return a},getOffset:function Ckt(c,l,a){for(var h=0,d=0;d<a;d+=1)h<<=8,h+=c.getUint8(l+d);return h},getBytes:function Skt(c,l,a){for(var h=[],d=l;d<a;d+=1)h.push(c.getUint8(d));return h},bytesToString:function wkt(c){for(var l="",a=0;a<c.length;a+=1)l+=String.fromCharCode(c[a]);return l},Parser:ft};function Mkt(c,l,a){c.segments.push({end:l,start:l,delta:-(l-a),offset:0,glyphIndex:a})}var _xe_parse=function Dkt(c,l){var a={};a.version=Un.getUShort(c,l),ai.argument(0===a.version,"cmap table version should be 0."),a.numTables=Un.getUShort(c,l+2);for(var h=-1,d=a.numTables-1;d>=0;d-=1){var f=Un.getUShort(c,l+4+8*d),p=Un.getUShort(c,l+4+8*d+2);if(3===f&&(0===p||1===p||10===p)||0===f&&(0===p||1===p||2===p||3===p||4===p)){h=Un.getULong(c,l+4+8*d+4);break}}if(-1===h)throw new Error("No valid cmap sub-tables found.");var g=new Un.Parser(c,l+h);if(a.format=g.parseUShort(),12===a.format)!function Tkt(c,l){var a;l.parseUShort(),c.length=l.parseULong(),c.language=l.parseULong(),c.groupCount=a=l.parseULong(),c.glyphIndexMap={};for(var h=0;h<a;h+=1)for(var d=l.parseULong(),f=l.parseULong(),p=l.parseULong(),g=d;g<=f;g+=1)c.glyphIndexMap[g]=p,p++}(a,g);else{if(4!==a.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+a.format+").");!function kkt(c,l,a,h,d){var f;c.length=l.parseUShort(),c.language=l.parseUShort(),c.segCount=f=l.parseUShort()>>1,l.skip("uShort",3),c.glyphIndexMap={};for(var p=new Un.Parser(a,h+d+14),g=new Un.Parser(a,h+d+16+2*f),m=new Un.Parser(a,h+d+16+4*f),v=new Un.Parser(a,h+d+16+6*f),_=h+d+16+8*f,y=0;y<f-1;y+=1)for(var b=void 0,O=p.parseUShort(),C=g.parseUShort(),S=m.parseShort(),w=v.parseUShort(),x=C;x<=O;x+=1)0!==w?(_=v.offset+v.relativeOffset-2,_+=w,0!==(b=Un.getUShort(a,_+=2*(x-C)))&&(b=b+S&65535)):b=x+S&65535,c.glyphIndexMap[x]=b}(a,g,c,l,h)}return a},_xe_make=function Pkt(c){var a,l=!0;for(a=c.length-1;a>0;a-=1)if(c.get(a).unicode>65535){console.log("Adding CMAP format 12 (needed!)"),l=!1;break}var d=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:l?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:l?12:20}];l||(d=d.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),d=d.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var f=new Pn.Table("cmap",d);for(f.segments=[],a=0;a<c.length;a+=1){for(var p=c.get(a),g=0;g<p.unicodes.length;g+=1)Mkt(f,p.unicodes[g],a);f.segments=f.segments.sort(function(T,D){return T.start-D.start})}!function Ekt(c){c.segments.push({end:65535,start:65535,delta:1,offset:0})}(f);var m=f.segments.length,v=0,_=[],y=[],b=[],O=[],C=[],S=[];for(a=0;a<m;a+=1){var w=f.segments[a];w.end<=65535&&w.start<=65535?(_=_.concat({name:"end_"+a,type:"USHORT",value:w.end}),y=y.concat({name:"start_"+a,type:"USHORT",value:w.start}),b=b.concat({name:"idDelta_"+a,type:"SHORT",value:w.delta}),O=O.concat({name:"idRangeOffset_"+a,type:"USHORT",value:w.offset}),void 0!==w.glyphId&&(C=C.concat({name:"glyph_"+a,type:"USHORT",value:w.glyphId}))):v+=1,!l&&void 0!==w.glyphIndex&&(S=(S=(S=S.concat({name:"cmap12Start_"+a,type:"ULONG",value:w.start})).concat({name:"cmap12End_"+a,type:"ULONG",value:w.end})).concat({name:"cmap12Glyph_"+a,type:"ULONG",value:w.glyphIndex}))}if(f.segCountX2=2*(m-v),f.searchRange=2*Math.pow(2,Math.floor(Math.log(m-v)/Math.log(2))),f.entrySelector=Math.log(f.searchRange/2)/Math.log(2),f.rangeShift=f.segCountX2-f.searchRange,f.fields=f.fields.concat(_),f.fields.push({name:"reservedPad",type:"USHORT",value:0}),f.fields=f.fields.concat(y),f.fields=f.fields.concat(b),f.fields=f.fields.concat(O),f.fields=f.fields.concat(C),f.cmap4Length=14+2*_.length+2+2*y.length+2*b.length+2*O.length+2*C.length,!l){var x=16+4*S.length;f.cmap12Offset=20+f.cmap4Length,f.fields=f.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:x},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:S.length/3}]),f.fields=f.fields.concat(S)}return f},zR=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Akt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Ikt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],jv=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function yxe(c){this.font=c}function bxe(c){this.cmap=c}function UR(c,l){this.encoding=c,this.charset=l}function Hj(c){switch(c.version){case 1:this.names=jv.slice();break;case 2:this.names=new Array(c.numberOfGlyphs);for(var l=0;l<c.numberOfGlyphs;l++)this.names[l]=c.glyphNameIndex[l]<jv.length?jv[c.glyphNameIndex[l]]:c.names[c.glyphNameIndex[l]-jv.length];break;case 2.5:this.names=new Array(c.numberOfGlyphs);for(var a=0;a<c.numberOfGlyphs;a++)this.names[a]=jv[a+c.glyphNameIndex[a]];break;default:this.names=[]}}yxe.prototype.charToGlyphIndex=function(c){var l=c.codePointAt(0),a=this.font.glyphs;if(a)for(var h=0;h<a.length;h+=1)for(var d=a.get(h),f=0;f<d.unicodes.length;f+=1)if(d.unicodes[f]===l)return h;return null},bxe.prototype.charToGlyphIndex=function(c){return this.cmap.glyphIndexMap[c.codePointAt(0)]||0},UR.prototype.charToGlyphIndex=function(c){var l=c.codePointAt(0);return this.charset.indexOf(this.encoding[l])},Hj.prototype.nameToGlyphIndex=function(c){return this.names.indexOf(c)},Hj.prototype.glyphIndexToName=function(c){return this.names[c]};var Gv_line=function Fkt(c,l,a,h,d){c.beginPath(),c.moveTo(l,a),c.lineTo(h,d),c.stroke()};function Au(c){this.bindConstructorValues(c)}function QR(c,l,a){Object.defineProperty(c,l,{get:function(){return c[a]},set:function(h){c[a]=h},enumerable:!0,configurable:!0})}function Wj(c,l){if(this.font=c,this.glyphs={},Array.isArray(l))for(var a=0;a<l.length;a++){var h=l[a];h.path.unitsPerEm=c.unitsPerEm,this.glyphs[a]=h}this.length=l&&l.length||0}Au.prototype.bindConstructorValues=function(c){this.index=c.index||0,this.name=c.name||null,this.unicode=c.unicode||void 0,this.unicodes=c.unicodes||void 0!==c.unicode?[c.unicode]:[],"xMin"in c&&(this.xMin=c.xMin),"yMin"in c&&(this.yMin=c.yMin),"xMax"in c&&(this.xMax=c.xMax),"yMax"in c&&(this.yMax=c.yMax),"advanceWidth"in c&&(this.advanceWidth=c.advanceWidth),Object.defineProperty(this,"path",function Bkt(c,l){var a=l||new Qo;return{configurable:!0,get:function(){return"function"==typeof a&&(a=a()),a},set:function(h){a=h}}}(0,c.path))},Au.prototype.addUnicode=function(c){0===this.unicodes.length&&(this.unicode=c),this.unicodes.push(c)},Au.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Au.prototype.getPath=function(c,l,a,h,d){var f,p;c=void 0!==c?c:0,l=void 0!==l?l:0,a=void 0!==a?a:72,h||(h={});var g=h.xScale,m=h.yScale;if(h.hinting&&d&&d.hinting&&(p=this.path&&d.hinting.exec(this,a)),p)f=d.hinting.getCommands(p),c=Math.round(c),l=Math.round(l),g=m=1;else{f=this.path.commands;var v=1/(this.path.unitsPerEm||1e3)*a;void 0===g&&(g=v),void 0===m&&(m=v)}for(var _=new Qo,y=0;y<f.length;y+=1){var b=f[y];"M"===b.type?_.moveTo(c+b.x*g,l+-b.y*m):"L"===b.type?_.lineTo(c+b.x*g,l+-b.y*m):"Q"===b.type?_.quadraticCurveTo(c+b.x1*g,l+-b.y1*m,c+b.x*g,l+-b.y*m):"C"===b.type?_.curveTo(c+b.x1*g,l+-b.y1*m,c+b.x2*g,l+-b.y2*m,c+b.x*g,l+-b.y*m):"Z"===b.type&&_.closePath()}return _},Au.prototype.getContours=function(){if(void 0===this.points)return[];for(var c=[],l=[],a=0;a<this.points.length;a+=1){var h=this.points[a];l.push(h),h.lastPointOfContour&&(c.push(l),l=[])}return ai.argument(0===l.length,"There are still points left in the current contour."),c},Au.prototype.getMetrics=function(){for(var c=this.path.commands,l=[],a=[],h=0;h<c.length;h+=1){var d=c[h];"Z"!==d.type&&(l.push(d.x),a.push(d.y)),("Q"===d.type||"C"===d.type)&&(l.push(d.x1),a.push(d.y1)),"C"===d.type&&(l.push(d.x2),a.push(d.y2))}var f={xMin:Math.min.apply(null,l),yMin:Math.min.apply(null,a),xMax:Math.max.apply(null,l),yMax:Math.max.apply(null,a),leftSideBearing:this.leftSideBearing};return isFinite(f.xMin)||(f.xMin=0),isFinite(f.xMax)||(f.xMax=this.advanceWidth),isFinite(f.yMin)||(f.yMin=0),isFinite(f.yMax)||(f.yMax=0),f.rightSideBearing=this.advanceWidth-f.leftSideBearing-(f.xMax-f.xMin),f},Au.prototype.draw=function(c,l,a,h,d){this.getPath(l,a,h,d).draw(c)},Au.prototype.drawPoints=function(c,l,a,h){function d(y,b,O,C){c.beginPath();for(var S=0;S<y.length;S+=1)c.moveTo(b+y[S].x*C,O+y[S].y*C),c.arc(b+y[S].x*C,O+y[S].y*C,2,0,2*Math.PI,!1);c.closePath(),c.fill()}l=void 0!==l?l:0,a=void 0!==a?a:0;for(var f=1/this.path.unitsPerEm*(h=void 0!==h?h:24),p=[],g=[],m=this.path,v=0;v<m.commands.length;v+=1){var _=m.commands[v];void 0!==_.x&&p.push({x:_.x,y:-_.y}),void 0!==_.x1&&g.push({x:_.x1,y:-_.y1}),void 0!==_.x2&&g.push({x:_.x2,y:-_.y2})}c.fillStyle="blue",d(p,l,a,f),c.fillStyle="red",d(g,l,a,f)},Au.prototype.drawMetrics=function(c,l,a,h){var d;l=void 0!==l?l:0,a=void 0!==a?a:0,d=1/this.path.unitsPerEm*(h=void 0!==h?h:24),c.lineWidth=1,c.strokeStyle="black",Gv_line(c,l,-1e4,l,1e4),Gv_line(c,-1e4,a,1e4,a);var f=this.xMin||0,p=this.yMin||0,g=this.xMax||0,m=this.yMax||0,v=this.advanceWidth||0;c.strokeStyle="blue",Gv_line(c,l+f*d,-1e4,l+f*d,1e4),Gv_line(c,l+g*d,-1e4,l+g*d,1e4),Gv_line(c,-1e4,a+-p*d,1e4,a+-p*d),Gv_line(c,-1e4,a+-m*d,1e4,a+-m*d),c.strokeStyle="green",Gv_line(c,l+v*d,-1e4,l+v*d,1e4)},Wj.prototype.get=function(c){if(void 0===this.glyphs[c]){this.font._push(c),"function"==typeof this.glyphs[c]&&(this.glyphs[c]=this.glyphs[c]());var l=this.glyphs[c],a=this.font._IndexToUnicodeMap[c];if(a)for(var h=0;h<a.unicodes.length;h++)l.addUnicode(a.unicodes[h]);this.font.cffEncoding?l.name=this.font.isCIDFont?"gid"+c:this.font.cffEncoding.charset[c]:this.font.glyphNames.names&&(l.name=this.font.glyphNames.glyphIndexToName(c)),this.glyphs[c].advanceWidth=this.font._hmtxTableData[c].advanceWidth,this.glyphs[c].leftSideBearing=this.font._hmtxTableData[c].leftSideBearing}else"function"==typeof this.glyphs[c]&&(this.glyphs[c]=this.glyphs[c]());return this.glyphs[c]},Wj.prototype.push=function(c,l){this.glyphs[c]=l,this.length++};var Qf={GlyphSet:Wj,glyphLoader:function Vkt(c,l){return new Au({index:l,font:c})},ttfGlyphLoader:function $kt(c,l,a,h,d,f){return function(){var p=new Au({index:l,font:c});return p.path=function(){a(p,h,d);var g=f(c.glyphs,p);return g.unitsPerEm=c.unitsPerEm,g},QR(p,"xMin","_xMin"),QR(p,"xMax","_xMax"),QR(p,"yMin","_yMin"),QR(p,"yMax","_yMax"),p}},cffGlyphLoader:function zkt(c,l,a,h){return function(){var d=new Au({index:l,font:c});return d.path=function(){var f=a(c,d,h);return f.unitsPerEm=c.unitsPerEm,f},d}}};function Oxe(c,l){if(c===l)return!0;if(Array.isArray(c)&&Array.isArray(l)){if(c.length!==l.length)return!1;for(var a=0;a<c.length;a+=1)if(!Oxe(c[a],l[a]))return!1;return!0}return!1}function Zj(c){return c.length<1240?107:c.length<33900?1131:32768}function l0(c,l,a){var p,g,h=[],d=[],f=Un.getCard16(c,l);if(0!==f){var m=Un.getByte(c,l+2);p=l+(f+1)*m+2;for(var v=l+3,_=0;_<f+1;_+=1)h.push(Un.getOffset(c,v,m)),v+=m;g=p+h[f]}else g=l+2;for(var y=0;y<h.length-1;y+=1){var b=Un.getBytes(c,p+h[y],p+h[y+1]);a&&(b=a(b)),d.push(b)}return{objects:d,startOffset:l,endOffset:g}}function Wkt(c,l){if(28===l)return c.parseByte()<<8|c.parseByte();if(29===l)return c.parseByte()<<24|c.parseByte()<<16|c.parseByte()<<8|c.parseByte();if(30===l)return function Hkt(c){for(var l="",h=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var d=c.parseByte(),f=d>>4,p=15&d;if(15===f||(l+=h[f],15===p))break;l+=h[p]}return parseFloat(l)}(c);if(l>=32&&l<=246)return l-139;if(l>=247&&l<=250)return 256*(l-247)+c.parseByte()+108;if(l>=251&&l<=254)return 256*-(l-251)-c.parseByte()-108;throw new Error("Invalid b0 "+l)}function Cxe(c,l,a){var h=new Un.Parser(c,l=void 0!==l?l:0),d=[],f=[];for(a=void 0!==a?a:c.length;h.relativeOffset<a;){var p=h.parseByte();p<=21?(12===p&&(p=1200+h.parseByte()),d.push([p,f]),f=[]):f.push(Wkt(h,p))}return function Zkt(c){for(var l={},a=0;a<c.length;a+=1){var f,h=c[a][0],d=c[a][1];if(f=1===d.length?d[0]:d,l.hasOwnProperty(h)&&!isNaN(l[h]))throw new Error("Object "+l+" already has key "+h);l[h]=f}return l}(d)}function wk(c,l){return l<=390?zR[l]:c[l-391]}function Sxe(c,l,a){for(var d,h={},f=0;f<l.length;f+=1){var p=l[f];if(Array.isArray(p.type)){var g=[];g.length=p.type.length;for(var m=0;m<p.type.length;m++)void 0===(d=void 0!==c[p.op]?c[p.op][m]:void 0)&&(d=void 0!==p.value&&void 0!==p.value[m]?p.value[m]:null),"SID"===p.type[m]&&(d=wk(a,d)),g[m]=d;h[p.name]=g}else void 0===(d=c[p.op])&&(d=void 0!==p.value?p.value:null),"SID"===p.type&&(d=wk(a,d)),h[p.name]=d}return h}var wxe=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],xxe=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Gkt(c,l){return Sxe(Cxe(c,0,c.byteLength),wxe,l)}function Txe(c,l,a,h){return Sxe(Cxe(c,l,a),xxe,h)}function kxe(c,l,a,h){for(var d=[],f=0;f<a.length;f+=1){var g=Gkt(new DataView(new Uint8Array(a[f]).buffer),h);g._subrs=[],g._subrsBias=0,g._defaultWidthX=0,g._nominalWidthX=0;var m=g.private[0],v=g.private[1];if(0!==m&&0!==v){var _=Txe(c,v+l,m,h);if(g._defaultWidthX=_.defaultWidthX,g._nominalWidthX=_.nominalWidthX,0!==_.subrs){var b=l0(c,v+_.subrs+l);g._subrs=b.objects,g._subrsBias=Zj(g._subrs)}g._privateDict=_}d.push(g)}return d}function Dxe(c,l,a){var h,d,f,p,C,S,w,x,g=new Qo,m=[],v=0,_=!1,y=!1,b=0,O=0;if(c.isCIDFont){var D=c.tables.cff.topDict._fdArray[c.tables.cff.topDict._fdSelect[l.index]];C=D._subrs,S=D._subrsBias,w=D._defaultWidthX,x=D._nominalWidthX}else C=c.tables.cff.topDict._subrs,S=c.tables.cff.topDict._subrsBias,w=c.tables.cff.topDict._defaultWidthX,x=c.tables.cff.topDict._nominalWidthX;var k=w;function P(L,$){y&&g.closePath(),g.moveTo(L,$),y=!0}function N(){m.length%2!=0&&!_&&(k=m.shift()+x),v+=m.length>>1,m.length=0,_=!0}return function F(L){for(var $,U,z,ee,te,B,j,W,q,G,K,J,ie=0;ie<L.length;){var re=L[ie];switch(ie+=1,re){case 1:case 3:case 18:case 23:N();break;case 4:m.length>1&&!_&&(k=m.shift()+x,_=!0),O+=m.pop(),P(b,O);break;case 5:for(;m.length>0;)b+=m.shift(),O+=m.shift(),g.lineTo(b,O);break;case 6:for(;m.length>0&&(b+=m.shift(),g.lineTo(b,O),0!==m.length);)O+=m.shift(),g.lineTo(b,O);break;case 7:for(;m.length>0&&(O+=m.shift(),g.lineTo(b,O),0!==m.length);)b+=m.shift(),g.lineTo(b,O);break;case 8:for(;m.length>0;)h=b+m.shift(),d=O+m.shift(),f=h+m.shift(),p=d+m.shift(),b=f+m.shift(),O=p+m.shift(),g.curveTo(h,d,f,p,b,O);break;case 10:te=m.pop()+S,(B=C[te])&&F(B);break;case 11:return;case 12:switch(re=L[ie],ie+=1,re){case 35:h=b+m.shift(),d=O+m.shift(),f=h+m.shift(),p=d+m.shift(),j=f+m.shift(),W=p+m.shift(),q=j+m.shift(),G=W+m.shift(),K=q+m.shift(),J=G+m.shift(),b=K+m.shift(),O=J+m.shift(),m.shift(),g.curveTo(h,d,f,p,j,W),g.curveTo(q,G,K,J,b,O);break;case 34:h=b+m.shift(),d=O,f=h+m.shift(),p=d+m.shift(),j=f+m.shift(),W=p,q=j+m.shift(),G=p,K=q+m.shift(),J=O,b=K+m.shift(),g.curveTo(h,d,f,p,j,W),g.curveTo(q,G,K,J,b,O);break;case 36:h=b+m.shift(),d=O+m.shift(),f=h+m.shift(),p=d+m.shift(),j=f+m.shift(),W=p,q=j+m.shift(),G=p,K=q+m.shift(),J=G+m.shift(),b=K+m.shift(),g.curveTo(h,d,f,p,j,W),g.curveTo(q,G,K,J,b,O);break;case 37:h=b+m.shift(),d=O+m.shift(),f=h+m.shift(),p=d+m.shift(),j=f+m.shift(),W=p+m.shift(),q=j+m.shift(),G=W+m.shift(),K=q+m.shift(),J=G+m.shift(),Math.abs(K-b)>Math.abs(J-O)?b=K+m.shift():O=J+m.shift(),g.curveTo(h,d,f,p,j,W),g.curveTo(q,G,K,J,b,O);break;default:console.log("Glyph "+l.index+": unknown operator 1200"+re),m.length=0}break;case 14:m.length>0&&!_&&(k=m.shift()+x,_=!0),y&&(g.closePath(),y=!1);break;case 19:case 20:N(),ie+=v+7>>3;break;case 21:m.length>2&&!_&&(k=m.shift()+x,_=!0),O+=m.pop(),P(b+=m.pop(),O);break;case 22:m.length>1&&!_&&(k=m.shift()+x,_=!0),P(b+=m.pop(),O);break;case 24:for(;m.length>2;)h=b+m.shift(),d=O+m.shift(),f=h+m.shift(),p=d+m.shift(),b=f+m.shift(),O=p+m.shift(),g.curveTo(h,d,f,p,b,O);b+=m.shift(),O+=m.shift(),g.lineTo(b,O);break;case 25:for(;m.length>6;)b+=m.shift(),O+=m.shift(),g.lineTo(b,O);h=b+m.shift(),d=O+m.shift(),f=h+m.shift(),p=d+m.shift(),b=f+m.shift(),O=p+m.shift(),g.curveTo(h,d,f,p,b,O);break;case 26:for(m.length%2&&(b+=m.shift());m.length>0;)h=b,d=O+m.shift(),f=h+m.shift(),p=d+m.shift(),b=f,O=p+m.shift(),g.curveTo(h,d,f,p,b,O);break;case 27:for(m.length%2&&(O+=m.shift());m.length>0;)h=b+m.shift(),d=O,f=h+m.shift(),p=d+m.shift(),b=f+m.shift(),g.curveTo(h,d,f,p,b,O=p);break;case 28:m.push((($=L[ie])<<24|(U=L[ie+1])<<16)>>16),ie+=2;break;case 29:te=m.pop()+c.gsubrsBias,(B=c.gsubrs[te])&&F(B);break;case 30:for(;m.length>0&&(h=b,d=O+m.shift(),f=h+m.shift(),p=d+m.shift(),b=f+m.shift(),O=p+(1===m.length?m.shift():0),g.curveTo(h,d,f,p,b,O),0!==m.length);)h=b+m.shift(),d=O,f=h+m.shift(),p=d+m.shift(),O=p+m.shift(),b=f+(1===m.length?m.shift():0),g.curveTo(h,d,f,p,b,O);break;case 31:for(;m.length>0&&(h=b+m.shift(),d=O,f=h+m.shift(),p=d+m.shift(),O=p+m.shift(),b=f+(1===m.length?m.shift():0),g.curveTo(h,d,f,p,b,O),0!==m.length);)h=b,d=O+m.shift(),f=h+m.shift(),p=d+m.shift(),b=f+m.shift(),O=p+(1===m.length?m.shift():0),g.curveTo(h,d,f,p,b,O);break;default:re<32?console.log("Glyph "+l.index+": unknown operator "+re):re<247?m.push(re-139):re<251?($=L[ie],ie+=1,m.push(256*(re-247)+$+108)):re<255?($=L[ie],ie+=1,m.push(256*-(re-251)-$-108)):($=L[ie],U=L[ie+1],z=L[ie+2],ee=L[ie+3],ie+=4,m.push(($<<24|U<<16|z<<8|ee)/65536))}}}(a),l.advanceWidth=k,g}function Mxe(c,l){var a,h=zR.indexOf(c);return h>=0&&(a=h),(h=l.indexOf(c))>=0?a=h+zR.length:(a=zR.length+l.length,l.push(c)),a}function Exe(c,l,a){for(var h={},d=0;d<c.length;d+=1){var f=c[d],p=l[f.name];void 0!==p&&!Oxe(p,f.value)&&("SID"===f.type&&(p=Mxe(p,a)),h[f.op]={name:f.name,type:f.type,value:p})}return h}function Pxe(c,l){var a=new Pn.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return a.dict=Exe(wxe,c,l),a}function Axe(c){var l=new Pn.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return l.topDicts=[{name:"topDict_0",type:"TABLE",value:c}],l}function r4t(c){var l=[],a=c.path;l.push({name:"width",type:"NUMBER",value:c.advanceWidth});for(var h=0,d=0,f=0;f<a.commands.length;f+=1){var p=void 0,g=void 0,m=a.commands[f];if("Q"===m.type){var v=.3333333333333333,_=2/3;m={type:"C",x:m.x,y:m.y,x1:Math.round(v*h+_*m.x1),y1:Math.round(v*d+_*m.y1),x2:Math.round(v*m.x+_*m.x1),y2:Math.round(v*m.y+_*m.y1)}}if("M"===m.type)p=Math.round(m.x-h),g=Math.round(m.y-d),l.push({name:"dx",type:"NUMBER",value:p}),l.push({name:"dy",type:"NUMBER",value:g}),l.push({name:"rmoveto",type:"OP",value:21}),h=Math.round(m.x),d=Math.round(m.y);else if("L"===m.type)p=Math.round(m.x-h),g=Math.round(m.y-d),l.push({name:"dx",type:"NUMBER",value:p}),l.push({name:"dy",type:"NUMBER",value:g}),l.push({name:"rlineto",type:"OP",value:5}),h=Math.round(m.x),d=Math.round(m.y);else if("C"===m.type){var y=Math.round(m.x1-h),b=Math.round(m.y1-d),O=Math.round(m.x2-m.x1),C=Math.round(m.y2-m.y1);p=Math.round(m.x-m.x2),g=Math.round(m.y-m.y2),l.push({name:"dx1",type:"NUMBER",value:y}),l.push({name:"dy1",type:"NUMBER",value:b}),l.push({name:"dx2",type:"NUMBER",value:O}),l.push({name:"dy2",type:"NUMBER",value:C}),l.push({name:"dx",type:"NUMBER",value:p}),l.push({name:"dy",type:"NUMBER",value:g}),l.push({name:"rrcurveto",type:"OP",value:8}),h=Math.round(m.x),d=Math.round(m.y)}}return l.push({name:"endchar",type:"OP",value:14}),l}var Ixe_parse=function Kkt(c,l,a,h){a.tables.cff={};var d=function jkt(c,l){var a={};return a.formatMajor=Un.getCard8(c,l),a.formatMinor=Un.getCard8(c,l+1),a.size=Un.getCard8(c,l+2),a.offsetSize=Un.getCard8(c,l+3),a.startOffset=l,a.endOffset=l+4,a}(c,l),f=l0(c,d.endOffset,Un.bytesToString),p=l0(c,f.endOffset),g=l0(c,p.endOffset,Un.bytesToString),m=l0(c,g.endOffset);a.gsubrs=m.objects,a.gsubrsBias=Zj(a.gsubrs);var v=kxe(c,l,p.objects,g.objects);if(1!==v.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+v.length);var _=v[0];if(a.tables.cff.topDict=_,_._privateDict&&(a.defaultWidthX=_._privateDict.defaultWidthX,a.nominalWidthX=_._privateDict.nominalWidthX),void 0!==_.ros[0]&&void 0!==_.ros[1]&&(a.isCIDFont=!0),a.isCIDFont){var y=_.fdArray,b=_.fdSelect;if(0===y||0===b)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var O=l0(c,y+=l),C=kxe(c,l,O.objects,g.objects);_._fdArray=C,_._fdSelect=function qkt(c,l,a,h){var f,d=[],p=new Un.Parser(c,l),g=p.parseCard8();if(0===g)for(var m=0;m<a;m++){if((f=p.parseCard8())>=h)throw new Error("CFF table CID Font FDSelect has bad FD index value "+f+" (FD count "+h+")");d.push(f)}else{if(3!==g)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+g);var v=p.parseCard16(),_=p.parseCard16();if(0!==_)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+_);for(var y,b=0;b<v;b++){if(f=p.parseCard8(),y=p.parseCard16(),f>=h)throw new Error("CFF table CID Font FDSelect has bad FD index value "+f+" (FD count "+h+")");if(y>a)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+y);for(;_<y;_++)d.push(f);_=y}if(y!==a)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+y)}return d}(c,b+=l,a.numGlyphs,C.length)}var D,S=l+_.private[1],w=Txe(c,S,_.private[0],g.objects);if(a.defaultWidthX=w.defaultWidthX,a.nominalWidthX=w.nominalWidthX,0!==w.subrs){var T=l0(c,S+w.subrs);a.subrs=T.objects,a.subrsBias=Zj(a.subrs)}else a.subrs=[],a.subrsBias=0;h.lowMemory?(D=function Ukt(c,l){var d,f,a=[],h=Un.getCard16(c,l);if(0!==h){var p=Un.getByte(c,l+2);d=l+(h+1)*p+2;for(var g=l+3,m=0;m<h+1;m+=1)a.push(Un.getOffset(c,g,p)),g+=p;f=d+a[h]}else f=l+2;return{offsets:a,startOffset:l,endOffset:f}}(c,l+_.charStrings),a.nGlyphs=D.offsets.length):(D=l0(c,l+_.charStrings),a.nGlyphs=D.objects.length);var k=function Xkt(c,l,a,h){var d,f,p=new Un.Parser(c,l);a-=1;var g=[".notdef"],m=p.parseCard8();if(0===m)for(var v=0;v<a;v+=1)d=p.parseSID(),g.push(wk(h,d));else if(1===m)for(;g.length<=a;){d=p.parseSID(),f=p.parseCard8();for(var _=0;_<=f;_+=1)g.push(wk(h,d)),d+=1}else{if(2!==m)throw new Error("Unknown charset format "+m);for(;g.length<=a;){d=p.parseSID(),f=p.parseCard16();for(var y=0;y<=f;y+=1)g.push(wk(h,d)),d+=1}}return g}(c,l+_.charset,a.nGlyphs,g.objects);if(a.cffEncoding=0===_.encoding?new UR(Akt,k):1===_.encoding?new UR(Ikt,k):function Ykt(c,l,a){var h,d={},f=new Un.Parser(c,l),p=f.parseCard8();if(0===p)for(var g=f.parseCard8(),m=0;m<g;m+=1)d[h=f.parseCard8()]=m;else{if(1!==p)throw new Error("Unknown encoding format "+p);var v=f.parseCard8();h=1;for(var _=0;_<v;_+=1)for(var y=f.parseCard8(),b=f.parseCard8(),O=y;O<=y+b;O+=1)d[O]=h,h+=1}return new UR(d,a)}(c,l+_.encoding,k),a.encoding=a.encoding||a.cffEncoding,a.glyphs=new Qf.GlyphSet(a),h.lowMemory)a._push=function(F){var L=function Qkt(c,l,a,h,d){var f=Un.getCard16(a,h),p=0;0!==f&&(p=h+(f+1)*Un.getByte(a,h+2)+2);var m=Un.getBytes(a,p+l[c],p+l[c+1]);return d&&(m=d(m)),m}(F,D.offsets,c,l+_.charStrings);a.glyphs.push(F,Qf.cffGlyphLoader(a,F,Dxe,L))};else for(var P=0;P<a.nGlyphs;P+=1)a.glyphs.push(P,Qf.cffGlyphLoader(a,P,Dxe,D.objects[P]))},Ixe_make=function a4t(c,l){for(var g,a=new Pn.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),h=1/l.unitsPerEm,d={version:l.version,fullName:l.fullName,familyName:l.familyName,weight:l.weightName,fontBBox:l.fontBBox||[0,0,0,0],fontMatrix:[h,0,0,h,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},p=[],m=1;m<c.length;m+=1)g=c.get(m),p.push(g.name);var v=[];a.header=function Jkt(){return new Pn.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}(),a.nameIndex=function e4t(c){var l=new Pn.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);l.names=[];for(var a=0;a<c.length;a+=1)l.names.push({name:"name_"+a,type:"NAME",value:c[a]});return l}([l.postScriptName]);var _=Pxe(d,v);a.topDictIndex=Axe(_),a.globalSubrIndex=function n4t(){return new Pn.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}(),a.charsets=function i4t(c,l){for(var a=new Pn.Record("Charsets",[{name:"format",type:"Card8",value:0}]),h=0;h<c.length;h+=1){var f=Mxe(c[h],l);a.fields.push({name:"glyph_"+h,type:"SID",value:f})}return a}(p,v),a.charStringsIndex=function s4t(c){for(var l=new Pn.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),a=0;a<c.length;a+=1){var h=c.get(a),d=r4t(h);l.charStrings.push({name:h.name,type:"CHARSTRING",value:d})}return l}(c),a.privateDict=function o4t(c,l){var a=new Pn.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return a.dict=Exe(xxe,c,l),a}({},v),a.stringIndex=function t4t(c){var l=new Pn.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);l.strings=[];for(var a=0;a<c.length;a+=1)l.strings.push({name:"string_"+a,type:"STRING",value:c[a]});return l}(v);var y=a.header.sizeOf()+a.nameIndex.sizeOf()+a.topDictIndex.sizeOf()+a.stringIndex.sizeOf()+a.globalSubrIndex.sizeOf();return d.charset=y,d.encoding=0,d.charStrings=d.charset+a.charsets.sizeOf(),d.private[1]=d.charStrings+a.charStringsIndex.sizeOf(),_=Pxe(d,v),a.topDictIndex=Axe(_),a},Rxe_parse=function l4t(c,l){var a={},h=new Un.Parser(c,l);return a.version=h.parseVersion(),a.fontRevision=Math.round(1e3*h.parseFixed())/1e3,a.checkSumAdjustment=h.parseULong(),a.magicNumber=h.parseULong(),ai.argument(1594834165===a.magicNumber,"Font header has wrong magic number."),a.flags=h.parseUShort(),a.unitsPerEm=h.parseUShort(),a.created=h.parseLongDateTime(),a.modified=h.parseLongDateTime(),a.xMin=h.parseShort(),a.yMin=h.parseShort(),a.xMax=h.parseShort(),a.yMax=h.parseShort(),a.macStyle=h.parseUShort(),a.lowestRecPPEM=h.parseUShort(),a.fontDirectionHint=h.parseShort(),a.indexToLocFormat=h.parseShort(),a.glyphDataFormat=h.parseShort(),a},Rxe_make=function c4t(c){var l=Math.round((new Date).getTime()/1e3)+2082844800,a=l;return c.createdTimestamp&&(a=c.createdTimestamp+2082844800),new Pn.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:a},{name:"modified",type:"LONGDATETIME",value:l},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],c)},Lxe_parse=function u4t(c,l){var a={},h=new Un.Parser(c,l);return a.version=h.parseVersion(),a.ascender=h.parseShort(),a.descender=h.parseShort(),a.lineGap=h.parseShort(),a.advanceWidthMax=h.parseUShort(),a.minLeftSideBearing=h.parseShort(),a.minRightSideBearing=h.parseShort(),a.xMaxExtent=h.parseShort(),a.caretSlopeRise=h.parseShort(),a.caretSlopeRun=h.parseShort(),a.caretOffset=h.parseShort(),h.relativeOffset+=8,a.metricDataFormat=h.parseShort(),a.numberOfHMetrics=h.parseUShort(),a},Lxe_make=function h4t(c){return new Pn.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],c)},Nxe_parse=function p4t(c,l,a,h,d,f,p){p.lowMemory?function f4t(c,l,a,h,d){c._hmtxTableData={};for(var f,p,g=new Un.Parser(l,a),m=0;m<d;m+=1)m<h&&(f=g.parseUShort(),p=g.parseShort()),c._hmtxTableData[m]={advanceWidth:f,leftSideBearing:p}}(c,l,a,h,d):function d4t(c,l,a,h,d){for(var f,p,g=new Un.Parser(c,l),m=0;m<h;m+=1){m<a&&(f=g.parseUShort(),p=g.parseShort());var v=d.get(m);v.advanceWidth=f,v.leftSideBearing=p}}(l,a,h,d,f)},Nxe_make=function g4t(c){for(var l=new Pn.Table("hmtx",[]),a=0;a<c.length;a+=1){var h=c.get(a),f=h.leftSideBearing||0;l.fields.push({name:"advanceWidth_"+a,type:"USHORT",value:h.advanceWidth||0}),l.fields.push({name:"leftSideBearing_"+a,type:"SHORT",value:f})}return l},Fxe_make=function m4t(c){for(var l=new Pn.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:c.length}]),a="",h=12+4*c.length,d=0;d<c.length;++d){var f=a.indexOf(c[d]);f<0&&(f=a.length,a+=c[d]),l.fields.push({name:"offset "+d,type:"USHORT",value:h+f}),l.fields.push({name:"length "+d,type:"USHORT",value:c[d].length})}return l.fields.push({name:"stringPool",type:"CHARARRAY",value:a}),l},Fxe_parse=function v4t(c,l){var a=new Un.Parser(c,l),h=a.parseULong();ai.argument(1===h,"Unsupported ltag table version."),a.skip("uLong",1);for(var d=a.parseULong(),f=[],p=0;p<d;p++){for(var g="",m=l+a.parseUShort(),v=a.parseUShort(),_=m;_<m+v;++_)g+=String.fromCharCode(c.getInt8(_));f.push(g)}return f},Bxe_parse=function _4t(c,l){var a={},h=new Un.Parser(c,l);return a.version=h.parseVersion(),a.numGlyphs=h.parseUShort(),1===a.version&&(a.maxPoints=h.parseUShort(),a.maxContours=h.parseUShort(),a.maxCompositePoints=h.parseUShort(),a.maxCompositeContours=h.parseUShort(),a.maxZones=h.parseUShort(),a.maxTwilightPoints=h.parseUShort(),a.maxStorage=h.parseUShort(),a.maxFunctionDefs=h.parseUShort(),a.maxInstructionDefs=h.parseUShort(),a.maxStackElements=h.parseUShort(),a.maxSizeOfInstructions=h.parseUShort(),a.maxComponentElements=h.parseUShort(),a.maxComponentDepth=h.parseUShort()),a},Bxe_make=function y4t(c){return new Pn.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:c}])},Vxe=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],$xe={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},b4t={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},zxe={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function O4t(c,l,a){switch(c){case 0:if(65535===l)return"und";if(a)return a[l];break;case 1:return $xe[l];case 3:return zxe[l]}}var jj="utf-16",C4t={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},S4t={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Uxe(c,l,a){switch(c){case 0:return jj;case 1:return S4t[a]||C4t[l];case 3:if(1===l||10===l)return jj}}function Gj(c){var l={};for(var a in c)l[c[a]]=parseInt(a);return l}function Qxe(c,l,a,h,d,f){return new Pn.Record("NameRecord",[{name:"platformID",type:"USHORT",value:c},{name:"encodingID",type:"USHORT",value:l},{name:"languageID",type:"USHORT",value:a},{name:"nameID",type:"USHORT",value:h},{name:"length",type:"USHORT",value:d},{name:"offset",type:"USHORT",value:f}])}function Hxe(c,l){var a=function x4t(c,l){var a=c.length,h=l.length-a+1;e:for(var d=0;d<h;d++)for(;d<h;d++){for(var f=0;f<a;f++)if(l[d+f]!==c[f])continue e;return d}return-1}(c,l);if(a<0){a=l.length;for(var h=0,d=c.length;h<d;++h)l.push(c[h])}return a}var Wxe_parse=function w4t(c,l,a){for(var h={},d=new Un.Parser(c,l),f=d.parseUShort(),p=d.parseUShort(),g=d.offset+d.parseUShort(),m=0;m<p;m++){var v=d.parseUShort(),_=d.parseUShort(),y=d.parseUShort(),b=d.parseUShort(),O=Vxe[b]||b,C=d.parseUShort(),S=d.parseUShort(),w=O4t(v,y,a),x=Uxe(v,_,y);if(void 0!==x&&void 0!==w){var T;if(T=x===jj?ZC.UTF16(c,g+S,C):ZC.MACSTRING(c,g+S,C,x)){var D=h[O];void 0===D&&(D=h[O]={}),D[w]=T}}}return 1===f&&d.parseUShort(),h},Wxe_make=function T4t(c,l){var a,h=[],d={},f=Gj(Vxe);for(var p in c){var g=f[p];if(void 0===g&&(g=p),a=parseInt(g),isNaN(a))throw new Error('Name table entry "'+p+'" does not exist, see nameTableNames for complete list.');d[a]=c[p],h.push(a)}for(var m=Gj($xe),v=Gj(zxe),_=[],y=[],b=0;b<h.length;b++){var O=d[a=h[b]];for(var C in O){var S=O[C],w=1,x=m[C],T=b4t[x],D=Uxe(w,T,x),k=Sn.MACSTRING(S,D);void 0===k&&(w=0,(x=l.indexOf(C))<0&&(x=l.length,l.push(C)),T=4,k=Sn.UTF16(S));var P=Hxe(k,y);_.push(Qxe(w,T,x,a,k.length,P));var N=v[C];if(void 0!==N){var F=Sn.UTF16(S),L=Hxe(F,y);_.push(Qxe(3,1,N,a,F.length,L))}}}_.sort(function(z,ee){return z.platformID-ee.platformID||z.encodingID-ee.encodingID||z.languageID-ee.languageID||z.nameID-ee.nameID});for(var $=new Pn.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:_.length},{name:"stringOffset",type:"USHORT",value:6+12*_.length}]),U=0;U<_.length;U++)$.fields.push({name:"record_"+U,type:"RECORD",value:_[U]});return $.fields.push({name:"strings",type:"LITERAL",value:y}),$},Xj=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Yj_parse=function D4t(c,l){var a={},h=new Un.Parser(c,l);a.version=h.parseUShort(),a.xAvgCharWidth=h.parseShort(),a.usWeightClass=h.parseUShort(),a.usWidthClass=h.parseUShort(),a.fsType=h.parseUShort(),a.ySubscriptXSize=h.parseShort(),a.ySubscriptYSize=h.parseShort(),a.ySubscriptXOffset=h.parseShort(),a.ySubscriptYOffset=h.parseShort(),a.ySuperscriptXSize=h.parseShort(),a.ySuperscriptYSize=h.parseShort(),a.ySuperscriptXOffset=h.parseShort(),a.ySuperscriptYOffset=h.parseShort(),a.yStrikeoutSize=h.parseShort(),a.yStrikeoutPosition=h.parseShort(),a.sFamilyClass=h.parseShort(),a.panose=[];for(var d=0;d<10;d++)a.panose[d]=h.parseByte();return a.ulUnicodeRange1=h.parseULong(),a.ulUnicodeRange2=h.parseULong(),a.ulUnicodeRange3=h.parseULong(),a.ulUnicodeRange4=h.parseULong(),a.achVendID=String.fromCharCode(h.parseByte(),h.parseByte(),h.parseByte(),h.parseByte()),a.fsSelection=h.parseUShort(),a.usFirstCharIndex=h.parseUShort(),a.usLastCharIndex=h.parseUShort(),a.sTypoAscender=h.parseShort(),a.sTypoDescender=h.parseShort(),a.sTypoLineGap=h.parseShort(),a.usWinAscent=h.parseUShort(),a.usWinDescent=h.parseUShort(),a.version>=1&&(a.ulCodePageRange1=h.parseULong(),a.ulCodePageRange2=h.parseULong()),a.version>=2&&(a.sxHeight=h.parseShort(),a.sCapHeight=h.parseShort(),a.usDefaultChar=h.parseUShort(),a.usBreakChar=h.parseUShort(),a.usMaxContent=h.parseUShort()),a},Yj_make=function M4t(c){return new Pn.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],c)},Yj_getUnicodeRange=function k4t(c){for(var l=0;l<Xj.length;l+=1){var a=Xj[l];if(c>=a.begin&&c<a.end)return l}return-1},Zxe_parse=function E4t(c,l){var a={},h=new Un.Parser(c,l);switch(a.version=h.parseVersion(),a.italicAngle=h.parseFixed(),a.underlinePosition=h.parseShort(),a.underlineThickness=h.parseShort(),a.isFixedPitch=h.parseULong(),a.minMemType42=h.parseULong(),a.maxMemType42=h.parseULong(),a.minMemType1=h.parseULong(),a.maxMemType1=h.parseULong(),a.version){case 1:a.names=jv.slice();break;case 2:a.numberOfGlyphs=h.parseUShort(),a.glyphNameIndex=new Array(a.numberOfGlyphs);for(var d=0;d<a.numberOfGlyphs;d++)a.glyphNameIndex[d]=h.parseUShort();a.names=[];for(var f=0;f<a.numberOfGlyphs;f++)if(a.glyphNameIndex[f]>=jv.length){var p=h.parseChar();a.names.push(h.parseString(p))}break;case 2.5:a.numberOfGlyphs=h.parseUShort(),a.offset=new Array(a.numberOfGlyphs);for(var g=0;g<a.numberOfGlyphs;g++)a.offset[g]=h.parseChar()}return a},Zxe_make=function P4t(){return new Pn.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},bd=new Array(9);bd[1]=function(){var l=this.offset+this.relativeOffset,a=this.parseUShort();return 1===a?{substFormat:1,coverage:this.parsePointer(ft.coverage),deltaGlyphId:this.parseUShort()}:2===a?{substFormat:2,coverage:this.parsePointer(ft.coverage),substitute:this.parseOffset16List()}:void ai.assert(!1,"0x"+l.toString(16)+": lookup type 1 format must be 1 or 2.")},bd[2]=function(){var l=this.parseUShort();return ai.argument(1===l,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:l,coverage:this.parsePointer(ft.coverage),sequences:this.parseListOfLists()}},bd[3]=function(){var l=this.parseUShort();return ai.argument(1===l,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:l,coverage:this.parsePointer(ft.coverage),alternateSets:this.parseListOfLists()}},bd[4]=function(){var l=this.parseUShort();return ai.argument(1===l,"GSUB ligature table identifier-format must be 1"),{substFormat:l,coverage:this.parsePointer(ft.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var jC={sequenceIndex:ft.uShort,lookupListIndex:ft.uShort};bd[5]=function(){var l=this.offset+this.relativeOffset,a=this.parseUShort();if(1===a)return{substFormat:a,coverage:this.parsePointer(ft.coverage),ruleSets:this.parseListOfLists(function(){var f=this.parseUShort(),p=this.parseUShort();return{input:this.parseUShortList(f-1),lookupRecords:this.parseRecordList(p,jC)}})};if(2===a)return{substFormat:a,coverage:this.parsePointer(ft.coverage),classDef:this.parsePointer(ft.classDef),classSets:this.parseListOfLists(function(){var f=this.parseUShort(),p=this.parseUShort();return{classes:this.parseUShortList(f-1),lookupRecords:this.parseRecordList(p,jC)}})};if(3===a){var h=this.parseUShort(),d=this.parseUShort();return{substFormat:a,coverages:this.parseList(h,ft.pointer(ft.coverage)),lookupRecords:this.parseRecordList(d,jC)}}ai.assert(!1,"0x"+l.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},bd[6]=function(){var l=this.offset+this.relativeOffset,a=this.parseUShort();return 1===a?{substFormat:1,coverage:this.parsePointer(ft.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(jC)}})}:2===a?{substFormat:2,coverage:this.parsePointer(ft.coverage),backtrackClassDef:this.parsePointer(ft.classDef),inputClassDef:this.parsePointer(ft.classDef),lookaheadClassDef:this.parsePointer(ft.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(jC)}})}:3===a?{substFormat:3,backtrackCoverage:this.parseList(ft.pointer(ft.coverage)),inputCoverage:this.parseList(ft.pointer(ft.coverage)),lookaheadCoverage:this.parseList(ft.pointer(ft.coverage)),lookupRecords:this.parseRecordList(jC)}:void ai.assert(!1,"0x"+l.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},bd[7]=function(){var l=this.parseUShort();ai.argument(1===l,"GSUB Extension Substitution subtable identifier-format must be 1");var a=this.parseUShort(),h=new ft(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:a,extension:bd[a].call(h)}},bd[8]=function(){var l=this.parseUShort();return ai.argument(1===l,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:l,coverage:this.parsePointer(ft.coverage),backtrackCoverage:this.parseList(ft.pointer(ft.coverage)),lookaheadCoverage:this.parseList(ft.pointer(ft.coverage)),substitutes:this.parseUShortList()}};var GC=new Array(9);GC[1]=function(l){return new Pn.Table("substitutionTable",1===l.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pn.Coverage(l.coverage)},{name:"deltaGlyphID",type:"USHORT",value:l.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Pn.Coverage(l.coverage)}].concat(Pn.ushortList("substitute",l.substitute)))},GC[2]=function(l){return ai.assert(1===l.substFormat,"Lookup type 2 substFormat must be 1."),new Pn.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pn.Coverage(l.coverage)}].concat(Pn.tableList("seqSet",l.sequences,function(a){return new Pn.Table("sequenceSetTable",Pn.ushortList("sequence",a))})))},GC[3]=function(l){return ai.assert(1===l.substFormat,"Lookup type 3 substFormat must be 1."),new Pn.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pn.Coverage(l.coverage)}].concat(Pn.tableList("altSet",l.alternateSets,function(a){return new Pn.Table("alternateSetTable",Pn.ushortList("alternate",a))})))},GC[4]=function(l){return ai.assert(1===l.substFormat,"Lookup type 4 substFormat must be 1."),new Pn.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pn.Coverage(l.coverage)}].concat(Pn.tableList("ligSet",l.ligatureSets,function(a){return new Pn.Table("ligatureSetTable",Pn.tableList("ligature",a,function(h){return new Pn.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:h.ligGlyph}].concat(Pn.ushortList("component",h.components,h.components.length+1)))}))})))},GC[6]=function(l){if(1===l.substFormat)return new Pn.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:l.substFormat},{name:"coverage",type:"TABLE",value:new Pn.Coverage(l.coverage)}].concat(Pn.tableList("chainRuleSet",l.chainRuleSets,function(f){return new Pn.Table("chainRuleSetTable",Pn.tableList("chainRule",f,function(p){var g=Pn.ushortList("backtrackGlyph",p.backtrack,p.backtrack.length).concat(Pn.ushortList("inputGlyph",p.input,p.input.length+1)).concat(Pn.ushortList("lookaheadGlyph",p.lookahead,p.lookahead.length)).concat(Pn.ushortList("substitution",[],p.lookupRecords.length));return p.lookupRecords.forEach(function(m,v){g=g.concat({name:"sequenceIndex"+v,type:"USHORT",value:m.sequenceIndex}).concat({name:"lookupListIndex"+v,type:"USHORT",value:m.lookupListIndex})}),new Pn.Table("chainRuleTable",g)}))})));if(2===l.substFormat)ai.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(3===l.substFormat){var h=[{name:"substFormat",type:"USHORT",value:l.substFormat}];return h.push({name:"backtrackGlyphCount",type:"USHORT",value:l.backtrackCoverage.length}),l.backtrackCoverage.forEach(function(f,p){h.push({name:"backtrackCoverage"+p,type:"TABLE",value:new Pn.Coverage(f)})}),h.push({name:"inputGlyphCount",type:"USHORT",value:l.inputCoverage.length}),l.inputCoverage.forEach(function(f,p){h.push({name:"inputCoverage"+p,type:"TABLE",value:new Pn.Coverage(f)})}),h.push({name:"lookaheadGlyphCount",type:"USHORT",value:l.lookaheadCoverage.length}),l.lookaheadCoverage.forEach(function(f,p){h.push({name:"lookaheadCoverage"+p,type:"TABLE",value:new Pn.Coverage(f)})}),h.push({name:"substitutionCount",type:"USHORT",value:l.lookupRecords.length}),l.lookupRecords.forEach(function(f,p){h=h.concat({name:"sequenceIndex"+p,type:"USHORT",value:f.sequenceIndex}).concat({name:"lookupListIndex"+p,type:"USHORT",value:f.lookupListIndex})}),new Pn.Table("chainContextTable",h)}ai.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};var jxe_parse=function A4t(c,l){var a=new ft(c,l=l||0),h=a.parseVersion(1);return ai.argument(1===h||1.1===h,"Unsupported GSUB table version."),1===h?{version:h,scripts:a.parseScriptList(),features:a.parseFeatureList(),lookups:a.parseLookupList(bd)}:{version:h,scripts:a.parseScriptList(),features:a.parseFeatureList(),lookups:a.parseLookupList(bd),variations:a.parseFeatureVariationsList()}},jxe_make=function I4t(c){return new Pn.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Pn.ScriptList(c.scripts)},{name:"features",type:"TABLE",value:new Pn.FeatureList(c.features)},{name:"lookups",type:"TABLE",value:new Pn.LookupList(c.lookups,GC)}])},Gxe_parse=function R4t(c,l){var a=new Un.Parser(c,l),h=a.parseULong();ai.argument(1===h,"Unsupported META table version."),a.parseULong(),a.parseULong();for(var d=a.parseULong(),f={},p=0;p<d;p++){var g=a.parseTag(),m=a.parseULong(),v=a.parseULong(),_=ZC.UTF8(c,l+m,v);f[g]=_}return f},Gxe_make=function L4t(c){var l=Object.keys(c).length,a="",h=16+12*l,d=new Pn.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:h},{name:"numTags",type:"ULONG",value:l}]);for(var f in c){var p=a.length;a+=c[f],d.fields.push({name:"tag "+f,type:"TAG",value:f}),d.fields.push({name:"offset "+f,type:"ULONG",value:h+p}),d.fields.push({name:"length "+f,type:"ULONG",value:c[f].length})}return d.fields.push({name:"stringPool",type:"CHARARRAY",value:a}),d},Xxe_parse=function N4t(c,l){var a=new ft(c,l),h=a.parseUShort();ai.argument(0===h,"Only COLRv0 supported.");var d=a.parseUShort(),f=a.parseOffset32(),p=a.parseOffset32(),g=a.parseUShort();a.relativeOffset=f;var m=a.parseRecordList(d,{glyphID:ft.uShort,firstLayerIndex:ft.uShort,numLayers:ft.uShort});return a.relativeOffset=p,{version:h,baseGlyphRecords:m,layerRecords:a.parseRecordList(g,{glyphID:ft.uShort,paletteIndex:ft.uShort})}},Xxe_make=function F4t(c){var l=c.version;void 0===l&&(l=0);var a=c.baseGlyphRecords;void 0===a&&(a=[]);var h=c.layerRecords;void 0===h&&(h=[]),ai.argument(0===l,"Only COLRv0 supported.");var d=14;return new Pn.Table("COLR",[{name:"version",type:"USHORT",value:l},{name:"numBaseGlyphRecords",type:"USHORT",value:a.length},{name:"baseGlyphRecordsOffset",type:"ULONG",value:d},{name:"layerRecordsOffset",type:"ULONG",value:d+6*a.length},{name:"numLayerRecords",type:"USHORT",value:h.length}].concat(a.map(function(p,g){return[{name:"glyphID_"+g,type:"USHORT",value:p.glyphID},{name:"firstLayerIndex_"+g,type:"USHORT",value:p.firstLayerIndex},{name:"numLayers_"+g,type:"USHORT",value:p.numLayers}]}).flat(),h.map(function(p,g){return[{name:"LayerGlyphID_"+g,type:"USHORT",value:p.glyphID},{name:"paletteIndex_"+g,type:"USHORT",value:p.paletteIndex}]}).flat()))},Yxe_parse=function B4t(c,l){var a=new ft(c,l),h=a.parseShort(),d=a.parseShort(),f=a.parseShort(),p=a.parseShort(),g=a.parseOffset32(),m=a.parseUShortList(f);return a.relativeOffset=g,{version:h,numPaletteEntries:d,colorRecords:a.parseULongList(p),colorRecordIndices:m}},Yxe_make=function V4t(c){var l=c.version;void 0===l&&(l=0);var a=c.numPaletteEntries;void 0===a&&(a=0);var h=c.colorRecords;void 0===h&&(h=[]);var d=c.colorRecordIndices;return void 0===d&&(d=[0]),ai.argument(0===l,"Only CPALv0 are supported."),ai.argument(h.length,"No colorRecords given."),ai.argument(d.length,"No colorRecordIndices given."),ai.argument(!a&&1==d.length,"Can't infer numPaletteEntries on multiple colorRecordIndices"),new Pn.Table("CPAL",[{name:"version",type:"USHORT",value:l},{name:"numPaletteEntries",type:"USHORT",value:a||h.length},{name:"numPalettes",type:"USHORT",value:d.length},{name:"numColorRecords",type:"USHORT",value:h.length},{name:"colorRecordsArrayOffset",type:"ULONG",value:12+2*d.length}].concat(d.map(function(f,p){return{name:"colorRecordIndices_"+p,type:"USHORT",value:f}}),h.map(function(f,p){return{name:"colorRecords_"+p,type:"ULONG",value:f}})))};function qxe(c){return Math.log(c)/Math.log(2)|0}function qj(c){for(;c.length%4!=0;)c.push(0);for(var l=0,a=0;a<c.length;a+=4)l+=(c[a]<<24)+(c[a+1]<<16)+(c[a+2]<<8)+c[a+3];return l%Math.pow(2,32)}function Kxe(c,l,a,h){return new Pn.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==c?c:""},{name:"checkSum",type:"ULONG",value:void 0!==l?l:0},{name:"offset",type:"ULONG",value:void 0!==a?a:0},{name:"length",type:"ULONG",value:void 0!==h?h:0}])}function Jxe(c){var l=new Pn.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);l.tables=c,l.numTables=c.length;var a=Math.pow(2,qxe(l.numTables));l.searchRange=16*a,l.entrySelector=qxe(a),l.rangeShift=16*l.numTables-l.searchRange;for(var h=[],d=[],f=l.sizeOf()+Kxe().sizeOf()*l.numTables;f%4!=0;)f+=1,d.push({name:"padding",type:"BYTE",value:0});for(var p=0;p<c.length;p+=1){var g=c[p];ai.argument(4===g.tableName.length,"Table name"+g.tableName+" is invalid.");var m=g.sizeOf(),v=Kxe(g.tableName,qj(g.encode()),f,m);for(h.push({name:v.tag+" Table Record",type:"RECORD",value:v}),d.push({name:g.tableName+" table",type:"RECORD",value:g}),f+=m,ai.argument(!isNaN(f),"Something went wrong calculating the offset.");f%4!=0;)f+=1,d.push({name:"padding",type:"BYTE",value:0})}return h.sort(function(_,y){return _.value.tag>y.value.tag?1:-1}),l.fields=l.fields.concat(h),l.fields=l.fields.concat(d),l}function eTe(c,l,a){for(var h=0;h<l.length;h+=1){var d=c.charToGlyphIndex(l[h]);if(d>0)return c.glyphs.get(d).getMetrics()}return a}function $4t(c){for(var l=0,a=0;a<c.length;a+=1)l+=c[a];return l/c.length}var U4t_fontToTable=function z4t(c){for(var m,l=[],a=[],h=[],d=[],f=[],p=[],g=[],v=0,_=0,y=0,b=0,O=0,C=0;C<c.glyphs.length;C+=1){var S=c.glyphs.get(C),w=0|S.unicode;if(isNaN(S.advanceWidth))throw new Error("Glyph "+S.name+" ("+C+"): advanceWidth is not a number.");(m>w||void 0===m)&&w>0&&(m=w),v<w&&(v=w);var x=Yj_getUnicodeRange(w);if(x<32)_|=1<<x;else if(x<64)y|=1<<x-32;else if(x<96)b|=1<<x-64;else{if(!(x<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");O|=1<<x-96}if(".notdef"!==S.name){var T=S.getMetrics();l.push(T.xMin),a.push(T.yMin),h.push(T.xMax),d.push(T.yMax),p.push(T.leftSideBearing),g.push(T.rightSideBearing),f.push(S.advanceWidth)}}var D={xMin:Math.min.apply(null,l),yMin:Math.min.apply(null,a),xMax:Math.max.apply(null,h),yMax:Math.max.apply(null,d),advanceWidthMax:Math.max.apply(null,f),advanceWidthAvg:$4t(f),minLeftSideBearing:Math.min.apply(null,p),maxLeftSideBearing:Math.max.apply(null,p),minRightSideBearing:Math.min.apply(null,g)};D.ascender=c.ascender,D.descender=c.descender;var k=Rxe_make({flags:3,unitsPerEm:c.unitsPerEm,xMin:D.xMin,yMin:D.yMin,xMax:D.xMax,yMax:D.yMax,lowestRecPPEM:3,createdTimestamp:c.createdTimestamp}),P=Lxe_make({ascender:D.ascender,descender:D.descender,advanceWidthMax:D.advanceWidthMax,minLeftSideBearing:D.minLeftSideBearing,minRightSideBearing:D.minRightSideBearing,xMaxExtent:D.maxLeftSideBearing+(D.xMax-D.xMin),numberOfHMetrics:c.glyphs.length}),N=Bxe_make(c.glyphs.length),F=Yj_make(Object.assign({xAvgCharWidth:Math.round(D.advanceWidthAvg),usFirstCharIndex:m,usLastCharIndex:v,ulUnicodeRange1:_,ulUnicodeRange2:y,ulUnicodeRange3:b,ulUnicodeRange4:O,sTypoAscender:D.ascender,sTypoDescender:D.descender,sTypoLineGap:0,usWinAscent:D.yMax,usWinDescent:Math.abs(D.yMin),ulCodePageRange1:1,sxHeight:eTe(c,"xyvw",{yMax:Math.round(D.ascender/2)}).yMax,sCapHeight:eTe(c,"HIKLEFJMNTZBDPRAGOQSUVWXY",D).yMax,usDefaultChar:c.hasChar(" ")?32:0,usBreakChar:c.hasChar(" ")?32:0},c.tables.os2)),L=Nxe_make(c.glyphs),$=_xe_make(c.glyphs),U=c.getEnglishName("fontFamily"),z=c.getEnglishName("fontSubfamily"),ee=U+" "+z,te=c.getEnglishName("postScriptName");te||(te=U.replace(/\s/g,"")+"-"+z);var B={};for(var j in c.names)B[j]=c.names[j];B.uniqueID||(B.uniqueID={en:c.getEnglishName("manufacturer")+":"+ee}),B.postScriptName||(B.postScriptName={en:te}),B.preferredFamily||(B.preferredFamily=c.names.fontFamily),B.preferredSubfamily||(B.preferredSubfamily=c.names.fontSubfamily);var W=[],q=Wxe_make(B,W),G=W.length>0?Fxe_make(W):void 0,K=Zxe_make(),J=Ixe_make(c.glyphs,{version:c.getEnglishName("version"),fullName:ee,familyName:U,weightName:z,postScriptName:te,unitsPerEm:c.unitsPerEm,fontBBox:[0,D.yMin,D.ascender,D.advanceWidthMax]}),ie=c.metas&&Object.keys(c.metas).length>0?Gxe_make(c.metas):void 0,re=[k,P,N,F,q,$,K,J,L];G&&re.push(G),c.tables.gsub&&re.push(jxe_make(c.tables.gsub)),c.tables.cpal&&re.push(Yxe_make(c.tables.cpal)),c.tables.colr&&re.push(Xxe_make(c.tables.colr)),ie&&re.push(ie);for(var he=Jxe(re),ke=qj(he.encode()),xe=he.fields,Ie=!1,Ze=0;Ze<xe.length;Ze+=1)if("head table"===xe[Ze].name){xe[Ze].value.checkSumAdjustment=2981146554-ke,Ie=!0;break}if(!Ie)throw new Error("Could not find head table with checkSum to adjust.");return he};function Kj(c,l){for(var a=0,h=c.length-1;a<=h;){var d=a+h>>>1,f=c[d].tag;if(f===l)return d;f<l?a=d+1:h=d-1}return-a-1}function tTe(c,l){for(var a=0,h=c.length-1;a<=h;){var d=a+h>>>1,f=c[d];if(f===l)return d;f<l?a=d+1:h=d-1}return-a-1}function nTe(c,l){for(var a,h=0,d=c.length-1;h<=d;){var f=h+d>>>1,p=(a=c[f]).start;if(p===l)return a;p<l?h=f+1:d=f-1}if(h>0)return l>(a=c[h-1]).end?0:a}function xk(c,l){this.font=c,this.tableName=l}function Tk(c){xk.call(this,c,"gpos")}function Iu(c){xk.call(this,c,"gsub")}function Q4t(c,l){var a=c.length;if(a!==l.length)return!1;for(var h=0;h<a;h++)if(c[h]!==l[h])return!1;return!0}function Jj(c,l,a){for(var h=c.subtables,d=0;d<h.length;d++){var f=h[d];if(f.substFormat===l)return f}if(a)return h.push(a),a}function iTe(c){for(var l=new ArrayBuffer(c.length),a=new Uint8Array(l),h=0;h<c.length;++h)a[h]=c[h];return l}function kk(c,l){if(!c)throw l}function rTe(c,l,a,h,d){var f;return(l&h)>0?(f=c.parseByte(),l&d||(f=-f),f=a+f):f=(l&d)>0?a:a+c.parseShort(),f}function sTe(c,l,a){var d,f,h=new Un.Parser(l,a);if(c.numberOfContours=h.parseShort(),c._xMin=h.parseShort(),c._yMin=h.parseShort(),c._xMax=h.parseShort(),c._yMax=h.parseShort(),c.numberOfContours>0){for(var p=c.endPointIndices=[],g=0;g<c.numberOfContours;g+=1)p.push(h.parseUShort());c.instructionLength=h.parseUShort(),c.instructions=[];for(var m=0;m<c.instructionLength;m+=1)c.instructions.push(h.parseByte());var v=p[p.length-1]+1;d=[];for(var _=0;_<v;_+=1)if(f=h.parseByte(),d.push(f),(8&f)>0)for(var y=h.parseByte(),b=0;b<y;b+=1)d.push(f),_+=1;if(ai.argument(d.length===v,"Bad flags."),p.length>0){var C,O=[];if(v>0){for(var S=0;S<v;S+=1)(C={}).onCurve=!!(1&(f=d[S])),C.lastPointOfContour=p.indexOf(S)>=0,O.push(C);for(var w=0,x=0;x<v;x+=1)(C=O[x]).x=rTe(h,f=d[x],w,2,16),w=C.x;for(var T=0,D=0;D<v;D+=1)(C=O[D]).y=rTe(h,f=d[D],T,4,32),T=C.y}c.points=O}else c.points=[]}else if(0===c.numberOfContours)c.points=[];else{c.isComposite=!0,c.points=[],c.components=[];for(var k=!0;k;){d=h.parseUShort();var P={glyphIndex:h.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&d)>0?(2&d)>0?(P.dx=h.parseShort(),P.dy=h.parseShort()):P.matchedPoints=[h.parseUShort(),h.parseUShort()]:(2&d)>0?(P.dx=h.parseChar(),P.dy=h.parseChar()):P.matchedPoints=[h.parseByte(),h.parseByte()],(8&d)>0?P.xScale=P.yScale=h.parseF2Dot14():(64&d)>0?(P.xScale=h.parseF2Dot14(),P.yScale=h.parseF2Dot14()):(128&d)>0&&(P.xScale=h.parseF2Dot14(),P.scale01=h.parseF2Dot14(),P.scale10=h.parseF2Dot14(),P.yScale=h.parseF2Dot14()),c.components.push(P),k=!!(32&d)}if(256&d){c.instructionLength=h.parseUShort(),c.instructions=[];for(var N=0;N<c.instructionLength;N+=1)c.instructions.push(h.parseByte())}}}function eG(c,l){for(var a=[],h=0;h<c.length;h+=1){var d=c[h];a.push({x:l.xScale*d.x+l.scale01*d.y+l.dx,y:l.scale10*d.x+l.yScale*d.y+l.dy,onCurve:d.onCurve,lastPointOfContour:d.lastPointOfContour})}return a}function oTe(c){var l=new Qo;if(!c)return l;for(var a=function Z4t(c){for(var l=[],a=[],h=0;h<c.length;h+=1){var d=c[h];a.push(d),d.lastPointOfContour&&(l.push(a),a=[])}return ai.argument(0===a.length,"There are still points left in the current contour."),l}(c),h=0;h<a.length;++h){var d=a[h],p=d[d.length-1],g=d[0];if(p.onCurve)l.moveTo(p.x,p.y);else if(g.onCurve)l.moveTo(g.x,g.y);else{var m={x:.5*(p.x+g.x),y:.5*(p.y+g.y)};l.moveTo(m.x,m.y)}for(var v=0;v<d.length;++v)if(p,p=g,g=d[(v+1)%d.length],p.onCurve)l.lineTo(p.x,p.y);else{var y=g;g.onCurve||(y={x:.5*(p.x+g.x),y:.5*(p.y+g.y)}),l.quadraticCurveTo(p.x,p.y,y.x,y.y)}l.closePath()}return l}function aTe(c,l){if(l.isComposite)for(var a=0;a<l.components.length;a+=1){var h=l.components[a],d=c.get(h.glyphIndex);if(d.getPath(),d.points){var f=void 0;if(void 0===h.matchedPoints)f=eG(d.points,h);else{if(h.matchedPoints[0]>l.points.length-1||h.matchedPoints[1]>d.points.length-1)throw Error("Matched points out of range in "+l.name);var p=l.points[h.matchedPoints[0]],g=d.points[h.matchedPoints[1]],m={xScale:h.xScale,scale01:h.scale01,scale10:h.scale10,yScale:h.yScale,dx:0,dy:0};g=eG([g],m)[0],m.dx=p.x-g.x,m.dy=p.y-g.y,f=eG(d.points,m)}l.points=l.points.concat(f)}}return oTe(l.points)}xk.prototype={searchTag:Kj,binSearch:tTe,getTable:function(c){var l=this.font.tables[this.tableName];return!l&&c&&(l=this.font.tables[this.tableName]=this.createDefaultTable()),l},getScriptNames:function(){var c=this.getTable();return c?c.scripts.map(function(l){return l.tag}):[]},getDefaultScriptName:function(){var c=this.getTable();if(c){for(var l=!1,a=0;a<c.scripts.length;a++){var h=c.scripts[a].tag;if("DFLT"===h)return h;"latn"===h&&(l=!0)}if(l)return"latn"}},getScriptTable:function(c,l){var a=this.getTable(l);if(a){var h=a.scripts,d=Kj(a.scripts,c=c||"DFLT");if(d>=0)return h[d].script;if(l){var f={tag:c,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return h.splice(-1-d,0,f),f.script}}},getLangSysTable:function(c,l,a){var h=this.getScriptTable(c,a);if(h){if(!l||"dflt"===l||"DFLT"===l)return h.defaultLangSys;var d=Kj(h.langSysRecords,l);if(d>=0)return h.langSysRecords[d].langSys;if(a){var f={tag:l,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return h.langSysRecords.splice(-1-d,0,f),f.langSys}}},getFeatureTable:function(c,l,a,h){var d=this.getLangSysTable(c,l,h);if(d){for(var f,p=d.featureIndexes,g=this.font.tables[this.tableName].features,m=0;m<p.length;m++)if((f=g[p[m]]).tag===a)return f.feature;if(h){var v=g.length;return ai.assert(0===v||a>=g[v-1].tag,"Features must be added in alphabetical order."),g.push(f={tag:a,feature:{params:0,lookupListIndexes:[]}}),p.push(v),f.feature}}},getLookupTables:function(c,l,a,h,d){var f=this.getFeatureTable(c,l,a,d),p=[];if(f){for(var g,m=f.lookupListIndexes,v=this.font.tables[this.tableName].lookups,_=0;_<m.length;_++)(g=v[m[_]]).lookupType===h&&p.push(g);if(0===p.length&&d){var y=v.length;return v.push(g={lookupType:h,lookupFlag:0,subtables:[],markFilteringSet:void 0}),m.push(y),[g]}}return p},getGlyphClass:function(c,l){switch(c.format){case 1:return c.startGlyph<=l&&l<c.startGlyph+c.classes.length?c.classes[l-c.startGlyph]:0;case 2:var a=nTe(c.ranges,l);return a?a.classId:0}},getCoverageIndex:function(c,l){switch(c.format){case 1:var a=tTe(c.glyphs,l);return a>=0?a:-1;case 2:var h=nTe(c.ranges,l);return h?h.index+l-h.start:-1}},expandCoverage:function(c){if(1===c.format)return c.glyphs;for(var l=[],a=c.ranges,h=0;h<a.length;h++)for(var d=a[h],p=d.end,g=d.start;g<=p;g++)l.push(g);return l}},(Tk.prototype=xk.prototype).init=function(){var c=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(c)},Tk.prototype.getKerningValue=function(c,l,a){for(var h=0;h<c.length;h++)for(var d=c[h].subtables,f=0;f<d.length;f++){var p=d[f],g=this.getCoverageIndex(p.coverage,l);if(!(g<0))switch(p.posFormat){case 1:for(var m=p.pairSets[g],v=0;v<m.length;v++){var _=m[v];if(_.secondGlyph===a)return _.value1&&_.value1.xAdvance||0}break;case 2:var y=this.getGlyphClass(p.classDef1,l),b=this.getGlyphClass(p.classDef2,a),O=p.classRecords[y][b];return O.value1&&O.value1.xAdvance||0}}return 0},Tk.prototype.getKerningTables=function(c,l){if(this.font.tables.gpos)return this.getLookupTables(c,l,"kern",2)},(Iu.prototype=xk.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Iu.prototype.getSingle=function(c,l,a){for(var h=[],d=this.getLookupTables(l,a,c,1),f=0;f<d.length;f++)for(var p=d[f].subtables,g=0;g<p.length;g++){var m=p[g],v=this.expandCoverage(m.coverage),_=void 0;if(1===m.substFormat){var y=m.deltaGlyphId;for(_=0;_<v.length;_++){var b=v[_];h.push({sub:b,by:b+y})}}else{var O=m.substitute;for(_=0;_<v.length;_++)h.push({sub:v[_],by:O[_]})}}return h},Iu.prototype.getMultiple=function(c,l,a){for(var h=[],d=this.getLookupTables(l,a,c,2),f=0;f<d.length;f++)for(var p=d[f].subtables,g=0;g<p.length;g++){var m=p[g],v=this.expandCoverage(m.coverage),_=void 0;for(_=0;_<v.length;_++)h.push({sub:v[_],by:m.sequences[_]})}return h},Iu.prototype.getAlternates=function(c,l,a){for(var h=[],d=this.getLookupTables(l,a,c,3),f=0;f<d.length;f++)for(var p=d[f].subtables,g=0;g<p.length;g++)for(var m=p[g],v=this.expandCoverage(m.coverage),_=m.alternateSets,y=0;y<v.length;y++)h.push({sub:v[y],by:_[y]});return h},Iu.prototype.getLigatures=function(c,l,a){for(var h=[],d=this.getLookupTables(l,a,c,4),f=0;f<d.length;f++)for(var p=d[f].subtables,g=0;g<p.length;g++)for(var m=p[g],v=this.expandCoverage(m.coverage),_=m.ligatureSets,y=0;y<v.length;y++)for(var b=v[y],O=_[y],C=0;C<O.length;C++){var S=O[C];h.push({sub:[b].concat(S.components),by:S.ligGlyph})}return h},Iu.prototype.addSingle=function(c,l,a,h){var f=Jj(this.getLookupTables(a,h,c,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});ai.assert(1===f.coverage.format,"Single: unable to modify coverage table format "+f.coverage.format);var p=l.sub,g=this.binSearch(f.coverage.glyphs,p);g<0&&(f.coverage.glyphs.splice(g=-1-g,0,p),f.substitute.splice(g,0,0)),f.substitute[g]=l.by},Iu.prototype.addMultiple=function(c,l,a,h){ai.assert(l.by instanceof Array&&l.by.length>1,'Multiple: "by" must be an array of two or more ids');var f=Jj(this.getLookupTables(a,h,c,2,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});ai.assert(1===f.coverage.format,"Multiple: unable to modify coverage table format "+f.coverage.format);var p=l.sub,g=this.binSearch(f.coverage.glyphs,p);g<0&&(f.coverage.glyphs.splice(g=-1-g,0,p),f.sequences.splice(g,0,0)),f.sequences[g]=l.by},Iu.prototype.addAlternate=function(c,l,a,h){var f=Jj(this.getLookupTables(a,h,c,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});ai.assert(1===f.coverage.format,"Alternate: unable to modify coverage table format "+f.coverage.format);var p=l.sub,g=this.binSearch(f.coverage.glyphs,p);g<0&&(f.coverage.glyphs.splice(g=-1-g,0,p),f.alternateSets.splice(g,0,0)),f.alternateSets[g]=l.by},Iu.prototype.addLigature=function(c,l,a,h){var d=this.getLookupTables(a,h,c,4,!0)[0],f=d.subtables[0];f||(d.subtables[0]=f={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),ai.assert(1===f.coverage.format,"Ligature: unable to modify coverage table format "+f.coverage.format);var p=l.sub[0],g=l.sub.slice(1),m={ligGlyph:l.by,components:g},v=this.binSearch(f.coverage.glyphs,p);if(v>=0){for(var _=f.ligatureSets[v],y=0;y<_.length;y++)if(Q4t(_[y].components,g))return;_.push(m)}else f.coverage.glyphs.splice(v=-1-v,0,p),f.ligatureSets.splice(v,0,[m])},Iu.prototype.getFeature=function(c,l,a){if(/ss\d\d/.test(c))return this.getSingle(c,l,a);switch(c){case"aalt":case"salt":return this.getSingle(c,l,a).concat(this.getAlternates(c,l,a));case"dlig":case"liga":case"rlig":return this.getLigatures(c,l,a);case"ccmp":return this.getMultiple(c,l,a).concat(this.getLigatures(c,l,a));case"stch":return this.getMultiple(c,l,a)}},Iu.prototype.add=function(c,l,a,h){if(/ss\d\d/.test(c))return this.addSingle(c,l,a,h);switch(c){case"aalt":case"salt":return"number"==typeof l.by?this.addSingle(c,l,a,h):this.addAlternate(c,l,a,h);case"dlig":case"liga":case"rlig":return this.addLigature(c,l,a,h);case"ccmp":return l.by instanceof Array?this.addMultiple(c,l,a,h):this.addLigature(c,l,a,h)}};var cTe,Xv,uTe,tG,lTe={getPath:oTe,parse:function X4t(c,l,a,h,d){return d.lowMemory?function G4t(c,l,a,h){var d=new Qf.GlyphSet(h);return h._push=function(f){var p=a[f];d.push(f,p!==a[f+1]?Qf.ttfGlyphLoader(h,f,sTe,c,l+p,aTe):Qf.glyphLoader(h,f))},d}(c,l,a,h):function j4t(c,l,a,h){for(var d=new Qf.GlyphSet(h),f=0;f<a.length-1;f+=1){var p=a[f];d.push(f,p!==a[f+1]?Qf.ttfGlyphLoader(h,f,sTe,c,l+p,aTe):Qf.glyphLoader(h,f))}return d}(c,l,a,h)}};function hTe(c){this.font=c,this.getCommands=function(l){return lTe.getPath(l).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Y4t(c){return c}function dTe(c){return Math.sign(c)*Math.round(Math.abs(c))}function q4t(c){return Math.sign(c)*Math.round(Math.abs(2*c))/2}function K4t(c){return Math.sign(c)*(Math.round(Math.abs(c)+.5)-.5)}function J4t(c){return Math.sign(c)*Math.ceil(Math.abs(c))}function e3t(c){return Math.sign(c)*Math.floor(Math.abs(c))}var fTe=function(c){var l=this.srPeriod,a=this.srPhase,d=1;return c<0&&(c=-c,d=-1),c+=this.srThreshold-a,c=Math.trunc(c/l)*l,(c+=a)<0?a*d:c*d},Hf={x:1,y:0,axis:"x",distance:function(c,l,a,h){return(a?c.xo:c.x)-(h?l.xo:l.x)},interpolate:function(c,l,a,h){var d,f,p,g,m,v,_;if(!h||h===this)return d=c.xo-l.xo,f=c.xo-a.xo,m=l.x-l.xo,v=a.x-a.xo,0===(_=(p=Math.abs(d))+(g=Math.abs(f)))?void(c.x=c.xo+(m+v)/2):void(c.x=c.xo+(m*g+v*p)/_);d=h.distance(c,l,!0,!0),f=h.distance(c,a,!0,!0),m=h.distance(l,l,!1,!0),v=h.distance(a,a,!1,!0),0!==(_=(p=Math.abs(d))+(g=Math.abs(f)))?Hf.setRelative(c,c,(m*g+v*p)/_,h,!0):Hf.setRelative(c,c,(m+v)/2,h,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(c,l,a,h,d){c.x=h&&h!==this?(d?l.xo:l.x)+a*h.x+(c.y-((d?l.yo:l.y)+a*h.y))/h.normalSlope:(d?l.xo:l.x)+a},slope:0,touch:function(c){c.xTouched=!0},touched:function(c){return c.xTouched},untouch:function(c){c.xTouched=!1}},pg={x:0,y:1,axis:"y",distance:function(c,l,a,h){return(a?c.yo:c.y)-(h?l.yo:l.y)},interpolate:function(c,l,a,h){var d,f,p,g,m,v,_;if(!h||h===this)return d=c.yo-l.yo,f=c.yo-a.yo,m=l.y-l.yo,v=a.y-a.yo,0===(_=(p=Math.abs(d))+(g=Math.abs(f)))?void(c.y=c.yo+(m+v)/2):void(c.y=c.yo+(m*g+v*p)/_);d=h.distance(c,l,!0,!0),f=h.distance(c,a,!0,!0),m=h.distance(l,l,!1,!0),v=h.distance(a,a,!1,!0),0!==(_=(p=Math.abs(d))+(g=Math.abs(f)))?pg.setRelative(c,c,(m*g+v*p)/_,h,!0):pg.setRelative(c,c,(m+v)/2,h,!0)},normalSlope:0,setRelative:function(c,l,a,h,d){c.y=h&&h!==this?(d?l.yo:l.y)+a*h.y+h.normalSlope*(c.x-((d?l.xo:l.x)+a*h.x)):(d?l.yo:l.y)+a},slope:Number.POSITIVE_INFINITY,touch:function(c){c.yTouched=!0},touched:function(c){return c.yTouched},untouch:function(c){c.yTouched=!1}};function Dk(c,l){this.x=c,this.y=l,this.axis=void 0,this.slope=l/c,this.normalSlope=-c/l,Object.freeze(this)}function Mk(c,l){var a=Math.sqrt(c*c+l*l);return l/=a,1==(c/=a)&&0===l?Hf:0===c&&1===l?pg:new Dk(c,l)}function gg(c,l,a,h){this.x=this.xo=Math.round(64*c)/64,this.y=this.yo=Math.round(64*l)/64,this.lastPointOfContour=a,this.onCurve=h,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Hf),Object.freeze(pg),Dk.prototype.distance=function(c,l,a,h){return this.x*Hf.distance(c,l,a,h)+this.y*pg.distance(c,l,a,h)},Dk.prototype.interpolate=function(c,l,a,h){var d,f,p,g,m,v,_;p=h.distance(c,l,!0,!0),g=h.distance(c,a,!0,!0),d=h.distance(l,l,!1,!0),f=h.distance(a,a,!1,!0),0!==(_=(m=Math.abs(p))+(v=Math.abs(g)))?this.setRelative(c,c,(d*v+f*m)/_,h,!0):this.setRelative(c,c,(d+f)/2,h,!0)},Dk.prototype.setRelative=function(c,l,a,h,d){var v=(h=h||this).normalSlope,_=this.slope,y=c.x,b=c.y;c.x=(_*y-v*((d?l.xo:l.x)+a*h.x)+((d?l.yo:l.y)+a*h.y)-b)/(_-v),c.y=_*(c.x-y)+b},Dk.prototype.touch=function(c){c.xTouched=!0,c.yTouched=!0},gg.prototype.nextTouched=function(c){for(var l=this.nextPointOnContour;!c.touched(l)&&l!==this;)l=l.nextPointOnContour;return l},gg.prototype.prevTouched=function(c){for(var l=this.prevPointOnContour;!c.touched(l)&&l!==this;)l=l.prevPointOnContour;return l};var Ek=Object.freeze(new gg(0,0)),t3t={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function c0(c,l){switch(this.env=c,this.stack=[],this.prog=l,c){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Hf,this.round=dTe}}function HR(c){for(var l=c.tZone=new Array(c.gZone.length),a=0;a<l.length;a++)l[a]=new gg(0,0)}function pTe(c,l){var f,a=c.prog,h=c.ip,d=1;do{if(88===(f=a[++h]))d++;else if(89===f)d--;else if(64===f)h+=a[h+1]+1;else if(65===f)h+=2*a[h+1]+1;else if(f>=176&&f<=183)h+=f-176+1;else if(f>=184&&f<=191)h+=2*(f-184+1);else if(l&&1===d&&27===f)break}while(d>0);c.ip=h}function gTe(c,l){exports.DEBUG&&console.log(l.step,"SVTCA["+c.axis+"]"),l.fv=l.pv=l.dpv=c}function mTe(c,l){exports.DEBUG&&console.log(l.step,"SPVTCA["+c.axis+"]"),l.pv=l.dpv=c}function vTe(c,l){exports.DEBUG&&console.log(l.step,"SFVTCA["+c.axis+"]"),l.fv=c}function _Te(c,l){var g,m,a=l.stack,h=a.pop(),d=a.pop(),f=l.z2[h],p=l.z1[d];exports.DEBUG&&console.log("SPVTL["+c+"]",h,d),c?(g=f.y-p.y,m=p.x-f.x):(g=p.x-f.x,m=p.y-f.y),l.pv=l.dpv=Mk(g,m)}function yTe(c,l){var g,m,a=l.stack,h=a.pop(),d=a.pop(),f=l.z2[h],p=l.z1[d];exports.DEBUG&&console.log("SFVTL["+c+"]",h,d),c?(g=f.y-p.y,m=p.x-f.x):(g=p.x-f.x,m=p.y-f.y),l.fv=Mk(g,m)}function nG(c){exports.DEBUG&&console.log(c.step,"POP[]"),c.stack.pop()}function bTe(c,l){var a=l.stack.pop(),h=l.z0[a],d=l.fv,f=l.pv;exports.DEBUG&&console.log(l.step,"MDAP["+c+"]",a);var p=f.distance(h,Ek);c&&(p=l.round(p)),d.setRelative(h,Ek,p,f),d.touch(h),l.rp0=l.rp1=a}function OTe(c,l){var d,f,p,a=l.z2,h=a.length-2;exports.DEBUG&&console.log(l.step,"IUP["+c.axis+"]");for(var g=0;g<h;g++)!c.touched(d=a[g])&&(f=d.prevTouched(c))!==d&&(f===(p=d.nextTouched(c))&&c.setRelative(d,d,c.distance(f,f,!1,!0),c,!0),c.interpolate(d,f,p,c))}function CTe(c,l){for(var a=l.stack,d=(c?l.z0:l.z1)[c?l.rp1:l.rp2],f=l.fv,p=l.pv,g=l.loop,m=l.z2;g--;){var v=a.pop(),_=m[v],y=p.distance(d,d,!1,!0);f.setRelative(_,_,y,p),f.touch(_),exports.DEBUG&&console.log(l.step,(l.loop>1?"loop "+(l.loop-g)+": ":"")+"SHP["+(c?"rp1":"rp2")+"]",v)}l.loop=1}function STe(c,l){var d=(c?l.z0:l.z1)[c?l.rp1:l.rp2],f=l.fv,p=l.pv,g=l.stack.pop(),m=l.z2[l.contours[g]],v=m;exports.DEBUG&&console.log(l.step,"SHC["+c+"]",g);var _=p.distance(d,d,!1,!0);do{v!==d&&f.setRelative(v,v,_,p),v=v.nextPointOnContour}while(v!==m)}function wTe(c,l){var m,d=(c?l.z0:l.z1)[c?l.rp1:l.rp2],f=l.fv,p=l.pv,g=l.stack.pop();switch(exports.DEBUG&&console.log(l.step,"SHZ["+c+"]",g),g){case 0:m=l.tZone;break;case 1:m=l.gZone;break;default:throw new Error("Invalid zone")}for(var v,_=p.distance(d,d,!1,!0),y=m.length-2,b=0;b<y;b++)f.setRelative(v=m[b],v,_,p)}function xTe(c,l){var a=l.stack,h=a.pop()/64,d=a.pop(),f=l.z1[d],g=l.fv;g.setRelative(f,l.z0[l.rp0],h,l.pv),g.touch(f),exports.DEBUG&&console.log(l.step,"MSIRP["+c+"]",h,d),l.rp1=l.rp0,l.rp2=d,c&&(l.rp0=d)}function TTe(c,l){var a=l.stack,h=a.pop(),d=a.pop(),f=l.z0[d],p=l.fv,g=l.pv,m=l.cvt[h];exports.DEBUG&&console.log(l.step,"MIAP["+c+"]",h,"(",m,")",d);var v=g.distance(f,Ek);c&&(Math.abs(v-m)<l.cvCutIn&&(v=m),v=l.round(v)),p.setRelative(f,Ek,v,g),0===l.zp0&&(f.xo=f.x,f.yo=f.y),p.touch(f),l.rp0=l.rp1=d}function kTe(c,l){var a=l.stack,h=a.pop(),d=l.z2[h];exports.DEBUG&&console.log(l.step,"GC["+c+"]",h),a.push(64*l.dpv.distance(d,Ek,c,!1))}function DTe(c,l){var a=l.stack,h=a.pop(),d=a.pop(),g=l.dpv.distance(l.z0[d],l.z1[h],c,c);exports.DEBUG&&console.log(l.step,"MD["+c+"]",h,d,"->",g),l.stack.push(Math.round(64*g))}function iG(c,l){var a=l.stack,h=a.pop(),d=l.fv,f=l.pv,p=l.ppem,g=l.deltaBase+16*(c-1),m=l.deltaShift,v=l.z0;exports.DEBUG&&console.log(l.step,"DELTAP["+c+"]",h,a);for(var _=0;_<h;_++){var y=a.pop(),b=a.pop();if(g+((240&b)>>4)===p){var C=(15&b)-8;C>=0&&C++,exports.DEBUG&&console.log(l.step,"DELTAPFIX",y,"by",C*m);var S=v[y];d.setRelative(S,S,C*m,f)}}}function WR(c,l){var a=l.stack,h=a.pop();exports.DEBUG&&console.log(l.step,"ROUND[]"),a.push(64*l.round(h/64))}function rG(c,l){var a=l.stack,h=a.pop(),d=l.ppem,f=l.deltaBase+16*(c-1),p=l.deltaShift;exports.DEBUG&&console.log(l.step,"DELTAC["+c+"]",h,a);for(var g=0;g<h;g++){var m=a.pop(),v=a.pop();if(f+((240&v)>>4)===d){var y=(15&v)-8;y>=0&&y++;var b=y*p;exports.DEBUG&&console.log(l.step,"DELTACFIX",m,"by",b),l.cvt[m]+=b}}}function MTe(c,l){var g,m,a=l.stack,h=a.pop(),d=a.pop(),f=l.z2[h],p=l.z1[d];exports.DEBUG&&console.log(l.step,"SDPVTL["+c+"]",h,d),c?(g=f.y-p.y,m=p.x-f.x):(g=p.x-f.x,m=p.y-f.y),l.dpv=Mk(g,m)}function u0(c,l){var a=l.stack,h=l.prog,d=l.ip;exports.DEBUG&&console.log(l.step,"PUSHB["+c+"]");for(var f=0;f<c;f++)a.push(h[++d]);l.ip=d}function h0(c,l){var a=l.ip,h=l.prog,d=l.stack;exports.DEBUG&&console.log(l.ip,"PUSHW["+c+"]");for(var f=0;f<c;f++){var p=h[++a]<<8|h[++a];32768&p&&(p=-(1+(65535^p))),d.push(p)}l.ip=a}function Qn(c,l,a,h,d,f){var S,w,x,T,p=f.stack,g=c&&p.pop(),m=p.pop(),_=f.z0[f.rp0],y=f.z1[m],b=f.minDis,O=f.fv,C=f.dpv;x=(w=S=C.distance(y,_,!0,!0))>=0?1:-1,w=Math.abs(w),c&&(T=f.cvt[g],h&&Math.abs(w-T)<f.cvCutIn&&(w=T)),a&&w<b&&(w=b),h&&(w=f.round(w)),O.setRelative(y,_,x*w,C),O.touch(y),exports.DEBUG&&console.log(f.step,(c?"MIRP[":"MDRP[")+(l?"M":"m")+(a?">":"_")+(h?"R":"_")+(0===d?"Gr":1===d?"Bl":2===d?"Wh":"")+"]",c?g+"("+f.cvt[g]+","+T+")":"",m,"(d =",S,"->",x*w,")"),f.rp1=f.rp0,f.rp2=m,l&&(f.rp0=m)}function XC(c){this.char=c,this.state={},this.activeState=null}function sG(c,l,a){this.contextName=a,this.startIndex=c,this.endOffset=l}function xDt(c,l,a){this.contextName=c,this.openRange=null,this.ranges=[],this.checkStart=l,this.checkEnd=a}function Od(c,l){this.context=c,this.index=l,this.length=c.length,this.current=c[l],this.backtrack=c.slice(0,l),this.lookahead=c.slice(l+1)}function ZR(c){this.eventId=c,this.subscribers=[]}function TDt(c){var l=this,a=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];a.forEach(function(d){Object.defineProperty(l.events,d,{value:new ZR(d)})}),c&&a.forEach(function(d){var f=c[d];"function"==typeof f&&l.events[d].subscribe(f)}),["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"].forEach(function(d){l.events[d].subscribe(l.updateContextsRanges)})}function yo(c){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],TDt.call(this,c)}function d0(c){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(c)}function ETe(c){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(c)}function f0(c){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(c)}function jR(c){return/[A-z]/.test(c)}function Ru(c){this.font=c,this.features={}}function Yv(c){this.id=c.id,this.tag=c.tag,this.substitution=c.substitution}function Pk(c,l){if(!c)return-1;switch(l.format){case 1:return l.glyphs.indexOf(c);case 2:for(var a=l.ranges,h=0;h<a.length;h++){var d=a[h];if(c>=d.start&&c<=d.end)return d.index+(c-d.start)}break;default:return-1}return-1}function DDt(c,l){return-1===Pk(c,l.coverage)?null:c+l.deltaGlyphId}function MDt(c,l){var a=Pk(c,l.coverage);return-1===a?null:l.substitute[a]}function oG(c,l){for(var a=[],h=0;h<c.length;h++){var d=c[h],f=l.current,p=Pk(f=Array.isArray(f)?f[0]:f,d);-1!==p&&a.push(p)}return a.length!==c.length?-1:a}function EDt(c,l){if(c.context.length<l.inputCoverage.length+l.lookaheadCoverage.length+l.backtrackCoverage.length)return[];var h=oG(l.inputCoverage,c);if(-1===h)return[];if(c.lookahead.length<l.lookaheadCoverage.length)return[];for(var f=c.lookahead.slice(l.inputCoverage.length-1);f.length&&f0(f[0].char);)f.shift();var p=new Od(f,0),g=oG(l.lookaheadCoverage,p),m=[].concat(c.backtrack);for(m.reverse();m.length&&f0(m[0].char);)m.shift();if(m.length<l.backtrackCoverage.length)return[];var v=new Od(m,0),_=oG(l.backtrackCoverage,v),b=[];if(h.length===l.inputCoverage.length&&g.length===l.lookaheadCoverage.length&&_.length===l.backtrackCoverage.length)for(var O=0;O<l.lookupRecords.length;O++)for(var w=this.getLookupByIndex(l.lookupRecords[O].lookupListIndex),x=0;x<w.subtables.length;x++){var T=w.subtables[x],D=this.getLookupMethod(w,T);if("12"===this.getSubstitutionType(w,T))for(var P=0;P<h.length;P++){var F=D(c.get(P));F&&b.push(F)}}return b}function PDt(c,l){var h=Pk(c.current,l.coverage);if(-1===h)return null;for(var d,f=l.ligatureSets[h],p=0;p<f.length;p++){d=f[p];for(var g=0;g<d.components.length&&c.lookahead[g]===d.components[g];g++)if(g===d.components.length-1)return d}return null}function ADt(c,l){var a=Pk(c,l.coverage);return-1===a?null:l.sequences[a]}hTe.prototype.exec=function(c,l){if("number"!=typeof l)throw new Error("Point size is not a number!");if(!(this._errorState>2)){var a=this.font,h=this._prepState;if(!h||h.ppem!==l){var d=this._fpgmState;if(!d){c0.prototype=t3t,(d=this._fpgmState=new c0("fpgm",a.tables.fpgm)).funcs=[],d.font=a,exports.DEBUG&&(console.log("---EXEC FPGM---"),d.step=-1);try{Xv(d)}catch(v){return console.log("Hinting error in FPGM:"+v),void(this._errorState=3)}}c0.prototype=d,(h=this._prepState=new c0("prep",a.tables.prep)).ppem=l;var f=a.tables.cvt;if(f)for(var p=h.cvt=new Array(f.length),g=l/a.unitsPerEm,m=0;m<f.length;m++)p[m]=f[m]*g;else h.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),h.step=-1);try{Xv(h)}catch(v){this._errorState<2&&console.log("Hinting error in PREP:"+v),this._errorState=2}}if(!(this._errorState>1))try{return uTe(c,h)}catch(v){return this._errorState<1&&(console.log("Hinting error:"+v),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},uTe=function(c,l){var f,p,g,a=l.ppem/l.font.unitsPerEm,h=a,d=c.components;if(c0.prototype=l,d){var m=l.font;p=[],f=[];for(var v=0;v<d.length;v++){var _=d[v],y=m.glyphs.get(_.glyphIndex);g=new c0("glyf",y.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+v+"---"),g.step=-1),tG(y,g,a,h);for(var b=Math.round(_.dx*a),O=Math.round(_.dy*h),C=g.gZone,S=g.contours,w=0;w<C.length;w++){var x=C[w];x.xTouched=x.yTouched=!1,x.xo=x.x=x.x+b,x.yo=x.y=x.y+O}var T=p.length;p.push.apply(p,C);for(var D=0;D<S.length;D++)f.push(S[D]+T)}c.instructions&&!g.inhibitGridFit&&((g=new c0("glyf",c.instructions)).gZone=g.z0=g.z1=g.z2=p,g.contours=f,p.push(new gg(0,0),new gg(Math.round(c.advanceWidth*a),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),g.step=-1),Xv(g),p.length-=2)}else g=new c0("glyf",c.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),g.step=-1),tG(c,g,a,h),p=g.gZone;return p},tG=function(c,l,a,h){for(var m,d=c.points||[],f=d.length,p=l.gZone=l.z0=l.z1=l.z2=[],g=l.contours=[],v=0;v<f;v++)p[v]=new gg((m=d[v]).x*a,m.y*h,m.lastPointOfContour,m.onCurve);for(var _,y,b=0;b<f;b++)m=p[b],_||(_=m,g.push(b)),m.lastPointOfContour?(m.nextPointOnContour=_,_.prevPointOnContour=m,_=void 0):(m.nextPointOnContour=y=p[b+1],y.prevPointOnContour=m);if(!l.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",l.stack);for(var O=0;O<f;O++)console.log(O,p[O].x,p[O].y)}if(p.push(new gg(0,0),new gg(Math.round(c.advanceWidth*a),0)),Xv(l),p.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",l.stack);for(var C=0;C<f;C++)console.log(C,p[C].x,p[C].y)}}},Xv=function(c){var l=c.prog;if(l){var h,a=l.length;for(c.ip=0;c.ip<a;c.ip++){if(exports.DEBUG&&c.step++,!(h=cTe[l[c.ip]]))throw new Error("unknown instruction: 0x"+Number(l[c.ip]).toString(16));h(c)}}},cTe=[gTe.bind(void 0,pg),gTe.bind(void 0,Hf),mTe.bind(void 0,pg),mTe.bind(void 0,Hf),vTe.bind(void 0,pg),vTe.bind(void 0,Hf),_Te.bind(void 0,0),_Te.bind(void 0,1),yTe.bind(void 0,0),yTe.bind(void 0,1),function n3t(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"SPVFS[]",a,h),c.pv=c.dpv=Mk(h,a)},function i3t(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"SPVFS[]",a,h),c.fv=Mk(h,a)},function r3t(c){var l=c.stack,a=c.pv;exports.DEBUG&&console.log(c.step,"GPV[]"),l.push(16384*a.x),l.push(16384*a.y)},function s3t(c){var l=c.stack,a=c.fv;exports.DEBUG&&console.log(c.step,"GFV[]"),l.push(16384*a.x),l.push(16384*a.y)},function o3t(c){c.fv=c.pv,exports.DEBUG&&console.log(c.step,"SFVTPV[]")},function a3t(c){var l=c.stack,a=l.pop(),h=l.pop(),d=l.pop(),f=l.pop(),p=l.pop(),g=c.z0,m=c.z1,v=g[a],_=g[h],y=m[d],b=m[f],O=c.z2[p];exports.DEBUG&&console.log("ISECT[], ",a,h,d,f,p);var C=v.x,S=v.y,w=_.x,x=_.y,T=y.x,D=y.y,k=b.x,P=b.y,N=(C-w)*(D-P)-(S-x)*(T-k),F=C*x-S*w,L=T*P-D*k;O.x=(F*(T-k)-L*(C-w))/N,O.y=(F*(D-P)-L*(S-x))/N},function l3t(c){c.rp0=c.stack.pop(),exports.DEBUG&&console.log(c.step,"SRP0[]",c.rp0)},function c3t(c){c.rp1=c.stack.pop(),exports.DEBUG&&console.log(c.step,"SRP1[]",c.rp1)},function u3t(c){c.rp2=c.stack.pop(),exports.DEBUG&&console.log(c.step,"SRP2[]",c.rp2)},function h3t(c){var l=c.stack.pop();switch(exports.DEBUG&&console.log(c.step,"SZP0[]",l),c.zp0=l,l){case 0:c.tZone||HR(c),c.z0=c.tZone;break;case 1:c.z0=c.gZone;break;default:throw new Error("Invalid zone pointer")}},function d3t(c){var l=c.stack.pop();switch(exports.DEBUG&&console.log(c.step,"SZP1[]",l),c.zp1=l,l){case 0:c.tZone||HR(c),c.z1=c.tZone;break;case 1:c.z1=c.gZone;break;default:throw new Error("Invalid zone pointer")}},function f3t(c){var l=c.stack.pop();switch(exports.DEBUG&&console.log(c.step,"SZP2[]",l),c.zp2=l,l){case 0:c.tZone||HR(c),c.z2=c.tZone;break;case 1:c.z2=c.gZone;break;default:throw new Error("Invalid zone pointer")}},function p3t(c){var l=c.stack.pop();switch(exports.DEBUG&&console.log(c.step,"SZPS[]",l),c.zp0=c.zp1=c.zp2=l,l){case 0:c.tZone||HR(c),c.z0=c.z1=c.z2=c.tZone;break;case 1:c.z0=c.z1=c.z2=c.gZone;break;default:throw new Error("Invalid zone pointer")}},function g3t(c){c.loop=c.stack.pop(),exports.DEBUG&&console.log(c.step,"SLOOP[]",c.loop)},function m3t(c){exports.DEBUG&&console.log(c.step,"RTG[]"),c.round=dTe},function v3t(c){exports.DEBUG&&console.log(c.step,"RTHG[]"),c.round=K4t},function _3t(c){var l=c.stack.pop();exports.DEBUG&&console.log(c.step,"SMD[]",l),c.minDis=l/64},function y3t(c){exports.DEBUG&&console.log(c.step,"ELSE[]"),pTe(c,!1)},function b3t(c){var l=c.stack.pop();exports.DEBUG&&console.log(c.step,"JMPR[]",l),c.ip+=l-1},function O3t(c){var l=c.stack.pop();exports.DEBUG&&console.log(c.step,"SCVTCI[]",l),c.cvCutIn=l/64},void 0,void 0,function C3t(c){var l=c.stack;exports.DEBUG&&console.log(c.step,"DUP[]"),l.push(l[l.length-1])},nG,function S3t(c){exports.DEBUG&&console.log(c.step,"CLEAR[]"),c.stack.length=0},function w3t(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"SWAP[]"),l.push(a),l.push(h)},function x3t(c){var l=c.stack;exports.DEBUG&&console.log(c.step,"DEPTH[]"),l.push(l.length)},function D3t(c){var l=c.stack,a=l.pop();exports.DEBUG&&console.log(c.step,"CINDEX[]",a),l.push(l[l.length-a])},function M3t(c){var l=c.stack,a=l.pop();exports.DEBUG&&console.log(c.step,"MINDEX[]",a),l.push(l.splice(l.length-a,1)[0])},void 0,void 0,void 0,function T3t(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"LOOPCALL[]",a,h);var d=c.ip,f=c.prog;c.prog=c.funcs[a];for(var p=0;p<h;p++)Xv(c),exports.DEBUG&&console.log(++c.step,p+1<h?"next loopcall":"done loopcall",p);c.ip=d,c.prog=f},function k3t(c){var l=c.stack.pop();exports.DEBUG&&console.log(c.step,"CALL[]",l);var a=c.ip,h=c.prog;c.prog=c.funcs[l],Xv(c),c.ip=a,c.prog=h,exports.DEBUG&&console.log(++c.step,"returning from",l)},function E3t(c){if("fpgm"!==c.env)throw new Error("FDEF not allowed here");var a=c.prog,h=c.ip,d=c.stack.pop(),f=h;for(exports.DEBUG&&console.log(c.step,"FDEF[]",d);45!==a[++h];);c.ip=h,c.funcs[d]=a.slice(f+1,h)},void 0,bTe.bind(void 0,0),bTe.bind(void 0,1),OTe.bind(void 0,pg),OTe.bind(void 0,Hf),CTe.bind(void 0,0),CTe.bind(void 0,1),STe.bind(void 0,0),STe.bind(void 0,1),wTe.bind(void 0,0),wTe.bind(void 0,1),function P3t(c){for(var l=c.stack,a=c.loop,h=c.fv,d=l.pop()/64,f=c.z2;a--;){var p=l.pop(),g=f[p];exports.DEBUG&&console.log(c.step,(c.loop>1?"loop "+(c.loop-a)+": ":"")+"SHPIX[]",p,d),h.setRelative(g,g,d),h.touch(g)}c.loop=1},function A3t(c){for(var l=c.stack,a=c.rp1,h=c.rp2,d=c.loop,f=c.z0[a],p=c.z1[h],g=c.fv,m=c.dpv,v=c.z2;d--;){var _=l.pop(),y=v[_];exports.DEBUG&&console.log(c.step,(c.loop>1?"loop "+(c.loop-d)+": ":"")+"IP[]",_,a,"<->",h),g.interpolate(y,f,p,m),g.touch(y)}c.loop=1},xTe.bind(void 0,0),xTe.bind(void 0,1),function I3t(c){for(var l=c.stack,h=c.z0[c.rp0],d=c.loop,f=c.fv,p=c.pv,g=c.z1;d--;){var m=l.pop(),v=g[m];exports.DEBUG&&console.log(c.step,(c.loop>1?"loop "+(c.loop-d)+": ":"")+"ALIGNRP[]",m),f.setRelative(v,h,0,p),f.touch(v)}c.loop=1},function R3t(c){exports.DEBUG&&console.log(c.step,"RTDG[]"),c.round=q4t},TTe.bind(void 0,0),TTe.bind(void 0,1),function L3t(c){var l=c.prog,a=c.ip,h=c.stack,d=l[++a];exports.DEBUG&&console.log(c.step,"NPUSHB[]",d);for(var f=0;f<d;f++)h.push(l[++a]);c.ip=a},function N3t(c){var l=c.ip,a=c.prog,h=c.stack,d=a[++l];exports.DEBUG&&console.log(c.step,"NPUSHW[]",d);for(var f=0;f<d;f++){var p=a[++l]<<8|a[++l];32768&p&&(p=-(1+(65535^p))),h.push(p)}c.ip=l},function F3t(c){var l=c.stack,a=c.store;a||(a=c.store=[]);var h=l.pop(),d=l.pop();exports.DEBUG&&console.log(c.step,"WS",h,d),a[d]=h},function B3t(c){var l=c.stack,a=c.store,h=l.pop();exports.DEBUG&&console.log(c.step,"RS",h),l.push(a&&a[h]||0)},function V3t(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"WCVTP",a,h),c.cvt[h]=a/64},function $3t(c){var l=c.stack,a=l.pop();exports.DEBUG&&console.log(c.step,"RCVT",a),l.push(64*c.cvt[a])},kTe.bind(void 0,0),kTe.bind(void 0,1),void 0,DTe.bind(void 0,0),DTe.bind(void 0,1),function z3t(c){exports.DEBUG&&console.log(c.step,"MPPEM[]"),c.stack.push(c.ppem)},void 0,function U3t(c){exports.DEBUG&&console.log(c.step,"FLIPON[]"),c.autoFlip=!0},void 0,void 0,function Q3t(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"LT[]",a,h),l.push(h<a?1:0)},function H3t(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"LTEQ[]",a,h),l.push(h<=a?1:0)},function W3t(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"GT[]",a,h),l.push(h>a?1:0)},function Z3t(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"GTEQ[]",a,h),l.push(h>=a?1:0)},function j3t(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"EQ[]",a,h),l.push(a===h?1:0)},function G3t(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"NEQ[]",a,h),l.push(a!==h?1:0)},function X3t(c){var l=c.stack,a=l.pop();exports.DEBUG&&console.log(c.step,"ODD[]",a),l.push(Math.trunc(a)%2?1:0)},function Y3t(c){var l=c.stack,a=l.pop();exports.DEBUG&&console.log(c.step,"EVEN[]",a),l.push(Math.trunc(a)%2?0:1)},function q3t(c){var l=c.stack.pop();exports.DEBUG&&console.log(c.step,"IF[]",l),l||(pTe(c,!0),exports.DEBUG&&console.log(c.step,"EIF[]"))},function K3t(c){exports.DEBUG&&console.log(c.step,"EIF[]")},function J3t(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"AND[]",a,h),l.push(a&&h?1:0)},function eDt(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"OR[]",a,h),l.push(a||h?1:0)},function tDt(c){var l=c.stack,a=l.pop();exports.DEBUG&&console.log(c.step,"NOT[]",a),l.push(a?0:1)},iG.bind(void 0,1),function nDt(c){var a=c.stack.pop();exports.DEBUG&&console.log(c.step,"SDB[]",a),c.deltaBase=a},function iDt(c){var a=c.stack.pop();exports.DEBUG&&console.log(c.step,"SDS[]",a),c.deltaShift=Math.pow(.5,a)},function rDt(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"ADD[]",a,h),l.push(h+a)},function sDt(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"SUB[]",a,h),l.push(h-a)},function oDt(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"DIV[]",a,h),l.push(64*h/a)},function aDt(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"MUL[]",a,h),l.push(h*a/64)},function lDt(c){var l=c.stack,a=l.pop();exports.DEBUG&&console.log(c.step,"ABS[]",a),l.push(Math.abs(a))},function cDt(c){var l=c.stack,a=l.pop();exports.DEBUG&&console.log(c.step,"NEG[]",a),l.push(-a)},function uDt(c){var l=c.stack,a=l.pop();exports.DEBUG&&console.log(c.step,"FLOOR[]",a),l.push(64*Math.floor(a/64))},function hDt(c){var l=c.stack,a=l.pop();exports.DEBUG&&console.log(c.step,"CEILING[]",a),l.push(64*Math.ceil(a/64))},WR.bind(void 0,0),WR.bind(void 0,1),WR.bind(void 0,2),WR.bind(void 0,3),void 0,void 0,void 0,void 0,function dDt(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"WCVTF[]",a,h),c.cvt[h]=a*c.ppem/c.font.unitsPerEm},iG.bind(void 0,2),iG.bind(void 0,3),rG.bind(void 0,1),rG.bind(void 0,2),rG.bind(void 0,3),function fDt(c){var a,l=c.stack.pop();switch(exports.DEBUG&&console.log(c.step,"SROUND[]",l),c.round=fTe,192&l){case 0:a=.5;break;case 64:a=1;break;case 128:a=2;break;default:throw new Error("invalid SROUND value")}switch(c.srPeriod=a,48&l){case 0:c.srPhase=0;break;case 16:c.srPhase=.25*a;break;case 32:c.srPhase=.5*a;break;case 48:c.srPhase=.75*a;break;default:throw new Error("invalid SROUND value")}c.srThreshold=0==(l&=15)?0:(l/8-.5)*a},function pDt(c){var a,l=c.stack.pop();switch(exports.DEBUG&&console.log(c.step,"S45ROUND[]",l),c.round=fTe,192&l){case 0:a=Math.sqrt(2)/2;break;case 64:a=Math.sqrt(2);break;case 128:a=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(c.srPeriod=a,48&l){case 0:c.srPhase=0;break;case 16:c.srPhase=.25*a;break;case 32:c.srPhase=.5*a;break;case 48:c.srPhase=.75*a;break;default:throw new Error("invalid S45ROUND value")}c.srThreshold=0==(l&=15)?0:(l/8-.5)*a},void 0,void 0,function gDt(c){exports.DEBUG&&console.log(c.step,"ROFF[]"),c.round=Y4t},void 0,function mDt(c){exports.DEBUG&&console.log(c.step,"RUTG[]"),c.round=J4t},function vDt(c){exports.DEBUG&&console.log(c.step,"RDTG[]"),c.round=e3t},nG,nG,void 0,void 0,void 0,void 0,void 0,function _Dt(c){var l=c.stack.pop();exports.DEBUG&&console.log(c.step,"SCANCTRL[]",l)},MTe.bind(void 0,0),MTe.bind(void 0,1),function yDt(c){var l=c.stack,a=l.pop(),h=0;exports.DEBUG&&console.log(c.step,"GETINFO[]",a),1&a&&(h=35),32&a&&(h|=4096),l.push(h)},void 0,function bDt(c){var l=c.stack,a=l.pop(),h=l.pop(),d=l.pop();exports.DEBUG&&console.log(c.step,"ROLL[]"),l.push(h),l.push(a),l.push(d)},function ODt(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"MAX[]",a,h),l.push(Math.max(h,a))},function CDt(c){var l=c.stack,a=l.pop(),h=l.pop();exports.DEBUG&&console.log(c.step,"MIN[]",a,h),l.push(Math.min(h,a))},function SDt(c){var l=c.stack.pop();exports.DEBUG&&console.log(c.step,"SCANTYPE[]",l)},function wDt(c){var l=c.stack.pop(),a=c.stack.pop();switch(exports.DEBUG&&console.log(c.step,"INSTCTRL[]",l,a),l){case 1:return void(c.inhibitGridFit=!!a);case 2:return void(c.ignoreCvt=!!a);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,u0.bind(void 0,1),u0.bind(void 0,2),u0.bind(void 0,3),u0.bind(void 0,4),u0.bind(void 0,5),u0.bind(void 0,6),u0.bind(void 0,7),u0.bind(void 0,8),h0.bind(void 0,1),h0.bind(void 0,2),h0.bind(void 0,3),h0.bind(void 0,4),h0.bind(void 0,5),h0.bind(void 0,6),h0.bind(void 0,7),h0.bind(void 0,8),Qn.bind(void 0,0,0,0,0,0),Qn.bind(void 0,0,0,0,0,1),Qn.bind(void 0,0,0,0,0,2),Qn.bind(void 0,0,0,0,0,3),Qn.bind(void 0,0,0,0,1,0),Qn.bind(void 0,0,0,0,1,1),Qn.bind(void 0,0,0,0,1,2),Qn.bind(void 0,0,0,0,1,3),Qn.bind(void 0,0,0,1,0,0),Qn.bind(void 0,0,0,1,0,1),Qn.bind(void 0,0,0,1,0,2),Qn.bind(void 0,0,0,1,0,3),Qn.bind(void 0,0,0,1,1,0),Qn.bind(void 0,0,0,1,1,1),Qn.bind(void 0,0,0,1,1,2),Qn.bind(void 0,0,0,1,1,3),Qn.bind(void 0,0,1,0,0,0),Qn.bind(void 0,0,1,0,0,1),Qn.bind(void 0,0,1,0,0,2),Qn.bind(void 0,0,1,0,0,3),Qn.bind(void 0,0,1,0,1,0),Qn.bind(void 0,0,1,0,1,1),Qn.bind(void 0,0,1,0,1,2),Qn.bind(void 0,0,1,0,1,3),Qn.bind(void 0,0,1,1,0,0),Qn.bind(void 0,0,1,1,0,1),Qn.bind(void 0,0,1,1,0,2),Qn.bind(void 0,0,1,1,0,3),Qn.bind(void 0,0,1,1,1,0),Qn.bind(void 0,0,1,1,1,1),Qn.bind(void 0,0,1,1,1,2),Qn.bind(void 0,0,1,1,1,3),Qn.bind(void 0,1,0,0,0,0),Qn.bind(void 0,1,0,0,0,1),Qn.bind(void 0,1,0,0,0,2),Qn.bind(void 0,1,0,0,0,3),Qn.bind(void 0,1,0,0,1,0),Qn.bind(void 0,1,0,0,1,1),Qn.bind(void 0,1,0,0,1,2),Qn.bind(void 0,1,0,0,1,3),Qn.bind(void 0,1,0,1,0,0),Qn.bind(void 0,1,0,1,0,1),Qn.bind(void 0,1,0,1,0,2),Qn.bind(void 0,1,0,1,0,3),Qn.bind(void 0,1,0,1,1,0),Qn.bind(void 0,1,0,1,1,1),Qn.bind(void 0,1,0,1,1,2),Qn.bind(void 0,1,0,1,1,3),Qn.bind(void 0,1,1,0,0,0),Qn.bind(void 0,1,1,0,0,1),Qn.bind(void 0,1,1,0,0,2),Qn.bind(void 0,1,1,0,0,3),Qn.bind(void 0,1,1,0,1,0),Qn.bind(void 0,1,1,0,1,1),Qn.bind(void 0,1,1,0,1,2),Qn.bind(void 0,1,1,0,1,3),Qn.bind(void 0,1,1,1,0,0),Qn.bind(void 0,1,1,1,0,1),Qn.bind(void 0,1,1,1,0,2),Qn.bind(void 0,1,1,1,0,3),Qn.bind(void 0,1,1,1,1,0),Qn.bind(void 0,1,1,1,1,1),Qn.bind(void 0,1,1,1,1,2),Qn.bind(void 0,1,1,1,1,3)],XC.prototype.setState=function(c,l){return this.state[c]=l,this.activeState={key:c,value:this.state[c]},this.activeState},XC.prototype.getState=function(c){return this.state[c]||null},yo.prototype.inboundIndex=function(c){return c>=0&&c<this.tokens.length},yo.prototype.composeRUD=function(c){var l=this,h=c.map(function(f){return l[f[0]].apply(l,f.slice(1).concat(!0))}),d=function(f){return"object"==typeof f&&f.hasOwnProperty("FAIL")};if(h.every(d))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:h.filter(d)};this.dispatch("composeRUD",[h.filter(function(f){return!d(f)})])},yo.prototype.replaceRange=function(c,l,a,h){l=null!==l?l:this.tokens.length;var d=a.every(function(p){return p instanceof XC});if(!isNaN(c)&&this.inboundIndex(c)&&d){var f=this.tokens.splice.apply(this.tokens,[c,l].concat(a));return h||this.dispatch("replaceToken",[c,l,a]),[f,a]}return{FAIL:"replaceRange: invalid tokens or startIndex."}},yo.prototype.replaceToken=function(c,l,a){if(!isNaN(c)&&this.inboundIndex(c)&&l instanceof XC){var h=this.tokens.splice(c,1,l);return a||this.dispatch("replaceToken",[c,l]),[h[0],l]}return{FAIL:"replaceToken: invalid token or index."}},yo.prototype.removeRange=function(c,l,a){l=isNaN(l)?this.tokens.length:l;var h=this.tokens.splice(c,l);return a||this.dispatch("removeRange",[h,c,l]),h},yo.prototype.removeToken=function(c,l){if(!isNaN(c)&&this.inboundIndex(c)){var a=this.tokens.splice(c,1);return l||this.dispatch("removeToken",[a,c]),a}return{FAIL:"removeToken: invalid token index."}},yo.prototype.insertToken=function(c,l,a){return c.every(function(d){return d instanceof XC})?(this.tokens.splice.apply(this.tokens,[l,0].concat(c)),a||this.dispatch("insertToken",[c,l]),c):{FAIL:"insertToken: invalid token(s)."}},yo.prototype.registerModifier=function(c,l,a){this.events.newToken.subscribe(function(h,d){if(null===l||!0===l.apply(this,[h,d])){var m=a.apply(this,[h,d]);h.setState(c,m)}}),this.registeredModifiers.push(c)},ZR.prototype.subscribe=function(c){return"function"==typeof c?this.subscribers.push(c)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}},ZR.prototype.unsubscribe=function(c){this.subscribers.splice(c,1)},Od.prototype.setCurrentIndex=function(c){this.index=c,this.current=this.context[c],this.backtrack=this.context.slice(0,c),this.lookahead=this.context.slice(c+1)},Od.prototype.get=function(c){switch(!0){case 0===c:return this.current;case c<0&&Math.abs(c)<=this.backtrack.length:return this.backtrack.slice(c)[0];case c>0&&c<=this.lookahead.length:return this.lookahead[c-1];default:return null}},yo.prototype.rangeToText=function(c){if(c instanceof sG)return this.getRangeTokens(c).map(function(l){return l.char}).join("")},yo.prototype.getText=function(){return this.tokens.map(function(c){return c.char}).join("")},yo.prototype.getContext=function(c){return this.registeredContexts[c]||null},yo.prototype.on=function(c,l){var a=this.events[c];return a?a.subscribe(l):null},yo.prototype.dispatch=function(c,l){var a=this,h=this.events[c];h instanceof ZR&&h.subscribers.forEach(function(d){d.apply(a,l||[])})},yo.prototype.registerContextChecker=function(c,l,a){if(this.getContext(c))return{FAIL:"context name '"+c+"' is already registered."};if("function"!=typeof l)return{FAIL:"missing context start check."};if("function"!=typeof a)return{FAIL:"missing context end check."};var h=new xDt(c,l,a);return this.registeredContexts[c]=h,this.contextCheckers.push(h),h},yo.prototype.getRangeTokens=function(c){return[].concat(this.tokens.slice(c.startIndex,c.startIndex+c.endOffset))},yo.prototype.getContextRanges=function(c){var l=this.getContext(c);return l?l.ranges:{FAIL:"context checker '"+c+"' is not registered."}},yo.prototype.resetContextsRanges=function(){var c=this.registeredContexts;for(var l in c)c.hasOwnProperty(l)&&(c[l].ranges=[])},yo.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var c=this.tokens.map(function(h){return h.char}),l=0;l<c.length;l++){var a=new Od(c,l);this.runContextCheck(a)}this.dispatch("updateContextsRanges",[this.registeredContexts])},yo.prototype.setEndOffset=function(c,l){var h=new sG(this.getContext(l).openRange.startIndex,c,l),d=this.getContext(l).ranges;return h.rangeId=l+"."+d.length,d.push(h),this.getContext(l).openRange=null,h},yo.prototype.runContextCheck=function(c){var l=this,a=c.index;this.contextCheckers.forEach(function(h){var d=h.contextName,f=l.getContext(d).openRange;if(!f&&h.checkStart(c)&&(f=new sG(a,null,d),l.getContext(d).openRange=f,l.dispatch("contextStart",[d,a])),f&&h.checkEnd(c)){var g=l.setEndOffset(a-f.startIndex+1,d);l.dispatch("contextEnd",[d,g])}})},yo.prototype.tokenize=function(c){this.tokens=[],this.resetContextsRanges();var l=Array.from(c);this.dispatch("start");for(var a=0;a<l.length;a++){var h=l[a],d=new Od(l,a);this.dispatch("next",[d]),this.runContextCheck(d);var f=new XC(h);this.tokens.push(f),this.dispatch("newToken",[f,d])}return this.dispatch("end",[this.tokens]),this.tokens},Ru.prototype.getDefaultScriptFeaturesIndexes=function(){for(var c=this.font.tables.gsub.scripts,l=0;l<c.length;l++){var a=c[l];if("DFLT"===a.tag)return a.script.defaultLangSys.featureIndexes}return[]},Ru.prototype.getScriptFeaturesIndexes=function(c){if(!this.font.tables.gsub)return[];if(!c)return this.getDefaultScriptFeaturesIndexes();for(var a=this.font.tables.gsub.scripts,h=0;h<a.length;h++){var d=a[h];if(d.tag===c&&d.script.defaultLangSys)return d.script.defaultLangSys.featureIndexes;var f=d.langSysRecords;if(f)for(var p=0;p<f.length;p++){var g=f[p];if(g.tag===c)return g.langSys.featureIndexes}}return this.getDefaultScriptFeaturesIndexes()},Ru.prototype.mapTagsToFeatures=function(c,l){for(var a={},h=0;h<c.length;h++)a[c[h].tag]=c[h].feature;this.features[l].tags=a},Ru.prototype.getScriptFeatures=function(c){var l=this.features[c];if(this.features.hasOwnProperty(c))return l;var a=this.getScriptFeaturesIndexes(c);if(!a)return null;var h=this.font.tables.gsub;return l=a.map(function(d){return h.features[d]}),this.features[c]=l,this.mapTagsToFeatures(l,c),l},Ru.prototype.getSubstitutionType=function(c,l){return c.lookupType.toString()+l.substFormat.toString()},Ru.prototype.getLookupMethod=function(c,l){var a=this;switch(this.getSubstitutionType(c,l)){case"11":return function(d){return DDt.apply(a,[d,l])};case"12":return function(d){return MDt.apply(a,[d,l])};case"63":return function(d){return EDt.apply(a,[d,l])};case"41":return function(d){return PDt.apply(a,[d,l])};case"21":return function(d){return ADt.apply(a,[d,l])};default:throw new Error("lookupType: "+c.lookupType+" - substFormat: "+l.substFormat+" is not yet supported")}},Ru.prototype.lookupFeature=function(c){var l=c.contextParams,a=l.index,h=this.getFeature({tag:c.tag,script:c.script});if(!h)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+c.tag+"' for script '"+c.script+"'.");for(var d=this.getFeatureLookups(h),f=[].concat(l.context),p=0;p<d.length;p++)for(var g=d[p],m=this.getLookupSubtables(g),v=0;v<m.length;v++){var _=m[v],y=this.getSubstitutionType(g,_),b=this.getLookupMethod(g,_),O=void 0;switch(y){case"11":(O=b(l.current))&&f.splice(a,1,new Yv({id:11,tag:c.tag,substitution:O}));break;case"12":(O=b(l.current))&&f.splice(a,1,new Yv({id:12,tag:c.tag,substitution:O}));break;case"63":O=b(l),Array.isArray(O)&&O.length&&f.splice(a,1,new Yv({id:63,tag:c.tag,substitution:O}));break;case"41":(O=b(l))&&f.splice(a,1,new Yv({id:41,tag:c.tag,substitution:O}));break;case"21":(O=b(l.current))&&f.splice(a,1,new Yv({id:21,tag:c.tag,substitution:O}))}l=new Od(f,a),(!Array.isArray(O)||O.length)&&(O=null)}return f.length?f:null},Ru.prototype.supports=function(c){if(!c.script)return!1;this.getScriptFeatures(c.script);var l=this.features.hasOwnProperty(c.script);if(!c.tag)return l;var a=this.features[c.script].some(function(h){return h.tag===c.tag});return l&&a},Ru.prototype.getLookupSubtables=function(c){return c.subtables||null},Ru.prototype.getLookupByIndex=function(c){return this.font.tables.gsub.lookups[c]||null},Ru.prototype.getFeatureLookups=function(c){return c.lookupListIndexes.map(this.getLookupByIndex.bind(this))},Ru.prototype.getFeature=function(l){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(l.script)||this.getScriptFeatures(l.script);var a=this.features[l.script];return a?a.tags[l.tag]?this.features[l.script].tags[l.tag]:null:{FAIL:"No feature for script "+l.script}};var LDt={startCheck:function IDt(c){var l=c.current,a=c.get(-1);return null===a&&d0(l)||!d0(a)&&d0(l)},endCheck:function RDt(c){var l=c.get(1);return null===l||!d0(l)}},BDt={startCheck:function NDt(c){var l=c.current,a=c.get(-1);return(d0(l)||f0(l))&&!d0(a)},endCheck:function FDt(c){var l=c.get(1);switch(!0){case null===l:return!0;case!d0(l)&&!f0(l):var a=function kDt(c){return/\s/.test(c)}(l);if(!a)return!0;if(a&&!c.lookahead.some(function(d){return d0(d)||f0(d)}))return!0;break;default:return!1}}},PTe={11:function VDt(c,l,a){l[a].setState(c.tag,c.substitution)},12:function $Dt(c,l,a){l[a].setState(c.tag,c.substitution)},63:function zDt(c,l,a){c.substitution.forEach(function(h,d){l[a+d].setState(c.tag,h)})},41:function UDt(c,l,a){var h=l[a];h.setState(c.tag,c.substitution.ligGlyph);for(var d=c.substitution.components.length,f=0;f<d;f++)(h=l[a+f+1]).setState("deleted",!0)}};function aG(c,l,a){c instanceof Yv&&PTe[c.id]&&PTe[c.id](c,l,a)}function WDt(c){var l=this,a="arab",h=this.featuresTags[a],d=this.tokenizer.getRangeTokens(c);if(1!==d.length){var f=new Od(d.map(function(g){return g.getState("glyphIndex")}),0),p=new Od(d.map(function(g){return g.char}),0);d.forEach(function(g,m){if(!f0(g.char)){f.setCurrentIndex(m),p.setCurrentIndex(m);var _,v=0;switch(function QDt(c){for(var l=[].concat(c.backtrack),a=l.length-1;a>=0;a--){var h=l[a],d=ETe(h),f=f0(h);if(!d&&!f)return!0;if(d)return!1}return!1}(p)&&(v|=1),function HDt(c){if(ETe(c.current))return!1;for(var l=0;l<c.lookahead.length;l++)if(!f0(c.lookahead[l]))return!0;return!1}(p)&&(v|=2),v){case 1:_="fina";break;case 2:_="init";break;case 3:_="medi"}if(-1!==h.indexOf(_)){var y=l.query.lookupFeature({tag:_,script:a,contextParams:f});if(y instanceof Error)return console.info(y.message);y.forEach(function(b,O){b instanceof Yv&&(aG(b,d,O),f.context[O]=b.substitution)})}}})}}function ATe(c,l){return new Od(c.map(function(h){return h.activeState.value}),l||0)}function ZDt(c){var l=this,h=this.tokenizer.getRangeTokens(c),d=ATe(h);d.context.forEach(function(f,p){d.setCurrentIndex(p);var g=l.query.lookupFeature({tag:"rlig",script:"arab",contextParams:d});g.length&&(g.forEach(function(m){return aG(m,h,p)}),d=ATe(h))})}var XDt={startCheck:function jDt(c){var l=c.current,a=c.get(-1);return null===a&&jR(l)||!jR(a)&&jR(l)},endCheck:function GDt(c){var l=c.get(1);return null===l||!jR(l)}};function ITe(c,l){return new Od(c.map(function(h){return h.activeState.value}),l||0)}function YDt(c){var l=this,h=this.tokenizer.getRangeTokens(c),d=ITe(h);d.context.forEach(function(f,p){d.setCurrentIndex(p);var g=l.query.lookupFeature({tag:"liga",script:"latn",contextParams:d});g.length&&(g.forEach(function(m){return aG(m,h,p)}),d=ITe(h))})}function Cd(c){this.baseDir=c||"ltr",this.tokenizer=new yo,this.featuresTags={}}function lG(c){var l=this.contextChecks[c+"Check"];return this.tokenizer.registerContextChecker(c,l.startCheck,l.endCheck)}function qDt(){return lG.call(this,"latinWord"),lG.call(this,"arabicWord"),lG.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function KDt(){var c=this;this.tokenizer.getContextRanges("arabicSentence").forEach(function(a){var h=c.tokenizer.getRangeTokens(a);c.tokenizer.replaceRange(a.startIndex,a.endOffset,h.reverse())})}function cG(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function JDt(){var c=this;this.featuresTags.hasOwnProperty("arab")&&(cG.call(this),this.tokenizer.getContextRanges("arabicWord").forEach(function(h){WDt.call(c,h)}))}function eMt(){var c=this,l="arab";this.featuresTags.hasOwnProperty(l)&&-1!==this.featuresTags[l].indexOf("rlig")&&(cG.call(this),this.tokenizer.getContextRanges("arabicWord").forEach(function(d){ZDt.call(c,d)}))}function tMt(){var c=this,l="latn";this.featuresTags.hasOwnProperty(l)&&-1!==this.featuresTags[l].indexOf("liga")&&(cG.call(this),this.tokenizer.getContextRanges("latinWord").forEach(function(d){YDt.call(c,d)}))}function ds(c){(c=c||{}).tables=c.tables||{},c.empty||(kk(c.familyName,"When creating a new Font object, familyName is required."),kk(c.styleName,"When creating a new Font object, styleName is required."),kk(c.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),kk(c.ascender,"When creating a new Font object, ascender is required."),kk(c.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:c.familyName||" "},fontSubfamily:{en:c.styleName||" "},fullName:{en:c.fullName||c.familyName+" "+c.styleName},postScriptName:{en:c.postScriptName||(c.familyName+c.styleName).replace(/\s/g,"")},designer:{en:c.designer||" "},designerURL:{en:c.designerURL||" "},manufacturer:{en:c.manufacturer||" "},manufacturerURL:{en:c.manufacturerURL||" "},license:{en:c.license||" "},licenseURL:{en:c.licenseURL||" "},version:{en:c.version||"Version 0.1"},description:{en:c.description||" "},copyright:{en:c.copyright||" "},trademark:{en:c.trademark||" "}},this.unitsPerEm=c.unitsPerEm||1e3,this.ascender=c.ascender,this.descender=c.descender,this.createdTimestamp=c.createdTimestamp,this.tables=Object.assign(c.tables,{os2:Object.assign({usWeightClass:c.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:c.widthClass||this.usWidthClasses.MEDIUM,fsSelection:c.fsSelection||this.fsSelectionValues.REGULAR},c.tables.os2)})),this.supported=!0,this.glyphs=new Qf.GlyphSet(this,c.glyphs||[]),this.encoding=new yxe(this),this.position=new Tk(this),this.substitution=new Iu(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new hTe(this):void 0}})}function iMt(c,l,a){var h={},d=new Un.Parser(c,l);return h.tag=d.parseTag(),h.minValue=d.parseFixed(),h.defaultValue=d.parseFixed(),h.maxValue=d.parseFixed(),d.skip("uShort",1),h.name=a[d.parseUShort()]||{},h}function sMt(c,l,a,h){var d={},f=new Un.Parser(c,l);d.name=h[f.parseUShort()]||{},f.skip("uShort",1),d.coordinates={};for(var p=0;p<a.length;++p)d.coordinates[a[p].tag]=f.parseFixed();return d}Cd.prototype.setText=function(c){this.text=c},Cd.prototype.contextChecks={latinWordCheck:XDt,arabicWordCheck:LDt,arabicSentenceCheck:BDt},Cd.prototype.registerFeatures=function(c,l){var a=this,h=l.filter(function(d){return a.query.supports({script:c,tag:d})});this.featuresTags[c]=this.featuresTags.hasOwnProperty(c)?this.featuresTags[c].concat(h):h},Cd.prototype.applyFeatures=function(c,l){if(!c)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Ru(c));for(var a=0;a<l.length;a++){var h=l[a];this.query.supports({script:h.script})&&this.registerFeatures(h.script,h.tags)}},Cd.prototype.registerModifier=function(c,l,a){this.tokenizer.registerModifier(c,l,a)},Cd.prototype.checkContextReady=function(c){return!!this.tokenizer.getContext(c)},Cd.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(JDt.call(this),eMt.call(this)),this.checkContextReady("latinWord")&&tMt.call(this),this.checkContextReady("arabicSentence")&&KDt.call(this)},Cd.prototype.processText=function(c){(!this.text||this.text!==c)&&(this.setText(c),qDt.call(this),this.applyFeaturesToContexts())},Cd.prototype.getBidiText=function(c){return this.processText(c),this.tokenizer.getText()},Cd.prototype.getTextGlyphs=function(c){this.processText(c);for(var l=[],a=0;a<this.tokenizer.tokens.length;a++){var h=this.tokenizer.tokens[a];if(!h.state.deleted){var d=h.activeState.value;l.push(Array.isArray(d)?d[0]:d)}}return l},ds.prototype.hasChar=function(c){return null!==this.encoding.charToGlyphIndex(c)},ds.prototype.charToGlyphIndex=function(c){return this.encoding.charToGlyphIndex(c)},ds.prototype.charToGlyph=function(c){var l=this.charToGlyphIndex(c),a=this.glyphs.get(l);return a||(a=this.glyphs.get(0)),a},ds.prototype.updateFeatures=function(c){return this.defaultRenderOptions.features.map(function(l){return"latn"===l.script?{script:"latn",tags:l.tags.filter(function(a){return c[a]})}:l})},ds.prototype.stringToGlyphs=function(c,l){var a=this,h=new Cd;h.registerModifier("glyphIndex",null,function(y){return a.charToGlyphIndex(y.char)});var f=l?this.updateFeatures(l.features):this.defaultRenderOptions.features;h.applyFeatures(this,f);for(var p=h.getTextGlyphs(c),g=p.length,m=new Array(g),v=this.glyphs.get(0),_=0;_<g;_+=1)m[_]=this.glyphs.get(p[_])||v;return m},ds.prototype.nameToGlyphIndex=function(c){return this.glyphNames.nameToGlyphIndex(c)},ds.prototype.nameToGlyph=function(c){var l=this.nameToGlyphIndex(c),a=this.glyphs.get(l);return a||(a=this.glyphs.get(0)),a},ds.prototype.glyphIndexToName=function(c){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(c):""},ds.prototype.getKerningValue=function(c,l){c=c.index||c,l=l.index||l;var a=this.position.defaultKerningTables;return a?this.position.getKerningValue(a,c,l):this.kerningPairs[c+","+l]||0},ds.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]},ds.prototype.forEachGlyph=function(c,l,a,h,d,f){l=void 0!==l?l:0,a=void 0!==a?a:0,h=void 0!==h?h:72,d=Object.assign({},this.defaultRenderOptions,d);var m,p=1/this.unitsPerEm*h,g=this.stringToGlyphs(c,d);if(d.kerning){var v=d.script||this.position.getDefaultScriptName();m=this.position.getKerningTables(v,d.language)}for(var _=0;_<g.length;_+=1){var y=g[_];f.call(this,y,l,a,h,d),y.advanceWidth&&(l+=y.advanceWidth*p),d.kerning&&_<g.length-1&&(l+=(m?this.position.getKerningValue(m,y.index,g[_+1].index):this.getKerningValue(y,g[_+1]))*p),d.letterSpacing?l+=d.letterSpacing*h:d.tracking&&(l+=d.tracking/1e3*h)}return l},ds.prototype.getPath=function(c,l,a,h,d){var f=new Qo;return this.forEachGlyph(c,l,a,h,d,function(p,g,m,v){var _=p.getPath(g,m,v,d,this);f.extend(_)}),f},ds.prototype.getPaths=function(c,l,a,h,d){var f=[];return this.forEachGlyph(c,l,a,h,d,function(p,g,m,v){var _=p.getPath(g,m,v,d,this);f.push(_)}),f},ds.prototype.getAdvanceWidth=function(c,l,a){return this.forEachGlyph(c,0,0,l,a,function(){})},ds.prototype.draw=function(c,l,a,h,d,f){this.getPath(l,a,h,d,f).draw(c)},ds.prototype.drawPoints=function(c,l,a,h,d,f){this.forEachGlyph(l,a,h,d,f,function(p,g,m,v){p.drawPoints(c,g,m,v)})},ds.prototype.drawMetrics=function(c,l,a,h,d,f){this.forEachGlyph(l,a,h,d,f,function(p,g,m,v){p.drawMetrics(c,g,m,v)})},ds.prototype.getEnglishName=function(c){var l=this.names[c];if(l)return l.en},ds.prototype.validate=function(){var c=this;function a(h){var d=c.getEnglishName(h);d&&d.trim()}a("fontFamily"),a("weightName"),a("manufacturer"),a("copyright"),a("version")},ds.prototype.toTables=function(){return U4t_fontToTable(this)},ds.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},ds.prototype.toArrayBuffer=function(){for(var l=this.toTables().encode(),a=new ArrayBuffer(l.length),h=new Uint8Array(a),d=0;d<l.length;d++)h[d]=l[d];return a},ds.prototype.download=function(c){var l=this.getEnglishName("fontFamily"),a=this.getEnglishName("fontSubfamily");c=c||l.replace(/\s/g,"")+"-"+a+".otf";var h=this.toArrayBuffer();if(function H4t(){return typeof window<"u"}())if(window.URL=window.URL||window.webkitURL,window.URL){var d=new DataView(h),f=new Blob([d],{type:"font/opentype"}),p=document.createElement("a");p.href=window.URL.createObjectURL(f),p.download=c;var g=document.createEvent("MouseEvents");g.initEvent("click",!0,!1),p.dispatchEvent(g)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var m=require("fs"),v=function W4t(c){for(var l=new Buffer(c.byteLength),a=new Uint8Array(c),h=0;h<l.length;++h)l[h]=a[h];return l}(h);m.writeFileSync(c,v)}},ds.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},ds.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},ds.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var lMt_parse=function aMt(c,l,a){var h=new Un.Parser(c,l),d=h.parseULong();ai.argument(65536===d,"Unsupported fvar table version.");var f=h.parseOffset16();h.skip("uShort",1);for(var p=h.parseUShort(),g=h.parseUShort(),m=h.parseUShort(),v=h.parseUShort(),_=[],y=0;y<p;y++)_.push(iMt(c,l+f+y*g,a));for(var b=[],O=l+f+p*g,C=0;C<m;C++)b.push(sMt(c,O+C*v,_,a));return{axes:_,instances:b}},cMt=function(){return{coverage:this.parsePointer(ft.coverage),attachPoints:this.parseList(ft.pointer(ft.uShortList))}},uMt=function(){var c=this.parseUShort();return ai.argument(1===c||2===c||3===c,"Unsupported CaretValue table version."),1===c?{coordinate:this.parseShort()}:2===c?{pointindex:this.parseShort()}:3===c?{coordinate:this.parseShort()}:void 0},hMt=function(){return this.parseList(ft.pointer(uMt))},dMt=function(){return{coverage:this.parsePointer(ft.coverage),ligGlyphs:this.parseList(ft.pointer(hMt))}},fMt=function(){return this.parseUShort(),this.parseList(ft.pointer(ft.coverage))},gMt_parse=function pMt(c,l){var a=new ft(c,l=l||0),h=a.parseVersion(1);ai.argument(1===h||1.2===h||1.3===h,"Unsupported GDEF table version.");var d={version:h,classDef:a.parsePointer(ft.classDef),attachList:a.parsePointer(cMt),ligCaretList:a.parsePointer(dMt),markAttachClassDef:a.parsePointer(ft.classDef)};return h>=1.2&&(d.markGlyphSets=a.parsePointer(fMt)),d},Sd=new Array(10);Sd[1]=function(){var l=this.offset+this.relativeOffset,a=this.parseUShort();return 1===a?{posFormat:1,coverage:this.parsePointer(ft.coverage),value:this.parseValueRecord()}:2===a?{posFormat:2,coverage:this.parsePointer(ft.coverage),values:this.parseValueRecordList()}:void ai.assert(!1,"0x"+l.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Sd[2]=function(){var l=this.offset+this.relativeOffset,a=this.parseUShort();ai.assert(1===a||2===a,"0x"+l.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var h=this.parsePointer(ft.coverage),d=this.parseUShort(),f=this.parseUShort();if(1===a)return{posFormat:a,coverage:h,valueFormat1:d,valueFormat2:f,pairSets:this.parseList(ft.pointer(ft.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(d),value2:this.parseValueRecord(f)}})))};if(2===a){var p=this.parsePointer(ft.classDef),g=this.parsePointer(ft.classDef),m=this.parseUShort(),v=this.parseUShort();return{posFormat:a,coverage:h,valueFormat1:d,valueFormat2:f,classDef1:p,classDef2:g,class1Count:m,class2Count:v,classRecords:this.parseList(m,ft.list(v,function(){return{value1:this.parseValueRecord(d),value2:this.parseValueRecord(f)}}))}}},Sd[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Sd[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Sd[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Sd[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Sd[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Sd[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Sd[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var yMt_parse=function mMt(c,l){var a=new ft(c,l=l||0),h=a.parseVersion(1);return ai.argument(1===h||1.1===h,"Unsupported GPOS table version "+h),1===h?{version:h,scripts:a.parseScriptList(),features:a.parseFeatureList(),lookups:a.parseLookupList(Sd)}:{version:h,scripts:a.parseScriptList(),features:a.parseFeatureList(),lookups:a.parseLookupList(Sd),variations:a.parseFeatureVariationsList()}},SMt_parse=function CMt(c,l){var a=new Un.Parser(c,l),h=a.parseUShort();if(0===h)return function bMt(c){var l={};c.skip("uShort");var a=c.parseUShort();ai.argument(0===a,"Unsupported kern sub-table version."),c.skip("uShort",2);var h=c.parseUShort();c.skip("uShort",3);for(var d=0;d<h;d+=1){var f=c.parseUShort(),p=c.parseUShort(),g=c.parseShort();l[f+","+p]=g}return l}(a);if(1===h)return function OMt(c){var l={};c.skip("uShort"),c.parseULong()>1&&console.warn("Only the first kern subtable is supported."),c.skip("uLong");var d=255&c.parseUShort();if(c.skip("uShort"),0===d){var f=c.parseUShort();c.skip("uShort",3);for(var p=0;p<f;p+=1){var g=c.parseUShort(),m=c.parseUShort(),v=c.parseShort();l[g+","+m]=v}}return l}(a);throw new Error("Unsupported kern table version ("+h+").")},xMt_parse=function wMt(c,l,a,h){for(var d=new Un.Parser(c,l),f=h?d.parseUShort:d.parseULong,p=[],g=0;g<a+1;g+=1){var m=f.call(d);h&&(m*=2),p.push(m)}return p};function TMt(c,l){require("fs").readFile(c,function(h,d){if(h)return l(h.message);l(null,iTe(d))})}function kMt(c,l){var a=new XMLHttpRequest;a.open("get",c,!0),a.responseType="arraybuffer",a.onload=function(){return a.response?l(null,a.response):l("Font could not be loaded: "+a.statusText)},a.onerror=function(){l("Font could not be loaded")},a.send()}function LTe(c,l){for(var a=[],h=12,d=0;d<l;d+=1){var f=Un.getTag(c,h),p=Un.getULong(c,h+4),g=Un.getULong(c,h+8),m=Un.getULong(c,h+12);a.push({tag:f,checksum:p,offset:g,length:m,compression:!1}),h+=16}return a}function io(c,l){if("WOFF"===l.compression){var a=new Uint8Array(c.buffer,l.offset+2,l.compressedLength-2),h=new Uint8Array(l.length);if(gkt(a,h),h.byteLength!==l.length)throw new Error("Decompression error: "+l.tag+" decompressed length doesn't match recorded length");return{data:new DataView(h.buffer,0),offset:0}}return{data:c,offset:l.offset}}function uG(c,l){l=l??{};var a,h,p,d=new ds({empty:!0}),f=new DataView(c,0),g=[],m=Un.getTag(f,0);if(m===String.fromCharCode(0,1,0,0)||"true"===m||"typ1"===m)d.outlinesFormat="truetype",g=LTe(f,p=Un.getUShort(f,4));else if("OTTO"===m)d.outlinesFormat="cff",g=LTe(f,p=Un.getUShort(f,4));else{if("wOFF"!==m)throw new Error("Unsupported OpenType signature "+m);var v=Un.getTag(f,4);if(v===String.fromCharCode(0,1,0,0))d.outlinesFormat="truetype";else{if("OTTO"!==v)throw new Error("Unsupported OpenType flavor "+m);d.outlinesFormat="cff"}g=function DMt(c,l){for(var a=[],h=44,d=0;d<l;d+=1){var f=Un.getTag(c,h),p=Un.getULong(c,h+4),g=Un.getULong(c,h+8),m=Un.getULong(c,h+12);a.push({tag:f,offset:p,compression:g<m&&"WOFF",compressedLength:g,length:m}),h+=20}return a}(f,p=Un.getUShort(f,12))}for(var _,y,b,O,C,S,w,x,T,D,k,P,N=0;N<p;N+=1){var F=g[N],L=void 0;switch(F.tag){case"cmap":L=io(f,F),d.tables.cmap=_xe_parse(L.data,L.offset),d.encoding=new bxe(d.tables.cmap);break;case"cvt ":L=io(f,F),P=new Un.Parser(L.data,L.offset),d.tables.cvt=P.parseShortList(F.length/2);break;case"fvar":y=F;break;case"fpgm":L=io(f,F),P=new Un.Parser(L.data,L.offset),d.tables.fpgm=P.parseByteList(F.length);break;case"head":L=io(f,F),d.tables.head=Rxe_parse(L.data,L.offset),d.unitsPerEm=d.tables.head.unitsPerEm,a=d.tables.head.indexToLocFormat;break;case"hhea":L=io(f,F),d.tables.hhea=Lxe_parse(L.data,L.offset),d.ascender=d.tables.hhea.ascender,d.descender=d.tables.hhea.descender,d.numberOfHMetrics=d.tables.hhea.numberOfHMetrics;break;case"hmtx":w=F;break;case"ltag":L=io(f,F),h=Fxe_parse(L.data,L.offset);break;case"COLR":L=io(f,F),d.tables.colr=Xxe_parse(L.data,L.offset);break;case"CPAL":L=io(f,F),d.tables.cpal=Yxe_parse(L.data,L.offset);break;case"maxp":L=io(f,F),d.tables.maxp=Bxe_parse(L.data,L.offset),d.numGlyphs=d.tables.maxp.numGlyphs;break;case"name":D=F;break;case"OS/2":L=io(f,F),d.tables.os2=Yj_parse(L.data,L.offset);break;case"post":L=io(f,F),d.tables.post=Zxe_parse(L.data,L.offset),d.glyphNames=new Hj(d.tables.post);break;case"prep":L=io(f,F),P=new Un.Parser(L.data,L.offset),d.tables.prep=P.parseByteList(F.length);break;case"glyf":b=F;break;case"loca":T=F;break;case"CFF ":_=F;break;case"kern":x=F;break;case"GDEF":O=F;break;case"GPOS":C=F;break;case"GSUB":S=F;break;case"meta":k=F}}var $=io(f,D);if(d.tables.name=Wxe_parse($.data,$.offset,h),d.names=d.tables.name,b&&T){var U=0===a,z=io(f,T),ee=xMt_parse(z.data,z.offset,d.numGlyphs,U),te=io(f,b);d.glyphs=lTe.parse(te.data,te.offset,ee,d,l)}else{if(!_)throw new Error("Font doesn't contain TrueType or CFF outlines.");var B=io(f,_);Ixe_parse(B.data,B.offset,d,l)}var j=io(f,w);if(Nxe_parse(d,j.data,j.offset,d.numberOfHMetrics,d.numGlyphs,d.glyphs,l),function Nkt(c,l){l.lowMemory?function Lkt(c){c._IndexToUnicodeMap={};for(var l=c.tables.cmap.glyphIndexMap,a=Object.keys(l),h=0;h<a.length;h+=1){var d=a[h],f=l[d];void 0===c._IndexToUnicodeMap[f]?c._IndexToUnicodeMap[f]={unicodes:[parseInt(d)]}:c._IndexToUnicodeMap[f].unicodes.push(parseInt(d))}}(c):function Rkt(c){for(var l,a=c.tables.cmap.glyphIndexMap,h=Object.keys(a),d=0;d<h.length;d+=1){var f=h[d];(l=c.glyphs.get(a[f])).addUnicode(parseInt(f))}for(var g=0;g<c.glyphs.length;g+=1)l=c.glyphs.get(g),c.cffEncoding?l.name=c.isCIDFont?"gid"+g:c.cffEncoding.charset[g]:c.glyphNames.names&&(l.name=c.glyphNames.glyphIndexToName(g))}(c)}(d,l),x){var W=io(f,x);d.kerningPairs=SMt_parse(W.data,W.offset)}else d.kerningPairs={};if(O){var q=io(f,O);d.tables.gdef=gMt_parse(q.data,q.offset)}if(C){var G=io(f,C);d.tables.gpos=yMt_parse(G.data,G.offset),d.position.init()}if(S){var K=io(f,S);d.tables.gsub=jxe_parse(K.data,K.offset)}if(y){var J=io(f,y);d.tables.fvar=lMt_parse(J.data,J.offset,d.names)}if(k){var ie=io(f,k);d.tables.meta=Gxe_parse(ie.data,ie.offset),d.metas=d.tables.meta}return d}var PMt=Object.freeze({__proto__:null,Font:ds,Glyph:Au,Path:Qo,BoundingBox:fg,_parse:Un,parse:uG,load:function MMt(c,l,a){a=a??{};var d=typeof window>"u"&&!a.isUrl?TMt:kMt;return new Promise(function(f,p){d(c,function(g,m){if(g){if(l)return l(g);p(g)}var v;try{v=uG(m,a)}catch(_){if(l)return l(_,null);p(_)}if(l)return l(null,v);f(v)})})},loadSync:function EMt(c,l){return uG(iTe(require("fs").readFileSync(c)),l)}});const NTe=PMt;class AMt extends SR{constructor(l){super(l),this.reversed=!1}load(l,a,h,d){const f=this,p=new dg(this.manager);p.setPath(this.path),p.setResponseType("arraybuffer"),p.setRequestHeader(this.requestHeader),p.setWithCredentials(this.withCredentials),p.load(l,function(g){try{a(f.parse(g))}catch(m){d?d(m):console.error(m),f.manager.itemError(l)}},h,d)}parse(l){function h(d){const f=[];let p;d.forEach(function(m){"m"===m.type.toLowerCase()?(p=[m],f.push(p)):"z"!==m.type.toLowerCase()&&p.push(m)});const g=[];return f.forEach(function(m){g.push({type:"m",x:m[m.length-1].x,y:m[m.length-1].y});for(let _=m.length-1;_>0;_--){const y=m[_],b={type:y.type};void 0!==y.x2&&void 0!==y.y2?(b.x1=y.x2,b.y1=y.y2,b.x2=y.x1,b.y2=y.y1):void 0!==y.x1&&void 0!==y.y1&&(b.x1=y.x1,b.y1=y.y1),b.x=m[_-1].x,b.y=m[_-1].y,g.push(b)}}),g}return typeof NTe>"u"?(console.warn("THREE.TTFLoader: The loader requires opentype.js. Make sure it's included before using the loader."),null):function a(d,f){const p=Math.round,g={},m=1e5/(72*(d.unitsPerEm||2048)),v=d.encoding.cmap.glyphIndexMap,_=Object.keys(v);for(let y=0;y<_.length;y++){const b=_[y],O=d.glyphs.glyphs[v[b]];if(void 0!==b){const C={ha:p(O.advanceWidth*m),x_min:p(O.xMin*m),x_max:p(O.xMax*m),o:""};f&&(O.path.commands=h(O.path.commands)),O.path.commands.forEach(function(S){"c"===S.type.toLowerCase()&&(S.type="b"),C.o+=S.type.toLowerCase()+" ",void 0!==S.x&&void 0!==S.y&&(C.o+=p(S.x*m)+" "+p(S.y*m)+" "),void 0!==S.x1&&void 0!==S.y1&&(C.o+=p(S.x1*m)+" "+p(S.y1*m)+" "),void 0!==S.x2&&void 0!==S.y2&&(C.o+=p(S.x2*m)+" "+p(S.y2*m)+" ")}),g[String.fromCodePoint(O.unicode)]=C}}return{glyphs:g,familyName:d.getEnglishName("fullName"),ascender:p(d.ascender*m),descender:p(d.descender*m),underlinePosition:d.tables.post.underlinePosition,underlineThickness:d.tables.post.underlineThickness,boundingBox:{xMin:d.tables.head.xMin,xMax:d.tables.head.xMax,yMin:d.tables.head.yMin,yMax:d.tables.head.yMax},resolution:1e3,original_font_information:d.tables.name}}(NTe.parse(l),this.reversed)}}class FTe{constructor(l){this.isFont=!0,this.type="Font",this.data=l}generateShapes(l,a=100){const h=[],d=function IMt(c,l,a){const h=Array.from(c),d=l/a.resolution,f=(a.boundingBox.yMax-a.boundingBox.yMin+a.underlineThickness)*d,p=[];let g=0,m=0;for(let v=0;v<h.length;v++){const _=h[v];if("\n"===_)g=0,m-=f;else{const y=RMt(_,d,g,m,a);g+=y.offsetX,p.push(y.path)}}return p}(l,a,this.data);for(let f=0,p=d.length;f<p;f++)h.push(...d[f].toShapes());return h}}function RMt(c,l,a,h,d){const f=d.glyphs[c]||d.glyphs["?"];if(!f)return void console.error('THREE.Font: character "'+c+'" does not exists in font family '+d.familyName+".");const p=new QTt;let g,m,v,_,y,b,O,C;if(f.o){const S=f._cachedOutline||(f._cachedOutline=f.o.split(" "));for(let w=0,x=S.length;w<x;)switch(S[w++]){case"m":g=S[w++]*l+a,m=S[w++]*l+h,p.moveTo(g,m);break;case"l":g=S[w++]*l+a,m=S[w++]*l+h,p.lineTo(g,m);break;case"q":v=S[w++]*l+a,_=S[w++]*l+h,y=S[w++]*l+a,b=S[w++]*l+h,p.quadraticCurveTo(y,b,v,_);break;case"b":v=S[w++]*l+a,_=S[w++]*l+h,y=S[w++]*l+a,b=S[w++]*l+h,O=S[w++]*l+a,C=S[w++]*l+h,p.bezierCurveTo(y,b,O,C,v,_)}}return{offsetX:f.ha*l,path:p}}class LMt extends BC{constructor(l,a={}){const h=a.font;if(void 0===h)super();else{const d=h.generateShapes(l,a.size);a.depth=void 0!==a.height?a.height:50,void 0===a.bevelThickness&&(a.bevelThickness=10),void 0===a.bevelSize&&(a.bevelSize=8),void 0===a.bevelEnabled&&(a.bevelEnabled=!1),super(d,a)}this.type="TextGeometry"}}var Cr=function(c){return c[c.Left=0]="Left",c[c.Right=1]="Right",c[c.Middle=2]="Middle",c}(Cr||{});class NMt{scale=1;width=100;height=100;delta=10;lineWidth=1;lineSizeExtra=1;setWidth(l){return this.width=l,this}setHeight(l){return this.height=l,this}setDelta(l){return this.delta=l,this}clearAll(){return this}}class hG{name;vertexes;constructor(l,a){this.name=l,this.vertexes=a}static builder(){return new hG("",null)}setName(l){return this.name=l,this}setVertexes(l){return this.vertexes=l,this}}class FMt{\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(l){return 1/(l*(Math.sqrt(5)+1)/2)}toDegrees(l){return l/Math.PI*180}translation(l,a,h){return(new Vi).makeTranslation(l,a,h)}zRotation(l,a,h,d){const f=new Vi;f.makeRotationZ(l);const p=new Vi;p.makeTranslation(a,h,0);const g=new Vi;return g.identity(),d&&g.scale(d),g.multiply(f.multiply(p))}extrudeShape(l){const h={steps:1,bevelEnabled:!1,extrudePath:new twe([new ae(0,0,-.1),new ae(0,0,0)])};return new BC(l,h)}extrudePath(l,a,h,d){let f=-a+Math.PI/2,p=[-h,d];const g=[],m=this.zRotation(f,p[0],p[1]);l.forEach(_=>{let b=new Dr(_[0],_[1],0,1).applyMatrix4(m);g.push(new _t(b.x,b.y))});const v=new cg(g);return this.extrudeShape(v)}createTrost(l,a=0,h=0,d=0,f=0,p=0){let g=l.delta/2/4,m=l.height*(1-h)*.8;return this.extrudePath([[-g,0],[-g,m+3*g],[g,m+3*g],[g,0],[-g,0]],.05*Math.PI,4*-l.delta,-l.height/2)}createKopie(l,a=0,h=0,d=0,f=0,p=0){let g=l.delta/2/4,m=l.height*(1-h)*.8;return this.extrudePath([[-g,0],[-g,m+3*g],[g,m+3*g],[g,0],[-g,0]],-.05*Math.PI,4*+l.delta,-l.height/2)}createTri1(l,a,h=0,d=0,f=0,p=0,g=0){let m=a.delta/2/4,v=a.height*(1-d)*.8;return this.extrudePath([[4*-m/2,+v-2*m],[0,+v+2*m],[4*+m/2,+v-2*m],[4*-m/2,+v-2*m]],180*l/20*1/180*Math.PI,l*-a.delta*4,-a.height/2)}createTri2(l,a,h=0,d=0,f=0,p=0,g=0){let m=a.delta/2/4,v=a.height*(1-d)*.8;return this.extrudePath([[4*-m/2,+v-6*m],[0,+v-2*m],[4*+m/2,+v-6*m],[4*-m/2,+v-6*m]],180*l/20*1/180*Math.PI,l*-a.delta*4,-a.height/2)}createTrostNakonechnik(l,a,h=0,d=0,f=0,p=0,g=0){let m=a.delta/2/4,v=a.height*(1-d)*.8,_=a.delta,y=a.height,b=new cg;b.moveTo(0,+v+2*m);let S=.5,w=[[0,+v+2*m],[5*-m*S,+v+2*m],[5*-m,+v+2*m],[5*-m,+v+8*m],[5*-m,+v+16*m],[5*-m*S,+v+16*m],[0,+v+16*m],[5*+m*S,+v+16*m],[5*+m,+v+16*m],[5*+m,+v+8*m],[5*+m,+v+2*m],[5*+m*S,+v+2*m],[0,+v+2*m]],k=-180*l/20*1/180*Math.PI+Math.PI/2,P=[-l*-_*4,-y/2];const F=this.zRotation(k,P[0],P[1]);let L=w.map($=>{let z=new Dr($[0],$[1],0,1).applyMatrix4(F);return new _t(z.x,z.y)});return b.moveTo(L[0].x,L[0].y),b.bezierCurveTo(L[1].x,L[1].y,L[2].x,L[2].y,L[3].x,L[3].y),b.bezierCurveTo(L[4].x,L[4].y,L[5].x,L[5].y,L[6].x,L[6].y),b.bezierCurveTo(L[7].x,L[7].y,L[8].x,L[8].y,L[9].x,L[9].y),b.bezierCurveTo(L[10].x,L[10].y,L[11].x,L[11].y,L[12].x,L[12].y),this.extrudeShape(b)}createTri3_2(l,a,h=0,d=0,f=0,p=0,g=0){let m=a.delta/2/4,v=a.height*(1-d)*.8;return this.extrudePath([[0,+v+2*m],[5*-m,+v+2*m],[5*-m,+v+16*m],[0,+v+16*m],[5*+m,+v+16*m],[5*+m,+v+2*m],[0,+v+2*m]],180*l/20*1/180*Math.PI,l*-a.delta*4,-a.height/2)}createKopieNakonechnik(l,a,h=0,d=0,f=0,p=0,g=0){let m=a.delta/2/4,v=a.height*(1-d)*.8;return this.extrudePath([[0,+v-2*m],[2*-m,+v+2*m],[0,+v+16*m],[2*+m,+v+2*m],[0,+v-2*m]],180*l/20*1/180*Math.PI,l*-a.delta*4,-a.height/2)}createSkull(l,a,h=0,d=0,f=0,p=0,g=0){let _=a.delta,y=a.height,b=new cg,T=0*a.delta/4/2,k=(jt,Xt)=>Xt*(1.75*a.delta+2*jt),P=(jt,Xt)=>Xt*(1.75*a.delta+2*jt)*.8,te=.7*k(T,1)/2*.5,B=.7*P(T,1)/2*.5,q=(k(T,1),P(T,1),k(T,1)),G=P(T,1),J=.275*q,ie=.9*q/4,re=B/4*2,he=te/4*2,ke=(jt,Xt,fe,xt,Gt)=>[[Xt/2,0],[Xt-xt,0],[Xt,Gt],[Xt,fe/2],[Xt,fe-Gt],[Xt-xt,fe],[Xt/2,fe],[xt,fe],[0,fe-Gt],[0,fe/2],[0,Gt],[xt,0],[Xt/2,0]].map(Be=>[Be[0]+jt.x,Be[1]+jt.y]),Ve=Math.PI/4+Math.PI/2,nt=[q/2,-G/2],$e=this.zRotation(Ve,-nt[0],nt[1],new ae(-1,1,1)),it=this.zRotation(Math.PI/2,0,-y/2-2*_-_/4),pt=(jt=new _t(0,0),Xt=q,fe=G,xt=te,Gt=B,[[Xt/2,0],[Xt-xt,0],[Xt,Gt],[Xt,fe/2],[Xt,fe-Gt],[Xt/2+Xt/6+.16*Xt,fe-Gt],[Xt/2+Xt/6+.16*Xt,fe],[Xt/2+Xt/6+.16*Xt,fe+Gt],[Xt/2-Xt/4+.16*Xt,fe+Gt],[Xt/2-Xt/4+.16*Xt,fe],[Xt/2-Xt/4+.16*Xt,fe-Gt],[0,fe-Gt],[0,fe/2],[0,Gt],[xt,0],[Xt/2,0]].map(Be=>[Be[0]+jt.x,Be[1]+jt.y])).map(jt=>{let xt=new Dr(jt[0],jt[1],0,1).applyMatrix4($e).applyMatrix4(it);return new _t(xt.x,xt.y)});var jt,Xt,fe,xt,Gt;b.moveTo(pt[0].x,pt[0].y),b.bezierCurveTo(pt[1].x,pt[1].y,pt[2].x,pt[2].y,pt[3].x,pt[3].y),b.bezierCurveTo(pt[4].x,pt[4].y,pt[5].x,pt[5].y,pt[6].x,pt[6].y),b.bezierCurveTo(pt[7].x,pt[7].y,pt[8].x,pt[8].y,pt[9].x,pt[9].y),b.bezierCurveTo(pt[10].x,pt[10].y,pt[11].x,pt[11].y,pt[12].x,pt[12].y),b.bezierCurveTo(pt[13].x,pt[13].y,pt[14].x,pt[14].y,pt[15].x,pt[15].y);let rt=ke(new _t(q/2-q/6,G/3),J,ie,he,re).map(jt=>{let xt=new Dr(jt[0],jt[1],0,1).applyMatrix4($e).applyMatrix4(it);return new _t(xt.x,xt.y)}),Re=new $v;Re.moveTo(rt[0].x,rt[0].y),Re.bezierCurveTo(rt[1].x,rt[1].y,rt[2].x,rt[2].y,rt[3].x,rt[3].y),Re.bezierCurveTo(rt[4].x,rt[4].y,rt[5].x,rt[5].y,rt[6].x,rt[6].y),Re.bezierCurveTo(rt[7].x,rt[7].y,rt[8].x,rt[8].y,rt[9].x,rt[9].y),Re.bezierCurveTo(rt[10].x,rt[10].y,rt[11].x,rt[11].y,rt[12].x,rt[12].y),b.holes.push(Re);let ot=ke(new _t(q/2+q/6,G/3),J,ie,he,re).map(jt=>{let xt=new Dr(jt[0],jt[1],0,1).applyMatrix4($e).applyMatrix4(it);return new _t(xt.x,xt.y)}),nn=new $v;nn.moveTo(ot[0].x,ot[0].y),nn.bezierCurveTo(ot[1].x,ot[1].y,ot[2].x,ot[2].y,ot[3].x,ot[3].y),nn.bezierCurveTo(ot[4].x,ot[4].y,ot[5].x,ot[5].y,ot[6].x,ot[6].y),nn.bezierCurveTo(ot[7].x,ot[7].y,ot[8].x,ot[8].y,ot[9].x,ot[9].y),nn.bezierCurveTo(ot[10].x,ot[10].y,ot[11].x,ot[11].y,ot[12].x,ot[12].y),b.holes.push(nn);let ri=q/4*.6,Oe=.9*q/4,ge=.2*ri,vt=.2*Oe,Et=((jt,Xt,fe,xt,Gt)=>[[Xt/2,0],[Xt/2+xt,0],[Xt,fe-Gt],[Xt,fe],[Xt,fe+Gt],[0,fe+Gt],[0,fe],[0,fe-Gt],[Xt/2-xt,0],[Xt/2,0]].map(Be=>[Be[0]+jt.x,Be[1]+jt.y]))(new _t(q/2+2*J*.16,G/3*2*.9),ri,Oe,ge,vt).map(jt=>{let xt=new Dr(jt[0],jt[1],0,1).applyMatrix4($e).applyMatrix4(it);return new _t(xt.x,xt.y)}),on=new $v;return on.moveTo(Et[0].x,Et[0].y),on.bezierCurveTo(Et[1].x,Et[1].y,Et[2].x,Et[2].y,Et[3].x,Et[3].y),on.bezierCurveTo(Et[4].x,Et[4].y,Et[5].x,Et[5].y,Et[6].x,Et[6].y),on.bezierCurveTo(Et[7].x,Et[7].y,Et[8].x,Et[8].y,Et[9].x,Et[9].y),b.holes.push(on),this.extrudeShape(b)}createCrossParts(l,a=0,h=0,d=0,f=0,p=0,g=0,m=0,v=0,_=0){let y=[],O=h,C=d||l.width,S=f||l.height,w=l.delta/l.width*C,x=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),T=C*(p||x),D=_||Math.atan2(1-x,.5),k=T*(g||1-x),P=T*(m||1-x),N=T*(m||.25),F=v?S*v+N*Math.tan(D):S-T/2,L=HC.builder(),$=(ee,te,B,j,W,q)=>{L.addPlaneXY(te,B,j,W,q),y.push(hG.builder().setVertexes(L).setName(ee)),L=HC.builder()};$("\u043a\u0440\u0435\u0441\u0442",new ae(-w/2,S/2,0),w,S),$("\u043a\u0440\u0435\u0441\u0442",new ae(-T/2,S/2-(k-w/2),0),T,w),$("\u0418\u0438\u0441\u0443\u0441 \u041d\u0430\u0437\u043e\u0440\u0435\u0439 \u0426\u0430\u0440\u044c \u0418\u0443\u0434\u0435\u0439\u0441\u043a\u0438\u0439",new ae(-P/2,S/2-(O+(g?(T*(g||1-x)-w/2)/2:T*Math.pow(1-x,2))-w/2),0),P,w),$("\u043a\u0440\u0435\u0441\u0442",new ae(-N/2,S/2-(F-N/Math.cos(D)/2)-w,0),N,w/Math.cos(D),0,D);let U=.55*l.width,z=1.5/l.width;return $("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430",new ae(-U/2,-l.height/2+z,0),U,l.delta+z),$("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430",new ae(-U/2-l.delta/2*3,-l.height/2-l.delta+z,0),2.5*l.delta,l.delta+z),$("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430",new ae(+U/2-l.delta,-l.height/2-l.delta+z,0),2.5*l.delta,l.delta+z),$("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430",new ae(-U/2-l.delta/2*3,-l.height/2-2*l.delta+z,0),l.delta,l.delta+z),$("\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430",new ae(+U/2+l.delta/2,-l.height/2-2*l.delta+z,0),l.delta,l.delta+z),y}createCross(l,a=0,h=0,d=0,f=0,p=0,g=0,m=0,v=0,_=0){let y=HC.builder();return y.vertexes=this.createCrossParts(l,a,h,d,f,p,g,m,v,_).flatMap(b=>b.vertexes.vertexes),y}createConfig(){return new NMt}createTextDirect(l,a,h,d,f){let O=new LMt(a,{font:l,size:h,height:h/10,curveSegments:4,bevelThickness:h/100,bevelSize:h/100,bevelEnabled:!1});O.computeBoundingBox(),O.computeVertexNormals();let C=0;switch(f){case Cr.Left:C=0;break;case Cr.Right:C=-(O.boundingBox.max.x-O.boundingBox.min.x);break;case Cr.Middle:C=-.5*(O.boundingBox.max.x-O.boundingBox.min.x)}const S=new vo({color:16777215,transparent:!0});let w=new br(O,S);return w.position.x=d.x-O.boundingBox.min.x+C,w.position.y=d.y,w.position.z=d.z,w.rotation.x=0,w.rotation.y=0,w}createText(l,a,h,d=0,f=0,p=0,g=0,m=0,v=0,_=0,y=0,b=0){let O=(ke,xe,Ie="",Ze=1,Ne=0,Ve=0)=>{l(ke,xe,Ie,Ze,Ne,Ve)},C=p||h.width,S=g||h.height,w=h.delta/h.width*C,x=this.\u0437\u043e\u043b\u043e\u0442\u043e\u0435\u0421\u0435\u0447\u0435\u043d\u0438\u0435(1),T=C*(m||x),D=b||Math.atan2(1-x,.5),k=T*(v||1-x),P=T*(_||1-x),N=T*(_||.25),F=y?S*y+N*Math.tan(D):S-T/2,L=0,$=S/2+4*w,U=this.createTextDirect(a,"\u0426\u0430\u0440\u044c \u0421\u043b\u0430\u0432\u044b",w,new ae(L,$,0),Cr.Middle),z=this.createTextDirect(a,"\u0418\u0438\u0441\u0443\u0441 \u0425\u0440\u0438\u0441\u0442\u043e\u0441",w,new ae(L,$,0),Cr.Middle),ee=this.createTextDirect(a,"\u0421\u044b\u043d \u0411\u043e\u0436\u0438\u0439",w,new ae(L,$,0),Cr.Middle),te=this.createTextDirect(a,"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c",w,new ae(L,$,0),Cr.Middle),B=this.createTextDirect(a,"\u0433\u043e\u0440\u0430 \u0413\u043e\u043b\u0433\u043e\u0444\u0430",w,new ae(L,$,0),Cr.Middle),j=this.createTextDirect(a,"\u043a\u043e\u043f\u0438\u0435",w,new ae(L,$,0),Cr.Middle),W=this.createTextDirect(a,"\u0442\u0440\u043e\u0441\u0442\u044c",w,new ae(L,$,0),Cr.Middle),q=this.createTextDirect(a,"\u0433\u043b\u0430\u0432\u0430 \u0410\u0434\u0430\u043c\u0430",w,new ae(L,$,0),Cr.Middle),G=this.createTextDirect(a,"\u043c\u0435\u0441\u0442\u043e \u043b\u043e\u0431\u043d\u043e\u0435",w,new ae(L,$,0),Cr.Middle),K=this.createTextDirect(a,"\u0440\u0430\u0441\u043f\u044f\u0442 \u0431\u044b\u0441\u0442\u044c",w,new ae(L,$,0),Cr.Middle);L=-P/2,$=S/2+w,O(this.createTextDirect(a,"\u0446\u0440\u0483\u044c",w,new ae(L,$,0),Cr.Right),U),O(this.createTextDirect(a,"\u0441\u043b\u0483\u0432\u044b",w,new ae(L+P,$,0),Cr.Left),U),L=-T/2,$=S/2-(k-w/2)+w/2,O(this.createTextDirect(a,"\u0406\u0421",w,new ae(L,$,0),Cr.Left),z),O(this.createTextDirect(a,"\u0483",w,new ae(L+.2*w,$+.6*w,0),Cr.Left),z),O(this.createTextDirect(a,"\u0425\u0421",w,new ae(L+T,$,0),Cr.Right),z),O(this.createTextDirect(a,"\u0483",w,new ae(L+T-1.1*w,$+.6*w,0),Cr.Left),z),$-=3*w,O(this.createTextDirect(a,"\u0441\u043d\u0483\u044a",w,new ae(L,$,0),Cr.Middle),ee),O(this.createTextDirect(a,"\u0431\u0436\u0483\u0457\u0439",w,new ae(L+T,$,0),Cr.Middle),ee),L=-w/2,$=(S/2-(F-N/Math.cos(D)/2)-w+S/2-(k-w/2)+w/2)/2-w/2,O(this.createTextDirect(a,"\u043d\u0438",w,new ae(L-w/2,$,0),Cr.Right),te),O(this.createTextDirect(a,"\u043a\u0430",w,new ae(L+w+.3*w,$,0),Cr.Left),te);let J=.55*h.width,ie=h.delta,re=ie/2*3/2;L=-J/2,$=-h.height/2,O(this.createTextDirect(a,"\u0433",w,new ae(L-re,$,0),Cr.Middle),B),O(this.createTextDirect(a,"\u0433",w,new ae(L+re+J,$,0),Cr.Middle),B),$=.3*-(k-w/2),O(this.createTextDirect(a,"\u043a",w,new ae(L-re,$,0),Cr.Middle),j),O(this.createTextDirect(a,"\u0442",w,new ae(L+re+J,$,0),Cr.Middle),W),L=-J/2*.5,$=-h.height/2-2.5*ie,O(this.createTextDirect(a,"\u0433",w,new ae(L,$,0),Cr.Middle),q),L=J/2*.5,O(this.createTextDirect(a,"\u0430",w,new ae(L,$,0),Cr.Middle),q);let he=S/2-(F+N*Math.tan(D)/2+h.delta/Math.cos(D)/2),de=S/2-(h.height+F+N*Math.tan(D)/2+h.delta/Math.cos(D)/2)/2;L=-J/2*.5,$=he-w/2,O(this.createTextDirect(a,"\u043c",w,new ae(L,$,0),Cr.Middle),G),L=J/2*.5,O(this.createTextDirect(a,"\u043b",w,new ae(L,$,0),Cr.Middle),G),L=-J/2*.5,$=de-w/2,O(this.createTextDirect(a,"\u0440",w,new ae(L,$,0),Cr.Middle),K),L=J/2*.5,O(this.createTextDirect(a,"\u0431",w,new ae(L,$,0),Cr.Middle),K)}createLeftArrow(l,a,h,d){return this.extrudePath([[a.x,a.y],[a.x,a.y-d],[a.x+l*h,a.y-d/2],[a.x,a.y]],0,0,0)}createRect(l,a,h,d){return this.extrudePath([[a.x,a.y],[a.x,a.y-d],[a.x+l*h,a.y-d],[a.x+l*h,a.y],[a.x,a.y]],0,0,0)}}class BMt{constructor(l,a={}){this.enabled=!0;const h=void 0!==a.defaultThickness?a.defaultThickness:.003,d=(new Cn).fromArray(void 0!==a.defaultColor?a.defaultColor:[0,0,0]),p=void 0!==a.defaultKeepAlive&&a.defaultKeepAlive,g={},v={},_={},y={outlineThickness:{value:h},outlineColor:{value:d},outlineAlpha:{value:void 0!==a.defaultAlpha?a.defaultAlpha:1}},b=["#include <common>","#include <uv_pars_vertex>","#include <displacementmap_pars_vertex>","#include <fog_pars_vertex>","#include <morphtarget_pars_vertex>","#include <skinning_pars_vertex>","#include <logdepthbuf_pars_vertex>","#include <clipping_planes_pars_vertex>","uniform float outlineThickness;","vec4 calculateOutline( vec4 pos, vec3 normal, vec4 skinned ) {","\tfloat thickness = outlineThickness;","\tconst float ratio = 1.0;","\tvec4 pos2 = projectionMatrix * modelViewMatrix * vec4( skinned.xyz + normal, 1.0 );","\tvec4 norm = normalize( pos - pos2 );","\treturn pos + norm * thickness * pos.w * ratio;","}","void main() {","\t#include <uv_vertex>","\t#include <beginnormal_vertex>","\t#include <morphnormal_vertex>","\t#include <skinbase_vertex>","\t#include <skinnormal_vertex>","\t#include <begin_vertex>","\t#include <morphtarget_vertex>","\t#include <skinning_vertex>","\t#include <displacementmap_vertex>","\t#include <project_vertex>","\tvec3 outlineNormal = - objectNormal;","\tgl_Position = calculateOutline( gl_Position, outlineNormal, vec4( transformed, 1.0 ) );","\t#include <logdepthbuf_vertex>","\t#include <clipping_planes_vertex>","\t#include <fog_vertex>","}"].join("\n"),O=["#include <common>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","#include <clipping_planes_pars_fragment>","uniform vec3 outlineColor;","uniform float outlineAlpha;","void main() {","\t#include <clipping_planes_fragment>","\t#include <logdepthbuf_fragment>","\tgl_FragColor = vec4( outlineColor, outlineAlpha );","\t#include <tonemapping_fragment>","\t#include <encodings_fragment>","\t#include <fog_fragment>","\t#include <premultiplied_alpha_fragment>","}"].join("\n");function w(L){const $=function S(L){let $=g[L.uuid];return void 0===$&&($={material:new Tl({type:"OutlineEffect",uniforms:$5.merge([On.fog,On.displacementmap,y]),vertexShader:b,fragmentShader:O,side:Tu}),used:!0,keepAlive:p,count:0},g[L.uuid]=$),$.used=!0,$.material}(L);return v[$.uuid]=L,function N(L,$){if("invisible"===L.name)return;const U=$.userData.outlineParameters;L.fog=$.fog,L.toneMapped=$.toneMapped,L.premultipliedAlpha=$.premultipliedAlpha,L.displacementMap=$.displacementMap,void 0!==U?(L.visible=!1!==$.visible&&(void 0===U.visible||U.visible),L.transparent=void 0!==U.alpha&&U.alpha<1||$.transparent,void 0!==U.keepAlive&&(g[$.uuid].keepAlive=U.keepAlive)):(L.transparent=$.transparent,L.visible=$.visible),(!0===$.wireframe||!1===$.depthTest)&&(L.visible=!1),$.clippingPlanes&&(L.clipping=!0,L.clippingPlanes=$.clippingPlanes,L.clipIntersection=$.clipIntersection,L.clipShadows=$.clipShadows),L.version=$.version}($,L),$}function x(L){const $=L.geometry;let U=!1;return void 0!==L.geometry&&(U=!$.isBufferGeometry||void 0!==$.attributes.normal),!0===L.isMesh&&void 0!==L.material&&!0===U}function T(L){if(!1!==x(L)){if(Array.isArray(L.material))for(let $=0,U=L.material.length;$<U;$++)L.material[$]=w(L.material[$]);else L.material=w(L.material);_[L.uuid]=L.onBeforeRender,L.onBeforeRender=k}}function D(L){if(!1!==x(L)){if(Array.isArray(L.material))for(let $=0,U=L.material.length;$<U;$++)L.material[$]=v[L.material[$].uuid];else L.material=v[L.material.uuid];L.onBeforeRender=_[L.uuid]}}function k(L,$,U,z,ee){const te=v[ee.uuid];void 0!==te&&function P(L,$){const U=$.userData.outlineParameters;L.uniforms.outlineAlpha.value=$.opacity,void 0!==U&&(void 0!==U.thickness&&(L.uniforms.outlineThickness.value=U.thickness),void 0!==U.color&&L.uniforms.outlineColor.value.fromArray(U.color),void 0!==U.alpha&&(L.uniforms.outlineAlpha.value=U.alpha)),$.displacementMap&&(L.uniforms.displacementMap.value=$.displacementMap,L.uniforms.displacementScale.value=$.displacementScale,L.uniforms.displacementBias.value=$.displacementBias)}(ee,te)}this.render=function(L,$){let U,z=!1;if(void 0!==arguments[2]&&(console.warn("THREE.OutlineEffect.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),U=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.OutlineEffect.render(): the forceClear argument has been removed. Use .clear() instead."),z=arguments[3]),void 0!==U&&l.setRenderTarget(U),z&&l.clear(),!1===this.enabled)return void l.render(L,$);const ee=l.autoClear;l.autoClear=this.autoClear,l.render(L,$),l.autoClear=ee,this.renderOutline(L,$)},this.renderOutline=function(L,$){const U=l.autoClear,z=L.autoUpdate,ee=L.background,te=l.shadowMap.enabled;L.autoUpdate=!1,L.background=null,l.autoClear=!1,l.shadowMap.enabled=!1,L.traverse(T),l.render(L,$),L.traverse(D),function F(){let L;L=Object.keys(v);for(let $=0,U=L.length;$<U;$++)v[L[$]]=void 0;L=Object.keys(_);for(let $=0,U=L.length;$<U;$++)_[L[$]]=void 0;L=Object.keys(g);for(let $=0,U=L.length;$<U;$++){const z=L[$];!1===g[z].used?(g[z].count++,!1===g[z].keepAlive&&g[z].count>60&&delete g[z]):(g[z].used=!1,g[z].count=0)}}(),L.autoUpdate=z,L.background=ee,l.autoClear=U,l.shadowMap.enabled=te},this.autoClear=l.autoClear,this.domElement=l.domElement,this.shadowMap=l.shadowMap,this.clear=function(L,$,U){l.clear(L,$,U)},this.getPixelRatio=function(){return l.getPixelRatio()},this.setPixelRatio=function(L){l.setPixelRatio(L)},this.getSize=function(L){return l.getSize(L)},this.setSize=function(L,$,U){l.setSize(L,$,U)},this.setViewport=function(L,$,U,z){l.setViewport(L,$,U,z)},this.setScissor=function(L,$,U,z){l.setScissor(L,$,U,z)},this.setScissorTest=function(L){l.setScissorTest(L)},this.setRenderTarget=function(L){l.setRenderTarget(L)}}}class GR{names;selected;constructor(l,a){this.names=l,this.selected=a}static builder(){return new GR([],"")}setNames(l){return this.names=l,this}setSelected(l){return this.selected=l,this}}class dG{meshText;mesh;infoText;d;x;y;constructor(l,a,h="",d=1,f=0,p=0){this.meshText=l,this.mesh=a,this.infoText=h,this.d=d,this.x=f,this.y=p}static builder(){return new dG(null,null)}setMeshText(l){return this.meshText=l,this}setMesh(l){return this.mesh=l,this}setInfoText(l){return this.infoText=l,this}setD(l){return this.d=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}}class XR{mesh;meshVisible;action;update;constructor(l,a,h,d){this.mesh=l,this.meshVisible=a,this.action=h,this.update=d}static builder(){return new XR(null,null,()=>{},()=>{})}setMesh(l){return this.mesh=l,this}setMeshVisible(l){return this.meshVisible=l,this}setAction(l){return this.action=l,this}setUpdate(l){return this.update=l,this}runAction(){return this.action(this),this}runUpdate(){return this.update(this),this}}let VMt=(()=>{class c extends QC{static font3dParamName="font3d";modelGenerator=new FMt;menuEnabled=!1;renderer=null;camera=null;scene=null;light=null;logoMeshes=[];crossMeshes=[];cube=null;group=null;font=null;infoDelayed=[];frameId=null;config=null;raycaster=null;id2Mesh=new Map;infoObject=null;infoStartTime=0;infoAlphaTime=0;infoAlpha=0;infoAlphaIncrement=.001;infoAlphaFadeOutTime=5e3;effect=null;toonMaterial=null;particleLight=null;menuTextScaleTime=0;menuTextScale=1;menuTextScaleSpeed=.001;menuTextMesh=null;menuTextMeshes=[];menuTextMeshesUnderline=[];meshActions=[];dispose(){null!=this.frameId&&cancelAnimationFrame(this.frameId),null!=this.renderer&&(this.renderer.dispose(),this.renderer=null)}getFovInRadians(a,h){let p=15/a;return p<22&&(p=22),2*Math.atan2(p/2,h)}init(a){this.renderer=a,this.recreate()}recreate(){if(!this.renderer)return;this.menuTextMesh=null,this.menuTextMeshes=[],this.menuTextMeshesUnderline=[];let a=this.canvasWidth,h=this.canvasHeight;this.renderer.setSize(a,h),this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.outputEncoding=eo,this.scene=new Vv;let f=this.getFovInRadians(a/h,15);this.camera=new Mo(f/Math.PI*180,a/h,.1,1e3),this.camera.position.z=15,this.camera.lookAt(this.scene.position),this.scene.add(this.camera),this.light=new yk(16777215),this.light.position.z=10,this.scene.add(this.light),this.particleLight=new br(new VC(1,8,8),new vo({color:16746632})),new wj(16777215,2,50);const g=this.renderer.capabilities.isWebGL2?dSe:hSe,y=(new Cn).setHSL(34/255,23/255,240/255),O=new Uint8Array(4);for(let S=0;S<=O.length;S++)O[S]=S/O.length*256;const C=new LC(O,O.length,1,g);C.needsUpdate=!0,this.toonMaterial=new mwe({color:y,gradientMap:C}),this.effect=new BMt(this.renderer,{defaultThickness:.005}),this.createCrossMeshes().forEach((S,w)=>{0==w&&(this.cube=S),this.scene.add(S),this.crossMeshes.push(S)}),this.getLogoText()&&this.scene.remove(...this.crossMeshes),this.menuEnabled&&this.createMenuMeshes().forEach((S,w)=>{this.scene.add(S)}),this.group=new MC,this.group.position.y=0,this.scene.add(this.group),this.font=this.appParamProvider(c.font3dParamName).font,this.font?this.onFontLoaded():(new AMt).load("./fonts/PonomarUnicode.ttf",w=>{this.appParamProvider(c.font3dParamName).font=this.font=new FTe(w),this.onFontLoaded()}),this.raycaster=new zTt}onFontLoaded(){this.font&&this.config&&(this.modelGenerator.createText((a,h,d="",f=1,p=0,g=0)=>this.pushInfo(a,h,d,f,p,g),this.font,this.config,0,0,0,0,1,1-.8,.27,.6,Math.PI/8),this.createMenuText(),this.runPushInfoDelayed(),this.calculateMenuArrows(),this.recreateLogoText())}onMouseMove(a){}onMouseClick(a){this.onMouseClickDIrect(a)}onMouseClickDIrect(a){if(!this.raycaster)return;const h=new _t(this.incrementX(a.clientX)/this.canvasWidth*2-1,-this.incrementY(a.clientY)/this.canvasHeight*2+1);this.raycaster.setFromCamera(h,this.camera);let d=[];this.id2Mesh.forEach((_,y,b)=>{d.push(_)});let f=this.scene.children.filter(_=>this.id2Mesh.has(_.uuid));const p=this.raycaster.intersectObjects(f,!1);let g="",m=!1;if(p.length>0){let _=p[0].object;m="\u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e"==_.userData.text,g=_.uuid}let v=this.meshActions.find(_=>_.mesh?.uuid==g);if(m)this.runMenuItemAction();else if(v)v.runAction();else if(g){let _=p[0].object;_.material.wireframe=!_.material.wireframe,_.material.opacity=this.infoAlpha=0,this.infoStartTime=this.infoAlphaTime=(new Date).getTime(),this.id2Mesh.forEach((b,O,C)=>{b.visible=!1}),this.id2Mesh.forEach((b,O,C)=>{O==g&&(b.visible=!0,this.infoObject=b)})}}onResize(){const a=this.canvasWidth,h=this.canvasHeight;this.camera.aspect=a/h,this.camera.updateProjectionMatrix(),this.renderer.setSize(a,h)}render(){if(this.frameId=requestAnimationFrame(()=>{this.render()}),this.camera&&(this.camera.fov=180/Math.PI*this.getFovInRadians(this.canvasWidth/this.canvasHeight,this.camera.position.z)),this.group&&this.cube&&(this.group.rotation.y=this.cube.rotation.y),this.infoObject){let d=this.infoObject;const f=new Date;let p=this.infoAlphaTime?f.getTime()-this.infoAlphaTime:0;this.infoAlphaTime=f.getTime(),this.infoAlpha+=p*this.infoAlphaIncrement*(this.infoAlphaTime-this.infoStartTime>this.infoAlphaFadeOutTime?-1:1),this.infoAlpha<0&&(this.infoAlpha=0),this.infoAlpha>1&&(this.infoAlpha=1),d.material.opacity=this.infoAlpha,this.infoAlphaTime-this.infoStartTime>this.infoAlphaFadeOutTime&&0==this.infoAlpha&&(this.infoObject.visible=!1,this.infoObject=null)}this.calculateMenuTextScale();const a=25e-5*Date.now();this.particleLight.position.x=13*Math.sin(7*a)/2,this.particleLight.position.y=14*Math.cos(5*a)/2,this.particleLight.position.z=13*Math.cos(3*a)/2,this.effect?this.effect.render(this.scene,this.camera):this.renderer.render(this.scene,this.camera)}getMenuItems(){let a=this.getParam("\u043f\u0443\u043d\u043a\u0442\u044b");return null==a&&(a=GR.builder().setNames(["\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a","\u041a\u043d\u0438\u0433\u0438","\u041f\u0440\u0438\u043c\u0435\u0440\u044b 3D"]).setSelected("")),a}getLogoText(){let a=this.menuTextMesh?.userData.text;if(!a){let h=this.getMenuItems();a=h.selected,!a&&h.names.length>0&&(a=h.names[0])}return this.appLogoTextProvider(a||"")}recreateLogoText(){this.scene?.remove(...this.logoMeshes),this.logoMeshes=[],this.getLogoText()?(this.getLogoText()&&this.scene?.remove(...this.crossMeshes),this.createLogoText()):this.scene?.add(...this.crossMeshes)}createLogoText(){let h=this.getLogoText().split("|"),f=10/3,p=this.addLogoText(h[0],0,f);this.addLogoText(h[1],0,f-1.5*p),((_,y,b=!0)=>{const O=this.toonMaterial?this.toonMaterial:new vo({color:16777215});let C=new br(_,O);_.computeBoundingBox(),this.scene?.add(C),this.logoMeshes.push(C),C.visible=b,C.userData={material:O,text:y}})(this.modelGenerator.createRect(1,new ae(-5,f-p+.25,0),10,.5),"\u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043b\u0438\u043d\u0438\u044f",!0)}createMenuText(){if(!this.menuEnabled)return;let a=this.getMenuItems();a.names.forEach((h,d,f)=>this.addMenuText(h,h==a.selected||!!a.selected&&!this.menuTextMesh&&d+1==f.length||!a.selected&&0==d))}addLogoText(a,h,d){let p=2.5,g=this.modelGenerator.createTextDirect(this.font,a,p,new ae(h,d-p/2,0),Cr.Middle);if(g.geometry.boundingBox){let m=g.geometry.boundingBox.max.x-g.geometry.boundingBox.min.x;if(m>10){let v=10/m;g.scale.set(v,v,v),p*=v,g.position.set(h-m*v/2,d-p/2,0)}}return this.scene?.add(g),this.logoMeshes.push(g),g.visible=!0,g.userData={text:a},p}addMenuText(a,h){let x=this.modelGenerator.createTextDirect(this.font,a,2.4,new ae(0,-10.066666666666666,0),Cr.Middle);this.scene?.add(x),this.menuTextMeshes.push(x),x.visible=!1,x.userData={text:a},!this.menuTextMesh&&h&&(this.menuTextMesh=x,this.menuTextMesh.visible=!0)}calculateMenuTextScale(){if(!this.menuTextMesh)return;let _=.26666666666666666,O=(new Date).getTime(),C=this.menuTextScaleTime?O-this.menuTextScaleTime:0;if(this.menuTextScaleTime=O,this.menuTextMesh.geometry.boundingBox){let S=this.menuTextMesh.geometry.boundingBox.max.x-this.menuTextMesh.geometry.boundingBox.min.x;if(S>10-2*_){let w=(10-2*_)/S,x=w-this.menuTextScale,T=C*this.menuTextScaleSpeed*(x<0?-1:1);Math.abs(x)<Math.abs(T)?this.menuTextScale=w:this.menuTextScale+=T}else{let x=2.4/(this.menuTextMesh.geometry.boundingBox.max.y-this.menuTextMesh.geometry.boundingBox.min.y),T=x-this.menuTextScale,D=C*this.menuTextScaleSpeed*(T<0?-1:1);Math.abs(T)<Math.abs(D)?this.menuTextScale=x:this.menuTextScale+=D}this.menuTextMesh.position.x=(-S/2-this.menuTextMesh.geometry.boundingBox.min.x)*this.menuTextScale,this.menuTextMesh.position.y=-9.666666666666666}this.menuTextMesh.scale.set(this.menuTextScale,this.menuTextScale,this.menuTextScale)}createMenuMeshes(){let h=10/15,m=0,v=-5-4*h,_=2*h,y=4*h,b=[];const C=new vo({color:16777215,wireframe:!0});let S=(T,D,k=!0)=>{const P=this.toonMaterial?this.toonMaterial:new vo({color:16777215});let N=new br(T,P);return T.computeBoundingBox(),b.push(N),N.visible=k,N.userData={material:P,materialWireframe:C,text:D},this.pushInfoDelayed(N,null,D,h,0,7.666666666666666),N};m=-5,S(this.modelGenerator.createRect(1,new ae(m,v,0),10,y),"\u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e",!1);let w=y/10,x=y/10;return this.getMenuItems().names.forEach((T,D,k)=>{let N=(10-w)/k.length;this.menuTextMeshesUnderline.push(S(this.modelGenerator.createRect(1,new ae(m+N*D+w,v-y+x,0),N-w,x),"\u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e"))}),S(this.modelGenerator.createLeftArrow(-1,new ae(m,v,0),_,y),"\u043c\u0435\u043d\u044e \u0432\u043b\u0435\u0432\u043e"),m=5,S(this.modelGenerator.createLeftArrow(1,new ae(m,v,0),_,y),"\u043c\u0435\u043d\u044e \u0432\u043f\u0440\u0430\u0432\u043e"),b}createCrossMeshes(){let h=10/15,d=this.modelGenerator.createConfig().setWidth(10).setHeight(10).setDelta(h);this.config=d;let m=5+4*h;new vo({color:0,wireframe:!0,transparent:!0});let y=this.modelGenerator.createCrossParts(d,0,0,0,0,1,1-.8,.27,.6,Math.PI/8).map(O=>{const C=new Ji;C.setAttribute("position",new to(new Float32Array(O.vertexes.toPlainArray()),3)),C.setAttribute("normal",new to(new Float32Array(O.vertexes.toPlainArray(Zv.Normals)),3)),C.setAttribute("uv",new to(new Float32Array(O.vertexes.toPlainArray(Zv.UV)),2)),C.computeBoundingBox();const S=this.toonMaterial?this.toonMaterial:new vo({color:16777215}),w=new br(C,S);return this.pushInfoDelayed(w,null,O.name,h,0,m),w}),b=(O,C)=>{const S=this.toonMaterial?this.toonMaterial:new vo({color:16777215});let w=new br(O,S);O.computeBoundingBox(),y.push(w),this.pushInfoDelayed(w,null,C,h,0,m)};return b(this.modelGenerator.createTrost(d,1,1-.8,.27,.6,Math.PI/8),"\u0442\u0440\u043e\u0441\u0442\u044c"),b(this.modelGenerator.createTri1(1,d,1,1-.8,.27,.6,Math.PI/8),"\u0442\u0440\u043e\u0441\u0442\u044c"),b(this.modelGenerator.createTri2(1,d,1,1-.8,.27,.6,Math.PI/8),"\u0442\u0440\u043e\u0441\u0442\u044c"),b(this.modelGenerator.createKopie(d,-1,1-.8,.27,.6,Math.PI/8),"\u043a\u043e\u043f\u0438\u0435"),b(this.modelGenerator.createTri1(-1,d,1,1-.8,.27,.6,Math.PI/8),"\u043a\u043e\u043f\u0438\u0435"),b(this.modelGenerator.createTri2(-1,d,1,1-.8,.27,.6,Math.PI/8),"\u043a\u043e\u043f\u0438\u0435"),b(this.modelGenerator.createTrostNakonechnik(1,d,1,1-.8,.27,.6,Math.PI/8),"\u0442\u0440\u043e\u0441\u0442\u044c"),b(this.modelGenerator.createKopieNakonechnik(-1,d,1,1-.8,.27,.6,Math.PI/8),"\u043a\u043e\u043f\u0438\u0435"),b(this.modelGenerator.createSkull(-1,d,1,1-.8,.27,.6,Math.PI/8),"\u0433\u043b\u0430\u0432\u0430 \u0410\u0434\u0430\u043c\u0430"),y}pushInfoDelayed(a,h,d="",f=1,p=0,g=0){this.infoDelayed.push(dG.builder().setMeshText(a).setMesh(h).setInfoText(d).setD(f).setX(p).setY(g))}runPushInfoDelayed(){this.infoDelayed.forEach(a=>{a.meshText&&this.pushInfo(a.meshText,a.mesh,a.infoText,a.d,a.x,a.y)}),this.infoDelayed=[]}pushInfo(a,h,d="",f=1,p=0,g=0){if(d&&(h=this.modelGenerator.createTextDirect(this.font,d,f,new ae(p,g,0),Cr.Middle)),!h)return;d||(this.scene?.add(a),this.crossMeshes.push(a)),h.visible=!1,this.scene?.add(h),this.crossMeshes.push(h);let m=a.geometry.boundingBox,v=HC.builder();v.addPlaneXY(new ae(m.min.x,m.max.y,m.min.z),m.max.x-m.min.x,m.max.y-m.min.y);let _=new Ji;_.setAttribute("position",new to(new Float32Array(v.toPlainArray()),3));const y=new vo({color:16777215,wireframe:!1});let b=new br(_,y);this.scene?.add(b),b.position.add(a.position),b.visible=!1,b.userData={text:d},this.id2Mesh.set(b.uuid,h),"\u043c\u0435\u043d\u044e \u0432\u043b\u0435\u0432\u043e"==d&&this.meshActions.push(XR.builder().setMesh(b).setMeshVisible(a).setAction(()=>this.onPrevMenu()).setUpdate(C=>{if(this.menuTextMesh){let S=this.menuTextMeshes.indexOf(this.menuTextMesh);C.meshVisible&&(C.meshVisible.visible=this.menuTextMeshes.length>1,this.setMeshMaterial(0==S,C.meshVisible))}})),"\u043c\u0435\u043d\u044e \u0432\u043f\u0440\u0430\u0432\u043e"==d&&this.meshActions.push(XR.builder().setMesh(b).setMeshVisible(a).setAction(()=>this.onNextMenu()).setUpdate(C=>{if(this.menuTextMesh){let S=this.menuTextMeshes.indexOf(this.menuTextMesh);C.meshVisible&&(C.meshVisible.visible=this.menuTextMeshes.length>1,this.setMeshMaterial(S+1==this.menuTextMeshes.length,C.meshVisible))}}))}setMeshMaterial(a,h){a?h.material=h.userData.materialWireframe:h&&(h.material=h.userData.material)}calculateMenuArrows(){let a=this.menuTextMeshes.indexOf(this.menuTextMesh);this.menuTextMeshesUnderline.forEach((h,d)=>{this.setMeshMaterial(d!=a,h)}),this.meshActions.forEach(h=>h.runUpdate())}onPrevMenu(){let a=this.menuTextMeshes.indexOf(this.menuTextMesh);a>0&&(--a,this.menuTextMesh&&(this.menuTextMesh.visible=!1),this.menuTextMesh=this.menuTextMeshes[a],this.menuTextMesh.visible=!0,this.calculateMenuArrows(),this.recreateLogoText())}onNextMenu(){let a=this.menuTextMeshes.indexOf(this.menuTextMesh);a+1<this.menuTextMeshes.length&&(++a,this.menuTextMesh&&(this.menuTextMesh.visible=!1),this.menuTextMesh=this.menuTextMeshes[a],this.menuTextMesh.visible=!0,this.calculateMenuArrows(),this.recreateLogoText())}runMenuItemAction(){let a=this.menuTextMesh?.userData.text;this.runAction(a)}}return c})(),fG=(()=>{class c{uiConfig;config;router;constructor(a,h,d){this.uiConfig=a,this.config=h,this.router=d}onLoginCommand(a){let h=a;this.config.setShowNormal(),this.config.defaultApplication=h.id,this.uiConfig.ui.lastLoginApp.setStringValue(h.id);let d=pageRequestedRoute||this.uiConfig.ui.defaultAppRoute.getStringValue();pageRequestedRoute="",h.routes.find(f=>f.link==d)||(d=h.routes[0].link),this.uiConfig.ui.defaultAppRoute.setStringValue(d),this.uiConfig.setAppRoutes(null),this.router.navigate([d])}autoLogin(){let a=pageRequestedApp||this.uiConfig.ui.lastLoginApp.getStringValue(),h=this.config.environment.applications.filter(f=>f.applicationEnabled);if(!a&&1!=h.length)return;let d=null;h.forEach((f,p,g)=>{f.id==a&&(d=f)}),null==d&&1==h.length&&h.forEach((f,p,g)=>{d=f}),pageRequestedApp="",null!=d&&this.onLoginCommand(d)}static \u0275fac=function(h){return new(h||c)(Ee(wn),Ee(Zt),Ee(lo))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();const $Mt=["myCanvas"];class YR extends QC{scene;initialized;name;constructor(l,a,h){super(),this.scene=l,this.initialized=a,this.name=h}static builder(){return new YR(null,!1,"")}setScene(l){return this.scene=l,this}setInitialized(l){return this.initialized=l,this}setName(l){return this.name=l,this}get canvasWidth(){return this.scene?this.scene.canvasWidth:this.iCanvasWidth}get canvasHeight(){return this.scene?this.scene.canvasHeight:this.iCanvasHeight}get canvasPercentage(){return this.scene?this.scene.canvasPercentage:this.iPercentage}setWidthPixelIncrement(l){return this.scene?.setWidthPixelIncrement(l),super.setWidthPixelIncrement(l)}setHeightPixelIncrement(l){return this.scene?.setHeightPixelIncrement(l),super.setHeightPixelIncrement(l)}setXPixelIncrement(l){return this.scene?.setXPixelIncrement(l),super.setXPixelIncrement(l)}setYPixelIncrement(l){return this.scene?.setYPixelIncrement(l),super.setYPixelIncrement(l)}setCanvasWidth(l){return this.scene?.setCanvasWidth(l),super.setCanvasWidth(l)}setCanvasHeight(l){return this.scene?.setCanvasHeight(l),super.setCanvasHeight(l)}setPercentage(l){return this.scene?.setPercentage(l),super.setPercentage(l)}setLight(l){return this.scene?.setLight(l),super.setLight(l)}setActionHandler(l){return this.scene?.setActionHandler(l),super.setActionHandler(l)}setParam(l,a){return this.scene?.setParam(l,a),super.setParam(l,a)}setAppLogoTextProvider(l){return this.scene?.setAppLogoTextProvider(l),super.setAppLogoTextProvider(l)}setAppParamProvider(l){return this.scene?.setAppParamProvider(l),super.setAppParamProvider(l)}dispose(){this.initialized&&(this.scene?.dispose(),this.initialized=!1)}init(l){this.scene?.init(l),this.initialized=!0}onMouseMove(l){this.initialized&&this.scene?.onMouseMove(l)}onMouseClick(l){this.initialized&&this.scene?.onMouseClick(l)}onResize(){this.initialized&&this.scene?.onResize()}render(){this.scene?.render()}}let BTe=(()=>{class c{uiConfig;config;renderer2;themesSvc;autoLoginSvc;myCanvasRef;running=!1;canvas=null;renderer=null;fullScreen=!1;fabInfos=[];set scenes(a){let h=a.split(",");0==h.length&&(h=["\u041a\u0440\u0435\u0441\u0442"]),this.allScenes=[],h.forEach(d=>{let f=YR.builder().setName(d);switch(d){default:case"\u041a\u0443\u0431":f.setScene(new KTt);break;case"\u0418\u043a\u043e\u0441\u0430\u0445\u0435\u0434\u0440\u043e\u043d":f.setScene(new tkt);break;case"\u0421\u0432\u0435\u0447\u0435\u043d\u0438\u0435":f.setScene(new txe);break;case"\u041a\u0440\u0435\u0441\u0442":f.setScene(new VMt);break;case"\u0425\u0440\u0430\u043c":f.setScene(new ekt)}this.allScenes.push(f)})}allScenes=[];sceneIndex=-1;get scene(){return this.sceneIndex<0||this.sceneIndex>=this.allScenes.length?null:this.allScenes[this.sceneIndex]}requestedSceneName="\u041a\u0440\u0435\u0441\u0442";get sceneName(){return this.sceneIndex<0||this.sceneIndex>=this.allScenes.length?this.requestedSceneName:this.allScenes[this.sceneIndex].name}set sceneName(a){this.renderer?this.selectSceneByName(a):this.requestedSceneName=a}iRequestedCanvasWidth=90;get requestedCanvasWidth(){return this.iRequestedCanvasWidth}set requestedCanvasWidth(a){this.iRequestedCanvasWidth=a;let h=this.scene;h&&h.dispose()}iRequestedCanvasHeight=100;get requestedCanvasHeight(){return this.iRequestedCanvasHeight}set requestedCanvasHeight(a){this.iRequestedCanvasHeight=a;let h=this.scene;h&&h.dispose()}iRequestedPercentage=!0;get requestedPercentage(){return this.iRequestedPercentage}set requestedPercentage(a){this.iRequestedPercentage=a;let h=this.scene;h&&h.dispose()}selectScene(a){a>=0&&a<this.allScenes.length&&a!=this.sceneIndex&&(this.scene?.dispose(),this.sceneIndex=a,this.config.post(()=>{this.render()}))}selectSceneByName(a){let h=this.allScenes.findIndex(d=>d.name==a);this.selectScene(h)}enabled=!0;sName="";set name(a){this.sName=a}get name(){return this.sName}onResize(){this.scene?.onResize()}onMouseMove(a){this.scene?.onMouseMove(a)}onMouseClick(a){a.ctrlKey?this.selectScene((this.sceneIndex+1)%this.allScenes.length):this.scene?.onMouseClick(a)}constructor(a,h,d,f,p){this.uiConfig=a,this.config=h,this.renderer2=d,this.themesSvc=f,this.autoLoginSvc=p,this.scenes="\u041a\u0440\u0435\u0441\u0442"}ngOnInit(){this.fullScreen&&this.addOverflowClass(),this.uiConfig.check(()=>{this.config.autoLoginApplication&&this.fullScreen&&this.autoLoginSvc.autoLogin()}),this.running=!0}ngOnDestroy(){this.fullScreen&&this.removeOverflowClass(),this.scene?.dispose(),this.canvas=null,this.running=!1}addOverflowClass(){this.renderer2.addClass(document.body,"overflowHidden")}removeOverflowClass(){this.renderer2.removeClass(document.body,"overflowHidden")}routeToV1(){window.location.href="./v1"}routeToLogo(){this.config.requestLogin3d(!1),this.config.setShowLogin(!1)}ngAfterViewInit(){this.canvas=this.myCanvasRef.nativeElement,this.canvas&&(this.renderer=new sj({canvas:this.canvas,alpha:!0,antialias:!0}),this.config.post(()=>{this.selectSceneByName(this.requestedSceneName)}))}render(){if(!this.running)return this.scene?.dispose(),void(this.sceneIndex=-1);!this.scene?.initialized&&this.renderer&&(!this.fullScreen&&this.canvas&&this.scene?.setCanvasWidth(this.requestedCanvasWidth).setCanvasHeight(this.requestedCanvasHeight).setPercentage(this.requestedPercentage).setHeightPixelIncrement(-60).setYPixelIncrement(-60),this.scene?.setLight(this.themesSvc.nowIsDay()).setParam("\u043f\u0443\u043d\u043a\u0442\u044b",this.getMenuItems()).setActionHandler(a=>this.runMenuItemClick(a)).setAppLogoTextProvider(a=>{let h=this.config.getApplicationByNameOrNull(a);return h||(h=this.config.getSingleAppOrNull()),h||(h=this.config.getApplication()),h?h.applicationLogoText:""}).setAppParamProvider(a=>this.uiConfig.getAppParam(a)).init(this.renderer)),this.scene?.render()}getMenuItems(){this.fabInfos=this.config.environment.applications.filter(f=>f.applicationEnabled&&!f.applicationHidden).map(f=>vf.builder().setName(f.name).setKey(f.id).setShape(f.menuShape?f.menuShape:f.shape)),this.fabInfos.push(vf.builder().setName("2D")),this.config.showOldVersions&&this.fabInfos.push(vf.builder().setName(this.config.oldVersionsName));let a=this.fabInfos.map(f=>f.name),h=this.uiConfig.ui.lastLoginApp.getStringValue(),d=this.config.environment.applications.find(f=>f.id==h);return GR.builder().setNames(a).setSelected(d?d.name:"")}runMenuItemClick(a){let h=this.config.environment.applications.find(d=>d.name==a);h?this.autoLoginSvc.onLoginCommand(h):a===this.config.oldVersionsName?this.routeToV1():"2D"===a?this.routeToLogo():console.log(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435: "${a}".`)}getLogoText(){let a=this.config.getSingleAppOrNull();return null==a&&(a=this.config.getApplication()),a?a.applicationLogoText:""}onFABClick(a){this.config.post(()=>{this.runMenuItemClick(a.name)},1)}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt),V(ji),V(Ys),V(fG))};static \u0275cmp=qe({type:c,selectors:[["app-three-logo"]],viewQuery:function(h,d){if(1&h&&si($Mt,5),2&h){let f;Ht(f=Wt())&&(d.myCanvasRef=f.first)}},hostBindings:function(h,d){1&h&&Y("resize",function(p){return d.onResize(p.target)},0,ap)("mousemove",function(p){return d.onMouseMove(p)},!1,ap)("click",function(p){return d.onMouseClick(p)},!1,ap)},inputs:{fullScreen:"fullScreen",scenes:"scenes",requestedSceneName:"requestedSceneName",sceneName:"sceneName",requestedCanvasWidth:"requestedCanvasWidth",requestedCanvasHeight:"requestedCanvasHeight",requestedPercentage:"requestedPercentage",enabled:"enabled",name:"name"},decls:4,vars:2,consts:[[3,"fullScreen","infos","onFABChange"],[1,"container","bgColor","fade-in-3"],[1,"centeredCanvas"],["myCanvas",""]],template:function(h,d){1&h&&(E(0,"app-dynamic-fab",0),Y("onFABChange",function(p){return d.onFABClick(p)}),M(),E(1,"div",1),se(2,"canvas",2,3),M()),2&h&&R("fullScreen",d.fullScreen)("infos",d.fabInfos)},dependencies:[wA],styles:[".fab[_ngcontent-%COMP%]{z-index:100;width:100%;height:100%}"]})}return c})();var bh=function(c){return c[c.Disabled=0]="Disabled",c[c.CheckRun=1]="CheckRun",c[c.Continue=2]="Continue",c[c.Step=3]="Step",c}(bh||{});class qv{name;container;fieldName;readonly;constructor(l="root",a=null,h="",d=!1){this.name=l,this.container=a,this.fieldName=h,this.readonly=d}static builder(){return new qv}setContainer(l){return this.container=l,this}setFieldName(l){return this.fieldName=l,this}getName(){return this.name}setName(l){return this.name=l,this}getValue(){let l=this.fieldName?this.container[this.fieldName]:this.container;return l&&"object"==typeof l.h&&(l=l.h),l}setValue(l){if(this.readonly)throw new Error("\u0417\u0430\u043f\u0438\u0441\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430.");return this.container[this.fieldName]=l,this}isReadonly(){return this.readonly||!this.fieldName}isContainer(){let l=this.getValue();return!(!l||"object"!=typeof l)||!(!l||!Array.isArray(l))}getVars(){let l=this.getValue(),a=[];if(l&&"object"==typeof l)for(let h in l)a.push("Function"==l[h]?.D?qv.builder().setContainer("function()").setName(h):qv.builder().setContainer(l).setFieldName(h).setName(h));else if(l&&Array.isArray(l)){let h=0,d=50;for(let f in l){if(h++>=d){a.push(qv.builder().setContainer("..").setName(f));break}a.push(qv.builder().setContainer(l).setFieldName(f).setName(f))}}return a}setVars(l,a){return this.name=a,this.container=l,this.fieldName="",this}}class pG{\u0434\u0432\u0438\u0436\u043e\u043a\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d=!1;myInterpreter=null;oldStack=null;convertObject(l,a){let h={};for(let d in l){let f=l[d];a.has(f)?h[d]="\u0441\u0441\u044b\u043b\u043a\u0430 => "+a.get(f):f&&"object"==typeof f.h?(a.set(f,a.size),h[d]=this.convertObject(f.h,a)):(a.set(f,a.size),h[d]=f)}return h}getStackVars(){let a=this.myInterpreter.getStateStack();if(a.length>=2){let h=a[a.length-2].scope.object;return qv.builder().setContainer(h)}return null}getSystemObject(){return{\u0432\u0440\u0435\u043c\u044f:()=>Date.now(),\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c:l=>(console.log(l),l)}}run(l,a=null,h=null,d=null,f=null,p=null,g=bh.Disabled,m=null){if(g==bh.Disabled||g==bh.CheckRun){let O="(typeof \u0433\u043b\u0430\u0432\u043d\u044b\u0439\u041c\u0435\u0442\u043e\u0434 === 'function')?\u0433\u043b\u0430\u0432\u043d\u044b\u0439\u041c\u0435\u0442\u043e\u0434():null;",C=null;if(this.\u0434\u0432\u0438\u0436\u043e\u043a\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d||(C=l.split(kA.BreakSource),this.myInterpreter=new Interpreter(C[0],(w,x)=>{w.setProperty(x,"\u0441\u0438\u0441\u0442\u0435\u043c\u0430",w.nativeToPseudo(this.getSystemObject()))})),this.myInterpreter.setProperty(this.myInterpreter.getGlobalScope().object,"\u043f\u0430\u043c\u044f\u0442\u044c",this.myInterpreter.nativeToPseudo(a)),this.myInterpreter.setProperty(this.myInterpreter.getGlobalScope().object,"\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435",this.myInterpreter.nativeToPseudo(h)),this.myInterpreter.setProperty(this.myInterpreter.getGlobalScope().object,"\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",this.myInterpreter.nativeToPseudo(d)),this.\u0434\u0432\u0438\u0436\u043e\u043a\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d||(this.myInterpreter.run(),O="(typeof \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430\u0413\u0440\u0430\u0444\u0438\u043a\u0438 === 'function')?\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430\u0413\u0440\u0430\u0444\u0438\u043a\u0438():null;",this.\u0434\u0432\u0438\u0436\u043e\u043a\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d=!0),C)for(let S=1;S<C.length;S++)this.myInterpreter.appendCode(C[S]);this.myInterpreter.appendCode(O)}let _=-1,y=-1,b=!1;if(g!=bh.Disabled&&f){let O=null,C=null,S=null,w=null,x=!0,T=!1,D=null,k=null;for(this.oldStack=[];x;){O=this.myInterpreter.getStateStack(),D=O[O.length-1],C=D.node,k=C.type;let P=!0;C.loc.source.startsWith("appendCode")&&(P=!1),"VariableDeclaration"!==k&&"Statement"!==k.substr(-9)&&(P=!1),"BlockStatement"===k&&(P=!1),"VariableDeclaration"===k&&"ForStatement"===O[O.length-2].node.type&&(P=!1),this.oldStack&&(this.oldStack[this.oldStack.length-1]===D&&(P=!1),-1!==this.oldStack.indexOf(D)&&"ForStatement"!==k&&"WhileStatement"!==k&&"DoWhileStatement"!==k&&(P=!1)),P&&(this.oldStack=O.slice()),O.length?(C=O[O.length-1].node,S=C.start,w=C.end):(S=0,w=0),_=f[S],P&&_>0&&y!=_?(T=!!p&&p[S]||y>=0&&g==bh.Step,x=!(T&&(y>=0||g!=bh.Continue&&g!=bh.Step)),y=_):x=!0,x||(b=!0,m&&m(S,w)),x=!!x&&(b=this.myInterpreter.step())}}else this.myInterpreter.run();return b||(this.copy(this.myInterpreter.pseudoToNative(this.myInterpreter.getProperty(this.myInterpreter.getGlobalScope().object,"\u043f\u0430\u043c\u044f\u0442\u044c")),a),this.copy(this.myInterpreter.pseudoToNative(this.myInterpreter.getProperty(this.myInterpreter.getGlobalScope().object,"\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435")),h),this.copy(this.myInterpreter.pseudoToNative(this.myInterpreter.getProperty(this.myInterpreter.getGlobalScope().object,"\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442")),d)),b}copy(l,a){for(const h in l)"function"!=typeof a[h]&&(a[h]=l[h])}}class Ak{id;from;type;tag;data;constructor(l,a,h,d,f){this.id=l,this.from=a,this.type=h,this.tag=d,this.data=f}static builder(){return new Ak(0,"","","",null)}setId(l){return this.id=l,this}setFrom(l){return this.from=l,this}setType(l){return this.type=l,this}setTag(l){return this.tag=l,this}setData(l){return this.data=l,this}toJsNativeEvent(){return{\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440:this.id,\u0442\u0438\u043f:this.type,\u0442\u0435\u0433:this.tag,\u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a:this.from,\u0434\u0430\u043d\u043d\u044b\u0435:this.data}}}class gG{name;environment;memory;document;service;requests;waiting;requestForRun;source;language;constructor(l,a,h,d,f=new pG,p=[],g=[],m=!0,v="",_=""){this.name=l,this.environment=a,this.memory=h,this.document=d,this.service=f,this.requests=p,this.waiting=g,this.requestForRun=m,this.source=v,this.language=_}static builder(){return new gG("",{},{},{})}setName(l){return this.name=l,this}setEnvironment(l){return this.environment=l,this}setMemory(l){return this.memory=l,this}setDocument(l){return this.document=l,this}setService(l){return this.service=l,this}setRequestForRun(l){return this.requestForRun=l,this}setSource(l){return this.source=l,this}setLanguage(l){return this.language=l,this}}class qR{crContext;jsNativeEvents=[];jsNativeWorkersId=0;jsNativeWorkers=new Map;constructor(l){this.crContext=l}newJsNativeWorkerId(){return++this.jsNativeWorkersId}getJsNativeWorkersNewName(){return"\u0440\u043f"+this.newJsNativeWorkerId()}runNativeWorkers(){this.jsNativeWorkers.forEach((l,a,h)=>{if(l.requestForRun){l.requestForRun=!1;let f=[];l.requests.length&&(f.push(...l.requests.map(p=>p.toJsNativeEvent())),l.requests=[]),l.environment.\u0441\u043e\u0431\u044b\u0442\u0438\u044f=f;try{l.service.run(l.source,l.memory,l.environment,l.document)}catch(p){var d="\u041e\u0448\u0438\u0431\u043a\u0430: "+(p instanceof We?$s.convertToObject(p):p);this.jsNativeEvents.push(Ak.builder().setType("\u043e\u0448\u0438\u0431\u043a\u0430").setData(d)),this.crContext.handleError(d)}}})}nativeSendMessage(l,a,h){if(this.crContext.incRequestLevel(),l){let d=this.jsNativeWorkers.get(l);d&&(d.requests.push(Ak.builder().setFrom("").setType(a).setData(h)),d.setRequestForRun(!0))}else this.jsNativeEvents.push(Ak.builder().setFrom("").setType(a).setData(h))}runNativeWorker(l,a,h){let d=this.jsNativeWorkers.get(l);return d&&d.source===a&&d.language==h||this.jsNativeWorkers.set(l,gG.builder().setName(l).setSource(a).setLanguage(h).setEnvironment({\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c:f=>{console.log(f)},\u043e\u0442\u043e\u0441\u043b\u0430\u0442\u044c\u0421\u043e\u0431\u044b\u0442\u0438\u0435:(f,p,g)=>this.nativeSendMessage(f,p,g),\u0432\u0432\u0435\u0441\u0442\u0438\u0422\u0435\u043a\u0441\u0442:(f,p)=>this.crContext.requestInputText(f,p),\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c\u041e\u0446\u0435\u043d\u043a\u0443\u0417\u0430\u0423\u0440\u043e\u043a:(f,p,g)=>this.crContext.setLessonScore(f,p,g),\u043f\u0435\u0440\u0435\u0439\u0442\u0438\u041a\u0423\u0440\u043e\u043a\u0443:(f,p)=>this.crContext.routeToLesson(f,p)})),l}}class zMt extends qR{myMemory=es.\u043d\u043e\u0432\u044b\u0435();myEnvironment=es.\u043d\u043e\u0432\u044b\u0435();jsSvc=new jx;debugStep=!1;debugScriptRunning=!1;constructor(l){super(l)}setDebugStep(l){this.debugStep=!!l}get text(){return this.crContext.getData()&&this.crContext.getData().text?this.crContext.getData().text:""}onInit(){this.crContext.getCodeRunnerTextData().config.debug&&this.jsSvc.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0442\u043b\u0430\u0434\u0447\u0438\u043a((l,a)=>(a&&this.crContext.getConfig(),l))}get memory(){return this.crContext.getCodeRunnerTextData().config.memory||this.myMemory}get environment(){return this.crContext.getCodeRunnerTextData().config.environment||this.myEnvironment}update(){var l=500,a=this.crContext.getContext2d();let h=es.\u043d\u043e\u0432\u044b\u0435(),d=v9.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442\u0414\u0432\u0443\u043c\u0435\u0440\u043d\u043e\u0433\u043e\u0425\u043e\u043b\u0441\u0442\u0430().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0425\u043e\u043b\u0441\u0442(a),f=this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u0414\u0432\u0443\u043c\u0435\u0440\u043d\u044b\u0439\u0425\u043e\u043b\u0441\u0442("\u0445\u043e\u043b\u0441\u0442").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c\u041d\u0430\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(d));h.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.set("\u0445\u043e\u043b\u0441\u0442",f),h.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.set("\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0427\u0435\u0440\u0435\u0437\u041c\u0441",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(-1));let p=this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432");{let O=this.crContext.getMouseMove();if(O){let C=this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043e\u0431\u044a\u0435\u043a\u0442");C.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.set("name",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(O.name)).set("x",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(O.x)).set("y",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(O.y)).set("ctrlKey",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(O.ctrlKey)).set("shiftKey",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(O.shiftKey)).set("altKey",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(O.altKey)),p.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([C])}}this.environment.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c("\u0441\u043e\u0431\u044b\u0442\u0438\u044f\u041c\u044b\u0448\u043a\u0438",p);let g=this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([]);{let O=this.crContext.getTouchMoves();if(O){let C=O.length;for(let S=0;S<C;++S){let w=O[S],x=this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043a\u0430\u0440\u0442\u0430"),T=x.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();T?.set("x",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(w.x)),T?.set("y",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(w.y)),T?.set("id",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(w.id)),T?.set("ctrlKey",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(w.ctrlKey)),T?.set("shiftKey",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(w.shiftKey)),T?.set("altKey",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(w.altKey)),g.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().push(x)}}}this.environment.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c("\u0441\u043e\u0431\u044b\u0442\u0438\u044f\u041a\u0430\u0441\u0430\u043d\u0438\u0439",g);try{let O=this.crContext.getCodeRunnerTextData();this.text&&this.jsSvc.run(this.text,this.memory,this.environment,h,O.config.debug);var m=this.environment.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.get("\u0433\u0440\u0430\u0444\u0438\u043a\u0430")?.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e();if(m){var v=h.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.get("\u0448\u0438\u0440\u0438\u043d\u0430")?.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),_=h.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.get("\u0432\u044b\u0441\u043e\u0442\u0430")?.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e();null!=v&&null!=_&&(v<=0&&(v=1),_<=0&&(_=1),O.config.autoSize&&(O.config.width!=v||O.config.height!=_)&&(O.config.width=v,O.config.height=_,this.crContext.incRequestLevel(),l=1))}var y=h.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.get("\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0427\u0435\u0440\u0435\u0437\u041c\u0441")?.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e();null!=y&&0<=y&&y<l&&(l=y,this.crContext.incRequestLevel())}catch(O){var b="\u041e\u0448\u0438\u0431\u043a\u0430: "+(O instanceof We?$s.convertToObject(O):O);throw O?.location?.start&&(b+=` \u043e\u043a\u043e\u043b\u043e (${O.location.start.line}:${O.location.start.column}-${O.location.end.line}:${O.location.end.column})`),b}return l}}var Oh=function(c){return c[c.Property=0]="Property",c[c.Method=1]="Method",c}(Oh||{});class p0{srcName;dstName;srcType;dstType;constructor(l,a,h,d){this.srcName=l,this.dstName=a,this.srcType=h,this.dstType=d}static builder(){return new p0("","",Oh.Method,Oh.Method)}setSrcName(l){return this.srcName=l,this}setDstName(l){return this.dstName=l,this}setSrcType(l){return this.srcType=l,this}setDstType(l){return this.dstType=l,this}}class UMt extends qR{myNativeMemory={};myNativeEnvironment={};jsNativeSvc=new pG;debugStep=!1;debugScriptRunning=!1;constructor(l){super(l)}setDebugStep(l){this.debugStep=!!l}get nativeMemory(){return this.crContext.getCodeRunnerTextData().config.nativeMemory||this.myNativeMemory}get nativeEnvironment(){return this.crContext.getCodeRunnerTextData().config.nativeEnvironment||this.myNativeEnvironment}get text(){return this.crContext.getData()&&this.crContext.getData().text?this.crContext.getData().text:""}update(){this.runNativeWorkers();var l=500;const a=this.crContext.getContext2d();let h={};h.\u0445\u043e\u043b\u0441\u0442=this.\u0441\u043e\u0437\u0434\u0430\u0442\u044cJs\u0425\u043e\u043b\u0441\u0442(a),h.\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0427\u0435\u0440\u0435\u0437\u041c\u0441=-1;let d=[];{let b=this.crContext.getMouseMove();if(b){let O={};O.name=b.name,O.x=b.x,O.y=b.y,O.ctrlKey=b.ctrlKey,O.shiftKey=b.shiftKey,O.altKey=b.altKey,d.push([O])}}this.nativeEnvironment.\u0441\u043e\u0431\u044b\u0442\u0438\u044f\u041c\u044b\u0448\u043a\u0438=d;let f=[];{let b=this.crContext.getTouchMoves();if(b){let O=b.length;for(let C=0;C<O;++C){let S=b[C],w={};w.x=S.x,w.y=S.y,w.id=S.id,w.ctrlKey=S.ctrlKey,w.shiftKey=S.shiftKey,w.altKey=S.altKey,f.push(w)}}}this.nativeEnvironment.\u0441\u043e\u0431\u044b\u0442\u0438\u044f\u041a\u0430\u0441\u0430\u043d\u0438\u0439=f;let p=[];this.jsNativeEvents.length&&(p.push(...this.jsNativeEvents.map(b=>b.toJsNativeEvent())),this.jsNativeEvents=[]),this.nativeEnvironment.\u0441\u043e\u0431\u044b\u0442\u0438\u044f=p,this.nativeEnvironment.\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c\u0420\u0430\u0431\u043e\u0447\u0438\u0439\u041f\u043e\u0442\u043e\u043a=b=>this.runNativeWorker(this.getJsNativeWorkersNewName(),b,this.crContext.getCodeRunnerTextData().config.mentorLanguage),this.nativeEnvironment.\u043e\u0442\u043e\u0441\u043b\u0430\u0442\u044c\u0421\u043e\u0431\u044b\u0442\u0438\u0435=(b,O,C)=>this.nativeSendMessage(b,O,C);try{if(this.text){let b=this.crContext.getConfig().debugPositionsToLineMap;this.debugScriptRunning=this.jsNativeSvc.run(this.text,this.nativeMemory,this.nativeEnvironment,h,this.crContext.getConfig().debugPositionsToLineMap,this.crContext.getConfig().breakpoints,this.crContext.getCodeRunnerTextData().config.debug?this.debugScriptRunning?this.debugStep?bh.Step:bh.Continue:bh.CheckRun:bh.Disabled,(O,C)=>{let S=b?b[O]:-1,w=b?b[C-1]:-1;console.log(`break point at line: {${S},${w}}`),this.crContext.getConfig().post(()=>{let x=this.jsNativeSvc.getStackVars();this.crContext.getConfig().messageBus.sendMessage(cl.builder().setTarget("source").setText("line").setTag({lineStart:S,lineEnd:w})),this.crContext.getConfig().messageBus.sendMessage(cl.builder().setTarget("debug").setText("vars").setTag(x))},0)})}if(this.nativeEnvironment.\u0433\u0440\u0430\u0444\u0438\u043a\u0430){var m=h.\u0448\u0438\u0440\u0438\u043d\u0430,v=h.\u0432\u044b\u0441\u043e\u0442\u0430;if(null!=m&&null!=v){m<=0&&(m=1),v<=0&&(v=1);let b=this.crContext.getCodeRunnerTextData().config;b.autoSize&&(b.width!=m||b.height!=v)&&(b.width=m,b.height=v,this.crContext.incRequestLevel(),l=1)}}var _=h.\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0427\u0435\u0440\u0435\u0437\u041c\u0441;null!=_&&0<=_&&_<l&&(l=_,this.crContext.incRequestLevel())}catch(b){var y="\u041e\u0448\u0438\u0431\u043a\u0430: "+(b instanceof We?$s.convertToObject(b):b);this.crContext.handleError(y)}return l}makeName(l,a){return l+a.substring(0,1).toUpperCase()+a.substring(1)}\u0441\u043e\u0437\u0434\u0430\u0442\u044cJs\u0425\u043e\u043b\u0441\u0442(l){let a={};return $s.allCanvasProps().map(h=>h.endsWith("()")?p0.builder().setSrcName(h.substring(0,h.length-2)).setDstName(h.substring(0,h.length-2)):p0.builder().setSrcName(h).setDstName(h).setSrcType(Oh.Property)).concat(p0.builder().setSrcName("width").setDstName("width").setSrcType(Oh.Property),p0.builder().setSrcName("height").setDstName("height").setSrcType(Oh.Property),p0.builder().setSrcName("kx").setDstName("kx").setSrcType(Oh.Property),p0.builder().setSrcName("ky").setDstName("ky").setSrcType(Oh.Property)).forEach(h=>{if(h.srcType===Oh.Method){let d=h.srcName;a[h.dstName]=function(){return l[d](...arguments)}}else{let d=h.srcName;a[this.makeName("get",h.dstName)]=()=>l[d],a[this.makeName("set",h.dstName)]=f=>{l[d]=f}}}),a}}var VTe=Ut(776);class QMt extends qR{myJsStandardMemory={};myJsStandardEnvironment={};jsStandardSvc=new VTe.N;debugStep=!1;debugScriptRunning=!1;get jsStdMemory(){return this.crContext.getCodeRunnerTextData().config.jsStdMemory||this.myJsStandardMemory}get jsStdEnvironment(){return this.crContext.getCodeRunnerTextData().config.jsStdEnvironment||this.myJsStandardEnvironment}constructor(l){super(l)}setDebugStep(l){this.debugStep=!!l}get text(){return this.crContext.getData()&&this.crContext.getData().text?this.crContext.getData().text:""}update(){var l=500;let a=this.crContext.getContext2d(),h={};h.\u0445\u043e\u043b\u0441\u0442=a,h.\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0427\u0435\u0440\u0435\u0437\u041c\u0441=-1;let d=[];{let y=this.crContext.getMouseMove();if(y){let b={};b.name=y.name,b.x=y.x,b.y=y.y,b.ctrlKey=y.ctrlKey,b.shiftKey=y.shiftKey,b.altKey=y.altKey,d.push([b])}}this.jsStdEnvironment.\u0441\u043e\u0431\u044b\u0442\u0438\u044f\u041c\u044b\u0448\u043a\u0438=d;let f=[];{let y=this.crContext.getTouchMoves();if(y){let b=y.length;for(let O=0;O<b;++O){let C=y[O],S={};S.x=C.x,S.y=C.y,S.id=C.id,S.ctrlKey=C.ctrlKey,S.shiftKey=C.shiftKey,S.altKey=C.altKey,f.push(S)}}}this.jsStdEnvironment.\u0441\u043e\u0431\u044b\u0442\u0438\u044f\u041a\u0430\u0441\u0430\u043d\u0438\u0439=f;try{if(this.text&&this.jsStandardSvc.run(this.text,this.jsStdMemory,this.jsStdEnvironment,h),this.jsStdEnvironment.\u0433\u0440\u0430\u0444\u0438\u043a\u0430){var g=h.\u0448\u0438\u0440\u0438\u043d\u0430,m=h.\u0432\u044b\u0441\u043e\u0442\u0430;if(null!=g&&null!=m){g<=0&&(g=1),m<=0&&(m=1);let y=this.crContext.getCodeRunnerTextData().config;y.autoSize&&(y.width!=g||y.height!=m)&&(y.width=g,y.height=m,this.crContext.incRequestLevel(),l=1)}}var v=h.\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0427\u0435\u0440\u0435\u0437\u041c\u0441;null!=v&&0<=v&&v<l&&(l=v,this.crContext.incRequestLevel())}catch(y){var _="\u041e\u0448\u0438\u0431\u043a\u0430: "+(y instanceof We?$s.convertToObject(y):y);this.crContext.handleError(_)}return l}}class g0{text;constructor(l){this.text=l}static builder(){return new g0("")}setText(l){return this.text=l,this}}class Kv{onMessageHandler;onConnectedHandler;onErrorHandler;onClosedHandler;constructor(l=null,a=null,h=null,d=null){this.onMessageHandler=l,this.onConnectedHandler=a,this.onErrorHandler=h,this.onClosedHandler=d}static builder(){return new Kv}setOnMessage(l=null){return this.onMessageHandler=l,this}setOnConnected(l=null){return this.onConnectedHandler=l,this}setOnErrorHandler(l=null){return this.onErrorHandler=l,this}setOnClosedHandler(l=null){return this.onClosedHandler=l,this}onMessage(l){this.onMessageHandler&&this.onMessageHandler(l)}onConnect(){this.onConnectedHandler&&this.onConnectedHandler()}onError(l){this.onErrorHandler&&this.onErrorHandler(l)}onClosed(l){this.onClosedHandler&&this.onClosedHandler(l)}}let HMt=(()=>{class c{static gid=0;socket=null;onConnectedHandler=null;onMessageHandler=null;onErrorHandler=null;onClosedHandler=null;id=c.gid++;setOnConnectedHandler(a){return this.onConnectedHandler=a,this}setOnMessageHandler(a){return this.onMessageHandler=a,this}setOnErrorHandler(a){return this.onErrorHandler=a,this}setOnClosedHandler(a){return this.onClosedHandler=a,this}log(a){console.log(this.id+": "+a)}loga(...a){console.log(this.id,...a)}start(a){return this.stop(),this.socket=new WebSocket(a),this.socket.onopen=()=>{this.log("\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e."),this.onConnectedHandler&&this.onConnectedHandler()},this.socket.onclose=h=>{this.log(h.wasClean?"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u043e \u0447\u0438\u0441\u0442\u043e":"\u041e\u0431\u0440\u044b\u0432 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f"),this.log("\u041a\u043e\u0434: "+h.code+" \u043f\u0440\u0438\u0447\u0438\u043d\u0430: "+h.reason+"; \u043f\u0440\u0438\u0447\u0438\u043d\u04302: "+this.getReason(h.code,h.reason)),this.onClosedHandler&&this.onClosedHandler(h.wasClean)},this.socket.onmessage=h=>{this.loga("\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435 ",h.data),this.onMessageHandler&&this.onMessageHandler(h.data)},this.socket.onerror=h=>{this.loga("\u041e\u0448\u0438\u0431\u043a\u0430 ",h),this.onErrorHandler&&this.onErrorHandler("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f.")},this}sendMessage(a){console.log(this.id+": \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e: "+a),this.socket?.send(a)}getReason(a,h){return 1e3==a?"Normal closure, meaning that the purpose for which the connection was established has been fulfilled.":1001==a?'An endpoint is "going away", such as a server going down or a browser having navigated away from a page.':1002==a?"An endpoint is terminating the connection due to a protocol error":1003==a?"An endpoint is terminating the connection because it has received a type of data it cannot accept (e.g., an endpoint that understands only text data MAY send this if it receives a binary message).":1004==a?"Reserved. The specific meaning might be defined in the future.":1005==a?"No status code was actually present.":1006==a?"The connection was closed abnormally, e.g., without sending or receiving a Close control frame":1007==a?"An endpoint is terminating the connection because it has received data within a message that was not consistent with the type of the message (e.g., non-UTF-8 [https://www.rfc-editor.org/rfc/rfc3629] data within a text message).":1008==a?'An endpoint is terminating the connection because it has received a message that "violates its policy". This reason is given either if there is no other sutible reason, or if there is a need to hide specific details about the policy.':1009==a?"An endpoint is terminating the connection because it has received a message that is too big for it to process.":1010==a?"An endpoint (client) is terminating the connection because it has expected the server to negotiate one or more extension, but the server didn't return them in the response message of the WebSocket handshake. <br /> Specifically, the extensions that are needed are: "+h:1011==a?"A server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request.":1015==a?"The connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified).":"Unknown reason"}stop(){this.socket&&(this.onMessageHandler&&this.onMessageHandler(JSON.stringify(g0.builder().setText("socket::stop();"))),this.socket.onclose=a=>{console.log("closed uncontrolled websocket.")},this.socket.onerror=a=>{},this.socket.onmessage=a=>{},this.socket.close())}}return c})(),WMt=(()=>{class c{handler;config;restPoint="/";ws=new HMt;started=!1;static wsId=0;constructor(a,h){this.handler=a,this.config=h}newWsId(){return c.wsId}stop(){return this.started&&this.ws.stop(),this}start(){return this.started||(this.started=!0,this.ws.start(this.getRestPoint("/cyrillic/ws/"+this.newWsId(),null)).setOnConnectedHandler(()=>{this.handler.onConnect()}).setOnMessageHandler(a=>{this.handler.onMessage(g0.builder().setText(JSON.parse(a).text))}).setOnErrorHandler(a=>{this.handler.onError(a)}).setOnClosedHandler(a=>{this.handler.onClosed(a)})),this}getRestPoint(a,h){return pi.merge(pi.merge(h||this.config.serviceAPIHost,this.restPoint),a).replace("http://","ws://").replace("https://","ws://")}setEventHandler(a){return this.handler=a,this}send(a){return this.ws.sendMessage(JSON.stringify(a)),this}}return c})();var jc=function(c){return c[c.Start=0]="Start",c[c.Connecting=1]="Connecting",c[c.SendingMessage=2]="SendingMessage",c[c.WaitingMessage=3]="WaitingMessage",c[c.Error=4]="Error",c[c.Restart=5]="Restart",c}(jc||{});class $Te{\u0434\u0432\u0438\u0436\u043e\u043a\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d=!1;\u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435=jc.Start;cyrillicWsSvc=null;handler=Kv.builder();config=null;errorCount=0;stop(l=!0){this.cyrillicWsSvc&&(l&&this.cyrillicWsSvc.setEventHandler(Kv.builder()),this.cyrillicWsSvc.stop())}start(l,a){return this.handler=l,this.config=a,this.restart(),this}restart(){this.config&&(this.cyrillicWsSvc=new WMt(Kv.builder().setOnMessage(l=>this.onMessage(l)).setOnConnected(()=>this.onConnected()).setOnErrorHandler(l=>this.onError(l)).setOnClosedHandler(l=>this.onClosed(l)),this.config))}onClosed(l){this.handler.onClosed(l),this.\u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435=jc.Error}onError(l){this.handler.onError(l)}onConnected(){this.handler.onConnect(),this.\u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435=jc.SendingMessage}onMessage(l){this.handler.onMessage(l)}run(l,a=null,h=null,d=null){switch(this.\u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435){case jc.Start:this.cyrillicWsSvc?.start(),this.\u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435=jc.Connecting,d.\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0427\u0435\u0440\u0435\u0437\u041c\u0441=10;break;case jc.Connecting:d.\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0427\u0435\u0440\u0435\u0437\u041c\u0441=10;break;case jc.SendingMessage:this.\u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435=jc.WaitingMessage,this.cyrillicWsSvc?.send(new g0(l)),d.\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0427\u0435\u0440\u0435\u0437\u041c\u0441=10;break;case jc.WaitingMessage:d.\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0427\u0435\u0440\u0435\u0437\u041c\u0441=1e3;break;case jc.Error:this.errorCount<=0?(++this.errorCount,this.stop(),this.\u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435=jc.Restart,d.\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0427\u0435\u0440\u0435\u0437\u041c\u0441=5e3,this.onMessage(g0.builder().setText("\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e."))):this.onMessage(g0.builder().setText("\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u043f\u0440\u0435\u0440\u0432\u0430\u043d\u043e."));break;case jc.Restart:this.restart(),this.\u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435=jc.Start,d.\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0427\u0435\u0440\u0435\u0437\u041c\u0441=1,this.onMessage(g0.builder().setText("\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043e."))}}}class ZMt extends qR{myCyrillicMemory={};myCyrillicEnvironment={};cyrillicSvc=null;debugStep=!1;debugScriptRunning=!1;constructor(l){super(l)}get cyrillicMemory(){return this.crContext.getCodeRunnerTextData().config.cyrillicMemory||this.myCyrillicMemory}get cyrillicEnvironment(){return this.crContext.getCodeRunnerTextData().config.cyrillicEnvironment||this.myCyrillicEnvironment}setDebugStep(l){this.debugStep=!!l}get text(){return this.crContext.getData()&&this.crContext.getData().text?this.crContext.getData().text:""}\u0441\u043e\u0437\u0434\u0430\u0442\u044cCyrillic\u0425\u043e\u043b\u0441\u0442(l){return l}onDestroy(){this.cyrillicSvc&&this.cyrillicSvc.stop()}update(){var l=5001;let a=this.crContext.getContext2d(),h={};h.\u0445\u043e\u043b\u0441\u0442=this.\u0441\u043e\u0437\u0434\u0430\u0442\u044cCyrillic\u0425\u043e\u043b\u0441\u0442(a),h.\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0427\u0435\u0440\u0435\u0437\u041c\u0441=-1;let d=[];{let _=this.crContext.getMouseMove();if(_){let y={};y.name=_.name,y.x=_.x,y.y=_.y,y.ctrlKey=_.ctrlKey,y.shiftKey=_.shiftKey,y.altKey=_.altKey,d.push([y])}}this.cyrillicEnvironment.\u0441\u043e\u0431\u044b\u0442\u0438\u044f\u041c\u044b\u0448\u043a\u0438=d;try{if(this.cyrillicSvc||(this.cyrillicSvc=new $Te,this.cyrillicSvc.start(Kv.builder().setOnMessage(_=>{this.crContext.handleMessage(_.text)}).setOnErrorHandler(_=>{this.crContext.handleError(_)}).setOnClosedHandler(_=>{this.crContext.handleClosed(_)}),this.crContext.getConfig())),this.text&&this.cyrillicSvc.run(this.text,this.cyrillicMemory,this.cyrillicEnvironment,h),this.cyrillicEnvironment.\u0433\u0440\u0430\u0444\u0438\u043a\u0430){var p=h.\u0448\u0438\u0440\u0438\u043d\u0430,g=h.\u0432\u044b\u0441\u043e\u0442\u0430;if(null!=p&&null!=g){p<=0&&(p=1),g<=0&&(g=1);let _=this.crContext.getCodeRunnerTextData().config;_.autoSize&&(_.width!=p||_.height!=g)&&(_.width=p,_.height=g,this.crContext.incRequestLevel(),l=1)}}var m=h.\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0427\u0435\u0440\u0435\u0437\u041c\u0441;null!=m&&0<=m&&m<l&&(l=m,this.crContext.incRequestLevel())}catch(_){this.crContext.handleError("\u041e\u0448\u0438\u0431\u043a\u0430: "+_)}return l}}const jMt=["canvasContainer"],GMt=["runnerCanvas"];class XMt{link;name;data=null;fullSize=!1;constructor(l,a){this.link=l,this.name=a}}class mG{name;x;y;id;ctrlKey;shiftKey;altKey;constructor(l,a,h,d,f,p,g){this.name=l,this.x=a,this.y=h,this.id=d,this.ctrlKey=f,this.shiftKey=p,this.altKey=g}static builder(){return new mG("",-1,-1,0,!1,!1,!1)}setName(l){return this.name=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setId(l){return this.id=l,this}setCtrlKey(l){return this.ctrlKey=l,this}setShiftKey(l){return this.shiftKey=l,this}setAltKey(l){return this.altKey=l,this}}var Jv=function(c){return c[c.NotLoaded=0]="NotLoaded",c[c.Loading=1]="Loading",c[c.Loaded=2]="Loaded",c}(Jv||{});class zTe{modalFlag;text;target="";type="";constructor(l=!1,a=""){this.modalFlag=l,this.text=a}setTarget(l){return this.target=l,this}setType(l){return this.type=l,this}setModalFlag(l){return this.modalFlag=l,this}}let vG=(()=>{class c{config;uiConfig;themesSvc;cacheSvc;data=vO.builder();onError=new Tt;onClosed=new Tt;onMessage=new Tt;runned=!1;inputTextDlg=new zTe;newLessonDlg=new zTe;inputTextEditor=ld.builder().setObject(this.inputTextDlg).setFieldName("text").setDescription("\u0422\u0435\u043a\u0441\u0442").setDescription2("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442").setUseDefault(!0);canvasContainerRef;runnerCanvasRef;oldValue=Rr.builder();oldOldWidthValue=0;oldWidthValue=Rr.builder();oldHeightValue=Rr.builder();oldNormalizedWidthValue=Rr.builder();oldNormalizedHeightValue=Rr.builder();oldRequestUpdateLevel=Rr.builder();requestUpdateLevel=0;mouseMove=null;touchMoves=null;jsNativeMentorState=Jv.NotLoaded;renderer=null;myScene=YR.builder().setName("\u041a\u0443\u0431").setScene(new txe(!1));runners={};get currentRunner(){let a=this.runners[this.sourceLanguage];if(null==a)throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u044f\u0437\u044b\u043a: "+this.sourceLanguage);return a}continueSubscription=null;get codeRunnerTextData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}get is3D(){return!1}get sourceLanguage(){return this.codeRunnerTextData?.config?.language?this.codeRunnerTextData?.config?.language:this.uiConfig.ui.compilerSourceLanguage.getStringValue()}get width(){return this.codeRunnerTextData&&this.codeRunnerTextData.config?this.codeRunnerTextData.config.width:512}get height(){return this.codeRunnerTextData&&this.codeRunnerTextData.config?this.codeRunnerTextData.config.height:512}getMouseMove(){return this.mouseMove}getTouchMoves(){return this.touchMoves}getContext2d(){return this.runnerCanvasRef.nativeElement.getContext("2d")}isRunned(){return this.runned}incRequestLevel(){++this.requestUpdateLevel}getData(){return this.data}getCodeRunnerTextData(){return this.codeRunnerTextData}getConfig(){return this.config}constructor(a,h,d,f){this.config=a,this.uiConfig=h,this.themesSvc=d,this.cacheSvc=f,this.runners[ni.JsES5]=new UMt(this),this.runners[ni.CJs]=new zMt(this),this.runners[ni.JsES6]=new QMt(this),this.runners[ni.Cyrillic]=new ZMt(this)}handleMessage(a){this.onMessage.emit(a)}handleError(a){this.onError.emit(a),this.onMessage.emit(a)}handleClosed(a){this.onClosed.emit(a)}ngOnInit(){this.runners[ni.CJs].onInit(),this.codeRunnerTextData.config.debug&&(this.continueSubscription=this.config.messageBus.addHandler(a=>{"runner"==a.target&&"continue"==a.text?(this.incRequestLevel(),this.currentRunner.setDebugStep(!1)):"runner"==a.target&&"step"==a.text?(this.incRequestLevel(),this.currentRunner.setDebugStep(!0)):"runner"==a.target&&"input text"==a.text&&this.currentRunner.nativeSendMessage(a.inputTarget,a.inputType,a.inputText)})),this.runned=!0}ngOnDestroy(){this.continueSubscription&&(this.continueSubscription.unsubscribe(),this.continueSubscription=null),this.runned=!1,this.runners[ni.Cyrillic].onDestroy()}ngAfterViewInit(){this.runnerCanvasRef.nativeElement.addEventListener("mousedown",a=>this.onCanvasClick(a),!1),this.runnerCanvasRef.nativeElement.addEventListener("mousemove",a=>this.onCanvasMouseMove(a),!1),this.runnerCanvasRef.nativeElement.addEventListener("mouseup",a=>this.onMouseUp(a),!1),this.runnerCanvasRef.nativeElement.ontouchstart=a=>this.onCanvasClicks(a),this.runnerCanvasRef.nativeElement.ontouchmove=a=>{this.onCanvasClicks(a),a.preventDefault()},this.runnerCanvasRef.nativeElement.ontouchend=a=>this.onCanvasClicks(a),this.runnerCanvasRef.nativeElement.ontouchcancel=a=>this.onCanvasClicks(a),this.onSizeChanged()}requestNeededUpdate(a=!1){this.requestBasicUpdate(a)}onSizeChanged(){this.is3D?this.requestUpdate3D():(this.requestNeededUpdate(),this.codeRunnerTextData.setConvertImage((a,h)=>this.convertImage(a,h)))}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}requestUpdate3D(){const a=this.canvasContainerRef.nativeElement;let h=a.offsetWidth,d=a.offsetHeight,f=this.oldValue.checkAndUpdate(this.text),p=this.oldOldWidthValue!=h;p&&(this.oldOldWidthValue=this.oldWidthValue.oldRawValue),f=this.oldWidthValue.checkAndUpdate(h)||f,f=this.oldHeightValue.checkAndUpdate(d)||f,f=this.oldRequestUpdateLevel.checkAndUpdate(this.requestUpdateLevel)||f;const g=this.runnerCanvasRef.nativeElement;let m=this.codeRunnerTextData.config.autoSize?h:this.codeRunnerTextData.config.width,v=this.codeRunnerTextData.config.autoSize?p?Math.round(h/this.codeRunnerTextData.config.width*this.codeRunnerTextData.config.height):g.height:this.codeRunnerTextData.config.height;v<1&&(v=1),f=this.oldNormalizedWidthValue.checkAndUpdate(m)||f,f=this.oldNormalizedHeightValue.checkAndUpdate(v)||f;var _=500;f&&(g.width=m,g.height=v,this.renderer?(this.renderer.setSize(m,v),_=this.render3D(m,v)):this.renderer=new sj({canvas:g,alpha:!0,antialias:!0}),++this.requestUpdateLevel),_>=0&&this.config.post(()=>this.requestUpdate3D(),_)}render3D(a,h){return this.runned?(!this.myScene?.initialized&&this.renderer&&(this.myScene?.setCanvasWidth(a).setCanvasHeight(h).setPercentage(!1).setHeightPixelIncrement(-60).setYPixelIncrement(-60),this.myScene?.setLight(this.themesSvc.nowIsDay()).setParam("\u043f\u0443\u043d\u043a\u0442\u044b",[]).setActionHandler(d=>{}).setAppLogoTextProvider(d=>{let f=this.config.getApplicationByNameOrNull(d);return f||(f=this.config.getSingleAppOrNull()),f||(f=this.config.getApplication()),f?f.applicationLogoText:""}).setAppParamProvider(d=>this.uiConfig.getAppParam(d)).init(this.renderer)),this.myScene?.render(),10):(this.myScene.scene?.dispose(),-1)}makeName(a,h){return a+h.substring(0,1).toUpperCase()+h.substring(1)}\u0441\u043e\u0437\u0434\u0430\u0442\u044cCyrillic\u0425\u043e\u043b\u0441\u0442(a){return a}requestBasicUpdate(a=!1){if(!this.runned)return;var h=500;switch(this.jsNativeMentorState){case Jv.NotLoaded:if(this.codeRunnerTextData.config.mentor)return this.cacheSvc.getText(this.codeRunnerTextData.config.mentor,b=>{if(b){let C=`var \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f\u0423\u0440\u043e\u043a\u0430 = {\n  \u043d\u043e\u043c\u0435\u0440\u0423\u0440\u043e\u043a\u0430: ${this.uiConfig.ui.compilerLessonNumber.getNumberValue()}\n};`;this.config.post(()=>{this.currentRunner.runNativeWorker("\u0441\u0438\u0441\u0442\u0435\u043c\u0430",C+kA.BreakSource+b,this.codeRunnerTextData.config.mentorLanguage),this.jsNativeMentorState=Jv.Loaded})}}),void this.config.post(()=>this.requestNeededUpdate(),h);this.jsNativeMentorState=Jv.Loaded;break;case Jv.Loading:return void this.config.post(()=>this.requestNeededUpdate(),h);case Jv.Loaded:break;default:return this.onError.emit("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u043d\u0442\u043e\u0440\u0430: "+this.jsNativeMentorState),void this.config.post(()=>this.requestNeededUpdate(),h)}const d=this.canvasContainerRef.nativeElement;let f=d.offsetWidth,p=d.offsetHeight,g=a||this.oldValue.checkAndUpdate(this.text),m=this.oldOldWidthValue!=f;m&&(this.oldOldWidthValue=this.oldWidthValue.oldRawValue),g=this.oldWidthValue.checkAndUpdate(f)||g,g=this.oldHeightValue.checkAndUpdate(p)||g,g=this.oldRequestUpdateLevel.checkAndUpdate(this.requestUpdateLevel)||g;const v=this.runnerCanvasRef.nativeElement;let _=this.codeRunnerTextData.config.autoSize?f:this.codeRunnerTextData.config.width,y=this.codeRunnerTextData.config.autoSize?m?Math.round(f/this.codeRunnerTextData.config.width*this.codeRunnerTextData.config.height):v.height:this.codeRunnerTextData.config.height;if(y<1&&(y=1),g=this.oldNormalizedWidthValue.checkAndUpdate(_)||g,g=this.oldNormalizedHeightValue.checkAndUpdate(y)||g,g){v.width=_,v.height=y;const b=v.getContext("2d");b&&(b.width=_,b.height=y,b.virtualWidth=this.codeRunnerTextData.config.width,b.virtualHeight=this.codeRunnerTextData.config.height,b.kx=_/this.codeRunnerTextData.config.width,b.ky=y/this.codeRunnerTextData.config.height);try{h=this.currentRunner.update()}catch(O){this.onError.emit(O)}}this.config.post(()=>this.requestNeededUpdate(),h)}onResize(){}onMousemove(a){let h=this.runnerCanvasRef.nativeElement.getBoundingClientRect(),d=a.clientX-h.left,f=a.clientY-h.top;d>=0&&d<this.runnerCanvasRef.nativeElement.offsetWidth&&f>=0&&f<this.runnerCanvasRef.nativeElement.offsetHeight&&(this.mouseMove=this.convertMouseEvent(a).setName("mousemove"))}convertImage(a,h){if(!this.runnerCanvasRef?.nativeElement)return;const d=this.runnerCanvasRef.nativeElement;let f=new XMt(d.toDataURL("image/png"),a);d.toBlob(p=>{f.data=p,h&&setTimeout(()=>h(f),10)})}convertMouseEvent(a){var h=this.runnerCanvasRef.nativeElement.getBoundingClientRect();let p=this.runnerCanvasRef.nativeElement,v=a.pageX-(h.left+p.clientLeft),_=a.pageY-(h.top+p.clientTop);return mG.builder().setX(v).setY(_).setId(a.identifier?a.identifier:0).setCtrlKey(!!a.ctrlKey).setShiftKey(!!a.shiftKey).setAltKey(!!a.altKey)}onCanvasClick(a){let h=[];h.push(this.convertMouseEvent(a)),this.touchMoves=h}onCanvasClicks(a){let h=a.targetTouches.length;if(0==h)this.touchMoves=null;else{let d=[];for(let f=0;f<h;++f)d.push(this.convertMouseEvent(a.targetTouches[f]));this.touchMoves=d}}onMouseUp(a){this.touchMoves=null}onCanvasMouseMove(a){this.touchMoves&&!this.isTouchDevice()&&(this.touchMoves=[this.convertMouseEvent(a)])}isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}requestInputText(a,h){this.config.messageBus.sendMessage(DA.builder().setInputTarget(a).setInputType(h).setTarget("system").setText("input text"))}onAddNewTextClick(a){a.preventDefault(),this.currentRunner.nativeSendMessage(this.inputTextDlg.target,this.inputTextDlg.type,this.inputTextDlg.text),this.inputTextDlg.setModalFlag(!1)}setLessonScore(a,h,d){let f=[],g={"js-es5":this.uiConfig.ui.compilerLearningJsES5Lessons,"js-es6":this.uiConfig.ui.compilerLearningJsES6Lessons,cyrillic:this.uiConfig.ui.compilerLearningCyrillicLessons,"c-js":this.uiConfig.ui.compilerLearningCJsLessons}[a];if(!g)throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u044f\u0437\u044b\u043a: "+a);if(g.getStringValue().trim())try{f=JSON.parse(g.getStringValue())}catch{}f[+h]={score:d,source:this.uiConfig.ui.compilerSourceText.getStringValue()},g.setStringValue(JSON.stringify(f))}routeToLesson(a,h){let f={"js-es5":mi.JS_ES5,"js-es6":mi.JS_ES6,cyrillic:mi.CYR,"c-js":mi.CJS}[a];if(!f)throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u044f\u0437\u044b\u043a: "+a);this.newLessonDlg.text=` ${h}  ${f}`,this.newLessonDlg.setModalFlag(!0)}onStartNewLesson(a){a.preventDefault(),this.newLessonDlg.modalFlag=!1,this.config.messageBus.sendMessage(cl.builder().setTarget("compiler").setText("lesson").setTag(this.newLessonDlg.text))}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(Ys),V(Jl))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-code-runner-text"]],viewQuery:function(h,d){if(1&h&&(si(jMt,5),si(GMt,5)),2&h){let f;Ht(f=Wt())&&(d.canvasContainerRef=f.first),Ht(f=Wt())&&(d.runnerCanvasRef=f.first)}},hostBindings:function(h,d){1&h&&Y("resize",function(p){return d.onResize(p.target)},0,ap)("mousemove",function(p){return d.onMousemove(p)})},inputs:{data:"data"},outputs:{onError:"onError",onClosed:"onClosed",onMessage:"onMessage"},decls:32,vars:3,consts:[[1,"width100"],["canvasContainer",""],["width","1","height","1",1,"border"],["runnerCanvas",""],[1,"s0",3,"clrModalOpen","clrModalOpenChange","click"],[1,"modal-title"],[1,"modal-body"],[3,"data"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(h,d){1&h&&(E(0,"div",0,1),se(2,"canvas",2,3),M(),E(4,"clr-modal",4),Y("clrModalOpenChange",function(p){return d.inputTextDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(5,"h3",5),H(6,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442:"),M(),E(7,"div",6)(8,"div"),H(9,"\xa0"),M(),se(10,"app-dynamic-text-editor",7),E(11,"div"),H(12,"\xa0"),M()(),E(13,"div",8)(14,"button",9),Y("click",function(){return d.inputTextDlg.modalFlag=!1}),H(15,"\u041e\u0442\u043c\u0435\u043d\u0430"),M(),E(16,"button",10),Y("click",function(p){return d.onAddNewTextClick(p)}),H(17,"Ok"),M()()(),E(18,"clr-modal",4),Y("clrModalOpenChange",function(p){return d.newLessonDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(19,"h3",5),H(20,"\u0423\u0440\u043e\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e:"),M(),E(21,"div",6)(22,"div"),H(23,"\xa0"),M(),H(24," \u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u0443\u0440\u043e\u043a\u0443? "),E(25,"div"),H(26,"\xa0"),M()(),E(27,"div",8)(28,"button",9),Y("click",function(){return d.newLessonDlg.modalFlag=!1}),H(29,"\u041e\u0442\u043c\u0435\u043d\u0430"),M(),E(30,"button",10),Y("click",function(p){return d.onStartNewLesson(p)}),H(31,"Ok"),M()()()),2&h&&(I(4),R("clrModalOpen",d.inputTextDlg.modalFlag),I(6),R("data",d.inputTextEditor),I(8),R("clrModalOpen",d.newLessonDlg.modalFlag))},dependencies:[Vo,$o,Gp],styles:[".noBorder[_ngcontent-%COMP%]{border:1px solid transparent}.border[_ngcontent-%COMP%]{border:1px solid lightgray}"]})}return c})();function YMt(c,l){if(1&c&&(E(0,"span",2),H(1),M()),2&c){const a=Q();I(1),ut(a.text)}}function qMt(c,l){if(1&c&&(E(0,"span",2),H(1),M()),2&c){const a=Q(3);I(1),ut(a.text)}}function KMt(c,l){if(1&c){const a=Ae();E(0,"app-dynamic-codemirror",7),Y("textChanged",function(d){return ce(a),ue(Q(3).onCodeTextChanged(d))}),M()}if(2&c){const a=Q(3);R("text",a.lines)("maxHeightStr",a.getHeightStr())("minHeightStr",a.getHeightStr())}}function JMt(c,l){1&c&&se(0,"app-dynamic-errors",11),2&c&&R("data",Q(4).errors)}function eEt(c,l){if(1&c&&(E(0,"div"),se(1,"app-dynamic-codemirror",12),M()),2&c){const a=Q(4);I(1),R("readonly",!0)("text",a.resultLogText)("maxHeightStr","300px")("minHeightStr","100px")}}function tEt(c,l){if(1&c){const a=Ae();E(0,"div")(1,"div",8),H(2,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),M(),X(3,JMt,1,1,"app-dynamic-errors",9),E(4,"app-dynamic-code-runner-text",10),Y("onError",function(d){return ce(a),ue(Q(3).onCodeRunnerError(d))})("onMessage",function(d){return ce(a),ue(Q(3).onCoderRunnerMessage(d))}),M(),E(5,"div",8),H(6,"\u041b\u043e\u0433"),M(),X(7,eEt,2,4,"div",4),M()}if(2&c){const a=Q(3);I(3),R("ngIf",a.errors.errors.length),I(1),R("data",a.runnerData),I(3),R("ngIf",a.resultLogText)}}function nEt(c,l){if(1&c&&(E(0,"div"),X(1,qMt,2,1,"span",0),X(2,KMt,1,3,"app-dynamic-codemirror",6),X(3,tEt,8,3,"div",4),M()),2&c){const a=Q(2);I(1),R("ngIf",!a.isMiltiline()&&a.isCodeEnabled()),I(1),R("ngIf",a.isMiltiline()&&a.isCodeEnabled()),I(1),R("ngIf",a.resultEnabled)}}function iEt(c,l){if(1&c&&(E(0,"span",2),H(1),M()),2&c){const a=Q(4);I(1),ut(a.text)}}function rEt(c,l){if(1&c){const a=Ae();E(0,"app-dynamic-codemirror",7),Y("textChanged",function(d){return ce(a),ue(Q(4).onCodeTextChanged(d))}),M()}if(2&c){const a=Q(4);R("text",a.lines)("maxHeightStr",a.getHeightStr())("minHeightStr",a.getHeightStr())}}const UTe=function(c,l){return{"clr-col-6":c,"clr-col-12":l}};function sEt(c,l){if(1&c&&(E(0,"div",15),X(1,iEt,2,1,"span",0),X(2,rEt,1,3,"app-dynamic-codemirror",6),M()),2&c){const a=Q(3);R("ngClass",mr(3,UTe,a.resultEnabled,!a.resultEnabled)),I(1),R("ngIf",!a.isMiltiline()),I(1),R("ngIf",a.isMiltiline())}}function oEt(c,l){1&c&&se(0,"app-dynamic-errors",11),2&c&&R("data",Q(4).errors)}function aEt(c,l){if(1&c&&(E(0,"div"),se(1,"app-dynamic-codemirror",12),M()),2&c){const a=Q(4);I(1),R("readonly",!0)("text",a.resultLogText)("maxHeightStr","300px")("minHeightStr","100px")}}function lEt(c,l){if(1&c){const a=Ae();E(0,"div",15)(1,"div",16),H(2,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),M(),X(3,oEt,1,1,"app-dynamic-errors",9),E(4,"app-dynamic-code-runner-text",10),Y("onError",function(d){return ce(a),ue(Q(3).onCodeRunnerError(d))})("onMessage",function(d){return ce(a),ue(Q(3).onCoderRunnerMessage(d))}),M(),E(5,"div",8),H(6,"\u041b\u043e\u0433"),M(),X(7,aEt,2,4,"div",4),M()}if(2&c){const a=Q(3);R("ngClass",mr(4,UTe,a.isCodeEnabled(!0),!a.isCodeEnabled(!0))),I(3),R("ngIf",a.errors.errors.length),I(1),R("data",a.runnerData),I(3),R("ngIf",a.resultLogText)}}function cEt(c,l){if(1&c&&(E(0,"div",13),X(1,sEt,3,6,"div",14),X(2,lEt,8,7,"div",14),M()),2&c){const a=Q(2);I(1),R("ngIf",a.isMiltiline()&&a.isCodeEnabled()),I(1),R("ngIf",a.isMiltiline()&&a.resultEnabled)}}function uEt(c,l){if(1&c){const a=Ae();E(0,"div",3),Y("click",function(d){return ce(a),ue(Q().onMultilineClick(d))}),X(1,nEt,4,3,"div",4),X(2,cEt,3,2,"div",5),M()}if(2&c){const a=Q();I(1),R("ngIf",a.vertical),I(1),R("ngIf",!a.vertical)}}let QTe=(()=>{class c{config;data;oldValue=Rr.builder();lines=null;linesCount=0;errors=la.builder();runnerData=vO.builder().updateConfig(a=>a.setWidth(256).setHeight(160).setDebug(!0));requestCodeText="";bVertical=void 0;resultLogText="";get vertical(){return(null!=this.bVertical?this.bVertical:window.innerWidth<window.innerHeight)||!this.isMiltiline()}get codeSpanTextData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}get resultEnabled(){return!!this.codeSpanTextData&&this.codeSpanTextData.config.resultEnabled&&this.codeSpanTextData.config.resultWidth>0&&this.codeSpanTextData.config.resultHeight>0}constructor(a){this.config=a,this.setupEnvironment()}ngOnInit(){this.onResize(),this.codeSpanTextData.config.resultEnabled&&(this.runnerData.text=this.codeSpanTextData.text,this.runnerData.config.setLanguage(this.codeSpanTextData.language).setWidth(this.codeSpanTextData.config.resultWidth).setHeight(this.codeSpanTextData.config.resultHeight),this.applyImageConverter())}onResize(){this.bVertical=window.innerWidth<window.innerHeight}ngOnDestroy(){}ngAfterViewInit(){}setupEnvironment(){let a=new jx,h=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));a.addMethod(h,"\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c",(p,g)=>{let m=g[0],_=p.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(g[1]);return this.onCoderRunnerMessage(_.\u044d\u0442\u043e\u0421\u0442\u0440\u043e\u043a\u0430()?_.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430():JSON.stringify($s.convertToObject(_),null,2)),m}),a.addMethod(h,"\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c\u041b\u043e\u0433",(p,g)=>{let m=g[0];return this.clearLog(),m}),this.runnerData.config.setEnvironment(h)}getLines(){let a=this.text;return this.oldValue.checkAndUpdate(a)&&(this.lines=null,(a.includes("\n")||this.codeSpanTextData.config.resultEnabled)&&(this.lines=a,this.linesCount=this.lines.split("\n").length,this.codeSpanTextData.config.maxVisibleCodeLines>0&&this.linesCount>this.codeSpanTextData.config.maxVisibleCodeLines&&(this.linesCount=this.codeSpanTextData.config.maxVisibleCodeLines),this.codeSpanTextData.config.setResultEnabled(!0),this.runnerData.config.setWidth(this.codeSpanTextData.config.resultWidth).setHeight(this.codeSpanTextData.config.resultHeight))),this.lines}isCodeEnabled(a=!1){return!a||this.codeSpanTextData.config.codeEnabled}isMiltiline(){return null!=this.getLines()||this.codeSpanTextData.config.resultEnabled}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getHeightStr(){return this.codeSpanTextData.config.codeEnabled?"calc("+11*(0+this.linesCount)*1.4+"pt + 8px)":"calc(0px)"}applyImageConverter(){this.codeSpanTextData.setConvertImage((a,h)=>{this.runnerData.convertImage&&this.runnerData.convertImage(a,h)})}onCodeTextChanged(a){this.requestCodeText=a,this.config.post(()=>{this.requestCodeText==a&&(this.onCodeRunnerError(""),this.clearLog(),this.runnerData.text=a),this.applyImageConverter()},3e3)}clearLog(){this.config.post(()=>{this.resultLogText=""})}onCodeRunnerError(a){this.config.post(()=>{this.errors.errors=a?[a]:[]})}onCoderRunnerMessage(a){this.config.post(()=>{this.onCoderRunnerMessageDirect(a)})}onCoderRunnerMessageDirect(a){console.log(`coder runner message: ${a}`),this.resultLogText&&(this.resultLogText+="\n"),this.resultLogText+=a}onMultilineClick(a){a.stopPropagation(),a.preventDefault()}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-code-span-text"]],hostBindings:function(h,d){1&h&&Y("resize",function(p){return d.onResize(p.target)},0,ap)},inputs:{data:"data"},decls:2,vars:2,consts:[["class","bg-2",4,"ngIf"],[3,"click",4,"ngIf"],[1,"bg-2"],[3,"click"],[4,"ngIf"],["class","clr-row",4,"ngIf"],[3,"text","maxHeightStr","minHeightStr","textChanged",4,"ngIf"],[3,"text","maxHeightStr","minHeightStr","textChanged"],[1,"green","bottom-top-space"],[3,"data",4,"ngIf"],[3,"data","onError","onMessage"],[3,"data"],[3,"readonly","text","maxHeightStr","minHeightStr"],[1,"clr-row"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"green"]],template:function(h,d){1&h&&(X(0,YMt,2,1,"span",0),X(1,uEt,3,2,"div",1)),2&h&&(R("ngIf",!d.isMiltiline()),I(1),R("ngIf",d.isMiltiline()))},dependencies:[ei,mn,_f,ZT,vG],styles:[".noBorder[_ngcontent-%COMP%]{border:1px solid transparent}"]})}return c})();function hEt(c,l){1&c&&(E(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31),se(4,"cds-icon",32),M(),E(5,"span",33),H(6,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0443\u043b\u0443, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u043b(x*sin(x),x)"),M()()()())}function dEt(c,l){1&c&&(E(0,"h5",4),H(1,"\u0420\u0435\u0448\u0435\u043d\u0438\u0435:"),M())}function fEt(c,l){if(1&c&&(E(0,"div",34)(1,"div",10),se(2,"app-d3-svg",7),M()()),2&c){const a=l.$implicit,h=Q();I(2),R("generator",h.generator)("d3Config",a)}}function pEt(c,l){if(1&c){const a=Ae();E(0,"div",6)(1,"button",25),Y("click",function(){ce(a);const d=Q();return ue(d.onSelectFormula(d.d3Configs[d.d3Configs.length-1]))}),se(2,"cds-icon",35),H(3," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443\u043b\u0443"),M()()}}function gEt(c,l){if(1&c){const a=Ae();E(0,"div",38)(1,"div",39)(2,"img",40),Y("click",function(){const f=ce(a).$implicit;return ue(Q(2).deleteImage(f))}),M()(),E(3,"h4",41),H(4),M()()}if(2&c){const a=l.$implicit;I(2),R("src",a.link,Rd),I(2),ut(a.name)}}function mEt(c,l){if(1&c&&(E(0,"div",36)(1,"h5",4),H(2,"\u0413\u0440\u0430\u0444\u0438\u043a\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438:"),M(),X(3,gEt,5,2,"div",37),M()),2&c){const a=Q();I(3),R("ngForOf",a.screenshots)}}class _G extends YYe{mathName;constructor(l){super(),this.mathName=l}visitFuncValue(l){return l.setName(this.mathName+"."+l.name),!0}setMathName(l){return this.mathName=l,this}static builder(){return new _G("\u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430")}}let vEt=(()=>{class c{uiConfig;config;themes;mathSvc;calcSettingsSvc;template="";data;created=!1;generator=new YE;d3Configs=[];d3ConfigFormulaText=P1.builder();solving=!1;maxScale=1e5;minScale=1e-5;scaleK=1.2;valignClasses=[{},{}];updateDelay=-1;codeSpanTextData=TA.builder().updateConfig(a=>a.setResultEnabled(!0).setMaxVisibleCodeLines(30).setCodeEnabled(!1)).setLanguage(ni.JsES6).setText(this.template);screenshots=[];imageId=1;workerSvc=gl.builder();newImageName(){return"\u0413\u0440\u0430\u0444\u0438\u043a "+this.imageId++}get scaleX(){return this.uiConfig.ui.calculatorScaleX.getNumberValue()}set scaleX(a){this.uiConfig.ui.calculatorScaleX.setNumberValue(a)}get scaleY(){return this.uiConfig.ui.calculatorScaleY.getNumberValue()}set scaleY(a){this.uiConfig.ui.calculatorScaleY.setNumberValue(a)}get zeroX(){return this.uiConfig.ui.calculatorZeroX.getNumberValue()}set zeroX(a){this.uiConfig.ui.calculatorZeroX.setNumberValue(a)}get zeroY(){return this.uiConfig.ui.calculatorZeroY.getNumberValue()}set zeroY(a){this.uiConfig.ui.calculatorZeroY.setNumberValue(a)}get offsetX(){return this.uiConfig.ui.calculatorOffsetX.getNumberValue()}set offsetX(a){this.uiConfig.ui.calculatorOffsetX.setNumberValue(a)}get offsetY(){return this.uiConfig.ui.calculatorOffsetY.getNumberValue()}set offsetY(a){this.uiConfig.ui.calculatorOffsetY.setNumberValue(a)}get viewWidth(){return this.uiConfig.ui.calculatorViewWidth.getNumberValue()}set viewWidth(a){this.uiConfig.ui.calculatorViewWidth.setNumberValue(a)}get offsetIncrement(){return this.uiConfig.ui.calculatorIncrement.getNumberValue()}set offsetIncrement(a){this.uiConfig.ui.calculatorIncrement.setNumberValue(a)}get valign(){return this.uiConfig.ui.calculatorVAlign.getStringValue()}set valign(a){this.uiConfig.ui.calculatorVAlign.setStringValue(a)}get formulaText(){return this.uiConfig.ui.calculatorFormulaText.getStringValue()}set formulaText(a){this.uiConfig.ui.calculatorFormulaText.setStringValue(a),this.onUpdateFormulaTextConfig()}get calcData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}get component(){return this.calcData.components.length?this.calcData.components[0]:null}get components(){return this.calcData.components}constructor(a,h,d,f,p){this.uiConfig=a,this.config=h,this.themes=d,this.mathSvc=f,this.calcSettingsSvc=p}ngOnInit(){this.workerSvc.enabled()&&this.workerSvc.setOnMessage(h=>{this.config.post(()=>{this.solving=!1,this.onMathSolved(h.formula)})}),this.created=!0;let a=()=>{this.created&&(0==--this.updateDelay&&this.applyAxesColorsDirect(),this.config.post(a,1e3))};this.calcSettingsSvc.getTemplateDirect("calc.txt").then(h=>{h.success&&this.config.post(()=>{this.template=h.template,this.codeSpanTextData.setText(h.template),this.onUpdateFormulaTextConfig(),this.applyAxesColorsDirect()},1)}),this.config.post(a,1e3)}ngOnDestroy(){this.created=!1}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}onMathSolved(a){let h=this.themes.nowIsDay(),d="#0d233a",f=h?"white":"lightgrey",p=h?f:d,g=h?d:f;try{this.d3Configs=[];let v=(new HE).parse(a);v.forEach(b=>{let O=b.toString(),C=P1.builder().setColorBackground(p).setColorMain(g).setColorText(g).setColorLines(g).setLineWidth(1);C.addParam("\u0442\u0435\u043a\u0441\u0442",O),this.d3Configs.push(C)});let _=v[v.length-1],y=_.value?.clone();if(y){qYe.visit(y,_G.builder().setMathName("Math"));let b=S=>{if(S.isId()){let w=S.name.toLowerCase();return"pi"!=w&&"e"!=w}return!0},O=_.variables.filter(S=>!S.constant&&b(S.name)).map(S=>S.name).join(","),C=_.variables.filter(S=>S.constant&&b(S.name)).map(S=>"var "+S.name+" = 0;").join("");C+=" var Pi = Math.PI; var pi = Math.PI; var PI = Math.PI; var pI = Math.PI;",C+=" var e = Math.E; var E = Math.E;",this.codeSpanTextData.setText(this.template.replace(/\/\*\{\{FB=\*\/.+\/\*=FB\}\}\*\//g,y.toString()).replace(/\/\*\{\{FA=\*\/.+\/\*=FA\}\}\*\//g,O).replace(/\/\*\{\{FCONST=\*\/.+\/\*=FCONST\}\}\*\//g,C).replace(/\/\*\{\{FCOLOR=\*\/.+\/\*=FCOLOR\}\}\*\//g,"'red'")),this.applyAxesColors()}}catch(m){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0444\u043e\u0440\u043c\u0443\u043b\u0435: "+a),console.log(m)}}applyAxesColors(){this.updateDelay=3}applyAxesColorsDirect(){this.config.post(()=>{let a=this.themes.nowIsDay(),h="#0d233a";this.codeSpanTextData.setText(this.codeSpanTextData.text.replace(/\/\*\{\{BGCOLOR=\*\/.+\/\*=BGCOLOR\}\}\*\//g,a?"'white'":`'${h}'`).replace(/\/\*\{\{AC=\*\/.+\/\*=AC\}\}\*\//g,a?`'${h}'`:"'white'").replace(/\/\*\{\{AC2=\*\/.+\/\*=AC2\}\}\*\//g,a?"'#444444'":"'#DDDDDD'").replace(/\/\*\{\{AC3=\*\/.+\/\*=AC3\}\}\*\//g,"'#888888'").replace(/\/\*\{\{SCALEX=\*\/.+\/\*=SCALEX\}\}\*\//g,`/*{{SCALEX=*/ ${this.scaleX} /*=SCALEX}}*/`).replace(/\/\*\{\{SCALEY=\*\/.+\/\*=SCALEY\}\}\*\//g,`/*{{SCALEY=*/ ${this.scaleY} /*=SCALEY}}*/`).replace(/\/\*\{\{OFFSETX=\*\/.+\/\*=OFFSETX\}\}\*\//g,`/*{{OFFSETX=*/ ${this.offsetX} /*=OFFSETX}}*/`).replace(/\/\*\{\{OFFSETY=\*\/.+\/\*=OFFSETY\}\}\*\//g,`/*{{OFFSETY=*/ ${this.offsetY} /*=OFFSETY}}*/`).replace(/\/\*\{\{ZEROX=\*\/.+\/\*=ZEROX\}\}\*\//g,`/*{{ZEROX=*/ ${this.zeroX} /*=ZEROX}}*/`).replace(/\/\*\{\{ZEROY=\*\/.+\/\*=ZEROY\}\}\*\//g,`/*{{ZEROY=*/ ${this.zeroY} /*=ZEROY}}*/`).replace(/\/\*\{\{HALFWIDTH=\*\/.+\/\*=HALFWIDTH\}\}\*\//g,`/*{{HALFWIDTH=*/ ${this.viewWidth/2} /*=HALFWIDTH}}*/`).replace(/\/\*\{\{VALIGN=\*\/.+\/\*=VALIGN\}\}\*\//g,`/*{{VALIGN=*/ '${this.valign}' /*=VALIGN}}*/`))})}getFormulaTextFormated(){let a=this.formulaText,h=!1,d=!1;for(let f=a.length-1;f>0;--f)switch(a.substring(f,f+1)){case".":if(h){f=0;break}h=!0;break;case";":d=!0,f=0;break;case"\r":case"\n":case"\t":case" ":break;default:f=0}return d||(a+=";"),h||(a+="."),a}getFormulaTextFormattedAndConverted(){let a=this.getFormulaTextFormated(),h=new HE,d=this.formulaText;try{let f=h.parse(a);f&&(d=f.toString())}catch{}return d}isFormulaTextValid(){let a=this.getFormulaTextFormated(),h=new HE;try{return!!h.parse(a)}catch{return!1}}onSolve(){this.solving=!0,this.config.isRestServerType()?this.mathSvc.mathSolve(this.getFormulaTextFormattedAndConverted()).then(a=>{this.solving=!1,this.onMathSolved(a&&a.success?a.text:"")}):this.workerSvc.sendMessage(Eut.builder().setFormula(this.getFormulaTextFormattedAndConverted()))}onUpdateFormulaTextConfig(){let a=this.themes.nowIsDay(),h="#0d233a",d=a?"white":"lightgrey",f=a?d:h,p=a?h:d,g=P1.builder().setColorBackground(f).setColorMain(p).setColorText(p).setColorLines(p).setLineWidth(1);g.addParam("\u0442\u0435\u043a\u0441\u0442",this.getFormulaTextFormattedAndConverted()),this.d3ConfigFormulaText=g,this.d3Configs=[],this.applyAxesColors()}onSelectFormula(a){this.formulaText=a.params.get("\u0442\u0435\u043a\u0441\u0442")}get sViewWidth(){return""+this.viewWidth}set sViewWidth(a){let h=+a;Number.isNaN(h)||(this.viewWidth=h,this.config.post(()=>{this.applyAxesColors()}))}get sOffsetIncrement(){return""+this.offsetIncrement}set sOffsetIncrement(a){let h=+a;Number.isNaN(h)||(this.offsetIncrement=h)}get sZeroX(){return""+this.zeroX}set sZeroX(a){let h=+a;Number.isNaN(h)||(this.zeroX=h,this.config.post(()=>{this.applyAxesColors()}))}get sZeroY(){return""+this.zeroY}set sZeroY(a){let h=+a;Number.isNaN(h)||(this.zeroY=h,this.config.post(()=>{this.applyAxesColors()}))}get sScaleX(){return""+this.scaleX}set sScaleX(a){let h=+a;Number.isNaN(h)||(this.scaleX=h,this.config.post(()=>{this.applyAxesColors()}))}get sScaleY(){return""+this.scaleY}set sScaleY(a){let h=+a;Number.isNaN(h)||(this.scaleY=h,this.config.post(()=>{this.applyAxesColors()}))}get sOffsetX(){return""+this.offsetX}set sOffsetX(a){let h=+a;Number.isNaN(h)||(this.offsetX=h,this.config.post(()=>{this.applyAxesColors()}))}get sOffsetY(){return""+this.offsetY}set sOffsetY(a){let h=+a;Number.isNaN(h)||(this.offsetY=h,this.config.post(()=>{this.applyAxesColors()}))}resetScaleX(){this.scaleX=1,this.config.post(()=>{this.applyAxesColors()})}resetScaleY(){this.scaleY=1,this.config.post(()=>{this.applyAxesColors()})}incScaleX(){this.scaleX<this.maxScale&&(this.scaleX*=this.scaleK,this.config.post(()=>{this.applyAxesColors()}))}decScaleX(){this.scaleX>this.minScale&&(this.scaleX/=this.scaleK,this.config.post(()=>{this.applyAxesColors()}))}incScaleY(){this.scaleY<this.maxScale&&(this.scaleY*=this.scaleK,this.config.post(()=>{this.applyAxesColors()}))}decScaleY(){this.scaleY>this.minScale&&(this.scaleY/=this.scaleK,this.config.post(()=>{this.applyAxesColors()}))}onMakeScreenshot(){this.codeSpanTextData.convertImage&&this.codeSpanTextData.convertImage(this.newImageName(),a=>{this.screenshots.push(a)})}deleteImage(a){let h=this.screenshots.indexOf(a);h>=0&&this.screenshots.splice(h,1)}doLeft(){this.offsetX-=this.offsetIncrement*this.viewWidth*this.scaleX,this.config.post(()=>{this.applyAxesColors()})}doRight(){this.offsetX+=this.offsetIncrement*this.viewWidth*this.scaleX,this.config.post(()=>{this.applyAxesColors()})}doUp(){this.offsetY+=this.offsetIncrement*this.viewWidth*this.scaleY,this.config.post(()=>{this.applyAxesColors()})}doDown(){this.offsetY-=this.offsetIncrement*this.viewWidth*this.scaleY,this.config.post(()=>{this.applyAxesColors()})}resetOffsetX(){this.offsetX=0,this.config.post(()=>{this.applyAxesColors()})}resetOffsetY(){this.offsetY=0,this.config.post(()=>{this.applyAxesColors()})}setValign(a){this.valign=a,this.config.post(()=>{this.applyAxesColors()})}isValign(a){return this.valign===a}getClass(a){let h=this.isValign(a)?1:0;return this.valignClasses[h][a]||(this.valignClasses[h][a]={"btn-block":!0,blue:h,greenBtn:!h,cursor:!0}),this.valignClasses[h][a]}isAndroid(){return this.config.isRestServerType()}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt),V(Ys),V(km),V(W1e))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-calculator-view"]],inputs:{data:"data"},decls:65,vars:21,consts:[[3,"ngClass"],[1,"print-only","center"],[1,"blue"],[1,"green"],[1,"greenBtn"],[3,"maxHeightStr","autocompleteType","text","textChanged"],[1,"no-print"],[3,"generator","d3Config"],["class","alert alert-warning no-print","role","alert",4,"ngIf"],[1,"clr-row","no-print"],[1,"clr-col-12"],[1,"btn","btn-primary-outline","btn-block",3,"disabled","click"],["class","greenBtn",4,"ngIf"],["class","clr-row",4,"ngFor","ngForOf"],["class","no-print",4,"ngIf"],[1,"clr-row","top-space","clr-hidden-sm-down","no-print"],[1,"clr-col-4"],[1,"btn-block","blue","cursor"],[1,"clr-col-2","center"],[3,"ngClass","click"],[1,"clr-row","top-space","clr-hidden-md-up","no-print"],[1,"clr-col-12","center"],[1,"clr-row","clr-hidden-md-up","no-print"],[1,"clr-col-3","center"],[3,"data"],["aria-label","arrow",1,"btn","btn-link","btn-block",3,"click"],["shape","plus-circle"],["class","w100 pageBreakBefore",4,"ngIf"],["role","alert",1,"alert","alert-warning","no-print"],[1,"alert-items"],[1,"alert-item","static"],[1,"alert-icon-wrapper"],["shape","exclamation-triangle",1,"alert-icon"],[1,"alert-text"],[1,"clr-row"],["shape","arrow"],[1,"w100","pageBreakBefore"],["class","top-space",4,"ngFor","ngForOf"],[1,"top-space"],[1,"content-container","centeredImage"],["width","100%","height","100%",1,"cursor",3,"src","click"],[1,"center","green"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"h4",1)(2,"b")(3,"span",2),H(4,"\u0414\u0435\u0432\u0438\u0441\u043a\u0438\u043d"),M()()(),E(5,"h4",1)(6,"b")(7,"span",3),H(8,"\u0420\u0435\u0448IDE - \u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440"),M()()(),E(9,"h4",1)(10,"span",2),H(11,"https://deviskin.github.io"),M()(),E(12,"h5",4),H(13,"\u0424\u043e\u0440\u043c\u0443\u043b\u0430:"),M(),E(14,"app-dynamic-codemirror",5),Y("textChanged",function(p){return d.formulaText=p}),M(),E(15,"div",6),se(16,"app-d3-svg",7),M(),X(17,hEt,7,0,"div",8),E(18,"div",9)(19,"div",10)(20,"button",11),Y("click",function(){return d.onSolve()}),H(21,"\u0420\u0435\u0448\u0438\u0442\u044c"),M()()(),X(22,dEt,2,0,"h5",12),X(23,fEt,3,2,"div",13),X(24,pEt,4,0,"div",14),E(25,"div",15)(26,"div",16)(27,"span",17),H(28,"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435:"),M()(),E(29,"div",18)(30,"span",19),Y("click",function(){return d.setValign("\u0432\u0435\u0440\u0445")}),H(31,"\u0412\u0415\u0420\u0425"),M()(),E(32,"div",18)(33,"span",19),Y("click",function(){return d.setValign("\u0446\u0435\u043d\u0442\u0440")}),H(34,"\u0426\u0415\u041d\u0422\u0420"),M()(),E(35,"div",18)(36,"span",19),Y("click",function(){return d.setValign("\u043d\u0438\u0437")}),H(37,"\u041d\u0418\u0417"),M()(),E(38,"div",18)(39,"span",19),Y("click",function(){return d.setValign("\u043d\u0443\u043b\u044c")}),H(40,"\u041d\u0423\u041b\u042c"),M()()(),E(41,"div",20)(42,"div",21)(43,"span",17),H(44,"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435:"),M()()(),E(45,"div",22)(46,"div",23)(47,"span",19),Y("click",function(){return d.setValign("\u0432\u0435\u0440\u0445")}),H(48,"\u0412\u0415\u0420\u0425"),M()(),E(49,"div",23)(50,"span",19),Y("click",function(){return d.setValign("\u0446\u0435\u043d\u0442\u0440")}),H(51,"\u0426\u0415\u041d\u0422\u0420"),M()(),E(52,"div",23)(53,"span",19),Y("click",function(){return d.setValign("\u043d\u0438\u0437")}),H(54,"\u041d\u0418\u0417"),M()(),E(55,"div",23)(56,"span",19),Y("click",function(){return d.setValign("\u043d\u0443\u043b\u044c")}),H(57,"\u041d\u0423\u041b\u042c"),M()()(),E(58,"div",6),se(59,"app-dynamic-code-span-text",24),M(),E(60,"div",6)(61,"button",25),Y("click",function(){return d.onMakeScreenshot()}),se(62,"cds-icon",26),H(63," \u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u0433\u0440\u0430\u0444\u0438\u043a"),M()(),X(64,mEt,4,1,"div",27),M()),2&h&&(R("ngClass",d.getClasses()),I(14),R("maxHeightStr","100px")("autocompleteType","math")("text",d.formulaText),I(2),R("generator",d.generator)("d3Config",d.d3ConfigFormulaText),I(1),R("ngIf",""==d.formulaText),I(3),R("disabled",d.solving||!d.isFormulaTextValid()),I(2),R("ngIf",d.d3Configs.length),I(1),R("ngForOf",d.d3Configs),I(1),R("ngIf",d.d3Configs.length),I(6),R("ngClass",d.getClass("\u0432\u0435\u0440\u0445")),I(3),R("ngClass",d.getClass("\u0446\u0435\u043d\u0442\u0440")),I(3),R("ngClass",d.getClass("\u043d\u0438\u0437")),I(3),R("ngClass",d.getClass("\u043d\u0443\u043b\u044c")),I(8),R("ngClass",d.getClass("\u0432\u0435\u0440\u0445")),I(3),R("ngClass",d.getClass("\u0446\u0435\u043d\u0442\u0440")),I(3),R("ngClass",d.getClass("\u043d\u0438\u0437")),I(3),R("ngClass",d.getClass("\u043d\u0443\u043b\u044c")),I(3),R("data",d.codeSpanTextData),I(5),R("ngIf",d.screenshots.length))},dependencies:[ei,Gn,mn,gf,Vn,Kde,ZT,QTe],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}.centeredImage[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto}"]})}return c})();class yG{constructor(){}static builder(){return new yG}}class e_ extends ti{classes;id="";waitingForSenderId="";components=[];fullScreen=!1;readonly=!1;height="";constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new e_("",null,null,yG.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setId(l){return this.id=l,this}setWaitingForSenderid(l){return this.waitingForSenderId=l,this}setComponents(l){return this.components=l,this}setFullScreen(l){return this.fullScreen=l,this}setHeight(l){return this.height=l,this}setReadonly(l){return this.readonly=l,this}}function _Et(c,l){if(1&c){const a=Ae();E(0,"app-dynamic-fab",3),Y("onFABChange",function(d){return ce(a),ue(Q().onFABClick(d))}),M()}if(2&c){const a=Q();R("data",a.fabData)("infos",a.fabInfos)}}const yEt=function(c){return{stdscreen:c}};let KR=(()=>{class c{config;uiConfig;data=null;created=!1;selectedLineEventEmitter=new Tt;breakpointsEventEmitter=new Tt;set selectedLine(a){this.selectedLineEventEmitter.emit(a)}codemirrorData=Yx.builder().setMessageTarget("\u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440").setMessageUndoText("\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f").setEnableBreakpoints(!0);generator=new YE;sCompilerSourceText="";fabData=yA.builder().setMainBtnText("X").setDown(!1).setFullScreen(!0);fabInfos=[vf.builder().setName("\u041d\u043e\u0432\u044b\u0439")];selectLineSubscription=null;get cmHeight(){return this.compilerData.fullScreen?"100%":this.compilerData.height?this.compilerData.height:"calc(100vh - 60px - 48px)"}get formulaText(){return this.sCompilerSourceText!=this.uiConfig.ui.compilerSourceText.getStringValue()&&this.config.post(()=>{this.sCompilerSourceText=this.uiConfig.ui.compilerSourceText.getStringValue()}),this.sCompilerSourceText}set formulaText(a){this.uiConfig.ui.compilerSourceText.setStringValue(a),this.onUpdateSourceTextConfig()}get compilerData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}get component(){return this.compilerData.components.length?this.compilerData.components[0]:null}get components(){return this.compilerData.components}constructor(a,h){this.config=a,this.uiConfig=h}ngOnInit(){this.selectLineSubscription=this.config.messageBus.addHandler(a=>{"source"==a.target&&"line"==a.text&&a.tag&&(this.selectedLine=a.tag)}),this.onUpdateSourceTextConfig(),this.codemirrorData.autocompleteType="",this.config.post(()=>{this.compilerData.fullScreen&&this.uiConfig.enableUpperMenu(!1),this.compilerData.height||this.uiConfig.enableMainContainer(!1)}),this.uiConfig.incHideOverflow(),this.created=!0}ngOnDestroy(){this.selectLineSubscription&&(this.selectLineSubscription.unsubscribe(),this.selectLineSubscription=null),this.uiConfig.decHideOverflow(),this.config.post(()=>{this.compilerData.fullScreen&&this.uiConfig.enableUpperMenu(!0),this.compilerData.height||this.uiConfig.enableMainContainer(!0)}),this.created=!1}ngAfterViewInit(){}onClick(a){this.data?.onClick&&(this.data.onClick(this.data),a.stopPropagation())}isFormulaTextValid(){return!0}onRun(){this.codemirrorData.click("\u0441\u0442\u0430\u0440\u0442")}onUpdateSourceTextConfig(){this.getLineFromPos(0,!0)}onSelectFormula(a){this.formulaText=a.params.get("\u0442\u0435\u043a\u0441\u0442")}isFabNeeded(){return this.compilerData.fullScreen}onFABClick(a){this.config.messageBus.sendMessage(cl.builder().setTarget("compiler").setText("reset"))}onNewBreakPoint(a){this.config.post(()=>{let d=this.getLineFromPos(a.pos)+1;if(a.enabled&&(this.selectedLine={lineStart:d,lineEnd:d}),this.config.breakpoints||(this.config.breakpoints=[]),this.config.breakpoints){let f=a.pos;for(;this.config.debugPositionsToLineMap&&this.config.debugPositionsToLineMap[f]==d;)this.config.breakpoints[f++]=a.enabled}},1)}getLineFromPos(a,h=!1){let d=this.codemirrorData.text.split("\n"),f=-1,p=a,g=h?[]:null,m=0;return d.forEach((v,_)=>{if(null!=g){let y=_+1;_>0&&(g[m++]=y);let b=m+v.length;for(;m<b;)g[m++]=y}p>=0&&(++f,p-=Math.min(p+1,v.length+1))}),g&&(this.config.debugPositionsToLineMap=g),f}onTextChanged(a){this.formulaText=a}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-compiler-view"]],inputs:{data:"data"},decls:3,vars:10,consts:[[3,"ngClass"],[3,"data","infos","onFABChange",4,"ngIf"],[3,"maxHeightStr","data","readonly","text","addSelectedLineEventEmitter","addBreakpointsEventEmitter","textChanged","breakPoints"],[3,"data","infos","onFABChange"]],template:function(h,d){1&h&&(E(0,"div",0),X(1,_Et,1,2,"app-dynamic-fab",1),E(2,"app-dynamic-codemirror",2),Y("textChanged",function(p){return d.onTextChanged(p)})("breakPoints",function(p){return d.onNewBreakPoint(p)}),M()()),2&h&&(R("ngClass",xr(8,yEt,!d.compilerData.fullScreen)),I(1),R("ngIf",d.isFabNeeded()),I(1),R("maxHeightStr",d.cmHeight)("data",d.codemirrorData)("readonly",!(null==d.data||!d.data.readonly))("text",d.formulaText)("addSelectedLineEventEmitter",d.selectedLineEventEmitter)("addBreakpointsEventEmitter",d.breakpointsEventEmitter))},dependencies:[ei,mn,ZT,wA],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}.fullscreen[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden}.stdscreen[_ngcontent-%COMP%]{height:calc(100vh - 108px)}"]})}return c})();class bG{constructor(){}static builder(){return new bG}}class OG extends ti{classes;id="";waitingForSenderId="";components=[];constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new OG("",null,null,bG.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setId(l){return this.id=l,this}setWaitingForSenderid(l){return this.waitingForSenderId=l,this}setComponents(l){return this.components=l,this}}var hr=function(c){return c[c.Normal=0]="Normal",c[c.SunDay=1]="SunDay",c[c.Liturgiya=2]="Liturgiya",c[c.Heightlited=3]="Heightlited",c}(hr||{});class HTe{link;name;minWidth;minHeight;maxWidth;maxHeight;data;fullSize=!1;constructor(l,a,h,d,f,p){this.link=l,this.name=a,this.minWidth=h,this.minHeight=d,this.maxWidth=f,this.maxHeight=p}}class er{x;y;constructor(l,a){this.x=l,this.y=a}middle(l){return new er((this.x+l.x)/2,(this.y+l.y)/2)}sub(l){return new er(this.x-l.x,this.y-l.y)}addSet(l){return this.x+=l.x,this.y+=l.y,this}mulSet(l){return this.x*=l.x,this.y*=l.y,this}}class Wf{point;round;point1;point2;constructor(l,a,h,d){this.point=l,this.round=a,this.point1=h,this.point2=d}}var pa=function(c){return c[c.Calendar=0]="Calendar",c[c.CompilerLogo=1]="CompilerLogo",c[c.Memorial=2]="Memorial",c}(pa||{});class hc{a4Width;a4Height;a4Scale;strokeAndFillStyle;fileName;x;y;w;h;xCount;yCount;lineWidth;bgColor;fillColor;fillSundayColor;fillLiturgiyaColor;fillHeightlitedColor;mode;scale;logoName;logoNameSmall;text2Scale;textBold;textItalic;text2Bold;text2Italic;columnCount1;columnCount2;constructor(l,a,h,d,f,p,g,m,v,_,y,b,O,C,S,w,x,T,D=1,k="SQL",P="lite",N=.5,F=!0,L=!1,$=!0,U=!1,z=3,ee=4){this.a4Width=l,this.a4Height=a,this.a4Scale=h,this.strokeAndFillStyle=d,this.fileName=f,this.x=p,this.y=g,this.w=m,this.h=v,this.xCount=_,this.yCount=y,this.lineWidth=b,this.bgColor=O,this.fillColor=C,this.fillSundayColor=S,this.fillLiturgiyaColor=w,this.fillHeightlitedColor=x,this.mode=T,this.scale=D,this.logoName=k,this.logoNameSmall=P,this.text2Scale=N,this.textBold=F,this.textItalic=L,this.text2Bold=$,this.text2Italic=U,this.columnCount1=z,this.columnCount2=ee}setColumnCount1(l){return this.columnCount1=l,this}setColumnCount2(l){return this.columnCount2=l,this}}class WTe{config;uiConfig;strokeAndFillStyle="";extraSeparator="-";contextNullable=null;calendarAccuratePeriodEnabled=!0;calendarDaysDeltaPosition="\u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435";get context(){if(!this.contextNullable)throw new Error("No context.");return this.contextNullable}setContext(l){this.contextNullable=l}constructor(l,a){this.config=l,this.uiConfig=a}drawField(l,a,h,d,f,p,g,m,v,_,y=hr.Normal,b=!1,O="",C=!1,S=!1,w=1,x=!1){let T=Array.isArray(y)?y:[y],D=!!h||b,k=a+h,P=this.context,N=Math.round(g),F="Arial";P.font=h?(C?"italic ":"")+`bold ${N}px ${F}`:(C?"italic ":"")+(m?"bold ":"")+`${N}px ${F}`,P.textBaseline="middle",P.textAlign="center";let U=1,z=!1;{let ee=k.length<=2||k.search(/[\u0430-\u044f\u0451]+/i)>=0,te=P.measureText(D?k:ee?"44":this.extraSeparator+"44.44");if(te.width>p/w){let j=p/w-2*l.lineWidth;U*=j/te.width,void 0===te.fontBoundingBoxAscent||void 0===te.fontBoundingBoxDescent?z=!!h&&"\u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435"==this.calendarDaysDeltaPosition:"\u043b\u044e\u0431\u043e\u0435"==this.calendarDaysDeltaPosition?D&&(te.fontBoundingBoxAscent+te.fontBoundingBoxDescent)*j/te.width<=g/2&&(z=k.search(this.extraSeparator)>=0):z=!!h&&"\u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435"==this.calendarDaysDeltaPosition}}if(z){this.drawFieldDirect(l,a,"",d,f,p,g/2,m,v,_,T,b,O,C,S,w,x);let ee=h;ee.startsWith(this.extraSeparator)&&(ee=ee.substring(1)),this.drawFieldDirect(l,ee,"",d,f+g/2,p,g/2,m,v,_,T,b,O,C,S,w,x)}else this.drawFieldDirect(l,a,h,d,f,p,g,m,v,_,T,b,O,C,S,w,x)}drawFieldDirect(l,a,h,d,f,p,g,m,v,_,y=hr.Normal,b=!1,O="",C=!1,S=!1,w=1,x=!1){let T=this.calendarAccuratePeriodEnabled&&a.search(".")>=0&&h?"-"+h.substr(1):h,D=!!T||b,k=a+(this.calendarAccuratePeriodEnabled&&a.search(".")>=0&&T?"-"+T.substr(1):T),P=this.context,N=Array.isArray(y)?y:[y],z=he=>{switch(N.length){case 1:P.fillRect(d,f,p,g);break;case 2:(he=>{he?(P.beginPath(),P.lineWidth=0,P.moveTo(d+0,f+g),P.lineTo(d+p,f+g),P.lineTo(d+p,f+0),P.lineTo(d+0,f+g),P.fill()):(P.beginPath(),P.lineWidth=0,P.moveTo(d+0,f+0),P.lineTo(d+0,f+g),P.lineTo(d+p,f+0),P.lineTo(d+0,f+0),P.fill())})(he);break;case 3:(he=>{switch(he%3){case 0:P.beginPath(),P.lineWidth=0,P.moveTo(d+0,f+0),P.lineTo(d+p/2,f+g/2),P.lineTo(d+0,f+g),P.lineTo(d+0,f+0),P.fill();break;case 1:P.beginPath(),P.lineWidth=0,P.moveTo(d+0,f+0),P.lineTo(d+p/2,f+g/2),P.lineTo(d+p,f+0),P.lineTo(d+0,f+0),P.fill();break;default:P.beginPath(),P.lineWidth=0,P.moveTo(d+0,f+g),P.lineTo(d+p,f+g),P.lineTo(d+p,f+0),P.lineTo(d+0,f+g),P.fill()}})(he);break;default:(he=>{switch(he%4){case 0:P.beginPath(),P.lineWidth=0,P.moveTo(d+0,f+0),P.lineTo(d+p/2,f+g/2),P.lineTo(d+0,f+g),P.lineTo(d+0,f+0),P.fill();break;case 1:P.beginPath(),P.lineWidth=0,P.moveTo(d+0,f+0),P.lineTo(d+p/2,f+g/2),P.lineTo(d+p,f+0),P.lineTo(d+0,f+0),P.fill();break;case 2:P.beginPath(),P.lineWidth=0,P.moveTo(d+p,f+0),P.lineTo(d+p/2,f+g/2),P.lineTo(d+p,f+g),P.lineTo(d+p,f+0),P.fill();break;case 3:P.beginPath(),P.lineWidth=0,P.moveTo(d+0,f+g),P.lineTo(d+p/2,f+g/2),P.lineTo(d+p,f+g),P.lineTo(d+0,f+g),P.fill()}})(he)}};N.forEach((he,de)=>{(he=>{switch(N[he%N.length]){case hr.SunDay:P.fillStyle=l.fillSundayColor,z(he);break;case hr.Liturgiya:P.fillStyle=l.fillLiturgiyaColor,z(he);break;case hr.Heightlited:P.fillStyle=l.fillHeightlitedColor,z(he);break;default:P.fillStyle=l.bgColor,z(he)}P.fillStyle=l.fillColor})(de)}),v&&(P.beginPath(),P.lineWidth=l.lineWidth,P.strokeStyle=this.getStrokeStyle(),P.moveTo(d,f+0),P.lineTo(d,f+g),P.moveTo(d+p,f+0),P.lineTo(d+p,f+g),P.stroke()),x&&(P.beginPath(),P.lineWidth=l.lineWidth,P.strokeStyle=this.getStrokeStyle(),P.moveTo(d,f+l.lineWidth/2),P.lineTo(d+p,f+l.lineWidth/2),P.stroke()),_&&(P.beginPath(),P.lineWidth=l.lineWidth,P.strokeStyle=this.getStrokeStyle(),P.moveTo(d,f+g-l.lineWidth/2),P.lineTo(d+p,f+g-l.lineWidth/2),P.stroke());let te=Math.ceil(g),B="Arial",j=(C?"italic ":"")+(m?"bold ":"")+`${te}px ${B}`,W=(C?"italic ":"")+`bold ${te}px ${B}`;P.font=T?W:j,P.textBaseline="middle",P.textAlign="center";let q=0,G=1,K=(he,de,ke)=>{let xe=he.length<=2||he.search(/[\u0430-\u044f\u0451]+/i)>=0,Ie=P.measureText(D?he:xe?"44":this.extraSeparator+"44.44"),Ze=P.measureText("\u0419\u0440"),Ne=()=>Ze.fontBoundingBoxAscent?Ze.fontBoundingBoxAscent:Ze.actualBoundingBoxAscent?Ze.actualBoundingBoxAscent:g/2,Ve=()=>Ze.fontBoundingBoxDescent?Ze.fontBoundingBoxDescent:Ze.actualBoundingBoxDescent?Ze.actualBoundingBoxDescent:g/2,nt="",_e=p/w-2*l.lineWidth;if(Ie.width<=p/w){let it=1*(Ne()+Ve());it>g&&(G*=g/it,W=(C?"italic ":"")+`bold ${te*G}px ${B}`,j=(C?"italic ":"")+`${te*G}px ${B}`)}else{if(nt=P.font,ke){G*=_e/Ie.width;let it=(Ne()+Ve())*_e/Ie.width;it>g&&(G*=g/it)}W=(C?"italic ":"")+`bold ${te*G}px ${B}`,j=(C?"italic ":"")+`${te*G}px ${B}`}return P.font=de?W:j,Ie=P.measureText(D?he:he.length<=2?"44":ke?"44/44.44":this.extraSeparator+"44.44"),Ze=P.measureText("\u0419\u0440"),q=Math.abs(Ne())-Math.abs(Ve()),de||(q/=2),Ie.width};K(k.search("[/-]")>=0?this.calendarAccuratePeriodEnabled?"XX.0X-XX.0X":"XX-XX.0X":k,!0,!0);let J=a?K(a,!!T||m,!1):0,ie=T?K(T,!1,!1):0,re=J+ie;if(P.fillStyle=l.fillColor,J=a?K(a,!!T||m,!1):0,P.fillText(a,d+p/2-re/2+J/2,f+g/2+q),ie>0&&(ie=T?K(T,!1,!1):0,P.fillText(T,d+p/2-re/2+J+ie/2,f+g/2+q)),null!=O){P.font=(S?"italic ":"")+(m?"bold ":"")+`${te*G}px ${B}`;let he=P.measureText(k),de=P.measureText(O),xe=he.width/de.width*l.text2Scale;P.font=(S?"italic ":"")+(m?"bold ":"")+`${te*xe*G}px ${B}`,de=P.measureText(O),P.fillText(O,d+p/2+(he.width/2-de.width/2),f+g/2+(te/2+te*xe/4)*G+q)}}getFillStyle(l,a,h,d){if(this.strokeAndFillStyle)return this.strokeAndFillStyle;let f=this.context;var p=1.5*Math.max(h,d);let g=.25*p/2;var m=f.createRadialGradient(l,a-g,.1,l,a-g,p);return m.addColorStop(0,"rgb(246,211,132)"),m.addColorStop(.5,"rgb(243,192,103)"),m.addColorStop(1,"rgb("+243*.6+","+192*.6+",61.8)"),m}getStrokeStyle(){return this.strokeAndFillStyle?this.strokeAndFillStyle:"rgb(242,169,78)"}rotate(l,a){return new er(l.x*Math.cos(a)+l.y*Math.sin(a),-l.x*Math.sin(a)+l.y*Math.cos(a))}rotateArray(l,a){return new er(l.x*Math.cos(a)+l.y*Math.sin(a),-l.x*Math.sin(a)+l.y*Math.cos(a))}drawRect(l,a,h,d){let f=this.context;f.beginPath(),f.moveTo(l,a-d),f.lineTo(l,a+d+1),f.lineTo(l+h,a+d+1),f.lineTo(l+h,a-d),f.fill()}drawRectAlpha(l,a,h,d,f,p){let g=this.context,m=f/Math.cos(p),v=h/2*Math.tan(p);g.beginPath(),g.moveTo(l,a+d/2-v-m),g.lineTo(l,a+d/2-v+m),g.lineTo(l+h,a+d/2+v+m),g.lineTo(l+h,a+d/2+v-m),g.fill()}drawRotatedRectAlpha(l,a,h,d,f){let p=[new er(a.x,a.y),new er(a.x,a.y+d+1),new er(a.x+h,a.y+d+1),new er(a.x+h,a.y)];this.drawRotatedPathAlpha(l,p,f)}drawRotatedPathAlpha(l,a,h){let d=this.context;d.beginPath(),a.forEach((f,p)=>{let g=this.rotate(new er(f.x,f.y),h);0==p?d.moveTo(g.x+l.x,g.y+l.y):d.lineTo(g.x+l.x,g.y+l.y)}),d.fill()}drawRotatedTriAlpha(l,a,h,d,f){let p=this.context;p.beginPath();let g=this.rotate(new er(a.x,a.y),f),m=this.rotate(new er(h.x,h.y),f),v=this.rotate(new er(d.x,d.y),f);p.moveTo(g.x+l.x,g.y+l.y),p.lineTo(m.x+l.x,m.y+l.y),p.lineTo(v.x+l.x,v.y+l.y),p.fill()}drawRoundRotatedTriAlpha(l,a,h,d,f,p=1){let g=this.context;g.beginPath();let m=this.rotate(new er(a.x,a.y),f),v=this.rotate(new er(h.x,h.y),f),_=this.rotate(new er(d.x,d.y),f),y=m.middle(v),b=v.middle(_),O=_.middle(m);m.addSet(l),v.addSet(l),_.addSet(l),y.addSet(l),b.addSet(l),O.addSet(l),g.moveTo(y.x,y.y);let C=v.sub(y).mulSet(new er(p,p)).addSet(y),S=v.sub(b).mulSet(new er(p,p)).addSet(b);g.bezierCurveTo(C.x,C.y,S.x,S.y,b.x,b.y);let w=_.sub(b).mulSet(new er(p,p)).addSet(b),x=_.sub(O).mulSet(new er(p,p)).addSet(O);g.bezierCurveTo(w.x,w.y,x.x,x.y,O.x,O.y);let T=m.sub(O).mulSet(new er(p,p)).addSet(O),D=m.sub(y).mulSet(new er(p,p)).addSet(y);g.bezierCurveTo(T.x,T.y,D.x,D.y,y.x,y.y),g.fill()}drawRotatedCircleAlpha(l,a,h,d){let f=this.context,p=this.rotate(new er(a.x,a.y),d);f.beginPath(),f.arc(p.x+l.x,p.y+l.y,h,0,6.28314,!1),f.fill()}drawRotatedRoundRect(l,a,h,d,f,p,g){let m=d/2*p,v=f/2*p,_=[new Wf(new er(a+d/2,h),!1,null,null),new Wf(new er(a+m,h),!1,null,null),new Wf(new er(a,h+v),!0,new er(a,h),null),new Wf(new er(a,h+f-v),!1,null,null),new Wf(new er(a+m,h+f),!0,new er(a,h+f),null),new Wf(new er(a+d-m,h+f),!1,null,null),new Wf(new er(a+d,h+f-v),!0,new er(a+d,h+f),null),new Wf(new er(a+d,h+v),!1,null,null),new Wf(new er(a+d-m,h),!0,new er(a+d,h),null),new Wf(new er(a+d/2,h),!1,null,null)];this.drawRotatedRoundPath(l.x,l.y,_,g,!0)}drawRoundRect(l,a,h,d,f,p){let g=this.context;g.beginPath();let m=h/2*f,v=d/2*f;g.moveTo(l+h/2,a),g.lineTo(l+m,a),g.quadraticCurveTo(l,a,l,a+v),g.lineTo(l,a+d-v),g.quadraticCurveTo(l,a+d,l+m,a+d),g.lineTo(l+h-m,a+d),g.quadraticCurveTo(l+h,a+d,l+h,a+d-v),g.lineTo(l+h,a+v),g.quadraticCurveTo(l+h,a,l+h-m,a),g.lineTo(l+h/2,a),p?g.fill():g.stroke()}drawRotatedRoundPath(l,a,h,d=0,f=!1){let p=this.context;p.beginPath(),h.forEach((g,m)=>{let v=this.rotateArray(new er(g.point.x,g.point.y),d);if(0==m)p.lineTo(l+v.x,a+v.y);else if(g.round)if(null==g.point2){let _=this.rotateArray(new er(g.point1.x,g.point1.y),d);p.quadraticCurveTo(l+_.x,a+_.y,l+v.x,a+v.y)}else{let _=this.rotateArray(new er(g.point2.x,g.point2.y),d),y=this.rotateArray(new er(g.point1.x,g.point1.y),d);p.bezierCurveTo(l+y.x,a+y.y,l+_.x,a+_.y,l+v.x,a+v.y)}else p.lineTo(l+v.x,a+v.y)}),f?p.fill():p.stroke()}}class Qi{name;description;object;fieldName;enabler;onChangeHandler;constructor(l,a,h,d,f,p=null){this.name=l,this.description=a,this.object=h,this.fieldName=d,this.enabler=f,this.onChangeHandler=p}get value(){return this.object[this.fieldName]}set value(l){this.object[this.fieldName]!=l&&(this.object[this.fieldName]=l,this.changed())}get enabled(){return!this.enabler||!!this.enabler.value}changed(){this.onChangeHandler&&this.onChangeHandler()}}class Ea{object;name;onChangeHandler;constructor(l,a,h=null){this.object=l,this.name=a,this.onChangeHandler=h}get value(){return this.object[this.name]}set value(l){this.object[this.name]=l,this.changed()}get sValue(){return""+this.value}set sValue(l){let a=+l;this.value!=a&&(this.value=a,this.changed())}changed(){this.onChangeHandler&&this.onChangeHandler()}}class Ik{open;text;color;tag;constructor(l,a,h,d){this.open=l,this.text=a,this.color=h,this.tag=d}setOpen(l){return this.open=l,this}setText(l){return this.text=l,this}setColor(l){return this.color=l,this}setTag(l){return this.tag=l,this}static builder(){return new Ik(!1,"","",null)}}let JR=(()=>{class c{uiConfig;get scheduler(){return JSON.parse(this.uiConfig.ui.calendarScheduler.getStringValue())}set scheduler(a){this.uiConfig.ui.calendarScheduler.setStringValue(JSON.stringify(a))}constructor(a){this.uiConfig=a}saveMonth(a,h,d){let f=[],p=m=>{let v="";return"blue"==m?v="B":"green"==m?v="G":"red"==m&&(v="R"),v};for(let m=0;m<1;m++){let v=a[m];for(let _=0;_<v.length;_++){let y=v[_];if(y.text){let b=p(y.color);f[32+_]=b}}}for(let m=1;m<a.length;m++){let v=a[m];for(let _=0;_<v.length;_++){let y=v[_];if(y.text){let b=p(y.color);f[+y.text]=b}}}let g=this.scheduler;g[h]||(g[h]=[]),g[h][d]=f,this.scheduler=g}getMonthsDaysCount(a,h){return new Date(a,(h+1)%12,0).getDate()}createMonth(a,h){let d=C=>{let S="";return C?"R"==C?S="red":"G"==C?S="green":"B"==C&&(S="blue"):S="",S},f=[],p=this.getMonthsDaysCount(h,a),m=this.scheduler[h],v=m?m[a]:[];v||(v=[]);let _=[],b=7;f.push(["\u041f","\u0412","\u0421","\u0427","\u041f","\u0421","\u0412"].map((C,S)=>Ik.builder().setText(C).setColor((C=>{let S=v[C],w="";return S&&(w=d(S)),w})(32+S))));let O=1;{let S=new Date(h,a,1).getDay();0==S&&(S+=7);for(let w=1;w<S;w++)_.push(Ik.builder());O=S-1,b=Math.ceil((p+O)/7)+2}for(let C=1;C<=p;C+=7)for(let S=0;S<7;S++)if(C+S<=p){let x=new Date(h,a,C+S).getDay();0==x&&(x+=7);let T=v[C+S];T=d(T),_.push(Ik.builder().setText(""+(C+S)).setColor(T)),7==_.length&&(f.push(_),_=[])}return _.length&&f.push(_),f}dateLessOrEqual(a,h,d,f,p,g){return a<f||!(a>f)&&(h<p||!(h>p)&&d<g)}isInInterval(a,h,d){let f=h+1,p=this.uiConfig.ui.calendarIntervals.getStringValue().split("\n"),g=!1;return p.forEach(m=>{try{let v=m.split("\t");if(v.length>=3){let _=v[1].split(/[\\/\.\-]/),y=v[2].split(/[\\/\.\-]/);if(this.dateLessOrEqual(+_[2],+_[1],+_[0],+y[2],+y[1],+y[0])){let b=this.dateLessOrEqual(+_[2],+_[1],+_[0],a,f,d),O=this.dateLessOrEqual(a,f,d,+_[2],+_[1],+_[0]),C=this.dateLessOrEqual(a,f,d,+y[2],+y[1],+y[0]),S=this.dateLessOrEqual(+y[2],+y[1],+y[0],a,f,d);(b||!b&&!O)&&(C||!C&&!S)&&(g=!0)}}}catch{}}),g}isLiturgiaFound(a,h,d){if(!this.isInInterval(a,h,d))return!0;let f=this.scheduler,p=f[a];if(!p)return!0;let g=p?p[h]:[];if(!g)return!0;let m=g[d],v="B"==m||"G"==m;return this.scheduler=f,v}static \u0275fac=function(h){return new(h||c)(Ee(wn))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class bEt{name;names;constructor(l,a){this.name=l,this.names=a}}class OEt{names=[]}class CEt{source="";type="";success=!1}let CG=(()=>{class c{http;config;cacheSvc;names=[];restPoint="/calendar";getRestPoint(a,h,d=null){return pi.merge(pi.merge(h||this.config.serviceAPIHost,d||this.restPoint),a)}constructor(a,h,d){this.http=a,this.config=h,this.cacheSvc=d}getNames(a,h="calendar",d=null){const f={params:{}};return new Promise((p,g)=>{this.http.get(this.getRestPoint("/names",a,d),f).pipe(vr(Ui.handleError)).subscribe({next:m=>p(m),error:m=>this.getTextStr("",h,"names.json.txt",v=>{let _=[];try{JSON.parse(v).forEach(O=>{_.push(new bEt(O.name,O.names))})}catch(b){this.config.addAlert(Bi.of("Error::getNames:"+b,"Ok",30)),_=[]}let y=new OEt;y.names=_,p(y)})})})}getSource(a,h){const d={params:{_name:a}};return new Promise((f,p)=>{this.http.get(this.getRestPoint("/source",h),d).pipe(vr(Ui.handleError)).subscribe({next:g=>f(g),error:g=>this.getTextStr("","",a,m=>{null==m&&this.config.addAlert(Bi.of("Error::getSource:"+g.message,"Ok",30));let v=new CEt;v.source=m||"",v.type="text",v.success=!0,f(v)})})})}getTextStr(a,h,d,f){let p=""+d;const g=pi.merge(pi.merge(a,h),p);this.cacheSvc.getText(g,f)}static \u0275fac=function(h){return new(h||c)(Ee(hu),Ee(Zt),Ee(Jl))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();const SEt=["mySvgMonths"],wEt=["mySvgYears"],xEt=["mySvgDays"];function TEt(c,l){1&c&&(Go(),se(0,"svg",0,4))}let ZTe=(()=>{class c{config;configUI;router;d3Svc;themeSvc;calendarSvc;name="\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c";appRoute="calendar";mySvgMonthsRef;mySvgYearsRef;mySvgDaysRef;monthsGenerator=new I1;yearsGenerator=new I1;datesGenerator=new I1;datesImage=null;monthsImage=null;yearsImage=null;change=new Tt;dateChangedEnabled=!0;showDates=!1;useUniqueDate=!1;uniqueDateString="";oldUniqueDateString="";componentStarted=!1;constructor(a,h,d,f,p,g){this.config=a,this.configUI=h,this.router=d,this.d3Svc=f,this.themeSvc=p,this.calendarSvc=g}get sCurrentDate(){let a=this.useUniqueDate?this.uniqueDateString:this.configUI.ui.calendarCurrentDate.getStringValue();return a!==this.oldUniqueDateString&&(this.oldUniqueDateString=a,this.config.post(()=>{this.ngAfterViewInitDirect()},10)),a}set sCurrentDate(a){this.useUniqueDate?this.uniqueDateString=a:this.configUI.ui.calendarCurrentDate.setStringValue(a),this.oldUniqueDateString=a}get sCurrentDateValidString(){let a=this.sCurrentDate;if(!a){let h=new Date;a=`${h.getDate()}.${h.getMonth()+1}.${h.getFullYear()}`}return a}get currentDate(){let d=+this.sCurrentDateValidString.split(/[\\/\.\-]/)[0],f=this.calendarSvc.getMonthsDaysCount(this.currentYear,this.currentMonthIndex);return d>f&&(d=f),d}set currentDate(a){let h=this.sCurrentDateValidString.split(/[\\/\.\-]/),d=this.calendarSvc.getMonthsDaysCount(this.currentYear,this.currentMonthIndex);this.sCurrentDate=`${a<=d?a:d}.${h[1]}.${h[2]}`,this.changed()}get currentMonthIndex(){return+this.sCurrentDateValidString.split(/[\\/\.\-]/)[1]-1}set currentMonthIndex(a){let h=this.sCurrentDateValidString.split(/[\\/\.\-]/),d=+h[0],f=this.calendarSvc.getMonthsDaysCount(this.currentYear,a);d=d<=f?d:f,this.sCurrentDate=`${d}.${a+1}.${h[2]}`,this.changed()}validateYear(a){let h=+a,d=(new Date).getFullYear();return Number.isNaN(h)&&(h=d),(+h+10<d||+h-10>d)&&(h=d-10),+h}get currentYear(){let a=this.sCurrentDateValidString.split(/[\\/\.\-]/);return+this.validateYear(+a[2])}set currentYear(a){let h=this.sCurrentDateValidString.split(/[\\/\.\-]/),d=+h[0];a=this.validateYear(a);let f=this.calendarSvc.getMonthsDaysCount(a,this.currentMonthIndex);d=d<=f?d:f,this.sCurrentDate=`${d}.${h[1]}.${a}`,this.changed()}ngOnInit(){this.componentStarted=!0;let a=()=>{this.componentStarted&&this.sCurrentDateValidString&&this.config.post(a,1e3)};this.config.post(a,1e3)}ngOnDestroy(){this.componentStarted=!1}get version(){return this.config.version}ngAfterViewInit(){this.ngAfterViewInitDirect()}ngAfterViewInitDirect(){this.showDates&&null==this.datesImage&&(this.datesImage=new A1(this.datesGenerator.getWidth(),this.datesGenerator.getHeight(),this.d3Svc,this.mySvgDaysRef,this.datesGenerator)),this.monthsImage||(this.monthsImage=new A1(this.monthsGenerator.getWidth(),this.monthsGenerator.getHeight(),this.d3Svc,this.mySvgMonthsRef,this.monthsGenerator)),this.yearsImage||(this.yearsImage=new A1(this.yearsGenerator.getWidth(),this.yearsGenerator.getHeight(),this.d3Svc,this.mySvgYearsRef,this.yearsGenerator));let a=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"].map((m,v)=>Gh.builder().setName(m).setTag(v));this.monthsGenerator.setCommands(a,a[this.currentMonthIndex]).setOnCommandHandler(m=>{this.currentMonthIndex=m.tag}).setAutoClickOnChange(!0).setShadowEnabled(!1);let h=[],d=this.currentYear;for(let m=-15;m<=15;m++)h.push(d+m);let p=15,g=h.map((m,v)=>(m==d&&(p=v),Gh.builder().setName(""+m).setTag(m)));this.yearsGenerator.setCommands(g,g[15]).setOnCommandHandler(m=>{this.currentYear=m.tag}).setAutoClickOnChange(!0).setShadowEnabled(!1),this.releadDates(),[this.monthsImage,this.yearsImage].forEach((m,v)=>{let _=m.getGenerator().setTheme(this.themeSvc.nowIsDay()?Vs.Light3:Vs.Dark3);m.setGenerator(_).clear().updateSvg()})}releadDates(){if(!this.showDates)return;let a=this.calendarSvc.getMonthsDaysCount(this.currentYear,this.currentMonthIndex),h=[];for(let f=1;f<=a;f++)h.push(Gh.builder().setName(""+f).setTag(f));this.datesGenerator.setCommands(h,h[this.currentDate-1]).setOnCommandHandler((f,p)=>{this.dateChangedEnabled=!1,this.currentDate=f.tag,this.dateChangedEnabled=!0}).setAutoClickOnChange(!0).setShadowEnabled(!1);let d=this.datesGenerator.setTheme(this.themeSvc.nowIsDay()?Vs.Light3:Vs.Dark3);this.datesImage?.setGenerator(d).clear().updateSvg()}onOk(){this.router.navigate([this.appRoute])}get showNextTime(){return this.configUI.ui.calendarHelpVisited.getStringValue()!=this.config.version}set showNextTime(a){this.configUI.ui.calendarHelpVisited.setStringValue(a?"":this.config.version)}sendChanged(){this.change.emit(this.sCurrentDateValidString)}changed(){this.dateChangedEnabled&&this.releadDates(),this.sendChanged()}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(lo),V(mb),V(Ys),V(JR))};static \u0275cmp=qe({type:c,selectors:[["app-calendar-calendar"]],viewQuery:function(h,d){if(1&h&&(si(SEt,5),si(wEt,5),si(xEt,5)),2&h){let f;Ht(f=Wt())&&(d.mySvgMonthsRef=f.first),Ht(f=Wt())&&(d.mySvgYearsRef=f.first),Ht(f=Wt())&&(d.mySvgDaysRef=f.first)}},inputs:{showDates:"showDates",useUniqueDate:"useUniqueDate",uniqueDateString:"uniqueDateString"},outputs:{change:"change"},decls:5,vars:1,consts:[["width","114","height","114",1,"centeredImage","vmiddle"],["mySvgYears",""],["mySvgMonths",""],["class","centeredImage vmiddle","width","114","height","114",4,"ngIf"],["mySvgDays",""]],template:function(h,d){1&h&&(Go(),se(0,"svg",0,1)(2,"svg",0,2),X(4,TEt,2,0,"svg",3)),2&h&&(I(4),R("ngIf",d.showDates))},dependencies:[mn],styles:[".vmiddle[_ngcontent-%COMP%]{vertical-align:middle}.inline-block[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;height:100px}.divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}.text[_ngcontent-%COMP%]{white-space:pre-line}"]})}return c})();const kEt=["mySvgCalendar"],DEt=function(c,l,a,h){return{"btn-group-overflow":!0,"btn-danger":c,"btn-success":l,"btn-primary":a,open:h}};function MEt(c,l){if(1&c){const a=Ae();E(0,"div",27)(1,"button",28),Y("click",function(){const f=ce(a).$implicit;return ue(Q(3).toggleButton(f))}),H(2),M()()}if(2&c){const a=l.$implicit;R("ngClass",Dg(2,DEt,"red"==a.color,"green"==a.color,"blue"==a.color,a.open)),I(2),Kt(" ",a.text," ")}}function EEt(c,l){if(1&c&&(E(0,"div")(1,"div",25),X(2,MEt,3,7,"div",26),M()()),2&c){const a=l.$implicit;I(2),R("ngForOf",a)}}function PEt(c,l){if(1&c&&(Go(),SS(),E(0,"div",11),X(1,EEt,3,1,"div",10),M()),2&c){const a=Q();I(1),R("ngForOf",a.buttons)}}const AEt=function(){return{alert:!0,"alert-warning":!1,"alert-success":!0,"top-space":!1}};function IEt(c,l){if(1&c){const a=Ae();Go(),SS(),E(0,"div")(1,"div",29)(2,"div",30)(3,"div",31)(4,"div",32),se(5,"cds-icon",33),M(),E(6,"span",34),H(7),M()()(),E(8,"button",35)(9,"cds-icon",36),Y("click",function(){const f=ce(a).$implicit;return ue(Q().onDeleteInterval(f))}),M()()(),E(10,"form",37)(11,"clr-input-container")(12,"label"),H(13),M(),E(14,"input",38),Y("ngModelChange",function(d){return ue(ce(a).$implicit.vpName.value=d)}),M()()(),E(15,"div",39)(16,"div",2)(17,"span")(18,"b"),H(19),M()()(),E(20,"div",3)(21,"div",4)(22,"span")(23,"app-calendar-calendar",40),Y("change",function(d){const p=ce(a).$implicit;return ue(Q().onIntervalChanged(p.vpFrom,d))}),M()()()()(),E(24,"div",39)(25,"div",2)(26,"span")(27,"b"),H(28),M()()(),E(29,"div",3)(30,"div",4)(31,"span")(32,"app-calendar-calendar",40),Y("change",function(d){const p=ce(a).$implicit;return ue(Q().onIntervalChanged(p.vpUpto,d))}),M()()()()()()}if(2&c){const a=l.$implicit;I(1),R("ngClass",Fi(15,AEt)),I(4),Je("shape","help-info"),I(2),ut(a.name),I(2),Je("shape","window-close"),I(4),ut(a.vpName.name),I(1),R("name","intervalName")("ngModel",a.vpName.value),I(5),ut(a.vpFrom.name),I(4),R("showDates",!0)("useUniqueDate",!0)("uniqueDateString",a.vpFrom.value),I(5),ut(a.vpUpto.name),I(4),R("showDates",!0)("useUniqueDate",!0)("uniqueDateString",a.vpUpto.value)}}class eL{name;from;upto;vpName;vpFrom;vpUpto;constructor(l,a,h,d){this.name=l,this.from=a,this.upto=h,this.vpName=new Qi("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:","\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",this,"name",null,d),this.vpFrom=new Qi("\u041d\u0430\u0447\u0430\u043b\u043e:","\u0434\u0430\u0442\u0430",this,"from",null,d),this.vpUpto=new Qi("\u041a\u043e\u043d\u0435\u0446:","\u0434\u0430\u0442\u0430",this,"upto",null,d)}setName(l){return this.name=l,this}setFrom(l){return this.from=l,this}setUpto(l){return this.upto=l,this}static builder(l){return new eL("","","",l)}}let REt=(()=>{class c{config;configUI;router;schedulerSvc;themeSvc;d3Svc;name="\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c";appRoute="calendar";mySavedConfigs="";myButtons=[];myCurrentDate="";change=new Tt;get buttons(){return null!=this.configUI&&(this.mySavedConfigs!=this.configUI.ui.calendarScheduler.getStringValue()||this.myCurrentDate!=this.configUI.ui.calendarCurrentDate.getStringValue())&&(this.mySavedConfigs=this.configUI.ui.calendarScheduler.getStringValue(),this.myCurrentDate=this.configUI.ui.calendarCurrentDate.getStringValue(),this.config.post(()=>this.changed())),this.myButtons}set buttons(a){this.myButtons=a}pCurrentDate=new Qi("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0434\u0430\u0442\u0430:","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"sCurrentDate",null,()=>this.changed());get sCurrentDate(){return this.configUI.ui.calendarCurrentDate.getStringValue()}set sCurrentDate(a){this.configUI.ui.calendarCurrentDate.setStringValue(a)}year=(new Date).getFullYear();month=1;get sIntervals(){return this.configUI.ui.calendarIntervals.getStringValue()}set sIntervals(a){this.configUI.ui.calendarIntervals.setStringValue(a)}myStrIntervals="";myIntervals=[];get intervals(){return null!=this.configUI&&this.myStrIntervals!=this.configUI.ui.calendarIntervals.getStringValue()&&(this.myStrIntervals=this.configUI.ui.calendarIntervals.getStringValue(),this.loadIntervals()),this.myIntervals}set intervals(a){this.myIntervals=a,this.saveIntervals()}modalClearMonthFlag=!1;modalClearSchedulerFlag=!1;modalDeleteIntervalFlag=!1;modalDeleteInterval;mySvgCalendarRef;monthGenerator=new f9;monthImage=null;constructor(a,h,d,f,p,g){this.config=a,this.configUI=h,this.router=d,this.schedulerSvc=f,this.themeSvc=p,this.d3Svc=g}get sCurrentDateValidString(){let a=this.sCurrentDate;if(!a){let h=new Date;a=`${h.getDate()}.${h.getMonth()+1}.${h.getFullYear()}`}return a}get currentMonthIndex(){return+this.sCurrentDateValidString.split(/[\\/\.\-]/)[1]-1}set currentMonthIndex(a){let h=this.sCurrentDateValidString.split(/[\\/\.\-]/);this.sCurrentDate=`${h[0]}.${a+1}.${h[2]}`,this.changed()}get currentYear(){return+this.sCurrentDateValidString.split(/[\\/\.\-]/)[2]}set currentYear(a){let h=this.sCurrentDateValidString.split(/[\\/\.\-]/);this.sCurrentDate=`${h[0]}.${h[1]}.${a}`,this.changed()}ngOnInit(){}get version(){return this.config.version}ngAfterViewInit(){this.changed()}onOk(){this.router.navigate([this.appRoute])}loadMonth(a,h){this.year=h,this.month=a;let d=this.schedulerSvc.createMonth(this.month,this.year);this.monthGenerator.linesOfMonth=d.length+1,this.buttons=d}toggleButton(a){""==a.color?a.color="red":"red"==a.color?a.color="green":"green"==a.color?a.color="blue":"blue"==a.color&&(a.color="");let h=[a],d=this.buttons[0].indexOf(a);if(d>=0)for(let f=1;f<this.buttons.length;++f){let g=this.buttons[f][d];if(g&&"red"!=g.color&&"green"!=g.color){let m=a;"red"==m.color?g.color="":"green"==m.color?g.color="blue":"blue"==m.color?""==g.color&&(g.color="blue"):"blue"==g.color&&(g.color=""),h.push(g)}}this.schedulerSvc.saveMonth(this.buttons,this.year,this.month),this.sendChanged(this.sCurrentDateValidString),h.forEach((f,p)=>{this.config.post(()=>{this.applyCommand(f)},10*p)})}applyCommand(a){let h=a.tag;if(!h)return;let d=this.monthImage.d3Config.colorMain,f=this.monthGenerator.isLight()?[this.monthImage.d3Config.colorBackground,"#DB2100","#3C8500","#0072A3"]:[this.monthImage.d3Config.colorBackground,"#F55047","#61b715","#4aaed9"],p=f[0];p="red"==a.color?f[1]:"green"==a.color?f[2]:"blue"==a.color?f[3]:f[0],h.rect.d3Object.transition().duration(1e3).style("fill",p),h.text.d3Object.transition().duration(1e3).style("fill",p==f[0]?d:f[0]).style("stroke",p==f[0]?d:f[0]).style("stroke-width",0)}updateMonthSvg(){let h=[Va.builder().setName(this.currentYear+" \u0433. "+["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"][this.currentMonthIndex]+".").setIndex(0).setIWidth(7)];this.buttons.forEach((f,p)=>{f.forEach((g,m)=>{if(g.text){let v=Va.builder().setTag(g).setName(g.text).setIndex(m+7*(p+1)).setIWidth(1);g.setTag(v),h.push(v),this.config.post(()=>{this.applyCommand(g)},10*(7*p+m))}})}),this.monthGenerator.setTheme(this.themeSvc.nowIsDay()?Ca.Light3:Ca.Dark3).setCommands(h).setOnCommandHandler(f=>{f.tag&&this.toggleButton(f.tag)}),this.monthImage=new A1(this.monthGenerator.getWidth(),this.monthGenerator.getHeight(),this.d3Svc,this.mySvgCalendarRef,this.monthGenerator),this.monthImage.setGenerator(this.monthGenerator).clear().updateSvg()}changed(){let a=this.sCurrentDate.split(/[\\/\.\-]/);this.loadMonth(+a[1]-1,+a[2]),this.loadIntervals(),this.config.post(()=>this.updateMonthSvg(),1)}sendChanged(a){this.change.emit(a)}onNewInterval(){let a=eL.builder(()=>this.saveIntervals()).setName("").setFrom("").setUpto("");this.intervals.push(a)}onDeleteInterval(a){this.modalDeleteInterval=a,this.modalDeleteIntervalFlag=!0}onDeleteCurrentIntervalDirect(a){let h=this.intervals.indexOf(a);h>=0&&this.intervals.splice(h,1),this.saveIntervals(),this.modalDeleteIntervalFlag=!1}loadIntervals(){this.myIntervals=[],this.sIntervals.split("\n").forEach(h=>{let d=h.split("\t");d.length>=3&&this.myIntervals.push(eL.builder(()=>this.saveIntervals()).setName(d[0]).setFrom(d[1]).setUpto(d[2]))})}saveIntervalsRequestId=0;saveIntervals(){let a=++this.saveIntervalsRequestId;this.config.post(()=>{a==this.saveIntervalsRequestId&&this.saveIntervalsDirect()},3e3)}saveIntervalsDirect(){let a="";this.intervals.forEach((h,d,f)=>{a+=h.name,a+="\t",a+=h.from,a+="\t",a+=h.upto,d+1<f.length&&(a+="\n")}),this.sIntervals=a,this.myStrIntervals=a,this.sendChanged(this.sCurrentDateValidString)}onClearScheduler(){this.configUI.ui.calendarScheduler.setStringValue("[]"),this.sIntervals="",this.changed(),this.sendChanged(this.sCurrentDateValidString),this.modalClearSchedulerFlag=!1}onClearMonth(){let a=JSON.parse(this.configUI.ui.calendarScheduler.getStringValue()),h=a[this.year];h?(h[this.month]=[],this.configUI.ui.calendarScheduler.setStringValue(JSON.stringify(a)),this.changed(),this.sendChanged(this.sCurrentDateValidString),this.modalClearMonthFlag=!1):this.modalClearMonthFlag=!1}onCalendarChanged(a){this.changed(),this.sendChanged(a)}onIntervalChanged(a,h){a.value=h,this.sendChanged(this.sCurrentDateValidString)}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(lo),V(JR),V(Ys),V(mb))};static \u0275cmp=qe({type:c,selectors:[["app-calendar-scheduler"]],viewQuery:function(h,d){if(1&h&&si(kEt,5),2&h){let f;Ht(f=Wt())&&(d.mySvgCalendarRef=f.first)}},outputs:{change:"change"},decls:68,vars:7,consts:[[1,"main","ftext","fade-in-3"],[1,"clr-row","clr-align-items-center","bottom-top-space"],[1,"clr-col-2"],[1,"clr-col-10"],[1,"inline-block"],[3,"change"],[1,"bottom-space"],["width","266","height","266",1,"centeredImage","fade-in-3"],["mySvgCalendar",""],["class","bottom-top-space",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"bottom-top-space"],[1,"clr-row"],[1,"clr-col-4"],[1,"btn","btn-success","btn-block",3,"click"],["shape","plus"],[1,"btn","btn-danger","btn-block",3,"click"],["shape","flame"],[3,"clrModalOpen","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],["type","button","aria-label","warning",1,"btn","btn-icon","btn-warning"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-warning",3,"click"],[1,"btn-group","btn-outline-primary"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"btn","dropdown-toggle",3,"click"],["role","alert",3,"ngClass"],[1,"alert-items"],[1,"alert-item","static"],[1,"alert-icon-wrapper"],[1,"alert-icon"],[1,"alert-text"],["type","button","aria-label","Close",1,"close"],[1,"alert-icon",3,"click"],["clrForm",""],["clrInput","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0430",3,"name","ngModel","ngModelChange"],[1,"clr-row","clr-align-items-center","top-space"],[3,"showDates","useUniqueDate","uniqueDateString","change"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"span")(4,"b"),H(5,"\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0433\u043e\u0434 \u0438 \u043c\u0435\u0441\u044f\u0446:"),M()()(),E(6,"div",3)(7,"div",4)(8,"span")(9,"app-calendar-calendar",5),Y("change",function(p){return d.onCalendarChanged(p)}),M()()()()(),E(10,"div",6),Go(),se(11,"svg",7,8),M(),X(13,PEt,2,1,"div",9),X(14,IEt,33,16,"div",10),SS(),E(15,"div",11)(16,"div",12)(17,"div",13)(18,"button",14),Y("click",function(){return d.onNewInterval()}),se(19,"cds-icon",15),H(20," \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b"),M()(),E(21,"div",13)(22,"button",16),Y("click",function(){return d.modalClearMonthFlag=!0}),se(23,"cds-icon",17),H(24," \u043c\u0435\u0441\u044f\u0446"),M()(),E(25,"div",13)(26,"button",16),Y("click",function(){return d.modalClearSchedulerFlag=!0}),se(27,"cds-icon",17),H(28," \u0432\u0441\u0451"),M()()()()(),E(29,"clr-modal",18),Y("clrModalOpenChange",function(p){return d.modalDeleteIntervalFlag=p}),E(30,"h3",19),H(31,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0430"),M(),E(32,"div",20)(33,"p")(34,"button",21),se(35,"cds-icon",17),M(),H(36),M()(),E(37,"div",22)(38,"button",23),Y("click",function(){return d.modalDeleteIntervalFlag=!1}),H(39,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M(),E(40,"button",24),Y("click",function(){return d.onDeleteCurrentIntervalDirect(d.modalDeleteInterval)}),H(41,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),M()()(),E(42,"clr-modal",18),Y("clrModalOpenChange",function(p){return d.modalClearMonthFlag=p}),E(43,"h3",19),H(44,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043c\u0435\u0441\u044f\u0446"),M(),E(45,"div",20)(46,"p")(47,"button",21),se(48,"cds-icon",17),M(),H(49),M()(),E(50,"div",22)(51,"button",23),Y("click",function(){return d.modalClearMonthFlag=!1}),H(52,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M(),E(53,"button",24),Y("click",function(){return d.onClearMonth()}),H(54,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),M()()(),E(55,"clr-modal",18),Y("clrModalOpenChange",function(p){return d.modalClearSchedulerFlag=p}),E(56,"h3",19),H(57,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0451"),M(),E(58,"div",20)(59,"p")(60,"button",21),se(61,"cds-icon",17),M(),H(62," \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0451 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435?"),M()(),E(63,"div",22)(64,"button",23),Y("click",function(){return d.modalClearSchedulerFlag=!1}),H(65,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M(),E(66,"button",24),Y("click",function(){return d.onClearScheduler()}),H(67,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),M()()()),2&h&&(I(13),R("ngIf",!1),I(1),R("ngForOf",d.intervals),I(15),R("clrModalOpen",d.modalDeleteIntervalFlag),I(7),Kt(" \u0423\u0434\u0430\u043b\u0438\u0442\u044c '",d.modalDeleteInterval?d.modalDeleteInterval.name:"","'?"),I(6),R("clrModalOpen",d.modalClearMonthFlag),I(7),Kt(" \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043c\u0435\u0441\u044f\u0446 \u043e\u0442 '",d.sCurrentDate,"'?"),I(6),R("clrModalOpen",d.modalClearSchedulerFlag))},dependencies:[ei,Gn,mn,gf,Vn,Vo,$o,Lr,$p,zp,pf,Jh,za,sa,Kh,Fo,Nc,ZTe],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}.text[_ngcontent-%COMP%]{white-space:pre-line}.centeredImage[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto}"]})}return c})();const LEt=["myCanvas"];function NEt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q().currentSettingsName=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q();I(1),R("name","settings")("value",a.name)("ngModel",h.currentSettingsName),I(2),ut(a.name)}}function FEt(c,l){if(1&c){const a=Ae();E(0,"button",42),Y("click",function(d){return ce(a),ue(Q().onDeleteCurrentSettings(d))}),H(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c "),M()}}function BEt(c,l){if(1&c&&(E(0,"div")(1,"span",43),H(2," \u0417\u0430\u0433\u0440\u0443\u0436\u0430\u044e... "),M(),se(3,"clr-progress-bar",44),M()),2&c){const a=Q();I(3),R("clrValue",a.donePersantage)}}function VEt(c,l){if(1&c){const a=Ae();E(0,"div",45),H(1," test23 "),E(2,"img",48),Y("click",function(){const f=ce(a).$implicit;return ue(Q(2).onImageSelect(f))}),M()()}if(2&c){const a=l.$implicit;I(2),R("src",a.link,Rd)}}function $Et(c,l){if(1&c){const a=Ae();E(0,"div",45),X(1,VEt,3,1,"div",46),E(2,"div")(3,"button",47),Y("click",function(){return ce(a),ue(Q().downloadAllImages())}),H(4,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),M()()()}if(2&c){const a=Q();I(1),R("ngForOf",a.imageLinks)}}function zEt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).p2sXCount.sValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","xcountRadios")("value",""+a)("ngModel",h.p2sXCount.sValue),I(2),Kt("x",a,"")}}function UEt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).p2sYCount.sValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","ycountRadios")("value",""+a)("ngModel",h.p2sYCount.sValue),I(2),Kt("x",a,"")}}function QEt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).p2sColumnsCount.sValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","columnsCount")("value",""+a)("ngModel",h.p2sColumnsCount.sValue),I(2),Kt("x",a,"")}}function HEt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).p2sDaysDelta.sValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","daysDelta")("value",""+a)("ngModel",h.p2sDaysDelta.sValue),I(2),Kt("x",a,"")}}function WEt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).pDaysDeltaPosition.value=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","sorokoustDaysPosition")("value",""+a)("ngModel",h.pDaysDeltaPosition.value),I(2),ut(a)}}function ZEt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).p2sMonthesDays.sValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","monthesDays")("value",""+a)("ngModel",h.p2sMonthesDays.sValue),I(2),Kt("x",a,"")}}function jEt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).p2sLinesArrange.value=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","linesArrange")("value",a.value)("ngModel",h.p2sLinesArrange.value),I(2),ut(a.info)}}function GEt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).p2sLineWidth.sValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","lineWidths")("value",""+a)("ngModel",h.p2sLineWidth.sValue),I(2),Kt("x",a,"")}}function XEt(c,l){if(1&c){const a=Ae();E(0,"clr-toggle-wrapper")(1,"input",55),Y("ngModelChange",function(d){return ue(ce(a).$implicit.value=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=l.index;I(1),R("name","settingsFlag"+h)("value","settingsFlag"+h)("ngModel",a.value),I(2),ut(a.name)}}function YEt(c,l){if(1&c){const a=Ae();E(0,"clr-input-container",30)(1,"label"),H(2),M(),E(3,"input",31),Y("ngModelChange",function(d){return ue(ce(a).$implicit.value=d)}),M()()}if(2&c){const a=l.$implicit,h=l.index;R("hidden",!a.enabled),I(2),ut(a.name),I(1),Cc("placeholder",a.description),R("name","tparams"+h)("ngModel",a.value)}}const tL=function(){return[1,2,3,4,5,6,7,8,9,10,11,12]},jTe=function(){return[1,2,3,4,6,12]},GTe=function(){return[0,40,183,365]},XTe=function(){return["\u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435","\u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u043e\u0435","\u043b\u044e\u0431\u043e\u0435"]},YTe=function(){return[1,7,31]},qTe=function(){return{info:"\u043f\u043e \u0432\u0435\u0440\u0445\u0443",value:"top"}},KTe=function(){return{info:"\u043f\u043e \u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0435",value:"middle"}},JTe=function(){return{info:"\u043f\u043e \u043d\u0438\u0437\u0443",value:"bottom"}},eke=function(c,l,a){return[c,l,a]},tke=function(){return[1,2,3,5]};function qEt(c,l){if(1&c){const a=Ae();E(0,"clr-accordion-content")(1,"div",49)(2,"div",50)(3,"span")(4,"b"),H(5),M()()(),E(6,"div",51)(7,"div",52)(8,"span")(9,"app-calendar-calendar",53),Y("change",function(d){return ce(a),ue(Q().onSchedulerChanged(d))}),M()()()()(),E(10,"form",12)(11,"clr-input-container")(12,"label"),H(13),M(),E(14,"input",31),Y("ngModelChange",function(d){return ce(a),ue(Q().pTitle.value=d)}),M()(),E(15,"clr-radio-container",13)(16,"label"),H(17),M(),X(18,zEt,4,4,"clr-radio-wrapper",14),M(),E(19,"clr-radio-container",13)(20,"label"),H(21),M(),X(22,UEt,4,4,"clr-radio-wrapper",14),M(),E(23,"clr-radio-container",13)(24,"label"),H(25),M(),X(26,QEt,4,4,"clr-radio-wrapper",14),M(),E(27,"clr-radio-container",13)(28,"label"),H(29),M(),X(30,HEt,4,4,"clr-radio-wrapper",14),M(),E(31,"clr-input-container")(32,"label"),H(33),M(),E(34,"input",31),Y("ngModelChange",function(d){return ce(a),ue(Q().p2sDaysDelta.sValue=d)}),M()(),E(35,"clr-radio-container",13)(36,"label"),H(37),M(),X(38,WEt,4,4,"clr-radio-wrapper",14),M(),E(39,"clr-radio-container",13)(40,"label"),H(41),M(),X(42,ZEt,4,4,"clr-radio-wrapper",14),M(),E(43,"clr-radio-container",13)(44,"label"),H(45),M(),X(46,jEt,4,4,"clr-radio-wrapper",14),M(),E(47,"clr-radio-container",13)(48,"label"),H(49),M(),X(50,GEt,4,4,"clr-radio-wrapper",14),M(),E(51,"clr-toggle-container",13)(52,"label"),H(53,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:"),M(),X(54,XEt,4,4,"clr-toggle-wrapper",14),M(),X(55,YEt,4,5,"clr-input-container",54),M()()}if(2&c){const a=Q();I(5),ut(a.pCurrentDate.name),I(4),R("showDates",!0),I(4),ut(a.pTitle.name),I(1),Cc("placeholder",a.pTitle.description),R("name","tparamsTitle")("ngModel",a.pTitle.value),I(3),Kt("",a.pXCount.name,":"),I(1),R("ngForOf",Fi(28,tL)),I(3),Kt("",a.pYCount.name,":"),I(1),R("ngForOf",Fi(29,tL)),I(3),Kt("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e ",a.pVertical.value?"\u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432":"\u0441\u0442\u0440\u043e\u043a",":"),I(1),R("ngForOf",Fi(30,jTe)),I(3),ut(a.pDaysDelta.name),I(1),R("ngForOf",Fi(31,GTe)),I(3),ut(a.pDaysDelta.name),I(1),Cc("placeholder",a.pDaysDelta.description),R("name","sDaysDelta")("ngModel",a.p2sDaysDelta.sValue),I(3),ut(a.pDaysDeltaPosition.name),I(1),R("ngForOf",Fi(32,XTe)),I(3),ut(a.pMonthesDays.name),I(1),R("ngForOf",Fi(33,YTe)),I(3),ut(a.p2sLinesArrange.name),I(1),R("ngForOf",a2(37,eke,Fi(34,qTe),Fi(35,KTe),Fi(36,JTe))),I(3),ut(a.pLineWidth.name),I(1),R("ngForOf",Fi(41,tke)),I(4),R("ngForOf",a.settingsFlags),I(1),R("ngForOf",a.textParams)}}function KEt(c,l){if(1&c){const a=Ae();E(0,"clr-accordion-content")(1,"app-calendar-scheduler",56),Y("change",function(d){return ce(a),ue(Q().onSchedulerChanged(d))}),M()()}}function JEt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q().currentSettingsName=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q();I(1),R("name","settings")("value",a.name)("ngModel",h.currentSettingsName),I(2),ut(a.name)}}function ePt(c,l){if(1&c){const a=Ae();E(0,"button",42),Y("click",function(d){return ce(a),ue(Q().onDeleteCurrentSettings(d))}),H(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c "),M()}}function tPt(c,l){if(1&c&&(E(0,"div")(1,"span",43),H(2," \u0417\u0430\u0433\u0440\u0443\u0436\u0430\u044e... "),M(),se(3,"clr-progress-bar",44),M()),2&c){const a=Q(2);I(3),R("clrValue",a.donePersantage)}}function nPt(c,l){if(1&c){const a=Ae();E(0,"div",45)(1,"img",48),Y("click",function(){const f=ce(a).$implicit;return ue(Q(3).onImageSelect(f))}),M()()}if(2&c){const a=l.$implicit;I(1),R("src",a.link,Rd)}}function iPt(c,l){if(1&c){const a=Ae();E(0,"div",45),X(1,nPt,2,1,"div",46),E(2,"div")(3,"button",47),Y("click",function(){return ce(a),ue(Q(2).downloadAllImages())}),H(4,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),M()()()}if(2&c){const a=Q(2);I(1),R("ngForOf",a.imageLinks)}}function rPt(c,l){if(1&c&&(E(0,"clr-accordion-content")(1,"div",57),X(2,tPt,4,1,"div",22),X(3,iPt,5,1,"div",23),M()()),2&c){const a=Q();I(1),R("hidden",!1),I(1),R("ngIf",a.rendering),I(1),R("ngIf",!a.rendering)}}function sPt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).p2sXCount.sValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","xcountRadios")("value",""+a)("ngModel",h.p2sXCount.sValue),I(2),Kt("x",a,"")}}function oPt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).p2sYCount.sValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","ycountRadios")("value",""+a)("ngModel",h.p2sYCount.sValue),I(2),Kt("x",a,"")}}function aPt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).p2sColumnsCount.sValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","columnsCount")("value",""+a)("ngModel",h.p2sColumnsCount.sValue),I(2),Kt("x",a,"")}}function lPt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).p2sDaysDelta.sValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","daysDelta")("value",""+a)("ngModel",h.p2sDaysDelta.sValue),I(2),Kt("x",a,"")}}function cPt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).pDaysDeltaPosition.value=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","sorokoustDaysPosition")("value",""+a)("ngModel",h.pDaysDeltaPosition.value),I(2),ut(a)}}function uPt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).p2sMonthesDays.sValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","monthesDays")("value",""+a)("ngModel",h.p2sMonthesDays.sValue),I(2),Kt("x",a,"")}}function hPt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).p2sLinesArrange.value=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","linesArrange")("value",a.value)("ngModel",h.p2sLinesArrange.value),I(2),ut(a.info)}}function dPt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",41),Y("ngModelChange",function(d){return ce(a),ue(Q(2).p2sLineWidth.sValue=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","lineWidths")("value",""+a)("ngModel",h.p2sLineWidth.sValue),I(2),Kt("x",a,"")}}function fPt(c,l){if(1&c){const a=Ae();E(0,"clr-toggle-wrapper")(1,"input",55),Y("ngModelChange",function(d){return ue(ce(a).$implicit.value=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=l.index;I(1),R("name","settingsFlag"+h)("value","settingsFlag"+h)("ngModel",a.value),I(2),ut(a.name)}}function pPt(c,l){if(1&c){const a=Ae();E(0,"clr-input-container",30)(1,"label"),H(2),M(),E(3,"input",31),Y("ngModelChange",function(d){return ue(ce(a).$implicit.value=d)}),M()()}if(2&c){const a=l.$implicit,h=l.index;R("hidden",!a.enabled),I(2),ut(a.name),I(1),Cc("placeholder",a.description),R("name","tparams"+h)("ngModel",a.value)}}function gPt(c,l){if(1&c){const a=Ae();E(0,"clr-accordion-content")(1,"div",49)(2,"div",50)(3,"span")(4,"b"),H(5),M()()(),E(6,"div",51)(7,"div",52)(8,"span")(9,"app-calendar-calendar",53),Y("change",function(d){return ce(a),ue(Q().onSchedulerChanged(d))}),M()()()()(),E(10,"form",12)(11,"clr-input-container")(12,"label"),H(13),M(),E(14,"input",31),Y("ngModelChange",function(d){return ce(a),ue(Q().pTitle.value=d)}),M()(),E(15,"clr-radio-container",13)(16,"label"),H(17),M(),X(18,sPt,4,4,"clr-radio-wrapper",14),M(),E(19,"clr-radio-container",13)(20,"label"),H(21),M(),X(22,oPt,4,4,"clr-radio-wrapper",14),M(),E(23,"clr-radio-container",13)(24,"label"),H(25),M(),X(26,aPt,4,4,"clr-radio-wrapper",14),M(),E(27,"clr-radio-container",13)(28,"label"),H(29),M(),X(30,lPt,4,4,"clr-radio-wrapper",14),M(),E(31,"clr-input-container")(32,"label"),H(33),M(),E(34,"input",31),Y("ngModelChange",function(d){return ce(a),ue(Q().p2sDaysDelta.sValue=d)}),M()(),E(35,"clr-radio-container",13)(36,"label"),H(37),M(),X(38,cPt,4,4,"clr-radio-wrapper",14),M(),E(39,"clr-radio-container",13)(40,"label"),H(41),M(),X(42,uPt,4,4,"clr-radio-wrapper",14),M(),E(43,"clr-radio-container",13)(44,"label"),H(45),M(),X(46,hPt,4,4,"clr-radio-wrapper",14),M(),E(47,"clr-radio-container",13)(48,"label"),H(49),M(),X(50,dPt,4,4,"clr-radio-wrapper",14),M(),E(51,"clr-toggle-container",13)(52,"label"),H(53,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:"),M(),X(54,fPt,4,4,"clr-toggle-wrapper",14),M(),X(55,pPt,4,5,"clr-input-container",54),M()()}if(2&c){const a=Q();I(5),ut(a.pCurrentDate.name),I(4),R("showDates",!0),I(4),ut(a.pTitle.name),I(1),Cc("placeholder",a.pTitle.description),R("name","tparamsTitle")("ngModel",a.pTitle.value),I(3),Kt("",a.pXCount.name,":"),I(1),R("ngForOf",Fi(28,tL)),I(3),Kt("",a.pYCount.name,":"),I(1),R("ngForOf",Fi(29,tL)),I(3),Kt("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e ",a.pVertical.value?"\u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432":"\u0441\u0442\u0440\u043e\u043a",":"),I(1),R("ngForOf",Fi(30,jTe)),I(3),ut(a.pDaysDelta.name),I(1),R("ngForOf",Fi(31,GTe)),I(3),ut(a.pDaysDelta.name),I(1),Cc("placeholder",a.pDaysDelta.description),R("name","sDaysDelta")("ngModel",a.p2sDaysDelta.sValue),I(3),ut(a.pDaysDeltaPosition.name),I(1),R("ngForOf",Fi(32,XTe)),I(3),ut(a.pMonthesDays.name),I(1),R("ngForOf",Fi(33,YTe)),I(3),ut(a.p2sLinesArrange.name),I(1),R("ngForOf",a2(37,eke,Fi(34,qTe),Fi(35,KTe),Fi(36,JTe))),I(3),ut(a.pLineWidth.name),I(1),R("ngForOf",Fi(41,tke)),I(4),R("ngForOf",a.settingsFlags),I(1),R("ngForOf",a.textParams)}}function mPt(c,l){if(1&c){const a=Ae();E(0,"clr-accordion-content")(1,"app-calendar-scheduler",56),Y("change",function(d){return ce(a),ue(Q().onSchedulerChanged(d))}),M()()}}function vPt(c,l){if(1&c&&(E(0,"div")(1,"span",43),H(2," \u0417\u0430\u0433\u0440\u0443\u0436\u0430\u044e... "),M(),se(3,"clr-progress-bar",44),M()),2&c){const a=Q();I(3),R("clrValue",a.donePersantage)}}function _Pt(c,l){if(1&c){const a=Ae();E(0,"div",45)(1,"img",48),Y("click",function(){const f=ce(a).$implicit;return ue(Q(2).onImageSelect(f))}),M()()}if(2&c){const a=l.$implicit;I(1),R("src",a.link,Rd)}}function yPt(c,l){if(1&c){const a=Ae();E(0,"div",45),X(1,_Pt,2,1,"div",46),E(2,"div")(3,"button",47),Y("click",function(){return ce(a),ue(Q().downloadAllImages())}),H(4,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),M()()()}if(2&c){const a=Q();I(1),R("ngForOf",a.imageLinks)}}function bPt(c,l){if(1&c){const a=Ae();E(0,"button",40),Y("click",function(){return ce(a),ue(Q().onSaveCurrentSettings())}),H(1,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),M()}}const OPt=function(){return{"clr-col":!0,"clr-col-6":!0,"clr-hidden-md-down":!0}},nke=function(){return{alert:!0,"alert-warning":!1,"alert-success":!0,"top-space":!1}},CPt=function(c,l){return{"clr-col":!0,"clr-col-6":c,"clr-col-12":l,"clr-hidden-lg-up":!0}};class Rk{x;y;width;height;constructor(l,a,h,d){this.x=l,this.y=a,this.width=h,this.height=d}clone(){return new Rk(this.x,this.y,this.width,this.height)}}class mg{top;bottom;left;right;constructor(l,a,h,d){this.top=l,this.bottom=a,this.left=h,this.right=d}toString(){return this.top+","+this.bottom+","+this.left+","+this.right}fromString(l){let h=l.split(",").map(d=>+d).map(d=>Number.isNaN(d)?0:d);for(;h.length<4;)h.push(0);return this.top=h[0],this.bottom=h[1],this.left=h[2],this.right=h[3],this}clone(){return new mg(this.top,this.bottom,this.left,this.right)}scale(l){return this.top*=l,this.bottom*=l,this.left*=l,this.right*=l,this}dot(l){return this.top*=l.top,this.bottom*=l.bottom,this.left*=l.left,this.right*=l.right,this}apply(l){let a=l.clone();return a.y+=this.top,a.height-=this.top,a.height-=this.bottom,a.x+=this.left,a.width-=this.left,a.width-=this.right,a}}let SPt=(()=>{class c extends WTe{schedulerSvc;calendarSettingsSvc;ks;data;static DRAW_CALENDAR=!0;static DRAW_SQL=!1;myCanvasRef;imageLinks=[];rendering=!1;donePersantage=0;saveFileName="\u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u0438.zip";layoutsSeparator="/";pCurrentDate=new Qi("\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0434\u0430\u0442\u0430:","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"sCurrentDate",null,()=>this.changed());yearOffset=0;pageLayout=new mg(1,1,1,1);calendarLayout=new mg(0,0,1,1);monthLayout=new mg(1,1,1,1);get withoutBordersBorders(){return this.uiConfig.ui.calendarWithoutFrameEnabled.getBooleanValue()}set withoutBordersBorders(a){this.uiConfig.ui.calendarWithoutFrameEnabled.setBooleanValue(a)}get viewResultEnabled(){return this.uiConfig.ui.calendarViewResultEnabled.getBooleanValue()}set viewResultEnabled(a){this.uiConfig.ui.calendarViewResultEnabled.setBooleanValue(a)}get sCurrentDate(){return this.uiConfig.ui.calendarCurrentDate.getStringValue()}set sCurrentDate(a){this.uiConfig.ui.calendarCurrentDate.setStringValue(a)}get iLineWidth(){return this.uiConfig.ui.calendarLineWidth.getNumberValue()}set iLineWidth(a){this.uiConfig.ui.calendarLineWidth.setNumberValue(a)}get iColumnsCount(){return this.uiConfig.ui.calendarColumnsCount.getNumberValue()}set iColumnsCount(a){this.uiConfig.ui.calendarColumnsCount.setNumberValue(a)}get iDaysDelta(){return this.uiConfig.ui.calendarDaysDelta.getNumberValue()}set iDaysDelta(a){this.uiConfig.ui.calendarDaysDelta.setNumberValue(a)}get sorokoustDaysPosition(){return this.uiConfig.ui.calendarDaysDeltaPosition.getStringValue()}set sorokoustDaysPosition(a){this.uiConfig.ui.calendarDaysDeltaPosition.setStringValue(a)}get iMonthesDays(){return this.uiConfig.ui.calendarMonthesDays.getNumberValue()}set iMonthesDays(a){this.uiConfig.ui.calendarMonthesDays.setNumberValue(a)}get bDrawVerticalYears(){return this.uiConfig.ui.calendarDrawVerticalYears.getBooleanValue()}set bDrawVerticalYears(a){this.uiConfig.ui.calendarDrawVerticalYears.setBooleanValue(a)}get bDrawVerticalMonthes(){return this.uiConfig.ui.calendarDrawVerticalMonthes.getBooleanValue()}set bDrawVerticalMonthes(a){this.uiConfig.ui.calendarDrawVerticalMonthes.setBooleanValue(a)}get bWhiteColor(){return this.uiConfig.ui.calendarWhiteColor.getBooleanValue()}set bWhiteColor(a){this.uiConfig.ui.calendarWhiteColor.setBooleanValue(a)}get bVertical(){return this.uiConfig.ui.calendarVertical.getBooleanValue()}set bVertical(a){this.uiConfig.ui.calendarVertical.setBooleanValue(a)}get bDrawEmptyMonthsLines(){return this.uiConfig.ui.calendarDrawEmptyMonthsLines.getNumberValue()}set bDrawEmptyMonthsLines(a){this.uiConfig.ui.calendarDrawEmptyMonthsLines.setNumberValue(a)}get bUpName(){return this.uiConfig.ui.calendarUpName.getBooleanValue()}set bUpName(a){this.uiConfig.ui.calendarUpName.setBooleanValue(a)}get bInline(){return this.uiConfig.ui.calendarInline.getBooleanValue()}set bInline(a){this.uiConfig.ui.calendarInline.setBooleanValue(a)}get bIncrementYear(){return this.uiConfig.ui.calendarIncrementYear.getBooleanValue()}set bIncrementYear(a){this.uiConfig.ui.calendarIncrementYear.setBooleanValue(a)}get bWeekdaysAhead(){return this.uiConfig.ui.calendarWeekdaysAhead.getBooleanValue()}set bWeekdaysAhead(a){this.uiConfig.ui.calendarWeekdaysAhead.setBooleanValue(a)}get bPageLayoutEnabled(){return this.uiConfig.ui.calendarPageLayoutEnabled.getBooleanValue()}set bPageLayoutEnabled(a){this.uiConfig.ui.calendarPageLayoutEnabled.setBooleanValue(a)}get bLiturgiyaColorsEnabled(){return this.uiConfig.ui.calendarLiturgiyaColorsEnabled.getBooleanValue()}set bLiturgiyaColorsEnabled(a){this.uiConfig.ui.calendarLiturgiyaColorsEnabled.setBooleanValue(a)}get bTechnicalMonthEnabled(){return this.uiConfig.ui.calendarTechnicalMonthEnabled.getBooleanValue()}set bTechnicalMonthEnabled(a){this.uiConfig.ui.calendarTechnicalMonthEnabled.setBooleanValue(a)}get bAccuratePeriodEnabled(){return this.uiConfig.ui.calendarAccuratePeriodEnabled.getBooleanValue()}set bAccuratePeriodEnabled(a){this.uiConfig.ui.calendarAccuratePeriodEnabled.setBooleanValue(a)}get bFixedWidth(){return this.uiConfig.ui.fixedWidth.getBooleanValue()}set bFixedWidth(a){this.uiConfig.ui.fixedWidth.setBooleanValue(a)}get ixcount(){return this.uiConfig.ui.calendarXcount.getNumberValue()}set ixcount(a){this.uiConfig.ui.calendarXcount.setNumberValue(a)}get iycount(){return this.uiConfig.ui.calendarYcount.getNumberValue()}set iycount(a){this.uiConfig.ui.calendarYcount.setNumberValue(a)}get sMonthes(){return this.uiConfig.ui.calendarMonthes.getStringValue()}set sMonthes(a){this.uiConfig.ui.calendarMonthes.setStringValue(a)}get sLinesArrange(){return this.uiConfig.ui.calendarLinesArrange.getStringValue()}set sLinesArrange(a){this.uiConfig.ui.calendarLinesArrange.setStringValue(a)}get sTitle(){return this.uiConfig.ui.calendarTitle.getStringValue()}set sTitle(a){this.uiConfig.ui.calendarTitle.setStringValue(a)}get calendarScheduler(){let a=[];try{a=JSON.parse(this.uiConfig.ui.calendarScheduler.getStringValue())}catch{a=[]}return a}set calendarScheduler(a){this.uiConfig.ui.calendarScheduler.setStringValue(JSON.stringify(a))}modalSaveSettingsFlag=!1;modalDeleteSettingsFlag=!1;modalAddSettingsFlag=!1;get currentSettingsName(){return this.uiConfig.ui.calendarCurrentSettingsName.getStringValue()}set currentSettingsName(a){this.uiConfig.ui.calendarCurrentSettingsName.setStringValue(a),this.setCurrentSettings(a)}settings=[];pCurrentSettingsName=new Qi("\u0418\u043c\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a","\u0438\u043c\u044f",this,"currentSettingsName",null,()=>this.changed());pTitle=new Qi("\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","\u041a\u0430\u043b\u0435\u0434\u0430\u0440\u044c %\u0413\u041e\u0414%",this,"sTitle",null,()=>this.changed());pVerticalYears=new Qi("\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u0433\u043e\u0434\u0430","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"bDrawVerticalYears",null,()=>this.changed());pVerticalMonthes=new Qi("\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043c\u0435\u0441\u044f\u0446\u044b","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"bDrawVerticalMonthes",null,()=>this.changed());pDrawEmptyMonthsLines=new Qi("\u0414\u043e\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u0435 \u043b\u0438\u043d\u0438\u0438","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"bDrawEmptyMonthsLines",null,()=>this.changed());pFixedWidth=new Qi("\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0432\u0430\u0442\u044c \u0448\u0438\u0440\u0438\u043d\u0443","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"bFixedWidth",null,()=>this.changed());p2sLinesArrange=new Qi("\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u043a:","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"sLinesArrange",null,()=>this.changed());pLineWidth=new Qi("\u0422\u043e\u043b\u0449\u0438\u043d\u0430 \u043b\u0438\u043d\u0438\u0439:","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"iLineWidth",null,()=>this.changed());p2sLineWidth=new Ea(this.pLineWidth,"value");pColumnsCount=new Qi("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"iColumnsCount",null,()=>this.changed());p2sColumnsCount=new Ea(this.pColumnsCount,"value");pDaysDelta=new Qi("\u0414\u043d\u0435\u0439 \u043f\u043e\u043c\u0438\u043d\u043e\u0432\u0435\u043d\u0438\u044f:","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0430",this,"iDaysDelta",null,()=>this.changed());p2sDaysDelta=new Ea(this.pDaysDelta,"value");pDaysDeltaPosition=new Qi("\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0438\u043e\u0434\u0430:","\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",this,"sorokoustDaysPosition",null,()=>this.changed());pMonthesDays=new Qi("\u0414\u043d\u0435\u0439 \u043c\u0435\u0441\u044f\u0446\u0430:","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439 \u043c\u0435\u0441\u044f\u0446\u0430",this,"iMonthesDays",null,()=>this.changed());p2sMonthesDays=new Ea(this.pMonthesDays,"value");pWhiteColor=new Qi("\u0411\u0435\u043b\u044b\u0439 \u0444\u043e\u043d","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"bWhiteColor",null,()=>this.changed());pVertical=new Qi("\u041f\u043e\u0440\u0442\u0440\u0435\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"bVertical",null,()=>this.changed());pUpName=new Qi("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u044f\u0446\u0430 \u0441\u0432\u0435\u0440\u0445\u0443","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"bUpName",null,()=>this.changed());pInline=new Qi("\u0412\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u0447\u0438\u0441\u043b\u0430 \u0432 \u0434\u043d\u0438 \u043d\u0435\u0434\u0435\u043b\u0438","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"bInline",null,()=>this.changed());pIncrementYear=new Qi("\u041c\u043d\u043e\u0433\u043e\u043b\u0435\u0442\u043d\u0438\u0439","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"bIncrementYear",null,()=>this.changed());pWeekdaysAhead=new Qi("\u0414\u043d\u0438 \u043d\u0435\u0434\u0435\u043b\u0438 \u043f\u0435\u0440\u0432\u044b\u043c\u0438","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"bWeekdaysAhead",null,()=>this.changed());pageLayoutEnabledParam=new Qi("\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f\u044b","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"bPageLayoutEnabled",null,()=>this.changed());pageLayoutWithoutFrameParam=new Qi("\u0411\u0435\u0437 \u0440\u0430\u043c\u043a\u0438","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"withoutBordersBorders",null,()=>this.changed());liturgiyaColorsEnabledParam=new Qi("\u0414\u043d\u0438 \u043b\u0438\u0442\u0443\u0440\u0433\u0438\u0438","\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",this,"bLiturgiyaColorsEnabled",null,()=>this.changed());technicalMonthEnabledParam=new Qi("\u0414\u043e\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043c\u0435\u0441\u044f\u0446","\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",this,"bTechnicalMonthEnabled",null,()=>this.changed());accuratePeriodEnabledParam=new Qi("\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434","\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",this,"bAccuratePeriodEnabled",null,()=>this.changed());pXCount=new Qi("\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u044b","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"ixcount",null,()=>this.changed());p2sXCount=new Ea(this.pXCount,"value");pYCount=new Qi("\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u044b","\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",this,"iycount",null,()=>this.changed());p2sYCount=new Ea(this.pYCount,"value");pMonthes=new Qi("\u041c\u0435\u0441\u044f\u0446\u044b","\u041c\u0435\u0441\u044f\u0446\u044b \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e",this,"sMonthes",null,()=>this.changed());pLayouts=new Qi("\u0412\u0441\u0435 \u043e\u0442\u0441\u0442\u0443\u043f\u044b","\u0432\u0435\u0440\u0445,\u043d\u0438\u0437,\u043b\u0435\u0432\u043e,\u043f\u0440\u0430\u0432\u043e/...",this,"allLayouts",this.pageLayoutEnabledParam);settingsFlags=[this.pWhiteColor,this.pVertical,this.pUpName,this.pWeekdaysAhead,this.pInline,this.pIncrementYear,this.pVerticalYears,this.pVerticalMonthes,this.pDrawEmptyMonthsLines,this.pFixedWidth,this.pageLayoutEnabledParam,this.pageLayoutWithoutFrameParam,this.liturgiyaColorsEnabledParam,this.technicalMonthEnabledParam,this.accuratePeriodEnabledParam];textParams=[this.pMonthes,this.pLayouts,new Qi("\u041e\u0442\u0441\u0442\u0443\u043f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441\u0432\u0435\u0440\u0445\u0443","\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0441\u043c",new Ea(this.pageLayout,"top",()=>this.changed()),"sValue",this.pageLayoutEnabledParam),new Qi("\u041e\u0442\u0441\u0442\u0443\u043f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441\u043d\u0438\u0437\u0443","\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0441\u043c",new Ea(this.pageLayout,"bottom",()=>this.changed()),"sValue",this.pageLayoutEnabledParam),new Qi("\u041e\u0442\u0441\u0442\u0443\u043f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441\u043b\u0435\u0432\u0430","\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0441\u043c",new Ea(this.pageLayout,"left",()=>this.changed()),"sValue",this.pageLayoutEnabledParam),new Qi("\u041e\u0442\u0441\u0442\u0443\u043f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441\u043f\u0440\u0430\u0432\u0430","\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0441\u043c",new Ea(this.pageLayout,"right",()=>this.changed()),"sValue",this.pageLayoutEnabledParam),new Qi("\u041e\u0442\u0441\u0442\u0443\u043f \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f \u0441\u0432\u0435\u0440\u0445\u0443","\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0441\u043c",new Ea(this.calendarLayout,"top",()=>this.changed()),"sValue",this.pageLayoutEnabledParam),new Qi("\u041e\u0442\u0441\u0442\u0443\u043f \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f \u0441\u043d\u0438\u0437\u0443","\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0441\u043c",new Ea(this.calendarLayout,"bottom",()=>this.changed()),"sValue",this.pageLayoutEnabledParam),new Qi("\u041e\u0442\u0441\u0442\u0443\u043f \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f \u0441\u043b\u0435\u0432\u0430","\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0441\u043c",new Ea(this.calendarLayout,"left",()=>this.changed()),"sValue",this.pageLayoutEnabledParam),new Qi("\u041e\u0442\u0441\u0442\u0443\u043f \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f \u0441\u043f\u0440\u0430\u0432\u0430","\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0441\u043c",new Ea(this.calendarLayout,"right",()=>this.changed()),"sValue",this.pageLayoutEnabledParam),new Qi("\u041e\u0442\u0441\u0442\u0443\u043f \u043c\u0435\u0441\u044f\u0446\u0430 \u0441\u0432\u0435\u0440\u0445\u0443","\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0441\u043c",new Ea(this.monthLayout,"top",()=>this.changed()),"sValue",this.pageLayoutEnabledParam),new Qi("\u041e\u0442\u0441\u0442\u0443\u043f \u043c\u0435\u0441\u044f\u0446\u0430 \u0441\u043d\u0438\u0437\u0443","\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0441\u043c",new Ea(this.monthLayout,"bottom",()=>this.changed()),"sValue",this.pageLayoutEnabledParam),new Qi("\u041e\u0442\u0441\u0442\u0443\u043f \u043c\u0435\u0441\u044f\u0446\u0430 \u0441\u043b\u0435\u0432\u0430","\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0441\u043c",new Ea(this.monthLayout,"left",()=>this.changed()),"sValue",this.pageLayoutEnabledParam),new Qi("\u041e\u0442\u0441\u0442\u0443\u043f \u043c\u0435\u0441\u044f\u0446\u0430 \u0441\u043f\u0440\u0430\u0432\u0430","\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0441\u043c",new Ea(this.monthLayout,"right",()=>this.changed()),"sValue",this.pageLayoutEnabledParam)];get allLayouts(){let a=this.pageLayout.toString();return a+=this.layoutsSeparator+this.calendarLayout.toString(),a+=this.layoutsSeparator+this.monthLayout.toString(),a}set allLayouts(a){if(this.allLayouts==a)return;let d=a.split(this.layoutsSeparator);d.length>=1&&this.pageLayout.fromString(d[0]),d.length>=2&&this.calendarLayout.fromString(d[1]),d.length>=3&&this.monthLayout.fromString(d[2]),this.uiConfig.ui.calendarAllPageLayouts.setStringValue(a),this.changed()}get year(){if(this.pCurrentDate.value){let a=this.pCurrentDate.value.split(/[\\/\.\-]/);if(a.length>0){let d=+a[this.pCurrentDate.value.indexOf("-")>=0?0:a.length-1];if(!Number.isNaN(d))return d+this.yearOffset}}return(new Date).getFullYear()+this.yearOffset}constructor(a,h,d,f,p){super(h,a),this.schedulerSvc=d,this.calendarSettingsSvc=f,this.ks=p}ngOnInit(){}ngAfterViewInit(){this.myCanvasRef&&(this.setContext(this.myCanvasRef.nativeElement.getContext("2d")),this.context.font="48px myUsc",this.context.textBaseline="middle",this.context.textAlign="center",setTimeout(()=>{this.render()},1e3)),this.allLayouts=this.uiConfig.ui.calendarAllPageLayouts.getStringValue(),this.onLoadSettingsDefaultDelayed()}goldDivision(a){return 1/(a*(Math.sqrt(5)+1)/2)}render(){if(!this.context)return;this.rendering=!0,this.context.font="48px myUcs",this.context.textBaseline="middle",this.context.textAlign="center";let a=[+this.pLineWidth.value];this.imageLinks=[],this.strokeAndFillStyle="";let f=[],p=10,m=(O,C)=>{this.pVertical.value&&a.forEach(S=>{f.push(new hc(210,297,p,this.strokeAndFillStyle,C+"\u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c_3_4_x"+this.pXCount.value+"_y"+this.pYCount.value+"_"+this.year+"_vert_"+S+"_"+O[0],0,0,210*p,297*p,this.pXCount.value,this.pYCount.value,3*S,O[0],O[1],O[2],O[3],O[4],pa.Calendar).setColumnCount1(+this.pColumnsCount.value).setColumnCount2(12/+this.pColumnsCount.value))}),this.pVertical.value||a.forEach(S=>{f.push(new hc(297,210,p,this.strokeAndFillStyle,C+"\u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c_3_4_x"+this.pXCount.value+"_y"+this.pYCount.value+"_"+this.year+"_hor_"+S+"_"+O[0],0,0,297*p,210*p,this.pXCount.value,this.pYCount.value,3*S,O[0],O[1],O[2],O[3],O[4],pa.Calendar).setColumnCount1(+this.pColumnsCount.value).setColumnCount2(12/+this.pColumnsCount.value))})},v=(O,C,S)=>{p=2;let x=256;f.push(new hc(x,x,p,this.strokeAndFillStyle,C+"\u043b\u043e\u0433\u043eSQL_"+O[0]+"_"+O[1]+"_"+this.year+"_1_"+Math.round(100*S)+"_"+O[0],0,0,x*p,x*p,1,1,3,O[0],O[1],O[2],O[3],O[4],pa.CompilerLogo,S)),f.push(new hc(x,x,p,this.strokeAndFillStyle,C+"\u043b\u043e\u0433\u043eCyrillic_"+O[0]+"_"+O[1]+"_"+this.year+"_1_"+Math.round(100*S)+"_"+O[0],0,0,x*p,x*p,1,1,3,O[0],O[1],O[2],O[3],O[4],pa.CompilerLogo,S,"CYR","illic"))};this.strokeAndFillStyle="white",c.DRAW_CALENDAR&&(this.pWhiteColor.value?[["white","black","#EEEEEE","#E3F5FC","#dff0d0"]]:[["black","white","#444444","#00364D","#004D36"]]).forEach(O=>m(O,O[0]+"_")),c.DRAW_SQL&&[["#0d233a","white","#444444"],["white","#0d233a","#444444"],["#00364D","white","#444444"],["white","#00364D","#444444"]].forEach(O=>{[1,.9,.8,.7,.6,.5].forEach(C=>{v(O,O[0]+"_",C)})});let _=(O,C,S)=>{let w=new HTe(this.context.canvas.toDataURL("image/png"),C,O.a4Width,O.a4Height,2*O.a4Width,2*O.a4Height);this.imageLinks.push(w),this.context.canvas.toBlob(x=>{x?w.data=x:this.config.addAlert(Bi.of("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.","Ok",30)),S&&setTimeout(S,10)})},y=0,b=()=>{if(y>=f.length)return void(this.rendering=!1);let O=f[y++];this.strokeAndFillStyle=O.strokeAndFillStyle,this.renderInSize(O),_(O,O.fileName,b),this.donePersantage=Math.round(y/f.length*100)};b()}renderInSize(a){switch(a.mode){default:case pa.Calendar:this.renderInSizeCalendar(a);break;case pa.CompilerLogo:this.renderInSizeCompilerLogo(a)}}renderInSizeCompilerLogo(a){let h=this.context;h.canvas.width=a.a4Width*a.a4Scale,h.canvas.height=a.a4Height*a.a4Scale;const d=h.canvas.width,f=h.canvas.height,p=(d-a.w)/2,g=(f-a.h)/2;Math.min(a.w,a.h),h.fillStyle=a.bgColor,h.strokeStyle="",this.drawRect(p,g,d,f);let v=a.scale,_=v*d,y=v*f;this.drawField(a,a.logoName,"",(d-_)/2,(f-y)/2,_,y,!0,!1,!1,hr.Normal,!0,a.logoNameSmall)}renderInSizeCalendar(a){let h=this.context;h.canvas.width=a.a4Width*a.a4Scale,h.canvas.height=a.a4Height*a.a4Scale,this.strokeAndFillStyle=a.fillColor;let d=new Rk(0,0,h.canvas.width,h.canvas.height),f=this.pageLayoutEnabledParam.value?this.pageLayout.clone().scale(a.a4Scale).apply(d):d;h.fillStyle=a.bgColor,h.strokeStyle="",this.drawRect(d.x,d.y+d.height/2,d.width,d.height/2),this.yearOffset=0;let p=this.pVerticalYears.value?a.xCount:a.yCount,g=this.pVerticalYears.value?a.yCount:a.xCount;for(let m=0;m<p;++m)for(let v=0;v<g;++v){let _=new Rk(f.x+f.width/a.xCount*(this.pVerticalYears.value?m:v),f.y+f.height/a.yCount*(this.pVerticalYears.value?v:m),f.width/a.xCount,f.height/a.yCount),y=new mg(this.withoutBordersBorders&&0==(this.pVerticalYears.value?v:m)?0:1,this.withoutBordersBorders&&(this.pVerticalYears.value?v+1==g:m+1==p)?0:1,this.withoutBordersBorders&&0==(this.pVerticalYears.value?m:v)?0:1,this.withoutBordersBorders&&(this.pVerticalYears.value?m+1==p:v+1==g)?0:1),b=this.pageLayoutEnabledParam.value?this.calendarLayout.clone().dot(y).scale(a.a4Scale).apply(_):_,O=b.x,C=b.y;const S=b.width,w=b.height;h.fillStyle=a.bgColor,h.strokeStyle="",this.drawRect(_.x,_.y+_.height/2,_.width,_.height/2);let x=a.a4Width<a.a4Height?a.columnCount1:a.columnCount2,T=a.a4Width<a.a4Height?a.columnCount2:a.columnCount1,D=0,k=0,P=0,N=0;this.technicalMonthEnabledParam.value&&(12==x&&(++x,++D,++P),12==T&&(++T,++k,++N));let F=new mg(0,0,0,0).apply(b),L=this.pMonthes.value.split(","),$=G=>{let K=G<L.length?L[G]:null;return null==K||""==K?null:+K},U=()=>{let G=0,K=0;for(let J=0;J<L.length;++J){let ie=$(J),re=this.getMonthsDaysCount(this.year,ie?ie-1:0);re>G&&(G=re,K=J)}return K},z=(G,K,J,ie,re,he,de)=>{let ke=this.pVerticalMonthes.value,xe=G<0||K<0?U():ke?G*T+K:K*x+G;if(xe>=L.length)return!1;let Ie=$(xe);if(null==Ie||Number.isNaN(Ie))return!1;if(J)return!0;Ie>=0&&(Ie-=1);let Ze=7!=this.pMonthesDays.value&&this.technicalMonthEnabledParam.value,Ne=G<0||K<0,Ve=1==this.pMonthesDays.value,nt=31==this.pMonthesDays.value,_e=new mg(this.withoutBordersBorders&&(Ne||0==K&&!Ze||Ze&&Ve)?0:1,this.withoutBordersBorders&&(Ve||K+1==T-re-(Ze&&nt?1:0))?0:1,this.withoutBordersBorders&&(Ne||0==G&&!Ze||Ze&&nt)?0:1,this.withoutBordersBorders&&(nt||G+1==x-ie-(Ze&&Ve?1:0))?0:1),$e=new Rk(F.x+F.width/(x-ie)*(G<0?0:G+D-he),F.y+F.height/(T-re)*(K<0?0:K+k-de),F.width/(x-ie),F.height/(T-re)),it=this.pageLayoutEnabledParam.value?this.monthLayout.clone().dot(_e).scale(a.a4Scale).apply($e):$e;return this.drawMonth(a,it.x,it.y,it.width,it.height,Ie,K+1==T-ie,!0,G<0||K<0),!0},ee=[...Array(x-P).keys()].map(G=>!0),te=[...Array(T-N).keys()].map(G=>!0);for(let G=0;G<x;++G)for(let K=0;K<T;++K)z(G,K,!0,0,0,0,0)&&(ee[G]=!1,te[K]=!1);let B=ee.filter(G=>G).length,j=te.filter(G=>G).length,q=0;if(this.getCalendarTitle(this.year)){switch(q=w/(7*(T-j)+1),this.pMonthesDays.value){case 1:q=w/(32*(T-j)+1);break;case 31:q=w/14}this.drawField(a,this.getCalendarTitle(this.year),"",O,C,S,q,!0,!1,!1,hr.Normal,!1,"",!1,!1,1)}if(F=new mg(q,0,0,0).apply(b),7!=this.pMonthesDays.value&&this.technicalMonthEnabledParam.value){let G=ee.filter(J=>J).length,K=te.filter(J=>J).length;z(-1,-1,!1,this.pDrawEmptyMonthsLines.value?0:B,this.pDrawEmptyMonthsLines.value?0:j,this.pDrawEmptyMonthsLines.value?0:G,this.pDrawEmptyMonthsLines.value?0:K)}for(let G=0;G<x;++G)for(let K=0;K<T;++K){if(!this.pDrawEmptyMonthsLines.value&&(ee[G]||te[K]))continue;let J=ee.filter((re,he,de)=>he<G).filter(re=>re).length,ie=te.filter((re,he,de)=>he<K).filter(re=>re).length;z(G,K,!1,this.pDrawEmptyMonthsLines.value?0:B,this.pDrawEmptyMonthsLines.value?0:j,this.pDrawEmptyMonthsLines.value?0:J,this.pDrawEmptyMonthsLines.value?0:ie)}this.pIncrementYear.value&&++this.yearOffset}}getMonthsDaysCount(a,h){return new Date(a+(11==h?1:0),(h+1)%12,0).getDate()}number2string(a,h){let d=""+a;for(;d.length<h;)d="0"+d;return d}getLastDateString(a,h,d,f){let p=h,g=d,m=f,v=a,_=-1,y=-1;do{let O=this.getMonthsDaysCount(g,p);for(let C=v;C<=O&&0!=m;C++)this.schedulerSvc.isLiturgiaFound(g,p,C)&&0==--m&&(_=p,y=C),v=C;m>0&&(v=1,++p,p>=12&&(++g,p-=12))}while(m>0);return this.extraSeparator+this.number2string(y,2)+"."+this.number2string(1+_,2)}drawMonth(a,h,d,f,p,g,m,v,_){switch(this.pMonthesDays.value){case 7:this.drawMonth7(a,h,d,f,p,g,m,v);break;case 31:this.drawMonth31(a,h,d,f,p,g,m,v,!0,_);break;default:this.drawMonth31(a,h,d,f,p,g,m,v,!1,_)}}drawMonth31(a,h,d,f,p,g,m,v,_,y=!1){let b=new Date,O=(g>=0?1:-1)*Math.floor(g>=0?g/12:(12-g)/12);b.setFullYear(this.year+O),b.setDate(1);let C=g%12;C<0&&(C=12+C),b.setMonth(C);let S=b.getDay();0==S&&(S=7),y&&(S=1);let x=new Date(this.year+O+(11==C?1:0),(C+1)%12,0).getDate(),T=Math.round(p/32),D=Math.round(f/32),k=["\u042f\u041d","\u0424\u0412","\u041c\u0420","\u0410\u041f","\u041c\u0419","\u0418\u041d","\u0418\u041b","\u0410\u0412","\u0421\u041d","\u041e\u041a","\u041d\u0411","\u0414\u041a"];for(let P=0;P<x+1;++P){let N=""+(P||(y?"":k[C])),F="",L=[0==P||6==S||7==S?hr.SunDay:hr.Normal];if(P>0){let z=this.pDaysDelta.value,ee=te=>{let B=[...te];return!y&&this.bLiturgiyaColorsEnabled&&(1==B.length&&B[0]==hr.Normal?B[0]=hr.Liturgiya:B.push(hr.Liturgiya)),B};{let te=P;b.setDate(1),b.setMonth(g),b.setDate(te),b.getMonth()==C&&(z>0&&(F=this.getLastDateString(te,C,this.year+O,z)),N=""+this.number2string(te,z>0?2:1),!y&&this.uiConfig.ui.calendarAccuratePeriodEnabled&&(N+="."+this.number2string(C+1,2))),te<=x&&this.schedulerSvc.isLiturgiaFound(b.getFullYear(),C,te)&&(L=ee(L))}y||(++S,S%=7,0==S&&(S=7))}let U=z=>{let ee=[...z];return this.technicalMonthEnabledParam.value&&P>0&&P%5==0&&(1==ee.length&&ee[0]==hr.Normal?ee[0]=hr.Heightlited:ee.push(hr.Heightlited)),ee};this.drawField(a,this.technicalMonthEnabledParam.value?y||0==P?N:(z=>{let ee=z;return ee.startsWith(this.extraSeparator)&&(ee=ee.substring(1)),ee})(F):N,this.technicalMonthEnabledParam.value?"":F,h+(_?D*P:0),d+(_?0:T*P),_?D:f,_?p:T,!P,!0,v,U(L),!P,"",!1,!1,1,0==P||_)}}drawMonth7(a,h,d,f,p,g,m,v){let _=C=>{let S=[...C];return this.bLiturgiyaColorsEnabled&&(1==S.length&&S[0]==hr.Normal?S[0]=hr.Liturgiya:S.push(hr.Liturgiya)),S},y=this.pDaysDelta.value,O=this.pUpName.value&&!this.pWeekdaysAhead.value?1:0;{let C=new Date,S=(g>=0?1:-1)*Math.floor(g>=0?g/12:(12-g)/12);C.setFullYear(this.year+S),C.setDate(1);let w=g%12;w<0&&(w=12+w),C.setMonth(w);let x=C.getDay();0==x&&(x=7);let D=new Date(this.year+S+(11==w?1:0),(w+1)%12,0).getDate(),k=7,P=[{text:"\u041f",extraText:"",color:[hr.SunDay]},{text:"\u0412",extraText:"",color:[hr.SunDay]},{text:"\u0421",extraText:"",color:[hr.SunDay]},{text:"\u0427",extraText:"",color:[hr.SunDay]},{text:"\u041f",extraText:"",color:[hr.SunDay]},{text:"\u0421",extraText:"",color:[hr.SunDay]},{text:"\u0412",extraText:"",color:[hr.SunDay]}],N=this.pUpName.value&&x>5&&("top"==this.sLinesArrange||6==x&&D>=31||7==x&&D>29);if(N&&this.pInline.value){let ee=this.number2string(1,y>0?2:1),te=this.number2string(2,y>0?2:1),B="",j="",W=[hr.SunDay],q=[hr.SunDay];W=this.schedulerSvc.isLiturgiaFound(this.year+S,w,1)?_(W):W,q=this.schedulerSvc.isLiturgiaFound(this.year+S,w,2)?_(q):q,y>0&&(B=this.getLastDateString(1,w,this.year+S,y),j=this.getLastDateString(2,w,this.year+S,y));let G=6==x?[{text:ee,extraText:B,color:W},{text:te,extraText:j,color:q}]:[{text:ee,extraText:B,color:W}];P.splice(7-G.length,G.length,...G)}for(let ee=0;ee<k;++ee)this.drawField(a,P[ee].text,P[ee].extraText,h+f/k*ee,d+p/7*(0+O),f/k,p/7,!0,!0,v,P[ee].color,!1,"",!1,!1,1,this.pWeekdaysAhead.value||!this.pUpName.value);N?this.pWeekdaysAhead.value||--O:this.pUpName.value&&this.pWeekdaysAhead.value&&++O;let F=0;if("bottom"==this.sLinesArrange&&28==D&&1==x&&++F,F>0){let ee=7*F;for(let te=0;te<F;++te){let B=(N?2:1)+te;for(let j=0;j<ee;++j)this.drawField(a,"","",h+f/k*j,d+p/7*(B+O),f/k,p/7,!1,!0,m&&6==B||v,5==j||6==j?hr.SunDay:hr.Normal)}}let L=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"];for(let ee=N?2:1;ee<7-F;++ee)for(let te=0;te<k;++te){let B=(ee-1)*k+te+1,j="",W="",q=[5==te||6==te?hr.SunDay:hr.Normal];if(B>=x){let G=B-x+1;C.setDate(1),C.setMonth(g),C.setDate(G),C.getMonth()==w&&(y>0&&(W=this.getLastDateString(G,w,this.year+S,y)),j=""+this.number2string(G,y>0?2:1),this.uiConfig.ui.calendarAccuratePeriodEnabled.getBooleanValue()&&(j+="."+this.number2string(w+1,2))),G<=D&&this.schedulerSvc.isLiturgiaFound(C.getFullYear(),w,G)&&(q=_(q))}((N?ee<7-F:ee<6-F)||!this.pUpName.value&&te<2)&&this.drawField(a,j,W,h+f/k*te,d+p/7*(ee+O+F),f/k,p/7,!1,!0,m&&6==ee||v,q)}let $=this.pUpName.value?this.pWeekdaysAhead.value?1:0:6,z=!this.pUpName.value||N&&!this.pInline.value?5:7;if(this.drawField(a,L[w],"",this.pUpName.value?h:h+f/k*2,d+p/7*$,f/k*z,p/7,!1,!0,m||v,hr.Normal,!1,"",!1,!1,z,this.pUpName.value&&!this.pWeekdaysAhead.value),N&&!this.pInline.value){let ee=this.number2string(1,y>0?2:1),te=this.number2string(2,y>0?2:1),B="",j="",W=[hr.SunDay],q=[hr.SunDay];W=this.schedulerSvc.isLiturgiaFound(this.year+S,w,1)?_(W):W,q=this.schedulerSvc.isLiturgiaFound(this.year+S,w,2)?_(q):q,y>0&&(B=this.getLastDateString(1,w,this.year+S,y),j=this.getLastDateString(2,w,this.year+S,y)),(6==x?[{text:ee,extraText:B,color:W},{text:te,extraText:j,color:q}]:[{text:"",extraText:"",color:hr.SunDay},{text:ee,extraText:B,color:W}]).forEach((K,J)=>{this.drawField(a,K.text,K.extraText,h+f/k*(5+J),d+p/7*$,f/k,p/7,!1,!0,m||v,K.color,!1,"",!1,!1,1,this.pUpName.value&&!this.pWeekdaysAhead.value)})}}}downloadAllImages(){const a=new nm;this.imageLinks.forEach(h=>{a.file(h.name+".png",h.data)}),a.generateAsync({type:"blob"}).then(h=>{const d=new Blob([h],{type:"octet/stream"});this.config.isPlatformAndroid()?this.ks.addTempFile(this.saveFileName,d).then(f=>{ho.startDownload(f.fileName,this.saveFileName)}):ho.saveData(d,this.saveFileName)})}onImageSelect(a){this.imageLinks.forEach(h=>{h!=a&&(h.fullSize=!1)}),a.fullSize=!a.fullSize}changedEnabled=!0;changedId=0;changed(){if(!this.changedEnabled)return;let a=++this.changedId;setTimeout(()=>{a==this.changedId&&this.render()},2e3)}handleChanged(a,h=!0){this.changedEnabled=a,h&&this.changed()}getCalendarTitle(a){let h=this.sTitle.split(/[\\\/|]+/),f=h[this.yearOffset%h.length];for(;f.indexOf("%\u0413\u041e\u0414%")>=0;)f=f.replace("%\u0413\u041e\u0414%",""+a);return f}setCurrentSettings(a){let h=this.settings.find(d=>d.name==a);h&&this.setCurrentSettingsDirect(h)}setCurrentSettingsDirect(a){this.handleChanged(!1),this.pCurrentDate.value=a.currentDate,this.pTitle.value=a.title,this.pXCount.value=a.xCount,this.pYCount.value=a.yCount,this.pMonthes.value=a.monthes,this.pLayouts.value=a.layouts,this.pColumnsCount.value=a.columnsCount,this.pDaysDelta.value=a.daysDelta,this.pDaysDeltaPosition.value=null==a.daysDeltaPosition?"\u043b\u044e\u0431\u043e\u0435":a.daysDeltaPosition,this.pMonthesDays.value=null==a.monthesDays?7:a.monthesDays,this.p2sLinesArrange.value=a.linesArrange,this.pLineWidth.value=a.linesWidth,this.pWhiteColor.value=a.whiteColor,this.pVertical.value=a.vertical,this.pUpName.value=a.upName,this.pInline.value=a.inline,this.pIncrementYear.value=a.incrementYear,this.pWeekdaysAhead.value=a.weekdaysAhead,this.pageLayoutEnabledParam.value=a.pageLayoutEnabledParam,this.calendarScheduler=Array.isArray(a.scheduler)?a.scheduler:[],this.uiConfig.ui.calendarIntervals.setStringValue(a.intervals?a.intervals:""),this.liturgiyaColorsEnabledParam.value=a.liturgiyaDays,this.technicalMonthEnabledParam.value=null!=a.technicalDays&&a.technicalDays,this.pDrawEmptyMonthsLines.value=null!=a.drawEmptyLines&&a.drawEmptyLines,this.accuratePeriodEnabledParam.value=null!=a.accuratePeriod&&a.accuratePeriod,this.pageLayoutWithoutFrameParam.value=!!a.withoutBordersBorders,this.handleChanged(!0)}getAllCurrentSettings(){let a={};return a.currentDate=this.pCurrentDate.value,a.title=this.pTitle.value,a.xCount=this.pXCount.value,a.yCount=this.pYCount.value,a.monthes=this.pMonthes.value,a.layouts=this.pLayouts.value,a.columnsCount=this.pColumnsCount.value,a.daysDelta=this.pDaysDelta.value,a.daysDeltaPosition=this.pDaysDeltaPosition.value,a.monthesDays=this.pMonthesDays.value,a.linesArrange=this.p2sLinesArrange.value,a.linesWidth=this.pLineWidth.value,a.whiteColor=this.pWhiteColor.value,a.vertical=this.pVertical.value,a.upName=this.pUpName.value,a.inline=this.pInline.value,a.incrementYear=this.pIncrementYear.value,a.weekdaysAhead=this.pWeekdaysAhead.value,a.pageLayoutEnabledParam=this.pageLayoutEnabledParam.value,a.scheduler=this.uiConfig.ui.calendarScheduler.getStringValue(),a.intervals=this.uiConfig.ui.calendarIntervals.getStringValue(),a.liturgiyaDays=this.liturgiyaColorsEnabledParam.value,a.technicalDays=this.technicalMonthEnabledParam.value,a.drawEmptyLines=this.pDrawEmptyMonthsLines.value,a.accuratePeriod=this.accuratePeriodEnabledParam.value,a.withoutBordersBorders=this.pageLayoutWithoutFrameParam.value,a}settingsFromString(a){try{return JSON.parse(this.uiConfig.ui.calendarAllVariants.getStringValue())}catch{}return[]}onSave(a){this.modalSaveSettingsFlag=!0}onExport(a){let h=JSON.stringify(this.getAllCurrentSettings());const d=(new Date).toISOString().split("T")[0];let f="json";if(this.config.isPlatformAndroid())this.ks.addTempFile(`\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f.${f}`,h).then(p=>{ho.startDownload(p.fileName,`\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f.${d}.${f}`)});else{const p=new TextEncoder,g=new Blob([p.encode(h)],{type:"octet/stream"});ho.saveData(g,`\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f.${d}.${f}`)}}onSaveCurrentSettings(a=!0){let h=this.getAllCurrentSettings();h.name=this.pCurrentSettingsName.value;let d=!1;for(let f=0;f<this.settings.length;f++)this.settings[f].name==h.name&&(this.settings[f]=h,d=!0);!d&&a&&this.settings.push(h),this.uiConfig.ui.calendarAllVariants.setStringValue(JSON.stringify(this.settings)),this.modalSaveSettingsFlag=!1}onLoadSettingsDefaultDelayed(){this.config.post(()=>this.onLoadSettingsDefault(),1)}onLoadSettingsDefault(){this.settings=this.settingsFromString(this.uiConfig.ui.calendarAllVariants.getStringValue());let a="",h=!1;this.settings.forEach(d=>{d.name==this.currentSettingsName&&(h=!0),!a&&d.name&&(a=d.name)}),!h&&a&&(this.currentSettingsName=a),(!this.settings||0==this.settings.length)&&this.config.post(()=>{this.modalAddSettingsFlag=!0},1)}selected="1";onDeleteCurrentSettings(a){this.modalDeleteSettingsFlag=!0}onDeleteCurrentSettingsDirect(a){let h=this.pCurrentSettingsName.value;for(let d=0;d<this.settings.length;d++)if(this.settings[d].name==h){this.settings.splice(d,1);break}this.uiConfig.ui.calendarAllVariants.setStringValue(JSON.stringify(this.settings)),this.currentSettingsName="",this.onLoadSettingsDefaultDelayed(),this.modalDeleteSettingsFlag=!1,(!this.settings||0==this.settings.length)&&(this.modalAddSettingsFlag=!0)}onAddAllSettingsDirect(a){this.calendarSettingsSvc.getNames("").then(h=>{let d=h.names;if(this.settings=[],null!=d&&d.length>0&&d[0].names.length>0){let f=p=>{p<d.length?this.calendarSettingsSvc.getSource(d[p].names[0],"").then(g=>{let m=g.source;if(m){let v=JSON.parse(m);v.name=d[p].name,this.settings.push(v)}f(p+1)}):(this.onSaveCurrentSettings(!1),this.onLoadSettingsDefaultDelayed(),this.modalAddSettingsFlag=!1)};f(0)}else this.modalAddSettingsFlag=!1})}toggleResultView(){this.viewResultEnabled=!this.viewResultEnabled}onSchedulerChanged(a){this.changed()}onImport(a){0!==a.target.files.length&&this.onImportFile(a.target.files[0])}onImportFile(a){if(!a)return;const h=new FileReader;h.onload=d=>{try{if(!h.result)throw new Error("\u041f\u0443\u0441\u0442\u043e\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442.");let f=h.result.toString(),p=JSON.parse(f);this.setCurrentSettingsDirect(p)}catch(f){this.config.addAlert(Bi.of("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0444\u0430\u0439\u043b: "+f,"OK",30))}},h.readAsText(a)}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt),V(JR),V(CG),V(Xh))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-calendar-view"]],viewQuery:function(h,d){if(1&h&&si(LEt,5),2&h){let f;Ht(f=Wt())&&(d.myCanvasRef=f.first)}},inputs:{data:"data"},features:[_n],decls:121,vars:35,consts:[[1,"main"],["width","512px","height","512px",1,"myUcs","center",3,"hidden","click"],["myCanvas",""],[1,"clr-row","fade-in-3"],[3,"ngClass"],["role","alert",3,"ngClass"],[1,"alert-items"],[1,"alert-item","static"],[1,"alert-icon-wrapper"],[1,"alert-icon"],[1,"alert-text"],[1,"bottom-space"],["clrForm",""],["clrInline",""],[4,"ngFor","ngForOf"],[1,"clr-row","top-space"],[1,"clr-col-3"],["type","button","aria-label","done",1,"btn","btn-icon","btn-success","btn-block",3,"click"],[1,"btn","btn-success","btn-block"],["type","file","placeholder","\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c","accept",".json",1,"button-input",3,"change"],["type","button","class","btn btn-icon btn-danger btn-block","aria-label","warning",3,"click",4,"ngIf"],[1,"bottom-space","clr-hidden-lg-up",3,"hidden"],[4,"ngIf"],["class","fw",4,"ngIf"],[4,"clrIfExpanded"],[1,"clr-hidden-lg-up"],[1,"clr-col","clr-col-6","clr-hidden-md-down",3,"hidden"],[3,"clrModalOpen","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],[3,"hidden"],["clrInput","",3,"placeholder","name","ngModel","ngModelChange"],[1,"modal-footer"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","aria-label","warning",1,"btn","btn-icon","btn-warning"],["shape","warning-standard"],["type","button",1,"btn","btn-warning",3,"click"],["type","button","aria-label","warning",1,"btn","btn-icon","btn-success"],["shape","check"],["type","button",1,"btn","btn-success",3,"click"],["type","radio","clrRadio","",3,"name","value","ngModel","ngModelChange"],["type","button","aria-label","warning",1,"btn","btn-icon","btn-danger","btn-block",3,"click"],[1,"spinner"],["clrSuccess","","clrLabeled","",3,"clrValue"],[1,"fw"],["class","fw",4,"ngFor","ngForOf"],[1,"btn","btn-block","btn-success","ucs","center","top-space",3,"click"],[1,"fw",3,"src","click"],[1,"clr-row","clr-align-items-center"],[1,"clr-col-2"],[1,"clr-col-10"],[1,"inline-block"],[3,"showDates","change"],[3,"hidden",4,"ngFor","ngForOf"],["type","checkbox","clrToggle","",3,"name","value","ngModel","ngModelChange"],[3,"change"],[1,"bottom-space",3,"hidden"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"canvas",1,2),Y("click",function(){return d.render()}),M()(),E(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),se(9,"cds-icon",9),M(),E(10,"span",10),H(11),M()()()(),E(12,"div",11)(13,"form",12)(14,"clr-radio-container",13),X(15,NEt,4,4,"clr-radio-wrapper",14),M()(),E(16,"div",15)(17,"div",16)(18,"button",17),Y("click",function(p){return d.onSave(p)}),H(19,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),M()(),E(20,"div",16)(21,"button",17),Y("click",function(p){return d.onExport(p)}),H(22,"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 "),M()(),E(23,"div",16)(24,"label",18)(25,"input",19),Y("change",function(p){return d.onImport(p)}),M(),H(26," \u0418\u043c\u043f\u043e\u0440\u0442 "),M()(),E(27,"div",16),X(28,FEt,2,0,"button",20),M()()(),E(29,"div",21),X(30,BEt,4,1,"div",22),X(31,$Et,5,1,"div",23),M(),E(32,"clr-accordion")(33,"clr-accordion-panel")(34,"clr-accordion-title"),H(35,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),M(),X(36,qEt,56,42,"clr-accordion-content",24),M(),E(37,"clr-accordion-panel")(38,"clr-accordion-title"),H(39,"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),M(),X(40,KEt,2,0,"clr-accordion-content",24),M()()(),E(41,"div",4)(42,"div",5)(43,"div",6)(44,"div",7)(45,"div",8),se(46,"cds-icon",9),M(),E(47,"span",10),H(48),M()()()(),E(49,"div",11)(50,"form",12)(51,"clr-radio-container",13),X(52,JEt,4,4,"clr-radio-wrapper",14),M()(),E(53,"div",15)(54,"div",16)(55,"button",17),Y("click",function(p){return d.onSave(p)}),H(56,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),M()(),E(57,"div",16)(58,"button",17),Y("click",function(p){return d.onExport(p)}),H(59,"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 "),M()(),E(60,"div",16)(61,"label",18)(62,"input",19),Y("change",function(p){return d.onImport(p)}),M(),H(63," \u0418\u043c\u043f\u043e\u0440\u0442 "),M()(),E(64,"div",16),X(65,ePt,2,0,"button",20),M()()(),E(66,"clr-accordion")(67,"clr-accordion-panel",25)(68,"clr-accordion-title"),H(69,"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c"),M(),X(70,rPt,4,3,"clr-accordion-content",24),M(),E(71,"clr-accordion-panel")(72,"clr-accordion-title"),H(73,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),M(),X(74,gPt,56,42,"clr-accordion-content",24),M(),E(75,"clr-accordion-panel")(76,"clr-accordion-title"),H(77,"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),M(),X(78,mPt,2,0,"clr-accordion-content",24),M()()(),E(79,"div",26),X(80,vPt,4,1,"div",22),X(81,yPt,5,1,"div",23),M()(),E(82,"clr-modal",27),Y("clrModalOpenChange",function(p){return d.modalSaveSettingsFlag=p}),E(83,"h3",28),H(84,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),M(),E(85,"div",29)(86,"form")(87,"clr-input-container",30)(88,"label"),H(89),M(),E(90,"input",31),Y("ngModelChange",function(p){return d.pCurrentSettingsName.value=p}),M()()()(),E(91,"div",32),X(92,bPt,2,0,"button",33),E(93,"button",34),Y("click",function(){return d.modalSaveSettingsFlag=!1}),H(94,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M()()(),E(95,"clr-modal",27),Y("clrModalOpenChange",function(p){return d.modalDeleteSettingsFlag=p}),E(96,"h3",28),H(97,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a"),M(),E(98,"div",29)(99,"p")(100,"button",35),se(101,"cds-icon",36),M(),H(102),M()(),E(103,"div",32)(104,"button",34),Y("click",function(){return d.modalDeleteSettingsFlag=!1}),H(105,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M(),E(106,"button",37),Y("click",function(p){return d.onDeleteCurrentSettingsDirect(p)}),H(107,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),M()()(),E(108,"clr-modal",27),Y("clrModalOpenChange",function(p){return d.modalAddSettingsFlag=p}),E(109,"h3",28),H(110,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a"),M(),E(111,"div",29)(112,"p")(113,"button",38),se(114,"cds-icon",39),M(),H(115," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0435\u0441\u044f\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e?"),M()(),E(116,"div",32)(117,"button",40),Y("click",function(p){return d.onAddAllSettingsDirect(p)}),H(118,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),M(),E(119,"button",34),Y("click",function(){return d.modalAddSettingsFlag=!1}),H(120,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M()()()),2&h&&(I(1),R("hidden",!0),I(3),R("ngClass",Fi(29,OPt)),I(1),R("ngClass",Fi(30,nke)),I(4),Je("shape",d.settings.length?"check-circle":"help-info"),I(2),Kt("\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b: ",d.settings.length?"":"\u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442",""),I(4),R("ngForOf",d.settings),I(13),R("ngIf",d.settings.length),I(1),R("hidden",!d.viewResultEnabled),I(1),R("ngIf",d.rendering),I(1),R("ngIf",!d.rendering),I(10),R("ngClass",mr(31,CPt,!1,!d.viewResultEnabled)),I(1),R("ngClass",Fi(34,nke)),I(4),Je("shape",d.settings.length?"check-circle":"help-info"),I(2),Kt("\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b: ",d.settings.length?"":"\u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442",""),I(4),R("ngForOf",d.settings),I(13),R("ngIf",d.settings.length),I(14),R("hidden",!1),I(1),R("ngIf",d.rendering),I(1),R("ngIf",!d.rendering),I(1),R("clrModalOpen",d.modalSaveSettingsFlag),I(5),R("hidden",!d.pCurrentSettingsName.enabled),I(2),ut(d.pCurrentSettingsName.name),I(1),Cc("placeholder",d.pCurrentSettingsName.description),R("name","tparamsCurrentSettingsName")("ngModel",d.pCurrentSettingsName.value),I(2),R("ngIf",d.pCurrentSettingsName.value),I(3),R("clrModalOpen",d.modalDeleteSettingsFlag),I(7),Kt(" \u0423\u0434\u0430\u043b\u0438\u0442\u044c '",d.pCurrentSettingsName.value,"'?"),I(6),R("clrModalOpen",d.modalAddSettingsFlag))},dependencies:[ei,Gn,mn,gf,Nx,Vn,Vo,$o,Dx,Lr,$p,rd,rv,id,zp,pf,tO,KP,eO,pm,hf,mm,gm,vm,Np,uO,Jh,za,rh,H1,sa,Kh,Fo,Nc,ZTe,REt],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}.fw[_ngcontent-%COMP%]{width:100%;max-width:100%;max-height:100%;margin:auto;overflow:auto}.inline-block[_ngcontent-%COMP%]{display:inline-block}.divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}.button-input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}"]})}return c})();class ike{name;description;object;fieldName;enabler;onChangeHandler;constructor(l,a,h,d,f,p=null){this.name=l,this.description=a,this.object=h,this.fieldName=d,this.enabler=f,this.onChangeHandler=p}get value(){return this.object[this.fieldName]}set value(l){this.object[this.fieldName]!=l&&(this.object[this.fieldName]=l,this.changed())}get enabled(){return!this.enabler||!!this.enabler.value}changed(){this.onChangeHandler&&this.onChangeHandler()}}class Ch{static \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(l,a){let h=/\{[\u043a\u041a\u0441\u0421\u0437\u0417\u0451\u0401\u0444\u0424\u043f\u041f\u043c\u041c\u043b\u041b\u0440\u0420]\}/g;return l.split("\r\n").map(d=>d.includes("\u0442")?d:d.replace(h,"")).map(d=>d+(d.includes("\u0442")?"":a)).join("\r\n")}static \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442\u0412\u041b\u044e\u0431\u043e\u043c\u0421\u043b\u0443\u0447\u0430\u0435(l,a){let h=/\{[\u043a\u041a\u0441\u0421\u0437\u0417\u0451\u0401\u0444\u0424\u043f\u041f\u043c\u041c\u043b\u041b\u0440\u0420]\}/g;return l.split("\r\n").map(d=>d.replace(h,"")).map(d=>d+a).join("\r\n")}static getTextColor(l){var a=l.split(""),h="",d="",f=0;for(let p=0;p<a.length;++p)"{"==a[p]?++f:"}"==a[p]?(2==f&&(h=`{${d}}`),f=0):1==f?"\u0442"==(d=a[p])?f=0:++f:f=0;return h}static utf8_to_b64(l){return window.btoa(encodeURIComponent(l))}static b64_to_utf8(l){return decodeURIComponent(window.atob(l))}}class vg{static getPasha(l,a=!0){let p=(l%19*19+15)%30,m=p+(l%4*2+l%7*4+6*p+6)%7,v=null;if(v=m<=9?new Date(l,2,22+m):new Date(l,3,m-9),a){let _=[new Date(1582,9,5),new Date(1700,1,19),new Date(1800,1,18),new Date(1900,1,17),new Date(2100,1,16),new Date(2200,1,15),new Date(2300,1,14),new Date(2500,1,13)],y=b=>{let O=9;for(const C of _){if(C.getTime()>b.getTime())break;++O}return O};v.setDate(v.getDate()+y(v))}return v}static getNowDate(l){let a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate()+l)}static getRelativePashaDayDate(l,a,h=!0){let d=vg.getPasha(l,h);return d.setDate(d.getDate()+a),d}static daysDiff(l,a){return Math.round((l.getTime()-a.getTime())/864e5)}}class t_{rang;text;extraRang=0;constructor(l,a){this.rang=l,this.text=a}static builder(){return new t_(0,"")}setRang(l){return this.rang=l,this}setExtraRang(l){return this.extraRang=l,this}setText(l){return this.text=l,this}\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0420\u0430\u043d\u0433(l=0){let a=Math.max(l,this.rang);return a>0?a:1}\u0431\u0434\u0435\u043d\u043d\u0430\u044f\u0421\u043b\u0443\u0436\u0431\u0430(l=0){return 6==this.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0420\u0430\u043d\u0433(l)||5==this.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0420\u0430\u043d\u0433(l)}\u043f\u043e\u043b\u0438\u0435\u043b\u0435\u0439\u043d\u0430\u044f\u0421\u043b\u0443\u0436\u0431\u0430(l=0){return 4==this.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0420\u0430\u043d\u0433(l)}\u0441\u043b\u0430\u0432\u043e\u0441\u043b\u043e\u0432\u043d\u0430\u044f\u0421\u043b\u0443\u0436\u0431\u0430(l=0){return 3==this.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0420\u0430\u043d\u0433(l)}\u0448\u0435\u0441\u0442\u0438\u0440\u0438\u0447\u043d\u0430\u044f\u0421\u043b\u0443\u0436\u0431\u0430(l=0){return 2==this.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0420\u0430\u043d\u0433(l)}\u0431\u0435\u0437\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u0447\u043d\u043e\u0433\u043e\u0417\u043d\u0430\u043a\u0430\u0421\u043b\u0443\u0436\u0431\u0430(l=0){return 1==this.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0420\u0430\u043d\u0433(l)||0==this.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0420\u0430\u043d\u0433(l)}\u0446\u0432\u0435\u0442\u0421\u043b\u0443\u0436\u0431\u044b(l=0){let a="";return this.\u0431\u0434\u0435\u043d\u043d\u0430\u044f\u0421\u043b\u0443\u0436\u0431\u0430(l)?a="{\u043a}":this.\u043f\u043e\u043b\u0438\u0435\u043b\u0435\u0439\u043d\u0430\u044f\u0421\u043b\u0443\u0436\u0431\u0430(l)?a="{\u0437}":this.\u0441\u043b\u0430\u0432\u043e\u0441\u043b\u043e\u0432\u043d\u0430\u044f\u0421\u043b\u0443\u0436\u0431\u0430(l)&&(a="{\u0441}"),a}}let rke=(()=>{class c{cacheSvc;prazdniki=null;\u0432\u0435\u043b\u0438\u043a\u0438\u0435\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438="\u0412\u0435\u043b\u0438\u043a\u0438\u0435 \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438";\u043d\u0435\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438="\u041d\u0435\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438";\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438="\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438";\u0434\u043e\u041f\u0430\u0441\u0445\u0438="\u0414\u043e \u041f\u0430\u0441\u0445\u0438";\u043f\u043e\u0441\u043b\u0435\u041f\u0430\u0441\u0445\u0438="\u041f\u043e\u0441\u043b\u0435 \u041f\u0430\u0441\u0445\u0438";\u0438\u043d\u044b\u0435="\u0418\u043d\u044b\u0435";\u0434\u043d\u0438\u041d\u0435\u0434\u0435\u043b\u0438=["","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431","\u0432\u0441","\u0432"];constructor(a){this.cacheSvc=a}load(){return new Promise(this.prazdniki?(a,h)=>{a(!0)}:(a,h)=>{let d=this.cacheSvc.getRestPoint("/calendar/prazdniki.txt",null);this.cacheSvc.getTextRestcallUrl(d,f=>{f?(this.prazdniki=JSON.parse(f),a(!0)):h(`Cann't load file: ${d}`)})})}getPrazdnikiPoDate(a,h){let d=null,f=0;for(;f<=8;++f)if(null!=a[f]){d=a[f];break}if(d)switch(f){case 0:break;case 1:case 2:case 3:case 4:case 5:case 6:case 7:h.getDay()!==f%7&&(d=null);break;case 8:1==new Date(h.getFullYear(),1,29).getMonth()||(d=null);break;default:throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0430.")}return d?d.map(p=>t_.builder().setRang(p[0]).setText(p[1])):[]}getPrazdniki(a){return a?a.map(h=>t_.builder().setRang(h[0]).setText(h[1])):[]}getPrazdnikiFor(a,h,d){let f=new Date(a,h,d-13),p=new Date(a,h,d),g=vg.getPasha(a),m=vg.daysDiff(p,g),v=[[100,this.\u0432\u0435\u043b\u0438\u043a\u0438\u0435\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438+" - "+this.\u043d\u0435\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438],[0,this.\u043d\u0435\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438],[0,this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438+" - "+this.\u0438\u043d\u044b\u0435]].flatMap(_=>{let y=+_[0],C=this.prazdniki[_[1]][f.getMonth()];if(null==C)return[];let S=C[f.getDate()];return null==S?[]:this.getPrazdnikiPoDate(S,p).map(x=>x.setExtraRang(y))}).concat([[100,this.\u0432\u0435\u043b\u0438\u043a\u0438\u0435\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438+" - "+this.\u0434\u043e\u041f\u0430\u0441\u0445\u0438],[0,this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438+" - "+this.\u0434\u043e\u041f\u0430\u0441\u0445\u0438]].flatMap(_=>{let y=+_[0];if(m>=0)return[];let C=this.prazdniki[_[1]][-m];return null==C?[]:this.getPrazdniki(C).map(S=>S.setExtraRang(y))})).concat([[100,this.\u0432\u0435\u043b\u0438\u043a\u0438\u0435\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438+" - "+this.\u043f\u043e\u0441\u043b\u0435\u041f\u0430\u0441\u0445\u0438],[0,this.\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438+" - "+this.\u043f\u043e\u0441\u043b\u0435\u041f\u0430\u0441\u0445\u0438]].flatMap(_=>{let y=+_[0];if(m<0)return[];let C=this.prazdniki[_[1]][m];return null==C?[]:this.getPrazdniki(C).map(S=>S.setExtraRang(y))}));return v.sort((_,y)=>y.rang+y.extraRang-_.rang-_.extraRang),v}static \u0275fac=function(h){return new(h||c)(Ee(Jl))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class SG{constructor(){}static builder(){return new SG}}class nL extends ti{classes;prazdniki=[];constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new nL("",null,null,SG.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setPrazdniki(l){return this.prazdniki=l,this}}class YC{text;time;morningService;requiredService;selectedClerics;ispovedClerics;serviceColor;constructor(l,a,h,d,f,p,g){this.text=l,this.time=a,this.morningService=h,this.requiredService=d,this.selectedClerics=f,this.ispovedClerics=p,this.serviceColor=g}static builder(){return new YC("","",!0,!1,"","","")}setText(l){return this.text=l,this}setTime(l){return this.time=l,this}setMorningService(l){return this.morningService=l,this}setRequiredService(l){return this.requiredService=l,this}getNormalizedText(){return this.getNormalizedManualText(this.text)}getNormalizedTime(){return this.getNormalizedManualText(this.time)}getNormalizedManualText(l){let a=l;return this.morningService||a.includes("{\u0432}")||(a+="{\u0432}"),this.requiredService&&(a.includes("{\u0442}")||(a+="{\u0442}")),a}setSelectedClerics(l){return this.selectedClerics=l,this}setIspovedClerics(l){return this.ispovedClerics=l,this}setServiceColor(l){return this.serviceColor=l,this}}class wG{constructor(){}static builder(){return new wG}}class n_ extends ti{classes;services=[];constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new n_("",null,null,wG.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setServices(l){return this.services=l,this}}class Lk{name;week;constructor(l,a){this.name=l,this.week=a}static builder(){return new Lk("",[!1,!1,!1,!1,!1,!1,!1])}setName(l){return this.name=l,this}setWeek(l){return this.week=l,this}}class xG{constructor(){}static builder(){return new xG}}class iL extends ti{classes;clerics=[];constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new iL("",null,null,xG.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setClerics(l){return this.clerics=l,this}}class ske{k;headerSize;data;virtualCurrentSize;position;constructor(l=null){this.k=1.3,this.headerSize=4,this.data=l||new Uint8Array(20+this.headerSize),this.virtualCurrentSize=0,this.position=0}free(l){return this.data.byteLength-l}size(){return this.virtualCurrentSize}getPosition(){return this.position}setPosition(l){if(l<0||l>this.virtualCurrentSize)throw new Error("Incorrect position: "+l+"; need [0; "+this.virtualCurrentSize+"].");let a=this.position;return this.position=l,a}getRealPosition(){return this.headerSize+this.position}realSize(){return this.headerSize+this.virtualCurrentSize}incPosition(l){this.position+=l,this.position>this.virtualCurrentSize&&(this.virtualCurrentSize=this.position)}needFree(l,a=!1){if(this.free(this.getRealPosition())<l){let d=this.size()+l;a||(d=Math.floor(d*this.k)),d%2!=0&&++d;let f=new Uint8Array(d);f.set(this.data,0),this.data=f}}pushUInt8(l){this.needFree(1),new Uint8Array(this.data.buffer,this.getRealPosition(),1)[0]=l,this.incPosition(1)}pushInt32(l){this.needFree(4);let h=new Int32Array(1);h[0]=l,this.data.set(new Uint8Array(h.buffer),this.getRealPosition()),this.incPosition(4)}pushUInt32(l){this.needFree(4);let h=new Uint32Array(1);h[0]=l,this.data.set(new Uint8Array(h.buffer),this.getRealPosition()),this.incPosition(4)}pushFloat32(l){this.needFree(4);let h=new Float32Array(1);h[0]=l,this.data.set(new Uint8Array(h.buffer),this.getRealPosition()),this.incPosition(4)}pushFloat64(l){this.needFree(8);let h=new Float64Array(1);h[0]=l,this.data.set(new Uint8Array(h.buffer),this.getRealPosition()),this.incPosition(8)}pushString(l){let h=new ArrayBuffer(2*l.length+4);new Uint32Array(h,0,1)[0]=l.length;let f=new Uint16Array(h,4);for(let p=0;p<l.length;++p)f[p]=l.charCodeAt(p);this.pushArrayBuffer(h)}pushBytes(l,a=!1){this.needFree(l.length,a),this.data.set(l,this.getRealPosition()),this.incPosition(l.length)}pushArrayBuffer(l,a=!1){this.needFree(l.byteLength,a);let h=new Uint8Array(l);this.data.set(h,this.getRealPosition()),this.incPosition(h.length)}toString(){new Uint32Array(this.data.buffer,0,1)[0]=this.realSize();let a=Math.ceil(this.realSize()/2),h=0,f="";for(;h<a;){let p=Math.min(a-h,32e3),g=new Uint16Array(this.data.buffer,2*h,p);f+=String.fromCharCode.apply(null,[...g]),h+=p}if(f.length!=a)throw new Error("Result string length invalid! expected "+a+" but found "+f.length+".");return f}fromString(l){for(var a=new ArrayBuffer(2*l.length),h=new Uint16Array(a),d=0,f=l.length;d<f;d++)h[d]=l.charCodeAt(d);this.data=new Uint8Array(a);let p=new Uint32Array(a,0,1);this.virtualCurrentSize=p[0]-this.headerSize,this.position=0}unreaded(){return this.virtualCurrentSize-this.position}realPos(l){return this.headerSize+l}popBytes(l){if(this.unreaded()<l)throw new Error("No unread bytes.");let a=this.realPos(this.position);return this.incPosition(l),this.data.slice(a,a+l).buffer}popUInt8(){return new Uint8Array(this.popBytes(1))[0]}popInt32(){return new Int32Array(this.popBytes(4))[0]}popUInt32(){return new Uint32Array(this.popBytes(4))[0]}popFloat32(){return new Float32Array(this.popBytes(4))[0]}popFloat64(){return new Float64Array(this.popBytes(8))[0]}popString(){let h=new Uint32Array(this.popBytes(4))[0],d=new Uint16Array(this.popBytes(2*h));return String.fromCharCode.apply(null,[...d])}toArray(){return this.data.subarray(0,this.size())}}class Nk{bits=[0,0,0,0,0,0,0,0];currentBitIndex=0;readyBits=0;readonly=!1;opened=!1;data=new ske;constructor(l){l&&(this.data=l),null==this.data&&(this.data=new ske),this.reopen(!1)}reopen(l){this.opened&&(this.readonly||this.pushCurrentByte()),this.opened=!0,this.readonly=l,this.data.setPosition(this.readonly?0:this.data.size()),this.readyBits=0,this.currentBitIndex=0}pushCurrentByte(){if(0==this.currentBitIndex)return;let l=0;this.bits.forEach((a,h)=>{l|=(a?1:0)<<h}),this.data.pushUInt8(l);for(let a=0;a<this.bits.length;a++)this.bits[a]=0;this.currentBitIndex=0}pushBit(l){this.currentBitIndex>7&&this.pushCurrentByte(),this.bits[this.currentBitIndex++]=0==l?0:1}static getBitsCount(l){let a=l,h=0;for(;a;)++h,a>>>=1;return 0==h&&++h,h}pushNumber(l,a=0){0==a&&(a=Nk.getBitsCount(l),this.pushNumber(a,5));let h=l;for(let d=0;d<a;++d)this.pushBit(1&h),h>>>=1}popBit(){if(this.currentBitIndex>=this.readyBits){let l=this.data.popUInt8();for(let a=0;a<8;++a)this.bits[a]=1&l?1:0,l>>>=1;this.readyBits=8,this.currentBitIndex=0}return this.bits[this.currentBitIndex++]}popNumber(l=0){0==l&&(l=this.popNumber(5));let a=0;for(let h=0;h<l;++h)a|=this.popBit()<<h;return a}}class dc{bitsCount;value;constructor(l,a=0){this.bitsCount=l,this.value=a,l<=0&&(this.bitsCount=Nk.getBitsCount(a))}getBitsCount(){return this.bitsCount}getValue(){return this.value}static of(l,a){return new dc(l,a)}}class Bk{id;simbol;parent;ids;constructor(l,a,h=-1,d=[]){this.id=l,this.simbol=a,this.parent=h,this.ids=d}clone(){return new Bk(this.id,this.simbol,this.parent,[...this.ids])}save(l,a=-1,h=0,d=0){ro.saveStringUtf8(l,this.simbol),ro.saveIndex(l,this.parent<0?a:this.parent,d),this.ids.length&&this.ids.forEach(f=>{ro.saveIndex(l,f,h)}),ro.saveIndex(l,0,h)}load(l,a=-1,h=0,d=0){this.simbol=ro.loadStringUtf8(l),this.parent=ro.loadIndex(l,d),this.parent==a&&(this.parent=-1),this.ids=[];let f=ro.loadIndex(l,h);for(;f>0;)this.ids.push(f),f=ro.loadIndex(l,h)}}class qC{id;ids;children=new Map;constructor(l=-1,a=[]){this.id=l,this.ids=a}addChild(l){this.children.set(l.toString(),l)}clone(){return new qC(this.id,[...this.ids])}toString(){return""+this.id}}class lke{index;letter;constructor(l,a){this.index=l,this.letter=a}}class oL{i;lastLetter;mode;constructor(l,a,h){this.i=l,this.lastLetter=a,this.mode=h}static builder(){return new oL(0,null,0)}setI(l){return this.i=l,this}setLastLetter(l){return this.lastLetter=l,this}setMode(l){return this.mode=l,this}}class cke{text;letter;constructor(l,a){this.text=l,this.letter=a}}class ro{lettersFlat=[];lettersTree=new qC(0);letterNextId=1;wordNextId=1;separators=" \r\n\t;:,.+-=?<>!@#$%^&*(){}[]\\/|`~\"'";flattern(){this.lettersFlat=[],this.lettersFlat.push(new Bk(0,""));let l=[];for(l.push(new lke(-1,this.lettersTree));l.length>0;){let a=l[0];l.splice(0,1),a.letter.children.forEach((h,d)=>{l.push(new lke(a.letter.id,h)),this.lettersFlat.push(new Bk(h.id,d,a.letter.id,h.ids))})}return this.lettersFlat.sort((a,h)=>a.id-h.id),this}tree(){this.lettersTree.children.clear();let l=0;for(let a=0;a<this.lettersFlat.length;++a){let h=this.lettersFlat[a];if(h.simbol){let d=this.getPrefix(a),f=d.substring(0,d.length-1),p=this.getLettersDirect(f);if(!p)throw new Error("System error: not found last letter for: "+f);p.children.set(d.substring(d.length-1),new qC(a,h.ids)),h.ids.forEach(g=>{l<g&&(l=g)})}}return this.letterNextId=this.lettersFlat.length,this.wordNextId=l+1,this}getPrefix(l){let a=l,h="";for(;a>=0;){let d=this.lettersFlat[a];h=d.simbol+h,a=d.parent}return h}addLetters(l,a=null){let h="",d=!1,f=null;for(let p=0;p<l.length;p++){let g=l[p],m=this.isSeparator(g);(m||d)&&(d=m,h&&(f=this.addLettersDirect(h,a),h="")),h+=g}return h&&(f=this.addLettersDirect(h,a),h=""),f&&a&&(f.ids=a),this}find(l,a=!1){let h=[],d=[];for(h.push(oL.builder());h.length>0;){let p=h.shift(),g=l.substr(p.i,1);null==p.lastLetter&&(p.lastLetter=this.lettersTree);let m=g.toUpperCase(),v=g.toLowerCase(),_=p.lastLetter.children.get(0==p.mode?g:p.mode>0?m:v);a&&(0==p.mode||null==_)&&(null==_?_=p.lastLetter.children.get(g==m?v:m):h.push(oL.builder().setI(p.i).setLastLetter(p.lastLetter).setMode(g==m?-1:1))),null==_&&(p.i=-1),p.setLastLetter(_||null),p.i>=0&&(++p.i,p.mode=0),p.i>=0&&p.i<l.length?h.push(p):p.i>=0&&d.push(...p.lastLetter.ids)}if(0==d.length)throw new Error("\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0441\u043b\u043e\u0432\u043e: "+l);return d}isSeparator(l){return this.separators.indexOf(l)>=0}getLettersDirect(l){if(""==l)return this.lettersTree;let a=this.lettersTree,h=0;for(;h<l.length;++h){let f,d=l[h];if(a.children.has(d)||a.children.set(d,new qC(this.nextLetterId())),f=a.children.get(d),!f)throw new Error("System error: Inconsistent tree: value should be existed.");a=f}return h!=l.length?null:a}addLettersDirect(l,a=null){let h=this.lettersTree;for(let d=0;d<l.length;++d){let p,f=l[d];if(h.children.has(f)||h.children.set(f,new qC(this.nextLetterId())),p=h.children.get(f),!p)throw new Error("System error: Inconsistent tree: value should be existed.");h=p,d+1==l.length&&(null==a?h.ids.push(this.nextWordId()):h.ids.push(...a))}return h}nextLetterId(){return this.letterNextId++}nextWordId(){return this.wordNextId++}clearIndex(){this.wordNextId=1}findWord(l){let a=this.lettersTree;for(let h=0;h<l.length;++h){let d=l[h],f=a.children.get(d);if(!f)throw new Error("\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0441\u0438\u043c\u0432\u043e\u043b: "+d);a=f}return a}allLettersAdded(){return this.flattern().tree(),this}loadDictionary(l){this.lettersFlat=[];const a=ro.loadIndex(l),h=ro.loadIndex(l);let d=new dc(0,h),f=new dc(0,a);for(let p=0;p<a;++p){let g=new Bk(p,"");g.load(l,0,d.getBitsCount(),f.getBitsCount()),this.lettersFlat.push(g)}return this.tree(),this}saveDictionary(l){ro.saveIndex(l,this.lettersFlat.length);let a=this.wordNextId-1;ro.saveIndex(l,a);let h=new dc(0,a),d=new dc(0,this.lettersFlat.length);return this.lettersFlat.forEach(f=>{f.save(l,0,h.getBitsCount(),d.getBitsCount())}),this}static saveString(l,a){let h=new Map,d=new Map;for(let m of a)if(!h.has(m)){let v=h.size;d.set(v,m),h.set(m,v)}let f="";d.forEach((m,v)=>{f+=m}),ro.saveStringUtf8(l,f),ro.saveIndex(l,a.length);let g=new dc(0,h.size-1);for(let m of a){let v=h.get(m);if(null==v)throw new Error("\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: "+m);ro.saveIndex(l,v,g.getBitsCount())}return this}static loadString(l){let a=new Map,h=this.loadStringUtf8(l);for(let g of h)a.set(a.size,g);let d=ro.loadIndex(l),f="",p=new dc(0,a.size-1);for(let g=0;g<d;++g){let m=ro.loadIndex(l,p.getBitsCount());f+=a.get(m)}return f}static getBitsCount(l){let a=l,h=0;for(;a;)++h,a>>=1;return 0==h&&++h,h}static saveIndex(l,a,h=0){0==h&&(h=Nk.getBitsCount(a),ro.saveIndex(l,h-1,5)),l.pushNumber(a,h)}static loadIndex(l,a=0){return 0==a&&(a=l.popNumber(5)+1),l.popNumber(a)}static saveStringUtf8(l,a){let h=ro.encode_utf8(a);l.pushNumber(h.length),h.forEach(d=>{l.pushNumber(d,8)})}static loadStringUtf8(l){let a=[],h=l.popNumber();for(let f=0;f<h;++f)a.push(l.popNumber(8));return ro.decode_utf8(a)}static toByteArray(l){let a=[];for(let h=0;h<l.length;h++)a.push(l.charCodeAt(h));return a}static fromByteArray(l){let a="";for(let h=0;h<l.length;h++)a+=String.fromCharCode(l[h]);return a}static encode_utf8(l){return ro.toByteArray(unescape(encodeURIComponent(l)))}static decode_utf8(l){return decodeURIComponent(escape(this.fromByteArray(l)))}toText(){let l=[];l.push(new cke("",this.lettersTree));let a=new Map;for(;l.length;){let d=l[0];l.splice(0,1),d.letter.ids.forEach(f=>{a.set(f,d.text)}),d.letter.children.forEach((f,p)=>{l.push(new cke(d.text+p,f))})}let h="";return[...a.entries()].sort((d,f)=>d[0]-f[0]).forEach((d,f)=>{h+=d[1]}),h}}class TG{static fallbackCopyTextToClipboard(l){var a=document.createElement("textarea");a.value=l,a.style.top="0",a.style.left="0",a.style.position="fixed",document.body.appendChild(a),a.focus(),a.select();try{document.execCommand("copy")}catch(d){console.error("Fallback: Oops, unable to copy",d)}document.body.removeChild(a)}static copyTextToClipboard(l){navigator.clipboard?navigator.clipboard.writeText(l).then(function(){},function(a){console.error("Async: Could not copy text: ",a)}):TG.fallbackCopyTextToClipboard(l)}}class Vk{open;text;color;tag;constructor(l,a,h,d){this.open=l,this.text=a,this.color=h,this.tag=d}setOpen(l){return this.open=l,this}setText(l){return this.text=l,this}setColor(l){return this.color=l,this}setTag(l){return this.tag=l,this}static builder(){return new Vk(!1,"","",null)}}let kG=(()=>{class c{uiConfig;calendarScheduler=[];calendarIntervals="";constructor(a){this.uiConfig=a}saveMonth(a,h,d){let f=[],p=g=>{let m="";return"blue"==g?m="B":"green"==g?m="G":"red"==g&&(m="R"),m};for(let g=0;g<1;g++){let m=a[g];for(let v=0;v<m.length;v++){let _=m[v];if(_.text){let y=p(_.color);f[32+v]=y}}}for(let g=1;g<a.length;g++){let m=a[g];for(let v=0;v<m.length;v++){let _=m[v];if(_.text){let y=p(_.color);f[+_.text]=y}}}this.calendarScheduler[h]||(this.calendarScheduler[h]=[]),this.calendarScheduler[h][d]=f,this.forceSave()}getMonthsDaysCount(a,h){return new Date(a,(h+1)%12,0).getDate()}createMonth(a,h){let d=O=>{let C="";return O?"R"==O?C="red":"G"==O?C="green":"B"==O&&(C="blue"):C="",C},f=[],p=this.getMonthsDaysCount(h,a),g=this.calendarScheduler[h],m=g?g[a]:[];m||(m=[]);let v=[],y=7;f.push(["\u041f","\u0412","\u0421","\u0427","\u041f","\u0421","\u0412"].map((O,C)=>Vk.builder().setText(O).setColor((O=>{let C=m[O],S="";return C&&(S=d(C)),S})(32+C))));let b=1;{let C=new Date(h,a,1).getDay();0==C&&(C+=7);for(let S=1;S<C;S++)v.push(Vk.builder());b=C-1,y=Math.ceil((p+b)/7)+2}for(let O=1;O<=p;O+=7)for(let C=0;C<7;C++)if(O+C<=p){let w=new Date(h,a,O+C).getDay();0==w&&(w+=7);let x=m[O+C];x=d(x),v.push(Vk.builder().setText(""+(O+C)).setColor(x)),7==v.length&&(f.push(v),v=[])}return v.length&&f.push(v),f}dateLessOrEqual(a,h,d,f,p,g){return a<f||!(a>f)&&(h<p||!(h>p)&&d<g)}isInInterval(a,h,d){let f=h+1,p=this.calendarIntervals.split("\n"),g=!1;return p.forEach(m=>{try{let v=m.split("\t");if(v.length>=3){let _=v[1].split(/[\\/\.\-]/),y=v[2].split(/[\\/\.\-]/);if(this.dateLessOrEqual(+_[2],+_[1],+_[0],+y[2],+y[1],+y[0])){let b=this.dateLessOrEqual(+_[2],+_[1],+_[0],a,f,d),O=this.dateLessOrEqual(a,f,d,+_[2],+_[1],+_[0]),C=this.dateLessOrEqual(a,f,d,+y[2],+y[1],+y[0]),S=this.dateLessOrEqual(+y[2],+y[1],+y[0],a,f,d);(b||!b&&!O)&&(C||!C&&!S)&&(g=!0)}}}catch{}}),g}isLiturgiaFound(a,h,d){if(!this.isInInterval(a,h,d))return!0;let f=this.calendarScheduler[a];if(!f)return!0;let p=f?f[h]:[];if(!p)return!0;let g=p[d];return"B"==g||"G"==g}forceSave(){}static \u0275fac=function(h){return new(h||c)(Ee(wn))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();function xPt(c,l){if(1&c&&(E(0,"div",4),se(1,"app-svg-js-image",3),M()),2&c){const a=Q();I(1),R("data",a.svgDateData)}}const uke=function(c,l){return{"clr-col-4":c,"clr-col-6":l}};let TPt=(()=>{class c{uiConfig;config;themes;mathSvc;calendarSvc;data;svgMonthData=ul.builder().setGenName("this").setType(114);svgYearData=ul.builder().setGenName("this").setType(114);svgDateData=ul.builder().setGenName("this").setType(114);change=new Tt;dateChangedEnabled=!0;showDates=!1;useUniqueDate=!1;uniqueDateString="";oldUniqueDateString=null;get calendarText(){return this.uiConfig.ui.calendarCurrentDate.getStringValue()}set calendarText(a){this.uiConfig.ui.calendarCurrentDate.setStringValue(a)}get calcData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}get component(){return this.calcData.components.length?this.calcData.components[0]:null}get components(){return this.calcData.components}get sCurrentDate(){let a=this.useUniqueDate?this.uniqueDateString:this.calendarText;return a!==this.oldUniqueDateString&&(this.oldUniqueDateString=a,this.config.post(()=>{this.ngOnInitDirect()},10)),a}set sCurrentDate(a){this.useUniqueDate?this.uniqueDateString=a:this.calendarText=a,this.oldUniqueDateString=a}get sCurrentDateValidString(){let a=this.sCurrentDate;if(!a){let h=new Date;a=`${h.getDate()}.${h.getMonth()+1}.${h.getFullYear()}`}return a}get currentDate(){let d=+this.sCurrentDateValidString.split(/[\\/\.\-]/)[0],f=this.calendarSvc.getMonthsDaysCount(this.currentYear,this.currentMonthIndex);return d>f&&(d=f),d}set currentDate(a){let h=this.sCurrentDateValidString.split(/[\\/\.\-]/),d=this.calendarSvc.getMonthsDaysCount(this.currentYear,this.currentMonthIndex);this.sCurrentDate=`${a<=d?a:d}.${h[1]}.${h[2]}`,this.changed()}get currentMonthIndex(){return+this.sCurrentDateValidString.split(/[\\/\.\-]/)[1]-1}set currentMonthIndex(a){let h=this.sCurrentDateValidString.split(/[\\/\.\-]/),d=+h[0],f=this.calendarSvc.getMonthsDaysCount(this.currentYear,a);d=d<=f?d:f,this.sCurrentDate=`${d}.${a+1}.${h[2]}`,this.changed()}validateYear(a){let h=+a,d=(new Date).getFullYear();return Number.isNaN(h)&&(h=d),(+h+10<d||+h-10>d)&&(h=d-10),+h}get currentYear(){let a=this.sCurrentDateValidString.split(/[\\/\.\-]/);return+this.validateYear(+a[2])}set currentYear(a){let h=this.sCurrentDateValidString.split(/[\\/\.\-]/),d=+h[0];a=this.validateYear(a);let f=this.calendarSvc.getMonthsDaysCount(a,this.currentMonthIndex);d=d<=f?d:f,this.sCurrentDate=`${d}.${h[1]}.${a}`,this.changed()}constructor(a,h,d,f,p){this.uiConfig=a,this.config=h,this.themes=d,this.mathSvc=f,this.calendarSvc=p}ngOnInit(){this.ngOnInitDirect()}ngOnInitDirect(){let a=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"].map((m,v)=>Gh.builder().setName(m).setTag(v));this.svgMonthData=ul.builder().setGenerator((new I1).setTheme(this.themes.nowIsDay()?Vs.Light3:Vs.Dark3).setCommands(a,a[this.currentMonthIndex]).setOnCommandHandler(m=>{this.currentMonthIndex=m.tag}).setAutoClickOnChange(!0).setShadowEnabled(!1)).setGenName("this").setType(114);let h=[],d=this.currentYear;for(let m=-15;m<=15;m++)h.push(d+m);let p=15,g=h.map((m,v)=>(m==d&&(p=v),Gh.builder().setName(""+m).setTag(m)));this.svgYearData=ul.builder().setGenerator((new I1).setTheme(this.themes.nowIsDay()?Vs.Light3:Vs.Dark3).setCommands(g,g[15]).setOnCommandHandler(m=>{this.currentYear=m.tag}).setAutoClickOnChange(!0).setShadowEnabled(!1)).setGenName("this").setType(114),this.reloadDates()}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}reloadDates(){if(!this.showDates)return;let a=this.calendarSvc.getMonthsDaysCount(this.currentYear,this.currentMonthIndex),h=[];for(let d=1;d<=a;d++)h.push(Gh.builder().setName(""+d).setTag(d));this.svgDateData=ul.builder().setGenerator((new I1).setTheme(this.themes.nowIsDay()?Vs.Light3:Vs.Dark3).setCommands(h,h[this.currentDate-1]).setOnCommandHandler((d,f)=>{this.dateChangedEnabled=!1,this.currentDate=d.tag,this.dateChangedEnabled=!0}).setAutoClickOnChange(!0).setShadowEnabled(!1)).setGenName("this").setType(114)}sendChanged(){this.change.emit(this.sCurrentDateValidString)}changed(){this.dateChangedEnabled&&this.reloadDates(),this.sendChanged()}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt),V(Ys),V(km),V(kG))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-scheduler-calendar"]],inputs:{data:"data",showDates:"showDates",useUniqueDate:"useUniqueDate",uniqueDateString:"uniqueDateString"},outputs:{change:"change"},decls:6,vars:11,consts:[[1,"clr-row"],["class","clr-col-4",4,"ngIf"],[3,"ngClass"],[3,"data"],[1,"clr-col-4"]],template:function(h,d){1&h&&(E(0,"div",0),X(1,xPt,2,1,"div",1),E(2,"div",2),se(3,"app-svg-js-image",3),M(),E(4,"div",2),se(5,"app-svg-js-image",3),M()()),2&h&&(I(1),R("ngIf",d.showDates),I(1),R("ngClass",mr(5,uke,d.showDates,!d.showDates)),I(1),R("data",d.svgMonthData),I(1),R("ngClass",mr(8,uke,d.showDates,!d.showDates)),I(1),R("data",d.svgYearData))},dependencies:[ei,mn,Ic],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}.inline[_ngcontent-%COMP%]{display:inline-block}"]})}return c})();function kPt(c,l){1&c&&se(0,"img",6),2&c&&R("src","./imsvg/"+(7-Q().$implicit.rang)+".svg",Rd)}function DPt(c,l){if(1&c){const a=Ae();E(0,"div",2),Y("click",function(){const f=ce(a).$implicit;return ue(Q().onSelectPrazdnik(f))}),E(1,"div",3)(2,"span",4),H(3,"\xa0"),X(4,kPt,1,1,"img",5),H(5,"\xa0"),M(),H(6),M()()}if(2&c){const a=l.$implicit;I(4),R("ngIf",a.rang>1),I(2),ut(a.text)}}let MPt=(()=>{class c{uiConfig;themes;mathSvc;data;onSelected=new Tt;get formulaText(){return this.uiConfig.ui.calendarText.getStringValue()}set formulaText(a){this.uiConfig.ui.calendarText.setStringValue(a)}get prazdnkikiData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h,d){this.uiConfig=a,this.themes=h,this.mathSvc=d}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}onSelectPrazdnik(a){this.onSelected.emit(a)}static \u0275fac=function(h){return new(h||c)(V(wn),V(Ys),V(km))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-scheduler-prazdniki"]],inputs:{data:"data"},outputs:{onSelected:"onSelected"},decls:2,vars:2,consts:[[3,"ngClass"],["class","clr-row cursor",3,"click",4,"ngFor","ngForOf"],[1,"clr-row","cursor",3,"click"],[1,"clr-col-12"],[1,"label","label-info"],["width","16px","height","16px",3,"src",4,"ngIf"],["width","16px","height","16px",3,"src"]],template:function(h,d){1&h&&(E(0,"div",0),X(1,DPt,7,2,"div",1),M()),2&h&&(R("ngClass",d.getClasses()),I(1),R("ngForOf",d.prazdnkikiData.prazdniki))},dependencies:[ei,Gn,mn],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}"]})}return c})();class DG{constructor(){}static builder(){return new DG}}class MG extends ti{classes;colors=[];color="";constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new MG("",null,null,DG.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setColors(l){return this.colors=l,this}setColor(l){return this.color=l,this}}function EPt(c,l){if(1&c){const a=Ae();E(0,"button",2),Y("click",function(d){const p=ce(a).$implicit;return ue(Q().onToggleColor(d,p))}),H(1),M()}if(2&c){const a=l.$implicit;R("ngClass",Q().getClass(a)),I(1),ut(a.name)}}class wd{name;clazz;value;selected;constructor(l,a,h,d){this.name=l,this.clazz=a,this.value=h,this.selected=d}static builder(){return new wd("","","",!1)}setName(l){return this.name=l,this}setClass(l){return this.clazz=l,this}setValue(l){return this.value=l,this}}let PPt=(()=>{class c{data=MG.builder();info="\u0426\u0432\u0435\u0442\u0430";colorChanged=new Tt;colors=[wd.builder().setName("\u041a\u0440\u0430\u0441\u043d\u044b\u0439").setClass("bcRed").setValue("{\u043a}"),wd.builder().setName("\u0421\u0438\u043d\u0438\u0439").setClass("bcBlue").setValue("{\u0441}"),wd.builder().setName("\u0417\u0435\u043b\u0451\u043d\u044b\u0439").setClass("bcGreen").setValue("{\u0437}"),wd.builder().setName("\u0416\u0451\u043b\u0442\u044b\u0439").setClass("bcYellow").setValue("{\u0451}"),wd.builder().setName("\u0424\u0438\u043e\u043b\u0435\u0442\u043e\u0432\u044b\u0439").setClass("bcIndigo").setValue("{\u0444}"),wd.builder().setName("\u041f\u0443\u0440\u043f\u0443\u0440\u043d\u044b\u0439").setClass("bcPurple").setValue("{\u043f}"),wd.builder().setName("\u041c\u043e\u0440\u0441\u043a\u043e\u0439").setClass("bcCyan").setValue("{\u043c}"),wd.builder().setName("\u0417\u0435\u043b\u0451\u043d\u043e-\u0436\u0451\u043b\u0442\u044b\u0439").setClass("bcGreenYellow").setValue("{\u043b}"),wd.builder().setName("\u0422\u0451\u043c\u043d\u043e-\u043a\u0440\u0430\u0441\u043d\u044b\u0439").setClass("bcDarkRed").setValue("{\u0440}")];get selColorsData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}set text(a){this.data&&(this.data.text=a,this.color=Ch.getTextColor(this.data.text))}set color(a){this.colors.forEach(h=>{h.selected=h.value==a})}constructor(){}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){this.data&&(this.color=Ch.getTextColor(this.data.text))}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}onToggleColor(a,h){a.stopPropagation(),h.selected=!h.selected,h.selected&&this.colors.filter(d=>d!=h).forEach(d=>d.selected=!1),this.colorChanged.emit(h.selected?h.value:"")}getClass(a){var h={btn:!0};return h.darkBtn=!a.selected,h[a.clazz]=a.selected,h}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-scheduler-select-colors"]],inputs:{data:"data",info:"info",text:"text"},outputs:{colorChanged:"colorChanged"},decls:5,vars:3,consts:[[3,"ngClass"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"h6")(2,"b"),H(3),M()(),X(4,EPt,2,2,"button",1),M()),2&h&&(R("ngClass",d.getClasses()),I(3),ut(d.info),I(1),R("ngForOf",d.colors))},dependencies:[ei,Gn],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}.vertical-center[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}return c})();class EG{constructor(){}static builder(){return new EG}}class PG extends ti{classes;rang=1;constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new PG("",null,null,EG.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setRang(l){return this.rang=l,this}}class AG{printOnly=!1;constructor(){}static builder(){return new AG}setPrintOnly(l){return this.printOnly=l,this}}class IG extends ti{genName;svgWidth;svgHeight;classes;rang=0;constructor(l,a,h,d,f,p){super("",d,f),this.genName=l,this.svgWidth=a,this.svgHeight=h,this.classes=p}static builder(){return new IG("",512,512,null,null,AG.builder())}setGenName(l){return this.genName=l,this}setSvgRangSignWidth(l){return this.svgWidth=l,this}setSvgRangSignHeight(l){return this.svgHeight=l,this}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}updateClasses(l){return l(this.classes),this}setRang(l){return this.rang=l,this}}function APt(c,l){1&c&&se(0,"img",2),2&c&&R("src","./imsvg/"+(7-Q().rang)+".svg",Rd)}function IPt(c,l){if(1&c&&(E(0,"span"),H(1),M()),2&c){const a=Q();I(1),ut(a.getCurrentDayOfWeek())}}let RPt=(()=>{class c{config;data=IG.builder();get svgData(){return this.data}get rang(){return this.svgData.rang}set rang(a){this.svgData.rang=a}church=!0;get text(){return this.svgData&&this.svgData.text?this.svgData.text:""}get genName(){return this.svgData&&this.svgData.genName?this.svgData.genName:"Default"}get svgWidth(){return this.svgData&&this.svgData.svgWidth?this.svgData.svgWidth:512}get svgHeight(){return this.svgData&&this.svgData.svgHeight?this.svgData.svgHeight:512}constructor(a){this.config=a}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{"print-only":this.svgData.classes.printOnly}}getCurrentDayOfWeek(){let a="",h=["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u0412\u0441"];return a=h[(this.rang-1)%h.length],a}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-svg-rang-sign"]],inputs:{data:"data",rang:"rang",church:"church"},decls:2,vars:2,consts:[["width","16px","height","16px",3,"src",4,"ngIf"],[4,"ngIf"],["width","16px","height","16px",3,"src"]],template:function(h,d){1&h&&(X(0,APt,1,1,"img",0),X(1,IPt,2,1,"span",1)),2&h&&(R("ngIf",d.church&&d.rang>1),I(1),R("ngIf",!d.church))},dependencies:[mn],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();const LPt=function(c,l){return{btn:!0,"btn-primary":c,darkBtn:l}};function NPt(c,l){if(1&c){const a=Ae();E(0,"button",2),Y("click",function(d){const p=ce(a).$implicit;return ue(Q().onSelectRang(d,p))}),se(1,"app-dynamic-svg-rang-sign",3),M()}if(2&c){const a=l.$implicit,h=Q();R("ngClass",mr(3,LPt,h.isSelectedRang(a),!h.isSelectedRang(a))),I(1),R("church",h.church)("rang",a.rang)}}class fc{rang;constructor(l){this.rang=l}static builder(){return new fc(0)}setRang(l){return this.rang=l,this}}let dke=(()=>{class c{data=PG.builder();set rang(a){let h=this.rangs.find(d=>d.rang==a);this.currentRang=h||null}church=!0;rangChanged=new Tt;get rangs(){return this.church?this.rangsChurch:this.rangsState}rangsChurch=[fc.builder().setRang(6),fc.builder().setRang(5),fc.builder().setRang(4),fc.builder().setRang(3),fc.builder().setRang(2),fc.builder().setRang(1)];rangsState=[fc.builder().setRang(7),fc.builder().setRang(6),fc.builder().setRang(5),fc.builder().setRang(4),fc.builder().setRang(3),fc.builder().setRang(2),fc.builder().setRang(1)];currentRang=this.rangs[0];get rangsData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(){}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}isSelectedRang(a){return this.currentRang===a}onSelectRang(a,h){a.stopPropagation(),this.currentRang=h,this.rangChanged.emit(h.rang)}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-scheduler-rangs"]],inputs:{data:"data",rang:"rang",church:"church"},outputs:{rangChanged:"rangChanged"},decls:2,vars:2,consts:[[3,"ngClass"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[3,"church","rang"]],template:function(h,d){1&h&&(E(0,"div",0),X(1,NPt,2,6,"button",1),M()),2&h&&(R("ngClass",d.getClasses()),I(1),R("ngForOf",d.rangs))},dependencies:[ei,Gn,RPt],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}.vertical-center[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}return c})();class RG{constructor(){}static builder(){return new RG}}class LG extends ti{classes;clerics=[];constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new LG("",null,null,RG.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setClerics(l){return this.clerics=l,this}}const fke=function(c,l){return{btn:!0,"btn-primary":c,darkBtn:l}};function FPt(c,l){if(1&c){const a=Ae();E(0,"button",1),Y("click",function(d){const p=ce(a).$implicit;return ue(Q().onToggleClericIndex(d,p))}),H(1),M()}if(2&c){const a=l.$implicit,h=Q();R("ngClass",mr(2,fke,h.isClericSelected(a),!h.isClericSelected(a))),I(1),ut(a.name)}}let BPt=(()=>{class c{data=LG.builder();info="\u0421\u043b\u0443\u0436\u0438\u0442";clericsChanged=new Tt;get clerics(){return this.selClericsData.clerics}set clerics(a){this.selClericsData.clerics=a}get selClericsData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}set text(a){this.data&&(this.data.text=a)}constructor(){}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}onToggleClericIndex(a,h){a.stopPropagation();let d=this.text.split(","),f=d.filter(g=>g==h.name).length>0,p=d.filter(g=>g!=h.name).join(",");f||(p&&(p+=","),p+=h.name),this.selClericsData.text=p,this.clericsChanged.emit(this.selClericsData.text)}isClericSelected(a){return this.text.split(",").filter(h=>h==a.name).length>0}onToggleAllClerics(a){a.stopPropagation(),this.text=this.text?"":this.clerics.map(h=>h.name).join(","),this.clericsChanged.emit(this.selClericsData.text)}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-scheduler-select-clerics"]],inputs:{data:"data",info:"info",clerics:"clerics",text:"text"},outputs:{clericsChanged:"clericsChanged"},decls:7,vars:7,consts:[[3,"ngClass"],[3,"ngClass","click"],["shape","lightbulb"],[3,"ngClass","click",4,"ngFor","ngForOf"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"h6")(2,"b"),H(3),M()(),E(4,"button",1),Y("click",function(p){return d.onToggleAllClerics(p)}),se(5,"cds-icon",2),M(),X(6,FPt,2,5,"button",3),M()),2&h&&(R("ngClass",d.getClasses()),I(3),ut(d.info),I(1),R("ngClass",mr(4,fke,!!d.text,!d.text)),I(2),R("ngForOf",d.clerics))},dependencies:[ei,Gn,Vn],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}.vertical-center[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}return c})();function VPt(c,l){if(1&c){const a=Ae();E(0,"app-dynamic-scheduler-rangs",16),Y("rangChanged",function(d){return ce(a),ue(Q().onSelectRang(d))}),M()}if(2&c){const a=Q();R("church",a.isChurch())("rang",a.currentRang)}}function $Pt(c,l){if(1&c){const a=Ae();E(0,"app-dynamic-scheduler-select-clerics",22),Y("clericsChanged",function(d){ce(a);const f=Q().$implicit;return ue(Q().onClericsChanges(d,f))}),M()}if(2&c){const a=Q().$implicit,h=Q();R("text",a.selectedClerics)("clerics",h.clerics)("info",h.clericInfo)}}const zPt=function(c,l){return{"clr-col-8":c,"clr-col-12":l}},pke=function(){return["add-text","upload","download","times"]},UPt=function(c,l){return{"clr-col-4":c,"clr-col-12":l}},gke=function(c,l){return[c,l]};function QPt(c,l){if(1&c){const a=Ae();E(0,"div",17)(1,"div",0)(2,"app-dynamic-text-editor",18),Y("changed",function(d){return ce(a),ue(Q().onTextChanged(d))}),M()(),E(3,"div",0)(4,"app-dynamic-text-editor",18),Y("changed",function(d){return ce(a),ue(Q().onTextChanged(d))}),M()(),E(5,"div",19),X(6,$Pt,1,3,"app-dynamic-scheduler-select-clerics",20),M(),E(7,"div",19)(8,"app-dynamic-scheduler-select-colors",21),Y("colorChanged",function(d){const p=ce(a).$implicit;return ue(Q().onColorChanges(d,p))}),M()()()}if(2&c){const a=l.$implicit,h=Q();I(1),R("ngClass",mr(14,zPt,!h.isVertical(),h.isVertical())),I(1),R("object",a)("fieldName","text")("description",h.serviceDesc)("shapes",Fi(17,pke))("command",h.onCommandServiceTogglePtr),I(1),R("ngClass",mr(18,UPt,!h.isVertical(),h.isVertical())),I(1),R("object",a)("fieldName","time")("description",h.timeDesc)("shapes",mr(21,gke,a.morningService?"sun":"moon",a.requiredService?"bell":"check"))("command",h.onCommandServiceTogglePtr),I(2),R("ngIf",h.clerics),I(2),R("text",a.text)}}function HPt(c,l){if(1&c){const a=Ae();E(0,"app-dynamic-scheduler-select-clerics",25),Y("clericsChanged",function(d){ce(a);const f=Q().$implicit;return ue(Q().onClericsChanges(d,f))}),M()}if(2&c){const a=Q().$implicit,h=Q();R("info",h.clericInfo)("text",a.selectedClerics)("clerics",h.clerics)}}const mke=function(){return{"clr-col-12":!0}};function WPt(c,l){if(1&c){const a=Ae();E(0,"div",23)(1,"div",0)(2,"app-dynamic-text-editor",18),Y("changed",function(d){return ce(a),ue(Q().onTextChanged(d))}),M()(),E(3,"div",0)(4,"app-dynamic-text-editor",18),Y("changed",function(d){return ce(a),ue(Q().onTextChanged(d))}),M()(),E(5,"div",19),X(6,HPt,1,3,"app-dynamic-scheduler-select-clerics",24),M(),E(7,"div",19)(8,"app-dynamic-scheduler-select-colors",21),Y("colorChanged",function(d){const p=ce(a).$implicit;return ue(Q().onColorChanges(d,p))}),M()()()}if(2&c){const a=l.$implicit,h=Q();I(1),R("ngClass",Fi(14,mke)),I(1),R("object",a)("fieldName","text")("description","\u0421\u043b\u0443\u0436\u0431\u0430")("shapes",Fi(15,pke))("command",h.onCommandServiceTogglePtr),I(1),R("ngClass",Fi(16,mke)),I(1),R("object",a)("fieldName","time")("description","\u0412\u0440\u0435\u043c\u044f")("shapes",mr(17,gke,a.morningService?"sun":"moon",a.requiredService?"bell":"check"))("command",h.onCommandServiceTogglePtr),I(2),R("ngIf",h.clerics),I(2),R("text",a.text)}}function ZPt(c,l){if(1&c){const a=Ae();E(0,"button",26),Y("click",function(){return ce(a),ue(Q().onSaveServices())}),se(1,"cds-icon",27),H(2," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),M()}2&c&&R("clrLoading",Q().submitBtnState)}function jPt(c,l){if(1&c){const a=Ae();E(0,"button",28),Y("click",function(){return ce(a),ue(Q().modalClearServicesFlag=!0)}),se(1,"cds-icon",29),H(2," \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),M()}}function GPt(c,l){if(1&c&&(E(0,"div",30)(1,"div",31),H(2),M(),E(3,"div",32),H(4),M()()),2&c){const a=Q();I(2),ut(a.modalDeleteService.text),I(2),ut(a.modalDeleteService.time)}}let XPt=(()=>{class c{uiConfig;config;themes;mathSvc;data=n_.builder();clerics=null;vertical=!1;singleRang=!1;autoSave=!1;clearBtn=!0;serviceDesc="\u0421\u043b\u0443\u0436\u0431\u0430";timeDesc="\u0412\u0440\u0435\u043c\u044f";clericInfo="\u0421\u043b\u0443\u0436\u0438\u0442";anyCaseAdd=!0;onSave=new Tt;onClear=new Tt;onReset=new Tt;submitBtnState=To.DEFAULT;currentRang=1;modalClearServicesFlag=!1;modalDeleteServicesFlag=!1;modalDeleteService=null;onCommandServiceTogglePtr=(a,h,d)=>this.onCommandServiceToggle(a,h,d);get services(){let a=this.currentRang-1;return null==this.servicesData.services[a]&&(this.servicesData.services[a]=[]),this.servicesData.services[a]}set services(a){this.servicesData.services[this.currentRang-1]=a}get formulaText(){return this.uiConfig.ui.calendarText.getStringValue()}set formulaText(a){this.uiConfig.ui.calendarText.setStringValue(a)}get servicesData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h,d,f){this.uiConfig=a,this.config=h,this.themes=d,this.mathSvc=f}isVertical(){return this.vertical}isChurch(){return"\u0421\u043b\u0443\u0436\u0431\u0430"==this.serviceDesc}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}onCommandServiceToggle(a,h,d){if("time"==h)switch(d){case"moon":case"sun":a.morningService=!a.morningService;break;case"bell":case"check":a.requiredService=!a.requiredService}else if("text"==h)switch(d){case"upload":this.moveUp(a);break;case"download":this.moveDown(a);break;case"times":this.requestDeleteService(a);break;case"add-text":this.addNewAfterService(a)}this.onTextChanged("")}onSelectRang(a){this.currentRang=a}onAddNewService(){this.services.push(YC.builder()),this.onTextChanged("")}onSaveServices(){this.onSave.emit(this.servicesData.services),this.submitBtnState=To.LOADING,this.config.post(()=>{this.submitBtnState=To.DEFAULT},2e3)}moveUp(a){let h=this.services.indexOf(a);h>0&&(this.services[h]=this.services[h-1],this.services[h-1]=a)}moveDown(a){let h=this.services.indexOf(a);h+1<this.services.length&&(this.services[h]=this.services[h+1],this.services[h+1]=a)}deleteService(a){if(null==a)return;let h=this.services.indexOf(a);h>=0&&this.services.splice(h,1),this.onTextChanged("")}addNewAfterService(a){let h=this.services.indexOf(a);h>=0&&h<this.services.length&&this.services.splice(h+1,0,YC.builder())}onResetServices(){this.onReset.emit(this.servicesData.services)}onClearServices(){this.onClear.emit(this.servicesData.services)}requestDeleteService(a){this.modalDeleteService=a,this.modalDeleteServicesFlag=!0}onClericsChanges(a,h){h.setSelectedClerics(a),this.onTextChanged("")}onColorChanges(a,h){this.anyCaseAdd?(h.setTime(Ch.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442\u0412\u041b\u044e\u0431\u043e\u043c\u0421\u043b\u0443\u0447\u0430\u0435(h.time,a)),h.setText(Ch.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442\u0412\u041b\u044e\u0431\u043e\u043c\u0421\u043b\u0443\u0447\u0430\u0435(h.text,a))):(h.setTime(Ch.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(h.time,a)),h.setText(Ch.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(h.text,a))),h.setServiceColor(a),this.onTextChanged("")}onTextChanged(a){this.autoSave&&this.onSaveServices()}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt),V(Ys),V(km))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-scheduler-services"]],inputs:{data:"data",clerics:"clerics",vertical:"vertical",singleRang:"singleRang",autoSave:"autoSave",clearBtn:"clearBtn",serviceDesc:"serviceDesc",timeDesc:"timeDesc",clericInfo:"clericInfo",anyCaseAdd:"anyCaseAdd",services:"services"},outputs:{onSave:"onSave",onClear:"onClear",onReset:"onReset"},decls:35,vars:9,consts:[[3,"ngClass"],[3,"church","rang","rangChanged",4,"ngIf"],["class","clr-row cursor clr-hidden-xs-down",4,"ngFor","ngForOf"],["class","clr-row cursor clr-hidden-sm-up",4,"ngFor","ngForOf"],[1,"top-space"],[1,"btn","btn-primary",3,"click"],["shape","add-text"],["class","btn btn-success",3,"clrLoading","click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"no-print",3,"clrModalOpen","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["class","clr-row",4,"ngIf"],[3,"church","rang","rangChanged"],[1,"clr-row","cursor","clr-hidden-xs-down"],[3,"object","fieldName","description","shapes","command","changed"],[1,"clr-col-12","top-space"],[3,"text","clerics","info","clericsChanged",4,"ngIf"],[3,"text","colorChanged"],[3,"text","clerics","info","clericsChanged"],[1,"clr-row","cursor","clr-hidden-sm-up"],[3,"info","text","clerics","clericsChanged",4,"ngIf"],[3,"info","text","clerics","clericsChanged"],[1,"btn","btn-success",3,"clrLoading","click"],["shape","floppy"],[1,"btn","btn-danger",3,"click"],["shape","flame"],[1,"clr-row"],[1,"clr-col-8"],[1,"clr-col-4"]],template:function(h,d){1&h&&(E(0,"div",0),X(1,VPt,1,2,"app-dynamic-scheduler-rangs",1),X(2,QPt,9,24,"div",2),X(3,WPt,9,20,"div",3),E(4,"div",4)(5,"button",5),Y("click",function(){return d.onAddNewService()}),se(6,"cds-icon",6),H(7," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),M(),X(8,ZPt,3,1,"button",7),X(9,jPt,3,0,"button",8),M()(),E(10,"clr-modal",9),Y("clrModalOpenChange",function(p){return d.modalClearServicesFlag=p}),E(11,"h3",10),H(12,"\u041e\u0447\u0438\u0441\u0442\u043a\u0430 \u0441\u043b\u0443\u0436\u0431"),M(),E(13,"div",11)(14,"p"),H(15,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u043b\u0443\u0436\u0431\u044b \u0432\u0441\u0435\u0445 \u0437\u043d\u0430\u043a\u043e\u0432?"),M()(),E(16,"div",12)(17,"button",13),Y("click",function(){return d.onResetServices(),d.modalClearServicesFlag=!1}),H(18,"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"),M(),E(19,"button",13),Y("click",function(){return d.onClearServices(),d.modalClearServicesFlag=!1}),H(20,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),M(),E(21,"button",14),Y("click",function(){return d.modalClearServicesFlag=!1}),H(22,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M()()(),E(23,"clr-modal",9),Y("clrModalOpenChange",function(p){return d.modalDeleteServicesFlag=p}),E(24,"h3",10),H(25,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u043b\u0443\u0436\u0431\u044b"),M(),E(26,"div",11)(27,"p"),H(28,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043b\u0443\u0436\u0431\u0443?"),M(),X(29,GPt,5,2,"div",15),M(),E(30,"div",12)(31,"button",13),Y("click",function(){return d.deleteService(d.modalDeleteService),d.modalDeleteServicesFlag=!1}),H(32,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),M(),E(33,"button",14),Y("click",function(){return d.modalDeleteServicesFlag=!1}),H(34,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M()()()),2&h&&(R("ngClass",d.getClasses()),I(1),R("ngIf",!d.singleRang),I(1),R("ngForOf",d.services),I(1),R("ngForOf",d.services),I(5),R("ngIf",!d.autoSave),I(1),R("ngIf",d.clearBtn),I(1),R("clrModalOpen",d.modalClearServicesFlag),I(13),R("clrModalOpen",d.modalDeleteServicesFlag),I(6),R("ngIf",d.modalDeleteService))},dependencies:[ei,Gn,mn,Vn,Vo,$o,lz,mz,PPt,Gp,dke,BPt],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}.vertical-center[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}return c})();class NG{constructor(){}static builder(){return new NG}}class FG extends ti{classes;week=[];constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new FG("",null,null,NG.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setWeek(l){return this.week=l,this}}const _ke=function(c,l){return{btn:!0,"btn-primary":c,darkBtn:l}};function YPt(c,l){if(1&c){const a=Ae();E(0,"button",1),Y("click",function(d){const p=ce(a).index;return ue(Q().onToggleWeekIndex(d,p))}),se(1,"cds-icon"),H(2),M()}if(2&c){const a=l.$implicit,h=l.index,d=Q();R("ngClass",mr(3,_ke,a,!a)),I(1),Je("shape",a?"check":"times"),I(1),Kt(" ",d.dayNames[h],"")}}let qPt=(()=>{class c{data=FG.builder();weekChanged=new Tt;dayNames=["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u0412\u0441"];get week(){return this.weekData.week}set week(a){this.weekData.week=a}get weekData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(){}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){for(;this.week.length<7;)this.week.push(!1)}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}onToggleWeekIndex(a,h){a.stopPropagation(),this.week[h]=!this.week[h],this.weekChanged.emit(this.week)}onToggleAllDays(a){a.stopPropagation();let h=this.isAllDays();for(let d=0;d<this.week.length;d++)this.week[d]=!h;this.weekChanged.emit(this.week)}isAllDays(){return this.week.reduce((h,d)=>h&&d,!0)}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-scheduler-week"]],inputs:{data:"data",week:"week"},outputs:{weekChanged:"weekChanged"},decls:4,vars:6,consts:[[3,"ngClass"],[3,"ngClass","click"],["shape","lightbulb"],[3,"ngClass","click",4,"ngFor","ngForOf"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"button",1),Y("click",function(p){return d.onToggleAllDays(p)}),se(2,"cds-icon",2),M(),X(3,YPt,3,6,"button",3),M()),2&h&&(R("ngClass",d.getClasses()),I(1),R("ngClass",mr(3,_ke,d.isAllDays(),!d.isAllDays())),I(2),R("ngForOf",d.week))},dependencies:[ei,Gn,Vn],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}.vertical-center[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}return c})();function KPt(c,l){if(1&c){const a=Ae();E(0,"app-dynamic-scheduler-week",19),Y("weekChanged",function(d){return ce(a),ue(Q(2).onWeekChanged(d))}),M()}2&c&&R("week",Q().$implicit.week)}const JPt=function(){return["add-text","upload","download","times"]};function eAt(c,l){if(1&c){const a=Ae();E(0,"div",15)(1,"div",16)(2,"app-dynamic-text-editor",17),Y("changed",function(d){return ce(a),ue(Q().onTextChanged(d))}),M()(),X(3,KPt,1,1,"app-dynamic-scheduler-week",18),M()}if(2&c){const a=l.$implicit,h=Q();I(2),R("object",a)("fieldName","name")("description",h.clerikDesc)("shapes",Fi(6,JPt))("command",h.onCommandServiceTogglePtr),I(1),R("ngIf",h.isChurch())}}function tAt(c,l){if(1&c){const a=Ae();E(0,"button",20),Y("click",function(){return ce(a),ue(Q().onSaveServices())}),se(1,"cds-icon",21),H(2," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),M()}2&c&&R("clrLoading",Q().submitBtnState)}function nAt(c,l){if(1&c&&(E(0,"p"),H(1),M()),2&c){const a=Q();I(1),Kt("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u043c\u044f: ",a.modalDeleteService.name," ?")}}let iAt=(()=>{class c{uiConfig;config;themes;mathSvc;data;autoSave=!1;clerikDesc="\u0421\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a";onSave=new Tt;onClear=new Tt;submitBtnState=To.DEFAULT;modalClearServicesFlag=!1;modalDeleteServicesFlag=!1;modalDeleteService=null;onCommandServiceTogglePtr=(a,h,d)=>this.onCommandServiceToggle(a,h,d);get clerics(){return this.clericsData.clerics}get formulaText(){return this.uiConfig.ui.calendarText.getStringValue()}set formulaText(a){this.uiConfig.ui.calendarText.setStringValue(a)}get clericsData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h,d,f){this.uiConfig=a,this.config=h,this.themes=d,this.mathSvc=f}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}onCommandServiceToggle(a,h,d){if("name"==h)switch(d){case"upload":this.moveUp(a);break;case"download":this.moveDown(a);break;case"times":this.requestDeleteService(a);break;case"add-text":this.addNewAfterService(a)}}onAddNewService(){this.clerics.push(Lk.builder()),this.startAutoSave()}onSaveServices(){this.onSave.emit(this.clericsData.clerics),this.submitBtnState=To.LOADING,this.config.post(()=>{this.submitBtnState=To.DEFAULT},2e3)}moveUp(a){let h=this.clerics.indexOf(a);h>0&&(this.clerics[h]=this.clerics[h-1],this.clerics[h-1]=a,this.startAutoSave())}moveDown(a){let h=this.clerics.indexOf(a);h+1<this.clerics.length&&(this.clerics[h]=this.clerics[h+1],this.clerics[h+1]=a,this.startAutoSave())}deleteCleric(a){if(null==a)return;let h=this.clerics.indexOf(a);h>=0&&(this.clerics.splice(h,1),this.startAutoSave())}addNewAfterService(a){let h=this.clerics.indexOf(a);h>=0&&h<this.clerics.length&&(this.clerics.splice(h+1,0,Lk.builder()),this.startAutoSave())}onClearServices(){this.onClear.emit(this.clericsData.clerics),this.startAutoSave()}requestDeleteService(a){this.modalDeleteService=a,this.modalDeleteServicesFlag=!0}startAutoSave(){this.autoSave&&this.onSave.emit(this.clerics)}onTextChanged(a){this.startAutoSave()}onWeekChanged(a){this.startAutoSave()}isChurch(){return"\u0421\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a"==this.clerikDesc}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt),V(Ys),V(km))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-scheduler-clerics"]],inputs:{data:"data",autoSave:"autoSave",clerikDesc:"clerikDesc"},outputs:{onSave:"onSave",onClear:"onClear"},decls:31,vars:8,consts:[[3,"ngClass"],["class","clr-row cursor",4,"ngFor","ngForOf"],[1,"top-space"],[1,"btn","btn-primary",3,"click"],["shape","add-text"],["class","btn btn-success",3,"clrLoading","click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],["shape","flame"],[1,"no-print",3,"clrModalOpen","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf"],[1,"clr-row","cursor"],[1,"clr-col-12","bottom-space"],[3,"object","fieldName","description","shapes","command","changed"],[3,"week","weekChanged",4,"ngIf"],[3,"week","weekChanged"],[1,"btn","btn-success",3,"clrLoading","click"],["shape","floppy"]],template:function(h,d){1&h&&(E(0,"div",0),X(1,eAt,4,7,"div",1),E(2,"div",2)(3,"button",3),Y("click",function(){return d.onAddNewService()}),se(4,"cds-icon",4),H(5," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),M(),X(6,tAt,3,1,"button",5),E(7,"button",6),Y("click",function(){return d.modalClearServicesFlag=!0}),se(8,"cds-icon",7),H(9," \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),M()()(),E(10,"clr-modal",8),Y("clrModalOpenChange",function(p){return d.modalClearServicesFlag=p}),E(11,"h3",9),H(12),M(),E(13,"div",10)(14,"p"),H(15,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0435\u0441\u044c \u0441\u043f\u0438\u0441\u043e\u043a?"),M()(),E(16,"div",11)(17,"button",12),Y("click",function(){return d.onClearServices(),d.modalClearServicesFlag=!1}),H(18,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),M(),E(19,"button",13),Y("click",function(){return d.modalClearServicesFlag=!1}),H(20,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M()()(),E(21,"clr-modal",8),Y("clrModalOpenChange",function(p){return d.modalDeleteServicesFlag=p}),E(22,"h3",9),H(23),M(),E(24,"div",10),X(25,nAt,2,1,"p",14),M(),E(26,"div",11)(27,"button",12),Y("click",function(){return d.deleteCleric(d.modalDeleteService),d.modalDeleteServicesFlag=!1}),H(28,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),M(),E(29,"button",13),Y("click",function(){return d.modalDeleteServicesFlag=!1}),H(30,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M()()()),2&h&&(R("ngClass",d.getClasses()),I(1),R("ngForOf",d.clerics),I(5),R("ngIf",!d.autoSave),I(4),R("clrModalOpen",d.modalClearServicesFlag),I(2),Kt("\u041e\u0447\u0438\u0441\u0442\u043a\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 ",d.isChurch()?"\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u043e\u0432":"\u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0439",""),I(9),R("clrModalOpen",d.modalDeleteServicesFlag),I(2),Kt("\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u043d\u0438 ",d.isChurch()?"\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u0430":"\u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044f",""),I(2),R("ngIf",d.modalDeleteService))},dependencies:[ei,Gn,mn,Vn,Vo,$o,lz,mz,Gp,qPt],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}.vertical-center[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}return c})();function rAt(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",37),Y("ngModelChange",function(d){return ce(a),ue(Q(2).currentSettingsName=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q(2);I(1),R("name","settings")("value",a.name)("ngModel",h.currentSettingsName),I(2),ut(a.name)}}function sAt(c,l){if(1&c){const a=Ae();E(0,"button",38),Y("click",function(d){return ce(a),ue(Q(2).onDeleteCurrentSettings(d))}),H(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c "),M()}}const oAt=function(){return{alert:!0,"alert-warning":!1,"alert-success":!0,"top-space":!1}};function aAt(c,l){if(1&c){const a=Ae();E(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24)(4,"div",25),se(5,"cds-icon",26),M(),E(6,"span",27),H(7),M()()()(),E(8,"div",28)(9,"form",29)(10,"clr-radio-container",30),X(11,rAt,4,4,"clr-radio-wrapper",4),M()(),E(12,"div",31)(13,"div",32)(14,"button",33),Y("click",function(d){return ce(a),ue(Q().onSave(d))}),H(15,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),M()(),E(16,"div",32)(17,"button",33),Y("click",function(d){return ce(a),ue(Q().onExport(d))}),H(18,"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 "),M()(),E(19,"div",32)(20,"label",34)(21,"input",35),Y("change",function(d){return ce(a),ue(Q().onImport(d))}),M(),H(22," \u0418\u043c\u043f\u043e\u0440\u0442 "),M()(),E(23,"div",32),X(24,sAt,2,0,"button",36),M()()()()}if(2&c){const a=Q();I(1),R("ngClass",Fi(5,oAt)),I(4),Je("shape",a.settings.length?"check-circle":"help-info"),I(2),Kt("\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b: ",a.settings.length?"":"\u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442",""),I(4),R("ngForOf",a.settings),I(13),R("ngIf",a.settings.length)}}function lAt(c,l){if(1&c){const a=Ae();E(0,"clr-accordion-content")(1,"app-dynamic-scheduler-clerics",40),Y("onSave",function(d){return ce(a),ue(Q(2).onSaveClerics(d))})("onClear",function(d){return ce(a),ue(Q(2).onClearClerics(d))}),M()()}if(2&c){const a=Q(2);I(1),R("data",a.clerics)("autoSave",!0)("clerikDesc",a.isState()?"\u041c\u0435\u0441\u0442\u043e":"\u0421\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a")}}function cAt(c,l){if(1&c){const a=Ae();E(0,"clr-accordion-content")(1,"app-dynamic-scheduler-services",41),Y("onSave",function(d){return ce(a),ue(Q(2).onSaveServices(d))})("onClear",function(d){return ce(a),ue(Q(2).onClearServices(d,!0))})("onReset",function(d){return ce(a),ue(Q(2).onClearServices(d,!1))}),M()()}if(2&c){const a=Q(2);I(1),R("data",a.services)("clerics",a.isState()?a.clerics.clerics:null)("clericInfo",a.isState()?"\u041c\u0435\u0441\u0442\u043e":"\u0421\u043b\u0443\u0436\u0438\u0442")("autoSave",!0)("serviceDesc",a.isState()?"\u041c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u0435":"\u0421\u043b\u0443\u0436\u0431\u0430")}}function uAt(c,l){if(1&c){const a=Ae();E(0,"div",77)(1,"app-dynamic-scheduler-rangs",78),Y("rangChanged",function(d){return ce(a),ue(Q(3).onSelectDayRang(d))}),M()()}if(2&c){const a=Q(3);I(1),R("rang",a.dayRang)}}function hAt(c,l){if(1&c){const a=Ae();E(0,"div",48)(1,"app-dynamic-scheduler-prazdniki",79),Y("onSelected",function(d){return ce(a),ue(Q(3).onSelectPrazdnik(d))}),M()()}if(2&c){const a=Q(3);I(1),R("data",a.prazdnikiData)}}function dAt(c,l){if(1&c){const a=Ae();E(0,"div",47)(1,"div",48)(2,"div",28)(3,"app-dynamic-scheduler-rangs",78),Y("rangChanged",function(d){return ce(a),ue(Q(3).onSelectDayRang(d))}),M()(),E(4,"div",80)(5,"app-dynamic-scheduler-prazdniki",79),Y("onSelected",function(d){return ce(a),ue(Q(3).onSelectPrazdnik(d))}),M()()()()}if(2&c){const a=Q(3);I(3),R("rang",a.dayRang),I(2),R("data",a.prazdnikiData)}}function fAt(c,l){if(1&c){const a=Ae();E(0,"div",47)(1,"div",48)(2,"form",49)(3,"div",50)(4,"textarea",81),Y("ngModelChange",function(d){return ue(ce(a).$implicit.text=d)}),M()(),E(5,"span",52),H(6),M()()()()}if(2&c){const a=l.$implicit;I(4),R("ngModel",a.text),I(2),ut(a.info)}}function pAt(c,l){if(1&c){const a=Ae();E(0,"div",47)(1,"div",48)(2,"div",28)(3,"app-dynamic-scheduler-rangs",78),Y("rangChanged",function(d){return ce(a),ue(Q(3).onSelectDayRang(d))}),M()(),E(4,"div",82)(5,"app-dynamic-scheduler-prazdniki",79),Y("onSelected",function(d){return ce(a),ue(Q(3).onSelectPrazdnik(d))}),M()()()()}if(2&c){const a=Q(3);I(3),R("rang",a.dayRang),I(2),R("data",a.prazdnikiData)}}function gAt(c,l){if(1&c){const a=Ae();E(0,"div",47)(1,"div",48)(2,"form",49)(3,"div",50)(4,"textarea",83),Y("ngModelChange",function(d){return ue(ce(a).$implicit.text=d)}),M()(),E(5,"span",52),H(6),M()()()()}if(2&c){const a=l.$implicit;I(4),R("ngModel",a.text),I(2),ut(a.info)}}function mAt(c,l){if(1&c){const a=Ae();E(0,"div",47)(1,"div",48)(2,"form",49)(3,"div",50)(4,"textarea",84),Y("ngModelChange",function(d){return ue(ce(a).$implicit.text=d)}),M()(),E(5,"span",52),H(6),M()()()()}if(2&c){const a=l.$implicit;I(4),R("ngModel",a.text),I(2),ut(a.info)}}function vAt(c,l){1&c&&se(0,"app-svg-js-image",85),2&c&&R("data",Q(3).getMainPage(!1).imageData)}function _At(c,l){1&c&&se(0,"app-svg-js-image",85),2&c&&R("data",Q(3).getMainPage(!1).imageData)}function yAt(c,l){if(1&c){const a=Ae();E(0,"clr-accordion-content")(1,"div",42)(2,"div",43)(3,"div",44)(4,"span")(5,"app-dynamic-scheduler-calendar",45),Y("change",function(d){return ce(a),ue(Q(2).onCalendarChanged(d))}),M()()()(),E(6,"div",46)(7,"div",47)(8,"div",48)(9,"form",49)(10,"div",50)(11,"textarea",51),Y("ngModelChange",function(d){return ce(a),ue(Q(2).textDay.text=d)}),M()(),E(12,"span",52),H(13),M()()()()(),E(14,"div",53)(15,"div",47)(16,"div",48)(17,"form",49)(18,"div",50)(19,"textarea",54),Y("ngModelChange",function(d){return ce(a),ue(Q(2).textHoliday.text=d)}),M()(),E(20,"span",52),H(21),M()()()()(),E(22,"div",48)(23,"app-dynamic-scheduler-services",55),Y("onSave",function(d){return ce(a),ue(Q(2).onSaveDayServices(d))})("onClear",function(d){return ce(a),ue(Q(2).onClearDayServices(d))}),M()()(),E(24,"div",56)(25,"div",48)(26,"div",44)(27,"span")(28,"app-dynamic-scheduler-calendar",45),Y("change",function(d){return ce(a),ue(Q(2).onCalendarChanged(d))}),M()()()(),E(29,"div",43)(30,"div",47)(31,"div",48)(32,"form",49)(33,"div",50)(34,"textarea",57),Y("ngModelChange",function(d){return ce(a),ue(Q(2).textDay.text=d)}),M()(),E(35,"span",52),H(36),M()()()()(),E(37,"div",43)(38,"div",47)(39,"div",48)(40,"form",49)(41,"div",50)(42,"textarea",58),Y("ngModelChange",function(d){return ce(a),ue(Q(2).textHoliday.text=d)}),M()(),E(43,"span",52),H(44),M()()()()(),E(45,"div",48)(46,"app-dynamic-scheduler-services",59),Y("onSave",function(d){return ce(a),ue(Q(2).onSaveDayServices(d))})("onClear",function(d){return ce(a),ue(Q(2).onClearDayServices(d))}),M()()(),E(47,"div",60)(48,"div",48)(49,"div",44)(50,"span")(51,"app-dynamic-scheduler-calendar",45),Y("change",function(d){return ce(a),ue(Q(2).onCalendarChanged(d))}),M()()()(),E(52,"div",48)(53,"div",47)(54,"div",48)(55,"form",49)(56,"div",50)(57,"textarea",61),Y("ngModelChange",function(d){return ce(a),ue(Q(2).textDay.text=d)}),M()(),E(58,"span",52),H(59),M()()()()(),E(60,"div",48)(61,"div",47)(62,"div",48)(63,"form",49)(64,"div",50)(65,"textarea",62),Y("ngModelChange",function(d){return ce(a),ue(Q(2).textHoliday.text=d)}),M()(),E(66,"span",52),H(67),M()()()()(),E(68,"div",48)(69,"app-dynamic-scheduler-services",59),Y("onSave",function(d){return ce(a),ue(Q(2).onSaveDayServices(d))})("onClear",function(d){return ce(a),ue(Q(2).onClearDayServices(d))}),M()(),X(70,uAt,2,1,"div",63),X(71,hAt,2,1,"div",64),M(),E(72,"div",65)(73,"div",66),X(74,dAt,6,2,"div",67),X(75,fAt,7,2,"div",68),E(76,"div",69)(77,"div",48)(78,"div",44)(79,"span")(80,"app-dynamic-scheduler-calendar",45),Y("change",function(d){return ce(a),ue(Q(2).onCalendarStartDateChanged(d))}),M()()()(),E(81,"div",48)(82,"span",52),H(83,"\u041d\u0430\u0447\u0430\u043b\u043e \u043f\u0435\u0440\u0438\u043e\u0434\u0430"),M()(),E(84,"div",48)(85,"div",44)(86,"span")(87,"app-dynamic-scheduler-calendar",45),Y("change",function(d){return ce(a),ue(Q(2).onCalendarEndDateChanged(d))}),M()()()(),E(88,"div",48)(89,"span",52),H(90,"\u041a\u043e\u043d\u0435\u0446 \u043f\u0435\u0440\u0438\u043e\u0434\u0430"),M()(),E(91,"div",48)(92,"button",70),Y("click",function(){return ce(a),ue(Q(2).modalClearSchedulerFlag=!0)}),H(93,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),M()()()(),E(94,"div",71),X(95,pAt,6,2,"div",67),X(96,gAt,7,2,"div",68),E(97,"div",69)(98,"div",48)(99,"div",44)(100,"span")(101,"app-dynamic-scheduler-calendar",45),Y("change",function(d){return ce(a),ue(Q(2).onCalendarStartDateChanged(d))}),M()()()(),E(102,"div",48)(103,"span",52),H(104,"\u041d\u0430\u0447\u0430\u043b\u043e \u043f\u0435\u0440\u0438\u043e\u0434\u0430"),M()(),E(105,"div",48)(106,"div",44)(107,"span")(108,"app-dynamic-scheduler-calendar",45),Y("change",function(d){return ce(a),ue(Q(2).onCalendarEndDateChanged(d))}),M()()()(),E(109,"div",48)(110,"span",52),H(111,"\u041a\u043e\u043d\u0435\u0446 \u043f\u0435\u0440\u0438\u043e\u0434\u0430"),M()(),E(112,"div",48)(113,"button",72),Y("click",function(){return ce(a),ue(Q(2).modalClearSchedulerFlag=!0)}),H(114,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),M()()()(),E(115,"div",73),X(116,mAt,7,2,"div",68),E(117,"div",69)(118,"div",48)(119,"div",44)(120,"span")(121,"app-dynamic-scheduler-calendar",45),Y("change",function(d){return ce(a),ue(Q(2).onCalendarStartDateChanged(d))}),M()()()(),E(122,"div",48)(123,"span",52),H(124,"\u041d\u0430\u0447\u0430\u043b\u043e \u043f\u0435\u0440\u0438\u043e\u0434\u0430"),M()(),E(125,"div",48)(126,"div",44)(127,"span")(128,"app-dynamic-scheduler-calendar",45),Y("change",function(d){return ce(a),ue(Q(2).onCalendarEndDateChanged(d))}),M()()()(),E(129,"div",48)(130,"span",52),H(131,"\u041a\u043e\u043d\u0435\u0446 \u043f\u0435\u0440\u0438\u043e\u0434\u0430"),M()(),E(132,"div",48)(133,"button",72),Y("click",function(){return ce(a),ue(Q(2).modalClearSchedulerFlag=!0)}),H(134,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),M()()()(),E(135,"div",74),X(136,vAt,1,1,"app-svg-js-image",75),M(),E(137,"div",76),X(138,_At,1,1,"app-svg-js-image",75),M()()()}if(2&c){const a=Q(2);I(5),R("showDates",!0)("uniqueDateString",a.currentDate)("useUniqueDate",!0),I(6),R("ngModel",a.textDay.text),I(2),ut(a.textDay.info),I(6),R("ngModel",a.textHoliday.text),I(2),ut(a.textHoliday.info),I(2),R("data",a.dayServices)("singleRang",!0)("clerics",a.clerics.clerics)("autoSave",!0)("clearBtn",!1)("serviceDesc",a.isState()?"\u041c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u0435":"\u0421\u043b\u0443\u0436\u0431\u0430")("clericInfo",a.isState()?"\u041c\u0435\u0441\u0442\u043e":"\u0421\u043b\u0443\u0436\u0438\u0442"),I(5),R("showDates",!0)("uniqueDateString",a.currentDate)("useUniqueDate",!0),I(6),R("ngModel",a.textDay.text),I(2),ut(a.textDay.info),I(6),R("ngModel",a.textHoliday.text),I(2),ut(a.textHoliday.info),I(2),R("data",a.dayServices)("singleRang",!0)("vertical",!0)("clerics",a.clerics.clerics)("autoSave",!0)("clearBtn",!1)("serviceDesc",a.isState()?"\u041c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u0435":"\u0421\u043b\u0443\u0436\u0431\u0430")("clericInfo",a.isState()?"\u041c\u0435\u0441\u0442\u043e":"\u0421\u043b\u0443\u0436\u0438\u0442"),I(5),R("showDates",!0)("uniqueDateString",a.currentDate)("useUniqueDate",!0),I(6),R("ngModel",a.textDay.text),I(2),ut(a.textDay.info),I(6),R("ngModel",a.textHoliday.text),I(2),ut(a.textHoliday.info),I(2),R("data",a.dayServices)("singleRang",!0)("vertical",!0)("clerics",a.clerics.clerics)("autoSave",!0)("clearBtn",!1)("serviceDesc",a.isState()?"\u041c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u0435":"\u0421\u043b\u0443\u0436\u0431\u0430")("clericInfo",a.isState()?"\u041c\u0435\u0441\u0442\u043e":"\u0421\u043b\u0443\u0436\u0438\u0442"),I(1),R("ngIf",!a.isState()),I(1),R("ngIf",!a.isState()),I(3),R("ngIf",!a.isState()),I(1),R("ngForOf",a.editors),I(5),R("showDates",!0)("uniqueDateString",a.startDate)("useUniqueDate",!0),I(7),R("showDates",!0)("uniqueDateString",a.endDate)("useUniqueDate",!0),I(8),R("ngIf",!a.isState()),I(1),R("ngForOf",a.editors),I(5),R("showDates",!0)("uniqueDateString",a.startDate)("useUniqueDate",!0),I(7),R("showDates",!0)("uniqueDateString",a.endDate)("useUniqueDate",!0),I(8),R("ngForOf",a.editors),I(5),R("showDates",!0)("uniqueDateString",a.startDate)("useUniqueDate",!0),I(7),R("showDates",!0)("uniqueDateString",a.endDate)("useUniqueDate",!0),I(8),R("ngIf",!(null==a.previewPage||!a.previewPage.imageData)),I(2),R("ngIf",!(null==a.previewPage||!a.previewPage.imageData))}}function bAt(c,l){if(1&c&&(E(0,"clr-accordion",21)(1,"clr-accordion-panel")(2,"clr-accordion-title"),H(3),M(),X(4,lAt,2,3,"clr-accordion-content",39),M(),E(5,"clr-accordion-panel")(6,"clr-accordion-title"),H(7),M(),X(8,cAt,2,5,"clr-accordion-content",39),M(),E(9,"clr-accordion-panel")(10,"clr-accordion-title"),H(11,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),M(),X(12,yAt,139,71,"clr-accordion-content",39),M()()),2&c){const a=Q();I(3),ut(a.isState()?"\u041c\u0435\u0441\u0442\u043e":"\u0421\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u0438"),I(4),ut(a.isState()?"\u041c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f":"\u0421\u043b\u0443\u0436\u0431\u044b")}}const BG=function(c,l){return{"clr-col-6":c,"clr-col-12":l}};function OAt(c,l){if(1&c){const a=Ae();E(0,"div",86)(1,"button",87),Y("click",function(){return ce(a),ue(Q().onCopyPermanentLink())}),H(2," \u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 "),M()()}if(2&c){const a=Q();R("ngClass",mr(1,BG,!!a.permanentLink,!a.permanentLink))}}function CAt(c,l){if(1&c){const a=Ae();E(0,"div",86)(1,"button",87),Y("click",function(){return ce(a),ue(Q().onSchedulerTypeToggle())}),H(2),M()()}if(2&c){const a=Q();R("ngClass",mr(2,BG,!!a.permanentLink,!a.permanentLink)),I(2),Kt(" ",2==a.fullSchedulerInfoType?"\u0428\u0442\u0430\u0442\u043d\u043e\u0435 \u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435":1==a.fullSchedulerInfoType?"\u041f\u043e\u043b\u043d\u043e\u0435 \u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435":"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"," ")}}function SAt(c,l){if(1&c){const a=Ae();E(0,"div",86)(1,"button",87),Y("click",function(){return ce(a),ue(Q().onStartEditScheduler())}),H(2," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c "),M()()}if(2&c){const a=Q();R("ngClass",mr(1,BG,!!a.permanentLink,!a.permanentLink))}}function wAt(c,l){if(1&c){const a=Ae();E(0,"app-svg-js-image",88),Y("pagesCount",function(d){return ce(a),ue(Q().setPagesCount(d))})("svg",function(d){ce(a);const f=Q();return ue(f.saveSvg(d,f.getMainPage()))}),M()}2&c&&R("data",Q().getMainPage().imageData)}function xAt(c,l){if(1&c){const a=Ae();E(0,"div")(1,"app-svg-js-image",89),Y("svg",function(d){const p=ce(a).$implicit;return ue(Q().saveSvg(d,p))}),M()()}if(2&c){const a=l.$implicit;I(1),R("data",a.imageData)}}function TAt(c,l){if(1&c){const a=Ae();E(0,"button",20),Y("click",function(){return ce(a),ue(Q().onSaveCurrentSettings())}),H(1,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),M()}}class m0{info;onChange;sText="";constructor(l,a,h){this.info=a,this.onChange=h}static builder(){return new m0("","",null)}changed(){this.onChange&&this.onChange()}get text(){return this.sText}set text(l){this.setText(l)}setText(l,a=!0){return this.sText!=l&&(this.sText=l,a&&this.changed()),this}setInfo(l){return this.info=l,this}setOnChange(l){return this.onChange=l,this}}class i_{\u0440\u0430\u043d\u0433;\u0434\u0435\u043d\u044c;\u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a;\u0441\u043b\u0443\u0436\u0431\u0430;\u0432\u0440\u0435\u043c\u044f;\u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438;\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u0438;\u0446\u0432\u0435\u0442\u0430\u0421\u043b\u0443\u0436\u0431;constructor(l,a,h,d,f,p,g,m){this.\u0440\u0430\u043d\u0433=l,this.\u0434\u0435\u043d\u044c=a,this.\u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a=h,this.\u0441\u043b\u0443\u0436\u0431\u0430=d,this.\u0432\u0440\u0435\u043c\u044f=f,this.\u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438=p,this.\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u0438=g,this.\u0446\u0432\u0435\u0442\u0430\u0421\u043b\u0443\u0436\u0431=m}static \u043d\u043e\u0432\u044b\u0439(){return new i_(1,"","","","",[],"","")}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u043d\u0433(l){return this.\u0440\u0430\u043d\u0433=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0435\u043d\u044c(l){return this.\u0434\u0435\u043d\u044c=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a(l){return this.\u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u043b\u0443\u0436\u0431\u0443(l){return this.\u0441\u043b\u0443\u0436\u0431\u0430=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u0440\u0435\u043c\u044f(l){return this.\u0432\u0440\u0435\u043c\u044f=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438(l){return this.\u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u043e\u0432(l){return this.\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u0438=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442\u0430\u0421\u043b\u0443\u0436\u0431(l){return this.\u0446\u0432\u0435\u0442\u0430\u0421\u043b\u0443\u0436\u0431=l,this}}class bke{config;onUpdate;id=0;calling=0;constructor(l,a){this.config=l,this.onUpdate=a}nextId(){return++this.id,this}changed(){return this.calling&&this.requestForUpdate(),this}requestForUpdate(){this.nextId();let l=this.id;if(!this.calling)return++this.calling,this.config.post(()=>{l==this.id&&this.onUpdate?(this.onUpdate(),--this.calling):(--this.calling,this.requestForUpdate())},3e3),this}}var Ka=function(c){return c[c.Short=0]="Short",c[c.Full=1]="Full",c[c.State=2]="State",c}(Ka||{});class v0{imageData;pageIndex;constructor(l,a){this.imageData=l,this.pageIndex=a}static builder(){return new v0(null,-1)}setImageData(l){return this.imageData=l,this}setPageIndex(l){return this.pageIndex=l,this}}let kAt=(()=>{class c{uiConfig;config;themes;mathSvc;ks;calendarSettingsSvc;calendarPrazdnikiSvc;calendarSchedulerSvc;zipSvc;data;mainPage=v0.builder();extraPages=[];previewPage=v0.builder();previewExtraPages=[];days=[];clerics=iL.builder();services=n_.builder();dayServices=n_.builder();dayRang=1;fullSchedulerInfoType=Ka.Full;textDay=m0.builder().setText("1{\u0437}").setInfo("\u0414\u0435\u043d\u044c").setOnChange(()=>this.onTextChanged());textHoliday=m0.builder().setText("\u0421\u0412\u0422. \u041f\u0415\u0422\u0420\u0410, \u041c\u0418\u0422\u0420. \u041a\u0418\u0415\u0412\u0421\u041a\u041e\u0413\u041e,{\u0437}\n\u041c\u041e\u0421\u041a\u041e\u0412\u0421\u041a\u041e\u0413\u041e \u0418 \u0412\u0421\u0415\u042f \u0420\u0423\u0421\u0418,{\u0437}\n\u0427\u0423\u0414\u041e\u0422\u0412\u041e\u0420\u0426\u0410{\u0437}").setInfo("\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a").setOnChange(()=>this.onTextChanged());textService=m0.builder().setText("\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f{\u0437}\n\u041c\u043e\u043b\u0435\u0431\u0435\u043d. \u041b\u0438\u0442\u0438\u044f{\u0437}\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f. \u0423\u0422\u0420\u0415\u041d\u042f. 1 \u0427\u0410\u0421").setInfo("\u0421\u043b\u0443\u0436\u0431\u0430").setOnChange(()=>this.onTextChanged());textTime=m0.builder().setText("8.40{\u0437}\n{1}\n17.00").setInfo("\u0412\u0440\u0435\u043c\u044f").setOnChange(()=>this.onTextChanged());textHeader=m0.builder().setText("\u0420\u0410\u0421\u041f\u0418\u0421\u0410\u041d\u0418\u0415 \u0411\u041e\u0413\u041e\u0421\u041b\u0423\u0416\u0415\u041d\u0418\u0419{\u043a}\n\u042f \u041d \u0412 \u0410 \u0420 \u042c{\u043a}").setInfo("\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a").setOnChange(()=>this.onTextChanged());textFooter=m0.builder().setText("{1}\n\u0414\u043e\u0440\u043e\u0433\u0438\u0435 \u0431\u0440\u0430\u0442\u044c\u044f \u0438 \u0441\u0435\u0441\u0442\u0440\u044b!\n\u0422\u0410\u0418\u041d\u0421\u0422\u0412\u041e \u0418\u0421\u041f\u041e\u0412\u0415\u0414\u0418\n\u0441\u043e\u0432\u0435\u0440\u0448\u0430\u0435\u0442\u0441\u044f \u0432 \u043d\u0430\u0448\u0435\u043c \u0445\u0440\u0430\u043c\u0435 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0432\u0435\u0447\u0435\u0440\u043d\u0435\u0433\u043e \u0431\u043e\u0433\u043e\u0441\u043b\u0443\u0436\u0435\u043d\u0438\u044f\n\u0438\u043b\u0438 \u043f\u043e \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0441\u043e \u0441\u043b\u0443\u0436\u0430\u0449\u0438\u043c \u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u043e\u043c.\n\u0423\u0437\u043d\u0430\u0442\u044c, \u043a\u0442\u043e \u0441\u043b\u0443\u0436\u0438\u0442, \u043c\u043e\u0436\u043d\u043e \u0437\u0430 \u0441\u0432\u0435\u0447\u043d\u044b\u043c \u044f\u0449\u0438\u043a\u043e\u043c \u0438\u043b\u0438 \u043f\u043e\n\u0442\u0435\u043b. +7 (495) 322-223").setInfo("\u041f\u043e\u0434\u0432\u0430\u043b").setOnChange(()=>this.onTextChanged());currentDate="01.02.2022";startDate="01.02.2022";endDate="28.02.2022";prazdnikiData=nL.builder();editors=[this.textHeader,this.textFooter];requestForGeneratingScheduler=!1;generatingScheduler=!1;schedulerPagesCount=0;shortScheduler="01.01.2022\n==\n{1}\n==\n{1}";fullScheduler="01.01.2022\n==\n{1}\n==\n{1}";permanentLink="";updater=null;dateUpdater=null;modalClearSchedulerFlag=!1;modalSaveSettingsFlag=!1;modalDeleteSettingsFlag=!1;modalAddSettingsFlag=!1;get currentSettingsName(){return this.uiConfig.ui.schedulerCurrentSettingsName.getStringValue()}set currentSettingsName(a){this.uiConfig.ui.schedulerCurrentSettingsName.setStringValue(a),this.setCurrentSettings(a)}settings=[];pCurrentSettingsName=new ike("\u0418\u043c\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a","\u0438\u043c\u044f",this,"currentSettingsName",null);svgs=null;readonly=!0;get formulaText(){return this.uiConfig.ui.schedulerSourceText.getStringValue()}set formulaText(a){this.uiConfig.ui.schedulerSourceText.setStringValue(a)}get calcData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}get component(){return this.calcData.components.length?this.calcData.components[0]:null}get components(){return this.calcData.components}constructor(a,h,d,f,p,g,m,v,_){this.uiConfig=a,this.config=h,this.themes=d,this.mathSvc=f,this.ks=p,this.calendarSettingsSvc=g,this.calendarPrazdnikiSvc=m,this.calendarSchedulerSvc=v,this.zipSvc=_;let y=new Date;this.currentDate=y.getDate()+"."+(y.getMonth()+1)+"."+y.getFullYear(),this.onUpdateStartEndDays(),this.updater=new bke(this.config,()=>this.generateAllSchedulers()),this.dateUpdater=new bke(this.config,()=>this.modalClearSchedulerFlag=!0)}onUpdateStartEndDays(){let a=this.getDateFromString(this.currentDate);this.startDate="1."+(a.getMonth()+1)+"."+a.getFullYear();let h=this.calendarSchedulerSvc.getMonthsDaysCount(a.getFullYear(),a.getMonth());this.endDate=h+"."+(a.getMonth()+1)+"."+a.getFullYear()}currentDayOfMonth(){return+this.currentDate.split(".")[0]}startDayOfMonth(){return+this.startDate.split(".")[0]}endDayOfMonth(){return+this.endDate.split(".")[0]}ngOnInit(){this.readonly=!0}ngOnDestroy(){}ngAfterViewInit(){this.onLoadSettingsDefault()}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}setPagesCount(a){this.extraPages=[];for(let h=1;h<a;h++)this.extraPages.push(v0.builder().setPageIndex(h).setImageData(ul.builder().setScene("/scenes/scheduler.scene.txt").setGenName("Js").setType(2==this.fullSchedulerInfoType?297210:1).setSvgWidth(2==this.fullSchedulerInfoType?297:210).setSvgHeight(2==this.fullSchedulerInfoType?210:297).setLogoText(2==this.fullSchedulerInfoType?"\u0448\u0442\u0430\u0442\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435":1==this.fullSchedulerInfoType?"\u043f\u043e\u043b\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435":"\u043a\u0440\u0430\u0442\u043a\u043e\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435").setSchedulerText(this.createScheduler(!0)).setStartPageIndex(h).setShowFooter(!1)));this.schedulerPagesCount=a}onCalendarStartDateChanged(a,h=!0){if(this.startDate==a)return;let d=this.startDate.split("."),f=a.split(".");this.startDate=a,h&&this.config.post(()=>{this.updateTextHeader(),this.startEditDate(),this.requestClearScheduler(d[1]!=f[1]||d[2]!=f[2])},10)}onCalendarEndDateChanged(a,h=!0){if(this.endDate==a)return;let d=this.endDate.split("."),f=a.split(".");this.endDate=a,h&&this.config.post(()=>{this.updateTextHeader(),this.startEditDate(),this.requestClearScheduler(d[1]!=f[1]||d[2]!=f[2])},10)}onCalendarChanged(a){if(this.currentDate==a)return;let h=this.currentDate.split("."),d=a.split(".");this.currentDate=a,this.onUpdateStartEndDays(),this.config.post(()=>{this.startEditDate(),this.requestClearScheduler(h[1]!=d[1]||h[2]!=d[2])},10)}onTextChangedEnabled=!0;onTextChanged(a=!1){if(!this.onTextChangedEnabled)return;let h=this.days[this.currentDayOfMonth()-1];h&&(h.\u0440\u0430\u043d\u0433=this.dayRang,h.\u0434\u0435\u043d\u044c=this.textDay.text,h.\u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a=this.textHoliday.text,h.\u0441\u043b\u0443\u0436\u0431\u0430=this.textService.text,h.\u0432\u0440\u0435\u043c\u044f=this.textTime.text,this.onDayServicesSync()),a?this.updater&&this.updater.onUpdate():this.updater&&this.updater.requestForUpdate()}createScheduler(a=!1){return a?this.fullScheduler:this.shortScheduler}generateAllSchedulers(){this.generatingScheduler?this.requestForGeneratingScheduler=!0:(this.permanentLink="",this.generatingScheduler=!0,this.shortScheduler=this.generateSchedulers(),this.fullScheduler=this.generateSchedulers(!0),this.uiConfig.ui.schedulerText.setStringValue(this.fullScheduler),this.svgs=[],this.schedulerPagesCount=0,this.extraPages=[],this.mainPage=v0.builder(),this.getMainPage(),this.previewPage=v0.builder(),this.getMainPage(!1),this.createPermanentLink())}convertAllClericsByColors(a,h){let d=h.split("\n").map(f=>f.trim());return a.split("\n").map(f=>f.trim()).map((f,p)=>this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(f,"")+d[p]).join("\n")}convertAllClerics(a){let h=["\u043a","\u0441","\u0437","\u0444","\u043f","\u043c","\u043b","\u0440"];return a.split("\n").map(d=>d.trim()).map(d=>{let f=d.split(",").map(g=>this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(g,"")),p=0;return f.length&&this.clerics.clerics.forEach((g,m)=>{g.name==f[0]&&(p=m)}),f.length>1&&f.length==this.clerics.clerics.length?"\u0412\u0421\u0415{\u043a}":this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(d,"")+"{"+h[(1+p)%h.length]+"}"}).join("\n")}removeUnneededServices(a,h=""){let d=(h||a).split("\n");return a.split("\n").map(f=>f.trim()).filter((f,p)=>this.fullSchedulerInfoType==Ka.Full||!d[p].includes("{\u0442}")).join("\n")}generateSchedulers(a=!1,h=!0,d=!1){let f=`${this.currentDate}|${this.startDate}|${this.endDate}`,p="\n==\n",g="\n--\n";if(f+=p,f+=this.fullSchedulerInfoType,f+=p,f+=this.textHeader.text,f+=p,a)if(this.fullSchedulerInfoType==Ka.State){let m=this.getDateFromString(this.startDate),v=this.getDateFromString(this.endDate),_=y=>m.getDate()<=y&&y<=v.getDate();f+=this.days.map((y,b)=>{let O=_(b+1);return d&&!O||!O&&h||h&&!y.\u0441\u043b\u0443\u0436\u0431\u0430?"":(O?y.\u0440\u0430\u043d\u0433:"")+g+(O?y.\u0434\u0435\u043d\u044c:"")+g+(O?this.packWithSources(this.removeUnneededServices(y.\u0432\u0440\u0435\u043c\u044f),d):"")+g+(O?this.packWithSources(this.removeUnneededServices(y.\u0441\u043b\u0443\u0436\u0431\u0430),d):"")+g+(O?this.packWithSources(this.removeUnneededServices(2==this.fullSchedulerInfoType?this.convertAllClericsByColors(y.\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u0438,this.getServicesColorsText(y.\u0441\u043b\u0443\u0436\u0431\u0430)):this.convertAllClerics(y.\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u0438),y.\u0432\u0440\u0435\u043c\u044f),d):"")+g+g+(O?y.\u0446\u0432\u0435\u0442\u0430\u0421\u043b\u0443\u0436\u0431:"")+p}).reduce((y,b)=>y+b,"")}else f+=this.days.map(m=>h&&!m.\u0441\u043b\u0443\u0436\u0431\u0430?"":m.\u0440\u0430\u043d\u0433+"\n---------------------\n"+m.\u0434\u0435\u043d\u044c+"\n---------------------\n"+m.\u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a.toUpperCase()+"\n---------------------\n"+this.removeUnneededServices(m.\u0441\u043b\u0443\u0436\u0431\u0430)+"\n---------------------\n"+this.removeUnneededServices(m.\u0432\u0440\u0435\u043c\u044f)+"\n---------------------\n"+this.removeUnneededServices(this.convertAllClerics(m.\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u0438),m.\u0432\u0440\u0435\u043c\u044f)+"\n---------------------\n"+m.\u0446\u0432\u0435\u0442\u0430\u0421\u043b\u0443\u0436\u0431+"\n=====================\n").reduce((m,v)=>m+v,"");else this.fullSchedulerInfoType==Ka.State?(f+=this.dayRang,f+="\n---------------------\n",f+=this.textDay.text,f+="\n---------------------\n",f+=this.textTime.text,f+="\n---------------------\n",f+=this.textService.text,f+="\n---------------------\n",f+=2==this.fullSchedulerInfoType?this.getDayClericsWithServiceColors():this.convertAllClerics(this.getDayClericsWithServiceColors()),f+="\n---------------------\n",f+=this.textHoliday.text,f+="\n=====================\n"):(f+=this.dayRang,f+="\n---------------------\n",f+=this.textDay.text,f+="\n---------------------\n",f+=this.textHoliday.text,f+="\n---------------------\n",f+=this.textService.text,f+="\n---------------------\n",f+=this.textTime.text,f+="\n---------------------\n",f+=this.convertAllClerics(this.getDayClerics()),f+="\n=====================\n");return f+=this.textFooter.text,d&&(f+="~~\n",f+=this.generateSources()),f}parseSources(a){let h=a.split(/--+/);if(2!=h.length)return;let d=this.parserClerics(h[0]),f=this.parserServices(h[1]);this.clerics.clerics=d,this.services.services=f}unpackWithSources(a,h=!0){return h?a.split("\n").map(f=>f.trim()).map(f=>this.convertFromRefs(f)).join("\n"):a}packWithSources(a,h=!0){return h?a.split("\n").map(f=>f.trim()).map(f=>this.convertToRefs(f)).join("\n"):a}convertFromRefs(a){return this.convertFromServiceRef(this.convertFromClericsRef(a))}convertToRefs(a){return this.convertToServiceRef(this.convertToClericsRef(a))}convertFromClericsRef(a){if(!a.startsWith("c:"))return a;let h=a.split(":");if(h.length<2)return a;let d=this.clerics.clerics[+h[1]].name;return d&&h.length>2&&(d=this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(d,"")+h[2]),d??a}convertToClericsRef(a){if(a.startsWith("s:")||a.startsWith("c:"))return a;let h=a,d=Ch.getTextColor(a),f=this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(a,""),p=this.clerics.clerics.findIndex(g=>this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(g.name,"")==f);return p>=0&&(h=this.getMinText(a,`c:${p}:${d}`)),h}convertFromServiceRef(a){if(a.startsWith("!s:"))return a;let h=a.split(":");if(h.length<4)return a;let d=this.services.services[+h[1]];if(null==d)return a;let f=d[+h[2]];if(null==f)return a;let p=a;switch(h[3]){case"i":p=f.time,h.length>4&&(p=this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(p,"")+h[4]);break;case"e":p=f.text,h.length>4&&(p=this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(p,"")+h[4])}return p}getMinText(a,h){return a.length<h.length?a:h}convertToServiceRef(a){if(a.startsWith("s:")||a.startsWith("c:"))return a;let h=a,d=Ch.getTextColor(a),f=this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(a,"");for(let p=0;p<this.services.services.length;p++){let g=this.services.services[p];for(let m=0;m<g.length;m++){let v=g[m];if(this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(v.text,"")==f)return this.getMinText(a,`s:${p}:${m}:e:${d}`);if(this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(v.time,"")==f)return this.getMinText(a,`s:${p}:${m}:i:${d}`)}}return h}generateSources(){let a=this.clericsToText(this.clerics.clerics,"==");return a+="--",a+=this.servicesToText(this.services.services,"=="),a}requestClearScheduler(a=!0){a?this.dateUpdater&&this.dateUpdater.requestForUpdate():this.dateUpdater&&this.dateUpdater.changed()}onClearScheduler(){this.calendarPrazdnikiSvc.load().then(a=>{this.onClearSchedulerRaw()})}breakLines(a,h){let f=a.split(" "),p="",g=0;for(let m=0;m<f.length;++m){g>=39&&(p+="\n",g=0);let v=f[m];v.length+g+(g>0?1:0)>39?0==g?(p+=h,p+=v,p+="\n",g=0):(p+="\n"+h,p+=v,g=v.length):(g>0?(p+=" ",g+=1):p+=h,p+=v,g+=v.length)}return p}\u0443\u0431\u0440\u0430\u0442\u044c\u0412\u0441\u0435\u041c\u0430\u0440\u043a\u0435\u0440\u044b(a){let h=/\{[a-z\u0430-\u044fA-Z\u0410-\u042f0-9]\}/g;return a.split("\n").map(d=>d.includes("\u0442")?d:d.replace(h,"")).map(d=>d.trim()).join("\n")}\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(a,h){return Ch.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(a,h)}getClericsForDayOfWeek(a){return this.clerics.clerics.filter(d=>d.week[a]).map(d=>d.name).join(",")}getRangServices(a){let h=this.services.services[a-1];return null==h&&(h=[]),h}getServicesColorsText(a){return a.split("\n").map(h=>Ch.getTextColor(h)).join("\n")}getServiceColor(a,h){return a.requiredService?"{\u043f}":h}getDateFromString(a){let h=a.split(".");return new Date(+h[2],+h[1]-1,+h[0])}onClearSchedulerRaw(){let a=this.currentDate.split("."),d=+a[1],f=+a[2];this.days=[];for(let p=1;p<=31;p++){let g=new Date;if(g.setDate(1),g.setFullYear(f),g.setMonth(d-1,p),g.getMonth()+1!=d)break;let m=g.getDay(),_=p+"\n"+["\u0412\u0421","\u041f\u041d","\u0412\u0422","\u0421\u0420","\u0427\u0422","\u041f\u0422","\u0421\u0411"][m],y=this.calendarPrazdnikiSvc.getPrazdnikiFor(f,d-1,p),b=y.length?y[0]:t_.builder().setRang(1).setText("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0430"),O=this.isState()?m||7:m?0:6,C=this.isState()?"":b.\u0446\u0432\u0435\u0442\u0421\u043b\u0443\u0436\u0431\u044b(O),S=this.breakLines(b.text,C),w=this.getRangServices(this.isState()?O:b.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0420\u0430\u043d\u0433(O)),x=this.getClericsForDayOfWeek(m?m-1:m+6),T=new Date;T.setDate(1),T.setFullYear(f),T.setMonth(d-1,p+1);let D=T.getDay(),k=this.calendarPrazdnikiSvc.getPrazdnikiFor(f,T.getMonth(),T.getDate()),P=k.length?k[0]:t_.builder().setRang(1).setText("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0430"),N=this.isState()?D||7:D?0:6,F=P.\u0446\u0432\u0435\u0442\u0421\u043b\u0443\u0436\u0431\u044b(N),L=this.getRangServices(b.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0420\u0430\u043d\u0433(N)),$=w.filter(B=>B.morningService).map(B=>B.getNormalizedText()+this.getServiceColor(B,C)).map(B=>B||"{1}").concat(L.filter(B=>!B.morningService).map(B=>B.getNormalizedText()+this.getServiceColor(B,F)).map(B=>B||"{1}")).join("\n"),U=w.filter(B=>B.morningService).map(B=>B.getNormalizedTime()+this.getServiceColor(B,C)).map(B=>B||"{1}").concat(L.filter(B=>!B.morningService).map(B=>B.getNormalizedTime()+this.getServiceColor(B,F)).map(B=>B||"{1}")).join("\n"),z=w.filter(B=>B.morningService).map(B=>this.getServiceColor(B,C)).map(B=>B||"{1}").concat(L.filter(B=>!B.morningService).map(B=>this.getServiceColor(B,F)).map(B=>B||"{1}")).join("\n"),ee=w.filter(B=>B.morningService).map(B=>B.selectedClerics).map(B=>B||"{1}").concat(L.filter(B=>!B.morningService).map(B=>B.selectedClerics).map(B=>B||"{1}")).join("\n");_=this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(_,C);let te=U.split("\n").map(B=>this.\u0443\u0431\u0440\u0430\u0442\u044c\u0412\u0441\u0435\u041c\u0430\u0440\u043a\u0435\u0440\u044b(B).trim()).map(B=>B?x:"").join("\n");this.days.push(i_.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u043d\u0433(b.rang).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0435\u043d\u044c(_).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a(S).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u043b\u0443\u0436\u0431\u0443($).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u0440\u0435\u043c\u044f(U).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438(y).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u043e\u0432(this.isState()?ee:te).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442\u0430\u0421\u043b\u0443\u0436\u0431(z))}this.updateTextHeader(),this.config.post(()=>this.startEditDate(!0))}updateTextHeader(){let h=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],d=this.getDateFromString(this.currentDate),f=this.getDateFromString(this.startDate),p=this.getDateFromString(this.endDate),g="";if(this.isState()){let m=this.calendarSchedulerSvc.getMonthsDaysCount(d.getFullYear(),d.getMonth());g=f.getDate()>1||p.getDate()<m?`\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0430 ${h[d.getMonth()]} \u0441 ${f.getDate()} \u043f\u043e ${p.getDate()}`:`\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0430 ${h[d.getMonth()]}`}else g=`\u0420\u0410\u0421\u041f\u0418\u0421\u0410\u041d\u0418\u0415 \u0411\u041e\u0413\u041e\u0421\u041b\u0423\u0416\u0415\u041d\u0418\u0419{\u043a}\n${["\u042f \u041d \u0412 \u0410 \u0420 \u042c","\u0424 \u0415 \u0412 \u0420 \u0410 \u041b \u042c","\u041c \u0410 \u0420 \u0422","\u0410 \u041f \u0420 \u0415 \u041b \u042c","\u041c \u0410 \u0419","\u0418 \u042e \u041d \u042c","\u0418 \u042e \u041b \u042c","\u0410 \u0412 \u0413 \u0423 \u0421 \u0422","\u0421 \u0415 \u041d \u0422 \u042f \u0411 \u0420 \u042c","\u041e \u041a \u0422 \u042f \u0411 \u0420 \u042c","\u041d \u041e \u042f \u0411 \u0420 \u042c","\u0414 \u0415 \u041a \u0410 \u0411 \u0420 \u042c"][d.getMonth()]}{\u043a}`;this.textHeader.setText(g,!1)}parseScheduler(a){this.svgs=[];let h=a.split(/~~+/).map(p=>p.trim()),d=h[0].split(/==+/).map(p=>p.trim()),f=d[0].split("|");if(this.currentDate=f[0],f.length>1&&this.onCalendarStartDateChanged(f[1],!1),f.length>2&&this.onCalendarEndDateChanged(f[2],!1),h.length>1&&this.parseSources(h[1]),this.fullSchedulerInfoType=+d[1],this.textHeader.setText(d[2],!1),this.textFooter.setText(d[d.length-1],!1),this.days=[],this.fullSchedulerInfoType==Ka.State){let p=this.getDateFromString(this.startDate);for(let g=1;g<p.getDate();++g)this.days.push(i_.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u043d\u0433(0).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0435\u043d\u044c("").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u0440\u0435\u043c\u044f("").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u043b\u0443\u0436\u0431\u0443("").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u043e\u0432("").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a("").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442\u0430\u0421\u043b\u0443\u0436\u0431(""))}for(let p=3;p+1<d.length;++p){let m=d[p].split(/--+/),v=_=>this.unpackWithSources(_<m.length?m[_].trim():"");this.days.push(this.fullSchedulerInfoType==Ka.State?i_.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u043d\u0433(+v(0)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0435\u043d\u044c(v(1)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u0440\u0435\u043c\u044f(v(2)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u043b\u0443\u0436\u0431\u0443(v(3)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u043e\u0432(v(4)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a(v(5)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442\u0430\u0421\u043b\u0443\u0436\u0431(v(6)):i_.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u043d\u0433(+v(0)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0435\u043d\u044c(v(1)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a(v(2)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u043b\u0443\u0436\u0431\u0443(v(3)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u0440\u0435\u043c\u044f(v(4)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u043e\u0432(v(5)).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442\u0430\u0421\u043b\u0443\u0436\u0431(v(6)))}if(this.fullSchedulerInfoType==Ka.State){let p=this.getDateFromString(this.endDate);for(let g=this.days.length;g<p.getDate();++g)this.days.push(i_.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0420\u0430\u043d\u0433(0).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0414\u0435\u043d\u044c("").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0412\u0440\u0435\u043c\u044f("").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u043b\u0443\u0436\u0431\u0443("").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u043e\u0432("").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a("").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442\u0430\u0421\u043b\u0443\u0436\u0431(""))}this.startEditDate()}startEditDate(a=!1){let h=this.days[this.currentDayOfMonth()-1];this.dayRang=h.\u0440\u0430\u043d\u0433,this.textDay.setText(h?h.\u0434\u0435\u043d\u044c:"",!1),this.textHoliday.setText(h?h.\u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a:"",!1),this.textService.setText(h?h.\u0441\u043b\u0443\u0436\u0431\u0430:"",!1),this.textTime.setText(h?h.\u0432\u0440\u0435\u043c\u044f:"",!1);let d=this.currentDate.split("."),f=+d[0],p=+d[1],g=+d[2];this.calendarPrazdnikiSvc.load().then(m=>{let v=this.calendarPrazdnikiSvc.getPrazdnikiFor(g,p-1,f);this.prazdnikiData=nL.builder().setPrazdniki(v)}),this.onDayServicesSync(),this.onTextChanged(a)}onDayServicesSync(){let a=this.days[this.currentDayOfMonth()-1],h=a.\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u0438.split("\n").map(g=>this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(g,"")).map(g=>g.trim()).map(g=>"\u0412\u0421\u0415"!=g?g:this.clerics.clerics.map(m=>m.name).join(",")),d=a.\u0432\u0440\u0435\u043c\u044f.split("\n").map(g=>g.trim());this.dayServices.services=[a.\u0441\u043b\u0443\u0436\u0431\u0430.split("\n").map(g=>g.trim()).map((g,m)=>YC.builder().setText(g).setTime((g=>g<d.length?d[g]:"")(m)).setMorningService(!g.includes("{\u0432}")).setRequiredService(g.includes("{\u0442}")).setSelectedClerics((g=>g<h.length?h[g]:"")(m)).setServiceColor(Ch.getTextColor(g)))]}onPrint(){window.print()}setCurrentSettings(a){let h=this.settings.find(d=>d.name==a);h&&this.setCurrentSettingsDirect(h)}setCurrentSettingsDirect(a){this.parseScheduler(a.text)}getAllCurrentSettings(){let a={};return a.text=this.generateSchedulers(!0,!1,!0),a}settingsFromString(a){try{return JSON.parse(a)}catch{}return[]}onSaveCurrentSettings(a=!0){let h=this.getAllCurrentSettings();h.name=this.pCurrentSettingsName.value;let d=!1;for(let f=0;f<this.settings.length;f++)this.settings[f].name==h.name&&(this.settings[f]=h,d=!0);!d&&a&&this.settings.push(h),this.uiConfig.ui.schedulerAllVariants.setStringValue(JSON.stringify(this.settings)),this.modalSaveSettingsFlag=!1}onLoadSettingsDefault(){this.config.post(()=>{this.onLoadSettingsDefaultRaw()})}unpack(a){for(var h=[],d=0;d<a.length;d++){var f=a.charCodeAt(d);h.push(255&f)}return h}onLoadSettingsDefaultRaw(){this.settings=this.settingsFromString(this.uiConfig.ui.schedulerAllVariants.getStringValue());let a="",h=!1;this.settings.forEach(f=>{f.name==this.currentSettingsName&&(h=!0),!a&&f.name&&(a=f.name)}),!h&&a&&(this.currentSettingsName=a),this.onLoadClericsOrDefault(),this.onLoadServicesOrDefault();let d=()=>{this.settings&&0!=this.settings.length?this.setCurrentSettings(this.currentSettingsName):this.onClearScheduler()};if(pageRequestedDoc){let f=p=>{this.config.addAlert(Bi.of("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430\u044f (\u0431\u0438\u0442\u0430\u044f) \u0441\u0441\u044b\u043b\u043a\u0430.","OK",15)),d()};try{let p=atob(this.decodeUri(pageRequestedDoc)),g=new Uint8Array(this.unpack(p));this.zipSvc.unzip(g,{},(m,v)=>{"t.txt"==m&&v.files[m].async("string").then(_=>{this.config.post(()=>{this.setCurrentSettingsDirect(JSON.parse(_))})})},f)}catch(p){f(p)}}else d()}onLoadEmptyServices(){this.services=n_.builder().setServices([]),this.onSaveServices(this.services.services)}onLoadServicesOrDefault(a=!1){let h=this.uiConfig.ui.schedulerServices.getStringValue();(a||!h)&&(h="\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f. \u0423\u0422\u0420\u0415\u041d\u042f. 1 \u0427\u0410\u0421|17.00|\u0432\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f|7.40|\u0443\n\u041c\u043e\u043b\u0435\u0431\u0435\u043d. \u041b\u0438\u0442\u0438\u044f||\u0443\n\u0422\u0440\u0435\u0431\u043d\u044b\u0439||\u0432\u0442\n==\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f. \u0423\u0422\u0420\u0415\u041d\u042f. 1 \u0427\u0410\u0421|17.00|\u0432\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f|7.40|\u0443\n\u041c\u043e\u043b\u0435\u0431\u0435\u043d. \u041b\u0438\u0442\u0438\u044f||\u0443\n\u0422\u0440\u0435\u0431\u043d\u044b\u0439||\u0432\u0442\n==\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f. \u0423\u0422\u0420\u0415\u041d\u042f. 1 \u0427\u0410\u0421|17.00|\u0432\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f|7.40|\u0443\n\u041c\u043e\u043b\u0435\u0431\u0435\u043d. \u041b\u0438\u0442\u0438\u044f||\u0443\n\u0422\u0440\u0435\u0431\u043d\u044b\u0439||\u0432\u0442\n==\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f. \u0423\u0422\u0420\u0415\u041d\u042f. 1 \u0427\u0410\u0421|17.00|\u0432\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f|7.40|\u0443\n\u041c\u043e\u043b\u0435\u0431\u0435\u043d. \u041b\u0438\u0442\u0438\u044f||\u0443\n\u0422\u0440\u0435\u0431\u043d\u044b\u0439||\u0432\u0442\n==\n\u0412\u0415\u0427\u0415\u0420\u041d\u042f. \u0423\u0422\u0420\u0415\u041d\u042f. 1 \u0427\u0410\u0421|17.00|\u0432\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f|7.40|\u0443\n\u041c\u043e\u043b\u0435\u0431\u0435\u043d. \u041b\u0438\u0442\u0438\u044f||\u0443\n\u0422\u0440\u0435\u0431\u043d\u044b\u0439||\u0432\u0442\n==\n\u0412\u0421\u0415\u041d\u041e\u0429\u041d\u041e\u0415 \u0411\u0414\u0415\u041d\u0418\u0415|17.00|\u0432\n\u0412\u043e\u0434\u043e\u0441\u0432\u044f\u0442\u043d\u044b\u0439 \u043c\u043e\u043b\u0435\u0431\u0435\u043d.|8.00|\u0443\n\u0427\u0410\u0421\u042b. \u041b\u0418\u0422\u0423\u0420\u0413\u0418\u042f|8.40|\u0443\n\u041b\u0438\u0442\u0438\u044f||\u0443\n\u0422\u0440\u0435\u0431\u043d\u044b\u0439||\u0432\u0442\n    "),this.services=n_.builder().setServices(this.parserServices(h)),this.onSaveServices(this.services.services)}onLoadClericsOrDefault(a=!1){let h=this.uiConfig.ui.schedulerClerics.getStringValue();(a||!h)&&(h="\u043e. \u0418\u043c\u044f\u0420\u0435\u043a|false|true|false|true|false|true|true"),this.clerics=iL.builder().setClerics(this.parserClerics(h))}onDeleteCurrentSettings(a){this.modalDeleteSettingsFlag=!0}onDeleteCurrentSettingsDirect(a){let h=this.pCurrentSettingsName.value;for(let d=0;d<this.settings.length;d++)if(this.settings[d].name==h){this.settings.splice(d,1);break}this.uiConfig.ui.schedulerAllVariants.setStringValue(JSON.stringify(this.settings)),this.currentSettingsName="",this.onLoadSettingsDefault(),this.modalDeleteSettingsFlag=!1}onAddAllSettingsDirect(a){this.calendarSettingsSvc.getNames("","scheduler","/scheduler").then(h=>{let d=h.names;if(this.settings=[],null!=d&&d.length>0&&d[0].names.length>0){let f=p=>{p<d.length?this.calendarSettingsSvc.getSource(d[p].names[0],"").then(g=>{if(g){let m={};m.text=g,m.name=d[p].name,this.settings.push(m)}f(p+1)}):(this.onSaveCurrentSettings(!1),this.onLoadSettingsDefault(),this.modalAddSettingsFlag=!1)};f(0)}else this.modalAddSettingsFlag=!1})}onSave(a){this.modalSaveSettingsFlag=!0}onExport(a){let h=this.getAllCurrentSettings().text;const d=(new Date).toISOString().split("T")[0];let f="txt";if(this.config.isPlatformAndroid())this.ks.addTempFile(`\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f.${f}`,h).then(p=>{ho.startDownload(p.fileName,`\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f.${d}.${f}`)});else{const p=new TextEncoder,g=new Blob([p.encode(h)],{type:"octet/stream"});ho.saveData(g,`\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f.${d}.${f}`)}}onImport(a){0!==a.target.files.length&&this.onImportFile(a.target.files[0])}onImportFile(a){if(!a)return;const h=new FileReader;h.onload=d=>{try{if(!h.result)throw new Error("FileReader is null.");let f=h.result.toString();this.parseScheduler(f)}catch(f){this.config.addAlert(Bi.of("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0444\u0430\u0439\u043b: "+f,"OK",30))}},h.readAsText(a)}onSaveSvg(a=1){null==this.svgs||this.svgs.filter(h=>!!h).length==this.extraPages.length+1||a<=3&&this.config.post(()=>this.onSaveSvg(a+1),1e3)}saveSvg(a,h){if(!this.extraPages.includes(h)&&h!=this.getMainPage()||null==this.svgs)return;let f=h.pageIndex;for(;f+1>this.svgs.length;)this.svgs.push("");this.svgs[f]=a,this.svgs.filter(p=>!!p).length>=this.schedulerPagesCount&&(this.generatingScheduler=!1,this.requestForGeneratingScheduler&&(this.requestForGeneratingScheduler=!1,this.generateAllSchedulers()))}removeDayTask(a,h){return a.split("\n").map(f=>f.trim()).filter(f=>h==f.includes("{\u0432}")).join("\n")}updateRangServices(a,h){this.textService.text=this.replaceServices(this.textService.text,!0,a,h,f=>f.text),this.textTime.text=this.replaceServices(this.textTime.text,!0,a,h,f=>f.time);let d=this.currentDayOfMonth()-1;if(d>0){let f=this.days[d-1];f.\u0441\u043b\u0443\u0436\u0431\u0430=this.replaceServices(f.\u0441\u043b\u0443\u0436\u0431\u0430,!1,a,h,p=>p.text),f.\u0432\u0440\u0435\u043c\u044f=this.replaceServices(f.\u0432\u0440\u0435\u043c\u044f,!1,a,h,p=>p.time)}}onSelectPrazdnik(a){let h=this.currentDate.split("."),d=+h[0],f=+h[1],p=+h[2],g=new Date;g.setDate(1),g.setFullYear(p),g.setMonth(f-1,d);let v=0==g.getDay()?6:0,_=a.\u0446\u0432\u0435\u0442\u0421\u043b\u0443\u0436\u0431\u044b(v),y=this.breakLines(a.text,_);this.textHoliday.setText(y),this.textDay.text=this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(this.textDay.text,_),this.dayRang=a.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0420\u0430\u043d\u0433(v),this.updateRangServices(a,v),this.onTextChanged()}parserServices(a,h=/==+/){return a.split(h).map(p=>p.trim()).filter(p=>!!p).map(p=>p.split("\n").map(g=>g.trim()).filter(g=>!!g).map(g=>{let m=g.split("|");return YC.builder().setText(m[0]).setTime(m[1]).setMorningService(!m[2].includes("\u0432")).setRequiredService(m[2].includes("\u0442")).setSelectedClerics(m[3]?m[3]:"")}))}parserClerics(a,h=/==+/){return a.split(h).map(f=>f.trim()).filter(f=>!!f).map(f=>{let p=f.split("|"),g=Lk.builder();p.length>0&&g.setName(p[0]);for(let m=1;m<p.length;++m)g.week[m-1]="true"==p[m];return g})}servicesToText(a,h){return a.map(f=>f.map(p=>`${p.text}|${p.time}|${(p.requiredService?"\u0442":"")+(p.morningService?"\u0443":"\u0432")}|${p.selectedClerics}`).join("\n")).join(h)}onSaveServices(a){let d=this.servicesToText(a,"==");d||(d="=="),this.uiConfig.ui.schedulerServices.setStringValue(d)}onClearServices(a,h){h?this.onLoadEmptyServices():this.onLoadServicesOrDefault(!0)}clericsToText(a,h){return a.map(f=>f.name+"|"+f.week.join("|")).join(h)}onSaveClerics(a){let h=this.clericsToText(a,"==");this.uiConfig.ui.schedulerClerics.setStringValue(h)}onClearClerics(a){this.onLoadClericsOrDefault(!0)}onSelectDayRang(a){this.dayRang=a;let h=t_.builder().setRang(this.dayRang),d=h.\u0446\u0432\u0435\u0442\u0421\u043b\u0443\u0436\u0431\u044b(),f=this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(this.textHoliday.text,d);this.textHoliday.setText(f),this.textDay.text=this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(this.textDay.text,d),this.updateRangServices(h,0),this.onTextChanged()}replaceServices(a,h,d,f,p){let g=d.\u0446\u0432\u0435\u0442\u0421\u043b\u0443\u0436\u0431\u044b(f),m=this.removeDayTask(a,h),_=this.services.services[d.\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0420\u0430\u043d\u0433(f)-1].filter(b=>b.morningService==h).map(b=>p(b)+(b.requiredService?"{\u043f}{\u0442}":g)+(h?"":"{\u0432}")).map(b=>b||"{1}").join("\n"),y=h?_:m;return(h?m:_)&&(y&&(y+="\n"),y+=h?m:_),y}onSaveDayServices(a){let h=this.days[this.currentDayOfMonth()-1];h&&(this.onTextChangedEnabled=!1,this.textService.text=h.\u0441\u043b\u0443\u0436\u0431\u0430=this.dayServices.services[0].map(d=>d.getNormalizedText()).join("\n"),this.textTime.text=h.\u0432\u0440\u0435\u043c\u044f=this.dayServices.services[0].map(d=>d.getNormalizedTime()).join("\n"),h.\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a\u0438=this.getDayClerics(),h.\u0446\u0432\u0435\u0442\u0430\u0421\u043b\u0443\u0436\u0431=this.dayServices.services[0].map(d=>d.serviceColor).join("\n"),this.updater&&this.updater.requestForUpdate(),this.onTextChangedEnabled=!0)}getDayClericsWithServiceColors(){return this.dayServices.services[0].map(a=>this.\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0426\u0432\u0435\u0442(a.selectedClerics,a.serviceColor)).join("\n")}getDayClerics(){return this.dayServices.services[0].map(a=>a.selectedClerics).join("\n")}onClearDayServices(a){this.config.post(()=>{this.onDayServicesSync()})}onSchedulerTypeToggle(){++this.fullSchedulerInfoType,this.fullSchedulerInfoType>Ka.State&&(this.fullSchedulerInfoType=Ka.Short),this.config.post(()=>this.generateAllSchedulers())}createPermanentLink(){var a=pi.merge(this.config.pageLoadedFrom,"/index.html");let h=this.getAllCurrentSettings();h.name=this.pCurrentSettingsName.value;let d=Ch.utf8_to_b64(JSON.stringify(h));a+="?app=scheduler&doc="+d;let f=JSON.stringify(h),p=new ro;p.addLetters(f),p.allLettersAdded();let g=new Nk(null),m=p.toText();if(m!=f)throw new Error("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u043d \u0442\u0435\u043a\u0441\u0442: "+m);g.reopen(!1),p.saveDictionary(g),new Blob([g.data.toArray()],{type:"octet/stream"}),this.zipSvc.zip([B1.builder().setFileName("t.txt").setContent(f)]).then(_=>{const y=this.encodeUri(btoa(String.fromCharCode(...new Uint8Array(_))));let b=atob(this.decodeUri(y)),O=new Uint8Array(_),C=new Uint8Array(this.unpack(b));for(let S=0;S<C.byteLength;S++)if(C[S]!=O[S]){console.log("bytes[i] != bytes0[i] at "+S);break}a=pi.merge(this.config.pageLoadedFrom,"/index.html"),a+="?app=scheduler&doc="+y,this.config.post(()=>{a.length<2e3?this.fullSchedulerInfoType==Ka.State&&(this.permanentLink=a):console.log(`\u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u0430\u044f. \u041d\u0435\u043b\u044c\u0437\u044f \u0435\u0451 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c: ${a.length}`)})})}onCopyPermanentLink(){this.permanentLink&&TG.copyTextToClipboard(this.permanentLink)}encodeUri(a){return a.replace(/[\\\+]/g,"_").replace(/[\/]/g,"$")}decodeUri(a){return a.replace(/[_]/g,"+").replace(/[$]/g,"/")}isNeedUpdate(a,h){let d=a?this.mainPage:this.previewPage;return null==d?.imageData||"/scenes/scheduler.scene.txt"!=d.imageData.scene||"Js"!=d.imageData.genName||d.imageData.type!=(a?2==this.fullSchedulerInfoType?297210:1:512)||d.imageData.schedulerText!=this.createScheduler(a)||d.imageData.logoText!=(2==this.fullSchedulerInfoType?"\u0448\u0442\u0430\u0442\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435":1==this.fullSchedulerInfoType?"\u043f\u043e\u043b\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435":"\u043a\u0440\u0430\u0442\u043a\u043e\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435")||0!=d.imageData.startPageIndex||d.imageData.showFooter!=h}getMainPage(a=!0){let h=!a;if(this.isNeedUpdate(a,h)){let f=v0.builder().setPageIndex(0).setImageData(ul.builder().setScene("/scenes/scheduler.scene.txt").setGenName("Js").setType(a?this.fullSchedulerInfoType==Ka.State?297210:1:512).setSvgWidth(a?this.fullSchedulerInfoType==Ka.State?297:210:512).setSvgHeight(a?this.fullSchedulerInfoType==Ka.State?210:297:512).setSchedulerText(this.createScheduler(a)).setLogoText(this.fullSchedulerInfoType==Ka.State?"\u0448\u0442\u0430\u0442\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435":this.fullSchedulerInfoType==Ka.Full?"\u043f\u043e\u043b\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435":"\u043a\u0440\u0430\u0442\u043a\u043e\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435").setStartPageIndex(0).setShowFooter(h));a?this.mainPage=f:this.previewPage=f,this.config.post(()=>{a?this.extraPages=[]:this.previewExtraPages=[]})}return a?this.mainPage:this.previewPage}isState(){return this.fullSchedulerInfoType==Ka.State}onStartEditScheduler(){this.readonly=!1}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt),V(Ys),V(km),V(Xh),V(CG),V(rke),V(kG),V(V1))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-scheduler-view"]],inputs:{data:"data"},decls:62,vars:18,consts:[["class","no-print",4,"ngIf"],[1,"clr-row","no-print","bottom-space"],[3,"ngClass",4,"ngIf"],[3,"data","pagesCount","svg",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"no-print",3,"clrModalOpen","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-body","height100px"],[3,"hidden"],["clrInput","",3,"placeholder","name","ngModel","ngModelChange"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","aria-label","warning",1,"btn","btn-icon","btn-warning"],["shape","warning-standard"],["type","button",1,"btn","btn-warning",3,"click"],["type","button","aria-label","warning",1,"btn","btn-icon","btn-success"],["shape","check"],["type","button",1,"btn","btn-success",3,"click"],[1,"no-print"],["role","alert",3,"ngClass"],[1,"alert-items"],[1,"alert-item","static"],[1,"alert-icon-wrapper"],[1,"alert-icon"],[1,"alert-text"],[1,"bottom-space"],["clrForm",""],["clrInline",""],[1,"clr-row","top-space"],[1,"clr-col-3"],["type","button","aria-label","done",1,"btn","btn-icon","btn-link","btn-block",3,"click"],[1,"btn","btn-link","btn-block"],["type","file","placeholder","\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c","accept",".txt",1,"button-input",3,"change"],["type","button","class","btn btn-icon btn-link redBtn btn-block","aria-label","warning",3,"click",4,"ngIf"],["type","radio","clrRadio","",3,"name","value","ngModel","ngModelChange"],["type","button","aria-label","warning",1,"btn","btn-icon","btn-link","redBtn","btn-block",3,"click"],[4,"clrIfExpanded"],[3,"data","autoSave","clerikDesc","onSave","onClear"],[3,"data","clerics","clericInfo","autoSave","serviceDesc","onSave","onClear","onReset"],[1,"clr-row","bottom-space","no-print","clr-hidden-md-down"],[1,"clr-col-6"],[1,"inline-block","top-space"],[3,"showDates","uniqueDateString","useUniqueDate","change"],[1,"clr-col-1"],[1,"clr-row"],[1,"clr-col-12"],[1,"clr-form"],[1,"clr-control-container"],["clrTextarea","","name","day","required","",1,"heightDay",3,"ngModel","ngModelChange"],[1,"clr-subtext"],[1,"clr-col-5"],["clrTextarea","","name","holiday","required","",1,"heightHoliday",3,"ngModel","ngModelChange"],[3,"data","singleRang","clerics","autoSave","clearBtn","serviceDesc","clericInfo","onSave","onClear"],[1,"clr-row","bottom-space","no-print","clr-hidden-lg-up","clr-hidden-sm-down"],["clrTextarea","","name","day","required","",1,"heightDay2",3,"ngModel","ngModelChange"],["clrTextarea","","name","holiday","required","",1,"heightHoliday2",3,"ngModel","ngModelChange"],[3,"data","singleRang","vertical","clerics","autoSave","clearBtn","serviceDesc","clericInfo","onSave","onClear"],[1,"clr-row","bottom-space","no-print","clr-hidden-md-up"],["clrTextarea","","name","day","required","",1,"heightDay3",3,"ngModel","ngModelChange"],["clrTextarea","","name","holiday","required","",1,"heightHoliday3",3,"ngModel","ngModelChange"],["class","clr-col-12 top-space",4,"ngIf"],["class","clr-col-12",4,"ngIf"],[1,"clr-row","no-print"],[1,"clr-col-6","bottom-space","clr-hidden-md-down"],["class","clr-row",4,"ngIf"],["class","clr-row",4,"ngFor","ngForOf"],[1,"clr-row","bottom-top-space"],[1,"btn","btn-block","btn-danger-outline","heightTAw",3,"click"],[1,"clr-col-6","bottom-space","clr-hidden-lg-up","clr-hidden-sm-down"],[1,"btn","btn-block","btn-danger-outline",3,"click"],[1,"clr-col-12","bottom-space","clr-hidden-md-up"],[1,"clr-col-6","clr-hidden-sm-down"],[3,"data",4,"ngIf"],[1,"clr-col-12","clr-hidden-md-up"],[1,"clr-col-12","top-space"],[3,"rang","rangChanged"],[3,"data","onSelected"],[1,"heightTAw"],["clrTextarea","","name","holiday","required","",1,"heightTA",3,"ngModel","ngModelChange"],[1,"heightTA2w"],["clrTextarea","","name","holiday","required","",1,"heightTA2",3,"ngModel","ngModelChange"],["clrTextarea","","name","holiday","required","",1,"heightTA3",3,"ngModel","ngModelChange"],[3,"data"],[3,"ngClass"],[1,"btn","btn-block","btn-link",3,"click"],[3,"data","pagesCount","svg"],[3,"data","svg"]],template:function(h,d){1&h&&(X(0,aAt,25,6,"div",0),X(1,bAt,13,2,"clr-accordion",0),E(2,"div")(3,"div",1),X(4,OAt,3,4,"div",2),X(5,CAt,3,5,"div",2),X(6,SAt,3,4,"div",2),M(),X(7,wAt,1,1,"app-svg-js-image",3),X(8,xAt,2,1,"div",4),M(),E(9,"clr-modal",5),Y("clrModalOpenChange",function(p){return d.modalClearSchedulerFlag=p}),E(10,"h3",6),H(11,"\u041e\u0447\u0438\u0441\u0442\u043a\u0430 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f"),M(),E(12,"div",7)(13,"p"),H(14,"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446 \u0438\u043b\u0438 \u0433\u043e\u0434 \u0431\u044b\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b \u0438\u043b\u0438 \u043f\u043e\u0441\u0442\u0443\u043f\u0438\u043b \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043e\u0447\u0438\u0441\u0442\u043a\u0443."),se(15,"br")(16,"br"),H(17," \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435?"),M()(),E(18,"div",8)(19,"button",9),Y("click",function(){return d.onClearScheduler(),d.modalClearSchedulerFlag=!1}),H(20,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),M(),E(21,"button",10),Y("click",function(){return d.modalClearSchedulerFlag=!1}),H(22,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M()()(),E(23,"clr-modal",5),Y("clrModalOpenChange",function(p){return d.modalSaveSettingsFlag=p}),E(24,"h3",6),H(25,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),M(),E(26,"div",11)(27,"form")(28,"clr-input-container",12)(29,"label"),H(30),M(),E(31,"input",13),Y("ngModelChange",function(p){return d.pCurrentSettingsName.value=p}),M()()()(),E(32,"div",8),X(33,TAt,2,0,"button",14),E(34,"button",10),Y("click",function(){return d.modalSaveSettingsFlag=!1}),H(35,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M()()(),E(36,"clr-modal",5),Y("clrModalOpenChange",function(p){return d.modalDeleteSettingsFlag=p}),E(37,"h3",6),H(38,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a"),M(),E(39,"div",7)(40,"p")(41,"button",15),se(42,"cds-icon",16),M(),H(43),M()(),E(44,"div",8)(45,"button",10),Y("click",function(){return d.modalDeleteSettingsFlag=!1}),H(46,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M(),E(47,"button",17),Y("click",function(p){return d.onDeleteCurrentSettingsDirect(p)}),H(48,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),M()()(),E(49,"clr-modal",5),Y("clrModalOpenChange",function(p){return d.modalAddSettingsFlag=p}),E(50,"h3",6),H(51,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a"),M(),E(52,"div",7)(53,"p")(54,"button",18),se(55,"cds-icon",19),M(),H(56," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e?"),M()(),E(57,"div",8)(58,"button",20),Y("click",function(p){return d.onAddAllSettingsDirect(p)}),H(59,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),M(),E(60,"button",10),Y("click",function(){return d.modalAddSettingsFlag=!1}),H(61,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M()()()),2&h&&(R("ngIf",!d.readonly),I(1),R("ngIf",!d.readonly),I(3),R("ngIf",!!d.permanentLink),I(1),R("ngIf",!d.readonly),I(1),R("ngIf",d.readonly),I(1),R("ngIf",!(null==d.mainPage||!d.mainPage.imageData)),I(1),R("ngForOf",d.extraPages),I(1),R("clrModalOpen",d.modalClearSchedulerFlag),I(14),R("clrModalOpen",d.modalSaveSettingsFlag),I(5),R("hidden",!d.pCurrentSettingsName.enabled),I(2),ut(d.pCurrentSettingsName.name),I(1),Cc("placeholder",d.pCurrentSettingsName.description),R("name","tparamsCurrentSettingsName")("ngModel",d.pCurrentSettingsName.value),I(2),R("ngIf",d.pCurrentSettingsName.value),I(3),R("clrModalOpen",d.modalDeleteSettingsFlag),I(7),Kt(" \u0423\u0434\u0430\u043b\u0438\u0442\u044c '",d.pCurrentSettingsName.value,"'?"),I(6),R("clrModalOpen",d.modalAddSettingsFlag))},dependencies:[ei,Gn,mn,gf,Nx,Vn,Vo,$o,Dx,Lr,$p,zp,pf,tO,KP,eO,Ez,pm,hf,mm,gm,vm,Np,Jh,za,H1,sa,Kh,Z1,Fo,Nc,Ic,TPt,MPt,XPt,dke,iAt],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}.my-button[_ngcontent-%COMP%]{border-color:#4aaed9;background-color:#4aaed9;color:#000}.width100[_ngcontent-%COMP%]{width:100%!important}.height100[_ngcontent-%COMP%]{height:100%!important}.height100px[_ngcontent-%COMP%]{height:100px}.height114px[_ngcontent-%COMP%]{height:114px}.height400[_ngcontent-%COMP%]{width:500px;height:200px}.heightDay[_ngcontent-%COMP%]{width:7vw;height:10em}.heightDay2[_ngcontent-%COMP%]{width:42vw;height:10em}.heightDay3[_ngcontent-%COMP%]{width:78vw;height:10em}.heightHoliday[_ngcontent-%COMP%]{width:37.3vw;height:10em}.heightHoliday2[_ngcontent-%COMP%]{width:42vw;height:10em}.heightHoliday3[_ngcontent-%COMP%]{width:78vw;height:10em}.heightService[_ngcontent-%COMP%]{width:30vw;height:10em}.heightService2[_ngcontent-%COMP%]{width:42vw;height:10em}.heightService3[_ngcontent-%COMP%]{width:78vw;height:10em}.heightTime[_ngcontent-%COMP%]{width:14.3vw;height:10em}.heightTime2[_ngcontent-%COMP%]{width:42vw;height:10em}.heightTime3[_ngcontent-%COMP%]{width:78vw;height:10em}.heightTA[_ngcontent-%COMP%]{width:45vw;height:10em}.heightTAw[_ngcontent-%COMP%]{width:45vw!important}.heightTA2[_ngcontent-%COMP%]{width:42vw;height:10em}.heightTA2w[_ngcontent-%COMP%]{width:42vw}.heightTA3[_ngcontent-%COMP%]{width:78vw;height:100px}@media print{.pagebreak[_ngcontent-%COMP%]{page-break-after:always}}.button-input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}"]})}return c})();class VG{constructor(){}static builder(){return new VG}}class $G extends ti{classes;id="";waitingForSenderId="";components=[];constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new $G("",null,null,VG.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setId(l){return this.id=l,this}setWaitingForSenderid(l){return this.waitingForSenderId=l,this}setComponents(l){return this.components=l,this}}class zG extends Qa{fineText=!1;pageBreakBefore=!1;pageBreakAfter=!1;printOnly=!1;noPrint=!1;sClasses=[];constructor(){super()}static builder(){return new zG}setFineText(l){return this.fineText=l,this.markChanged(),this}setPageBreakBefore(l){return this.pageBreakBefore=l,this.markChanged(),this}setPageBreakAfter(l){return this.pageBreakAfter=l,this.markChanged(),this}setPrintOnly(l){return this.printOnly=l,this.markChanged(),this}setNoPrint(l){return this.noPrint=l,this.markChanged(),this}addSClass(l){return this.sClasses.push(l),this.markChanged(),this}setSClasses(l){return this.sClasses=l,this.markChanged(),this}}class UG extends ti{classes;components=[];constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new UG("",null,null,zG.builder().setFineText(!0))}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setComponents(l){return this.components=l,this}}function DAt(c,l){if(1&c&&(E(0,"div",2),se(1,"app-add-component",3),M()),2&c){const a=l.$implicit;R("ngClass",Q().getColClass(a)),I(1),R("component",a)}}let MAt=(()=>{class c{config;data;get columnsData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a){this.config=a}get component(){return this.columnsData.components.length?this.columnsData.components[0]:null}get components(){return this.columnsData.components}get isRow(){return this.columnsData.classes.sClasses.findIndex((a,h,d)=>"clr-row"==a)>=0}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return this.columnsData.classes.getCurValue(()=>this.getClassesRaw())}getClassesRaw(){var a=this.columnsData.classes;let h={ftext:a.fineText,pageBreak:a.pageBreakAfter,pageBreakBefore:a.pageBreakBefore};return a.sClasses.filter(d=>"clr-row"!=d&&!d.startsWith("clr-col-")).forEach(d=>h[d]=!0),h}getColClass(a){let h=this.getColClassRaw(a);return a.detector.checkAndGetValue(h)}getColClassRaw(a){let h={},d=this.columnsData.components.length;return d>=1&&d<=12?h["clr-col-"+Math.floor(12/d)]=!0:h["clr-col"]=!0,h}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-columns"]],inputs:{data:"data"},decls:2,vars:1,consts:[[1,"clr-row",3,"click"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"component"]],template:function(h,d){1&h&&(E(0,"div",0),Y("click",function(p){return d.onClick(p)}),X(1,DAt,2,2,"div",1),M()),2&h&&(I(1),R("ngForOf",d.components))},dependencies:[ei,Gn,ic],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();class aL{text;children;constructor(l,a){this.text=l,this.children=a}static builder(){return new aL("",[])}setText(l){return this.text=l,this}setChildren(l){return this.children=l,this}addChild(l){return this.children.push(l),this}}class QG extends Qa{block=!1;outline=!1;type="primary";children=[];constructor(){super()}static builder(){return(new QG).setupDefault()}setBlock(l){return this.block=l,this.markChanged(),this}setOutline(l){return this.outline=l,this.markChanged(),this}setType(l){return this.type=l,this.markChanged(),this}setChildren(l){return this.children=l,this}addChild(l){return this.children.push(l),this}setupDefault(){return this.addChild(aL.builder().setText("\u0413\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435")).addChild(aL.builder().setText("\u041a\u043e\u043d\u0441\u043e\u043b\u044c\u043d\u044b\u0435"))}}class HG extends ti{classes;constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new HG("",null,null,QG.builder().setBlock(!0))}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}}function EAt(c,l){if(1&c){const a=Ae();E(0,"button",14),Y("click",function(){const f=ce(a).$implicit;return ue(Q(4).onClickButton(f))}),H(1),M()}if(2&c){const a=l.$implicit;I(1),ut(a.name)}}function PAt(c,l){if(1&c&&(E(0,"clr-dropdown")(1,"button",10),H(2),M(),E(3,"clr-dropdown-menu",12),X(4,EAt,2,1,"button",13),M()()),2&c){const a=l.$implicit;I(2),ut(a.name),I(2),R("ngForOf",a.items)}}function AAt(c,l){if(1&c&&(E(0,"clr-dropdown")(1,"button",10),H(2),M(),E(3,"clr-dropdown-menu",11)(4,"button",10),H(5),M(),X(6,PAt,5,2,"clr-dropdown",9),M()()),2&c){const a=l.$implicit;I(2),ut(a.name),I(3),ut(a.name),I(1),R("ngForOf",a.subGroups)}}function IAt(c,l){if(1&c&&(E(0,"clr-dropdown-menu",6)(1,"label",7),H(2,"\u041f\u0440\u0438\u043c\u0435\u0440\u044b"),M(),se(3,"div",8),X(4,AAt,7,3,"clr-dropdown",9),M()),2&c){const a=Q();I(4),R("ngForOf",a.examplesGroups)}}class kl{name;path;language;mentor;mentorLanguage;bookName;bookChapter;constructor(l,a,h,d="/compprod/examples/js_es5/M00_system.txt",f=ni.JsES5,p="",g=""){this.name=l,this.path=a,this.language=h,this.mentor=d,this.mentorLanguage=f,this.bookName=p,this.bookChapter=g}static builder(){return new kl("","","")}setName(l){return this.name=l,this}setPath(l){return this.path=l,this}setLanguage(l){return this.language=l,this}setMentor(l){return this.mentor=l,this}setMentorLanguage(l){return this.mentorLanguage=l,this}setBookName(l){return this.bookName=l,this}setBookChapter(l){return this.bookChapter=l,this}}class ga{name;items;subGroups;constructor(l="\u0411\u0435\u0437 \u0438\u043c\u0435\u043d\u0438",a=[],h=[]){this.name=l,this.items=a,this.subGroups=h}static builder(){return new ga}setName(l){return this.name=l,this}setItems(l){return this.items=l,this}addItem(...l){return this.items.push(...l),this}addGroups(...l){return this.subGroups.push(...l),this}}let RAt=(()=>{class c{config;uiConfig;cacheSvc;data;gExamplesGroups=[];get examplesGroups(){return this.gExamplesGroups.length||this.config.post(()=>this.setupExamples(),100),this.gExamplesGroups}makeGroup(a,...h){let f={"js-es5":"Javascript ES5","c-js":"C-Js","js-es6":"Javascript ES6",cyrillic:"\u041a\u0438\u0440\u0438\u043b\u043b\u0438\u0446\u0430"}[a];return f?ga.builder().setName(f).addGroups(...h):null}setupExamples(){this.gExamplesGroups.length||(this.gExamplesGroups=[this.makeGroup(ni.JsES5,ga.builder().setName("\u041d\u043e\u0432\u0430\u044f").addItem(kl.builder().setName("\u041d01 Js \u041f\u0440\u0438\u0432\u0435\u0442, \u043c\u0438\u0440").setPath("/compprod/examples/N01_jsn_helloWorld.txt").setLanguage(ni.JsES5),kl.builder().setName("\u041d01 Js \u041f\u0440\u0438\u0432\u0435\u0442, 2D \u0433\u0440\u0430\u0444\u0438\u043a\u0430").setPath("/compprod/examples/N01_jsn_helloGraphics.txt").setLanguage(ni.JsES5)),ga.builder().setName("\u0413\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435").addItem(kl.builder().setName("\u041303 Js \u041a\u0440\u0443\u0433").setPath("/compprod/examples/G03_js_movingCircle.txt").setLanguage(ni.JsES5)),ga.builder().setName("\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441").addItem(kl.builder().setName("\u041801 \u0412\u0432\u043e\u0434 \u0442\u0435\u043a\u0441\u0442\u0430").setPath("/compprod/examples/U01_jsn_inputText.txt").setLanguage(ni.JsES5),kl.builder().setName("\u041802 \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043a\u0430\u0441\u0430\u043d\u0438\u0439").setPath("/compprod/examples/U02_jsn_inputTouches.txt").setLanguage(ni.JsES5)),ga.builder().setName("\u0423\u0440\u043e\u043a\u0438").addItem(kl.builder().setName("\u042301 \u0423\u0440\u043e\u043a \u043f\u0435\u0440\u0432\u044b\u0439").setPath("/compprod/examples/L01_jsn_default.txt").setLanguage(ni.JsES5).setMentor("/compprod/examples/M01_jsn_mentor.txt").setMentorLanguage(ni.JsES5))),this.makeGroup(ni.JsES6,ga.builder().setName("\u041d\u043e\u0432\u0430\u044f").addItem(),ga.builder().setName("\u0413\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435").addItem(kl.builder().setName("\u041305 Js-Std \u0413\u0440\u0430\u0444\u0438\u043a\u0438").setPath("/compprod/examples/G05_js_std_graphics.txt").setLanguage(ni.JsES6),kl.builder().setName("\u041306 Js-Std \u041a\u0440\u0443\u0433").setPath("/compprod/examples/G06_js_std_movingCircle.txt").setLanguage(ni.JsES6)),ga.builder().setName("\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441").addItem(),ga.builder().setName("\u0423\u0440\u043e\u043a\u0438").addItem()),this.makeGroup(ni.CJs,ga.builder().setName("\u041d\u043e\u0432\u0430\u044f").addItem(),ga.builder().setName("\u0413\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435").addItem(kl.builder().setName("\u041301 \u041a\u0432\u0430\u0434\u0440\u0430\u0442").setPath("/compprod/examples/G01_movingRect.txt"),kl.builder().setName("\u041302 \u041a\u0440\u0443\u0433").setPath("/compprod/examples/G02_movingCircle.txt"),kl.builder().setName("\u041304 \u0413\u0440\u0430\u0444\u0438\u043a\u0438").setPath("/compprod/examples/G04_graphics.txt")),ga.builder().setName("\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441").addItem(),ga.builder().setName("\u0423\u0440\u043e\u043a\u0438").addItem()),this.makeGroup(ni.Cyrillic,ga.builder().setName("\u041d\u043e\u0432\u0430\u044f").addItem(),ga.builder().setName("\u0413\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435").addItem(kl.builder().setName("\u041a01 \u041a\u0438\u0440\u0438\u043b\u043b\u0438\u0446\u0430").setPath("/compprod/examples/K01_cirillic.txt").setLanguage(ni.Cyrillic),kl.builder().setName("\u041a02 \u041c\u043e\u0434\u0443\u043b\u044c\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b").setPath("/compprod/examples/K02_unittests.txt").setLanguage(ni.Cyrillic),kl.builder().setName("\u041a03 \u041f\u0430\u0440\u0441\u0435\u0440").setPath("/compprod/examples/K03_cirillicParser.txt").setLanguage(ni.Cyrillic)),ga.builder().setName("\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441").addItem(),ga.builder().setName("\u0423\u0440\u043e\u043a\u0438").addItem())].filter(a=>!!a).map(a=>a))}get btnData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:"\u041f\u0435\u0440\u0432\u0430\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u043d\u043e\u043f\u043a\u0430"}get type(){return this.data&&this.data.classes.type?this.data.classes.type:""}constructor(a,h,d){this.config=a,this.uiConfig=h,this.cacheSvc=d}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}onClickButton(a){this.cacheSvc.getText(a.path,h=>{h&&(this.uiConfig.ui.compilerSourceText.setStringValue(h),this.uiConfig.ui.compilerSourceLanguage.setStringValue(a.language),this.uiConfig.ui.compilerMentor.setStringValue(a.mentor),this.uiConfig.ui.compilerMentorLanguage.setStringValue(a.mentorLanguage),this.data?.onClick&&this.data.onClick(a.path))})}getClasses(){return this.btnData.classes.getCurValue(()=>this.getClassesRaw())}getClassesRaw(){var a=this.btnData.classes;return{btn:!0,"btn-block":a.block,"btn-link":"link"==a.type&&!a.outline,"btn-primary":"primary"==a.type&&!a.outline,"btn-primary-outline":"primary"==a.type&&a.outline,"btn-success":"success"==a.type&&!a.outline,"btn-success-outline":"success"==a.type&&a.outline,"btn-danger":"danger"==a.type&&!a.outline,"btn-danger-outline":"danger"==a.type&&a.outline,"no-print":!0}}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(Jl))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-button-examples"]],inputs:{data:"data"},decls:7,vars:0,consts:[[1,"clr-row"],[1,"clr-col-12"],[1,"btn-block","st"],["clrDropdownTrigger","",1,"btn","btn-link","btn-block"],["shape","angle","direction","down"],["clrPosition","top-left",4,"clrIfOpen"],["clrPosition","top-left"],["aria-hidden","true",1,"dropdown-header"],["role","separator","aria-hidden","true",1,"dropdown-divider"],[4,"ngFor","ngForOf"],["clrDropdownTrigger",""],["clrPosition","right-bottom"],["clrPosition","left-bottom"],["clrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["clrDropdownItem","",3,"click"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"div",1)(2,"clr-dropdown",2)(3,"button",3),H(4," \u041f\u0440\u0438\u043c\u0435\u0440\u044b "),se(5,"cds-icon",4),M(),X(6,IAt,5,1,"clr-dropdown-menu",5),M()()())},dependencies:[Gn,Vn,Hb,Lr,Cm,lO,cO,aO],styles:[".st[_ngcontent-%COMP%]{margin-top:7px}"]})}return c})();class LAt{Dictionary(){return lL.builder()}Card(){return WG.builder()}}class lL{fileName;name;indexLang;contentsLang;cards;tag;cs;constructor(l,a,h,d,f,p,g){this.fileName=l,this.name=a,this.indexLang=h,this.contentsLang=d,this.cards=f,this.tag=p,this.cs=g}static builder(){return new lL("","","","",[],{},!1)}setFileName(l){return this.fileName=l,this}setName(l){return this.name=l,this}setIndexLanguage(l){return this.indexLang=l,this}setContentsLanguage(l){return this.contentsLang=l,this}setCards(l){return this.cards=l,this}setTag(l){return this.tag=l,this}setCs(l){return this.cs=l,this}}class WG{words;translations;constructor(l,a){this.words=l,this.translations=a}static builder(){return new WG([],[])}setWords(l){return this.words=l,this}setTranslations(l){return this.translations=l,this}}class ZG{translations;cs;constructor(l,a){this.translations=l,this.cs=a}static builder(){return new ZG([],!1)}setTranslations(l){return this.translations=l,this}setCs(l){return this.cs=l,this}}class NAt{dictionaries=[];parse(l){return dictionaryParserStatic.parse(l,{builder:new LAt})}addDictionary(l,a,h){let d=this.parse(l),f={};return d&&d.cards.forEach(g=>{g.words.forEach(m=>f[m]=g.translations)}),d.setTag(f).setCs(a).setFileName(h),this.dictionaries.push(d),!!d}standardDictionariesLoading(l,a){a.getText("/dev/dictionaries/greek_ru/Dvor_abrv.dsl",h=>{h?this.addDictionary(h,!1,"Dvor_abrv")?a.getText("/dev/dictionaries/greek_ru/Dvor.dsl",d=>{d?this.addDictionary(d,!1,"Dvor")?a.getText("/dev/dictionaries/cs_ru/chu-rus_ShortChurch1_0-GD.dsl",f=>{if(f){let p=this.addDictionary(f,!0,"chu_rus_short");l(p?null:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0441\u043b\u043e\u0432\u0430\u0440\u044c.")}else l(f?null:"\u0421\u043b\u043e\u0432\u0430\u0440\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.")}):l("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0441\u043b\u043e\u0432\u0430\u0440\u044c."):l(d?null:"\u0421\u043b\u043e\u0432\u0430\u0440\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.")}):l("\u0421\u043b\u043e\u0432\u0430\u0440\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d."):l(h?null:"\u0421\u043b\u043e\u0432\u0430\u0440\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.")})}load(l,a,h){0==this.dictionaries.length&&h?a.getBinary("/translations/translations.zip",d=>{d?(new V1).unzip(d,{},(p,g,m,v)=>{g.files[p].async("string").then(_=>{let y=JSON.parse(_);this.dictionaries.push(lL.builder().setName(y.name).setFileName(y.fileName).setCs(y.cs).setTag(y.tag)),this.dictionaries.length==v.length&&l(null)})},p=>{this.standardDictionariesLoading(l,a)}):this.standardDictionariesLoading(l,a)}):l(null)}getTranslations(l){let a=null;return this.dictionaries.forEach(h=>{let d=h.tag[l];d&&(null==a&&(a=[]),a.push(ZG.builder().setTranslations(d).setCs(h.cs)))}),a}}class jG{constructor(){}static builder(){return new jG}}class GG extends ti{classes;id="";waitingForSenderId="";components=[];constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new GG("",null,null,jG.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setId(l){return this.id=l,this}setWaitingForSenderid(l){return this.waitingForSenderId=l,this}setComponents(l){return this.components=l,this}}const FAt=["myCanvas"];function BAt(c,l){if(1&c&&(E(0,"div")(1,"span",12),H(2," \u0417\u0430\u0433\u0440\u0443\u0436\u0430\u044e... "),M(),se(3,"clr-progress-bar",13),M()),2&c){const a=Q();I(3),R("clrValue",a.donePersantage)}}function VAt(c,l){if(1&c){const a=Ae();E(0,"img",17),Y("click",function(){const f=ce(a).$implicit;return ue(Q(2).onImageSelect(f))}),M()}if(2&c){const a=l.$implicit,h=Q(2);R("src",a.link,Rd)("width",a.fullSize?h.pictureSize:128)("height",a.fullSize?h.pictureSize:128)}}function $At(c,l){if(1&c&&(E(0,"div",14)(1,"div",15),X(2,VAt,1,3,"img",16),M()()),2&c){const a=Q();I(2),R("ngForOf",a.imageLinks)}}function zAt(c,l){if(1&c){const a=Ae();E(0,"clr-accordion-panel")(1,"clr-accordion-title"),H(2,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),M(),E(3,"clr-accordion-content")(4,"form",18)(5,"clr-input-container")(6,"label"),H(7,"\u0420\u0430\u0437\u043c\u0435\u0440"),M(),E(8,"input",19),Y("ngModelChange",function(d){return ce(a),ue(Q().iPictureSize=d)}),M()(),E(9,"clr-range-container",20)(10,"label"),H(11),M(),E(12,"input",21),Y("ngModelChange",function(d){return ce(a),ue(Q().renderParams.iSizeDeflator=d)}),M()(),E(13,"clr-range-container",20)(14,"label"),H(15),M(),E(16,"input",22),Y("ngModelChange",function(d){return ce(a),ue(Q().renderParams.ikH=d)}),M()(),E(17,"clr-range-container",20)(18,"label"),H(19),M(),E(20,"input",23),Y("ngModelChange",function(d){return ce(a),ue(Q().renderParams.ikHlow=d)}),M()(),E(21,"clr-range-container",20)(22,"label"),H(23),M(),E(24,"input",24),Y("ngModelChange",function(d){return ce(a),ue(Q().renderParams.ikW=d)}),M()(),E(25,"clr-range-container",20)(26,"label"),H(27),M(),E(28,"input",25),Y("ngModelChange",function(d){return ce(a),ue(Q().renderParams.ikCW=d)}),M()(),E(29,"clr-range-container",20)(30,"label"),H(31),M(),E(32,"input",26),Y("ngModelChange",function(d){return ce(a),ue(Q().renderParams.ikDelta=d)}),M()(),E(33,"clr-input-container")(34,"label"),H(35,"\u0426\u0432\u0435\u0442 \u043a\u0440\u0435\u0441\u0442\u0430"),M(),E(36,"input",27),Y("ngModelChange",function(d){return ce(a),ue(Q().renderParams.sColor=d)}),M()(),E(37,"clr-input-container")(38,"label"),H(39,"\u0426\u0432\u0435\u0442 \u0444\u043e\u043d\u0430"),M(),E(40,"input",28),Y("ngModelChange",function(d){return ce(a),ue(Q().renderParams.sBgColor=d)}),M()(),E(41,"clr-toggle-container",29)(42,"clr-toggle-wrapper")(43,"input",30),Y("ngModelChange",function(d){return ce(a),ue(Q().renderParams.bGoldDivision=d)}),M(),E(44,"label"),H(45,"\u0417\u043e\u043b\u043e\u0442\u043e\u0435 \u0421\u0435\u0447\u0435\u043d\u0438\u0435"),M()(),E(46,"clr-toggle-wrapper")(47,"input",31),Y("ngModelChange",function(d){return ce(a),ue(Q().renderParams.bExtraBorder=d)}),M(),E(48,"label"),H(49,"\u0417\u0421 (\u043a\u043e\u043d\u0442\u0443\u0440\u043d\u044b\u0439)"),M()()()(),E(50,"button",11),Y("click",function(){return ce(a),ue(Q().resetSettings())}),H(51,"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"),M()()()}if(2&c){const a=Q();I(8),R("ngModel",a.iPictureSize),I(1),R("clrRangeHasProgress",!0),I(2),Kt("kSize = ",a.renderParams.iSizeDeflator,""),I(1),R("ngModel",a.renderParams.iSizeDeflator),I(1),R("clrRangeHasProgress",!0),I(2),Kt("kH = ",a.renderParams.ikH,""),I(1),R("ngModel",a.renderParams.ikH)("disabled",a.renderParams.bGoldDivision),I(1),R("clrRangeHasProgress",!0),I(2),Kt("kHlow = ",a.renderParams.ikHlow,""),I(1),R("ngModel",a.renderParams.ikHlow)("disabled",a.renderParams.bGoldDivision),I(1),R("clrRangeHasProgress",!0),I(2),Kt("kW = ",a.renderParams.ikW,""),I(1),R("ngModel",a.renderParams.ikW)("disabled",a.renderParams.bGoldDivision),I(1),R("clrRangeHasProgress",!0),I(2),Kt("kCW = ",a.renderParams.ikCW,""),I(1),R("ngModel",a.renderParams.ikCW)("disabled",a.renderParams.bGoldDivision),I(1),R("clrRangeHasProgress",!0),I(2),Kt("kDelta = ",a.renderParams.ikDelta,""),I(1),R("ngModel",a.renderParams.ikDelta),I(4),R("ngModel",a.renderParams.sColor),I(4),R("ngModel",a.renderParams.sBgColor),I(3),R("ngModel",a.renderParams.bGoldDivision),I(4),R("ngModel",a.renderParams.bExtraBorder)("disabled",!a.renderParams.bGoldDivision),I(3),R("disabled",a.rendering)}}class UAt{link;name;data=null;fullSize=!1;constructor(l,a){this.link=l,this.name=a}}class xn{x;y;constructor(l,a){this.x=l,this.y=a}middle(l){return new xn((this.x+l.x)/2,(this.y+l.y)/2)}sub(l){return new xn(this.x-l.x,this.y-l.y)}addSet(l){return this.x+=l.x,this.y+=l.y,this}mulSet(l){return this.x*=l.x,this.y*=l.y,this}}class Zf{point;round;point1;point2;constructor(l,a,h,d){this.point=l,this.round=a,this.point1=h,this.point2=d}}class QAt{strokeAndFillStyle;fileName;w;h;drawBorder0;drawBorder;drawGolgofa;kH;kW;kHlow;kDelta;lineWidth;bgColor;ks;kCrossWidth;goldDivision;extraGold;extraBorder;sizeDeflator;onChange;constructor(l,a,h,d,f,p,g,m,v,_,y,b,O,C=1,S=1,w=!1,x=!0,T=!1,D=.6,k=(()=>{})){this.strokeAndFillStyle=l,this.fileName=a,this.w=h,this.h=d,this.drawBorder0=f,this.drawBorder=p,this.drawGolgofa=g,this.kH=m,this.kW=v,this.kHlow=_,this.kDelta=y,this.lineWidth=b,this.bgColor=O,this.ks=C,this.kCrossWidth=S,this.goldDivision=w,this.extraGold=x,this.extraBorder=T,this.sizeDeflator=D,this.onChange=k}changed(){this.onChange&&this.onChange()}setFrom(l){return["strokeAndFillStyle","fileName","w","h","drawBorder0","drawBorder","drawGolgofa","kH","kW","kHlow","kDelta","lineWidth","bgColor","ks","kCrossWidth","goldDevision","extraGold","extraBorder","sizeDeflator"].forEach(a=>this[a]=l[a]),this}setOnChange(l=(()=>{})){return this.onChange=l,this}get ikH(){return this.fromNumbertoIValue(this.kH)}set ikH(l){this.fromIValueToNumber(l,"kH")}get ikHlow(){return this.fromNumbertoIValue(this.kHlow)}set ikHlow(l){this.fromIValueToNumber(l,"kHlow")}get ikW(){return this.fromNumbertoIValue(this.kW)}set ikW(l){this.fromIValueToNumber(l,"kW")}get ikCW(){return this.fromNumbertoIValue(this.kCrossWidth)}set ikCW(l){this.fromIValueToNumber(l,"kCrossWidth")}get ikDelta(){return this.fromNumbertoIValue(this.kDelta,.1)}set ikDelta(l){this.fromIValueToNumber(l,"kDelta",.1)}get sBgColor(){return this.bgColor}set sBgColor(l){this.bgColor=l,this.onChange()}get sColor(){return this.strokeAndFillStyle}set sColor(l){this.strokeAndFillStyle=l,this.onChange()}get bGoldDivision(){return this.goldDivision}set bGoldDivision(l){this.goldDivision=l,this.onChange()}get bExtraBorder(){return this.extraBorder}set bExtraBorder(l){this.extraBorder=l,this.onChange()}get iSizeDeflator(){return this.fromNumbertoIValue(this.sizeDeflator,1)}set iSizeDeflator(l){this.fromIValueToNumber(l,"sizeDeflator",1)}fromNumbertoIValue(l,a=1){return Math.floor(100*Math.max(0,Math.min(1,l/a)))}fromIValueToNumber(l,a,h=1){this[a]=l/100*h,this.onChange()}generateFileName(){return"\u043a\u0440\u0435\u0441\u0442_"+this.bgColor+"_"+this.strokeAndFillStyle+(this.bGoldDivision?"_\u0417\u0421":"")+(this.bExtraBorder?"_\u041a":"")}}let HAt=(()=>{class c{uiConfig;config;themes;mathSvc;data;renderParams=null;fullSize=!1;sPictureSize="512";get iPictureSize(){return this.sPictureSize}set iPictureSize(a){this.sPictureSize=a,this.config.post(()=>{if(this.renderParams){let h=this.pictureSize;this.renderParams.w=h,this.renderParams.h=h,this.renderParams.changed()}},1)}get pictureSize(){let a=+this.iPictureSize;return Number.isInteger(a)&&a>0&&a<=512?+a:512}get settingsText(){return this.uiConfig.ui.crossSettings.getStringValue()}set settingsText(a){this.uiConfig.ui.crossSettings.setStringValue(a)}get crossData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}get component(){return this.crossData.components.length?this.crossData.components[0]:null}get components(){return this.crossData.components}constructor(a,h,d,f){this.uiConfig=a,this.config=h,this.themes=d,this.mathSvc=f}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}myCanvasRef=null;context=null;imageLinks=[];strokeAndFillStyle="";rendering=!1;donePersantage=0;ngAfterViewInit(){this.myCanvasRef&&(this.context=this.myCanvasRef.nativeElement.getContext("2d"),this.context&&(this.context.font="48px myUsc",this.context.textBaseline="middle",this.context.textAlign="center"),this.config.post(()=>{this.render()},1e3))}goldDivision(a){return 1/(a*(Math.sqrt(5)+1)/2)}render(){if(!this.context)return;this.rendering=!0,this.context.font="48px myUcs",this.context.textBaseline="middle",this.context.textAlign="center";let a=[1];this.imageLinks=[],this.goldDivision(1),this.strokeAndFillStyle="";let _=[];this.strokeAndFillStyle="gold",((S,w)=>{a.forEach(F=>{let L=!this.renderParams;this.renderParams=new QAt(this.strokeAndFillStyle,"\u043a\u0440\u0435\u0441\u0442_"+F,this.pictureSize,this.pictureSize,!1,!1,!1,.675,.46,.53,.06,F,"#000000",1,.77,!1,void 0,void 0,.6,()=>{!this.rendering&&this.renderParams&&(_=[this.renderParams],O=0,this.imageLinks=[],this.onSaveSettings(),C())});let $=this.settingsText;if(L&&$)try{let U=JSON.parse($);U&&(this.iPictureSize=U.iPictureSize?U.iPictureSize:"512",this.renderParams.setFrom(U))}catch{}_.push(this.renderParams)})})();let b=(S,w)=>{if(!this.context)return;let x=new UAt(this.context.canvas.toDataURL("image/png"),S);x.fullSize=this.fullSize,this.imageLinks.push(x),this.context.canvas.toBlob(function(T){x.data=T,w&&setTimeout(w,10)})},O=0,C=()=>{if(O>=_.length)return void(this.rendering=!1);let S=_[O++];this.strokeAndFillStyle=S.strokeAndFillStyle,this.renderInSize(this.pictureSize,this.pictureSize,S.drawBorder0,S.drawBorder,S.drawGolgofa,S.kH,S.kW,S.kHlow,S.kDelta,S.lineWidth,S.bgColor,S.ks,S.kCrossWidth,S.goldDivision,S.extraGold,S.extraBorder,S.sizeDeflator),b(S.generateFileName(),C),this.donePersantage=Math.round(O/_.length*100)};this.config.post(()=>C(),1)}renderInSize(a,h,d,f,p,g,m,v,_,y,b,O=1,C=1,S=!1,w=!0,x=!1,T=.6){if(!this.context)return;let D=this.context;const k=D.canvas.width,P=D.canvas.height,N=(k-a)/2,F=(P-h)/2;let $=Math.min(k,P)/10,U=Math.min(a,h)-0*$,z=U*T,ee=U*T,te=a/2-U/2,B=h/2-U/2,j=U*T*_;D.fillStyle=b,D.strokeStyle="",this.drawRect(te+N,B+F,U,U),d&&(D.beginPath(),D.rect(te+N+y/2,B+F+y/2,U-y,U-y),D.strokeStyle=this.getStrokeStyle(),D.lineWidth=y,D.strokeStyle=this.getStrokeStyle(),D.closePath(),D.stroke()),f&&(D.beginPath(),D.strokeStyle=this.getStrokeStyle(),D.lineWidth=y,this.drawRoundRect(te+N+y/2,B+F+y/2,U-y,U-y,.5),D.closePath(),D.stroke());let q=z*O;S?(this.drawCrossGold(te+N+(U-q)/2,B+F+(U-ee)/2,q,ee,j,g,m,v,w,0,""),x&&this.drawCrossGold(te+N+(U-q)/2,B+F+(U-ee)/2,q,ee,j,g,m,v,w,.6,b)):this.drawCross(te+N+(U-q)/2,B+F+(U-ee)/2,q,ee,j,g,m,v,C,C),p&&(this.drawGolgofa(te+N+(U-q)/2,B+F+(U-ee)/2,q,ee,j,g,m,v,b,"white"==b),this.drawText(te+N+(U-q)/2,B+F+(U-ee)/2,q,ee,j,g,m,v))}getFillStyle(a,h,d,f){if(this.strokeAndFillStyle||!this.context)return this.strokeAndFillStyle;let p=this.context;var g=1.5*Math.max(d,f);let m=.25*g/2;var v=p.createRadialGradient(a,h-m,.1,a,h-m,g);return v.addColorStop(0,"rgb(246,211,132)"),v.addColorStop(.5,"rgb(243,192,103)"),v.addColorStop(1,"rgb("+243*.6+","+192*.6+",61.8)"),v}getStrokeStyle(){return this.strokeAndFillStyle?this.strokeAndFillStyle:"rgb(242,169,78)"}drawText(a,h,d,f,p,g,m,v){if(!this.context)return;let _=d*m,y=f/12;this.context.font="bold "+y+"px ucs",this.context.fillText("\u0446\u0440\u0483\u044c",a+d/2-_/2*1.5,h),this.context.fillText("\u0441\u043b\u0483\u0432\u044b",a+d/2+_/2*1.5,h);let b=f*(1-g)/2+h+p;this.context.fillText("\u0406\u0483\u0421",a+_/4,b),this.context.fillText("\u0425\u0483\u0421",a+d-_/4,b);let O=f*(1-g)/2+h+5*p+y/2;this.context.fillText("\u0441\u043d\u0483\u044a",a+_/8,O),this.context.fillText("\u0431\u0436\u0483\u0457\u0439",a+d-_/8,O);let C=h+f*v-2*p;this.context.fillText("\u043d\u0438",a+d/2-_/3,C),this.context.fillText("\u043a\u0430",a+d/2+_/3,C);let S=.55*d,w=h+f*v;this.context.fillText("\u043a",a+d/2-S/2-1.5*p,w),this.context.fillText("\u0442",a+d/2+S/2+1.5*p,w);let x=f*(g/2),T=h+f*v+x-2*p;this.context.fillText("\u043c",a+d/2-_/2,T),this.context.fillText("\u043b",a+d/2+_/2,T);let D=h+f*v+x+p;this.context.fillText("\u0440",a+d/2-_/2,D),this.context.fillText("\u0431",a+d/2+_/2,D);let k=f+p+h-1-1.5*p;this.context.fillText("\u0433",a+d/2-S/2-1.5*p,k),this.context.fillText("\u0433",a+d/2+S/2+1.5*p,k);let P=h+f+4.5*p;this.context.fillText("\u0433",a+d/2-_/2,P),this.context.fillText("\u0430",a+d/2+_/2,P)}drawCross(a,h,d,f,p,g,m,v,_=1,y=1){if(!this.context)return;let b=this.context;b.fillStyle=this.getFillStyle(a+d/2,h+f/2,d,f),b.beginPath(),b.moveTo(a-p+d/2,h),b.lineTo(a-p+d/2,h+f),b.lineTo(a+p+d/2,h+f),b.lineTo(a+p+d/2,h),b.fill();let C=d*_;this.drawRect(a+(d-C)/2,f*(1-g)+h,C,p),this.drawRect(a+d*(1-m*y)/2,f*(1-g)/2+h-p/2,d*m*y,p);let w=d*m*_;this.drawRectAlpha(a+d/2-w/2,h+f*v,w,f*(g/2),p,.3927)}drawCrossGold(a,h,d,f,p,g,m,v,_=!1,y,b){if(!this.context)return;let O=this.context;O.fillStyle=b||this.getFillStyle(a+d/2,h+f/2,d,f);let C=_?p:0,S=p*y,w=z=>z-2*S;O.beginPath(),O.moveTo(a-p+d/2+S,h-C/2+S),O.lineTo(a-p+d/2+S,h+f+C/2-S),O.lineTo(a+p+d/2-S,h+f+C/2-S),O.lineTo(a+p+d/2-S,h-C/2+S),O.fill();let x=1/this.goldDivision(1),D=1*f/x+C;this.drawRect(a+(d-D)/2+S,f*(1-1/x)/x+h,w(D),p-S);let P=(1-1/x)*D+p;this.drawRect(a+(d-P)/2+S,f*(1-1/x)/x*(1-1/x)+h-(_?p/4:0),w(P),p-S);let F=.25*D+C,L=.25*f,$=1*f/x/2,U=Math.atan2(1-1/x,.5+p/(1*f/x));this.drawRectAlpha(a+d/2-F/2+S,h+(f-$)-L/2+S/Math.cos(U)/2,w(F),L-S,p-S,U),O.fillStyle=this.getFillStyle(a+d/2,h+f/2,d,f)}drawGolgofa(a,h,d,f,p,g,m,v,_,y=!1){if(!this.context)return;let b=.55*d,O=f+p+h-1;this.drawRect(a+(d-b)/2,O,b,p);let C=5*p;this.drawRect(a+(d/2-b/2-C+2*p),O+2*p,C,p),this.drawRect(a+(d/2+b/2-2*p),O+2*p,C,p);let S=2*p;this.drawRect(a+(d/2-b/2-C+2*p),O+4*p,S,p),this.drawRect(a+(d/2+b/2+C-4*p),O+4*p,S,p);let w=p/2,x=f*g*.8;this.drawRotatedRectAlpha(new xn(a+(d-b)/2+3*p,O),new xn(-w/2,-x),w,x,3.1415/28);let D=2.5;this.drawRotatedTriAlpha(new xn(a+(d-b)/2+3*p,O),new xn(0,-x-3*p),new xn(-p/2,0*p-x+1),new xn(+p/2,0*p-x+1),3.1415/28),this.drawRotatedTriAlpha(new xn(a+(d-b)/2+3*p,O),new xn(0,1*p-x),new xn(-p/2,0*p-x+1),new xn(+p/2,0*p-x+1),3.1415/28),this.drawRotatedTriAlpha(new xn(a+(d-b)/2+3*p,O),new xn(0,0*p-x),new xn(-p/D,1*p-x+1),new xn(+p/D,1*p-x+1),3.1415/28),this.drawRotatedTriAlpha(new xn(a+(d-b)/2+3*p,O),new xn(0,1*p-x),new xn(-p/D,2*p-x+1),new xn(+p/D,2*p-x+1),3.1415/28),this.drawRotatedRectAlpha(new xn(a+(d+b)/2-3*p,O),new xn(-w/2,-x),w,x,-3.1415/28),this.drawRotatedRoundRect(new xn(a+(d+b)/2-3*p,O-3*p+1),-p/2*1.7+w/2,-x,p/2*2*1.7,3*p,.9,-3.1415/28),this.drawRotatedTriAlpha(new xn(a+(d+b)/2-3*p,O),new xn(0,0*p-x),new xn(-p/D,1*p-x+1),new xn(+p/D,1*p-x+1),-3.1415/28);let P=1.75;if(this.context.lineWidth=3,y){let N=p/4;this.drawSkull(a+(d/2-P*p)-N,O+P*p-N,3.5*p+2*N,3.5*p+2*N,.78539,"white",!0);let F=this.context.strokeStyle,L=this.context.fillStyle;this.context.strokeStyle="white",this.context.fillStyle="white",N=0,this.drawSkull(a+(d/2-P*p)-N,O+P*p-N,3.5*p+2*N,3.5*p+2*N,.78539,L),this.context.strokeStyle=F,this.context.fillStyle=L}else this.drawSkull(a+(d/2-P*p),O+P*p,3.5*p,3.5*p,.78539,_)}drawSkull(a,h,d,f,p,g,m=!1){if(!this.context)return;let v=this.context.strokeStyle;this.context.strokeStyle=this.context.fillStyle,this.context.lineWidth=3,this.drawRotatedRoundRect(new xn(a+d/2,h+f/2),-d/2,-f/2,d,.7*f,1,p);let C=.5,S=C*d/2/2;this.drawRotatedRoundRect(new xn(a+d/2,h+f/2),-C*d/2+S,0*f,C*d,.4*f,.8,p);let w=this.context.fillStyle;if(this.context.fillStyle=g,!m){let x=1.15,T=2.5,k=d*C/3.8,P=1.4,N=.027*f;this.drawRoundRotatedTriAlpha(new xn(a+d/2,h+f/2),new xn(0+S,0*+f+N),new xn(-k+S,k*P+0*f+N),new xn(+k+S,k*P+0*f+N),p,.8),k=d*C/T;let F=1/5.7;this.drawRotatedRoundRect(new xn(a+d/2,h+f/2),-k*x/2+d*F+S,f*(.7-1)/2,k*x,k,1,p),this.drawRotatedRoundRect(new xn(a+d/2,h+f/2),-k*x/2-d*F+S,f*(.7-1)/2,k*x,k,1,p)}this.context.fillStyle=w,this.context.strokeStyle=v}rotate(a,h){return new xn(a.x*Math.cos(h)+a.y*Math.sin(h),-a.x*Math.sin(h)+a.y*Math.cos(h))}rotateArray(a,h){return new xn(a.x*Math.cos(h)+a.y*Math.sin(h),-a.x*Math.sin(h)+a.y*Math.cos(h))}drawRect(a,h,d,f){if(!this.context)return;let p=this.context;p.beginPath(),p.moveTo(a,h-f),p.lineTo(a,h+f+1),p.lineTo(a+d,h+f+1),p.lineTo(a+d,h-f),p.fill()}drawRectAlpha(a,h,d,f,p,g){if(!this.context)return;let m=this.context,v=p/Math.cos(g),_=d/2*Math.tan(g);m.beginPath(),m.moveTo(a,h+f/2-_-v),m.lineTo(a,h+f/2-_+v),m.lineTo(a+d,h+f/2+_+v),m.lineTo(a+d,h+f/2+_-v),m.fill()}drawRotatedRectAlpha(a,h,d,f,p){let g=[new xn(h.x,h.y),new xn(h.x,h.y+f+1),new xn(h.x+d,h.y+f+1),new xn(h.x+d,h.y)];this.drawRotatedPathAlpha(a,g,p)}drawRotatedPathAlpha(a,h,d){if(!this.context)return;let f=this.context;f.beginPath(),h.forEach((p,g)=>{let m=this.rotate(new xn(p.x,p.y),d);0==g?f.moveTo(m.x+a.x,m.y+a.y):f.lineTo(m.x+a.x,m.y+a.y)}),f.fill()}drawRotatedTriAlpha(a,h,d,f,p){if(!this.context)return;let g=this.context;g.beginPath();let m=this.rotate(new xn(h.x,h.y),p),v=this.rotate(new xn(d.x,d.y),p),_=this.rotate(new xn(f.x,f.y),p);g.moveTo(m.x+a.x,m.y+a.y),g.lineTo(v.x+a.x,v.y+a.y),g.lineTo(_.x+a.x,_.y+a.y),g.fill()}drawRoundRotatedTriAlpha(a,h,d,f,p,g=1){if(!this.context)return;let m=this.context;m.beginPath();let v=this.rotate(new xn(h.x,h.y),p),_=this.rotate(new xn(d.x,d.y),p),y=this.rotate(new xn(f.x,f.y),p),b=v.middle(_),O=_.middle(y),C=y.middle(v);v.addSet(a),_.addSet(a),y.addSet(a),b.addSet(a),O.addSet(a),C.addSet(a),m.moveTo(b.x,b.y);let S=_.sub(b).mulSet(new xn(g,g)).addSet(b),w=_.sub(O).mulSet(new xn(g,g)).addSet(O);m.bezierCurveTo(S.x,S.y,w.x,w.y,O.x,O.y);let x=y.sub(O).mulSet(new xn(g,g)).addSet(O),T=y.sub(C).mulSet(new xn(g,g)).addSet(C);m.bezierCurveTo(x.x,x.y,T.x,T.y,C.x,C.y);let D=v.sub(C).mulSet(new xn(g,g)).addSet(C),k=v.sub(b).mulSet(new xn(g,g)).addSet(b);m.bezierCurveTo(D.x,D.y,k.x,k.y,b.x,b.y),m.fill()}drawRotatedCircleAlpha(a,h,d,f){if(!this.context)return;let p=this.context,g=this.rotate(new xn(h.x,h.y),f);p.beginPath(),p.arc(g.x+a.x,g.y+a.y,d,0,6.28314,!1),p.fill()}drawRotatedRoundRect(a,h,d,f,p,g,m){let v=f/2*g,_=p/2*g,y=[new Zf(new xn(h+f/2,d),!1,null,null),new Zf(new xn(h+v,d),!1,null,null),new Zf(new xn(h,d+_),!0,new xn(h,d),null),new Zf(new xn(h,d+p-_),!1,null,null),new Zf(new xn(h+v,d+p),!0,new xn(h,d+p),null),new Zf(new xn(h+f-v,d+p),!1,null,null),new Zf(new xn(h+f,d+p-_),!0,new xn(h+f,d+p),null),new Zf(new xn(h+f,d+_),!1,null,null),new Zf(new xn(h+f-v,d),!0,new xn(h+f,d),null),new Zf(new xn(h+f/2,d),!1,null,null)];this.drawRotatedRoundPath(a.x,a.y,y,m,!0)}drawRoundRect(a,h,d,f,p,g){if(!this.context)return;let m=this.context;m.beginPath();let v=d/2*p,_=f/2*p;m.moveTo(a+d/2,h),m.lineTo(a+v,h),m.quadraticCurveTo(a,h,a,h+_),m.lineTo(a,h+f-_),m.quadraticCurveTo(a,h+f,a+v,h+f),m.lineTo(a+d-v,h+f),m.quadraticCurveTo(a+d,h+f,a+d,h+f-_),m.lineTo(a+d,h+_),m.quadraticCurveTo(a+d,h,a+d-v,h),m.lineTo(a+d/2,h),g?m.fill():m.stroke()}drawRotatedRoundPath(a,h,d,f=0,p=!1){if(!this.context)return;let g=this.context;g.beginPath(),d.forEach((m,v)=>{let _=this.rotateArray(new xn(m.point.x,m.point.y),f);if(0==v)g.lineTo(a+_.x,h+_.y);else if(m.round){if(null==m.point2&&m.point1){let y=this.rotateArray(new xn(m.point1.x,m.point1.y),f);g.quadraticCurveTo(a+y.x,h+y.y,a+_.x,h+_.y)}else if(m.point1&&m.point2){let y=this.rotateArray(new xn(m.point2.x,m.point2.y),f),b=this.rotateArray(new xn(m.point1.x,m.point1.y),f);g.bezierCurveTo(a+b.x,h+b.y,a+y.x,h+y.y,a+_.x,h+_.y)}}else g.lineTo(a+_.x,h+_.y)}),p?g.fill():g.stroke()}downloadAllImages(){if(this.rendering)return;const a=new nm;this.imageLinks.forEach(h=>{a.file(h.name+".png",h.data)}),a.generateAsync({type:"blob"}).then(h=>{const d=new Blob([h],{type:"octet/stream"});ho.saveData(d,"\u043b\u043e\u0433\u043e\u0442\u0438\u043f\u044b_\u043a\u0440\u0435\u0441\u0442\u043e\u0432.zip")})}onImageSelect(a){this.imageLinks.forEach(h=>{h!=a&&(h.fullSize=!1)}),a.fullSize=this.fullSize=!this.fullSize}onSaveSettings(){let a={...this.renderParams};a.iPictureSize=this.iPictureSize;let h=JSON.stringify(a);this.settingsText=h}resetSettings(){this.renderParams=null,this.iPictureSize="512",this.settingsText="",this.config.post(()=>{this.render()})}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt),V(Ys),V(km))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-cross-view"]],viewQuery:function(h,d){if(1&h&&si(FAt,5),2&h){let f;Ht(f=Wt())&&(d.myCanvasRef=f.first)}},inputs:{data:"data"},decls:19,vars:7,consts:[[1,"clr-row"],[1,"clr-col-12"],[1,"main"],[1,"myUcs","center",3,"hidden","click"],["myCanvas",""],[1,"clr-row","bottom-top-space"],[1,"clr-col-12","center"],[1,"cursor",3,"click"],[4,"ngIf"],["class","myContainer w100",4,"ngIf"],[1,"no-print","s0","top-space"],[1,"btn","btn-link","greenBtn","btn-block","ucs","center","top-space",3,"disabled","click"],[1,"spinner"],["clrSuccess","","clrLabeled","",3,"clrValue"],[1,"myContainer","w100"],[1,"content-container","centeredImage"],["class","cursor",3,"src","width","height","click",4,"ngFor","ngForOf"],[1,"cursor",3,"src","width","height","click"],["clrForm",""],["clrInput","","type","text","name","iPuctureSize",3,"ngModel","ngModelChange"],[3,"clrRangeHasProgress"],["type","range","clrRange","","name","sizeDeflator",3,"ngModel","ngModelChange"],["type","range","clrRange","","name","kH",3,"ngModel","disabled","ngModelChange"],["type","range","clrRange","","name","kHlow",3,"ngModel","disabled","ngModelChange"],["type","range","clrRange","","name","kW",3,"ngModel","disabled","ngModelChange"],["type","range","clrRange","","name","kCW",3,"ngModel","disabled","ngModelChange"],["type","range","clrRange","","name","kDelta",3,"ngModel","ngModelChange"],["clrInput","","type","text","name","color",3,"ngModel","ngModelChange"],["clrInput","","type","text","name","bgColor",3,"ngModel","ngModelChange"],["clrInline",""],["type","checkbox","clrToggle","","name","goldDivision","value","goldDivision",3,"ngModel","ngModelChange"],["type","checkbox","clrToggle","","name","extraBorder","value","extraBorder",3,"ngModel","disabled","ngModelChange"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"canvas",3,4),Y("click",function(){return d.render()}),M()(),E(5,"div",0)(6,"div",1)(7,"div",5)(8,"div",6),H(9," \u041b\u0443\u043a.9:23 \u041a\u043e \u0432\u0441\u0435\u043c \u0436\u0435 \u0441\u043a\u0430\u0437\u0430\u043b: \u0435\u0441\u043b\u0438 \u043a\u0442\u043e \u0445\u043e\u0447\u0435\u0442 \u0438\u0434\u0442\u0438 \u0437\u0430 \u041c\u043d\u043e\u044e, \u043e\u0442\u0432\u0435\u0440\u0433\u043d\u0438\u0441\u044c \u0441\u0435\u0431\u044f, "),E(10,"span",7),Y("click",function(){return d.downloadAllImages()}),H(11,"\u0438 \u0432\u043e\u0437\u044c\u043c\u0438 \u043a\u0440\u0435\u0441\u0442 \u0441\u0432\u043e\u0439, \u0438 \u0441\u043b\u0435\u0434\u0443\u0439 \u0437\u0430 \u041c\u043d\u043e\u044e."),M()()(),X(12,BAt,4,1,"div",8),X(13,$At,3,1,"div",9),E(14,"clr-accordion",10),X(15,zAt,52,29,"clr-accordion-panel",8),M(),E(16,"div")(17,"button",11),Y("click",function(){return d.downloadAllImages()}),H(18,"\u0412\u0437\u044f\u0442\u044c \u043a\u0440\u0435\u0441\u0442"),M()()()()()()),2&h&&(I(3),R("hidden",!0),Je("width",d.pictureSize+"px")("height",d.pictureSize+"px"),I(9),R("ngIf",d.rendering),I(1),R("ngIf",!d.rendering),I(2),R("ngIf",d.renderParams),I(2),R("disabled",d.rendering))},dependencies:[Gn,mn,Lr,$p,rd,rv,id,zp,pf,Qlt,Jme,pm,hf,mm,gm,vm,Np,uO,Jh,za,D$,rh,sa,Kh,Fo,Nc],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}.myContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}.centeredImage[_ngcontent-%COMP%]{inset:0;max-width:100%;max-height:100%;margin:auto;overflow:auto}"]})}return c})();class cL{text;children;constructor(l,a){this.text=l,this.children=a}static builder(){return new cL("",[])}setText(l){return this.text=l,this}setChildren(l){return this.children=l,this}addChild(l){return this.children.push(l),this}}class XG extends Qa{block=!1;outline=!1;type="primary";children=[];constructor(){super()}static builder(){return(new XG).setupDefault()}setBlock(l){return this.block=l,this.markChanged(),this}setOutline(l){return this.outline=l,this.markChanged(),this}setType(l){return this.type=l,this.markChanged(),this}setChildren(l){return this.children=l,this}addChild(l){return this.children.push(l),this}setupDefault(){return this.addChild(cL.builder().setText("c-js")).addChild(cL.builder().setText("js-es5"))}}class YG extends ti{classes;constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new YG("",null,null,XG.builder().setBlock(!0))}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}}function WAt(c,l){if(1&c){const a=Ae();E(0,"button",11),Y("click",function(){const f=ce(a).$implicit;return ue(Q(2).onClickButton(f.path,f.language))}),H(1),M()}if(2&c){const a=l.$implicit;I(1),ut(a.name)}}function ZAt(c,l){if(1&c&&(E(0,"clr-dropdown-menu",7)(1,"label",8),se(2,"cds-icon",4),H(3," \u042f\u0437\u044b\u043a\u0438"),M(),se(4,"div",9),E(5,"clr-dropdown"),X(6,WAt,2,1,"button",10),M()()),2&c){const a=Q();I(6),R("ngForOf",a.languages)}}class KC{name;path;language;constructor(l,a,h){this.name=l,this.path=a,this.language=h}static builder(){return new KC("","","")}setName(l){return this.name=l,this}setPath(l){return this.path=l,this}setLanguage(l){return this.language=l,this}}let Oke=(()=>{class c{config;uiConfig;cacheSvc;data;languages=[KC.builder().setName("\u041a\u0438\u0440\u0438\u043b\u043b\u0438\u0446\u0430").setLanguage("cyrillic"),KC.builder().setName("C-Js").setLanguage("c-js"),KC.builder().setName("Js ES5").setLanguage("js-es5"),KC.builder().setName("Js ES6").setLanguage("js-es6")];get btnData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:"\u041f\u0435\u0440\u0432\u0430\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u043d\u043e\u043f\u043a\u0430"}get type(){return this.data&&this.data.classes.type?this.data.classes.type:""}get currentLanguage(){let a=this.uiConfig.ui.compilerSourceLanguage.getStringValue();a||(a="c-js");let h=this.languages.filter(d=>d.language==a);return h&&h.length?h[0].name:a}constructor(a,h,d){this.config=a,this.uiConfig=h,this.cacheSvc=d}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}onClickButton(a,h){this.uiConfig.ui.compilerSourceLanguage.setStringValue(h),this.data.onClick&&this.data.onClick(a)}getClasses(){return this.btnData.classes.getCurValue(()=>this.getClassesRaw())}getClassesRaw(){var a=this.btnData.classes;return{btn:!0,"btn-block":a.block,"btn-link":"link"==a.type&&!a.outline,"btn-primary":"primary"==a.type&&!a.outline,"btn-primary-outline":"primary"==a.type&&a.outline,"btn-success":"success"==a.type&&!a.outline,"btn-success-outline":"success"==a.type&&a.outline,"btn-danger":"danger"==a.type&&!a.outline,"btn-danger-outline":"danger"==a.type&&a.outline,"no-print":!0}}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(Jl))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-button-languages"]],inputs:{data:"data"},decls:8,vars:1,consts:[[1,"clr-row"],[1,"clr-col-12"],[1,"btn-block","st"],["clrDropdownTrigger","",1,"btn","btn-link","btn-block"],["shape","language"],["shape","angle","direction","down"],["clrPosition","top-left",4,"clrIfOpen"],["clrPosition","top-left"],["aria-hidden","true",1,"dropdown-header"],["role","separator","aria-hidden","true",1,"dropdown-divider"],["clrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["clrDropdownItem","",3,"click"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"div",1)(2,"clr-dropdown",2)(3,"button",3),se(4,"cds-icon",4),H(5),se(6,"cds-icon",5),M(),X(7,ZAt,7,1,"clr-dropdown-menu",6),M()()()),2&h&&(I(5),Kt("",d.currentLanguage," "))},dependencies:[Gn,Vn,Hb,Lr,Cm,lO,cO,aO],styles:[".st[_ngcontent-%COMP%]{margin-top:7px}"]})}return c})();class qG{constructor(){}static builder(){return new qG}}class $k extends ti{classes;object={};fieldName="name";description="\u0418\u043c\u044f";sDescription2="";shape="";shape2="";readonly=!1;keyboard=!1;set description2(l){this.sDescription2=l}get description2(){return this.sDescription2?this.sDescription2:this.description}constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new $k("",null,null,qG.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}setObject(l){return this.object=l,this}setFieldName(l){return this.fieldName=l,this}setDescription(l){return this.description=l,this}setDescription2(l){return this.description2=l,this}setShape(l){return this.shape=l,this}setShape2(l){return this.shape2=l,this}setReadonly(l){return this.readonly=l,this}toggleKeyboard(){this.keyboard=!this.keyboard}}function jAt(c,l){if(1&c&&(E(0,"div"),se(1,"app-dynamic-library-book",2),M()),2&c){const a=l.$implicit;I(1),R("data",a.book)}}class KG{book;text;constructor(l,a){this.book=l,this.text=a}static builder(){return new KG(Ta.builder().setHideUI(!0).setParallel(!0).setLinebreaks(!0).setLink(xa.builder().setTextIsPage(!0).setBookName("Mem").setChapter("1").setStartLine(0).setEndLine(1e3).setOnRoute(l=>{})),"")}setLineText(l){return this.text=l,this.book.setText(l),this}setAllLinesText(l){return this.text="\u0432\u0441\u0435",this.book.setText(l),this}}let JG=(()=>{class c{config;data;searchObject={search:""};dataSearchEditorData=$k.builder();linesOrig=[];lines=[];created=!1;get textSearchData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a){this.config=a}ngOnInit(){this.created=!0,this.dataSearchEditorData.setObject(this.searchObject).setDescription("\u041f\u043e\u0438\u0441\u043a").setDescription2("\u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0441\u043b\u043e\u0432\u043e").setFieldName("search").setShape("search").setReadonly(!1).setOnClick(f=>{this.onSearchText()});let a=this.searchObject.search,h=!1,d=()=>{if(!this.created)return;let f=this.searchObject.search,p=!1;f!==a&&(a=f,p=h=!0),h&&!p&&(h=!1,this.onSearchText()),this.config.post(d,3e3)};this.config.post(d,3e3)}ngOnDestroy(){this.created=!1}ngAfterViewInit(){this.config.post(()=>{this.linesOrig=this.textSearchData.text.split(/[\r\n]+/).filter(a=>!a.startsWith("--")&&!a.startsWith("//")).filter(a=>a.length),this.lines.unshift(KG.builder().setAllLinesText(this.linesOrig.join("\n")))})}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}onSearchText(){this.config.post(()=>{this.onSearchTextDirect()})}replaceString(a,h){let d=a.toLowerCase(),f=h.toLowerCase(),p="",g=0,m=0,v=-1;for(let _=0;_<this.textSearchData.config.prefixSpacesCount;++_)v=d.indexOf(" ",v+1);do{m=d.indexOf(f,g),m>=0&&m<=v&&(m=d.indexOf(f,m+f.length)),p+=a.substring(g,m>=0?m:void 0),m>=0&&(p+="{\u043a}",p+=a.substring(m,m+f.length),p+="{/\u043a}"),g=m>=0?m+f.length:-1}while(m>=0&&g<=a.length);return p}onSearchTextDirect(){let a=this.searchObject.search,h=a.trim().split(" ").filter(p=>p.length),d=h.map(p=>p.toLowerCase()),f=this.linesOrig.filter(p=>h.filter((g,m)=>p.toLowerCase().includes(d[m])).length==h.length).map(p=>h.reduce((g,m)=>this.replaceString(g,m),p)).join("\n");f||(f=a?"\u041d\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443":this.linesOrig.join("\n")),this.lines=[this.lines[0].setAllLinesText(f)]}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-text-searcher"]],inputs:{data:"data"},decls:7,vars:3,consts:[[1,"bottom-space"],["clrForm","","clrLayout","horizontal",1,"clr-hidden-xs-down"],[3,"data"],["clrForm","","clrLayout","vertical",1,"clr-hidden-sm-up"],[4,"ngFor","ngForOf"]],template:function(h,d){1&h&&(E(0,"div")(1,"div",0)(2,"form",1),se(3,"app-dynamic-form-input-editor",2),M(),E(4,"form",3),se(5,"app-dynamic-form-input-editor",2),M()(),X(6,jAt,2,1,"div",4),M()),2&h&&(I(3),R("data",d.dataSearchEditorData),I(2),R("data",d.dataSearchEditorData),I(1),R("ngForOf",d.lines))},styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();class eX extends Qa{prefixSpacesCount;constructor(l=1){super(),this.prefixSpacesCount=l}static builder(){return new eX}setPrefixSpacesCount(l){return this.prefixSpacesCount=l,this}}class uL extends ti{config;constructor(l,a,h,d){super(l,a,h),this.config=d}static builder(){return new uL("",null,null,eX.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.config),this}}class tX{constructor(){}static builder(){return new tX}}class nX extends ti{classes;id="";waitingForSenderId="";components=[];constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new nX("",null,null,tX.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setId(l){return this.id=l,this}setWaitingForSenderid(l){return this.waitingForSenderId=l,this}setComponents(l){return this.components=l,this}}var ct=function(c){return c[c.None=0]="None",c[c.WhiteKing=1]="WhiteKing",c[c.BlackKing=2]="BlackKing",c[c.WhiteQueen=3]="WhiteQueen",c[c.BlackQueen=4]="BlackQueen",c[c.WhiteBishop=5]="WhiteBishop",c[c.BlackBishop=6]="BlackBishop",c[c.WhiteKnight=7]="WhiteKnight",c[c.BlackKnight=8]="BlackKnight",c[c.WhiteRook=9]="WhiteRook",c[c.BlackRook=10]="BlackRook",c[c.WhitePawn=11]="WhitePawn",c[c.BlackPawn=12]="BlackPawn",c[c.WhitePawnOnWay=13]="WhitePawnOnWay",c[c.BlackPawnOnWay=14]="BlackPawnOnWay",c}(ct||{});class Lu{x;y;state;onChange;changed;constructor(l,a,h,d,f){this.x=l,this.y=a,this.state=h,this.onChange=d,this.changed=f}static builder(){return new Lu(-1,-1,ct.None,[],!1)}clone(){return Lu.builder().setX(this.x).setY(this.y).setState(this.state)}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setState(l,a=!0){return this.state=l,a&&(this.changed=!0),this}setChanged(l){return this.changed=l,this}isSame(l,a){return this.x>=0&&this.x<=7&&this.y>=0&&this.y<=7&&l==this.x&&a==this.y}setOnChange(l){return this.onChange=l,this}}class iX{from;to;onWay;after;capture;constructor(l,a,h,d,f){this.from=l,this.to=a,this.onWay=h,this.after=d,this.capture=f}static builder(){return new iX(Lu.builder(),Lu.builder(),[],[],!0)}setFrom(l){return this.from=l,this}setTo(l){return this.to=l,this}setOnWay(l){return this.onWay=l,this}setAfter(l){return this.after=l,this}setCapture(l){return this.capture=l,this}}class GAt{movesMap=new Map;kingProtectionConditions=[(l,a,h,d,f,p)=>{let g=l.map(_=>_.map(y=>y.clone()));g[h.y][h.x].setState(ct.None),g[a.y][a.x].setState(a.state);let m=this.getKingField(g,d,f);return 0==(m?this.getCaptureMovesSinglePoint(g,m):[]).length}];constructor(){[ct.WhitePawn,ct.BlackPawn].forEach(l=>this.movesMap.set(l,(a,h,d)=>this.getPawnPossibleMoves(a,h,d))),[ct.WhiteKnight,ct.BlackKnight].forEach(l=>this.movesMap.set(l,(a,h,d)=>this.getKnightPossibleMoves(a,h,d))),[ct.WhiteBishop,ct.BlackBishop].forEach(l=>this.movesMap.set(l,(a,h,d)=>this.getBishopPossibleMoves(a,h,d))),[ct.WhiteRook,ct.BlackRook].forEach(l=>this.movesMap.set(l,(a,h,d)=>this.getRookPossibleMoves(a,h,d))),[ct.WhiteQueen,ct.BlackQueen].forEach(l=>this.movesMap.set(l,(a,h,d)=>this.getQueenPossibleMoves(a,h,d))),[ct.WhiteKing,ct.BlackKing].forEach(l=>this.movesMap.set(l,(a,h,d)=>this.getKingPossibleMoves(a,h,d)))}getFigures(l,a){return l.flatMap(d=>d.filter(f=>a&&this.isWhiteFigure(f.state)||!a&&this.isBlackFigure(f.state))).filter(d=>!!d)}getKingField(l,a,h){let d=null,f=l.flatMap(p=>p.filter(g=>(a&&this.isWhiteFigure(g.state)||h&&this.isBlackFigure(g.state))&&this.isKing(g.state))).filter(p=>!!p);return f.length&&(d=f[0]),d}isIn(l,a){return this.validIndex(l)&&this.validIndex(a)}validIndex(l){return l>=0&&l<=7}isFigure(l,a=!1){return this.isWhiteFigure(l,a)||this.isBlackFigure(l,a)}isWhiteFigure(l,a=!1){let h=!1;switch(l){case ct.WhitePawnOnWay:h=a;break;case ct.WhiteKing:case ct.WhiteQueen:case ct.WhiteBishop:case ct.WhiteKnight:case ct.WhiteRook:case ct.WhitePawn:h=!0}return h}isWhitePassFigure(l){let a=!1;switch(l){case ct.WhiteQueen:case ct.WhiteBishop:case ct.WhiteKnight:case ct.WhiteRook:a=!0}return a}isKing(l){let a=!1;switch(l){case ct.WhiteKing:case ct.BlackKing:a=!0}return a}isPawn(l){let a=!1;switch(l){case ct.WhitePawn:case ct.BlackPawn:a=!0}return a}isBlackFigure(l,a=!1){let h=!1;switch(l){case ct.BlackPawnOnWay:h=a;break;case ct.BlackKing:case ct.BlackQueen:case ct.BlackBishop:case ct.BlackKnight:case ct.BlackRook:case ct.BlackPawn:h=!0}return h}isBlackPassFigure(l){let a=!1;switch(l){case ct.BlackQueen:case ct.BlackBishop:case ct.BlackKnight:case ct.BlackRook:a=!0}return a}getCaptureMovesSinglePoint(l,a){let h=l.map(m=>m.map(v=>v.clone()));h[a.y][a.x].setState(ct.None);let d=this.isWhiteFigure(a.state),f=this.isBlackFigure(a.state),p=h.flatMap(m=>m.filter(v=>d&&this.isBlackFigure(v.state)||f&&this.isWhiteFigure(v.state))),g=[];return p.forEach(m=>{this.getPossibleMoves(h,m,!0).forEach(_=>{_.capture&&_.to.x==a.x&&_.to.y==a.y&&g.push(_)})}),g}getPossibleMoves(l,a,h){let d=this.movesMap.get(a.state);return d?d(l,a,h):[]}getPawnPossibleMoves(l,a,h){let d=this.isWhiteFigure(a.state),f=this.isBlackFigure(a.state),p=d?1:f?-1:0,m=this.getPossibleMovesFromDirections(l,a,[{x:-1,y:p,valid:!0,capture:!0,captureEmptyField:h,captureOnWay:!0},{x:1,y:p,valid:!0,capture:!0,captureEmptyField:h,captureOnWay:!0}],h,1);if(!h){m.push(...this.getPossibleMovesFromDirections(l,a,[{x:0,y:p,valid:!0,capture:!1}],h,1));let _=[{x:0,y:p,valid:!0,capture:!1,onWay:[a.clone().setY(a.y+1*p).setState(d?ct.WhitePawnOnWay:f?ct.BlackPawnOnWay:a.state)]}];(d&&1==a.y||f&&6==a.y)&&m.push(...this.getPossibleMovesFromDirections(l,a,_,h,2,2))}return m}getKnightPossibleMoves(l,a,h){return this.getPossibleMovesFromDirections(l,a,[{x:-1,y:-2,valid:!0},{x:-1,y:2,valid:!0},{x:1,y:2,valid:!0},{x:1,y:-2,valid:!0},{x:-2,y:1,valid:!0},{x:-2,y:-1,valid:!0},{x:2,y:1,valid:!0},{x:2,y:-1,valid:!0}],h,1)}getBishopPossibleMoves(l,a,h){return this.getPossibleMovesFromDirections(l,a,[{x:-1,y:-1,valid:!0},{x:-1,y:1,valid:!0},{x:1,y:1,valid:!0},{x:1,y:-1,valid:!0}],h)}getRookPossibleMoves(l,a,h){return this.getPossibleMovesFromDirections(l,a,[{x:-1,y:0,valid:!0},{x:1,y:0,valid:!0},{x:0,y:-1,valid:!0},{x:0,y:1,valid:!0}],h)}getQueenPossibleMoves(l,a,h){return this.getPossibleMovesFromDirections(l,a,[{x:-1,y:-1,valid:!0},{x:-1,y:1,valid:!0},{x:1,y:1,valid:!0},{x:1,y:-1,valid:!0},{x:-1,y:0,valid:!0},{x:1,y:0,valid:!0},{x:0,y:-1,valid:!0},{x:0,y:1,valid:!0}],h)}getKingPossibleMoves(l,a,h){let f=this.getPossibleMovesFromDirections(l,a,[{x:-1,y:-1,valid:!0},{x:-1,y:1,valid:!0},{x:1,y:1,valid:!0},{x:1,y:-1,valid:!0},{x:-1,y:0,valid:!0},{x:1,y:0,valid:!0},{x:0,y:-1,valid:!0},{x:0,y:1,valid:!0}],h,1),p=this.isWhiteFigure(a.state);return[!0,!1].forEach(g=>{let v=[{x:g?-2:2,y:0,valid:!0,conditions:[(_,y,b)=>!_[b.y][b.x].changed&&!_[b.y][g?0:7].changed&&4==b.x&&b.y==(p?0:7),(_,y,b)=>(g?[1,2,3]:[5,6]).map(C=>_[b.y][C].state==ct.None).reduce((C,S)=>C&&S,!0),(_,y,b)=>0==this.getCaptureMovesSinglePoint(_,b).length,(_,y,b)=>0==this.getCaptureMovesSinglePoint(_,y).length,(_,y,b)=>{let O=Lu.builder().setX(g?3:5).setY(b.y).setState(b.state);return 0==this.getCaptureMovesSinglePoint(_,O).length}],after:[Lu.builder().setX(g?0:7).setY(p?0:7).setState(ct.None),Lu.builder().setX(g?3:5).setY(p?0:7).setState(p?ct.WhiteRook:ct.BlackRook)]}];f.push(...this.getPossibleMovesFromDirections(l,a,v,h,1))}),f}isUndOrTrue(l){return void 0===l||l}getPossibleMovesFromDirections(l,a,h,d,f=7,p=1){let g=[],m=this.isWhiteFigure(a.state),v=this.isBlackFigure(a.state),_=this.isKing(a.state);for(let y=p;y<=f;++y)h.forEach(b=>{if(b.valid){let O=b.x*y+a.x,C=b.y*y+a.y;if(this.isIn(O,C)){let S=l[C][O],w=this.isWhiteFigure(S.state,b.captureOnWay),x=this.isBlackFigure(S.state,b.captureOnWay),T=this.isKing(S.state),D=Lu.builder().setX(O).setY(C).setState(a.state);if((!_||_!=T)&&(this.isUndOrTrue(b.captureEmptyField)&&!w&&!x||this.isUndOrTrue(b.capture)&&(m&&x||v&&w))){let k=b.conditions?b.conditions:d?[]:this.kingProtectionConditions,P=!0;for(let N=0;N<k.length;++N)if(!k[N](l,D,a,m,v,_,w,x,T)){P=!1;break}b.valid&&P&&g.push(iX.builder().setFrom(a.clone()).setTo(D).setOnWay(b.onWay?b.onWay.map(N=>N.clone()):[]).setCapture(this.isUndOrTrue(b.capture)).setAfter(b.after?b.after:[]))}b.valid=b.valid&&!w&&!x}}});return g}isPawnPass(l,a,h){return this.isPawnPassByState(l[h][a].state,a,h)}isPawnPassByState(l,a,h){let d=this.isWhiteFigure(l),f=this.isBlackFigure(l);return this.isPawn(l)&&(d&&7==h||f&&0==h)}passPawn(l,a,h,d){let f=l[h][a],p=this.isWhiteFigure(f.state),g=this.isBlackFigure(f.state);if(!(p&&this.isWhitePassFigure(d)||g&&this.isBlackPassFigure(d)))throw new Error("\u041d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u043f\u0435\u0448\u043a\u0443.");f.setState(d).setChanged(!1).setOnChange([])}isCanMove(l,a){return this.getFigures(l,a).flatMap(p=>this.getPossibleMoves(l,p,!0).concat(this.getPossibleMoves(l,p,!1))).map(p=>{let g=l.map(v=>v.map(_=>_.clone()));return g[p.from.y][p.from.x].state=ct.None,g[p.to.y][p.to.x].state=p.to.state,this.isKingUnderAtack(g,a)?0:1}).reduce((p,g)=>p+g,0)>0}isKingUnderAtack(l,a){let h=this.getKingField(l,a,!a);return(h?this.getCaptureMovesSinglePoint(l,h):[]).length>0}getNotation(l){return null==l?"":["","K","k","Q","q","B","b","N","n","R","r","P","p","",""][l]}fromNotation(l,a=void 0){if(!l)return;let h="KQRNBPkqrnbp".indexOf(l),d=[ct.WhiteKing,ct.WhiteQueen,ct.WhiteRook,ct.WhiteKnight,ct.WhiteBishop,ct.WhitePawn],f=[ct.BlackKing,ct.BlackQueen,ct.BlackRook,ct.BlackKnight,ct.BlackBishop,ct.BlackPawn];return h>=0?[...void 0===a||a?d:f,...void 0!==a&&a?d:f][h]:ct.None}}class JC{text;id;constructor(l,a){this.text=l,this.id=a}static builder(){return new JC("","")}setText(l){return this.text=l,this}setId(l){return this.id=l,this}}class rX{onMessageHandler;onConnectedHandler;onErrorHandler;onClosedHandler;constructor(l=null,a=null,h=null,d=null){this.onMessageHandler=l,this.onConnectedHandler=a,this.onErrorHandler=h,this.onClosedHandler=d}static builder(){return new rX}setOnMessage(l=null){return this.onMessageHandler=l,this}setOnConnected(l=null){return this.onConnectedHandler=l,this}setOnErrorHandler(l=null){return this.onErrorHandler=l,this}setOnClosedHandler(l=null){return this.onClosedHandler=l,this}onMessage(l){this.onMessageHandler&&this.onMessageHandler(l)}onConnect(){this.onConnectedHandler&&this.onConnectedHandler()}onError(l){this.onErrorHandler&&this.onErrorHandler(l)}onClosed(l){this.onClosedHandler&&this.onClosedHandler(l)}}let XAt=(()=>{class c{static gid=0;socket=null;onConnectedHandler=null;onMessageHandler=null;onErrorHandler=null;onClosedHandler=null;id=c.gid++;setOnConnectedHandler(a){return this.onConnectedHandler=a,this}setOnMessageHandler(a){return this.onMessageHandler=a,this}setOnErrorHandler(a){return this.onErrorHandler=a,this}setOnClosedHandler(a){return this.onClosedHandler=a,this}log(a){console.log(this.id+": "+a)}loga(...a){console.log(this.id,...a)}start(a){return this.stop(),this.socket=new WebSocket(a),this.socket.onopen=()=>{this.log("\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e."),this.onConnectedHandler&&this.onConnectedHandler()},this.socket.onclose=h=>{this.log(h.wasClean?"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u043e \u0447\u0438\u0441\u0442\u043e":"\u041e\u0431\u0440\u044b\u0432 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f"),this.log("\u041a\u043e\u0434: "+h.code+" \u043f\u0440\u0438\u0447\u0438\u043d\u0430: "+h.reason+"; \u043f\u0440\u0438\u0447\u0438\u043d\u04302: "+this.getReason(h.code,h.reason)),this.onClosedHandler&&this.onClosedHandler(h.wasClean)},this.socket.onmessage=h=>{this.loga("\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435 ",h.data),this.onMessageHandler&&this.onMessageHandler(h.data)},this.socket.onerror=h=>{this.loga("\u041e\u0448\u0438\u0431\u043a\u0430 ",h),this.onErrorHandler&&this.onErrorHandler("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f.")},this}sendMessage(a){console.log(this.id+": \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e: "+a),this.socket?.send(a)}getReason(a,h){return 1e3==a?"Normal closure, meaning that the purpose for which the connection was established has been fulfilled.":1001==a?'An endpoint is "going away", such as a server going down or a browser having navigated away from a page.':1002==a?"An endpoint is terminating the connection due to a protocol error":1003==a?"An endpoint is terminating the connection because it has received a type of data it cannot accept (e.g., an endpoint that understands only text data MAY send this if it receives a binary message).":1004==a?"Reserved. The specific meaning might be defined in the future.":1005==a?"No status code was actually present.":1006==a?"The connection was closed abnormally, e.g., without sending or receiving a Close control frame":1007==a?"An endpoint is terminating the connection because it has received data within a message that was not consistent with the type of the message (e.g., non-UTF-8 [https://www.rfc-editor.org/rfc/rfc3629] data within a text message).":1008==a?'An endpoint is terminating the connection because it has received a message that "violates its policy". This reason is given either if there is no other sutible reason, or if there is a need to hide specific details about the policy.':1009==a?"An endpoint is terminating the connection because it has received a message that is too big for it to process.":1010==a?"An endpoint (client) is terminating the connection because it has expected the server to negotiate one or more extension, but the server didn't return them in the response message of the WebSocket handshake. <br /> Specifically, the extensions that are needed are: "+h:1011==a?"A server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request.":1015==a?"The connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified).":"Unknown reason"}stop(){this.socket&&(this.onMessageHandler&&this.onMessageHandler(JSON.stringify(JC.builder().setText("socket::stop();"))),this.socket.onclose=a=>{console.log("closed uncontrolled websocket.")},this.socket.onerror=a=>{},this.socket.onmessage=a=>{},this.socket.close())}}return c})(),YAt=(()=>{class c{handler;config;restPoint="/";ws=new XAt;started=!1;wsConnected=!1;wsFailed=!1;static wsId=0;constructor(a,h){this.handler=a,this.config=h}newWsId(){return c.wsId}stop(){return this.started&&this.ws.stop(),this}start(){return this.started||(this.started=!0,this.wsConnected=!1,this.ws.start(this.getRestPoint("/chess/ws/"+this.newWsId(),null)).setOnConnectedHandler(()=>{this.wsConnected=!0,this.handler.onConnect()}).setOnMessageHandler(a=>{let h=JSON.parse(a);this.handler.onMessage(JC.builder().setId(h.id).setText(h.text))}).setOnErrorHandler(a=>{this.wsFailed=!0,this.handler.onError(a)}).setOnClosedHandler(a=>{this.handler.onClosed(a)})),this}getRestPoint(a,h){return pi.merge(pi.merge(h||this.config.serviceAPIHost,this.restPoint),a).replace("http://","ws://").replace("https://","ws://")}setEventHandler(a){return this.handler=a,this}send(a){return this.ws.sendMessage(JSON.stringify(a)),this}}return c})();class qAt{chessWs=null;state=[];whitePawnPassState=[];blackPawnPassState=[];moves=[];selection=Lu.builder();whiteMoveOrder=!0;aiWhiteMoveOrder=!1;aiThinkTimeDefaultStr="10";aiThinkTimeDefault=1e4;aiThinkTime=this.aiThinkTimeDefault;aiSkillLevelDefault=20;aiSkillLevel=-1;aiEnabled=!0;requestingAiMove=!1;whiteWin=!1;blackWin=!1;pat=!1;gameId=0;humanMoveTimeStart=0;humanMoveGameTime=0;get endOfGame(){return this.whiteWin||this.blackWin||this.pat}rules=new GAt;get strPosition(){return this.uiConfig?this.uiConfig.ui.chessMovesHistory.getStringValue():""}set strPosition(l){this.uiConfig?.ui.chessMovesHistory.setStringValue(l)}onChanged=()=>{};config=null;uiConfig=null;chessStatistics=null;workerSvc=gl.builder();constructor(){}newGameId(){return++this.gameId,this}getCurrentGameId(){return""+this.gameId}destroy(){this.workerSvc.unsubscribe()}setup(l,a,h,d){this.onChanged=d,this.config=l,this.uiConfig=a,this.chessStatistics=h,!this.config?.isRestServerType()&&this.workerSvc.enabled()?this.workerSvc.setOnMessage(f=>{this.config?.post(()=>{let p=f.gameId,g=f.result;this.runChessMessage(JC.builder().setId(p).setText(g))})}):(this.chessWs=new YAt(new rX(f=>this.runChessMessage(f)),l),this.chessWs.start()),this.newGame(!0)}runChessMessage(l){let a=l.text;if(l.id==this.getCurrentGameId()&&this.aiEnabled&&this.aiWhiteMoveOrder===this.whiteMoveOrder&&a.startsWith("bestmove ")){let f=a.split(" ")[1];this.doMove(f)}}doMove(l,a=!1,h=!1,d=!0){let f="abcdefgh",p=a||this.whiteMoveOrder?"12345678":"87654321",g=f.indexOf(l[0]),m=p.indexOf(l[1]),v=l.length<=4?void 0:this.rules.fromNotation(l[4],this.whiteMoveOrder);this.select(g,m,!0),this.move(g,m,f.indexOf(l[2]),p.indexOf(l[3]),v,!0,h,d),this.onChanged&&this.onChanged()}setWhiteMoveOrder(l){return this.whiteMoveOrder=l,this}toggleMoveOrder(){return this.whiteMoveOrder=!this.whiteMoveOrder,this}setXY(l,a,h,d=ct.None){if(!this.rules.isIn(l,a))throw new Error(`\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b: {${l},${a}}`);let f=this.state[a][l];switch(f.setState(h),h){case ct.WhitePawn:case ct.BlackPawn:f.onChange.forEach(p=>{this.state[p.y][p.x].setState(p.state)})}return this.rules.isPawnPass(this.state,l,a)&&this.rules.passPawn(this.state,l,a,d),this}getXY(l,a){if(!this.rules.isIn(l,a))throw new Error(`\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b: {${l},${a}}`);return this.state[a][l]}setAiThinkTimeFromString(l){let a=l?+l:+this.aiThinkTimeDefaultStr;return(!Number.isInteger(a)||Number.isNaN(a))&&(a=+this.aiThinkTimeDefaultStr),this.aiThinkTime=1e3*a,this}newGame(l=!1){this.newGameId(),this.humanMoveTimeStart=0,l?(this.humanMoveGameTime=this.uiConfig?this.uiConfig.ui.chessCurrentHumanMoveTime.getNumberValue():0,this.aiSkillLevel=this.uiConfig?this.uiConfig.ui.chessCurrentAiSkillLevel.getNumberValue():this.aiSkillLevelDefault,this.aiWhiteMoveOrder=!!this.uiConfig&&this.uiConfig.ui.chessCurrentAiWhiteMoveOrder.getBooleanValue(),this.setAiThinkTimeFromString(""+(this.uiConfig?this.uiConfig.ui.chessCurrentAiThinkTime.getNumberValue():this.aiThinkTimeDefault)/1e3)):(this.humanMoveGameTime=0,this.aiSkillLevel=this.uiConfig?this.uiConfig.ui.chessAiSkillLevel.getNumberValue():this.aiSkillLevelDefault,this.aiWhiteMoveOrder=!!this.uiConfig&&!this.uiConfig.ui.chessHumanWhiteOrderEnabled.getBooleanValue(),this.setAiThinkTimeFromString(this.uiConfig?this.uiConfig.ui.chessAiThinkTime.getStringValue():this.aiThinkTimeDefaultStr),this.uiConfig?.ui.chessCurrentHumanMoveTime.setNumberValue(this.humanMoveGameTime),this.uiConfig?.ui.chessCurrentAiSkillLevel.setNumberValue(this.aiSkillLevel),this.uiConfig?.ui.chessCurrentAiWhiteMoveOrder.setBooleanValue(this.aiWhiteMoveOrder),this.uiConfig?.ui.chessCurrentAiThinkTime.setNumberValue(this.aiThinkTime),this.uiConfig?.ui.chessCurrentGameRunMode.setBooleanValue(!0)),this.aiEnabled=!0,this.whitePawnPassState=[],this.blackPawnPassState=[],this.moves=[],this.unselect(),this.whiteMoveOrder=!0,this.whiteWin=this.blackWin=this.pat=!1,l||(this.strPosition=""),this.whitePawnPassState=this.newState([ct.WhiteQueen,ct.WhiteRook,ct.WhiteBishop,ct.WhiteKnight]),this.blackPawnPassState=this.newState([ct.BlackQueen,ct.BlackRook,ct.BlackBishop,ct.BlackKnight]),this.state=this.newState([ct.WhiteRook,ct.WhiteKnight,ct.WhiteBishop,ct.WhiteQueen,ct.WhiteKing,ct.WhiteBishop,ct.WhiteKnight,ct.WhiteRook],[ct.WhitePawn,ct.WhitePawn,ct.WhitePawn,ct.WhitePawn,ct.WhitePawn,ct.WhitePawn,ct.WhitePawn,ct.WhitePawn],[ct.None,ct.None,ct.None,ct.None,ct.None,ct.None,ct.None,ct.None],[ct.None,ct.None,ct.None,ct.None,ct.None,ct.None,ct.None,ct.None],[ct.None,ct.None,ct.None,ct.None,ct.None,ct.None,ct.None,ct.None],[ct.None,ct.None,ct.None,ct.None,ct.None,ct.None,ct.None,ct.None],[ct.BlackPawn,ct.BlackPawn,ct.BlackPawn,ct.BlackPawn,ct.BlackPawn,ct.BlackPawn,ct.BlackPawn,ct.BlackPawn],[ct.BlackRook,ct.BlackKnight,ct.BlackBishop,ct.BlackQueen,ct.BlackKing,ct.BlackBishop,ct.BlackKnight,ct.BlackRook]),this.strPosition.split(" ").map(h=>h.trim()).filter(h=>h.length>0).forEach(h=>this.doMove(h,!0,!0,!1)),this.requestAiMove()}newState(...l){return l.map((a,h)=>a.map((d,f)=>Lu.builder().setY(h).setX(f).setState(d,!1)))}removeOnWay(){this.state=this.state.map(l=>l.map(a=>a.setState(a.state==ct.WhitePawnOnWay||a.state==ct.BlackPawnOnWay?ct.None:a.state,a.state==ct.WhitePawnOnWay||a.state==ct.BlackPawnOnWay).setOnChange([])))}unselect(){this.selection.setX(-1).setY(-1),this.moves=[]}select(l,a,h=!1){return!(this.aiEnabled&&this.aiWhiteMoveOrder===this.whiteMoveOrder&&!h||!this.rules.validIndex(l)||!this.rules.validIndex(a)||(this.selection.isSame(l,a)?(this.selection.setX(-1).setY(-1),this.moves=[]):(this.selection.setX(l).setY(a).setState(this.state[a][l].state),this.moves=this.rules.getPossibleMoves(this.state,Lu.builder().setX(l).setY(a).setState(this.selection.state),!1)),0))}getHistoryString(){return this.strPosition}addHistoryMove(l){let a=this.strPosition;a.length>0&&(a+=" "),a+=l,this.strPosition=a}move(l,a,h,d,f=ct.None,p=!1,g=!1,m=!0){if(this.aiEnabled&&this.aiWhiteMoveOrder===this.whiteMoveOrder&&!p||!this.rules.validIndex(l)||!this.rules.validIndex(a)||!this.rules.validIndex(h)||!this.rules.validIndex(d))return!1;let v=this.moves.find(x=>x.to.x==h&&x.to.y==d);if(!v)return!1;let _=this.getXY(h,d);if(this.rules.isKing(_.state))return!1;let b=this.getXY(l,a),O=this.rules.isWhiteFigure(b.state),C=this.rules.isBlackFigure(b.state);if(!(this.whiteMoveOrder&&O||!this.whiteMoveOrder&&C))return!1;let S=this.rules.isWhiteFigure(_.state),w=this.rules.isBlackFigure(_.state);if(O!=w&&(S||w))return!1;{let x="abcdefgh",T="12345678";m&&this.addHistoryMove(` ${x[l]}${T[a]}${x[h]}${T[d]}${this.rules.getNotation(f)}`),this.setXY(h,d,b.state,f),this.setXY(l,a,ct.None),this.removeOnWay(),v.onWay.forEach(D=>{this.getXY(D.x,D.y).setState(D.state).setOnChange([Lu.builder().setX(h).setY(d).setState(ct.None)])}),v.after.forEach(D=>{this.getXY(D.x,D.y).setState(D.state)}),this.setWhiteMoveOrder(!this.rules.isWhiteFigure(this.getXY(h,d).state))}return this.unselect(),this.checkEndOfGame(),g||this.requestAiMove(),!0}requestAiMove(){this.requestingAiMove||(this.requestingAiMove=!0,this.requestAiMoveDirect())}requestAiMoveDirect(){if(this.requestingAiMove){if(this.chessWs&&!this.chessWs?.wsConnected&&!this.chessWs?.wsFailed)return void this.config?.post(()=>{this.requestAiMoveDirect()},1e3);this.requestingAiMove=!1,this.checkAfterMove()}}checkAfterMove(){let l=this.uiConfig?.ui.chessCurrentGameRunMode.getBooleanValue(),a=Date.now();if(this.endOfGame&&l){let h=.5;this.aiWhiteMoveOrder===this.whiteMoveOrder?(this.uiConfig?.ui.chessCurrentHumanMoveTime.setNumberValue(this.humanMoveGameTime),h=1):h=0,this.chessStatistics?.addGameStatistics({date:a,endDone:!0,gameTime:this.humanMoveGameTime,moves:this.strPosition,opponentLevel:this.aiSkillLevel,score:h,white:!this.aiWhiteMoveOrder}),this.uiConfig?.ui.chessCurrentGameRunMode.setBooleanValue(!1)}else if(this.aiEnabled&&!this.endOfGame)if(this.aiWhiteMoveOrder===this.whiteMoveOrder){this.humanMoveTimeStart>0&&(this.humanMoveGameTime+=a-this.humanMoveTimeStart,this.uiConfig?.ui.chessCurrentHumanMoveTime.setNumberValue(this.humanMoveGameTime));let h=`setoption name Skill Level value ${this.aiSkillLevel>=0&&this.aiSkillLevel<=20?this.aiSkillLevel:"20"}\n${this.strPosition?"position startpos move "+this.strPosition:"position startpos"}\n${this.whiteMoveOrder?"":"flip"}\ngo movetime ${this.aiThinkTime}`;this.chessWs?this.chessWs?.send(JC.builder().setId(this.getCurrentGameId()).setText(h)):this.workerSvc.sendMessage(Put.builder().setCommands(this.getCurrentGameId(),h))}else l&&(this.humanMoveTimeStart=a)}checkEndOfGame(){this.rules.isCanMove(this.state,this.whiteMoveOrder)||(this.rules.isKingUnderAtack(this.state,this.whiteMoveOrder)?this.whiteMoveOrder?this.blackWin=!0:this.whiteWin=!0:this.rules.isCanMove(this.state,!this.whiteMoveOrder)||(this.rules.isKingUnderAtack(this.state,!this.whiteMoveOrder)?this.whiteMoveOrder?this.blackWin=!0:this.whiteWin=!0:this.pat=!0),this.onChanged())}expectedPawnPassMove(l,a,h,d){if(!(this.rules.validIndex(l)&&this.rules.validIndex(a)&&this.rules.validIndex(h)&&this.rules.validIndex(d)&&this.moves.find(O=>O.to.x==h&&O.to.y==d)))return!1;let p=this.getXY(h,d);if(this.rules.isKing(p.state))return!1;let m=this.getXY(l,a),v=this.rules.isWhiteFigure(m.state),_=this.rules.isBlackFigure(m.state);if(!(this.whiteMoveOrder&&v||!this.whiteMoveOrder&&_))return!1;let y=this.rules.isWhiteFigure(p.state),b=this.rules.isBlackFigure(p.state);return(v==b||!y&&!b)&&this.rules.isPawnPassByState(m.state,h,d)}}function KAt(c,l){if(1&c){const a=Ae();E(0,"div",22),Y("click",function(){const d=ce(a),f=d.$implicit,p=d.index,g=Q().index;return ue(Q().onSelectField(f,g,p))}),se(1,"cds-icon",23),M()}if(2&c){const a=l.$implicit,h=l.index,d=Q().index;R("ngClass",Q().getClassFor(a,d,h)),I(1),Je("shape",a.figure.getShape(a))}}function JAt(c,l){if(1&c&&(E(0,"div",20),X(1,KAt,2,2,"div",21),M()),2&c){const a=l.$implicit;I(1),R("ngForOf",a)}}function eIt(c,l){1&c&&(E(0,"span",38),H(1,"."),M())}function tIt(c,l){if(1&c&&(E(0,"div",36),X(1,eIt,2,0,"span",37),E(2,"span")(3,"b"),H(4),M()(),E(5,"span",38),H(6,"."),M(),E(7,"span"),H(8),M()()),2&c){const a=l.$implicit,h=l.index;I(1),R("ngIf",h>0),I(3),Kt("",h+1,"."),I(4),ut(a)}}function nIt(c,l){if(1&c&&(E(0,"div",34),X(1,tIt,9,3,"div",35),M()),2&c){const a=Q(2);I(1),R("ngForOf",a.history)}}function iIt(c,l){if(1&c&&(E(0,"div"),H(1),M()),2&c){const a=Q(2);I(1),Kt(" ",a.historyMovesStr.trim()," ")}}const rIt=function(c,l){return{btn:!0,"btn-success":c,"btn-success-outline":l,"btn-block":!0}},sIt=function(c,l){return{btn:!0,"btn-primary":c,"btn-primary-outline":l,"btn-block":!0}};function oIt(c,l){if(1&c){const a=Ae();E(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"div",28),se(5,"cds-icon",29),M(),E(6,"span",30),H(7),M()()()(),E(8,"div",31)(9,"div",16)(10,"button",22),Y("click",function(){return ce(a),ue(Q().separateGameMoves=!0)}),H(11,"\u041f\u043e \u0448\u0430\u0433\u0430\u043c"),M()(),E(12,"div",16)(13,"button",22),Y("click",function(){return ce(a),ue(Q().separateGameMoves=!1)}),H(14,"\u041f\u0430\u0440\u0442\u0438\u044f"),M()()(),X(15,nIt,2,1,"div",32),X(16,iIt,2,1,"div",33),M()}if(2&c){const a=Q();I(7),$0("\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0445\u043e\u0434 \u0431\u044b\u043b ",a.lastColor," ",a.lastMove,""),I(3),R("ngClass",mr(6,rIt,a.separateGameMoves,!a.separateGameMoves)),I(3),R("ngClass",mr(9,sIt,!a.separateGameMoves,a.separateGameMoves)),I(2),R("ngIf",a.separateGameMoves),I(1),R("ngIf",!a.separateGameMoves)}}function aIt(c,l){if(1&c){const a=Ae();E(0,"div",41),Y("click",function(){const d=ce(a),f=d.$implicit,p=d.index,g=Q().index;return ue(Q().requestPawnPassFigureCompleted(f,g,p))}),se(1,"cds-icon",42),M()}if(2&c){const a=l.$implicit;I(1),Je("shape",a.figure.getShape(a))}}function lIt(c,l){if(1&c&&(E(0,"div",39),X(1,aIt,2,1,"div",40),M()),2&c){const a=l.$implicit;I(1),R("ngForOf",a)}}var en=function(c){return c[c.None=0]="None",c[c.WhiteActionOk=1]="WhiteActionOk",c[c.WhiteActionFail=2]="WhiteActionFail",c[c.BlackActionOk=3]="BlackActionOk",c[c.BlackActionFail=4]="BlackActionFail",c[c.WhiteDraw=5]="WhiteDraw",c[c.WhiteLose=6]="WhiteLose",c[c.BlackDraw=7]="BlackDraw",c[c.BlackLose=8]="BlackLose",c[c.WhiteKing=9]="WhiteKing",c[c.BlackKing=10]="BlackKing",c[c.WhiteQueen=11]="WhiteQueen",c[c.BlackQueen=12]="BlackQueen",c[c.WhiteBishop=13]="WhiteBishop",c[c.BlackBishop=14]="BlackBishop",c[c.WhiteKnight=15]="WhiteKnight",c[c.BlackKnight=16]="BlackKnight",c[c.WhiteRook=17]="WhiteRook",c[c.BlackRook=18]="BlackRook",c[c.WhitePawn=19]="WhitePawn",c[c.BlackPawn=20]="BlackPawn",c[c.LetterA=21]="LetterA",c[c.LetterB=22]="LetterB",c[c.LetterC=23]="LetterC",c[c.LetterD=24]="LetterD",c[c.LetterE=25]="LetterE",c[c.LetterF=26]="LetterF",c[c.LetterG=27]="LetterG",c[c.LetterH=28]="LetterH",c[c.Number0=29]="Number0",c[c.Number1=30]="Number1",c[c.Number2=31]="Number2",c[c.Number3=32]="Number3",c[c.Number4=33]="Number4",c[c.Number5=34]="Number5",c[c.Number6=35]="Number6",c[c.Number7=36]="Number7",c[c.Number8=37]="Number8",c[c.Number9=38]="Number9",c}(en||{});class tr{name;id;shape;constructor(l,a,h){this.name=l,this.id=a,this.shape=h}static builder(){return new tr("",en.None,"")}setName(l){return this.name=l,this}setId(l){return this.id=l,this}setShape(l){return this.shape=l,this}getShape(l){let a="";switch(l.type){default:case _0.None:break;case _0.White:a="-light";break;case _0.Black:a="-dark"}return this.shape+a+(l.attacked?"-red":l.selected?"-selected":"")}}var _0=function(c){return c[c.White=0]="White",c[c.Black=1]="Black",c[c.None=2]="None",c}(_0||{});class sX{x;y;constructor(l,a){this.x=l,this.y=a}static builder(){return new sX(-1,-1)}setX(l){return this.x=l,this}setY(l){return this.y=l,this}}class oX{figure;type;selected;attacked;constructor(l,a,h,d){this.figure=l,this.type=a,this.selected=h,this.attacked=d}static builder(){return new oX(tr.builder(),_0.None,!1,!1)}setFigure(l){return this.figure=l,this}setType(l){return this.type=l,this}setSelected(l){return this.selected=l,this}setAttacked(l){return this.attacked=l,this}}class hL{modalFlag;x;y;constructor(l,a,h){this.modalFlag=l,this.x=a,this.y=h}static builder(){return new hL(!1,-1,-1)}setModalFlag(l){return this.modalFlag=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}}let cIt=(()=>{class c{config;uiConfig;chessStatistics;data;get chessData(){return this.data}chessPawnPassDlg=hL.builder();chessNewGameDlg=hL.builder();chessSvc=new qAt;state2ids=new Map;figures=this.getFigures(tr.builder().setName("\u043f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435").setId(en.None).setShape("chess-none"),tr.builder().setName("\u0431\u0435\u043b\u044b\u0435 \u043d\u0438\u0447\u044c\u044f").setId(en.WhiteDraw).setShape("chess-white-action-ok"),tr.builder().setName("\u0431\u0435\u043b\u044b\u0435 \u043f\u0440\u043e\u0438\u0433\u0440\u044b\u0448").setId(en.WhiteLose).setShape("chess-black-action-fail"),tr.builder().setName("\u0447\u0451\u0440\u043d\u044b\u0435 \u043d\u0438\u0447\u044c\u044f").setId(en.BlackDraw).setShape("chess-black-action-ok"),tr.builder().setName("\u0447\u0451\u0440\u043d\u044b\u0435 \u043f\u0440\u043e\u0438\u0433\u0440\u044b\u0448").setId(en.BlackLose).setShape("chess-black-action-fail"),tr.builder().setName("\u0431\u0435\u043b\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e").setId(en.WhiteActionOk).setShape("chess-white-action-ok"),tr.builder().setName("\u0431\u0435\u043b\u044b\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e").setId(en.WhiteActionFail).setShape("chess-white-action-fail"),tr.builder().setName("\u0447\u0451\u0440\u043d\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e").setId(en.BlackActionOk).setShape("chess-black-action-ok"),tr.builder().setName("\u0447\u0451\u0440\u043d\u044b\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e").setId(en.BlackActionFail).setShape("chess-black-action-fail"),tr.builder().setName("\u0431\u0435\u043b\u044b\u0439 \u043a\u043e\u0440\u043e\u043b\u044c").setId(en.WhiteKing).setShape("chess-white-king"),tr.builder().setName("\u0447\u0451\u0440\u043d\u044b\u0439 \u043a\u043e\u0440\u043e\u043b\u044c").setId(en.BlackKing).setShape("chess-black-king"),tr.builder().setName("\u0431\u0435\u043b\u044b\u0439 \u0444\u0435\u0440\u0437\u044c").setId(en.WhiteQueen).setShape("chess-white-queen"),tr.builder().setName("\u0447\u0451\u0440\u043d\u044b\u0439 \u0444\u0435\u0440\u0437\u044c").setId(en.BlackQueen).setShape("chess-black-queen"),tr.builder().setName("\u0431\u0435\u043b\u044b\u0439 \u0441\u043b\u043e\u043d").setId(en.WhiteBishop).setShape("chess-white-bishop"),tr.builder().setName("\u0447\u0451\u0440\u043d\u044b\u0439 \u0441\u043b\u043e\u043d").setId(en.BlackBishop).setShape("chess-black-bishop"),tr.builder().setName("\u0431\u0435\u043b\u044b\u0439 \u043a\u043e\u043d\u044c").setId(en.WhiteKnight).setShape("chess-white-knight"),tr.builder().setName("\u0447\u0451\u0440\u043d\u044b\u0439 \u043a\u043e\u043d\u044c").setId(en.BlackKnight).setShape("chess-black-knight"),tr.builder().setName("\u0431\u0435\u043b\u0430\u044f \u043b\u0430\u0434\u044c\u044f").setId(en.WhiteRook).setShape("chess-white-rook"),tr.builder().setName("\u0447\u0451\u0440\u043d\u0430\u044f \u043b\u0430\u0434\u044c\u044f").setId(en.BlackRook).setShape("chess-black-rook"),tr.builder().setName("\u0431\u0435\u043b\u0430\u044f \u043f\u0435\u0448\u043a\u0430").setId(en.WhitePawn).setShape("chess-white-pawn"),tr.builder().setName("\u0447\u0451\u0440\u043d\u0430\u044f \u043f\u0435\u0448\u043a\u0430").setId(en.BlackPawn).setShape("chess-black-pawn"),tr.builder().setName("a").setId(en.LetterA).setShape("chess-letter-a"),tr.builder().setName("b").setId(en.LetterB).setShape("chess-letter-b"),tr.builder().setName("c").setId(en.LetterC).setShape("chess-letter-c"),tr.builder().setName("d").setId(en.LetterD).setShape("chess-letter-d"),tr.builder().setName("e").setId(en.LetterE).setShape("chess-letter-e"),tr.builder().setName("f").setId(en.LetterF).setShape("chess-letter-f"),tr.builder().setName("g").setId(en.LetterG).setShape("chess-letter-g"),tr.builder().setName("h").setId(en.LetterH).setShape("chess-letter-h"),tr.builder().setName("0").setId(en.Number0).setShape("chess-number-0"),tr.builder().setName("1").setId(en.Number1).setShape("chess-number-1"),tr.builder().setName("2").setId(en.Number2).setShape("chess-number-2"),tr.builder().setName("3").setId(en.Number3).setShape("chess-number-3"),tr.builder().setName("4").setId(en.Number4).setShape("chess-number-4"),tr.builder().setName("5").setId(en.Number5).setShape("chess-number-5"),tr.builder().setName("6").setId(en.Number6).setShape("chess-number-6"),tr.builder().setName("7").setId(en.Number7).setShape("chess-number-7"),tr.builder().setName("8").setId(en.Number8).setShape("chess-number-8"));field=[];whitePawnPassField=[];blackPawnPassField=[];historyMovesStr="";historyMoves=[];separateGameMoves=!0;get history(){return this.requestUpdateHistory(),this.historyMoves}get lastMove(){return this.requestUpdateHistory(),this.historyMoves.length>0?this.historyMoves[this.historyMoves.length-1]:""}requestUpdateHistory(){this.historyMovesStr!=this.chessSvc.getHistoryString()&&this.config.post(()=>this.updateHistory(),0)}updateHistory(){if(this.historyMovesStr!=this.chessSvc.getHistoryString()){this.historyMovesStr=this.chessSvc.getHistoryString();let a=this.historyMovesStr.split(" ").map(h=>h.trim()).filter(h=>!!h);this.historyMoves=a}}get lastColor(){return this.historyMoves.length%2!=0?"\u0431\u0435\u043b\u044b\u043c\u0438":"\u0447\u0451\u0440\u043d\u044b\u043c\u0438"}get pawnPassField(){return this.chessSvc.whiteMoveOrder?this.whitePawnPassField:this.blackPawnPassField}get inverseBoard(){return this.chessSvc.aiWhiteMoveOrder}constructor(a,h,d){this.config=a,this.uiConfig=h,this.chessStatistics=d,this.chessSvc.setup(a,h,d,()=>this.convertSvc()),this.state2ids.set(ct.None,en.None),this.state2ids.set(ct.WhitePawnOnWay,en.None),this.state2ids.set(ct.BlackPawnOnWay,en.None),this.state2ids.set(ct.WhitePawn,en.WhitePawn),this.state2ids.set(ct.WhiteKing,en.WhiteKing),this.state2ids.set(ct.WhiteQueen,en.WhiteQueen),this.state2ids.set(ct.WhiteBishop,en.WhiteBishop),this.state2ids.set(ct.WhiteKnight,en.WhiteKnight),this.state2ids.set(ct.WhiteRook,en.WhiteRook),this.state2ids.set(ct.BlackPawn,en.BlackPawn),this.state2ids.set(ct.BlackKing,en.BlackKing),this.state2ids.set(ct.BlackQueen,en.BlackQueen),this.state2ids.set(ct.BlackBishop,en.BlackBishop),this.state2ids.set(ct.BlackKnight,en.BlackKnight),this.state2ids.set(ct.BlackRook,en.BlackRook),this.convertSvc()}ngOnDestroy(){this.chessSvc.destroy()}ngOnInit(){}getClasses(){return{calcChessSize:!0}}takeField(...a){return a.map((h,d)=>this.take(d,...h))}take(a,...h){let f=a;return h.map(p=>this.figures.get(p)).map(p=>p||this.figures.get(en.None)).map(p=>p).map((p,g)=>this.getFigureOrSelected(g,f,p)).map((p,g)=>oX.builder().setFigure(p).setAttacked(!!this.chessSvc.moves.find(m=>{let v=this.viewToFieldX(g),_=this.viewToFieldY(f);return this.chessSvc.rules.isIn(v,_)&&this.chessSvc.rules.isFigure(this.chessSvc.getXY(v,_).state,!0)&&m.to.x==v&&m.to.y==_})).setSelected(this.chessSvc.selection.isSame(this.viewToFieldX(g),this.viewToFieldY(f))).setType(0==g||g==h.length-1||0==f||f==h.length-1?_0.None:(f%2==0?0:1)==g%2?_0.White:_0.Black))}viewToFieldX(a){let h=a;return this.inverseBoard&&h>=1&&h<=8&&(h=7-(h-1)+1),h-1}viewToFieldY(a){let h=a;return this.inverseBoard&&h>=1&&h<=8&&(h=7-(h-1)+1),7-(h-1)}getFigureOrSelected(a,h,d){let f=d,p=this.getMoveAt(a,h,d),g=this.viewToFieldX(a),m=this.viewToFieldY(h);if(this.chessSvc.rules.isIn(g,m)){let v=this.chessSvc.state[m][g];this.chessSvc.rules.isWhiteFigure(v.state)||this.chessSvc.rules.isBlackFigure(v.state)||p&&(this.chessSvc.rules.isWhiteFigure(p)?f=this.figures.get(en.WhiteActionOk):this.chessSvc.rules.isBlackFigure(p)&&(f=this.figures.get(en.BlackActionOk)))}return f}getMoveAt(a,h,d){let p=this.chessSvc.moves.find(g=>g.to.x==this.viewToFieldX(a)&&g.to.y==this.viewToFieldY(h));return null==p?null:p.from.state}onSelectField(a,h,d){let f=d,p=h,g=this.viewToFieldX(f),m=this.viewToFieldY(p);if(this.chessSvc.rules.isIn(g,m)){if(!this.chessSvc.endOfGame)if(a.selected)a.setSelected(!a.selected),this.chessSvc.select(this.viewToFieldX(f),this.viewToFieldY(p)),this.convertSvc();else{let v=this.getFieldSelection();if(v){let _=this.viewToFieldX(f),y=this.viewToFieldY(p),b=this.viewToFieldX(v.x),O=this.viewToFieldY(v.y);this.chessSvc.expectedPawnPassMove(b,O,_,y)?this.requestPawnPassFigure(_,y):this.chessSvc.move(b,O,_,y)&&this.convertSvc()}else a.setSelected(!a.selected),this.chessSvc.select(this.viewToFieldX(f),this.viewToFieldY(p)),this.convertSvc()}}else{let v=this.chessSvc.whiteMoveOrder;this.inverseBoard&&(v=!v),8==g&&(v&&-1==m||!v&&8==m)&&this.chessNewGameDlg.setModalFlag(!0)}}getClassFor(a,h,d){return{paddingZero:!0,blockInline:!0,chessWidth10:!0,darkField:h>=1&&h<=8&&d>=1&&d<=8}}getFigures(...a){let h=new Map;return a.forEach(d=>h.set(d.id,d)),h}getOrInverse(a,h=!1){let d=this.inverseBoard;if(h&&(d=!d),d){let f=a.length-1;for(let p=Math.floor(a.length/2)-1;p>=0;--p){let g=a[p];a[p]=a[f-p],a[f-p]=g}}return a}get whitePawnPassState(){return this.chessSvc.whitePawnPassState}get blackPawnPassState(){return this.chessSvc.whitePawnPassState}convertSvc(){this.whitePawnPassField=this.takeField(...this.whitePawnPassState.map((a,h)=>[...a.map(d=>this.convertField(d.state))])),this.blackPawnPassField=this.takeField(...this.blackPawnPassState.map((a,h)=>[...a.map(d=>this.convertField(d.state))])),this.field=this.takeField(...this.getOrInverse([[this.chessSvc.endOfGame?this.chessSvc.whiteWin?en.WhiteKing:en.None:this.chessSvc.whiteMoveOrder?en.WhiteDraw:en.None,...this.getOrInverse([en.LetterA,en.LetterB,en.LetterC,en.LetterD,en.LetterE,en.LetterF,en.LetterG,en.LetterH]),this.chessSvc.whiteMoveOrder?en.WhiteLose:en.None]].concat(this.chessSvc.state.map((a,h)=>this.getOrInverse([this.convertNumber(h),...a.map(d=>this.convertField(d.state)),this.convertNumber(h)]))).concat([[this.chessSvc.endOfGame?this.chessSvc.blackWin?en.BlackKing:en.None:this.chessSvc.whiteMoveOrder?en.None:en.BlackDraw,...this.getOrInverse([en.LetterA,en.LetterB,en.LetterC,en.LetterD,en.LetterE,en.LetterF,en.LetterG,en.LetterH]),this.chessSvc.whiteMoveOrder?en.None:en.BlackLose]]),!0))}convertNumber(a){let h=[en.Number1,en.Number2,en.Number3,en.Number4,en.Number5,en.Number6,en.Number7,en.Number8,en.Number9][a];return h||(h=en.None),h}convertField(a){let h=this.state2ids.get(a);return h||(h=en.None),h}getFieldSelection(){let a=null;for(let h=0;h<this.field.length;++h){let d=this.field[h];for(let f=0;f<d.length;++f)d[f].selected&&(a=sX.builder().setX(f).setY(h))}return a}requestPawnPassFigure(a,h){this.config.post(()=>{this.chessPawnPassDlg.setModalFlag(!0).setX(a).setY(h)})}requestPawnPassFigureCompleted(a,h,d){this.config.post(()=>{this.chessPawnPassDlg.setModalFlag(!1)});let f=this.getFieldSelection();f&&this.chessSvc.move(this.viewToFieldX(f.x),this.viewToFieldY(f.y),this.chessPawnPassDlg.x,this.chessPawnPassDlg.y,(this.chessSvc.whiteMoveOrder?this.chessSvc.whitePawnPassState:this.chessSvc.blackPawnPassState)[h][d].state)&&this.convertSvc()}onNewGame(a){a.preventDefault(),a.stopPropagation(),this.chessSvc.newGame(),this.convertSvc(),this.chessNewGameDlg.setModalFlag(!1)}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(dQ))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-chess-view"]],inputs:{data:"data"},decls:48,vars:6,consts:[[3,"ngClass"],[1,"print-only","center"],[1,"blue"],[1,"green"],[1,"row","colLeft","calcChessSize","bottom-space"],[1,"colMid","bg-1"],["class","chess12 paddingZero",4,"ngFor","ngForOf"],["class","maxWidth800 center",4,"ngIf"],[1,"s0","calcChessSize",3,"clrModalOpen","clrModalOpenChange","click"],[1,"modal-title"],[1,"modal-body"],["class","clr-row paddingZero",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["shape","exclamation-circle",1,"alert-icon"],[1,"clr-row"],[1,"clr-col-6"],[1,"btn","btn-success","btn-block",3,"click"],["shape","check"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[1,"chess12","paddingZero"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"chessFigure12","noVerticalAlign"],[1,"maxWidth800","center"],["role","alert",1,"alert","alert-success","bottom-space"],[1,"alert-items"],[1,"alert-item","static"],[1,"alert-icon-wrapper"],["shape","check-circle",1,"alert-icon"],[1,"alert-text"],[1,"clr-row","bottom-space"],["class","width100",4,"ngIf"],[4,"ngIf"],[1,"width100"],["class","inlineBlock",4,"ngFor","ngForOf"],[1,"inlineBlock"],["class","hidden",4,"ngIf"],[1,"hidden"],[1,"clr-row","paddingZero"],["class","clr-col-3 chess12 paddingZero center cursor",3,"click",4,"ngFor","ngForOf"],[1,"clr-col-3","chess12","paddingZero","center","cursor",3,"click"],[1,"chess12","chessWidth1"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"h4",1)(2,"b")(3,"span",2),H(4,"\u0414\u0435\u0432\u0438\u0441\u043a\u0438\u043d"),M()()(),E(5,"h4",1)(6,"b")(7,"span",3),H(8,"\u0428\u0430\u0445\u043c\u0430\u0442\u044b"),M()()(),E(9,"h4",1)(10,"span",2),H(11,"https://deviskin.github.io"),M()(),E(12,"div",4)(13,"div",5),X(14,JAt,2,1,"div",6),M()(),X(15,oIt,17,12,"div",7),M(),E(16,"clr-modal",8),Y("clrModalOpenChange",function(p){return d.chessPawnPassDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(17,"h3",9),H(18,"\u041f\u0440\u043e\u0445\u043e\u0434 \u043f\u0435\u0448\u043a\u0438:"),M(),E(19,"div",10)(20,"div"),H(21,"\xa0"),M(),X(22,lIt,2,1,"div",11),E(23,"div"),H(24,"\xa0"),M()(),E(25,"div",12)(26,"button",13),Y("click",function(){return d.chessPawnPassDlg.modalFlag=!1}),H(27,"\u041e\u0442\u043c\u0435\u043d\u0430"),M()()(),E(28,"clr-modal",8),Y("clrModalOpenChange",function(p){return d.chessNewGameDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(29,"h3",9),H(30,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435"),M(),E(31,"div",10)(32,"div"),H(33,"\xa0"),M(),E(34,"div"),se(35,"cds-icon",14),H(36," \u041d\u0430\u0447\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0438\u0433\u0440\u0443? "),M(),E(37,"div"),H(38,"\xa0"),M()(),E(39,"div",12)(40,"div",15)(41,"div",16)(42,"button",17),Y("click",function(p){return d.onNewGame(p)}),se(43,"cds-icon",18),H(44,"\u0414\u0430"),M()(),E(45,"div",16)(46,"button",19),Y("click",function(){return d.chessNewGameDlg.modalFlag=!1}),H(47,"\u041d\u0435\u0442"),M()()()()()),2&h&&(R("ngClass",d.getClasses()),I(14),R("ngForOf",d.field),I(1),R("ngIf",d.lastMove),I(1),R("clrModalOpen",d.chessPawnPassDlg.modalFlag),I(6),R("ngForOf",d.pawnPassField),I(6),R("clrModalOpen",d.chessNewGameDlg.modalFlag))},dependencies:[ei,Gn,mn,gf,Vn,Vo,$o],styles:["@media screen{.maxWidth800[_ngcontent-%COMP%]{margin:auto;max-width:400px}}@media print{.maxWidth800[_ngcontent-%COMP%]{margin:auto;max-width:400px}}.inlineBlock[_ngcontent-%COMP%]{display:inline-block}.darkField[_ngcontent-%COMP%]{background-color:#d18b47}.clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}.centeredImage[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto}.blockInline[_ngcontent-%COMP%]{display:inline-block}.paddingZero[_ngcontent-%COMP%]{padding:0;margin:0}.noVerticalAlign[_ngcontent-%COMP%]{vertical-align:top}.row[_ngcontent-%COMP%]{display:inline-block!important}.calcChessSize[_ngcontent-%COMP%]{--chess-size-vmin:calc(100vmin - 48px);--chess-size-vh:calc(100vh - 108px);--chess-size: min(var(--chess-size-vmin),var(--chess-size-vh));--chess-col-size: calc(var(--chess-size) / 10);--chess-col-4-size: calc(var(--chess-col-size) * 4);--chess-pad-2: calc(100% - var(--chess-col-size)*10);--chess-pad: calc(var(--chess-pad-2) / 2)}.chess12[_ngcontent-%COMP%]{font-size:var(--chess-col-size)!important;line-height:var(--chess-col-size)!important;height:var(--chess-col-size)!important}.chessWidth10[_ngcontent-%COMP%]{width:10%}.chessWidth1[_ngcontent-%COMP%]{width:var(--chess-col-size)!important}.chessFigure12[_ngcontent-%COMP%]{height:var(--chess-col-size)!important;width:100%!important}.colLeft[_ngcontent-%COMP%]{padding-left:var(--chess-pad)!important}.colMid[_ngcontent-%COMP%]{width:var(--chess-size)!important}.col4Mid[_ngcontent-%COMP%]{width:var(--chess-col-4-size)!important}"]})}return c})();class aX{devId;constructor(l){this.devId=l}static builder(){return new aX("")}setDevId(l){return this.devId=l,this}}class lX extends ti{config;constructor(l,a,h,d){super(l,a,h),this.config=d}static builder(){return new lX("",null,null,aX.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}}let uIt=(()=>{class c{uiConfig;config;data;get devEmailData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h){this.uiConfig=a,this.config=h}get colored(){return this.uiConfig.ui.coloredTranslations.getBooleanValue()}get link(){return atob(this.config.getDeveloperSemail(this.devEmailData.config.devId))}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}getClasses(){return{}}onLinkClick(a){a.preventDefault();let h=this.config.getApplication().name;window.open(`mailto:${this.link}?subject=${encodeURIComponent(h+". \u0412\u0435\u0440\u0441\u0438\u044f "+this.config.version+". \u041e\u0442\u0437\u044b\u0432.")}&body=${encodeURIComponent("\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435, \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438.")}`)}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-dev-email-link"]],inputs:{data:"data"},decls:2,vars:1,consts:[["href","javascript://",3,"click"]],template:function(h,d){1&h&&(E(0,"a",0),Y("click",function(p){return d.onLinkClick(p)}),H(1),M()),2&h&&(I(1),ut(d.link))}})}return c})();class cX{meta;parsed;constructor(l,a){this.meta=l,this.parsed=a}static builder(){return new cX(null,null)}setMeta(l){return this.meta=l,this}setParsed(l){return this.parsed=l,this}}class zk{type;onEventHandler;constructor(l="",a=null){this.type=l,this.onEventHandler=a}setOnEventHandler(l){return this.onEventHandler=l,this}run(l){return this.onEventHandler&&this.onEventHandler(this,l),this}}class dL{\u0441\u0442\u0440\u043e\u043a\u0438;\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043d\u0438\u0433\u0438;\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445\u0421\u0442\u0440\u043e\u043a;\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b\u042f\u0437\u044b\u043a\u0430;\u0434\u0435\u0442\u0435\u043a\u0442\u043e\u0440\u0421\u0442\u043e\u043b\u0431\u0446\u043e\u0432=Ha.builder();\u0434\u0435\u0442\u0435\u043a\u0442\u043e\u0440\u0421\u0442\u0440\u043e\u043a=Ha.builder();constructor(l,a,h=0,d=null){this.\u0441\u0442\u0440\u043e\u043a\u0438=l,this.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043d\u0438\u0433\u0438=a,this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445\u0421\u0442\u0440\u043e\u043a=h,this.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b\u042f\u0437\u044b\u043a\u0430=d}static builder(){return new dL([],0)}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0438(l){return this.\u0441\u0442\u0440\u043e\u043a\u0438=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041a\u043d\u0438\u0433\u0438(l){return this.\u0438\u043d\u0434\u0435\u043a\u0441\u041a\u043d\u0438\u0433\u0438=l,this}\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445\u0421\u0442\u0440\u043e\u043a(l=1){return this.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445\u0421\u0442\u0440\u043e\u043a+=l,this}\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b\u042f\u0437\u044b\u043a\u0430(l){return this.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b\u042f\u0437\u044b\u043a\u0430=l,this}}class uX extends w1e{errors=[];libraryRef="biblia";libraryType="prod";libraryInfo=null;bookName="";bookNameNewLangs=[];bookChapterNewName="";bookLoadBooksEnabledNewName=!0;bookPageText="";bookRef="";bookInfo=null;bookLanguages=[];books=[];lineIndexes=[];bookContent=[];bookChapter=null;converter=new FU;onLibraryLoadEvent=new zk("onLibraryLoad");onPageLoadEvent=new zk("onPageLoad");onBookInfoLoadEvent=new zk("onBookInfoLoad");onRouteEvent=new zk("onRoute");onNewTitleEvent=new zk("onNewTitle");config=null;uiConfig=null;memorialSvc=null;audioSvc=null;linesTransformer=null;removableSubscriptions=[];dictionariesSvc=null;constructor(l=null){super(l)}addDictionarySvc(l,a,h=null){return this.dictionariesSvc=h,this.dictionariesSvc?l(null):(this.dictionariesSvc=new NAt,this.dictionariesSvc.load(l,a,!!this.config?.isUseDictionaries())),this}onDestroy(){this.removableSubscriptions.forEach(l=>{l.unsubscribe()}),this.removableSubscriptions=[]}addSubscription(l){l&&this.removableSubscriptions.push(l)}setLineTransformer(l){return this.linesTransformer=l,this}setConfig(l){this.config=l;let a=this.config?.getApplication();return a&&a.libraryType&&a.libraryRef&&(this.libraryType=a.libraryType,this.libraryRef=a.libraryRef),this}setUIConfig(l){return this.uiConfig=l,this}setMemorial(l){return this.memorialSvc=l,this}setAudio(l){return this.audioSvc=l,this}addError(l){return this.errors.push(l),this}clear(l=!1,a=!1,h=[],d=!0,f=!1){return this.errors=[],this.books=[],this.lineIndexes=[],l&&(this.bookContent=[]),a&&(d&&(this.bookInfo=null),this.bookLanguages=h),f&&(this.bookChapter=null),this}loadLibraryInfo(){return this.send(null,v1e.builder().setLibraryType(this.libraryType).setLibraryRef(this.libraryRef)),this}tryLoadLibraryInfo(){null==this.libraryInfo?this.loadLibraryInfo():this.onLibraryLoadEvent.run(this.libraryInfo)}loadBookByName(l,a=[],h="",d=!0){this.bookName=l,this.bookNameNewLangs=a,this.bookChapterNewName=h,this.bookChapterNewName&&(this.bookChapter=null),this.bookLoadBooksEnabledNewName=d,this.retryLoadBookByName()}loadBookByPageText(l,a=!0,h="\u0420\u0443\u0441\u0441\u043a\u0438\u0439"){return this.bookPageText=l,this.clear(!0,!0,[h],a),this.retryLoadBookByName(),this}getBookSettingsNamePath(l){if(!this.libraryInfo)return null;let a=this.libraryInfo.settings.find(h=>h.name===l);return a||(a=this.libraryInfo.settings.find(h=>h.value2?.find(d=>d===l))),a}getBookContentNamePath(l,a=!1){if(!this.libraryInfo)return null;let h=this.libraryInfo.content.find(d=>d.name===l);if(h||(h=this.libraryInfo.content.find(d=>d.path2?.find(f=>f===l))),!h){let d=mO.builder().parse(l);if(null!=d&&d.length&&d[0].length){let f=d[0][0];if(f.type==uh.Link){let p=f;h=this.getBookContentNamePath(p.name),a&&p.langugages&&p.langugages.length&&(this.bookNameNewLangs=p.langugages)}}}return h}retryLoadBookByName(){if(this.libraryInfo)if(this.bookPageText)this.onPagesResponse(dU.builder().setPages([this.bookPageText])),this.bookPageText="";else{let l=this.getBookContentNamePath(this.bookName,!0);l?this.loadBookByRef(l.path,this.bookNameNewLangs,this.bookLoadBooksEnabledNewName):this.addError(`\u041a\u043d\u0438\u0433\u0430 "${this.bookName}" \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430.`)}else this.loadLibraryInfo()}loadBookByRef(l,a=[],h=!0){return this.bookRef=l,this.clear(!0,!0,a),this.loadBookInfo(null,h),this}isLanguageEnabled(l){return null!=this.bookLanguages.find(a=>a==l)}loadBookInfo(l=null,a=!0){return this.send(null,_1e.builder().setLibraryType(this.libraryType).setBookRef(l||this.bookRef).setLoadBooksEnabled(a)),this}isPrevEnabled(){let l=!1;if(!this.bookChapter)return!1;if(this.bookContent.length){let a=this.bookContent[0];a.parsed&&a.parsed.content&&a.parsed.content.length>1&&(l=a.parsed.content[0].name!=this.bookChapter.name)}return l}isNextEnabled(){let l=!1;if(!this.bookChapter)return!1;if(this.bookContent.length){let a=this.bookContent[0];a.parsed&&a.parsed.content&&a.parsed.content.length>1&&(l=a.parsed.content[a.parsed.content.length-1].name!=this.bookChapter.name)}return l}loadNextPage(){if(!this.isNextEnabled())return;let l="";if(this.bookContent.length){let a=this.bookContent[0];if(a.parsed&&a.parsed.content&&a.parsed.content.length>1){let h=a.parsed.content.findIndex(d=>d.name==this.bookChapter.name);h>=0&&h+1<a.parsed.content.length&&(l=a.parsed.content[h+1].name)}}l&&this.loadPage(l)}loadPrevPage(){if(!this.isPrevEnabled())return;let l="";if(this.bookContent.length){let a=this.bookContent[0];if(a.parsed&&a.parsed.content&&a.parsed.content.length>1){let h=a.parsed.content.findIndex(d=>d.name==this.bookChapter.name);h>=1&&(l=a.parsed.content[h-1].name)}}l&&this.loadPage(l)}loadPage(l){let a=this.bookContent[0].parsed.content.find(h=>h.name===l);return a&&a!=this.bookChapter&&(this.bookName=this.getNormalBookName(),this.bookChapter=a,this.clear(),this.loadCurrentPages()),this}loadCurrentPages(){let l=b1e.builder();return this.runAll(this.bookContent,(a,h)=>{let d=a.parsed.settings.find(g=>"\u044f\u0437\u044b\u043a"===g.name.toLowerCase());if(d&&(this.isLanguageEnabled(d.value)||(d=null)),!d)return void h(!0);let f=this.getBookChapterNewName(),p=a.parsed.content.find(g=>f==g.name);this.bookChapterNewName="",null==p&&(p=a.parsed.content.find(g=>!this.bookChapter||this.bookChapter.name==g.name)),p&&(l.addBookPage(hU.builder().setBookPage(a.meta.bookRef).setBookPath(a.meta.path).setBookPage(p.path)),this.bookChapter||(this.bookChapter=p)),h(!0)},a=>{a&&this.send(null,l)}),this}post(l,a){switch(a.type){case S1e.TYPE:this.onLibraryInfoResponse(a);break;case C1e.TYPE:this.onBookInfoResponse(a);break;case O1e.TYPE:this.onBookResponse(a);break;case dU.TYPE:this.onPagesResponse(a);break;default:throw new Error(`Unknown message type: ${a.type}.`)}return this}onLibraryInfoResponse(l){try{this.libraryInfo=bookParserStatic.parse(l.metaContent,Ux.builder())}catch(a){return this.addError(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438: ${l.libraryRef}: ${a}`)}return this.bookName||this.bookPageText?this.retryLoadBookByName():this.onLibraryLoadEvent.run(this.libraryInfo),this}onBookInfoResponse(l){try{this.bookInfo=bookParserStatic.parse(l.metaContent,Ux.builder())}catch(a){return this.addError(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043a\u043d\u0438\u0433\u0438: ${l.bookRef}: ${a}`)}return l.loadBooksEnabled&&this.reloadBooks(),this.onBookInfoLoadEvent.run(this.bookInfo),this}reloadBooks(){this.clear(!0);let l=y1e.builder().setLibraryType(this.libraryType).setBookRef(this.bookRef);this.bookLanguages.length&&this.bookInfo&&(this.bookLanguages=this.bookLanguages.filter(a=>null!=this.bookInfo.content.find(h=>h.name==a))),!this.bookLanguages.length&&this.bookInfo&&(this.bookLanguages=this.bookInfo.content.map(a=>a.name),this.bookLanguages.length>2&&(this.bookLanguages=this.bookLanguages.slice(0,2))),this.bookInfo&&this.bookLanguages.forEach(a=>{let h=this.bookInfo.content.find(d=>d.name===a);h&&l.addLanguage(h.path)}),this.send(null,l)}onBookResponse(l){return this.runAll(l.metaBooks,(a,h)=>{this.loadBook(a,h)},a=>{a&&this.loadCurrentPages()}),this}loadBook(l,a=null){try{var h=bookParserStatic.parse(l.content,{builder:Ux.builder()});this.bookContent.push(cX.builder().setMeta(l).setParsed(h)),a&&a(!0)}catch(d){return this.addError(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043a\u043d\u0438\u0433\u0438: ${this.bookRef}: ${d}`)}return this}onPagesResponse(l){l.pages.forEach(a=>{this.loadBookPageText(a)}),this.onPageLoadEvent.run(null)}getStdSrc(){return"\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '';\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c = \u043a\u043b\u0430\u0441\u0441 {\n      \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c(\u0442\u0435\u043a\u0441\u0442) {\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0422\u0435\u043a\u0441\u0442(\u0442\u0435\u043a\u0441\u0442);\n      }\n    }.\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043e\u0434 = \u043a\u043b\u0430\u0441\u0441 {\n      \u0432\u044b\u0432\u0435\u0441\u0442\u0438(_\u043a\u043e\u0434) {\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c '/*' + _\u043a\u043e\u0434 + '*/';\n      }\n    }.\u0432\u044b\u0432\u0435\u0441\u0442\u0438;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0432\u044b\u0432\u0435\u0441\u0442\u0438 = \u043a\u043b\u0430\u0441\u0441 {\n      \u0432\u044b\u0432\u0435\u0441\u0442\u0438(\u0442\u0435\u043a\u0441\u0442) {\n        id = \u043d\u043e\u0432\u044b\u0439\u0422\u0435\u043a\u0441\u0442(\u0442\u0435\u043a\u0441\u0442);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0432\u044b\u0432\u0435\u0441\u0442\u0438;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0433\u0430\u043b\u043e\u0447\u043a\u0430 = \u043a\u043b\u0430\u0441\u0441 {\n      \u0433\u0430\u043b\u043e\u0447\u043a\u0430(_\u0442\u0435\u043a\u0441\u0442, _\u0433\u0430\u043b\u043e\u0447\u043a\u0430, _\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a) {\n        id = \u043d\u043e\u0432\u0430\u044f\u0413\u0430\u043b\u043e\u0447\u043a\u0430(_\u0442\u0435\u043a\u0441\u0442,_\u0433\u0430\u043b\u043e\u0447\u043a\u0430,_\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0433\u0430\u043b\u043e\u0447\u043a\u0430;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043d\u043e\u043f\u043a\u0430 = \u043a\u043b\u0430\u0441\u0441 {\n      \u043a\u043d\u043e\u043f\u043a\u0430(\u0442\u0435\u043a\u0441\u0442, \u0442\u0438\u043f, \u0441\u0441\u044b\u043b\u043a\u0430, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, \u0431\u043b\u043e\u043a) {\n        id = \u043d\u043e\u0432\u0430\u044f\u041a\u043d\u043e\u043f\u043a\u0430(\u0442\u0435\u043a\u0441\u0442,\u0442\u0438\u043f,\u0441\u0441\u044b\u043b\u043a\u0430,\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a,\u0431\u043b\u043e\u043a);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043a\u043d\u043e\u043f\u043a\u0430;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043d\u043e\u043f\u043a\u0430\u041f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 = \u043a\u043b\u0430\u0441\u0441 {\n      \u043a\u043d\u043e\u043f\u043a\u0430\u041f\u0440\u0438\u043c\u0435\u0440\u043e\u0432(\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a) {\n        id = \u043d\u043e\u0432\u0430\u044f\u041a\u043d\u043e\u043f\u043a\u0430\u041f\u0440\u0438\u043c\u0435\u0440\u043e\u0432(\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043a\u043d\u043e\u043f\u043a\u0430\u041f\u0440\u0438\u043c\u0435\u0440\u043e\u0432;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043d\u043e\u043f\u043a\u0430\u042f\u0437\u044b\u043a\u043e\u0432 = \u043a\u043b\u0430\u0441\u0441 {\n      \u043a\u043d\u043e\u043f\u043a\u0430\u042f\u0437\u044b\u043a\u043e\u0432(\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a) {\n        id = \u043d\u043e\u0432\u0430\u044f\u041a\u043d\u043e\u043f\u043a\u0430\u042f\u0437\u044b\u043a\u043e\u0432(\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043a\u043d\u043e\u043f\u043a\u0430\u042f\u0437\u044b\u043a\u043e\u0432;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0441\u0442\u043e\u043b\u0431\u0446\u044b = \u043a\u043b\u0430\u0441\u0441 {\n      \u0441\u0442\u043e\u043b\u0431\u0446\u044b(\u0441\u0442\u0440\u043e\u043a\u0438) {\n        id = \u043d\u043e\u0432\u044b\u0435\u0421\u0442\u043e\u043b\u0431\u0446\u044b(\u0441\u0442\u0440\u043e\u043a\u0438);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0441\u0442\u043e\u043b\u0431\u0446\u044b;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0441\u043f\u0438\u0441\u043e\u043a = \u043a\u043b\u0430\u0441\u0441 {\n      \u0441\u043f\u0438\u0441\u043e\u043a(\u0441\u0442\u0440\u043e\u043a\u0438,\u043d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439) {\n        id = \u043d\u043e\u0432\u044b\u0439\u0421\u043f\u0438\u0441\u043e\u043a(\u0441\u0442\u0440\u043e\u043a\u0438,\u043d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0441\u043f\u0438\u0441\u043e\u043a;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0441\u0441\u044b\u043b\u043a\u0430\u041d\u0430\u041f\u043e\u0447\u0442\u0443 = \u043a\u043b\u0430\u0441\u0441 {\n      \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a(\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0420\u0430\u0437\u0440\u0431\u043e\u0442\u0447\u0438\u043a\u0430) {\n        id = \u043d\u043e\u0432\u0430\u044f\u0421\u0441\u044b\u043b\u043a\u0430\u041d\u0430\u041f\u043e\u0447\u0442\u0443(\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0420\u0430\u0437\u0440\u0431\u043e\u0442\u0447\u0438\u043a\u0430);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a = \u043a\u043b\u0430\u0441\u0441 {\n      \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a(\u0442\u043e\u043b\u044c\u043a\u043e\u0427\u0442\u0435\u043d\u0438\u0435, \u0438\u043c\u044f\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0430, \u043d\u043e\u043c\u0435\u0440\u0421\u043b\u0430\u0432\u044b, \u043e\u0417\u0434\u0440\u0430\u0432\u0438\u0438, _id, _targetId) {\n        id = \u043d\u043e\u0432\u044b\u0439\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a(\u0442\u043e\u043b\u044c\u043a\u043e\u0427\u0442\u0435\u043d\u0438\u0435, \u0438\u043c\u044f\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0430, \u043d\u043e\u043c\u0435\u0440\u0421\u043b\u0430\u0432\u044b, \u043e\u0417\u0434\u0440\u0430\u0432\u0438\u0438, _id, _targetId);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0442\u0435\u043a\u0441\u0442\u041a\u043e\u0434\u0430 = \u043a\u043b\u0430\u0441\u0441 {\n      \u0442\u0435\u043a\u0441\u0442(\u0442\u0435\u043a\u0441\u0442,\u0448\u0438\u0440\u0438\u043d\u0430\u0425\u043e\u043b\u0441\u0442\u0430\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430,\u0432\u044b\u0441\u043e\u0442\u0430\u0425\u043e\u043b\u0441\u0442\u0430\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430) {\n        id = \u043d\u043e\u0432\u044b\u0439\u0422\u0435\u043a\u0441\u0442\u041a\u043e\u0434\u0430(\u0442\u0435\u043a\u0441\u0442,\u0448\u0438\u0440\u0438\u043d\u0430\u0425\u043e\u043b\u0441\u0442\u0430\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430,\u0432\u044b\u0441\u043e\u0442\u0430\u0425\u043e\u043b\u0441\u0442\u0430\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0442\u0435\u043a\u0441\u0442;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0445\u043e\u043b\u0441\u0442 = \u043a\u043b\u0430\u0441\u0441 {\n      \u0445\u043e\u043b\u0441\u0442(\u0442\u0435\u043a\u0441\u0442,\u0448\u0438\u0440\u0438\u043d\u0430,\u0432\u044b\u0441\u043e\u0442\u0430) {\n        id = \u043d\u043e\u0432\u044b\u0439\u0425\u043e\u043b\u0441\u0442(\u0442\u0435\u043a\u0441\u0442,\u0448\u0438\u0440\u0438\u043d\u0430,\u0432\u044b\u0441\u043e\u0442\u0430);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0445\u043e\u043b\u0441\u0442;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439\u041f\u043e\u0438\u0441\u043a = \u043a\u043b\u0430\u0441\u0441 {\n      \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439\u041f\u043e\u0438\u0441\u043a(\u0442\u0435\u043a\u0441\u0442\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b) {\n        id = \u043d\u043e\u0432\u044b\u0439\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439\u041f\u043e\u0438\u0441\u043a(\u0442\u0435\u043a\u0441\u0442\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439\u041f\u043e\u0438\u0441\u043a;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439\u041f\u043e\u0438\u0441\u043a2 = \u043a\u043b\u0430\u0441\u0441 {\n      \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439\u041f\u043e\u0438\u0441\u043a2(\u0442\u0435\u043a\u0441\u0442\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b,\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0440\u043e\u0431\u0435\u043b\u043e\u0432\u041f\u0440\u0435\u0444\u0438\u043a\u0441\u0430) {\n        id = \u043d\u043e\u0432\u044b\u0439\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439\u041f\u043e\u0438\u0441\u043a2(\u0442\u0435\u043a\u0441\u0442\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b,\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u041f\u0440\u043e\u0431\u0435\u043b\u043e\u0432\u041f\u0440\u0435\u0444\u0438\u043a\u0441\u0430);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439\u041f\u043e\u0438\u0441\u043a2;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043d\u0438\u0433\u0430 = \u043a\u043b\u0430\u0441\u0441 {\n      \u043a\u043d\u0438\u0433\u0430(\u0442\u0435\u043a\u0441\u0442\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b) {\n        id = \u043d\u043e\u0432\u0430\u044f\u041a\u043d\u0438\u0433\u0430(\u0442\u0435\u043a\u0441\u0442\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043a\u043d\u0438\u0433\u0430;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043d\u0438\u0433\u0430\u041f\u043e\u0421\u0441\u044b\u043b\u043a\u0435 = \u043a\u043b\u0430\u0441\u0441 {\n      \u043a\u043d\u0438\u0433\u0430(\u0442\u0435\u043a\u0441\u0442\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b,\u0433\u043b\u0430\u0432\u0430,\u043f\u0435\u0440\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430,\u0432\u0442\u043e\u0440\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430) {\n        id = \u043d\u043e\u0432\u0430\u044f\u041a\u043d\u0438\u0433\u0430\u041f\u043e\u0421\u0441\u044b\u043b\u043a\u0435(\u0442\u0435\u043a\u0441\u0442\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b,\u0433\u043b\u0430\u0432\u0430,\u043f\u0435\u0440\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430,\u0432\u0442\u043e\u0440\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043a\u043d\u0438\u0433\u0430;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 = \u043a\u043b\u0430\u0441\u0441 {\n      \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438(_\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438, _\u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a, _\u043a\u043b\u0430\u0441\u0441\u041b\u044d\u0439\u0431\u043b\u0430, _\u043d\u0435\u041f\u0435\u0447\u0430\u0442\u0430\u0442\u044c, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a) {\n        id = \u043d\u043e\u0432\u044b\u0435\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438(_\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438, _\u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a,  _\u043a\u043b\u0430\u0441\u0441\u041b\u044d\u0439\u0431\u043b\u0430, _\u043d\u0435\u041f\u0435\u0447\u0430\u0442\u0430\u0442\u044c, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.svg = \u043a\u043b\u0430\u0441\u0441 {\n      svg(_\u043b\u043e\u0433\u043e, _\u0448\u0438\u0440\u0438\u043d\u0430, _\u0432\u044b\u0441\u043e\u0442\u0430, _\u0442\u043e\u043b\u044c\u043a\u043e\u041f\u0440\u0438\u041f\u0435\u0447\u0430\u0442\u0438) {\n        id = \u043d\u043e\u0432\u044b\u0439Svg(_\u043b\u043e\u0433\u043e, _\u0448\u0438\u0440\u0438\u043d\u0430, _\u0432\u044b\u0441\u043e\u0442\u0430, _\u0442\u043e\u043b\u044c\u043a\u043e\u041f\u0440\u0438\u041f\u0435\u0447\u0430\u0442\u0438);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.svg;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043c\u0435\u043d\u044e = \u043a\u043b\u0430\u0441\u0441 {\n      \u043c\u0435\u043d\u044e(_\u043f\u0443\u043d\u043a\u0442\u044b, _\u0442\u043e\u043b\u044c\u043a\u043e\u041f\u0440\u0438\u041f\u0435\u0447\u0430\u0442\u0438) {\n        id = \u043d\u043e\u0432\u043e\u0435\u041c\u0435\u043d\u044e(_\u043f\u0443\u043d\u043a\u0442\u044b, _\u0442\u043e\u043b\u044c\u043a\u043e\u041f\u0440\u0438\u041f\u0435\u0447\u0430\u0442\u0438);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043c\u0435\u043d\u044e;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.div = \u043a\u043b\u0430\u0441\u0441 {\n      div(_\u043a\u043b\u0430\u0441\u0441\u044b, _\u0442\u0435\u043a\u0441\u0442, _\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c) {\n        id = \u043d\u043e\u0432\u044b\u0439Div(_\u043a\u043b\u0430\u0441\u0441\u044b, _\u0442\u0435\u043a\u0441\u0442, _\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.div;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0430\u0443\u0434\u0438\u043e\u041f\u043b\u0435\u0435\u0440 = \u043a\u043b\u0430\u0441\u0441 {\n      \u0430\u0443\u0434\u0438\u043e\u041f\u043b\u0435\u0435\u0440() {\n        id = \u043d\u043e\u0432\u044b\u0439\u0410\u0443\u0434\u0438\u043e\u041f\u043b\u0435\u0435\u0440();\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0430\u0443\u0434\u0438\u043e\u041f\u043b\u0435\u0435\u0440;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0430\u043a\u043a\u043e\u0440\u0434\u0438\u043e\u043d = \u043a\u043b\u0430\u0441\u0441 {\n      \u0430\u043a\u043a\u043e\u0440\u0434\u0438\u043e\u043d(\u043f\u0443\u043d\u043a\u0442\u044b) {\n        id = \u043d\u043e\u0432\u044b\u0439\u0410\u043a\u043a\u043e\u0440\u0434\u0438\u043e\u043d(\u043f\u0443\u043d\u043a\u0442\u044b);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0430\u043a\u043a\u043e\u0440\u0434\u0438\u043e\u043d;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 = \u043a\u043b\u0430\u0441\u0441 {\n      \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440(\u0444\u043e\u0440\u043c\u0443\u043b\u0430) {\n        id = \u043d\u043e\u0432\u044b\u0439\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440(\u0444\u043e\u0440\u043c\u0443\u043b\u0430);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0448\u0430\u0445\u043c\u0430\u0442\u044b = \u043a\u043b\u0430\u0441\u0441 {\n      \u0448\u0430\u0445\u043c\u0430\u0442\u044b(\u0444\u043e\u0440\u043c\u0443\u043b\u0430) {\n        id = \u043d\u043e\u0432\u044b\u0435\u0428\u0430\u0445\u043c\u0430\u0442\u044b(\u0444\u043e\u0440\u043c\u0443\u043b\u0430);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0448\u0430\u0445\u043c\u0430\u0442\u044b;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c = \u043a\u043b\u0430\u0441\u0441 {\n      \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c(\u0444\u043e\u0440\u043c\u0443\u043b\u0430) {\n        id = \u043d\u043e\u0432\u044b\u0439\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c(\u0444\u043e\u0440\u043c\u0443\u043b\u0430);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u0440\u0435\u0441\u0442 = \u043a\u043b\u0430\u0441\u0441 {\n      \u043a\u0440\u0435\u0441\u0442(\u0444\u043e\u0440\u043c\u0443\u043b\u0430) {\n        id = \u043d\u043e\u0432\u044b\u0439\u041a\u0440\u0435\u0441\u0442(\u0444\u043e\u0440\u043c\u0443\u043b\u0430);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043a\u0440\u0435\u0441\u0442;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440 = \u043a\u043b\u0430\u0441\u0441 {\n      \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440(\u0444\u043e\u0440\u043c\u0443\u043b\u0430) {\n        id = \u043d\u043e\u0432\u044b\u0439\u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440(\u0444\u043e\u0440\u043c\u0443\u043b\u0430);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440;\n    \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 = \u043a\u043b\u0430\u0441\u0441 {\n      \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435(\u0444\u043e\u0440\u043c\u0443\u043b\u0430) {\n        id = \u043d\u043e\u0432\u043e\u0435\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435(\u0444\u043e\u0440\u043c\u0443\u043b\u0430);\n        \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 += id;\n        \u0432\u0435\u0440\u043d\u0443\u0442\u044c id;\n      }\n    }.\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435;\n    "}convertBookPageText(l,a,h){let f=(new vA).parseAndJoin(l),p=this.getStdSrc()+f+" \u0432\u0435\u0440\u043d\u0443\u0442\u044c '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';",g=new jx,m=O=>{O.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0432\u0435\u0440\u0441\u0438\u044f",g.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.config?this.config.environment.version:"\u0412\u0435\u0440\u0441\u0438\u044f 2.0+")),g.addMethod(O,"\u043c\u043e\u0436\u043d\u043e\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u042f\u0437\u044b\u043a",(C,S)=>{var x=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S[1]),D=!!this.config&&!!this.config[{cjs:"useCJsLang","js-es5":"useJsLang",cyrillic:"useCyrillicLang"}[x.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()]];return C.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(D)}),g.addMethod(O,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0421\u043f\u0438\u0441\u043e\u043a\u041a\u043d\u0438\u0433\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438",(C,S)=>{let w=C.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432");return this.libraryInfo&&w.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(this.libraryInfo.content.map(x=>{let T=C.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043a\u0430\u0440\u0442\u0430");T.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440",C.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(x.name)),T.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0441\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u0438\u044f",C.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435((x.path2?x.path2:[]).map(k=>C.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(k))));let D=this.libraryInfo.settings.find(k=>k.name==x.name);return T.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0438\u043c\u044f",C.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(D?D.value:"")),T.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",C.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435((D&&D.value2?D.value2:[]).map(k=>C.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(k)))),T})),w}),g.addMethod(O,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0422\u0435\u043a\u0443\u0449\u0443\u044e\u041a\u043d\u0438\u0433\u0443",(C,S)=>{let w=this.uiConfig?this.uiConfig.ui.currentBook.getStringValue():"";return C.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(w)}),g.addMethod(O,"\u043d\u0435\u0427\u0438\u0442\u0430\u0435\u0442\u0441\u044f\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c",(C,S)=>{var x=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S[1]);let T=vg.getNowDate(x.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),D=vg.getRelativePashaDayDate((new Date).getFullYear(),-3),k=vg.getRelativePashaDayDate((new Date).getFullYear(),7),P=vg.daysDiff(T,D),N=vg.daysDiff(T,k),F=P>=0&&N<0;return C.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(F)}),g.addMethod(O,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u043e\u0441\u0435\u0449\u0451\u043d\u043d\u0443\u044e\u0412\u0435\u0440\u0441\u0438\u044e",(C,S)=>{var x=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S[1]);let T=this.uiConfig?this.uiConfig.ui.visitedBooksHelp.getStringValue():"";if(this.uiConfig)switch(x.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()){case"\u043a\u043d\u0438\u0433\u0438":T=this.uiConfig.ui.visitedBooksHelp.getStringValue();break;case"\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a":T=this.uiConfig.ui.visitedMemorialHelp.getStringValue();break;case"\u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440":T=this.uiConfig.ui.visitedCalculatorHelp.getStringValue();break;case"\u0448\u0430\u0445\u043c\u0430\u0442\u044b":T=this.uiConfig.ui.visitedChessHelp.getStringValue();break;case"\u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c":T=this.uiConfig.ui.visitedCalendarHelp.getStringValue();break;case"\u043a\u0440\u0435\u0441\u0442":T=this.uiConfig.ui.visitedCrossHelp.getStringValue();break;case"\u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440":T=this.uiConfig.ui.visitedCompilerHelp.getStringValue();break;case"\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435":T=this.uiConfig.ui.visitedSchedulerHelp.getStringValue()}return C.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(T)}),g.addMethod(O,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u043e\u0441\u0435\u0449\u0451\u043d\u043d\u0443\u044e\u0412\u0435\u0440\u0441\u0438\u044e",(C,S)=>{var x=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S[1]),D=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S[2]);if(this.uiConfig)switch(D.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()){case"\u043a\u043d\u0438\u0433\u0438":this.uiConfig.ui.visitedBooksHelp.setStringValue(x.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());break;case"\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a":this.uiConfig.ui.visitedMemorialHelp.setStringValue(x.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());break;case"\u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440":this.uiConfig.ui.visitedCalculatorHelp.setStringValue(x.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());break;case"\u0448\u0430\u0445\u043c\u0430\u0442\u044b":this.uiConfig.ui.visitedChessHelp.setStringValue(x.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());break;case"\u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c":this.uiConfig.ui.visitedCalendarHelp.setStringValue(x.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());break;case"\u043a\u0440\u0435\u0441\u0442":this.uiConfig.ui.visitedCrossHelp.setStringValue(x.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());break;case"\u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440":this.uiConfig.ui.visitedCompilerHelp.setStringValue(x.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());break;case"\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435":this.uiConfig.ui.visitedSchedulerHelp.setStringValue(x.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())}return S[0]}),g.addMethod(O,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u041a\u043d\u0438\u0433\u0438",(C,S)=>{var x=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S[1]);return this.onNewTitleEvent.run(x.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this.config?.messageBus.sendMessage(cl.builder().setType("MemorialNewTitle").setText(x.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setTarget("MemorialMainWindow")),S[0]}),g.addMethod(O,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0422\u0435\u043a\u0443\u0449\u0443\u044e\u041a\u0430\u0444\u0438\u0437\u043c\u0443",(C,S)=>{let x=this.uiConfig?this.uiConfig.ui.currentOffset.getNumberValue():0;x<0&&(x=this.uiConfig?this.uiConfig.ui.currentPersonOffset.getNumberValue():0);let T=wn.getKafizmNumberBy(17,x);return C.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(T)}),g.addMethod(O,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043a\u0443\u0449\u0443\u044e\u041a\u0430\u0444\u0438\u0437\u043c\u0443",(C,S)=>{var x=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S[1]);return this.uiConfig&&this.uiConfig.ui.currentOffset.setNumberValue(wn.getOffsetByKafizmNumber(17,x.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e())),x}),g.addMethod(O,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u044b\u0439\u041f\u0441\u0430\u043b\u043e\u043c",(C,S)=>{let w=this.uiConfig?this.uiConfig.ui.memorialChapterRequested.getNumberValue():0;return this.uiConfig?.ui.memorialChapterRequested.setNumberValue(-1),C.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(w)}),g.addMethod(O,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u0422\u0435\u043a\u0443\u0449\u0438\u0439\u041f\u0441\u0430\u043b\u043e\u043c",(C,S)=>{let w=this.uiConfig?this.uiConfig.ui.currentMemorialPsalom.getNumberValue():0;return C.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0447\u0438\u0441\u043b\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(w)}),g.addMethod(O,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043a\u0443\u0449\u0438\u0439\u041f\u0441\u0430\u043b\u043e\u043c",(C,S)=>{var x=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S[1]);return this.uiConfig&&this.uiConfig.ui.currentMemorialPsalom.setNumberValue(x.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()),x}),g.addMethod(O,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u043e\u043a\u0430\u0437\u041c\u043e\u043b\u0438\u0442\u0432",(C,S)=>{let w=!this.uiConfig||this.uiConfig.ui.showMolitvy.getBooleanValue();return C.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(w)}),g.addMethod(O,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u043e\u043a\u0430\u0437\u041c\u043e\u043b\u0438\u0442\u0432",(C,S)=>{var x=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S[1]);return this.uiConfig&&this.uiConfig.ui.currentMemorialPsalom.setBooleanValue(x.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()),x}),g.addMethod(O,"\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c",(C,S)=>{let w=!this.uiConfig||this.uiConfig.ui.memorialPsaltir.getBooleanValue();return C.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(w)}),g.addMethod(O,"\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u041e\u0431\u043b\u043e\u0436\u043a\u0443",(C,S)=>{let w=!this.uiConfig||this.uiConfig.ui.showFacePage.getBooleanValue();return C.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(w)}),g.addMethod(O,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438",(C,S)=>{let w=C.\u043d\u043e\u0432\u044b\u0439\u041c\u0430\u0441\u0441\u0438\u0432("\u043c\u0430\u0441\u0441\u0438\u0432").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435([]);if(this.memorialSvc){let x=this.memorialSvc.getMemorials();x&&x.items.forEach(T=>{let D=C.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043a\u0430\u0440\u0442\u0430");D.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.set("\u0438\u043c\u044f",C.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(T.name)),w.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().push(D)})}return w}),g.addMethod(O,"\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c\u0421\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u0438",(C,S)=>{var x=S[2],T=S[3],D=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S[1]),k=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x),P=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(T);return P.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()||this.audioSvc?.stop(),this.audioSvc?.startCheckUI(N=>{},D.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),k.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e(),P.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()),C.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0)}),g.addMethod(O,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439",(C,S)=>{var x=S[2],T=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S[1]),D=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x);return this.config?.messageBus.removeAllTargetHandlers(T.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),this.addSubscription(this.config?.messageBus.addTargetHandler(T.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),k=>{this.config?.post(()=>{let P=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));m(P),P.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0446\u0435\u043b\u0435\u0432\u043e\u0439\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a",D);let N=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),F=N.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430();F&&(F.set("\u0446\u0435\u043b\u044c",C.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(k.target)),F.set("\u0442\u0435\u043a\u0441\u0442",C.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(k.text)),F.set("\u0442\u0438\u043f",C.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(k.type)),F.set("\u043f\u043e\u0434\u0442\u0438\u043f",C.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(k.subType))),P.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",N),g.run("\n              \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0446\u0435\u043b\u0435\u0432\u043e\u0439\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435);\n              \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';\n            ",v,P,y).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()})})),C.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!0)}),g.addMethod(O,"\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c\u0426\u0435\u043b\u0435\u0432\u043e\u0435\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",(C,S)=>{var x=S[2],T=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S[1]),D=C.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x);return this.config?.messageBus.sendMessage(cl.builder().setTarget(T.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setText(D.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())),D}),g.addBookmarksEnvironment(O,this.uiConfig)},v=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),_=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));m(_);let y=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));return g.addMethod(y,"\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0422\u0435\u043a\u0441\u0442",(O,C)=>{var w=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),x=this.convertBookPageText(w.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),a,h);return O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(x)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0439\u0422\u0435\u043a\u0441\u0442",(O,C)=>O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1])),g.addMethod(y,"\u043d\u043e\u0432\u0430\u044f\u0413\u0430\u043b\u043e\u0447\u043a\u0430",(O,C)=>{var w=C[2],x=C[3],T=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),D=w?O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w):null,k=x?O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x):null;let P=Ir.builder().setClasses(FU.getLastClass("")).setText(T.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),N=QU.builder().setText(P.text).setOnClick(()=>{let L=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),$=O.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043e\u0431\u044a\u0435\u043a\u0442");m(L),L.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a",N.tag.data),L.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0433\u0430\u043b\u043e\u0447\u043a\u0430",$),g.addMethod($,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043a\u0441\u0442",(z,ee)=>{var B=z.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(ee[1]);return N.text=B.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),null}),g.addMethod($,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0413\u0430\u043b\u043e\u0447\u043a\u0443",(z,ee)=>{var B=z.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(ee[1]);return N.classes.setCheck(B.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()),null}),g.run("\n            \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0433\u0430\u043b\u043e\u0447\u043a\u0430);\n            \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';\n          ",v,L,y).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()});N.classes.setCheck(!!D&&D.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()),N.setTag(om.builder().setData(k));let F=h();return a.set(F,P.setComponent(new sn(nht,N))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${F}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u0430\u044f\u041a\u043d\u043e\u043f\u043a\u0430",(O,C)=>{var w=C[2],x=C[3],T=C[4],D=C[5],k=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),P=w?O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w):null,N=x?O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x):null,F=T?O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(T):null,L=D?O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(D):null;let $=!1;N&&N.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().split(/[ \r\n\t]+/).forEach(te=>{"outline"===te&&($=!0)});let U=Ir.builder().setClasses(FU.getLastClass(P?P.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430():"")).setText(k.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),z=zU.builder().setText(U.text).setOnClick(()=>{let te=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));m(te);let B=O.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043e\u0431\u044a\u0435\u043a\u0442");te.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a",z.tag.data),te.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u043a\u043d\u043e\u043f\u043a\u0430",B),g.addMethod(B,"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0435\u043a\u0441\u0442",(W,q)=>{var K=W.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(q[1]);return z.text=K.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),null}),g.addMethod(B,"\u043f\u0435\u0440\u0435\u0445\u043e\u0434",(W,q)=>{var K=W.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(q[1]);return this.onRouteEvent.run(K?K.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430():""),null}),g.run("\n            \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043a\u043d\u043e\u043f\u043a\u0430);\n            \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';\n          ",v,te,y).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()});z.setTag(om.builder().setData(F)),z.classes.setBlock(!L||L.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()).setType(P?P.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430():"primary").setOutline($);let ee=h();return a.set(ee,U.setComponent(new sn(tht,z))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${ee}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u0430\u044f\u041a\u043d\u043e\u043f\u043a\u0430\u041f\u0440\u0438\u043c\u0435\u0440\u043e\u0432",(O,C)=>{var S=C[1],w=S?O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S):null;let x=Ir.builder(),T=h(),D=HG.builder().setOnClick(k=>{let P=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));m(P);let N=O.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043e\u0431\u044a\u0435\u043a\u0442");P.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a",D.tag.data),P.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u043a\u043d\u043e\u043f\u043a\u0430",N),P.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0441\u0441\u044b\u043b\u043a\u0430",g.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(k)),g.addMethod(N,"\u043f\u0435\u0440\u0435\u0445\u043e\u0434",(L,$)=>{var z=L.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439($[1]);return this.onRouteEvent.run(z?z.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430():""),null}),g.run("\n            \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043a\u043d\u043e\u043f\u043a\u0430);\n            \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';\n          ",v,P,y).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()});return D.setTag(om.builder().setData(w)),a.set(T,x.setComponent(new sn(RAt,D))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${T}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u0430\u044f\u041a\u043d\u043e\u043f\u043a\u0430\u042f\u0437\u044b\u043a\u043e\u0432",(O,C)=>{var S=C[1],w=S?O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S):null;let x=Ir.builder(),T=h(),D=YG.builder().setOnClick(k=>{let P=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));m(P);let N=O.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043e\u0431\u044a\u0435\u043a\u0442");P.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a",D.tag.data),P.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u043a\u043d\u043e\u043f\u043a\u0430",N),P.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0441\u0441\u044b\u043b\u043a\u0430",g.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(k)),g.addMethod(N,"\u043f\u0435\u0440\u0435\u0445\u043e\u0434",(L,$)=>{var z=L.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439($[1]);return this.onRouteEvent.run(z?z.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430():""),null}),g.run("\n            \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043a\u043d\u043e\u043f\u043a\u0430);\n            \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';\n          ",v,P,y).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()});return D.setTag(om.builder().setData(w)),a.set(T,x.setComponent(new sn(Oke,D))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${T}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0435\u0421\u0442\u043e\u043b\u0431\u0446\u044b",(O,C)=>{var w=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);let x=Ir.builder(),T=h(),k=[],P=w.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),F=(this.getFragments(a,P,k,[]),UG.builder().setComponents(k.map(L=>L.component).filter(L=>!!L).map(L=>L)));return a.set(T,x.setComponent(new sn(MAt,F))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${T}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0439\u0421\u043f\u0438\u0441\u043e\u043a",(O,C)=>{var w=C[2],x=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),T=w?O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w):null;let D=Ir.builder(),k=WU.builder().setItems(x?x.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map(N=>this.makeFragmentComponents(N.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())):[]);k.classes.setOrdered(!!T&&T.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e());let P=h();return a.set(P,D.setComponent(new sn(aht,k))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${P}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u0430\u044f\u0421\u0441\u044b\u043b\u043a\u0430\u041d\u0430\u041f\u043e\u0447\u0442\u0443",(O,C)=>{var w=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);let x=Ir.builder(),T=lX.builder();T.config.setDevId(w.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());let D=h();return a.set(D,x.setComponent(new sn(uIt,T))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${D}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0439\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a",(O,C)=>{var w=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),T=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[2]),k=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[3]),N=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[4]),L=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[5]),U=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[6]);let z=Ir.builder(),ee=jU.builder(),te="";if(w.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e())switch(k.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()){case 1:te=this.uiConfig?this.uiConfig.ui.memorialSlava1Tags.getStringValue():"";break;case 2:te=this.uiConfig?this.uiConfig.ui.memorialSlava2Tags.getStringValue():"";break;case 3:te=this.uiConfig?this.uiConfig.ui.memorialSlava3Tags.getStringValue():""}ee.setReadonly(w.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()).setText(T.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setId(L.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setTargetId(U.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),ee.classes.setSlava1Zdrav(1==k.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()&&N.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()).setSlava1Upok(1==k.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()&&!N.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()).setSlava2Zdrav(2==k.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()&&N.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()).setSlava2Upok(2==k.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()&&!N.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()).setSlava3Zdrav(3==k.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()&&N.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()).setSlava3Upok(3==k.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()&&!N.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()).setLabels(te);let B=h();return a.set(B,z.setComponent(new sn(U1e,ee))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${B}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0439\u0422\u0435\u043a\u0441\u0442\u041a\u043e\u0434\u0430",(O,C)=>{var w=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),T=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[2]),k=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[3]);let P=Ir.builder(),N=h();return a.set(N,P.setComponent(new sn(QTe,TA.builder().setText(w.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setLanguage("c-js").updateConfig(F=>F.setResultEnabled(T.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()>0&&k.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()>0).setResultWidth(T.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()).setResultHeight(k.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${N}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0439\u0425\u043e\u043b\u0441\u0442",(O,C)=>{var w=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),T=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[2]),k=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[3]);let P=Ir.builder(),N=h();return a.set(N,P.setComponent(new sn(vG,vO.builder().setText(w.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).updateConfig(F=>{F.setWidth(T.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()).setHeight(k.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e())})))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${N}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0439\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439\u041f\u043e\u0438\u0441\u043a",(O,C)=>{var w=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);let x=Ir.builder(),T=h();return a.set(T,x.setComponent(new sn(JG,uL.builder().setText(w.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${T}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0439\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439\u041f\u043e\u0438\u0441\u043a2",(O,C)=>{var w=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),T=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[2]);let D=Ir.builder(),k=h();return a.set(k,D.setComponent(new sn(JG,uL.builder().setText(w.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).update(P=>P.setPrefixSpacesCount(T.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()))))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${k}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u0430\u044f\u041a\u043d\u0438\u0433\u0430",(O,C)=>{var w=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);let x=Ir.builder(),T=h();return a.set(T,x.setComponent(new sn(Dl,Ta.builder().setText(w.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setHideUI(!0).setParallel(!0).setLinebreaks(!0).setLink(xa.builder().setTextIsPage(!0).setBookName("Mem").setChapter("1").setStartLine(1).setEndLine(1e3).setOnRoute(D=>{}))))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${T}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u0430\u044f\u041a\u043d\u0438\u0433\u0430\u041f\u043e\u0421\u0441\u044b\u043b\u043a\u0435",(O,C)=>{var w=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),T=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[2]),k=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[3]),N=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[4]);let F=Ir.builder(),L=h();return a.set(L,F.setComponent(new sn(Dl,Ta.builder().setText(w.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setHideUI(!0).setParallel(!0).setLinebreaks(!0).setLink(xa.builder().setTextIsPage(!1).setBookName(w.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setChapter(T.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setStartLine(k.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()).setEndLine(N.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()).setOnRoute($=>{}))))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${L}}`)}),g.addMethod(y,"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043d\u0438\u0433\u0443",(O,C)=>{var w=C[2],x=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),T=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w);let D=T.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430();D=D.substring(1,D.length-1);let P=a.get(D)?.component?.data;return P&&P.setText(x.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),P?T:O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("")}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0435\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438",(O,C)=>{var w=C[2],x=C[3],T=C[4],D=C[5],k=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),P=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w),N=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(T),F=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(x),L=D?O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(D):null;F&&F.\u044d\u0442\u043e\u041d\u0443\u043b\u044c()&&(F=null);let $=Ir.builder(),U=h(),z=hh.builder().setItems(k.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map(ee=>ee).map(ee=>ka.builder().setText(O.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(ee.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u0442\u0435\u043a\u0441\u0442")).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setTag(O.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(ee.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u0442\u0435\u0433")).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setSelected(O.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(ee.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u0442\u0435\u0433")).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()==P.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())));return F&&z.classes.setLabelNormal(F.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),N&&z.classes.setNoPrint(N.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()),z.setTag(om.builder().setData(L)),z.setOnClick(ee=>{let te=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));m(te);let B=O.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u043e\u0431\u044a\u0435\u043a\u0442");te.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a",z.tag.data),te.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438",B),te.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0442\u0435\u0433",O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(ee.tag)),g.addMethod(B,"\u0432\u044b\u0431\u0440\u0430\u0442\u044c",(W,q)=>{var K=W.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(q[1]);return z.items.forEach(J=>J.setSelected(J.tag==K.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430())),null}),g.run("\n            \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a.\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438);\n            \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';\n          ",v,te,y).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()}),a.set(U,$.setComponent(new sn(SA,z))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${U}}`)}),g.addMethod(y,"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438",(O,C)=>{var S=C[1],w=C[2],x=C[3],T=C[4],D=C[5],k=C[6],P=S?O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(S):null,N=w?O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w):null,F=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(x),L=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c(T),$=D?O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(D):null,U=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(k);P&&P.\u044d\u0442\u043e\u041d\u0443\u043b\u044c()&&(P=null),N&&N.\u044d\u0442\u043e\u041d\u0443\u043b\u044c()&&(N=null),F&&F.\u044d\u0442\u043e\u041d\u0443\u043b\u044c()&&(F=null),L&&L.\u044d\u0442\u043e\u041d\u0443\u043b\u044c()&&(L=null),$&&$.\u044d\u0442\u043e\u041d\u0443\u043b\u044c()&&($=null);let z=U.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430();z=z.substring(1,z.length-1);let te=a.get(z)?.component?.data;return te&&(P?te.setItems(P.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map(B=>B).map(B=>ka.builder().setText(O.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(B.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u0442\u0435\u043a\u0441\u0442")).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setTag(O.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(B.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u0442\u0435\u0433")).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setSelected(O.\u043d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(B.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().get("\u0442\u0435\u0433")).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()==N?.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()))):te.items.forEach(B=>B.setSelected(B.tag==N?.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()))),F&&te.classes.setLabelNormal(F.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()),L&&te.classes.setNoPrint(L.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()),$&&te.setTag(om.builder().setData($)),te?U:O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435("")}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0439Svg",(O,C)=>{var w=C[2],x=C[3],T=C[4],D=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),k=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w),P=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x),N=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(T);let F=Ir.builder(),L=h();return a.set(L,F.setComponent(new sn(ipt,wQ.builder().setText("").setGenName(D.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setSvgWidth(k.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()).setSvgHeight(P.\u043a\u0430\u043a\u0427\u0438\u0441\u043b\u043e()).updateClasses($=>$.setPrintOnly(N.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()))))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${L}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u043e\u0435\u041c\u0435\u043d\u044e",(O,C)=>{var w=C[2],x=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),T=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w);let D=Ir.builder(),k=h(),P=wm.builder().setText("").setWhiteBack(!0);return P.menuState.setGenName("MenuDay2").setPrintOnly(T.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e()),x.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map(N=>N).forEach(N=>{P.addCommand(Ba.builder().setName(N.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setTag(N.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()))}),a.set(k,D.setComponent(new sn(dA,P))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${k}}`)}),g.addMethod(y,"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c\u041c\u0435\u043d\u044e",(O,C)=>{var w=C[2],x=C[3],T=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),D=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w);let P=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430();P=P.substring(1,P.length-1);let F=a.get(P)?.component?.data;if(F){let L=em.builder().setGenName("MenuDay2").setPrintOnly(D.\u043a\u0430\u043a\u0411\u0443\u043b\u0435\u0432\u043e());T.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map($=>$).forEach($=>{L.addCommand(Ba.builder().setName($.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).setTag($.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()))}),F.setMenuState(L)}return O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${P}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0439Div",(O,C)=>{var w=C[2],x=C[3],T=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]),D=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(w),k=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(x);let P=Ir.builder(),N=h(),F=[],L=[],$=D.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),U=this.getFragments(a,$,L,F);return a.set(N,P.setComponent(new sn(Q1e,TQ.builder().setText(F.length?"":$).setId(U).setComponents(L.map(z=>z.component).filter(z=>!!z).map(z=>z)).setWaitingForSenderid(k.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).update(z=>{T.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430().split(/[ \r\n\t]+/).forEach(te=>{switch(te.toLowerCase()){case"\u0440\u0430\u0441\u0442\u044f\u0433\u0438\u0432\u0430\u0442\u044c":z.setFineText(!0);break;case"\u0440\u0430\u0437\u0440\u044b\u0432\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b\u0434\u043e":z.setPageBreakBefore(!0);break;case"\u0440\u0430\u0437\u0440\u044b\u0432\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b\u043f\u043e\u0441\u043b\u0435":z.setPageBreakAfter(!0);break;case"\u0442\u043e\u043b\u044c\u043a\u043e\u043f\u0440\u0438\u043f\u0435\u0447\u0430\u0442\u0438":z.setPrintOnly(!0);break;case"\u043d\u0435\u043f\u0440\u0438\u043f\u0435\u0447\u0430\u0442\u0438":z.setNoPrint(!0);break;default:z.addSClass(te)}})})))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${N}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0439\u0410\u0443\u0434\u0438\u043e\u041f\u043b\u0435\u0435\u0440",(O,C)=>{let S=Ir.builder(),w=h();return a.set(w,S.setComponent(new sn(fpt,DQ.builder().setText("").update(x=>{})))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${w}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0439\u0410\u043a\u043a\u043e\u0440\u0434\u0438\u043e\u043d",(O,C)=>{var w=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);let x=PQ.builder().setText("").update(k=>{});w.\u043a\u0430\u043a\u041c\u0430\u0441\u0441\u0438\u0432().map(k=>k).forEach(k=>{let P=k.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.get("\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")?.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),N=k.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430()?.get("\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442")?.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430();N&&(N=N.startsWith("{")?N.substring(1):N,N=N.endsWith("}")?N.substring(0,N.length-1):N);let F=a.get(N||"");F&&x.addItem(EQ.builder().setTitle(P||"\u041f\u0443\u043d\u043a\u0442\u0438\u043a").setComponent(F.component))});let T=Ir.builder(),D=h();return a.set(D,T.setComponent(new sn(vpt,x))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${D}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0439\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440",(O,C)=>{O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);let x=IQ.builder().setText("").update(k=>{}),T=Ir.builder(),D=h();return a.set(D,T.setComponent(new sn(vEt,x))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${D}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0435\u0428\u0430\u0445\u043c\u0430\u0442\u044b",(O,C)=>{var w=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);let x=nX.builder().setText(w.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).update(k=>{}),T=Ir.builder(),D=h();return a.set(D,T.setComponent(new sn(cIt,x))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${D}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0439\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c",(O,C)=>{O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);let x=OG.builder().setText("").update(k=>{}),T=Ir.builder(),D=h();return a.set(D,T.setComponent(new sn(SPt,x))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${D}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0439\u041a\u0440\u0435\u0441\u0442",(O,C)=>{O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);let x=GG.builder().setText("").update(k=>{}),T=Ir.builder(),D=h();return a.set(D,T.setComponent(new sn(HAt,x))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${D}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u044b\u0439\u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440",(O,C)=>{var w=O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);let x=e_.builder().setText("").setFullScreen("\u043f\u043e\u043b\u043d\u044b\u0439 \u044d\u043a\u0440\u0430\u043d"==w.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()).update(k=>{}),T=Ir.builder(),D=h();return a.set(D,T.setComponent(new sn(KR,x))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${D}}`)}),g.addMethod(y,"\u043d\u043e\u0432\u043e\u0435\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435",(O,C)=>{O.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(C[1]);let x=$G.builder().setText("").update(k=>{}),T=Ir.builder(),D=h();return a.set(D,T.setComponent(new sn(kAt,x))),O.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(`{${D}}`)}),g.run(p,v,_,y).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()}getFragments(l,a,h,d){let f="";return a.startsWith("{")&&a.endsWith("}")&&(d=a.split(",").filter(p=>{let g=!1;return p.startsWith("{")&&p.endsWith("}")&&(g=!0),g}).map(p=>p.substring(1,p.length-1))),d.forEach(p=>{let g=l.get(p);g&&(f||(f=p),h.push(g))}),f}makeFragmentComponents(l){let a=this.converter.parseFragments(new Map,f=>f,l),h=[Qx.builder().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b(a).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430(!1).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0422\u0438\u043f(yU.\u0422\u0435\u043a\u0441\u0442)],d=pO.builder().setText(l);return d.config.setLineIndex(0).setBook(dL.builder().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0438(h)),new sn(mA,d)}loadBookPageText(l,a=null){if(!l)return void(a&&a(!1));let h=0,f=new Map,p=dL.builder().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0421\u0442\u0440\u043e\u043a\u0438([]);this.convertBookPageText(l,f,()=>""+h++).split("\n").forEach((m,v)=>{let _=this.transformLine(m),y=null==this.bookInfo?.content.find(C=>C.name.toLowerCase().endsWith("-ucs8")),b=this.converter.parseFragments(f,C=>{let S="";if(this.libraryInfo){let w=this.libraryInfo.content.find(x=>x.path2?.find(T=>T==C));w&&(S=w.name)}return S},_.trim(),(!this.uiConfig||this.uiConfig.ui.coloredTranslations.getBooleanValue())&&this.books.length%2?"redDark":"red",y,this.dictionariesSvc),O=pO.builder().setText(_.trim());O.config.setBook(p).setBookSvc(this),p.\u0441\u0442\u0440\u043e\u043a\u0438.push(Qx.builder().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b(b).\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442(new sn(mA,O)))}),this.books.push(p.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041a\u043d\u0438\u0433\u0438(this.books.length)),this.generateLineIndexes(),a&&a(!0)}isZeroLineFound(l){return 0==l[0].fragments.length||l[0].\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b.map(a=>!!a.classes.redDark||!!a.classes.red).reduce((a,h)=>a&&h)}generateLineIndexes(){this.lineIndexes=[];let l=this.books.map(f=>f.\u0441\u0442\u0440\u043e\u043a\u0438.length+(this.isZeroLineFound(f.\u0441\u0442\u0440\u043e\u043a\u0438)?0:1)).reduce((f,p)=>Math.max(f,p));this.books.map(f=>this.isZeroLineFound(f.\u0441\u0442\u0440\u043e\u043a\u0438)).reduce((f,p)=>p||f,!1),this.books.forEach(f=>{let p=!1;this.isZeroLineFound(f.\u0441\u0442\u0440\u043e\u043a\u0438)&&(p=!0);let g=()=>Qx.builder().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442(new sn(mA,pO.builder())),m=f.\u0441\u0442\u0440\u043e\u043a\u0438.map(v=>0==v.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b.length).reduce((v,_)=>v&&_,!0);for(f.\u0441\u0442\u0440\u043e\u043a\u0438.length<l&&!p&&(f.\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445\u0421\u0442\u0440\u043e\u043a(),f.\u0441\u0442\u0440\u043e\u043a\u0438.unshift(g()));f.\u0441\u0442\u0440\u043e\u043a\u0438.length<l;)m&&f.\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445\u0421\u0442\u0440\u043e\u043a(),f.\u0441\u0442\u0440\u043e\u043a\u0438.push(g())});let h=this.getNormalBookName(),d=h.indexOf("VZ")>=0||h.indexOf("NZ")>=0;this.books.forEach((f,p)=>{for(f.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u041a\u043d\u0438\u0433\u0438(p),f.\u0441\u0442\u0440\u043e\u043a\u0438.forEach((g,m)=>{g.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430(d),g.\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442&&g.\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442.data.constructor===pO&&g.\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442.data.config.setLineIndex(m)});this.lineIndexes.length<f.\u0441\u0442\u0440\u043e\u043a\u0438.length;)this.lineIndexes.push(this.lineIndexes.length)})}toggleLanguage(l){return this.isLanguageEnabled(l)?this.bookLanguages=this.bookLanguages.filter(a=>a!=l):this.bookInfo&&null!=this.bookInfo.content.find(a=>a.name==l)&&this.bookLanguages.push(l),!this.bookLanguages.length&&this.bookInfo&&this.bookInfo.content&&this.bookLanguages.push(this.bookInfo.content[0].name),this}getShortBookName(l=null){if(!this.libraryInfo)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430.");let a=l||this.bookName,h=this.getBookContentNamePath(a),d=a;if(h){if(!h.path2||!h.path2.length)throw new Error(`\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u0438\u043c\u044f \u0434\u043b\u044f \u043a\u043d\u0438\u0433\u0438 "${a}" \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e.`);d=h.path2[0]}return d}getNormalBookName(){if(!this.libraryInfo)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430.");let l=this.getBookContentNamePath(this.bookName),a=this.bookName;return l&&(a=l.name),a}getBookChapterNewName(){let l=this.bookChapterNewName,a=mO.builder().parse(this.bookName);if(null!=a&&a.length&&a[0].length){let h=a[0][0];h.type==uh.Link&&(l=""+h.startChapter)}return l}getBookTitleName(){if(!this.libraryInfo)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430.");let l=this.getBookSettingsNamePath(this.bookName),a=this.bookName;return l&&(a=l.value),a}getChapterTitleName(){if(!this.libraryInfo)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430.");let l=this.bookChapter?this.bookChapter.name:"1",a=this.bookContent[0]?.parsed?.settings.find(d=>d.name===l),h="";if(a){h=a.value;let d=".txt";h.endsWith(d)&&(h=h.substring(0,h.length-d.length)),+h==+l&&(h="")}return h}getNormalBookNameByBookPath(l){let a=this.libraryInfo?.content.find(h=>l.startsWith(h.path));return a?a.name:null}transformLine(l){return this.linesTransformer?this.linesTransformer.transform(l):l}}class hX{constructor(){}static builder(){return new hX}}class dX extends ti{classes;bookName="";bookTitle="";bookChapter="";bookLanguages=[];printEventsEmitter=new Tt;printerHandler=null;showSettings=!0;constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new dX("",null,null,hX.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setBookName(l){return this.bookName=l,this}setBookTitle(l){return this.bookTitle=l,this}setBookChapter(l){return this.bookChapter=l,this}setBookLanguages(l){return this.bookLanguages=l,this}setEpubPrinterHandler(l){return this.printerHandler=l,this}setShowSettings(l){return this.showSettings=l,this}}const hIt=["booksViewTables"];function dIt(c,l){1&c&&se(0,"app-dynamic-errors",18),2&c&&R("data",Q(2).bookTitleData)}const fIt=function(c,l){return{btn:!0,"btn-primary":c,"btn-primary-outline":l,"btn-block":!0}};function pIt(c,l){if(1&c){const a=Ae();E(0,"clr-accordion-panel",24),Y("clrAccordionPanelOpenChange",function(d){return ce(a),ue(Q(2).showSettings=d)}),E(1,"clr-accordion-title"),H(2,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),M(),E(3,"clr-accordion-content"),se(4,"app-dynamic-settings"),E(5,"div",25)(6,"div",26)(7,"div",27)(8,"button",28),Y("click",function(){return ce(a),ue(Q(2).printBook())}),se(9,"cds-icon",29),H(10," \u041f\u0435\u0447\u0430\u0442\u044c PDF "),M()(),E(11,"div",27)(12,"button",30),Y("click",function(){return ce(a),ue(Q(2).printBookEpub())}),se(13,"cds-icon",31),H(14," \u041f\u0435\u0447\u0430\u0442\u044c EPUB "),M()()()()()()}if(2&c){const a=Q(2);R("clrAccordionPanelOpen",a.showSettings),I(12),R("ngClass",mr(2,fIt,!a.modalPrintEpubFlag,a.modalPrintEpubFlag))}}function gIt(c,l){if(1&c){const a=Ae();E(0,"clr-accordion-panel",24),Y("clrAccordionPanelOpenChange",function(d){return ce(a),ue(Q(2).showLanguages=d)}),E(1,"clr-accordion-title"),H(2,"\u042f\u0437\u044b\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b"),M(),E(3,"clr-accordion-content"),se(4,"app-dynamic-content-toolbar",18),M()()}if(2&c){const a=Q(2);R("clrAccordionPanelOpen",a.showLanguages),I(4),R("data",a.toolbarLangData)}}function mIt(c,l){if(1&c){const a=Ae();E(0,"clr-accordion-panel",24),Y("clrAccordionPanelOpenChange",function(d){return ce(a),ue(Q(2).showChapters=d)}),E(1,"clr-accordion-title"),H(2,"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435"),M(),E(3,"clr-accordion-content"),se(4,"app-dynamic-content-toolbar",18),M()()}if(2&c){const a=Q(2);R("clrAccordionPanelOpen",a.showChapters),I(4),R("data",a.toolbarData)}}function vIt(c,l){if(1&c&&(E(0,"div",3),se(1,"app-dynamic-errors",18),X(2,dIt,1,1,"app-dynamic-errors",21),E(3,"clr-accordion",22),X(4,pIt,15,5,"clr-accordion-panel",23),X(5,gIt,5,2,"clr-accordion-panel",23),X(6,mIt,5,2,"clr-accordion-panel",23),M()()),2&c){const a=Q();R("ngClass",a.getMainDivClasses()),I(1),R("data",a.errorsData),I(1),R("ngIf",a.toolbarLangData),I(2),R("ngIf",a.showSettings),I(1),R("ngIf",a.showLanguages),I(1),R("ngIf",a.showChapters&&!a.staticView)}}function _It(c,l){if(1&c){const a=Ae();E(0,"button",30),Y("click",function(){return ce(a),ue(Q(2).onPrev())}),H(1,"<<"),M()}2&c&&R("ngClass",Q(2).getChapterButtonClass())}function yIt(c,l){if(1&c){const a=Ae();E(0,"button",30),Y("click",function(){return ce(a),ue(Q(2).scrollToText())}),H(1),M()}if(2&c){const a=Q(2);R("ngClass",a.getChapterButtonClass()),I(1),ut(a.getCurrentChapterName())}}function bIt(c,l){if(1&c){const a=Ae();E(0,"button",30),Y("click",function(){return ce(a),ue(Q(2).onNext())}),H(1,">>"),M()}2&c&&R("ngClass",Q(2).getChapterButtonClass())}const OIt=function(c){return{"clr-row":!0,"fade-in-3":!0,"bottom-top-space":!0,"no-print":c}};function CIt(c,l){if(1&c&&(E(0,"div",3)(1,"div",32),X(2,_It,2,1,"button",33),M(),E(3,"div",27),X(4,yIt,2,2,"button",33),M(),E(5,"div",32),X(6,bIt,2,1,"button",33),M()()),2&c){const a=Q();R("ngClass",xr(4,OIt,!!a.changesDetectorBookDataText.oldRawValue)),I(2),R("ngIf",a.bookSvc.isPrevEnabled()),I(2),R("ngIf",a.bookSvc.lineIndexes.length),I(2),R("ngIf",a.bookSvc.isNextEnabled())}}function SIt(c,l){1&c&&(E(0,"div",36)(1,"div",37),se(2,"app-dynamic-spinner"),M()())}function wIt(c,l){if(1&c&&(E(0,"span",3),H(1),M()),2&c){const a=l.$implicit;R("ngClass",a.classes),I(1),ut(a.text)}}function xIt(c,l){if(1&c&&(E(0,"div",3),X(1,wIt,2,2,"span",39),M()),2&c){const a=l.$implicit,h=l.index,d=Q(3);R("ngClass",d.getColumnClass(a,h,d.bookSvc.books.length)),I(1),R("ngForOf",d.getBookFragments(h,a,-1))}}function TIt(c,l){if(1&c&&(E(0,"div",38),X(1,xIt,2,2,"div",39),M()),2&c){const a=Q(2);I(1),R("ngForOf",a.bookSvc.books)}}function kIt(c,l){if(1&c){const a=Ae();E(0,"div",3)(1,"span",30),Y("click",function(){ce(a);const d=Q().$implicit;return ue(Q(2).selectLine(d))}),se(2,"app-add-component",40),M()()}if(2&c){const a=l.$implicit,h=l.index,d=Q().$implicit,f=Q(2);R("ngClass",f.getColumnClass(a,h,f.bookSvc.books.length)),I(1),R("ngClass",f.getLineSelectionClass(a,d)),I(1),R("component",f.getComponent(a,d))}}function DIt(c,l){if(1&c&&(E(0,"div",38),X(1,kIt,3,3,"div",39),M()),2&c){const a=Q(2);I(1),R("ngForOf",a.bookSvc.books)}}function MIt(c,l){if(1&c&&(E(0,"div"),X(1,SIt,3,0,"div",6),X(2,TIt,2,1,"div",34),X(3,DIt,2,1,"div",35),M()),2&c){const a=Q();I(1),R("ngIf",!a.bookSvc.lineIndexes.length),I(1),R("ngIf",!a.hideUI),I(1),R("ngForOf",a.getBookIndexes(a.bookSvc.lineIndexes))}}function EIt(c,l){1&c&&(E(0,"div",37),se(1,"app-dynamic-spinner"),M())}function PIt(c,l){if(1&c&&(E(0,"span",3),H(1),M()),2&c){const a=l.$implicit;R("ngClass",a.classes),I(1),ut(a.text)}}function AIt(c,l){if(1&c&&(E(0,"div",43),X(1,PIt,2,2,"span",39),M()),2&c){const a=l.$implicit,h=l.index,d=Q(2);R("ngClass",d.getColumnClass(a,h,d.bookSvc.books.length))("hidden",d.hideUI),I(1),R("ngForOf",d.getBookFragments(h,a,-1))}}function IIt(c,l){1&c&&(E(0,"span",46),H(1,"."),M())}function RIt(c,l){if(1&c){const a=Ae();E(0,"span",30),Y("click",function(){const f=ce(a).$implicit;return ue(Q(3).selectLine(f))}),E(1,"span"),se(2,"app-add-component",40),M(),X(3,IIt,2,0,"span",45),M()}if(2&c){const a=l.$implicit,h=Q().$implicit,d=Q(2);R("ngClass",d.getLineSelectionClass(h,a)),I(2),R("component",d.getComponent(h,a)),I(1),R("ngIf",d.isSpaceAppended(h,a))}}function LIt(c,l){if(1&c&&(E(0,"div",3),X(1,RIt,4,3,"span",44),M()),2&c){const a=l.$implicit,h=l.index,d=Q(2);R("ngClass",d.getColumnClass(a,h,d.bookSvc.books.length)),I(1),R("ngForOf",d.getBookIndexes(d.bookSvc.lineIndexes))}}function NIt(c,l){if(1&c&&(E(0,"div",36),X(1,EIt,2,0,"div",41),X(2,AIt,2,3,"div",42),X(3,LIt,2,2,"div",39),M()),2&c){const a=Q();I(1),R("ngIf",!a.bookSvc.lineIndexes.length),I(1),R("ngForOf",a.bookSvc.books),I(1),R("ngForOf",a.bookSvc.books)}}function FIt(c,l){1&c&&(E(0,"div",49),se(1,"app-dynamic-spinner"),M())}function BIt(c,l){if(1&c&&(E(0,"span",3),H(1),M()),2&c){const a=l.$implicit;R("ngClass",a.classes),I(1),ut(a.text)}}function VIt(c,l){if(1&c&&(E(0,"div",3)(1,"div",50),X(2,BIt,2,2,"span",39),M()()),2&c){const a=l.$implicit,h=l.index,d=Q(3);R("ngClass",d.getRowClass(a,h,d.bookSvc.books.length)),I(2),R("ngForOf",d.getBookFragments(h,a,-1))}}function $It(c,l){if(1&c&&(E(0,"div",49),X(1,VIt,3,2,"div",39),M()),2&c){const a=Q(2);I(1),R("ngForOf",a.bookSvc.books)}}function zIt(c,l){if(1&c){const a=Ae();E(0,"div",3)(1,"div",50)(2,"span",30),Y("click",function(){ce(a);const d=Q().$implicit;return ue(Q(2).selectLine(d))}),se(3,"app-add-component",40),M()()()}if(2&c){const a=l.$implicit,h=l.index,d=Q().$implicit,f=Q(2);R("ngClass",f.getRowClass(a,h,f.bookSvc.books.length)),I(2),R("ngClass",f.getLineSelectionClass(a,d)),I(1),R("component",f.getComponent(a,d))}}function UIt(c,l){if(1&c&&(E(0,"div",49),X(1,zIt,4,3,"div",39),M()),2&c){const a=Q(2);I(1),R("ngForOf",a.bookSvc.books)}}function QIt(c,l){if(1&c&&(E(0,"div"),X(1,FIt,2,0,"div",47),X(2,$It,2,1,"div",47),X(3,UIt,2,1,"div",48),M()),2&c){const a=Q();I(1),R("ngIf",!a.bookSvc.lineIndexes.length),I(1),R("ngIf",!a.hideUI),I(1),R("ngForOf",a.getBookIndexes(a.bookSvc.lineIndexes))}}function HIt(c,l){1&c&&(E(0,"div",37),se(1,"app-dynamic-spinner"),M())}function WIt(c,l){1&c&&(E(0,"span",46),H(1,"."),M())}function ZIt(c,l){if(1&c&&(E(0,"span",3),H(1),M()),2&c){const a=l.$implicit;R("ngClass",a.classes),I(1),ut(a.text)}}function jIt(c,l){if(1&c&&(E(0,"span",3),X(1,WIt,2,0,"span",45),X(2,ZIt,2,2,"span",39),M()),2&c){const a=l.$implicit,h=l.index,d=Q(3);R("ngClass",d.getRowClass(a,h,d.bookSvc.books.length,!1)),I(1),R("ngIf",h>0),I(1),R("ngForOf",d.getBookFragments(h,a,-1))}}function GIt(c,l){if(1&c&&(E(0,"div",50),X(1,jIt,3,3,"span",39),M()),2&c){const a=Q(2);I(1),R("ngForOf",a.bookSvc.books)}}function XIt(c,l){1&c&&(E(0,"span",46),H(1,"."),M())}function YIt(c,l){if(1&c){const a=Ae();E(0,"span",3)(1,"span",30),Y("click",function(){ce(a);const d=Q().$implicit;return ue(Q(2).selectLine(d))}),X(2,XIt,2,0,"span",45),se(3,"app-add-component",40),M()()}if(2&c){const a=l.$implicit,h=l.index,d=Q().$implicit,f=Q(2);R("ngClass",f.getRowClass(a,h,f.bookSvc.books.length,!1)),I(1),R("ngClass",f.getLineSelectionClass(a,d)),I(1),R("ngIf",h>0||f.isLineIndexed(a,d)),I(1),R("component",f.getComponent(a,d))}}function qIt(c,l){if(1&c&&(E(0,"span"),X(1,YIt,4,4,"span",39),M()),2&c){const a=Q(2);I(1),R("ngForOf",a.bookSvc.books)}}function KIt(c,l){if(1&c&&(E(0,"div",51),X(1,HIt,2,0,"div",41),X(2,GIt,2,1,"div",52),E(3,"div",50),X(4,qIt,2,1,"span",53),M()()),2&c){const a=Q();I(1),R("ngIf",!a.bookSvc.lineIndexes.length),I(1),R("ngIf",!a.hideUI),I(2),R("ngForOf",a.getBookIndexes(a.bookSvc.lineIndexes))}}function JIt(c,l){if(1&c){const a=Ae();E(0,"button",30),Y("click",function(){return ce(a),ue(Q(2).onPrev())}),H(1,"<<"),M()}2&c&&R("ngClass",Q(2).getChapterButtonClass())}function e5t(c,l){if(1&c){const a=Ae();E(0,"button",30),Y("click",function(){return ce(a),ue(Q(2).scrollToText())}),H(1),M()}if(2&c){const a=Q(2);R("ngClass",a.getChapterButtonClass()),I(1),ut(a.getCurrentChapterName())}}function t5t(c,l){if(1&c){const a=Ae();E(0,"button",30),Y("click",function(){return ce(a),ue(Q(2).onNext())}),H(1,">>"),M()}2&c&&R("ngClass",Q(2).getChapterButtonClass())}const n5t=function(c){return{"clr-row":!0,"fade-in-3":!0,"top-space":!0,"no-print":c}};function i5t(c,l){if(1&c&&(E(0,"div",3)(1,"div",32),X(2,JIt,2,1,"button",33),M(),E(3,"div",27),X(4,e5t,2,2,"button",33),M(),E(5,"div",32),X(6,t5t,2,1,"button",33),M()()),2&c){const a=Q();R("ngClass",xr(4,n5t,!!a.changesDetectorBookDataText.oldRawValue)),I(2),R("ngIf",a.bookSvc.isPrevEnabled()),I(2),R("ngIf",a.bookSvc.lineIndexes.length),I(2),R("ngIf",a.bookSvc.isNextEnabled())}}function r5t(c,l){if(1&c){const a=Ae();E(0,"div",27)(1,"button",55),Y("click",function(){return ce(a),ue(Q(2).printBookEpub())}),se(2,"cds-icon",58),H(3,"\u041f\u0435\u0447\u0430\u0442\u044c EPUB"),M()()}}const s5t=function(c,l){return{"clr-col-6":c,"clr-col-12":l}};function o5t(c,l){if(1&c){const a=Ae();E(0,"div",54)(1,"div",3)(2,"button",55),Y("click",function(){return ce(a),ue(Q().printBook())}),se(3,"cds-icon",56),H(4,"\u041f\u0435\u0447\u0430\u0442\u044c PDF"),M()(),X(5,r5t,4,0,"div",57),M()}if(2&c){const a=Q();I(1),R("ngClass",mr(2,s5t,a.bookData.enableEpub,!a.bookData.enableEpub)),I(4),R("ngIf",a.bookData.enableEpub)}}function a5t(c,l){if(1&c){const a=Ae();E(0,"button",15),Y("click",function(){return ce(a),ue(Q().modalPrintEpubFlag=!1)}),se(1,"cds-icon",59),H(2," \u041e\u0442\u043c\u0435\u043d\u0430"),M()}}function l5t(c,l){if(1&c){const a=Ae();E(0,"button",14),Y("click",function(){return ce(a),ue(Q().onStartPrintEpub())}),se(1,"cds-icon",56),H(2," \u041f\u0435\u0447\u0430\u0442\u0430\u0442\u044c"),M()}}class fL{transformers;constructor(l){this.transformers=l}static builder(){return new fL([])}addTransformer(l){return this.transformers.push(l),this}transform(l){let a=l;return this.transformers.forEach(h=>a=h.transform(a)),a}}class pL{static builder(){return new pL}transform(l){let a="";for(let h=0;h<l.length;h++){let d=l.charAt(h);a+="["==d?"{\u043a}"+d:"]"==d?d+"{/\u043a}":d}return a}}class gL{maxStringLength;constructor(l=200){this.maxStringLength=l}static builder(){return new gL}getIndexCount(l,a){let h=0,d=0;for(var f=new RegExp(a);d<l.length;){let g=l.substring(d);var p=f.exec(g);p?(++h,d=d+p.index+p[0].length):d+=g.length}return h}transform(l){let a=l.indexOf(":"),h=l;if(a>=0&&a<=this.maxStringLength&&a+1==l.length){let d=l.substring(0,a+1),f=d.toLowerCase();[{str:"\\.",count:0},{str:"\\/",count:0}].map(p=>this.getIndexCount(f,p.str)<=p.count).reduce((p,g)=>g&&p,!0)&&[{str:"\u0442\u0440\u043e\u043f\u0430\u0440",count:1},{str:"\u043a\u043e\u043d\u0434\u0430\u043a",count:1},{str:"\u0433\u043b\u0430\u0441",count:1},{str:"\u0432\u0435\u043b\u0438\u0447\u0430\u043d\u0438\u0435",count:1}].map(p=>this.getIndexCount(f,p.str)>=p.count).reduce((p,g)=>g||p,!1)&&(d.startsWith("*")&&(d=d.substring(1)),h=`{\u043a}${d}{/\u043a}${l.substring(a+1)}`)}return h}}class fX{search;includeWords=[];excludeWords=[];constructor(l){this.search=l}static builder(){return new fX("")}setup(){let l=this.search.split(/\s+/);this.includeWords=[],this.excludeWords=[];for(let a=0;a<l.length;++a)if("\u041d\u0415"==l[a]){if(a+1<l.length){let h=l[++a].trim();h&&this.excludeWords.push(h.toLowerCase())}}else l[a].trim()&&this.includeWords.push(l[a].trim().toLowerCase())}setSearch(l){return this.search=l,this.setup(),this}startsWith(l,a,h){let d="";return h.forEach(f=>{var p=new RegExp(f);let g=l.substring(a);var m=p.exec(g);m&&0==m.index&&d.length<f.length&&(d=m[0])}),d}transform(l){if(0==this.includeWords.length)return l;let a=l.toLowerCase(),h="",d=-1,f=p=>{let g=0;if(d>=0){let m=l.substring(d,p);h+=m,g=m.length,d=-1}return g};for(let p=0;p<l.length;){let g=this.startsWith(a,p,this.includeWords);if(g){let m=p;f(p),h+=`{\u043a}${l.substring(m,m+g.length)}{/\u043a}`,p+=g.length}else d<0&&(d=p),++p}return f(l.length),h}}let Dl=(()=>{class c{config;uiConfig;cacheService;bookmarksSvc;memorialSvc;themeSvc;audioSvc;booksViewTables;data;ready=!1;bookTitleData=la.builder();errorsData=la.builder();stgShowSettings=F1.builder();stgLanguages=F1.builder();stgChapters=F1.builder();allSettings=nP.builder().add(this.stgShowSettings).add(this.stgLanguages).add(this.stgChapters);get showSettings(){return this.stgShowSettings.enabled}set showSettings(a){this.stgShowSettings.setEnabled(a)}get showLanguages(){return this.stgLanguages.enabled}set showLanguages(a){this.stgLanguages.setEnabled(a)}get showChapters(){return this.stgChapters.enabled}set showChapters(a){this.stgChapters.setEnabled(a)}changesDetectorSendReadyMessage=Rr.builder();changesDetectorBookDataText=Rr.builder();changesDetectorFacePage=Rr.builder();changesDetectorErrors=Rr.builder();changesDetectorNewTitle=Rr.builder();changesDetectorRequestedPrintLogName=Rr.builder();changesDetectorLanguages=Rr.builder();changesDetectorChapters=Rr.builder();changesDetectorChapters2=Rr.builder();changesDetectorChapters3=Rr.builder();fineTextDetector=Ha.builder();getColumnClassDetector=Ha.builder();getBookIndexesDetector=Ha.builder();getChapterButtonClassDetector=Ha.builder();getMainDivClassesDetector=Ha.builder();menuLinksOld=null;menuLinks=null;dToolbarLangData=hh.builder().setItems([]).setOnClick(a=>{a.setSelected(!a.selected),this.bookSvc.toggleLanguage(a.tag).reloadBooks(),this.saveChapter()});dToolbarData=hh.builder().setItems([]).setOnClick(a=>{if(this.toolbarData.items.forEach(h=>h.setSelected(h===a)),"\u0412\u0441\u0435"==a.text){let h=this.bookSvc.getShortBookName(null),d=this.bookSvc.bookContent.length?this.bookSvc.bookContent[0]:null;if(d){let p=d.parsed.content.map(g=>`${h}.${g.name}:1-1000!/*\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.div('\u0440\u0430\u0437\u0440\u044b\u0432\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b\u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u043b\u044c\u043a\u043e\u041f\u0440\u0438\u041f\u0435\u0447\u0430\u0442\u0438', '', '');*/`).join("\r\n");this.changesDetectorBookDataText.checkAndUpdate(p),this.bookSvc.loadBookByPageText(p,!1,"")}}else this.changesDetectorBookDataText.checkAndUpdate(""),this.bookSvc.bookContent.length?this.bookSvc.loadPage(a.tag?a.tag:a.text):this.config.post(()=>{this.uiConfig.ui.currentChapter.setStringValue(a.tag?a.tag:a.text),this.bookSvc.clear(void 0,void 0,void 0,void 0,!0),this.reload()});this.saveChapter()});startLineSelection=-1;endLineSelection=-1;modalAddBookmarkFlag=!1;modalPrintEpubFlag=!1;printEpubData=dX.builder();printEpubDataEventsSubscription=null;printing=!1;get toolbarLangData(){return this.syncToolbarData(),this.dToolbarLangData}get toolbarData(){return this.syncToolbarData(),this.dToolbarData}requestedPrintLogName="";printLogName="\u041a\u043d\u0438\u0433\u0438";workerSvc=gl.builder();bookServerSvc=new gU((a,h)=>{this.config.post(()=>{this.bookSvc.post(a,h)})});bookSvc=new uX((a,h)=>{this.config.post(()=>{this.workerSvc.enabled()?this.workerSvc.sendMessage(h):this.bookServerSvc.post(a,h)})});get staticView(){return this.bookData.link&&(this.bookData.link.textIsPage||this.bookData.link.chapter&&(this.bookData.link.startLine>0||this.bookData.link.endLine>0))}get hideUI(){return this.bookData.hideUI}get showPrintButtons(){return this.bookData.showPrintButtons}getMenuLinks(){return this.menuLinks||(this.menuLinks=this.bookData.menuLinks,null!=this.menuLinks||(this.menuLinks=[],["\u043c\u0435\u043d\u044e","\u043a\u043d\u0438\u0433\u0430","\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438","\u0441\u043f\u0440\u0430\u0432\u043a\u0430"].forEach(a=>{switch(a){case"\u043c\u0435\u043d\u044e":this.menuLinks.push(Ft.builder().setLink("#").setName("\u041c\u0435\u043d\u044e").setShape("cog").setOnClick(()=>{this.config.post(()=>{this.bookData.link.route("")},0)}).setIsActive(()=>!1));break;case"\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a":this.menuLinks.push(Ft.builder().setLink("#").setName("\u041f\u043e\u043c\u044f\u043d\u043d\u0438\u043a").setShape("users").setOnClick(()=>{this.config.post(()=>{this.bookData.link.route("")},0)}).setIsActive(()=>!1));break;case"\u043a\u043d\u0438\u0433\u0430":this.menuLinks.push(Ft.builder().setLink("#").setName("\u041a\u043d\u0438\u0433\u0430").setShape("book").setIsActive(()=>!0));break;case"\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438":this.menuLinks.push(Ft.builder().setLink("#").setName("\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438").setShape("bookmark").setOnClick(()=>{this.config.post(()=>{this.bookData.link.route("\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438")},0)}).setIsActive(()=>!1));break;case"\u0441\u043f\u0440\u0430\u0432\u043a\u0430":this.menuLinks.push(Ft.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.config.post(()=>{this.bookData.link.route("\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP")},0)}).setIsActive(()=>{let h=this.bookSvc.bookInfo?.settings.find(d=>"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"==d.name.toLowerCase());return!!h&&"\u0421\u043f\u0440\u0430\u0432\u043a\u0430"==h.value}))}}))),this.menuLinks}saveChapter(){if(this.bookSvc.bookChapter){this.uiConfig.ui.currentChapter.setStringValue(this.bookSvc.bookChapter.name),this.uiConfig.ui.currentLanguages.setStringValue(this.bookSvc.bookLanguages.join("|"));let a=this.bookSvc.bookInfo?.settings.find(f=>"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"==f.name.toLowerCase()),h=this.bookSvc.libraryInfo?.content.find(f=>f.name==this.bookSvc.bookName),d=h?h.path2[0]+". "+this.bookSvc.bookChapter.name:"";this.uiConfig.ui.currentBookName.setStringValue(a?a.value:""),this.uiConfig.ui.currentBookLink.setStringValue(d)}}get parallel(){return null!=this.bookData.parallel?this.bookData.parallel:this.uiConfig.ui.parallel.getAndVerifyBooleanValue()}get lineBreaks(){return null!=this.bookData.linebreaks?this.bookData.linebreaks:this.uiConfig.ui.lineBreaks.getAndVerifyBooleanValue()}get bookData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h,d,f,p,g,m){this.config=a,this.uiConfig=h,this.cacheService=d,this.bookmarksSvc=f,this.memorialSvc=p,this.themeSvc=g,this.audioSvc=m}handleMemorialNewTitleTargetSubscriptioin=null;ngOnInit(){this.bookData.printerHandler.setHandler(a=>this.onPrintEpub(a)),this.bookSvc.onNewTitleEvent.setOnEventHandler((a,h)=>this.requestedPrintLogName=""+h),this.bookData.handleMemorialNewTitleTarget&&(this.handleMemorialNewTitleTargetSubscriptioin&&this.handleMemorialNewTitleTargetSubscriptioin.unsubscribe(),this.handleMemorialNewTitleTargetSubscriptioin=this.config.messageBus.addTargetHandler(this.bookData.handleMemorialNewTitleTarget,a=>{"MemorialNewTitle"===a.type&&this.config.post(()=>{this.requestedPrintLogName=""+a.text})}))}ngOnDestroy(){this.handleMemorialNewTitleTargetSubscriptioin&&(this.handleMemorialNewTitleTargetSubscriptioin.unsubscribe(),this.handleMemorialNewTitleTargetSubscriptioin=null),this.bookSvc.onNewTitleEvent.setOnEventHandler(null),this.bookSvc.onPageLoadEvent.setOnEventHandler(null),this.workerSvc.unsubscribe(),this.staticView||this.config.post(()=>{this.menuLinksOld&&this.menuLinksOld.unsubscribe()},0),this.bookSvc.onDestroy()}ngAfterViewInit(){this.changesDetectorSendReadyMessage.checkAndUpdate(!1),this.memorialSvc.isReady().then(a=>{a.success?this.memorialSvc.getMemorials()?this.onMyInit():this.memorialSvc.reloadMemorials(()=>{this.onMyInit()}):this.onMyInit()},a=>{this.onMyInit()})}onMyInit(){this.bookSvc.setConfig(this.config).addDictionarySvc(a=>{this.config.setDictionaries(this.bookSvc.dictionariesSvc),this.config.post(()=>{this.onMyInit2()})},this.cacheService,this.config.dictionaries)}onMyInit2(){this.clearSelection(),(!this.staticView||this.bookData.forceMenu)&&this.config.post(()=>{this.menuLinksOld=this.uiConfig.setAppRoutes(this.getMenuLinks())},0),this.bookTitleData.setActions([zs.builder().setText("\u0413\u043b\u0430\u0432\u044b").setShape("file-group").setEnabled(!this.staticView).setOnClick(()=>{this.showChapters=!this.showChapters}),zs.builder().setText("\u042f\u0437\u044b\u043a\u0438").setShape("language").setOnClick(()=>{this.showLanguages=!this.showLanguages})]),this.workerSvc.enabled()?this.workerSvc.setOnMessage(a=>{this.config.post(()=>{this.bookSvc.post(null,a)})}):this.bookServerSvc.setCacheService(new pU(new qE)),this.bookSvc.setLineTransformer(this.bookData.search?fL.builder().addTransformer(pL.builder()).addTransformer(gL.builder()).addTransformer(fX.builder().setSearch(this.bookData.search)):fL.builder().addTransformer(pL.builder()).addTransformer(gL.builder())),this.bookSvc.onPageLoadEvent.setOnEventHandler(a=>{this.config.post(()=>this.scrollToText(),100)}),this.bookSvc.onRouteEvent.setOnEventHandler((a,h)=>{this.config.post(()=>this.bookData.link.route(h),100)}),this.bookSvc.setUIConfig(this.uiConfig).setConfig(this.config).setMemorial(this.memorialSvc).setAudio(this.audioSvc),this.changesDetectorFacePage.checkAndUpdate(this.uiConfig.ui.showFacePage.getBooleanValue()),this.reload(),this.ready=!0}reload(){let a=this.bookData.link.languages&&this.bookData.link.languages.length>0?this.bookData.link.languages:this.uiConfig.ui.currentLanguages.getStringValue().split("|").filter(h=>!!h);this.bookData.link.textIsPage?(this.changesDetectorBookDataText.checkAndUpdate(this.bookData.text),this.bookSvc.loadBookByPageText(this.bookData.text)):this.bookSvc.loadBookByName(this.bookData.text,a,this.staticView?this.bookData.link.chapter:this.uiConfig.ui.currentChapter.getStringValue())}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return this.bookData.link.getCurValue(()=>this.getClassesRaw())}getClassesRaw(){return{}}showMenu(){this.bookData&&this.bookData.link&&this.bookData.link.route&&this.bookData.link.route("")}getColumnClass(a,h,d){let f=this.getColumnClassRaw(h,d);return a.\u0434\u0435\u0442\u0435\u043a\u0442\u043e\u0440\u0421\u0442\u043e\u043b\u0431\u0446\u043e\u0432.checkAndGetValue(f)}getColumnClassRaw(a,h){let d=12,f=d/h,p=0;for(let m=0;m<=a;m++)p=m%2?Math.floor(f):Math.ceil(f),p>d&&(p=d),d-=p;let g={};return g["clr-col-"+p]=!0,g["bg-3"]=a%2&&this.uiConfig.ui.coloredTranslations.getBooleanValue(),g.altText=a%2,g.right=this.bookSvc.bookContent[a]?.parsed?.getRight(),g.cs=this.bookSvc.bookContent[a]?.parsed?.getCs(),g.cs2=this.bookSvc.bookContent[a]?.parsed?.getCs2(),g["s"+this.uiConfig.ui.fontSize.getStringValue()]=!0,g["fade-in-3"]=!0,g}getRowClass(a,h,d,f=!0){let p=this.getRowClassRaw(h,d,f);return a.\u0434\u0435\u0442\u0435\u043a\u0442\u043e\u0440\u0421\u0442\u0440\u043e\u043a.checkAndGetValue(p)}getRowClassRaw(a,h,d=!0){let f=12,p=f/h,g=0;for(let v=0;v<=a;v++)g=v%2?Math.floor(p):Math.ceil(p),g>f&&(g=f),f-=g;let m={};return m["clr-row"]=d,m["bg-3"]=a%2&&this.uiConfig.ui.coloredTranslations.getBooleanValue(),m.altText=a%2,m.right=this.bookSvc.bookContent[a]?.parsed?.getRight(),m.cs=this.bookSvc.bookContent[a]?.parsed?.getCs(),m.cs2=this.bookSvc.bookContent[a]?.parsed?.getCs2(),m["s"+this.uiConfig.ui.fontSize.getStringValue()]=!0,m["fade-in-3"]=!0,m}translateLanguageName(a){let h=a.replace(/\u0426\u0435\u0440\u043a\u043e\u0432\u043d\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u0438\u0439/gi,"\u0426\u0421");return h=h.replace(/\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u043a\u0438\u0439/gi,"\u0413\u0440"),h=h.replace(/\u0420\u0443\u0441\u0441\u043a\u0438\u0439/gi,"\u0420\u0443\u0441"),h}syncToolbarData(){if(this.bookData.link.textIsPage&&this.changesDetectorBookDataText.checkAndUpdate(this.bookData.text))return void this.config.post(()=>{this.bookSvc.setConfig(this.config).loadBookByPageText(this.bookData.text)});if(this.ready&&this.changesDetectorFacePage.checkAndUpdate(this.uiConfig.ui.showFacePage.getBooleanValue()))return void this.config.post(()=>{this.bookSvc.clear(!0,!0,[],!0,!0),this.reload()});let a=this.changesDetectorErrors.checkAndUpdate(this.bookSvc.errors),h=!1,d="";if(this.bookSvc.bookInfo){if(this.requestedPrintLogName)d=this.requestedPrintLogName;else{d=this.bookSvc.getBookTitleName();let g=this.bookSvc.getChapterTitleName();d&&g&&(d+=": "+g)}h=this.changesDetectorNewTitle.checkAndUpdate(d)}else h=this.changesDetectorNewTitle.checkAndUpdate("")||this.changesDetectorRequestedPrintLogName.checkAndUpdate(this.requestedPrintLogName),h&&(d=this.requestedPrintLogName?this.requestedPrintLogName:this.config.getApplication().name);let f=this.changesDetectorLanguages.checkAndUpdate(this.bookSvc.bookInfo?.content),p=this.changesDetectorChapters.checkAndUpdate(this.bookSvc.bookContent)||this.changesDetectorChapters2.checkAndUpdate(this.bookSvc.bookContent.length)||this.changesDetectorChapters3.checkAndUpdate(this.bookSvc.bookChapter?.name);(a||h||f||p)&&this.config.post(()=>{a&&this.syncErrors(),h&&this.syncBookTitleData(d,d?[d]:[]),f&&this.syncLanguages(),p&&this.syncChapters()})}syncErrors(){this.errorsData.setErrors(this.bookSvc.errors)}syncBookTitleData(a,h){this.printLogName=a,this.bookTitleData.errors[0]!=a&&(this.bookTitleData.setErrors(h),this.bookTitleData.classes.setAlertClass("alert-success").setAlertShape(""))}syncLanguages(){this.dToolbarLangData.items.length!=this.bookSvc.bookInfo?.content.length&&this.dToolbarLangData.setItems([]),this.bookSvc.bookInfo&&this.bookSvc.bookInfo.content.forEach((a,h)=>{h+1>this.dToolbarLangData.items.length?this.dToolbarLangData.items.push(ka.builder().setText(this.translateLanguageName(a.name)).setTag(a.name).setSelected(this.bookSvc.isLanguageEnabled(a.name))):this.dToolbarLangData.items[h].setText(this.translateLanguageName(a.name)).setTag(a.name).setSelected(this.bookSvc.isLanguageEnabled(a.name))})}syncChapters(){let a=this.bookSvc.bookContent.length?this.bookSvc.bookContent[0]:null;if(a){let h=1,d=a.parsed.content;h+d.length!=this.dToolbarData.items.length&&(this.dToolbarData.items=[]),0==this.dToolbarData.items.length?this.dToolbarData.items.push(ka.builder().setText("\u0412\u0441\u0435").setTag("\u0412\u0441\u0435")):this.dToolbarData.items[0].setText("\u0412\u0441\u0435").setSelected(!1);let f=p=>{let g=a.parsed.settings.find(_=>_.name==p),m=null==g?p:g.value;return m.endsWith(".txt")&&(m=m.substring(0,m.length-4)),m};d.forEach((p,g)=>{g+1+h>this.dToolbarData.items.length?this.dToolbarData.items.push(ka.builder().setText(f(p.name)).setTag(p.name).setSelected(!1)):this.dToolbarData.items[g+h].setText(f(p.name)).setTag(p.name).setSelected(this.bookSvc.bookChapter?.name===p.name)}),null==this.dToolbarData.items.find(p=>p.selected)&&this.dToolbarData.items.length&&this.dToolbarData.items[0+h].setSelected(!0)}}getBookFragments(a,h,d){if(!h.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b\u042f\u0437\u044b\u043a\u0430){let p=this.bookSvc.bookContent[a]?.parsed?.settings.find(v=>"\u044f\u0437\u044b\u043a"===v.name.toLowerCase()),g=p?p.value:"";g=g||(this.bookSvc.bookLanguages.length?this.bookSvc.bookLanguages[0]:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"),g.endsWith("-UCS8")&&(g=g.substring(0,g.length-5));let m=this.uiConfig.ui.coloredTranslations.getBooleanValue();h.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0424\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b\u042f\u0437\u044b\u043a\u0430([Ir.builder().setText(g).setClasses({red:!(m&&a%2),redDark:m&&!!(a%2)})])}return d<0?h.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b\u042f\u0437\u044b\u043a\u0430:h.\u0441\u0442\u0440\u043e\u043a\u0438[d].fragments}isSpaceAppended(a,h){return a.\u0441\u0442\u0440\u043e\u043a\u0438[h].fragments.length>0&&h+1!=this.bookSvc.lineIndexes.length}isLineIndexed(a,h){return h>0&&a.\u0441\u0442\u0440\u043e\u043a\u0438[h].fragments.length>0&&a.\u0441\u0442\u0440\u043e\u043a\u0438[h].\u0438\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430}clearSelection(){return this.startLineSelection=this.endLineSelection=-1,this}onPrev(){this.clearSelection(),this.bookSvc.loadPrevPage(),this.saveChapter()}onNext(){this.clearSelection(),this.bookSvc.loadNextPage(),this.saveChapter()}getCurrentChapterName(){return this.bookSvc.bookChapter?this.bookSvc.bookChapter.name:"\u041c\u0435\u043d\u044e"}scrollToText(){this.staticView||(this.booksViewTables.nativeElement.scrollIntoView(!0),this.saveChapter()),this.changesDetectorSendReadyMessage.checkAndUpdate(!0)&&this.config.messageBus.putMessage(cl.builder().setSender(this.bookData.id).setTarget(this.bookData.targetId))}getChapterButtonClass(){let a=this.getChapterButtonClassRaw();return this.getChapterButtonClassDetector.checkAndGetValue(a)}getChapterButtonClassRaw(){let a={btn:!0,"btn-block":!0,"btn-link":!0,greenBtn:!0};return a["hs"+this.uiConfig.ui.fontSize.getStringValue()]=!0,a}isLineSelected(a,h=!1,d=!0){let f=this.bookSvc.getShortBookName(),p=mO.builder(),g=h&&this.bookmarksSvc.getBookmarks().map(v=>{let _=p.parse(v);if(_&&_.length&&_[0].length){let y=_[0][0];if(y.type===uh.Link)return y}return null}).filter(v=>null!=v).filter(v=>v.name===f).filter(v=>this.bookSvc.bookChapter?.name==""+v.startChapter).filter(v=>(v.startLine<0||v.startLine<=a)&&(v.endLine<0||a<=v.endLine)).length>0,m=this.startLineSelection>=0&&this.startLineSelection==a||this.startLineSelection>=0&&this.startLineSelection<=a&&this.endLineSelection>=0&&a<=this.endLineSelection;return!this.staticView&&(g&&!m||d&&m)}isSelectionEnabled(){return!this.staticView&&"\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP"!=this.bookSvc.bookName}getLineSelectionClass(a,h){let f=this.getLineSelectionClassRaw(h);return a.\u0441\u0442\u0440\u043e\u043a\u0438[h].\u0434\u0435\u0442\u0435\u043a\u0442\u043e\u0440.checkAndGetValue(f)}getLineSelectionClassRaw(a){let h=this.isSelectionEnabled();return{"bg-4":h&&this.isLineSelected(a,!1,!0),"bg-5":h&&this.isLineSelected(a,!0,!1),cursor:h&&!this.staticView}}getComponent(a,h){return a.\u0441\u0442\u0440\u043e\u043a\u0438[h].\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442}getBookIndexes(a){let h=0;!this.bookData.link.logical&&this.bookSvc.books.length&&(h=Math.max(0,1-this.bookSvc.books[0].\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445\u0421\u0442\u0440\u043e\u043a));let d=+(this.bookData.link.startLine>=0?this.bookData.link.startLine:0),f=+(this.bookData.link.endLine>=0?this.bookData.link.endLine:this.bookData.link.startLine>=0?this.bookData.link.startLine:1e3);return this.getBookIndexesDetector.checkChanged(a,h,d,f).getCurValue(()=>0==d&&1e3==f?a:a.filter(p=>d<=p+h&&p+h<=f))}selectLine(a){if(this.hideUI||!this.isSelectionEnabled())return this;if(this.startLineSelection<0)this.startLineSelection=a,this.endLineSelection=-1;else if(this.startLineSelection==a)this.endLineSelection=a,this.modalAddBookmarkFlag=!0;else if(this.endLineSelection<0){this.endLineSelection=a;let h=Math.min(this.startLineSelection,this.endLineSelection);this.endLineSelection=Math.max(this.startLineSelection,this.endLineSelection),this.startLineSelection=h}else this.isLineSelected(a,!1,!0)?this.modalAddBookmarkFlag=!0:(this.startLineSelection=-1,this.endLineSelection=-1);return this}onAddBookmark(){if(this.startLineSelection>0){let a=this.bookSvc.getShortBookName();this.bookmarksSvc.addBookmark(a,this.bookSvc.bookChapter?.name,this.startLineSelection,this.endLineSelection),this.startLineSelection=this.endLineSelection=-1}return this.modalAddBookmarkFlag=!1,this}onNotAddBookmark(){this.startLineSelection=this.endLineSelection=-1,this.modalAddBookmarkFlag=!1}getAllTextClass(){return this.syncToolbarData(),this.fineTextDetector.checkChanged(this.uiConfig.ui.fineText.getBooleanValue()).getCurValue(()=>this.getAllTextClassRaw())}getAllTextClassRaw(){return{ftext:this.uiConfig.ui.fineText.getBooleanValue()}}printBook(){let a=this.bookSvc.getBookTitleName(),h=this.bookSvc.getChapterTitleName();a&&h&&(a+=": "+h),this.themeSvc.printWindow(a)||window.print()}printBookEpub(){let a=this.bookSvc.bookName;a&&(this.printEpubData.setBookName(a).setBookTitle(this.bookTitleData.errors.length?this.bookTitleData.errors[0]:this.bookSvc.bookName).setBookChapter(this.bookSvc.bookChapter?this.bookSvc.bookChapter.name:"").setBookLanguages(this.bookSvc.bookLanguages).setEpubPrinterHandler(this.bookData.printerHandler).setShowSettings(!this.bookData.autoPrint),this.printEpubDataEventsSubscription?.unsubscribe(),this.printEpubDataEventsSubscription=this.printEpubData.printEventsEmitter.subscribe({next:h=>{"stop"==h?(this.onStopPrintEpub(),this.printing=!1):(h="print")&&(this.printing=!0)}}),this.modalPrintEpubFlag=!0,this.bookData.autoPrint&&this.config.post(()=>{this.onStartPrintEpub()},500))}onStartPrintEpub(){this.printEpubData.printEventsEmitter.emit("print")}onStopPrintEpub(){this.modalPrintEpubFlag=!1}onPrintEpub(a){let h=this.bookSvc.bookName.indexOf("VZ")>=0||this.bookSvc.bookName.indexOf("NZ")>=0,d=this.bookSvc.getChapterTitleName();!d&&this.bookSvc.bookChapter&&(d=this.bookSvc.bookChapter?.name);let f="\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c VZ_KU"==this.bookSvc.bookName?"\u041f\u0441\u0430\u043b\u043e\u043c":"\u0413\u043b\u0430\u0432\u0430";d||(d=this.config.getApplication().name,f="");let p=()=>fO.builder().setName(this.bookTitleData.errors.length?this.bookTitleData.errors[0]:this.bookSvc.bookName).setBookNames(this.bookSvc.bookLanguages).setPsalomName(f).setAllBooksChapters([]).setAllBooks([[]]).setEmptyFirstLines([[0]]).setShowLineIndexes(h),g=p(),m=()=>{if(g.allBooks.length>1||g.allBooks[0].length>0){let _=g.allBooks.map((y,b)=>y.map((O,C)=>O.length>g.emptyFirstLines[b][C]).reduce((O,C,S,w)=>O||C,!1)).reduce((y,b,O,C)=>y||b,!1);!_&&0===a.requestsPack.length&&(_=this.bookSvc.getBookTitleName()!=g.name,g.setShowMiddleContent(!1)),_&&a.addRequest(g)}g=p()},v=(_,y,b)=>{let O="",C=!0,S=0,w=null,x=(T,D=!1)=>{if(w&&w.length>0){let k=_().allBooks.length-1,P=_().allBooks[k];for(;b+1>P.length;)P.push([]);let N=P[b];if(N&&N.push(...w),0==b)for(;k+1>_().allBooksChapters.length;)_().allBooksChapters.push(`${d}`);w=null,D&&m()}};y.\u0441\u0442\u0440\u043e\u043a\u0438.forEach((T,D)=>{let k=!0,N=!1,F=($=!1,U=!1)=>{N||(k&&(null==w&&(w=[]),(C&&D-S==0||!O)&&++_().emptyFirstLines[_().emptyFirstLines.length-1][b],w.push(O)),k=!0,O="",C=!0,$&&(x(0,U),S=D),N=!0)},L=$=>{N=!1,O+=$.text,C=C&&(!$.text||($=>!(!$?.red&&!$?.redDark))($.classes));let U=z=>{if(z.component===c){let ee=z.data;F(!0,!0),ee.printerHandler.print(a)}else if(z.component===MU){let ee=z.data;ee.config.link?.link&&(O+=`${ee.config.link.link.name}.${ee.config.link.link.startChapter}:${ee.config.link.link.startLine}-${ee.config.link.link.endLine}`.replace("-1000","+"),C=!1),F(!0,!0),ee.printerHandler.print(a)}else if(z.component===mA){let ee=z.data;if(ee.config.book){F(!0,!0);let te=fO.builder().setName(this.bookTitleData.errors.length?this.bookTitleData.errors[0]:this.bookSvc.bookName).setPsalomName("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c VZ_KU"==this.bookSvc.bookName?"\u041f\u0441\u0430\u043b\u043e\u043c":"\u0413\u043b\u0430\u0432\u0430").setBookNames(this.bookSvc.bookLanguages).setAllBooksChapters([`${d}`]).setAllBooks([[]]).setEmptyFirstLines([[0]]).setShowLineIndexes(!0);v(()=>te,ee.config.book,0)}}else if(z.component===U1e){let ee=z.data;F(!0,!0),ee.printerHandler.print(a)}else if(z.component===Q1e){let ee=z.data;ee.components.length&&ee.components.forEach(te=>U(te))}};$.component&&U($.component)};N=!1,T.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b.forEach($=>{L($)}),F()}),x()};this.bookSvc.books.forEach((_,y)=>{v(()=>g,_,y)}),m()}getMainDivClasses(){return this.getMainDivClassesDetector.checkAndGetValue({"fade-in-3":!0,"no-print":!!this.changesDetectorBookDataText.oldRawValue})}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(Jl),V(gO),V(Cb),V(Ys),V(uv))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-library-book"]],viewQuery:function(h,d){if(1&h&&si(hIt,5),2&h){let f;Ht(f=Wt())&&(d.booksViewTables=f.first)}},inputs:{data:"data"},decls:34,vars:16,consts:[[3,"click"],[3,"enabled","name"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["booksViewTables",""],[4,"ngIf"],["class","clr-row mainText",4,"ngIf"],["class","mainText fade-in-3 clr-row",4,"ngIf"],["class","clr-row no-print top-space fade-in-3",4,"ngIf"],[1,"s0",3,"clrModalOpen","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],["shape","add-text"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["shape","times"],[1,"bottom-space"],[3,"data"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],[3,"data",4,"ngIf"],[1,"no-print"],["class","fade-in-3",3,"clrAccordionPanelOpen","clrAccordionPanelOpenChange",4,"ngIf"],[1,"fade-in-3",3,"clrAccordionPanelOpen","clrAccordionPanelOpenChange"],[1,"bottom-top-space"],[1,"clr-row"],[1,"clr-col-6"],[1,"btn","btn-primary","btn-block",3,"click"],["shape","printer","solid",""],[3,"ngClass","click"],["shape","book","solid",""],[1,"clr-col-3","no-print"],[3,"ngClass","click",4,"ngIf"],["class","clr-row mainText fade-in-3",4,"ngIf"],["class","clr-row mainText fade-in-3",4,"ngFor","ngForOf"],[1,"clr-row","mainText"],[1,"clr-col-12","fade-in-3"],[1,"clr-row","mainText","fade-in-3"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"component"],["class","clr-col-12 fade-in-3",4,"ngIf"],[3,"ngClass","hidden",4,"ngFor","ngForOf"],[3,"ngClass","hidden"],[3,"ngClass","click",4,"ngFor","ngForOf"],["class","hidden",4,"ngIf"],[1,"hidden"],["class","mainText fade-in-3",4,"ngIf"],["class","mainText fade-in-3",4,"ngFor","ngForOf"],[1,"mainText","fade-in-3"],[1,"clr-col-12"],[1,"mainText","fade-in-3","clr-row"],["class","clr-col-12",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"clr-row","no-print","top-space","fade-in-3"],["type","button",1,"btn","btn-link","btn-block",3,"click"],["shape","printer"],["class","clr-col-6",4,"ngIf"],["shape","book"],["shape","ban"]],template:function(h,d){1&h&&(E(0,"div",0),Y("click",function(p){return p.stopPropagation()}),se(1,"app-print-logo",1),X(2,vIt,7,6,"div",2),X(3,CIt,7,6,"div",2),E(4,"div",3,4),X(6,MIt,4,3,"div",5),X(7,NIt,4,3,"div",6),X(8,QIt,4,3,"div",5),X(9,KIt,5,3,"div",7),X(10,i5t,7,6,"div",2),X(11,o5t,6,5,"div",8),M(),E(12,"clr-modal",9),Y("clrModalOpenChange",function(p){return d.modalAddBookmarkFlag=p}),E(13,"h3",10),H(14,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),M(),E(15,"div",11),se(16,"cds-icon",12),H(17," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438? "),M(),E(18,"div",13)(19,"button",14),Y("click",function(){return d.onAddBookmark()}),se(20,"cds-icon",12),H(21,"\u0414\u0430"),M(),E(22,"button",15),Y("click",function(){return d.onNotAddBookmark()}),se(23,"cds-icon",16),H(24,"\u041d\u0435\u0442"),M()()(),E(25,"clr-modal",9),Y("clrModalOpenChange",function(p){return d.modalPrintEpubFlag=p}),E(26,"h3",10),H(27,"\u041f\u0435\u0447\u0430\u0442\u044c EPUB"),M(),E(28,"div",11)(29,"div",17),se(30,"app-dynamic-print-epub",18),M()(),E(31,"div",13),X(32,a5t,3,0,"button",19),X(33,l5t,3,0,"button",20),M()()()),2&h&&(I(1),R("enabled",d.bookData.facePage)("name",d.printLogName),I(1),R("ngIf",!d.hideUI),I(1),R("ngIf",!d.staticView),I(1),R("ngClass",d.getAllTextClass()),I(2),R("ngIf",d.parallel&&d.lineBreaks),I(1),R("ngIf",d.parallel&&!d.lineBreaks),I(1),R("ngIf",!d.parallel&&d.lineBreaks),I(1),R("ngIf",!d.parallel&&!d.lineBreaks),I(1),R("ngIf",!d.staticView),I(1),R("ngIf",d.showPrintButtons),I(1),R("clrModalOpen",d.modalAddBookmarkFlag),I(13),R("clrModalOpen",d.modalPrintEpubFlag),I(5),R("data",d.printEpubData),I(2),R("ngIf",!d.printing),I(1),R("ngIf",!d.printing))},styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();function c5t(c,l){1&c&&se(0,"app-add-component",5),2&c&&R("component",Q(2).containerData.component)}const u5t=function(){return{"content-container":!0}},h5t=function(){return{"content-area":!0}};function d5t(c,l){if(1&c&&(E(0,"div",2)(1,"div",3)(2,"div",3),X(3,c5t,1,1,"app-add-component",4),M()()()),2&c){const a=Q();I(1),R("ngClass",Fi(3,u5t)),I(1),R("ngClass",Fi(4,h5t)),I(1),R("ngIf",a.containerData.component)}}function f5t(c,l){1&c&&se(0,"app-add-component",5),2&c&&R("component",Q(2).containerData.component)}const p5t=function(c){return{myContainerX:c}};function g5t(c,l){if(1&c&&(E(0,"div",3),X(1,f5t,1,1,"app-add-component",4),M()),2&c){const a=Q();R("ngClass",xr(2,p5t,!a.isMainContainerEnabled())),I(1),R("ngIf",a.containerData.component)}}let ss=(()=>{class c{config;uiConfig;data;get containerData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h){this.config=a,this.uiConfig=h}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}isMainContainerEnabled(){return this.uiConfig.mainContainerEnabled}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-container"]],inputs:{data:"data"},decls:2,vars:2,consts:[["class","main-container",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"main-container"],[3,"ngClass"],[3,"component",4,"ngIf"],[3,"component"]],template:function(h,d){1&h&&(X(0,d5t,4,5,"div",0),X(1,g5t,2,4,"div",1)),2&h&&(R("ngIf",d.containerData&&!1),I(1),R("ngIf",d.containerData))},dependencies:[ei,mn,ic],styles:[".myContainer[_ngcontent-%COMP%]{padding:1em}"]})}return c})();class pX{constructor(){}static builder(){return new pX}}class Xi extends ti{classes;component;constructor(l,a,h,d,f){super(l,a,h),this.classes=d,this.component=f}static builder(){return new Xi("",null,null,pX.builder(),null)}setComponent(l){return this.component=l,this}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}}class gX{name;items;pageName="";constructor(l,a){this.name=l,this.items=a}}class mX{name;items;activeNumberPage="";constructor(l,a){this.name=l,this.items=a}}var Ml=function(c){return c[c.Replace=0]="Replace",c[c.Add=1]="Add",c[c.Intersect=2]="Intersect",c[c.Remove=3]="Remove",c}(Ml||{});class m5t{searchDataItems=[];clear(){this.searchDataItems=[]}mergeSearchInfos(l,a,h){let d=[];switch(h){case Ml.Intersect:l.forEach(f=>{let p=a.find(g=>g.line==f.line);p&&(d.push(f),f.column!=p.column&&d.push(p))});break;case Ml.Add:d.push(...l),d.push(...a);break;case Ml.Remove:l.forEach(f=>{null==a.find(g=>g.line==f.line)&&d.push(f)});break;case Ml.Replace:d=a}return d.sort((f,p)=>f.line-p.line),d}mergeSearchDatas(l,a,h){let d=[],f=()=>{l.forEach(p=>{let g=a.find(m=>p.name==m.name);if(null!=g){let m=this.mergeSearchInfos(p.items,g.items,h);m.length&&d.push(new gX(p.name,m))}})};switch(h){case Ml.Intersect:f();break;case Ml.Add:f(),a.forEach(p=>{null==l.find(m=>p.name==m.name)&&d.push(p)}),l.forEach(p=>{null==a.find(m=>p.name==m.name)&&d.push(p)});break;case Ml.Remove:l.forEach(p=>{let g=a.find(m=>p.name==m.name);if(null!=g){let m=this.mergeSearchInfos(p.items,g.items,h);m.length&&d.push(new gX(p.name,m))}else d.push(p)});break;case Ml.Replace:d=a}return d}mergeSearchData(l,a=Ml.Replace){let h=[],d=()=>{this.searchDataItems.forEach(f=>{let p=l.find(g=>g.name==f.name);if(p){let g=this.mergeSearchDatas(f.items,p.items,a);g.length&&h.push(new mX(p.name,g))}})};0==this.searchDataItems.length?h=l:a==Ml.Intersect?d():a==Ml.Add?(d(),this.searchDataItems.forEach(f=>{l.find(g=>g.name==f.name)||h.push(f)}),l.forEach(f=>{this.searchDataItems.find(g=>g.name==f.name)||h.push(f)})):a==Ml.Remove&&this.searchDataItems.forEach(f=>{let p=l.find(g=>g.name==f.name);if(p){let g=this.mergeSearchDatas(f.items,p.items,a);g.length&&h.push(new mX(p.name,g))}else h.push(f)}),this.searchDataItems=h}}class v5t{static parse(l){return regexParserStatic.parse(l)}}class _5t{searcher;config;langProps=[];results=new m5t;maxElemenetsOnPageCount=10;searchedPages=[];currentPage=-1;searchObject={search:""};search="";searchIndex=0;searchRemainsCount=0;constructor(l,a){this.searcher=l,this.config=a}onSearch(l,a,h){if(this.searchedPages=[],this.results.clear(),this.search=this.translateSearchString(this.searchObject.search),this.search){++this.searchIndex;let f=this.searchIndex,p=this.search.split(" ");this.searchRemainsCount+=p.length+1;let g=Ml.Intersect,m=0,v=()=>{if(--this.searchRemainsCount,this.searchIndex!=f)return this.searchRemainsCount-=p.length-m,void h(!1);if(m>0&&0==this.results.searchDataItems.length&&(this.searchRemainsCount-=p.length-m,m=p.length),m>=p.length)return void(h&&h(!0));let _=p[m++];if("\u041d\u0415"==_){if(g=Ml.Remove,--this.searchRemainsCount,m>=p.length)return;_=p[m++]}else g=Ml.Intersect;this.searcher.search(_,a,(y,b)=>{this.config.post(()=>{this.searchIndex==f&&this.onSearchDataResult(y,b,g,null),v()})},this.langProps)};v()}}getBook(l){let a=l.split("/");return a.length>=1&&a.splice(a.length-1,1),a.filter(function(h,d,f){return!(" "==h&&d>0)||" "!=f[d-1]}).join("/")}getChapter(l){let a="\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",h=l.split("/");return h.length>=1&&(a=h[h.length-1]),a}getNamedSearchItem(l,a){let h=this.getBook(l),d=a.find(g=>g.name===h);null==d&&(d=new mX(h,[]),d.activeNumberPage="1",a.push(d));let f=this.getChapter(l),p=d.items.find(g=>g.name==f);return null==p&&(p=new gX(f,[]),p.pageName=""+Math.ceil((d.items.length+1)/this.maxElemenetsOnPageCount),d.items.push(p)),p}onSearchDataResult(l,a,h,d){let f=[];l&&l.forEach(p=>{this.getNamedSearchItem(p.key,f).items.push(...p.value)}),this.results.mergeSearchData(f,h),d&&d(null!=l)}translateSearchString(l){return v5t.parse(l)}}class vX{spinnerInline;constructor(l){this.spinnerInline=l}static builder(){return new vX(!0)}}class _X extends ti{classes;constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new _X("",null,null,vX.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}}let Cke=(()=>{class c{http;config;restPoint="/kafizmy";constructor(a,h){this.http=a,this.config=h}getRestPoint(a,h){return pi.merge(pi.merge(h||this.config.serviceAPIHost,this.restPoint),a)}handleError(a,h){return Ui.handleError(a,h)}search(a,h,d,f){const p={params:{query:a,paths:h.join("|")}};this.http.get(this.getRestPoint("/search",null),p).pipe(vr(this.handleError)).subscribe({next:g=>{d(g,null)},error:g=>{d(null,""+g)}})}static \u0275fac=function(h){return new(h||c)(Ee(hu),Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),Ske=(()=>{class c{searchRestSvc;config;searchSvc=null;searchingCount=0;constructor(a,h){this.searchRestSvc=a,this.config=h,this.config.isRestServerType()&&(this.searchSvc=this.searchRestSvc)}isSearching(){return this.searchingCount>0}search(a,h,d,f){this.config.post(this.searchSvc?()=>{++this.searchingCount,this.searchSvc&&this.searchSvc.search(a,h,(p,g)=>{d&&d(p,g),--this.searchingCount},f)}:()=>{++this.searchingCount,this.config.post(()=>{d&&d(null,null),--this.searchingCount})})}static \u0275fac=function(h){return new(h||c)(Ee(Cke),Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class eS extends Qa{classes="";name="";buttons=[];constructor(){super()}static builder(){return new eS}setClasses(l){return this.classes=l,this}setName(l){return this.name=l,this.markChanged(),this}setButtons(l){return this.buttons=l,this.markChanged(),this}}class yX extends ti{keyboards;onKeyHandler;constructor(l,a,h,d,f){super(l,a,h),this.keyboards=d,this.onKeyHandler=f}static builder(){return new yX("",null,null,[],l=>null)}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}setKeyboards(...l){return this.keyboards=[...l],this}addKeyboard(l){return this.keyboards.push(l),this}setOnKeyHandler(l){return this.onKeyHandler=l,this}onKey(l){return this.onKeyHandler&&this.onKeyHandler(l),this}}let y5t=(()=>{class c{config;themesSvc;data;imageData=ul.builder();currentKeyboardName="";get kbData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h){this.config=a,this.themesSvc=h}getCurrentKeyboard(){let a=this.kbData.keyboards.find(h=>h.name==this.currentKeyboardName);return null==a&&(a=this.kbData.keyboards[0]),this.currentKeyboardName=a.name,a}ngOnInit(){this.recreate()}recreate(){let a=new f9(this.themesSvc.nowIsDay()?Ca.Light2:Ca.Dark2,"",400,200);this.imageData=ul.builder(),this.imageData.setGenerator(a).setGenName("this").setSvgWidth(a.getWidth()).setSvgHeight(a.getHeight()).setType(1e3*a.getWidth()+a.getHeight());let h=[],d=this.getCurrentKeyboard(),f=d.buttons,p=f.reduce((g,m)=>Math.max(g,m.length),0);a.linesOfMonth=f.length,a.columnsCount=p,a.columnsOffsets=[],f.forEach((g,m)=>{g.forEach((v,_,y)=>{h.push(Va.builder().setName(v).setIndex(_+m*p).setIWidth(1).setClasses(d.classes)),_+1==y.length&&(_+1<p?(h.push(Va.builder().setName("").setIndex(_+m*p+1).setIWidth(p-(_+1))),a.addColumnOffset((p-(_+1))/2)):a.addColumnOffset(0))})}),h.push(Va.builder().setName(this.currentKeyboardName).setIndex(a.linesOfMonth*p).setIWidth(2),Va.builder().setName("<").setIndex(a.linesOfMonth*p+2).setIWidth(2),Va.builder().setName(" ").setIndex(a.linesOfMonth*p+4).setIWidth(p-8),Va.builder().setName(">").setIndex(a.linesOfMonth*p+p-4).setIWidth(2),Va.builder().setName("\u21e6").setIndex(a.linesOfMonth*p+p-2).setIWidth(2)),++a.linesOfMonth,a.setOnCommandHandler((g,m)=>{"<"==g.name?this.toogleKeybard(-1):">"==g.name?this.toogleKeybard(1):g.name==this.currentKeyboardName?this.toogleKeybard():"\u043f\u0440\u043e\u0431\u0435\u043b"==g.name||" "==g.name?this.kbData.onKey(" "):"<X"==g.name||"\u21e6"==g.name?this.kbData.onKey("<X"):g.name&&this.kbData.onKey(g.name)}),a.setCommands(h)}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}toogleKeybard(a=1){let h=this.getCurrentKeyboard(),d=this.kbData.keyboards.indexOf(h);return d=(this.kbData.keyboards.length+d+a)%this.kbData.keyboards.length,this.currentKeyboardName=this.kbData.keyboards[d].name,this.config.post(()=>{this.recreate()}),this}static \u0275fac=function(h){return new(h||c)(V(Zt),V(Ys))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-keyboard"]],inputs:{data:"data"},decls:2,vars:1,consts:[[1,"top-space","maxWidth800","center",3,"click"],[3,"data"]],template:function(h,d){1&h&&(E(0,"div",0),Y("click",function(p){return d.onClick(p)}),se(1,"app-svg-js-image",1),M()),2&h&&(I(1),R("data",d.imageData))},dependencies:[Ic],styles:[".maxWidth800[_ngcontent-%COMP%]{max-width:800px}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}"]})}return c})();function b5t(c,l){if(1&c){const a=Ae();E(0,"span"),H(1,"\xa0"),E(2,"cds-icon",1),Y("click",function(d){return ce(a),ue(Q().onCommand2(d))}),M(),H(3,"\xa0"),M()}if(2&c){const a=Q();I(2),Je("shape",a.data.shape2)}}function O5t(c,l){if(1&c){const a=Ae();E(0,"input",6),Y("ngModelChange",function(d){ce(a);const f=Q();return ue(f.data.object[f.data.fieldName]=d)}),M()}if(2&c){const a=Q();R("readOnly",a.data.readonly)("placeholder",a.data.description2)("name",a.data.fieldName)("ngModel",a.data.object[a.data.fieldName])}}function C5t(c,l){if(1&c&&(E(0,"label",7),H(1),M()),2&c){const a=Q();I(1),ut(a.data.object[a.data.fieldName])}}function S5t(c,l){1&c&&se(0,"app-dynamic-keyboard",8),2&c&&R("data",Q().keyboardData)}let wke=(()=>{class c{data=$k.builder();keyboardData=yX.builder().addKeyboard(eS.builder().setName("\u0420\u0443\u0441").setButtons(["1234567890".split(""),"\u0439\u0446\u0443\u043a\u0435\u043d\u0433\u0448\u0449\u0437\u0445\u044a".split(""),"\u0444\u044b\u0432\u0430\u043f\u0440\u043e\u043b\u0434\u0436\u044d".split(""),"\u044f\u0447\u0441\u043c\u0438\u0442\u044c\u0431\u044e\u0451".split("")])).addKeyboard(eS.builder().setName("\u0420\u0423\u0421").setButtons(["1234567890".split(""),"\u0439\u0446\u0443\u043a\u0435\u043d\u0433\u0448\u0449\u0437\u0445\u044a".toUpperCase().split(""),"\u0444\u044b\u0432\u0430\u043f\u0440\u043e\u043b\u0434\u0436\u044d".toUpperCase().split(""),"\u044f\u0447\u0441\u043c\u0438\u0442\u044c\u0431\u044e\u0451".toUpperCase().split("")])).addKeyboard(eS.builder().setName("\u0446\u0441").setButtons([[".\u0301",".\u0486",".\u0311",".\u0300",".\u2de3",".\u2ded\u0487",".\u2de2\u0487",".\u2dea\u0487",".\u2dec\u0487",".\u0483"],["\u0463","\u0475","\u0456","\u0457","\u047b","\u047d","\u0461","\u047f","\u1c82\u0443","\ua64b","\u046f","\u0471"],"\u0439\u0446\u0443\u043a\u0435\u0454\u043d\u0433\u0448\u0449\u0437\u0445".split(""),"\u0444\u2c2a\u044b\u0432\u0430\u043f\u0440\u043e\u043b\u0434\u0436\u03b6".split(""),"\ua657\u0467\u0468\u0447\u0441\u043c\u0438\u0442\u044c\u044a\u0431\u044e".toLowerCase().split("")]).setClasses("cs")).addKeyboard(eS.builder().setName("\u0426\u0421").setButtons([[".\u0301",".\u0486",".\u0311",".\u0300",".\u2de3",".\u2ded\u0487",".\u2de2\u0487",".\u2dea\u0487",".\u2dec\u0487",".\u0483"],["\u0463".toUpperCase(),"\u0474".toUpperCase(),"\u0406","\u0407","\u047b".toUpperCase(),"\u047c","\u0460","\u047e","\u041e\u0443","\ua64b","\u046e","\u0470"],"\u0439\u0446\u0443\u043a\u0435\u0454\u043d\u0433\u0448\u0449\u0437\u0445".split("").map(a=>"\u0454"==a?a:a.toUpperCase()),"\u0444\u0472\u044b\u0432\u0430\u043f\u0440\u043e\u043b\u0434\u0436\u0405".toUpperCase().split(""),"\ua656\u0467\u0468\u0447\u0441\u043c\u0438\u0442\u044c\u044a\u0431\u044e".toUpperCase().split("")]).setClasses("cs")).setOnKeyHandler(a=>{this.onKey(a.replace(/[_\.]/g,""))});constructor(){}onCommand(a){this.data.keyboard=!1,this.data.click(!0),a.stopPropagation()}onCommand2(a){this.data.click(this.data.shape2),a.stopPropagation()}onKey(a){let h=this.data.object[this.data.fieldName];"<X"==a?h=h.substring(0,h.length-1):h+=a,this.data.object[this.data.fieldName]=h}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-form-input-editor"]],inputs:{data:"data"},decls:12,vars:6,consts:[[1,"cursor",3,"click"],[3,"click"],[4,"ngIf"],["clrInput","",3,"readOnly","placeholder","name","ngModel","ngModelChange",4,"ngIf"],["class","cs",4,"ngIf"],[3,"data",4,"ngIf"],["clrInput","",3,"readOnly","placeholder","name","ngModel","ngModelChange"],[1,"cs"],[3,"data"]],template:function(h,d){1&h&&(E(0,"clr-input-container")(1,"label",0),Y("click",function(p){return d.onCommand(p)}),H(2),E(3,"span"),H(4,"\xa0"),E(5,"cds-icon",1),Y("click",function(p){return d.onCommand(p)}),M(),H(6,"\xa0"),M(),H(7," \xa0 "),X(8,b5t,4,1,"span",2),M(),X(9,O5t,1,4,"input",3),X(10,C5t,2,1,"label",4),M(),X(11,S5t,1,1,"app-dynamic-keyboard",5)),2&h&&(I(2),Kt("",d.data.description,"\xa0 "),I(3),Je("shape",d.data.shape),I(3),R("ngIf",d.data.shape2),I(1),R("ngIf",!d.data.keyboard),I(1),R("ngIf",d.data.keyboard),I(1),R("ngIf",d.data.keyboard))},dependencies:[mn,Vn,Lr,zp,pf,za,sa,Fo,y5t],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}"]})}return c})();const w5t=["bookmarksView"];function x5t(c,l){if(1&c&&(E(0,"div",10),se(1,"app-dynamic-spinner",11),M()),2&c){const a=Q(2);I(1),R("data",a.searchingSpinnerData)}}function T5t(c,l){if(1&c&&(E(0,"div"),se(1,"app-dynamic-content-toolbar",11),M()),2&c){const a=Q(3);I(1),R("data",a.toolbarBooksHeaders)}}function k5t(c,l){if(1&c&&(E(0,"div")(1,"div"),se(2,"app-dynamic-content-toolbar",11),M(),E(3,"div"),se(4,"app-dynamic-content-toolbar",11),M()()),2&c){const a=Q(3);I(2),R("data",a.currentHeaders()),I(2),R("data",a.currentPages())}}function D5t(c,l){1&c&&se(0,"app-dynamic-library-book",11),2&c&&R("data",Q().$implicit.libData)}function M5t(c,l){if(1&c&&(E(0,"div",null,17),se(2,"app-dynamic-errors",11),X(3,D5t,1,1,"app-dynamic-library-book",18),M()),2&c){const a=l.$implicit;I(2),R("data",a.errorsData),I(1),R("ngIf",a.libDataShow)}}function E5t(c,l){if(1&c&&(E(0,"div")(1,"div",12)(2,"form",13),se(3,"app-dynamic-form-input-editor",11),M(),E(4,"form",14),se(5,"app-dynamic-form-input-editor",11),M()(),X(6,T5t,2,1,"div",0),X(7,k5t,5,2,"div",0),X(8,M5t,4,2,"div",15),E(9,"div",16),se(10,"app-dynamic-content-toolbar",11),M()()),2&c){const a=Q(2);I(3),R("data",a.dataSearchEditorData),I(2),R("data",a.dataSearchEditorData),I(1),R("ngIf",!a.isBookmarksExists()),I(1),R("ngIf",a.isBookmarksExists()),I(1),R("ngForOf",a.bookmarks),I(2),R("data",a.currentPages())}}function P5t(c,l){if(1&c&&(E(0,"div"),X(1,x5t,2,1,"div",9),X(2,E5t,11,6,"div",0),M()),2&c){const a=Q();I(1),R("ngIf",a.isSearching),I(1),R("ngIf",!a.isSearching)}}function A5t(c,l){1&c&&se(0,"app-dynamic-library-book",11),2&c&&R("data",Q().$implicit.libData)}function I5t(c,l){if(1&c&&(E(0,"div",null,17),se(2,"app-dynamic-errors",11),X(3,A5t,1,1,"app-dynamic-library-book",18),M()),2&c){const a=l.$implicit;I(2),R("data",a.errorsData),I(1),R("ngIf",a.libDataShow)}}function R5t(c,l){if(1&c&&(E(0,"div"),X(1,I5t,4,2,"div",15),M()),2&c){const a=Q();I(1),R("ngForOf",a.bookmarks)}}class mL{errorsData=la.builder();libData=Ta.builder();libDataShow=!1;\u043f\u0430\u043c\u044f\u0442\u044c=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));constructor(l,a){this.errorsData.setErrors(l).setActions(a)}static builder(){return new mL([],[])}setMessages(l){return this.errorsData.setErrors(l),this}addMessage(l){return this.errorsData.errors.push(l),this}setActions(l){return this.errorsData.setActions(l),this}addAction(l){return this.errorsData.actions.push(l),this}toggleLinkShow(){return this.libDataShow=!this.libDataShow,this}setLink(l,a,h=!0,d=!0){let p=fragmentsParserStatic.parse(l,{builder:new AU})[0][0];if(p.type!=uh.Link&&h)throw new Error(`\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0441\u044b\u043b\u043a\u043e\u0439: ${l}`);let g=p;return this.libData.setText(l.replace("-1000","+")).setSearch(a).setLink(xa.builder().setBookName(g.name).setShortName(!0).setChapter(""+g.startChapter).setStartLine(g.startLine).setEndLine(g.endLine).setLanguages(g.langugages).setLogical(d)),this}}class bX{items;pageItems;pageSize;iPageIndex=0;constructor(l,a,h,d){this.items=l,this.pageItems=a,this.pageSize=d}static builder(){return new bX([],[],0,10)}get pageIndex(){return this.iPageIndex}set pageIndex(l){this.iPageIndex=l,this.updatePage()}updatePage(){let a=Math.min(this.pageIndex*this.pageSize+this.pageSize,this.items.length);return this.pageItems=this.items.slice(this.pageIndex*this.pageSize,a),this}setItems(l){return this.items=l,this.recalculate(),this.updatePage()}setPageIndex(l){if(l<0||l+1>=this.pagesCount)throw new Error(`\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0438\u043d\u0434\u0435\u043a\u0441 \u0441\u0442\u0440\u0430\u043d\u0438\u0446: ${l}; \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c => [0,${this.pagesCount-1}].`);return this.pageIndex=l,this}setPageSize(l){if(l!=this.pageSize)return this.pageSize=l,this.recalculate(!0)}recalculate(l=!1){let a=this.pagesCount;return this.pageNumber>a&&(this.pageNumber=a),l?this.updatePage():this}prevPage(){return this.pageIndex>0&&(this.pageIndex=this.pageIndex-1),this}get pagesCount(){return Math.ceil(this.items.length/this.pageSize)}get pageNumber(){return this.pageIndex+1}set pageNumber(l){if(l<1||l>this.pagesCount)throw new Error(`\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446: ${l}; \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c => [1,${this.pagesCount}].`);this.pageIndex=l-1}nextPage(){return this.pageIndex+1<this.pagesCount&&(this.pageIndex=this.pageIndex+1),this}}class OX{name;bookmarks;constructor(l,a){this.name=l,this.bookmarks=a}static builder(){return new OX("",bX.builder())}setName(l){return this.name=l,this}setBookmarks(l){return this.bookmarks=l,this}}let CX=(()=>{class c extends sf{bookmarksSvc;searcher;audioSvc;bookmarksView;bookmarksEnabled=!0;searchEnabled=!0;searchMode=!1;searcherHelper=null;\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));jsSvc=new jx;bookmarksDatas=[];bookmarksSearchDatasAll=[];bookmarksSearchDatas=null;searchingSpinnerData=_X.builder().setText("\u041f\u043e\u0438\u0441\u043a...");tryLoadRemainsBookInfoCount=0;toolbarBooksHeaders=hh.builder().setItems([]).setOnClick(a=>{a.setSelected(!a.selected)}).updateClasses(a=>{a.setLabelNormal("label-info")});toolbarSearchHeaders=hh.builder().setItems([]).setOnClick(a=>{let h=this.bookmarksSearchDatasAll.find(d=>d.name==a.tag);h&&(this.bookmarksSearchDatas=h,this.config.post(()=>{this.scrollToBookmarks()}))});toolbarPages=hh.builder().setItems([]).setOnClick(a=>{this.bookmarksSearchDatas&&(this.bookmarksSearchDatas.bookmarks.pageNumber=+a.tag,this.config.post(()=>{this.loadRemainsBookInfoActiveGroup(),this.scrollToBookmarks()}))}).updateClasses(a=>{a.setLabelNormal("label-info")});modalDeleteAllBookmarksFlag=!1;modalDeleteBookmark="";modalDeleteBookmarkFlag=!1;component=new sn(Dl,Ta.builder().setText("\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP").setLink(xa.builder().setTextIsPage(!0).setOnRoute(a=>{})));searchMenuSubscription=null;data;get bookmarkData(){return this.data}dataSearchEditorData=$k.builder();workerSvc=gl.builder();bookServerSvc=new gU((a,h)=>{this.config.post(()=>{this.bookSvc.post(a,h)})});bookSvc=new uX((a,h)=>{this.config.post(()=>{this.workerSvc.enabled()?this.workerSvc.sendMessage(h):this.bookServerSvc.post(a,h)})});get boomarksData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}get bookmarks(){return this.sync(),this.searchMode?this.bookmarksSearchDatas?.bookmarks.pageItems:this.bookmarksDatas}get isSearching(){return this.searcher.isSearching()}constructor(a,h,d,f,p,g){super(a,h,d),this.bookmarksSvc=f,this.searcher=p,this.audioSvc=g,this.bookSvc.setConfig(this.config).setUIConfig(this.uiConfig),this.bookmarksEnabled="books"==this.config.getApplication().id,this.searchEnabled=this.config.isRestServerType(),this.searcherHelper=new _5t(this.searcher,a),this.dataSearchEditorData.setObject(this.searcherHelper.searchObject).setDescription("\u041f\u043e\u0438\u0441\u043a").setDescription2("\u0441\u043b\u043e\u0432\u043e \u0432\u0442\u043e\u0440\u043e\u0435 [\u041d\u0415] \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435").setFieldName("search").setShape("search").setShape2("keyboard").setReadonly(!1).setOnClick(m=>{m==this.dataSearchEditorData.shape2?this.toggleKeyboard():this.searcherHelper?.onSearch("search",this.getSearchBookPaths(),v=>{this.syncSearchDatas(!0),this.dataSearchEditorData.setReadonly(!0)})}),this.jsSvc.addBookmarksEnvironment(this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.uiConfig),this.jsSvc.addMethod(this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0421\u0441\u044b\u043b\u043a\u0443",(m,v)=>{var y=m.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(v[1]);if(this.bookmarks){let b=this.bookmarks.find(O=>O.errorsData.errors[0]==y.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());b?.toggleLinkShow()}return null}),this.jsSvc.addMethod(this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0421\u0441\u044b\u043b\u043a\u04432",(m,v)=>{var y=m.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(v[1]);if(this.bookmarks){let b=this.bookmarks.find(O=>O.errorsData.errors[0]==y.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430());b?.toggleLinkShow()}return null}),this.jsSvc.addMethod(this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,"\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c\u0423\u0434\u0430\u043b\u0438\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443",(m,v)=>{var y=m.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(v[1]);return this.modalDeleteBookmark=y.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),this.modalDeleteBookmarkFlag=!0,null})}ngOnInit(){super.ngOnInit(),this.bookmarkData&&this.config.post(()=>{this.searchMode=this.bookmarkData.startSearch})}ngOnDestroy(){super.ngOnDestroy(),this.workerSvc.unsubscribe(),this.searchMenuSubscription&&(this.searchMenuSubscription.unsubscribe(),this.searchMenuSubscription=null)}ngAfterViewInit(){super.ngAfterViewInit(),this.audioSvc.stop(),this.config.post(()=>{this.searchMode=this.bookmarkData.startSearch}),this.workerSvc.enabled()?this.workerSvc.setOnMessage(a=>{this.config.post(()=>{this.bookSvc.post(null,a)})}):this.bookServerSvc.setCacheService(new pU(new qE)),this.bookSvc.onLibraryLoadEvent.setOnEventHandler(()=>{this.tryLoadRemainsBookInfo(),this.loadBooksHeaders()}),this.bookSvc.onBookInfoLoadEvent.setOnEventHandler((a,h)=>{this.config.post(()=>{this.loadRemainsBookInfo2()})}),this.config.post(()=>{this.bookSvc.tryLoadLibraryInfo()}),this.config.post(()=>{this.searchMenuSubscription=this.uiConfig.setSideMenuCommands([Ft.builder().setName("\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0451").setShape("eye").setOnClick(a=>{this.toggleBookmarksView()}).setSyncHandler(a=>{this.setShowAllSideMenuLink(!1,a)&&this.config.post(()=>this.setShowAllSideMenuLink(!0,a))}),Ft.builder().setName("\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c").setShape("eraser").setOnClick(a=>{this.onNewSearch()}).setSyncHandler(a=>{this.setClearAllSideMenuLink(!1,a)&&this.config.post(()=>this.setClearAllSideMenuLink(!0,a))})])})}setShowAllSideMenuLink(a,h){let d=!1,f=this.isAllBookmarksVisible()?"\u0421\u043a\u0440\u044b\u0442\u044c \u0432\u0441e":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441e";return f!==h.name&&(d=!0,a&&(h.name=f)),d}setClearAllSideMenuLink(a,h){let d=!1,f=this.searchMode?"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435",p=this.searchMode?"eraser":"flame";return f!==h.name&&(d=!0,a&&(h.name=f,h.setOnClick("\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"==f?()=>this.onNewSearch():()=>{this.modalDeleteAllBookmarksFlag=!0}))),p!==h.shape&&(d=!0,a&&(h.shape=p)),d}getBookNameByPath(a){let h=a.split("/");return this.bookSvc.getNormalBookNameByBookPath(h[h.length-1])}loadRemainsBookInfo2(){if(!this.bookmarksSearchDatas)return;let h=this.bookmarksSearchDatas.bookmarks.pageItems.find(d=>d.errorsData.errors[0].indexOf("|")>=0&&!!this.getBookNameByPath(d.errorsData.errors[0]));if(null!=h){let f=h.errorsData.errors[0].split("|");if(f.length>1){let p=f[0],g=f[1],m=this.getBookNameByPath(p);if(m){let v=this.bookSvc.getShortBookName(m),_=this.bookSvc.bookInfo?.content.find(O=>p.endsWith(O.path)),b=`${v}${g}{${_?_.name:""}}`;h.setLink(b,this.searcherHelper?this.searcherHelper.search:"",!0,!1),h.\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(b)),h.errorsData.errors[0]=`${b}`}}this.tryLoadRemainsBookInfo()}}tryLoadRemainsBookInfo(){this.tryLoadRemainsBookInfoCount>0||(++this.tryLoadRemainsBookInfoCount,this.config.post(()=>{this.loadRemainsBookInfo(),--this.tryLoadRemainsBookInfoCount}))}loadRemainsBookInfo(){let a=this.bookmarksSearchDatasAll.map(h=>{let d=this.getBookNameByPath(h.name);return{d:h,name:d?this.bookSvc.getShortBookName(d):null}}).filter(h=>!!h.name&&"\u0421\u043f\u0440"!=h.name).map(h=>h);!this.bookmarksSearchDatasAll||this.toolbarSearchHeaders.items.length==a.length||(this.toolbarSearchHeaders.setItems(a.map(h=>ka.builder().setText(h.name).setTag(h.d.name))).setOnClick(h=>{let d=this.bookmarksSearchDatasAll.find(f=>f.name==h.tag);d&&(this.bookmarksSearchDatas=d,this.loadRemainsBookInfoActiveGroup())}),this.bookmarksSearchDatas||this.config.post(()=>{this.toolbarSearchHeaders.click(this.toolbarSearchHeaders.items[0])}))}loadRemainsBookInfoActiveGroup(){this.bookmarksSearchDatas&&this.bookmarksSearchDatas.bookmarks.pageItems.forEach(h=>{if(null!=h){let p=h.errorsData.errors[0].split("|")[0],g=this.getBookNameByPath(p);g&&this.bookSvc.loadBookByName(g,[],"",!1)}})}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}syncBookmarks(){let a=this.bookmarksSvc.getBookmarks(),h=!1,d=this.getStdBookmarks();return h=this.bookmarksDatas.length!=a.length+d.length||null!=a.find((p,g)=>p!=this.bookmarksDatas[g+d.length].errorsData.errors[0]),h&&a.unshift(...d),h&&(this.bookmarksDatas=[],a.forEach((f,p)=>{let g=f.replace("-1000","+"),m=`\n\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 = \u043a\u043b\u0430\u0441\u0441 {\n  \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430 = '';\n  \u0442\u0438\u043f = 0;\n  \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440(_\u0442\u0438\u043f) {\n    \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430 = '${g}';\n    \u0442\u0438\u043f = _\u0442\u0438\u043f;\n  }\n  \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c() {\n    //\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c('\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0430: "' + \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430 + '": ' + \u0442\u0438\u043f);\n    \u0435\u0441\u043b\u0438 (\u0442\u0438\u043f == 0) {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0434\u0432\u0438\u043d\u0443\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443\u0412\u0432\u0435\u0440\u0445(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    } \u0438\u043d\u0430\u0447\u0435 \u0435\u0441\u043b\u0438 (\u0442\u0438\u043f == 1) {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0434\u0432\u0438\u043d\u0443\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443\u0412\u043d\u0438\u0437(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    } \u0438\u043d\u0430\u0447\u0435 \u0435\u0441\u043b\u0438 (\u0442\u0438\u043f == 2) {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c\u0423\u0434\u0430\u043b\u0438\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    } \u0438\u043d\u0430\u0447\u0435 \u0435\u0441\u043b\u0438 (\u0442\u0438\u043f == 3) {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0421\u0441\u044b\u043b\u043a\u0443(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    } \u0438\u043d\u0430\u0447\u0435 \u0435\u0441\u043b\u0438 (\u0442\u0438\u043f == 4) {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0421\u0441\u044b\u043b\u043a\u04432(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    } \u0438\u043d\u0430\u0447\u0435 {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0421\u0441\u044b\u043b\u043a\u0443(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    }\n  }\n};\n\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';\n          `,v=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),y=(this.jsSvc.run(m,v,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),mL.builder());y.errorsData.setOnClick(b=>{this.boomarksData.click(b)}),y.setLink(f,"").setMessages([g]).setActions(p<d.length?[zs.builder().setText("\u0412\u0438\u0434").setShape("eye").setOnClick(()=>{this.jsSvc.run("\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(3).\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(); \u0432\u0435\u0440\u043d\u0443\u0442\u044c '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';",v,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()})]:[zs.builder().setText("X").setShape("times").setOnClick(()=>{this.jsSvc.run("\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(2).\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(); \u0432\u0435\u0440\u043d\u0443\u0442\u044c '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';",v,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()}),zs.builder().setText("\u041d\u0438\u0436\u0435").setShape("fast-forward").setOnClick(()=>{this.jsSvc.run("\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(1).\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(); \u0432\u0435\u0440\u043d\u0443\u0442\u044c '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';",v,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()}),zs.builder().setText("\u0412\u044b\u0448\u0435").setShape("rewind").setOnClick(()=>{this.jsSvc.run("\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(0).\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(); \u0432\u0435\u0440\u043d\u0443\u0442\u044c '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';",v,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()}),zs.builder().setText("\u0412\u0438\u0434").setShape("eye").setOnClick(()=>{this.jsSvc.run("\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(3).\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(); \u0432\u0435\u0440\u043d\u0443\u0442\u044c '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';",v,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()})]),y.errorsData.classes.setAlertClass("warning").setAlertShape("").setNoPrint(!0),this.bookmarksDatas.push(y)})),h&&this.component.data.setText(a.map(p=>p+` /*\n\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 = \u043a\u043b\u0430\u0441\u0441{\n  \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430 = '';\n  \u0432\u0432\u0435\u0440\u0445 = false;\n  \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440(_\u0432\u0432\u0435\u0440\u0445){\n    \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430 = '${p}';\n    \u0432\u0432\u0435\u0440\u0445 = _\u0432\u0432\u0435\u0440\u0445;\n  }\n  \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(\u043a\u043d\u043e\u043f\u043a\u0430){\n    //\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c('\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0430: "' + \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430 + '": ' + (\u0432\u0432\u0435\u0440\u0445?'\u0432\u0432\u0435\u0440\u0445':'\u0432\u043d\u0438\u0437'));\n    \u0435\u0441\u043b\u0438 (\u0432\u0432\u0435\u0440\u0445) {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0434\u0432\u0438\u043d\u0443\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443\u0412\u0432\u0435\u0440\u0445(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    } \u0438\u043d\u0430\u0447\u0435 {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0434\u0432\u0438\u043d\u0443\u0442\u044c\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0443\u0412\u043d\u0438\u0437(\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    }\n  }\n};\n\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043d\u043e\u043f\u043a\u0430('\u2191','link','',\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(true), false);\n\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u043a\u043d\u043e\u043f\u043a\u0430('\u2193','link','',\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(false), false);\n*/`).join("\r\n")),this}saveBookmarks(a){return this.bookmarksSvc.setBookmarks(a),this}deleteAllBookmarks(){return this.bookmarksSvc.setBookmarks([]),this}toggleBookmarksView(){let a=this.isAllBookmarksVisible();return this.bookmarks&&this.bookmarks.forEach(h=>{h.libDataShow==a&&h.toggleLinkShow()}),this}isAllBookmarksVisible(){this.sync();let a=this.bookmarks;return!!a&&a.map(d=>d.libDataShow).reduce((d,f)=>d&&f,!0)}isBookmarksExists(){this.sync();let a=this.bookmarks;return!!a&&a.length>0}onDeleteAllBookmarks(){this.deleteAllBookmarks(),this.modalDeleteAllBookmarksFlag=!1}onDeleteBookmark(a){return this.bookmarksSvc.deleteBookmark(a),this.modalDeleteBookmarkFlag=!1,this}getDaysFromYear(){var a=new Date,h=new Date(a.getFullYear(),0,0),d=a.getTime()-h.getTime()+60*(h.getTimezoneOffset()-a.getTimezoneOffset())*1e3,f=864e5,p=Math.floor(d/f);if(p<14&&a.getFullYear()>2022){var g=new Date(a.getFullYear()-1,0,0),m=new Date(a.getFullYear()-1,11,31),v=m.getTime()-g.getTime()+60*(g.getTimezoneOffset()-m.getTimezoneOffset())*1e3;p+=Math.floor(v/f)}return p-13}getStdBookmarks(){let a=this.getDaysFromYear();return[`\u041c\u04412023.${a}:1-1000`,`\u0411\u04432023.${a}:1-1000`]}toggleSearch(){return this.searchMode=!this.searchMode,this}getChapter(a){let h=a.indexOf("."),f=+a.substring(0,h>=0?h:void 0).replace(/_/g,"");return isNaN(f)?null:f}getLines(a){let h=[],d=a.map(f=>f.items.map(p=>p.line)).flatMap(f=>f);return d.sort((f,p)=>f-p),d.forEach(f=>{h.indexOf(f)<0&&h.push(f)}),h}getLinesSingle(a){let h=[],d=a.items.map(f=>f.line);return d.sort((f,p)=>f-p),d.forEach(f=>{h.indexOf(f)<0&&h.push(f)}),h}createBookmarksFor(a,h){let d=[],f=this.getChapter(h.name),p=h.items.length?this.getLinesSingle(h):[1];return null!=f&&p.forEach(g=>{d.push(this.createBookmarksForSingle(`${a}|.${f}:${g}`))}),d}createBookmarksForSingle(a){let h=mL.builder(),d=h.\u043f\u0430\u043c\u044f\u0442\u044c;return d.\u043a\u0430\u043a\u041a\u0430\u0440\u0442\u0430().set("\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430",this.jsSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u0430\u044f\u0421\u0442\u0440\u043e\u043a\u0430("\u0441\u0442\u0440\u043e\u043a\u0430").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(a)),this.jsSvc.run("\n\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 = \u043a\u043b\u0430\u0441\u0441 {\n  \u0442\u0438\u043f = 0;\n  \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440(_\u0442\u0438\u043f) {\n    \u0442\u0438\u043f = _\u0442\u0438\u043f;\n  }\n  \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c() {\n    //\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e().\u0432\u044b\u0432\u0435\u0441\u0442\u0438\u0412\u041a\u043e\u043d\u0441\u043e\u043b\u044c('\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0430: \"' + \u043f\u0430\u043c\u044f\u0442\u044c.\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430 + '\": ' + \u0442\u0438\u043f);\n    \u0435\u0441\u043b\u0438 (\u0442\u0438\u043f == 0) {\n      \u0442\u0438\u043f = 0;\n    } \u0438\u043d\u0430\u0447\u0435 {\n      \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0421\u0441\u044b\u043b\u043a\u04432(\u043f\u0430\u043c\u044f\u0442\u044c.\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430);\n    }\n  }\n};\n\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 = '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';\n          ",d,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),h.errorsData.setOnClick(g=>{this.boomarksData.click(g)}).updateClasses(g=>{g.setAlertClass("info").setAlertShape("bookmark")}),h.setLink(a,this.searcherHelper?this.searcherHelper.search:"",!1,!1).setMessages([a]).setActions([zs.builder().setText("\u0412\u0438\u0434").setShape("eye").setOnClick(()=>{this.jsSvc.run("\u043f\u0430\u043c\u044f\u0442\u044c.\u043a\u043b\u0430\u0441\u0441\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(4).\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c(); \u0432\u0435\u0440\u043d\u0443\u0442\u044c '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e';",d,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,this.\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442).\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430()})]),h}syncSearchDatas(a){a&&(this.bookmarksSearchDatasAll=[],this.searcherHelper?.results.searchDataItems.forEach(h=>{let d=h.items.flatMap(f=>this.createBookmarksFor(h.name,f));if(d.length){let f=OX.builder();f.bookmarks.setItems(d),f.setName(h.name),this.bookmarksSearchDatasAll.push(f)}}),this.bookmarksSearchDatasAll.length>0&&this.config.post(()=>{this.bookSvc.tryLoadLibraryInfo()}))}currentPages(){if(this.bookmarksSearchDatas){let a=this.bookmarksSearchDatas.bookmarks.pagesCount;this.toolbarPages.items.length!=a&&this.toolbarPages.setItems([...Array(a).keys()].map(h=>h+1).map(h=>ka.builder().setTag(""+h).setText(""+h))),this.toolbarPages.items.forEach(h=>h.setSelected(h.tag==""+this.bookmarksSearchDatas.bookmarks.pageNumber))}else 0!=this.toolbarPages.items.length&&this.toolbarPages.setItems([]);return this.toolbarPages}currentHeaders(){return this.bookmarksSearchDatas&&this.toolbarSearchHeaders.items.forEach(a=>{a.setSelected(a.tag==this.bookmarksSearchDatas?.name)}),this.toolbarSearchHeaders}scrollToBookmarks(){return this.bookmarksView.nativeElement.scrollIntoView(!0),this}onNewSearch(){return this.dataSearchEditorData.setReadonly(!1),this.bookmarksSearchDatasAll=[],this.bookmarksSearchDatas=null,this.toolbarSearchHeaders.setItems([]),this}sync(){this.searchMode?this.syncSearchDatas(!1):this.syncBookmarks()}loadBooksHeaders(){!this.bookSvc.libraryInfo||this.toolbarBooksHeaders.items.length>0||this.toolbarBooksHeaders.setItems(this.bookSvc.libraryInfo.content.map(a=>a.path2?{name:a.path2[0],path:a.path}:null).filter(a=>!!a&&"\u0421\u043f\u0440"!=a.name).map(a=>a).map(a=>ka.builder().setText(a.name).setTag(a.path)))}getSearchBookPaths(){return this.toolbarBooksHeaders.items.filter(h=>h.selected).map(h=>h.tag)}toggleKeyboard(){this.dataSearchEditorData.toggleKeyboard()}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(fu),V(gO),V(Ske),V(uv))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-bookmarks"]],viewQuery:function(h,d){if(1&h&&si(w5t,5),2&h){let f;Ht(f=Wt())&&(d.bookmarksView=f.first)}},inputs:{data:"data"},features:[_n],decls:28,vars:5,consts:[[4,"ngIf"],[3,"clrModalOpen","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],["shape","flame","solid",""],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["shape","ban"],["class","bottom-top-space",4,"ngIf"],[1,"bottom-top-space"],[3,"data"],[1,"bottom-space"],["clrForm","","clrLayout","horizontal",1,"clr-hidden-xs-down"],["clrForm","","clrLayout","vertical",1,"clr-hidden-sm-up"],[4,"ngFor","ngForOf"],[1,"top-space"],["bookmarksView",""],[3,"data",4,"ngIf"]],template:function(h,d){1&h&&(X(0,P5t,3,2,"div",0),X(1,R5t,2,1,"div",0),E(2,"clr-modal",1),Y("clrModalOpenChange",function(p){return d.modalDeleteAllBookmarksFlag=p}),E(3,"h3",2),H(4,"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438"),M(),E(5,"div",3),se(6,"cds-icon",4),H(7," \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438? "),M(),E(8,"div",5)(9,"button",6),Y("click",function(){return d.onDeleteAllBookmarks()}),se(10,"cds-icon",4),H(11," \u0414\u0430"),M(),E(12,"button",7),Y("click",function(){return d.modalDeleteAllBookmarksFlag=!1}),se(13,"cds-icon",8),H(14," \u041d\u0435\u0442"),M()()(),E(15,"clr-modal",1),Y("clrModalOpenChange",function(p){return d.modalDeleteBookmarkFlag=p}),E(16,"h3",2),H(17,"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0430"),M(),E(18,"div",3),se(19,"cds-icon",4),H(20),M(),E(21,"div",5)(22,"button",6),Y("click",function(){return d.onDeleteBookmark(d.modalDeleteBookmark)}),se(23,"cds-icon",4),H(24,"\u0414\u0430"),M(),E(25,"button",7),Y("click",function(){return d.modalDeleteBookmarkFlag=!1}),se(26,"cds-icon",8),H(27,"\u041d\u0435\u0442"),M()()()),2&h&&(R("ngIf",d.searchMode),I(1),R("ngIf",!d.searchMode),I(1),R("clrModalOpen",d.modalDeleteAllBookmarksFlag),I(13),R("clrModalOpen",d.modalDeleteBookmarkFlag),I(5),Kt(" \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0443 '",d.modalDeleteBookmark,"'? "))},dependencies:[Gn,mn,Vn,Vo,$o,$p,$me,Jh,Kh,Nc,Dl,SA,yQ,_f,wke],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();class SX{constructor(){}static builder(){return new SX}}class y0 extends ti{classes;startSearch=!1;constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new y0("",null,null,SX.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}setStartSearch(l){return this.startSearch=l,this}}class wX extends Qa{constructor(){super()}static builder(){return new wX}}class Sh extends ti{classes;constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new Sh("",null,null,wX.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}}let b0=(()=>{class c{uiConfig;config;needUpdateLastVersion="";constructor(a,h){this.uiConfig=a,this.config=h}clearUpdateMessage(){return this.needUpdateLastVersion&&(this.uiConfig.ui.lastUpdateVersion.setStringValue(this.needUpdateLastVersion),this.needUpdateLastVersion=""),this}showUpdateMessage(){return this.needUpdateLastVersion&&this.config.addAlert(Bi.of(`\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043d\u043e\u0432\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f ${this.needUpdateLastVersion}.`,"\u041e\u043a",180)),this.needUpdateLastVersion}checkAndSetNeedUpdate(a){this.config.getApplication(),c.compareStrings(a,this.config.version,!0)>0&&(this.needUpdateLastVersion=a)}checkUpdate(){let a=this.uiConfig.ui.updateCheckPeriod.getNumberValue();Number.isInteger(a)||(a=0);let h=24*a*60*60*1e3,d=Date.now(),f=this.uiConfig.ui.lastUpdateVersionCheckTime.getNumberValue();if(Math.abs(Math.abs(d)-Math.abs(f))<h)return"";this.uiConfig.ui.lastUpdateVersionCheckTime.setNumberValue(d);let p=this.config.getApplication(),g=this.uiConfig.getUpdateVersionsList(pi.merge(pi.merge(atob(this.uiConfig.getUpdateSecUrl()),p.id),"updates/versions."+this.uiConfig.getUpdateExt()));if(g.sort((m,v)=>-c.compareStrings(m,v)),g.length){let m=g[0];m!=this.uiConfig.ui.lastUpdateVersion.getStringValue()&&this.checkAndSetNeedUpdate(m)}return this.needUpdateLastVersion}static compareStrings(a,h,d=!1){let f=a.split("."),p=h.split(".");if(f.length<p.length)return-1;if(f.length>p.length)return 1;for(let g=0;g<f.length;g++){let m=+f[g],v=+p[g];if(Number.isInteger(m)&&Number.isInteger(v)){let y=m-v;if(y=y<0?-1:y>0?1:0,0!=y)return y}let _=d?0:f[g].localeCompare(p[g]);if(0!=_)return _}return 0}static \u0275fac=function(h){return new(h||c)(Ee(wn),Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class vL{success;text;constructor(l,a){this.success=l,this.text=a}static builder(){return new vL(!1,"")}setSuccess(l){return this.success=l,this}setText(l){return this.text=l,this}}let xke=(()=>{class c{http;config;restPoint="/system";getRestPoint(a,h){return pi.merge(pi.merge(h||this.config.serviceAPIHost,this.restPoint),a)}getRestPointRaw(a,h){return pi.merge(h||this.config.serviceAPIHost,a)}constructor(a,h){this.http=a,this.config=h}shutdown(){if(!this.config.isRestServerType())return new Promise((h,d)=>{this.config.post(()=>{h(vL.builder().setSuccess(!0).setText(""))},1)});const a={params:{}};return new Promise((h,d)=>{this.http.post(this.getRestPoint("/shutdown",null),"",a).pipe(vr(Ui.handleError)).subscribe({next:f=>{h(vL.builder().setSuccess(!!f.success).setText(f.text))},error:f=>{d(null)}})})}static \u0275fac=function(h){return new(h||c)(Ee(hu),Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();function L5t(c,l){1&c&&(E(0,"div")(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16),se(5,"cds-icon",17),M(),E(6,"span",18),H(7," \u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043d\u0438\u043a\u0430\u043a\u0438\u0445 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439 \u0438\u043b\u0438 \u0441\u0442\u0430\u0440\u044b\u0445 \u0432\u0435\u0440\u0441\u0438\u0439. "),M()()()()())}function N5t(c,l){1&c&&(E(0,"div")(1,"div",19)(2,"div",14)(3,"div",15)(4,"div",16),se(5,"cds-icon",17),M(),E(6,"span",18),H(7," \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u0438: "),M()()()()())}function F5t(c,l){1&c&&se(0,"app-dynamic-errors",20),2&c&&R("data",l.$implicit)}function B5t(c,l){if(1&c){const a=Ae();E(0,"div",24),Y("click",function(){const f=ce(a).$implicit;return ue(Q(2).onNewLableDlgSelect(f))}),H(1),M()}if(2&c){const a=l.$implicit;Je("aria-label","Dropdown header Action"+a),I(1),ut(a)}}function V5t(c,l){if(1&c&&(E(0,"clr-dropdown-menu",21)(1,"label",22),H(2,"\u0412\u0435\u0440\u0441\u0438\u0438"),M(),X(3,B5t,2,2,"div",23),M()),2&c){const a=Q();I(3),R("ngForOf",a.getLabels())}}class Tke{modalFlag;currentName;text;constructor(l=!1,a="",h=""){this.modalFlag=l,this.currentName=a,this.text=h}}class _L{secureUrl;ext;edErrorsDatas;constructor(l,a,h){this.secureUrl=l,this.ext=a,this.edErrorsDatas=h}static builder(){return new _L("","bin",[])}get url(){return atob(this.secureUrl)}setSecureUrl(l){return this.secureUrl=l,this}setExtension(l){return this.ext=l,this}setEdErrorsDatas(l){return this.edErrorsDatas=l,this}}let Uk=(()=>{class c{uiConfig;config;memDataSvc;audioSvc;systemSvc;data=Sh.builder();update=_L.builder();edErrorsDatas=[];get errorsDatas(){return this.syncLabels(),this.edErrorsDatas}set errorsDatas(a){this.edErrorsDatas=a}currentVersions=[];currentVersion="";deleteVersionDlg=new Tke;newVersionDlg=new Tke;newVersionTextEditor=ld.builder().setObject(this.newVersionDlg).setFieldName("currentName").setDescription("\u0422\u0435\u043a\u0441\u0442 \u0432\u0435\u0440\u0441\u0438\u0438").setUseDefault(!0);created=!1;get versionsData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h,d,f,p){this.uiConfig=a,this.config=h,this.memDataSvc=d,this.audioSvc=f,this.systemSvc=p}ngOnInit(){this.created=!0;let a=this.config.getApplication();this.update=_L.builder().setSecureUrl(btoa(pi.merge(atob(this.uiConfig.getUpdateSecUrl()),a.id))).setExtension(this.uiConfig.getUpdateExt()).setEdErrorsDatas([]),this.addStandardVersions()}ngOnDestroy(){this.created=!1}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}addStandardVersions(){this.config.post(()=>{this.load()},100)}addTag(a,h,d=!0,f=!1){if(this.edErrorsDatas.map(_=>_.errors[0]).indexOf(a)>=0)return;let m=[];h?(m.unshift(zs.builder().setText("X").setShape("uninstall").setBadge(f?"success":"").setOnClick(()=>{this.deleteTagRequest(a)})),m.unshift(zs.builder().setText("\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c").setShape("play").setSolid(f).setOnClick(()=>{this.activateVersion(a)}))):m.unshift(zs.builder().setText("\u0421\u043a\u0430\u0447\u0430\u0442\u044c").setShape("download").setOnClick(()=>{this.downloadVersionRequest(a)}));let v=la.builder().setErrors([a]).setActions(m);return v.classes.setAlertClass("warning").setAlertShape("").setNoPrint(!0),this.edErrorsDatas.push(v),d&&this.save(),this}isNoUpdates(){return 0==this.errorsDatas.length}reload(){this.config.post(()=>{this.load()})}downloadVersionRequest(a){let h=this.uiConfig.downloadUpdateVersionFile(pi.merge(this.update.url,"updates/versions/"),a,this.update.ext);this.audioSvc.setUpdateDir(h,()=>{this.reload()})}activateVersion(a){let h=this.uiConfig.setUpdateVersion(a);this.audioSvc.setUpdateDir(h,d=>{d?this.config.addAlert(Bi.of(d,"Ok",30)):this.systemSvc.shutdown().then(()=>{this.reload()})})}addNewTagRequest(a){this.newVersionDlg.currentName="",this.newVersionDlg.modalFlag=!0}deleteTagRequest(a){this.deleteVersionDlg.currentName=a,this.deleteVersionDlg.modalFlag=!0}addNewTag(a){this.edErrorsDatas.map(f=>f.errors[0]).indexOf(a)<0&&this.addTag(a,!1)}deleteVersioinDirect(a){let h=this.uiConfig.deleteUpdateVersionFile(a);this.audioSvc.setUpdateDir(h,()=>{this.reload()})}deleleVersion(a){let d=this.edErrorsDatas.map(p=>p.errors[0]).indexOf(a);d>=0&&(this.edErrorsDatas.splice(d,1),this.save()),this.uiConfig.getUpdateVersion()==a?this.systemSvc.shutdown().then(()=>this.deleteVersioinDirect(a)):this.deleteVersioinDirect(a)}deleteVersionDirect(){this.config.post(()=>{this.deleleVersion(this.deleteVersionDlg.currentName),this.deleteVersionDlg.modalFlag=!1})}newLabelDirect(){this.config.post(()=>{this.addNewTag(this.newVersionDlg.currentName),this.newVersionDlg.modalFlag=!1})}load(){if(!this.created)return;this.edErrorsDatas=[];let a=this.uiConfig.getUpdateVersionsList(pi.merge(this.update.url,"updates/versions."+this.uiConfig.getUpdateExt())),h=this.uiConfig.getInstalledVersionsList();h.forEach(f=>{a.indexOf(f)<0&&a.push(f)}),a.sort((f,p)=>-b0.compareStrings(f,p));let d=this.uiConfig.getUpdateVersion();a.forEach(f=>{let p=null!=h.find(g=>g==f);this.addTag(f,p,!1,f==d)}),this.loadLabels()}save(){this.loadLabels()}syncLabels(){}loadLabels(){}getLabels(){return this.syncLabels(),this.currentVersions}onNewLableDlgSelect(a){this.newVersionDlg.currentName=a}onScanTagsOnPersons(a){a.stopPropagation(),this.memDataSvc.isReady?this.onScanTagsOnPersonsDirect():this.memDataSvc.setup(()=>{this.onScanTagsOnPersonsDirect()})}onScanTagsOnPersonsDirect(){if(this.memDataSvc.persons){let a=this.memDataSvc.persons,h=this.uiConfig.ui.memorialAllTags.getStringValue().split(",").map(f=>f.trim()).filter(f=>!!f),d=new Map;h.forEach(f=>d.set(f,!0)),a.items.map(f=>f.description).filter(f=>!!f).map(f=>(new Yn).load(f).getValue(Yn.LABELS)).filter(f=>!!f).map(f=>f).forEach(f=>{d.has(f)||(f.split(",").map(p=>p.trim()).filter(p=>!!p).forEach(p=>{d.has(p)||(h.push(p),d.set(p,!0))}),d.set(f,!0))}),this.uiConfig.ui.memorialAllTags.setStringValue(h.join(",")),this.config.addAlert(Bi.of("\u0412\u0441\u0435 \u043c\u0435\u0442\u043a\u0438 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u044b \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b.","Ok",30))}}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt),V(Zp),V(uv),V(xke))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-versions"]],inputs:{data:"data"},decls:37,vars:8,consts:[[4,"ngIf"],[3,"data",4,"ngFor","ngForOf"],[1,"s0",3,"clrModalOpen","clrModalOpenChange","click"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"w100","center"],["clrDropdownTrigger","",1,"btn","btn-link","btn-block"],["shape","angle","direction","down"],["clrPosition","top-left",4,"clrIfOpen"],["type","button",1,"btn","btn-success",3,"disabled","click"],["role","alert",1,"alert","alert-success"],[1,"alert-items"],[1,"alert-item","static"],[1,"alert-icon-wrapper"],["shape","check-circle",1,"alert-icon"],[1,"alert-text"],["role","alert",1,"alert","alert-info"],[3,"data"],["clrPosition","top-left"],["aria-hidden","true",1,"dropdown-header"],["clrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["clrDropdownItem","",3,"click"]],template:function(h,d){1&h&&(X(0,L5t,8,0,"div",0),X(1,N5t,8,0,"div",0),X(2,F5t,1,1,"app-dynamic-errors",1),E(3,"clr-modal",2),Y("clrModalOpenChange",function(p){return d.deleteVersionDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(4,"h3",3),H(5,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u0438:"),M(),E(6,"div",4)(7,"div"),H(8,"\xa0"),M(),E(9,"div"),H(10),M(),E(11,"div"),H(12,"\xa0"),M()(),E(13,"div",5)(14,"button",6),Y("click",function(){return d.deleteVersionDlg.modalFlag=!1}),H(15,"\u041e\u0442\u043c\u0435\u043d\u0430"),M(),E(16,"button",7),Y("click",function(){return d.deleteVersionDirect()}),H(17,"Ok"),M()()(),E(18,"clr-modal",2),Y("clrModalOpenChange",function(p){return d.newVersionDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(19,"h3",3),H(20,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u0438:"),M(),E(21,"div",4)(22,"div"),H(23,"\xa0"),M(),E(24,"div",8)(25,"clr-dropdown")(26,"button",9),H(27),se(28,"cds-icon",10),M(),X(29,V5t,4,1,"clr-dropdown-menu",11),M()(),E(30,"div"),H(31,"\xa0"),M()(),E(32,"div",5)(33,"button",6),Y("click",function(){return d.newVersionDlg.modalFlag=!1}),H(34,"\u041e\u0442\u043c\u0435\u043d\u0430"),M(),E(35,"button",12),Y("click",function(){return d.newLabelDirect()}),H(36,"Ok"),M()()()),2&h&&(R("ngIf",d.isNoUpdates()),I(1),R("ngIf",!d.isNoUpdates()),I(1),R("ngForOf",d.errorsDatas),I(1),R("clrModalOpen",d.deleteVersionDlg.modalFlag),I(7),Kt('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0435\u0440\u0441\u0438\u044e: "',d.deleteVersionDlg.currentName,'"?'),I(8),R("clrModalOpen",d.newVersionDlg.modalFlag),I(9),Kt(" ",d.newVersionDlg.currentName?d.newVersionDlg.currentName:"\u041d\u0435\u0442 \u0432\u0435\u0440\u0441\u0438\u0438"," "),I(8),R("disabled",!d.newVersionDlg.currentName))},dependencies:[Gn,mn,gf,Vn,Vo,$o,Hb,Lr,Cm,lO,cO,aO,_f],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();function $5t(c,l){if(1&c&&(E(0,"div"),se(1,"app-add-component",2),M()),2&c){const a=l.$implicit;I(1),R("component",a)}}let z5t=(()=>{class c extends sf{updateSvc;router;helpBookName="\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP";menuTitleCommands=[Ft.builder().setName("\u041a\u043d\u0438\u0433\u0430").setShape("book").setOnClick(()=>this.routeTo("")),Ft.builder().setName("\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438").setShape("bookmark").setOnClick(()=>this.routeToBookmarks())];booksTitleCommands=[Ft.builder().setName("\u041c\u0435\u043d\u044e").setShape("cog").setOnClick(()=>this.reset()),Ft.builder().setName("\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438").setShape("bookmark").setOnClick(()=>this.routeToBookmarks())];bookmarksTitleCommands=[Ft.builder().setName("\u041c\u0435\u043d\u044e").setShape("cog").setOnClick(()=>this.reset()),Ft.builder().setName("\u041a\u043d\u0438\u0433\u0430").setShape("book").setOnClick(()=>this.routeTo(""))];searchTitleCommands=[Ft.builder().setName("\u041c\u0435\u043d\u044e").setShape("cog").setOnClick(()=>this.reset()),Ft.builder().setName("\u041a\u043d\u0438\u0433\u0430").setShape("book").setOnClick(()=>this.routeTo("")),Ft.builder().setName("\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438").setShape("bookmark").setOnClick(()=>this.routeToBookmarks())];clearTitleMenuSubscription=null;constructor(a,h,d,f,p){super(a,h,d),this.updateSvc=f,this.router=p,this.addMenuLink(Ft.builder().setLink("#").setName("\u041c\u0435\u043d\u044e").setShape("cog").setOnClick(()=>{this.config.post(()=>{this.reset()},0)}).setIsActive(()=>this.isComponentType(zx,null))).addMenuLink(Ft.builder().setLink("#").setName("\u041a\u043d\u0438\u0433\u0438").setShape("book").setOnClick(()=>{this.routeTo("")}).setIsActive(()=>this.isComponentType(Xi,Ta))).addMenuLink(Ft.builder().setLink("#").setName("\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438").setShape("bookmark").setOnClick(()=>{this.routeToBookmarks()}).setIsActive(()=>!1===this.isComponentTypeName(Xi,y0,"startSearch"))),this.config.isRestServerType()&&(this.addMenuLink(Ft.builder().setLink("#").setName("\u041f\u043e\u0438\u0441\u043a").setShape("search").setOnClick(()=>{this.routeToSearch()}).setIsActive(()=>this.isComponentTypeName(Xi,y0,"startSearch"))).addMenuLink(Ft.builder().setLink("#").setName("\u0412\u0435\u0440\u0441\u0438\u0438").setShape("download").setOnClick(()=>{this.routeToVersions()}).setIsActive(()=>this.isComponentType(Xi,Sh)).setIsHidden(()=>!this.uiConfig.ui.systemUpdates.getBooleanValue())),this.menuTitleCommands.push(Ft.builder().setName("\u041f\u043e\u0438\u0441\u043a").setShape("search").setOnClick(()=>this.routeToSearch())),this.booksTitleCommands.push(Ft.builder().setName("\u041f\u043e\u0438\u0441\u043a").setShape("search").setOnClick(()=>this.routeToSearch())),this.bookmarksTitleCommands.push(Ft.builder().setName("\u041f\u043e\u0438\u0441\u043a").setShape("search").setOnClick(()=>this.routeToSearch()))),this.addMenuLink(Ft.builder().setLink("#").setName("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438").setShape("cog").setOnClick(()=>{this.routeToSettings()}).setIsActive(()=>this.isComponentType(Xi,ca))).addMenuLink(Ft.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.routeToHelp()}).setIsActive(()=>this.isComponent(this.helpBookName)))}clearTitleMenu(){this.clearTitleMenuSubscription&&(this.clearTitleMenuSubscription.unsubscribe(),this.clearTitleMenuSubscription=null)}ngOnDestroy(){super.ngOnDestroy(),this.clearTitleMenu()}ngAfterViewInit(){super.ngAfterViewInit(),this.doLogin(a=>{this.config.post(()=>this.ngAfterViewInitRaw())})}ngAfterViewInitRaw(){if("confidential"===pageRequestedDoc)return pageRequestedDoc="",void this.routeToHelp("3");this.updateSvc.checkUpdate()?(this.updateSvc.showUpdateMessage(),this.updateSvc.clearUpdateMessage(),this.config.post(()=>{this.routeToVersions()},1500)):this.uiConfig.ui.visitedBooksHelp.getStringValue()!==this.config.environment.version?this.config.post(()=>{this.routeToHelp()}):this.uiConfig.ui.currentBook.getStringValue()?this.config.post(()=>{this.routeTo(this.uiConfig.ui.currentBook.getStringValue())}):this.config.post(()=>{this.reset()})}resetDelayed(){this.config.post(()=>{this.reset()})}reset(){this.components=[new sn(m1e,zx.builder().setGenName("BibleMenu").setOnClick(a=>{this.routeTo(a.trim())}))],this.config.post(()=>{this.setTitleMenuDelayed(this.menuTitleCommands)},0)}isComponent(a,h=""){if(this.components.length<=0)return!1;let d=this.components[0].data,p=(d instanceof Xi?d:null)?.component?.data;return p?.text==a&&(p?.link.chapter==h||!h)||""==a&&!!p?.text}setComponentsDelayed(a){this.config.post(()=>{this.components=a})}routeToSettings(){this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(yf,ca.builder().updateClasses(a=>a.setBookSettings(!0)))))]),this.setTitleMenu(this.searchTitleCommands)}routeToHelp(a="1"){this.isComponent(this.helpBookName,a)&&"1"===a?this.routeTo(""):this.routeTo(this.helpBookName,a,0)}routeTo(a,h="",d=-1){let f=a,p=h,g=d;if("\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==f)return void this.routeToHelp("3");if("books_help"==f||f==this.helpBookName&&""==p&&g<0)return void this.routeToHelp();if("\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438"==f)return void this.routeToBookmarks();if(f||(f=this.uiConfig.ui.currentBook.getStringValue()),!f||["UP","DOWN","AROUND","CENTER"].map(v=>f.endsWith(v)).reduce((v,_)=>v||_,!1))return;f!=this.uiConfig.ui.currentBook.getStringValue()&&f!=this.helpBookName&&this.uiConfig.ui.currentBook.setStringValue(f);let m=!1;f==this.helpBookName&&("3"!=p&&(p="1"),g=1,m=!0),this.components=[new sn(ss,Xi.builder().setComponent(new sn(Dl,Ta.builder().setText(f).setMenu(this.menuLinks).setForceMenu(!0).setHideUI(m).setFacePage(!0).setShowPrintButtons(!0).setLink(xa.builder().setChapter(p).setStartLine(g).setEndLine(g>=0?1e3:-1).setOnRoute(v=>{v?this.routeTo(v.trim()):this.reset()})))))],this.setTitleMenuDelayed(this.booksTitleCommands)}routeToBookmarks(){this.components=[new sn(ss,Xi.builder().setComponent(new sn(CX,y0.builder().setText("bookmark").setOnClick(a=>{let h="string"==typeof a?a:null,d=h||this.uiConfig.ui.currentBook.getStringValue();d&&null!=h?this.routeTo(d):this.reset()}))))],this.setTitleMenuDelayed(this.bookmarksTitleCommands)}routeToVersions(){this.components=[new sn(ss,Xi.builder().setComponent(new sn(Uk,Sh.builder().setOnClick(a=>{this.config.post(()=>{this.applyMenuAppRoutes(!0)}),"\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==a?this.routeToHelp("3"):this.resetDelayed()}))))],this.setTitleMenu(this.bookmarksTitleCommands)}routeToSearch(){this.components=[new sn(ss,Xi.builder().setComponent(new sn(CX,y0.builder().setText("bookmark").setStartSearch(!0).setOnClick(a=>{let h="string"==typeof a?a:null,d=h||this.uiConfig.ui.currentBook.getStringValue();d&&null!=h?this.routeTo(d):this.reset()}))))],this.setTitleMenuDelayed(this.searchTitleCommands)}setTitleMenuDelayed(a){this.config.post(()=>this.setTitleMenu(a))}setTitleMenu(a){this.clearTitleMenu(),a&&(this.clearTitleMenuSubscription=this.uiConfig.setTitleMenuCommands(a))}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(fu),V(b0),V(lo))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-books"]],features:[_n],decls:2,vars:1,consts:[[1,"ftext-no","fade-in-3-no"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(h,d){1&h&&(E(0,"div",0),X(1,$5t,2,1,"div",1),M()),2&h&&(I(1),R("ngForOf",d.components))},dependencies:[Gn,ic]})}return c})();class xX extends Qa{constructor(){super()}static builder(){return new xX}}class Qk extends ti{classes;constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new Qk("",null,null,xX.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}}class U5t{name;names;constructor(l,a){this.name=l,this.names=a}}class Q5t{names=[]}class H5t{source="";type="";success=!1}let kke=(()=>{class c{http;config;cacheSvc;names=[];restPoint="/memorial";getRestPoint(a,h,d=null){return pi.merge(pi.merge(h||this.config.serviceAPIHost,d||this.restPoint),a)}constructor(a,h,d){this.http=a,this.config=h,this.cacheSvc=d}getNames(a,h="memorial",d=null){const f={params:{}};return new Promise((p,g)=>{this.http.get(this.getRestPoint("/names",a,d),f).pipe(vr(Ui.handleError)).subscribe({next:m=>p(m),error:m=>this.getTextStr("",h,"names.json.txt",v=>{let _=[];try{JSON.parse(v).forEach(O=>{_.push(new U5t(O.name,O.names))})}catch(b){this.config.addAlert(Bi.of("Error::getNames:"+b,"Ok",30)),_=[]}let y=new Q5t;y.names=_,p(y)})})})}getSource(a,h){const d={params:{_name:a}};return new Promise((f,p)=>{this.http.get(this.getRestPoint("/source",h),d).pipe(vr(Ui.handleError)).subscribe({next:g=>f(g),error:g=>this.getTextStr("","",a,m=>{null==m&&this.config.addAlert(Bi.of("Error::getSource:"+g.message,"Ok",30));let v=new H5t;v.source=m||"",v.type="text",v.success=!0,f(v)})})})}getTextStr(a,h,d,f){let p=""+d;const g=pi.merge(pi.merge(a,h),p);this.cacheSvc.getText(g,f)}static \u0275fac=function(h){return new(h||c)(Ee(hu),Ee(Zt),Ee(Jl))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();function W5t(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",36),Y("ngModelChange",function(d){return ce(a),ue(Q().currentSettingsName=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q();I(1),R("name","settings")("value",a.name)("ngModel",h.currentSettingsName),I(2),ut(a.name)}}function Z5t(c,l){if(1&c){const a=Ae();E(0,"button",37),Y("click",function(d){return ce(a),ue(Q().onDeleteCurrentSettings(d))}),H(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c "),M()}}function j5t(c,l){if(1&c&&(E(0,"clr-accordion-content"),se(1,"app-dynamic-library-book",38),M()),2&c){const a=Q();I(1),R("data",a.bookData)}}function G5t(c,l){if(1&c){const a=Ae();E(0,"clr-radio-wrapper")(1,"input",36),Y("ngModelChange",function(d){return ce(a),ue(Q().templateTypeName=d)}),M(),E(2,"label"),H(3),M()()}if(2&c){const a=l.$implicit,h=Q();I(1),R("name","templateTypeName")("value",a)("ngModel",h.templateTypeName),I(2),ut(a)}}function X5t(c,l){if(1&c){const a=Ae();E(0,"button",35),Y("click",function(){return ce(a),ue(Q().onSaveCurrentSettings())}),H(1,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),M()}}const Y5t=function(){return{alert:!0,"alert-warning":!1,"alert-success":!0,"top-space":!1}},q5t=function(){return["mustache","ejs"]};let K5t=(()=>{class c{uiConfig;config;memDataSvc;ks;memorialExportSettingsSvc;data=Qk.builder();get exportData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}propsName="    [\u0438\u043c\u044f\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430]: \u0441\u0442\u0440\u043e\u043a\u0430";propsName2="      [\u0438\u043c\u044f\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430]: \u0441\u0442\u0440\u043e\u043a\u0430";personsTags="  \u0442\u0435\u0433\u0438: \u043e\u0431\u044a\u0435\u043a\u0442";personsTags2="    \u0442\u0435\u0433\u0438: \u043e\u0431\u044a\u0435\u043a\u0442";memorialsTags="  \u0442\u0435\u0433\u0438: \u043e\u0431\u044a\u0435\u043a\u0442";bAllExportMemorialSortingEnabled=!1;get allExportMemorialSortingEnabled(){return this.bAllExportMemorialSortingEnabled}set allExportMemorialSortingEnabled(a){this.bAllExportMemorialSortingEnabled!=a&&(this.bAllExportMemorialSortingEnabled=a,this.onStartUpdateExportText())}get ExportAPI(){return`\u0442\u0430\u0431: \u0441\u0438\u043c\u0432\u043e\u043b \u0442\u0430\u0431\u0443\u043b\u044f\u0446\u0438\u0438\n\u043f\u0435\u0440\u0441\u043e\u043d\u044b: \u043c\u0430\u0441\u0441\u0438\u0432\n  \u0438\u043c\u044f: \u0441\u0442\u0440\u043e\u043a\u0430\n  \u043a\u0430\u0444\u0438\u0437\u043c\u0430: \u0447\u0438\u0441\u043b\u043e\n  \u0441\u0442\u0430\u0442\u0443\u0441: \u0431\u0443\u043b\u0435\u0432\u043e\n  \u0436\u0438\u0432\u043e\u0439: \u0431\u0443\u043b\u0435\u0432\u043e\n  \u0443\u0441\u043e\u043f\u0448\u0438\u0439: \u0431\u0443\u043b\u0435\u0432\u043e\n  \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u0421\u0442\u0440\u043e\u043a\u043e\u0439: \u0441\u0442\u0440\u043e\u043a\u0430\n  \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u043e\u0431\u044a\u0435\u043a\u0442\n${this.propsName}\n  \u0442\u0435\u0433\u0438\u0421\u0442\u0440\u043e\u043a\u043e\u0439: \u0441\u0442\u0440\u043e\u043a\u0430\n${this.personsTags}\n  \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440: \u0447\u0438\u0441\u043b\u043e\n  \u0438\u043d\u0434\u0435\u043a\u0441: \u0447\u0438\u0441\u043b\u043e\n  \u043d\u043e\u043c\u0435\u0440: \u0447\u0438\u0441\u043b\u043e\n\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438: \u043c\u0430\u0441\u0441\u0438\u0432\n  \u0438\u043c\u044f: \u0441\u0442\u0440\u043e\u043a\u0430\n  \u0442\u0435\u0433\u0438\u0421\u0442\u0440\u043e\u043a\u043e\u0439: \u0441\u0442\u0440\u043e\u043a\u0430\n${this.memorialsTags}\n  \u043e\u0417\u0434\u0440\u0430\u0432\u0438\u0438: \u0431\u0443\u043b\u0435\u0432\u043e\n  \u043e\u0423\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438: \u0431\u0443\u043b\u0435\u0432\u043e\n  \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440: \u0447\u0438\u0441\u043b\u043e\n  \u0438\u043d\u0434\u0435\u043a\u0441: \u0447\u0438\u0441\u043b\u043e\n  \u043d\u043e\u043c\u0435\u0440: \u0447\u0438\u0441\u043b\u043e\n  \u043f\u0435\u0440\u0441\u043e\u043d\u044b: \u043c\u0430\u0441\u0441\u0438\u0432\n    \u0438\u043c\u044f: \u0441\u0442\u0440\u043e\u043a\u0430\n    \u0442\u043e\u043b\u044c\u043a\u043e\u041f\u0440\u0435\u0444\u0438\u043a\u0441\u044b: \u0441\u0442\u0440\u043e\u043a\u0430\n    \u0442\u043e\u043b\u044c\u043a\u043e\u0418\u043c\u044f: \u0441\u0442\u0440\u043e\u043a\u0430\n    \u0442\u043e\u043b\u044c\u043a\u043e\u041f\u043e\u0441\u0442\u0444\u0438\u043a\u0441\u044b: \u0441\u0442\u0440\u043e\u043a\u0430\n    \u043a\u0430\u0444\u0438\u0437\u043c\u0430: \u0447\u0438\u0441\u043b\u043e\n    \u0441\u0442\u0430\u0442\u0443\u0441: \u0431\u0443\u043b\u0435\u0432\u043e\n    \u0436\u0438\u0432\u043e\u0439: \u0431\u0443\u043b\u0435\u0432\u043e\n    \u0443\u0441\u043e\u043f\u0448\u0438\u0439: \u0431\u0443\u043b\u0435\u0432\u043e\n    \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u0421\u0442\u0440\u043e\u043a\u043e\u0439: \u0441\u0442\u0440\u043e\u043a\u0430\n    \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u043e\u0431\u044a\u0435\u043a\u0442\n${this.propsName2}\n    \u0442\u0435\u0433\u0438\u0421\u0442\u0440\u043e\u043a\u043e\u0439: \u0441\u0442\u0440\u043e\u043a\u0430\n${this.personsTags2}\n    \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440: \u0447\u0438\u0441\u043b\u043e\n    \u0438\u043d\u0434\u0435\u043a\u0441: \u0447\u0438\u0441\u043b\u043e\n    \u043d\u043e\u043c\u0435\u0440: \u0447\u0438\u0441\u043b\u043e`}exportTextDefault='\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u043e\u0432 "\u041e \u0437\u0434\u0440\u0430\u0432\u0438\u0438":\n{{#\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438}}{{#\u043e\u0417\u0434\u0440\u0430\u0432\u0438\u0438}}\n[{{\u0438\u043c\u044f}}{{\u0442\u0430\u0431}}{{\u0442\u0435\u0433\u0438\u0421\u0442\u0440\u043e\u043a\u043e\u0439}}]\n{{#\u043f\u0435\u0440\u0441\u043e\u043d\u044b}}{{#\u0436\u0438\u0432\u043e\u0439}}\n  {{\u043d\u043e\u043c\u0435\u0440}}{{\u0442\u0430\u0431}}{{\u0438\u043c\u044f}}{{\u0442\u0430\u0431}}{{#\u0441\u0442\u0430\u0442\u0443\u0441}}\u0436\u0438\u0432\u043e\u0439{{/\u0441\u0442\u0430\u0442\u0443\u0441}}{{^\u0441\u0442\u0430\u0442\u0443\u0441}}\u0443\u0441\u043e\u043f\u0448\u0438\u0439{{/\u0441\u0442\u0430\u0442\u0443\u0441}}{{\u0442\u0430\u0431}}{{\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435.\u0442\u0435\u043a\u0441\u0442}}{{\u0442\u0430\u0431}}{{\u0442\u0435\u0433\u0438\u0421\u0442\u0440\u043e\u043a\u043e\u0439}}{{\u0442\u0430\u0431}}{{\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440}}\n{{/\u0436\u0438\u0432\u043e\u0439}}{{/\u043f\u0435\u0440\u0441\u043e\u043d\u044b}}\n{{/\u043e\u0417\u0434\u0440\u0430\u0432\u0438\u0438}}{{/\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438}}\n\n\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u043e\u0432 "\u041e \u0443\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438":\n{{#\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438}}{{#\u043e\u0423\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438}}\n[{{\u0438\u043c\u044f}}{{\u0442\u0430\u0431}}{{\u0442\u0435\u0433\u0438\u0421\u0442\u0440\u043e\u043a\u043e\u0439}}]\n{{#\u043f\u0435\u0440\u0441\u043e\u043d\u044b}}{{#\u0443\u0441\u043e\u043f\u0448\u0438\u0439}}\n  {{\u043d\u043e\u043c\u0435\u0440}}{{\u0442\u0430\u0431}}{{\u0438\u043c\u044f}}{{\u0442\u0430\u0431}}{{#\u0441\u0442\u0430\u0442\u0443\u0441}}\u0436\u0438\u0432\u043e\u0439{{/\u0441\u0442\u0430\u0442\u0443\u0441}}{{^\u0441\u0442\u0430\u0442\u0443\u0441}}\u0443\u0441\u043e\u043f\u0448\u0438\u0439{{/\u0441\u0442\u0430\u0442\u0443\u0441}}{{\u0442\u0430\u0431}}{{\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435.\u0442\u0435\u043a\u0441\u0442}}{{\u0442\u0430\u0431}}{{\u0442\u0435\u0433\u0438\u0421\u0442\u0440\u043e\u043a\u043e\u0439}}{{\u0442\u0430\u0431}}{{\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440}}\n{{/\u0443\u0441\u043e\u043f\u0448\u0438\u0439}}{{/\u043f\u0435\u0440\u0441\u043e\u043d\u044b}}\n{{/\u043e\u0423\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438}}{{/\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438}}\n\n\u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u0438\u043c\u0451\u043d:\n{{=<% %>=}}\n<%#\u043f\u0435\u0440\u0441\u043e\u043d\u044b%>\n<%\u043d\u043e\u043c\u0435\u0440%><%\u0442\u0430\u0431%><%\u0438\u043c\u044f%><%\u0442\u0430\u0431%><%#\u0441\u0442\u0430\u0442\u0443\u0441%>\u0436\u0438\u0432\u043e\u0439<%/\u0441\u0442\u0430\u0442\u0443\u0441%><%^\u0441\u0442\u0430\u0442\u0443\u0441%>\u0443\u0441\u043e\u043f\u0448\u0438\u0439<%/\u0441\u0442\u0430\u0442\u0443\u0441%><%\u0442\u0430\u0431%><%\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u0421\u0442\u0440\u043e\u043a\u043e\u0439%><%\u0442\u0430\u0431%><%\u0442\u0435\u0433\u0438\u0421\u0442\u0440\u043e\u043a\u043e\u0439%><%\u0442\u0430\u0431%><%\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440%>\n<%/\u043f\u0435\u0440\u0441\u043e\u043d\u044b%>';bookData=Ta.builder().setLink(xa.builder().setTextIsPage(!0)).setHideUI(!0);get exportText(){return this.uiConfig.ui.memorialExportTemplate.getStringValue()}set exportText(a){this.uiConfig.ui.memorialExportTemplate.setStringValue(a)}get templateTypeName(){return this.uiConfig.ui.memorialExportTemplateTypeName.getStringValue()}set templateTypeName(a){this.uiConfig.ui.memorialExportTemplateTypeName.setStringValue(a),this.onStartUpdateExportText()}exportResultText="";updateId=0;newUpdateId(){return++this.updateId}pCurrentSettingsName=new ike("\u0418\u043c\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a","\u0438\u043c\u044f",this,"currentSettingsName",null);modalSaveSettingsFlag=!1;modalDeleteSettingsFlag=!1;modalAddSettingsFlag=!1;get currentSettingsName(){return this.uiConfig.ui.memorialExportCurrentSettingsName.getStringValue()}set currentSettingsName(a){this.uiConfig.ui.memorialExportCurrentSettingsName.setStringValue(a),this.setCurrentSettings(a)}settings=[];constructor(a,h,d,f,p){this.uiConfig=a,this.config=h,this.memDataSvc=d,this.ks=f,this.memorialExportSettingsSvc=p,this.updateHelpText()}updateHelpText(){this.bookData.setText(`{\u0437}\u0424\u043e\u0440\u043c\u0430\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430:{/\u0437}\n      /*\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0441\u043f\u0438\u0441\u043e\u043a([\n        '\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0447\u0435\u0440\u0435\u0437 \u0434\u0432\u043e\u0439\u043d\u044b\u0435 \u0444\u0438\u0433\u0443\u0440\u043d\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438: {\u0441}{{\u0442\u0430\u0431}}{/\u0441} \u0438\u043b\u0438 {\u0441}{{\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435.\u0442\u0435\u043a\u0441\u0442}}{/\u0441};',\n        '\u041c\u0430\u0441\u0441\u0438\u0432\u044b \u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0447\u0435\u0440\u0435\u0437 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u044e\u0449\u0438\u0435\u0441\u044f \u0438 \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u044e\u0449\u0438\u0435\u0441\u044f \u0441\u043a\u043e\u0431\u043a\u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u0430: {\u0441}{{#\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438}}{/\u0441} {\u0441}{{/\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438}}{/\u0441};',\n        '\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0445 \u0441\u043a\u043e\u0431\u043e\u043a: {\u0441}{{=<% %>=}}{/\u0441}.'\n      ],false);*/\n\n      {\u0437}\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0434\u0430\u043d\u043d\u044b\u0445:{/\u0437}\n      /*\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.\u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u0434\u0430('${this.ExportAPI}',100,0);*/\n\n      {\u0441}\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435:{/\u0441}\n      {\u0437}\u0415\u0441\u043b\u0438 \u0441\u0442\u0435\u0440\u0435\u0442\u044c \u0432\u0435\u0441\u044c \u043a\u043e\u0434 \u0448\u0430\u0431\u043b\u043e\u043d\u0430, \u0442\u043e \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043c\u0435\u0449\u0451\u043d \u0442\u0435\u043a\u0441\u0442\u043e\u043c \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e.{/\u0437}`)}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){this.checkExportText(),this.onLoadSettingsDefaultDelayed(),this.requestUpdate()}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}onStartUpdateExportText(){this.memDataSvc.isReady?this.onExportPersonsDirect():this.memDataSvc.setup(()=>{this.onExportPersonsDirect()})}onExportPersonsDirect(){let a={\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438:[],\u043f\u0435\u0440\u0441\u043e\u043d\u044b:[],\u0442\u0430\u0431:"\t"},h=[],d=[],f=[],p=[],v=T=>{p.includes(T)||p.push(T)},_=T=>{f.includes(T)||f.push(T)},y=T=>{const D=new Yn;D.load(T);let k={},P=/[ \r\t]/gi;return D.properties.forEach(N=>{if("\u043c\u0435\u0442\u043a\u0438"==N.name){let F=N.value.split(","),L={};F.forEach($=>{let U=$.replace(P,"_");(T=>{h.includes(T)||h.push(T)})(U),L[U]=!0}),k[N.name]=L}else k[N.name]=N.value;(T=>{d.includes(T)||d.push(T)})(N.name)}),k},b=(T,D)=>{let k=T.split(","),P=/[ \r\t]/gi;k=k.map(F=>F.replace(P,"_"));let N={};return k.forEach(F=>{D(F),N[F]=!0}),N};if(this.memDataSvc.memorials){let D=(N,F)=>!!this.memDataSvc.persons&&this.memDataSvc.persons.items.filter(L=>fo.tagsHasFlag(L.tags,N)).map((L,$)=>!!L.live).reduce((L,$,U)=>0==U?$==F:L||$==F,!1),k=N=>{let F=[...N];return this.allExportMemorialSortingEnabled&&(F=Ii.sortPersons(F,this.uiConfig.ui.personAffixes.getStringValue(),L=>L,this.uiConfig.ui.sortPersonsNames.getBooleanValue(),this.uiConfig.ui.sortPersonsPriests.getBooleanValue())),F},P=N=>this.memDataSvc.persons?k(this.memDataSvc.persons.items).filter(F=>fo.tagsHasFlag(F.tags,N)).map((F,L)=>({\u0438\u043c\u044f:F.name,\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u0421\u0442\u0440\u043e\u043a\u043e\u0439:F.description,\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:y(F.description),\u043a\u0430\u0444\u0438\u0437\u043c\u0430:F.kafizma,\u0441\u0442\u0430\u0442\u0443\u0441:F.live,\u0436\u0438\u0432\u043e\u0439:F.live,\u0443\u0441\u043e\u043f\u0448\u0438\u0439:!F.live,\u0442\u0435\u0433\u0438\u0421\u0442\u0440\u043e\u043a\u043e\u0439:F.tags,\u0442\u0435\u0433\u0438:b(F.tags,v),\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440:F._id,\u0438\u043d\u0434\u0435\u043a\u0441:L,\u043d\u043e\u043c\u0435\u0440:L+1})).map(F=>{let L=Ii.parseName(F.\u0438\u043c\u044f);var $={\u0442\u043e\u043b\u044c\u043a\u043e\u041f\u0440\u0435\u0444\u0438\u043a\u0441\u044b:L.joinPrefixes(),\u0442\u043e\u043b\u044c\u043a\u043e\u0418\u043c\u044f:L.joinName(),\u0442\u043e\u043b\u044c\u043a\u043e\u041f\u043e\u0441\u0442\u0444\u0438\u043a\u0441\u044b:L.joinPostfixes()};return{...F,...$}}):[];a.\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u0438=this.memDataSvc.memorials.items.map((N,F)=>({\u0438\u043c\u044f:N.name,\u0442\u0435\u0433\u0438\u0421\u0442\u0440\u043e\u043a\u043e\u0439:N.tags,\u0442\u0435\u0433\u0438:b(N.tags,_),\u043e\u0417\u0434\u0440\u0430\u0432\u0438\u0438:D(N.name,!0),\u043e\u0423\u043f\u043e\u043a\u043e\u0435\u043d\u0438\u0438:D(N.name,!1),\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440:N._id,\u0438\u043d\u0434\u0435\u043a\u0441:F,\u043d\u043e\u043c\u0435\u0440:F+1,\u043f\u0435\u0440\u0441\u043e\u043d\u044b:P(N.name)}))}if(this.memDataSvc.persons){let D=[...this.memDataSvc.persons.items];this.allExportMemorialSortingEnabled&&(D=Ii.sortPersons(D,this.uiConfig.ui.personAffixes.getStringValue(),k=>k,this.uiConfig.ui.sortPersonsNames.getBooleanValue(),this.uiConfig.ui.sortPersonsPriests.getBooleanValue())),a.\u043f\u0435\u0440\u0441\u043e\u043d\u044b=D.map((k,P)=>({\u0438\u043c\u044f:k.name,\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u0421\u0442\u0440\u043e\u043a\u043e\u0439:k.description,\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:y(k.description),\u043a\u0430\u0444\u0438\u0437\u043c\u0430:k.kafizma,\u0441\u0442\u0430\u0442\u0443\u0441:k.live,\u0436\u0438\u0432\u043e\u0439:k.live,\u0443\u0441\u043e\u043f\u0448\u0438\u0439:!k.live,\u0442\u0435\u0433\u0438\u0421\u0442\u0440\u043e\u043a\u043e\u0439:k.tags,\u0442\u0435\u0433\u0438:b(k.tags,v),\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440:k._id,\u0438\u043d\u0434\u0435\u043a\u0441:P,\u043d\u043e\u043c\u0435\u0440:P+1})).map(k=>{let P=Ii.parseName(k.\u0438\u043c\u044f);var N={\u0442\u043e\u043b\u044c\u043a\u043e\u041f\u0440\u0435\u0444\u0438\u043a\u0441\u044b:P.joinPrefixes(),\u0442\u043e\u043b\u044c\u043a\u043e\u0418\u043c\u044f:P.joinName(),\u0442\u043e\u043b\u044c\u043a\u043e\u041f\u043e\u0441\u0442\u0444\u0438\u043a\u0441\u044b:P.joinPostfixes()};return{...k,...N}})}d.sort(),this.propsName=d.filter(T=>"\u043c\u0435\u0442\u043a\u0438"!=T).map(T=>`    ${T}: \u0441\u0442\u0440\u043e\u043a\u0430`).join("\n"),this.propsName2=d.filter(T=>"\u043c\u0435\u0442\u043a\u0438"!=T).map(T=>`      ${T}: \u0441\u0442\u0440\u043e\u043a\u0430`).join("\n"),h.sort();let O=h.map(T=>`      ${T}: \u0431\u0443\u043b\u0435\u0432\u043e`).join("\n");this.propsName+=(this.propsName?"\n":"")+"    \u043c\u0435\u0442\u043a\u0438: \u043e\u0431\u044a\u0435\u043a\u0442"+(O?"\n":"")+O;let C=h.map(T=>`        ${T}: \u0431\u0443\u043b\u0435\u0432\u043e`).join("\n");this.propsName2+=(this.propsName2?"\n":"")+"      \u043c\u0435\u0442\u043a\u0438: \u043e\u0431\u044a\u0435\u043a\u0442"+(C?"\n":"")+C,p.sort(),f.sort();let S=p.map(T=>`    ${T}: \u0431\u0443\u043b\u0435\u0432\u043e`).join("\n"),w=p.map(T=>`      ${T}: \u0431\u0443\u043b\u0435\u0432\u043e`).join("\n"),x=f.map(T=>`    ${T}: \u0431\u0443\u043b\u0435\u0432\u043e`).join("\n");this.personsTags="  \u0442\u0435\u0433\u0438: \u043e\u0431\u044a\u0435\u043a\u0442"+(S?"\n":"")+S,this.personsTags2="    \u0442\u0435\u0433\u0438: \u043e\u0431\u044a\u0435\u043a\u0442"+(w?"\n":"")+w,this.memorialsTags="  \u0442\u0435\u0433\u0438: \u043e\u0431\u044a\u0435\u043a\u0442"+(x?"\n":"")+x;try{this.exportResultText="ejs"===this.templateTypeName?ejs.render(this.exportText,a):Mustache.render(this.exportText,a)}catch(T){this.exportResultText="\u041e\u0448\u0438\u0431\u043a\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430.\n"+T}this.updateHelpText()}requestUpdate(){let a=this.newUpdateId();this.config.post(()=>{a==this.updateId&&this.onStartUpdateExportText()},3e3)}checkExportText(){this.exportText||this.config.post(()=>{this.exportText=this.exportTextDefault},1)}setExportText(a){this.exportText=a,this.checkExportText(),this.requestUpdate()}onDownload(a){a.stopPropagation(),a.preventDefault();const h=new Blob([this.exportResultText],{type:"octet/stream"});let d="\u044d\u043a\u0441\u043f\u043e\u0440\u0442.\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u043e\u0432.txt";this.config.isPlatformAndroid()?this.ks.addTempFile(d,h).then(f=>{ho.startDownload(f.fileName,d)}):ho.saveData(h,d)}onDeleteCurrentSettings(a){this.modalDeleteSettingsFlag=!0}onDeleteCurrentSettingsDirect(a){let h=this.pCurrentSettingsName.value;for(let d=0;d<this.settings.length;d++)if(this.settings[d].name==h){this.settings.splice(d,1);break}this.uiConfig.ui.memorialExportAllVariants.setStringValue(JSON.stringify(this.settings)),this.currentSettingsName="",this.onLoadSettingsDefaultDelayed(),this.modalDeleteSettingsFlag=!1,(!this.settings||0==this.settings.length)&&(this.modalAddSettingsFlag=!0)}onAddAllSettingsDirect(a){this.memorialExportSettingsSvc.getNames("").then(h=>{let d=h.names;if(this.settings=[],null!=d&&d.length>0&&d[0].names.length>0){let f=p=>{p<d.length?this.memorialExportSettingsSvc.getSource(d[p].names[0],"").then(g=>{let m=g.source;if(m){let v=JSON.parse(m);v.name=d[p].name,this.settings.push(v)}f(p+1)}):(this.onSaveCurrentSettings(!1),this.onLoadSettingsDefaultDelayed(),this.modalAddSettingsFlag=!1)};f(0)}else this.modalAddSettingsFlag=!1})}onSave(a){this.modalSaveSettingsFlag=!0}onExport(a){let h=JSON.stringify(this.getAllCurrentSettings());const d=(new Date).toISOString().split("T")[0];let f="json";if(this.config.isPlatformAndroid())this.ks.addTempFile(`\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430.${f}`,h).then(p=>{ho.startDownload(p.fileName,`\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430.${d}.${f}`)});else{const p=new TextEncoder,g=new Blob([p.encode(h)],{type:"octet/stream"});ho.saveData(g,`\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430.${d}.${f}`)}}setCurrentSettings(a){let h=this.settings.find(d=>d.name==a);h&&this.setCurrentSettingsDirect(h)}setCurrentSettingsDirect(a){this.exportText=a.text,this.templateTypeName=a.templateTypeName?a.templateTypeName:"mustache"}getAllCurrentSettings(){let a={};return a.text=this.exportText,a.templateTypeName=this.templateTypeName,a}settingsFromString(a){try{return JSON.parse(this.uiConfig.ui.memorialExportAllVariants.getStringValue())}catch{}return[]}onSaveCurrentSettings(a=!0){let h=this.getAllCurrentSettings();h.name=this.pCurrentSettingsName.value;let d=!1;for(let f=0;f<this.settings.length;f++)this.settings[f].name==h.name&&(this.settings[f]=h,d=!0);!d&&a&&this.settings.push(h),this.uiConfig.ui.memorialExportAllVariants.setStringValue(JSON.stringify(this.settings)),this.modalSaveSettingsFlag=!1}onLoadSettingsDefaultDelayed(){this.config.post(()=>this.onLoadSettingsDefault(),1)}onLoadSettingsDefault(){this.settings=this.settingsFromString(this.uiConfig.ui.memorialExportAllVariants.getStringValue());let a="",h=!1;this.settings.forEach(d=>{d.name==this.currentSettingsName&&(h=!0),!a&&d.name&&(a=d.name)}),!h&&a&&(this.currentSettingsName=a),(!this.settings||0==this.settings.length)&&this.config.post(()=>{this.modalAddSettingsFlag=!0},1)}onImport(a){0!==a.target.files.length&&this.onImportFile(a.target.files[0])}onImportFile(a){if(!a)return;const h=new FileReader;h.onload=d=>{try{if(!h.result)throw new Error("\u041f\u0443\u0441\u0442\u043e\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442.");let f=h.result.toString(),p=JSON.parse(f);this.setCurrentSettingsDirect(p)}catch(f){this.config.addAlert(Bi.of("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0444\u0430\u0439\u043b: "+f,"OK",30))}},h.readAsText(a)}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt),V(Zp),V(Xh),V(kke))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-export"]],inputs:{data:"data"},decls:87,vars:29,consts:[["role","alert",3,"ngClass"],[1,"alert-items"],[1,"alert-item","static"],[1,"alert-icon-wrapper"],[1,"alert-icon"],[1,"alert-text"],[1,"bottom-space"],["clrForm",""],["clrInline",""],[4,"ngFor","ngForOf"],[1,"clr-row","top-space"],[1,"clr-col-3"],["type","button","aria-label","done",1,"btn","btn-icon","btn-success","btn-block",3,"click"],[1,"btn","btn-success","btn-block"],["type","file","placeholder","\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c","accept",".json",1,"button-input",3,"change"],["type","button","class","btn btn-icon btn-danger btn-block","aria-label","warning",3,"click",4,"ngIf"],[4,"clrIfExpanded"],[3,"minHeightStr","maxHeightStr","autocompleteType","text","textChanged"],["type","checkbox","clrToggle","",3,"name","value","ngModel","ngModelChange"],[3,"minHeightStr","maxHeightStr","autocompleteType","text"],[1,"btn","btn-success","btn-block",3,"click"],["shape","download"],[3,"clrModalOpen","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],[3,"hidden"],["clrInput","",3,"placeholder","name","ngModel","ngModelChange"],[1,"modal-footer"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","aria-label","warning",1,"btn","btn-icon","btn-warning"],["shape","warning-standard"],["type","button",1,"btn","btn-warning",3,"click"],["type","button","aria-label","warning",1,"btn","btn-icon","btn-success"],["shape","check"],["type","button",1,"btn","btn-success",3,"click"],["type","radio","clrRadio","",3,"name","value","ngModel","ngModelChange"],["type","button","aria-label","warning",1,"btn","btn-icon","btn-danger","btn-block",3,"click"],[3,"data"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),se(4,"cds-icon",4),M(),E(5,"span",5),H(6),M()()()(),E(7,"div",6)(8,"form",7)(9,"clr-radio-container",8),X(10,W5t,4,4,"clr-radio-wrapper",9),M()(),E(11,"div",10)(12,"div",11)(13,"button",12),Y("click",function(p){return d.onSave(p)}),H(14,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),M()(),E(15,"div",11)(16,"button",12),Y("click",function(p){return d.onExport(p)}),H(17,"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 "),M()(),E(18,"div",11)(19,"label",13)(20,"input",14),Y("change",function(p){return d.onImport(p)}),M(),H(21," \u0418\u043c\u043f\u043e\u0440\u0442 "),M()(),E(22,"div",11),X(23,Z5t,2,0,"button",15),M()()(),E(24,"div")(25,"clr-accordion")(26,"clr-accordion-panel")(27,"clr-accordion-title"),H(28,"\u0424\u043e\u0440\u043c\u0443\u043b\u0430 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430 \u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a\u043e\u0432"),M(),X(29,j5t,2,1,"clr-accordion-content",16),M()(),E(30,"app-dynamic-codemirror",17),Y("textChanged",function(p){return d.setExportText(p)}),M(),E(31,"clr-radio-container",8)(32,"label"),H(33,"\u0428\u0430\u0431\u043b\u043e\u043d\u0438\u0437\u0430\u0442\u043e\u0440:"),M(),X(34,G5t,4,4,"clr-radio-wrapper",9),M(),E(35,"clr-toggle-container",8)(36,"label"),H(37,"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438:"),M(),E(38,"clr-toggle-wrapper")(39,"input",18),Y("ngModelChange",function(p){return d.allExportMemorialSortingEnabled=p}),M(),E(40,"label"),H(41,"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c"),M()()(),E(42,"h4"),H(43,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442:"),M(),se(44,"app-dynamic-codemirror",19),E(45,"button",20),Y("click",function(p){return d.onDownload(p)}),se(46,"cds-icon",21),H(47," \u042d\u043a\u0441\u043f\u043e\u0440\u0442"),M()(),E(48,"clr-modal",22),Y("clrModalOpenChange",function(p){return d.modalSaveSettingsFlag=p}),E(49,"h3",23),H(50,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),M(),E(51,"div",24)(52,"form")(53,"clr-input-container",25)(54,"label"),H(55),M(),E(56,"input",26),Y("ngModelChange",function(p){return d.pCurrentSettingsName.value=p}),M()()()(),E(57,"div",27),X(58,X5t,2,0,"button",28),E(59,"button",29),Y("click",function(){return d.modalSaveSettingsFlag=!1}),H(60,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M()()(),E(61,"clr-modal",22),Y("clrModalOpenChange",function(p){return d.modalDeleteSettingsFlag=p}),E(62,"h3",23),H(63,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a"),M(),E(64,"div",24)(65,"p")(66,"button",30),se(67,"cds-icon",31),M(),H(68),M()(),E(69,"div",27)(70,"button",29),Y("click",function(){return d.modalDeleteSettingsFlag=!1}),H(71,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M(),E(72,"button",32),Y("click",function(p){return d.onDeleteCurrentSettingsDirect(p)}),H(73,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),M()()(),E(74,"clr-modal",22),Y("clrModalOpenChange",function(p){return d.modalAddSettingsFlag=p}),E(75,"h3",23),H(76,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a"),M(),E(77,"div",24)(78,"p")(79,"button",33),se(80,"cds-icon",34),M(),H(81," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0432\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e?"),M()(),E(82,"div",27)(83,"button",35),Y("click",function(p){return d.onAddAllSettingsDirect(p)}),H(84,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),M(),E(85,"button",29),Y("click",function(){return d.modalAddSettingsFlag=!1}),H(86,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),M()()()),2&h&&(R("ngClass",Fi(27,Y5t)),I(4),Je("shape",d.settings.length?"check-circle":"help-info"),I(2),Kt("\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b: ",d.settings.length?"":"\u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442",""),I(4),R("ngForOf",d.settings),I(13),R("ngIf",d.settings.length),I(7),R("minHeightStr","200px")("maxHeightStr","600px")("autocompleteType","export")("text",d.exportText),I(4),R("ngForOf",Fi(28,q5t)),I(5),R("name","all")("value","all")("ngModel",d.allExportMemorialSortingEnabled),I(5),R("minHeightStr","300px")("maxHeightStr","500px")("autocompleteType","export")("text",d.exportResultText),I(4),R("clrModalOpen",d.modalSaveSettingsFlag),I(5),R("hidden",!d.pCurrentSettingsName.enabled),I(2),ut(d.pCurrentSettingsName.name),I(1),Cc("placeholder",d.pCurrentSettingsName.description),R("name","tparamsCurrentSettingsName")("ngModel",d.pCurrentSettingsName.value),I(2),R("ngIf",d.pCurrentSettingsName.value),I(3),R("clrModalOpen",d.modalDeleteSettingsFlag),I(7),Kt(" \u0423\u0434\u0430\u043b\u0438\u0442\u044c '",d.pCurrentSettingsName.value,"'?"),I(6),R("clrModalOpen",d.modalAddSettingsFlag))},dependencies:[ei,Gn,mn,gf,Nx,Vn,Vo,$o,Dx,Lr,$p,rd,rv,id,zp,pf,tO,KP,eO,pm,hf,mm,gm,vm,Np,Jh,za,rh,H1,sa,Kh,Fo,Nc,Dl,ZT],styles:[".margin0[_ngcontent-%COMP%]{margin:0}.button-input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}"]})}return c})();function J5t(c,l){if(1&c&&(E(0,"div"),se(1,"app-add-component",3),M()),2&c){const a=l.$implicit;I(1),R("component",a)}}let eRt=(()=>{class c extends sf{updateSvc;memDataSvc;appBookName="\u043f\u043e\u043c\u044f\u043d\u043d\u0438\u043a APP_MMR";helpBookName="\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP";pspBookName="\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c \u043d\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0443 APP_PSP";errorsData=la.builder();clearTitleMenuSubscription=null;viewTitleCommands=[Ft.builder().setName("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c").setShape("form").setOnClick(()=>this.reset("2"))];editorTitleCommands=[Ft.builder().setName("\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440").setShape("book").setOnClick(()=>this.reset("1"))];neededPsCommands=[Ft.builder().setName("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c").setShape("form").setOnClick(()=>this.reset("2")),Ft.builder().setName("\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440").setShape("book").setOnClick(()=>this.reset("1"))];searchTitleCommands=[Ft.builder().setName("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c").setShape("form").setOnClick(()=>this.reset("2")),Ft.builder().setName("\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440").setShape("book").setOnClick(()=>this.reset("1"))];constructor(a,h,d,f,p){super(a,h,d),this.updateSvc=f,this.memDataSvc=p,this.addMenuLink(Ft.builder().setLink("#").setName("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435").setShape("users").setOnClick(()=>{this.reset("2")}).setIsActive(()=>this.isComponent(this.appBookName,"2"))).addMenuLink(Ft.builder().setLink("#").setName("\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440").setShape("book").setOnClick(()=>{this.reset("1")}).setIsActive(()=>this.isComponent(this.appBookName,"1"))).addMenuLink(Ft.builder().setLink("#").setName("\u041f\u0441\u0430\u043b\u043c\u044b \u043d\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0443").setShape("book").setOnClick(()=>{this.routeToPsPoPotrebe()}).setIsActive(()=>this.isComponent(this.pspBookName,"3"))).addMenuLink(Ft.builder().setLink("#").setName("\u042d\u043a\u0441\u043f\u043e\u0440\u0442").setShape("download").setOnClick(()=>{this.routeToExport()}).setIsActive(()=>this.isComponentType(Xi,Qk))),this.config.isRestServerType()&&(this.addMenuLink(Ft.builder().setLink("#").setName("\u041f\u043e\u0438\u0441\u043a").setShape("search").setOnClick(()=>{this.routeToBookmarks()}).setIsActive(()=>this.isComponentType(Xi,y0))).addMenuLink(Ft.builder().setLink("#").setName("\u0412\u0435\u0440\u0441\u0438\u0438").setShape("download").setOnClick(()=>{this.routeToVersions()}).setIsActive(()=>this.isComponentType(Xi,Sh)).setIsHidden(()=>!this.uiConfig.ui.systemUpdates.getBooleanValue())),this.editorTitleCommands.push(Ft.builder().setName("\u041f\u043e\u0438\u0441\u043a").setShape("search").setOnClick(()=>this.routeToBookmarks())),this.viewTitleCommands.push(Ft.builder().setName("\u041f\u043e\u0438\u0441\u043a").setShape("search").setOnClick(()=>this.routeToBookmarks())),this.neededPsCommands.push(Ft.builder().setName("\u041f\u043e\u0438\u0441\u043a").setShape("search").setOnClick(()=>this.routeToBookmarks()))),this.addMenuLink(Ft.builder().setLink("#").setName("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438").setShape("cog").setOnClick(()=>{this.routeToSettings()}).setIsActive(()=>this.isComponentType(Xi,ca))).addMenuLink(Ft.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.routeToHelp()}).setIsActive(()=>this.isComponent(this.helpBookName)))}ngOnDestroy(){super.ngOnDestroy(),this.clearTitleMenu()}isComponent(a,h=""){if(this.components.length<=0)return!1;let f=this.components[0].data.component?.data;return f?.text==a&&(!h||f?.link.chapter==h)}ngAfterViewInit(){this.memDataSvc.setup(a=>{if(this.updateSvc.checkUpdate())this.updateSvc.showUpdateMessage(),this.updateSvc.clearUpdateMessage(),this.config.post(()=>{this.routeToVersions()});else if("confidential"===pageRequestedDoc)pageRequestedDoc="",this.routeToHelpDelayed("4");else if(this.uiConfig.ui.visitedMemorialHelp.getStringValue()!==this.config.environment.version)this.routeToHelpDelayed();else{let h=this.uiConfig.ui.memorialBook.getStringValue(),d=this.uiConfig.ui.memorialChapter.getStringValue(),f=this.uiConfig.ui.memorialLine.getNumberValue();h?this.routeTo(h,d,f):this.resetDelayed()}}),super.ngAfterViewInit()}resetDelayed(a="2"){this.config.post(()=>{this.reset(a)})}reset(a="2"){this.routeTo(this.appBookName,a,1)}routeToHelpDelayed(a="2"){this.config.post(()=>{this.routeToHelp(a)})}routeToHelp(a="2"){this.isComponent(this.helpBookName,a)&&"2"===a?this.reset():this.routeTo(this.helpBookName,a,1)}routeToPsPoPotrebe(a="3"){this.routeTo(this.pspBookName,a,-1)}routeToDelayed(a,h="",d=-1){this.config.post(()=>{this.routeTo(a,h,d)})}routeTo(a,h="",d=-1){let f=a;if(f){if("\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==f)return void this.routeToHelpDelayed("4");if("books_help"==f||f==this.helpBookName&&""==h&&d<=0)return void this.routeToHelpDelayed();""==h&&(h="1"),d<0&&(d=1),this.uiConfig.ui.memorialBook.setStringValue(f),this.uiConfig.ui.memorialChapter.setStringValue(h),this.uiConfig.ui.memorialLine.setNumberValue(d),this.setTitleMenu(f,h),this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(Dl,Ta.builder().setText(f).setMenu(this.menuLinks).setHideUI(!0).setShowPrintButtons(!0).setHandleMemorialNewTitle("MemorialMainWindow").setParallel(!0).setLinebreaks(!0).setAutoPrint(!0).setFacePage(!0).setLink(xa.builder().setBookName(f).setChapter(h).setStartLine(d).setEndLine(1e3).setOnRoute(p=>{p?this.routeToDelayed(p.trim()):this.resetDelayed()})))))])}}routeToSettings(){this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(yf,ca.builder().updateClasses(a=>a.setMemorialSettings(!0)))))]),this.setTitleMenu("\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","")}routeToBookmarks(){this.components=[new sn(ss,Xi.builder().setComponent(new sn(CX,y0.builder().setText("bookmark").setStartSearch(!0).setOnClick(a=>{if(this.config.post(()=>{this.applyMenuAppRoutes(!0)}),"\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==a)this.routeToHelp("4");else if(a){let h=mO.builder().parse(a),d=h[0]?h[0][0]:null;if(d&&d?.type==uh.Link){let f=d;this.uiConfig.ui.memorialChapterRequested.setNumberValue(f.startChapter),f.langugages&&f.langugages.length>0&&this.uiConfig.ui.currentLanguages.setStringValue(f.langugages.join("|")),this.resetDelayed("1")}else this.routeToHelpDelayed()}else this.resetDelayed(null==a?"2":"1")}))))],this.setTitleMenu("\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438","")}routeToVersions(){this.components=[new sn(ss,Xi.builder().setComponent(new sn(Uk,Sh.builder().setOnClick(a=>{this.config.post(()=>{this.applyMenuAppRoutes(!0)}),"\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==a?this.routeToHelp("4"):this.resetDelayed(null==a?"2":"1")}))))],this.setTitleMenu("\u0432\u0435\u0440\u0441\u0438\u0438","")}routeToExport(){this.components=[new sn(ss,Xi.builder().setComponent(new sn(K5t,Qk.builder().setOnClick(a=>{this.config.post(()=>{this.applyMenuAppRoutes(!0)}),"\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==a?this.routeToHelp("4"):this.resetDelayed(null==a?"2":"1")}))))],this.setTitleMenu("\u044d\u043a\u0441\u043f\u043e\u0440\u0442","")}setComponentsDelayed(a){this.config.post(()=>{this.components=a})}clearErrors(){this.errorsData.setErrors([])}setErrors(a){this.errorsData.setErrors(a).updateClasses(h=>h.setAlertClass("alert-danger"))}onNewMemorial(){this.clearErrors(),this.newMemorial("\u0430\u0432\u0442\u043e\u0440\u044b")}onDeleteAllMemorials(){this.clearErrors(),this.memDataSvc.memorials?.items.length&&this.memDataSvc.memorials?.deleteMemorial(this.memDataSvc.memorials?.items[0])}newMemorial(a){this.memDataSvc.memorials?.newMemorial(a,h=>{h.success?this.memDataSvc.getMemorials().reloadMemorials(d=>{d&&this.memDataSvc.getPersons().reloadPersons()}):this.setErrors([h.error])})}clearTitleMenu(){this.clearTitleMenuSubscription&&(this.clearTitleMenuSubscription.unsubscribe(),this.clearTitleMenuSubscription=null)}setTitleMenu(a,h){this.clearTitleMenu(),a==this.appBookName?this.clearTitleMenuSubscription=this.uiConfig.setTitleMenuCommands("1"===h?this.viewTitleCommands:this.editorTitleCommands):a==this.pspBookName?this.clearTitleMenuSubscription=this.uiConfig.setTitleMenuCommands(this.neededPsCommands):("\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438"==a||"\u0432\u0435\u0440\u0441\u0438\u0438"==a||"\u044d\u043a\u0441\u043f\u043e\u0440\u0442"==a||"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"==a||a==this.helpBookName)&&(this.clearTitleMenuSubscription=this.uiConfig.setTitleMenuCommands(this.searchTitleCommands))}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(fu),V(b0),V(Zp))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-memorial"]],features:[_n],decls:3,vars:2,consts:[[1,"ftext-no","fade-in-3-no"],[3,"data"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(h,d){1&h&&(E(0,"div",0),se(1,"app-dynamic-errors",1),X(2,J5t,2,1,"div",2),M()),2&h&&(I(1),R("data",d.errorsData),I(1),R("ngForOf",d.components))},dependencies:[Gn,ic,_f]})}return c})(),tRt=(()=>{class c{uiConfig;scenes="\u0425\u0440\u0430\u043c,\u041a\u0440\u0435\u0441\u0442,\u041a\u0443\u0431,\u0418\u043a\u043e\u0441\u0430\u0445\u0435\u0434\u0440\u043e\u043d,\u0421\u0432\u0435\u0447\u0435\u043d\u0438\u0435";constructor(a){this.uiConfig=a}ngOnInit(){this.uiConfig.setAppRoutes(null)}ngAfterViewInit(){}static \u0275fac=function(h){return new(h||c)(V(wn))};static \u0275cmp=qe({type:c,selectors:[["app-d3d-examples"]],decls:2,vars:6,consts:[[3,"fullScreen","sceneName","requestedCanvasWidth","requestedCanvasHeight","requestedPercentage","scenes"]],template:function(h,d){1&h&&(E(0,"div"),se(1,"app-three-logo",0),M()),2&h&&(I(1),R("fullScreen",!1)("sceneName","\u0425\u0440\u0430\u043c")("requestedCanvasWidth",95)("requestedCanvasHeight",90)("requestedPercentage",!0)("scenes",d.scenes))},dependencies:[BTe]})}return c})(),Dke=(()=>{class c{router;autologinSvc;config;uiConfig;logoData=ul.builder();fabInfos=[];constructor(a,h,d,f){this.router=a,this.autologinSvc=h,this.config=d,this.uiConfig=f}loadDefaultLogo(){let a=this.config.getSingleAppOrNull();null==a&&(a=this.config.getApplication()),this.logoData=this.newLogoData(a?a.applicationLogoText:"")}ngOnInit(){this.loadDefaultLogo(),this.fabInfos=this.config.environment.applications.filter(a=>a.applicationEnabled&&!a.applicationHidden).map(a=>vf.builder().setName(a.name).setKey(a.id).setShape(a.menuShape?a.menuShape:a.shape)),this.fabInfos.push(vf.builder().setName("3D").setGenerated(!0)),this.config.showOldVersions&&this.fabInfos.push(vf.builder().setName(this.config.oldVersionsName)),this.uiConfig.check(()=>{this.config.autoLoginApplication&&this.autologinSvc.autoLogin()})}newLogoData(a){return ul.builder().setSvgWidth(512).setSvgHeight(512).setLogoText(a).setGenName(a?"NoLogo":"Logo").setScene(a?"/scenes/name.logo.scene.txt":"/scenes/cross.scene.txt")}navigateTo(a,h){this.uiConfig.ui.defaultAppRoute.setStringValue(h),this.uiConfig.setAppRoutes(null),this.router.navigate([h])}isActive(a){return this.router.isActive(a,!1)}onLoginCommand(a){this.autologinSvc.onLoginCommand(a)}onPreviewCommand(a){this.logoData=this.newLogoData(a?a.applicationLogoText:"")}routeToV1(){window.location.href="./v1"}routeTo3D(){this.config.requestLogin3d(!0),this.config.setShowLogin(!1)}onFABClick(a){this.onFABPreview(null);let h=this.config.environment.applications.find(d=>d.name==a.name);h?this.autologinSvc.onLoginCommand(h):a.name===this.config.oldVersionsName?this.routeToV1():"3D"===a.name?this.routeTo3D():console.log(`\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435: "${a.name}".`)}onFABPreview(a){let h=this.config.environment.applications.filter(d=>d.name==a?.name);0==h.length?this.loadDefaultLogo():this.logoData=this.newLogoData(h[0].applicationLogoText)}static \u0275fac=function(h){return new(h||c)(V(lo),V(fG),V(Zt),V(wn))};static \u0275cmp=qe({type:c,selectors:[["app-login"]],decls:4,vars:7,consts:[[3,"down","fullScreen","infos","inv","onFABChange","onFABPreview"],[1,"main-container","bgColor","wh100"],[1,"content-container","centeredImage"],[1,"wh95",3,"svgWidth","svgHeight","data"]],template:function(h,d){1&h&&(E(0,"app-dynamic-fab",0),Y("onFABChange",function(p){return d.onFABClick(p)})("onFABPreview",function(p){return d.onFABPreview(p)}),M(),E(1,"div",1)(2,"div",2),se(3,"app-svg-js-image",3),M()()),2&h&&(R("down",!0)("fullScreen",!0)("infos",d.fabInfos)("inv",!0),I(3),R("svgWidth",512)("svgHeight",512)("data",d.logoData))},dependencies:[Ic,wA],styles:[".login-footer[_ngcontent-%COMP%]{height:20vh;padding-top:0;padding-bottom:5vh;padding-left:0}.centeredImage[_ngcontent-%COMP%]{inset:0;max-width:100%;max-height:100%;margin:auto;overflow:auto}.wh100[_ngcontent-%COMP%]{width:100vw;height:100vh}.wh95[_ngcontent-%COMP%]{width:95vw;height:95vh}.h80[_ngcontent-%COMP%]{height:75vh;width:75vh}flyout-toggle[_ngcontent-%COMP%]{position:absolute;transform:rotate(90deg);top:50%;left:-50px;z-index:998;width:85px;height:35px;font-size:13px;background:#92C7B8;border:solid #fff 1px}.flyout[_ngcontent-%COMP%]{position:fixed;z-index:999;top:0;right:0;width:85px;height:35px;background:none;transition:all .3s ease-in-out}"]})}return c})(),nRt=(()=>{class c{router;config;uiConfig;themesSvc;dynMenuData=wm.builder().setWhiteBack(!1).setMenuState(em.builder().addCommand(Ba.builder().setName("\u0414\u0435\u0432\u0438\u0441\u043a\u0438\u043d")).setGenName("MenuDay"));colorPaperOld=!1;menuLinksOld=null;light=!0;constructor(a,h,d,f){this.router=a,this.config=h,this.uiConfig=d,this.themesSvc=f}ngOnInit(){this.light=this.themesSvc.nowIsDay(),this.dynMenuData=wm.builder().setWhiteBack(!1).setMenuState(em.builder().addCommand(Ba.builder().setName("\u0414\u0435\u0432\u0438\u0441\u043a\u0438\u043d")).setGenName(this.light?"MenuDay":"MenuNight2")).setOnClick(this.getOnOk()),this.colorPaperOld=this.uiConfig.colorPaper,this.config.post(()=>{this.menuLinksOld=this.uiConfig.setAppRoutes([]),this.uiConfig.setColorPaper(!1)},0)}ngOnDestroy(){this.menuLinksOld&&(this.menuLinksOld.unsubscribe(),this.menuLinksOld=null),this.uiConfig.setColorPaper(this.colorPaperOld)}get version(){return this.config.environment.version}getOnOk(){return()=>this.onOk()}onOk(){this.config.post(()=>{this.config.setShowLogin(!1)})}static \u0275fac=function(h){return new(h||c)(V(lo),V(Zt),V(wn),V(Ys))};static \u0275cmp=qe({type:c,selectors:[["app-about"]],decls:4,vars:5,consts:[[1,"ftext","fade-in-3","pad","fullHeight","bgColor"],[3,"genName","svgWidth","svgHeight","type"],[3,"data"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"div"),se(2,"app-svg-js-image",1)(3,"app-dynamic-menu",2),M()()),2&h&&(I(2),R("genName",d.light?"LogoLight":"LogoDark")("svgWidth",512)("svgHeight",512)("type",0),I(1),R("data",d.dynMenuData))},dependencies:[Ic,dA],styles:[".pad[_ngcontent-%COMP%]{padding:1em}.fullHeight[_ngcontent-%COMP%]{height:calc(100vh - 108px)}"]})}return c})(),iRt=(()=>{class c{router;logText=["\u041c\u043e\u043b\u0435\u0431\u0435\u043d"].join(", ");extraPages=[];horizontalPagesCount=2;verticalPagesCount=2;constructor(a){this.router=a}ngOnInit(){}onPagesCount(a){this.extraPages=[];let h=this.horizontalPagesCount*this.verticalPagesCount,d=a-h,f=0;for(;d>0;)d=Math.max(0,d-h),f+=h,this.extraPages.push(f)}static \u0275fac=function(h){return new(h||c)(V(lo))};static \u0275cmp=qe({type:c,selectors:[["app-main"]],decls:2,vars:9,consts:[[1,"pageBreak"],[3,"svgWidth","svgHeight","scene","genName","logoText","type","startPageIndex","horizontalPagesCount","verticalPagesCount","pagesCount"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"app-svg-js-image",1),Y("pagesCount",function(p){return d.onPagesCount(p)}),M()()),2&h&&(I(1),R("svgWidth",210)("svgHeight",297)("scene","/scenes/parser.scene.txt")("genName","Js")("logoText",d.logText)("type",1)("startPageIndex",0)("horizontalPagesCount",d.horizontalPagesCount)("verticalPagesCount",d.verticalPagesCount))},dependencies:[Ic],styles:[".h512[_ngcontent-%COMP%]{width:210px;height:297px;margin:auto}.centeredImage[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto}"]})}return c})();function rRt(c,l){if(1&c&&(E(0,"div"),se(1,"app-add-component",2),M()),2&c){const a=l.$implicit;I(1),R("component",a)}}let sRt=(()=>{class c extends sf{updateSvc;appBookName="\u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 APP_CLC";appBookChapter="1";helpBookName="\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP";helpChapterNormal="1";helpChapterConfidential="2";errorsData=la.builder();calculatorCommands=[Ft.builder().setName("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438").setShape("cog").setOnClick(()=>this.showSettings()),Ft.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.routeToHelp(this.helpChapterNormal)})];versionsCommands=[Ft.builder().setLink("#").setName("\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440").setShape("calculator").setOnClick(()=>{this.reset(this.appBookChapter)}),Ft.builder().setName("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438").setShape("cog").setOnClick(()=>this.showSettings())];settingsCommands=[Ft.builder().setLink("#").setName("\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440").setShape("calculator").setOnClick(()=>{this.reset(this.appBookChapter)}),Ft.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.routeToHelp(this.helpChapterNormal)})];clearTitleMenuSubscription=null;getUIVisited(){return this.uiConfig.ui.visitedCalculatorHelp}getUIBook(){return this.uiConfig.ui.calculatorBook}getUIChapter(){return this.uiConfig.ui.calculatorChapter}getUILine(){return this.uiConfig.ui.calculatorLine}constructor(a,h,d,f){super(a,h,d),this.updateSvc=f,this.addMenuLink(Ft.builder().setLink("#").setName("\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440").setShape("calculator").setOnClick(()=>{this.reset(this.appBookChapter)}).setIsActive(()=>this.isComponent(this.appBookName,this.appBookChapter))).addMenuLink(Ft.builder().setLink("#").setName("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438").setShape("cog").setOnClick(()=>{this.showSettings()}).setIsActive(()=>this.isSettings())),this.config.isRestServerType()&&this.addMenuLink(Ft.builder().setLink("#").setName("\u0412\u0435\u0440\u0441\u0438\u0438").setShape("download").setOnClick(()=>{this.routeToVersions()}).setIsActive(()=>this.isComponentType(Xi,Sh)).setIsHidden(()=>!this.uiConfig.ui.systemUpdates.getBooleanValue())),this.addMenuLink(Ft.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.routeToHelp(this.helpChapterNormal)}).setIsActive(()=>this.isComponent(this.helpBookName)))}ngOnDestroy(){super.ngOnDestroy(),this.clearTitleMenu()}isSettings(){return!(this.components.length<=0)&&this.components[0].data.component?.data instanceof ca}isComponent(a,h=""){if(this.components.length<=0)return!1;let f=this.components[0].data.component?.data;return f?.text==a&&(!h||f?.link.chapter==h)}ngAfterViewInit(){super.ngAfterViewInit(),this.doLogin(()=>{this.ngAfterViewInitRaw()})}ngAfterViewInitRaw(){if(this.updateSvc.checkUpdate())this.updateSvc.showUpdateMessage(),this.updateSvc.clearUpdateMessage(),this.config.post(()=>{this.routeToVersions()},1500);else if("confidential"===pageRequestedDoc)pageRequestedDoc="",this.routeToHelpDelayed(this.helpChapterConfidential);else if(this.getUIVisited().getStringValue()!==this.config.environment.version)this.routeToHelpDelayed(this.helpChapterNormal);else{let a=this.getUIBook().getStringValue(),h=this.getUIChapter().getStringValue(),d=this.getUILine().getNumberValue();a?this.routeTo(a,h,d):this.resetDelayed(this.appBookChapter)}}routeToVersions(){this.components=[new sn(ss,Xi.builder().setComponent(new sn(Uk,Sh.builder().setOnClick(a=>{this.config.post(()=>{this.applyMenuAppRoutes(!0)}),"\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==a?this.routeToHelp("2"):this.resetDelayed(this.appBookChapter)}))))],this.setTitleMenu(this.versionsCommands)}resetDelayed(a){this.config.post(()=>{this.reset(a)})}reset(a){this.routeTo(this.appBookName,a,1)}routeToHelpDelayed(a){this.config.post(()=>{this.routeToHelp(a)})}routeToHelp(a){this.isComponent(this.helpBookName,a)&&a===this.helpChapterNormal?this.reset(this.helpChapterNormal):this.routeTo(this.helpBookName,a,1)}routeToDelayed(a,h="",d=-1){this.config.post(()=>{this.routeTo(a,h,d)})}routeTo(a,h="",d=-1){let f=a;if(f){if("\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==f)return void this.routeToHelpDelayed(this.helpChapterConfidential);if("books_help"==f||f==this.helpBookName&&""==h&&d<=0)return void this.routeToHelpDelayed(this.helpChapterNormal);""==h&&(h="1"),d<0&&(d=1),this.getUIBook().setStringValue(f),this.getUIChapter().setStringValue(h),this.getUILine().setNumberValue(d),this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(Dl,Ta.builder().setText(f).setMenu(this.menuLinks).setHideUI(!0).setEpubEnabled(!1).setShowPrintButtons(!0).setParallel(!0).setLinebreaks(!0).setAutoPrint(!0).setLink(xa.builder().setBookName(f).setChapter(h).setStartLine(d).setEndLine(1e3).setOnRoute(p=>{p?this.routeToDelayed(p.trim()):this.resetDelayed(this.appBookChapter)})))))]),this.setTitleMenu(this.calculatorCommands)}}setComponentsDelayed(a){this.config.post(()=>{this.components=a})}clearErrors(){this.errorsData.setErrors([])}setErrors(a){this.errorsData.setErrors(a).updateClasses(h=>h.setAlertClass("alert-danger"))}showSettings(){this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(yf,ca.builder().updateClasses(a=>a.setCalculatorSettings(!0)))))]),this.setTitleMenu(this.settingsCommands)}clearTitleMenu(){this.clearTitleMenuSubscription&&(this.clearTitleMenuSubscription.unsubscribe(),this.clearTitleMenuSubscription=null)}setTitleMenu(a){this.clearTitleMenu(),a&&(this.clearTitleMenuSubscription=this.uiConfig.setTitleMenuCommands(a))}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(fu),V(b0))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-calculator"]],features:[_n],decls:2,vars:1,consts:[[1,"ftext-no","fade-in-3-no"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(h,d){1&h&&(E(0,"div",0),X(1,rRt,2,1,"div",1),M()),2&h&&(I(1),R("ngForOf",d.components))},dependencies:[Gn,ic]})}return c})();function oRt(c,l){1&c&&se(0,"app-dynamic-debugger-var",7),2&c&&R("object",Q().$implicit.debugVar)}const aRt=function(c){return{"border-left":c}};function lRt(c,l){if(1&c){const a=Ae();E(0,"div")(1,"div",1)(2,"div",2),H(3),M(),E(4,"div",3),Y("click",function(){const f=ce(a).$implicit;return ue(Q().onExpandValue(f))}),H(5),M()(),E(6,"div",4)(7,"div",5),X(8,oRt,1,1,"app-dynamic-debugger-var",6),M()()()}if(2&c){const a=l.$implicit,h=Q();I(3),Kt(" ",null==a.debugVar?null:a.debugVar.getName()," "),I(2),Kt(" ",null!=a.debugVar&&a.debugVar.isContainer()?a.expand?"[-]":"[+]":h.getValue(a)," "),I(1),R("ngClass",xr(4,aRt,a.expand&&(null==a.debugVar?null:a.debugVar.isContainer()))),I(2),R("ngIf",a.expand)}}class yL{debugVar;expand;constructor(l,a){this.debugVar=l,this.expand=a}static builder(){return new yL(null,!1)}setDebugVar(l){return this.debugVar=l,this}setExpand(l){return this.expand=l,this}}let cRt=(()=>{class c{uiConfig;config;data;oObject=null;get object(){return this.oObject}set object(a){this.oObject=a,this.updateShowObjects()}aShowObjects=[];set addDebugVarEvent(a){this.debugVarEventSubscription&&this.debugVarEventSubscription.unsubscribe(),this.debugVarEventSubscription=a.subscribe(h=>{this.oObject=h,this.updateShowObjects()})}debugVarEventSubscription=null;get dbgVarData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h){this.uiConfig=a,this.config=h}get showObjects(){return this.aShowObjects}updateShowObjects(){this.config.post(()=>{this.aShowObjects=this.oObject&&this.oObject.isContainer()?this.oObject.getVars().map(a=>yL.builder().setDebugVar(a)):this.oObject?[yL.builder().setDebugVar(this.oObject)]:[]})}get colored(){return this.uiConfig.ui.coloredTranslations.getBooleanValue()}ngOnInit(){}ngOnDestroy(){this.debugVarEventSubscription&&(this.debugVarEventSubscription.unsubscribe(),this.debugVarEventSubscription=null)}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}getValue(a){let h=a&&a.debugVar?a.debugVar.getValue():a,d=null;return d=void 0===h?"undefined":null===h?"null":"string"==typeof h&&"function()"!==h?'"'+h+'"':h,d}onExpandValue(a){a.debugVar&&a.debugVar.isContainer()&&(a.expand=!a.expand)}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-debugger-var"]],inputs:{data:"data",object:"object",addDebugVarEvent:"addDebugVarEvent"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"clr-row"],[1,"clr-col-6"],[1,"clr-col-6",3,"click"],[3,"ngClass"],[1,"left-space"],[3,"object",4,"ngIf"],[3,"object"]],template:function(h,d){1&h&&X(0,lRt,9,6,"div",0),2&h&&R("ngForOf",d.showObjects)},dependencies:[ei,Gn,mn,c],styles:[".border-left[_ngcontent-%COMP%]{border-left:solid 1px var(--color-darkBtn)}"]})}return c})();const uRt=["container"];let hRt=(()=>{class c{uiConfig;config;containerRef;data;debugVarEventEmitter=new Tt;oObject=null;get object(){return this.oObject}sMaxHeightStr="100%";get maxHeightStr(){return this.sMaxHeightStr}set maxHeightStr(a){this.sMaxHeightStr=a,this.updateSize()}set addDebugVarEvent(a){this.debugVarEventSubscription&&this.debugVarEventSubscription.unsubscribe(),this.debugVarEventSubscription=a.subscribe(h=>{this.debugVarEventEmitter.emit(h)})}debugVarEventSubscription=null;get spanTextData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h){this.uiConfig=a,this.config=h}get colored(){return this.uiConfig.ui.coloredTranslations.getBooleanValue()}ngOnInit(){}ngOnDestroy(){this.debugVarEventSubscription&&(this.debugVarEventSubscription.unsubscribe(),this.debugVarEventSubscription=null)}ngAfterViewInit(){this.config.post(()=>this.updateSize())}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}updateSize(){this.containerRef&&(this.containerRef.nativeElement.style.height=this.maxHeightStr)}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-debugger"]],viewQuery:function(h,d){if(1&h&&si(uRt,5),2&h){let f;Ht(f=Wt())&&(d.containerRef=f.first)}},inputs:{data:"data",maxHeightStr:"maxHeightStr",addDebugVarEvent:"addDebugVarEvent"},decls:3,vars:1,consts:[[1,"scrollable"],["container",""],[3,"addDebugVarEvent"]],template:function(h,d){1&h&&(E(0,"div",0,1),se(2,"app-dynamic-debugger-var",2),M()),2&h&&(I(2),R("addDebugVarEvent",d.debugVarEventEmitter))},dependencies:[cRt],styles:[".scrollable[_ngcontent-%COMP%]{overflow-y:scroll}"]})}return c})();function dRt(c,l){if(1&c){const a=Ae();E(0,"div")(1,"app-dynamic-code-runner-text",13),Y("onError",function(d){return ce(a),ue(Q(2).onCodeRunnerError(d))})("onMessage",function(d){return ce(a),ue(Q(2).onCodeRunnerMessage(d))})("onClosed",function(d){return ce(a),ue(Q(2).onCodeRunnerClosed(d))}),M()()}if(2&c){const a=Q(2);I(1),R("data",a.runnerData)}}function fRt(c,l){if(1&c){const a=Ae();E(0,"div",14)(1,"button",15),Y("click",function(d){return ce(a),ue(Q(2).onContinueScript(d))}),se(2,"cds-icon",16),M(),E(3,"button",15),Y("click",function(d){return ce(a),ue(Q(2).onStepScript(d))}),se(4,"cds-icon",17),M()()}if(2&c){const a=Q(2);I(1),R("disabled",a.running),I(2),R("disabled",a.running)}}function pRt(c,l){if(1&c&&se(0,"app-dynamic-codemirror",19),2&c){const a=Q(3);R("readonly",!0)("addTextEventEmitter",a.addLogTextEventEmitter)("maxHeightStr",a.getVerticalLogHeight())("maxLogLinesCount",a.maxLogLinesCount)}}function gRt(c,l){if(1&c&&(E(0,"clr-tab-content"),X(1,pRt,1,4,"app-dynamic-codemirror",18),M()),2&c){const a=Q(2);I(1),R("ngIf",a.isShowLog())}}function mRt(c,l){if(1&c&&(E(0,"clr-tab-content"),se(1,"app-dynamic-compiler-view",4),M()),2&c){const a=Q(2);I(1),R("data",a.viewData)}}function vRt(c,l){if(1&c&&(E(0,"clr-tab-content"),se(1,"app-dynamic-debugger",20),M()),2&c){const a=Q(2);I(1),R("addDebugVarEvent",a.debugVarEventEmitter)("maxHeightStr",a.getVerticalLogHeight())}}function _Rt(c,l){if(1&c){const a=Ae();E(0,"div",8),X(1,dRt,2,1,"div",9),X(2,fRt,5,2,"div",10),E(3,"clr-tabs")(4,"clr-tab")(5,"button",11),H(6,"\u041b\u043e\u0433"),M(),X(7,gRt,2,1,"ng-template",12),Y("clrIfActiveChange",function(d){return ce(a),ue(Q().logActive=d)}),M(),E(8,"clr-tab")(9,"button",11),H(10,"\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a"),M(),X(11,mRt,2,1,"ng-template",12),Y("clrIfActiveChange",function(d){return ce(a),ue(Q().sourceActive=d)}),M(),E(12,"clr-tab")(13,"button",11),H(14,"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435"),M(),X(15,vRt,2,2,"ng-template",12),Y("clrIfActiveChange",function(d){return ce(a),ue(Q().debugVarsActive=d)}),M()()()}if(2&c){const a=Q();R("ngClass",a.getClasses()),I(1),R("ngIf",a.graphicsEnabled&&a.isShowCanvas()),I(1),R("ngIf",a.isShowLog()&&a.isDebug()),I(5),R("clrIfActive",a.logActive),I(4),R("clrIfActive",a.sourceActive),I(4),R("clrIfActive",a.debugVarsActive)}}function yRt(c,l){1&c&&se(0,"app-dynamic-errors",4),2&c&&R("data",Q(3).errors)}const bRt=function(c,l){return{width50:c,width100:l,padding0:!0,iBlock:!0}};function ORt(c,l){if(1&c){const a=Ae();E(0,"div",8),X(1,yRt,1,1,"app-dynamic-errors",21),E(2,"app-dynamic-code-runner-text",13),Y("onError",function(d){return ce(a),ue(Q(2).onCodeRunnerError(d))})("onMessage",function(d){return ce(a),ue(Q(2).onCodeRunnerMessage(d))})("onClosed",function(d){return ce(a),ue(Q(2).onCodeRunnerClosed(d))}),M()()}if(2&c){const a=Q(2);R("ngClass",mr(3,bRt,a.isShowLog(),!a.isShowLog())),I(1),R("ngIf",a.errors.errors.length),I(1),R("data",a.runnerData)}}function CRt(c,l){if(1&c){const a=Ae();E(0,"div",14)(1,"button",15),Y("click",function(d){return ce(a),ue(Q(3).onContinueScript(d))}),se(2,"cds-icon",16),M(),E(3,"button",15),Y("click",function(d){return ce(a),ue(Q(3).onStepScript(d))}),se(4,"cds-icon",17),M()()}if(2&c){const a=Q(3);I(1),R("disabled",a.running),I(2),R("disabled",a.running)}}function SRt(c,l){if(1&c&&(E(0,"clr-tab-content"),se(1,"app-dynamic-codemirror",19),M()),2&c){const a=Q(3);I(1),R("readonly",!0)("addTextEventEmitter",a.addLogTextEventEmitter)("maxHeightStr",a.isDebug()?"calc(100vh - 60px - 72px - 0.3em)":"calc(100vh - 60px - 2px - 0.3em)")("maxLogLinesCount",a.maxLogLinesCount)}}function wRt(c,l){if(1&c&&(E(0,"clr-tab-content"),se(1,"app-dynamic-compiler-view",4),M()),2&c){const a=Q(4);I(1),R("data",a.viewData)}}function xRt(c,l){if(1&c){const a=Ae();E(0,"clr-tab")(1,"button",11),H(2,"\u0418\u0441\u0445\u043e\u0434\u043d\u0438\u043a"),M(),X(3,wRt,2,1,"ng-template",12),Y("clrIfActiveChange",function(d){return ce(a),ue(Q(3).sourceActive=d)}),M()}if(2&c){const a=Q(3);I(3),R("clrIfActive",a.sourceActive)}}function TRt(c,l){if(1&c&&(E(0,"clr-tab-content"),se(1,"app-dynamic-debugger",20),M()),2&c){const a=Q(4);I(1),R("addDebugVarEvent",a.debugVarEventEmitter)("maxHeightStr",a.isDebug()?"calc(100vh - 60px - 72px - 0.3em)":"calc(100vh - 60px - 2px - 0.3em)")}}function kRt(c,l){if(1&c){const a=Ae();E(0,"clr-tab")(1,"button",11),H(2,"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435"),M(),X(3,TRt,2,2,"ng-template",12),Y("clrIfActiveChange",function(d){return ce(a),ue(Q(3).debugVarsActive=d)}),M()}if(2&c){const a=Q(3);I(3),R("clrIfActive",a.debugVarsActive)}}const DRt=function(c,l){return{width50:c,width100:l,padding0:!0,iBlock:!0,"my-left-space":!0,"my-top-space":!0}};function MRt(c,l){if(1&c){const a=Ae();E(0,"div",8),X(1,CRt,5,2,"div",10),E(2,"clr-tabs")(3,"clr-tab")(4,"button",11),H(5,"\u041b\u043e\u0433"),M(),X(6,SRt,2,4,"ng-template",12),Y("clrIfActiveChange",function(d){return ce(a),ue(Q(2).logActive=d)}),M(),X(7,xRt,4,1,"clr-tab",9),X(8,kRt,4,1,"clr-tab",9),M()()}if(2&c){const a=Q(2);R("ngClass",mr(5,DRt,a.graphicsEnabled,!a.graphicsEnabled)),I(1),R("ngIf",a.isDebug()),I(5),R("clrIfActive",a.logActive),I(1),R("ngIf",a.isDebug()),I(1),R("ngIf",a.isDebug())}}function ERt(c,l){if(1&c&&(E(0,"div",8),X(1,ORt,3,6,"div",0),X(2,MRt,9,8,"div",0),M()),2&c){const a=Q();R("ngClass",a.getClasses()),I(1),R("ngIf",a.graphicsEnabled&&a.isShowCanvas()),I(1),R("ngIf",a.isShowLog())}}class PRt{modalFlag;text;target="";type="";constructor(l=!1,a=""){this.modalFlag=l,this.text=a}setTarget(l){return this.target=l,this}setType(l){return this.type=l,this}setModalFlag(l){return this.modalFlag=l,this}}var jf=function(c){return c[c.Both=0]="Both",c[c.Canvas=1]="Canvas",c[c.Log=2]="Log",c}(jf||{});let ARt=(()=>{class c{uiConfig;config;data;generator=new YE;running=!1;codemirrorData=Yx.builder();logText="";maxLogLinesCount=50;addLogTextEventEmitter=new Tt;bLogActive=!1;get logActive(){return this.bLogActive}set logActive(a){!this.bLogActive&&a&&this.config.post(()=>{this.addLogTextEventEmitter.emit(this.logText)},1),this.config.post(()=>this.bLogActive=a)}bSourceActive=!1;get sourceActive(){return this.bSourceActive}set sourceActive(a){a&&!this.bSourceActive&&this.iCompilerLine.lineStart>=0&&this.sendCurrentLine(),this.config.post(()=>this.bSourceActive=a)}bDebugVarsActive=!1;get debugVarsActive(){return this.bDebugVarsActive}set debugVarsActive(a){a&&!this.bDebugVarsActive&&this.sendDebugVar(),this.config.post(()=>this.bDebugVarsActive=a)}debugVarEventEmitter=new Tt;starterSvc=null;\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435=null;starterNativeSvc=null;\u043d\u0430\u0442\u0438\u0432\u043d\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435=null;starterJsStdSvc=null;jsStd\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435=null;starterCyrillicSvc=null;\u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435=null;graphicsEnabled=!0;errors=la.builder();runnerData=vO.builder().updateConfig(a=>a.setWidth(256).setHeight(160));requestCodeText="";bVertical=void 0;sCompilerSourceText="";iCompilerLine={lineStart:-1,lineEnd:-1};sEOL="\n";inputTextDlg=new PRt;inputTextEditor=ld.builder().setObject(this.inputTextDlg).setFieldName("text").setDescription("\u0422\u0435\u043a\u0441\u0442").setDescription2("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442").setUseDefault(!0);get runMode(){return this.uiConfig.ui.compilerShowRunMode.getNumberValue()}set runMode(a){this.uiConfig.ui.compilerShowRunMode.setNumberValue(a)}canvasHeight=0;logHeight=0;selectRunModeCommands=[Ft.builder().setName("\u0425\u043e\u043b\u0441\u0442 \u0438 \u043b\u043e\u0433").setShape("window-restore").setOnClick(()=>this.config.post(()=>{this.runMode=jf.Both,this.updateCanvasAndLogSizes()})),Ft.builder().setName("\u0422\u043e\u043b\u044c\u043a\u043e \u0445\u043e\u043b\u0441\u0442").setShape("image").setOnClick(()=>this.config.post(()=>{this.runMode=jf.Canvas,this.updateCanvasAndLogSizes()}))];selectRunModeSubscription=null;debugVarsSubscription=null;oLastDebugVar=null;viewData=e_.builder().setText("").setFullScreen(!1).setReadonly(!0).update(a=>{});isShowCanvas(){return this.runMode!==jf.Log&&this.canvasHeight>0}isDebug(){return this.uiConfig.ui.compilerDebug.getBooleanValue()}isShowLog(){return this.runMode!==jf.Canvas&&"0px"!=this.getVerticalLogHeight()}get formulaText(){return this.sCompilerSourceText!=this.uiConfig.ui.compilerSourceText.getStringValue()&&this.config.post(()=>{this.sCompilerSourceText=this.uiConfig.ui.compilerSourceText.getStringValue()}),this.sCompilerSourceText}set formulaText(a){this.uiConfig.ui.compilerSourceText.setStringValue(a),this.onUpdateSourceTextConfig()}get compilerData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}get component(){return this.compilerData.components.length?this.compilerData.components[0]:null}get components(){return this.compilerData.components}get vertical(){return null!=this.bVertical?this.bVertical:window.innerWidth<window.innerHeight}get sourceLanguage(){return this.compilerData.language?this.compilerData.language:this.uiConfig.ui.compilerSourceLanguage.getStringValue()}constructor(a,h){this.uiConfig=a,this.config=h}ngOnInit(){void 0===this.bVertical&&(this.bVertical=window.innerWidth<window.innerHeight),this.sCompilerSourceText=this.uiConfig.ui.compilerSourceText.getStringValue(),this.runnerData.config.setLanguage(this.sourceLanguage).setDebug(this.uiConfig.ui.compilerDebug.getBooleanValue()).setMentor(this.uiConfig.ui.compilerMentor.getStringValue()).setMentorLanguage(this.uiConfig.ui.compilerMentorLanguage.getStringValue()),this.debugVarsSubscription=this.config.messageBus.addHandler(a=>{if("debug"==a.target&&"vars"==a.text)this.oLastDebugVar=a.tag,this.debugVarEventEmitter.emit(this.oLastDebugVar);else if("source"==a.target&&"line"==a.text)this.iCompilerLine=a.tag,this.running=!1;else if("system"==a.target&&"input text"==a.text){let h=a;this.inputTextDlg.setTarget(h.inputTarget).setType(h.inputType).setModalFlag(!0)}}),this.config.post(()=>{this.uiConfig.enableMainContainer(!1),this.selectRunModeSubscription=this.uiConfig.setSideMenuCommands(this.selectRunModeCommands)}),this.uiConfig.incHideOverflow()}ngOnDestroy(){this.selectRunModeSubscription&&(this.selectRunModeSubscription.unsubscribe(),this.selectRunModeSubscription=null),this.uiConfig.decHideOverflow(),this.config.post(()=>{this.uiConfig.enableMainContainer(!0)})}ngAfterViewInit(){this.onUpdateSourceTextConfig(),this.requestRun()}addLogText(a){this.logText+=a,this.addLogTextEventEmitter.emit(a)}createJsService(){if(this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435&&this.starterSvc)return void this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c("\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0442\u044c",this.starterSvc.\u0434\u0432\u0438\u0436\u043e\u043a.\u043d\u043e\u0432\u044b\u0439\u041e\u0431\u044a\u0435\u043a\u0442("\u0431\u0443\u043b\u0435\u0432\u043e").\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435(!1));this.starterSvc=new jx,this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430")),this.runnerData.config.setLanguage("c-js"),this.runnerData.config.environment=es.\u043d\u043e\u0432\u044b\u0435().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f(Ai.\u043d\u043e\u0432\u044b\u0439().\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0418\u043c\u044f("\u043a\u0430\u0440\u0442\u0430"));let a=(h,d)=>{let f=d[0],g=h.\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u041e\u0434\u043d\u0443\u041a\u043e\u043c\u0430\u043d\u0434\u0443\u0418\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u041d\u0435\u041d\u0443\u043b\u0435\u0432\u043e\u0439(d[1]),m="";return this.logText&&(m+=this.sEOL),m+=g.\u043a\u0430\u043a\u0421\u0442\u0440\u043e\u043a\u0430(),this.addLogText(m),this.syncLogText(),f};this.starterSvc.addMethod(this.\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435,"\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c",a),this.starterSvc.addMethod(this.runnerData.config.environment,"\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c",a)}createJsStdService(){if(this.\u043d\u0430\u0442\u0438\u0432\u043d\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435&&this.starterJsStdSvc)return void(this.\u043d\u0430\u0442\u0438\u0432\u043d\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0442\u044c=!1);this.starterJsStdSvc=new VTe.N,this.jsStd\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435={},this.runnerData.config.setLanguage("js-es6"),this.runnerData.config.setJsStdEnvironment({});let a=h=>{let f="";return this.logText&&(f+=this.sEOL),f+=""+h,this.addLogText(f),this.syncLogText(),h};this.jsStd\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c=a,this.runnerData.config.jsStdEnvironment.\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c=a}createJsNativeService(){if(this.\u043d\u0430\u0442\u0438\u0432\u043d\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435&&this.starterSvc)return void(this.\u043d\u0430\u0442\u0438\u0432\u043d\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0442\u044c=!1);this.starterNativeSvc=new pG,this.\u043d\u0430\u0442\u0438\u0432\u043d\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435={},this.runnerData.config.setLanguage("js-es5"),this.runnerData.config.setNativeEnvironment({});let a=h=>{let f="";return this.logText&&(f+=this.sEOL),f+=""+h,this.addLogText(f),this.syncLogText(),h};this.\u043d\u0430\u0442\u0438\u0432\u043d\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c=a,this.runnerData.config.nativeEnvironment.\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c=a}createCyrillicWsService(){if(this.\u043d\u0430\u0442\u0438\u0432\u043d\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435&&this.starterCyrillicSvc)return void(this.\u043d\u0430\u0442\u0438\u0432\u043d\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0442\u044c=!1);this.starterCyrillicSvc=new $Te,this.starterCyrillicSvc.start(Kv.builder().setOnMessage(h=>{this.\u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c(h.text)}).setOnErrorHandler(h=>{this.onCodeRunnerMessage(h)}).setOnClosedHandler(h=>{this.onCodeRunnerClosed(h)}),this.config),this.\u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435={},this.runnerData.config.setLanguage("cyrillic"),this.runnerData.config.setCyrillicEnvironment({});let a=h=>{var f="";return this.logText&&(f+=this.sEOL),this.addLogText(f+=""+h),this.syncLogText(),h};this.\u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0435\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435.\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c=a,this.runnerData.config.cyrillicEnvironment.\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c=a}requestRun(){switch(this.running=!0,this.sourceLanguage){case"js-es5":this.createJsNativeService();break;case"js-es6":this.createJsStdService();break;case"cyrillic":this.createCyrillicWsService();break;default:this.createJsService()}let a=this.formulaText;this.uiConfig.ui.compilerSourceAppendText.getStringValue()&&(a+=kA.BreakSource,a+=this.uiConfig.ui.compilerSourceAppendText.getStringValue()),this.requestCodeText=a,this.config.post(()=>{this.requestCodeText==a&&(this.onCodeRunnerError(""),this.runnerData.text=a),this.updateCanvasAndLogSizes()},10)}updateCanvasAndLogSizes(){let a=window.innerWidth,h=window.innerHeight-60;switch(this.vertical?this.runMode===jf.Both&&(h=Math.ceil(h/2)):this.runMode===jf.Both&&(a=Math.ceil(a/2)),a-=2,h-=2,this.runMode){default:case jf.Both:this.canvasHeight=h,this.logHeight=h-6-(this.isDebug()?72:0);break;case jf.Canvas:this.canvasHeight=h,this.logHeight=0;break;case jf.Log:this.canvasHeight=0,this.logHeight=h-6}this.viewData.setHeight(this.getVerticalLogHeight()),this.runnerData.updateConfig(f=>f.setWidth(a).setHeight(h).setAutoSize(!1))}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{height100:!this.vertical,width800:!0}}onUpdateSourceTextConfig(){}onSelectFormula(a){this.formulaText=a.params.get("\u0442\u0435\u043a\u0441\u0442")}syncLogText(){this.codemirrorData.text=this.logText}onCodeRunnerMessage(a){this.config.post(()=>{this.addLogText(a+"\n"),this.syncLogText()})}onCodeRunnerClosed(a){this.config.post(()=>{this.addLogText("\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u043e "+(a?"\u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e":"\u043d\u0435\u0448\u0442\u0430\u0442\u043d\u043e")+".\n"),this.syncLogText()})}onCodeRunnerError(a){this.config.post(()=>{this.errors.errors=a?[a]:[]})}getVerticalLogHeight(){return this.logHeight+"px"}onResize(){this.config.post(()=>{this.updateCanvasAndLogSizes(),this.config.post(()=>{kp.scrollToTop()},1)})}onContinueScript(a){this.iCompilerLine={lineStart:-1,lineEnd:-1},this.oLastDebugVar=null,this.sendDebugVar(0),this.sendCurrentLine(0),this.config.post(()=>this.running=!0),this.config.messageBus.sendMessage(cl.builder().setTarget("runner").setText("continue"))}onStepScript(a){this.iCompilerLine={lineStart:-1,lineEnd:-1},this.oLastDebugVar=null,this.sendDebugVar(0),this.config.post(()=>this.running=!0),this.config.messageBus.sendMessage(cl.builder().setTarget("runner").setText("step"))}selectDebugVars(){this.debugVarsActive=!0}sendCurrentLine(a=1e3){this.config.post(()=>{this.config.messageBus.sendMessage(cl.builder().setTarget("source").setText("line").setTag(this.iCompilerLine))},a)}sendDebugVar(a=1e3){this.config.post(()=>{this.debugVarEventEmitter.emit(this.oLastDebugVar)},a)}onAddNewTextClick(a){a.preventDefault(),this.config.messageBus.sendMessage(DA.builder().setInputTarget(this.inputTextDlg.target).setInputType(this.inputTextDlg.type).setInputText(this.inputTextDlg.text).setTarget("runner").setText("input text")),this.inputTextDlg.setModalFlag(!1)}static \u0275fac=function(h){return new(h||c)(V(wn),V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-compiler-runner"]],hostBindings:function(h,d){1&h&&Y("resize",function(p){return d.onResize(p.target)},0,ap)},inputs:{data:"data"},decls:16,vars:4,consts:[[3,"ngClass",4,"ngIf"],[1,"s0",3,"clrModalOpen","clrModalOpenChange","click"],[1,"modal-title"],[1,"modal-body"],[3,"data"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],[3,"ngClass"],[4,"ngIf"],["class","btn-group btn-outline-primary",4,"ngIf"],["clrTabLink",""],[3,"clrIfActive","clrIfActiveChange"],[3,"data","onError","onMessage","onClosed"],[1,"btn-group","btn-outline-primary"],[1,"btn",3,"disabled","click"],["shape","play"],["shape","step-forward-2"],[3,"readonly","addTextEventEmitter","maxHeightStr","maxLogLinesCount",4,"ngIf"],[3,"readonly","addTextEventEmitter","maxHeightStr","maxLogLinesCount"],[3,"addDebugVarEvent","maxHeightStr"],[3,"data",4,"ngIf"]],template:function(h,d){1&h&&(X(0,_Rt,16,6,"div",0),X(1,ERt,3,3,"div",0),E(2,"clr-modal",1),Y("clrModalOpenChange",function(p){return d.inputTextDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(3,"h3",2),H(4,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442:"),M(),E(5,"div",3)(6,"div"),H(7,"\xa0"),M(),se(8,"app-dynamic-text-editor",4),E(9,"div"),H(10,"\xa0"),M()(),E(11,"div",5)(12,"button",6),Y("click",function(){return d.inputTextDlg.modalFlag=!1}),H(13,"\u041e\u0442\u043c\u0435\u043d\u0430"),M(),E(14,"button",7),Y("click",function(p){return d.onAddNewTextClick(p)}),H(15,"Ok"),M()()()),2&h&&(R("ngIf",d.vertical),I(1),R("ngIf",!d.vertical),I(1),R("clrModalOpen",d.inputTextDlg.modalFlag),I(6),R("data",d.inputTextEditor))},dependencies:[ei,mn,Vn,Vo,$o,Lme,Kz,tU,G0e,eU,qz,j0e,_f,KR,Gp,ZT,vG,hRt],styles:[".clr-form-control[_ngcontent-%COMP%]{align-items:unset}.clr-input[_ngcontent-%COMP%]{width:100%}.clr-textarea[_ngcontent-%COMP%]{width:100%;height:3rem}.padding0[_ngcontent-%COMP%]{padding-right:0;padding-bottom:0}.iBlock[_ngcontent-%COMP%]{display:inline-block;float:left}.width50[_ngcontent-%COMP%]{width:50%!important}.height100[_ngcontent-%COMP%]{height:100%!important}.my-left-space[_ngcontent-%COMP%]{padding-left:.3em}.my-top-space[_ngcontent-%COMP%]{padding-top:.3em}"]})}return c})();class TX{constructor(){}static builder(){return new TX}}class bL extends ti{classes;language;id="";waitingForSenderId="";components=[];constructor(l,a,h,d,f=""){super(l,a,h),this.classes=d,this.language=f}static builder(){return new bL("",null,null,TX.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setId(l){return this.id=l,this}setWaitingForSenderid(l){return this.waitingForSenderId=l,this}setComponents(l){return this.components=l,this}setLanguage(l){return this.language=l,this}}class kX{constructor(){}static builder(){return new kX}}class Hk extends ti{classes;id="";waitingForSenderId="";components=[];constructor(l,a,h,d){super(l,a,h),this.classes=d}static builder(){return new Hk("",null,null,kX.builder())}setText(l){return super.setText(l)}setOnClick(l){return super.setOnClick(l)}setTag(l){return super.setTag(l)}update(l){return l(this.classes),this}setId(l){return this.id=l,this}setWaitingForSenderid(l){return this.waitingForSenderId=l,this}setComponents(l){return this.components=l,this}}let IRt=(()=>{class c{config;data=Hk.builder();viewData=e_.builder().setText("").setFullScreen(!1).update(a=>{});get cvData(){return this.data}get text(){return this.data&&this.data.text?this.data.text:""}constructor(a){this.config=a}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}onCancelChanges(a){this.config?.messageBus.sendMessage(cl.builder().setTarget("\u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440").setText("\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"))}onShowExamples(a){this.data.onClick&&(this.data.onClick("\u043f\u0440\u0438\u043c\u0435\u0440\u044b \u043a\u043e\u0434\u0430"),a.stopPropagation())}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-compiler-controlled-view"]],inputs:{data:"data"},decls:10,vars:1,consts:[[3,"data"],[1,"width33","center"],["type","button",1,"btn","btn-block","btn-link",3,"click"],["shape","import"],[1,"width34","center"],["shape","undo"]],template:function(h,d){1&h&&(se(0,"app-dynamic-compiler-view",0),E(1,"div")(2,"div",1)(3,"button",2),Y("click",function(p){return d.onShowExamples(p)}),se(4,"cds-icon",3),M()(),E(5,"div",4),se(6,"app-dynamic-button-languages"),M(),E(7,"div",1)(8,"button",2),Y("click",function(p){return d.onCancelChanges(p)}),se(9,"cds-icon",5),M()()()),2&h&&R("data",d.viewData)},dependencies:[Vn,KR,Oke],styles:[".width33[_ngcontent-%COMP%]{display:inline-block;width:33%!important}.width34[_ngcontent-%COMP%]{display:inline-block;width:34%!important}"]})}return c})();class so{name;language;mentor;mentorLanguage;bookName;bookChapter;lessonNumber;pathes=[];get path(){return this.pathes.length>0?this.pathes[0]:""}set path(l){this.pathes[0]=l}constructor(l,a,h="/compprod/examples/js_es5/M00_system.txt",d=ni.JsES5,f="",p="",g=0){this.name=l,this.language=a,this.mentor=h,this.mentorLanguage=d,this.bookName=f,this.bookChapter=p,this.lessonNumber=g}static builder(){return new so("","","")}setName(l){return this.name=l,this}setPath(l){return this.path=l,this}addPath(l){return this.pathes.push(l),this}setLanguage(l){return this.language=l,this}setMentor(l){return this.mentor=l,this}setMentorLanguage(l){return this.mentorLanguage=l,this}setBookName(l){return this.bookName=l,this}setBookChapter(l){return this.bookChapter=l,this}setLessonNumber(l){return this.lessonNumber=l,this}}class O0{name;items;subGroups;constructor(l="\u0411\u0435\u0437 \u0438\u043c\u0435\u043d\u0438",a=[],h=[]){this.name=l,this.items=a,this.subGroups=h}static builder(){return new O0}setName(l){return this.name=l,this}setItems(l){return this.items=l,this}addItem(...l){return this.items.push(...l),this}addGroups(...l){return this.subGroups.push(...l),this}}class r_{static findItem(l,a){let h=l.items.filter(d=>d.name==a);if(h&&h.length>0)return h[0];for(let d=0;d<l.subGroups.length;d++){let f=this.findItem(l.subGroups[d],a);if(f)return f}return null}static makeGroup(l,...a){let d={cyrillic:"\u041a\u0438\u0440\u0438\u043b\u043b\u0438\u0446\u0430","c-js":"C-Js","js-es5":"Javascript ES5","js-es6":"Javascript ES6"}[l];return d?O0.builder().setName(d).addGroups(...a):null}static newExamplesGroups(){let l=(h,d)=>h+" "+d;return[r_.makeGroup(ni.JsES5,O0.builder().setName("\u041f\u0440\u0438\u043c\u0435\u0440\u044b JS_ES5").addItem(so.builder().setName(l("\u041f\u0440\u0438\u0432\u0435\u0442",mi.JS_ES5)).setPath("/compprod/examples/js_es5/N01_helloWorld.txt").setLanguage(ni.JsES5),so.builder().setName(l("\u0413\u0440\u0430\u0444\u0438\u043a\u0430",mi.JS_ES5)).setPath("/compprod/examples/js_es5/N01_helloGraphics.txt").setLanguage(ni.JsES5),so.builder().setName(l("\u041a\u0440\u0443\u0433",mi.JS_ES5)).setPath("/compprod/examples/js_es5/G03_movingCircle.txt").setLanguage(ni.JsES5),so.builder().setName(l("\u0412\u0432\u043e\u0434",mi.JS_ES5)).setPath("/compprod/examples/js_es5/U01_inputText.txt").setLanguage(ni.JsES5),so.builder().setName(l("\u041a\u0430\u0441\u0430\u043d\u0438\u044f",mi.JS_ES5)).setPath("/compprod/examples/js_es5/U02_inputTouches.txt").setLanguage(ni.JsES5)),O0.builder().setName("\u0423\u0440\u043e\u043a\u0438 JS_ES5").addItem(so.builder().setName(l(" 1 ",mi.JS_ES5)).setPath("/compprod/examples/js_es5/L01_default.txt").addPath("/compprod/examples/js_es5/A01_M_minimum.txt").setLanguage(ni.JsES5).setMentor("/compprod/examples/js_es5/M01_mentor.txt").setMentorLanguage(ni.JsES5).setBookName("\u0423\u0440\u043e\u043a\u0438Js5 LSN_JS5").setBookChapter("1").setLessonNumber(1),so.builder().setName(l(" 2 ",mi.JS_ES5)).setPath("/compprod/examples/js_es5/L02_default.txt").addPath("/compprod/examples/js_es5/A02_M_standard.txt").setLanguage(ni.JsES5).setMentor("/compprod/examples/js_es5/M02_mentor.txt").setMentorLanguage(ni.JsES5).setBookName("\u0423\u0440\u043e\u043a\u0438Js5 LSN_JS5").setBookChapter("2").setLessonNumber(2),so.builder().setName(l(" 3 ",mi.JS_ES5)).setPath("/compprod/examples/js_es5/L03_default.txt").addPath("/compprod/examples/js_es5/A02_M_standard.txt").setLanguage(ni.JsES5).setMentor("/compprod/examples/js_es5/M03_mentor.txt").setMentorLanguage(ni.JsES5).setBookName("\u0423\u0440\u043e\u043a\u0438Js5 LSN_JS5").setBookChapter("3").setLessonNumber(3),so.builder().setName(l(" 4 ",mi.JS_ES5)).setPath("/compprod/examples/js_es5/L04_default.txt").addPath("/compprod/examples/js_es5/A02_M_standard.txt").setLanguage(ni.JsES5).setMentor("/compprod/examples/js_es5/M04_mentor.txt").setMentorLanguage(ni.JsES5).setBookName("\u0423\u0440\u043e\u043a\u0438Js5 LSN_JS5").setBookChapter("4").setLessonNumber(4),so.builder().setName(l(" 5 ",mi.JS_ES5)).setPath("/compprod/examples/js_es5/L05_default.txt").addPath("/compprod/examples/js_es5/A02_M_standard.txt").setLanguage(ni.JsES5).setMentor("/compprod/examples/js_es5/M05_mentor.txt").setMentorLanguage(ni.JsES5).setBookName("\u0423\u0440\u043e\u043a\u0438Js5 LSN_JS5").setBookChapter("5").setLessonNumber(5),so.builder().setName(l(" 6 ",mi.JS_ES5)).setPath("/compprod/examples/js_es5/L06_default.txt").addPath("/compprod/examples/js_es5/A02_M_standard.txt").setLanguage(ni.JsES5).setMentor("/compprod/examples/js_es5/M06_mentor.txt").setMentorLanguage(ni.JsES5).setBookName("\u0423\u0440\u043e\u043a\u0438Js5 LSN_JS5").setBookChapter("6").setLessonNumber(6),so.builder().setName(l(" 7 ",mi.JS_ES5)).setPath("/compprod/examples/js_es5/L07_default.txt").addPath("/compprod/examples/js_es5/A02_M_standard.txt").setLanguage(ni.JsES5).setMentor("/compprod/examples/js_es5/M07_mentor.txt").setMentorLanguage(ni.JsES5).setBookName("\u0423\u0440\u043e\u043a\u0438Js5 LSN_JS5").setBookChapter("7").setLessonNumber(7),so.builder().setName(l(" 8 ",mi.JS_ES5)).setPath("/compprod/examples/js_es5/L08_default.txt").addPath("/compprod/examples/js_es5/A03_M_baseComplete.txt").setLanguage(ni.JsES5).setMentor("/compprod/examples/js_es5/M08_mentor.txt").setMentorLanguage(ni.JsES5).setBookName("\u0423\u0440\u043e\u043a\u0438Js5 LSN_JS5").setBookChapter("8").setLessonNumber(8))),r_.makeGroup(ni.JsES6,O0.builder().setName("\u041f\u0440\u0438\u043c\u0435\u0440\u044b JS_ES6").addItem(so.builder().setName(l("\u0413\u0440\u0430\u0444\u0438\u043a\u0438",mi.JS_ES6)).setPath("/compprod/examples/js_es6/G05_graphics.txt").setLanguage(ni.JsES6),so.builder().setName(l("\u041a\u0440\u0443\u0433",mi.JS_ES6)).setPath("/compprod/examples/js_es6/G06_movingCircle.txt").setLanguage(ni.JsES6))),r_.makeGroup(ni.CJs,O0.builder().setName("\u041f\u0440\u0438\u043c\u0435\u0440\u044b CJS").addItem(so.builder().setName(l("\u041a\u0432\u0430\u0434\u0440\u0430\u0442",mi.CJS)).setPath("/compprod/examples/cjs/G01_movingRect.txt").setLanguage(ni.CJs),so.builder().setName(l("\u041a\u0440\u0443\u0433",mi.CJS)).setPath("/compprod/examples/cjs/G02_movingCircle.txt").setLanguage(ni.CJs),so.builder().setName(l("\u0413\u0440\u0430\u0444\u0438\u043a\u0438",mi.CJS)).setPath("/compprod/examples/cjs/G04_graphics.txt").setLanguage(ni.CJs))),r_.makeGroup(ni.Cyrillic,O0.builder().setName("\u041f\u0440\u0438\u043c\u0435\u0440\u044b CYR").addItem(so.builder().setName(l("\u041f\u0440\u0438\u0432\u0435\u0442",mi.CYR)).setPath("/compprod/examples/cyr/K01_cirillic.txt").setLanguage(ni.Cyrillic),so.builder().setName(l("\u0422\u0435\u0441\u0442\u044b",mi.CYR)).setPath("/compprod/examples/cyr/K02_unittests.txt").setLanguage(ni.Cyrillic),so.builder().setName(l("\u041f\u0430\u0440\u0441\u0435\u0440",mi.CYR)).setPath("/compprod/examples/cyr/K03_cirillicParser.txt").setLanguage(ni.Cyrillic)))].filter(h=>!!h).map(h=>h)}}function RRt(c,l){if(1&c&&(E(0,"div"),se(1,"app-add-component",7),M()),2&c){const a=l.$implicit;I(1),R("component",a)}}class LRt{modalFlag;text;target="";type="";item=null;constructor(l=!1,a=""){this.modalFlag=l,this.text=a}setTarget(l){return this.target=l,this}setType(l){return this.type=l,this}setModalFlag(l){return this.modalFlag=l,this}}let NRt=(()=>{class c extends sf{updateSvc;cacheSvc;appBookName="\u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440 APP_CMP";appBookChapter="1";appCompilerPlusChapter="2";appLearningChapter="3";helpBookName="\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP";helpChapterNormal="1";helpChapterConfidential="2";errorsData=la.builder();clearTitleMenuSubscription=null;editSourceCommands=[Ft.builder().setName("\u0412\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d").setShape("cursor-move").setOnClick(()=>this.reset(this.appCompilerPlusChapter)),Ft.builder().setName("\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c").setShape("play").setOnClick(()=>this.showRunner())];runSourceCommands=[Ft.builder().setName("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c").setShape("form").setOnClick(()=>this.reset(this.appBookChapter)),Ft.builder().setName("\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c").setShape("play").setOnClick(()=>this.showRunner())];helpCommands=[Ft.builder().setName("\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c").setShape("play").setOnClick(()=>this.showRunner()),Ft.builder().setName("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c").setShape("form").setOnClick(()=>this.reset(this.appBookChapter))];messageBusSubscription=null;gExamplesGroups=[];newLessonDlg=new LRt;getUIVisited(){return this.uiConfig.ui.visitedCompilerHelp}getUIBook(){return this.uiConfig.ui.compilerBook}getUIChapter(){return this.uiConfig.ui.compilerChapter}getUILine(){return this.uiConfig.ui.compilerLine}constructor(a,h,d,f,p){super(a,h,d),this.updateSvc=f,this.cacheSvc=p,this.addMenuLink(Ft.builder().setLink("#").setName("\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440").setShape("bug").setOnClick(()=>{this.reset(this.appBookChapter)}).setIsActive(()=>this.isEditor())).addMenuLink(Ft.builder().setLink("#").setName("\u0412\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d").setShape("bug").setOnClick(()=>{this.reset(this.appCompilerPlusChapter)}).setIsActive(()=>this.isFullscreenEditor())).addMenuLink(Ft.builder().setLink("#").setName("\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c").setShape("play").setOnClick(()=>{this.showRunner()}).setIsActive(()=>this.isRunner())).addMenuLink(Ft.builder().setLink("#").setName("\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435").setShape("lightbulb").setOnClick(()=>{this.routeToLearning()}).setIsActive(()=>this.isLearning())).addMenuLink(Ft.builder().setLink("#").setName("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438").setShape("cog").setOnClick(()=>{this.showSettings()}).setIsActive(()=>this.isSettings())).addMenuLink(Ft.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.routeToHelp(this.helpChapterNormal)}).setIsActive(()=>this.isComponent(this.helpBookName)))}isLearning(){let a=this.uiConfig.ui.compilerLessonBookName.getStringValue(),h=this.uiConfig.ui.compilerLessonBookChapter.getStringValue();return!!a&&!!h&&this.isComponent(a,h)}isRunner(){return!(this.components.length<=0)&&this.components[0].data.component?.data instanceof bL}isEditor(){return!(this.components.length<=0)&&this.components[0].data.component?.data instanceof Hk}isFullscreenEditor(){return!(this.components.length<=0)&&this.components[0].data.component?.data instanceof e_}isSettings(){return!(this.components.length<=0)&&this.components[0].data.component?.data instanceof ca}isComponent(a,h=""){if(this.components.length<=0)return!1;let f=this.components[0].data.component?.data;return f?.text==a&&(!h||f?.link.chapter==h)}ngOnInit(){super.ngOnInit(),this.messageBusSubscription=this.config.messageBus.addHandler(a=>this.onBusMessage(a))}ngOnDestroy(){super.ngOnDestroy(),this.clearTitleMenu(),this.messageBusSubscription&&(this.messageBusSubscription.unsubscribe(),this.messageBusSubscription=null)}ngAfterViewInit(){super.ngAfterViewInit(),this.doLogin(()=>{this.ngAfterViewInitRaw()})}ngAfterViewInitRaw(){if(this.updateSvc.checkUpdate())this.updateSvc.showUpdateMessage(),this.updateSvc.clearUpdateMessage(),this.config.post(()=>{this.routeToVersions()},1500);else if("confidential"===pageRequestedDoc)pageRequestedDoc="",this.routeToHelpDelayed(this.helpChapterConfidential);else if(this.getUIVisited().getStringValue()!==this.config.environment.version)this.routeToHelpDelayed(this.helpChapterNormal);else{let a=this.getUIBook().getStringValue(),h=this.getUIChapter().getStringValue(),d=this.getUILine().getNumberValue();a?this.routeTo(a,h,d):this.resetDelayed(this.appBookChapter)}}resetDelayed(a){this.config.post(()=>{this.reset(a)})}reset(a){this.routeTo(this.appBookName,a,1)}routeToLearningDelayed(a=null,h=null){this.config.post(()=>{this.routeToLearning(a,h)})}routeToLearning(a=null,h=null){let d=a??this.uiConfig.ui.compilerLessonBookName.getStringValue(),f=h??this.uiConfig.ui.compilerLessonBookChapter.getStringValue();this.uiConfig.ui.compilerLessonBookName.setStringValue(d),this.uiConfig.ui.compilerLessonBookChapter.setStringValue(f),d&&f?this.routeTo(d,f,1):this.showEditor()}routeToHelpDelayed(a){this.config.post(()=>{this.routeToHelp(a)})}routeToHelp(a){this.isComponent(this.helpBookName,a)&&a===this.helpChapterNormal?this.reset(this.helpChapterNormal):this.routeTo(this.helpBookName,a,1)}routeToDelayed(a,h="",d=-1){this.config.post(()=>{this.routeTo(a,h,d)})}routeTo(a,h="",d=-1){let f=a;if(f){if("\u0441\u0442\u0430\u0440\u0442"==f)return void this.showRunner();if("\u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"==f)return void this.routeToLearning();if("\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==f)return void this.routeToHelpDelayed(this.helpChapterConfidential);if("books_help"==f||f==this.helpBookName&&""==h&&d<=0)return void this.routeToHelpDelayed(this.helpChapterNormal);""==h&&(h="1"),d<0&&(d=1),this.getUIBook().setStringValue(f),this.getUIChapter().setStringValue(h),this.getUILine().setNumberValue(d),this.clearTitleMenuSubscription=this.uiConfig.setTitleMenuCommands(a==this.helpBookName?this.helpCommands:this.runSourceCommands),f==this.appBookName&&h==this.appBookChapter?this.showEditor():f==this.appBookName&&h==this.appCompilerPlusChapter?this.showFullscreenEditor():this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(Dl,Ta.builder().setText(f).setMenu(this.menuLinks).setHideUI(!0).setEpubEnabled(!1).setShowPrintButtons(!1).setParallel(!0).setLinebreaks(!0).setAutoPrint(!0).setLink(xa.builder().setBookName(f).setChapter(h).setStartLine(d).setEndLine(1e3).setOnRoute(p=>{p?this.routeToDelayed(p.trim()):this.showEditor()})))))])}}setComponentsDelayed(a){this.config.post(()=>{this.components=a})}clearErrors(){this.errorsData.setErrors([])}setErrors(a){this.errorsData.setErrors(a).updateClasses(h=>h.setAlertClass("alert-danger"))}routeToVersions(){this.components=[new sn(ss,Xi.builder().setComponent(new sn(Uk,Sh.builder().setOnClick(a=>{this.config.post(()=>{this.applyMenuAppRoutes(!0)}),"\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==a?this.routeToHelp("2"):this.resetDelayed(this.appBookChapter)}))))]}showSettings(){this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(yf,ca.builder().updateClasses(a=>a.setCompilerSettings(!0)))))])}showFullscreenEditor(){this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(KR,e_.builder().setFullScreen(!0))))]),this.clearTitleMenuSubscription=this.uiConfig.setTitleMenuCommands(this.runSourceCommands)}showEditor(){this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(IRt,Hk.builder().setOnClick(a=>this.showExamples()))))]),this.clearTitleMenuSubscription=this.uiConfig.setTitleMenuCommands(this.editSourceCommands)}showExamples(){this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(m1e,zx.builder().setGenName("CodeExamplesMenu").setMenuSelectedName("\u0417\u043d\u0430\u043d\u0438\u044f").enableCross(!1).setMenuWidthDivider(20).setOnClick(a=>this.onMenuSelected(a)))))]),this.clearTitleMenuSubscription=this.uiConfig.setTitleMenuCommands(this.runSourceCommands)}showRunner(){this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(ARt,bL.builder())))]),this.clearTitleMenuSubscription=this.uiConfig.setTitleMenuCommands(this.runSourceCommands)}clearTitleMenu(){this.clearTitleMenuSubscription&&(this.clearTitleMenuSubscription.unsubscribe(),this.clearTitleMenuSubscription=null)}onBusMessage(a){"compiler"==a.target&&("reset"==a.text?this.resetDelayed(this.appBookChapter):"lesson"==a.text&&this.onMenuSelected(a.tag))}setupExamples(){this.gExamplesGroups.length||(this.gExamplesGroups=r_.newExamplesGroups())}onMenuSelected(a){console.log(a),this.setupExamples();let h=this.gExamplesGroups.map(d=>r_.findItem(d,a)).filter(d=>!!d).map(d=>d);if(h&&h.length){let d=h[0],f=this.getCompletedSource(d);f?(this.newLessonDlg.item=d,this.newLessonDlg.text=f,this.newLessonDlg.setModalFlag(!0)):this.loadGroup(d,"")}else console.log('\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043f\u0440\u0438\u043c\u0435\u0440: "'+a+'".')}loadSources(a,h,d=""){this.uiConfig.ui.compilerSourceAppendText.setStringValue(d),this.uiConfig.ui.compilerSourceText.setStringValue(h),this.uiConfig.ui.compilerSourceLanguage.setStringValue(a.language),this.uiConfig.ui.compilerMentor.setStringValue(a.mentor),this.uiConfig.ui.compilerMentorLanguage.setStringValue(a.mentorLanguage),a.bookName&&a.bookChapter?(this.uiConfig.ui.compilerLessonNumber.setNumberValue(a.lessonNumber),this.uiConfig.ui.compilerLessonBookName.setStringValue(a.bookName),this.uiConfig.ui.compilerLessonBookChapter.setStringValue(a.bookChapter),this.routeToLearningDelayed(a.bookName,a.bookChapter)):(this.uiConfig.ui.compilerLessonNumber.setNumberValue(0),this.uiConfig.ui.compilerLessonBookName.setStringValue(""),this.uiConfig.ui.compilerLessonBookChapter.setStringValue(""),this.config.post(()=>this.showEditor(),1))}getCompletedSource(a){let h=null;switch(a.language){case"js-es5":h=this.uiConfig.ui.compilerLearningJsES5Lessons.getStringValue();break;case"js-es6":h=this.uiConfig.ui.compilerLearningJsES6Lessons.getStringValue();break;case"c-js":h=this.uiConfig.ui.compilerLearningCJsLessons.getStringValue();break;case"cyrillic":h=this.uiConfig.ui.compilerLearningCyrillicLessons.getStringValue();break;default:throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u044f\u0437\u044b\u043a: "+a.language)}h=h?JSON.parse(h):null;let d=h?h[a.lessonNumber]:null;return d&&d.source?d.source:""}loadGroup(a,h){if(h&&1==a.pathes.length)this.loadSources(a,h);else{let d=[...a.pathes],f=[];h&&f.push(h);let p=()=>{if(f.length<d.length)this.cacheSvc.getText(d[f.length],g=>{g&&(f.push(g),p())});else{let m=[`var \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f\u0423\u0440\u043e\u043a\u0430 = {\n  \u043d\u043e\u043c\u0435\u0440\u0423\u0440\u043e\u043a\u0430: ${a.lessonNumber}\n};`].concat(f.slice(1)).join(kA.BreakSource);this.loadSources(a,f[0],m)}};p()}}onStartCompletedSource(a){this.newLessonDlg.item&&this.loadGroup(this.newLessonDlg.item,this.newLessonDlg.text),this.newLessonDlg.setModalFlag(!1)}onStartNewLessonSource(a){this.newLessonDlg.item&&this.loadGroup(this.newLessonDlg.item,""),this.newLessonDlg.setModalFlag(!1)}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(fu),V(b0),V(Jl))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-compiler"]],features:[_n],decls:16,vars:2,consts:[[4,"ngFor","ngForOf"],[1,"s0",3,"clrModalOpen","clrModalOpenChange","click"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],[3,"component"]],template:function(h,d){1&h&&(E(0,"div"),X(1,RRt,2,1,"div",0),M(),E(2,"clr-modal",1),Y("clrModalOpenChange",function(p){return d.newLessonDlg.modalFlag=p})("click",function(p){return p.stopPropagation()}),E(3,"h3",2),H(4,"\u041d\u0430\u0447\u0430\u0442\u044c \u0443\u0440\u043e\u043a:"),M(),E(5,"div",3)(6,"div"),H(7,"\xa0"),M(),H(8," \u0425\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u0438\u043b\u0438 \u043f\u0440\u043e\u0439\u0442\u0438 \u0437\u0430\u043d\u043e\u0432\u043e? "),E(9,"div"),H(10,"\xa0"),M()(),E(11,"div",4)(12,"button",5),Y("click",function(p){return d.onStartCompletedSource(p)}),H(13,"\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u0443\u044e"),M(),E(14,"button",6),Y("click",function(p){return d.onStartNewLessonSource(p)}),H(15,"\u0417\u0430\u043d\u043e\u0432\u043e"),M()()()),2&h&&(I(1),R("ngForOf",d.components),I(1),R("clrModalOpen",d.newLessonDlg.modalFlag))},dependencies:[Gn,Vo,$o,ic]})}return c})();function FRt(c,l){if(1&c&&(E(0,"div"),se(1,"app-add-component",2),M()),2&c){const a=l.$implicit;I(1),R("component",a)}}let BRt=(()=>{class c extends sf{appBookName="\u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c APP_CLD";appBookChapter="1";helpBookName="\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP";helpChapterNormal="1";helpChapterConfidential="2";errorsData=la.builder();getUIVisited(){return this.uiConfig.ui.visitedCalendarHelp}getUIBook(){return this.uiConfig.ui.calendarBook}getUIChapter(){return this.uiConfig.ui.calendarChapter}getUILine(){return this.uiConfig.ui.calendarLine}constructor(a,h,d){super(a,h,d),this.addMenuLink(Ft.builder().setLink("#").setName("\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c").setShape("calendar").setOnClick(()=>{this.reset(this.appBookChapter)}).setIsActive(()=>this.isComponent(this.appBookName,this.appBookChapter))).addMenuLink(Ft.builder().setLink("#").setName("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438").setShape("cog").setOnClick(()=>{this.showSettings()}).setIsActive(()=>this.isSettings())).addMenuLink(Ft.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.routeToHelp(this.helpChapterNormal)}).setIsActive(()=>this.isComponent(this.helpBookName)))}isSettings(){return!(this.components.length<=0)&&this.components[0].data.component?.data instanceof ca}isComponent(a,h=""){if(this.components.length<=0)return!1;let f=this.components[0].data.component?.data;return f?.text==a&&(!h||f?.link.chapter==h)}ngAfterViewInit(){super.ngAfterViewInit(),this.doLogin(()=>{this.ngAfterViewInitRaw()})}ngAfterViewInitRaw(){if("confidential"===pageRequestedDoc)pageRequestedDoc="",this.routeToHelpDelayed(this.helpChapterConfidential);else if(this.getUIVisited().getStringValue()!==this.config.environment.version)this.routeToHelpDelayed(this.helpChapterNormal);else{let a=this.getUIBook().getStringValue(),h=this.getUIChapter().getStringValue(),d=this.getUILine().getNumberValue();a?this.routeTo(a,h,d):this.resetDelayed(this.appBookChapter)}}resetDelayed(a){this.config.post(()=>{this.reset(a)})}reset(a){this.routeTo(this.appBookName,a,1)}routeToHelpDelayed(a){this.config.post(()=>{this.routeToHelp(a)})}routeToHelp(a){this.isComponent(this.helpBookName,a)&&a===this.helpChapterNormal?this.reset(this.helpChapterNormal):this.routeTo(this.helpBookName,a,1)}routeToDelayed(a,h="",d=-1){this.config.post(()=>{this.routeTo(a,h,d)})}routeTo(a,h="",d=-1){let f=a;if(f){if("\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==f)return void this.routeToHelpDelayed(this.helpChapterConfidential);if("books_help"==f||f==this.helpBookName&&""==h&&d<=0)return void this.routeToHelpDelayed(this.helpChapterNormal);""==h&&(h="1"),d<0&&(d=1),this.getUIBook().setStringValue(f),this.getUIChapter().setStringValue(h),this.getUILine().setNumberValue(d),this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(Dl,Ta.builder().setText(f).setMenu(this.menuLinks).setHideUI(!0).setEpubEnabled(!1).setShowPrintButtons(!0).setParallel(!0).setLinebreaks(!0).setAutoPrint(!0).setLink(xa.builder().setBookName(f).setChapter(h).setStartLine(d).setEndLine(1e3).setOnRoute(p=>{p?this.routeToDelayed(p.trim()):this.resetDelayed(this.appBookChapter)})))))])}}setComponentsDelayed(a){this.config.post(()=>{this.components=a})}clearErrors(){this.errorsData.setErrors([])}setErrors(a){this.errorsData.setErrors(a).updateClasses(h=>h.setAlertClass("alert-danger"))}showSettings(){this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(yf,ca.builder().updateClasses(a=>a.setCalculatorSettings(!0)))))])}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(fu))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-calendar"]],features:[_n],decls:2,vars:1,consts:[[1,"ftext-no","fade-in-3-no"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(h,d){1&h&&(E(0,"div",0),X(1,FRt,2,1,"div",1),M()),2&h&&(I(1),R("ngForOf",d.components))},dependencies:[Gn,ic]})}return c})();function VRt(c,l){if(1&c&&(E(0,"div"),se(1,"app-add-component",2),M()),2&c){const a=l.$implicit;I(1),R("component",a)}}let $Rt=(()=>{class c extends sf{appBookName="\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 APP_SCH";appBookChapter="1";helpBookName="\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP";helpChapterNormal="1";helpChapterConfidential="2";errorsData=la.builder();getUIVisited(){return this.uiConfig.ui.visitedSchedulerHelp}getUIBook(){return this.uiConfig.ui.schedulerBook}getUIChapter(){return this.uiConfig.ui.schedulerChapter}getUILine(){return this.uiConfig.ui.schedulerLine}constructor(a,h,d){super(a,h,d),this.addMenuLink(Ft.builder().setLink("#").setName("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435").setShape("alarm-clock").setOnClick(()=>{this.reset(this.appBookChapter)}).setIsActive(()=>this.isComponent(this.appBookName,this.appBookChapter))).addMenuLink(Ft.builder().setLink("#").setName("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438").setShape("cog").setOnClick(()=>{this.showSettings()}).setIsActive(()=>this.isSettings())).addMenuLink(Ft.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.routeToHelp(this.helpChapterNormal)}).setIsActive(()=>this.isComponent(this.helpBookName)))}isSettings(){return!(this.components.length<=0)&&this.components[0].data.component?.data instanceof ca}isComponent(a,h=""){if(this.components.length<=0)return!1;let f=this.components[0].data.component?.data;return f?.text==a&&(!h||f?.link.chapter==h)}ngAfterViewInit(){super.ngAfterViewInit(),this.doLogin(()=>{this.ngAfterViewInitRaw()})}ngAfterViewInitRaw(){if("confidential"===pageRequestedDoc)pageRequestedDoc="",this.routeToHelpDelayed(this.helpChapterConfidential);else if(pageRequestedDoc||this.getUIVisited().getStringValue()===this.config.environment.version){let a=this.getUIBook().getStringValue(),h=this.getUIChapter().getStringValue(),d=this.getUILine().getNumberValue();a?this.routeTo(a,h,d):this.resetDelayed(this.appBookChapter)}else this.routeToHelpDelayed(this.helpChapterNormal)}resetDelayed(a){this.config.post(()=>{this.reset(a)})}reset(a){this.routeTo(this.appBookName,a,1)}routeToHelpDelayed(a){this.config.post(()=>{this.routeToHelp(a)})}routeToHelp(a){this.isComponent(this.helpBookName,a)&&a===this.helpChapterNormal?this.reset(this.helpChapterNormal):this.routeTo(this.helpBookName,a,1)}routeToDelayed(a,h="",d=-1){this.config.post(()=>{this.routeTo(a,h,d)})}routeTo(a,h="",d=-1){let f=a;if(f){if("\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==f)return void this.routeToHelpDelayed(this.helpChapterConfidential);if("books_help"==f||f==this.helpBookName&&""==h&&d<=0)return void this.routeToHelpDelayed(this.helpChapterNormal);""==h&&(h="1"),d<0&&(d=1),this.getUIBook().setStringValue(f),this.getUIChapter().setStringValue(h),this.getUILine().setNumberValue(d),this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(Dl,Ta.builder().setText(f).setMenu(this.menuLinks).setHideUI(!0).setEpubEnabled(!1).setShowPrintButtons(!0).setParallel(!0).setLinebreaks(!0).setAutoPrint(!0).setLink(xa.builder().setBookName(f).setChapter(h).setStartLine(d).setEndLine(1e3).setOnRoute(p=>{p?this.routeToDelayed(p.trim()):this.resetDelayed(this.appBookChapter)})))))])}}setComponentsDelayed(a){this.config.post(()=>{this.components=a})}clearErrors(){this.errorsData.setErrors([])}setErrors(a){this.errorsData.setErrors(a).updateClasses(h=>h.setAlertClass("alert-danger"))}showSettings(){this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(yf,ca.builder().updateClasses(a=>a.setCalculatorSettings(!0)))))])}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(fu))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-scheduler"]],features:[_n],decls:2,vars:1,consts:[[1,"ftext-no","fade-in-3-no"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(h,d){1&h&&(E(0,"div",0),X(1,VRt,2,1,"div",1),M()),2&h&&(I(1),R("ngForOf",d.components))},dependencies:[Gn,ic]})}return c})();function zRt(c,l){if(1&c&&(E(0,"div"),se(1,"app-add-component",2),M()),2&c){const a=l.$implicit;I(1),R("component",a)}}let URt=(()=>{class c extends sf{appBookName="\u043a\u0440\u0435\u0441\u0442 APP_CRS";appBookChapter="1";helpBookName="\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP";helpChapterNormal="1";helpChapterConfidential="2";errorsData=la.builder();getUIVisited(){return this.uiConfig.ui.visitedCrossHelp}getUIBook(){return this.uiConfig.ui.crossBook}getUIChapter(){return this.uiConfig.ui.crossChapter}getUILine(){return this.uiConfig.ui.crossLine}constructor(a,h,d){super(a,h,d),this.addMenuLink(Ft.builder().setLink("#").setName("\u041a\u0440\u0435\u0441\u0442").setShape("plus").setOnClick(()=>{this.reset(this.appBookChapter)}).setIsActive(()=>this.isComponent(this.appBookName,this.appBookChapter))).addMenuLink(Ft.builder().setLink("#").setName("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438").setShape("cog").setOnClick(()=>{this.showSettings()}).setIsActive(()=>this.isSettings())).addMenuLink(Ft.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.routeToHelp(this.helpChapterNormal)}).setIsActive(()=>this.isComponent(this.helpBookName)))}isSettings(){return!(this.components.length<=0)&&this.components[0].data.component?.data instanceof ca}isComponent(a,h=""){if(this.components.length<=0)return!1;let f=this.components[0].data.component?.data;return f?.text==a&&(!h||f?.link.chapter==h)}ngAfterViewInit(){super.ngAfterViewInit(),this.doLogin(()=>{this.ngAfterViewInitRaw()})}ngAfterViewInitRaw(){if("confidential"===pageRequestedDoc)pageRequestedDoc="",this.routeToHelpDelayed(this.helpChapterConfidential);else if(this.getUIVisited().getStringValue()!==this.config.environment.version)this.routeToHelpDelayed(this.helpChapterNormal);else{let a=this.getUIBook().getStringValue(),h=this.getUIChapter().getStringValue(),d=this.getUILine().getNumberValue();a?this.routeTo(a,h,d):this.resetDelayed(this.appBookChapter)}}resetDelayed(a){this.config.post(()=>{this.reset(a)})}reset(a){this.routeTo(this.appBookName,a,1)}routeToHelpDelayed(a){this.config.post(()=>{this.routeToHelp(a)})}routeToHelp(a){this.isComponent(this.helpBookName,a)&&a===this.helpChapterNormal?this.reset(this.helpChapterNormal):this.routeTo(this.helpBookName,a,1)}routeToDelayed(a,h="",d=-1){this.config.post(()=>{this.routeTo(a,h,d)})}routeTo(a,h="",d=-1){let f=a;if(f){if("\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==f)return void this.routeToHelpDelayed(this.helpChapterConfidential);if("books_help"==f||f==this.helpBookName&&""==h&&d<=0)return void this.routeToHelpDelayed(this.helpChapterNormal);""==h&&(h="1"),d<0&&(d=1),this.getUIBook().setStringValue(f),this.getUIChapter().setStringValue(h),this.getUILine().setNumberValue(d),this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(Dl,Ta.builder().setText(f).setMenu(this.menuLinks).setHideUI(!0).setEpubEnabled(!1).setShowPrintButtons(!0).setParallel(!0).setLinebreaks(!0).setAutoPrint(!0).setLink(xa.builder().setBookName(f).setChapter(h).setStartLine(d).setEndLine(1e3).setOnRoute(p=>{p?this.routeToDelayed(p.trim()):this.resetDelayed(this.appBookChapter)})))))])}}setComponentsDelayed(a){this.config.post(()=>{this.components=a},1)}clearErrors(){this.errorsData.setErrors([])}setErrors(a){this.errorsData.setErrors(a).updateClasses(h=>h.setAlertClass("alert-danger"))}showSettings(){this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(yf,ca.builder().updateClasses(a=>a.setCalculatorSettings(!0)))))])}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(fu))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-cross"]],features:[_n],decls:2,vars:1,consts:[[1,"ftext-no","fade-in-3-no"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(h,d){1&h&&(E(0,"div",0),X(1,zRt,2,1,"div",1),M()),2&h&&(I(1),R("ngForOf",d.components))},dependencies:[Gn,ic]})}return c})();const QRt=["myCanvas"];function HRt(c,l){if(1&c&&(E(0,"div")(1,"span",4),H(2," \u0417\u0430\u0433\u0440\u0443\u0436\u0430\u044e... "),M(),se(3,"clr-progress-bar",5),M()),2&c){const a=Q();I(3),R("clrValue",a.donePersantage)}}function WRt(c,l){if(1&c){const a=Ae();E(0,"img",10),Y("click",function(){const f=ce(a).$implicit;return ue(Q(2).onImageSelect(f))}),M()}if(2&c){const a=l.$implicit;R("src",a.link,Rd)("width",a.fullSize?a.maxWidth:a.minWidth)("height",a.fullSize?a.maxHeight:a.minHeight)}}function ZRt(c,l){if(1&c){const a=Ae();E(0,"div")(1,"div")(2,"button",6),Y("click",function(){return ce(a),ue(Q().downloadAllImages())}),H(3,"\u041b\u043e\u0433\u043e\u0442\u0438\u043f\u044b"),M()(),E(4,"div",7),H(5,"\u0411\u043b\u0483\u0436\u0435\u0301\u043d\u044a \u043c\ua64b\u0301\u0436\u044a"),M(),X(6,WRt,1,3,"img",8),E(7,"div")(8,"button",9),Y("click",function(){return ce(a),ue(Q().downloadAllImages())}),H(9,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),M()()()}if(2&c){const a=Q();I(6),R("ngForOf",a.imageLinks)}}let jRt=(()=>{class c extends WTe{ks;static DRAW_SQL=!0;static DRAW_MEMORIAL=!1;myCanvasRef;imageLinks=[];rendering=!1;donePersantage=0;saveFileName="logos.zip";sdemo="";get demo(){return this.sdemo}set demo(a){this.sdemo=a,setTimeout(()=>{this.render()},1e3)}get year(){if(this.demo){let a=this.demo.split("/");return+a[a.length-1]}return(new Date).getFullYear()}constructor(a,h,d){super(h,d),this.ks=a}ngOnInit(){}ngAfterViewInit(){this.myCanvasRef&&(this.contextNullable=this.myCanvasRef.nativeElement.getContext("2d"),this.context.font="48px myUsc",this.context.textBaseline="middle",this.context.textAlign="center",setTimeout(()=>{this.render()},1e3))}goldDivision(a){return 1/(a*(Math.sqrt(5)+1)/2)}render(){if(!this.context)return;this.rendering=!0,this.context.font="48px myUcs",this.context.textBaseline="middle",this.context.textAlign="center",this.imageLinks=[],this.strokeAndFillStyle="";let f=[],p=10,v=(C,S,w)=>{p=2;let T=256;f.push(new hc(T,T,p,this.strokeAndFillStyle,S+"\u043b\u043e\u0433\u043eSQLlite_"+C[0]+"_"+C[1]+"_"+this.year+"_1_"+Math.round(100*w)+"_"+C[0],0,0,T*p,T*p,1,1,3,C[0],C[1],C[2],C[3],C[4],pa.CompilerLogo,w,"SQL","lite",.33,!0,!0)),f.push(new hc(T,T,p,this.strokeAndFillStyle,S+"\u043b\u043e\u0433\u043eCyrillic_"+C[0]+"_"+C[1]+"_"+this.year+"_1_"+Math.round(100*w)+"_"+C[0],0,0,T*p,T*p,1,1,3,C[0],C[1],C[2],C[3],C[4],pa.CompilerLogo,w,"CYR","illic",.33,!0,!0)),f.push(new hc(T,T,p,this.strokeAndFillStyle,S+"\u043b\u043e\u0433\u043eCyrillic_"+C[0]+"_"+C[1]+"_"+this.year+"_1_"+Math.round(100*w)+"_"+C[0],0,0,T*p,T*p,1,1,3,C[0],C[1],C[2],C[3],C[4],pa.CompilerLogo,w,"CYRILL","cyrillic",.5,!0,!0)),f.push(new hc(T,T,p,this.strokeAndFillStyle,S+"\u043b\u043e\u0433\u043e\u041a\u0438\u0440\u0438\u043b\u043b\u0438\u0446\u0430_"+C[0]+"_"+C[1]+"_"+this.year+"_1_"+Math.round(100*w)+"_"+C[0],0,0,T*p,T*p,1,1,3,C[0],C[1],C[2],C[3],C[4],pa.CompilerLogo,w,"\u041a\u0418\u0420\u0418\u041b\u041b","\u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0446\u0430",2/3,!0,!0)),f.push(new hc(T,T,p,this.strokeAndFillStyle,S+"\u043b\u043e\u0433\u043eSQL\u0441\u0430\u043c\u043e\u0443\u0447\u0438\u0442\u0435\u043b\u044c_"+C[0]+"_"+C[1]+"_"+this.year+"_1_"+Math.round(100*w)+"_"+C[0],0,0,T*p,T*p,1,1,3,C[0],C[1],C[2],C[3],C[4],pa.CompilerLogo,w,"SQL","\u0441\u0430\u043c\u043e\u0443\u0447\u0438\u0442\u0435\u043b\u044c",1,!0,!0)),f.push(new hc(T,T,p,this.strokeAndFillStyle,S+"\u043b\u043e\u0433\u043eSQLselftraining_"+C[0]+"_"+C[1]+"_"+this.year+"_1_"+Math.round(100*w)+"_"+C[0],0,0,T*p,T*p,1,1,3,C[0],C[1],C[2],C[3],C[4],pa.CompilerLogo,w,"SQL","self training",1,!0,!0)),f.push(new hc(T,T,p,this.strokeAndFillStyle,S+"mathSolver_"+C[0]+"_"+C[1]+"_"+this.year+"_1_"+Math.round(100*w)+"_"+C[0],0,0,T*p,T*p,1,1,3,C[0],C[1],C[2],C[3],C[4],pa.CompilerLogo,w,"\u041c\u0410\u0422\u0410\u041d","\u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440",2/3,!0,!0)),f.push(new hc(T,T,p,this.strokeAndFillStyle,S+"\u0420\u0435\u0448IDE_"+C[0]+"_"+C[1]+"_"+this.year+"_1_"+Math.round(100*w)+"_"+C[0],0,0,T*p,T*p,1,1,3,C[0],C[1],C[2],C[3],C[4],pa.CompilerLogo,w,"\u0420\u0435\u0448IDE","\u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440",2/3,!0,!0))};this.strokeAndFillStyle="white";let _=(C,S,w)=>{p=2;let T=256;for(let D=1;D<=20;++D)f.push(new hc(T,T,p,this.strokeAndFillStyle,S+"_"+D+"_\u043b\u043e\u0433\u043eMemorial_"+C[0]+"_"+C[1]+"_"+this.year+"_1_"+Math.round(100*w)+"_"+C[0],0,0,T*p,T*p,1,1,3,C[0],C[1],C[2],C[3],C[4],pa.Memorial,w,""+D,"",.33,!0,!0))};c.DRAW_SQL&&[["#0d233a","white","#444444","#dff0d0"],["white","#0d233a","#444444","#dff0d0"],["#00364D","white","#444444","#dff0d0"],["white","#00364D","#444444","#dff0d0"]].forEach(C=>{[1,.9,.8,.7,.6,.5].forEach(S=>{v(C,C[0]+"_",S)})}),c.DRAW_MEMORIAL&&[["transparent","white","#444444","#dff0d0"],["transparent","black","#444444","#dff0d0"]].forEach(C=>{[1].forEach(S=>{_(C,C[0]+"_",S)})});let y=(C,S,w)=>{let x=new HTe(this.context.canvas.toDataURL("image/png"),S,C.a4Width,C.a4Height,2*C.a4Width,2*C.a4Height);this.imageLinks.push(x),this.context.canvas.toBlob(function(T){T&&(x.data=T),w&&setTimeout(w,10)})},b=0,O=()=>{if(b>=f.length)return void(this.rendering=!1);let C=f[b++];this.strokeAndFillStyle=C.strokeAndFillStyle,this.renderInSize(C),y(C,C.fileName,O),C.textItalic&&(C.textItalic=!1,this.renderInSize(C),y(C,"\u043d\u043e\u0440\u043c_"+C.fileName,O),C.textItalic=!0),this.donePersantage=Math.round(b/f.length*100)};O()}renderInSize(a){this.renderInSizeCompilerLogo(a)}renderInSizeCompilerLogo(a){let h=this.context;h.canvas.width=a.a4Width*a.a4Scale,h.canvas.height=a.a4Height*a.a4Scale;const d=h.canvas.width,f=h.canvas.height,p=(d-a.w)/2,g=(f-a.h)/2;Math.min(a.w,a.h),h.globalAlpha=1,h.fillStyle=a.bgColor,h.strokeStyle="",h.clearRect(p,g,d,f),this.drawRect(p,g,d,f);let v=a.scale,_=v*d,y=v*f,b=(d-_)/2,O=(f-y)/2;if("string"==typeof a.logoName)this.drawField(a,a.logoName,"",b,O,_,y,!0,!1,!1,hr.Normal,!0,a.logoNameSmall,a.textItalic,a.text2Italic);else{let C=a.logoName.length;for(let S=0;S<C;++S)this.drawField(a,a.logoName[S],"",b,O,_,y,a.textBold[S],!1,!1,hr.Normal,!0,a.logoNameSmall[S],a.textItalic[S],a.text2Italic[S])}}downloadAllImages(){const a=new nm;this.imageLinks.forEach(h=>{a.file(h.name+".png",h.data)}),a.generateAsync({type:"blob"}).then(h=>{const d=new Blob([h],{type:"octet/stream"});this.config.isPlatformAndroid()?this.ks.addTempFile(this.saveFileName,d).then(f=>{ho.startDownload(f.fileName,this.saveFileName)}):ho.saveData(d,this.saveFileName)})}onImageSelect(a){this.imageLinks.forEach(h=>{h!=a&&(h.fullSize=!1)}),a.fullSize=!a.fullSize}static \u0275fac=function(h){return new(h||c)(V(Xh),V(Zt),V(wn))};static \u0275cmp=qe({type:c,selectors:[["app-draw-logos"]],viewQuery:function(h,d){if(1&h&&si(QRt,5),2&h){let f;Ht(f=Wt())&&(d.myCanvasRef=f.first)}},features:[_n],decls:5,vars:3,consts:[[1,"main"],["width","512px","height","512px",1,"myUcs","center",3,"hidden","click"],["myCanvas",""],[4,"ngIf"],[1,"spinner"],["clrSuccess","","clrLabeled","",3,"clrValue"],[1,"btn","btn-link","ucs","center","top-space",3,"click"],["id","load-font"],[3,"src","width","height","click",4,"ngFor","ngForOf"],[1,"btn","btn-success","ucs","center","top-space",3,"click"],[3,"src","width","height","click"]],template:function(h,d){1&h&&(E(0,"div",0)(1,"canvas",1,2),Y("click",function(){return d.render()}),M()(),X(3,HRt,4,1,"div",3),X(4,ZRt,10,1,"div",3)),2&h&&(I(1),R("hidden",!0),I(2),R("ngIf",d.rendering),I(1),R("ngIf",!d.rendering))},dependencies:[Gn,mn,uO],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();function GRt(c,l){if(1&c&&(E(0,"div"),se(1,"app-add-component",2),M()),2&c){const a=l.$implicit;I(1),R("component",a)}}const XRt=[{path:"about",component:nRt},{path:"main",component:Dke},{path:"main-test",component:iRt},{path:"memorials-pages-editor",component:xut},{path:"d3examples",component:sKe},{path:"d3Dexamples",component:tRt},{path:"books",component:z5t},{path:"tests",component:Sut},{path:"memorial",component:eRt},{path:"calculator",component:sRt},{path:"cross",component:URt},{path:"calendar",component:BRt},{path:"chess",component:(()=>{class c extends sf{updateSvc;appBookName="\u0448\u0430\u0445\u043c\u0430\u0442\u044b APP_CHS";appBookChapter="1";helpBookName="\u0441\u043f\u0440\u0430\u0432\u043a\u0430 SL_HLP";helpChapterNormal="1";helpChapterConfidential="2";errorsData=la.builder();chessCommands=[Ft.builder().setName("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438").setShape("cog").setOnClick(()=>this.showSettings()),Ft.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.routeToHelp(this.helpChapterNormal)})];versionsCommands=[Ft.builder().setLink("#").setName("\u0428\u0430\u0445\u043c\u0430\u0442\u044b").setShape("chess-white-king").setOnClick(()=>{this.reset(this.appBookChapter)}),Ft.builder().setName("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438").setShape("cog").setOnClick(()=>this.showSettings())];settingsCommands=[Ft.builder().setLink("#").setName("\u0428\u0430\u0445\u043c\u0430\u0442\u044b").setShape("chess-white-king").setOnClick(()=>{this.reset(this.appBookChapter)}),Ft.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.routeToHelp(this.helpChapterNormal)})];clearTitleMenuSubscription=null;getUIVisited(){return this.uiConfig.ui.visitedChessHelp}getUIBook(){return this.uiConfig.ui.chessBook}getUIChapter(){return this.uiConfig.ui.chessChapter}getUILine(){return this.uiConfig.ui.chessLine}constructor(a,h,d,f){super(a,h,d),this.updateSvc=f,this.addMenuLink(Ft.builder().setLink("#").setName("\u0428\u0430\u0445\u043c\u0430\u0442\u044b").setShape("chess-white-king").setOnClick(()=>{this.reset(this.appBookChapter)}).setIsActive(()=>this.isComponent(this.appBookName,this.appBookChapter))).addMenuLink(Ft.builder().setLink("#").setName("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438").setShape("cog").setOnClick(()=>{this.showSettings()}).setIsActive(()=>this.isSettings())),this.config.isRestServerType()&&this.addMenuLink(Ft.builder().setLink("#").setName("\u0412\u0435\u0440\u0441\u0438\u0438").setShape("download").setOnClick(()=>{this.routeToVersions()}).setIsActive(()=>this.isComponentType(Xi,Sh)).setIsHidden(()=>!this.uiConfig.ui.systemUpdates.getBooleanValue())),this.addMenuLink(Ft.builder().setLink("#").setName("\u0421\u043f\u0440\u0430\u0432\u043a\u0430").setShape("help").setOnClick(()=>{this.routeToHelp(this.helpChapterNormal)}).setIsActive(()=>this.isComponent(this.helpBookName)))}ngOnDestroy(){super.ngOnDestroy(),this.clearTitleMenu()}isSettings(){return!(this.components.length<=0)&&this.components[0].data.component?.data instanceof ca}isComponent(a,h=""){if(this.components.length<=0)return!1;let f=this.components[0].data.component?.data;return f?.text==a&&(!h||f?.link.chapter==h)}ngAfterViewInit(){super.ngAfterViewInit(),this.doLogin(()=>{this.ngAfterViewInitRaw()})}ngAfterViewInitRaw(){if(this.updateSvc.checkUpdate())this.updateSvc.showUpdateMessage(),this.updateSvc.clearUpdateMessage(),this.config.post(()=>{this.routeToVersions()},1500);else if("confidential"===pageRequestedDoc)pageRequestedDoc="",this.routeToHelpDelayed(this.helpChapterConfidential);else if(this.getUIVisited().getStringValue()!==this.config.environment.version)this.routeToHelpDelayed(this.helpChapterNormal);else{let a=this.getUIBook().getStringValue(),h=this.getUIChapter().getStringValue(),d=this.getUILine().getNumberValue();a?this.routeTo(a,h,d):this.resetDelayed(this.appBookChapter)}}routeToVersions(){this.components=[new sn(ss,Xi.builder().setComponent(new sn(Uk,Sh.builder().setOnClick(a=>{this.config.post(()=>{this.applyMenuAppRoutes(!0)}),"\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==a?this.routeToHelp("2"):this.resetDelayed(this.appBookChapter)}))))],this.setTitleMenu(this.versionsCommands)}resetDelayed(a){this.config.post(()=>{this.reset(a)})}reset(a){this.routeTo(this.appBookName,a,1)}routeToHelpDelayed(a){this.config.post(()=>{this.routeToHelp(a)})}routeToHelp(a){this.isComponent(this.helpBookName,a)&&a===this.helpChapterNormal?this.reset(this.helpChapterNormal):this.routeTo(this.helpBookName,a,1)}routeToDelayed(a,h="",d=-1){this.config.post(()=>{this.routeTo(a,h,d)})}routeTo(a,h="",d=-1){let f=a;if(f){if("\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"==f)return void this.routeToHelpDelayed(this.helpChapterConfidential);if("books_help"==f||f==this.helpBookName&&""==h&&d<=0)return void this.routeToHelpDelayed(this.helpChapterNormal);""==h&&(h="1"),d<0&&(d=1),this.getUIBook().setStringValue(f),this.getUIChapter().setStringValue(h),this.getUILine().setNumberValue(d),this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(Dl,Ta.builder().setText(f).setMenu(this.menuLinks).setHideUI(!0).setEpubEnabled(!1).setShowPrintButtons(!0).setParallel(!0).setLinebreaks(!0).setAutoPrint(!0).setLink(xa.builder().setBookName(f).setChapter(h).setStartLine(d).setEndLine(1e3).setOnRoute(p=>{p?this.routeToDelayed(p.trim()):this.resetDelayed(this.appBookChapter)})))))]),this.setTitleMenu(this.chessCommands)}}setComponentsDelayed(a){this.config.post(()=>{this.components=a})}clearErrors(){this.errorsData.setErrors([])}setErrors(a){this.errorsData.setErrors(a).updateClasses(h=>h.setAlertClass("alert-danger"))}showSettings(){this.setComponentsDelayed([new sn(ss,Xi.builder().setComponent(new sn(yf,ca.builder().updateClasses(a=>a.setChessSettings(!0)))))]),this.setTitleMenu(this.settingsCommands)}clearTitleMenu(){this.clearTitleMenuSubscription&&(this.clearTitleMenuSubscription.unsubscribe(),this.clearTitleMenuSubscription=null)}setTitleMenu(a){this.clearTitleMenu(),a&&(this.clearTitleMenuSubscription=this.uiConfig.setTitleMenuCommands(a))}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(fu),V(b0))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-chesss"]],features:[_n],decls:2,vars:1,consts:[[1,"ftext-no","fade-in-3-no"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(h,d){1&h&&(E(0,"div",0),X(1,GRt,2,1,"div",1),M()),2&h&&(I(1),R("ngForOf",d.components))},dependencies:[Gn,ic]})}return c})()},{path:"compiler",component:NRt},{path:"scheduler",component:$Rt},{path:"logos",component:jRt},{path:"index.html",redirectTo:"/about",pathMatch:"full"},{path:"index.night.html",redirectTo:"/about",pathMatch:"full"},{path:"",redirectTo:"/about",pathMatch:"full"}];let YRt=(()=>{class c{static \u0275fac=function(h){return new(h||c)};static \u0275mod=jn({type:c});static \u0275inj=Wn({imports:[Yre.forRoot(XRt),Yre]})}return c})();function Mke(c){return new Ct(3e3,!1)}function C0(c){switch(c.length){case 0:return new nx;case 1:return c[0];default:return new qfe(c)}}function Eke(c,l,a=new Map,h=new Map){const d=[],f=[];let p=-1,g=null;if(l.forEach(m=>{const v=m.get("offset"),_=v==p,y=_&&g||new Map;m.forEach((b,O)=>{let C=O,S=b;if("offset"!==O)switch(C=c.normalizePropertyName(C,d),S){case"!":S=a.get(O);break;case Ip:S=h.get(O);break;default:S=c.normalizeStyleValue(O,C,S,d)}y.set(C,S)}),_||f.push(y),g=y,p=v}),d.length)throw function yLt(c){return new Ct(3502,!1)}();return f}function DX(c,l,a,h){switch(l){case"start":c.onStart(()=>h(a&&MX(a,"start",c)));break;case"done":c.onDone(()=>h(a&&MX(a,"done",c)));break;case"destroy":c.onDestroy(()=>h(a&&MX(a,"destroy",c)))}}function MX(c,l,a){const f=EX(c.element,c.triggerName,c.fromState,c.toState,l||c.phaseName,a.totalTime??c.totalTime,!!a.disabled),p=c._data;return null!=p&&(f._data=p),f}function EX(c,l,a,h,d="",f=0,p){return{element:c,triggerName:l,fromState:a,toState:h,phaseName:d,totalTime:f,disabled:!!p}}function Nu(c,l,a){let h=c.get(l);return h||c.set(l,h=a),h}function Pke(c){const l=c.indexOf(":");return[c.substring(1,l),c.slice(l+1)]}const PLt=(()=>typeof document>"u"?null:document.documentElement)();function PX(c){const l=c.parentNode||c.host||null;return l===PLt?null:l}let s_=null,Ake=!1;function Ike(c,l){for(;l;){if(l===c)return!0;l=PX(l)}return!1}function Rke(c,l,a){if(a)return Array.from(c.querySelectorAll(l));const h=c.querySelector(l);return h?[h]:[]}let Lke=(()=>{class c{validateStyleProperty(a){return function ILt(c){s_||(s_=function RLt(){return typeof document<"u"?document.body:null}()||{},Ake=!!s_.style&&"WebkitAppearance"in s_.style);let l=!0;return s_.style&&!function ALt(c){return"ebkit"==c.substring(1,6)}(c)&&(l=c in s_.style,!l&&Ake&&(l="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in s_.style)),l}(a)}matchesElement(a,h){return!1}containsElement(a,h){return Ike(a,h)}getParentElement(a){return PX(a)}query(a,h,d){return Rke(a,h,d)}computeStyle(a,h,d){return d||""}animate(a,h,d,f,p,g=[],m){return new nx(d,f)}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})(),AX=(()=>{class c{static#e=this.NOOP=new Lke}return c})();const LLt=1e3,IX="ng-enter",OL="ng-leave",CL="ng-trigger",SL=".ng-trigger",Fke="ng-animating",RX=".ng-animating";function _g(c){if("number"==typeof c)return c;const l=c.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:LX(parseFloat(l[1]),l[2])}function LX(c,l){return"s"===l?c*LLt:c}function wL(c,l,a){return c.hasOwnProperty("duration")?c:function FLt(c,l,a){let d,f=0,p="";if("string"==typeof c){const g=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return l.push(Mke()),{duration:0,delay:0,easing:""};d=LX(parseFloat(g[1]),g[2]);const m=g[3];null!=m&&(f=LX(parseFloat(m),g[4]));const v=g[5];v&&(p=v)}else d=c;if(!a){let g=!1,m=l.length;d<0&&(l.push(function qRt(){return new Ct(3100,!1)}()),g=!0),f<0&&(l.push(function KRt(){return new Ct(3101,!1)}()),g=!0),g&&l.splice(m,0,Mke())}return{duration:d,delay:f,easing:p}}(c,l,a)}function Wk(c,l={}){return Object.keys(c).forEach(a=>{l[a]=c[a]}),l}function Bke(c){const l=new Map;return Object.keys(c).forEach(a=>{l.set(a,c[a])}),l}function S0(c,l=new Map,a){if(a)for(let[h,d]of a)l.set(h,d);for(let[h,d]of c)l.set(h,d);return l}function Gf(c,l,a){l.forEach((h,d)=>{const f=FX(d);a&&!a.has(d)&&a.set(d,c.style[f]),c.style[f]=h})}function o_(c,l){l.forEach((a,h)=>{const d=FX(h);c.style[d]=""})}function Zk(c){return Array.isArray(c)?1==c.length?c[0]:Yfe(c):c}const NX=new RegExp("{{\\s*(.+?)\\s*}}","g");function $ke(c){let l=[];if("string"==typeof c){let a;for(;a=NX.exec(c);)l.push(a[1]);NX.lastIndex=0}return l}function jk(c,l,a){const h=c.toString(),d=h.replace(NX,(f,p)=>{let g=l[p];return null==g&&(a.push(function eLt(c){return new Ct(3003,!1)}()),g=""),g.toString()});return d==h?c:d}function xL(c){const l=[];let a=c.next();for(;!a.done;)l.push(a.value),a=c.next();return l}const $Lt=/-+([a-z0-9])/g;function FX(c){return c.replace($Lt,(...l)=>l[1].toUpperCase())}function Fu(c,l,a){switch(l.type){case 7:return c.visitTrigger(l,a);case 0:return c.visitState(l,a);case 1:return c.visitTransition(l,a);case 2:return c.visitSequence(l,a);case 3:return c.visitGroup(l,a);case 4:return c.visitAnimate(l,a);case 5:return c.visitKeyframes(l,a);case 6:return c.visitStyle(l,a);case 8:return c.visitReference(l,a);case 9:return c.visitAnimateChild(l,a);case 10:return c.visitAnimateRef(l,a);case 11:return c.visitQuery(l,a);case 12:return c.visitStagger(l,a);default:throw function tLt(c){return new Ct(3004,!1)}()}}function zke(c,l){return window.getComputedStyle(c)[l]}const TL="*";function QLt(c,l){const a=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(h=>function HLt(c,l,a){if(":"==c[0]){const m=function WLt(c,l){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,h)=>parseFloat(h)>parseFloat(a);case":decrement":return(a,h)=>parseFloat(h)<parseFloat(a);default:return l.push(function gLt(c){return new Ct(3016,!1)}()),"* => *"}}(c,a);if("function"==typeof m)return void l.push(m);c=m}const h=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return a.push(function pLt(c){return new Ct(3015,!1)}()),l;const d=h[1],f=h[2],p=h[3];l.push(Uke(d,p));"<"==f[0]&&!(d==TL&&p==TL)&&l.push(Uke(p,d))}(h,a,l)):a.push(c),a}const kL=new Set(["true","1"]),DL=new Set(["false","0"]);function Uke(c,l){const a=kL.has(c)||DL.has(c),h=kL.has(l)||DL.has(l);return(d,f)=>{let p=c==TL||c==d,g=l==TL||l==f;return!p&&a&&"boolean"==typeof d&&(p=d?kL.has(c):DL.has(c)),!g&&h&&"boolean"==typeof f&&(g=f?kL.has(l):DL.has(l)),p&&g}}const ZLt=new RegExp("s*:selfs*,?","g");function BX(c,l,a,h){return new jLt(c).build(l,a,h)}class jLt{constructor(l){this._driver=l}build(l,a,h){const d=new YLt(a);return this._resetContextStyleTimingState(d),Fu(this,Zk(l),d)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,a){let h=a.queryCount=0,d=a.depCount=0;const f=[],p=[];return"@"==l.name.charAt(0)&&a.errors.push(function iLt(){return new Ct(3006,!1)}()),l.definitions.forEach(g=>{if(this._resetContextStyleTimingState(a),0==g.type){const m=g,v=m.name;v.toString().split(/\s*,\s*/).forEach(_=>{m.name=_,f.push(this.visitState(m,a))}),m.name=v}else if(1==g.type){const m=this.visitTransition(g,a);h+=m.queryCount,d+=m.depCount,p.push(m)}else a.errors.push(function rLt(){return new Ct(3007,!1)}())}),{type:7,name:l.name,states:f,transitions:p,queryCount:h,depCount:d,options:null}}visitState(l,a){const h=this.visitStyle(l.styles,a),d=l.options&&l.options.params||null;if(h.containsDynamicStyles){const f=new Set,p=d||{};h.styles.forEach(g=>{g instanceof Map&&g.forEach(m=>{$ke(m).forEach(v=>{p.hasOwnProperty(v)||f.add(v)})})}),f.size&&(xL(f.values()),a.errors.push(function sLt(c,l){return new Ct(3008,!1)}()))}return{type:0,name:l.name,style:h,options:d?{params:d}:null}}visitTransition(l,a){a.queryCount=0,a.depCount=0;const h=Fu(this,Zk(l.animation),a);return{type:1,matchers:QLt(l.expr,a.errors),animation:h,queryCount:a.queryCount,depCount:a.depCount,options:a_(l.options)}}visitSequence(l,a){return{type:2,steps:l.steps.map(h=>Fu(this,h,a)),options:a_(l.options)}}visitGroup(l,a){const h=a.currentTime;let d=0;const f=l.steps.map(p=>{a.currentTime=h;const g=Fu(this,p,a);return d=Math.max(d,a.currentTime),g});return a.currentTime=d,{type:3,steps:f,options:a_(l.options)}}visitAnimate(l,a){const h=function KLt(c,l){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return VX(wL(c,l).duration,0,"");const a=c;if(a.split(/\s+/).some(f=>"{"==f.charAt(0)&&"{"==f.charAt(1))){const f=VX(0,0,"");return f.dynamic=!0,f.strValue=a,f}const d=wL(a,l);return VX(d.duration,d.delay,d.easing)}(l.timings,a.errors);a.currentAnimateTimings=h;let d,f=l.styles?l.styles:_r({});if(5==f.type)d=this.visitKeyframes(f,a);else{let p=l.styles,g=!1;if(!p){g=!0;const v={};h.easing&&(v.easing=h.easing),p=_r(v)}a.currentTime+=h.duration+h.delay;const m=this.visitStyle(p,a);m.isEmptyStep=g,d=m}return a.currentAnimateTimings=null,{type:4,timings:h,style:d,options:null}}visitStyle(l,a){const h=this._makeStyleAst(l,a);return this._validateStyleAst(h,a),h}_makeStyleAst(l,a){const h=[],d=Array.isArray(l.styles)?l.styles:[l.styles];for(let g of d)"string"==typeof g?g===Ip?h.push(g):a.errors.push(new Ct(3002,!1)):h.push(Bke(g));let f=!1,p=null;return h.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(p=g.get("easing"),g.delete("easing")),!f))for(let m of g.values())if(m.toString().indexOf("{{")>=0){f=!0;break}}),{type:6,styles:h,easing:p,offset:l.offset,containsDynamicStyles:f,options:null}}_validateStyleAst(l,a){const h=a.currentAnimateTimings;let d=a.currentTime,f=a.currentTime;h&&f>0&&(f-=h.duration+h.delay),l.styles.forEach(p=>{"string"!=typeof p&&p.forEach((g,m)=>{const v=a.collectedStyles.get(a.currentQuerySelector),_=v.get(m);let y=!0;_&&(f!=d&&f>=_.startTime&&d<=_.endTime&&(a.errors.push(function aLt(c,l,a,h,d){return new Ct(3010,!1)}()),y=!1),f=_.startTime),y&&v.set(m,{startTime:f,endTime:d}),a.options&&function VLt(c,l,a){const h=l.params||{},d=$ke(c);d.length&&d.forEach(f=>{h.hasOwnProperty(f)||a.push(function JRt(c){return new Ct(3001,!1)}())})}(g,a.options,a.errors)})})}visitKeyframes(l,a){const h={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function lLt(){return new Ct(3011,!1)}()),h;let f=0;const p=[];let g=!1,m=!1,v=0;const _=l.steps.map(x=>{const T=this._makeStyleAst(x,a);let D=null!=T.offset?T.offset:function qLt(c){if("string"==typeof c)return null;let l=null;if(Array.isArray(c))c.forEach(a=>{if(a instanceof Map&&a.has("offset")){const h=a;l=parseFloat(h.get("offset")),h.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const a=c;l=parseFloat(a.get("offset")),a.delete("offset")}return l}(T.styles),k=0;return null!=D&&(f++,k=T.offset=D),m=m||k<0||k>1,g=g||k<v,v=k,p.push(k),T});m&&a.errors.push(function cLt(){return new Ct(3012,!1)}()),g&&a.errors.push(function uLt(){return new Ct(3200,!1)}());const y=l.steps.length;let b=0;f>0&&f<y?a.errors.push(function hLt(){return new Ct(3202,!1)}()):0==f&&(b=1/(y-1));const O=y-1,C=a.currentTime,S=a.currentAnimateTimings,w=S.duration;return _.forEach((x,T)=>{const D=b>0?T==O?1:b*T:p[T],k=D*w;a.currentTime=C+S.delay+k,S.duration=k,this._validateStyleAst(x,a),x.offset=D,h.styles.push(x)}),h}visitReference(l,a){return{type:8,animation:Fu(this,Zk(l.animation),a),options:a_(l.options)}}visitAnimateChild(l,a){return a.depCount++,{type:9,options:a_(l.options)}}visitAnimateRef(l,a){return{type:10,animation:this.visitReference(l.animation,a),options:a_(l.options)}}visitQuery(l,a){const h=a.currentQuerySelector,d=l.options||{};a.queryCount++,a.currentQuery=l;const[f,p]=function GLt(c){const l=!!c.split(/\s*,\s*/).find(a=>":self"==a);return l&&(c=c.replace(ZLt,"")),c=c.replace(/@\*/g,SL).replace(/@\w+/g,a=>SL+"-"+a.slice(1)).replace(/:animating/g,RX),[c,l]}(l.selector);a.currentQuerySelector=h.length?h+" "+f:f,Nu(a.collectedStyles,a.currentQuerySelector,new Map);const g=Fu(this,Zk(l.animation),a);return a.currentQuery=null,a.currentQuerySelector=h,{type:11,selector:f,limit:d.limit||0,optional:!!d.optional,includeSelf:p,animation:g,originalSelector:l.selector,options:a_(l.options)}}visitStagger(l,a){a.currentQuery||a.errors.push(function dLt(){return new Ct(3013,!1)}());const h="full"===l.timings?{duration:0,delay:0,easing:"full"}:wL(l.timings,a.errors,!0);return{type:12,animation:Fu(this,Zk(l.animation),a),timings:h,options:null}}}class YLt{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function a_(c){return c?(c=Wk(c)).params&&(c.params=function XLt(c){return c?Wk(c):null}(c.params)):c={},c}function VX(c,l,a){return{duration:c,delay:l,easing:a}}function $X(c,l,a,h,d,f,p=null,g=!1){return{type:1,element:c,keyframes:l,preStyleProps:a,postStyleProps:h,duration:d,delay:f,totalTime:d+f,easing:p,subTimeline:g}}class ML{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,a){let h=this._map.get(l);h||this._map.set(l,h=[]),h.push(...a)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const tNt=new RegExp(":enter","g"),iNt=new RegExp(":leave","g");function zX(c,l,a,h,d,f=new Map,p=new Map,g,m,v=[]){return(new rNt).buildKeyframes(c,l,a,h,d,f,p,g,m,v)}class rNt{buildKeyframes(l,a,h,d,f,p,g,m,v,_=[]){v=v||new ML;const y=new UX(l,a,v,d,f,_,[]);y.options=m;const b=m.delay?_g(m.delay):0;y.currentTimeline.delayNextStep(b),y.currentTimeline.setStyles([p],null,y.errors,m),Fu(this,h,y);const O=y.timelines.filter(C=>C.containsAnimation());if(O.length&&g.size){let C;for(let S=O.length-1;S>=0;S--){const w=O[S];if(w.element===a){C=w;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([g],null,y.errors,m)}return O.length?O.map(C=>C.buildKeyframes()):[$X(a,[],[],[],0,b,"",!1)]}visitTrigger(l,a){}visitState(l,a){}visitTransition(l,a){}visitAnimateChild(l,a){const h=a.subInstructions.get(a.element);if(h){const d=a.createSubContext(l.options),f=a.currentTimeline.currentTime,p=this._visitSubInstructions(h,d,d.options);f!=p&&a.transformIntoNewTimeline(p)}a.previousNode=l}visitAnimateRef(l,a){const h=a.createSubContext(l.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],a,h),this.visitReference(l.animation,h),a.transformIntoNewTimeline(h.currentTimeline.currentTime),a.previousNode=l}_applyAnimationRefDelays(l,a,h){for(const d of l){const f=d?.delay;if(f){const p="number"==typeof f?f:_g(jk(f,d?.params??{},a.errors));h.delayNextStep(p)}}}_visitSubInstructions(l,a,h){let f=a.currentTimeline.currentTime;const p=null!=h.duration?_g(h.duration):null,g=null!=h.delay?_g(h.delay):null;return 0!==p&&l.forEach(m=>{const v=a.appendInstructionToTimeline(m,p,g);f=Math.max(f,v.duration+v.delay)}),f}visitReference(l,a){a.updateOptions(l.options,!0),Fu(this,l.animation,a),a.previousNode=l}visitSequence(l,a){const h=a.subContextCount;let d=a;const f=l.options;if(f&&(f.params||f.delay)&&(d=a.createSubContext(f),d.transformIntoNewTimeline(),null!=f.delay)){6==d.previousNode.type&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=EL);const p=_g(f.delay);d.delayNextStep(p)}l.steps.length&&(l.steps.forEach(p=>Fu(this,p,d)),d.currentTimeline.applyStylesToKeyframe(),d.subContextCount>h&&d.transformIntoNewTimeline()),a.previousNode=l}visitGroup(l,a){const h=[];let d=a.currentTimeline.currentTime;const f=l.options&&l.options.delay?_g(l.options.delay):0;l.steps.forEach(p=>{const g=a.createSubContext(l.options);f&&g.delayNextStep(f),Fu(this,p,g),d=Math.max(d,g.currentTimeline.currentTime),h.push(g.currentTimeline)}),h.forEach(p=>a.currentTimeline.mergeTimelineCollectedStyles(p)),a.transformIntoNewTimeline(d),a.previousNode=l}_visitTiming(l,a){if(l.dynamic){const h=l.strValue;return wL(a.params?jk(h,a.params,a.errors):h,a.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,a){const h=a.currentAnimateTimings=this._visitTiming(l.timings,a),d=a.currentTimeline;h.delay&&(a.incrementTime(h.delay),d.snapshotCurrentStyles());const f=l.style;5==f.type?this.visitKeyframes(f,a):(a.incrementTime(h.duration),this.visitStyle(f,a),d.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=l}visitStyle(l,a){const h=a.currentTimeline,d=a.currentAnimateTimings;!d&&h.hasCurrentStyleProperties()&&h.forwardFrame();const f=d&&d.easing||l.easing;l.isEmptyStep?h.applyEmptyStep(f):h.setStyles(l.styles,f,a.errors,a.options),a.previousNode=l}visitKeyframes(l,a){const h=a.currentAnimateTimings,d=a.currentTimeline.duration,f=h.duration,g=a.createSubContext().currentTimeline;g.easing=h.easing,l.styles.forEach(m=>{g.forwardTime((m.offset||0)*f),g.setStyles(m.styles,m.easing,a.errors,a.options),g.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(g),a.transformIntoNewTimeline(d+f),a.previousNode=l}visitQuery(l,a){const h=a.currentTimeline.currentTime,d=l.options||{},f=d.delay?_g(d.delay):0;f&&(6===a.previousNode.type||0==h&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=EL);let p=h;const g=a.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!d.optional,a.errors);a.currentQueryTotal=g.length;let m=null;g.forEach((v,_)=>{a.currentQueryIndex=_;const y=a.createSubContext(l.options,v);f&&y.delayNextStep(f),v===a.element&&(m=y.currentTimeline),Fu(this,l.animation,y),y.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,y.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(p),m&&(a.currentTimeline.mergeTimelineCollectedStyles(m),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=l}visitStagger(l,a){const h=a.parentContext,d=a.currentTimeline,f=l.timings,p=Math.abs(f.duration),g=p*(a.currentQueryTotal-1);let m=p*a.currentQueryIndex;switch(f.duration<0?"reverse":f.easing){case"reverse":m=g-m;break;case"full":m=h.currentStaggerTime}const _=a.currentTimeline;m&&_.delayNextStep(m);const y=_.currentTime;Fu(this,l.animation,a),a.previousNode=l,h.currentStaggerTime=d.currentTime-y+(d.startTime-h.currentTimeline.startTime)}}const EL={};class UX{constructor(l,a,h,d,f,p,g,m){this._driver=l,this.element=a,this.subInstructions=h,this._enterClassName=d,this._leaveClassName=f,this.errors=p,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=EL,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new PL(this._driver,a,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,a){if(!l)return;const h=l;let d=this.options;null!=h.duration&&(d.duration=_g(h.duration)),null!=h.delay&&(d.delay=_g(h.delay));const f=h.params;if(f){let p=d.params;p||(p=this.options.params={}),Object.keys(f).forEach(g=>{(!a||!p.hasOwnProperty(g))&&(p[g]=jk(f[g],p,this.errors))})}}_copyOptions(){const l={};if(this.options){const a=this.options.params;if(a){const h=l.params={};Object.keys(a).forEach(d=>{h[d]=a[d]})}}return l}createSubContext(l=null,a,h){const d=a||this.element,f=new UX(this._driver,d,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(d,h||0));return f.previousNode=this.previousNode,f.currentAnimateTimings=this.currentAnimateTimings,f.options=this._copyOptions(),f.updateOptions(l),f.currentQueryIndex=this.currentQueryIndex,f.currentQueryTotal=this.currentQueryTotal,f.parentContext=this,this.subContextCount++,f}transformIntoNewTimeline(l){return this.previousNode=EL,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,a,h){const d={duration:a??l.duration,delay:this.currentTimeline.currentTime+(h??0)+l.delay,easing:""},f=new sNt(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,d,l.stretchStartingKeyframe);return this.timelines.push(f),d}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,a,h,d,f,p){let g=[];if(d&&g.push(this.element),l.length>0){l=(l=l.replace(tNt,"."+this._enterClassName)).replace(iNt,"."+this._leaveClassName);let v=this._driver.query(this.element,l,1!=h);0!==h&&(v=h<0?v.slice(v.length+h,v.length):v.slice(0,h)),g.push(...v)}return!f&&0==g.length&&p.push(function fLt(c){return new Ct(3014,!1)}()),g}}class PL{constructor(l,a,h,d){this._driver=l,this.element=a,this.startTime=h,this._elementTimelineStylesLookup=d,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+l),a&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,a){return this.applyStylesToKeyframe(),new PL(this._driver,l,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,a){this._localTimelineStyles.set(l,a),this._globalTimelineStyles.set(l,a),this._styleSummary.set(l,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[a,h]of this._globalTimelineStyles)this._backFill.set(a,h||Ip),this._currentKeyframe.set(a,Ip);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,a,h,d){a&&this._previousKeyframe.set("easing",a);const f=d&&d.params||{},p=function oNt(c,l){const a=new Map;let h;return c.forEach(d=>{if("*"===d){h=h||l.keys();for(let f of h)a.set(f,Ip)}else S0(d,a)}),a}(l,this._globalTimelineStyles);for(let[g,m]of p){const v=jk(m,f,h);this._pendingStyles.set(g,v),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??Ip),this._updateStyle(g,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,a)=>{this._currentKeyframe.set(a,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,l)}))}snapshotCurrentStyles(){for(let[l,a]of this._localTimelineStyles)this._pendingStyles.set(l,a),this._updateStyle(l,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let a in this._currentKeyframe)l.push(a);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((a,h)=>{const d=this._styleSummary.get(h);(!d||a.time>d.time)&&this._updateStyle(h,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,a=new Set,h=1===this._keyframes.size&&0===this.duration;let d=[];this._keyframes.forEach((g,m)=>{const v=S0(g,new Map,this._backFill);v.forEach((_,y)=>{"!"===_?l.add(y):_===Ip&&a.add(y)}),h||v.set("offset",m/this.duration),d.push(v)});const f=l.size?xL(l.values()):[],p=a.size?xL(a.values()):[];if(h){const g=d[0],m=new Map(g);g.set("offset",0),m.set("offset",1),d=[g,m]}return $X(this.element,d,f,p,this.duration,this.startTime,this.easing,!1)}}class sNt extends PL{constructor(l,a,h,d,f,p,g=!1){super(l,a,p.delay),this.keyframes=h,this.preStyleProps=d,this.postStyleProps=f,this._stretchStartingKeyframe=g,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:a,duration:h,easing:d}=this.timings;if(this._stretchStartingKeyframe&&a){const f=[],p=h+a,g=a/p,m=S0(l[0]);m.set("offset",0),f.push(m);const v=S0(l[0]);v.set("offset",Wke(g)),f.push(v);const _=l.length-1;for(let y=1;y<=_;y++){let b=S0(l[y]);const O=b.get("offset");b.set("offset",Wke((a+O*h)/p)),f.push(b)}h=p,a=0,d="",l=f}return $X(this.element,l,this.preStyleProps,this.postStyleProps,h,a,d,!0)}}function Wke(c,l=3){const a=Math.pow(10,l-1);return Math.round(c*a)/a}class QX{}const aNt=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class lNt extends QX{normalizePropertyName(l,a){return FX(l)}normalizeStyleValue(l,a,h,d){let f="";const p=h.toString().trim();if(aNt.has(a)&&0!==h&&"0"!==h)if("number"==typeof h)f="px";else{const g=h.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&d.push(function nLt(c,l){return new Ct(3005,!1)}())}return p+f}}function Zke(c,l,a,h,d,f,p,g,m,v,_,y,b){return{type:0,element:c,triggerName:l,isRemovalTransition:d,fromState:a,fromStyles:f,toState:h,toStyles:p,timelines:g,queriedElements:m,preStyleProps:v,postStyleProps:_,totalTime:y,errors:b}}const HX={};class jke{constructor(l,a,h){this._triggerName=l,this.ast=a,this._stateStyles=h}match(l,a,h,d){return function cNt(c,l,a,h,d){return c.some(f=>f(l,a,h,d))}(this.ast.matchers,l,a,h,d)}buildStyles(l,a,h){let d=this._stateStyles.get("*");return void 0!==l&&(d=this._stateStyles.get(l?.toString())||d),d?d.buildStyles(a,h):new Map}build(l,a,h,d,f,p,g,m,v,_){const y=[],b=this.ast.options&&this.ast.options.params||HX,C=this.buildStyles(h,g&&g.params||HX,y),S=m&&m.params||HX,w=this.buildStyles(d,S,y),x=new Set,T=new Map,D=new Map,k="void"===d,P={params:uNt(S,b),delay:this.ast.options?.delay},N=_?[]:zX(l,a,this.ast.animation,f,p,C,w,P,v,y);let F=0;if(N.forEach($=>{F=Math.max($.duration+$.delay,F)}),y.length)return Zke(a,this._triggerName,h,d,k,C,w,[],[],T,D,F,y);N.forEach($=>{const U=$.element,z=Nu(T,U,new Set);$.preStyleProps.forEach(te=>z.add(te));const ee=Nu(D,U,new Set);$.postStyleProps.forEach(te=>ee.add(te)),U!==a&&x.add(U)});const L=xL(x.values());return Zke(a,this._triggerName,h,d,k,C,w,N,L,T,D,F)}}function uNt(c,l){const a=Wk(l);for(const h in c)c.hasOwnProperty(h)&&null!=c[h]&&(a[h]=c[h]);return a}class hNt{constructor(l,a,h){this.styles=l,this.defaultParams=a,this.normalizer=h}buildStyles(l,a){const h=new Map,d=Wk(this.defaultParams);return Object.keys(l).forEach(f=>{const p=l[f];null!==p&&(d[f]=p)}),this.styles.styles.forEach(f=>{"string"!=typeof f&&f.forEach((p,g)=>{p&&(p=jk(p,d,a));const m=this.normalizer.normalizePropertyName(g,a);p=this.normalizer.normalizeStyleValue(g,m,p,a),h.set(g,p)})}),h}}class fNt{constructor(l,a,h){this.name=l,this.ast=a,this._normalizer=h,this.transitionFactories=[],this.states=new Map,a.states.forEach(d=>{this.states.set(d.name,new hNt(d.style,d.options&&d.options.params||{},h))}),Gke(this.states,"true","1"),Gke(this.states,"false","0"),a.transitions.forEach(d=>{this.transitionFactories.push(new jke(l,d,this.states))}),this.fallbackTransition=function pNt(c,l,a){return new jke(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,g)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,a,h,d){return this.transitionFactories.find(p=>p.match(l,a,h,d))||null}matchStyles(l,a,h){return this.fallbackTransition.buildStyles(l,a,h)}}function Gke(c,l,a){c.has(l)?c.has(a)||c.set(a,c.get(l)):c.has(a)&&c.set(l,c.get(a))}const gNt=new ML;class mNt{constructor(l,a,h){this.bodyNode=l,this._driver=a,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,a){const h=[],f=BX(this._driver,a,h,[]);if(h.length)throw function bLt(c){return new Ct(3503,!1)}();this._animations.set(l,f)}_buildPlayer(l,a,h){const d=l.element,f=Eke(this._normalizer,l.keyframes,a,h);return this._driver.animate(d,f,l.duration,l.delay,l.easing,[],!0)}create(l,a,h={}){const d=[],f=this._animations.get(l);let p;const g=new Map;if(f?(p=zX(this._driver,a,f,IX,OL,new Map,new Map,h,gNt,d),p.forEach(_=>{const y=Nu(g,_.element,new Map);_.postStyleProps.forEach(b=>y.set(b,null))})):(d.push(function OLt(){return new Ct(3300,!1)}()),p=[]),d.length)throw function CLt(c){return new Ct(3504,!1)}();g.forEach((_,y)=>{_.forEach((b,O)=>{_.set(O,this._driver.computeStyle(y,O,Ip))})});const v=C0(p.map(_=>{const y=g.get(_.element);return this._buildPlayer(_,new Map,y)}));return this._playersById.set(l,v),v.onDestroy(()=>this.destroy(l)),this.players.push(v),v}destroy(l){const a=this._getPlayer(l);a.destroy(),this._playersById.delete(l);const h=this.players.indexOf(a);h>=0&&this.players.splice(h,1)}_getPlayer(l){const a=this._playersById.get(l);if(!a)throw function SLt(c){return new Ct(3301,!1)}();return a}listen(l,a,h,d){const f=EX(a,"","","");return DX(this._getPlayer(l),h,f,d),()=>{}}command(l,a,h,d){if("register"==h)return void this.register(l,d[0]);if("create"==h)return void this.create(l,a,d[0]||{});const f=this._getPlayer(l);switch(h){case"play":f.play();break;case"pause":f.pause();break;case"reset":f.reset();break;case"restart":f.restart();break;case"finish":f.finish();break;case"init":f.init();break;case"setPosition":f.setPosition(parseFloat(d[0]));break;case"destroy":this.destroy(l)}}}const Xke="ng-animate-queued",WX="ng-animate-disabled",ONt=[],Yke={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},CNt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xd="__ng_removed";class ZX{get params(){return this.options.params}constructor(l,a=""){this.namespaceId=a;const h=l&&l.hasOwnProperty("value");if(this.value=function TNt(c){return c??null}(h?l.value:l),h){const f=Wk(l);delete f.value,this.options=f}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const a=l.params;if(a){const h=this.options.params;Object.keys(a).forEach(d=>{null==h[d]&&(h[d]=a[d])})}}}const Gk="void",jX=new ZX(Gk);class SNt{constructor(l,a,h){this.id=l,this.hostElement=a,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,wh(a,this._hostClassName)}listen(l,a,h,d){if(!this._triggers.has(a))throw function wLt(c,l){return new Ct(3302,!1)}();if(null==h||0==h.length)throw function xLt(c){return new Ct(3303,!1)}();if(!function kNt(c){return"start"==c||"done"==c}(h))throw function TLt(c,l){return new Ct(3400,!1)}();const f=Nu(this._elementListeners,l,[]),p={name:a,phase:h,callback:d};f.push(p);const g=Nu(this._engine.statesByElement,l,new Map);return g.has(a)||(wh(l,CL),wh(l,CL+"-"+a),g.set(a,jX)),()=>{this._engine.afterFlush(()=>{const m=f.indexOf(p);m>=0&&f.splice(m,1),this._triggers.has(a)||g.delete(a)})}}register(l,a){return!this._triggers.has(l)&&(this._triggers.set(l,a),!0)}_getTrigger(l){const a=this._triggers.get(l);if(!a)throw function kLt(c){return new Ct(3401,!1)}();return a}trigger(l,a,h,d=!0){const f=this._getTrigger(a),p=new GX(this.id,a,l);let g=this._engine.statesByElement.get(l);g||(wh(l,CL),wh(l,CL+"-"+a),this._engine.statesByElement.set(l,g=new Map));let m=g.get(a);const v=new ZX(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),g.set(a,v),m||(m=jX),v.value!==Gk&&m.value===v.value){if(!function ENt(c,l){const a=Object.keys(c),h=Object.keys(l);if(a.length!=h.length)return!1;for(let d=0;d<a.length;d++){const f=a[d];if(!l.hasOwnProperty(f)||c[f]!==l[f])return!1}return!0}(m.params,v.params)){const S=[],w=f.matchStyles(m.value,m.params,S),x=f.matchStyles(v.value,v.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{o_(l,w),Gf(l,x)})}return}const b=Nu(this._engine.playersByElement,l,[]);b.forEach(S=>{S.namespaceId==this.id&&S.triggerName==a&&S.queued&&S.destroy()});let O=f.matchTransition(m.value,v.value,l,v.params),C=!1;if(!O){if(!d)return;O=f.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:a,transition:O,fromState:m,toState:v,player:p,isFallbackTransition:C}),C||(wh(l,Xke),p.onStart(()=>{tS(l,Xke)})),p.onDone(()=>{let S=this.players.indexOf(p);S>=0&&this.players.splice(S,1);const w=this._engine.playersByElement.get(l);if(w){let x=w.indexOf(p);x>=0&&w.splice(x,1)}}),this.players.push(p),b.push(p),p}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(a=>a.delete(l)),this._elementListeners.forEach((a,h)=>{this._elementListeners.set(h,a.filter(d=>d.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const a=this._engine.playersByElement.get(l);a&&(a.forEach(h=>h.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,a){const h=this._engine.driver.query(l,SL,!0);h.forEach(d=>{if(d[xd])return;const f=this._engine.fetchNamespacesByElement(d);f.size?f.forEach(p=>p.triggerLeaveAnimation(d,a,!1,!0)):this.clearElementCache(d)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(d=>this.clearElementCache(d)))}triggerLeaveAnimation(l,a,h,d){const f=this._engine.statesByElement.get(l),p=new Map;if(f){const g=[];if(f.forEach((m,v)=>{if(p.set(v,m.value),this._triggers.has(v)){const _=this.trigger(l,v,Gk,d);_&&g.push(_)}}),g.length)return this._engine.markElementAsRemoved(this.id,l,!0,a,p),h&&C0(g).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const a=this._elementListeners.get(l),h=this._engine.statesByElement.get(l);if(a&&h){const d=new Set;a.forEach(f=>{const p=f.name;if(d.has(p))return;d.add(p);const m=this._triggers.get(p).fallbackTransition,v=h.get(p)||jX,_=new ZX(Gk),y=new GX(this.id,p,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:p,transition:m,fromState:v,toState:_,player:y,isFallbackTransition:!0})})}}removeNode(l,a){const h=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,a),this.triggerLeaveAnimation(l,a,!0))return;let d=!1;if(h.totalAnimations){const f=h.players.length?h.playersByQueriedElement.get(l):[];if(f&&f.length)d=!0;else{let p=l;for(;p=p.parentNode;)if(h.statesByElement.get(p)){d=!0;break}}}if(this.prepareLeaveAnimationListeners(l),d)h.markElementAsRemoved(this.id,l,!1,a);else{const f=l[xd];(!f||f===Yke)&&(h.afterFlush(()=>this.clearElementCache(l)),h.destroyInnerAnimations(l),h._onRemovalComplete(l,a))}}insertNode(l,a){wh(l,this._hostClassName)}drainQueuedTransitions(l){const a=[];return this._queue.forEach(h=>{const d=h.player;if(d.destroyed)return;const f=h.element,p=this._elementListeners.get(f);p&&p.forEach(g=>{if(g.name==h.triggerName){const m=EX(f,h.triggerName,h.fromState.value,h.toState.value);m._data=l,DX(h.player,g.phase,m,g.callback)}}),d.markedForDestroy?this._engine.afterFlush(()=>{d.destroy()}):a.push(h)}),this._queue=[],a.sort((h,d)=>{const f=h.transition.ast.depCount,p=d.transition.ast.depCount;return 0==f||0==p?f-p:this._engine.driver.containsElement(h.element,d.element)?1:-1})}destroy(l){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}}class wNt{_onRemovalComplete(l,a){this.onRemovalComplete(l,a)}constructor(l,a,h){this.bodyNode=l,this.driver=a,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(d,f)=>{}}get queuedPlayers(){const l=[];return this._namespaceList.forEach(a=>{a.players.forEach(h=>{h.queued&&l.push(h)})}),l}createNamespace(l,a){const h=new SNt(l,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(h,a):(this.newHostElements.set(a,h),this.collectEnterElement(a)),this._namespaceLookup[l]=h}_balanceNamespaceList(l,a){const h=this._namespaceList,d=this.namespacesByHostElement;if(h.length-1>=0){let p=!1,g=this.driver.getParentElement(a);for(;g;){const m=d.get(g);if(m){const v=h.indexOf(m);h.splice(v+1,0,l),p=!0;break}g=this.driver.getParentElement(g)}p||h.unshift(l)}else h.push(l);return d.set(a,l),l}register(l,a){let h=this._namespaceLookup[l];return h||(h=this.createNamespace(l,a)),h}registerTrigger(l,a,h){let d=this._namespaceLookup[l];d&&d.register(a,h)&&this.totalAnimations++}destroy(l,a){l&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const h=this._fetchNamespace(l);this.namespacesByHostElement.delete(h.hostElement);const d=this._namespaceList.indexOf(h);d>=0&&this._namespaceList.splice(d,1),h.destroy(a),delete this._namespaceLookup[l]}))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const a=new Set,h=this.statesByElement.get(l);if(h)for(let d of h.values())if(d.namespaceId){const f=this._fetchNamespace(d.namespaceId);f&&a.add(f)}return a}trigger(l,a,h,d){if(AL(a)){const f=this._fetchNamespace(l);if(f)return f.trigger(a,h,d),!0}return!1}insertNode(l,a,h,d){if(!AL(a))return;const f=a[xd];if(f&&f.setForRemoval){f.setForRemoval=!1,f.setForMove=!0;const p=this.collectedLeaveElements.indexOf(a);p>=0&&this.collectedLeaveElements.splice(p,1)}if(l){const p=this._fetchNamespace(l);p&&p.insertNode(a,h)}d&&this.collectEnterElement(a)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,a){a?this.disabledNodes.has(l)||(this.disabledNodes.add(l),wh(l,WX)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),tS(l,WX))}removeNode(l,a,h){if(AL(a)){const d=l?this._fetchNamespace(l):null;d?d.removeNode(a,h):this.markElementAsRemoved(l,a,!1,h);const f=this.namespacesByHostElement.get(a);f&&f.id!==l&&f.removeNode(a,h)}else this._onRemovalComplete(a,h)}markElementAsRemoved(l,a,h,d,f){this.collectedLeaveElements.push(a),a[xd]={namespaceId:l,setForRemoval:d,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:f}}listen(l,a,h,d,f){return AL(a)?this._fetchNamespace(l).listen(a,h,d,f):()=>{}}_buildInstruction(l,a,h,d,f){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,h,d,l.fromState.options,l.toState.options,a,f)}destroyInnerAnimations(l){let a=this.driver.query(l,SL,!0);a.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(l,RX,!0),a.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(l){const a=this.playersByElement.get(l);a&&a.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(l){const a=this.playersByQueriedElement.get(l);a&&a.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return C0(this.players).onDone(()=>l());l()})}processLeaveNode(l){const a=l[xd];if(a&&a.setForRemoval){if(l[xd]=Yke,a.namespaceId){this.destroyInnerAnimations(l);const h=this._fetchNamespace(a.namespaceId);h&&h.clearElementCache(l)}this._onRemovalComplete(l,a.setForRemoval)}l.classList?.contains(WX)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(l=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,d)=>this._balanceNamespaceList(h,d)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)wh(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{a=this._flushAnimations(h,l)}finally{for(let d=0;d<h.length;d++)h[d]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],a.length?C0(a).onDone(()=>{h.forEach(d=>d())}):h.forEach(d=>d())}}reportError(l){throw function DLt(c){return new Ct(3402,!1)}()}_flushAnimations(l,a){const h=new ML,d=[],f=new Map,p=[],g=new Map,m=new Map,v=new Map,_=new Set;this.disabledNodes.forEach(W=>{_.add(W);const q=this.driver.query(W,".ng-animate-queued",!0);for(let G=0;G<q.length;G++)_.add(q[G])});const y=this.bodyNode,b=Array.from(this.statesByElement.keys()),O=Jke(b,this.collectedEnterElements),C=new Map;let S=0;O.forEach((W,q)=>{const G=IX+S++;C.set(q,G),W.forEach(K=>wh(K,G))});const w=[],x=new Set,T=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){const q=this.collectedLeaveElements[W],G=q[xd];G&&G.setForRemoval&&(w.push(q),x.add(q),G.hasAnimation?this.driver.query(q,".ng-star-inserted",!0).forEach(K=>x.add(K)):T.add(q))}const D=new Map,k=Jke(b,Array.from(x));k.forEach((W,q)=>{const G=OL+S++;D.set(q,G),W.forEach(K=>wh(K,G))}),l.push(()=>{O.forEach((W,q)=>{const G=C.get(q);W.forEach(K=>tS(K,G))}),k.forEach((W,q)=>{const G=D.get(q);W.forEach(K=>tS(K,G))}),w.forEach(W=>{this.processLeaveNode(W)})});const P=[],N=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(a).forEach(G=>{const K=G.player,J=G.element;if(P.push(K),this.collectedEnterElements.length){const Ie=J[xd];if(Ie&&Ie.setForMove){if(Ie.previousTriggersValues&&Ie.previousTriggersValues.has(G.triggerName)){const Ze=Ie.previousTriggersValues.get(G.triggerName),Ne=this.statesByElement.get(G.element);if(Ne&&Ne.has(G.triggerName)){const Ve=Ne.get(G.triggerName);Ve.value=Ze,Ne.set(G.triggerName,Ve)}}return void K.destroy()}}const ie=!y||!this.driver.containsElement(y,J),re=D.get(J),he=C.get(J),de=this._buildInstruction(G,h,he,re,ie);if(de.errors&&de.errors.length)return void N.push(de);if(ie)return K.onStart(()=>o_(J,de.fromStyles)),K.onDestroy(()=>Gf(J,de.toStyles)),void d.push(K);if(G.isFallbackTransition)return K.onStart(()=>o_(J,de.fromStyles)),K.onDestroy(()=>Gf(J,de.toStyles)),void d.push(K);const ke=[];de.timelines.forEach(Ie=>{Ie.stretchStartingKeyframe=!0,this.disabledNodes.has(Ie.element)||ke.push(Ie)}),de.timelines=ke,h.append(J,de.timelines),p.push({instruction:de,player:K,element:J}),de.queriedElements.forEach(Ie=>Nu(g,Ie,[]).push(K)),de.preStyleProps.forEach((Ie,Ze)=>{if(Ie.size){let Ne=m.get(Ze);Ne||m.set(Ze,Ne=new Set),Ie.forEach((Ve,nt)=>Ne.add(nt))}}),de.postStyleProps.forEach((Ie,Ze)=>{let Ne=v.get(Ze);Ne||v.set(Ze,Ne=new Set),Ie.forEach((Ve,nt)=>Ne.add(nt))})});if(N.length){const W=[];N.forEach(q=>{W.push(function MLt(c,l){return new Ct(3505,!1)}())}),P.forEach(q=>q.destroy()),this.reportError(W)}const F=new Map,L=new Map;p.forEach(W=>{const q=W.element;h.has(q)&&(L.set(q,q),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,F))}),d.forEach(W=>{const q=W.element;this._getPreviousPlayers(q,!1,W.namespaceId,W.triggerName,null).forEach(K=>{Nu(F,q,[]).push(K),K.destroy()})});const $=w.filter(W=>t4e(W,m,v)),U=new Map;Kke(U,this.driver,T,v,Ip).forEach(W=>{t4e(W,m,v)&&$.push(W)});const ee=new Map;O.forEach((W,q)=>{Kke(ee,this.driver,new Set(W),m,"!")}),$.forEach(W=>{const q=U.get(W),G=ee.get(W);U.set(W,new Map([...q?.entries()??[],...G?.entries()??[]]))});const te=[],B=[],j={};p.forEach(W=>{const{element:q,player:G,instruction:K}=W;if(h.has(q)){if(_.has(q))return G.onDestroy(()=>Gf(q,K.toStyles)),G.disabled=!0,G.overrideTotalTime(K.totalTime),void d.push(G);let J=j;if(L.size>1){let re=q;const he=[];for(;re=re.parentNode;){const de=L.get(re);if(de){J=de;break}he.push(re)}he.forEach(de=>L.set(de,J))}const ie=this._buildAnimation(G.namespaceId,K,F,f,ee,U);if(G.setRealPlayer(ie),J===j)te.push(G);else{const re=this.playersByElement.get(J);re&&re.length&&(G.parentPlayer=C0(re)),d.push(G)}}else o_(q,K.fromStyles),G.onDestroy(()=>Gf(q,K.toStyles)),B.push(G),_.has(q)&&d.push(G)}),B.forEach(W=>{const q=f.get(W.element);if(q&&q.length){const G=C0(q);W.setRealPlayer(G)}}),d.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<w.length;W++){const q=w[W],G=q[xd];if(tS(q,OL),G&&G.hasAnimation)continue;let K=[];if(g.size){let ie=g.get(q);ie&&ie.length&&K.push(...ie);let re=this.driver.query(q,RX,!0);for(let he=0;he<re.length;he++){let de=g.get(re[he]);de&&de.length&&K.push(...de)}}const J=K.filter(ie=>!ie.destroyed);J.length?DNt(this,q,J):this.processLeaveNode(q)}return w.length=0,te.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();const q=this.players.indexOf(W);this.players.splice(q,1)}),W.play()}),te}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,a,h,d,f){let p=[];if(a){const g=this.playersByQueriedElement.get(l);g&&(p=g)}else{const g=this.playersByElement.get(l);if(g){const m=!f||f==Gk;g.forEach(v=>{v.queued||!m&&v.triggerName!=d||p.push(v)})}}return(h||d)&&(p=p.filter(g=>!(h&&h!=g.namespaceId||d&&d!=g.triggerName))),p}_beforeAnimationBuild(l,a,h){const f=a.element,p=a.isRemovalTransition?void 0:l,g=a.isRemovalTransition?void 0:a.triggerName;for(const m of a.timelines){const v=m.element,_=v!==f,y=Nu(h,v,[]);this._getPreviousPlayers(v,_,p,g,a.toState).forEach(O=>{const C=O.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),O.destroy(),y.push(O)})}o_(f,a.fromStyles)}_buildAnimation(l,a,h,d,f,p){const g=a.triggerName,m=a.element,v=[],_=new Set,y=new Set,b=a.timelines.map(C=>{const S=C.element;_.add(S);const w=S[xd];if(w&&w.removedBeforeQueried)return new nx(C.duration,C.delay);const x=S!==m,T=function MNt(c){const l=[];return e4e(c,l),l}((h.get(S)||ONt).map(F=>F.getRealPlayer())).filter(F=>!!F.element&&F.element===S),D=f.get(S),k=p.get(S),P=Eke(this._normalizer,C.keyframes,D,k),N=this._buildPlayer(C,P,T);if(C.subTimeline&&d&&y.add(S),x){const F=new GX(l,g,S);F.setRealPlayer(N),v.push(F)}return N});v.forEach(C=>{Nu(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>function xNt(c,l,a){let h=c.get(l);if(h){if(h.length){const d=h.indexOf(a);h.splice(d,1)}0==h.length&&c.delete(l)}return h}(this.playersByQueriedElement,C.element,C))}),_.forEach(C=>wh(C,Fke));const O=C0(b);return O.onDestroy(()=>{_.forEach(C=>tS(C,Fke)),Gf(m,a.toStyles)}),y.forEach(C=>{Nu(d,C,[]).push(O)}),O}_buildPlayer(l,a,h){return a.length>0?this.driver.animate(l.element,a,l.duration,l.delay,l.easing,h):new nx(l.duration,l.delay)}}class GX{constructor(l,a,h){this.namespaceId=l,this.triggerName=a,this.element=h,this._player=new nx,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((a,h)=>{a.forEach(d=>DX(l,h,void 0,d))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const a=this._player;a.triggerCallback&&l.onStart(()=>a.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,a){Nu(this._queuedCallbacks,l,[]).push(a)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const a=this._player;a.triggerCallback&&a.triggerCallback(l)}}function AL(c){return c&&1===c.nodeType}function qke(c,l){const a=c.style.display;return c.style.display=l??"none",a}function Kke(c,l,a,h,d){const f=[];a.forEach(m=>f.push(qke(m)));const p=[];h.forEach((m,v)=>{const _=new Map;m.forEach(y=>{const b=l.computeStyle(v,y,d);_.set(y,b),(!b||0==b.length)&&(v[xd]=CNt,p.push(v))}),c.set(v,_)});let g=0;return a.forEach(m=>qke(m,f[g++])),p}function Jke(c,l){const a=new Map;if(c.forEach(g=>a.set(g,[])),0==l.length)return a;const d=new Set(l),f=new Map;function p(g){if(!g)return 1;let m=f.get(g);if(m)return m;const v=g.parentNode;return m=a.has(v)?v:d.has(v)?1:p(v),f.set(g,m),m}return l.forEach(g=>{const m=p(g);1!==m&&a.get(m).push(g)}),a}function wh(c,l){c.classList?.add(l)}function tS(c,l){c.classList?.remove(l)}function DNt(c,l,a){C0(a).onDone(()=>c.processLeaveNode(l))}function e4e(c,l){for(let a=0;a<c.length;a++){const h=c[a];h instanceof qfe?e4e(h.players,l):l.push(h)}}function t4e(c,l,a){const h=a.get(c);if(!h)return!1;let d=l.get(c);return d?h.forEach(f=>d.add(f)):l.set(c,h),a.delete(c),!0}class IL{constructor(l,a,h){this.bodyNode=l,this._driver=a,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(d,f)=>{},this._transitionEngine=new wNt(l,a,h),this._timelineEngine=new mNt(l,a,h),this._transitionEngine.onRemovalComplete=(d,f)=>this.onRemovalComplete(d,f)}registerTrigger(l,a,h,d,f){const p=l+"-"+d;let g=this._triggerCache[p];if(!g){const m=[],_=BX(this._driver,f,m,[]);if(m.length)throw function _Lt(c,l){return new Ct(3404,!1)}();g=function dNt(c,l,a){return new fNt(c,l,a)}(d,_,this._normalizer),this._triggerCache[p]=g}this._transitionEngine.registerTrigger(a,d,g)}register(l,a){this._transitionEngine.register(l,a)}destroy(l,a){this._transitionEngine.destroy(l,a)}onInsert(l,a,h,d){this._transitionEngine.insertNode(l,a,h,d)}onRemove(l,a,h){this._transitionEngine.removeNode(l,a,h)}disableAnimations(l,a){this._transitionEngine.markElementAsDisabled(l,a)}process(l,a,h,d){if("@"==h.charAt(0)){const[f,p]=Pke(h);this._timelineEngine.command(f,a,p,d)}else this._transitionEngine.trigger(l,a,h,d)}listen(l,a,h,d,f){if("@"==h.charAt(0)){const[p,g]=Pke(h);return this._timelineEngine.listen(p,a,g,f)}return this._transitionEngine.listen(l,a,h,d,f)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(l){this._transitionEngine.afterFlushAnimationsDone(l)}}let ANt=(()=>{class c{static#e=this.initialStylesByElement=new WeakMap;constructor(a,h,d){this._element=a,this._startStyles=h,this._endStyles=d,this._state=0;let f=c.initialStylesByElement.get(a);f||c.initialStylesByElement.set(a,f=new Map),this._initialStyles=f}start(){this._state<1&&(this._startStyles&&Gf(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gf(this._element,this._initialStyles),this._endStyles&&(Gf(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(o_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(o_(this._element,this._endStyles),this._endStyles=null),Gf(this._element,this._initialStyles),this._state=3)}}return c})();function XX(c){let l=null;return c.forEach((a,h)=>{(function INt(c){return"display"===c||"position"===c})(h)&&(l=l||new Map,l.set(h,a))}),l}class n4e{constructor(l,a,h,d){this.element=l,this.keyframes=a,this.options=h,this._specialStyles=d,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const a=[];return l.forEach(h=>{a.push(Object.fromEntries(h))}),a}_triggerWebAnimation(l,a,h){return l.animate(this._convertKeyframesToObject(a),h)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,d)=>{"offset"!==d&&l.set(d,this._finished?h:zke(this.element,d))}),this.currentSnapshot=l}triggerCallback(l){const a="start"===l?this._onStartFns:this._onDoneFns;a.forEach(h=>h()),a.length=0}}class RNt{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,a){return!1}containsElement(l,a){return Ike(l,a)}getParentElement(l){return PX(l)}query(l,a,h){return Rke(l,a,h)}computeStyle(l,a,h){return window.getComputedStyle(l)[a]}animate(l,a,h,d,f,p=[]){const m={duration:h,delay:d,fill:0==d?"both":"forwards"};f&&(m.easing=f);const v=new Map,_=p.filter(O=>O instanceof n4e);(function zLt(c,l){return 0===c||0===l})(h,d)&&_.forEach(O=>{O.currentSnapshot.forEach((C,S)=>v.set(S,C))});let y=function BLt(c){return c.length?c[0]instanceof Map?c:c.map(l=>Bke(l)):[]}(a).map(O=>S0(O));y=function ULt(c,l,a){if(a.size&&l.length){let h=l[0],d=[];if(a.forEach((f,p)=>{h.has(p)||d.push(p),h.set(p,f)}),d.length)for(let f=1;f<l.length;f++){let p=l[f];d.forEach(g=>p.set(g,zke(c,g)))}}return l}(l,y,v);const b=function PNt(c,l){let a=null,h=null;return Array.isArray(l)&&l.length?(a=XX(l[0]),l.length>1&&(h=XX(l[l.length-1]))):l instanceof Map&&(a=XX(l)),a||h?new ANt(c,a,h):null}(l,y);return new n4e(l,y,m,b)}}let LNt=(()=>{class c extends Xfe{constructor(a,h){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(h.body,{id:"0",encapsulation:zu.None,styles:[],data:{animation:[]}})}build(a){const h=this._nextAnimationId.toString();this._nextAnimationId++;const d=Array.isArray(a)?Yfe(a):a;return i4e(this._renderer,null,h,"register",[d]),new NNt(h,this._renderer)}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(U_),Ee(Pr))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class NNt extends AJe{constructor(l,a){super(),this._id=l,this._renderer=a}create(l,a){return new FNt(this._id,l,a||{},this._renderer)}}class FNt{constructor(l,a,h,d){this.id=l,this.element=a,this._renderer=d,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(l,a){return this._renderer.listen(this.element,`@@${this.id}:${l}`,a)}_command(l,...a){return i4e(this._renderer,this.element,this.id,l,a)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function i4e(c,l,a,h,d){return c.setProperty(l,`@@${a}:${h}`,d)}const r4e="@.disabled";let BNt=(()=>{class c{constructor(a,h,d){this.delegate=a,this.engine=h,this._zone=d,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,h.onRemovalComplete=(f,p)=>{const g=p?.parentNode(f);g&&p.removeChild(g,f)}}createRenderer(a,h){const f=this.delegate.createRenderer(a,h);if(!(a&&h&&h.data&&h.data.animation)){let _=this._rendererCache.get(f);return _||(_=new s4e("",f,this.engine,()=>this._rendererCache.delete(f)),this._rendererCache.set(f,_)),_}const p=h.id,g=h.id+"-"+this._currentId;this._currentId++,this.engine.register(g,a);const m=_=>{Array.isArray(_)?_.forEach(m):this.engine.registerTrigger(p,g,a,_.name,_)};return h.data.animation.forEach(m),new VNt(this,g,f,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,h,d){a>=0&&a<this._microtaskId?this._zone.run(()=>h(d)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(f=>{const[p,g]=f;p(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,d]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(U_),Ee(IL),Ee(Di))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class s4e{constructor(l,a,h,d){this.namespaceId=l,this.delegate=a,this.engine=h,this._onDestroy=d}get data(){return this.delegate.data}destroyNode(l){this.delegate.destroyNode?.(l)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(l,a){return this.delegate.createElement(l,a)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,a){this.delegate.appendChild(l,a),this.engine.onInsert(this.namespaceId,a,l,!1)}insertBefore(l,a,h,d=!0){this.delegate.insertBefore(l,a,h),this.engine.onInsert(this.namespaceId,a,l,d)}removeChild(l,a,h){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(l,a){return this.delegate.selectRootElement(l,a)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,a,h,d){this.delegate.setAttribute(l,a,h,d)}removeAttribute(l,a,h){this.delegate.removeAttribute(l,a,h)}addClass(l,a){this.delegate.addClass(l,a)}removeClass(l,a){this.delegate.removeClass(l,a)}setStyle(l,a,h,d){this.delegate.setStyle(l,a,h,d)}removeStyle(l,a,h){this.delegate.removeStyle(l,a,h)}setProperty(l,a,h){"@"==a.charAt(0)&&a==r4e?this.disableAnimations(l,!!h):this.delegate.setProperty(l,a,h)}setValue(l,a){this.delegate.setValue(l,a)}listen(l,a,h){return this.delegate.listen(l,a,h)}disableAnimations(l,a){this.engine.disableAnimations(l,a)}}class VNt extends s4e{constructor(l,a,h,d,f){super(a,h,d,f),this.factory=l,this.namespaceId=a}setProperty(l,a,h){"@"==a.charAt(0)?"."==a.charAt(1)&&a==r4e?this.disableAnimations(l,h=void 0===h||!!h):this.engine.process(this.namespaceId,l,a.slice(1),h):this.delegate.setProperty(l,a,h)}listen(l,a,h){if("@"==a.charAt(0)){const d=function $Nt(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(l);let f=a.slice(1),p="";return"@"!=f.charAt(0)&&([f,p]=function zNt(c){const l=c.indexOf(".");return[c.substring(0,l),c.slice(l+1)]}(f)),this.engine.listen(this.namespaceId,d,f,p,g=>{this.factory.scheduleListenerCallback(g._data||-1,h,g)})}return this.delegate.listen(l,a,h)}}let UNt=(()=>{class c extends IL{constructor(a,h,d,f){super(a.body,h,d)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(h){return new(h||c)(Ee(Pr),Ee(AX),Ee(QX),Ee(Q0))};static#t=this.\u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();const o4e=[{provide:Xfe,useClass:LNt},{provide:QX,useFactory:function QNt(){return new lNt}},{provide:IL,useClass:UNt},{provide:U_,useFactory:function HNt(c,l,a){return new BNt(c,l,a)},deps:[s6,IL,Di]}],YX=[{provide:AX,useFactory:()=>new RNt},{provide:HK,useValue:"BrowserAnimations"},...o4e],a4e=[{provide:AX,useClass:Lke},{provide:HK,useValue:"NoopAnimations"},...o4e];let WNt=(()=>{class c{static withConfig(a){return{ngModule:c,providers:a.disableAnimations?a4e:YX}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=jn({type:c});static#n=this.\u0275inj=Wn({providers:YX,imports:[Bie]})}return c})();function ZNt(c,l){if(1&c){const a=Ae();E(0,"div",10),Y("click",function(){return ce(a),ue(Q().$implicit.onButtonClick())}),E(1,"button",11),H(2),M()()}if(2&c){const a=Q().$implicit;I(2),ut(a.buttonText)}}function jNt(c,l){if(1&c){const a=Ae();E(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),se(4,"cds-icon",5),M(),E(5,"div",6),H(6),M(),X(7,ZNt,3,1,"div",7),M()(),E(8,"button",8),Y("click",function(){return ue(ce(a).$implicit.onButtonClick())}),se(9,"cds-icon",9),M()()}if(2&c){const a=l.$implicit;I(6),ut(a.text.trim()),I(1),R("ngIf",a.buttonText)}}let GNt=(()=>{class c{config;id=0;constructor(a){this.config=a}isShowType(a){return this.config.showType==a}ngOnInit(){let a=++this.id,d=()=>{a===this.id&&(this.update(),this.config.post(d,1e3))};this.config.post(d,1e3)}ngOnDestroy(){++this.id}update(){!this.config.alerts||0==this.config.alerts.length||this.config.alerts.map(a=>a).forEach(a=>{a.update()||a.remove()})}static \u0275fac=function(h){return new(h||c)(V(Zt))};static \u0275cmp=qe({type:c,selectors:[["app-alerts"]],decls:1,vars:1,consts:[["class","alert alert-app-level alert-info","role","alert",4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-app-level","alert-info"],[1,"alert-items"],[1,"alert-item","static"],[1,"alert-icon-wrapper"],["shape","exclamation-circle",1,"alert-icon"],[1,"alert-text"],["class","alert-actions",3,"click",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true","shape","window-close"],[1,"alert-actions",3,"click"],[1,"btn","alert-action"]],template:function(h,d){1&h&&X(0,jNt,10,2,"div",0),2&h&&R("ngForOf",d.config.alerts)},dependencies:[Gn,mn,gf,Vn]})}return c})();const l4e=["lightbulb",{outline:'<path d="M18,2.25a11,11,0,0,0-11,11,10.68,10.68,0,0,0,1,4.63,16.36,16.36,0,0,0,1.12,1.78,17,17,0,0,1,2,3.47,16.19,16.19,0,0,1,.59,4h2A18.17,18.17,0,0,0,13,22.44a18.46,18.46,0,0,0-2.22-3.92,15.79,15.79,0,0,1-1-1.54A8.64,8.64,0,0,1,9,13.23a9,9,0,0,1,18.07,0A8.64,8.64,0,0,1,26.21,17a15.79,15.79,0,0,1-1,1.54A18.46,18.46,0,0,0,23,22.44a18.17,18.17,0,0,0-.71,4.71h2a16.19,16.19,0,0,1,.59-4,17,17,0,0,1,2-3.47A16.31,16.31,0,0,0,28,17.86a10.68,10.68,0,0,0,1-4.63A11,11,0,0,0,18,2.25Z"/><path d="M18.63,15.51a.8.8,0,0,0-1.13,0l-3,3,2.86,3.13v5.54H19V21l-2.24-2.45,1.89-1.89A.8.8,0,0,0,18.63,15.51Z"/><path d="M23.86,29.15H12.11a.8.8,0,1,0,0,1.6H23.86a.8.8,0,0,0,0-1.6Z"/><path d="M22,32.15H14a.8.8,0,1,0,0,1.6H22a.8.8,0,1,0,0-1.6Z"/><path d="M17.32,10.89l-2.73,2.73a.8.8,0,0,0,1.13,1.13L18.45,12a.8.8,0,1,0-1.13-1.13Z"/>',outlineBadged:'<path d="M19,27.15V21l-2.24-2.45,1.89-1.89a.8.8,0,0,0-1.13-1.13l-3,3,2.86,3.13v5.54Z"/><path d="M23.86,29.15H12.11a.8.8,0,1,0,0,1.6H23.86a.8.8,0,0,0,0-1.6Z"/><path d="M22,32.15H14a.8.8,0,1,0,0,1.6H22a.8.8,0,1,0,0-1.6Z"/><path d="M15.72,14.75,18.45,12a.8.8,0,1,0-1.13-1.13l-2.73,2.73a.8.8,0,0,0,1.13,1.13Z"/><path d="M27,12.88c0,.12,0,.23,0,.35A8.64,8.64,0,0,1,26.21,17a15.79,15.79,0,0,1-1,1.54A18.46,18.46,0,0,0,23,22.44a18.17,18.17,0,0,0-.71,4.71h2a16.19,16.19,0,0,1,.59-4,17,17,0,0,1,2-3.47A16.31,16.31,0,0,0,28,17.86a10.63,10.63,0,0,0,1-4.43A7.45,7.45,0,0,1,27,12.88Z"/><path d="M13.71,27.15A18.17,18.17,0,0,0,13,22.44a18.46,18.46,0,0,0-2.22-3.92,15.79,15.79,0,0,1-1-1.54A8.64,8.64,0,0,1,9,13.23,9,9,0,0,1,22.53,5.47a7.45,7.45,0,0,1,.43-2,11,11,0,0,0-16,9.8,10.68,10.68,0,0,0,1,4.63,16.36,16.36,0,0,0,1.12,1.78,17,17,0,0,1,2,3.47,16.19,16.19,0,0,1,.59,4Z"/>',solid:'<path d="M23.86,29.15H12.11a.8.8,0,1,0,0,1.6H23.86a.8.8,0,0,0,0-1.6Z"/><path d="M22,32.15H14a.8.8,0,1,0,0,1.6H22a.8.8,0,1,0,0-1.6Z"/><path d="M18,2.25a11,11,0,0,0-11,11,10.68,10.68,0,0,0,1,4.63,16.36,16.36,0,0,0,1.12,1.78,17,17,0,0,1,2,3.47,16.19,16.19,0,0,1,.59,4h5.69V21.61l-2.86-3.13,3-3a.8.8,0,0,1,1.13,1.13l-1.89,1.89L19,21v6.17H24.3a16.19,16.19,0,0,1,.59-4,17,17,0,0,1,2-3.47A16.31,16.31,0,0,0,28,17.86a10.68,10.68,0,0,0,1-4.63A11,11,0,0,0,18,2.25ZM18.45,12l-2.73,2.73a.8.8,0,1,1-1.13-1.13l2.73-2.73A.8.8,0,1,1,18.45,12Z"/>',solidBadged:'<path d="M23.86,29.15H12.11a.8.8,0,1,0,0,1.6H23.86a.8.8,0,0,0,0-1.6Z"/><path d="M22,32.15H14a.8.8,0,1,0,0,1.6H22a.8.8,0,1,0,0-1.6Z"/><path d="M22.5,6A7.47,7.47,0,0,1,23,3.44a11,11,0,0,0-16,9.8,10.68,10.68,0,0,0,1,4.63,16.36,16.36,0,0,0,1.12,1.78,17,17,0,0,1,2,3.47,16.19,16.19,0,0,1,.59,4h5.69V21.61l-2.86-3.13,3-3a.8.8,0,0,1,1.13,1.13l-1.89,1.89L19,21v6.17H24.3a16.19,16.19,0,0,1,.59-4,17,17,0,0,1,2-3.47A16.31,16.31,0,0,0,28,17.86a10.63,10.63,0,0,0,1-4.43A7.5,7.5,0,0,1,22.5,6Zm-4,6-2.73,2.73a.8.8,0,1,1-1.13-1.13l2.73-2.73A.8.8,0,1,1,18.45,12Z"/>'}],c4e=function(c,l){return{"has-badge":c,"has-alert":l}};function XFt(c,l){if(1&c&&se(0,"cds-icon",17),2&c){const a=Q().$implicit;R("ngClass",mr(2,c4e,a.hasBadge,a.hasAlert)),Je("shape",a.shape)}}const YFt=function(c){return{alignLeft:!0,"nav-link":!0,"nav-icon":!1,active:c}};function qFt(c,l){if(1&c){const a=Ae();E(0,"a",15),Y("click",function(d){const p=ce(a).$implicit;return ue(Q(2).navigateTo(d,p))}),X(1,XFt,1,5,"cds-icon",16),H(2),M()}if(2&c){const a=l.$implicit,h=Q(2);R("ngClass",xr(4,YFt,h.isActive(a)))("hidden",h.isHidden(a)),I(1),R("ngIf",!1),I(1),Kt(" ",a.name," ")}}function KFt(c,l){if(1&c){const a=Ae();E(0,"a",18),Y("click",function(){return ue(ce(a).$implicit.runOnClick())}),se(1,"cds-icon"),M()}if(2&c){const a=l.$implicit;I(1),Je("shape",a.shape?a.shape:"window-close")}}const u4e=function(c){return{header:!0,"header-6":!0,bgmaroon:c,"no-print":!0}};function JFt(c,l){if(1&c){const a=Ae();E(0,"clr-header")(1,"div",4)(2,"a",5),Y("click",function(){return ce(a),ue(Q().onRootRoute())}),se(3,"cds-icon",6),E(4,"span",7),H(5),M()(),E(6,"a",8),Y("click",function(){return ce(a),ue(Q().onRootRoute())}),se(7,"cds-icon",9),E(8,"span",7),H(9),M()()(),E(10,"div",10),X(11,qFt,3,6,"a",11),M(),se(12,"div",12),E(13,"div",13),X(14,KFt,2,1,"a",14),M()()}if(2&c){const a=Q();l3(xr(9,u4e,a.isRedTheme())),I(3),Je("shape",a.getAppShape()),I(2),ut(a.getTitle()),I(2),Je("shape",a.getAppShape()),I(2),ut(a.getTitle()),I(1),R("clr-nav-level",1),I(1),R("ngForOf",a.getLinks()),I(3),R("ngForOf",a.getTitleCommands())}}const e8t=function(c){return{"nav-link":!0,active:c,bgColorMenu:!0}};function t8t(c,l){if(1&c){const a=Ae();E(0,"a",21),Y("click",function(d){const p=ce(a).$implicit;return ue(Q(2).navigateTo(d,p))}),se(1,"cds-icon",17),H(2),M()}if(2&c){const a=l.$implicit,h=Q(2);R("ngClass",xr(5,e8t,h.isActive(a)))("hidden",h.isHidden(a)),I(1),R("ngClass",mr(7,c4e,a.hasBadge,a.hasAlert)),Je("shape",a.shape),I(1),Kt(" ",a.name," ")}}function n8t(c,l){if(1&c){const a=Ae();E(0,"clr-vertical-nav",19),Y("clrVerticalNavCollapsedChange",function(d){return ce(a),ue(Q().collapsed=d)}),X(1,t8t,3,10,"a",20),M()}if(2&c){const a=Q();R("clrVerticalNavCollapsed",a.collapsed)("clrVerticalNavCollapsible",!0)("clr-nav-level",2),I(1),R("ngForOf",a.getSideMenuCommands())}}function i8t(c,l){if(1&c){const a=Ae();E(0,"header")(1,"div",23),Y("click",function(){return ce(a),ue(Q(2).onRootRoute())}),se(2,"app-svg-js-image",24),M()()}if(2&c){const a=Q(2);l3(xr(5,u4e,a.isRedTheme())),I(2),R("svgWidth",128)("svgHeight",32)("logoText",a.getTitle())}}const r8t=function(c){return{"main-container":c}},h4e=function(c){return{"content-container":c}},s8t=function(c){return{"content-area":c}};function o8t(c,l){if(1&c&&(E(0,"div",22)(1,"div",0),X(2,i8t,3,7,"header",1),E(3,"div",0)(4,"div",0),se(5,"router-outlet"),M()()()()),2&c){const a=Q();I(1),R("ngClass",xr(4,r8t,a.isMainContainerEnabled())),I(1),R("ngIf",a.isUpperMenuEnabled()),I(1),R("ngClass",xr(6,h4e,a.isMainContainerEnabled())),I(1),R("ngClass",xr(8,s8t,a.isMainContainerEnabled()))}}const a8t=function(c,l){return{bgColorPaper:c,bgColor:l}},l8t=function(c){return{"content-area":c,"topPaddingZero-x":!0}},c8t=function(c){return{maxWidth800:c}};let nS=(()=>class c{static NoColor="";static SelectedColor="#00AA00";static DarkColor="#d18b47";static RedColor="#ff0000";static LightColor="#ffce9e";static NoneColor="#ffffff"})();class Kn{static getLetterRaw(l,a,h){return'<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   id="svg3128"\n   sodipodi:version="0.32"\n   inkscape:version="0.46"\n   sodipodi:docbase="/home/cburnett/wikipedia/images/chess"\n   sodipodi:docname="s.svg"\n   inkscape:output_extension="org.inkscape.output.svg.inkscape"   preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n  <defs\n     id="defs3130">\n    <inkscape:perspective\n       sodipodi:type="inkscape:persp3d"\n       inkscape:vp_x="0 : 22.5 : 1"\n       inkscape:vp_y="0 : 1000 : 0"\n       inkscape:vp_z="45 : 22.5 : 1"\n       inkscape:persp3d-origin="22.5 : 15 : 1"\n       id="perspective10" />\n  </defs>\n  <sodipodi:namedview\n     id="base"\n     pagecolor="#ffffff"\n     bordercolor="#666666"\n     borderopacity="1.0"\n     gridtolerance="10000"\n     guidetolerance="10"\n     objecttolerance="10"\n     inkscape:pageopacity="0.0"\n     inkscape:pageshadow="2"\n     inkscape:zoom="8"\n     inkscape:cx="40.739953"\n     inkscape:cy="17.464001"\n     inkscape:document-units="px"\n     inkscape:current-layer="layer1"\n     height="45px"\n     width="45px"\n     inkscape:grid-points="true"\n     showgrid="true"\n     inkscape:window-width="977"\n     inkscape:window-height="764"\n     inkscape:window-x="138"\n     inkscape:window-y="0">\n   </sodipodi:namedview>\n  <metadata\n     id="metadata3133">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n'+Kn.getColoredRect("none",h)+'  <g\n     inkscape:label="Layer 1"\n     inkscape:groupmode="layer"\n     id="layer1">\n    <text\n       xml:space="preserve"\n       style="font-size:28px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;line-height:125%;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"\n       x="22.882813"\n       y="32.890625"\n       id="text2959"\n       sodipodi:linespacing="125%"><tspan\n         sodipodi:role="line"\n         id="tspan2961"\n         x="22.882813"\n         y="32.890625">'+l+"</tspan></text>\n  </g>\n"+Kn.getColoredRect(a)+"</svg>"}static getLetter(l,a="letter",h="",d){return["chess-"+a+"-"+l,Kn.getLetterRaw(l,h,d)]}static getColoredRect(l,a="none"){return l||"none"!=a?'  <rect style="fill:'+a+";stroke:"+l+';stroke-width:3;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect3757" '+(l&&"none"!=l?'width="42" height="42" x="1.5" y="1.5"/>':'width="45" height="45" x="0" y="0"/>'):""}static getWhiteNone(l,a="none"){return'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n'+Kn.getColoredRect("none",a)+'  <g fill="none" fill-rule="evenodd" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">\n  </g>\n'+Kn.getColoredRect(l)+"</svg>"}static getBlackActionOk(l,a){return Kn.getActionOkWithFillColor(l,"#000000","none",a)}static getWhiteActionOk(l,a){return Kn.getActionOkWithFillColor(l,"#FFFFFF","#000000",a)}static getActionOkWithFillColor(l,a,h,d){return'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n'+Kn.getColoredRect("none",d)+'  <circle cx="22.5" cy="22.5" r="10" style="fill:'+a+"; stroke:"+h+';" />\n'+Kn.getColoredRect(l)+"</svg>"}static getBlackActionFail(l,a){return Kn.getActionFailWithFillColor(l,"#000000",a)}static getWhiteActionFail(l,a){return Kn.getActionFailWithFillColor(l,"#FFFFFF",a)}static getActionFailWithFillColor(l,a,h){return'<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   id="svg2"\n   inkscape:version="0.91 r"\n   sodipodi:docname="20160616125428!Chess_xxd45.svg"   preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n  <metadata\n     id="metadata16">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs14" />\n  <sodipodi:namedview\n     pagecolor="#ffffff"\n     bordercolor="#666666"\n     borderopacity="1"\n     objecttolerance="10"\n     gridtolerance="10"\n     guidetolerance="10"\n     inkscape:pageopacity="0"\n     inkscape:pageshadow="2"\n     inkscape:window-width="1333"\n     inkscape:window-height="749"\n     id="namedview12"\n     showgrid="false"\n     inkscape:zoom="5.2444444"\n     inkscape:cx="22.5"\n     inkscape:cy="22.5"\n     inkscape:window-x="33"\n     inkscape:window-y="0"\n     inkscape:window-maximized="1"\n     inkscape:current-layer="svg2" />\n'+Kn.getColoredRect("none",h)+'  <g\n     style="fill:none;stroke:'+a+';stroke-width:4;stroke-opacity:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none"\n     id="g4">\n    <path\n       d="M 30,30 L 15,15"\n       id="path8"\n       style="stroke-width:4;stroke-miterlimit:4;stroke-dasharray:none" />\n    <path\n       d="M 30,15 L 15,30"\n       id="path10"\n       style="stroke-width:4;stroke-miterlimit:4;stroke-dasharray:none" />\n  </g>\n'+Kn.getColoredRect(l)+"</svg>"}static getWhiteKing(l,a="none"){return'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n'+Kn.getColoredRect("none",a)+'  <g fill="none" fill-rule="evenodd" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">\n    <path stroke-linejoin="miter" d="M22.5 11.63V6M20 8h5"/>\n    <path fill="#fff" stroke-linecap="butt" stroke-linejoin="miter" d="M22.5 25s4.5-7.5 3-10.5c0 0-1-2.5-3-2.5s-3 2.5-3 2.5c-1.5 3 3 10.5 3 10.5"/>\n    <path fill="#fff" d="M12.5 37c5.5 3.5 14.5 3.5 20 0v-7s9-4.5 6-10.5c-4-6.5-13.5-3.5-16 4V27v-3.5c-2.5-7.5-12-10.5-16-4-3 6 6 10.5 6 10.5v7"/>\n    <path d="M12.5 30c5.5-3 14.5-3 20 0m-20 3.5c5.5-3 14.5-3 20 0m-20 3.5c5.5-3 14.5-3 20 0"/>\n  </g>\n'+Kn.getColoredRect(l)+"</svg>"}static getBlackKing(l,a="none"){return'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n'+Kn.getColoredRect("none",a)+'  <g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">\n    <path d="M 22.5,11.63 L 22.5,6" style="fill:none; stroke:#000000; stroke-linejoin:miter;" id="path6570"/>\n    <path d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25" style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;"/>\n    <path d="M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37" style="fill:#000000; stroke:#000000;"/>\n    <path d="M 20,8 L 25,8" style="fill:none; stroke:#000000; stroke-linejoin:miter;"/>\n    <path d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5" style="fill:none; stroke:#ffffff;"/>\n    <path d="M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37" style="fill:none; stroke:#ffffff;"/>\n  </g>\n'+Kn.getColoredRect(l)+"</svg>"}static getWhiteQueen(l,a="none"){return'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n'+Kn.getColoredRect("none",a)+'  <g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">\n    <path\n       d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"\n       transform="translate(-1,-1)" />\n    <path\n       d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"\n       transform="translate(15.5,-5.5)" />\n    <path\n       d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"\n       transform="translate(32,-1)" />\n    <path\n       d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"\n       transform="translate(7,-4.5)" />\n    <path\n       d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"\n       transform="translate(24,-4)" />\n    <path\n       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "\n      style="stroke-linecap:butt;" />\n    <path\n       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "\n       style="stroke-linecap:butt;" />\n    <path\n       d="M 11.5,30 C 15,29 30,29 33.5,30"\n       style="fill:none;" />\n    <path\n       d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"\n       style="fill:none;" />\n  </g>\n'+Kn.getColoredRect(l)+"</svg>"}static getBlackQueen(l,a="none"){return'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n'+Kn.getColoredRect("none",a)+'  <g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">\n    <g style="fill:#000000; stroke:none;">\n      <circle cx="6"    cy="12"  r="2.75"  />\n      <circle cx="14"   cy="9"   r="2.75" />\n      <circle cx="22.5" cy="8"   r="2.75"  />\n      <circle cx="31"   cy="9"   r="2.75"  />\n      <circle cx="39"   cy="12"  r="2.75"  />\n   </g>\n    <path\n       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"\n       style="stroke-linecap:butt; stroke:#000000;" />\n    <path\n       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"\n       style="stroke-linecap:butt;" />\n    <path\n       d="M 11,38.5 A 35,35 1 0 0 34,38.5"\n       style="fill:none; stroke:#000000; stroke-linecap:butt;" />\n    <path\n       d="M 11,29 A 35,35 1 0 1 34,29"\n       style="fill:none; stroke:#ffffff;" />\n    <path\n       d="M 12.5,31.5 L 32.5,31.5"\n       style="fill:none; stroke:#ffffff;" />\n    <path\n       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"\n       style="fill:none; stroke:#ffffff;" /> \x3c!-- --\x3e\n    <path\n       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"\n       style="fill:none; stroke:#ffffff;" />\n  </g>\n'+Kn.getColoredRect(l)+"</svg>"}static getWhiteBishop(l,a="none"){return'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n'+Kn.getColoredRect("none",a)+'  <g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" transform="translate(0,0.6)">\n    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">\n      <path d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"/>\n      <path d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"/>\n      <path d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"/>\n    </g>\n    <path d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18" style="fill:none; stroke:#000000; stroke-linejoin:miter;"/>\n  </g>\n'+Kn.getColoredRect(l)+"</svg>"}static getBlackBishop(l,a="none"){return'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n'+Kn.getColoredRect("none",a)+'  <g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" transform="translate(0,0.6)">\n    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">\n      <path d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"/>\n      <path d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"/>\n      <path d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"/>\n    </g>\n    <path d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18" style="fill:none; stroke:#ffffff; stroke-linejoin:miter;"/>\n  </g>\n'+Kn.getColoredRect(l)+"</svg>"}static getWhiteKnight(l,a="none"){return'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n'+Kn.getColoredRect("none",a)+'  <g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" transform="translate(0,0.3)">\n    <path\n      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"\n      style="fill:#ffffff; stroke:#000000;" />\n    <path\n      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"\n      style="fill:#ffffff; stroke:#000000;" />\n    <path\n      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"\n      style="fill:#000000; stroke:#000000;" />\n    <path\n      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"\n      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"\n      style="fill:#000000; stroke:#000000;" />\n  </g>\n'+Kn.getColoredRect(l)+"</svg>"}static getBlackKnight(l,a="none"){return'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n'+Kn.getColoredRect("none",a)+'  <g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" transform="translate(0,0.3)">\n    <path\n      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"\n      style="fill:#000000; stroke:#000000;" />\n    <path\n      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"\n      style="fill:#000000; stroke:#000000;" />\n    <path\n      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"\n      style="fill:#ffffff; stroke:#ffffff;" />\n    <path\n      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"\n      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"\n      style="fill:#ffffff; stroke:#ffffff;" />\n    <path\n      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "\n      style="fill:#ffffff; stroke:none;" />\n  </g>\n'+Kn.getColoredRect(l)+"</svg>"}static getWhiteRook(l,a="none"){return'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n'+Kn.getColoredRect("none",a)+'  <g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" transform="translate(0,0.3)">\n    <path\n      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "\n      style="stroke-linecap:butt;" />\n    <path\n      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "\n      style="stroke-linecap:butt;" />\n    <path\n      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"\n      style="stroke-linecap:butt;" />\n    <path\n      d="M 34,14 L 31,17 L 14,17 L 11,14" />\n    <path\n      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"\n      style="stroke-linecap:butt; stroke-linejoin:miter;" />\n    <path\n      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />\n    <path\n      d="M 11,14 L 34,14"\n      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />\n  </g>\n'+Kn.getColoredRect(l)+"</svg>"}static getBlackRook(l,a="none"){return'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n'+Kn.getColoredRect("none",a)+'  <g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" transform="translate(0,0.3)">\n    <path\n      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "\n      style="stroke-linecap:butt;" />\n    <path\n      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "\n      style="stroke-linecap:butt;" />\n    <path\n      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "\n      style="stroke-linecap:butt;" />\n    <path\n      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "\n      style="stroke-linecap:butt;stroke-linejoin:miter;" />\n    <path\n      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "\n      style="stroke-linecap:butt;" />\n    <path\n      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "\n      style="stroke-linecap:butt;" />\n    <path\n      d="M 12,35.5 L 33,35.5 L 33,35.5"\n      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />\n    <path\n      d="M 13,31.5 L 32,31.5"\n      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />\n    <path\n      d="M 14,29.5 L 31,29.5"\n      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />\n    <path\n      d="M 14,16.5 L 31,16.5"\n      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />\n    <path\n      d="M 11,14 L 34,14"\n      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />\n  </g>\n'+Kn.getColoredRect(l)+"</svg>"}static getWhitePawn(l,a="none"){return'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n'+Kn.getColoredRect("none",a)+'  <path d="m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z" style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"/>\n'+Kn.getColoredRect(l)+"</svg>"}static getBlackPawn(l,a="none"){return'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="0 0 45 45">\n'+Kn.getColoredRect("none",a)+'  <path d="m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z" style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"/>\n'+Kn.getColoredRect(l)+"</svg>"}static getColor(l){let a=nS.NoneColor;switch(l){case"-light":a=nS.LightColor;break;case"-dark":a=nS.DarkColor}return a}static getNames(...l){return l.flatMap(a=>["","-light","-dark"].flatMap(h=>[[a[0]+h,a[1](nS.NoColor,Kn.getColor(h))],[a[0]+h+"-selected",a[1](nS.SelectedColor,Kn.getColor(h))],[a[0]+h+"-red",a[1](nS.RedColor,Kn.getColor(h))]]))}}Tr.addIcons(["home",{outline:'<path d="M33.71,17.29l-15-15a1,1,0,0,0-1.41,0l-15,15a1,1,0,0,0,1.41,1.41L18,4.41,32.29,18.71a1,1,0,0,0,1.41-1.41Z"/><path d="M28,32h-5V22H13V32H8V18L6,20V32a2,2,0,0,0,2,2h7V24h6V34h7a2,2,0,0,0,2-2V19.76l-2-2Z"/>',solid:'<path d="M33,19a1,1,0,0,1-.71-.29L18,4.41,3.71,18.71a1,1,0,0,1-1.41-1.41l15-15a1,1,0,0,1,1.41,0l15,15A1,1,0,0,1,33,19Z"/><path d="M18,7.79,6,19.83V32a2,2,0,0,0,2,2h7V24h6V34h7a2,2,0,0,0,2-2V19.76Z"/>'}],$fe,Vfe,["image",{outline:'<path d="M32,4H4A2,2,0,0,0,2,6V30a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V6A2,2,0,0,0,32,4ZM4,30V6H32V30Z"/><path d="M8.92,14a3,3,0,1,0-3-3A3,3,0,0,0,8.92,14Zm0-4.6A1.6,1.6,0,1,1,7.33,11,1.6,1.6,0,0,1,8.92,9.41Z"/><path d="M22.78,15.37l-5.4,5.4-4-4a1,1,0,0,0-1.41,0L5.92,22.9v2.83l6.79-6.79L16,22.18l-3.75,3.75H15l8.45-8.45L30,24V21.18l-5.81-5.81A1,1,0,0,0,22.78,15.37Z"/>',outlineBadged:'<path d="M11.93,11a3,3,0,1,0-3,3A3,3,0,0,0,11.93,11Zm-4.6,0a1.6,1.6,0,1,1,1.6,1.6A1.6,1.6,0,0,1,7.33,11Z"/><path d="M17.38,20.77l-4-4a1,1,0,0,0-1.41,0L5.92,22.9v2.83l6.79-6.79L16,22.18l-3.75,3.75H15l8.45-8.45L30,24V21.18l-5.81-5.81a1,1,0,0,0-1.41,0Z"/><path d="M32,13.22V30H4V6H22.5a7.49,7.49,0,0,1,.28-2H4A2,2,0,0,0,2,6V30a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V12.34A7.45,7.45,0,0,1,32,13.22Z"/>',solid:'<path d="M32,4H4A2,2,0,0,0,2,6V30a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V6A2,2,0,0,0,32,4ZM8.92,8a3,3,0,1,1-3,3A3,3,0,0,1,8.92,8ZM6,27V22.9l6-6.08a1,1,0,0,1,1.41,0L16,19.35,8.32,27Zm24,0H11.15l6.23-6.23,5.4-5.4a1,1,0,0,1,1.41,0L30,21.18Z"/>',solidBadged:'<path d="M30,13.5A7.48,7.48,0,0,1,22.78,4H4A2,2,0,0,0,2,6V30a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V12.34A7.46,7.46,0,0,1,30,13.5ZM8.92,8a3,3,0,1,1-3,3A3,3,0,0,1,8.92,8ZM6,27V22.9l6-6.08a1,1,0,0,1,1.41,0L16,19.35,8.32,27Zm24,0H11.15l6.23-6.23,5.4-5.4a1,1,0,0,1,1.41,0L30,21.18Z"/>'}],["blocks-group",{outline:'<path d="M33.53,18.76,26.6,15.57V6.43A1,1,0,0,0,26,5.53l-7.5-3.45a1,1,0,0,0-.84,0l-7.5,3.45a1,1,0,0,0-.58.91v9.14L2.68,18.76a1,1,0,0,0-.58.91v9.78h0a1,1,0,0,0,.58.91l7.5,3.45a1,1,0,0,0,.84,0l7.08-3.26,7.08,3.26a1,1,0,0,0,.84,0l7.5-3.45a1,1,0,0,0,.58-.91h0V19.67A1,1,0,0,0,33.53,18.76Zm-2.81.91L25.61,22,20.5,19.67l5.11-2.35ZM18.1,4.08l5.11,2.35L18.1,8.78,13,6.43ZM10.6,17.31l5.11,2.35L10.6,22,5.49,19.67Zm6.5,11.49-6.5,3-6.5-3V21.23L10.18,24A1,1,0,0,0,11,24l6.08-2.8ZM11.6,15.57h0V8l6.08,2.8a1,1,0,0,0,.84,0L24.6,8v7.58h0l-6.5,3ZM32.11,28.81l-6.5,3-6.51-3V21.22L25.19,24A1,1,0,0,0,26,24l6.08-2.8Z"/>',outlineAlerted:'<path d="M33.53,18.76,26.6,15.57h-2v0l-6.5,3-6.5-3V8l6.08,2.8a1,1,0,0,0,.84,0l.24-.11a4.17,4.17,0,0,1,.29-.65l1.33-2.31-2.28,1L13,6.43l5.1-2.35,3.47,1.6,1-1.73L18.5,2.08a1,1,0,0,0-.84,0l-7.5,3.45a1,1,0,0,0-.58.91v9.14l-6.9,3.18a1,1,0,0,0-.58.91v9.78a1,1,0,0,0,.58.91l7.5,3.45a1,1,0,0,0,.84,0l7.08-3.26,7.08,3.26a1,1,0,0,0,.84,0l7.5-3.45a1,1,0,0,0,.58-.91V19.67A1,1,0,0,0,33.53,18.76ZM10.6,17.31l5.11,2.35L10.6,22,5.49,19.67Zm0,14.49-6.5-3V21.23L10.18,24A1,1,0,0,0,11,24l6.08-2.8,0,7.6Zm15-14.48,5.11,2.35L25.61,22,20.5,19.67Zm0,14.49-6.51-3V21.22L25.19,24A1,1,0,0,0,26,24l6.08-2.8,0,7.61Z"/>',outlineBadged:'<path d="M33.53,18.76,26.6,15.57V12.7a7.58,7.58,0,0,1-2-1.51v4.39l-6.5,3-6.5-3V8l6.08,2.8a1,1,0,0,0,.84,0L23,8.72a7.05,7.05,0,0,1-.47-2l-4.47,2L13,6.43l5.1-2.35,4.44,2s0-.06,0-.09a7.55,7.55,0,0,1,.27-2l-4.3-2a1,1,0,0,0-.84,0l-7.5,3.45a1,1,0,0,0-.58.91v9.14l-6.9,3.18a1,1,0,0,0-.58.91v9.78a1,1,0,0,0,.58.91l7.5,3.45a1,1,0,0,0,.84,0l7.08-3.26,7.08,3.26a1,1,0,0,0,.84,0l7.5-3.45a1,1,0,0,0,.58-.91V19.67A1,1,0,0,0,33.53,18.76ZM10.6,17.31l5.11,2.35L10.6,22,5.49,19.67Zm0,14.49-6.5-3V21.23L10.18,24A1,1,0,0,0,11,24l6.08-2.8,0,7.6Zm15-14.48,5.11,2.35L25.61,22,20.5,19.67Zm0,14.49-6.51-3V21.22L25.19,24A1,1,0,0,0,26,24l6.08-2.8,0,7.61Z"/>',solid:'<path d="M33.53,18.76,26.6,15.57V6.43A1,1,0,0,0,26,5.53l-7.5-3.45a1,1,0,0,0-.84,0l-7.5,3.45a1,1,0,0,0-.58.91v9.14L2.68,18.76a1,1,0,0,0-.58.91v9.78h0a1,1,0,0,0,.58.91l7.5,3.45a1,1,0,0,0,.84,0l7.08-3.26,7.08,3.26a1,1,0,0,0,.84,0l7.5-3.45a1,1,0,0,0,.58-.91h0V19.67A1,1,0,0,0,33.53,18.76ZM25.61,22,20.5,19.67l5.11-2.35,5.11,2.35Zm-1-6.44-6.44,3V10.87a1,1,0,0,0,.35-.08L24.6,8v7.58ZM18.1,4.08l5.11,2.35L18.1,8.78,13,6.43ZM10.6,17.31l5.11,2.35L10.6,22,5.49,19.67Zm6.5,11.49-6.5,3h0V24.11h0A1,1,0,0,0,11,24l6.08-2.8Zm15,0-6.46,3V24.11A1,1,0,0,0,26,24l6.08-2.8Z"/>',solidAlerted:'<path d="M33.53,18.76,26.6,15.57v0h-2v0l-6.43,3V10.87a1.05,1.05,0,0,0,.35-.08l.14-.06A3.23,3.23,0,0,1,19,10l1.28-2.22-2.14,1L13,6.43l5.1-2.35,3.39,1.56,1-1.73-4-1.83a1,1,0,0,0-.84,0l-7.5,3.45a1,1,0,0,0-.58.91v9.14l-6.9,3.18a1,1,0,0,0-.58.91v9.78a1,1,0,0,0,.58.91l7.5,3.45a1,1,0,0,0,.84,0l7.08-3.26,7.08,3.26a1,1,0,0,0,.84,0l7.5-3.45a1,1,0,0,0,.58-.91V19.67A1,1,0,0,0,33.53,18.76Zm-28,.91,5.11-2.36,5.11,2.35L10.6,22ZM10.6,31.8V24.11A1.08,1.08,0,0,0,11,24l6.08-2.8,0,7.6Zm9.9-12.13,5.11-2.35,5.11,2.35L25.61,22ZM25.64,31.8V24.11A.89.89,0,0,0,26,24l6.08-2.8,0,7.6Z"/>',solidBadged:'<path d="M33.53,18.76,26.6,15.57V12.69a7.66,7.66,0,0,1-2-1.47v4.34l-6.43,3V10.87a1.05,1.05,0,0,0,.35-.08L23,8.73a7.65,7.65,0,0,1-.48-2l-4.42,2L13,6.43l5.1-2.35,4.38,2V6a7.55,7.55,0,0,1,.27-2L18.5,2.08a1,1,0,0,0-.84,0l-7.5,3.45a1,1,0,0,0-.58.91v9.14l-6.9,3.18a1,1,0,0,0-.58.91v9.78a1,1,0,0,0,.58.91l7.5,3.45a1,1,0,0,0,.84,0l7.08-3.26,7.08,3.26a1,1,0,0,0,.84,0l7.5-3.45a1,1,0,0,0,.58-.91V19.67A1,1,0,0,0,33.53,18.76Zm-28,.91,5.11-2.36,5.11,2.35L10.6,22ZM10.6,31.8V24.11A1.08,1.08,0,0,0,11,24l6.08-2.8,0,7.6Zm9.9-12.13,5.11-2.35,5.11,2.35L25.61,22ZM25.64,31.8V24.11A.89.89,0,0,0,26,24l6.08-2.8,0,7.6Z"/>'}],["help",{outline:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/><path d="M18.29,8.92a7.38,7.38,0,0,0-5.72,2.57,1,1,0,0,0-.32.71.92.92,0,0,0,.95.92,1.08,1.08,0,0,0,.71-.29,5.7,5.7,0,0,1,4.33-2c2.36,0,3.83,1.52,3.83,3.41v.05c0,2.21-1.76,3.44-4.54,3.65a.8.8,0,0,0-.76.92s0,2.32,0,2.75a1,1,0,0,0,1,.9h.11a1,1,0,0,0,.9-1V19.45c3-.42,5.43-2,5.43-5.28v-.05C24.18,11.12,21.84,8.92,18.29,8.92Z"/><circle cx="17.78" cy="26.2" r="1.25"/>',outlineBadged:'<path d="M24.18,14.17v-.05c0-3-2.34-5.2-5.88-5.2a7.38,7.38,0,0,0-5.72,2.57,1,1,0,0,0-.32.71.92.92,0,0,0,.95.92,1.08,1.08,0,0,0,.71-.29,5.7,5.7,0,0,1,4.33-2c2.36,0,3.83,1.52,3.83,3.41v.05c0,2.21-1.76,3.44-4.54,3.65a.8.8,0,0,0-.76.92s0,2.32,0,2.75a1,1,0,0,0,1,.9h.11a1,1,0,0,0,.9-1V19.45C21.75,19,24.18,17.45,24.18,14.17Z"/><circle cx="17.78" cy="26.2" r="1.25"/><path d="M33.12,12.81a7.43,7.43,0,0,1-1.91.58,14.05,14.05,0,1,1-8.6-8.6,7.44,7.44,0,0,1,.58-1.91,16.06,16.06,0,1,0,9.93,9.93Z"/>',solid:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm-.22,25.85a1.65,1.65,0,1,1,1.65-1.65A1.65,1.65,0,0,1,17.78,27.85Zm1.37-8.06v1.72a1.37,1.37,0,0,1-1.3,1.36h-.11a1.34,1.34,0,0,1-1.39-1.3c0-.44,0-2.76,0-2.76a1.19,1.19,0,0,1,1.12-1.31c1.57-.12,4.18-.7,4.18-3.25,0-1.83-1.41-3.07-3.43-3.07a5.31,5.31,0,0,0-4,1.92,1.36,1.36,0,0,1-2.35-.9,1.43,1.43,0,0,1,.43-1,7.77,7.77,0,0,1,6-2.69c3.7,0,6.28,2.3,6.28,5.6C24.58,17.16,22.61,19.2,19.15,19.79Z"/>',solidBadged:'<path d="M33.12,12.81a7.49,7.49,0,0,1-9.93-9.93,16.06,16.06,0,1,0,9.93,9.93Zm-15.34,15a1.65,1.65,0,1,1,1.65-1.65A1.65,1.65,0,0,1,17.78,27.85Zm1.37-8.06v1.72a1.37,1.37,0,0,1-1.3,1.36h-.11a1.34,1.34,0,0,1-1.39-1.3c0-.44,0-2.76,0-2.76a1.19,1.19,0,0,1,1.12-1.31c1.57-.12,4.18-.7,4.18-3.25,0-1.83-1.41-3.07-3.43-3.07a5.31,5.31,0,0,0-4,1.92,1.36,1.36,0,0,1-2.35-.9,1.43,1.43,0,0,1,.43-1,7.77,7.77,0,0,1,6-2.69c3.7,0,6.28,2.3,6.28,5.6C24.58,17.16,22.61,19.2,19.15,19.79Z"/>'}],Lc,["scroll",{outline:'<path d="M34,11.12V6.58a4.5,4.5,0,0,0-4.5-4.5h-16A4.5,4.5,0,0,0,9,6.58v23a2.5,2.5,0,1,1-5,0V26H7.19V24H2v5.5A4.5,4.5,0,0,0,6.5,34H25.58a4.5,4.5,0,0,0,4.5-4.5V13.13h-2V29.54a2.5,2.5,0,0,1-2.5,2.5H10.24a4.47,4.47,0,0,0,.76-2.5v-23a2.5,2.5,0,0,1,5,0v4.54Zm-4.5-7A2.5,2.5,0,0,1,32,6.58V9.12H18V6.58a4.48,4.48,0,0,0-.76-2.5Z"/>',outlineAlerted:'<path d="M28.08,15.4V29.54a2.5,2.5,0,0,1-2.5,2.5H10.24a4.47,4.47,0,0,0,.76-2.5v-23a2.5,2.5,0,0,1,5,0v4.54h2.61A3.66,3.66,0,0,1,19,9.89l.44-.76H18V6.58a4.48,4.48,0,0,0-.76-2.5H22.4l1.15-2H13.5A4.5,4.5,0,0,0,9,6.58v23a2.5,2.5,0,1,1-5,0V26H7.19V24H2v5.5A4.5,4.5,0,0,0,6.5,34H25.58a4.5,4.5,0,0,0,4.5-4.5V15.4Z"/>',outlineBadged:'<path d="M30,13.5a7.49,7.49,0,0,1-1.92-.26v16.3a2.5,2.5,0,0,1-2.5,2.5H10.24a4.47,4.47,0,0,0,.76-2.5v-23a2.5,2.5,0,0,1,5,0v4.54h8.54a7.5,7.5,0,0,1-1.35-2H18V6.58a4.48,4.48,0,0,0-.76-2.5h5.52a7.44,7.44,0,0,1,.86-2H13.5A4.5,4.5,0,0,0,9,6.58v23a2.5,2.5,0,1,1-5,0V26H7.19V24H2v5.5A4.5,4.5,0,0,0,6.5,34H25.58a4.5,4.5,0,0,0,4.5-4.5v-16Z"/>',solid:'<path d="M34,11.12V6.58a4.5,4.5,0,0,0-4.5-4.5h-16A4.5,4.5,0,0,0,9,6.58V24H2v5.5A4.5,4.5,0,0,0,6.5,34H25.58a4.5,4.5,0,0,0,4.5-4.5V13.13h-2V29.54a2.5,2.5,0,0,1-2.5,2.5H10.24a4.47,4.47,0,0,0,.76-2.5v-23a2.5,2.5,0,0,1,5,0v4.54Z"/>',solidAlerted:'<path d="M28.08,15.4V29.54a2.5,2.5,0,0,1-2.5,2.5H10.24a4.47,4.47,0,0,0,.76-2.5v-23a2.5,2.5,0,0,1,5,0v4.54h2.61A3.66,3.66,0,0,1,19,9.89l4.51-7.8H13.5A4.5,4.5,0,0,0,9,6.58V24H2v5.5A4.5,4.5,0,0,0,6.5,34H25.58a4.5,4.5,0,0,0,4.5-4.5V15.4Z"/>',solidBadged:'<path d="M30,13.5a7.49,7.49,0,0,1-1.92-.26v16.3a2.5,2.5,0,0,1-2.5,2.5H10.24a4.47,4.47,0,0,0,.76-2.5v-23a2.5,2.5,0,0,1,5,0v4.54h8.54a7.46,7.46,0,0,1-.92-9H13.5A4.5,4.5,0,0,0,9,6.58V24H2v5.5A4.5,4.5,0,0,0,6.5,34H25.58a4.5,4.5,0,0,0,4.5-4.5v-16Z"/>'}],["book",{outline:'<rect x="10" y="5.2" width="18" height="1.55"/><path d="M29,8H9.86A1.89,1.89,0,0,1,8,6,2,2,0,0,1,9.86,4H29a1,1,0,0,0,0-2H9.86A4,4,0,0,0,6,6a4.14,4.14,0,0,0,0,.49,1,1,0,0,0,0,.24V30a4,4,0,0,0,3.86,4H29a1,1,0,0,0,1-1V9.25s0-.06,0-.09,0-.06,0-.09A1.07,1.07,0,0,0,29,8ZM28,32H9.86A2,2,0,0,1,8,30V9.55A3.63,3.63,0,0,0,9.86,10H28Z"/>',solid:'<rect x="10" y="5.2" width="18" height="1.55"/><path d="M29,8H9.86A1.89,1.89,0,0,1,8,6,2,2,0,0,1,9.86,4H29a1,1,0,1,0,0-2H9.86A4,4,0,0,0,6,6a4.14,4.14,0,0,0,0,.49,1,1,0,0,0,0,.24V30a4,4,0,0,0,3.86,4H29a1,1,0,0,0,1-1V9.25s0-.06,0-.09,0-.06,0-.09A1.07,1.07,0,0,0,29,8Z"/>'}],["note",{outline:'<path d="M28,30H6V8H19.22l2-2H6A2,2,0,0,0,4,8V30a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V15l-2,2Z"/><path d="M33.53,5.84,30.16,2.47a1.61,1.61,0,0,0-2.28,0L14.17,16.26l-1.11,4.81A1.61,1.61,0,0,0,14.63,23,1.69,1.69,0,0,0,15,23l4.85-1.07L33.53,8.12A1.61,1.61,0,0,0,33.53,5.84ZM18.81,20.08l-3.66.81L16,17.26,26.32,6.87l2.82,2.82ZM30.27,8.56,27.45,5.74,29,4.16,31.84,7Z"/>',solid:'<path d="M33,6.4,29.3,2.7a1.71,1.71,0,0,0-2.36,0L23.65,6H6A2,2,0,0,0,4,8V30a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V11.76l3-3A1.67,1.67,0,0,0,33,6.4ZM18.83,20.13l-4.19.93,1-4.15,9.55-9.57,3.23,3.23ZM29.5,9.43,26.27,6.2l1.85-1.85,3.23,3.23Z"/>'}],["calculator",{outline:'<path d="M28,2H8A2,2,0,0,0,6,4V32a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V4A2,2,0,0,0,28,2ZM8,32V4H28V32Z"/><path d="M12,8H25.67V6H11a1,1,0,0,0-1,1v4.67h2Z"/><polygon points="12 16 10 16 10 18 14 18 14 14 12 14 12 16"/><polygon points="24 16 22 16 22 18 26 18 26 14 24 14 24 16"/><polygon points="18 16 16 16 16 18 20 18 20 14 18 14 18 16"/><polygon points="12 22 10 22 10 24 14 24 14 20 12 20 12 22"/><polygon points="24 22 22 22 22 24 26 24 26 20 24 20 24 22"/><polygon points="18 22 16 22 16 24 20 24 20 20 18 20 18 22"/><polygon points="12 28 10 28 10 30 14 30 14 26 12 26 12 28"/><polygon points="24 28 22 28 22 30 26 30 26 26 24 26 24 28"/><polygon points="18 28 16 28 16 30 20 30 20 26 18 26 18 28"/>',solid:'<path d="M28,2H8A2,2,0,0,0,6,4V32a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V4A2,2,0,0,0,28,2ZM12,28H10V26h2Zm0-6H10V20h2Zm0-6H10V14h2Zm7,12H17V26h2Zm0-6H17V20h2Zm0-6H17V14h2Zm7,12H24V26h2Zm0-6H24V20h2Zm0-6H24V14h2Zm0-7H10V5H26Z"/>'}],["plus",{outline:'<path d="M30,17H19V6a1,1,0,1,0-2,0V17H6a1,1,0,0,0-1,1,.91.91,0,0,0,1,.94H17V30a1,1,0,1,0,2,0V19H30a1,1,0,0,0,1-1A1,1,0,0,0,30,17Z"/>'}],["bug",{outline:'<circle cx="23.56" cy="17.74" r="1.95"/><circle cx="22.42" cy="25.88" r="1.58"/><circle cx="12.86" cy="17.74" r="1.95"/><circle cx="13.99" cy="25.88" r="1.58"/><path d="M30.83,20H29a19.29,19.29,0,0,0-1.18-5.73l1.46-.79a1,1,0,0,0-.95-1.76l-3,1.64A17.65,17.65,0,0,1,27,20.72C27,27,23.8,31.23,18.8,31.62V15H17.2V31.62C12.22,31.21,9,27,9,20.72a17.74,17.74,0,0,1,1.73-7.34L7.7,11.72a1,1,0,0,0-.95,1.76l1.5.8A19.38,19.38,0,0,0,7.07,20H5.17a1,1,0,0,0,0,2H7.1a14.62,14.62,0,0,0,1.66,6.17L6.87,29.49A1,1,0,1,0,8,31.12l1.84-1.29A10.38,10.38,0,0,0,18,33.66a10.38,10.38,0,0,0,8.14-3.81L28,31.12a1,1,0,1,0,1.15-1.64l-1.86-1.3A14.61,14.61,0,0,0,28.94,22h1.89a1,1,0,0,0,0-2Z"/><path d="M11.51,5.36a1.67,1.67,0,0,0,1.07-.51A3.21,3.21,0,0,1,13.76,6a16.38,16.38,0,0,0-2.65,2.89,2,2,0,0,0,1.61,3.19H23.32A2,2,0,0,0,25.1,11a2,2,0,0,0-.17-2.1A16.34,16.34,0,0,0,22.25,6a3.21,3.21,0,0,1,1.17-1.11A1.68,1.68,0,1,0,23,3.27,4.77,4.77,0,0,0,21,5a5.81,5.81,0,0,0-2.93-1,5.83,5.83,0,0,0-3,1A4.77,4.77,0,0,0,13,3.27a1.68,1.68,0,1,0-1.49,2.09ZM18,6.07c1.45,0,3.53,1.57,5.31,4h0l-10.6,0C14.49,7.63,16.56,6.07,18,6.07Z"/>',solid:'<path d="M30.83,20H29a19.29,19.29,0,0,0-1.18-5.73l1.46-.79a1,1,0,0,0-.95-1.76l-3,1.28H10.78L7.7,11.72a1,1,0,0,0-.95,1.76l1.5.8A19.38,19.38,0,0,0,7.07,20H5.17a1,1,0,0,0,0,2H7.1a14.62,14.62,0,0,0,1.66,6.17L6.87,29.49A1,1,0,1,0,8,31.12l1.84-1.29A10.29,10.29,0,0,0,17,33.6V15h2V33.6a10.29,10.29,0,0,0,7.16-3.75L28,31.12a1,1,0,1,0,1.15-1.64l-1.86-1.3A14.61,14.61,0,0,0,28.94,22h1.89a1,1,0,0,0,0-2ZM10.91,17.74a1.95,1.95,0,1,1,1.95,1.95A1.95,1.95,0,0,1,10.91,17.74ZM14,27.46a1.58,1.58,0,1,1,1.58-1.58A1.58,1.58,0,0,1,14,27.46Zm8.43,0A1.58,1.58,0,1,1,24,25.88,1.58,1.58,0,0,1,22.42,27.46Zm1.13-7.77a1.95,1.95,0,1,1,1.95-1.95A1.95,1.95,0,0,1,23.56,19.69Z"/><path d="M11.23,5.26a1.67,1.67,0,0,0,.54-.32,5.9,5.9,0,0,1,.89.58,7.44,7.44,0,0,1,.95.94A18.48,18.48,0,0,0,10.79,9.7c-.4.57.09,1.28.86,1.28H24.44c.77,0,1.26-.71.86-1.28a18.38,18.38,0,0,0-2.88-3.28,7.28,7.28,0,0,1,.91-.9,5.9,5.9,0,0,1,.89-.58,1.69,1.69,0,1,0-.56-1.51,7.49,7.49,0,0,0-1.32.83,9.06,9.06,0,0,0-1.19,1.18A5.85,5.85,0,0,0,18,4.3a5.91,5.91,0,0,0-3.17,1.19,9.2,9.2,0,0,0-1.22-1.21,7.49,7.49,0,0,0-1.32-.83,1.68,1.68,0,1,0-1.11,1.83Z"/>'}],["alarm-clock",{outline:'<path d="M31.47,3.84a5.78,5.78,0,0,0-7.37-.63,16.08,16.08,0,0,1,8.2,7.65A5.73,5.73,0,0,0,31.47,3.84Z"/><path d="M11.42,3.43a5.77,5.77,0,0,0-7.64.41,5.72,5.72,0,0,0-.38,7.64A16.08,16.08,0,0,1,11.42,3.43Z"/><path d="M16.4,4.09A14,14,0,0,0,8.11,27.88L5.56,30.43A1,1,0,1,0,7,31.84l2.66-2.66a13.9,13.9,0,0,0,16.88-.08l2.74,2.74a1,1,0,0,0,1.41-1.41L28,27.78A14,14,0,0,0,16.4,4.09ZM19.58,29.9A12,12,0,1,1,29.92,19.56,12,12,0,0,1,19.58,29.9Z"/><path d="M24.92,20.34l-6.06-3V9.5a.9.9,0,0,0-1.8,0v9L24.12,22a.9.9,0,1,0,.79-1.62Z"/>',outlineAlerted:'<path d="M11.42,3.43a5.77,5.77,0,0,0-7.64.41,5.72,5.72,0,0,0-.38,7.64A16.08,16.08,0,0,1,11.42,3.43Z"/><path d="M18.86,9.5a.9.9,0,0,0-1.8,0v9L24.12,22a.9.9,0,1,0,.79-1.62l-6.06-3Z"/><path d="M28,27.78A13.88,13.88,0,0,0,31.77,15.4h-2a12.07,12.07,0,1,1-8.67-9l1-1.8a14,14,0,0,0-14,23.27L5.56,30.43A1,1,0,1,0,7,31.84l2.66-2.66a13.9,13.9,0,0,0,16.88-.08l2.74,2.74a1,1,0,0,0,1.41-1.41Z"/>',outlineBadged:'<path d="M11.42,3.43a5.77,5.77,0,0,0-7.64.41,5.72,5.72,0,0,0-.38,7.64A16.08,16.08,0,0,1,11.42,3.43Z"/><path d="M18.86,9.5a.9.9,0,0,0-1.8,0v9L24.12,22a.9.9,0,1,0,.79-1.62l-6.06-3Z"/><path d="M28,27.78a13.89,13.89,0,0,0,3.21-14.39,7,7,0,0,1-2.11.05A12,12,0,1,1,22.56,6.9,7.54,7.54,0,0,1,22.5,6a7.52,7.52,0,0,1,.11-1.21A14,14,0,0,0,8.11,27.88L5.56,30.43A1,1,0,1,0,7,31.84l2.66-2.66a13.9,13.9,0,0,0,16.88-.08l2.74,2.74a1,1,0,0,0,1.41-1.41Z"/>',solid:'<path d="M31.47,3.84a5.78,5.78,0,0,0-7.37-.63,16.08,16.08,0,0,1,8.2,7.65A5.73,5.73,0,0,0,31.47,3.84Z"/><path d="M11.42,3.43a5.77,5.77,0,0,0-7.64.41,5.72,5.72,0,0,0-.38,7.64A16.08,16.08,0,0,1,11.42,3.43Z"/><path d="M18,4A14,14,0,0,0,8.11,27.88L5.56,30.43A1,1,0,1,0,7,31.84l2.66-2.66a13.9,13.9,0,0,0,16.88-.08l2.74,2.74a1,1,0,0,0,1.41-1.41L28,27.78A14,14,0,0,0,18,4Zm7.47,17.43a1,1,0,0,1-1.33.47L17,18.44V9.69a1,1,0,0,1,2,0v7.5L25,20.1A1,1,0,0,1,25.49,21.43Z"/>',solidAlerted:'<path d="M11.42,3.43a5.77,5.77,0,0,0-7.64.41,5.72,5.72,0,0,0-.38,7.64A16.08,16.08,0,0,1,11.42,3.43Z"/><path d="M28,27.78A13.88,13.88,0,0,0,31.77,15.4H22.23A3.69,3.69,0,0,1,19,13.56L19,13.4v3.78L25,20.1a1,1,0,1,1-.87,1.8L17,18.44V9.69a1,1,0,0,1,2,0V10L19,9.89l3-5.28a14,14,0,0,0-14,23.27L5.56,30.43A1,1,0,1,0,7,31.84l2.66-2.66a13.9,13.9,0,0,0,16.88-.08l2.74,2.74a1,1,0,0,0,1.41-1.41Z"/>',solidBadged:'<path d="M11.42,3.43a5.77,5.77,0,0,0-7.64.41,5.72,5.72,0,0,0-.38,7.64A16.08,16.08,0,0,1,11.42,3.43Z"/><path d="M28,27.78a13.89,13.89,0,0,0,3.21-14.39A7.46,7.46,0,0,1,22.5,6a7.52,7.52,0,0,1,.11-1.21A14,14,0,0,0,8.11,27.88L5.56,30.43A1,1,0,1,0,7,31.84l2.66-2.66a13.9,13.9,0,0,0,16.88-.08l2.74,2.74a1,1,0,0,0,1.41-1.41Zm-2.52-6.35a1,1,0,0,1-1.33.47L17,18.44V9.69a1,1,0,0,1,2,0v7.5L25,20.1A1,1,0,0,1,25.49,21.43Z"/>'}],["users",{outline:'<path d="M17.9,17.3c2.7,0,4.8-2.2,4.8-4.9c0-2.7-2.2-4.8-4.9-4.8c-2.7,0-4.8,2.2-4.8,4.8C13,15.1,15.2,17.3,17.9,17.3z M17.8,9.6C17.9,9.6,17.9,9.6,17.8,9.6c1.6,0,2.9,1.3,2.9,2.9s-1.3,2.8-2.9,2.8c-1.6,0-2.8-1.3-2.8-2.8C15,10.9,16.3,9.6,17.8,9.6z"/><path d="M32.7,16.7c-1.9-1.7-4.4-2.6-7-2.5c-0.3,0-0.5,0-0.8,0c-0.2,0.8-0.5,1.5-0.9,2.1c0.6-0.1,1.1-0.1,1.7-0.1c1.9-0.1,3.8,0.5,5.3,1.6V25h2v-8L32.7,16.7z"/><path d="M23.4,7.8c0.5-1.2,1.9-1.8,3.2-1.3c1.2,0.5,1.8,1.9,1.3,3.2c-0.4,0.9-1.3,1.5-2.2,1.5c-0.2,0-0.5,0-0.7-0.1c0.1,0.5,0.1,1,0.1,1.4c0,0.2,0,0.4,0,0.6c0.2,0,0.4,0.1,0.6,0.1c2.5,0,4.5-2,4.5-4.4c0-2.5-2-4.5-4.4-4.5c-1.6,0-3,0.8-3.8,2.2C22.5,6.8,23,7.2,23.4,7.8z"/><path d="M12,16.4c-0.4-0.6-0.7-1.3-0.9-2.1c-0.3,0-0.5,0-0.8,0c-2.6-0.1-5.1,0.8-7,2.4L3,17v8h2v-7.2c1.6-1.1,3.4-1.7,5.3-1.6C10.9,16.2,11.5,16.3,12,16.4z"/><path d="M10.3,13.1c0.2,0,0.4,0,0.6-0.1c0-0.2,0-0.4,0-0.6c0-0.5,0-1,0.1-1.4c-0.2,0.1-0.5,0.1-0.7,0.1c-1.3,0-2.4-1.1-2.4-2.4c0-1.3,1.1-2.4,2.4-2.4c1,0,1.9,0.6,2.3,1.5c0.4-0.5,1-1,1.5-1.4c-1.3-2.1-4-2.8-6.1-1.5c-2.1,1.3-2.8,4-1.5,6.1C7.3,12.3,8.7,13.1,10.3,13.1z"/><path d="M26.1,22.7l-0.2-0.3c-2-2.2-4.8-3.5-7.8-3.4c-3-0.1-5.9,1.2-7.9,3.4L10,22.7v7.6c0,0.9,0.7,1.7,1.7,1.7c0,0,0,0,0,0h12.8c0.9,0,1.7-0.8,1.7-1.7c0,0,0,0,0,0V22.7z M24.1,30H12v-6.6c1.6-1.6,3.8-2.4,6.1-2.4c2.2-0.1,4.4,0.8,6,2.4V30z"/>',outlineAlerted:'<path d="M11.09,14.57c.1,0,.2,0,.31,0a6.43,6.43,0,0,1,.09-2,2.09,2.09,0,1,1,1.47-3,6.58,6.58,0,0,1,1.55-1.31,4.09,4.09,0,1,0-3.42,6.33Z"/><path d="M13,18.14a6.53,6.53,0,0,1-1.28-2.2l-.63,0a8.67,8.67,0,0,0-6.43,2.52l-.24.28v7h2V19.51a7,7,0,0,1,4.67-1.6A8.09,8.09,0,0,1,13,18.14Z"/><path d="M31.35,18.42A8.59,8.59,0,0,0,25,15.91c-.32,0-.6,0-.9.06a6.53,6.53,0,0,1-1.35,2.25A7.9,7.9,0,0,1,25,17.91a6.94,6.94,0,0,1,4.64,1.58v6.27h2V18.7Z"/><path d="M18.1,19.73A9.69,9.69,0,0,0,11,22.47l-.25.28v7.33a1.57,1.57,0,0,0,1.61,1.54H23.83a1.57,1.57,0,0,0,1.61-1.54V22.73l-.25-.28A9.58,9.58,0,0,0,18.1,19.73Zm5.33,9.88H12.73V23.55a8.08,8.08,0,0,1,5.37-1.82,8,8,0,0,1,5.33,1.8Z"/><path d="M20.28,14.27a2.46,2.46,0,1,1-2.42-2.89,2.44,2.44,0,0,1,1,.24,3.67,3.67,0,0,1,.43-2,4.41,4.41,0,0,0-1.48-.27A4.47,4.47,0,1,0,22.14,15,3.69,3.69,0,0,1,20.28,14.27Z"/>',outlineBadged:'<path d="M11.09,14.57c.1,0,.2,0,.31,0a6.43,6.43,0,0,1,.09-2,2.09,2.09,0,1,1,1.47-3,6.58,6.58,0,0,1,1.55-1.31,4.09,4.09,0,1,0-3.42,6.33Z"/><path d="M13,18.14a6.53,6.53,0,0,1-1.28-2.2l-.63,0a8.67,8.67,0,0,0-6.43,2.52l-.24.28v7h2V19.51a7,7,0,0,1,4.67-1.6A8.09,8.09,0,0,1,13,18.14Z"/><path d="M31.35,18.42A8.59,8.59,0,0,0,25,15.91c-.32,0-.6,0-.9.06a6.53,6.53,0,0,1-1.35,2.25A7.9,7.9,0,0,1,25,17.91a6.94,6.94,0,0,1,4.64,1.58v6.27h2V18.7Z"/><path d="M17.86,18.3a4.47,4.47,0,1,0-4.47-4.47A4.47,4.47,0,0,0,17.86,18.3Zm0-6.93a2.47,2.47,0,1,1-2.47,2.47A2.47,2.47,0,0,1,17.86,11.37Z"/><path d="M18.1,19.73A9.69,9.69,0,0,0,11,22.47l-.25.28v7.33a1.57,1.57,0,0,0,1.61,1.54H23.83a1.57,1.57,0,0,0,1.61-1.54V22.73l-.25-.28A9.58,9.58,0,0,0,18.1,19.73Zm5.33,9.88H12.73V23.55a8.08,8.08,0,0,1,5.37-1.82,8,8,0,0,1,5.33,1.8Z"/><path d="M26.37,12a2,2,0,0,1-2.09.42,6.53,6.53,0,0,1,.15,1.38,6.59,6.59,0,0,1,0,.68,4,4,0,0,0,.57.06,4.08,4.08,0,0,0,3.3-1.7A7.45,7.45,0,0,1,26.37,12Z"/><path d="M22.95,6.93a4.16,4.16,0,0,0-1.47,1.44A6.59,6.59,0,0,1,23,9.77a2.1,2.1,0,0,1,.59-.83A7.44,7.44,0,0,1,22.95,6.93Z"/>',solid:'<path d="M12,16.14q-.43,0-.87,0a8.67,8.67,0,0,0-6.43,2.52l-.24.28v8.28H8.54v-4.7l.55-.62.25-.29a11,11,0,0,1,4.71-2.86A6.59,6.59,0,0,1,12,16.14Z"/><path d="M31.34,18.63a8.67,8.67,0,0,0-6.43-2.52,10.47,10.47,0,0,0-1.09.06,6.59,6.59,0,0,1-2,2.45,10.91,10.91,0,0,1,5,3l.25.28.54.62v4.71h3.94V18.91Z"/><path d="M11.1,14.19c.11,0,.2,0,.31,0a6.45,6.45,0,0,1,3.11-6.29,4.09,4.09,0,1,0-3.42,6.33Z"/><path d="M24.43,13.44a6.54,6.54,0,0,1,0,.69,4.09,4.09,0,0,0,.58.05h.19A4.09,4.09,0,1,0,21.47,8,6.53,6.53,0,0,1,24.43,13.44Z"/><circle cx="17.87" cy="13.45" r="4.47"/><path d="M18.11,20.3A9.69,9.69,0,0,0,11,23l-.25.28v6.33a1.57,1.57,0,0,0,1.6,1.54H23.84a1.57,1.57,0,0,0,1.6-1.54V23.3L25.2,23A9.58,9.58,0,0,0,18.11,20.3Z"/>',solidAlerted:'<path d="M12,16.14q-.43,0-.87,0a8.67,8.67,0,0,0-6.43,2.52l-.24.28v8.28H8.54v-4.7l.55-.62.25-.29a11,11,0,0,1,4.71-2.86A6.59,6.59,0,0,1,12,16.14Z"/><path d="M31.34,18.63a8.67,8.67,0,0,0-6.43-2.52,10.47,10.47,0,0,0-1.09.06,6.59,6.59,0,0,1-2,2.45,10.91,10.91,0,0,1,5,3l.25.28.54.62v4.71h3.94V18.91Z"/><path d="M11.1,14.19c.11,0,.2,0,.31,0a6.45,6.45,0,0,1,3.11-6.29,4.09,4.09,0,1,0-3.42,6.33Z"/><path d="M18.11,20.3A9.69,9.69,0,0,0,11,23l-.25.28v6.33a1.57,1.57,0,0,0,1.6,1.54H23.84a1.57,1.57,0,0,0,1.6-1.54V23.3L25.2,23A9.58,9.58,0,0,0,18.11,20.3Z"/><path d="M17.87,17.92a4.46,4.46,0,0,0,4-2.54A3.67,3.67,0,0,1,19,9.89l.35-.61A4.42,4.42,0,0,0,17.87,9a4.47,4.47,0,1,0,0,8.93Z"/>',solidBadged:'<path d="M12,16.14q-.43,0-.87,0a8.67,8.67,0,0,0-6.43,2.52l-.24.28v8.28H8.54v-4.7l.55-.62.25-.29a11,11,0,0,1,4.71-2.86A6.58,6.58,0,0,1,12,16.14Z"/><path d="M31.34,18.63a8.67,8.67,0,0,0-6.43-2.52,10.47,10.47,0,0,0-1.09.06,6.59,6.59,0,0,1-2,2.45,10.91,10.91,0,0,1,5,3l.25.28.54.62v4.71h3.94V18.91Z"/><path d="M11.1,14.19c.11,0,.2,0,.31,0a6.45,6.45,0,0,1,3.11-6.29,4.09,4.09,0,1,0-3.42,6.33Z"/><circle cx="17.87" cy="13.45" r="4.47"/><path d="M18.11,20.3A9.69,9.69,0,0,0,11,23l-.25.28v6.33a1.57,1.57,0,0,0,1.6,1.54H23.84a1.57,1.57,0,0,0,1.6-1.54V23.3L25.2,23A9.58,9.58,0,0,0,18.11,20.3Z"/><path d="M24.43,13.44a6.54,6.54,0,0,1,0,.69,4.09,4.09,0,0,0,.58.05h.19a4.05,4.05,0,0,0,2.52-1,7.5,7.5,0,0,1-5.14-6.32A4.13,4.13,0,0,0,21.47,8,6.53,6.53,0,0,1,24.43,13.44Z"/>'}],["cog",{outline:'<path d="M18.1,11c-3.9,0-7,3.1-7,7s3.1,7,7,7c3.9,0,7-3.1,7-7S22,11,18.1,11z M18.1,23c-2.8,0-5-2.2-5-5s2.2-5,5-5c2.8,0,5,2.2,5,5S20.9,23,18.1,23z"/><path d="M32.8,14.7L30,13.8l-0.6-1.5l1.4-2.6c0.3-0.6,0.2-1.4-0.3-1.9l-2.4-2.4c-0.5-0.5-1.3-0.6-1.9-0.3l-2.6,1.4l-1.5-0.6l-0.9-2.8C21,2.5,20.4,2,19.7,2h-3.4c-0.7,0-1.3,0.5-1.4,1.2L14,6c-0.6,0.1-1.1,0.3-1.6,0.6L9.8,5.2C9.2,4.9,8.4,5,7.9,5.5L5.5,7.9C5,8.4,4.9,9.2,5.2,9.8l1.3,2.5c-0.2,0.5-0.4,1.1-0.6,1.6l-2.8,0.9C2.5,15,2,15.6,2,16.3v3.4c0,0.7,0.5,1.3,1.2,1.5L6,22.1l0.6,1.5l-1.4,2.6c-0.3,0.6-0.2,1.4,0.3,1.9l2.4,2.4c0.5,0.5,1.3,0.6,1.9,0.3l2.6-1.4l1.5,0.6l0.9,2.9c0.2,0.6,0.8,1.1,1.5,1.1h3.4c0.7,0,1.3-0.5,1.5-1.1l0.9-2.9l1.5-0.6l2.6,1.4c0.6,0.3,1.4,0.2,1.9-0.3l2.4-2.4c0.5-0.5,0.6-1.3,0.3-1.9l-1.4-2.6l0.6-1.5l2.9-0.9c0.6-0.2,1.1-0.8,1.1-1.5v-3.4C34,15.6,33.5,14.9,32.8,14.7z M32,19.4l-3.6,1.1L28.3,21c-0.3,0.7-0.6,1.4-0.9,2.1l-0.3,0.5l1.8,3.3l-2,2l-3.3-1.8l-0.5,0.3c-0.7,0.4-1.4,0.7-2.1,0.9l-0.5,0.1L19.4,32h-2.8l-1.1-3.6L15,28.3c-0.7-0.3-1.4-0.6-2.1-0.9l-0.5-0.3l-3.3,1.8l-2-2l1.8-3.3l-0.3-0.5c-0.4-0.7-0.7-1.4-0.9-2.1l-0.1-0.5L4,19.4v-2.8l3.4-1l0.2-0.5c0.2-0.8,0.5-1.5,0.9-2.2l0.3-0.5L7.1,9.1l2-2l3.2,1.8l0.5-0.3c0.7-0.4,1.4-0.7,2.2-0.9l0.5-0.2L16.6,4h2.8l1.1,3.5L21,7.7c0.7,0.2,1.4,0.5,2.1,0.9l0.5,0.3l3.3-1.8l2,2l-1.8,3.3l0.3,0.5c0.4,0.7,0.7,1.4,0.9,2.1l0.1,0.5l3.6,1.1V19.4z"/>',outlineAlerted:'<path d="M33.7,15.4h-5.3v0.1l3.6,1.1v2.8l-3.6,1.1L28.3,21c-0.3,0.7-0.6,1.4-0.9,2.1l-0.3,0.5l1.8,3.3l-2,2l-3.3-1.8l-0.5,0.3c-0.7,0.4-1.4,0.7-2.1,0.9l-0.5,0.1L19.4,32h-2.8l-1.1-3.6L15,28.3c-0.7-0.3-1.4-0.6-2.1-0.9l-0.5-0.3l-3.3,1.8l-2-2l1.8-3.3l-0.3-0.5c-0.4-0.7-0.7-1.4-0.9-2.1l-0.1-0.5L4,19.4v-2.8l3.4-1l0.2-0.5c0.2-0.8,0.5-1.5,0.9-2.2l0.3-0.5L7.1,9.1l2-2l3.2,1.8l0.5-0.3c0.7-0.4,1.4-0.7,2.2-0.9l0.5-0.2L16.6,4h2.8l1.1,3.4l1.4-2.3l-0.6-2C21,2.4,20.4,2,19.7,2h-3.4c-0.7,0-1.3,0.5-1.4,1.2L14,6c-0.6,0.1-1.1,0.3-1.6,0.6L9.8,5.2C9.2,4.9,8.4,5,7.9,5.5L5.5,7.9C5,8.4,4.9,9.2,5.2,9.8l1.3,2.5c-0.2,0.5-0.4,1.1-0.6,1.6l-2.8,0.9C2.5,15,2,15.6,2,16.3v3.4c0,0.7,0.5,1.3,1.2,1.5L6,22.1l0.6,1.5l-1.4,2.6c-0.3,0.6-0.2,1.4,0.3,1.9l2.4,2.4c0.5,0.5,1.3,0.6,1.9,0.3l2.6-1.4l1.5,0.6l0.9,2.9c0.2,0.6,0.8,1.1,1.5,1.1h3.4c0.7,0,1.3-0.5,1.5-1.1l0.9-2.9l1.5-0.6l2.6,1.4c0.6,0.3,1.4,0.2,1.9-0.3l2.4-2.4c0.5-0.5,0.6-1.3,0.3-1.9l-1.4-2.6l0.6-1.5l2.9-0.9c0.6-0.2,1.1-0.8,1.1-1.5v-3.4C34,16,33.9,15.7,33.7,15.4z"/><path d="M18.1,23c-2.8,0-5-2.2-5-5s2.2-5,5-5c0.2,0,0.5,0,0.7,0.1c-0.2-0.6-0.3-1.3-0.2-2h-0.5c-3.9,0-7,3.1-7,7c0,3.9,3.1,7,7,7c3.9,0,7-3.1,7-7c0-0.9-0.2-1.8-0.5-2.6h-2.2c0.5,0.8,0.7,1.6,0.7,2.5C23.1,20.8,20.9,23,18.1,23z"/>',outlineBadged:'<path d="M11.1,18c0,3.9,3.1,7,7,7c3.9,0,7-3.1,7-7s-3.1-7-7-7C14.2,11,11.1,14.1,11.1,18z M23.1,18c0,2.8-2.2,5-5,5c-2.8,0-5-2.2-5-5s2.2-5,5-5C20.9,13,23.1,15.2,23.1,18z"/><path d="M32.8,14.7L30,13.8l-0.1-0.3c-0.8,0-1.6-0.2-2.4-0.4c0.3,0.6,0.6,1.3,0.8,1.9l0.1,0.5l3.6,1.1v2.8l-3.6,1.1L28.3,21c-0.3,0.7-0.6,1.4-0.9,2.1l-0.3,0.5l1.8,3.3l-2,2l-3.3-1.8l-0.5,0.3c-0.7,0.4-1.4,0.7-2.1,0.9l-0.5,0.1L19.4,32h-2.8l-1.1-3.6L15,28.3c-0.7-0.3-1.4-0.6-2.1-0.9l-0.5-0.3l-3.3,1.8l-2-2l1.8-3.3l-0.3-0.5c-0.4-0.7-0.7-1.4-0.9-2.1l-0.1-0.5L4,19.4v-2.8l3.4-1l0.2-0.5c0.2-0.8,0.5-1.5,0.9-2.2l0.3-0.5L7.1,9.1l2-2l3.2,1.8l0.5-0.3c0.7-0.4,1.4-0.7,2.2-0.9l0.5-0.2L16.6,4h2.8l1.1,3.5L21,7.7c0.7,0.2,1.3,0.5,1.9,0.8c-0.3-0.8-0.4-1.6-0.4-2.5l-0.4-0.2l-0.9-2.8C21,2.5,20.4,2,19.7,2h-3.4c-0.7,0-1.3,0.5-1.4,1.2L14,6c-0.6,0.1-1.1,0.3-1.6,0.6L9.8,5.2C9.2,4.9,8.4,5,7.9,5.5L5.5,7.9C5,8.4,4.9,9.2,5.2,9.8l1.3,2.5c-0.2,0.5-0.4,1.1-0.6,1.6l-2.8,0.9C2.5,15,2,15.6,2,16.3v3.4c0,0.7,0.5,1.3,1.2,1.5L6,22.1l0.6,1.5l-1.4,2.6c-0.3,0.6-0.2,1.4,0.3,1.9l2.4,2.4c0.5,0.5,1.3,0.6,1.9,0.3l2.6-1.4l1.5,0.6l0.9,2.9c0.2,0.6,0.8,1.1,1.5,1.1h3.4c0.7,0,1.3-0.5,1.5-1.1l0.9-2.9l1.5-0.6l2.6,1.4c0.6,0.3,1.4,0.2,1.9-0.3l2.4-2.4c0.5-0.5,0.6-1.3,0.3-1.9l-1.4-2.6l0.6-1.5l2.9-0.9c0.6-0.2,1.1-0.8,1.1-1.5v-3.4C34,15.6,33.5,14.9,32.8,14.7z"/>',solid:'<path d="M32.57,15.72l-3.35-1a11.65,11.65,0,0,0-.95-2.33l1.64-3.07a.61.61,0,0,0-.11-.72L27.41,6.2a.61.61,0,0,0-.72-.11L23.64,7.72a11.62,11.62,0,0,0-2.36-1l-1-3.31A.61.61,0,0,0,19.69,3H16.31a.61.61,0,0,0-.58.43l-1,3.3a11.63,11.63,0,0,0-2.38,1l-3-1.62a.61.61,0,0,0-.72.11L6.2,8.59a.61.61,0,0,0-.11.72l1.62,3a11.63,11.63,0,0,0-1,2.37l-3.31,1a.61.61,0,0,0-.43.58v3.38a.61.61,0,0,0,.43.58l3.33,1a11.62,11.62,0,0,0,1,2.33L6.09,26.69a.61.61,0,0,0,.11.72L8.59,29.8a.61.61,0,0,0,.72.11l3.09-1.65a11.65,11.65,0,0,0,2.3.94l1,3.37a.61.61,0,0,0,.58.43h3.38a.61.61,0,0,0,.58-.43l1-3.38a11.63,11.63,0,0,0,2.28-.94l3.11,1.66a.61.61,0,0,0,.72-.11l2.39-2.39a.61.61,0,0,0,.11-.72l-1.66-3.1a11.63,11.63,0,0,0,.95-2.29l3.37-1a.61.61,0,0,0,.43-.58V16.31A.61.61,0,0,0,32.57,15.72ZM18,23.5A5.5,5.5,0,1,1,23.5,18,5.5,5.5,0,0,1,18,23.5Z"/>',solidAlerted:'<path d="M32.57,15.72,31.5,15.4H22.85A5.5,5.5,0,1,1,18,12.5a5.53,5.53,0,0,1,.65,0A3.68,3.68,0,0,1,19,9.89l2.09-3.62-.86-2.83A.61.61,0,0,0,19.69,3H16.31a.61.61,0,0,0-.58.43l-1,3.3a11.63,11.63,0,0,0-2.38,1l-3-1.62a.61.61,0,0,0-.72.11L6.2,8.59a.61.61,0,0,0-.11.72l1.62,3a11.63,11.63,0,0,0-1,2.37l-3.31,1a.61.61,0,0,0-.43.58v3.38a.61.61,0,0,0,.43.58l3.33,1a11.62,11.62,0,0,0,1,2.33L6.09,26.69a.61.61,0,0,0,.11.72L8.59,29.8a.61.61,0,0,0,.72.11l3.09-1.65a11.65,11.65,0,0,0,2.3.94l1,3.37a.61.61,0,0,0,.58.43h3.38a.61.61,0,0,0,.58-.43l1-3.38a11.63,11.63,0,0,0,2.28-.94l3.11,1.66a.61.61,0,0,0,.72-.11l2.39-2.39a.61.61,0,0,0,.11-.72l-1.66-3.1a11.63,11.63,0,0,0,.95-2.29l3.37-1a.61.61,0,0,0,.43-.58V16.31A.61.61,0,0,0,32.57,15.72Z"/>',solidBadged:'<path d="M32.57,15.72l-3.35-1a12.12,12.12,0,0,0-.47-1.32,7.49,7.49,0,0,1-6.14-6.16,11.82,11.82,0,0,0-1.33-.48l-1-3.31A.61.61,0,0,0,19.69,3H16.31a.61.61,0,0,0-.58.43l-1,3.3a11.63,11.63,0,0,0-2.38,1l-3-1.62a.61.61,0,0,0-.72.11L6.2,8.59a.61.61,0,0,0-.11.72l1.62,3a11.63,11.63,0,0,0-1,2.37l-3.31,1a.61.61,0,0,0-.43.58v3.38a.61.61,0,0,0,.43.58l3.33,1a11.62,11.62,0,0,0,1,2.33L6.09,26.69a.61.61,0,0,0,.11.72L8.59,29.8a.61.61,0,0,0,.72.11l3.09-1.65a11.65,11.65,0,0,0,2.3.94l1,3.37a.61.61,0,0,0,.58.43h3.38a.61.61,0,0,0,.58-.43l1-3.38a11.63,11.63,0,0,0,2.28-.94l3.11,1.66a.61.61,0,0,0,.72-.11l2.39-2.39a.61.61,0,0,0,.11-.72l-1.66-3.1a11.63,11.63,0,0,0,.95-2.29l3.37-1a.61.61,0,0,0,.43-.58V16.31A.61.61,0,0,0,32.57,15.72ZM18,23.5A5.5,5.5,0,1,1,23.5,18,5.5,5.5,0,0,1,18,23.5Z"/>'}],["bookmark",{outline:'<path d="M26,34a2,2,0,0,1-1.41-.58L18,26.82l-6.54,6.52A2,2,0,0,1,8,31.93V4a2,2,0,0,1,2-2H26a2,2,0,0,1,2,2V32a2,2,0,0,1-2,2Zm0-2h0V4H10V31.93L18,24Z"/>',solid:'<path d="M26,2H10A2,2,0,0,0,8,4V31.93a2,2,0,0,0,3.42,1.41l6.54-6.52,6.63,6.6A2,2,0,0,0,28,32V4A2,2,0,0,0,26,2Z"/>'}],["play",{outline:'<path d="M8.07,31.6A2.07,2.07,0,0,1,6,29.53V6.32A2.07,2.07,0,0,1,9,4.47L32.21,16.08a2.07,2.07,0,0,1,0,3.7L9,31.38A2.06,2.06,0,0,1,8.07,31.6Zm0-25.34L8,6.32V29.53l.1.06L31.31,18a.06.06,0,0,0,0-.06Z"/>',solid:'<path d="M32.16,16.08,8.94,4.47A2.07,2.07,0,0,0,6,6.32V29.53a2.06,2.06,0,0,0,3,1.85L32.16,19.77a2.07,2.07,0,0,0,0-3.7Z"/>'}],["pause",{outline:'<path d="M12.93,32H6.07A2.07,2.07,0,0,1,4,29.93V6.07A2.07,2.07,0,0,1,6.07,4h6.87A2.07,2.07,0,0,1,15,6.07V29.93A2.07,2.07,0,0,1,12.93,32ZM13,6H6V30h7Z"/><path d="M29.93,32H23.07A2.07,2.07,0,0,1,21,29.93V6.07A2.07,2.07,0,0,1,23.07,4h6.87A2.07,2.07,0,0,1,32,6.07V29.93A2.07,2.07,0,0,1,29.93,32ZM30,6H23V30h7Z"/>',solid:'<rect x="3.95" y="4" width="11" height="28" rx="2.07" ry="2.07"/><rect x="20.95" y="4" width="11" height="28" rx="2.07" ry="2.07"/>'}],["form",{outline:'<path d="M21,12H7a1,1,0,0,1-1-1V7A1,1,0,0,1,7,6H21a1,1,0,0,1,1,1v4A1,1,0,0,1,21,12ZM8,10H20V7.94H8Z"/><path d="M21,14.08H7a1,1,0,0,0-1,1V19a1,1,0,0,0,1,1H18.36L22,16.3V15.08A1,1,0,0,0,21,14.08ZM20,18H8V16H20Z"/><path d="M11.06,31.51v-.06l.32-1.39H4V4h20V14.25L26,12.36V3a1,1,0,0,0-1-1H3A1,1,0,0,0,2,3V31a1,1,0,0,0,1,1h8A3.44,3.44,0,0,1,11.06,31.51Z"/><path d="M22,19.17l-.78.79A1,1,0,0,0,22,19.17Z"/><path d="M6,26.94a1,1,0,0,0,1,1h4.84l.3-1.3.13-.55,0-.05H8V24h6.34l2-2H7a1,1,0,0,0-1,1Z"/><path d="M33.49,16.67,30.12,13.3a1.61,1.61,0,0,0-2.28,0h0L14.13,27.09,13,31.9a1.61,1.61,0,0,0,1.26,1.9,1.55,1.55,0,0,0,.31,0,1.15,1.15,0,0,0,.37,0l4.85-1.07L33.49,19a1.6,1.6,0,0,0,0-2.27ZM18.77,30.91l-3.66.81L16,28.09,26.28,17.7l2.82,2.82ZM30.23,19.39l-2.82-2.82L29,15l2.84,2.84Z"/>'}],["add-text",{outline:'<path d="M31,21H13a1,1,0,0,0,0,2H31a1,1,0,0,0,0-2Z"/><path d="M12,16a1,1,0,0,0,1,1H31a1,1,0,0,0,0-2H13A1,1,0,0,0,12,16Z"/><path d="M27,27H13a1,1,0,0,0,0,2H27a1,1,0,0,0,0-2Z"/><path d="M15.89,9a1,1,0,0,0-1-1H10V3.21a1,1,0,0,0-2,0V8H2.89a1,1,0,0,0,0,2H8v5.21a1,1,0,0,0,2,0V10h4.89A1,1,0,0,0,15.89,9Z"/>'}],["import",{outline:'<path d="M28,4H14.87L8,10.86V15h2V13.61h7.61V6H28V30H8a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V6A2,2,0,0,0,28,4ZM16,12H10v-.32L15.7,6H16Z"/><path d="M11.94,26.28a1,1,0,1,0,1.41,1.41L19,22l-5.68-5.68a1,1,0,0,0-1.41,1.41L15.2,21H3a1,1,0,1,0,0,2H15.23Z"/>',outlineAlerted:'<path d="M11.94,26.28a1,1,0,1,0,1.41,1.41L19,22l-5.68-5.68a1,1,0,0,0-1.41,1.41L15.2,21H3a1,1,0,1,0,0,2H15.23Z"/><path d="M28,15.4V30H8a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V15.4Z"/><path d="M10,13.61h7.61V6h3.68l1.15-2H14.87L8,10.86V15h2Zm0-1.92L15.7,6H16v6H10Z"/>',outlineBadged:'<path d="M11.94,26.28a1,1,0,1,0,1.41,1.41L19,22l-5.68-5.68a1,1,0,0,0-1.41,1.41L15.2,21H3a1,1,0,1,0,0,2H15.23Z"/><path d="M28,13.22V30H8a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V13.5A7.49,7.49,0,0,1,28,13.22Z"/><path d="M10,13.61h7.61V6H22.5a7.49,7.49,0,0,1,.28-2H14.87L8,10.86V15h2Zm0-1.92L15.7,6H16v6H10Z"/>',solid:'<path d="M3,21a1,1,0,1,0,0,2H8V21Z"/><path d="M28,4H14.87L8,10.86V21H15.2l-3.25-3.25a1,1,0,0,1,1.41-1.41L19,22l-5.68,5.68a1,1,0,0,1-1.41-1.41L15.23,23H8v7a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V6A2,2,0,0,0,28,4ZM16,12H10v-.32L15.69,6H16Z"/>',solidAlerted:'<path d="M3,21a1,1,0,1,0,0,2H8V21Z"/><path d="M22.23,15.4A3.68,3.68,0,0,1,19,9.89L22.45,4H14.87L8,10.86V21H15.2l-3.25-3.25a1,1,0,0,1,1.41-1.41L19,22l-5.68,5.68a1,1,0,0,1-1.41-1.41L15.23,23H8v7a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V15.4ZM16,12H10v-.32L15.69,6H16Z"/>',solidBadged:'<path d="M3,21a1,1,0,1,0,0,2H8V21Z"/><path d="M22.5,6a7.49,7.49,0,0,1,.28-2H14.87L8,10.86V21H15.2l-3.25-3.25a1,1,0,0,1,1.41-1.41L19,22l-5.68,5.68a1,1,0,0,1-1.41-1.41L15.23,23H8v7a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V13.5A7.5,7.5,0,0,1,22.5,6ZM16,12H10v-.32L15.69,6H16Z"/>'}],["export",{outline:'<path d="M6,13.61h7.61V6H24v8.38h2V6a2,2,0,0,0-2-2H10.87L4,10.87V30a2,2,0,0,0,2,2H24a2,2,0,0,0,2-2H6Zm0-1.92L11.69,6H12v6H6Z"/><path d="M28.32,16.35a1,1,0,0,0-1.41,1.41L30.16,21H18a1,1,0,0,0,0,2H30.19l-3.28,3.28a1,1,0,1,0,1.41,1.41L34,22Z"/>',outlineAlerted:'<path d="M28.32,16.35a1,1,0,0,0-1.41,1.41L30.16,21H18a1,1,0,0,0,0,2H30.19l-3.28,3.28a1,1,0,1,0,1.41,1.41L34,22Z"/><path d="M6,13.61h7.61V6h7.68l1.15-2H10.87L4,10.87V30a2,2,0,0,0,2,2H24a2,2,0,0,0,2-2H6Zm0-1.92L11.69,6H12v6H6Z"/>',outlineBadged:'<path d="M28.32,16.35a1,1,0,0,0-1.41,1.41L30.16,21H18a1,1,0,0,0,0,2H30.19l-3.28,3.28a1,1,0,1,0,1.41,1.41L34,22Z"/><path d="M26,12.34a7.53,7.53,0,0,1-2-1.85v3.89h2Z"/><path d="M6,13.61h7.61V6H22.5a7.49,7.49,0,0,1,.28-2H10.87L4,10.87V30a2,2,0,0,0,2,2H24a2,2,0,0,0,2-2H6Zm0-1.92L11.69,6H12v6H6Z"/>',solid:'<path d="M17,22a1,1,0,0,1,1-1h8V6a2,2,0,0,0-2-2H10.87L4,10.86V30a2,2,0,0,0,2,2H24a2,2,0,0,0,2-2V23H18A1,1,0,0,1,17,22ZM12,12H6v-.32L11.69,6H12Z"/><path d="M29.32,16.35a1,1,0,0,0-1.41,1.41L31.16,21H26v2h5.19l-3.28,3.28a1,1,0,1,0,1.41,1.41L35,22Z"/>',solidAlerted:'<path d="M29.32,16.35a1,1,0,0,0-1.41,1.41L31.16,21H26v2h5.19l-3.28,3.28a1,1,0,1,0,1.41,1.41L35,22Z"/><path d="M17,22a1,1,0,0,1,1-1h8V15.4H22.23A3.68,3.68,0,0,1,19,9.89L22.45,4H10.87L4,10.86V30a2,2,0,0,0,2,2H24a2,2,0,0,0,2-2V23H18A1,1,0,0,1,17,22ZM12,12H6v-.32L11.69,6H12Z"/>',solidBadged:'<path d="M29.32,16.35a1,1,0,0,0-1.41,1.41L31.16,21H26v2h5.19l-3.28,3.28a1,1,0,1,0,1.41,1.41L35,22Z"/><path d="M17,22a1,1,0,0,1,1-1h8V12.34A7.46,7.46,0,0,1,22.78,4H10.87L4,10.86V30a2,2,0,0,0,2,2H24a2,2,0,0,0,2-2V23H18A1,1,0,0,1,17,22ZM12,12H6v-.32L11.69,6H12Z"/>'}],["bars",{outline:'<path d="M32,29H4a1,1,0,0,1,0-2H32a1,1,0,0,1,0,2Z"/><path d="M32,19H4a1,1,0,0,1,0-2H32a1,1,0,0,1,0,2Z"/><path d="M32,9H4A1,1,0,0,1,4,7H32a1,1,0,0,1,0,2Z"/>'}],Ufe,["search",{outline:'<path d="M16.33,5.05A10.95,10.95,0,1,1,5.39,16,11,11,0,0,1,16.33,5.05m0-2.05a13,13,0,1,0,13,13,13,13,0,0,0-13-13Z"/><path d="M35,33.29l-7.37-7.42-1.42,1.41,7.37,7.42A1,1,0,1,0,35,33.29Z"/>'}],["filter",{outline:'<path d="M33,4H3A1,1,0,0,0,2,5V6.67a1.79,1.79,0,0,0,.53,1.27L14,19.58v10.2l2,.76V19a1,1,0,0,0-.29-.71L4,6.59V6H32v.61L20.33,18.29A1,1,0,0,0,20,19l0,13.21L22,33V19.5L33.47,8A1.81,1.81,0,0,0,34,6.7V5A1,1,0,0,0,33,4Z"/>',solid:'<path d="M22,33V19.5L33.47,8A1.81,1.81,0,0,0,34,6.7V5a1,1,0,0,0-1-1H3A1,1,0,0,0,2,5V6.67a1.79,1.79,0,0,0,.53,1.27L14,19.58v10.2Z"/><path d="M33.48,4h-31A.52.52,0,0,0,2,4.52V6.24a1.33,1.33,0,0,0,.39.95l12,12v10l7.25,3.61V19.17l12-12A1.35,1.35,0,0,0,34,6.26V4.52A.52.52,0,0,0,33.48,4Z"/>'}],["language",{outline:'<path d="M30,3H14v5h2V5h14c0.6,0,1,0.4,1,1v11c0,0.6-0.4,1-1,1H17v7h-5.3L8,27.9V25H5c-0.6,0-1-0.4-1-1V13c0-0.6,0.4-1,1-1h13v-2H5c-1.7,0-3,1.3-3,3v11c0,1.7,1.3,3,3,3h1v5.1l6.3-5.1H19v-7h11c1.7,0,3-1.3,3-3V6C33,4.3,31.7,3,30,3z"/><path d="M6.2,22.9h2.4l0.6-1.6h3.1l0.6,1.6h2.4L11.9,14H9.5L6.2,22.9z M10.7,16.5l1,3.1h-2L10.7,16.5z"/><path d="M20,17c1.1,0,2.6-0.3,4-1c1.4,0.7,3,1,4,1v-2c0,0-1,0-2.1-0.4c1.2-1.2,2.1-3,2.1-5.6V8h-3V6h-2v2h-3v2h5.9c-0.2,1.8-1,2.9-1.9,3.6c-0.6-0.5-1.2-1.2-1.6-2.1h-2.1c0.4,1.3,1,2.3,1.8,3.1C21.1,15,20.2,15,20,15V17z"/>',solid:'<polygon points="11,16.5 10,19.6 12,19.6 11,16.5 \t"/><path d="M30.3,3h-16v5h4v2h-13c-1.7,0-3,1.3-3,3v11c0,1.7,1.3,3,3,3h1v5.1l6.3-5.1h6.7v-7h11c1.7,0,3-1.3,3-3V6C33.3,4.3,32,3,30.3,3z M13.1,22.9l-0.5-1.6H9.5l-0.6,1.6H6.5L9.8,14h2.4l3.3,8.9L13.1,22.9z M28.3,15v2c-1.3,0-2.7-0.4-3.9-1c-1.2,0.6-2.6,0.9-4,1l-0.1-2c0.7,0,1.4-0.1,2.1-0.3c-0.9-0.9-1.5-2-1.8-3.2h2.1c0.3,0.9,0.9,1.6,1.6,2.2c1.1-0.9,1.8-2.2,1.9-3.7h-6V8h3V6h2v2h3.3l0.1,1c0.1,2.1-0.7,4.2-2.2,5.7C27.1,14.9,27.7,15,28.3,15z"/>'}],["file-group",{outline:'<path d="M31,34H13a1,1,0,0,1-1-1V11a1,1,0,0,1,1-1H31a1,1,0,0,1,1,1V33A1,1,0,0,1,31,34ZM14,32H30V12H14Z"/><rect x="16" y="16" width="12" height="2"/><rect x="16" y="20" width="12" height="2"/><rect x="16" y="24" width="12" height="2"/><path d="M6,24V4H24V3a1,1,0,0,0-1-1H5A1,1,0,0,0,4,3V25a1,1,0,0,0,1,1H6Z"/><path d="M10,28V8H28V7a1,1,0,0,0-1-1H9A1,1,0,0,0,8,7V29a1,1,0,0,0,1,1h1Z"/>',solid:'<path d="M31,10H13a1,1,0,0,0-1,1V33a1,1,0,0,0,1,1H31a1,1,0,0,0,1-1V11A1,1,0,0,0,31,10ZM28,26H16V24H28Zm0-4H16V20H28Zm0-4H16V16H28Z"/><path d="M6,24V4H24V3a1,1,0,0,0-1-1H5A1,1,0,0,0,4,3V25a1,1,0,0,0,1,1H6Z"/><path d="M10,28V8H28V7a1,1,0,0,0-1-1H9A1,1,0,0,0,8,7V29a1,1,0,0,0,1,1h1Z"/>'}],zfe,["clone",{outline:'<path d="M6,6H22v4h2V6a2,2,0,0,0-2-2H6A2,2,0,0,0,4,6V22a2,2,0,0,0,2,2h4V22H6Z"/><path d="M30,12H14a2,2,0,0,0-2,2V30a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V14A2,2,0,0,0,30,12Zm0,18H14V14H30Z"/><polygon points="21 28 23 28 23 23 28 23 28 21 23 21 23 16 21 16 21 21 16 21 16 23 21 23 21 28"/>',solid:'<path d="M24,10V6a2,2,0,0,0-2-2H6A2,2,0,0,0,4,6V22a2,2,0,0,0,2,2h4V12a2,2,0,0,1,2-2Z"/><path d="M30,12H14a2,2,0,0,0-2,2V30a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V14A2,2,0,0,0,30,12ZM28,23H23v5H21V23H16V21h5V16h2v5h5Z"/>'}],["uninstall",{outline:'<path d="M11.29,26.72a1,1,0,0,0,1.41,0L18,21.49l5.3,5.23A1,1,0,0,0,24.7,25.3l-5.28-5.21,5.28-5.21a1,1,0,0,0-1.41-1.42L18,18.68l-5.3-5.23a1,1,0,0,0-1.41,1.42l5.28,5.21L11.3,25.3A1,1,0,0,0,11.29,26.72Z"/><path d="M30.92,8H26.55a1,1,0,0,0,0,2H31V30H5V10H9.38a1,1,0,0,0,0-2H5.08A2,2,0,0,0,3,10V30a2,2,0,0,0,2.08,2H30.92A2,2,0,0,0,33,30V10A2,2,0,0,0,30.92,8Z"/>',outlineAlerted:'<path d="M11.29,26.72a1,1,0,0,0,1.41,0L18,21.49l5.3,5.23A1,1,0,0,0,24.7,25.3l-5.28-5.21,4.75-4.69H22.23a3.65,3.65,0,0,1-.81-.1L18,18.68l-5.3-5.23a1,1,0,0,0-1.41,1.42l5.28,5.21L11.3,25.3A1,1,0,0,0,11.29,26.72Z"/><path d="M31,15.4V30H5V10H9.38a1,1,0,0,0,0-2H5.08A2,2,0,0,0,3,10V30a2,2,0,0,0,2.08,2H30.92A2,2,0,0,0,33,30V15.4Z"/>',outlineBadged:'<path d="M11.29,26.72a1,1,0,0,0,1.41,0L18,21.49l5.3,5.23A1,1,0,0,0,24.7,25.3l-5.28-5.21,5.28-5.21a1,1,0,0,0-1.41-1.42L18,18.68l-5.3-5.23a1,1,0,0,0-1.41,1.42l5.28,5.21L11.3,25.3A1,1,0,0,0,11.29,26.72Z"/><path d="M31,13.43V30H5V10H9.38a1,1,0,0,0,0-2H5.08A2,2,0,0,0,3,10V30a2,2,0,0,0,2.08,2H30.92A2,2,0,0,0,33,30V12.87A7.45,7.45,0,0,1,31,13.43Z"/>'}],["upload",{outline:'<path d="M31,31H5a1,1,0,0,0,0,2H31a1,1,0,0,0,0-2Z"/><path d="M8.81,15,17,6.83V27.48a1,1,0,0,0,2,0V6.83L27.19,15a1,1,0,0,0,1.41-1.41L18,3,7.39,13.61A1,1,0,1,0,8.81,15Z"/>',outlineAlerted:'<path d="M31,31H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h26c0.6,0,1-0.4,1-1S31.6,31,31,31z"/><path d="M8.8,15L17,6.8v20.6c0,0.6,0.4,1,1,1s1-0.4,1-1V6.8L20.1,8l1-1.8L18,3L7.4,13.6C7,14,6.9,14.6,7.2,15s1,0.5,1.4,0.1C8.7,15.1,8.8,15.1,8.8,15z"/>',outlineBadged:'<path d="M31,31H5a1,1,0,0,0,0,2H31a1,1,0,0,0,0-2Z"/><path d="M8.81,15,17,6.83V27.48a1,1,0,0,0,2,0V6.83L27.19,15a1,1,0,0,0,1.41-1.41L18,3,7.39,13.61A1,1,0,1,0,8.81,15Z"/>'}],["download",{outline:'<path d="M31,31H5a1,1,0,0,0,0,2H31a1,1,0,0,0,0-2Z"/><path d="M18,29.48,28.61,18.87a1,1,0,0,0-1.41-1.41L19,25.65V5a1,1,0,0,0-2,0V25.65L8.81,17.46a1,1,0,1,0-1.41,1.41Z"/>',outlineAlerted:'<path d="M31,31H5a1,1,0,0,0,0,2H31a1,1,0,0,0,0-2Z"/><path d="M18,29.48,28.61,18.87a1,1,0,0,0-1.41-1.41L19,25.65V5a1,1,0,0,0-2,0V25.65L8.81,17.46a1,1,0,1,0-1.41,1.41Z"/>',outlineBadged:'<path d="M31,31H5a1,1,0,0,0,0,2H31a1,1,0,0,0,0-2Z"/><path d="M18,29.48,28.61,18.87a1,1,0,0,0-1.41-1.41L19,25.65V5a1,1,0,0,0-2,0V25.65L8.81,17.46a1,1,0,1,0-1.41,1.41Z"/>'}],["fast-forward",{outline:'<path d="M17.77,31.92a2,2,0,0,1-.86-.2A1.81,1.81,0,0,1,16,29.93v-6.7L5.24,31.5a1.94,1.94,0,0,1-2.06.22,2,2,0,0,1-1.11-1.79v-24A2,2,0,0,1,3.18,4.12a1.93,1.93,0,0,1,2.06.22L16,12.61V5.91a1.81,1.81,0,0,1,.91-1.79A1.93,1.93,0,0,1,19,4.34l15.32,12a2,2,0,0,1,0,3.15L19,31.5A2,2,0,0,1,17.77,31.92Zm0-12.8V29.93l15.26-12-15.32-12,.06,10.81L4,5.91v24Z"/>',solid:'<path d="M17.71,32a2,2,0,0,1-.86-.2A1.77,1.77,0,0,1,16,30v-6.7L5.17,31.58a1.94,1.94,0,0,1-2.06.22A2,2,0,0,1,2,30V6A2,2,0,0,1,3.11,4.2a1.93,1.93,0,0,1,2.06.22L16,12.69V6a1.77,1.77,0,0,1,.85-1.79,1.93,1.93,0,0,1,2.06.22l15.32,12a2,2,0,0,1,0,3.15l-15.32,12A2,2,0,0,1,17.71,32Z"/>'}],["rewind",{outline:'<path d="M17.09,31.58l-15.32-12a2,2,0,0,1,0-3.15l15.32-12a1.93,1.93,0,0,1,2.06-.22A1.77,1.77,0,0,1,20,6v6.7L30.83,4.42a1.93,1.93,0,0,1,2.06-.22A2,2,0,0,1,34,6V30a2,2,0,0,1-1.11,1.79,1.94,1.94,0,0,1-2.06-.22L20,23.31V30a1.77,1.77,0,0,1-.85,1.79,1.94,1.94,0,0,1-2.06-.22ZM32,30l.06-24L18,16.8V6L3,18,18,30V19.2Z"/>',solid:'<path d="M16.92,31.58,1.6,19.57a2,2,0,0,1,0-3.15l15.32-12A1.93,1.93,0,0,1,19,4.2,1.89,1.89,0,0,1,20,6v6.7L30.66,4.42a1.93,1.93,0,0,1,2.06-.22A2,2,0,0,1,33.83,6V30a2,2,0,0,1-1.11,1.79,1.94,1.94,0,0,1-2.06-.22L20,23.31V30a1.89,1.89,0,0,1-1,1.79,1.94,1.94,0,0,1-2.06-.22Z"/>'}],["help-info",{outline:'<path d="M25.39,25.45a1,1,0,0,0-1.38.29c-1.41,2.16-4,4.81-6.31,5.7s-4.12.57-4.84,0c-.31-.27-1.12-1-.43-3.49.46-1.66,3.32-9.48,4-11.38l-2.18.28c-.69,1.86-3.29,8.84-3.76,10.58-.68,2.49-.34,4.3,1.09,5.56A5.59,5.59,0,0,0,15,34a9.53,9.53,0,0,0,3.45-.7c2.79-1.09,5.72-4.12,7.26-6.47A1,1,0,0,0,25.39,25.45Z"/><path d="M19.3,11a4.5,4.5,0,1,0-4.5-4.5A4.5,4.5,0,0,0,19.3,11Zm0-7a2.5,2.5,0,1,1-2.5,2.5A2.5,2.5,0,0,1,19.3,4Z"/><path d="M11.81,15c.06,0,6.27-.82,7.73-1,.65-.1,1.14,0,1.3.15s.21.8-.07,1.68c-.61,1.86-3.69,11-4.59,13.71a8,8,0,0,0,1.29-.38,7.32,7.32,0,0,0,1.15-.6C19.85,25,22.15,18.1,22.67,16.52s.39-2.78-.3-3.6a3.16,3.16,0,0,0-3.08-.83c-1.43.15-7.47.94-7.73,1a1,1,0,0,0,.26,2Z"/>',solid:'<circle cx="20.75" cy="6" r="4"/><path d="M24.84,26.23a1,1,0,0,0-1.4.29,16.6,16.6,0,0,1-3.51,3.77c-.33.25-1.56,1.2-2.08,1-.36-.11-.15-.82-.08-1.12l.53-1.57c.22-.64,4.05-12,4.47-13.3.62-1.9.35-3.77-2.48-3.32-.77.08-8.58,1.09-8.72,1.1a1,1,0,0,0,.13,2s3-.39,3.33-.42a.88.88,0,0,1,.85.44,2.47,2.47,0,0,1-.07,1.71c-.26,1-4.37,12.58-4.5,13.25a2.78,2.78,0,0,0,1.18,3,5,5,0,0,0,3.08.83h0a8.53,8.53,0,0,0,3.09-.62c2.49-1,5.09-3.66,6.46-5.75A1,1,0,0,0,24.84,26.23Z"/>'}],["check",{outline:'<path d="M13.72,27.69,3.29,17.27a1,1,0,0,1,1.41-1.41l9,9L31.29,7.29a1,1,0,0,1,1.41,1.41Z"/>'}],Rc,Db,l4e,["printer",{outline:'<path d="M29,9H27V5H9V9H7a4,4,0,0,0-4,4V24H6.92V22.09H5V13a2,2,0,0,1,2-2H29a2,2,0,0,1,2,2v9H29.08V24H33V13A4,4,0,0,0,29,9ZM25,9H11V7H25Z"/><path d="M28,18H8a1,1,0,0,0,0,2H9V32H27V20h1a1,1,0,0,0,0-2ZM25,30H11V20H25Z"/><rect x="27" y="13.04" width="2" height="2"/>',outlineAlerted:'<path d="M28,18H8a1,1,0,0,0,0,2H9V32H27V20h1a1,1,0,0,0,0-2ZM25,30H11V20H25Z"/><polygon points="31 15.4 31 22.09 29.08 22.09 29.08 24 33 24 33 15.4 31 15.4"/><path d="M5,13a2,2,0,0,1,2-2H18.64A3.65,3.65,0,0,1,19,9.89L19.54,9H11V7h9.71l1.13-2H9V9H7a4,4,0,0,0-4,4V24H6.92V22.09H5Z"/>',outlineBadged:'<path d="M28,18H8a1,1,0,0,0,0,2H9V32H27V20h1a1,1,0,0,0,0-2ZM25,30H11V20H25Z"/><rect x="27" y="13.04" width="2" height="2"/><path d="M33,12.88a7.45,7.45,0,0,1-2,.55v8.66H29.08V24H33V13C33,13,33,12.93,33,12.88Z"/><path d="M5,13a2,2,0,0,1,2-2H24.42a7.5,7.5,0,0,1-1.27-2H11V7H22.57a7.52,7.52,0,0,1-.07-1,7.54,7.54,0,0,1,.07-1H9V9H7a4,4,0,0,0-4,4V24H6.92V22.09H5Z"/>',solid:'<path d="M29,9H27V5H9V9H7a4,4,0,0,0-4,4V24H9v8H27V24h6V13A4,4,0,0,0,29,9ZM25,24v6H11V19H25ZM25,9H11V7H25Zm4,6H27V13h2Z"/>',solidAlerted:'<path d="M22.23,15.4A3.68,3.68,0,0,1,19,9.89L19.54,9H11V7h9.71l1.13-2H9V9H7a4,4,0,0,0-4,4V24H9v8H27V24h6V15.4ZM25,24v6H11V19H25Z"/>',solidBadged:'<path d="M33,12.88a7.3,7.3,0,0,1-4,.55V15H27V13h.32a7.52,7.52,0,0,1-4.18-4H11V7H22.57a7.52,7.52,0,0,1-.07-1,7.54,7.54,0,0,1,.07-1H9V9H7a4,4,0,0,0-4,4V24H9v8H27V24h6V13C33,13,33,12.93,33,12.88ZM25,24v6H11V19H25Z"/>'}],["warning-standard",{outline:'<circle cx="18" cy="26.06" r="1.33"/><path d="M18,22.61a1,1,0,0,1-1-1v-12a1,1,0,1,1,2,0v12A1,1,0,0,1,18,22.61Z"/><path d="M15.0620782,1.681196 C15.6298819,0.649266355 16.7109091,0.0102219396 17.885,0.0102219396 C19.0590909,0.0102219396 20.1401181,0.649266355 20.7086433,1.68252129 L34.598644,27.2425225 C35.1407746,28.2401397 35.1174345,29.4495373 34.5372161,30.4254943 C33.9569977,31.4014514 32.905671,31.9996984 31.77,32 L4.02239323,31.9997492 C2.87409009,32.0254699 1.79902843,31.4375753 1.20106335,30.4569126 C0.603098265,29.4762499 0.572777899,28.2513179 1.12207818,27.241196 L15.0620782,1.681196 Z M2.87850767,28.1977282 C2.67060966,28.5800376 2.6820975,29.0441423 2.9086557,29.4156977 C3.1352139,29.7872532 3.5425354,30.0099959 4,30 L31.7697344,30 C32.1999191,29.9998858 32.5982478,29.7732208 32.8180821,29.4034482 C33.0379164,29.0336757 33.0467595,28.5754567 32.8413567,28.1974787 L18.9538739,2.64208195 C18.7394236,2.25234436 18.3298419,2.01022194 17.885,2.01022194 C17.4406889,2.01022194 17.0315538,2.25176692 16.8168946,2.64068753 L2.87850767,28.1977282 Z"/>',solid:'<path d="M34.6,29.21,20.71,3.65a3.22,3.22,0,0,0-5.66,0L1.17,29.21A3.22,3.22,0,0,0,4,34H31.77a3.22,3.22,0,0,0,2.83-4.75ZM16.6,10a1.4,1.4,0,0,1,2.8,0v12a1.4,1.4,0,0,1-2.8,0ZM18,29.85a1.8,1.8,0,1,1,1.8-1.8A1.8,1.8,0,0,1,18,29.85Z"/>'}],["sun",{outline:'<path d="M18,6.31a1,1,0,0,0,1-1V1.91a1,1,0,0,0-2,0v3.4A1,1,0,0,0,18,6.31Z"/><path d="M18,29.69a1,1,0,0,0-1,1v3.4a1,1,0,0,0,2,0v-3.4A1,1,0,0,0,18,29.69Z"/><path d="M8.32,9.74A1,1,0,0,0,9,10a1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.42L7.33,5.92A1,1,0,0,0,5.92,7.33Z"/><path d="M27.68,26.26a1,1,0,1,0-1.42,1.42l2.41,2.4a1,1,0,0,0,.71.3,1,1,0,0,0,.7-.3,1,1,0,0,0,0-1.41Z"/><path d="M6.31,18a1,1,0,0,0-1-1H1.91a1,1,0,0,0,0,2h3.4A1,1,0,0,0,6.31,18Z"/><path d="M34.09,17h-3.4a1,1,0,1,0,0,2h3.4a1,1,0,0,0,0-2Z"/><path d="M8.32,26.26l-2.4,2.41a1,1,0,0,0,.7,1.71,1,1,0,0,0,.71-.3l2.41-2.4a1,1,0,1,0-1.42-1.42Z"/><path d="M27,10a1,1,0,0,0,.71-.29l2.4-2.41a1,1,0,0,0,0-1.41,1,1,0,0,0-1.41,0l-2.41,2.4a1,1,0,0,0,0,1.42A1,1,0,0,0,27,10Z"/><path d="M18.13,7.75a10.13,10.13,0,1,0,10,10.13A10.08,10.08,0,0,0,18.13,7.75Zm0,18.25a8.13,8.13,0,1,1,8-8.12A8.08,8.08,0,0,1,18.13,26Z"/>',solid:'<path d="M18,6.42a1,1,0,0,0,1-1V1.91a1,1,0,0,0-2,0V5.42A1,1,0,0,0,18,6.42Z"/><path d="M18,29.58a1,1,0,0,0-1,1v3.51a1,1,0,0,0,2,0V30.58A1,1,0,0,0,18,29.58Z"/><path d="M8.4,9.81A1,1,0,0,0,9.81,8.4L7.33,5.92A1,1,0,0,0,5.92,7.33Z"/><path d="M27.6,26.19a1,1,0,0,0-1.41,1.41l2.48,2.48a1,1,0,0,0,1.41-1.41Z"/><path d="M6.42,18a1,1,0,0,0-1-1H1.91a1,1,0,0,0,0,2H5.42A1,1,0,0,0,6.42,18Z"/><path d="M34.09,17H30.58a1,1,0,0,0,0,2h3.51a1,1,0,0,0,0-2Z"/><path d="M8.4,26.19,5.92,28.67a1,1,0,0,0,1.41,1.41L9.81,27.6A1,1,0,0,0,8.4,26.19Z"/><path d="M27.6,9.81l2.48-2.48a1,1,0,0,0-1.41-1.41L26.19,8.4A1,1,0,0,0,27.6,9.81Z"/><circle cx="18" cy="18" r="10"/>'}],["moon",{outline:'<path d="M31,27.19a1,1,0,0,0-1-.56c-.28,0-.56,0-.85,0A11,11,0,0,1,24.92,5.61a1,1,0,0,0,.61-1,1,1,0,0,0-.67-.91,14.7,14.7,0,0,0-5-.87,15.12,15.12,0,0,0,0,30.24,14.78,14.78,0,0,0,11-4.81A1,1,0,0,0,31,27.19ZM19.89,31.12a13.12,13.12,0,0,1,0-26.24,11.81,11.81,0,0,1,2,.16,13,13,0,0,0,5.72,23.53A12.75,12.75,0,0,1,19.89,31.12Z"/>',solid:'<path d="M29.2,26.72A12.07,12.07,0,0,1,22.9,4.44,13.68,13.68,0,0,0,19.49,4a14,14,0,0,0,0,28,13.82,13.82,0,0,0,10.9-5.34A11.71,11.71,0,0,1,29.2,26.72Z"/>'}],["step-forward",{outline:'<path d="M5,32.23a2,2,0,0,1-2-2V5.77A2,2,0,0,1,6.17,4.14L23.23,16.38a2,2,0,0,1,0,3.25h0L6.17,31.86A2,2,0,0,1,5,32.23ZM5,5.77V30.23L22.07,18Z"/><path d="M31,32H28a2,2,0,0,1-2-2V6a2,2,0,0,1,2-2h3a2,2,0,0,1,2,2V30A2,2,0,0,1,31,32ZM28,6V30h3V6Z"/>',solid:'<path d="M5,31.9a2,2,0,0,1-2-2V5.44A2,2,0,0,1,6.12,3.81L23.18,16a2,2,0,0,1,0,3.25h0L6.12,31.52A2,2,0,0,1,5,31.9Z"/><rect x="25.95" y="3.67" width="7" height="28" rx="2" ry="2"/>'}],["flame",{outline:'<path d="M31.3,16.66c-1.19-2.09-7.94-14.15-7.94-14.15a1,1,0,0,0-1.75,0l-6,10.64-3-5.28a1,1,0,0,0-1.75,0S5.4,17.78,4.42,19.5A9.3,9.3,0,0,0,3,24.61C3,29.72,5.86,34,11.67,34H22.48C28.28,34,33,29,33,22.78A11.13,11.13,0,0,0,31.3,16.66ZM22.48,32H11.77C8.13,32,5,28.66,5,24.61a7.43,7.43,0,0,1,1.16-4.13c.73-1.29,4.05-7.21,5.65-10.07l3,5.28a1,1,0,0,0,.87.51h0a1,1,0,0,0,.87-.51L22.49,5c1.86,3.33,6.15,11,7.07,12.6A9.24,9.24,0,0,1,31,22.78C31,27.87,27.18,32,22.48,32Z"/><path d="M25.75,21.73c-.65-1.16-4.38-7.81-4.38-7.81a.8.8,0,0,0-1.4,0l-4.2,7.48-1.59-2.49a.8.8,0,0,0-1.35,0L9.37,24.35a4.35,4.35,0,0,0-.82,2.6,4.49,4.49,0,0,0,.5,2H11a3,3,0,0,1-.83-2,2.78,2.78,0,0,1,.56-1.73l2.8-4.38,1.66,2.6a.8.8,0,0,0,1.41-.12,7.82,7.82,0,0,1,.4-.8L20.67,16l3.69,6.57a4.83,4.83,0,0,1,.77,2.71A5,5,0,0,1,23.46,29h2.13a6.68,6.68,0,0,0,1.14-3.74,6.45,6.45,0,0,0-1-3.5Z"/>',solid:'<path d="M31.3,16.32c-1.19-2.09-7.94-14.15-7.94-14.15a1,1,0,0,0-1.75,0l-6,10.64-3-5.28a1,1,0,0,0-1.75,0S5.4,17.43,4.42,19.15A9.3,9.3,0,0,0,3,24.26c0,5.11,3.88,9.65,8.67,9.74H22.48C28.28,34,33,28.62,33,22.44A11.13,11.13,0,0,0,31.3,16.32ZM21.48,32H14.54A4.68,4.68,0,0,1,10,27.41a3.91,3.91,0,0,1,.75-2.34l3.35-5.21a.5.5,0,0,1,.84,0l1.78,2.77,0-.08c.63-1.11,4.23-7.48,4.23-7.48a.5.5,0,0,1,.87,0s3.6,6.38,4.23,7.48A5.83,5.83,0,0,1,27,25.76C27,32,22.1,32,21.48,32Z"/>'}],["ban",{outline:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2ZM4,18A13.93,13.93,0,0,1,7.43,8.85L27.15,28.57A14,14,0,0,1,4,18Zm24.57,9.15L8.85,7.43A14,14,0,0,1,28.57,27.15Z"/>'}],Qfe,["trash",{outline:'<path d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"/><path d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"/><rect x="21" y="13" width="2" height="15"/><rect x="13" y="13" width="2" height="15"/><path d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"/>',solid:'<path d="M6,9V31a2.93,2.93,0,0,0,2.86,3H27.09A2.93,2.93,0,0,0,30,31V9Zm9,20H13V14h2Zm8,0H21V14h2Z"/><path d="M30.73,5H23V4A2,2,0,0,0,21,2h-6.2A2,2,0,0,0,13,4V5H5A1,1,0,1,0,5,7H30.73a1,1,0,0,0,0-2Z"/>'}],["floppy",{outline:'<path d="M27.36,4H6A2,2,0,0,0,4,6V30a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V8.78ZM25,30H11V22H25Zm5,0H27V22a2,2,0,0,0-2-2H11a2,2,0,0,0-2,2v8H6V6h4v6a2,2,0,0,0,2,2H24a2,2,0,0,0,2-2H12V6H26.51L30,9.59Z"/>',outlineAlerted:'<path d="M30,15.4V30H27V22a2,2,0,0,0-2-2H11a2,2,0,0,0-2,2v8H6V6h4v6a2,2,0,0,0,2,2h7.35a3.54,3.54,0,0,1-.77-2H12V6h9.29l1.15-2H6A2,2,0,0,0,4,6V30a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V15.4ZM25,30H11V22H25Z"/>',outlineBadged:'<path d="M30,13.5h0V30H27V22a2,2,0,0,0-2-2H11a2,2,0,0,0-2,2v8H6V6h4v6a2,2,0,0,0,2,2H24a2,2,0,0,0,2-1.68l-.43-.3H12V6H22.5a7.49,7.49,0,0,1,.28-2H6A2,2,0,0,0,4,6V30a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V13.22A7.49,7.49,0,0,1,30,13.5ZM25,30H11V22H25Z"/>',solid:'<path d="M27.36,4H6A2,2,0,0,0,4,6V30a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V8.78ZM26,30H10V21.5A1.5,1.5,0,0,1,11.5,20h13A1.5,1.5,0,0,1,26,21.5ZM24,14H12a2,2,0,0,1-2-2V6h2v6H26A2,2,0,0,1,24,14Z"/>',solidAlerted:'<path d="M22.23,15.4A3.69,3.69,0,0,1,19.35,14H12a2,2,0,0,1-2-2V6h2v6h6.58A3.67,3.67,0,0,1,19,9.89L22.45,4H6A2,2,0,0,0,4,6V30a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V15.4ZM26,30H10V21.5A1.5,1.5,0,0,1,11.5,20h13A1.5,1.5,0,0,1,26,21.5Z"/>',solidBadged:'<path d="M30,13.5a7.46,7.46,0,0,1-4-1.18A2,2,0,0,1,24,14H12a2,2,0,0,1-2-2V6h2v6H25.54a7.45,7.45,0,0,1-2.76-8H6A2,2,0,0,0,4,6V30a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V13.22A7.49,7.49,0,0,1,30,13.5ZM26,30H10V21.5A1.5,1.5,0,0,1,11.5,20h13A1.5,1.5,0,0,1,26,21.5Z"/>'}],["recycle",{outline:'<path d="M6.4,17.4c0.2,0.1,0.3,0.1,0.5,0.1c0.2,0,0.4-0.1,0.5-0.1l7-4.1c0.3-0.2,0.5-0.5,0.5-0.9c0-0.4-0.2-0.7-0.5-0.9L11.9,10L14,6.2c0.4-0.7,1-1.3,1.7-1.7c2-1.1,4.5-0.3,5.6,1.7c0.3,0.5,0.9,0.6,1.4,0.3c0,0,0,0,0.1,0c0.4-0.3,0.5-0.9,0.3-1.3c-0.6-1-1.4-1.9-2.4-2.4c-3-1.6-6.7-0.6-8.3,2.4L9.6,9.9c-0.3,0.5-0.1,1.1,0.3,1.4l2,1.2l-4,2.4V8.2c0-0.6-0.4-1-1-1C6.4,7.3,6,7.7,6,8.3v8.3C6,16.9,6.2,17.2,6.4,17.4z"/><path d="M32.1,21l-3.5-6.2c-0.1-0.2-0.4-0.4-0.6-0.5c-0.3-0.1-0.5,0-0.8,0.1l-2.2,1.3V11l5.5,3.3c0.1,0,0.1,0.1,0.2,0.1c0.5,0.2,1.1,0,1.3-0.5c0.2-0.5,0-1.1-0.5-1.3l-7-4.2c-0.3-0.2-0.7-0.2-1,0C23.1,8.5,23,8.8,23,9.2v8.3c0,0.4,0.1,0.8,0.4,1c0.3,0.2,0.7,0.2,1,0l2.9-1.7l3,5.3c0.7,1.3,0.7,2.8,0,4.1c-0.6,1.2-1.9,1.9-3.2,1.9h-0.9c-0.5,0-1.2,0.4-1.2,1c0.1,0.6,0.6,1,1.2,1h0.9c2.1,0,4-1.1,5-2.9C33.2,25.2,33.2,22.9,32.1,21z"/><path d="M22.4,28.2l-7-4.2c-0.3-0.2-0.7-0.2-1,0c-0.3,0.2-0.4,0.5-0.4,0.9v3.3H9.1c-1.5-0.1-2.9-0.9-3.6-2.3c-0.8-1.4-0.8-3.2,0-4.6c0.3-0.5,0.1-1.1-0.4-1.4c-0.5-0.3-1.1-0.1-1.4,0.4c-1.2,2.1-1.1,4.6,0.1,6.6C4.9,28.8,7,30,9.2,30H15c0.6,0,1-0.4,1-1v-2.4l4,2.4l-5.6,3.3c-0.3,0.2-0.5,0.5-0.5,0.9c0,0.6,0.5,1,1,1c0.2,0,0.3-0.1,0.5-0.2l7-4.2c0.2-0.1,0.3-0.2,0.4-0.4C23.1,29,22.9,28.4,22.4,28.2z"/>',solid:'<path d="M20.8,3.1c-3-1.6-6.7-0.6-8.4,2.4l-2.2,3.8l-2-1.1C8.2,8,8,8,7.9,8C7.4,8,7,8.4,7,8.9v7.2c0,0.3,0.1,0.6,0.4,0.8c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0,0.4-0.1l6.3-3.6c0.3-0.2,0.4-0.4,0.4-0.8c0-0.3-0.2-0.6-0.4-0.8L12,10.3l2.2-3.8c0.4-0.7,1-1.3,1.7-1.7c2-1.1,4.5-0.3,5.6,1.7c0.3,0.5,0.9,0.6,1.4,0.4c0.5-0.3,0.6-0.9,0.4-1.4C22.6,4.5,21.8,3.6,20.8,3.1z"/><path d="M32.2,21.1l-3-5.3l2.3-1.3c0.3-0.2,0.4-0.4,0.4-0.8c0-0.3-0.2-0.6-0.4-0.8l-6.2-3.6c-0.1-0.1-0.3-0.1-0.4-0.1c-0.5,0-0.9,0.4-0.9,0.9v7.2c0,0.3,0.2,0.6,0.4,0.8c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3-0.1,0.4-0.1l2.2-1.3l3,5.3c0.7,1.2,0.7,2.8,0,4c-0.7,1.2-1.9,1.9-3.2,1.9h-0.9c-0.6,0-1,0.4-1,1c0,0.6,0.4,1,1,1h0.9c2.1,0,4-1.1,5-3C33.2,25.3,33.2,23,32.2,21.1z"/><path d="M21.7,28.4l-6.2-3.6c-0.1-0.1-0.3-0.1-0.4-0.1c-0.5,0-0.9,0.4-0.9,0.9v2.6H9.3c-1.5,0-2.9-0.8-3.6-2.1c-0.8-1.4-0.8-3.1,0-4.5c0.3-0.5,0.1-1.1-0.4-1.4c-0.5-0.3-1.1-0.1-1.4,0.4c-1.2,2-1.2,4.5,0,6.5c1.1,1.9,3.1,3.1,5.4,3.1h4.8v2.6c0,0.3,0.2,0.6,0.4,0.8c0.1,0.1,0.3,0.1,0.4,0.1c0.1,0,0.3,0,0.4-0.1l6.3-3.6c0.3-0.2,0.4-0.4,0.4-0.8C22.1,28.8,21.9,28.5,21.7,28.4z"/>'}],["keyboard",{outline:'<path d="M32,8H4a2,2,0,0,0-2,2V26a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V10A2,2,0,0,0,32,8Zm0,18H4V10H32Z"/><rect x="7" y="13" width="2" height="2"/><rect x="11" y="13" width="2" height="2"/><rect x="15" y="13" width="2" height="2"/><rect x="19" y="13" width="2" height="2"/><rect x="23" y="13" width="2" height="2"/><rect x="27" y="13" width="2" height="2"/><rect x="7" y="17" width="2" height="2"/><rect x="11" y="17" width="2" height="2"/><rect  x="15" y="17" width="2" height="2"/><rect  x="19" y="17" width="2" height="2"/><rect  x="23" y="17" width="2" height="2"/><rect  x="27" y="17" width="2" height="2"/><rect  x="27" y="22" width="1.94" height="2"/><rect  x="7" y="22" width="2" height="2"/><rect  x="11.13" y="22" width="13.75" height="2"/>',solid:'<path d="M32,8H4a2,2,0,0,0-2,2V26a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V10A2,2,0,0,0,32,8ZM19,13h2v2H19Zm0,4h2v2H19Zm-4-4h2v2H15Zm0,4h2v2H15Zm-4-4h2v2H11ZM9,24H7V22H9Zm0-5H7V17H9Zm0-4H7V13H9Zm2,2h2v2H11Zm13.88,7H11.13V22H24.88ZM25,19H23V17h2Zm0-4H23V13h2Zm3.94,9H27V22h1.94ZM29,19H27V17h2Zm0-4H27V13h2Z"/>'}],["window-restore",{outline:'<path d="M28,8H14a2,2,0,0,0-2,2v2h2V10H28V20H26v2h2a2,2,0,0,0,2-2V10A2,2,0,0,0,28,8Z"/><path d="M22,14H8a2,2,0,0,0-2,2V26a2,2,0,0,0,2,2H22a2,2,0,0,0,2-2V16A2,2,0,0,0,22,14ZM8,26V16H22V26Z"/>'}],["details",{outline:'<path d="M32,6H4A2,2,0,0,0,2,8V28a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V8A2,2,0,0,0,32,6Zm0,22H4V8H32Z"/><path d="M9,14H27a1,1,0,0,0,0-2H9a1,1,0,0,0,0,2Z"/><path d="M9,18H27a1,1,0,0,0,0-2H9a1,1,0,0,0,0,2Z"/><path d="M9,22H19a1,1,0,0,0,0-2H9a1,1,0,0,0,0,2Z"/>',solid:'<path d="M32,6H4A2,2,0,0,0,2,8V28a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V8A2,2,0,0,0,32,6ZM19,22H9a1,1,0,0,1,0-2H19a1,1,0,0,1,0,2Zm8-4H9a1,1,0,0,1,0-2H27a1,1,0,0,1,0,2Zm0-4H9a1,1,0,0,1,0-2H27a1,1,0,0,1,0,2Z"/>'}],["zoom-in",{outline:'<path d="M16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Zm0,21.91A10,10,0,1,1,26,16,10,10,0,0,1,16,25.91Z"/><path d="M31.71,29.69l-5.17-5.17A13.68,13.68,0,0,1,25.15,26l5.15,5.15a1,1,0,0,0,1.41-1.41Z"/><path d="M21,15H17V11a1,1,0,0,0-2,0v4H11a1,1,0,0,0,0,2h4v4a1,1,0,0,0,2,0V17h4a1,1,0,0,0,0-2Z"/>'}],["zoom-out",{outline:'<path d="M16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Zm0,21.91A10,10,0,1,1,26,16,10,10,0,0,1,16,25.91Z"/><path d="M31.71,29.69l-5.17-5.17A13.68,13.68,0,0,1,25.15,26l5.15,5.15a1,1,0,0,0,1.41-1.41Z"/><path d="M20,15H12a1,1,0,0,0,0,2h8a1,1,0,0,0,0-2Z"/>'}],["plus-circle",{outline:'<path d="M26.17,17H19V9.83a1,1,0,0,0-2,0V17H9.83a1,1,0,0,0,0,2H17v7.17a1,1,0,0,0,2,0V19h7.17a1,1,0,0,0,0-2Z"/><path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/>',solid:'<path d="M34,18A16,16,0,1,1,18,2,16,16,0,0,1,34,18Zm-8.41-1.5H19.5V10.41a1.5,1.5,0,0,0-3,0V16.5H10.41a1.5,1.5,0,0,0,0,3H16.5v6.09a1.5,1.5,0,0,0,3,0V19.5h6.09a1.5,1.5,0,0,0,0-3Z"/>'}],["refresh",{outline:'<path d="M22.4,11.65a1.09,1.09,0,0,0,1.09,1.09H34.43V1.81a1.09,1.09,0,1,0-2.19,0V8.95a16.41,16.41,0,1,0,1.47,15.86,1.12,1.12,0,0,0-2.05-.9,14.18,14.18,0,1,1-1.05-13.36H23.5A1.09,1.09,0,0,0,22.4,11.65Z"/>'}],["filter-2",{outline:'<path d="M33,11H3a1,1,0,0,0,0,2H33a1,1,0,0,0,0-2Z"/><path d="M28,17H8a1,1,0,0,0,0,2H28a1,1,0,0,0,0-2Z"/><path d="M23,23H13a1,1,0,0,0,0,2H23a1,1,0,0,0,0-2Z"/>'}],["eraser",{outline:'<path d="M35.62,12a2.82,2.82,0,0,0-.84-2L27.49,2.65a2.9,2.9,0,0,0-4,0L2.83,23.28a2.84,2.84,0,0,0,0,4L7.53,32H3a1,1,0,0,0,0,2H28a1,1,0,0,0,0-2H16.74l18-18A2.82,2.82,0,0,0,35.62,12ZM13.91,32H10.36L4.25,25.89a.84.84,0,0,1,0-1.19l5.51-5.52,8.49,8.48ZM33.37,12.54,19.66,26.25l-8.48-8.49,13.7-13.7a.86.86,0,0,1,1.19,0l7.3,7.29a.86.86,0,0,1,.25.6A.82.82,0,0,1,33.37,12.54Z"/>',solid:'<path d="M28,32H15.33L19,28.37l-9.9-9.9L3.54,24a1.83,1.83,0,0,0,0,2.6L9,32H3a1,1,0,0,0,0,2H28a1,1,0,0,0,0-2Z"/><path d="M34.08,10.65l-7.3-7.3a1.83,1.83,0,0,0-2.6,0L10.47,17.06l9.9,9.9L34.08,13.25A1.85,1.85,0,0,0,34.08,10.65Z"/>'}],["cursor-move",{outline:'<path d="M28.85,12.89a1,1,0,0,0-1.42,0,1,1,0,0,0,0,1.41L30.14,17H19V5.86l2.69,2.7a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.42L18,2,12.89,7.15a1,1,0,0,0-.29.71,1,1,0,0,0,1.71.7L17,5.86V17H5.86l2.7-2.69a1,1,0,0,0,0-1.41,1,1,0,0,0-1.42,0L2,18l5.14,5.11a1,1,0,0,0,.71.29,1,1,0,0,0,.7-1.71L5.86,19H17V30.14l-2.69-2.7a1,1,0,0,0-1.71.7,1,1,0,0,0,.29.71L18,34l5.11-5.14a1,1,0,0,0,0-1.42,1,1,0,0,0-1.41,0L19,30.14V19H30.14l-2.7,2.69a1,1,0,0,0,.7,1.71,1,1,0,0,0,.71-.29L34,18Z"/>'}],["undo",{outline:'<path d="M20.87,11.14h-13l5.56-5.49A1,1,0,0,0,12,4.22L4,12.13,12,20a1,1,0,0,0,1.41-1.42L7.86,13.14h13a9.08,9.08,0,0,1,9.13,9,9,9,0,0,1-5,8A1,1,0,0,0,25.93,32a11,11,0,0,0-5.06-20.82Z"/>'}],l4e,["my-logo-icon",'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="0 0 512 512">\n  <g transform="translate(0,0)">\n    <rect x="225.28" y="0" rx="0" ry="0" transform="translate(0,0) scale(1,1)" width="61.44" height="512"\n          fill-opacity="1" stroke-opacity="1" class="cursor"\n          style="stroke-width: 0; visibility: visible;"></rect>\n    <rect x="64" y="126.72" rx="0" ry="0" transform="translate(0,0) scale(1,1)" width="384" height="61.44"\n          fill-opacity="1" stroke-opacity="1" class="cursor"\n          style="stroke-width: 0; visibility: visible;"></rect>\n    <rect x="0" y="0" rx="0" ry="0" transform="translate(0,0) scale(1,1) translate(160,32.64)" width="192"\n          height="61.44" fill-opacity="1" stroke-opacity="1" class="cursor"\n          style="stroke-width: 0; visibility: visible;"></rect>\n    <rect x="0" y="0" rx="0" ry="0" transform="translate(0,0) scale(1,1) translate(160,282.8193527475645) skewY(22.5)"\n          width="192" height="66.50217678596468" fill-opacity="1" stroke-opacity="1" class="cursor"\n          style="stroke-width: 0; visibility: visible;"></rect>\n  </g>\n</svg>'],...Kn.getNames(["chess-none",Kn.getWhiteNone],["chess-black-action-ok",Kn.getBlackActionOk],["chess-black-action-fail",Kn.getBlackActionFail],["chess-white-action-ok",Kn.getWhiteActionOk],["chess-white-action-fail",Kn.getWhiteActionFail],["chess-white-king",Kn.getWhiteKing],["chess-black-king",Kn.getBlackKing],["chess-white-queen",Kn.getWhiteQueen],["chess-black-queen",Kn.getBlackQueen],["chess-white-bishop",Kn.getWhiteBishop],["chess-black-bishop",Kn.getBlackBishop],["chess-white-knight",Kn.getWhiteKnight],["chess-black-knight",Kn.getBlackKnight],["chess-white-rook",Kn.getWhiteRook],["chess-black-rook",Kn.getBlackRook],["chess-white-pawn",Kn.getWhitePawn],["chess-black-pawn",Kn.getBlackPawn],...["a","b","c","d","e","f","g","h"].map(c=>["chess-letter-"+c,(l,a)=>Kn.getLetterRaw(c,l,a)]),...["0","1","2","3","4","5","6","7","8","9"].map(c=>["chess-number-"+c,(l,a)=>Kn.getLetterRaw(c,l,a)])));let u8t=(()=>{class c{router;config;uiConfig;updateSvc;names=[Ft.builder().setLink("https://deviskin.github.io").setName("Deviskin")];defaultTitleCommands=[Ft.builder().setName("\u0417\u0430\u043a\u0440\u044b\u0442\u044c").setShape("window-close").setOnClick(()=>this.onRootRoute())];collapsed=!1;collapsedDetector=Rr.builder();get applicationInfo(){return this.config.getApplication()}constructor(a,h,d,f){this.router=a,this.config=h,this.uiConfig=d,this.updateSvc=f}ngOnInit(){this.uiConfig.enableMainContainer(!0),this.setupTg()}ngAfterViewInit(){this.config.post(()=>this.updateSvc.checkUpdate(),1e3)}ngOnDestroy(){this.uiConfig.enableMainContainer(!1)}navigateTo(a,h){h.onClick?h.onClick(h):(this.uiConfig.ui.defaultAppRoute.setStringValue(h.link),this.router.navigate([h.link]))}navigateToMain(a){this.router.navigate(["/main"])}isActive(a){return a.isActive?a.isActive(a):this.router.isActive(a.link,!1)}isHidden(a){return!!a.isHidden&&a.isHidden(a)}isUpperMenuEnabled(){return this.uiConfig.upperMenuEnabled}isLeftBarEnabled(){return!1}isRightBarEnabled(){return!1}isFooterBarEnabled(){return!1}onCompiler(){this.router.navigate(["/compiler"])}isRedTheme(){return!1}onRootRoute(){this.config.setShowLogin(!1)}getTitle(){return this.applicationInfo.name}getLinks(){return this.uiConfig.appRoutes||this.applicationInfo.routes}getSideMenuCommands(){return this.uiConfig.sideMenuCommands}isMainContainerEnabled(){return this.uiConfig.mainContainerEnabled}isFixedWidth(){return this.uiConfig.ui.fixedWidth.getBooleanValue()}isVerticalMenuEnabled(){return this.uiConfig.verticalMenuEnabled}getAppShape(){let a=this.config.getApplication()?.shape;return a||"home"}isVerticalMenuEnabledAndChecked(){let a=this.isMainContainerEnabled()&&this.isVerticalMenuEnabled()&&!!this.getSideMenuCommands();return this.collapsedDetector.checkAndUpdate(a)&&window.innerWidth-240<800&&this.closeNavMenu(),a}closeNavMenu(){this.config.post(()=>{this.collapsed=!1},1),this.config.post(()=>{this.collapsed=!0},3e3)}getTitleCommands(){return this.uiConfig.titleMenuCommands?this.uiConfig.titleMenuCommands:this.defaultTitleCommands}isTitleCommandsEnabled(){return this.defaultTitleCommands===this.getTitleCommands()}isColorPaper(){return this.uiConfig.colorPaper}isColorDefault(){return!this.uiConfig.colorPaper}setupTg(){let a=window.Telegram?.WebApp;a&&(a.ready(),a.expand(),a.MainButton.hide())}static \u0275fac=function(h){return new(h||c)(V(lo),V(Zt),V(wn),V(b0))};static \u0275cmp=qe({type:c,selectors:[["app-default"]],decls:8,vars:16,consts:[[3,"ngClass"],[3,"class",4,"ngIf"],["class","clr-hidden-lg-up-x bgColorMenu no-print",3,"clrVerticalNavCollapsed","clrVerticalNavCollapsible","clr-nav-level","clrVerticalNavCollapsedChange",4,"ngIf"],["class","clr-example",4,"ngIf"],[1,"branding"],[1,"nav-link","cursor","clr-hidden-lg-up",3,"click"],["size","24",1,"whiteBtn"],[1,"title"],[1,"nav-link","cursor","clr-hidden-md-down",3,"click"],["size","24"],[1,"header-nav",3,"clr-nav-level"],["href","javascript://",3,"ngClass","hidden","click",4,"ngFor","ngForOf"],[1,"rightSpace"],[1,"header-actions"],["href","javascript://","class","nav-link nav-icon","aria-label","settings",3,"click",4,"ngFor","ngForOf"],["href","javascript://",3,"ngClass","hidden","click"],["clrVerticalNavIcon","",3,"ngClass",4,"ngIf"],["clrVerticalNavIcon","",3,"ngClass"],["href","javascript://","aria-label","settings",1,"nav-link","nav-icon",3,"click"],[1,"clr-hidden-lg-up-x","bgColorMenu","no-print",3,"clrVerticalNavCollapsed","clrVerticalNavCollapsible","clr-nav-level","clrVerticalNavCollapsedChange"],["clrVerticalNavLink","","href","javascript://",3,"ngClass","hidden","click",4,"ngFor","ngForOf"],["clrVerticalNavLink","","href","javascript://",3,"ngClass","hidden","click"],[1,"clr-example"],[1,"logotypeImage","cursor",3,"click"],[3,"svgWidth","svgHeight","logoText"]],template:function(h,d){1&h&&(E(0,"clr-main-container",0),X(1,JFt,15,11,"clr-header",1),E(2,"div",0)(3,"main",0)(4,"div",0),se(5,"router-outlet"),M()(),X(6,n8t,2,4,"clr-vertical-nav",2),M()(),X(7,o8t,6,10,"div",3)),2&h&&(R("ngClass",mr(7,a8t,d.isColorPaper(),d.isColorDefault())),I(1),R("ngIf",d.isUpperMenuEnabled()),I(1),R("ngClass",xr(10,h4e,d.isMainContainerEnabled())),I(1),R("ngClass",xr(12,l8t,d.isMainContainerEnabled())),I(1),R("ngClass",xr(14,c8t,d.isMainContainerEnabled()&&d.isFixedWidth())),I(2),R("ngIf",d.isVerticalMenuEnabledAndChecked()),I(1),R("ngIf",!1))},dependencies:[ei,Gn,mn,T6,Vn,U0e,H0e,W0e,Q0e,Yz,X0e,q0e,Y0e,Ic],styles:["@media screen{.maxWidth800[_ngcontent-%COMP%]{margin:auto;max-width:1110px}}.logotypeImage[_ngcontent-%COMP%]{width:150px;height:100%;padding-right:10px;padding-left:10px}.topPaddingZero[_ngcontent-%COMP%]{padding-top:0!important}.rightSpace[_ngcontent-%COMP%]{width:5px;height:100%}.alignLeft[_ngcontent-%COMP%]{text-align:left!important}.clr-example[_ngcontent-%COMP%]{padding:0;overflow:hidden}.clr-example[_ngcontent-%COMP%]   .example-aside-section[_ngcontent-%COMP%]{width:20%;padding:24px;border:1px solid}.clr-example[_ngcontent-%COMP%]   .example-footer[_ngcontent-%COMP%]{height:40px;padding-top:0;padding-bottom:10px;padding-left:24px}"]})}return c})();function h8t(c,l){1&c&&se(0,"app-default")}function d8t(c,l){1&c&&se(0,"app-login")}function f8t(c,l){1&c&&se(0,"app-three-logo",2),2&c&&R("fullScreen",!0)}let p8t=(()=>{class c{router;config;themeSvc;constructor(a,h,d){this.router=a,this.config=h,this.themeSvc=d}isShowType(a){return this.config.showType==a}ngOnInit(){this.themeSvc.applyTheme()}static \u0275fac=function(h){return new(h||c)(V(lo),V(Zt),V(Ys))};static \u0275cmp=qe({type:c,selectors:[["app-root"]],decls:4,vars:3,consts:[[4,"ngIf"],["class","fullSize",3,"fullScreen",4,"ngIf"],[1,"fullSize",3,"fullScreen"]],template:function(h,d){1&h&&(se(0,"app-alerts"),X(1,h8t,1,0,"app-default",0),X(2,d8t,1,0,"app-login",0),X(3,f8t,1,1,"app-three-logo",1)),2&h&&(I(1),R("ngIf",d.isShowType("normal")),I(1),R("ngIf",d.isShowType("login")),I(1),R("ngIf",d.isShowType("login3d")))},dependencies:[mn,GNt,Dke,u8t,BTe],styles:[".fullSize[_ngcontent-%COMP%]{width:100vw;height:100vh}"]})}return c})();const Td=void 0,m8t=["ru",[["AM","PM"],Td,Td],Td,[["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],Td,[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]],[["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",Td,Td,Td],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","\u043d\u0435\xa0\u0447\u0438\u0441\u043b\u043e",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RUB","\u20bd","\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",{BYN:[Td,"\u0440."],GEL:[Td,"\u10da"],PHP:[Td,"\u20b1"],RON:[Td,"L"],RUB:["\u20bd"],RUR:["\u0440."],THB:["\u0e3f"],TMT:["\u0422\u041c\u0422"],TWD:["NT$"],UAH:["\u20b4"],XXX:["XXXX"]},"ltr",function g8t(c){const a=Math.floor(Math.abs(c)),h=c.toString().replace(/^[^.]*\.?/,"").length;return 0===h&&a%10==1&&a%100!=11?1:0===h&&a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?3:0===h&&a%10==0||0===h&&a%10===Math.floor(a%10)&&a%10>=5&&a%10<=9||0===h&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=14?4:5}];let _8t=(()=>{class c{config;constructor(a){this.config=a}intercept(a,h){let d=a.headers.set("X-Requested-With","XMLHttpRequest");this.config.authBody&&(d=d.set("Authorization","Basic "+this.config.authBody),d=d.set(this.config.authIdKey,this.config.authId));const f=new Dp({encoder:new y8t,fromString:a.params.toString()});return a=a.clone({withCredentials:!0,headers:d,params:f}),h.handle(a)}static \u0275fac=function(h){return new(h||c)(Ee(Zt))};static \u0275prov=Ye({token:c,factory:c.\u0275fac})}return c})();class y8t{encodeKey(l){return encodeURIComponent(l)}encodeValue(l){return encodeURIComponent(l)}decodeKey(l){return decodeURIComponent(l)}decodeValue(l){return decodeURIComponent(l)}}const b8t=function(c){return{"print-only":!1,pageBreak:c,"bottom-space":!0}};function O8t(c,l){if(1&c&&(E(0,"div",1),se(1,"app-svg-js-image",2)(2,"app-dynamic-menu",3),M()),2&c){const a=Q();R("ngClass",xr(6,b8t,a.enabled&&a.uiConfig.ui.showFacePage.getBooleanValue()||a.showAnyWay)),I(1),R("genName","LogoLight2")("svgWidth",512)("svgHeight",512)("type",a.type),I(1),R("data",a.dynMenuData)}}let C8t=(()=>{class c{uiConfig;enabled=!0;showAnyWay=!1;type=512;set menuClick(a){this.dynMenuData&&this.dynMenuData.setOnClick(a)}set name(a){this.dynMenuData.setMenuState(em.builder().addCommand(Ba.builder().setName(a)).setGenName("MenuDay2"))}get name(){return this.dynMenuData.menuState.commands[0].name}dynMenuData=wm.builder().setWhiteBack(!0).setMenuState(em.builder().addCommand(Ba.builder().setName("\u0414\u0435\u0432\u0438\u0441\u043a\u0438\u043d")).setGenName("MenuDay2"));constructor(a){this.uiConfig=a}ngOnInit(){}static \u0275fac=function(h){return new(h||c)(V(wn))};static \u0275cmp=qe({type:c,selectors:[["app-print-logo"]],inputs:{enabled:"enabled",showAnyWay:"showAnyWay",type:"type",menuClick:"menuClick",name:"name"},decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"genName","svgWidth","svgHeight","type"],[3,"data"]],template:function(h,d){1&h&&X(0,O8t,3,8,"div",0),2&h&&R("ngIf",d.enabled&&d.uiConfig.ui.showFacePage.getBooleanValue()||d.showAnyWay)},dependencies:[ei,mn,Ic,dA]})}return c})();function S8t(c,l){1&c&&(E(0,"span"),H(1,"\u0421\u043e\u0431\u0440\u0430\u043d\u043e "),M())}function w8t(c,l){1&c&&se(0,"clr-progress-bar",3),2&c&&R("clrValue",Q().progressValue)}function x8t(c,l){if(1&c){const a=Ae();E(0,"clr-toggle-container",4)(1,"label"),H(2,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:"),M(),E(3,"clr-toggle-wrapper")(4,"input",5),Y("ngModelChange",function(d){return ce(a),ue(Q().v.rawValue=d)}),M(),E(5,"label"),H(6),M()()()}if(2&c){const a=Q();I(4),R("name",a.v.name)("value",a.v.name)("ngModel",a.v.rawValue),I(2),ut(a.v.description)}}let T8t=(()=>{class c{config;uiConfig;epubBuilder;data;get printEpubData(){return this.data}get v(){return this.uiConfig.ui.memorialPrintAllBook}progressValue=0;lastEvent="";fileEntries=[];workerSvc=gl.builder();bookServerSvc=new gU((a,h)=>{this.config.post(()=>{this.bookSvc.post(a,h)})});bookSvc=new uX((a,h)=>{this.config.post(()=>{this.workerSvc.enabled()?this.workerSvc.sendMessage(h):this.bookServerSvc.post(a,h)})});get text(){return this.data&&this.data.text?this.data.text:""}constructor(a,h,d){this.config=a,this.uiConfig=h,this.epubBuilder=d}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){this.workerSvc.enabled()?this.workerSvc.setOnMessage(a=>{this.config.post(()=>{this.bookSvc.post(null,a)})}):this.bookServerSvc.setCacheService(new pU(new qE)),this.bookSvc.setConfig(this.config).setUIConfig(this.uiConfig),this.bookSvc.onPageLoadEvent.setOnEventHandler(a=>{this.onPageCompleted()}),this.printEpubData.printEventsEmitter.subscribe({next:a=>{this.onPrintEpubEvent(a)}})}onClick(a){this.data.onClick&&(this.data.onClick(this.data),a.stopPropagation())}getClasses(){return{}}allBookslines=[];allBooksChapters=[];allBooksEmptyLines=[];allBooksNames=[];clearAllItems(){this.fileEntries=[],this.allBookslines=[],this.allBooksChapters=[],this.allBooksEmptyLines=[],this.allBooksNames=[]}onPageCompleted(){this.config.post(()=>{if(this.bookSvc.bookChapter){this.allBooksNames.length||(this.allBooksNames=[...this.bookSvc.bookLanguages]);let a=this.bookSvc.getChapterTitleName();this.allBooksChapters.push(a||this.bookSvc.bookChapter.name),this.allBooksEmptyLines.push(this.bookSvc.books.map(f=>f.\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445\u0421\u0442\u0440\u043e\u043a)),this.allBookslines.push(this.bookSvc.books.map((f,p)=>{let g=[],m=(_,y)=>_?_[y]:null;var _;return _=m(m(f.\u0441\u0442\u0440\u043e\u043a\u0438,0)?.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b,0)?.classes,(_?.red||_?.redDark)&&++this.allBooksEmptyLines[this.allBooksEmptyLines.length-1][p],f.\u0441\u0442\u0440\u043e\u043a\u0438.forEach(_=>{g.push(_.\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b.map(y=>y.text).join(""))}),g}));let h=""+(+this.bookSvc.bookChapter.name+1),d=this.printEpubData.showSettings&&this.uiConfig.ui.memorialPrintAllBook.getBooleanValue();if(d&&null!=this.bookSvc.bookContent[0].parsed?.content.find((f,p,g)=>f.name==h))this.lastEvent="loaded chapter: "+h,this.progressValue=Math.floor(+this.bookSvc.bookChapter.name/this.bookSvc.bookContent[0].parsed?.content.length*100),this.config.post(()=>{this.bookSvc.loadPage(h)},1);else if(d){this.lastEvent="stopped after chapter: "+h,this.progressValue=100;let f=this.printEpubData.bookTitle;if(d){let p=f.indexOf(":");p>0&&(f=f.substring(0,p))}this.epubBuilder.generate(fO.builder().setName(f).setPsalomName("\u041f\u0441\u0430\u043b\u0442\u0438\u0440\u044c VZ_KU"==this.bookSvc.bookName?"\u041f\u0441\u0430\u043b\u043e\u043c":"\u0413\u043b\u0430\u0432\u0430").setAllBooks(this.allBookslines).setBookNames(this.allBooksNames).setAllBooksChapters(this.allBooksChapters).setEmptyFirstLines(this.allBooksEmptyLines).setShowLineIndexes(this.bookSvc.bookName.includes("VZ")||this.bookSvc.bookName.includes("NZ"))).then(p=>{this.printEpubData.printEventsEmitter.emit("stop")},p=>{this.config.addAlert(Bi.of(`\u041e\u0448\u0438\u0431\u043a\u0430: ${p}`,"\u041e\u041a",15)),this.printEpubData.printEventsEmitter.emit("stop")})}else if(this.printEpubData.printerHandler){let f=xU.builder();this.printEpubData.printerHandler.print(f);let p=0,g=()=>{if(p>=f.requestsPack.length)this.progressValue=100,f.requestsPack.length>=1?this.epubBuilder.generate(f.requestsPack[0],!1,!1,!0).then(v=>{this.printEpubData.printEventsEmitter.emit("stop")}):this.printEpubData.printEventsEmitter.emit("stop");else{let m=p++;this.progressValue=Math.floor((m+1)/f.requestsPack.length*100);let v=f.requestsPack[m];this.epubBuilder.generate(v,0==m,v.showMiddleContent,!1).then(_=>{this.config.post(()=>g())})}};g()}else this.printEpubData.printEventsEmitter.emit("stop")}else this.printEpubData.printEventsEmitter.emit("stop")})}onPrintEpubEvent(a){"print"===(this.lastEvent=a,a)?(this.clearAllItems(),this.progressValue=1,this.bookSvc.loadBookByName(this.printEpubData.bookName,this.printEpubData.bookLanguages,this.uiConfig.ui.memorialPrintAllBook.getBooleanValue()?"1":this.printEpubData.bookChapter)):this.progressValue=0}static \u0275fac=function(h){return new(h||c)(V(Zt),V(wn),V(T1e))};static \u0275cmp=qe({type:c,selectors:[["app-dynamic-print-epub"]],inputs:{data:"data"},decls:6,vars:4,consts:[[4,"ngIf"],["clrMax","100","clrSuccess","","clrLabeled","",3,"clrValue",4,"ngIf"],["clrInline","",4,"ngIf"],["clrMax","100","clrSuccess","","clrLabeled","",3,"clrValue"],["clrInline",""],["type","checkbox","clrToggle","",3,"name","value","ngModel","ngModelChange"]],template:function(h,d){1&h&&(E(0,"div")(1,"div"),X(2,S8t,2,0,"span",0),H(3),M(),X(4,w8t,1,1,"clr-progress-bar",1),M(),X(5,x8t,7,4,"clr-toggle-container",2)),2&h&&(I(2),R("ngIf",d.progressValue>0),I(1),Kt('"',d.printEpubData.bookTitle,'":'),I(1),R("ngIf",d.progressValue>0),I(1),R("ngIf",d.printEpubData.showSettings))},dependencies:[mn,Lr,rd,rv,id,uO,rh,sa,Fo],styles:[".divcentered[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:block;margin:0 auto}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.12);transition:.3s;border-radius:4px}canvas[_ngcontent-%COMP%]:hover{border:2px solid rgba(0,0,0,.54)}#load-font[_ngcontent-%COMP%]{font-family:ucs;visibility:hidden}"]})}return c})();!function oNe(c,l,a){(function JAe(c,l,a){"string"!=typeof l&&(a=l,l=c[ms.LocaleId]),l=l.toLowerCase().replace(/_/g,"-"),iy[l]=c,a&&(iy[l][ms.ExtraData]=a)})(c,l,a)}(m8t,"ru",[[["\u043f\u043e\u043b\u043d.","\u043f\u043e\u043b\u0434.","\u0443\u0442\u0440\u0430","\u0434\u043d\u044f","\u0432\u0435\u0447.","\u043d\u043e\u0447\u0438"],["\u043f\u043e\u043b\u043d.","\u043f\u043e\u043b\u0434.","\u0443\u0442\u0440\u0430","\u0434\u043d\u044f","\u0432\u0435\u0447\u0435\u0440\u0430","\u043d\u043e\u0447\u0438"],["\u043f\u043e\u043b\u043d\u043e\u0447\u044c","\u043f\u043e\u043b\u0434\u0435\u043d\u044c","\u0443\u0442\u0440\u0430","\u0434\u043d\u044f","\u0432\u0435\u0447\u0435\u0440\u0430","\u043d\u043e\u0447\u0438"]],[["\u043f\u043e\u043b\u043d.","\u043f\u043e\u043b\u0434.","\u0443\u0442\u0440\u043e","\u0434\u0435\u043d\u044c","\u0432\u0435\u0447.","\u043d\u043e\u0447\u044c"],void 0,["\u043f\u043e\u043b\u043d\u043e\u0447\u044c","\u043f\u043e\u043b\u0434\u0435\u043d\u044c","\u0443\u0442\u0440\u043e","\u0434\u0435\u043d\u044c","\u0432\u0435\u0447\u0435\u0440","\u043d\u043e\u0447\u044c"]],["00:00","12:00",["04:00","12:00"],["12:00","18:00"],["18:00","22:00"],["22:00","04:00"]]]);let k8t=(()=>{class c{static \u0275fac=function(h){return new(h||c)};static \u0275mod=jn({type:c,bootstrap:[p8t]});static \u0275inj=Wn({providers:[Zt,Ys,mb,Jl,V1,wn,R9,Hde,Wde,gO,gl,Cke,Ske,fu,Jw,Xde,Cb,Gde,jde,Xh,H9,Zde,Zp,A1e,L1e,N1e,cQ,R1e,_A,bA,uv,fo,T1e,fG,M9,km,kG,CG,rke,JR,CA,xke,b0,dQ,kke,W1e,[{provide:Lde,useClass:_8t,multi:!0},{provide:Eh,useValue:"ru"}]],imports:[Bie,YRt,vut,WNt,kqe,fm]})}return c})();l4(Dl,[ei,Gn,mn,Vn,Vo,$o,pm,hf,mm,gm,vm,Np,ic,C8t,yf,SA,yQ,_f,T8t],[]),l4(MU,[ei,mn,Vn,Dl],[]),l4(JG,[Gn,$p,$me,Jh,Kh,Nc,Dl,wke],[]),DFe().bootstrapModule(k8t).catch(c=>console.error(c))},965:oS=>{oS.exports=function je(Ut,Ke,ye){function Te(Fe,Ge){if(!Ke[Fe]){if(!Ut[Fe]){if(me)return me(Fe,!0);var He=new Error("Cannot find module '"+Fe+"'");throw He.code="MODULE_NOT_FOUND",He}var ve=Ke[Fe]={exports:{}};Ut[Fe][0].call(ve.exports,function(Pe){return Te(Ut[Fe][1][Pe]||Pe)},ve,ve.exports,je,Ut,Ke,ye)}return Ke[Fe].exports}for(var me=void 0,De=0;De<ye.length;De++)Te(ye[De]);return Te}({1:[function(je,Ut,Ke){"use strict";var ye=je("./utils"),Te=je("./support"),me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";Ke.encode=function(De){for(var Fe,Ge,Ue,ve,Pe,pe,Me=[],be=0,Le=De.length,Xe=Le,ht="string"!==ye.getTypeOf(De);be<De.length;)Xe=Le-be,Ue=ht?(Fe=De[be++],Ge=be<Le?De[be++]:0,be<Le?De[be++]:0):(Fe=De.charCodeAt(be++),Ge=be<Le?De.charCodeAt(be++):0,be<Le?De.charCodeAt(be++):0),ve=(3&Fe)<<4|Ge>>4,Pe=1<Xe?(15&Ge)<<2|Ue>>6:64,pe=2<Xe?63&Ue:64,Me.push(me.charAt(Fe>>2)+me.charAt(ve)+me.charAt(Pe)+me.charAt(pe));return Me.join("")},Ke.decode=function(De){var Fe,Ge,Ue,He,ve,Pe,pe=0,Me=0;if("data:"===De.substr(0,5))throw new Error("Invalid base64 input, it looks like a data url.");var Le,Xe=3*(De=De.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(De.charAt(De.length-1)===me.charAt(64)&&Xe--,De.charAt(De.length-2)===me.charAt(64)&&Xe--,Xe%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Le=Te.uint8array?new Uint8Array(0|Xe):new Array(0|Xe);pe<De.length;)Fe=me.indexOf(De.charAt(pe++))<<2|(He=me.indexOf(De.charAt(pe++)))>>4,Ge=(15&He)<<4|(ve=me.indexOf(De.charAt(pe++)))>>2,Ue=(3&ve)<<6|(Pe=me.indexOf(De.charAt(pe++))),Le[Me++]=Fe,64!==ve&&(Le[Me++]=Ge),64!==Pe&&(Le[Me++]=Ue);return Le}},{"./support":30,"./utils":32}],2:[function(je,Ut,Ke){"use strict";var ye=je("./external"),Te=je("./stream/DataWorker"),me=je("./stream/Crc32Probe"),De=je("./stream/DataLengthProbe");function Fe(Ge,Ue,He,ve,Pe){this.compressedSize=Ge,this.uncompressedSize=Ue,this.crc32=He,this.compression=ve,this.compressedContent=Pe}Fe.prototype={getContentWorker:function(){var Ge=new Te(ye.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new De("data_length")),Ue=this;return Ge.on("end",function(){if(this.streamInfo.data_length!==Ue.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),Ge},getCompressedWorker:function(){return new Te(ye.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},Fe.createWorkerFrom=function(Ge,Ue,He){return Ge.pipe(new me).pipe(new De("uncompressedSize")).pipe(Ue.compressWorker(He)).pipe(new De("compressedSize")).withStreamInfo("compression",Ue)},Ut.exports=Fe},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(je,Ut,Ke){"use strict";var ye=je("./stream/GenericWorker");Ke.STORE={magic:"\0\0",compressWorker:function(){return new ye("STORE compression")},uncompressWorker:function(){return new ye("STORE decompression")}},Ke.DEFLATE=je("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(je,Ut,Ke){"use strict";var ye=je("./utils"),Te=function(){for(var me,De=[],Fe=0;Fe<256;Fe++){me=Fe;for(var Ge=0;Ge<8;Ge++)me=1&me?3988292384^me>>>1:me>>>1;De[Fe]=me}return De}();Ut.exports=function(me,De){return void 0!==me&&me.length?"string"!==ye.getTypeOf(me)?function(Fe,Ge,Ue,He){var ve=Te,Pe=0+Ue;Fe^=-1;for(var pe=0;pe<Pe;pe++)Fe=Fe>>>8^ve[255&(Fe^Ge[pe])];return-1^Fe}(0|De,me,me.length):function(Fe,Ge,Ue,He){var ve=Te,Pe=0+Ue;Fe^=-1;for(var pe=0;pe<Pe;pe++)Fe=Fe>>>8^ve[255&(Fe^Ge.charCodeAt(pe))];return-1^Fe}(0|De,me,me.length):0}},{"./utils":32}],5:[function(je,Ut,Ke){"use strict";Ke.base64=!1,Ke.binary=!1,Ke.dir=!1,Ke.createFolders=!0,Ke.date=null,Ke.compression=null,Ke.compressionOptions=null,Ke.comment=null,Ke.unixPermissions=null,Ke.dosPermissions=null},{}],6:[function(je,Ut,Ke){"use strict";var ye;ye=typeof Promise<"u"?Promise:je("lie"),Ut.exports={Promise:ye}},{lie:37}],7:[function(je,Ut,Ke){"use strict";var ye=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",Te=je("pako"),me=je("./utils"),De=je("./stream/GenericWorker"),Fe=ye?"uint8array":"array";function Ge(Ue,He){De.call(this,"FlateWorker/"+Ue),this._pako=null,this._pakoAction=Ue,this._pakoOptions=He,this.meta={}}Ke.magic="\b\0",me.inherits(Ge,De),Ge.prototype.processChunk=function(Ue){this.meta=Ue.meta,null===this._pako&&this._createPako(),this._pako.push(me.transformTo(Fe,Ue.data),!1)},Ge.prototype.flush=function(){De.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},Ge.prototype.cleanUp=function(){De.prototype.cleanUp.call(this),this._pako=null},Ge.prototype._createPako=function(){this._pako=new Te[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var Ue=this;this._pako.onData=function(He){Ue.push({data:He,meta:Ue.meta})}},Ke.compressWorker=function(Ue){return new Ge("Deflate",Ue)},Ke.uncompressWorker=function(){return new Ge("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(je,Ut,Ke){"use strict";function ye(ve,Pe){var pe,Me="";for(pe=0;pe<Pe;pe++)Me+=String.fromCharCode(255&ve),ve>>>=8;return Me}function Te(ve,Pe,pe,Me,be,Le){var Xe,ht,st=ve.file,Bt=ve.compression,At=Le!==Fe.utf8encode,rn=me.transformTo("string",Le(st.name)),Dt=me.transformTo("string",Fe.utf8encode(st.name)),un=st.comment,_i=me.transformTo("string",Le(un)),ze=me.transformTo("string",Fe.utf8encode(un)),Mt=Dt.length!==st.name.length,oe=ze.length!==un.length,Nt="",Ri="",tn="",Ti=st.dir,ln=st.date,bi={crc32:0,compressedSize:0,uncompressedSize:0};Pe&&!pe||(bi.crc32=ve.crc32,bi.compressedSize=ve.compressedSize,bi.uncompressedSize=ve.uncompressedSize);var at=0;Pe&&(at|=8),At||!Mt&&!oe||(at|=2048);var vn,Wo,mt=0,gi=0;Ti&&(mt|=16),"UNIX"===be?(gi=798,mt|=(Wo=vn=st.unixPermissions,vn||(Wo=Ti?16893:33204),(65535&Wo)<<16)):(gi=20,mt|=function(vn){return 63&(vn||0)}(st.dosPermissions)),Xe=ln.getUTCHours(),Xe<<=6,Xe|=ln.getUTCMinutes(),Xe<<=5,Xe|=ln.getUTCSeconds()/2,ht=ln.getUTCFullYear()-1980,ht<<=4,ht|=ln.getUTCMonth()+1,ht<<=5,ht|=ln.getUTCDate(),Mt&&(Ri=ye(1,1)+ye(Ge(rn),4)+Dt,Nt+="up"+ye(Ri.length,2)+Ri),oe&&(tn=ye(1,1)+ye(Ge(_i),4)+ze,Nt+="uc"+ye(tn.length,2)+tn);var Ln="";return Ln+="\n\0",Ln+=ye(at,2),Ln+=Bt.magic,Ln+=ye(Xe,2),Ln+=ye(ht,2),Ln+=ye(bi.crc32,4),Ln+=ye(bi.compressedSize,4),Ln+=ye(bi.uncompressedSize,4),Ln+=ye(rn.length,2),Ln+=ye(Nt.length,2),{fileRecord:Ue.LOCAL_FILE_HEADER+Ln+rn+Nt,dirRecord:Ue.CENTRAL_FILE_HEADER+ye(gi,2)+Ln+ye(_i.length,2)+"\0\0\0\0"+ye(mt,4)+ye(Me,4)+rn+Nt+_i}}var me=je("../utils"),De=je("../stream/GenericWorker"),Fe=je("../utf8"),Ge=je("../crc32"),Ue=je("../signature");function He(ve,Pe,pe,Me){De.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=Pe,this.zipPlatform=pe,this.encodeFileName=Me,this.streamFiles=ve,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}me.inherits(He,De),He.prototype.push=function(ve){var Pe=ve.meta.percent||0,pe=this.entriesCount,Me=this._sources.length;this.accumulate?this.contentBuffer.push(ve):(this.bytesWritten+=ve.data.length,De.prototype.push.call(this,{data:ve.data,meta:{currentFile:this.currentFile,percent:pe?(Pe+100*(pe-Me-1))/pe:100}}))},He.prototype.openedSource=function(ve){this.currentSourceOffset=this.bytesWritten,this.currentFile=ve.file.name;var Pe=this.streamFiles&&!ve.file.dir;if(Pe){var pe=Te(ve,Pe,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:pe.fileRecord,meta:{percent:0}})}else this.accumulate=!0},He.prototype.closedSource=function(ve){this.accumulate=!1;var Me,Pe=this.streamFiles&&!ve.file.dir,pe=Te(ve,Pe,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(pe.dirRecord),Pe)this.push({data:(Me=ve,Ue.DATA_DESCRIPTOR+ye(Me.crc32,4)+ye(Me.compressedSize,4)+ye(Me.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:pe.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},He.prototype.flush=function(){for(var ve=this.bytesWritten,Pe=0;Pe<this.dirRecords.length;Pe++)this.push({data:this.dirRecords[Pe],meta:{percent:100}});var be,Le,Xe,Bt,Me=(be=this.dirRecords.length,Le=this.bytesWritten-ve,Xe=ve,Bt=me.transformTo("string",(0,this.encodeFileName)(this.zipComment)),Ue.CENTRAL_DIRECTORY_END+"\0\0\0\0"+ye(be,2)+ye(be,2)+ye(Le,4)+ye(Xe,4)+ye(Bt.length,2)+Bt);this.push({data:Me,meta:{percent:100}})},He.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},He.prototype.registerPrevious=function(ve){this._sources.push(ve);var Pe=this;return ve.on("data",function(pe){Pe.processChunk(pe)}),ve.on("end",function(){Pe.closedSource(Pe.previous.streamInfo),Pe._sources.length?Pe.prepareNextSource():Pe.end()}),ve.on("error",function(pe){Pe.error(pe)}),this},He.prototype.resume=function(){return!!De.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},He.prototype.error=function(ve){var Pe=this._sources;if(!De.prototype.error.call(this,ve))return!1;for(var pe=0;pe<Pe.length;pe++)try{Pe[pe].error(ve)}catch{}return!0},He.prototype.lock=function(){De.prototype.lock.call(this);for(var ve=this._sources,Pe=0;Pe<ve.length;Pe++)ve[Pe].lock()},Ut.exports=He},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(je,Ut,Ke){"use strict";var ye=je("../compressions"),Te=je("./ZipFileWorker");Ke.generateWorker=function(me,De,Fe){var Ge=new Te(De.streamFiles,Fe,De.platform,De.encodeFileName),Ue=0;try{me.forEach(function(He,ve){Ue++;var Pe=function(Le,Xe){var ht=Le||Xe,st=ye[ht];if(!st)throw new Error(ht+" is not a valid compression method !");return st}(ve.options.compression,De.compression),Me=ve.dir,be=ve.date;ve._compressWorker(Pe,ve.options.compressionOptions||De.compressionOptions||{}).withStreamInfo("file",{name:He,dir:Me,date:be,comment:ve.comment||"",unixPermissions:ve.unixPermissions,dosPermissions:ve.dosPermissions}).pipe(Ge)}),Ge.entriesCount=Ue}catch(He){Ge.error(He)}return Ge}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(je,Ut,Ke){"use strict";function ye(){if(!(this instanceof ye))return new ye;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var Te=new ye;for(var me in this)"function"!=typeof this[me]&&(Te[me]=this[me]);return Te}}(ye.prototype=je("./object")).loadAsync=je("./load"),ye.support=je("./support"),ye.defaults=je("./defaults"),ye.version="3.10.1",ye.loadAsync=function(Te,me){return(new ye).loadAsync(Te,me)},ye.external=je("./external"),Ut.exports=ye},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(je,Ut,Ke){"use strict";var ye=je("./utils"),Te=je("./external"),me=je("./utf8"),De=je("./zipEntries"),Fe=je("./stream/Crc32Probe"),Ge=je("./nodejsUtils");function Ue(He){return new Te.Promise(function(ve,Pe){var pe=He.decompressed.getContentWorker().pipe(new Fe);pe.on("error",function(Me){Pe(Me)}).on("end",function(){pe.streamInfo.crc32!==He.decompressed.crc32?Pe(new Error("Corrupted zip : CRC32 mismatch")):ve()}).resume()})}Ut.exports=function(He,ve){var Pe=this;return ve=ye.extend(ve||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:me.utf8decode}),Ge.isNode&&Ge.isStream(He)?Te.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):ye.prepareContent("the loaded zip file",He,!0,ve.optimizedBinaryString,ve.base64).then(function(pe){var Me=new De(ve);return Me.load(pe),Me}).then(function(pe){var Me=[Te.Promise.resolve(pe)],be=pe.files;if(ve.checkCRC32)for(var Le=0;Le<be.length;Le++)Me.push(Ue(be[Le]));return Te.Promise.all(Me)}).then(function(pe){for(var Me=pe.shift(),be=Me.files,Le=0;Le<be.length;Le++){var Xe=be[Le],ht=Xe.fileNameStr,st=ye.resolve(Xe.fileNameStr);Pe.file(st,Xe.decompressed,{binary:!0,optimizedBinaryString:!0,date:Xe.date,dir:Xe.dir,comment:Xe.fileCommentStr.length?Xe.fileCommentStr:null,unixPermissions:Xe.unixPermissions,dosPermissions:Xe.dosPermissions,createFolders:ve.createFolders}),Xe.dir||(Pe.file(st).unsafeOriginalName=ht)}return Me.zipComment.length&&(Pe.comment=Me.zipComment),Pe})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(je,Ut,Ke){"use strict";var ye=je("../utils"),Te=je("../stream/GenericWorker");function me(De,Fe){Te.call(this,"Nodejs stream input adapter for "+De),this._upstreamEnded=!1,this._bindStream(Fe)}ye.inherits(me,Te),me.prototype._bindStream=function(De){var Fe=this;(this._stream=De).pause(),De.on("data",function(Ge){Fe.push({data:Ge,meta:{percent:0}})}).on("error",function(Ge){Fe.isPaused?this.generatedError=Ge:Fe.error(Ge)}).on("end",function(){Fe.isPaused?Fe._upstreamEnded=!0:Fe.end()})},me.prototype.pause=function(){return!!Te.prototype.pause.call(this)&&(this._stream.pause(),!0)},me.prototype.resume=function(){return!!Te.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},Ut.exports=me},{"../stream/GenericWorker":28,"../utils":32}],13:[function(je,Ut,Ke){"use strict";var ye=je("readable-stream").Readable;function Te(me,De,Fe){ye.call(this,De),this._helper=me;var Ge=this;me.on("data",function(Ue,He){Ge.push(Ue)||Ge._helper.pause(),Fe&&Fe(He)}).on("error",function(Ue){Ge.emit("error",Ue)}).on("end",function(){Ge.push(null)})}je("../utils").inherits(Te,ye),Te.prototype._read=function(){this._helper.resume()},Ut.exports=Te},{"../utils":32,"readable-stream":16}],14:[function(je,Ut,Ke){"use strict";Ut.exports={isNode:typeof Buffer<"u",newBufferFrom:function(ye,Te){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(ye,Te);if("number"==typeof ye)throw new Error('The "data" argument must not be a number');return new Buffer(ye,Te)},allocBuffer:function(ye){if(Buffer.alloc)return Buffer.alloc(ye);var Te=new Buffer(ye);return Te.fill(0),Te},isBuffer:function(ye){return Buffer.isBuffer(ye)},isStream:function(ye){return ye&&"function"==typeof ye.on&&"function"==typeof ye.pause&&"function"==typeof ye.resume}}},{}],15:[function(je,Ut,Ke){"use strict";function ye(st,Bt,At){var rn,Dt=me.getTypeOf(Bt),un=me.extend(At||{},Ge);un.date=un.date||new Date,null!==un.compression&&(un.compression=un.compression.toUpperCase()),"string"==typeof un.unixPermissions&&(un.unixPermissions=parseInt(un.unixPermissions,8)),un.unixPermissions&&16384&un.unixPermissions&&(un.dir=!0),un.dosPermissions&&16&un.dosPermissions&&(un.dir=!0),un.dir&&(st=be(st)),un.createFolders&&(rn=Me(st))&&Le.call(this,rn,!0),At&&void 0!==At.binary||(un.binary=!("string"===Dt&&!1===un.binary&&!1===un.base64)),(Bt instanceof Ue&&0===Bt.uncompressedSize||un.dir||!Bt||0===Bt.length)&&(un.base64=!1,un.binary=!0,Bt="",un.compression="STORE",Dt="string");var ze;ze=Bt instanceof Ue||Bt instanceof De?Bt:Pe.isNode&&Pe.isStream(Bt)?new pe(st,Bt):me.prepareContent(st,Bt,un.binary,un.optimizedBinaryString,un.base64);var Mt=new He(st,ze,un);this.files[st]=Mt}var Te=je("./utf8"),me=je("./utils"),De=je("./stream/GenericWorker"),Fe=je("./stream/StreamHelper"),Ge=je("./defaults"),Ue=je("./compressedObject"),He=je("./zipObject"),ve=je("./generate"),Pe=je("./nodejsUtils"),pe=je("./nodejs/NodejsStreamInputAdapter"),Me=function(st){"/"===st.slice(-1)&&(st=st.substring(0,st.length-1));var Bt=st.lastIndexOf("/");return 0<Bt?st.substring(0,Bt):""},be=function(st){return"/"!==st.slice(-1)&&(st+="/"),st},Le=function(st,Bt){return Bt=void 0!==Bt?Bt:Ge.createFolders,st=be(st),this.files[st]||ye.call(this,st,null,{dir:!0,createFolders:Bt}),this.files[st]};function Xe(st){return"[object RegExp]"===Object.prototype.toString.call(st)}var ht={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(st){var Bt,At,rn;for(Bt in this.files)rn=this.files[Bt],(At=Bt.slice(this.root.length,Bt.length))&&Bt.slice(0,this.root.length)===this.root&&st(At,rn)},filter:function(st){var Bt=[];return this.forEach(function(At,rn){st(At,rn)&&Bt.push(rn)}),Bt},file:function(st,Bt,At){if(1!==arguments.length)return ye.call(this,st=this.root+st,Bt,At),this;if(Xe(st)){var rn=st;return this.filter(function(un,_i){return!_i.dir&&rn.test(un)})}var Dt=this.files[this.root+st];return Dt&&!Dt.dir?Dt:null},folder:function(st){if(!st)return this;if(Xe(st))return this.filter(function(Dt,un){return un.dir&&st.test(Dt)});var At=Le.call(this,this.root+st),rn=this.clone();return rn.root=At.name,rn},remove:function(st){var Bt=this.files[st=this.root+st];if(Bt||("/"!==st.slice(-1)&&(st+="/"),Bt=this.files[st]),Bt&&!Bt.dir)delete this.files[st];else for(var At=this.filter(function(Dt,un){return un.name.slice(0,st.length)===st}),rn=0;rn<At.length;rn++)delete this.files[At[rn].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(st){var Bt,At={};try{if((At=me.extend(st||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:Te.utf8encode})).type=At.type.toLowerCase(),At.compression=At.compression.toUpperCase(),"binarystring"===At.type&&(At.type="string"),!At.type)throw new Error("No output type specified.");me.checkSupport(At.type),"darwin"!==At.platform&&"freebsd"!==At.platform&&"linux"!==At.platform&&"sunos"!==At.platform||(At.platform="UNIX"),"win32"===At.platform&&(At.platform="DOS"),Bt=ve.generateWorker(this,At,At.comment||this.comment||"")}catch(Dt){(Bt=new De("error")).error(Dt)}return new Fe(Bt,At.type||"string",At.mimeType)},generateAsync:function(st,Bt){return this.generateInternalStream(st).accumulate(Bt)},generateNodeStream:function(st,Bt){return(st=st||{}).type||(st.type="nodebuffer"),this.generateInternalStream(st).toNodejsStream(Bt)}};Ut.exports=ht},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(je,Ut,Ke){"use strict";Ut.exports=je("stream")},{stream:void 0}],17:[function(je,Ut,Ke){"use strict";var ye=je("./DataReader");function Te(me){ye.call(this,me);for(var De=0;De<this.data.length;De++)me[De]=255&me[De]}je("../utils").inherits(Te,ye),Te.prototype.byteAt=function(me){return this.data[this.zero+me]},Te.prototype.lastIndexOfSignature=function(me){for(var De=me.charCodeAt(0),Fe=me.charCodeAt(1),Ge=me.charCodeAt(2),Ue=me.charCodeAt(3),He=this.length-4;0<=He;--He)if(this.data[He]===De&&this.data[He+1]===Fe&&this.data[He+2]===Ge&&this.data[He+3]===Ue)return He-this.zero;return-1},Te.prototype.readAndCheckSignature=function(me){var De=me.charCodeAt(0),Fe=me.charCodeAt(1),Ge=me.charCodeAt(2),Ue=me.charCodeAt(3),He=this.readData(4);return De===He[0]&&Fe===He[1]&&Ge===He[2]&&Ue===He[3]},Te.prototype.readData=function(me){if(this.checkOffset(me),0===me)return[];var De=this.data.slice(this.zero+this.index,this.zero+this.index+me);return this.index+=me,De},Ut.exports=Te},{"../utils":32,"./DataReader":18}],18:[function(je,Ut,Ke){"use strict";var ye=je("../utils");function Te(me){this.data=me,this.length=me.length,this.index=0,this.zero=0}Te.prototype={checkOffset:function(me){this.checkIndex(this.index+me)},checkIndex:function(me){if(this.length<this.zero+me||me<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+me+"). Corrupted zip ?")},setIndex:function(me){this.checkIndex(me),this.index=me},skip:function(me){this.setIndex(this.index+me)},byteAt:function(){},readInt:function(me){var De,Fe=0;for(this.checkOffset(me),De=this.index+me-1;De>=this.index;De--)Fe=(Fe<<8)+this.byteAt(De);return this.index+=me,Fe},readString:function(me){return ye.transformTo("string",this.readData(me))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var me=this.readInt(4);return new Date(Date.UTC(1980+(me>>25&127),(me>>21&15)-1,me>>16&31,me>>11&31,me>>5&63,(31&me)<<1))}},Ut.exports=Te},{"../utils":32}],19:[function(je,Ut,Ke){"use strict";var ye=je("./Uint8ArrayReader");function Te(me){ye.call(this,me)}je("../utils").inherits(Te,ye),Te.prototype.readData=function(me){this.checkOffset(me);var De=this.data.slice(this.zero+this.index,this.zero+this.index+me);return this.index+=me,De},Ut.exports=Te},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(je,Ut,Ke){"use strict";var ye=je("./DataReader");function Te(me){ye.call(this,me)}je("../utils").inherits(Te,ye),Te.prototype.byteAt=function(me){return this.data.charCodeAt(this.zero+me)},Te.prototype.lastIndexOfSignature=function(me){return this.data.lastIndexOf(me)-this.zero},Te.prototype.readAndCheckSignature=function(me){return me===this.readData(4)},Te.prototype.readData=function(me){this.checkOffset(me);var De=this.data.slice(this.zero+this.index,this.zero+this.index+me);return this.index+=me,De},Ut.exports=Te},{"../utils":32,"./DataReader":18}],21:[function(je,Ut,Ke){"use strict";var ye=je("./ArrayReader");function Te(me){ye.call(this,me)}je("../utils").inherits(Te,ye),Te.prototype.readData=function(me){if(this.checkOffset(me),0===me)return new Uint8Array(0);var De=this.data.subarray(this.zero+this.index,this.zero+this.index+me);return this.index+=me,De},Ut.exports=Te},{"../utils":32,"./ArrayReader":17}],22:[function(je,Ut,Ke){"use strict";var ye=je("../utils"),Te=je("../support"),me=je("./ArrayReader"),De=je("./StringReader"),Fe=je("./NodeBufferReader"),Ge=je("./Uint8ArrayReader");Ut.exports=function(Ue){var He=ye.getTypeOf(Ue);return ye.checkSupport(He),"string"!==He||Te.uint8array?"nodebuffer"===He?new Fe(Ue):Te.uint8array?new Ge(ye.transformTo("uint8array",Ue)):new me(ye.transformTo("array",Ue)):new De(Ue)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(je,Ut,Ke){"use strict";Ke.LOCAL_FILE_HEADER="PK\x03\x04",Ke.CENTRAL_FILE_HEADER="PK\x01\x02",Ke.CENTRAL_DIRECTORY_END="PK\x05\x06",Ke.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",Ke.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",Ke.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(je,Ut,Ke){"use strict";var ye=je("./GenericWorker"),Te=je("../utils");function me(De){ye.call(this,"ConvertWorker to "+De),this.destType=De}Te.inherits(me,ye),me.prototype.processChunk=function(De){this.push({data:Te.transformTo(this.destType,De.data),meta:De.meta})},Ut.exports=me},{"../utils":32,"./GenericWorker":28}],25:[function(je,Ut,Ke){"use strict";var ye=je("./GenericWorker"),Te=je("../crc32");function me(){ye.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}je("../utils").inherits(me,ye),me.prototype.processChunk=function(De){this.streamInfo.crc32=Te(De.data,this.streamInfo.crc32||0),this.push(De)},Ut.exports=me},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(je,Ut,Ke){"use strict";var ye=je("../utils"),Te=je("./GenericWorker");function me(De){Te.call(this,"DataLengthProbe for "+De),this.propName=De,this.withStreamInfo(De,0)}ye.inherits(me,Te),me.prototype.processChunk=function(De){De&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+De.data.length),Te.prototype.processChunk.call(this,De)},Ut.exports=me},{"../utils":32,"./GenericWorker":28}],27:[function(je,Ut,Ke){"use strict";var ye=je("../utils"),Te=je("./GenericWorker");function me(De){Te.call(this,"DataWorker");var Fe=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,De.then(function(Ge){Fe.dataIsReady=!0,Fe.data=Ge,Fe.max=Ge&&Ge.length||0,Fe.type=ye.getTypeOf(Ge),Fe.isPaused||Fe._tickAndRepeat()},function(Ge){Fe.error(Ge)})}ye.inherits(me,Te),me.prototype.cleanUp=function(){Te.prototype.cleanUp.call(this),this.data=null},me.prototype.resume=function(){return!!Te.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,ye.delay(this._tickAndRepeat,[],this)),!0)},me.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(ye.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},me.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var De=null,Fe=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":De=this.data.substring(this.index,Fe);break;case"uint8array":De=this.data.subarray(this.index,Fe);break;case"array":case"nodebuffer":De=this.data.slice(this.index,Fe)}return this.index=Fe,this.push({data:De,meta:{percent:this.max?this.index/this.max*100:0}})},Ut.exports=me},{"../utils":32,"./GenericWorker":28}],28:[function(je,Ut,Ke){"use strict";function ye(Te){this.name=Te||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}ye.prototype={push:function(Te){this.emit("data",Te)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(Te){this.emit("error",Te)}return!0},error:function(Te){return!this.isFinished&&(this.isPaused?this.generatedError=Te:(this.isFinished=!0,this.emit("error",Te),this.previous&&this.previous.error(Te),this.cleanUp()),!0)},on:function(Te,me){return this._listeners[Te].push(me),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(Te,me){if(this._listeners[Te])for(var De=0;De<this._listeners[Te].length;De++)this._listeners[Te][De].call(this,me)},pipe:function(Te){return Te.registerPrevious(this)},registerPrevious:function(Te){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=Te.streamInfo,this.mergeStreamInfo(),this.previous=Te;var me=this;return Te.on("data",function(De){me.processChunk(De)}),Te.on("end",function(){me.end()}),Te.on("error",function(De){me.error(De)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var Te=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),Te=!0),this.previous&&this.previous.resume(),!Te},flush:function(){},processChunk:function(Te){this.push(Te)},withStreamInfo:function(Te,me){return this.extraStreamInfo[Te]=me,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var Te in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,Te)&&(this.streamInfo[Te]=this.extraStreamInfo[Te])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var Te="Worker "+this.name;return this.previous?this.previous+" -> "+Te:Te}},Ut.exports=ye},{}],29:[function(je,Ut,Ke){"use strict";var ye=je("../utils"),Te=je("./ConvertWorker"),me=je("./GenericWorker"),De=je("../base64"),Fe=je("../support"),Ge=je("../external"),Ue=null;if(Fe.nodestream)try{Ue=je("../nodejs/NodejsStreamOutputAdapter")}catch{}function ve(Pe,pe,Me){var be=pe;switch(pe){case"blob":case"arraybuffer":be="uint8array";break;case"base64":be="string"}try{this._internalType=be,this._outputType=pe,this._mimeType=Me,ye.checkSupport(be),this._worker=Pe.pipe(new Te(be)),Pe.lock()}catch(Le){this._worker=new me("error"),this._worker.error(Le)}}ve.prototype={accumulate:function(Pe){return function He(Pe,pe){return new Ge.Promise(function(Me,be){var Le=[],Xe=Pe._internalType,ht=Pe._outputType,st=Pe._mimeType;Pe.on("data",function(Bt,At){Le.push(Bt),pe&&pe(At)}).on("error",function(Bt){Le=[],be(Bt)}).on("end",function(){try{var Bt=function(At,rn,Dt){switch(At){case"blob":return ye.newBlob(ye.transformTo("arraybuffer",rn),Dt);case"base64":return De.encode(rn);default:return ye.transformTo(At,rn)}}(ht,function(At,rn){var Dt,un=0,_i=null,ze=0;for(Dt=0;Dt<rn.length;Dt++)ze+=rn[Dt].length;switch(At){case"string":return rn.join("");case"array":return Array.prototype.concat.apply([],rn);case"uint8array":for(_i=new Uint8Array(ze),Dt=0;Dt<rn.length;Dt++)_i.set(rn[Dt],un),un+=rn[Dt].length;return _i;case"nodebuffer":return Buffer.concat(rn);default:throw new Error("concat : unsupported type '"+At+"'")}}(Xe,Le),st);Me(Bt)}catch(At){be(At)}Le=[]}).resume()})}(this,Pe)},on:function(Pe,pe){var Me=this;return this._worker.on(Pe,"data"===Pe?function(be){pe.call(Me,be.data,be.meta)}:function(){ye.delay(pe,arguments,Me)}),this},resume:function(){return ye.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(Pe){if(ye.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new Ue(this,{objectMode:"nodebuffer"!==this._outputType},Pe)}},Ut.exports=ve},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(je,Ut,Ke){"use strict";if(Ke.base64=!0,Ke.array=!0,Ke.string=!0,Ke.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",Ke.nodebuffer=typeof Buffer<"u",Ke.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")Ke.blob=!1;else{var ye=new ArrayBuffer(0);try{Ke.blob=0===new Blob([ye],{type:"application/zip"}).size}catch{try{var Te=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);Te.append(ye),Ke.blob=0===Te.getBlob("application/zip").size}catch{Ke.blob=!1}}}try{Ke.nodestream=!!je("readable-stream").Readable}catch{Ke.nodestream=!1}},{"readable-stream":16}],31:[function(je,Ut,Ke){"use strict";for(var ye=je("./utils"),Te=je("./support"),me=je("./nodejsUtils"),De=je("./stream/GenericWorker"),Fe=new Array(256),Ge=0;Ge<256;Ge++)Fe[Ge]=252<=Ge?6:248<=Ge?5:240<=Ge?4:224<=Ge?3:192<=Ge?2:1;function Ue(){De.call(this,"utf-8 decode"),this.leftOver=null}function He(){De.call(this,"utf-8 encode")}Fe[254]=Fe[254]=1,Ke.utf8encode=function(ve){return Te.nodebuffer?me.newBufferFrom(ve,"utf-8"):function(Pe){var pe,Me,be,Le,Xe,ht=Pe.length,st=0;for(Le=0;Le<ht;Le++)55296==(64512&(Me=Pe.charCodeAt(Le)))&&Le+1<ht&&56320==(64512&(be=Pe.charCodeAt(Le+1)))&&(Me=65536+(Me-55296<<10)+(be-56320),Le++),st+=Me<128?1:Me<2048?2:Me<65536?3:4;for(pe=Te.uint8array?new Uint8Array(st):new Array(st),Le=Xe=0;Xe<st;Le++)55296==(64512&(Me=Pe.charCodeAt(Le)))&&Le+1<ht&&56320==(64512&(be=Pe.charCodeAt(Le+1)))&&(Me=65536+(Me-55296<<10)+(be-56320),Le++),Me<128?pe[Xe++]=Me:(Me<2048?pe[Xe++]=192|Me>>>6:(Me<65536?pe[Xe++]=224|Me>>>12:(pe[Xe++]=240|Me>>>18,pe[Xe++]=128|Me>>>12&63),pe[Xe++]=128|Me>>>6&63),pe[Xe++]=128|63&Me);return pe}(ve)},Ke.utf8decode=function(ve){return Te.nodebuffer?ye.transformTo("nodebuffer",ve).toString("utf-8"):function(Pe){var pe,Me,be,Le,Xe=Pe.length,ht=new Array(2*Xe);for(pe=Me=0;pe<Xe;)if((be=Pe[pe++])<128)ht[Me++]=be;else if(4<(Le=Fe[be]))ht[Me++]=65533,pe+=Le-1;else{for(be&=2===Le?31:3===Le?15:7;1<Le&&pe<Xe;)be=be<<6|63&Pe[pe++],Le--;1<Le?ht[Me++]=65533:be<65536?ht[Me++]=be:(ht[Me++]=55296|(be-=65536)>>10&1023,ht[Me++]=56320|1023&be)}return ht.length!==Me&&(ht.subarray?ht=ht.subarray(0,Me):ht.length=Me),ye.applyFromCharCode(ht)}(ve=ye.transformTo(Te.uint8array?"uint8array":"array",ve))},ye.inherits(Ue,De),Ue.prototype.processChunk=function(ve){var Pe=ye.transformTo(Te.uint8array?"uint8array":"array",ve.data);if(this.leftOver&&this.leftOver.length){if(Te.uint8array){var pe=Pe;(Pe=new Uint8Array(pe.length+this.leftOver.length)).set(this.leftOver,0),Pe.set(pe,this.leftOver.length)}else Pe=this.leftOver.concat(Pe);this.leftOver=null}var Me=function(Le,Xe){var ht;for((Xe=Xe||Le.length)>Le.length&&(Xe=Le.length),ht=Xe-1;0<=ht&&128==(192&Le[ht]);)ht--;return ht<0||0===ht?Xe:ht+Fe[Le[ht]]>Xe?ht:Xe}(Pe),be=Pe;Me!==Pe.length&&(Te.uint8array?(be=Pe.subarray(0,Me),this.leftOver=Pe.subarray(Me,Pe.length)):(be=Pe.slice(0,Me),this.leftOver=Pe.slice(Me,Pe.length))),this.push({data:Ke.utf8decode(be),meta:ve.meta})},Ue.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:Ke.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},Ke.Utf8DecodeWorker=Ue,ye.inherits(He,De),He.prototype.processChunk=function(ve){this.push({data:Ke.utf8encode(ve.data),meta:ve.meta})},Ke.Utf8EncodeWorker=He},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(je,Ut,Ke){"use strict";var ye=je("./support"),Te=je("./base64"),me=je("./nodejsUtils"),De=je("./external");function Fe(pe){return pe}function Ge(pe,Me){for(var be=0;be<pe.length;++be)Me[be]=255&pe.charCodeAt(be);return Me}je("setimmediate"),Ke.newBlob=function(pe,Me){Ke.checkSupport("blob");try{return new Blob([pe],{type:Me})}catch{try{var be=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return be.append(pe),be.getBlob(Me)}catch{throw new Error("Bug : can't construct the Blob.")}}};var Ue={stringifyByChunk:function(pe,Me,be){var Le=[],Xe=0,ht=pe.length;if(ht<=be)return String.fromCharCode.apply(null,pe);for(;Xe<ht;)Le.push(String.fromCharCode.apply(null,"array"===Me||"nodebuffer"===Me?pe.slice(Xe,Math.min(Xe+be,ht)):pe.subarray(Xe,Math.min(Xe+be,ht)))),Xe+=be;return Le.join("")},stringifyByChar:function(pe){for(var Me="",be=0;be<pe.length;be++)Me+=String.fromCharCode(pe[be]);return Me},applyCanBeUsed:{uint8array:function(){try{return ye.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return ye.nodebuffer&&1===String.fromCharCode.apply(null,me.allocBuffer(1)).length}catch{return!1}}()}};function He(pe){var Me=65536,be=Ke.getTypeOf(pe),Le=!0;if("uint8array"===be?Le=Ue.applyCanBeUsed.uint8array:"nodebuffer"===be&&(Le=Ue.applyCanBeUsed.nodebuffer),Le)for(;1<Me;)try{return Ue.stringifyByChunk(pe,be,Me)}catch{Me=Math.floor(Me/2)}return Ue.stringifyByChar(pe)}function ve(pe,Me){for(var be=0;be<pe.length;be++)Me[be]=pe[be];return Me}Ke.applyFromCharCode=He;var Pe={};Pe.string={string:Fe,array:function(pe){return Ge(pe,new Array(pe.length))},arraybuffer:function(pe){return Pe.string.uint8array(pe).buffer},uint8array:function(pe){return Ge(pe,new Uint8Array(pe.length))},nodebuffer:function(pe){return Ge(pe,me.allocBuffer(pe.length))}},Pe.array={string:He,array:Fe,arraybuffer:function(pe){return new Uint8Array(pe).buffer},uint8array:function(pe){return new Uint8Array(pe)},nodebuffer:function(pe){return me.newBufferFrom(pe)}},Pe.arraybuffer={string:function(pe){return He(new Uint8Array(pe))},array:function(pe){return ve(new Uint8Array(pe),new Array(pe.byteLength))},arraybuffer:Fe,uint8array:function(pe){return new Uint8Array(pe)},nodebuffer:function(pe){return me.newBufferFrom(new Uint8Array(pe))}},Pe.uint8array={string:He,array:function(pe){return ve(pe,new Array(pe.length))},arraybuffer:function(pe){return pe.buffer},uint8array:Fe,nodebuffer:function(pe){return me.newBufferFrom(pe)}},Pe.nodebuffer={string:He,array:function(pe){return ve(pe,new Array(pe.length))},arraybuffer:function(pe){return Pe.nodebuffer.uint8array(pe).buffer},uint8array:function(pe){return ve(pe,new Uint8Array(pe.length))},nodebuffer:Fe},Ke.transformTo=function(pe,Me){if(Me=Me||"",!pe)return Me;Ke.checkSupport(pe);var be=Ke.getTypeOf(Me);return Pe[be][pe](Me)},Ke.resolve=function(pe){for(var Me=pe.split("/"),be=[],Le=0;Le<Me.length;Le++){var Xe=Me[Le];"."===Xe||""===Xe&&0!==Le&&Le!==Me.length-1||(".."===Xe?be.pop():be.push(Xe))}return be.join("/")},Ke.getTypeOf=function(pe){return"string"==typeof pe?"string":"[object Array]"===Object.prototype.toString.call(pe)?"array":ye.nodebuffer&&me.isBuffer(pe)?"nodebuffer":ye.uint8array&&pe instanceof Uint8Array?"uint8array":ye.arraybuffer&&pe instanceof ArrayBuffer?"arraybuffer":void 0},Ke.checkSupport=function(pe){if(!ye[pe.toLowerCase()])throw new Error(pe+" is not supported by this platform")},Ke.MAX_VALUE_16BITS=65535,Ke.MAX_VALUE_32BITS=-1,Ke.pretty=function(pe){var Me,be,Le="";for(be=0;be<(pe||"").length;be++)Le+="\\x"+((Me=pe.charCodeAt(be))<16?"0":"")+Me.toString(16).toUpperCase();return Le},Ke.delay=function(pe,Me,be){setImmediate(function(){pe.apply(be||null,Me||[])})},Ke.inherits=function(pe,Me){function be(){}be.prototype=Me.prototype,pe.prototype=new be},Ke.extend=function(){var pe,Me,be={};for(pe=0;pe<arguments.length;pe++)for(Me in arguments[pe])Object.prototype.hasOwnProperty.call(arguments[pe],Me)&&void 0===be[Me]&&(be[Me]=arguments[pe][Me]);return be},Ke.prepareContent=function(pe,Me,be,Le,Xe){return De.Promise.resolve(Me).then(function(ht){return ye.blob&&(ht instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(ht)))&&typeof FileReader<"u"?new De.Promise(function(st,Bt){var At=new FileReader;At.onload=function(rn){st(rn.target.result)},At.onerror=function(rn){Bt(rn.target.error)},At.readAsArrayBuffer(ht)}):ht}).then(function(ht){var Bt,st=Ke.getTypeOf(ht);return st?("arraybuffer"===st?ht=Ke.transformTo("uint8array",ht):"string"===st&&(Xe?ht=Te.decode(ht):be&&!0!==Le&&(ht=Ge(Bt=ht,ye.uint8array?new Uint8Array(Bt.length):new Array(Bt.length)))),ht):De.Promise.reject(new Error("Can't read the data of '"+pe+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(je,Ut,Ke){"use strict";var ye=je("./reader/readerFor"),Te=je("./utils"),me=je("./signature"),De=je("./zipEntry"),Fe=je("./support");function Ge(Ue){this.files=[],this.loadOptions=Ue}Ge.prototype={checkSignature:function(Ue){if(!this.reader.readAndCheckSignature(Ue)){this.reader.index-=4;var He=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+Te.pretty(He)+", expected "+Te.pretty(Ue)+")")}},isSignature:function(Ue,He){var ve=this.reader.index;this.reader.setIndex(Ue);var Pe=this.reader.readString(4)===He;return this.reader.setIndex(ve),Pe},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var Ue=this.reader.readData(this.zipCommentLength),ve=Te.transformTo(Fe.uint8array?"uint8array":"array",Ue);this.zipComment=this.loadOptions.decodeFileName(ve)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var Ue,He,ve,Pe=this.zip64EndOfCentralSize-44;0<Pe;)Ue=this.reader.readInt(2),He=this.reader.readInt(4),ve=this.reader.readData(He),this.zip64ExtensibleData[Ue]={id:Ue,length:He,value:ve}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var Ue,He;for(Ue=0;Ue<this.files.length;Ue++)this.reader.setIndex((He=this.files[Ue]).localHeaderOffset),this.checkSignature(me.LOCAL_FILE_HEADER),He.readLocalPart(this.reader),He.handleUTF8(),He.processAttributes()},readCentralDir:function(){var Ue;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(me.CENTRAL_FILE_HEADER);)(Ue=new De({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(Ue);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var Ue=this.reader.lastIndexOfSignature(me.CENTRAL_DIRECTORY_END);if(Ue<0)throw this.isSignature(0,me.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(Ue);var He=Ue;if(this.checkSignature(me.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===Te.MAX_VALUE_16BITS||this.diskWithCentralDirStart===Te.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===Te.MAX_VALUE_16BITS||this.centralDirRecords===Te.MAX_VALUE_16BITS||this.centralDirSize===Te.MAX_VALUE_32BITS||this.centralDirOffset===Te.MAX_VALUE_32BITS){if(this.zip64=!0,(Ue=this.reader.lastIndexOfSignature(me.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(Ue),this.checkSignature(me.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,me.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(me.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(me.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var ve=this.centralDirOffset+this.centralDirSize;this.zip64&&(ve+=20,ve+=12+this.zip64EndOfCentralSize);var Pe=He-ve;if(0<Pe)this.isSignature(He,me.CENTRAL_FILE_HEADER)||(this.reader.zero=Pe);else if(Pe<0)throw new Error("Corrupted zip: missing "+Math.abs(Pe)+" bytes.")},prepareReader:function(Ue){this.reader=ye(Ue)},load:function(Ue){this.prepareReader(Ue),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},Ut.exports=Ge},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(je,Ut,Ke){"use strict";var ye=je("./reader/readerFor"),Te=je("./utils"),me=je("./compressedObject"),De=je("./crc32"),Fe=je("./utf8"),Ge=je("./compressions"),Ue=je("./support");function He(ve,Pe){this.options=ve,this.loadOptions=Pe}He.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(ve){var Pe,pe;if(ve.skip(22),this.fileNameLength=ve.readInt(2),pe=ve.readInt(2),this.fileName=ve.readData(this.fileNameLength),ve.skip(pe),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(Pe=function(Me){for(var be in Ge)if(Object.prototype.hasOwnProperty.call(Ge,be)&&Ge[be].magic===Me)return Ge[be];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+Te.pretty(this.compressionMethod)+" unknown (inner file : "+Te.transformTo("string",this.fileName)+")");this.decompressed=new me(this.compressedSize,this.uncompressedSize,this.crc32,Pe,ve.readData(this.compressedSize))},readCentralPart:function(ve){this.versionMadeBy=ve.readInt(2),ve.skip(2),this.bitFlag=ve.readInt(2),this.compressionMethod=ve.readString(2),this.date=ve.readDate(),this.crc32=ve.readInt(4),this.compressedSize=ve.readInt(4),this.uncompressedSize=ve.readInt(4);var Pe=ve.readInt(2);if(this.extraFieldsLength=ve.readInt(2),this.fileCommentLength=ve.readInt(2),this.diskNumberStart=ve.readInt(2),this.internalFileAttributes=ve.readInt(2),this.externalFileAttributes=ve.readInt(4),this.localHeaderOffset=ve.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");ve.skip(Pe),this.readExtraFields(ve),this.parseZIP64ExtraField(ve),this.fileComment=ve.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var ve=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==ve&&(this.dosPermissions=63&this.externalFileAttributes),3==ve&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var ve=ye(this.extraFields[1].value);this.uncompressedSize===Te.MAX_VALUE_32BITS&&(this.uncompressedSize=ve.readInt(8)),this.compressedSize===Te.MAX_VALUE_32BITS&&(this.compressedSize=ve.readInt(8)),this.localHeaderOffset===Te.MAX_VALUE_32BITS&&(this.localHeaderOffset=ve.readInt(8)),this.diskNumberStart===Te.MAX_VALUE_32BITS&&(this.diskNumberStart=ve.readInt(4))}},readExtraFields:function(ve){var Pe,pe,Me,be=ve.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});ve.index+4<be;)Pe=ve.readInt(2),pe=ve.readInt(2),Me=ve.readData(pe),this.extraFields[Pe]={id:Pe,length:pe,value:Me};ve.setIndex(be)},handleUTF8:function(){var ve=Ue.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Fe.utf8decode(this.fileName),this.fileCommentStr=Fe.utf8decode(this.fileComment);else{var Pe=this.findExtraFieldUnicodePath();if(null!==Pe)this.fileNameStr=Pe;else{var pe=Te.transformTo(ve,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(pe)}var Me=this.findExtraFieldUnicodeComment();if(null!==Me)this.fileCommentStr=Me;else{var be=Te.transformTo(ve,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(be)}}},findExtraFieldUnicodePath:function(){var ve=this.extraFields[28789];if(ve){var Pe=ye(ve.value);return 1!==Pe.readInt(1)||De(this.fileName)!==Pe.readInt(4)?null:Fe.utf8decode(Pe.readData(ve.length-5))}return null},findExtraFieldUnicodeComment:function(){var ve=this.extraFields[25461];if(ve){var Pe=ye(ve.value);return 1!==Pe.readInt(1)||De(this.fileComment)!==Pe.readInt(4)?null:Fe.utf8decode(Pe.readData(ve.length-5))}return null}},Ut.exports=He},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(je,Ut,Ke){"use strict";function ye(Pe,pe,Me){this.name=Pe,this.dir=Me.dir,this.date=Me.date,this.comment=Me.comment,this.unixPermissions=Me.unixPermissions,this.dosPermissions=Me.dosPermissions,this._data=pe,this._dataBinary=Me.binary,this.options={compression:Me.compression,compressionOptions:Me.compressionOptions}}var Te=je("./stream/StreamHelper"),me=je("./stream/DataWorker"),De=je("./utf8"),Fe=je("./compressedObject"),Ge=je("./stream/GenericWorker");ye.prototype={internalStream:function(Pe){var pe=null,Me="string";try{if(!Pe)throw new Error("No output type specified.");var be="string"===(Me=Pe.toLowerCase())||"text"===Me;"binarystring"!==Me&&"text"!==Me||(Me="string"),pe=this._decompressWorker();var Le=!this._dataBinary;Le&&!be&&(pe=pe.pipe(new De.Utf8EncodeWorker)),!Le&&be&&(pe=pe.pipe(new De.Utf8DecodeWorker))}catch(Xe){(pe=new Ge("error")).error(Xe)}return new Te(pe,Me,"")},async:function(Pe,pe){return this.internalStream(Pe).accumulate(pe)},nodeStream:function(Pe,pe){return this.internalStream(Pe||"nodebuffer").toNodejsStream(pe)},_compressWorker:function(Pe,pe){if(this._data instanceof Fe&&this._data.compression.magic===Pe.magic)return this._data.getCompressedWorker();var Me=this._decompressWorker();return this._dataBinary||(Me=Me.pipe(new De.Utf8EncodeWorker)),Fe.createWorkerFrom(Me,Pe,pe)},_decompressWorker:function(){return this._data instanceof Fe?this._data.getContentWorker():this._data instanceof Ge?this._data:new me(this._data)}};for(var Ue=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],He=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},ve=0;ve<Ue.length;ve++)ye.prototype[Ue[ve]]=He;Ut.exports=ye},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(je,Ut,Ke){(function(ye){"use strict";var Te,me,De=ye.MutationObserver||ye.WebKitMutationObserver;if(De){var Fe=0,Ge=new De(Pe),Ue=ye.document.createTextNode("");Ge.observe(Ue,{characterData:!0}),Te=function(){Ue.data=Fe=++Fe%2}}else if(ye.setImmediate||void 0===ye.MessageChannel)Te="document"in ye&&"onreadystatechange"in ye.document.createElement("script")?function(){var pe=ye.document.createElement("script");pe.onreadystatechange=function(){Pe(),pe.onreadystatechange=null,pe.parentNode.removeChild(pe),pe=null},ye.document.documentElement.appendChild(pe)}:function(){setTimeout(Pe,0)};else{var He=new ye.MessageChannel;He.port1.onmessage=Pe,Te=function(){He.port2.postMessage(0)}}var ve=[];function Pe(){var pe,Me;me=!0;for(var be=ve.length;be;){for(Me=ve,ve=[],pe=-1;++pe<be;)Me[pe]();be=ve.length}me=!1}Ut.exports=function(pe){1!==ve.push(pe)||me||Te()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(je,Ut,Ke){"use strict";var ye=je("immediate");function Te(){}var me={},De=["REJECTED"],Fe=["FULFILLED"],Ge=["PENDING"];function Ue(be){if("function"!=typeof be)throw new TypeError("resolver must be a function");this.state=Ge,this.queue=[],this.outcome=void 0,be!==Te&&pe(this,be)}function He(be,Le,Xe){this.promise=be,"function"==typeof Le&&(this.onFulfilled=Le,this.callFulfilled=this.otherCallFulfilled),"function"==typeof Xe&&(this.onRejected=Xe,this.callRejected=this.otherCallRejected)}function ve(be,Le,Xe){ye(function(){var ht;try{ht=Le(Xe)}catch(st){return me.reject(be,st)}ht===be?me.reject(be,new TypeError("Cannot resolve promise with itself")):me.resolve(be,ht)})}function Pe(be){var Le=be&&be.then;if(be&&("object"==typeof be||"function"==typeof be)&&"function"==typeof Le)return function(){Le.apply(be,arguments)}}function pe(be,Le){var Xe=!1;function ht(At){Xe||(Xe=!0,me.reject(be,At))}function st(At){Xe||(Xe=!0,me.resolve(be,At))}var Bt=Me(function(){Le(st,ht)});"error"===Bt.status&&ht(Bt.value)}function Me(be,Le){var Xe={};try{Xe.value=be(Le),Xe.status="success"}catch(ht){Xe.status="error",Xe.value=ht}return Xe}(Ut.exports=Ue).prototype.finally=function(be){if("function"!=typeof be)return this;var Le=this.constructor;return this.then(function(Xe){return Le.resolve(be()).then(function(){return Xe})},function(Xe){return Le.resolve(be()).then(function(){throw Xe})})},Ue.prototype.catch=function(be){return this.then(null,be)},Ue.prototype.then=function(be,Le){if("function"!=typeof be&&this.state===Fe||"function"!=typeof Le&&this.state===De)return this;var Xe=new this.constructor(Te);return this.state!==Ge?ve(Xe,this.state===Fe?be:Le,this.outcome):this.queue.push(new He(Xe,be,Le)),Xe},He.prototype.callFulfilled=function(be){me.resolve(this.promise,be)},He.prototype.otherCallFulfilled=function(be){ve(this.promise,this.onFulfilled,be)},He.prototype.callRejected=function(be){me.reject(this.promise,be)},He.prototype.otherCallRejected=function(be){ve(this.promise,this.onRejected,be)},me.resolve=function(be,Le){var Xe=Me(Pe,Le);if("error"===Xe.status)return me.reject(be,Xe.value);var ht=Xe.value;if(ht)pe(be,ht);else{be.state=Fe,be.outcome=Le;for(var st=-1,Bt=be.queue.length;++st<Bt;)be.queue[st].callFulfilled(Le)}return be},me.reject=function(be,Le){be.state=De,be.outcome=Le;for(var Xe=-1,ht=be.queue.length;++Xe<ht;)be.queue[Xe].callRejected(Le);return be},Ue.resolve=function(be){return be instanceof this?be:me.resolve(new this(Te),be)},Ue.reject=function(be){var Le=new this(Te);return me.reject(Le,be)},Ue.all=function(be){var Le=this;if("[object Array]"!==Object.prototype.toString.call(be))return this.reject(new TypeError("must be an array"));var Xe=be.length,ht=!1;if(!Xe)return this.resolve([]);for(var st=new Array(Xe),Bt=0,At=-1,rn=new this(Te);++At<Xe;)Dt(be[At],At);return rn;function Dt(un,_i){Le.resolve(un).then(function(ze){st[_i]=ze,++Bt!==Xe||ht||(ht=!0,me.resolve(rn,st))},function(ze){ht||(ht=!0,me.reject(rn,ze))})}},Ue.race=function(be){if("[object Array]"!==Object.prototype.toString.call(be))return this.reject(new TypeError("must be an array"));var Xe=be.length,ht=!1;if(!Xe)return this.resolve([]);for(var st=-1,Bt=new this(Te);++st<Xe;)this.resolve(be[st]).then(function(rn){ht||(ht=!0,me.resolve(Bt,rn))},function(rn){ht||(ht=!0,me.reject(Bt,rn))});return Bt}},{immediate:36}],38:[function(je,Ut,Ke){"use strict";var ye={};(0,je("./lib/utils/common").assign)(ye,je("./lib/deflate"),je("./lib/inflate"),je("./lib/zlib/constants")),Ut.exports=ye},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(je,Ut,Ke){"use strict";var ye=je("./zlib/deflate"),Te=je("./utils/common"),me=je("./utils/strings"),De=je("./zlib/messages"),Fe=je("./zlib/zstream"),Ge=Object.prototype.toString,Ue=0,He=-1,ve=0,Pe=8;function pe(be){if(!(this instanceof pe))return new pe(be);this.options=Te.assign({level:He,method:Pe,chunkSize:16384,windowBits:15,memLevel:8,strategy:ve,to:""},be||{});var Le=this.options;Le.raw&&0<Le.windowBits?Le.windowBits=-Le.windowBits:Le.gzip&&0<Le.windowBits&&Le.windowBits<16&&(Le.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Fe,this.strm.avail_out=0;var Xe=ye.deflateInit2(this.strm,Le.level,Le.method,Le.windowBits,Le.memLevel,Le.strategy);if(Xe!==Ue)throw new Error(De[Xe]);if(Le.header&&ye.deflateSetHeader(this.strm,Le.header),Le.dictionary){var ht;if(ht="string"==typeof Le.dictionary?me.string2buf(Le.dictionary):"[object ArrayBuffer]"===Ge.call(Le.dictionary)?new Uint8Array(Le.dictionary):Le.dictionary,(Xe=ye.deflateSetDictionary(this.strm,ht))!==Ue)throw new Error(De[Xe]);this._dict_set=!0}}function Me(be,Le){var Xe=new pe(Le);if(Xe.push(be,!0),Xe.err)throw Xe.msg||De[Xe.err];return Xe.result}pe.prototype.push=function(be,Le){var Xe,ht,st=this.strm,Bt=this.options.chunkSize;if(this.ended)return!1;ht=Le===~~Le?Le:!0===Le?4:0,st.input="string"==typeof be?me.string2buf(be):"[object ArrayBuffer]"===Ge.call(be)?new Uint8Array(be):be,st.next_in=0,st.avail_in=st.input.length;do{if(0===st.avail_out&&(st.output=new Te.Buf8(Bt),st.next_out=0,st.avail_out=Bt),1!==(Xe=ye.deflate(st,ht))&&Xe!==Ue)return this.onEnd(Xe),!(this.ended=!0);0!==st.avail_out&&(0!==st.avail_in||4!==ht&&2!==ht)||this.onData("string"===this.options.to?me.buf2binstring(Te.shrinkBuf(st.output,st.next_out)):Te.shrinkBuf(st.output,st.next_out))}while((0<st.avail_in||0===st.avail_out)&&1!==Xe);return 4===ht?(Xe=ye.deflateEnd(this.strm),this.onEnd(Xe),this.ended=!0,Xe===Ue):2!==ht||(this.onEnd(Ue),!(st.avail_out=0))},pe.prototype.onData=function(be){this.chunks.push(be)},pe.prototype.onEnd=function(be){be===Ue&&(this.result="string"===this.options.to?this.chunks.join(""):Te.flattenChunks(this.chunks)),this.chunks=[],this.err=be,this.msg=this.strm.msg},Ke.Deflate=pe,Ke.deflate=Me,Ke.deflateRaw=function(be,Le){return(Le=Le||{}).raw=!0,Me(be,Le)},Ke.gzip=function(be,Le){return(Le=Le||{}).gzip=!0,Me(be,Le)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(je,Ut,Ke){"use strict";var ye=je("./zlib/inflate"),Te=je("./utils/common"),me=je("./utils/strings"),De=je("./zlib/constants"),Fe=je("./zlib/messages"),Ge=je("./zlib/zstream"),Ue=je("./zlib/gzheader"),He=Object.prototype.toString;function ve(pe){if(!(this instanceof ve))return new ve(pe);this.options=Te.assign({chunkSize:16384,windowBits:0,to:""},pe||{});var Me=this.options;Me.raw&&0<=Me.windowBits&&Me.windowBits<16&&(Me.windowBits=-Me.windowBits,0===Me.windowBits&&(Me.windowBits=-15)),!(0<=Me.windowBits&&Me.windowBits<16)||pe&&pe.windowBits||(Me.windowBits+=32),15<Me.windowBits&&Me.windowBits<48&&!(15&Me.windowBits)&&(Me.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ge,this.strm.avail_out=0;var be=ye.inflateInit2(this.strm,Me.windowBits);if(be!==De.Z_OK)throw new Error(Fe[be]);this.header=new Ue,ye.inflateGetHeader(this.strm,this.header)}function Pe(pe,Me){var be=new ve(Me);if(be.push(pe,!0),be.err)throw be.msg||Fe[be.err];return be.result}ve.prototype.push=function(pe,Me){var be,Le,Xe,ht,st,Bt,At=this.strm,rn=this.options.chunkSize,Dt=this.options.dictionary,un=!1;if(this.ended)return!1;Le=Me===~~Me?Me:!0===Me?De.Z_FINISH:De.Z_NO_FLUSH,At.input="string"==typeof pe?me.binstring2buf(pe):"[object ArrayBuffer]"===He.call(pe)?new Uint8Array(pe):pe,At.next_in=0,At.avail_in=At.input.length;do{if(0===At.avail_out&&(At.output=new Te.Buf8(rn),At.next_out=0,At.avail_out=rn),(be=ye.inflate(At,De.Z_NO_FLUSH))===De.Z_NEED_DICT&&Dt&&(Bt="string"==typeof Dt?me.string2buf(Dt):"[object ArrayBuffer]"===He.call(Dt)?new Uint8Array(Dt):Dt,be=ye.inflateSetDictionary(this.strm,Bt)),be===De.Z_BUF_ERROR&&!0===un&&(be=De.Z_OK,un=!1),be!==De.Z_STREAM_END&&be!==De.Z_OK)return this.onEnd(be),!(this.ended=!0);At.next_out&&(0!==At.avail_out&&be!==De.Z_STREAM_END&&(0!==At.avail_in||Le!==De.Z_FINISH&&Le!==De.Z_SYNC_FLUSH)||("string"===this.options.to?(Xe=me.utf8border(At.output,At.next_out),ht=At.next_out-Xe,st=me.buf2string(At.output,Xe),At.next_out=ht,At.avail_out=rn-ht,ht&&Te.arraySet(At.output,At.output,Xe,ht,0),this.onData(st)):this.onData(Te.shrinkBuf(At.output,At.next_out)))),0===At.avail_in&&0===At.avail_out&&(un=!0)}while((0<At.avail_in||0===At.avail_out)&&be!==De.Z_STREAM_END);return be===De.Z_STREAM_END&&(Le=De.Z_FINISH),Le===De.Z_FINISH?(be=ye.inflateEnd(this.strm),this.onEnd(be),this.ended=!0,be===De.Z_OK):Le!==De.Z_SYNC_FLUSH||(this.onEnd(De.Z_OK),!(At.avail_out=0))},ve.prototype.onData=function(pe){this.chunks.push(pe)},ve.prototype.onEnd=function(pe){pe===De.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):Te.flattenChunks(this.chunks)),this.chunks=[],this.err=pe,this.msg=this.strm.msg},Ke.Inflate=ve,Ke.inflate=Pe,Ke.inflateRaw=function(pe,Me){return(Me=Me||{}).raw=!0,Pe(pe,Me)},Ke.ungzip=Pe},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(je,Ut,Ke){"use strict";var ye=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";Ke.assign=function(De){for(var Fe=Array.prototype.slice.call(arguments,1);Fe.length;){var Ge=Fe.shift();if(Ge){if("object"!=typeof Ge)throw new TypeError(Ge+"must be non-object");for(var Ue in Ge)Ge.hasOwnProperty(Ue)&&(De[Ue]=Ge[Ue])}}return De},Ke.shrinkBuf=function(De,Fe){return De.length===Fe?De:De.subarray?De.subarray(0,Fe):(De.length=Fe,De)};var Te={arraySet:function(De,Fe,Ge,Ue,He){if(Fe.subarray&&De.subarray)De.set(Fe.subarray(Ge,Ge+Ue),He);else for(var ve=0;ve<Ue;ve++)De[He+ve]=Fe[Ge+ve]},flattenChunks:function(De){var Fe,Ge,Ue,He,ve,Pe;for(Fe=Ue=0,Ge=De.length;Fe<Ge;Fe++)Ue+=De[Fe].length;for(Pe=new Uint8Array(Ue),Fe=He=0,Ge=De.length;Fe<Ge;Fe++)Pe.set(ve=De[Fe],He),He+=ve.length;return Pe}},me={arraySet:function(De,Fe,Ge,Ue,He){for(var ve=0;ve<Ue;ve++)De[He+ve]=Fe[Ge+ve]},flattenChunks:function(De){return[].concat.apply([],De)}};Ke.setTyped=function(De){De?(Ke.Buf8=Uint8Array,Ke.Buf16=Uint16Array,Ke.Buf32=Int32Array,Ke.assign(Ke,Te)):(Ke.Buf8=Array,Ke.Buf16=Array,Ke.Buf32=Array,Ke.assign(Ke,me))},Ke.setTyped(ye)},{}],42:[function(je,Ut,Ke){"use strict";var ye=je("./common"),Te=!0,me=!0;try{String.fromCharCode.apply(null,[0])}catch{Te=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{me=!1}for(var De=new ye.Buf8(256),Fe=0;Fe<256;Fe++)De[Fe]=252<=Fe?6:248<=Fe?5:240<=Fe?4:224<=Fe?3:192<=Fe?2:1;function Ge(Ue,He){if(He<65537&&(Ue.subarray&&me||!Ue.subarray&&Te))return String.fromCharCode.apply(null,ye.shrinkBuf(Ue,He));for(var ve="",Pe=0;Pe<He;Pe++)ve+=String.fromCharCode(Ue[Pe]);return ve}De[254]=De[254]=1,Ke.string2buf=function(Ue){var He,ve,Pe,pe,Me,be=Ue.length,Le=0;for(pe=0;pe<be;pe++)55296==(64512&(ve=Ue.charCodeAt(pe)))&&pe+1<be&&56320==(64512&(Pe=Ue.charCodeAt(pe+1)))&&(ve=65536+(ve-55296<<10)+(Pe-56320),pe++),Le+=ve<128?1:ve<2048?2:ve<65536?3:4;for(He=new ye.Buf8(Le),pe=Me=0;Me<Le;pe++)55296==(64512&(ve=Ue.charCodeAt(pe)))&&pe+1<be&&56320==(64512&(Pe=Ue.charCodeAt(pe+1)))&&(ve=65536+(ve-55296<<10)+(Pe-56320),pe++),ve<128?He[Me++]=ve:(ve<2048?He[Me++]=192|ve>>>6:(ve<65536?He[Me++]=224|ve>>>12:(He[Me++]=240|ve>>>18,He[Me++]=128|ve>>>12&63),He[Me++]=128|ve>>>6&63),He[Me++]=128|63&ve);return He},Ke.buf2binstring=function(Ue){return Ge(Ue,Ue.length)},Ke.binstring2buf=function(Ue){for(var He=new ye.Buf8(Ue.length),ve=0,Pe=He.length;ve<Pe;ve++)He[ve]=Ue.charCodeAt(ve);return He},Ke.buf2string=function(Ue,He){var ve,Pe,pe,Me,be=He||Ue.length,Le=new Array(2*be);for(ve=Pe=0;ve<be;)if((pe=Ue[ve++])<128)Le[Pe++]=pe;else if(4<(Me=De[pe]))Le[Pe++]=65533,ve+=Me-1;else{for(pe&=2===Me?31:3===Me?15:7;1<Me&&ve<be;)pe=pe<<6|63&Ue[ve++],Me--;1<Me?Le[Pe++]=65533:pe<65536?Le[Pe++]=pe:(Le[Pe++]=55296|(pe-=65536)>>10&1023,Le[Pe++]=56320|1023&pe)}return Ge(Le,Pe)},Ke.utf8border=function(Ue,He){var ve;for((He=He||Ue.length)>Ue.length&&(He=Ue.length),ve=He-1;0<=ve&&128==(192&Ue[ve]);)ve--;return ve<0||0===ve?He:ve+De[Ue[ve]]>He?ve:He}},{"./common":41}],43:[function(je,Ut,Ke){"use strict";Ut.exports=function(ye,Te,me,De){for(var Fe=65535&ye|0,Ge=ye>>>16&65535|0,Ue=0;0!==me;){for(me-=Ue=2e3<me?2e3:me;Ge=Ge+(Fe=Fe+Te[De++]|0)|0,--Ue;);Fe%=65521,Ge%=65521}return Fe|Ge<<16|0}},{}],44:[function(je,Ut,Ke){"use strict";Ut.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(je,Ut,Ke){"use strict";var ye=function(){for(var Te,me=[],De=0;De<256;De++){Te=De;for(var Fe=0;Fe<8;Fe++)Te=1&Te?3988292384^Te>>>1:Te>>>1;me[De]=Te}return me}();Ut.exports=function(Te,me,De,Fe){var Ge=ye,Ue=Fe+De;Te^=-1;for(var He=Fe;He<Ue;He++)Te=Te>>>8^Ge[255&(Te^me[He])];return-1^Te}},{}],46:[function(je,Ut,Ke){"use strict";var ye,Te=je("../utils/common"),me=je("./trees"),De=je("./adler32"),Fe=je("./crc32"),Ge=je("./messages"),Ue=0,ve=0,Pe=-2,be=2,Le=8,ht=286,st=30,Bt=19,At=2*ht+1,rn=15,Dt=3,un=258,_i=un+Dt+1,ze=42,Mt=113;function Ti(ne,It){return ne.msg=Ge[It],It}function ln(ne){return(ne<<1)-(4<ne?9:0)}function bi(ne){for(var It=ne.length;0<=--It;)ne[It]=0}function at(ne){var It=ne.state,Ot=It.pending;Ot>ne.avail_out&&(Ot=ne.avail_out),0!==Ot&&(Te.arraySet(ne.output,It.pending_buf,It.pending_out,Ot,ne.next_out),ne.next_out+=Ot,It.pending_out+=Ot,ne.total_out+=Ot,ne.avail_out-=Ot,It.pending-=Ot,0===It.pending&&(It.pending_out=0))}function mt(ne,It){me._tr_flush_block(ne,0<=ne.block_start?ne.block_start:-1,ne.strstart-ne.block_start,It),ne.block_start=ne.strstart,at(ne.strm)}function gi(ne,It){ne.pending_buf[ne.pending++]=It}function Ln(ne,It){ne.pending_buf[ne.pending++]=It>>>8&255,ne.pending_buf[ne.pending++]=255&It}function vn(ne,It){var Ot,Ce,we=ne.max_chain_length,et=ne.strstart,Qt=ne.prev_length,Yt=ne.nice_match,dt=ne.strstart>ne.w_size-_i?ne.strstart-(ne.w_size-_i):0,cn=ne.window,In=ne.w_mask,hn=ne.prev,oi=ne.strstart+un,cs=cn[et+Qt-1],lr=cn[et+Qt];ne.prev_length>=ne.good_match&&(we>>=2),Yt>ne.lookahead&&(Yt=ne.lookahead);do{if(cn[(Ot=It)+Qt]===lr&&cn[Ot+Qt-1]===cs&&cn[Ot]===cn[et]&&cn[++Ot]===cn[et+1]){et+=2,Ot++;do{}while(cn[++et]===cn[++Ot]&&cn[++et]===cn[++Ot]&&cn[++et]===cn[++Ot]&&cn[++et]===cn[++Ot]&&cn[++et]===cn[++Ot]&&cn[++et]===cn[++Ot]&&cn[++et]===cn[++Ot]&&cn[++et]===cn[++Ot]&&et<oi);if(Ce=un-(oi-et),et=oi-un,Qt<Ce){if(ne.match_start=It,Yt<=(Qt=Ce))break;cs=cn[et+Qt-1],lr=cn[et+Qt]}}}while((It=hn[It&In])>dt&&0!=--we);return Qt<=ne.lookahead?Qt:ne.lookahead}function Pt(ne){var It,Ot,Ce,we,et,Qt,Yt,dt,cn,In,hn=ne.w_size;do{if(we=ne.window_size-ne.lookahead-ne.strstart,ne.strstart>=hn+(hn-_i)){for(Te.arraySet(ne.window,ne.window,hn,hn,0),ne.match_start-=hn,ne.strstart-=hn,ne.block_start-=hn,It=Ot=ne.hash_size;Ce=ne.head[--It],ne.head[It]=hn<=Ce?Ce-hn:0,--Ot;);for(It=Ot=hn;Ce=ne.prev[--It],ne.prev[It]=hn<=Ce?Ce-hn:0,--Ot;);we+=hn}if(0===ne.strm.avail_in)break;if(Yt=ne.window,dt=ne.strstart+ne.lookahead,In=void 0,(cn=we)<(In=(Qt=ne.strm).avail_in)&&(In=cn),Ot=0===In?0:(Qt.avail_in-=In,Te.arraySet(Yt,Qt.input,Qt.next_in,In,dt),1===Qt.state.wrap?Qt.adler=De(Qt.adler,Yt,In,dt):2===Qt.state.wrap&&(Qt.adler=Fe(Qt.adler,Yt,In,dt)),Qt.next_in+=In,Qt.total_in+=In,In),ne.lookahead+=Ot,ne.lookahead+ne.insert>=Dt)for(ne.ins_h=ne.window[et=ne.strstart-ne.insert],ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[et+1])&ne.hash_mask;ne.insert&&(ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[et+Dt-1])&ne.hash_mask,ne.prev[et&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=et,et++,ne.insert--,!(ne.lookahead+ne.insert<Dt)););}while(ne.lookahead<_i&&0!==ne.strm.avail_in)}function Wo(ne,It){for(var Ot,Ce;;){if(ne.lookahead<_i){if(Pt(ne),ne.lookahead<_i&&It===Ue)return 1;if(0===ne.lookahead)break}if(Ot=0,ne.lookahead>=Dt&&(ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[ne.strstart+Dt-1])&ne.hash_mask,Ot=ne.prev[ne.strstart&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=ne.strstart),0!==Ot&&ne.strstart-Ot<=ne.w_size-_i&&(ne.match_length=vn(ne,Ot)),ne.match_length>=Dt)if(Ce=me._tr_tally(ne,ne.strstart-ne.match_start,ne.match_length-Dt),ne.lookahead-=ne.match_length,ne.match_length<=ne.max_lazy_match&&ne.lookahead>=Dt){for(ne.match_length--;ne.strstart++,ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[ne.strstart+Dt-1])&ne.hash_mask,Ot=ne.prev[ne.strstart&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=ne.strstart,0!=--ne.match_length;);ne.strstart++}else ne.strstart+=ne.match_length,ne.match_length=0,ne.ins_h=ne.window[ne.strstart],ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[ne.strstart+1])&ne.hash_mask;else Ce=me._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++;if(Ce&&(mt(ne,!1),0===ne.strm.avail_out))return 1}return ne.insert=ne.strstart<Dt-1?ne.strstart:Dt-1,4===It?(mt(ne,!0),0===ne.strm.avail_out?3:4):ne.last_lit&&(mt(ne,!1),0===ne.strm.avail_out)?1:2}function fr(ne,It){for(var Ot,Ce,we;;){if(ne.lookahead<_i){if(Pt(ne),ne.lookahead<_i&&It===Ue)return 1;if(0===ne.lookahead)break}if(Ot=0,ne.lookahead>=Dt&&(ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[ne.strstart+Dt-1])&ne.hash_mask,Ot=ne.prev[ne.strstart&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=ne.strstart),ne.prev_length=ne.match_length,ne.prev_match=ne.match_start,ne.match_length=Dt-1,0!==Ot&&ne.prev_length<ne.max_lazy_match&&ne.strstart-Ot<=ne.w_size-_i&&(ne.match_length=vn(ne,Ot),ne.match_length<=5&&(1===ne.strategy||ne.match_length===Dt&&4096<ne.strstart-ne.match_start)&&(ne.match_length=Dt-1)),ne.prev_length>=Dt&&ne.match_length<=ne.prev_length){for(we=ne.strstart+ne.lookahead-Dt,Ce=me._tr_tally(ne,ne.strstart-1-ne.prev_match,ne.prev_length-Dt),ne.lookahead-=ne.prev_length-1,ne.prev_length-=2;++ne.strstart<=we&&(ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[ne.strstart+Dt-1])&ne.hash_mask,Ot=ne.prev[ne.strstart&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=ne.strstart),0!=--ne.prev_length;);if(ne.match_available=0,ne.match_length=Dt-1,ne.strstart++,Ce&&(mt(ne,!1),0===ne.strm.avail_out))return 1}else if(ne.match_available){if((Ce=me._tr_tally(ne,0,ne.window[ne.strstart-1]))&&mt(ne,!1),ne.strstart++,ne.lookahead--,0===ne.strm.avail_out)return 1}else ne.match_available=1,ne.strstart++,ne.lookahead--}return ne.match_available&&(Ce=me._tr_tally(ne,0,ne.window[ne.strstart-1]),ne.match_available=0),ne.insert=ne.strstart<Dt-1?ne.strstart:Dt-1,4===It?(mt(ne,!0),0===ne.strm.avail_out?3:4):ne.last_lit&&(mt(ne,!1),0===ne.strm.avail_out)?1:2}function hi(ne,It,Ot,Ce,we){this.good_length=ne,this.max_lazy=It,this.nice_length=Ot,this.max_chain=Ce,this.func=we}function Wi(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Le,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Te.Buf16(2*At),this.dyn_dtree=new Te.Buf16(2*(2*st+1)),this.bl_tree=new Te.Buf16(2*(2*Bt+1)),bi(this.dyn_ltree),bi(this.dyn_dtree),bi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Te.Buf16(rn+1),this.heap=new Te.Buf16(2*ht+1),bi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Te.Buf16(2*ht+1),bi(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ws(ne){var It;return ne&&ne.state?(ne.total_in=ne.total_out=0,ne.data_type=be,(It=ne.state).pending=0,It.pending_out=0,It.wrap<0&&(It.wrap=-It.wrap),It.status=It.wrap?ze:Mt,ne.adler=2===It.wrap?0:1,It.last_flush=Ue,me._tr_init(It),ve):Ti(ne,Pe)}function Oi(ne){var Ot,It=Ws(ne);return It===ve&&((Ot=ne.state).window_size=2*Ot.w_size,bi(Ot.head),Ot.max_lazy_match=ye[Ot.level].max_lazy,Ot.good_match=ye[Ot.level].good_length,Ot.nice_match=ye[Ot.level].nice_length,Ot.max_chain_length=ye[Ot.level].max_chain,Ot.strstart=0,Ot.block_start=0,Ot.lookahead=0,Ot.insert=0,Ot.match_length=Ot.prev_length=Dt-1,Ot.match_available=0,Ot.ins_h=0),It}function El(ne,It,Ot,Ce,we,et){if(!ne)return Pe;var Qt=1;if(-1===It&&(It=6),Ce<0?(Qt=0,Ce=-Ce):15<Ce&&(Qt=2,Ce-=16),we<1||9<we||Ot!==Le||Ce<8||15<Ce||It<0||9<It||et<0||4<et)return Ti(ne,Pe);8===Ce&&(Ce=9);var Yt=new Wi;return(ne.state=Yt).strm=ne,Yt.wrap=Qt,Yt.gzhead=null,Yt.w_bits=Ce,Yt.w_size=1<<Yt.w_bits,Yt.w_mask=Yt.w_size-1,Yt.hash_bits=we+7,Yt.hash_size=1<<Yt.hash_bits,Yt.hash_mask=Yt.hash_size-1,Yt.hash_shift=~~((Yt.hash_bits+Dt-1)/Dt),Yt.window=new Te.Buf8(2*Yt.w_size),Yt.head=new Te.Buf16(Yt.hash_size),Yt.prev=new Te.Buf16(Yt.w_size),Yt.lit_bufsize=1<<we+6,Yt.pending_buf_size=4*Yt.lit_bufsize,Yt.pending_buf=new Te.Buf8(Yt.pending_buf_size),Yt.d_buf=1*Yt.lit_bufsize,Yt.l_buf=3*Yt.lit_bufsize,Yt.level=It,Yt.strategy=et,Yt.method=Ot,Oi(ne)}ye=[new hi(0,0,0,0,function(ne,It){var Ot=65535;for(Ot>ne.pending_buf_size-5&&(Ot=ne.pending_buf_size-5);;){if(ne.lookahead<=1){if(Pt(ne),0===ne.lookahead&&It===Ue)return 1;if(0===ne.lookahead)break}ne.strstart+=ne.lookahead,ne.lookahead=0;var Ce=ne.block_start+Ot;if((0===ne.strstart||ne.strstart>=Ce)&&(ne.lookahead=ne.strstart-Ce,ne.strstart=Ce,mt(ne,!1),0===ne.strm.avail_out)||ne.strstart-ne.block_start>=ne.w_size-_i&&(mt(ne,!1),0===ne.strm.avail_out))return 1}return ne.insert=0,4===It?(mt(ne,!0),0===ne.strm.avail_out?3:4):(ne.strstart>ne.block_start&&mt(ne,!1),1)}),new hi(4,4,8,4,Wo),new hi(4,5,16,8,Wo),new hi(4,6,32,32,Wo),new hi(4,4,16,16,fr),new hi(8,16,32,32,fr),new hi(8,16,128,128,fr),new hi(8,32,128,256,fr),new hi(32,128,258,1024,fr),new hi(32,258,258,4096,fr)],Ke.deflateInit=function(ne,It){return El(ne,It,Le,15,8,0)},Ke.deflateInit2=El,Ke.deflateReset=Oi,Ke.deflateResetKeep=Ws,Ke.deflateSetHeader=function(ne,It){return ne&&ne.state?2!==ne.state.wrap?Pe:(ne.state.gzhead=It,ve):Pe},Ke.deflate=function(ne,It){var Ot,Ce,we,et;if(!ne||!ne.state||5<It||It<0)return ne?Ti(ne,Pe):Pe;if(Ce=ne.state,!ne.output||!ne.input&&0!==ne.avail_in||666===Ce.status&&4!==It)return Ti(ne,0===ne.avail_out?-5:Pe);if(Ce.strm=ne,Ot=Ce.last_flush,Ce.last_flush=It,Ce.status===ze)if(2===Ce.wrap)ne.adler=0,gi(Ce,31),gi(Ce,139),gi(Ce,8),Ce.gzhead?(gi(Ce,(Ce.gzhead.text?1:0)+(Ce.gzhead.hcrc?2:0)+(Ce.gzhead.extra?4:0)+(Ce.gzhead.name?8:0)+(Ce.gzhead.comment?16:0)),gi(Ce,255&Ce.gzhead.time),gi(Ce,Ce.gzhead.time>>8&255),gi(Ce,Ce.gzhead.time>>16&255),gi(Ce,Ce.gzhead.time>>24&255),gi(Ce,9===Ce.level?2:2<=Ce.strategy||Ce.level<2?4:0),gi(Ce,255&Ce.gzhead.os),Ce.gzhead.extra&&Ce.gzhead.extra.length&&(gi(Ce,255&Ce.gzhead.extra.length),gi(Ce,Ce.gzhead.extra.length>>8&255)),Ce.gzhead.hcrc&&(ne.adler=Fe(ne.adler,Ce.pending_buf,Ce.pending,0)),Ce.gzindex=0,Ce.status=69):(gi(Ce,0),gi(Ce,0),gi(Ce,0),gi(Ce,0),gi(Ce,0),gi(Ce,9===Ce.level?2:2<=Ce.strategy||Ce.level<2?4:0),gi(Ce,3),Ce.status=Mt);else{var Qt=Le+(Ce.w_bits-8<<4)<<8;Qt|=(2<=Ce.strategy||Ce.level<2?0:Ce.level<6?1:6===Ce.level?2:3)<<6,0!==Ce.strstart&&(Qt|=32),Qt+=31-Qt%31,Ce.status=Mt,Ln(Ce,Qt),0!==Ce.strstart&&(Ln(Ce,ne.adler>>>16),Ln(Ce,65535&ne.adler)),ne.adler=1}if(69===Ce.status)if(Ce.gzhead.extra){for(we=Ce.pending;Ce.gzindex<(65535&Ce.gzhead.extra.length)&&(Ce.pending!==Ce.pending_buf_size||(Ce.gzhead.hcrc&&Ce.pending>we&&(ne.adler=Fe(ne.adler,Ce.pending_buf,Ce.pending-we,we)),at(ne),we=Ce.pending,Ce.pending!==Ce.pending_buf_size));)gi(Ce,255&Ce.gzhead.extra[Ce.gzindex]),Ce.gzindex++;Ce.gzhead.hcrc&&Ce.pending>we&&(ne.adler=Fe(ne.adler,Ce.pending_buf,Ce.pending-we,we)),Ce.gzindex===Ce.gzhead.extra.length&&(Ce.gzindex=0,Ce.status=73)}else Ce.status=73;if(73===Ce.status)if(Ce.gzhead.name){we=Ce.pending;do{if(Ce.pending===Ce.pending_buf_size&&(Ce.gzhead.hcrc&&Ce.pending>we&&(ne.adler=Fe(ne.adler,Ce.pending_buf,Ce.pending-we,we)),at(ne),we=Ce.pending,Ce.pending===Ce.pending_buf_size)){et=1;break}et=Ce.gzindex<Ce.gzhead.name.length?255&Ce.gzhead.name.charCodeAt(Ce.gzindex++):0,gi(Ce,et)}while(0!==et);Ce.gzhead.hcrc&&Ce.pending>we&&(ne.adler=Fe(ne.adler,Ce.pending_buf,Ce.pending-we,we)),0===et&&(Ce.gzindex=0,Ce.status=91)}else Ce.status=91;if(91===Ce.status)if(Ce.gzhead.comment){we=Ce.pending;do{if(Ce.pending===Ce.pending_buf_size&&(Ce.gzhead.hcrc&&Ce.pending>we&&(ne.adler=Fe(ne.adler,Ce.pending_buf,Ce.pending-we,we)),at(ne),we=Ce.pending,Ce.pending===Ce.pending_buf_size)){et=1;break}et=Ce.gzindex<Ce.gzhead.comment.length?255&Ce.gzhead.comment.charCodeAt(Ce.gzindex++):0,gi(Ce,et)}while(0!==et);Ce.gzhead.hcrc&&Ce.pending>we&&(ne.adler=Fe(ne.adler,Ce.pending_buf,Ce.pending-we,we)),0===et&&(Ce.status=103)}else Ce.status=103;if(103===Ce.status&&(Ce.gzhead.hcrc?(Ce.pending+2>Ce.pending_buf_size&&at(ne),Ce.pending+2<=Ce.pending_buf_size&&(gi(Ce,255&ne.adler),gi(Ce,ne.adler>>8&255),ne.adler=0,Ce.status=Mt)):Ce.status=Mt),0!==Ce.pending){if(at(ne),0===ne.avail_out)return Ce.last_flush=-1,ve}else if(0===ne.avail_in&&ln(It)<=ln(Ot)&&4!==It)return Ti(ne,-5);if(666===Ce.status&&0!==ne.avail_in)return Ti(ne,-5);if(0!==ne.avail_in||0!==Ce.lookahead||It!==Ue&&666!==Ce.status){var Yt=2===Ce.strategy?function(dt,cn){for(var In;;){if(0===dt.lookahead&&(Pt(dt),0===dt.lookahead)){if(cn===Ue)return 1;break}if(dt.match_length=0,In=me._tr_tally(dt,0,dt.window[dt.strstart]),dt.lookahead--,dt.strstart++,In&&(mt(dt,!1),0===dt.strm.avail_out))return 1}return dt.insert=0,4===cn?(mt(dt,!0),0===dt.strm.avail_out?3:4):dt.last_lit&&(mt(dt,!1),0===dt.strm.avail_out)?1:2}(Ce,It):3===Ce.strategy?function(dt,cn){for(var In,hn,oi,cs,lr=dt.window;;){if(dt.lookahead<=un){if(Pt(dt),dt.lookahead<=un&&cn===Ue)return 1;if(0===dt.lookahead)break}if(dt.match_length=0,dt.lookahead>=Dt&&0<dt.strstart&&(hn=lr[oi=dt.strstart-1])===lr[++oi]&&hn===lr[++oi]&&hn===lr[++oi]){cs=dt.strstart+un;do{}while(hn===lr[++oi]&&hn===lr[++oi]&&hn===lr[++oi]&&hn===lr[++oi]&&hn===lr[++oi]&&hn===lr[++oi]&&hn===lr[++oi]&&hn===lr[++oi]&&oi<cs);dt.match_length=un-(cs-oi),dt.match_length>dt.lookahead&&(dt.match_length=dt.lookahead)}if(dt.match_length>=Dt?(In=me._tr_tally(dt,1,dt.match_length-Dt),dt.lookahead-=dt.match_length,dt.strstart+=dt.match_length,dt.match_length=0):(In=me._tr_tally(dt,0,dt.window[dt.strstart]),dt.lookahead--,dt.strstart++),In&&(mt(dt,!1),0===dt.strm.avail_out))return 1}return dt.insert=0,4===cn?(mt(dt,!0),0===dt.strm.avail_out?3:4):dt.last_lit&&(mt(dt,!1),0===dt.strm.avail_out)?1:2}(Ce,It):ye[Ce.level].func(Ce,It);if(3!==Yt&&4!==Yt||(Ce.status=666),1===Yt||3===Yt)return 0===ne.avail_out&&(Ce.last_flush=-1),ve;if(2===Yt&&(1===It?me._tr_align(Ce):5!==It&&(me._tr_stored_block(Ce,0,0,!1),3===It&&(bi(Ce.head),0===Ce.lookahead&&(Ce.strstart=0,Ce.block_start=0,Ce.insert=0))),at(ne),0===ne.avail_out))return Ce.last_flush=-1,ve}return 4!==It?ve:Ce.wrap<=0?1:(2===Ce.wrap?(gi(Ce,255&ne.adler),gi(Ce,ne.adler>>8&255),gi(Ce,ne.adler>>16&255),gi(Ce,ne.adler>>24&255),gi(Ce,255&ne.total_in),gi(Ce,ne.total_in>>8&255),gi(Ce,ne.total_in>>16&255),gi(Ce,ne.total_in>>24&255)):(Ln(Ce,ne.adler>>>16),Ln(Ce,65535&ne.adler)),at(ne),0<Ce.wrap&&(Ce.wrap=-Ce.wrap),0!==Ce.pending?ve:1)},Ke.deflateEnd=function(ne){var It;return ne&&ne.state?(It=ne.state.status)!==ze&&69!==It&&73!==It&&91!==It&&103!==It&&It!==Mt&&666!==It?Ti(ne,Pe):(ne.state=null,It===Mt?Ti(ne,-3):ve):Pe},Ke.deflateSetDictionary=function(ne,It){var Ot,Ce,we,et,Qt,Yt,dt,cn,In=It.length;if(!ne||!ne.state||2===(et=(Ot=ne.state).wrap)||1===et&&Ot.status!==ze||Ot.lookahead)return Pe;for(1===et&&(ne.adler=De(ne.adler,It,In,0)),Ot.wrap=0,In>=Ot.w_size&&(0===et&&(bi(Ot.head),Ot.strstart=0,Ot.block_start=0,Ot.insert=0),cn=new Te.Buf8(Ot.w_size),Te.arraySet(cn,It,In-Ot.w_size,Ot.w_size,0),It=cn,In=Ot.w_size),Qt=ne.avail_in,Yt=ne.next_in,dt=ne.input,ne.avail_in=In,ne.next_in=0,ne.input=It,Pt(Ot);Ot.lookahead>=Dt;){for(Ce=Ot.strstart,we=Ot.lookahead-(Dt-1);Ot.ins_h=(Ot.ins_h<<Ot.hash_shift^Ot.window[Ce+Dt-1])&Ot.hash_mask,Ot.prev[Ce&Ot.w_mask]=Ot.head[Ot.ins_h],Ot.head[Ot.ins_h]=Ce,Ce++,--we;);Ot.strstart=Ce,Ot.lookahead=Dt-1,Pt(Ot)}return Ot.strstart+=Ot.lookahead,Ot.block_start=Ot.strstart,Ot.insert=Ot.lookahead,Ot.lookahead=0,Ot.match_length=Ot.prev_length=Dt-1,Ot.match_available=0,ne.next_in=Yt,ne.input=dt,ne.avail_in=Qt,Ot.wrap=et,ve},Ke.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(je,Ut,Ke){"use strict";Ut.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(je,Ut,Ke){"use strict";Ut.exports=function(ye,Te){var me,De,Fe,Ge,Ue,He,ve,Pe,pe,Me,be,Le,Xe,ht,st,Bt,At,rn,Dt,un,_i,ze,Mt,oe,Nt;oe=ye.input,Fe=(De=ye.next_in)+(ye.avail_in-5),Nt=ye.output,Ue=(Ge=ye.next_out)-(Te-ye.avail_out),He=Ge+(ye.avail_out-257),ve=(me=ye.state).dmax,Pe=me.wsize,pe=me.whave,Me=me.wnext,be=me.window,Le=me.hold,Xe=me.bits,ht=me.lencode,st=me.distcode,Bt=(1<<me.lenbits)-1,At=(1<<me.distbits)-1;e:do{Xe<15&&(Le+=oe[De++]<<Xe,Le+=oe[De++]<<(Xe+=8),Xe+=8),rn=ht[Le&Bt];t:for(;;){if(Le>>>=Dt=rn>>>24,Xe-=Dt,0==(Dt=rn>>>16&255))Nt[Ge++]=65535&rn;else{if(!(16&Dt)){if(!(64&Dt)){rn=ht[(65535&rn)+(Le&(1<<Dt)-1)];continue t}if(32&Dt){me.mode=12;break e}ye.msg="invalid literal/length code",me.mode=30;break e}un=65535&rn,(Dt&=15)&&(Xe<Dt&&(Le+=oe[De++]<<Xe,Xe+=8),un+=Le&(1<<Dt)-1,Le>>>=Dt,Xe-=Dt),Xe<15&&(Le+=oe[De++]<<Xe,Le+=oe[De++]<<(Xe+=8),Xe+=8),rn=st[Le&At];n:for(;;){if(Le>>>=Dt=rn>>>24,Xe-=Dt,!(16&(Dt=rn>>>16&255))){if(!(64&Dt)){rn=st[(65535&rn)+(Le&(1<<Dt)-1)];continue n}ye.msg="invalid distance code",me.mode=30;break e}if(_i=65535&rn,Xe<(Dt&=15)&&(Le+=oe[De++]<<Xe,(Xe+=8)<Dt&&(Le+=oe[De++]<<Xe,Xe+=8)),ve<(_i+=Le&(1<<Dt)-1)){ye.msg="invalid distance too far back",me.mode=30;break e}if(Le>>>=Dt,Xe-=Dt,(Dt=Ge-Ue)<_i){if(pe<(Dt=_i-Dt)&&me.sane){ye.msg="invalid distance too far back",me.mode=30;break e}if(Mt=be,(ze=0)===Me){if(ze+=Pe-Dt,Dt<un){for(un-=Dt;Nt[Ge++]=be[ze++],--Dt;);ze=Ge-_i,Mt=Nt}}else if(Me<Dt){if(ze+=Pe+Me-Dt,(Dt-=Me)<un){for(un-=Dt;Nt[Ge++]=be[ze++],--Dt;);if(ze=0,Me<un){for(un-=Dt=Me;Nt[Ge++]=be[ze++],--Dt;);ze=Ge-_i,Mt=Nt}}}else if(ze+=Me-Dt,Dt<un){for(un-=Dt;Nt[Ge++]=be[ze++],--Dt;);ze=Ge-_i,Mt=Nt}for(;2<un;)Nt[Ge++]=Mt[ze++],Nt[Ge++]=Mt[ze++],Nt[Ge++]=Mt[ze++],un-=3;un&&(Nt[Ge++]=Mt[ze++],1<un&&(Nt[Ge++]=Mt[ze++]))}else{for(ze=Ge-_i;Nt[Ge++]=Nt[ze++],Nt[Ge++]=Nt[ze++],Nt[Ge++]=Nt[ze++],2<(un-=3););un&&(Nt[Ge++]=Nt[ze++],1<un&&(Nt[Ge++]=Nt[ze++]))}break}}break}}while(De<Fe&&Ge<He);De-=un=Xe>>3,Le&=(1<<(Xe-=un<<3))-1,ye.next_in=De,ye.next_out=Ge,ye.avail_in=De<Fe?Fe-De+5:5-(De-Fe),ye.avail_out=Ge<He?He-Ge+257:257-(Ge-He),me.hold=Le,me.bits=Xe}},{}],49:[function(je,Ut,Ke){"use strict";var ye=je("../utils/common"),Te=je("./adler32"),me=je("./crc32"),De=je("./inffast"),Fe=je("./inftrees"),He=0,ve=-2,Pe=1,pe=852,Me=592;function be(ze){return(ze>>>24&255)+(ze>>>8&65280)+((65280&ze)<<8)+((255&ze)<<24)}function Le(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ye.Buf16(320),this.work=new ye.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Xe(ze){var Mt;return ze&&ze.state?(ze.total_in=ze.total_out=(Mt=ze.state).total=0,ze.msg="",Mt.wrap&&(ze.adler=1&Mt.wrap),Mt.mode=Pe,Mt.last=0,Mt.havedict=0,Mt.dmax=32768,Mt.head=null,Mt.hold=0,Mt.bits=0,Mt.lencode=Mt.lendyn=new ye.Buf32(pe),Mt.distcode=Mt.distdyn=new ye.Buf32(Me),Mt.sane=1,Mt.back=-1,He):ve}function ht(ze){var Mt;return ze&&ze.state?((Mt=ze.state).wsize=0,Mt.whave=0,Mt.wnext=0,Xe(ze)):ve}function st(ze,Mt){var oe,Nt;return ze&&ze.state?(Nt=ze.state,Mt<0?(oe=0,Mt=-Mt):(oe=1+(Mt>>4),Mt<48&&(Mt&=15)),Mt&&(Mt<8||15<Mt)?ve:(null!==Nt.window&&Nt.wbits!==Mt&&(Nt.window=null),Nt.wrap=oe,Nt.wbits=Mt,ht(ze))):ve}function Bt(ze,Mt){var oe,Nt;return ze?(Nt=new Le,(ze.state=Nt).window=null,(oe=st(ze,Mt))!==He&&(ze.state=null),oe):ve}var At,rn,Dt=!0;function un(ze){if(Dt){var Mt;for(At=new ye.Buf32(512),rn=new ye.Buf32(32),Mt=0;Mt<144;)ze.lens[Mt++]=8;for(;Mt<256;)ze.lens[Mt++]=9;for(;Mt<280;)ze.lens[Mt++]=7;for(;Mt<288;)ze.lens[Mt++]=8;for(Fe(1,ze.lens,0,288,At,0,ze.work,{bits:9}),Mt=0;Mt<32;)ze.lens[Mt++]=5;Fe(2,ze.lens,0,32,rn,0,ze.work,{bits:5}),Dt=!1}ze.lencode=At,ze.lenbits=9,ze.distcode=rn,ze.distbits=5}function _i(ze,Mt,oe,Nt){var Ri,tn=ze.state;return null===tn.window&&(tn.wsize=1<<tn.wbits,tn.wnext=0,tn.whave=0,tn.window=new ye.Buf8(tn.wsize)),Nt>=tn.wsize?(ye.arraySet(tn.window,Mt,oe-tn.wsize,tn.wsize,0),tn.wnext=0,tn.whave=tn.wsize):(Nt<(Ri=tn.wsize-tn.wnext)&&(Ri=Nt),ye.arraySet(tn.window,Mt,oe-Nt,Ri,tn.wnext),(Nt-=Ri)?(ye.arraySet(tn.window,Mt,oe-Nt,Nt,0),tn.wnext=Nt,tn.whave=tn.wsize):(tn.wnext+=Ri,tn.wnext===tn.wsize&&(tn.wnext=0),tn.whave<tn.wsize&&(tn.whave+=Ri))),0}Ke.inflateReset=ht,Ke.inflateReset2=st,Ke.inflateResetKeep=Xe,Ke.inflateInit=function(ze){return Bt(ze,15)},Ke.inflateInit2=Bt,Ke.inflate=function(ze,Mt){var oe,Nt,Ri,tn,Ti,ln,bi,at,mt,gi,Ln,vn,Pt,Wo,fr,hi,Wi,Ws,Oi,El,ne,It,Ot,Ce,we=0,et=new ye.Buf8(4),Qt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ze||!ze.state||!ze.output||!ze.input&&0!==ze.avail_in)return ve;12===(oe=ze.state).mode&&(oe.mode=13),Ti=ze.next_out,Ri=ze.output,tn=ze.next_in,Nt=ze.input,at=oe.hold,mt=oe.bits,gi=ln=ze.avail_in,Ln=bi=ze.avail_out,It=He;e:for(;;)switch(oe.mode){case Pe:if(0===oe.wrap){oe.mode=13;break}for(;mt<16;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}if(2&oe.wrap&&35615===at){et[oe.check=0]=255&at,et[1]=at>>>8&255,oe.check=me(oe.check,et,2,0),mt=at=0,oe.mode=2;break}if(oe.flags=0,oe.head&&(oe.head.done=!1),!(1&oe.wrap)||(((255&at)<<8)+(at>>8))%31){ze.msg="incorrect header check",oe.mode=30;break}if(8!=(15&at)){ze.msg="unknown compression method",oe.mode=30;break}if(mt-=4,ne=8+(15&(at>>>=4)),0===oe.wbits)oe.wbits=ne;else if(ne>oe.wbits){ze.msg="invalid window size",oe.mode=30;break}oe.dmax=1<<ne,ze.adler=oe.check=1,oe.mode=512&at?10:12,mt=at=0;break;case 2:for(;mt<16;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}if(oe.flags=at,8!=(255&oe.flags)){ze.msg="unknown compression method",oe.mode=30;break}if(57344&oe.flags){ze.msg="unknown header flags set",oe.mode=30;break}oe.head&&(oe.head.text=at>>8&1),512&oe.flags&&(et[0]=255&at,et[1]=at>>>8&255,oe.check=me(oe.check,et,2,0)),mt=at=0,oe.mode=3;case 3:for(;mt<32;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}oe.head&&(oe.head.time=at),512&oe.flags&&(et[0]=255&at,et[1]=at>>>8&255,et[2]=at>>>16&255,et[3]=at>>>24&255,oe.check=me(oe.check,et,4,0)),mt=at=0,oe.mode=4;case 4:for(;mt<16;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}oe.head&&(oe.head.xflags=255&at,oe.head.os=at>>8),512&oe.flags&&(et[0]=255&at,et[1]=at>>>8&255,oe.check=me(oe.check,et,2,0)),mt=at=0,oe.mode=5;case 5:if(1024&oe.flags){for(;mt<16;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}oe.length=at,oe.head&&(oe.head.extra_len=at),512&oe.flags&&(et[0]=255&at,et[1]=at>>>8&255,oe.check=me(oe.check,et,2,0)),mt=at=0}else oe.head&&(oe.head.extra=null);oe.mode=6;case 6:if(1024&oe.flags&&(ln<(vn=oe.length)&&(vn=ln),vn&&(oe.head&&(ne=oe.head.extra_len-oe.length,oe.head.extra||(oe.head.extra=new Array(oe.head.extra_len)),ye.arraySet(oe.head.extra,Nt,tn,vn,ne)),512&oe.flags&&(oe.check=me(oe.check,Nt,vn,tn)),ln-=vn,tn+=vn,oe.length-=vn),oe.length))break e;oe.length=0,oe.mode=7;case 7:if(2048&oe.flags){if(0===ln)break e;for(vn=0;ne=Nt[tn+vn++],oe.head&&ne&&oe.length<65536&&(oe.head.name+=String.fromCharCode(ne)),ne&&vn<ln;);if(512&oe.flags&&(oe.check=me(oe.check,Nt,vn,tn)),ln-=vn,tn+=vn,ne)break e}else oe.head&&(oe.head.name=null);oe.length=0,oe.mode=8;case 8:if(4096&oe.flags){if(0===ln)break e;for(vn=0;ne=Nt[tn+vn++],oe.head&&ne&&oe.length<65536&&(oe.head.comment+=String.fromCharCode(ne)),ne&&vn<ln;);if(512&oe.flags&&(oe.check=me(oe.check,Nt,vn,tn)),ln-=vn,tn+=vn,ne)break e}else oe.head&&(oe.head.comment=null);oe.mode=9;case 9:if(512&oe.flags){for(;mt<16;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}if(at!==(65535&oe.check)){ze.msg="header crc mismatch",oe.mode=30;break}mt=at=0}oe.head&&(oe.head.hcrc=oe.flags>>9&1,oe.head.done=!0),ze.adler=oe.check=0,oe.mode=12;break;case 10:for(;mt<32;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}ze.adler=oe.check=be(at),mt=at=0,oe.mode=11;case 11:if(0===oe.havedict)return ze.next_out=Ti,ze.avail_out=bi,ze.next_in=tn,ze.avail_in=ln,oe.hold=at,oe.bits=mt,2;ze.adler=oe.check=1,oe.mode=12;case 12:if(5===Mt||6===Mt)break e;case 13:if(oe.last){at>>>=7&mt,mt-=7&mt,oe.mode=27;break}for(;mt<3;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}switch(oe.last=1&at,mt-=1,3&(at>>>=1)){case 0:oe.mode=14;break;case 1:if(un(oe),oe.mode=20,6!==Mt)break;at>>>=2,mt-=2;break e;case 2:oe.mode=17;break;case 3:ze.msg="invalid block type",oe.mode=30}at>>>=2,mt-=2;break;case 14:for(at>>>=7&mt,mt-=7&mt;mt<32;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}if((65535&at)!=(at>>>16^65535)){ze.msg="invalid stored block lengths",oe.mode=30;break}if(oe.length=65535&at,mt=at=0,oe.mode=15,6===Mt)break e;case 15:oe.mode=16;case 16:if(vn=oe.length){if(ln<vn&&(vn=ln),bi<vn&&(vn=bi),0===vn)break e;ye.arraySet(Ri,Nt,tn,vn,Ti),ln-=vn,tn+=vn,bi-=vn,Ti+=vn,oe.length-=vn;break}oe.mode=12;break;case 17:for(;mt<14;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}if(oe.nlen=257+(31&at),mt-=5,oe.ndist=1+(31&(at>>>=5)),mt-=5,oe.ncode=4+(15&(at>>>=5)),at>>>=4,mt-=4,286<oe.nlen||30<oe.ndist){ze.msg="too many length or distance symbols",oe.mode=30;break}oe.have=0,oe.mode=18;case 18:for(;oe.have<oe.ncode;){for(;mt<3;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}oe.lens[Qt[oe.have++]]=7&at,at>>>=3,mt-=3}for(;oe.have<19;)oe.lens[Qt[oe.have++]]=0;if(oe.lencode=oe.lendyn,oe.lenbits=7,It=Fe(0,oe.lens,0,19,oe.lencode,0,oe.work,Ot={bits:oe.lenbits}),oe.lenbits=Ot.bits,It){ze.msg="invalid code lengths set",oe.mode=30;break}oe.have=0,oe.mode=19;case 19:for(;oe.have<oe.nlen+oe.ndist;){for(;hi=(we=oe.lencode[at&(1<<oe.lenbits)-1])>>>16&255,Wi=65535&we,!((fr=we>>>24)<=mt);){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}if(Wi<16)at>>>=fr,mt-=fr,oe.lens[oe.have++]=Wi;else{if(16===Wi){for(Ce=fr+2;mt<Ce;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}if(at>>>=fr,mt-=fr,0===oe.have){ze.msg="invalid bit length repeat",oe.mode=30;break}ne=oe.lens[oe.have-1],vn=3+(3&at),at>>>=2,mt-=2}else if(17===Wi){for(Ce=fr+3;mt<Ce;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}mt-=fr,ne=0,vn=3+(7&(at>>>=fr)),at>>>=3,mt-=3}else{for(Ce=fr+7;mt<Ce;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}mt-=fr,ne=0,vn=11+(127&(at>>>=fr)),at>>>=7,mt-=7}if(oe.have+vn>oe.nlen+oe.ndist){ze.msg="invalid bit length repeat",oe.mode=30;break}for(;vn--;)oe.lens[oe.have++]=ne}}if(30===oe.mode)break;if(0===oe.lens[256]){ze.msg="invalid code -- missing end-of-block",oe.mode=30;break}if(oe.lenbits=9,It=Fe(1,oe.lens,0,oe.nlen,oe.lencode,0,oe.work,Ot={bits:oe.lenbits}),oe.lenbits=Ot.bits,It){ze.msg="invalid literal/lengths set",oe.mode=30;break}if(oe.distbits=6,oe.distcode=oe.distdyn,It=Fe(2,oe.lens,oe.nlen,oe.ndist,oe.distcode,0,oe.work,Ot={bits:oe.distbits}),oe.distbits=Ot.bits,It){ze.msg="invalid distances set",oe.mode=30;break}if(oe.mode=20,6===Mt)break e;case 20:oe.mode=21;case 21:if(6<=ln&&258<=bi){ze.next_out=Ti,ze.avail_out=bi,ze.next_in=tn,ze.avail_in=ln,oe.hold=at,oe.bits=mt,De(ze,Ln),Ti=ze.next_out,Ri=ze.output,bi=ze.avail_out,tn=ze.next_in,Nt=ze.input,ln=ze.avail_in,at=oe.hold,mt=oe.bits,12===oe.mode&&(oe.back=-1);break}for(oe.back=0;hi=(we=oe.lencode[at&(1<<oe.lenbits)-1])>>>16&255,Wi=65535&we,!((fr=we>>>24)<=mt);){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}if(hi&&!(240&hi)){for(Ws=fr,Oi=hi,El=Wi;hi=(we=oe.lencode[El+((at&(1<<Ws+Oi)-1)>>Ws)])>>>16&255,Wi=65535&we,!(Ws+(fr=we>>>24)<=mt);){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}at>>>=Ws,mt-=Ws,oe.back+=Ws}if(at>>>=fr,mt-=fr,oe.back+=fr,oe.length=Wi,0===hi){oe.mode=26;break}if(32&hi){oe.back=-1,oe.mode=12;break}if(64&hi){ze.msg="invalid literal/length code",oe.mode=30;break}oe.extra=15&hi,oe.mode=22;case 22:if(oe.extra){for(Ce=oe.extra;mt<Ce;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}oe.length+=at&(1<<oe.extra)-1,at>>>=oe.extra,mt-=oe.extra,oe.back+=oe.extra}oe.was=oe.length,oe.mode=23;case 23:for(;hi=(we=oe.distcode[at&(1<<oe.distbits)-1])>>>16&255,Wi=65535&we,!((fr=we>>>24)<=mt);){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}if(!(240&hi)){for(Ws=fr,Oi=hi,El=Wi;hi=(we=oe.distcode[El+((at&(1<<Ws+Oi)-1)>>Ws)])>>>16&255,Wi=65535&we,!(Ws+(fr=we>>>24)<=mt);){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}at>>>=Ws,mt-=Ws,oe.back+=Ws}if(at>>>=fr,mt-=fr,oe.back+=fr,64&hi){ze.msg="invalid distance code",oe.mode=30;break}oe.offset=Wi,oe.extra=15&hi,oe.mode=24;case 24:if(oe.extra){for(Ce=oe.extra;mt<Ce;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}oe.offset+=at&(1<<oe.extra)-1,at>>>=oe.extra,mt-=oe.extra,oe.back+=oe.extra}if(oe.offset>oe.dmax){ze.msg="invalid distance too far back",oe.mode=30;break}oe.mode=25;case 25:if(0===bi)break e;if(oe.offset>(vn=Ln-bi)){if((vn=oe.offset-vn)>oe.whave&&oe.sane){ze.msg="invalid distance too far back",oe.mode=30;break}Pt=vn>oe.wnext?oe.wsize-(vn-=oe.wnext):oe.wnext-vn,vn>oe.length&&(vn=oe.length),Wo=oe.window}else Wo=Ri,Pt=Ti-oe.offset,vn=oe.length;for(bi<vn&&(vn=bi),bi-=vn,oe.length-=vn;Ri[Ti++]=Wo[Pt++],--vn;);0===oe.length&&(oe.mode=21);break;case 26:if(0===bi)break e;Ri[Ti++]=oe.length,bi--,oe.mode=21;break;case 27:if(oe.wrap){for(;mt<32;){if(0===ln)break e;ln--,at|=Nt[tn++]<<mt,mt+=8}if(ze.total_out+=Ln-=bi,oe.total+=Ln,Ln&&(ze.adler=oe.check=oe.flags?me(oe.check,Ri,Ln,Ti-Ln):Te(oe.check,Ri,Ln,Ti-Ln)),Ln=bi,(oe.flags?at:be(at))!==oe.check){ze.msg="incorrect data check",oe.mode=30;break}mt=at=0}oe.mode=28;case 28:if(oe.wrap&&oe.flags){for(;mt<32;){if(0===ln)break e;ln--,at+=Nt[tn++]<<mt,mt+=8}if(at!==(4294967295&oe.total)){ze.msg="incorrect length check",oe.mode=30;break}mt=at=0}oe.mode=29;case 29:It=1;break e;case 30:It=-3;break e;case 31:return-4;default:return ve}return ze.next_out=Ti,ze.avail_out=bi,ze.next_in=tn,ze.avail_in=ln,oe.hold=at,oe.bits=mt,(oe.wsize||Ln!==ze.avail_out&&oe.mode<30&&(oe.mode<27||4!==Mt))&&_i(ze,ze.output,ze.next_out,Ln-ze.avail_out)?(oe.mode=31,-4):(Ln-=ze.avail_out,ze.total_in+=gi-=ze.avail_in,ze.total_out+=Ln,oe.total+=Ln,oe.wrap&&Ln&&(ze.adler=oe.check=oe.flags?me(oe.check,Ri,Ln,ze.next_out-Ln):Te(oe.check,Ri,Ln,ze.next_out-Ln)),ze.data_type=oe.bits+(oe.last?64:0)+(12===oe.mode?128:0)+(20===oe.mode||15===oe.mode?256:0),(0==gi&&0===Ln||4===Mt)&&It===He&&(It=-5),It)},Ke.inflateEnd=function(ze){if(!ze||!ze.state)return ve;var Mt=ze.state;return Mt.window&&(Mt.window=null),ze.state=null,He},Ke.inflateGetHeader=function(ze,Mt){var oe;return ze&&ze.state&&2&(oe=ze.state).wrap?((oe.head=Mt).done=!1,He):ve},Ke.inflateSetDictionary=function(ze,Mt){var oe,Nt=Mt.length;return ze&&ze.state?0!==(oe=ze.state).wrap&&11!==oe.mode?ve:11===oe.mode&&Te(1,Mt,Nt,0)!==oe.check?-3:_i(ze,Mt,Nt,Nt)?(oe.mode=31,-4):(oe.havedict=1,He):ve},Ke.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(je,Ut,Ke){"use strict";var ye=je("../utils/common"),Te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],me=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],De=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Fe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Ut.exports=function(Ge,Ue,He,ve,Pe,pe,Me,be){var Le,Xe,ht,st,Bt,At,rn,Dt,un,_i=be.bits,ze=0,Mt=0,oe=0,Nt=0,Ri=0,tn=0,Ti=0,ln=0,bi=0,at=0,mt=null,gi=0,Ln=new ye.Buf16(16),vn=new ye.Buf16(16),Pt=null,Wo=0;for(ze=0;ze<=15;ze++)Ln[ze]=0;for(Mt=0;Mt<ve;Mt++)Ln[Ue[He+Mt]]++;for(Ri=_i,Nt=15;1<=Nt&&0===Ln[Nt];Nt--);if(Nt<Ri&&(Ri=Nt),0===Nt)return Pe[pe++]=20971520,Pe[pe++]=20971520,be.bits=1,0;for(oe=1;oe<Nt&&0===Ln[oe];oe++);for(Ri<oe&&(Ri=oe),ze=ln=1;ze<=15;ze++)if(ln<<=1,(ln-=Ln[ze])<0)return-1;if(0<ln&&(0===Ge||1!==Nt))return-1;for(vn[1]=0,ze=1;ze<15;ze++)vn[ze+1]=vn[ze]+Ln[ze];for(Mt=0;Mt<ve;Mt++)0!==Ue[He+Mt]&&(Me[vn[Ue[He+Mt]]++]=Mt);if(At=0===Ge?(mt=Pt=Me,19):1===Ge?(mt=Te,gi-=257,Pt=me,Wo-=257,256):(mt=De,Pt=Fe,-1),ze=oe,Bt=pe,Ti=Mt=at=0,ht=-1,st=(bi=1<<(tn=Ri))-1,1===Ge&&852<bi||2===Ge&&592<bi)return 1;for(;;){for(rn=ze-Ti,un=Me[Mt]<At?(Dt=0,Me[Mt]):Me[Mt]>At?(Dt=Pt[Wo+Me[Mt]],mt[gi+Me[Mt]]):(Dt=96,0),Le=1<<ze-Ti,oe=Xe=1<<tn;Pe[Bt+(at>>Ti)+(Xe-=Le)]=rn<<24|Dt<<16|un|0,0!==Xe;);for(Le=1<<ze-1;at&Le;)Le>>=1;if(0!==Le?(at&=Le-1,at+=Le):at=0,Mt++,0==--Ln[ze]){if(ze===Nt)break;ze=Ue[He+Me[Mt]]}if(Ri<ze&&(at&st)!==ht){for(0===Ti&&(Ti=Ri),Bt+=oe,ln=1<<(tn=ze-Ti);tn+Ti<Nt&&!((ln-=Ln[tn+Ti])<=0);)tn++,ln<<=1;if(bi+=1<<tn,1===Ge&&852<bi||2===Ge&&592<bi)return 1;Pe[ht=at&st]=Ri<<24|tn<<16|Bt-pe|0}}return 0!==at&&(Pe[Bt+at]=ze-Ti<<24|64<<16|0),be.bits=Ri,0}},{"../utils/common":41}],51:[function(je,Ut,Ke){"use strict";Ut.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(je,Ut,Ke){"use strict";var ye=je("../utils/common");function De(we){for(var et=we.length;0<=--et;)we[et]=0}var Me=15,be=16,At=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],rn=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Dt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],un=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_i=new Array(576);De(_i);var ze=new Array(60);De(ze);var Mt=new Array(512);De(Mt);var oe=new Array(256);De(oe);var Nt=new Array(29);De(Nt);var Ri,tn,Ti,ln=new Array(30);function bi(we,et,Qt,Yt,dt){this.static_tree=we,this.extra_bits=et,this.extra_base=Qt,this.elems=Yt,this.max_length=dt,this.has_stree=we&&we.length}function at(we,et){this.dyn_tree=we,this.max_code=0,this.stat_desc=et}function mt(we){return we<256?Mt[we]:Mt[256+(we>>>7)]}function gi(we,et){we.pending_buf[we.pending++]=255&et,we.pending_buf[we.pending++]=et>>>8&255}function Ln(we,et,Qt){we.bi_valid>be-Qt?(we.bi_buf|=et<<we.bi_valid&65535,gi(we,we.bi_buf),we.bi_buf=et>>be-we.bi_valid,we.bi_valid+=Qt-be):(we.bi_buf|=et<<we.bi_valid&65535,we.bi_valid+=Qt)}function vn(we,et,Qt){Ln(we,Qt[2*et],Qt[2*et+1])}function Pt(we,et){for(var Qt=0;Qt|=1&we,we>>>=1,Qt<<=1,0<--et;);return Qt>>>1}function Wo(we,et,Qt){var Yt,dt,cn=new Array(Me+1),In=0;for(Yt=1;Yt<=Me;Yt++)cn[Yt]=In=In+Qt[Yt-1]<<1;for(dt=0;dt<=et;dt++){var hn=we[2*dt+1];0!==hn&&(we[2*dt]=Pt(cn[hn]++,hn))}}function fr(we){var et;for(et=0;et<286;et++)we.dyn_ltree[2*et]=0;for(et=0;et<30;et++)we.dyn_dtree[2*et]=0;for(et=0;et<19;et++)we.bl_tree[2*et]=0;we.dyn_ltree[512]=1,we.opt_len=we.static_len=0,we.last_lit=we.matches=0}function hi(we){8<we.bi_valid?gi(we,we.bi_buf):0<we.bi_valid&&(we.pending_buf[we.pending++]=we.bi_buf),we.bi_buf=0,we.bi_valid=0}function Wi(we,et,Qt,Yt){var dt=2*et,cn=2*Qt;return we[dt]<we[cn]||we[dt]===we[cn]&&Yt[et]<=Yt[Qt]}function Ws(we,et,Qt){for(var Yt=we.heap[Qt],dt=Qt<<1;dt<=we.heap_len&&(dt<we.heap_len&&Wi(et,we.heap[dt+1],we.heap[dt],we.depth)&&dt++,!Wi(et,Yt,we.heap[dt],we.depth));)we.heap[Qt]=we.heap[dt],Qt=dt,dt<<=1;we.heap[Qt]=Yt}function Oi(we,et,Qt){var Yt,dt,cn,In,hn=0;if(0!==we.last_lit)for(;Yt=we.pending_buf[we.d_buf+2*hn]<<8|we.pending_buf[we.d_buf+2*hn+1],dt=we.pending_buf[we.l_buf+hn],hn++,0===Yt?vn(we,dt,et):(vn(we,(cn=oe[dt])+256+1,et),0!==(In=At[cn])&&Ln(we,dt-=Nt[cn],In),vn(we,cn=mt(--Yt),Qt),0!==(In=rn[cn])&&Ln(we,Yt-=ln[cn],In)),hn<we.last_lit;);vn(we,256,et)}function El(we,et){var Qt,Yt,dt,cn=et.dyn_tree,In=et.stat_desc.static_tree,hn=et.stat_desc.has_stree,oi=et.stat_desc.elems,cs=-1;for(we.heap_len=0,we.heap_max=573,Qt=0;Qt<oi;Qt++)0!==cn[2*Qt]?(we.heap[++we.heap_len]=cs=Qt,we.depth[Qt]=0):cn[2*Qt+1]=0;for(;we.heap_len<2;)cn[2*(dt=we.heap[++we.heap_len]=cs<2?++cs:0)]=1,we.depth[dt]=0,we.opt_len--,hn&&(we.static_len-=In[2*dt+1]);for(et.max_code=cs,Qt=we.heap_len>>1;1<=Qt;Qt--)Ws(we,cn,Qt);for(dt=oi;Qt=we.heap[1],we.heap[1]=we.heap[we.heap_len--],Ws(we,cn,1),Yt=we.heap[1],we.heap[--we.heap_max]=Qt,we.heap[--we.heap_max]=Yt,cn[2*dt]=cn[2*Qt]+cn[2*Yt],we.depth[dt]=(we.depth[Qt]>=we.depth[Yt]?we.depth[Qt]:we.depth[Yt])+1,cn[2*Qt+1]=cn[2*Yt+1]=dt,we.heap[1]=dt++,Ws(we,cn,1),2<=we.heap_len;);we.heap[--we.heap_max]=we.heap[1],function(lr,Pl){var x0,Bu,T0,Xr,k0,aS,Vu=Pl.dyn_tree,qk=Pl.max_code,NL=Pl.stat_desc.static_tree,FL=Pl.stat_desc.has_stree,BL=Pl.stat_desc.extra_bits,Kk=Pl.stat_desc.extra_base,D0=Pl.stat_desc.max_length,c_=0;for(Xr=0;Xr<=Me;Xr++)lr.bl_count[Xr]=0;for(Vu[2*lr.heap[lr.heap_max]+1]=0,x0=lr.heap_max+1;x0<573;x0++)D0<(Xr=Vu[2*Vu[2*(Bu=lr.heap[x0])+1]+1]+1)&&(Xr=D0,c_++),Vu[2*Bu+1]=Xr,qk<Bu||(lr.bl_count[Xr]++,k0=0,Kk<=Bu&&(k0=BL[Bu-Kk]),lr.opt_len+=(aS=Vu[2*Bu])*(Xr+k0),FL&&(lr.static_len+=aS*(NL[2*Bu+1]+k0)));if(0!==c_){do{for(Xr=D0-1;0===lr.bl_count[Xr];)Xr--;lr.bl_count[Xr]--,lr.bl_count[Xr+1]+=2,lr.bl_count[D0]--,c_-=2}while(0<c_);for(Xr=D0;0!==Xr;Xr--)for(Bu=lr.bl_count[Xr];0!==Bu;)qk<(T0=lr.heap[--x0])||(Vu[2*T0+1]!==Xr&&(lr.opt_len+=(Xr-Vu[2*T0+1])*Vu[2*T0],Vu[2*T0+1]=Xr),Bu--)}}(we,et),Wo(cn,cs,we.bl_count)}function ne(we,et,Qt){var Yt,dt,cn=-1,In=et[1],hn=0,oi=7,cs=4;for(0===In&&(oi=138,cs=3),et[2*(Qt+1)+1]=65535,Yt=0;Yt<=Qt;Yt++)dt=In,In=et[2*(Yt+1)+1],++hn<oi&&dt===In||(hn<cs?we.bl_tree[2*dt]+=hn:0!==dt?(dt!==cn&&we.bl_tree[2*dt]++,we.bl_tree[32]++):hn<=10?we.bl_tree[34]++:we.bl_tree[36]++,cn=dt,cs=(hn=0)===In?(oi=138,3):dt===In?(oi=6,3):(oi=7,4))}function It(we,et,Qt){var Yt,dt,cn=-1,In=et[1],hn=0,oi=7,cs=4;for(0===In&&(oi=138,cs=3),Yt=0;Yt<=Qt;Yt++)if(dt=In,In=et[2*(Yt+1)+1],!(++hn<oi&&dt===In)){if(hn<cs)for(;vn(we,dt,we.bl_tree),0!=--hn;);else 0!==dt?(dt!==cn&&(vn(we,dt,we.bl_tree),hn--),vn(we,16,we.bl_tree),Ln(we,hn-3,2)):hn<=10?(vn(we,17,we.bl_tree),Ln(we,hn-3,3)):(vn(we,18,we.bl_tree),Ln(we,hn-11,7));cn=dt,cs=(hn=0)===In?(oi=138,3):dt===In?(oi=6,3):(oi=7,4)}}De(ln);var Ot=!1;function Ce(we,et,Qt,Yt){var dt,cn,In;Ln(we,0+(Yt?1:0),3),cn=et,In=Qt,hi(dt=we),gi(dt,In),gi(dt,~In),ye.arraySet(dt.pending_buf,dt.window,cn,In,dt.pending),dt.pending+=In}Ke._tr_init=function(we){Ot||(function(){var et,Qt,Yt,dt,cn,In=new Array(Me+1);for(dt=Yt=0;dt<28;dt++)for(Nt[dt]=Yt,et=0;et<1<<At[dt];et++)oe[Yt++]=dt;for(oe[Yt-1]=dt,dt=cn=0;dt<16;dt++)for(ln[dt]=cn,et=0;et<1<<rn[dt];et++)Mt[cn++]=dt;for(cn>>=7;dt<30;dt++)for(ln[dt]=cn<<7,et=0;et<1<<rn[dt]-7;et++)Mt[256+cn++]=dt;for(Qt=0;Qt<=Me;Qt++)In[Qt]=0;for(et=0;et<=143;)_i[2*et+1]=8,et++,In[8]++;for(;et<=255;)_i[2*et+1]=9,et++,In[9]++;for(;et<=279;)_i[2*et+1]=7,et++,In[7]++;for(;et<=287;)_i[2*et+1]=8,et++,In[8]++;for(Wo(_i,287,In),et=0;et<30;et++)ze[2*et+1]=5,ze[2*et]=Pt(et,5);Ri=new bi(_i,At,257,286,Me),tn=new bi(ze,rn,0,30,Me),Ti=new bi(new Array(0),Dt,0,19,7)}(),Ot=!0),we.l_desc=new at(we.dyn_ltree,Ri),we.d_desc=new at(we.dyn_dtree,tn),we.bl_desc=new at(we.bl_tree,Ti),we.bi_buf=0,we.bi_valid=0,fr(we)},Ke._tr_stored_block=Ce,Ke._tr_flush_block=function(we,et,Qt,Yt){var dt,cn,In=0;0<we.level?(2===we.strm.data_type&&(we.strm.data_type=function(hn){var oi,cs=4093624447;for(oi=0;oi<=31;oi++,cs>>>=1)if(1&cs&&0!==hn.dyn_ltree[2*oi])return 0;if(0!==hn.dyn_ltree[18]||0!==hn.dyn_ltree[20]||0!==hn.dyn_ltree[26])return 1;for(oi=32;oi<256;oi++)if(0!==hn.dyn_ltree[2*oi])return 1;return 0}(we)),El(we,we.l_desc),El(we,we.d_desc),In=function(hn){var oi;for(ne(hn,hn.dyn_ltree,hn.l_desc.max_code),ne(hn,hn.dyn_dtree,hn.d_desc.max_code),El(hn,hn.bl_desc),oi=18;3<=oi&&0===hn.bl_tree[2*un[oi]+1];oi--);return hn.opt_len+=3*(oi+1)+5+5+4,oi}(we),(cn=we.static_len+3+7>>>3)<=(dt=we.opt_len+3+7>>>3)&&(dt=cn)):dt=cn=Qt+5,Qt+4<=dt&&-1!==et?Ce(we,et,Qt,Yt):4===we.strategy||cn===dt?(Ln(we,2+(Yt?1:0),3),Oi(we,_i,ze)):(Ln(we,4+(Yt?1:0),3),function(hn,oi,cs,lr){var Pl;for(Ln(hn,oi-257,5),Ln(hn,cs-1,5),Ln(hn,lr-4,4),Pl=0;Pl<lr;Pl++)Ln(hn,hn.bl_tree[2*un[Pl]+1],3);It(hn,hn.dyn_ltree,oi-1),It(hn,hn.dyn_dtree,cs-1)}(we,we.l_desc.max_code+1,we.d_desc.max_code+1,In+1),Oi(we,we.dyn_ltree,we.dyn_dtree)),fr(we),Yt&&hi(we)},Ke._tr_tally=function(we,et,Qt){return we.pending_buf[we.d_buf+2*we.last_lit]=et>>>8&255,we.pending_buf[we.d_buf+2*we.last_lit+1]=255&et,we.pending_buf[we.l_buf+we.last_lit]=255&Qt,we.last_lit++,0===et?we.dyn_ltree[2*Qt]++:(we.matches++,et--,we.dyn_ltree[2*(oe[Qt]+256+1)]++,we.dyn_dtree[2*mt(et)]++),we.last_lit===we.lit_bufsize-1},Ke._tr_align=function(we){var et;Ln(we,2,3),vn(we,256,_i),16===(et=we).bi_valid?(gi(et,et.bi_buf),et.bi_buf=0,et.bi_valid=0):8<=et.bi_valid&&(et.pending_buf[et.pending++]=255&et.bi_buf,et.bi_buf>>=8,et.bi_valid-=8)}},{"../utils/common":41}],53:[function(je,Ut,Ke){"use strict";Ut.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(je,Ut,Ke){(function(ye){!function(Te,me){"use strict";if(!Te.setImmediate){var De,Fe,Ge,Ue,He=1,ve={},Pe=!1,pe=Te.document,Me=Object.getPrototypeOf&&Object.getPrototypeOf(Te);Me=Me&&Me.setTimeout?Me:Te,De="[object process]"==={}.toString.call(Te.process)?function(ht){process.nextTick(function(){Le(ht)})}:function(){if(Te.postMessage&&!Te.importScripts){var ht=!0,st=Te.onmessage;return Te.onmessage=function(){ht=!1},Te.postMessage("","*"),Te.onmessage=st,ht}}()?(Ue="setImmediate$"+Math.random()+"$",Te.addEventListener?Te.addEventListener("message",Xe,!1):Te.attachEvent("onmessage",Xe),function(ht){Te.postMessage(Ue+ht,"*")}):Te.MessageChannel?((Ge=new MessageChannel).port1.onmessage=function(ht){Le(ht.data)},function(ht){Ge.port2.postMessage(ht)}):pe&&"onreadystatechange"in pe.createElement("script")?(Fe=pe.documentElement,function(ht){var st=pe.createElement("script");st.onreadystatechange=function(){Le(ht),st.onreadystatechange=null,Fe.removeChild(st),st=null},Fe.appendChild(st)}):function(ht){setTimeout(Le,0,ht)},Me.setImmediate=function(ht){"function"!=typeof ht&&(ht=new Function(""+ht));for(var st=new Array(arguments.length-1),Bt=0;Bt<st.length;Bt++)st[Bt]=arguments[Bt+1];return ve[He]={callback:ht,args:st},De(He),He++},Me.clearImmediate=be}function be(ht){delete ve[ht]}function Le(ht){if(Pe)setTimeout(Le,0,ht);else{var st=ve[ht];if(st){Pe=!0;try{!function(Bt){var At=Bt.callback,rn=Bt.args;switch(rn.length){case 0:At();break;case 1:At(rn[0]);break;case 2:At(rn[0],rn[1]);break;case 3:At(rn[0],rn[1],rn[2]);break;default:At.apply(me,rn)}}(st)}finally{be(ht),Pe=!1}}}}function Xe(ht){ht.source===Te&&"string"==typeof ht.data&&0===ht.data.indexOf(Ue)&&Le(+ht.data.slice(Ue.length))}}(typeof self>"u"?void 0===ye?this:ye:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}},oS=>{oS(oS.s=345)}]);